[{"tags": ["java", "kotlin", "javers"], "comments": [{"owner": {"reputation": 2828, "user_id": 4256260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w5bixeDgBtE/AAAAAAAAAAI/AAAAAAAAADE/Vqe4-6K7tiw/photo.jpg?sz=128", "display_name": "Bartek Walacik", "link": "https://stackoverflow.com/users/4256260/bartek-walacik"}, "edited": false, "score": 0, "creation_date": 1514974668, "post_id": 47999825, "comment_id": 83124257, "body": "I will take a look"}, {"owner": {"reputation": 2828, "user_id": 4256260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w5bixeDgBtE/AAAAAAAAAAI/AAAAAAAAADE/Vqe4-6K7tiw/photo.jpg?sz=128", "display_name": "Bartek Walacik", "link": "https://stackoverflow.com/users/4256260/bartek-walacik"}, "edited": false, "score": 0, "creation_date": 1514975700, "post_id": 47999825, "comment_id": 83124828, "body": "all test in HockeyComparatorTest are green, could you push a failing test which will show your expectations?"}, {"owner": {"reputation": 43, "user_id": 8517714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c783a5144f6edffa0e3a13ab0550a8b?s=128&d=identicon&r=PG&f=1", "display_name": "asuras", "link": "https://stackoverflow.com/users/8517714/asuras"}, "reply_to_user": {"reputation": 2828, "user_id": 4256260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w5bixeDgBtE/AAAAAAAAAAI/AAAAAAAAADE/Vqe4-6K7tiw/photo.jpg?sz=128", "display_name": "Bartek Walacik", "link": "https://stackoverflow.com/users/4256260/bartek-walacik"}, "edited": false, "score": 0, "creation_date": 1515079581, "post_id": 47999825, "comment_id": 83171802, "body": "Tests are failing for current commit <a href=\"https://github.com/alexander-schmidt/ihh/commit/e69b4d78a8f8004692bebd41de24cdc0952b914a\" rel=\"nofollow noreferrer\">github.com/alexander-schmidt/ihh/commit/&hellip;</a>. I moved the league-reference from the TeamGroup object back to the TeamGroupId object."}, {"owner": {"reputation": 2828, "user_id": 4256260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w5bixeDgBtE/AAAAAAAAAAI/AAAAAAAAADE/Vqe4-6K7tiw/photo.jpg?sz=128", "display_name": "Bartek Walacik", "link": "https://stackoverflow.com/users/4256260/bartek-walacik"}, "edited": false, "score": 0, "creation_date": 1515095141, "post_id": 47999825, "comment_id": 83180234, "body": "ok, i see the issue, hold on ..."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8517714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c783a5144f6edffa0e3a13ab0550a8b?s=128&d=identicon&r=PG&f=1", "display_name": "asuras", "link": "https://stackoverflow.com/users/8517714/asuras"}, "edited": false, "score": 0, "creation_date": 1515351656, "post_id": 48129312, "comment_id": 83258824, "body": "thanks for the help. Looks like this solves the problem. I changed my data structure to prevent cycles and have less problems with my initial data source. With the new structure I no longer have circles, but I couldn&#39;t check if your solution would have done the job."}], "tags": [], "owner": {"reputation": 2828, "user_id": 4256260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w5bixeDgBtE/AAAAAAAAAAI/AAAAAAAAADE/Vqe4-6K7tiw/photo.jpg?sz=128", "display_name": "Bartek Walacik", "link": "https://stackoverflow.com/users/4256260/bartek-walacik"}, "is_accepted": true, "score": 0, "last_activity_date": 1515255706, "creation_date": 1515255706, "answer_id": 48129312, "question_id": 47999825, "link": "https://stackoverflow.com/questions/47999825/javers-detects-changes-in-childs-if-simple-property-in-root-object-is-changed/48129312#48129312", "title": "JaVers detects changes in childs if simple property in root object is changed", "body": "<p>The problem is caused by wrong InstanceId values of your Entities.\nSince you have complex objects as Entity IDs, JaVers uses <code>reflectiveToString()</code> function to create String representations of IDs.\nIn your case, it produces really bad results, because you have cycles (ID has a reference to owning Entity).</p>\n\n<p>Fortunately, you can register a custom toString() function using <code>JaversBuider.registerValueWithCustomToString()</code> , for example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@TypeName(\"Entity\")\nclass Entity {\n    @Id Point id\n    String data\n}\n\nclass Point {\n    double x\n    double y\n\n    String myToString() {\n        \"(\"+ (int)x +\",\" +(int)y + \")\"\n    }\n}\n\ndef \"should use custom toString function for complex Id\"(){\n  given:\n  Entity entity = new Entity(id: new Point(x: 1/3, y: 4/3))\n\n  when: \"default reflectiveToString function\"\n  def javers = JaversBuilder.javers()\n          .build()\n  GlobalId id = javers.getTypeMapping(Entity).createIdFromInstance(entity)\n\n  then:\n  id.value() == \"Entity/0.3333333333,1.3333333333\"\n\n  when: \"custom toString function\"\n  javers = JaversBuilder.javers()\n          .registerValueWithCustomToString(Point, {it.myToString()})\n          .build()\n  id = javers.getTypeMapping(Entity).createIdFromInstance(entity)\n\n  then:\n  id.value() == \"Entity/(0,1)\"\n}\n</code></pre>\n\n<p>See also updated doc about Entity ID <a href=\"https://javers.org/documentation/domain-configuration/#entity-id\" rel=\"nofollow noreferrer\">https://javers.org/documentation/domain-configuration/#entity-id</a></p>\n"}], "owner": {"reputation": 43, "user_id": 8517714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c783a5144f6edffa0e3a13ab0550a8b?s=128&d=identicon&r=PG&f=1", "display_name": "asuras", "link": "https://stackoverflow.com/users/8517714/asuras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 48129312, "answer_count": 1, "score": 1, "last_activity_date": 1557993226, "creation_date": 1514417486, "last_edit_date": 1557993226, "question_id": 47999825, "link": "https://stackoverflow.com/questions/47999825/javers-detects-changes-in-childs-if-simple-property-in-root-object-is-changed", "title": "JaVers detects changes in childs if simple property in root object is changed", "body": "<p>I use Kotlin and I am trying to compare two complex objects (with multiple cycles) with JaVers. These objects use multiple Id-Properties. Therefore I created Id-Classes to have a single Id-Property for every class. In the Id-Classes I also use references to the root objects because I need to use them to create the primary key for my database.</p>\n\n<p>When I compare two objects with a single change in the root object, JaVers should only list one ValueChange. But instead JaVers finds 5 changes instead (NewObject-child, ObjectRemoved-child,ReferenceChanged-child,ListChange-root,ValueChanged-root).\nTrying to solve this issue, I updated my equals and hashCode methods for the child objects to check the id of the root object instead of the root object itself when calculating equality ==> <code>root1.childList == root2.childList</code> returns <code>true</code>.\nAny ideas how I can teach JaVers that no child object has changed?</p>\n\n<p>League.kt - root object</p>\n\n<pre><code>@Entity\ndata class League(@EmbeddedId val leagueId: LeagueId? = null,\n                  var name: String? = null,\n                  var region: String? = null,\n                  @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)\n                  var groups: List&lt;TeamGroup&gt;? = null,\n                  @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)\n                  var matchDays: List&lt;MatchDay&gt;? = null) : Serializable {\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as League\n\n        if (leagueId != other.leagueId) return false\n        if (name != other.name) return false\n        if (region != other.region) return false\n        if (groups?.map { it.teamGroupId }?.toSet() != other.groups?.map { it.teamGroupId }?.toSet()) return false\n        if (matchDays?.map { it.matchDayId }?.toSet() != other.matchDays?.map { it.matchDayId }?.toSet()) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = leagueId?.hashCode() ?: 0\n        result = 31 * result + (name?.hashCode() ?: 0)\n        result = 31 * result + (region?.hashCode() ?: 0)\n        result = 31 * result + (groups?.map { it.teamGroupId }?.toSet()?.hashCode() ?: 0)\n        result = 31 * result + (matchDays?.map { it.matchDayId }?.toSet()?.hashCode() ?: 0)\n        return result\n    }\n}\n</code></pre>\n\n<p>LeagueId.kt - root object Id</p>\n\n<pre><code>data class LeagueId(val season : String? = null, val abb : String? = null) : Serializable {\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as LeagueId\n\n        if (season != other.season) return false\n        if (abb != other.abb) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = season?.hashCode() ?: 0\n        result = 31 * result + (abb?.hashCode() ?: 0)\n        return result\n    }\n}\n</code></pre>\n\n<p>TeamGroup.kt - child object</p>\n\n<pre><code>@Entity\ndata class TeamGroup(@EmbeddedId val teamGroupId: TeamGroupId? = null,\n                     val name: String? = null,\n                     val mode: String? = null,\n                     val tableMode: Int? = null,\n                     @OneToMany(mappedBy = \"group\", cascade = [CascadeType.ALL], orphanRemoval = true)\n                     var teams: List&lt;Team&gt;? = null,\n                     @OneToMany(mappedBy = \"group\", cascade = [CascadeType.ALL], orphanRemoval = true)\n                     var matches: List&lt;Match&gt;? = null,\n                     var remarks: String? = null,\n                     @OneToMany(cascade = [CascadeType.ALL], orphanRemoval = true)\n                     var rows: List&lt;Row&gt;? = null) : Serializable {\n\n    override fun toString(): String {\n        return \"TeamGroup(id=${teamGroupId?.id}, nr=${teamGroupId?.nr}, name=$name, mode=$mode, \" +\n                \"tableMode=$tableMode, teams=$teams, matches=$matches, remarks=$remarks, rows=$rows, \" +\n                \"league=${teamGroupId?.league?.leagueId?.season}-${teamGroupId?.league?.leagueId?.abb})\"\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as TeamGroup\n\n        if (teamGroupId != other.teamGroupId) return false\n        if (name != other.name) return false\n        if (mode != other.mode) return false\n        if (tableMode != other.tableMode) return false\n        if (teams?.map{it.id}?.toSet() != other.teams?.map{it.id}?.toSet()) return false\n        if (matches?.map{it.matchId}?.toSet() != other.matches?.map{it.matchId}?.toSet()) return false\n        if (remarks != other.remarks) return false\n        if (rows?.map{it.rowId}?.toSet() != other.rows?.map{it.rowId}?.toSet()) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = teamGroupId?.hashCode() ?: 0\n        result = 31 * result + (name?.hashCode() ?: 0)\n        result = 31 * result + (mode?.hashCode() ?: 0)\n        result = 31 * result + (tableMode ?: 0)\n        result = 31 * result + (teams?.map{it.id}?.toSet()?.hashCode() ?: 0)\n        result = 31 * result + (matches?.map{it.matchId}?.toSet()?.hashCode() ?: 0)\n        result = 31 * result + (remarks?.hashCode() ?: 0)\n        result = 31 * result + (rows?.map{it.rowId}?.toSet()?.hashCode() ?: 0)\n        return result\n    }\n}\n</code></pre>\n\n<p>TeamGroupId.kt - child object id</p>\n\n<pre><code>data class TeamGroupId(@ManyToOne val league: League? = null, val id : Int? = null, val nr : Int? = null) : Serializable {\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as TeamGroupId\n\n        if (league?.leagueId != other.league?.leagueId) return false\n        if (id != other.id) return false\n        if (nr != other.nr) return false\n\n        return true\n    }\n\n    override fun hashCode(): Int {\n        var result = league?.leagueId?.hashCode() ?: 0\n        result = 31 * result + (id ?: 0)\n        result = 31 * result + (nr ?: 0)\n        return result\n    }\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>The problem is the reference to the root object within the id of the child object. If I remove this reference from the id and move to the object itself only one change is detected by JaVers. Due to my data model I am not sure if I can remove this references in every id object. @DiffIgnore is not working within the Id-Property because it is handled as a ValueObject.</p>\n"}, {"tags": ["android", "kotlin", "android-ndk", "64-bit"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 3, "creation_date": 1514414641, "post_id": 47999434, "comment_id": 82967443, "body": "You should understand it exactly as it is written. If your app isn&#39;t using native code, then it is not affected (nothing changes). A Google search on <i>What is Android Native Code?</i> explains what it is; if you&#39;re not using it, you don&#39;t need to do anything."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 2, "last_activity_date": 1514418040, "creation_date": 1514418040, "answer_id": 47999873, "question_id": 47999434, "link": "https://stackoverflow.com/questions/47999434/requirements-for-supporting-the-64bit-apps/47999873#47999873", "title": "Requirements for supporting the 64bit apps", "body": "<p>Native code refers to C and C++ (I think C# as well, but Android doesn't support that through the NDK). Those languages are accessed through JNI as natives. Since these are native languages, there are some platform differences. Native languages on desktop devices (windows, mac, linux, etc) usually have natives by os and system architecture (e.g. windows 64 bit). Since android is a single unified system, adding support for windows in your android natives isn't an option. But android natives need support for the core architectures (e.g. x86 and ARM, IIRC there's another set of natives, and support for 32 and 64 bit of those)</p>\n\n<p>If you don't use natives (you use Java or Kotlin, looking aside any libraries that add natives) you don't need to worry about that.</p>\n"}], "owner": {"reputation": 811, "user_id": 2315037, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/807aa53daea17c90ed89a68641aff682?s=128&d=identicon&r=PG", "display_name": "Sergey V.", "link": "https://stackoverflow.com/users/2315037/sergey-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 47999873, "answer_count": 1, "score": -1, "last_activity_date": 1560072005, "creation_date": 1514414225, "last_edit_date": 1560072005, "question_id": 47999434, "link": "https://stackoverflow.com/questions/47999434/requirements-for-supporting-the-64bit-apps", "title": "Requirements for supporting the 64bit apps", "body": "<p>Could somebody explain what does it mean for existing Android 32bit apps?\nWhat should we change or what should we add to the code?</p>\n\n<p>What should I do if my app doesn't use the NDK and any third party libs? I mean, how I should understand a phrase \"Apps that do not include native code are unaffected.\"?</p>\n\n<p>Sorry, if question is stupid but I never coding with 64bit requirements. So I'm in prostration.</p>\n"}, {"tags": ["java", "android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 0, "last_activity_date": 1514415657, "last_edit_date": 1514415657, "creation_date": 1514413431, "answer_id": 47999340, "question_id": 47999295, "link": "https://stackoverflow.com/questions/47999295/dagger-2-share-object-instance-between-presenters/47999340#47999340", "title": "Dagger 2 share object instance between presenters", "body": "<p>You can either use the <code>@Singleton</code> annotation if you want the instance to be the same for your whole application. \nOr you can create your own scope, for example <code>@ActivityScope</code> to create instances that are 'singletons' to one activity. \n<a href=\"https://android.jlelse.eu/dagger-2-part-i-basic-principles-graph-dependencies-scopes-3dfd032ccd82\" rel=\"nofollow noreferrer\">This</a> should give you a good starting point. </p>\n"}], "owner": {"reputation": 790, "user_id": 4745989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6643e04a849e22e6d40b92548559e07?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Niekirk", "link": "https://stackoverflow.com/users/4745989/charlie-niekirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514415657, "creation_date": 1514413109, "question_id": 47999295, "link": "https://stackoverflow.com/questions/47999295/dagger-2-share-object-instance-between-presenters", "title": "Dagger 2 share object instance between presenters", "body": "<p>I am developing an application that has a few services, including a <code>FirebaseAuthService</code>.  I would like to have the same <code>FirebaseAuthService</code> instance in all of my presenters (for each activity).  How would I go about doing this?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1514681862, "post_id": 48016831, "comment_id": 83048645, "body": "That doesn&#39;t make any difference."}, {"owner": {"reputation": 331, "user_id": 9101749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOrg3.png?s=128&g=1", "display_name": "Mumi", "link": "https://stackoverflow.com/users/9101749/mumi"}, "reply_to_user": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1514776009, "post_id": 48016831, "comment_id": 83065365, "body": "Sorry that I return wrong type of  injected members. How about try this one?"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1514777924, "post_id": 48016831, "comment_id": 83065550, "body": "Thanks, this works. Would you mind updating your answer with a short explanation of why this particular dependency needs to be declared like this, or provide a link to relevant info?"}], "tags": [], "owner": {"reputation": 331, "user_id": 9101749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOrg3.png?s=128&g=1", "display_name": "Mumi", "link": "https://stackoverflow.com/users/9101749/mumi"}, "is_accepted": true, "score": 2, "last_activity_date": 1514779133, "last_edit_date": 1514779133, "creation_date": 1514515869, "answer_id": 48016831, "question_id": 47998993, "link": "https://stackoverflow.com/questions/47998993/dagger2-dependent-components/48016831#48016831", "title": "Dagger2 dependent components", "body": "<p>When using dependencies, dagger will use that component to inject member.<br>\nParent component must explicitly declare objects which can be used in child components.</p>\n\n<pre><code>@Component(modules = [AppModule::class, /* other stuff */, ViewModelModule::class])\n@ApplicationScope  \ninterface AppComponent {\n   fun inject(app: Application)\n\n   fun viewModelFactory(): ViewModelProvider.Factory\n\n   fun viewModel(): ViewModel\n}\n</code></pre>\n\n<p>You can take a look at this article:\n<a href=\"https://proandroiddev.com/dagger-2-part-ii-custom-scopes-component-dependencies-subcomponents-697c1fa1cfc\" rel=\"nofollow noreferrer\">https://proandroiddev.com/dagger-2-part-ii-custom-scopes-component-dependencies-subcomponents-697c1fa1cfc</a></p>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 48016831, "answer_count": 1, "score": 1, "last_activity_date": 1514779133, "creation_date": 1514411003, "question_id": 47998993, "link": "https://stackoverflow.com/questions/47998993/dagger2-dependent-components", "title": "Dagger2 dependent components", "body": "<p>In my app I have a component with Application scope (same as Singleton) that provides a ViewModel Factory, and a dependent component with Activity scope that injects the factory in a fragment.</p>\n\n<p>The application component is defined as follows:</p>\n\n<pre><code>@Component(modules = [AppModule::class, /* other stuff */, ViewModelModule::class])\n\n@ApplicationScope\ninterface AppComponent {\n    fun inject(app: Application)\n\n    /* other stuff */\n\n    val viewModelFactory: ViewModelFactory\n}\n</code></pre>\n\n<p>The view model module is defined as follows:</p>\n\n<pre><code>@ApplicationScope\n@Module\nabstract class ViewModelModule {\n    @Binds\n    abstract fun bindViewModelFactory(viewModelFactory: ViewModelFactory): ViewModelProvider.Factory\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(DisplayEntryViewModelImpl::class)\n    abstract fun bindDisplayEntryViewModel(displayEntryViewModelImpl: DisplayEntryViewModelImpl): ViewModel\n}\n</code></pre>\n\n<p>The activity scope component is defined as follows:</p>\n\n<pre><code>@Component(dependencies = [AppComponent::class], modules = [DisplayEntryActivityModule::class])\n\n@ActivityScope\ninterface DisplayEntryActivityComponent {\n    fun inject(displayEntryActivity: DisplayEntryActivity)\n    fun inject(displayEntryFragment: DisplayEntryFragment)\n}\n</code></pre>\n\n<p>When I try to inject the viewmodel factory in the fragment I get this error:</p>\n\n<pre><code>error: android.arch.lifecycle.ViewModelProvider.Factory cannot be provided without an @Provides- or @Produces-annotated method.\n</code></pre>\n\n<p>If I update the activity component to include the view model module, like this</p>\n\n<pre><code>@Component(dependencies = [AppComponent::class], modules = [DisplayEntryActivityModule::class, ViewModelModule::class])\n\n@ActivityScope\ninterface DisplayEntryActivityComponent {\n    fun inject(displayEntryActivity: DisplayEntryActivity)\n    fun inject(displayEntryFragment: DisplayEntryFragment)\n}\n</code></pre>\n\n<p>Then it compiles. My understanding is that dependent components have access to the injected members from the parent component if the parent component explicitly provides those members, as I do here with the</p>\n\n<pre><code> val viewModelFactory: ViewModelFactory\n</code></pre>\n\n<p>so why do I still need to provide the viewmodel module in the activity scope component?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514529209, "post_id": 47998522, "comment_id": 83005784, "body": "configuration &amp; setup looks good, what version of intellij are you using? is it the latest?"}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514529303, "post_id": 47998522, "comment_id": 83005804, "body": "also, try adding <code>apply plugin: &#39;application&#39;</code> and <code>mainClassName = &#39;MainKt&#39;</code> to your gradle configuration and see if you can run it with <code>.&#47;gradlew run</code> (or <code>gradlew.bat run</code> on windows)"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514536835, "post_id": 47998522, "comment_id": 83008516, "body": "IDEA 2017.3 If I execute build and run tasks from Gradle pane, they are succeed. The problem occurs if I try to compile or run using buttons in toolbar. Your suggestion, unfortunately, doesn&#39;t help."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514542928, "post_id": 47998522, "comment_id": 83011038, "body": "Hm I&#39;m also using idea 2017.3 with no problems, maybe your gradle version is too old? Latest version 4.4 works for me"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 1, "creation_date": 1514544121, "post_id": 47998522, "comment_id": 83011574, "body": "Tried 4.0 and 4.4, doesn&#39;t matter. Created issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-184404\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-184404</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514410689, "post_id": 47998818, "comment_id": 82966297, "body": "I need compiled mode. In fact I have &#39;Test.kt&#39; file with &#39;main&#39; function only inside, and want to run it. But if I choice &#39;Kotlin&#39; configuration, what &#39;Main class&#39; should I point to?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514410804, "post_id": 47998818, "comment_id": 82966340, "body": "The main kotlin file (I think you called it <code>Desktoplauncher.kt</code>), although you should see a K in the margin by the main method that will create the profile automatically"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514411622, "post_id": 47998818, "comment_id": 82966631, "body": "You right, file name is DesktopLauncher.kt. Thank you for tip about K in the margin, didn&#39;t knew that! The profile is created with DesktopLauncherKt as main class, but running it still error: Error: Could not find or load main class DesktopLauncherKt"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514411799, "post_id": 47998818, "comment_id": 82966674, "body": "Was that with the K or not? The K should work and set all the parameters automatically"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514412997, "post_id": 47998818, "comment_id": 82967006, "body": "Now got another problem :( Have updated my post to clarify the problem."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514414455, "post_id": 47998818, "comment_id": 82967401, "body": "Have you changed anything about your project from the default settings?"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "edited": false, "score": 0, "creation_date": 1514415029, "post_id": 47998818, "comment_id": 82967555, "body": "No, didn&#39;t touch anything."}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 0, "last_activity_date": 1514413638, "last_edit_date": 1514413638, "creation_date": 1514409871, "answer_id": 47998818, "question_id": 47998522, "link": "https://stackoverflow.com/questions/47998522/kotlin-run-debug-configuration/47998818#47998818", "title": "Kotlin Run/Debug configuration", "body": "<p><em>This answer relates to an earlier version of the question, which was about confusion between scripting and compiled Kotlin.</em></p>\n\n<h1>The problem</h1>\n\n<p>You are trying to run a Kotlin file designed for compiled mode in scripting mode.</p>\n\n<h1>General Info</h1>\n\n<h2>Script mode</h2>\n\n<p>Scripts look like this:</p>\n\n<pre><code>val a = 8\nprintln(a)\n</code></pre>\n\n<p>They also usually have the extension <code>.kts</code>, which is why you had issues with the file picker.</p>\n\n<h2>Compiled mode</h2>\n\n<p>Whereas what you wrote looks like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a = 8\n    println(8)\n}\n</code></pre>\n\n<p>These files normally have the extension <code>.kt</code></p>\n\n<h1>Solution</h1>\n\n<p>You need to decide which mode you want to use, and use the appropriate file name and format for the file.</p>\n"}], "owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1099, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1514413638, "creation_date": 1514407967, "last_edit_date": 1514412947, "question_id": 47998522, "link": "https://stackoverflow.com/questions/47998522/kotlin-run-debug-configuration", "title": "Kotlin Run/Debug configuration", "body": "<p>Have created simple Kotlin project in IDEA, with only <code>Main.kt</code> file</p>\n\n<p><a href=\"https://i.stack.imgur.com/yYcOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYcOm.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I have pressed K in margin to left of 'main', Run/Debug congiguration automatically was created</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mwy5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mwy5N.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when I run this configuration, I got error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bSSE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bSSE4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Invalidate IDEA cache and restart does not help.</p>\n\n<p>Please suggest how can I run <code>Main.kt</code>?</p>\n"}, {"tags": ["maven", "jar", "kotlin", "executable-jar", "resource-files"], "answers": [{"tags": [], "owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "is_accepted": false, "score": 0, "last_activity_date": 1514597589, "creation_date": 1514597589, "answer_id": 48030143, "question_id": 47997750, "link": "https://stackoverflow.com/questions/47997750/kotlin-maven-executable-jar-without-source-files/48030143#48030143", "title": "Kotlin (Maven) - executable JAR without source files", "body": "<p>Try to define sources set exactly as described <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"nofollow noreferrer\">here</a>, outside <code>&lt;configuration&gt;</code></p>\n"}], "owner": {"reputation": 135, "user_id": 8097911, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0b018294584d240980037ebe962b9533?s=128&d=identicon&r=PG&f=1", "display_name": "mrdlink", "link": "https://stackoverflow.com/users/8097911/mrdlink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1668, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1514597589, "creation_date": 1514403660, "question_id": 47997750, "link": "https://stackoverflow.com/questions/47997750/kotlin-maven-executable-jar-without-source-files", "title": "Kotlin (Maven) - executable JAR without source files", "body": "<p><br>\nI wanted to create an executable kotlin jar file with maven. But somehow the kotlin source files are packed with the jar. I configured the kotlin plugin and the maven assembly plugin to create a self-contained jar. Here are the dependencies and plugins of my pom:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.basedir&gt;.&lt;/project.basedir&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;kotlin.version&gt;1.2.0&lt;/kotlin.version&gt;\n    &lt;kotlin.coroutines.version&gt;0.20&lt;/kotlin.coroutines.version&gt;\n    &lt;main.class&gt;server.RunKt&lt;/main.class&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- Kryonet dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.esotericsoftware&lt;/groupId&gt;\n        &lt;artifactId&gt;kryonet&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0-RC1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- RxJava dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.reactivex.rxjava2&lt;/groupId&gt;\n        &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- Kotlin dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlinx-coroutines-core&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.coroutines.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sourceDirs&gt;\n                    &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                &lt;/sourceDirs&gt;\n                &lt;experimentalCoroutines&gt;enable&lt;/experimentalCoroutines&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;single&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The jar runs fine, but I just don't want the kotlin source files to be packed with the jar. How do I achieve that?</p>\n"}, {"tags": ["android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 713, "user_id": 1148137, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ZiIUV.jpg?s=128&g=1", "display_name": "SeikoTheWiz", "link": "https://stackoverflow.com/users/1148137/seikothewiz"}, "edited": false, "score": 0, "creation_date": 1515163492, "post_id": 47997539, "comment_id": 83207781, "body": "This seems to be bug new bug, please check: <a href=\"https://stackoverflow.com/questions/47524032/webview-shows-error-didnt-find-class-android-webkit-renderprocessgonedetail\" title=\"webview shows error didnt find class android webkit renderprocessgonedetail\">stackoverflow.com/questions/47524032/&hellip;</a>"}, {"owner": {"reputation": 5060, "user_id": 393809, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a5f76ea52931b394b41f10bd0273fca5?s=128&d=identicon&r=PG", "display_name": "Karoly", "link": "https://stackoverflow.com/users/393809/karoly"}, "edited": false, "score": 0, "creation_date": 1521228678, "post_id": 47997539, "comment_id": 85658275, "body": "I have the same issue with CordovaAndorid library on every Android  7.0+. This is the API level where this class got added. Any update on this?"}], "owner": {"reputation": 51, "user_id": 6193772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cvGiJz2bFKs/AAAAAAAAAAI/AAAAAAAAAvY/yv93FDE9m8g/photo.jpg?sz=128", "display_name": "Sergey Lapin", "link": "https://stackoverflow.com/users/6193772/sergey-lapin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3275, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1514402396, "creation_date": 1514402396, "question_id": 47997539, "link": "https://stackoverflow.com/questions/47997539/android-webview-doesnt-load-specific-url", "title": "Android WebView doesn&#39;t load specific URL", "body": "<p>I'm doing a small webcam viewer application and I encountered a following problem: some of the URLs are loading totally fine and one specific type isn't loading and by Logcat I can't understand why...</p>\n\n<p>I'm writing this app in Kotlin, so wv_main is just a synthetic link to a <em>WebView</em> that is located inside <em>FrameLayout</em> inside <strong>activity_web_view.xml</strong>. The following is the code of my <strong>onCreate</strong>:</p>\n\n<pre><code>super.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_web_view)\n\nval wv = wv_main\n\nwv.settings.javaScriptEnabled = true\nwv.settings.domStorageEnabled = true\nif (Build.VERSION.SDK_INT &gt;= 21)\n    wv.settings.mixedContentMode = WebSettings.MIXED_CONTENT_ALWAYS_ALLOW\nwv.webChromeClient = WebChromeClient()\nwv.webViewClient = WebViewClient()\nwv.loadUrl(intent.getStringExtra(\"link\"))\n</code></pre>\n\n<p>For example if I pass into this activity following URL:\n<a href=\"https://api.lookr.com/embed/player/1485691420/day\" rel=\"nofollow noreferrer\">https://api.lookr.com/embed/player/1485691420/day</a>\nThen it will be perfectly interpreted and opened correctly.\nBut if I pass, for example, something like this:\n<a href=\"https://api.lookr.com/embed/player/1485691420/live\" rel=\"nofollow noreferrer\">https://api.lookr.com/embed/player/1485691420/live</a>\nThen I don't get like an error that closes an app, but instead something that looks like WebView's internal error:</p>\n\n<pre><code>Rejecting re-init on previously-failed class     java.lang.Class&lt;com.android.webview.chromium.eb&gt;:java.lang.NoClassDefFoundError: Failed resolution of: Landroid/webkit/RenderProcessGoneDetail;\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at com.android.webview.chromium.Ap com.android.webview.chromium.WebViewChromiumFactoryProvider.G(android.webkit.WebView, android.content.Context) (WebViewChromiumFactoryProvider.java:323)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void com.android.webview.chromium.WebViewChromium.init(java.util.Map, boolean) (WebViewChromium.java:42)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int, java.util.Map, boolean) (WebView.java:636)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (WebView.java:572)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int) (WebView.java:555)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet) (WebView.java:542)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Constructor.newInstance0!(java.lang.Object[]) (Constructor.java:-2)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[]) (Constructor.java:430)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createView(java.lang.String, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:645)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View com.android.internal.policy.PhoneLayoutInflater.onCreateView(java.lang.String, android.util.AttributeSet) (PhoneLayoutInflater.java:58)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.onCreateView(android.view.View, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:717)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:785)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet) (LayoutInflater.java:727)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.view.LayoutInflater.rInflate(org.xmlpull.v1.XmlPullParser, android.view.View, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:858)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at void android.view.LayoutInflater.rInflateChildren(org.xmlpull.v1.XmlPullParser, android.view.View, android.util.AttributeSet, boolean) (LayoutInflater.java:821)\n12-27 18:52:08.012 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(org.xmlpull.v1.XmlPullParser, android.view.ViewGroup, boolean) (LayoutInflater.java:518)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(int, android.view.ViewGroup, boolean) (LayoutInflater.java:426)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(int, android.view.ViewGroup) (LayoutInflater.java:377)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.support.v7.app.AppCompatDelegateImplV9.setContentView(int) (AppCompatDelegateImplV9.java:287)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.support.v7.app.AppCompatActivity.setContentView(int) (AppCompatActivity.java:139)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.example.elber.webcams.WebViewActivity.onCreate(android.os.Bundle) (WebViewActivity.kt:16)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.Activity.performCreate(android.os.Bundle) (Activity.java:6662)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.Instrumentation.callActivityOnCreate(android.app.Activity, android.os.Bundle) (Instrumentation.java:1118)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2599)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2707)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1460)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.os.Looper.loop() (Looper.java:154)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6077)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:866)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:756)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art: Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.webkit.RenderProcessGoneDetail\" on path: DexPathList[[zip file \"/data/app/com.android.chrome-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.android.chrome-1/lib/x86, /data/app/com.android.chrome-1/base.apk!/lib/x86, /system/lib, /vendor/lib]]\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:56)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:380)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at com.android.webview.chromium.Ap com.android.webview.chromium.WebViewChromiumFactoryProvider.G(android.webkit.WebView, android.content.Context) (WebViewChromiumFactoryProvider.java:323)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.android.webview.chromium.WebViewChromium.init(java.util.Map, boolean) (WebViewChromium.java:42)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int, java.util.Map, boolean) (WebView.java:636)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int, int) (WebView.java:572)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet, int) (WebView.java:555)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.webkit.WebView.&lt;init&gt;(android.content.Context, android.util.AttributeSet) (WebView.java:542)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Constructor.newInstance0!(java.lang.Object[]) (Constructor.java:-2)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[]) (Constructor.java:430)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createView(java.lang.String, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:645)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View com.android.internal.policy.PhoneLayoutInflater.onCreateView(java.lang.String, android.util.AttributeSet) (PhoneLayoutInflater.java:58)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.onCreateView(android.view.View, java.lang.String, android.util.AttributeSet) (LayoutInflater.java:717)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:785)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.createViewFromTag(android.view.View, java.lang.String, android.content.Context, android.util.AttributeSet) (LayoutInflater.java:727)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.view.LayoutInflater.rInflate(org.xmlpull.v1.XmlPullParser, android.view.View, android.content.Context, android.util.AttributeSet, boolean) (LayoutInflater.java:858)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.view.LayoutInflater.rInflateChildren(org.xmlpull.v1.XmlPullParser, android.view.View, android.util.AttributeSet, boolean) (LayoutInflater.java:821)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(org.xmlpull.v1.XmlPullParser, android.view.ViewGroup, boolean) (LayoutInflater.java:518)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(int, android.view.ViewGroup, boolean) (LayoutInflater.java:426)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.view.View android.view.LayoutInflater.inflate(int, android.view.ViewGroup) (LayoutInflater.java:377)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.support.v7.app.AppCompatDelegateImplV9.setContentView(int) (AppCompatDelegateImplV9.java:287)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.support.v7.app.AppCompatActivity.setContentView(int) (AppCompatActivity.java:139)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.example.elber.webcams.WebViewActivity.onCreate(android.os.Bundle) (WebViewActivity.kt:16)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.Activity.performCreate(android.os.Bundle) (Activity.java:6662)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.Instrumentation.callActivityOnCreate(android.app.Activity, android.os.Bundle) (Instrumentation.java:1118)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2599)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2707)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1460)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.os.Looper.loop() (Looper.java:154)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6077)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:866)\n12-27 18:52:08.013 10385-10385/com.example.elber.webcams I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:756)\n12-27 18:52:08.057 10385-10462/com.example.elber.webcams W/cr_media: Requires BLUETOOTH permission\n12-27 18:52:08.118 10385-10477/com.example.elber.webcams E/libEGL: validate_display:99 error 3008 (EGL_BAD_DISPLAY)\n12-27 18:52:08.126 10385-10385/com.example.elber.webcams W/art: Attempt to remove non-JNI local reference, dumping thread\n12-27 18:52:08.129 10385-10410/com.example.elber.webcams D/EGL_emulation: eglMakeCurrent: 0xb6a85120: ver 2 0 (tinfo 0xb6a836b0)\n12-27 18:52:08.157 10385-10477/com.example.elber.webcams I/VideoCapabilities: Unsupported profile 4 for video/mp4v-es\n12-27 18:52:08.161 10385-10477/com.example.elber.webcams W/cr_MediaCodecUtil: HW encoder for video/avc is not available on this device.\n12-27 18:52:08.167 10385:10477 D/HostConnection::get() New Host Connection established 0x938ead40, tid 10477\n12-27 18:52:08.167 10385-10477/com.example.elber.webcams E/chromium: [ERROR:gl_surface_egl.cc(292)] eglChooseConfig failed with error EGL_SUCCESS\n</code></pre>\n\n<p>I got the same error on emulator and on OnePlus3T, running Oreo.</p>\n\n<p>What could be an issue? For example I took a look at Telegram's WebViewActivity code and, basically, it's the same, but in Telegram both of these links are opening without any problems, whereas in my app only one...</p>\n"}, {"tags": ["c#", "kotlin"], "comments": [{"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "edited": false, "score": 2, "creation_date": 1514389660, "post_id": 47994790, "comment_id": 82957885, "body": "btw why is this &quot;too broad&quot;? If I were to ask &quot;what is kotlin to c#?&quot; yeah that&#39;s too broad. but I ask about one specific feature from the two that are quite akin."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1514390623, "post_id": 47994790, "comment_id": 82958321, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/structs\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>    <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/data-classes.html</a>"}, {"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1514391082, "post_id": 47994790, "comment_id": 82958540, "body": "@Amy now jokes aside, could you tell me e.g. that a kotlin data class is a reference or a value type for example? and other stuff I&#39;m not aware of when I want to use a data class like a struct?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1514401229, "post_id": 47994790, "comment_id": 82962755, "body": "I have no idea why you think my last comment was an attempt at humor.  Is documentation funny to you?  Where else would you expect to look to learn how two things are similar/different?"}, {"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1514401550, "post_id": 47994790, "comment_id": 82962866, "body": "kotlin is new, so the docs are a bit incomplete. I would learn from those who have experience with the features, used both of them as you might see in the answer I got, there is something mentioned in the answer that was missing from the docs. for comparison it would make sense if the two was written by the same person and just throwing the two docs (which I obviously looked for in the first place) is yes, kind of funny."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1514401741, "post_id": 47994790, "comment_id": 82962947, "body": "&quot;which I obviously looked for in the first place&quot;  Sorry, there is nothing obvious about this in your question.  It&#39;s actually quite the opposite.  I wouldn&#39;t have linked the docs to you if you had quoted the actual docs, demonstrating (and making it <i>obvious</i>) that you had referenced the docs.  If you consider it obvious that anyone would look at the docs before asking questions on SO, then I have a bridge to sell you."}, {"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1514401854, "post_id": 47994790, "comment_id": 82962985, "body": "that&#39;s fair, but I&#39;ve been using SO for a while now, my rep is low, but not like 10 or 20. I know I&#39;m expected to look for stuff to find out if it&#39;s written somewhere else so I did just that (after watching my tutorial for kotlin)"}, {"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1514401992, "post_id": 47994790, "comment_id": 82963042, "body": "Your last sentence though, fair enough :("}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1514402103, "post_id": 47994790, "comment_id": 82963085, "body": "You&#39;re interested in my bridge?!  <i>nervous excitement intensifies</i>"}], "answers": [{"comments": [{"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "edited": false, "score": 0, "creation_date": 1514397363, "post_id": 47995851, "comment_id": 82961204, "body": "So when I have a <code>data class</code> named DC, and I create <code>a:DC = ...; b:DC = a</code> that <b>doesn&#39;t</b> copy the content (like C# struct does), allocating additional memory for the members? and if I need a copy I have to use Kotlin auto implemented <code>copy</code>?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "edited": false, "score": 1, "creation_date": 1514402242, "post_id": 47995851, "comment_id": 82963148, "body": "That&#39;s correct, it only copies the reference stored in <code>a</code> to a new variable <code>b</code>, the instance is the same. To copy the instance, use the generated <code>copy</code>."}, {"owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "edited": false, "score": 0, "creation_date": 1514402395, "post_id": 47995851, "comment_id": 82963211, "body": "Now that&#39;s a critical point right there. Btw I checked your profile to see your Kotlin related expertise and I got answer from the top :D You did good with kotlin. It will be interesting to see its impact (already widespread Java gets a C# overhaul - just with way less typing)."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 13, "last_activity_date": 1514434928, "last_edit_date": 1514434928, "creation_date": 1514393587, "answer_id": 47995851, "question_id": 47994790, "link": "https://stackoverflow.com/questions/47994790/kotlins-data-class-cs-struct/47995851#47995851", "title": "Kotlin&#39;s data class == C#&#39;s struct?", "body": "<p>The main difference between Kotlin data classes and C# structs is that the Kotlin data classes are still <em>classes</em>, they are passed by reference (a referential type, speaking in terms of C#) and stored in the same heap with other objects (not taking possible JVM optimizations into account) instead of the stack, in the same form as the other objects.</p>\n\n<p>The copy and equality check implementations for data classes are just generated into the methods of the class and are called as instance methods in a JVM-natural way.</p>\n\n<p>Some limitations that the data classes have in common with structs are caused by a different reason: for example, data classes are final because of unclear semantics of the auto-generated functions that would come from data class inheritance.</p>\n"}, {"tags": [], "owner": {"reputation": 10169, "user_id": 2470524, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/30572a95a69e05b8c921c1ac6672cb63?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/2470524/fred"}, "is_accepted": false, "score": 2, "last_activity_date": 1560359604, "creation_date": 1560359604, "answer_id": 56567330, "question_id": 47994790, "link": "https://stackoverflow.com/questions/47994790/kotlins-data-class-cs-struct/56567330#56567330", "title": "Kotlin&#39;s data class == C#&#39;s struct?", "body": "<p>Structs in C# can always be created without parameters even if they have a constructor, while data classes in Kotlin requires a parameterized constructor.</p>\n\n<blockquote>\n  <p>To ensure consistency and meaningful behavior of the generated code, data classes have to fulfill the following requirements:</p>\n  \n  <ul>\n  <li>The primary constructor needs to have at least one parameter;</li>\n  </ul>\n  \n  <p>...</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/data-classes.html</a></p>\n"}], "owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4836, "favorite_count": 2, "accepted_answer_id": 47995851, "answer_count": 2, "score": 11, "last_activity_date": 1560359604, "creation_date": 1514388939, "question_id": 47994790, "link": "https://stackoverflow.com/questions/47994790/kotlins-data-class-cs-struct", "title": "Kotlin&#39;s data class == C#&#39;s struct?", "body": "<p>I used C# before and there we can define a <code>struct</code> which will be a value type. I'm learning Kotlin now and as far as I know kotlin <code>data-class</code> compares by value, can copy by value etc. Found some discussions online about this but it wasn't straightforward and I'd like someone skilled in C# and Kotlin to clear this up: can I interpret Kotlin's <code>data class</code> like a C# <code>struct</code> and call it a day? If no, what are the differences? </p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 11916, "user_id": 737925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/mHaKl.jpg?s=128&g=1", "display_name": "Mohammad Ersan", "link": "https://stackoverflow.com/users/737925/mohammad-ersan"}, "edited": false, "score": 0, "creation_date": 1527385305, "post_id": 47994644, "comment_id": 88107452, "body": "make fun delete returns Int, <code>fun delete(logpoint: UserLogpoint) : Int</code>, and check if it works"}], "answers": [{"tags": [], "owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "is_accepted": false, "score": 0, "last_activity_date": 1514392119, "creation_date": 1514392119, "answer_id": 47995500, "question_id": 47994644, "link": "https://stackoverflow.com/questions/47994644/room-persistance-library-crashes-with-fatal-isgnal-11-sigegv-on-insert-and-de/47995500#47995500", "title": "Room Persistance Library crashes with fatal isgnal 11 (SIGEGV ) on insert and delete", "body": "<p>Sorry for was in your time guys. As you may have already guessed, the problem was in something else.</p>\n\n<p>The problem was in the object's classes themselves. Because room cannot parse objects that are unknown to him, he cannot parse them. Therefore i placed a converted that did just that like so:</p>\n\n<pre><code>@TypeConverter\nfun cast2(location: String) = Utils.General.deserializeFromJson(location,Location::class.java)\n\n@TypeConverter\nfun cast1(location: Location) = Utils.General.serializeToJson(location)\n</code></pre>\n\n<p>But this doesn't work because i cannot serialize a location this way and the error i get is the one you see above.</p>\n"}], "owner": {"reputation": 345, "user_id": 3163792, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1560787841/picture?type=large", "display_name": "Pavle37", "link": "https://stackoverflow.com/users/3163792/pavle37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514392119, "creation_date": 1514388319, "last_edit_date": 1514389008, "question_id": 47994644, "link": "https://stackoverflow.com/questions/47994644/room-persistance-library-crashes-with-fatal-isgnal-11-sigegv-on-insert-and-de", "title": "Room Persistance Library crashes with fatal isgnal 11 (SIGEGV ) on insert and delete", "body": "<p>I have been trying to use room database in my project, but it has been crashing so far, and i cannot determine what the reason is...</p>\n\n<p>Here is my case:</p>\n\n<p>When a user takes a logpoint in a dialog and presses ok, then this fucntion is called</p>\n\n<pre><code>fun manualOkClicked() {\n    /*Check if all fields are valid ( if they are, location is created and folderId is saved )*/\n    if (logpoint.canCreateLocation(context) &amp;&amp; logpoint.canSelectFolder(view?.getSelectedFolder())) {\n        DataSource.saveLogpoint(logpoint)\n    }\n}\n</code></pre>\n\n<p>Here is how i save the logpoint:</p>\n\n<pre><code>fun saveLogpoint(logpoint: UserLogpoint) {\n     Thread({\n         mydb.logpointDao().insert(logpoint)\n     }).start()\n}\n</code></pre>\n\n<p>And my app crashes with this log:</p>\n\n<pre><code>12-27 16:17:31.108 17932-17941/com.example.myproject.debug A/libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x61724474 in tid 17941 (FinalizerDaemon)\n\n                                                                  [ 12-27 16:17:31.109  2247: 2247 W/         ]\n                                                                  debuggerd: handling request: pid=17932 uid=10145 gid=10145 tid=17941\n12-27 16:17:31.120 2379-2379/? E/audit: type=1400 audit(1514387851.111:150): avc:  denied  { search } for  pid=19174 comm=\"debuggerd\" name=\"com.google.android.gms\" dev=\"dm-1\" ino=65716 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0:c512,c768 tclass=dir permissive=0 SEPF_SECMOBILE_7.0_0005 audit_filtered\n12-27 16:17:31.131 2379-2379/? E/audit: type=1400 audit(1514387851.121:151): avc:  denied  { search } for  pid=19174 comm=\"debuggerd\" name=\"com.google.android.gms\" dev=\"dm-1\" ino=65716 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0:c512,c768 tclass=dir permissive=0 SEPF_SECMOBILE_7.0_0005 audit_filtered\n12-27 16:17:31.131 2379-2379/? E/audit: type=1400 audit(1514387851.121:152): avc:  denied  { search } for  pid=19174 comm=\"debuggerd\" name=\"com.google.android.gms\" dev=\"dm-1\" ino=65716 scontext=u:r:debuggerd:s0 tcontext=u:object_r:app_data_file:s0:c512,c768 tclass=dir permissive=0 SEPF_SECMOBILE_7.0_0005 audit_filtered\n12-27 16:17:31.209 19174-19174/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n12-27 16:17:31.210 19174-19174/? A/DEBUG: Build fingerprint: 'samsung/xcover4ltexx/xcover4lte:7.0/NRD90M/G390FXXU1AQC1:user/release-keys'\n12-27 16:17:31.210 19174-19174/? A/DEBUG: Revision: '4'\n12-27 16:17:31.210 19174-19174/? A/DEBUG: ABI: 'arm'\n12-27 16:17:31.210 19174-19174/? A/DEBUG: pid: 17932, tid: 17941, name: FinalizerDaemon  &gt;&gt;&gt; com.example.myproject.debug &lt;&lt;&lt;\n12-27 16:17:31.210 19174-19174/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x61724474\n12-27 16:17:31.210 19174-19174/? A/DEBUG:     r0 cb61ad58  r1 00000000  r2 3f800000  r3 00000012\n12-27 16:17:31.210 19174-19174/? A/DEBUG:     r4 cb61ad58  r5 1335b498  r6 6fd77fc8  r7 6f96bff4\n12-27 16:17:31.210 19174-19174/? A/DEBUG:     r8 1335b4c0  r9 de870900  sl cb61ad58  fp ffffffff\n12-27 16:17:31.210 19174-19174/? A/DEBUG:     ip 61724474  sp e7424420  lr e9cc3c1b  pc 61724474  cpsr 200f0010\n12-27 16:17:31.879 19174-19174/? A/DEBUG: backtrace:\n12-27 16:17:31.879 19174-19174/? A/DEBUG:     #00 pc 61724474  &lt;unknown&gt;\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #01 pc 00041c19  /system/lib/libbinder.so (_ZN7android6Parcel14freeDataNoInitEv+32)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #02 pc 00041bf1  /system/lib/libbinder.so (_ZN7android6ParcelD1Ev+4)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #03 pc 00097249  /system/lib/libandroid_runtime.so\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #04 pc 025b981d  /system/framework/arm/boot-framework.oat (offset 0x1ea5000) (android.os.Parcel.nativeDestroy+80)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #05 pc 025b9077  /system/framework/arm/boot-framework.oat (offset 0x1ea5000) (android.os.Parcel.destroy+74)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #06 pc 025bc297  /system/framework/arm/boot-framework.oat (offset 0x1ea5000) (android.os.Parcel.finalize+42)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #07 pc 005e12b3  /system/framework/arm/boot-core-libart.oat (offset 0x47e000) (java.lang.Daemons$FinalizerDaemon.doFinalize+110)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #08 pc 005e14c1  /system/framework/arm/boot-core-libart.oat (offset 0x47e000) (java.lang.Daemons$FinalizerDaemon.run+380)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #09 pc 005f86ad  /system/framework/arm/boot.oat (offset 0x56f000) (java.lang.Thread.run+48)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #10 pc 000a9241  /system/lib/libart.so (art_quick_invoke_stub_internal+64)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #11 pc 00406e69  /system/lib/libart.so (art_quick_invoke_stub+232)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #12 pc 000b0535  /system/lib/libart.so (_ZN3art9ArtMethod6InvokeEPNS_6ThreadEPjjPNS_6JValueEPKc+140)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #13 pc 0031636b  /system/lib/libart.so (_ZN3artL18InvokeWithArgArrayERKNS_33ScopedObjectAccessAlreadyRunnableEPNS_9ArtMethodEPNS_8ArgArrayEPNS_6JValueEPKc+58)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #14 pc 00317119  /system/lib/libart.so (_ZN3art35InvokeVirtualOrInterfaceWithJValuesERKNS_33ScopedObjectAccessAlreadyRunnableEP8_jobjectP10_jmethodIDP6jvalue+256)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #15 pc 0032e319  /system/lib/libart.so (_ZN3art6Thread14CreateCallbackEPv+848)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #16 pc 00047f83  /system/lib/libc.so (_ZL15__pthread_startPv+22)\n12-27 16:17:31.880 19174-19174/? A/DEBUG:     #17 pc 0001a151  /system/lib/libc.so (__start_thread+6)\n</code></pre>\n\n<p>Does anybody have a clue at what's going on here and why this is crashing?</p>\n\n<h2>EDIT</h2>\n\n<p>DataSource is an Object class which is a Singleton in Kotlin. It is initialized like so:</p>\n\n<pre><code>public class MyApp extends MultiDexApplication {\n\n    @Override\n    public void onCreate() {\n\n     //Initialize database\n        DataSource.INSTANCE.setMyBd(\n                        Room.databaseBuilder(getApplicationContext(),\n                                MyDb.class, \"my-db\").build());\n\n}}\n</code></pre>\n\n<p>Insert and delte are just annotations from room :</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insert(logpoint: UserLogpoint)\n\n@Delete\nfun delete(logpoint: UserLogpoint)\n</code></pre>\n"}, {"tags": ["kotlin", "fold", "destructuring"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1514385859, "post_id": 47994030, "comment_id": 82956252, "body": "This seems to be a bug. Please report it to <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1514386046, "post_id": 47994030, "comment_id": 82956332, "body": "By the way, I tried to compile the first sample with Kotlin 1.2.10, and it worked just fine. It might have already been fixed. What is the Kotlin version that you use?"}, {"owner": {"reputation": 722, "user_id": 6828631, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad62f5c4815e93d1e2ea222ab76332bf?s=128&d=identicon&r=PG&f=1", "display_name": "razr", "link": "https://stackoverflow.com/users/6828631/razr"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1514386157, "post_id": 47994030, "comment_id": 82956384, "body": "Kotlin version 1.2.0 (JRE 1.8.0_144-b01)"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1514386304, "post_id": 47994030, "comment_id": 82956450, "body": "I&#39;m using Kotlin 1.2 and this worked fine when I wrapped the whole thing in a function. Otherwise it complains that destructuring is only supported for local variables."}, {"owner": {"reputation": 722, "user_id": 6828631, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad62f5c4815e93d1e2ea222ab76332bf?s=128&d=identicon&r=PG&f=1", "display_name": "razr", "link": "https://stackoverflow.com/users/6828631/razr"}, "edited": false, "score": 0, "creation_date": 1514386468, "post_id": 47994030, "comment_id": 82956525, "body": "Maybe it had been worth mentioning, that I used this in a kts file. Haven&#39;t yet tried when compiling it (does/should this make a difference?)"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1514387029, "post_id": 47994030, "comment_id": 82956761, "body": "@razr, yep, I could reproduce it with a <code>.kts</code> file, this really seems to make the difference."}, {"owner": {"reputation": 722, "user_id": 6828631, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad62f5c4815e93d1e2ea222ab76332bf?s=128&d=identicon&r=PG&f=1", "display_name": "razr", "link": "https://stackoverflow.com/users/6828631/razr"}, "edited": false, "score": 0, "creation_date": 1514387401, "post_id": 47994030, "comment_id": 82956937, "body": "Ok, created a new issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-22029\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-22029</a>"}, {"owner": {"reputation": 722, "user_id": 6828631, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad62f5c4815e93d1e2ea222ab76332bf?s=128&d=identicon&r=PG&f=1", "display_name": "razr", "link": "https://stackoverflow.com/users/6828631/razr"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1514387431, "post_id": 47994030, "comment_id": 82956953, "body": "@hotkey could you create an answer, so I&#39;ll accept it. Thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1514387715, "creation_date": 1514387715, "answer_id": 47994504, "question_id": 47994030, "link": "https://stackoverflow.com/questions/47994030/fold-list-to-pair-with-destructuring-assignment-in-kotlin/47994504#47994504", "title": "Fold list to pair with destructuring assignment in kotlin", "body": "<p>This is a bug in Kotlin Script compilation.</p>\n\n<p>Thanks <a href=\"https://stackoverflow.com/users/6828631/razr\">@razr</a> for reporting it: <a href=\"https://youtrack.jetbrains.com/issue/KT-22029\" rel=\"nofollow noreferrer\">KT-22029</a></p>\n"}], "owner": {"reputation": 722, "user_id": 6828631, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad62f5c4815e93d1e2ea222ab76332bf?s=128&d=identicon&r=PG&f=1", "display_name": "razr", "link": "https://stackoverflow.com/users/6828631/razr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 47994504, "answer_count": 1, "score": 1, "last_activity_date": 1514387715, "creation_date": 1514385551, "question_id": 47994030, "link": "https://stackoverflow.com/questions/47994030/fold-list-to-pair-with-destructuring-assignment-in-kotlin", "title": "Fold list to pair with destructuring assignment in kotlin", "body": "<p>I try to get multiple results from a folding operation on a list of characters and use a destructuring assignment to both values to their own variables afterwards. But this seems to result in an exception by the kotlin compiler:</p>\n\n<pre><code>java.lang.UnsupportedOperationException: Don't know how to generate outer expression for class &lt;closure-Test$1&gt;\n</code></pre>\n\n<p>Strangely (to me) without the destructuring, this works as intended. Here is an example:</p>\n\n<pre><code>val fstSec = \"fst\"\n\nval (fst, snd) = \"this is a test for folding to pair\"\n    .toCharArray()\n    .fold(Pair(0, 0), { sumPair, char -&gt;\n        when (fstSec) {\n            \"fst\" -&gt; Pair(sumPair.first + char.toInt()*2, sumPair.second + char.toInt())\n            \"snd\" -&gt; Pair(sumPair.first + char.toInt(), sumPair.second + char.toInt()*2)\n            else -&gt; throw RuntimeException(\"exception\")\n        }\n    })\n\nprintln(\"( $fst , $snd )\")\n</code></pre>\n\n<p>This results in the exception.</p>\n\n<pre><code>val fstSec = \"fst\"\n\nval pair = \"this is a test for folding to pair\"\n    .toCharArray()\n    .fold(Pair(0, 0), { sumPair, char -&gt;\n        when (fstSec) {\n            \"fst\" -&gt; Pair(sumPair.first + char.toInt()*2, sumPair.second + char.toInt())\n            \"snd\" -&gt; Pair(sumPair.first + char.toInt(), sumPair.second + char.toInt()*2)\n            else -&gt; throw RuntimeException(\"exception\")\n        }\n    })\n\nprintln(\"( ${pair.first} , ${pair.second} )\")\n</code></pre>\n\n<p>This one works as expected, and the only thing I removed was the destructuring. Strangely, if I remove the inner <em>when</em> (and replace it by a <em>Pair</em> constructor only), the code works both times.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["java", "android", "functional-programming", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "is_accepted": true, "score": 1, "last_activity_date": 1514385850, "creation_date": 1514385850, "answer_id": 47994110, "question_id": 47993460, "link": "https://stackoverflow.com/questions/47993460/invoke-lambda-with-parameter-s-in-a-higher-order-function/47994110#47994110", "title": "Invoke lambda with parameter/s in a higher order function", "body": "<p>Here you need to pass function that takes Int as argument and returns Boolean. </p>\n\n<pre><code>lambdaTest { int -&gt;\n     int &gt; 0 // can be also changed to it\n}\n</code></pre>\n\n<p>Here we return true if Int parameter is more than 0.</p>\n\n<p>If you want more parameters:</p>\n\n<pre><code>fun lambdaTest( someMethod: (Int, String) -&gt; Unit){ // Unit means do not return anything\n     someMethod(1, \"Kotlin\")\n}\n</code></pre>\n\n<p>And call it:</p>\n\n<pre><code>lambdaTest { int, string -&gt;\n    println(\"Passed Int: $int, and String: $string as parameter\")\n    // Output = Passed Int: 1, and String: Kotlin as parameter\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "edited": false, "score": 0, "creation_date": 1514420758, "post_id": 47994192, "comment_id": 82968878, "body": "Your types seem wrong. You define lambdaTest as expecting a function of type (Int) -&gt; Boolean but then you call it in your main with an argument of type (Somehing)-&gt;Unit. Something (your param) can be interpreted as Int, so your argument matches (Int)-&gt;Unit, but your println() can certainly not be interpreted as a Boolean (only as a Unit)."}], "tags": [], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "is_accepted": false, "score": 1, "last_activity_date": 1514456794, "last_edit_date": 1514456794, "creation_date": 1514386318, "answer_id": 47994192, "question_id": 47993460, "link": "https://stackoverflow.com/questions/47993460/invoke-lambda-with-parameter-s-in-a-higher-order-function/47994192#47994192", "title": "Invoke lambda with parameter/s in a higher order function", "body": "<p>Think of <code>(Int) -&gt; Boolean</code> as being equivalent to the following interface (in fact, that's actually what is compiled on the JVM) :</p>\n\n<pre><code>interface Function&lt;I, O&gt; {\n    fun inkoke(param: I): O\n}\n</code></pre>\n\n<p><code>I</code> is the type of the input parameter, <code>O</code> is the type of the output type (returned value).</p>\n\n<p>All lambda in Kotlin are in fact a shorthand syntax for defining an object with a single method <code>invoke</code> with a given number of parameters and a return type.\nLet's rewrite your high-order function taking this into account.</p>\n\n<pre><code>fun lambdaTest(someMethod: Function&lt;Int, Boolean&gt;) {\n    // Call invoke with an Int paramater. This returns a Boolean.\n    val isTheAnswerOfTheUniverse = someMethod.invoke(42)\n}\n</code></pre>\n\n<p>Now, we call this method :</p>\n\n<pre><code>// We can pass an anonymous class as the parameter\nlambdaTest(object : Function&lt;Int, Boolean&gt;() {\n    override fun invoke(param: Int): Boolean {\n        println(\"Lambda called with number: $param\")\n        // Prints \"Lambda called with number: 42\"\n        return param == 42\n    }\n})\n</code></pre>\n\n<p>This is the same with <code>(Int) -&gt; Boolean</code>. The only difference is syntax: as Kotlin is also a functional language, it offers syntactic sugar to improve readability and reduce boilerplate, such as </p>\n\n<ul>\n<li>a dedicated syntax for defining functions as variable</li>\n<li><code>.invoke</code> can be omitted (because it is an <a href=\"https://bumptech.github.io/glide/doc/configuration.html#default-request-options\" rel=\"nofollow noreferrer\">operator overload</a>)</li>\n<li>a dedicated syntax for defining lambda, just like Java 8 has (Kotlin's uses curly brackets).</li>\n<li>If a lambda is the last parameter of a high order function, then lambda can be expressed outside of brackets.</li>\n</ul>\n\n<p>Here is the equivalent with lambda syntax:</p>\n\n<pre><code>fun lambdaTest(someMethod: (Int) -&gt; Boolean) {\n    val isTheAnswerOfTheUniverse = someMethod(42)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    lambdaTest { param -&gt;\n        println(\"Lambda called with number: $param\")\n        // Prints \"Lambda called with number: 42\"\n\n        // The result of the last expression is returned\n        param == 42\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 47994110, "answer_count": 2, "score": 1, "last_activity_date": 1514456794, "creation_date": 1514383094, "question_id": 47993460, "link": "https://stackoverflow.com/questions/47993460/invoke-lambda-with-parameter-s-in-a-higher-order-function", "title": "Invoke lambda with parameter/s in a higher order function", "body": "<p>I am novice to functional programming in java/kotlin and do some practice.\nJust wonder how can I pass parameters of lambda when invoking it. For example, here to call someMethod I need to pass an Int parameter.</p>\n\n<pre><code>fun lambdaTest( someMethod: (Int) -&gt; Boolean){\n   someMethod()\n}\n</code></pre>\n\n<p>How that can be done? The answer may be very simple, I just didn't find it anywhere, in the documentation there were only examples with lists, in case of which the answer is clear:</p>\n\n<pre><code>fun &lt;T, R&gt; List&lt;T&gt;.map(transform: (T) -&gt; R): List&lt;R&gt; {\n    val result = arrayListOf&lt;R&gt;()\n    for (item in this)\n        result.add(transform(item))\n    return result\n}\n</code></pre>\n"}, {"tags": ["android", "multithreading", "performance", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1514380690, "creation_date": 1514380690, "answer_id": 47992914, "question_id": 47992331, "link": "https://stackoverflow.com/questions/47992331/cost-of-thread-switching-in-rxjava-and-kotlin-data-class-copy-operation/47992914#47992914", "title": "Cost of thread switching in RxJava and Kotlin data class copy() operation", "body": "<p><code>copy</code> just calls the data class constructor with default arguments for those you haven't passed, i.e. </p>\n\n<pre><code>event.copy(field3 = \"\")\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>Event(event.field1, event.field2, \"\", event.field4, ...)\n</code></pre>\n\n<p>By itself it is very unlikely to be worth switching schedulers, but of course \"other business logic\" may well be, and if you have</p>\n\n<pre><code>event.copy(field3 = complexCalculation())\n</code></pre>\n\n<p>you need to consider the costs of <code>complexCalculation()</code>.</p>\n"}], "owner": {"reputation": 516, "user_id": 2897853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f96f9a8368e11292fb47fad40e8d50?s=128&d=identicon&r=PG", "display_name": "Oknesif", "link": "https://stackoverflow.com/users/2897853/oknesif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 47992914, "answer_count": 1, "score": 0, "last_activity_date": 1514380690, "creation_date": 1514378234, "question_id": 47992331, "link": "https://stackoverflow.com/questions/47992331/cost-of-thread-switching-in-rxjava-and-kotlin-data-class-copy-operation", "title": "Cost of thread switching in RxJava and Kotlin data class copy() operation", "body": "<p>My question is about costs of operations in particular the cost of <strong>Kotlin</strong> <em>data class</em> <code>copy()</code> operation and <strong>RxJava</strong> <code>observeOn()</code> thread switching.  </p>\n\n<p>I have a system which produces events on let's say <code>Schedulers.mainThread</code>. The events are <strong>Kotlin</strong> <em>data classes</em>. Next there is the business logic and in the end, the chain produces new <em>data class</em> by <code>copy()</code> operation. All results have to be consumed on <code>Schedulers.mainThread</code>. So, a chain would look like that:</p>\n\n<pre><code>eventSource() //Events are produced on Schedulers.mainThread\n.observeOn(Schedulers.computation)\n.map { event -&gt;\n    other business logic\n    event.copy(...)\n}\n.observeOn(Schedulers.mainThread)\n.subscribe(eventConsumer)\n</code></pre>\n\n<p>Thereby, the question is it worth to switch schedulers by <code>observeOn</code> for such operation as <code>copy()</code> if event class has let's say 15 fields. It should be mentioned that <code>Schedulers.mainThread</code> is thread used to render UI and is better to be as vacant as possible.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1532111885, "post_id": 47991935, "comment_id": 89867580, "body": "Thank you for this question, I am wondering the same right now.  Did you find a solution?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1532112805, "post_id": 47991935, "comment_id": 89867975, "body": "I don&#39;t remember, unfortunately. But I don&#39;t think so."}], "answers": [{"tags": [], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "is_accepted": false, "score": 0, "last_activity_date": 1539793480, "creation_date": 1539793480, "answer_id": 52859502, "question_id": 47991935, "link": "https://stackoverflow.com/questions/47991935/how-to-propagate-exceptions-from-a-job/52859502#52859502", "title": "How to propagate exceptions from a Job?", "body": "<p>Please use join + <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-job/invoke-on-completion.html\" rel=\"nofollow noreferrer\">invokeOnCompletion</a> method</p>\n\n<p>Code will be like this:</p>\n\n<pre><code>suspend fun awaitError(job: Job): Throwable? {\n    val errorAwaiter = CompletableDeferred&lt;Throwable?&gt;();        \n\n    job.invokeOnCompletion { errorAwaiter.complete(it) }\n\n    require(job.IsActive) {\n         \"Job was completed for too fast, probably error is missed\"\n    }\n\n    val errorRaised = errorAwaiter.await();\n\n    return when(errorRaised) {\n         is CancellationException -&gt; null\n         else -&gt; errorRaised\n    }\n}\n</code></pre>\n\n<p>Please note, that code will raise error for the fast jobs, so please be carefully. Possible it is better just to return <code>null</code> in this case (in my example).</p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1539793480, "creation_date": 1514376500, "last_edit_date": 1514376980, "question_id": 47991935, "link": "https://stackoverflow.com/questions/47991935/how-to-propagate-exceptions-from-a-job", "title": "How to propagate exceptions from a Job?", "body": "<p>From <a href=\"https://stackoverflow.com/questions/46226518/what-is-the-difference-between-launch-join-and-async-await-in-kotlin-coroutines\">What is the difference between launch/join and async/await in Kotlin coroutines</a>:</p>\n\n<blockquote>\n  <p>launch is used to fire and forget coroutine. It is like starting a new thread. If the code inside the launch terminates with exception, then it is treated like uncaught exception in a thread -- usually printed to stderr in backend JVM applications and crashes Android applications. join is used to wait for completion of the launched coroutine and it does not propagate its exception. However, a crashed child coroutine cancels its parent with the corresponding exception, too.</p>\n</blockquote>\n\n<p>If <code>join</code> doesn't propagate the exception, is there a way to wait for completion of a <code>Job</code> which does? </p>\n\n<p>E.g. suppose that some library method returns a <code>Job</code> because it assumed its users wouldn't want to propagate exceptions, but it turns out there is a user who does want it; can this user get it without modifying the library?</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 0, "creation_date": 1514375112, "post_id": 47991436, "comment_id": 82951390, "body": "what is<code>@PreviewScope</code> ?"}, {"owner": {"reputation": 3379, "user_id": 5709159, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DL3rX.jpg?s=128&g=1", "display_name": "Aleksey Timoshchenko", "link": "https://stackoverflow.com/users/5709159/aleksey-timoshchenko"}, "reply_to_user": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 0, "creation_date": 1514375296, "post_id": 47991436, "comment_id": 82951467, "body": "@DivyeshKalotra added to the question"}, {"owner": {"reputation": 3379, "user_id": 5709159, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DL3rX.jpg?s=128&g=1", "display_name": "Aleksey Timoshchenko", "link": "https://stackoverflow.com/users/5709159/aleksey-timoshchenko"}, "reply_to_user": {"reputation": 204, "user_id": 8988915, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eizjrhvO4kI/AAAAAAAAAAI/AAAAAAAAAE0/wmBVPok_THQ/photo.jpg?sz=128", "display_name": "Divyesh Kalotra", "link": "https://stackoverflow.com/users/8988915/divyesh-kalotra"}, "edited": false, "score": 1, "creation_date": 1514375588, "post_id": 47991436, "comment_id": 82951581, "body": "@DivyeshKalotra but why did you ask about <code>preview scope</code>? As far as I understand it is does not matter... It is works perfectly, until I add <code>Provider&lt;&gt;</code> to the argument"}], "answers": [{"comments": [{"owner": {"reputation": 3379, "user_id": 5709159, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DL3rX.jpg?s=128&g=1", "display_name": "Aleksey Timoshchenko", "link": "https://stackoverflow.com/users/5709159/aleksey-timoshchenko"}, "edited": false, "score": 0, "creation_date": 1514382433, "post_id": 47992519, "comment_id": 82954701, "body": "Yes, it helped . But I found this solution before and tried.. but nothing... maybe in another place. Ok, anyway thanks a lot"}], "tags": [], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "is_accepted": true, "score": 2, "last_activity_date": 1514379043, "creation_date": 1514379043, "answer_id": 47992519, "question_id": 47991436, "link": "https://stackoverflow.com/questions/47991436/why-i-get-provides-annotated-error/47992519#47992519", "title": "Why I get @Provides-annotated error?", "body": "<p>This might be a problem with how Kotlin handles generics wildcards. </p>\n\n<p>When using Dagger 2 Multibindinds, the type of the Map is interpreted by Dagger (which uses Java Reflection to analyse your code and generate Component implementations) as <code>Map&lt;eRetrofitModules, ? extends Provider&lt;Retrofit&gt;&gt;</code>. This happens because <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/\" rel=\"nofollow noreferrer\">maps in Kotlin</a> have their <code>V</code> type parameter marked as <code>out</code>.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/index.html\" rel=\"nofollow noreferrer\">@JvmSuppressWildcards</a> annotation removes that information from the compiled code. Just use that annotation on <code>Provider&lt;Retrofit&gt;</code>: </p>\n\n<p><code>Map&lt;eRetrofitModules, @JvmSuppressWildcards Provider&lt;Retrofit&gt;&gt;</code>.</p>\n\n<p>You may also find <a href=\"https://stackoverflow.com/questions/46042989/kotlin-dagger-inject-map-for-viewmodel-factory\">this answer</a> interesting.</p>\n"}], "owner": {"reputation": 3379, "user_id": 5709159, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DL3rX.jpg?s=128&g=1", "display_name": "Aleksey Timoshchenko", "link": "https://stackoverflow.com/users/5709159/aleksey-timoshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 47992519, "answer_count": 1, "score": 0, "last_activity_date": 1514379043, "creation_date": 1514374400, "last_edit_date": 1514375286, "question_id": 47991436, "link": "https://stackoverflow.com/questions/47991436/why-i-get-provides-annotated-error", "title": "Why I get @Provides-annotated error?", "body": "<p>I have already spent hours try to find in google what is the difference of my two dagger implementation.\nIt was implemented like this</p>\n\n<pre><code>@Module\nclass MatchesModule\n{\n@Provides\n@NetworkScope\n@IntoMap\n@RetrofitModulesName(eRetrofitModules.MATCHES)\nfun retrofitMatches(okHttpClient: OkHttpClient, rxAdaptor: RxJava2CallAdapterFactory, iBuilder: Retrofit.Builder): Retrofit = iBuilder.addConverterFactory(GsonConverterFactory.create(mDeserializerMatches));\n}\n</code></pre>\n\n<p>This method provide Retrofit object, also I am using annotation <code>@IntoMap</code> and <code>@RetrofitModulesName(...)</code> in order to put all of this <code>Retrofit</code> objects to map.</p>\n\n<pre><code>@Module\nclass PreviewModule\n{\n@Provides\n@PreviewScope\nfun provideMatchesPresenter(retrofitModules: Map&lt;eRetrofitModules, Retrofit&gt;): IMatchPresenter = MatchPresenter(retrofitModules)\n}\n</code></pre>\n\n<p>I am getting all <code>Retrofit</code> object and passing them to <code>MathcPresenter</code> all is ok and fine.\nBut I would like to get <code>Map&lt;Foo, Provider&lt;Retrovit&gt;&gt;</code> in my presenter.\nSo, I added this word <code>Provider</code> to argument </p>\n\n<pre><code>@Provides\n@PreviewScope\nfun provideMatchesPresenter(retrofitModules: Map&lt;eRetrofitModules, \nProvider&lt;Retrofit&gt;&gt;): IMatchPresenter = MatchPresenter(retrofitModules)\n</code></pre>\n\n<p>as well as to the constructor of <code>MathcPresenter</code></p>\n\n<pre><code>class MatchPresenter(retrofitModules: Map&lt;eRetrofitModules, Provider&lt;Retrofit&gt;&gt;): IMatchPresenter\n</code></pre>\n\n<p>And now I can not undersand why, but I get such error</p>\n\n<blockquote>\n  <p>Error:(6, 1) error: [com.example.alexeyt.sunshinekotlin.moduls.previewmodule.PreviewComponent.inject(com.example.alexeyt.sunshinekotlin.ui.fragments.previewFragments.PreviewFragment)] java.util.Map> cannot be provided without an @Provides-annotated method.</p>\n</blockquote>\n\n<hr>\n\n<p>PreviewScope</p>\n\n<pre><code>@Scope\n@Retention(AnnotationRetention.RUNTIME)\nannotation class PreviewScope\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 172, "user_id": 3506801, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4e65164d00ee307e807221e0611baf3c?s=128&d=identicon&r=PG&f=1", "display_name": "Sejal Rudani", "link": "https://stackoverflow.com/users/3506801/sejal-rudani"}, "edited": false, "score": 0, "creation_date": 1514367346, "post_id": 47989604, "comment_id": 82947745, "body": "second case will compare same type."}], "answers": [{"tags": [], "owner": {"reputation": 5185, "user_id": 1708647, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/a0dvT.jpg?s=128&g=1", "display_name": "Amit Bhati", "link": "https://stackoverflow.com/users/1708647/amit-bhati"}, "is_accepted": false, "score": 2, "last_activity_date": 1514367967, "last_edit_date": 1514367967, "creation_date": 1514367435, "answer_id": 47989681, "question_id": 47989604, "link": "https://stackoverflow.com/questions/47989604/reference-and-value-comparison/47989681#47989681", "title": "Reference and Value Comparison", "body": "<p>The === is not working because of the way you are defining the String. If you create a string using a literal, it will point to the same String in the String pool.</p>\n\n<pre><code>var str1 = \"Hello World\"\n    var str2 = \"Hello World\"\n    val str3 = buildString { \"Hello World\" }\n    val str4 = buildString { \"Hello World\" }\n\n    var result = str1===str2 // true\n    println(result)\n\n    result = str1 == str2 // true\n    println(result)\n\n    result = str3 === str4 // false\n    println(result)\n\n    result = str3 == str4 // true\n    println(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 3, "last_activity_date": 1514368039, "last_edit_date": 1592644375, "creation_date": 1514367531, "answer_id": 47989700, "question_id": 47989604, "link": "https://stackoverflow.com/questions/47989604/reference-and-value-comparison/47989700#47989700", "title": "Reference and Value Comparison", "body": "<h2><a href=\"https://kotlinlang.org/docs/reference/equality.html#referential-equality\" rel=\"nofollow noreferrer\">Reference equality</a></h2>\n<blockquote>\n<p>Referential equality is checked by the <code>===</code> operation (and its negated counterpart <code>!==</code>). <code>a === b</code> evaluates to true if and only if a and b point to the same object.</p>\n</blockquote>\n<p>In other words the <code>===</code> operator compares if <code>a</code> and <code>b</code> are the same reference. Testing it on some basic types can be miss-leading because of:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10578984/what-is-string-interning\">string interning</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20897020/why-integer-class-caching-values-in-the-range-128-to-127\">integer caching</a></li>\n</ul>\n<p>An example would be:</p>\n<pre><code>val a:Int? = 123\nval b:Int? = 123\nprintln(a === b) // =&gt; true\n\nval c:Int? = 130\nval d:Int? = 130\nprintln(c === d) // =&gt; false\n</code></pre>\n<p>Obviously in both cases the <code>a==b</code> and <code>c==d</code> is true.</p>\n<p><a href=\"https://stackoverflow.com/questions/29879179/is-string-interning-done-at-compile-time-in-java\">Since string interning is also possible at compile time</a> the <code>===</code> also returns <code>true</code> in simple scenarios:</p>\n<pre><code>val a = &quot;ala&quot;\nval b = &quot;ala&quot;\nprintln(a === b) // =&gt; true\n\nval c = &quot;!ala&quot;.substring(1)\nval d = &quot;!ala&quot;.substring(1)\nprintln(c === d) // =&gt; false\n</code></pre>\n<h2><a href=\"https://kotlinlang.org/docs/reference/equality.html#structural-equality\" rel=\"nofollow noreferrer\">Structural equality</a></h2>\n<blockquote>\n<p>Structural equality is checked by the <code>==</code> operation (and its negated counterpart <code>!=</code>). By convention, an expression like <code>a == b</code> is translated to:</p>\n<p><code>a?.equals(b) ?: (b === null)</code></p>\n</blockquote>\n<p>As we saw above it is perfectly normal for built-in classes like <code>String</code> and <code>Int</code> to return false for reference equality <code>===</code> even though their content equals. Kotlin defining classes which can easily be <em>compared</em> by content with <code>data classes</code> like so:</p>\n<p>data class Address(val city:String, val street1:String)</p>\n<pre><code>val a = Address(&quot;Warsaw&quot;, &quot;Jagielo\u0144ska&quot;)\nval b = Address(&quot;Warsaw&quot;, &quot;Jagielo\u0144ska&quot;)\n\nprintln(a === b) // =&gt; false\nprintln(a == b) // =&gt; true\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1514367576, "creation_date": 1514367576, "answer_id": 47989712, "question_id": 47989604, "link": "https://stackoverflow.com/questions/47989604/reference-and-value-comparison/47989712#47989712", "title": "Reference and Value Comparison", "body": "<p>Comparing <code>String</code> references like that will return <code>true</code>, because the JVM optimizes your example code by reusing the first <code>String</code> instance, since it's immutable anyway. See more discussion about this <a href=\"https://stackoverflow.com/q/3801343/4465208\">here</a>, for example.</p>\n\n<p>If you call the constructor of a class directly however, you'll skip any optimizations, and get different instances:</p>\n\n<pre><code>val i1 = Integer(1)\nval i2 = Integer(1)\n\nprintln(i1 == i2)  // true\nprintln(i1 === i2) // false\n</code></pre>\n\n<p>Sidenote: in Java, I'd have shown this example with <code>new String(\"Hello world\")</code>, but apparently the Kotlin <code>String</code> class doesn't have a constructor of that form. Strange.</p>\n"}], "owner": {"reputation": 747, "user_id": 8393861, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/505de02692c8248361fccbedb694cf33?s=128&d=identicon&r=PG&f=1", "display_name": "Goktug", "link": "https://stackoverflow.com/users/8393861/goktug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 47989700, "answer_count": 3, "score": 1, "last_activity_date": 1514381422, "creation_date": 1514367090, "last_edit_date": 1514381422, "question_id": 47989604, "link": "https://stackoverflow.com/questions/47989604/reference-and-value-comparison", "title": "Reference and Value Comparison", "body": "<p>Actually, I am new to kotlin; therefore, this question may be very basic. </p>\n\n<p>According to kotlin documentation, two variables can be compared with <code>===</code> and <code>==</code> operators. \nFirst one ('==') checks if they have same content or not, and the second one ('+==') checks if they have same reference or not. \nHowever, I cannot find any built-in class whose objects have same content, but with different references. </p>\n\n<pre><code>var str1 : String = \"Hello World\"\nvar str2 : String = \"Hello World\"\n\nif( str1 == str2 ){ // yes\n   print(\"Their contents are same\\n\")\n{\n\nif( str1 === str2 ){ // yes\n   print(\"Their references are same\\n\")\n}\n</code></pre>\n\n<p>Instances of all classes I have encountered up to now have same reference if their contents are same. How do we define two objects which have same content, but different references ?</p>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": true, "score": 3, "last_activity_date": 1514363931, "creation_date": 1514363931, "answer_id": 47988924, "question_id": 47988572, "link": "https://stackoverflow.com/questions/47988572/gson-tojson-and-arraylist-in-kotlin/47988924#47988924", "title": "Gson toJson and ArrayList in Kotlin", "body": "<p>Strings are immutable in JVM. Calling</p>\n\n<pre><code>this.contentResponse.plus(Gson().toJson(response))\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>this.contentResponse + (Gson().toJson(response))\n</code></pre>\n\n<p>This way you can see better that you are not assiging the result to anything. Change it to</p>\n\n<pre><code>this.contentResponse = this.contentResponse.plus(Gson().toJson(response))\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 4111264, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6eNho.jpg?s=128&g=1", "display_name": "lucas.mdo", "link": "https://stackoverflow.com/users/4111264/lucas-mdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 47988924, "answer_count": 1, "score": 1, "last_activity_date": 1514363931, "creation_date": 1514362221, "question_id": 47988572, "link": "https://stackoverflow.com/questions/47988572/gson-tojson-and-arraylist-in-kotlin", "title": "Gson toJson and ArrayList in Kotlin", "body": "<p>Similarly to <a href=\"https://stackoverflow.com/questions/33381384/how-to-use-typetoken-generics-with-gson-in-kotlin\">this</a> question, I would like to convert an object (actually, it is a API response from retrofit) to a json string, so it would be simpler to store it somewhere.</p>\n\n<p>The response structure is something like these:</p>\n\n<pre><code>{\n  \"metadata\": {\n    \"count\": 0,\n    \"type\": \"string\"\n  },\n  \"results\": [\n    {\n      \"obj1\": {\n        \"param1\": \"s1\",\n        \"param2\": \"s2\"\n      },\n      \"obj2\": {\n        \"param3\": 0,\n        \"param4\": 0,\n        \"param5\": 0\n      },\n      \"obj3\": 0,\n      \"obj4\": \"27/12/2017\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Using retrofit2, I have the results array stored in a <code>List&lt;MyResponse.Result&gt;</code> and that's the parameter I'm passing to <code>Gson().toJson</code>, like so:</p>\n\n<pre><code>var contentResponse: String = \"\"\ntry{\n    this.contentResponse.plus(Gson().toJson(response))\n} catch (e: Exception){\n    Log.e(\"Gson error\", e.toString())\n}\n</code></pre>\n\n<p>Unfortunately, I'm getting no exception but my <code>contentResponse</code> keeps empty. I`ve tried to use the method in the question mentioned above, but got the same outcome. Any advises?</p>\n\n<p>PS: If there is an easier way to get the retrofit response in a String, it could help as well.</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "android-architecture-components", "android-viewmodel"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1521530103, "post_id": 47988514, "comment_id": 85757143, "body": "Can you also share some bits from activity class?"}], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 2663633, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000056413352/picture?type=large", "display_name": "Truong Nguyen", "link": "https://stackoverflow.com/users/2663633/truong-nguyen"}, "edited": false, "score": 0, "creation_date": 1587376406, "post_id": 49397895, "comment_id": 108477567, "body": "I can not do it, because activityRule.activity = null"}], "tags": [], "owner": {"reputation": 2840, "user_id": 2565340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14fe70113561f37381444c923d22051d?s=128&d=identicon&r=PG", "display_name": "RussHWolf", "link": "https://stackoverflow.com/users/2565340/russhwolf"}, "is_accepted": false, "score": 3, "last_activity_date": 1521604417, "creation_date": 1521604417, "answer_id": 49397895, "question_id": 47988514, "link": "https://stackoverflow.com/questions/47988514/android-architecture-component-viewmodel-how-to-mock-viewmodel-on-test-activit/49397895#49397895", "title": "Android Architecture Component ViewModel - How to mock ViewModel on test Activity?", "body": "<p>JUnit <code>@Rule</code>s do their setup before <code>@Before</code> methods, so your activity is launching and starting its lifecycle before your <code>setUp()</code> method gets called. To avoid this, pass <code>false</code> as the third parameter to the rule constructor. This tells it not to launch the activity automatically, so you can do your setup in advance.</p>\n\n<p>Then, you need to launch the activity manually before you run your tests. You can create an intent like <code>val intent = Intent(InstrumentationRegistry.targetContext, MainActivity::class.java)</code> and then pass it to <code>activityRule.launchActivity(intent)</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 1374591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ybck2.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/1374591/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2576, "favorite_count": 0, "answer_count": 1, "score": 10, "last_activity_date": 1587376355, "creation_date": 1514361898, "last_edit_date": 1521529755, "question_id": 47988514, "link": "https://stackoverflow.com/questions/47988514/android-architecture-component-viewmodel-how-to-mock-viewmodel-on-test-activit", "title": "Android Architecture Component ViewModel - How to mock ViewModel on test Activity?", "body": "<p>I'm trying to setup UI testing similar to <strong>GithubBrowserSample</strong> and it looks like the sample project only has mock <code>ViewModel</code> for <code>Fragment</code> but not an example for <code>Activity</code>.</p>\n\n<p>Here's my code where I am trying to test the <code>Activity</code> by mocking <code>ViewModel</code>. But the <code>ViewModel</code> is not getting set before <code>onCreate()</code> in Activity. </p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass MainActivityTest {\n\n    val viewModel = mock(MainViewModel::class.java)\n\n    @Rule\n    @JvmField\n    val activityRule = ActivityTestRule&lt;MainActivity&gt;(MainActivity::class.java, true, true)\n\n    private val liveData = MutableLiveData&lt;Resource&lt;Object&gt;&gt;()\n\n    @Before\n    open fun setUp() {\n        activityRule.activity.viewModelFactory = createViewModelFor(viewModel)\n        `when`(viewModel.liveData).thenReturn(liveData)\n        viewModel.liveData?.observeForever(mock(Observer::class.java) as Observer&lt;Resource&lt;Object&gt;&gt;)\n        liveData.postValue(Resource.success(Object()))\n    }\n\n    fun &lt;T : ViewModel&gt; createViewModelFor(model: T): ViewModelProvider.Factory =\n        object : ViewModelProvider.Factory {\n            override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n                if (modelClass.isAssignableFrom(model.javaClass)) {\n                    return model as T\n                }\n                throw IllegalArgumentException(\"unexpected model class \" + modelClass)\n            }\n        }\n}\n</code></pre>\n\n<p>Can someone help me about this issue please?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7179, "user_id": 222163, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ldCVf.jpg?s=128&g=1", "display_name": "Paul D&#39;Ambra", "link": "https://stackoverflow.com/users/222163/paul-dambra"}, "edited": false, "score": 2, "creation_date": 1514368785, "post_id": 47988058, "comment_id": 82948373, "body": "it annoys me when people downvote new users without explaining why. Your question has been downvoted because questions on StackOverflow should be more specific. So you should show what you&#39;ve tried and why it didn&#39;t wok."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 6359620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zRFLQ.jpg?s=128&g=1", "display_name": "Thameem Abdul Latheef C", "link": "https://stackoverflow.com/users/6359620/thameem-abdul-latheef-c"}, "is_accepted": true, "score": 11, "last_activity_date": 1514440969, "last_edit_date": 1514440969, "creation_date": 1514359589, "answer_id": 47988088, "question_id": 47988058, "link": "https://stackoverflow.com/questions/47988058/how-to-sort-a-string-array-in-kotlin/47988088#47988088", "title": "How to sort a string array in kotlin", "body": "<p>To sort the same array we can use</p>\n\n<pre><code>array.sort()\n</code></pre>\n\n<p>This inbuilt method will sort in alphabetic order.\nWe can also sort Int Array and other array types using inbuilt sort() method</p>\n\n<p>To sort an array without changing the original we can use</p>\n\n<pre><code>val array = arrayOf(\"abc\",\"bcd\",\"xyz\",\"ghi\",\"acd\")\nval sorted = array.sortedArray()\n</code></pre>\n\n<p>as mentioned above answer by s1m0nw1</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1514373067, "last_edit_date": 1514373067, "creation_date": 1514365187, "answer_id": 47989176, "question_id": 47988058, "link": "https://stackoverflow.com/questions/47988058/how-to-sort-a-string-array-in-kotlin/47989176#47989176", "title": "How to sort a string array in kotlin", "body": "<p>It might be interesting to not modify the original array. Therefore <code>sortedArray</code> can be used:</p>\n\n<pre><code>val array = arrayOf(\"abc\",\"bcd\",\"xyz\",\"ghi\",\"acd\")\nval sorted = array.sortedArray()\n\nprintln(array.contentDeepToString())\nprintln(sorted.contentDeepToString())\n//[abc, bcd, xyz, ghi, acd]\n//[abc, acd, bcd, ghi, xyz]\n</code></pre>\n\n<p>It creates a new <code>Array</code> without modifying the original.</p>\n\n<p>Otherwise, the original string array can be modified and sorted with <code>sort()</code>.</p>\n"}], "owner": {"reputation": 171, "user_id": 6359620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zRFLQ.jpg?s=128&g=1", "display_name": "Thameem Abdul Latheef C", "link": "https://stackoverflow.com/users/6359620/thameem-abdul-latheef-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5131, "favorite_count": 0, "accepted_answer_id": 47988088, "answer_count": 2, "score": 4, "last_activity_date": 1514440969, "creation_date": 1514359452, "last_edit_date": 1514373189, "question_id": 47988058, "link": "https://stackoverflow.com/questions/47988058/how-to-sort-a-string-array-in-kotlin", "title": "How to sort a string array in kotlin", "body": "<p>How to sort the following string array in kotlin in alphabetic order?</p>\n\n<pre><code>val array = arrayOf(\"abc\",\"bcd\",\"xyz\",\"ghi\",\"acd\")\n</code></pre>\n"}, {"tags": ["java", "text", "kotlin", "awt"], "owner": {"reputation": 731, "user_id": 3030737, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84f06b806a31acf130deb8f5c9e0d679?s=128&d=identicon&r=PG&f=1", "display_name": "Cromon", "link": "https://stackoverflow.com/users/3030737/cromon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514356341, "creation_date": 1514356341, "question_id": 47987441, "link": "https://stackoverflow.com/questions/47987441/performance-optimizations-of-linebreakmeasurer", "title": "Performance optimizations of LineBreakMeasurer", "body": "<p>I am currently writing a text block with syntax highlighting in OpenGL and to layout my lines correctly with line wrapping I am using AWTs <code>LineBreakMeasurer</code>. The visual results are perfect, the performance is OK, however I was wondering if there are possibilities to make it a bit faster. Currently it takes on average 2-3 milliseconds for one line of text to be laid out.</p>\n\n<p>So this is the code that is currently used to do the layout</p>\n\n<pre><code>private fun calculateLineLayout(line: AttributedString, graphics: Graphics2D, width: Int, layouts: ArrayList&lt;TextLayout&gt;): Float {\n    val iterator = line.iterator\n    if(iterator.beginIndex &gt;= iterator.endIndex) {\n        return 0.0f\n    }\n\n    val end = iterator.endIndex\n    val measurer = LineBreakMeasurer(iterator, graphics.fontRenderContext)\n    measurer.position = iterator.beginIndex\n\n    var sizeY = 0.0f\n    while(measurer.position &lt; end) {\n        val layout = measurer.nextLayout(width.toFloat())\n        layouts.add(layout)\n        sizeY += layout.ascent + layout.descent + layout.leading\n    }\n\n    return sizeY\n}\n</code></pre>\n\n<p>My questions would be </p>\n\n<ul>\n<li>Are there alternatives to <code>LineBreakMeasurer</code> from AWT that are more efficient?</li>\n<li>Could there be optimization potential from the fact, that the font will always be monospaced and therefore the number of characters in a line is already deductible from the width?</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1514350250, "post_id": 47986346, "comment_id": 82941796, "body": "Share your gradle."}, {"owner": {"reputation": 652, "user_id": 4738347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-ngkKB_CijQo/AAAAAAAAAAI/AAAAAAAAACE/DQ4_rejpkjY/photo.jpg?sz=128", "display_name": "Umesh AHIR", "link": "https://stackoverflow.com/users/4738347/umesh-ahir"}, "reply_to_user": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1514350324, "post_id": 47986346, "comment_id": 82941817, "body": "// RxJava     compile &#39;io.reactivex.rxjava2:rxjava:2.1.3&#39;     compile &#39;io.reactivex.rxjava2:rxandroid:2.0.1&#39;      // Databinding     kapt &quot;com.android.databinding:compiler:3.0.1&quot;      // Dagger 2     kapt &#39;com.google.dagger:dagger-compiler:2.14.1&#39;     compile &#39;com.google.dagger:dagger:2.14.1&#39;     compile &#39;io.nlopez.smartlocation:rx:3.3.1&#39;"}, {"owner": {"reputation": 2560, "user_id": 857853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eb69bcd9b721d0af2839a1337a0885f?s=128&d=identicon&r=PG", "display_name": "Zharf", "link": "https://stackoverflow.com/users/857853/zharf"}, "edited": false, "score": 0, "creation_date": 1514351001, "post_id": 47986346, "comment_id": 82941970, "body": "could you also include the activity code? I have a feeling you&#39;re calling <code>editClickFromMainActivity()</code> before the view has been created"}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1514351285, "post_id": 47986346, "comment_id": 82942046, "body": "i searched allot but didnt get it more, i think recycleview need to set adapter like this  recyclerView.adapter = your_adapter in fragment. try this and recheck your code carefully may be you had done little miner mistake."}, {"owner": {"reputation": 652, "user_id": 4738347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-ngkKB_CijQo/AAAAAAAAAAI/AAAAAAAAACE/DQ4_rejpkjY/photo.jpg?sz=128", "display_name": "Umesh AHIR", "link": "https://stackoverflow.com/users/4738347/umesh-ahir"}, "edited": false, "score": 0, "creation_date": 1514351393, "post_id": 47986346, "comment_id": 82942063, "body": "i have add my MainActivity.."}], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 4738347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-ngkKB_CijQo/AAAAAAAAAAI/AAAAAAAAACE/DQ4_rejpkjY/photo.jpg?sz=128", "display_name": "Umesh AHIR", "link": "https://stackoverflow.com/users/4738347/umesh-ahir"}, "edited": false, "score": 0, "creation_date": 1514352262, "post_id": 47986674, "comment_id": 82942281, "body": "Thanks...  This is work for me...  One help from you how can i use interface between activity and fragment"}, {"owner": {"reputation": 2560, "user_id": 857853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eb69bcd9b721d0af2839a1337a0885f?s=128&d=identicon&r=PG", "display_name": "Zharf", "link": "https://stackoverflow.com/users/857853/zharf"}, "reply_to_user": {"reputation": 652, "user_id": 4738347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-ngkKB_CijQo/AAAAAAAAAAI/AAAAAAAAACE/DQ4_rejpkjY/photo.jpg?sz=128", "display_name": "Umesh AHIR", "link": "https://stackoverflow.com/users/4738347/umesh-ahir"}, "edited": false, "score": 0, "creation_date": 1514353179, "post_id": 47986674, "comment_id": 82942530, "body": "@umeshbaldaniya maybe this will help: <a href=\"https://guides.codepath.com/android/Creating-and-Using-Fragments#fragment-listener\" rel=\"nofollow noreferrer\">guides.codepath.com/android/&hellip;</a> - if not, create a new question"}], "tags": [], "owner": {"reputation": 2560, "user_id": 857853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eb69bcd9b721d0af2839a1337a0885f?s=128&d=identicon&r=PG", "display_name": "Zharf", "link": "https://stackoverflow.com/users/857853/zharf"}, "is_accepted": true, "score": 2, "last_activity_date": 1514352031, "last_edit_date": 1514352031, "creation_date": 1514351707, "answer_id": 47986674, "question_id": 47986346, "link": "https://stackoverflow.com/questions/47986346/lateinit-property-adapter-has-not-been-initialized-in-kotlin4android/47986674#47986674", "title": "lateinit property adapter has not been initialized in Kotlin4Android", "body": "<p>Your problem is that you're creating a new instance of the fragment when the click handler is being called in the main activity line </p>\n\n<pre><code>(BuildingListFragment.newInstance() as EditInterface).editClickFromMainActivity()\n</code></pre>\n\n<p>You will need to call the method on the actual fragment instance that's currently on screen. There's various ways of getting around this but I think the safest path for now is doing something like</p>\n\n<pre><code>iv_edit.setOnClickListener {\n    val fragment = supportFragmentManager.findFragmentByTag(FRAGMENT_TAG) as? BuildingListFragment\n    fragment?.editClickFromMainActivity()\n}\n</code></pre>\n\n<p>though this will mean that you must also use the same <code>FRAGMENT_TAG</code> in <code>addFragment</code> on the <code>.replace(R.id.fragmentContainer, fragment, null)</code> line (<code>FRAGMENT_TAG</code> instead of <code>null</code>)</p>\n"}], "owner": {"reputation": 652, "user_id": 4738347, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-ngkKB_CijQo/AAAAAAAAAAI/AAAAAAAAACE/DQ4_rejpkjY/photo.jpg?sz=128", "display_name": "Umesh AHIR", "link": "https://stackoverflow.com/users/4738347/umesh-ahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8276, "favorite_count": 0, "accepted_answer_id": 47986674, "answer_count": 1, "score": 5, "last_activity_date": 1514356671, "creation_date": 1514349065, "last_edit_date": 1514356671, "question_id": 47986346, "link": "https://stackoverflow.com/questions/47986346/lateinit-property-adapter-has-not-been-initialized-in-kotlin4android", "title": "lateinit property adapter has not been initialized in Kotlin4Android", "body": "<p>I have created <code>RecyclerView</code> in  <code>fragment</code> inside <code>activity</code>, all are working good but when i do <code>notifyDataSetChanged()</code> to <code>adapter</code> from <code>activity</code> through <code>interface</code>,I got an error \"<strong>lateinit property <code>adapter</code> has not been initialized</strong>\" but I have already <code>initialized adapter</code></p>\n\n<pre><code>    class BuildingListFragment : Fragment(), MainActivity.EditInterface {\n\n\n    lateinit var adapter: BuildingListAdapter\n\n    private var mListener: OnFragmentInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_building_list, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val buildingList = ArrayList&lt;BuildingDetailModel&gt;()\n\n        val alphaList = arrayOf(\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\",\n                \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"z\")\n        for (i in alphaList.indices) {\n\n            val building = BuildingDetailModel()\n            building.buildingName = alphaList[i] + \" Building\"\n            buildingList.add(building)\n\n        }\n\n        //initialize adapter\n        adapter = BuildingListAdapter(buildingList)\n        // RV_Building_List.layoutManager = LinearLayoutManager(context, LinearLayout.VERTICAL, false)\n        RV_Building_List.adapter = adapter\n\n        RV_Building_List.layoutManager = object : LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false) {\n            override fun onLayoutChildren(recycler: RecyclerView.Recycler?, state: RecyclerView.State) {\n                super.onLayoutChildren(recycler, state)\n                //TODO if the items are filtered, considered hiding the fast scroller here\n                val firstVisibleItemPosition = findFirstVisibleItemPosition()\n                if (firstVisibleItemPosition != 0) {\n                    // this avoids trying to handle un-needed calls\n                    if (firstVisibleItemPosition == -1)\n                    //not initialized, or no items shown, so hide fast-scroller\n                    {\n                        fastscroller.visibility = View.GONE\n                    }\n                    return\n                }\n                val lastVisibleItemPosition = findLastVisibleItemPosition()\n                val itemsShown = lastVisibleItemPosition - firstVisibleItemPosition + 1\n                //if all items are shown, hide the fast-scroller\n                fastscroller.visibility = if (adapter.itemCount &gt; itemsShown) View.VISIBLE else View.GONE\n            }\n        }\n        fastscroller.setRecyclerView(RV_Building_List)\n        fastscroller.setViewsToUse(R.layout.recycler_view_fast_scroller__fast_scroller, R.id.fastscroller_bubble, R.id.fastscroller_handle)\n\n    }\n\n    override fun editClickFromMainActivity() {\n        // TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n\n        //at this line error  is lateinit property adapter has not been initialized\n        if (adapter.getIsSelected()) adapter.setIsSelected(false) else adapter.setIsSelected(true)\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        mListener = null\n    }\n\n    override fun onResume() {\n        super.onResume()\n\n    }\n\n    interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        fun onFragmentInteraction(uri: Uri)\n    }\n\n    companion object {\n\n        // TODO: Rename and change types and number of parameters\n        fun newInstance(): BuildingListFragment {\n            val fragment = BuildingListFragment()\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p>My mainActivity</p>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n\n    private val mOnNavigationItemSelectedListener =\n            BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n                when (item.itemId) {\n                    R.id.navigation_list -&gt; {\n                        val fragment = BuildingListFragment.Companion.newInstance();\n                        addFragment(fragment, R.anim.slide_re_in, R.anim.slide_re_out)\n                        return@OnNavigationItemSelectedListener true\n                    }\n                    R.id.navigation_map -&gt; {\n                        val fragment = BuildingMapFragment.Companion.newInstance();\n                        addFragment(fragment, R.anim.slide_in, R.anim.slide_out)\n                        return@OnNavigationItemSelectedListener true\n                    }\n                }\n                false\n            }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n\n        val fragment = BuildingListFragment.Companion.newInstance()\n        addFragment(fragment, R.anim.slide_re_in, R.anim.slide_re_out)\n\n        iv_Add.setOnClickListener {\n            var intent = Intent(this, AddBuildingMapsActivity::class.java)\n            startActivity(intent)\n        }\n        iv_edit.setOnClickListener {\n            (BuildingListFragment.newInstance() as EditInterface).editClickFromMainActivity()\n        }\n    }\n\n\n    /**\n     * add/replace fragment in container [framelayout]\n     */\n    private fun addFragment(fragment: Fragment, slide_re_in: Int, slide_re_out: Int) {\n\n        supportFragmentManager\n                .beginTransaction()\n                .setCustomAnimations(slide_re_in, slide_re_out)\n                .replace(R.id.fragmentContainer, fragment, null)//fragment.javaClass.getSimpleName()\n                .addToBackStack(null)//fragment.javaClass.getSimpleName()\n                .commit()\n    }\n\n    override fun onBackPressed() {\n        super.onBackPressed()\n        Log.e(\"TAG\", \"TAG\")\n    }\n\n    interface EditInterface {\n        fun editClickFromMainActivity()\n    }\n}\n</code></pre>\n\n<p>please help me to solve this issue\nthanks..</p>\n"}, {"tags": ["kotlin", "jmockit"], "answers": [{"comments": [{"owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "edited": false, "score": 1, "creation_date": 1514361915, "post_id": 47987403, "comment_id": 82945635, "body": "Thanks very much, it works well. Even more, we can create a java class that return all the top level function class, and then we can write test code with kotlin as usual."}], "tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": true, "score": 1, "last_activity_date": 1514356119, "creation_date": 1514356119, "answer_id": 47987403, "question_id": 47985836, "link": "https://stackoverflow.com/questions/47985836/how-to-mock-a-top-level-function-in-kotlin-with-jmockit/47987403#47987403", "title": "How to mock a top-level-function in kotlin with jmockit", "body": "<p>A workaround mock it in Java side as you cannot reference the <code>UtilsKt</code> class from Kotlin files.</p>\n\n<pre><code>@RunWith(JMockit.class)\npublic final class UtilsFromJavaTest {\n    @Test\n    public final void testDoSomething(@Mocked @NotNull final UtilsKt mock) {\n        new Expectations() {\n            {\n                UtilsKt.doSomething();\n                this.result = 2;\n            }\n        };\n        Assert.assertEquals(2, UtilsKt.doSomething());\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1514362449, "creation_date": 1514362449, "answer_id": 47988619, "question_id": 47985836, "link": "https://stackoverflow.com/questions/47985836/how-to-mock-a-top-level-function-in-kotlin-with-jmockit/47988619#47988619", "title": "How to mock a top-level-function in kotlin with jmockit", "body": "<p>Thanks to @aristotll, we can simply extends the workaround to make it more easier to use.</p>\n\n<p>first, declare a java class that return the UtilsKt class</p>\n\n<pre><code>//TopLevelFunctionClass.java\npublic class TopLevelFunctionClass {\n    public static Class&lt;UtilsKt&gt; getUtilsClass() {\n        return UtilsKt.class\n    }\n}\n</code></pre>\n\n<p>then, mock this class in expectation using partial mock</p>\n\n<pre><code>//UtilsTest.kt\n@RunWith(JMockit::class)\nclass UtilsTest {\n    @Test\n    fun testDoSomething() {\n        object : Expectation(TopLevelFunctionClass.getUtilsClass()) {\n            init {\n                doSomething()\n                result = 2\n            }\n        }\n\n        assertEquals(2, doSomething())\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 47987403, "answer_count": 2, "score": 1, "last_activity_date": 1514362449, "creation_date": 1514343874, "last_edit_date": 1514354677, "question_id": 47985836, "link": "https://stackoverflow.com/questions/47985836/how-to-mock-a-top-level-function-in-kotlin-with-jmockit", "title": "How to mock a top-level-function in kotlin with jmockit", "body": "<p>Assuming the I have a function to be test below, declare at the file named \"Utils.kt\"</p>\n\n<pre><code>//Utils.kt\nfun doSomething() = 1\n</code></pre>\n\n<p>Then we create a test class to test it  </p>\n\n<pre><code>//UtilsTest.kt\n@RunWith(JMockit::class)\nclass UtilsTest {\n    @Test\n    fun testDoSomething() {\n        object : Expectation() {\n            init {\n                doSomething()\n                result = 2\n            }\n        }\n\n        assertEquals(2, doSomething())\n    }\n}\n</code></pre>\n\n<p>I want to mock <code>doSomething</code>, make it return <code>2</code>, but it won't work, actual result is <code>1</code></p>\n\n<p>Is there any workaround for this purpose?</p>\n"}, {"tags": ["android", "kotlin", "stripe-payments"], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1514384787, "post_id": 47986402, "comment_id": 82955738, "body": "much obliged! for your response"}], "tags": [], "owner": {"reputation": 1786, "user_id": 6644840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKU70.png?s=128&g=1", "display_name": "Yamini Balakrishnan", "link": "https://stackoverflow.com/users/6644840/yamini-balakrishnan"}, "is_accepted": true, "score": 2, "last_activity_date": 1514355146, "last_edit_date": 1514355146, "creation_date": 1514349571, "answer_id": 47986402, "question_id": 47985490, "link": "https://stackoverflow.com/questions/47985490/converting-stripes-creattoken-into-kotlin/47986402#47986402", "title": "Converting Stripe&#39;s creatToken into Kotlin", "body": "<p>Sure, we can implement that in Kotlin. Try this below code</p>\n\n<pre><code>stripe.createToken(card, object : TokenCallback {\n            override fun onSuccess(token: Token?) {\n                Log.v(\"Token!\",\"Token Created!!\"+ token!!.getId())\n                chargeCard(token!!.getId()); // Pass that token to your Server for further processing\n            }\n\n            override fun onError(error: Exception?) {\n                Log.v(\"Token!\",\"Token Not Created!!\")\n                error!!.printStackTrace()\n            }\n\n        })\n</code></pre>\n\n<p>You can refer <a href=\"http://yamikrish.blogspot.in/2017/12/stripe-integration-in-android-kotlin.html\" rel=\"nofollow noreferrer\">Stripe-Kotlin</a> for full stripe integration using Kotlin</p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "accepted_answer_id": 47986402, "answer_count": 1, "score": 1, "last_activity_date": 1514355146, "creation_date": 1514340073, "question_id": 47985490, "link": "https://stackoverflow.com/questions/47985490/converting-stripes-creattoken-into-kotlin", "title": "Converting Stripe&#39;s creatToken into Kotlin", "body": "<p>I've built most of an android app in Kotlin. now I'm using the stripe payment library and I can't convert the following routine into Kotlin.</p>\n\n<pre><code> stripe.createToken(\n                    cardtoSave,\n                    new TokenCallback {\n                        public void onSuccess(Token token) {\n                            // Send token to your server\n                        }\n                        public void onError(Exception error) {\n                            // Show localized error message\n                            Toast.makeText(getContext(),\n                                    error.getLocalizedString(getContext()),\n                                    Toast.LENGTH_LONG\n                            ).show();\n                        }\n                    }\n            )\n</code></pre>\n\n<p>Just not sure if it us possible...</p>\n"}, {"tags": ["kotlin", "kotlin-js-interop"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 2, "creation_date": 1514331103, "post_id": 47984743, "comment_id": 82938436, "body": "A String object is <i>already/always</i> in Unicode. What is used to populate the string? Conversion from/to different <i>encodings</i> should be handled on ingestion (as a String is created from a sequence of bytes) and output (as a String is written as a sequence of bytes) .."}, {"owner": {"reputation": 71, "user_id": 2436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5941fb2b5f78fea9035ef6f550038372?s=128&d=identicon&r=PG", "display_name": "Artiom", "link": "https://stackoverflow.com/users/2436969/artiom"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1574267020, "post_id": 47984743, "comment_id": 104173302, "body": "I used html parser and parser returned string in unreadable format. Is your proposal convert String  to byte array , then decode it and convert to String back ?"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1574277859, "post_id": 47984743, "comment_id": 104178927, "body": "No. The first step is to find out why the parser returned the string in an \u201cunreadable format.\u201d"}], "owner": {"reputation": 71, "user_id": 2436969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5941fb2b5f78fea9035ef6f550038372?s=128&d=identicon&r=PG", "display_name": "Artiom", "link": "https://stackoverflow.com/users/2436969/artiom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1514330905, "creation_date": 1514330905, "question_id": 47984743, "link": "https://stackoverflow.com/questions/47984743/kotlin-js-convert-string-to-another-encoding", "title": "kotlin-js convert string to another encoding", "body": "<p>I parse site and get String in windows-1251 encoding. I want print it to console for example. But in console I see incomprehensible symbols. How I can convert windows-1251 String to UTF-8 or how I can print normal string using kotlin-js ?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1514333291, "post_id": 47984656, "comment_id": 82938832, "body": "You said you&#39;re unable to get it as an object. So what&#39;s the return type that you&#39;re getting?"}, {"owner": {"reputation": 21, "user_id": 6631793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziJ2MRBl3dk/AAAAAAAAAAI/AAAAAAAAA1c/1udy0Kde7-Y/photo.jpg?sz=128", "display_name": "DOSHA", "link": "https://stackoverflow.com/users/6631793/dosha"}, "reply_to_user": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1514333873, "post_id": 47984656, "comment_id": 82938943, "body": "its returning me a document snapshot"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6631793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziJ2MRBl3dk/AAAAAAAAAAI/AAAAAAAAA1c/1udy0Kde7-Y/photo.jpg?sz=128", "display_name": "DOSHA", "link": "https://stackoverflow.com/users/6631793/dosha"}, "is_accepted": true, "score": 0, "last_activity_date": 1514344349, "creation_date": 1514344349, "answer_id": 47985880, "question_id": 47984656, "link": "https://stackoverflow.com/questions/47984656/how-do-i-get-an-object-inside-a-document-in-firestore/47985880#47985880", "title": "How do I get an object inside a document in Firestore", "body": "<pre><code>get($dayname.time_array\")\n</code></pre>\n\n<p>fixed it</p>\n"}], "owner": {"reputation": 21, "user_id": 6631793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ziJ2MRBl3dk/AAAAAAAAAAI/AAAAAAAAA1c/1udy0Kde7-Y/photo.jpg?sz=128", "display_name": "DOSHA", "link": "https://stackoverflow.com/users/6631793/dosha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 47985880, "answer_count": 1, "score": 0, "last_activity_date": 1536353183, "creation_date": 1514329885, "last_edit_date": 1514346726, "question_id": 47984656, "link": "https://stackoverflow.com/questions/47984656/how-do-i-get-an-object-inside-a-document-in-firestore", "title": "How do I get an object inside a document in Firestore", "body": "<p>I'm trying to query a specific object from a document's field</p>\n\n<p>I have stored it as an object but I'm unable to get it as an object</p>\n\n<p><img src=\"https://i.stack.imgur.com/aoRKJ.jpg\" alt=\"My firestore setup\"></p>\n\n<pre><code>   var ref = db.collection(\"users/${myauth.currentUser?.uid}/courses\").document(docs[position].id)\n       ref.get().addOnSuccessListener { documentSnapshot -&gt;\n           val mday = documentSnapshot.toObject(mday::class.java)\n           Log.w(\"\",mday.dayname)\n       }\n</code></pre>\n\n<p><code>mday</code> is the object I'm trying to get </p>\n\n<p><code>mon</code> for example is an <code>mday</code> object</p>\n"}, {"tags": ["java", "intellij-idea", "configuration", "kotlin"], "comments": [{"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1514327744, "post_id": 47984379, "comment_id": 82937786, "body": "To circumvent the smart paste, there&#39;s a &#39;Paste Simple&#39; action in the Edit menu. This doesn&#39;t answer my question, but it solves my problem for now."}], "answers": [{"comments": [{"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1514332733, "post_id": 47984544, "comment_id": 82938729, "body": "Wow.. This one isn&#39;t found when searching for &#39;java kotlin&#39;, which is something I&#39;d expect for a string &#39;Convert pasted Java code to Kotlin&#39;. Also, searches like &#39;convert java&#39; and the like don&#39;t result in the Smart Keys section. Thanks for finding this."}], "tags": [], "owner": {"reputation": 7060, "user_id": 471481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7iSM5.jpg?s=128&g=1", "display_name": "Andrei Sfat", "link": "https://stackoverflow.com/users/471481/andrei-sfat"}, "is_accepted": true, "score": 19, "last_activity_date": 1514447466, "last_edit_date": 1514447466, "creation_date": 1514328777, "answer_id": 47984544, "question_id": 47984379, "link": "https://stackoverflow.com/questions/47984379/how-do-i-disable-convert-java-to-kotlin-upon-paste-in-intellij-idea/47984544#47984544", "title": "How do I disable &#39;Convert Java to Kotlin upon paste&#39; in IntelliJ IDEA?", "body": "<p><code>Preferences -&gt; Editor -&gt; General -&gt; Smart Keys</code> and somewhere down below you should find your checkbox (took me a while to find this, phew)</p>\n\n<p><a href=\"https://i.stack.imgur.com/hf5xQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hf5xQ.png\" alt=\"Convert Kotlin to Java\"></a></p>\n"}], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1981, "favorite_count": 0, "accepted_answer_id": 47984544, "answer_count": 1, "score": 12, "last_activity_date": 1612674628, "creation_date": 1514327415, "last_edit_date": 1612674628, "question_id": 47984379, "link": "https://stackoverflow.com/questions/47984379/how-do-i-disable-convert-java-to-kotlin-upon-paste-in-intellij-idea", "title": "How do I disable &#39;Convert Java to Kotlin upon paste&#39; in IntelliJ IDEA?", "body": "<p>When IntelliJ IDEA detects I'm pasting a piece of copied Java code into a Kotlin file, it offers me to convert the pasted Java to Kotlin. This dialog contains a 'Do not ask again next time checkbox'. I checked this box and selected 'Yes', but now I want to undo my default choice. How do I do this?</p>\n<p>I've looked and searched in IntelliJ IDEA's preferences, but haven't found the respective checkbox. Is it actually in the settings, or can I somehow reset default checkbox selections?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebase-security"], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "is_accepted": true, "score": 38, "last_activity_date": 1514328629, "creation_date": 1514328629, "answer_id": 47984533, "question_id": 47984114, "link": "https://stackoverflow.com/questions/47984114/firebase-permission-denied/47984533#47984533", "title": "Firebase permission-denied", "body": "<p>I was able to solve the problem by switching from Cloud Firestore to Realtime Database, and then changing the rule. (After I've changed this, there was no more error showing!)\n<a href=\"https://i.stack.imgur.com/f4K7H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f4K7H.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "edited": false, "score": 0, "creation_date": 1514329361, "post_id": 47984586, "comment_id": 82938123, "body": "I&#39;ve also tried that, but still got permission denied. Even though I&#39;ve solved the problem in another way, I&#39;m not sure why for this :("}], "tags": [], "owner": {"reputation": 750, "user_id": 5900511, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YmGcc.jpg?s=128&g=1", "display_name": "Epicality", "link": "https://stackoverflow.com/users/5900511/epicality"}, "is_accepted": false, "score": 3, "last_activity_date": 1514329218, "creation_date": 1514329218, "answer_id": 47984586, "question_id": 47984114, "link": "https://stackoverflow.com/questions/47984114/firebase-permission-denied/47984586#47984586", "title": "Firebase permission-denied", "body": "<p>For others struggling with this problem, the proper solution is to change the <code>false</code> in </p>\n\n<pre><code>service cloud.firestore { \n    match /databases/{database}/documents {\n        match /{document=**} { \n            allow read, write: if false; \n        } \n    }\n}\n</code></pre>\n\n<p>To <code>true</code> while testing. <strong>Don't forget to add additional security when going live with your project!</strong></p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 2553289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6420773829c839bdb97cb0c7bfe27f?s=128&d=identicon&r=PG", "display_name": "Matjaz Hirsman", "link": "https://stackoverflow.com/users/2553289/matjaz-hirsman"}, "is_accepted": false, "score": 1, "last_activity_date": 1519595403, "creation_date": 1519595403, "answer_id": 48978830, "question_id": 47984114, "link": "https://stackoverflow.com/questions/47984114/firebase-permission-denied/48978830#48978830", "title": "Firebase permission-denied", "body": "<p>You should check in your Angular NgModule and components if you are using \"Realtime Database\" or \"Cloud Firestore\". See diferences using \"angularfire2\":</p>\n\n<p>REALTIME DATABASE</p>\n\n<pre><code>@NgModule({\n...\nimports: [\n    AngularFireDatabaseModule,\n    ...\n],\nproviders: [\nAngularFireDatabase,\n...\n]\n})\n\n\n@Component({...})\nexport class FirestoreComponent{\n   constructor(private realtimeDb:AngularFireDatabase, ...) {\n       this.locations = realtimeDb.list('locations').valueChanges();\n     }\n...\n}\n</code></pre>\n\n<p>CLOUD FIRESTORE</p>\n\n<pre><code>@NgModule({\n    ...\n    imports: [\n       AngularFirestoreModule,\n       ...\n    ]\n})\n\n@Component({...})\nexport class FirestoreComponent{\n   constructor(private firestore:AngularFirestore, ...) {\n       this.locations = firestore.collection('locations').valueChanges();\n     }\n...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 244, "user_id": 5248933, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-LAt-bck0rR4/AAAAAAAAAAI/AAAAAAAAADM/jZPhFIze_bY/photo.jpg?sz=128", "display_name": "Evan Ngo", "link": "https://stackoverflow.com/users/5248933/evan-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1528339528, "creation_date": 1528339528, "answer_id": 50732258, "question_id": 47984114, "link": "https://stackoverflow.com/questions/47984114/firebase-permission-denied/50732258#50732258", "title": "Firebase permission-denied", "body": "<p>Because your method query the Firebase not Cloud Firestore \nso you should use this method :</p>\n\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\n    db.collection(\"YourCollectionName\").get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    Log.d(TAG, document.getId() + \" =&gt; \" + document.getData());\n                }\n            } else {\n                Log.w(TAG, \"Error getting documents.\", task.getException());\n            }\n        }\n    });\n</code></pre>\n\n<p>dont forget this :</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-firestore:17.0.1'\n</code></pre>\n"}], "owner": {"reputation": 963, "user_id": 3415167, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48b1384ec8d31503c3b95e7fb1479f35?s=128&d=identicon&r=PG&f=1", "display_name": "user3415167", "link": "https://stackoverflow.com/users/3415167/user3415167"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8559, "favorite_count": 2, "accepted_answer_id": 47984533, "answer_count": 4, "score": 11, "last_activity_date": 1528339528, "creation_date": 1514325507, "last_edit_date": 1514341194, "question_id": 47984114, "link": "https://stackoverflow.com/questions/47984114/firebase-permission-denied", "title": "Firebase permission-denied", "body": "<p>I'm a newbie in firebase.</p>\n\n<p>How do I get through this below rule?</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if false;\n    }\n  }\n}\n</code></pre>\n\n<p>I've tried to change the rule to below,</p>\n\n<pre><code>{\n  \"rules\": \n   {\n    \".read\": true,\n    \".write\": true,\n   }\n}\n</code></pre>\n\n<p>but there's an error of</p>\n\n<pre><code>mismatched input '{' expecting {'function', 'service', 'syntax'}\n</code></pre>\n\n<p>Below is the db structure. </p>\n\n<p><a href=\"https://i.stack.imgur.com/2LTEZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2LTEZ.png\" alt=\"db structure\"></a></p>\n\n<p>Currently, this is my code (which keeps returning Permission-denied):</p>\n\n<pre><code>    // [START initialize_database_ref]\n    mDatabase = FirebaseDatabase.getInstance().reference\n    // [END initialize_database_ref]\n\n    val result = HashMap&lt;String, Any&gt; ()\n    result.put(\"timestamp\", getCurrentTime())\n    result.put(\"user_id\", USER_ID)\n    result.put(\"x_position\", -1)\n    result.put(\"y_position\", -1)\n\n    mDatabase!!.ref.child(\"raw data\").child(\"Z9QD79lDzP7MpD6feWeJ\").setValue(result).addOnFailureListener(object : OnFailureListener {\n        override fun onFailure(@NonNull e: Exception) {\n            Log.d(\"firebase\", e.localizedMessage)\n        }\n    })\n</code></pre>\n\n<p>Any help would be appreciated! Thanks :)</p>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": false, "score": 2, "last_activity_date": 1514476885, "creation_date": 1514476885, "answer_id": 48010594, "question_id": 47983510, "link": "https://stackoverflow.com/questions/47983510/there-is-a-sample-structure-for-kotlintest-project/48010594#48010594", "title": "There is a sample structure for kotlintest project", "body": "<p>There is no specific way to structure the project just for this testing framework. You should structure it as any other Kotlin project, so your test should go to <code>your-project/src/test/kotlin/com/jimmy/</code></p>\n\n<p>The important thing is just to extend one of available base classes from kotlintest eg. <code>WordSpec</code>\nYou can see how it all (both structure and tests) looks like in kotlintest itself - <a href=\"https://github.com/kotlintest/kotlintest/tree/master/src/test/kotlin/io/kotlintest\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest/tree/master/src/test/kotlin/io/kotlintest</a> </p>\n"}, {"tags": [], "owner": {"reputation": 7750, "user_id": 846089, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5ea931c9bfa020309c65b7f80c948bdb?s=128&d=identicon&r=PG", "display_name": "Horrorgoogle", "link": "https://stackoverflow.com/users/846089/horrorgoogle"}, "is_accepted": false, "score": 0, "last_activity_date": 1514480732, "creation_date": 1514480732, "answer_id": 48011464, "question_id": 47983510, "link": "https://stackoverflow.com/questions/47983510/there-is-a-sample-structure-for-kotlintest-project/48011464#48011464", "title": "There is a sample structure for kotlintest project", "body": "<p>You can test your code using spek, Here is the exaple, that might help to implement on your project.</p>\n\n<p><strong><a href=\"https://github.com/dharmakshetri/SpekExampleInKotlin\" rel=\"nofollow noreferrer\">Spek Test Example In Kotlin</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 0, "last_activity_date": 1523140918, "last_edit_date": 1523140918, "creation_date": 1522330045, "answer_id": 49557337, "question_id": 47983510, "link": "https://stackoverflow.com/questions/47983510/there-is-a-sample-structure-for-kotlintest-project/49557337#49557337", "title": "There is a sample structure for kotlintest project", "body": "<p>There are some KotlinTest sample projects in the main repo here:\n<a href=\"https://github.com/kotlintest/kotlintest/tree/master/kotlintest-samples\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest/tree/master/kotlintest-samples</a></p>\n\n<p>They use KotlinTest 3.0.x and for gradle users, the build file looks like:</p>\n\n<pre><code>apply plugin: 'org.junit.platform.gradle.plugin'\n\nbuildscript {\n    ext.kotlin_version = '1.2.31'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.junit.platform:junit-platform-gradle-plugin:1.1.0\"\n    }\n}\n\ndependencies {\n    testCompile 'io.kotlintest:kotlintest-runner-junit5:3.0.3'\n}\n</code></pre>\n\n<p>I won't include the Maven example as the pom.xml is verbose because it's XML, but you can find it in the above link.</p>\n"}], "owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 931, "favorite_count": 0, "accepted_answer_id": 49557337, "answer_count": 3, "score": 1, "last_activity_date": 1523140918, "creation_date": 1514320937, "last_edit_date": 1514480126, "question_id": 47983510, "link": "https://stackoverflow.com/questions/47983510/there-is-a-sample-structure-for-kotlintest-project", "title": "There is a sample structure for kotlintest project", "body": "<p>I'm currently playing with the Kotlin testing Framework <a href=\"https://github.com/kotlintest/kotlintest\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest</a>.</p>\n\n<p>I want to know if there is an expected way to structure the project, I mean, like a base project where I can start base on.</p>\n"}, {"tags": ["java", "android", "android-studio", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1514314253, "post_id": 47982531, "comment_id": 82933582, "body": "Fix the Gradle build error first, then see if that clears up your problem."}, {"owner": {"reputation": 825, "user_id": 3509212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8YaQB.jpg?s=128&g=1", "display_name": "Harish Vangavolu", "link": "https://stackoverflow.com/users/3509212/harish-vangavolu"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1514314973, "post_id": 47982531, "comment_id": 82933841, "body": "That worked. It turns out I just needed to install the proper sdk packages on this computer. I just didn&#39;t know the menu was directly connected to the sdk. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 3509212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8YaQB.jpg?s=128&g=1", "display_name": "Harish Vangavolu", "link": "https://stackoverflow.com/users/3509212/harish-vangavolu"}, "edited": false, "score": 0, "creation_date": 1514315123, "post_id": 47982638, "comment_id": 82933898, "body": "Yes I just needed to click and install the right packages. Thanks!"}], "tags": [], "owner": {"reputation": 237, "user_id": 2944615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e423c8fdef7fe7813490d9812bdec4?s=128&d=identicon&r=PG&f=1", "display_name": "Navin", "link": "https://stackoverflow.com/users/2944615/navin"}, "is_accepted": true, "score": 2, "last_activity_date": 1514314784, "creation_date": 1514314784, "answer_id": 47982638, "question_id": 47982531, "link": "https://stackoverflow.com/questions/47982531/how-can-i-create-new-android-activities-in-android-studio-from-the-project-explo/47982638#47982638", "title": "How can I create new Android Activities in Android Studio from the project explorer?", "body": "<p>because of your project was not configured properly , you have to first resolve you below error</p>\n\n<pre><code>failed to find target with hash string 'android-26'\n</code></pre>\n\n<p>May be you have not installed version that are you try to configure with project, before going to create any new activity try to resolve above error</p>\n\n<p>here is reference where you can find relevant solution for your problem</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40457524/failed-to-find-target-with-hash-string-android-25\">Failed to find target with hash string &#39;android-25&#39;</a></p>\n\n<p>try this , i hope this things will help you thanks</p>\n"}], "owner": {"reputation": 825, "user_id": 3509212, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8YaQB.jpg?s=128&g=1", "display_name": "Harish Vangavolu", "link": "https://stackoverflow.com/users/3509212/harish-vangavolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 47982638, "answer_count": 1, "score": 0, "last_activity_date": 1514314784, "creation_date": 1514314096, "question_id": 47982531, "link": "https://stackoverflow.com/questions/47982531/how-can-i-create-new-android-activities-in-android-studio-from-the-project-explo", "title": "How can I create new Android Activities in Android Studio from the project explorer?", "body": "<p>How can I see templates for creating new Activities, Fragments, and other Android related files in the 'New' Menu in Android Studio?</p>\n\n<p><a href=\"https://i.stack.imgur.com/xrva3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xrva3.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-download-manager", "download-manager", "android-8.0-oreo"], "comments": [{"owner": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 1, "creation_date": 1515263653, "post_id": 47982409, "comment_id": 83237999, "body": "hi, did you figure it out why that was happening?"}, {"owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "reply_to_user": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 3, "creation_date": 1515264991, "post_id": 47982409, "comment_id": 83238386, "body": "Seems like it&#39;s a simulator related issue, I found a workaround: request.setAllowedNetworkTypes(DownloadManager.Request.NETWO&zwnj;&#8203;RK_WIFI or DownloadManager.Request.NETWORK_MOBILE)"}, {"owner": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 2, "creation_date": 1515265064, "post_id": 47982409, "comment_id": 83238407, "body": "oh great! you should post it as an answer - I am going crazy here looking through all api diffs to see if they just forgot to document the change"}], "answers": [{"comments": [{"owner": {"reputation": 58167, "user_id": 1333975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G2aQ2.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1333975/ahmad"}, "edited": false, "score": 1, "creation_date": 1515265484, "post_id": 48130822, "comment_id": 83238523, "body": "Oooh I found out why! My emulator is set to be running on mobile data instead of wifi: <a href=\"https://i.imgur.com/OvdDvX8.png\" rel=\"nofollow noreferrer\">i.imgur.com/OvdDvX8.png</a>"}], "tags": [], "owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "is_accepted": false, "score": 2, "last_activity_date": 1515265640, "last_edit_date": 1515265640, "creation_date": 1515265427, "answer_id": 48130822, "question_id": 47982409, "link": "https://stackoverflow.com/questions/47982409/android-oreo-api26-and-android-app-downloadmanager/48130822#48130822", "title": "Android Oreo (API26) and android.app.DownloadManager", "body": "<p>I found that the API 26 emulators simulate network requests over mobile data, so the simplest workaround is adding the <code>NETWORK_MOBILE</code> flag (at least for debugging the <code>DownloadManager</code>):</p>\n\n<pre><code>request.setAllowedNetworkTypes(DownloadManager.Request.NETWO\u200c\u200bRK_WIFI | DownloadManager.Request.NETWORK_MOBILE) \n</code></pre>\n"}], "owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2280, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1540315053, "creation_date": 1514313289, "last_edit_date": 1540315053, "question_id": 47982409, "link": "https://stackoverflow.com/questions/47982409/android-oreo-api26-and-android-app-downloadmanager", "title": "Android Oreo (API26) and android.app.DownloadManager", "body": "<p>Folks!\nThis code doesn't work on Android Oreo (but ok on older versions, I can see notifications and the <code>DownloadManager.ACTION_DOWNLOAD_COMPLETE</code> broadcast message).</p>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>testButton.setOnClickListener {\n    val downloadManager = getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    val uri = Uri.parse(\"[url for a mp3 file]\")\n    val request = DownloadManager.Request(uri)\n\n    request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI)\n    request.setAllowedOverRoaming(false)\n    request.setTitle(\"Test mp3\")\n    request.setDescription(\"Wow!\")\n    request.setVisibleInDownloadsUi(true)\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE)\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, \"/GadgetSaint/\"  + \"/\" + \"Sample\" + \".mp3\")\n\n    val reference = downloadManager.enqueue(request)\n}\n</code></pre>\n"}, {"tags": ["java", "json", "jackson", "kotlin", "deserialization"], "comments": [{"owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "edited": false, "score": 0, "creation_date": 1550234930, "post_id": 47982148, "comment_id": 96204762, "body": "you need just need .setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)         .setVisibility(PropertyAccessor.IS_GETTER, JsonAutoDetect.Visibility.NONE). Issue depends on specific handling of &quot;is&quot; getters"}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 3, "creation_date": 1514377388, "post_id": 47982385, "comment_id": 82952415, "body": "Thanks, it&#39;s a good idea, I have tried it. But default  SNAKE_CASE translation has a poor implementation. A lot of fields are resolved incorrectly. For example, iso4217 -&gt; not translated into iso_4217, iXRateSource -&gt; i_x_rate_source and so on"}], "tags": [], "owner": {"reputation": 2760, "user_id": 3539973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8fde26e963ed317dbc2b1998543cf8?s=128&d=identicon&r=PG", "display_name": "Prim", "link": "https://stackoverflow.com/users/3539973/prim"}, "is_accepted": false, "score": 4, "last_activity_date": 1514313102, "creation_date": 1514313102, "answer_id": 47982385, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/47982385#47982385", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>You can configure the ObjectMapper from the jackson library by calling the method <code>setPropertyNamingStrategy(...)</code></p>\n\n<p>Using <code>PropertyNamingStrategy.SNAKE_CASE</code> should resolve your problem</p>\n\n<p>See also the other available strategies here : <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/PropertyNamingStrategy.html\" rel=\"nofollow noreferrer\">PropertyNamingStrategy</a></p>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 0, "creation_date": 1514388310, "post_id": 47984845, "comment_id": 82957303, "body": "Thanks, I set the visibility modifier globally"}, {"owner": {"reputation": 1784, "user_id": 2754507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4k0D3.jpg?s=128&g=1", "display_name": "Mario Trucco", "link": "https://stackoverflow.com/users/2754507/mario-trucco"}, "edited": false, "score": 0, "creation_date": 1535446142, "post_id": 47984845, "comment_id": 91057627, "body": "I have <code>jackson-annotations-2.9.0</code> and there is no <code>PRIVATE</code> option. I tried with <code>ANY</code>, but the property is still ignored. <a href=\"https://github.com/FasterXML/jackson-annotations/blob/master/src/main/java/com/fasterxml/jackson/annotation/JsonAutoDetect.java\" rel=\"nofollow noreferrer\">View Source code</a>"}, {"owner": {"reputation": 1561, "user_id": 3859199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26she.jpg?s=128&g=1", "display_name": "Bwvolleyball", "link": "https://stackoverflow.com/users/3859199/bwvolleyball"}, "edited": false, "score": 2, "creation_date": 1568237002, "post_id": 47984845, "comment_id": 102215010, "body": "The <a href=\"https://stackoverflow.com/a/54977519/3859199\">answer down below</a> that uses <code>@param:JsonProperty(&quot;&quot;)</code> is also critical if you&#39;re trying to replicate this for something that doesn&#39;t happen when you are getting the value, i.e. custom Json Deserializers that happen on construction."}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": true, "score": 71, "last_activity_date": 1564566698, "last_edit_date": 1564566698, "creation_date": 1514332009, "answer_id": 47984845, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/47984845#47984845", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p><code>@JsonProperty</code> annotations in your code are all put on private fields within your data class and by default Jackson doesn't scan private fields for annotations. You have to instruct it to do otherwise by putting <code>@JsonAutoDetect</code> annotation:</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = Visibility.ANY)\ndata class CurrencyInfo(\n    @JsonProperty(\"currency_info\") var currencyInfo: CurrencyInfoItem?\n)\n</code></pre>\n\n<p>or alternatively you can move your annotations on accessor methods:</p>\n\n<pre><code>data class CurrencyInfo(\n    @get:JsonProperty(\"currency_info\") var currencyInfo: CurrencyInfoItem?\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 2, "creation_date": 1539347945, "post_id": 52777594, "comment_id": 92480979, "body": "It was used from the very beginning. You could even check the initialization in the question post."}, {"owner": {"reputation": 13487, "user_id": 808723, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aa21b8db834bf46e629e6183cdc11f82?s=128&d=identicon&r=PG", "display_name": "GameScripting", "link": "https://stackoverflow.com/users/808723/gamescripting"}, "reply_to_user": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "edited": false, "score": 1, "creation_date": 1540291482, "post_id": 52777594, "comment_id": 92802224, "body": "@Mike yeah, right I missed that one. It however did the job for me."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1568886854, "post_id": 52777594, "comment_id": 102421022, "body": "By far it is the best answer here: registering this module not only resolves the issue without needing to type <code>@get:</code> or use other tweaks, but improves Kotlin&lt;&gt;Jackson interop overall."}], "tags": [], "owner": {"reputation": 13487, "user_id": 808723, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aa21b8db834bf46e629e6183cdc11f82?s=128&d=identicon&r=PG", "display_name": "GameScripting", "link": "https://stackoverflow.com/users/808723/gamescripting"}, "is_accepted": false, "score": 5, "last_activity_date": 1539340639, "last_edit_date": 1539340639, "creation_date": 1539340204, "answer_id": 52777594, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/52777594#52777594", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>You can add the <code>jackson-module-kotlin</code> (<a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-module-kotlin</a>) and register the kotlin module with jackson:</p>\n\n<pre><code>val mapper = ObjectMapper().registerModule(KotlinModule())\n</code></pre>\n\n<p>Then it (and many other things) works automagically.</p>\n"}, {"tags": [], "owner": {"reputation": 3269, "user_id": 5868421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EqgS.png?s=128&g=1", "display_name": "Maksim Turaev", "link": "https://stackoverflow.com/users/5868421/maksim-turaev"}, "is_accepted": false, "score": 7, "last_activity_date": 1568357875, "last_edit_date": 1568357875, "creation_date": 1551679893, "answer_id": 54977519, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/54977519#54977519", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>You can do something like this:</p>\n\n<pre><code>data class CurrencyInfo @JsonCreator constructor (\n        @param:JsonProperty(\"currency_info\") \n        @get:JsonProperty(\"currency_info\")\n        val currencyInfo: CurrencyInfoItem?\n)\n</code></pre>\n\n<p>code above translates to java as:</p>\n\n<pre><code>public final class CurrencyInfo {\n   @Nullable\n   private final String currencyInfo;\n\n   @JsonProperty(\"currency_info\")\n   @Nullable\n   public final String getCurrencyInfo() {\n      return this.currencyInfo;\n   }\n\n   @JsonCreator\n   public CurrencyInfo(@JsonProperty(\"currency_info\") @Nullable String currencyInfo) {\n      this.currencyInfo = currencyInfo;\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>code from accepted answer translates to java as following:</p>\n\n<p>First (is not pure immutable):</p>\n\n<pre><code>@JsonAutoDetect(\n   fieldVisibility = Visibility.ANY\n)\npublic final class CurrencyInfo {\n   @Nullable\n   private String currencyInfo;\n\n   @Nullable\n   public final String getCurrencyInfo() {\n      return this.currencyInfo;\n   }\n\n   public final void setCurrencyInfo(@Nullable String var1) {\n      this.currencyInfo = var1;\n   }\n\n   public CurrencyInfo(@JsonProperty(\"currency_info\") @Nullable String currencyInfo) {\n      this.currencyInfo = currencyInfo;\n   }\n}\n</code></pre>\n\n<p>Second (probably has problems with deserialization):</p>\n\n<pre><code>public final class CurrencyInfo {\n   @Nullable\n   private final String currencyInfo;\n\n   @JsonProperty(\"currency_info\")\n   @Nullable\n   public final String getCurrencyInfo() {\n      return this.currencyInfo;\n   }\n\n   public CurrencyInfo(@Nullable String currencyInfo) {\n      this.currencyInfo = currencyInfo;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 2237302, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IeCxB.jpg?s=128&g=1", "display_name": "Ivan Rodrigues", "link": "https://stackoverflow.com/users/2237302/ivan-rodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1584717407, "creation_date": 1584717407, "answer_id": 60776884, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/60776884#60776884", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>I faced this problem today and what I did was register KotlinModule() in my ObjectMapper(). Bellows follow an example.</p>\n\n<pre><code>@Bean fun objectMapper = ObjectMapper().registreModule(KotlinModule())\n</code></pre>\n\n<p>Above it's a dummy objectMapper, I believe that you should put other configurations in your objectMapper like serializers and so on</p>\n"}, {"tags": [], "owner": {"reputation": 6601, "user_id": 2075875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0b3e3d0b29b541cd13a60a9236f02ac?s=128&d=identicon&r=PG", "display_name": "Malachiasz", "link": "https://stackoverflow.com/users/2075875/malachiasz"}, "is_accepted": false, "score": 2, "last_activity_date": 1591708182, "creation_date": 1591708182, "answer_id": 62283416, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/62283416#62283416", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>Kotlin doesn't support @param and @get annotations as one annotation, so we have to write such code:</p>\n\n<pre><code>data class User(\n    @param:JsonProperty(\"id\") @get:JsonProperty(\"id\") val id: Int,\n    @param:JsonProperty(\"name\") @get:JsonProperty(\"name\") val name: String\n)\n</code></pre>\n\n<p>Here you can tell JetBrain guys to support this feature and allow:</p>\n\n<pre><code>data class User(\n    @JsonProperty(\"id\") val id: Int,\n    @JsonProperty(\"name\") val name: String\n)\n</code></pre>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-11005\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-11005</a></p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 1924897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a56ab9f9e36367adbc7976ca7e29d1e?s=128&d=identicon&r=PG", "display_name": "naren2605", "link": "https://stackoverflow.com/users/1924897/naren2605"}, "is_accepted": false, "score": 0, "last_activity_date": 1614674384, "creation_date": 1614674384, "answer_id": 66435944, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes/66435944#66435944", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>this issue is resolved in</p>\n<pre><code>    https://github.com/FasterXML/jackson-module-kotlin/issues/237\n</code></pre>\n<p>or you can also use</p>\n<pre><code>    data class SignRequest{\n        @param:JsonProperty(&quot;estamp_request&quot;)\n        @get:JsonProperty(&quot;estamp_request&quot;)\n        val eStamp: EstampRequest?\n    }\n\n    data class EstampRequest(\n        val tags: Map&lt;String,Int&gt;\n    )\n\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 5177660, "user_type": "registered", "profile_image": "https://graph.facebook.com/1017631628270512/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/5177660/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31732, "favorite_count": 6, "accepted_answer_id": 47984845, "answer_count": 7, "score": 46, "last_activity_date": 1614674384, "creation_date": 1514311709, "last_edit_date": 1514388238, "question_id": 47982148, "link": "https://stackoverflow.com/questions/47982148/usage-of-jackson-jsonproperty-annotation-for-kotlin-data-classes", "title": "Usage of Jackson @JsonProperty annotation for kotlin data classes", "body": "<p>kotlin 1.2.10\njackson-module-kotlin:2.9.0</p>\n\n<p>I have the following data class in kotlin:</p>\n\n<pre><code>data class CurrencyInfo(\n        @JsonProperty(\"currency_info\") var currencyInfo: CurrencyInfoItem?\n)\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\ndata class CurrencyInfoItem(\n        @JsonProperty(\"iso_4217\") var iso4217: String?,\n        @JsonProperty(\"name\") var name: String?,\n        @JsonProperty(\"name_major\") var nameMajor: String?,\n        @JsonProperty(\"name_minor\") var nameMinor: String?,\n        @JsonProperty(\"i_ma_currency\") var iMaCurrency: Int?,\n        @JsonProperty(\"i_merchant_account\") var iMerchantAccount: Int?,\n        @JsonProperty(\"i_x_rate_source\") var iXRateSource: Int?,\n        @JsonProperty(\"base_units\") var baseUnits: Double?,\n        @JsonProperty(\"min_allowed_payment\") var minAllowedPayment: Int?,\n        @JsonProperty(\"decimal_digits\") var decimalDigits: Int?,\n        @JsonProperty(\"is_used\") var isUsed: Boolean?\n)\n</code></pre>\n\n<p>When I try to deserialize this data class I get the following:</p>\n\n<pre><code>{\"currency_info\":{\"iso_4217\":\"CAD\",\"name\":\"Canadian Dollar\",\"imerchantAccount\":0,\"ixrateSource\":2}}\n</code></pre>\n\n<p>As you can see, the last two options were deserialized incorrectly.\nThis issue could be solved by adding directly annotation to getter @get:JsonProperty. However, according to jackson docs @JsonProperty should be assigned to getters/setters/fields</p>\n\n<p>So, I want to ask is there a reliable way to annotate property for jackson in kotlin to have correct serialization/deserialization (moreover all my data classes are autogenerated, so it would be hard to create some two/three lines annotations, separately for getter and setter)</p>\n\n<p>Otherwise, could this issue be resolved by some jackson settings?</p>\n\n<p>According to answers below, the following works for me</p>\n\n<pre><code>private val mapper = ObjectMapper().registerKotlinModule()\n.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)\n.setVisibility(PropertyAccessor.CREATOR, JsonAutoDetect.Visibility.NONE)\n.setVisibility(PropertyAccessor.GETTER, JsonAutoDetect.Visibility.NONE)\n.setVisibility(PropertyAccessor.SETTER, JsonAutoDetect.Visibility.NONE)\n.setVisibility(PropertyAccessor.IS_GETTER, JsonAutoDetect.Visibility.NONE)\n</code></pre>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 2691976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2aadc548cc82589924d62ce7bae74000?s=128&d=identicon&r=PG&f=1", "display_name": "pk028382", "link": "https://stackoverflow.com/users/2691976/pk028382"}, "is_accepted": false, "score": 0, "last_activity_date": 1514391646, "creation_date": 1514391646, "answer_id": 47995397, "question_id": 47981632, "link": "https://stackoverflow.com/questions/47981632/cannot-uniquely-identify-layout-when-adding-nested-fragments-with-fragmenttransa/47995397#47995397", "title": "Cannot uniquely identify layout when adding nested fragments with fragmenttransaction", "body": "<p>I solved my problem without getting the new container id.</p>\n\n<p>I decided to remove fragmenttransaction and add the fragment in the xml. Then in the fragment (parent fragment) that contains the sub-fragment, get the sub-fragment with <code>childFragmentManager.findFragmentById(R.id.fragment)</code>. Finally update the content of the sub-fragment from the parent fragment.</p>\n\n<pre><code>class TestActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_test)\n\n        val fragment1 = TestFragment.newInstance(1)\n        supportFragmentManager.beginTransaction().replace(R.id.container, fragment1).commit()\n\n        val fragment2 = TestFragment.newInstance(2)\n        supportFragmentManager.beginTransaction().add(R.id.container, fragment2).addToBackStack(null).commit()\n\n        val fragment3 = TestFragment.newInstance(3)\n        supportFragmentManager.beginTransaction().add(R.id.container, fragment3).addToBackStack(null).commit()\n    }\n}\n\nclass TestFragment : Fragment() {\n    private var id: Int? = null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v = inflater!!.inflate(R.layout.fragment_test, container, false)\n        val subFragment = childFragmentManager.findFragmentById(R.id.fragment) as TestSubFragment\n        subFragment.view?.findViewById&lt;TextView&gt;(R.id.id_text)?.text = id.toString()\n        return v\n    }\n\n    companion object {\n        fun newInstance(id: Int): TestFragment {\n            val fragment = TestFragment()\n            fragment.id = id\n            return fragment\n        }\n    }\n}\n\nclass TestSubFragment : Fragment() {\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater!!.inflate(R.layout.fragment_sub_test, container, false)\n    }\n}\n</code></pre>\n\n<p>activity_test.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"ckl.happens.TestActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>fragment_test.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    tools:context=\"ckl.happens.TestFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragment\"\n        android:name=\"ckl.happens.TestSubFragment\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>fragment_sub_test.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    tools:context=\"ckl.happens.TestFragment\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/id_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:text=\"\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 2691976, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2aadc548cc82589924d62ce7bae74000?s=128&d=identicon&r=PG&f=1", "display_name": "pk028382", "link": "https://stackoverflow.com/users/2691976/pk028382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1514391646, "creation_date": 1514308422, "question_id": 47981632, "link": "https://stackoverflow.com/questions/47981632/cannot-uniquely-identify-layout-when-adding-nested-fragments-with-fragmenttransa", "title": "Cannot uniquely identify layout when adding nested fragments with fragmenttransaction", "body": "<p>I am trying to do the following:</p>\n\n<ol>\n<li>In activity, <strong>replace</strong> the container with a fragment (TestFragment)</li>\n<li>This fragment's layout contains a container which is <strong>replaced</strong> by another fragment (TestSubFragment)</li>\n<li>Clicking on the TestSubFragment makes the activity <strong>add</strong> a new TestFragment over the root container</li>\n</ol>\n\n<p>TestActivity.kt</p>\n\n<pre><code>class TestActivity : AppCompatActivity(), TestSubFragment.OnFragmentInteractionListener {\n\noverride fun onFragmentInteraction(id: Int) {\n    supportFragmentManager.beginTransaction().add(R.id.container, TestFragment.newInstance(id)).addToBackStack(null).commit()\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_test)\n    supportFragmentManager.beginTransaction().replace(R.id.container, TestFragment.newInstance(1)).addToBackStack(null).commit()\n}\n}\n</code></pre>\n\n<p>TestFragment.kt</p>\n\n<pre><code>class TestFragment : Fragment() {\n\nprivate var id: Int? = null\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val v = inflater!!.inflate(R.layout.fragment_test, container, false)\n    activity.supportFragmentManager.beginTransaction().replace(R.id.sub_fragment_container, TestSubFragment.newInstance(id!!)).commit()\n    return v\n}\ncompanion object {\n    fun newInstance(id: Int): TestFragment {\n        val fragment = TestFragment()\n        fragment.id = id\n        return fragment\n    }\n}\n}\n</code></pre>\n\n<p>TestSubFragment.kt</p>\n\n<pre><code>class TestSubFragment : Fragment() {\n\nprivate var mListener: OnFragmentInteractionListener? = null\nprivate var id: Int? = null\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val v = inflater!!.inflate(R.layout.fragment_sub_test, container, false)\n    v.id_text.text = id.toString()\n    v.id_text.setOnClickListener { _ -&gt; mListener?.onFragmentInteraction(v.id_text.text.toString().toInt() + 1) }\n    return v\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    if (context is OnFragmentInteractionListener) {\n        mListener = context\n    }\n}\n\ninterface OnFragmentInteractionListener {\n    fun onFragmentInteraction(id: Int)\n}\n\ncompanion object {\n    fun newInstance(id: Int): TestSubFragment {\n        val fragment = TestSubFragment()\n        fragment.id = id\n        return fragment\n    }\n}\n}\n</code></pre>\n\n<p>activity_test.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"ckl.happens.TestActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>fragment_test.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    tools:context=\"ckl.happens.TestFragment\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/sub_fragment_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>fragment_sub_test.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    tools:context=\"ckl.happens.TestFragment\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/id_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:text=\"@string/hello_blank_fragment\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Problem is that the replace fragment line in TestFragment.kt is finding the first R.id.sub_fragment_container from the xml hierarchy so it is replacing the incorrect container instead of the last/new container.</p>\n\n<p>I tried adding tag in fragmenttransaction or change R.id.sub_fragment_container to v.sub_fragment_container.id but no luck.</p>\n\n<p>I don't want to change add() to replace() in onFragmentInteraction because the fragment will be recreated and I want to keep everything in the fragment unchanged when the user back to that fragment. </p>\n\n<p>I can't find detailed article on nesting fragments for my case. </p>\n\n<p>I am working with Kotlin but I can also understand Java. Thank you!</p>\n"}, {"tags": ["spring", "logging", "annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 879951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6bucY.jpg?s=128&g=1", "display_name": "ymkjp", "link": "https://stackoverflow.com/users/879951/ymkjp"}, "is_accepted": false, "score": 1, "last_activity_date": 1525982044, "last_edit_date": 1525982044, "creation_date": 1514307440, "answer_id": 47981489, "question_id": 47981488, "link": "https://stackoverflow.com/questions/47981488/annotation-injection-for-spring-with-kotlin/47981489#47981489", "title": "Annotation Injection for Spring with Kotlin", "body": "<p>Assuming you are trying to inject logger annotation into Spring application.</p>\n\n<p>Here's annotation class example: <em>Log.kt</em></p>\n\n<pre><code>package com.example.util\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\n@MustBeDocumented\nannotation class Log\n</code></pre>\n\n<p>This class injects annotation at runtime: <em>LogInjector.kt</em></p>\n\n<pre><code>package com.example.util\nimport org.slf4j.LoggerFactory\nimport org.springframework.beans.BeansException\nimport org.springframework.beans.factory.config.BeanPostProcessor\nimport org.springframework.stereotype.Component\nimport org.springframework.util.ReflectionUtils\nimport java.lang.reflect.Field\n\n@Component\nclass LogInjector: BeanPostProcessor {\n\n  @Throws(BeansException::class)\n  override fun postProcessAfterInitialization(bean: Any, beanName: String): Any {\n    return bean\n  }\n\n  @Throws(BeansException::class)\n  override fun postProcessBeforeInitialization(bean: Any, name: String): Any {\n    ReflectionUtils.doWithFields(bean.javaClass,\n      @Throws(IllegalArgumentException::class, IllegalAccessException::class) { field: Field -&gt;\n        // SAM conversion for Java interface \n        ReflectionUtils.makeAccessible(field)\n        if (field.getAnnotation(Log::class.java) != null) {\n          val log = LoggerFactory.getLogger(bean.javaClass)\n          field.set(bean, log)\n        }\n      }\n    )\n    return bean\n  }\n}\n</code></pre>\n\n<p>Then, this class uses <code>@Log</code> annotation: <em>GreetingController.kt</em></p>\n\n<pre><code>package com.example.web\nimport org.slf4j.Logger\nimport org.springframework.web.bind.annotation.*\n\n@RestController\nclass GreetingController {\n  @Log lateinit private var logger: Logger\n\n  @RequestMapping(\"/greeting\")\n  fun greeting(): String {\n    logger.info(\"Greeting endpoint was called\")\n    return \"Hello\"\n  }\n}\n</code></pre>\n\n<p>To avoid calling logger in null-safe like <code>logger?.info('...')</code>, this example marks the property with <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">the late-initialized modifier</a>.</p>\n"}], "owner": {"reputation": 81, "user_id": 879951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6bucY.jpg?s=128&g=1", "display_name": "ymkjp", "link": "https://stackoverflow.com/users/879951/ymkjp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525982044, "creation_date": 1514307440, "question_id": 47981488, "link": "https://stackoverflow.com/questions/47981488/annotation-injection-for-spring-with-kotlin", "title": "Annotation Injection for Spring with Kotlin", "body": "<p>Kotlin cannot inject annotation at compile time such as by existing library <a href=\"https://stackoverflow.com/a/35530223/879951\">Lombok</a>. Is there any decent way to inject annotation for spring framework at runtime?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "reply_to_user": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "edited": false, "score": 0, "creation_date": 1514378969, "post_id": 47981350, "comment_id": 82953118, "body": "@fmaccaroni Maybe you&#39;re right. What do I do now? Can I withdraw my question?"}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "edited": false, "score": 0, "creation_date": 1514385393, "post_id": 47981350, "comment_id": 82956029, "body": "you can either delete it if you want or leave it and some moderator will see the flag and decide whether it is indeed a duplicate or not"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "reply_to_user": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "edited": false, "score": 0, "creation_date": 1514497486, "post_id": 47981350, "comment_id": 82998469, "body": "@fmaccaroni If you want to reply, I&#39;ll mark it. Because this post solved my problem."}, {"owner": {"reputation": 3581, "user_id": 6248510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ec67e75f692f7cf769d408697b1385b?s=128&d=identicon&r=PG", "display_name": "fmaccaroni", "link": "https://stackoverflow.com/users/6248510/fmaccaroni"}, "edited": false, "score": 0, "creation_date": 1514499530, "post_id": 47981350, "comment_id": 82999195, "body": "just vote that post, it&#39;s the right thing to do when is a duplicate :D"}], "owner": {"user_type": "does_not_exist", "display_name": "user6008330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "closed_date": 1514499178, "answer_count": 0, "score": 0, "last_activity_date": 1514316956, "creation_date": 1514306530, "last_edit_date": 1514316956, "question_id": 47981350, "link": "https://stackoverflow.com/questions/47981350/is-it-possible-to-set-a-url-image-on-the-tablayout-icon", "closed_reason": "Duplicate", "title": "Is it possible to set a URL image on the tablayout icon?", "body": "<p>I have a tablayout on HomeActivity, and it has a static icon. I would like to know if it is possible and how to make so that in this icon, the user's photo is shown. It comes through a URL.</p>\n\n<p>Here is the code for Activity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setSupportActionBar(binding.toolbar)\n\n    binding.search.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(p0: View?) {\n            startActivity(Intent(this@HomeActivity, SearchActivity::class.java))\n        }\n    })\n\n    binding.tabLayout.addTab(binding.tabLayout.newTab().setIcon(R.drawable.ic_message_24dp))\n    binding.tabLayout.addTab(binding.tabLayout.newTab().setIcon(R.drawable.ic_history_24dp))\n    binding.tabLayout.addTab(binding.tabLayout.newTab().setIcon(R.drawable.ic_people_24dp))\n    binding.tabLayout.addTab(binding.tabLayout.newTab().setIcon(R.drawable.ic_settings_24dp))\n\n    pagerAdapter = HomePagerAdapter(supportFragmentManager, binding.tabLayout.tabCount)\n\n    binding.viewPager.adapter = pagerAdapter\n    binding.viewPager.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(binding.tabLayout))\n    binding.tabLayout.setOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n        override fun onTabSelected(tab: TabLayout.Tab) {\n            binding.viewPager.currentItem = tab.position\n        }\n\n        override fun onTabUnselected(tab: TabLayout.Tab) {}\n        override fun onTabReselected(tab: TabLayout.Tab) {}\n    })\n\n    //registerMessagesObserver()\n    if (savedInstanceState == null) {\n\n    }\n}\n</code></pre>\n\n<p>The icon in question would be the <code>binding.tabLayout.addTab (binding.tabLayout.newTab().SetIcon(R.drawable.ic_settings_24dp))</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1514298649, "post_id": 47979930, "comment_id": 82928427, "body": "Remove the <code>return</code>."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 6, "creation_date": 1514298738, "post_id": 47979930, "comment_id": 82928451, "body": "FWIW, you can also achieve this entire thing with <code>val itemMap = items.groupBy { it.state }</code>."}, {"owner": {"reputation": 89, "user_id": 5730779, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hNzXYMys5ac/AAAAAAAAAAI/AAAAAAAACYk/TADm4donQfo/photo.jpg?sz=128", "display_name": "Oliver", "link": "https://stackoverflow.com/users/5730779/oliver"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514303786, "post_id": 47979930, "comment_id": 82930210, "body": "Thanks @OliverCharlesworth. This is a lot easier. I didn&#39;t know about the groupBy function."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 13, "last_activity_date": 1514301811, "last_edit_date": 1514301811, "creation_date": 1514298717, "answer_id": 47979975, "question_id": 47979930, "link": "https://stackoverflow.com/questions/47979930/how-to-use-kotlin-fold-function-to-convert-an-array-into-a-map/47979975#47979975", "title": "How to use Kotlin fold function to convert an array into a map?", "body": "<p>Use the qualified <code>return@fold</code> operator instead of <code>return</code>. In Kotlin, <code>return</code> without a qualifier means 'return from the innermost <code>fun</code> (ignoring lambdas)'.</p>\n\n<pre><code>val itemMap = items.fold(mutableMapOf&lt;Int, MutableList&lt;Item&gt;&gt;(), { acc, item -&gt;\n    if (acc.containsKey(item.state)) {\n        acc[item.state]?.add(item)\n    } else {\n        acc.put(item.state, mutableListOf(item))\n    }\n    return@fold acc\n})\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/40160489/kotlin-whats-does-return-mean\">Whats does \u201creturn@\u201d mean?</a>, <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">Return at Labels</a> in the language reference.</p>\n\n<p>Or just use the <a href=\"https://stackoverflow.com/questions/41620937/implicit-return-from-lambda-in-kotlin\">result expression</a>, omitting <code>return</code>:</p>\n\n<pre><code>val itemMap = items.fold(mutableMapOf&lt;Int, MutableList&lt;Item&gt;&gt;(), { acc, item -&gt;\n    if (acc.containsKey(item.state)) {\n        acc[item.state]?.add(item)\n    } else {\n        acc.put(item.state, mutableListOf(item))\n    }\n    acc\n})\n</code></pre>\n\n<p>Basically, this kind of fold is implemented in the standard library: see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"noreferrer\"><code>.groupBy { ... }</code></a>.</p>\n"}], "owner": {"reputation": 89, "user_id": 5730779, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hNzXYMys5ac/AAAAAAAAAAI/AAAAAAAACYk/TADm4donQfo/photo.jpg?sz=128", "display_name": "Oliver", "link": "https://stackoverflow.com/users/5730779/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1964, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1516206610, "creation_date": 1514298461, "last_edit_date": 1516206610, "question_id": 47979930, "link": "https://stackoverflow.com/questions/47979930/how-to-use-kotlin-fold-function-to-convert-an-array-into-a-map", "title": "How to use Kotlin fold function to convert an array into a map?", "body": "<p>I am trying to convert an Array via fold into an indexed Map. Somehow IntelliJ flags that when I return the accumulator that it expects Unit. When I remove the return it complains that I require the datatype I originally wanted to return. </p>\n\n<p>The code is as follows (Item is just a data class)</p>\n\n<pre><code>    constructor(vararg items: Item){\n    val itemMap = items.fold(mutableMapOf&lt;Int, MutableList&lt;Item&gt;&gt;(), { acc, item -&gt;\n        if (acc.containsKey(item.state)) {\n            acc[item.state]?.add(item)\n        } else {\n            acc.put(item.state, mutableListOf(item))\n        }\n        return acc\n    })\n\n}\n</code></pre>\n\n<p>Its a bit late here so I probably miss something very obvious. Any help would be very appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "floating-action-button"], "comments": [{"owner": {"reputation": 1167, "user_id": 3425523, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/695032adaf31472878974b2c2d72fad1?s=128&d=identicon&r=PG", "display_name": "jossiwolf", "link": "https://stackoverflow.com/users/3425523/jossiwolf"}, "edited": false, "score": 0, "creation_date": 1514298719, "post_id": 47979777, "comment_id": 82928449, "body": "Try calling <code>View#requestLayout</code> after setting the layout params."}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1514301506, "post_id": 47980211, "comment_id": 82929441, "body": "Thank you for help.It worked.And about your suggestion, Is there an efficient way to get the reference to elements of activity in the fragment?"}, {"owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "reply_to_user": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1514302178, "post_id": 47980211, "comment_id": 82929666, "body": "Keep a reference of views as <i>instance</i> variables (or fields) of your activity. You can retrieve a reference to a specific view with <code>findViewById</code> in <code>onCreate</code>, then use that variable in <code>onResume</code> or any other method."}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1514303298, "post_id": 47980211, "comment_id": 82930057, "body": "As a beginner consideration for things like memory leaks don&#39;t come naturally in my daily coding practice. Thank you for a guidance :)"}], "tags": [], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "is_accepted": true, "score": 0, "last_activity_date": 1514299936, "creation_date": 1514299936, "answer_id": 47980211, "question_id": 47979777, "link": "https://stackoverflow.com/questions/47979777/android-how-to-set-gravity-of-floating-action-button-programmatically/47980211#47980211", "title": "Android : How to set gravity of Floating Action Button Programmatically?", "body": "<p>In your XML file, add the <code>app:layout_anchor</code> property for <code>FloatingActionButton</code>, as <code>layout_anchorGravity</code> is only taken into account if you specify an anchor view.</p>\n\n<p>In your case, this anchor may be <code>@id/frameBaseFragment</code>. Note that if you want to move <code>FloatingActionButton</code> to the bottom-end of its <code>CoordinatorLayout</code> parent, you may instead change the value of <code>layoutGravity</code>.</p>\n\n<p>Also, it is strongly discouraged to store references to Views in static variables as it prevents the associated <code>Activity</code> from being garbage-collected, causing huge memory leaks. This might also be the cause of your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 4427, "user_id": 2111778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vP0ug.jpg?s=128&g=1", "display_name": "xjcl", "link": "https://stackoverflow.com/users/2111778/xjcl"}, "is_accepted": false, "score": -1, "last_activity_date": 1593824099, "creation_date": 1593824099, "answer_id": 62724212, "question_id": 47979777, "link": "https://stackoverflow.com/questions/47979777/android-how-to-set-gravity-of-floating-action-button-programmatically/62724212#62724212", "title": "Android : How to set gravity of Floating Action Button Programmatically?", "body": "<p><code>fab</code> does not have a <code>gravity</code> property but other layouts do. So an approach I found was to wrap the <code>fab</code> I have in another layout:</p>\n<pre><code>// ... FloatingActionButton fab defined somewhere ...\n\nval fabHolder = LinearLayout(this.context)  // layout type irrelevant\nfabHolder.layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT)\nfabHolder.gravity = Gravity.END or Gravity.BOTTOM  // bottom-right\nfabHolder.addView(fab)\n\nrelView.addView(fabHolder)\n</code></pre>\n<p>This replaces the following line of code:</p>\n<pre><code>relView.addView(fab)\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 0, "accepted_answer_id": 47980211, "answer_count": 2, "score": 1, "last_activity_date": 1593824099, "creation_date": 1514297541, "question_id": 47979777, "link": "https://stackoverflow.com/questions/47979777/android-how-to-set-gravity-of-floating-action-button-programmatically", "title": "Android : How to set gravity of Floating Action Button Programmatically?", "body": "<p>I want to move the position of Floating action button programmatically at a certain place in some fragment because sometimes the floating action is covering the important contents of that fragment. I got the reference of floating action button in the activity and stored it in a static variable.I am trying to change its gravity in the onResume method of the fragment.\nAs you can see in the image that fab is covering y-axis so I want to move it to the END.\n<a href=\"https://i.stack.imgur.com/PjDTu.jpg\" rel=\"nofollow noreferrer\">Image for the reference</a>.</p>\n\n<p>The code in the onResume method of the fragment(not working):</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    val params : CoordinatorLayout.LayoutParams = BaseActivity.fab!!.layoutParams as CoordinatorLayout.LayoutParams\n    params.anchorGravity = GravityCompat.END\n    BaseActivity.fab!!.layoutParams = params\n}\n</code></pre>\n\n<p>XML file of main activity</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\"com.example.mandar.hackerthon_app.Activities.BaseActivity\"\n    tools:showIn=\"@layout/app_bar_base\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/frameBaseFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;&lt;/FrameLayout&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n        android:id=\"@+id/fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n\n        android:layout_margin=\"20dp\"\n        android:scaleType=\"center\"\n        android:elevation=\"10dp\"\n        app:backgroundTint=\"@color/common_google_signin_btn_text_dark_default\"\n        app:srcCompat=\"@mipmap/ic_connection_on_round\" /&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 70, "user_id": 1951865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd6d639cc8224d7e90f4cb9c2d9a79e?s=128&d=identicon&r=PG", "display_name": "EpiGen", "link": "https://stackoverflow.com/users/1951865/epigen"}, "edited": false, "score": 0, "creation_date": 1514297993, "post_id": 47979578, "comment_id": 82928182, "body": "Had the same issue, but with values of the static arrayList... Tried &quot;Invalidate and Restart&quot; under File menu already? Also try to rename viewID, compile, rename back and compile."}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "reply_to_user": {"reputation": 70, "user_id": 1951865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd6d639cc8224d7e90f4cb9c2d9a79e?s=128&d=identicon&r=PG", "display_name": "EpiGen", "link": "https://stackoverflow.com/users/1951865/epigen"}, "edited": false, "score": 0, "creation_date": 1514385523, "post_id": 47979578, "comment_id": 82956089, "body": "I have tried invalidation, but it did not solve the problem. So I went back to the old way, findviewbyid."}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514296494, "creation_date": 1514296494, "question_id": 47979578, "link": "https://stackoverflow.com/questions/47979578/android-studio-kotlin-synthetic-view-variable-refresh-regenerate", "title": "Android Studio Kotlin synthetic view variable refresh/regenerate", "body": "<p>After changing the view's type, there are build errors that the variable is still an old type. How can I force Android Studio to refresh/regenerate the variables with current types? </p>\n\n<p>For example,</p>\n\n<pre><code>&lt;ImageView   id=\"@+id/myView&gt;\nand in code\nmyView.setImage = someImage\n</code></pre>\n\n<p>Now, I change the type in the XML editor,</p>\n\n<pre><code>&lt;TextView   id=\"@+id/myView&gt;\n</code></pre>\n\n<p>Now this line causes an error like myView has no \"setImage\" method, because it still thinks myView is a TextView.</p>\n\n<pre><code>myView.setText(some text);\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1514293696, "post_id": 47979047, "comment_id": 82926724, "body": "Because you need to call the primary constructor.  <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 6, "last_activity_date": 1514293913, "creation_date": 1514293913, "answer_id": 47979140, "question_id": 47979047, "link": "https://stackoverflow.com/questions/47979047/kotlin-constructor-primary-constructor/47979140#47979140", "title": "Kotlin constructor (primary constructor)", "body": "<p>The first class doesn't have a primary constructor while the second class has one. Per the <a href=\"https://kotlinlang.org/docs/reference/classes.html#secondary-constructors\" rel=\"noreferrer\">documentation for <em>Secondary Constructors</em></a> you then have to delegate to it.</p>\n\n<blockquote>\n  <p>If the class has a primary constructor, each secondary constructor needs to delegate to the primary constructor, either directly or indirectly through another secondary constructor(s). Delegation to another constructor of the same class is done using the <code>this</code> keyword:</p>\n</blockquote>\n"}], "owner": {"reputation": 509, "user_id": 6820863, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8f0b6e97e4a0d7a158cac7a3c317c859?s=128&d=identicon&r=PG&f=1", "display_name": "Changhyun Eun", "link": "https://stackoverflow.com/users/6820863/changhyun-eun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514294247, "creation_date": 1514293422, "last_edit_date": 1514293557, "question_id": 47979047, "link": "https://stackoverflow.com/questions/47979047/kotlin-constructor-primary-constructor", "title": "Kotlin constructor (primary constructor)", "body": "<p>I have a question about Kotlin constructor.</p>\n\n<pre><code>class abc {\n    constructor(a: Int)\n    constructor(a: Int, e: Int)\n}\n\nclass def(a: Int) {\n    constructor(a: Int, e: Int) : this(a)\n}\n</code></pre>\n\n<p>Why do I need to call this(a) in def class?</p>\n\n<p>What is different between class abc and def??</p>\n"}, {"tags": ["arrays", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1514293150, "creation_date": 1514293150, "answer_id": 47978999, "question_id": 47978945, "link": "https://stackoverflow.com/questions/47978945/why-do-we-have-functions-that-named-componentn-in-kotlin/47978999#47978999", "title": "Why do we have functions that named componentN in Kotlin", "body": "<p>These are <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">Destructuring Declarations</a> and they're very convenient in certain cases.</p>\n\n<pre><code>val arr = arrayOf(1, 2, 3)\nval (a1, a2, a3) = arr\n\nprint(\"$a1 $a2 $a3\") // &gt;&gt; 1 2 3\n</code></pre>\n\n<hr>\n\n<pre><code>val (a1, a2, a3) = arr\n</code></pre>\n\n<p>is compiled down to</p>\n\n<pre><code>val a1 = arr.component1()\nval a2 = arr.component2()\nval a3 = arr.component3()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 8, "last_activity_date": 1514316518, "last_edit_date": 1514316518, "creation_date": 1514296828, "answer_id": 47979638, "question_id": 47978945, "link": "https://stackoverflow.com/questions/47978945/why-do-we-have-functions-that-named-componentn-in-kotlin/47979638#47979638", "title": "Why do we have functions that named componentN in Kotlin", "body": "<p>Kotlin has many functions enabling particular features by convention. You can identify those by the use of the <code>operator</code> keyword. Examples are delegates, operator overload, index operator and also <strong>destructuring declarations</strong>.</p>\n\n<p>The functions <code>componentX</code> allow destructuring to be used on a particular class. You have to provide these functions in order to be able to destructure instances of that class into its <em>components</em>. It\u2019s good to know that <code>data</code> classes provide these for each of there properties by default.</p>\n\n<p>Take a data class <code>Person</code>:</p>\n\n<pre><code>data class Person(val name: String, val age: Int)\n</code></pre>\n\n<p>It will provide a <code>componentX</code> function for each property so that you can destructure it like here:</p>\n\n<pre><code>val p = Person(\"Paul\", 43)\nprintln(\"First component: ${p.component1()} and second component: ${p.component2()}\")\nval (n,a) =  p\nprintln(\"Descructured: $n and $a\")\n//First component: Paul and second component: 43\n//Descructured: Paul and 43\n</code></pre>\n\n<p>Also see this answer I gave in another thread:</p>\n\n<p><a href=\"https://stackoverflow.com/a/46207340/8073652\">https://stackoverflow.com/a/46207340/8073652</a></p>\n"}], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 47979638, "answer_count": 2, "score": 4, "last_activity_date": 1514316518, "creation_date": 1514292869, "question_id": 47978945, "link": "https://stackoverflow.com/questions/47978945/why-do-we-have-functions-that-named-componentn-in-kotlin", "title": "Why do we have functions that named componentN in Kotlin", "body": "<p>I've just looked at <code>Kotlin</code> <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/generated/_Arrays.kt\" rel=\"nofollow noreferrer\">standard library</a> and found some strange extension-functions called <code>componentN</code>  where N is index from 1 to 5. </p>\n\n<p>There are functions for all types of primitives. For example:</p>\n\n<pre><code>/**\n* Returns 1st *element* from the collection.\n*/\n@kotlin.internal.InlineOnly\npublic inline operator fun IntArray.component1(): Int {\n    return get(0)\n}\n</code></pre>\n\n<p>It looks curiously for me. I'm interested in developers motives. Is it better to call <code>array.component1()</code>  instead of <code>array[0]</code> ?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1514288928, "post_id": 47978203, "comment_id": 82925100, "body": "You can also use it in kotlin. Also, you can add an extension function <code>Map.asQueryParams()</code> that calls <code>URLEncodedUtils.format(this, &quot;utf-8&quot;)</code>, for better readability."}, {"owner": {"reputation": 2778, "user_id": 6139031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012469378aeb9c6bbb7fc54c08fec6b4?s=128&d=identicon&r=PG", "display_name": "Rizwan Atta", "link": "https://stackoverflow.com/users/6139031/rizwan-atta"}, "edited": false, "score": 0, "creation_date": 1514289297, "post_id": 47978203, "comment_id": 82926888, "body": "Like hector said! &gt; You can also use it in kotlin Kotlin is interoperable with java so its no big deal right? anyways here is an obvious example done in java simply converting it to kotlin will do the job for you ^_^.. hope it helps <a href=\"http://www.c-sharpcorner.com/UploadFile/1e5156/learn-about-how-to-send-employee-information-to-the-local-se/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/UploadFile/1e5156/&hellip;</a>"}, {"owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "edited": false, "score": 0, "creation_date": 1514289641, "post_id": 47978203, "comment_id": 82925335, "body": "<a href=\"https://medium.com/@sudomax/getting-query-parameters-in-vert-x-v3-and-kotlin-1b8def1db566\" rel=\"nofollow noreferrer\">medium.com/@sudomax/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 5400569, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/GIAAp.jpg?s=128&g=1", "display_name": "BarmanInfo", "link": "https://stackoverflow.com/users/5400569/barmaninfo"}, "is_accepted": true, "score": 0, "last_activity_date": 1514289137, "creation_date": 1514289137, "answer_id": 47978278, "question_id": 47978203, "link": "https://stackoverflow.com/questions/47978203/what-is-the-alternative-of-urlencodedutils-formatparams-utf-8-in-kotlin/47978278#47978278", "title": "What is the alternative of URLEncodedUtils.format(params, &quot;utf-8&quot;) in kotlin?", "body": "<pre><code>val param = ArrayList&lt;NameValuePair&gt;()\n</code></pre>\n\n<p>then Add your params and just write the below code</p>\n\n<pre><code>object Parser {\n\nvar result = HashMap&lt;String, String&gt;()\n\nfun parseJsonObject(url: String, method: String, params: List&lt;NameValuePair&gt;): HashMap&lt;String, String&gt; {\n    var url = url\n    var iStream: InputStream ?= null\n    var data = \"\"\n\n    println(\"url*************\" + url)\n    println(\"params*************\" + params)\n\n    var httpClient: DefaultHttpClient? = null\n    try {\n\n        // check for request method\n        if (method === \"POST\") {\n            // request method is POST\n            // defaultHttpClient\n            if (httpClient == null) {\n\n                httpClient = DefaultHttpClient()\n            }\n\n            val httpPost = HttpPost(url)\n            httpPost.entity = UrlEncodedFormEntity(params)\n\n            // set timeout\n            HttpConnectionParams.setConnectionTimeout(httpClient.params, 20000)\n            HttpConnectionParams.setSoTimeout(httpClient.params, 30000)\n\n            val httpResponse = httpClient.execute(httpPost)\n\n            if (httpResponse.statusLine.statusCode === 200) {\n                val httpEntity = httpResponse.entity\n                iStream = httpEntity.content\n                val br = BufferedReader(\n                        InputStreamReader(iStream!!, \"utf8\"))\n                val sb = StringBuffer()\n                var line = \"\"\n                while ((line == br.readLine()) != null) {\n                    sb.append(line)\n                }\n                data = sb.toString()\n                br.close()\n                iStream.close()\n                httpClient.connectionManager.closeExpiredConnections()\n                result.put(\"code\", \"200\")\n                result.put(\"value\", data)\n            } else {\n                httpClient.connectionManager.closeExpiredConnections()\n                result.put(\"code\", \"9999\")\n                result.put(\"value\", \"\")\n            }\n\n        } else if (method === \"GET\") {\n            // request method is GET\n            if (httpClient == null) {\n                httpClient = DefaultHttpClient()\n            }\n            val paramString = URLEncodedUtils.format(params, \"utf-8\")\n            url += \"?\" + paramString\n            val httpGet = HttpGet(url)\n\n            // set timeout\n            HttpConnectionParams.setConnectionTimeout(httpClient.params, 20000)\n            HttpConnectionParams.setSoTimeout(httpClient.params, 30000)\n\n            val httpResponse = httpClient.execute(httpGet)\n\n            if (httpResponse.statusLine.statusCode === 200) {\n                val httpEntity = httpResponse.entity\n                iStream = httpEntity.content\n                val br = BufferedReader(\n                        InputStreamReader(iStream!!, \"utf8\"))\n                val sb = StringBuffer()\n                var line = \"\"\n                while ((line == br.readLine()) != null) {\n                    sb.append(line)\n                }\n                data = sb.toString()\n                br.close()\n                iStream.close()\n                httpClient.connectionManager.closeExpiredConnections()\n                result.put(\"code\", \"200\")\n                result.put(\"value\", data)\n            } else {\n                httpClient.connectionManager.closeExpiredConnections()\n                result.put(\"code\", \"9999\")\n                result.put(\"value\", \"\")\n            }\n\n        }\n\n    } catch (e: Exception) {\n        result.put(\"code\", \"9999\")\n        result.put(\"value\", \"\")\n        e.printStackTrace()\n        return result\n    }\n\n    return result\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 15, "user_id": 7365753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d1ca0c066fbd704059d9eeaad5ff8bf?s=128&d=identicon&r=PG&f=1", "display_name": "bilal", "link": "https://stackoverflow.com/users/7365753/bilal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 0, "accepted_answer_id": 47978278, "answer_count": 1, "score": 0, "last_activity_date": 1514289297, "creation_date": 1514288800, "last_edit_date": 1514288891, "question_id": 47978203, "link": "https://stackoverflow.com/questions/47978203/what-is-the-alternative-of-urlencodedutils-formatparams-utf-8-in-kotlin", "title": "What is the alternative of URLEncodedUtils.format(params, &quot;utf-8&quot;) in kotlin?", "body": "<p>I have to convert key value pairs into Url query parameters there is a function available in java: <code>URLEncodedUtils.format(params, \"utf-8\")</code>\nWhat is the alternative of it in kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "is_accepted": true, "score": 1, "last_activity_date": 1514286533, "creation_date": 1514286533, "answer_id": 47977707, "question_id": 47977608, "link": "https://stackoverflow.com/questions/47977608/idiomatic-kotlin-regexes/47977707#47977707", "title": "Idiomatic Kotlin regexes", "body": "<p>My best option is to not use destructured and instead use</p>\n\n<pre><code>val matchResult = \"(\\\\d+) rows; (\\\\d+) columns\".toRegex(RegexOption.MULTILINE).find(output)\nreturn matchResult?.groupValues?.get(2)?.toIntOrNull() ?: 80\n</code></pre>\n"}], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 47977707, "answer_count": 1, "score": 1, "last_activity_date": 1514286533, "creation_date": 1514286064, "question_id": 47977608, "link": "https://stackoverflow.com/questions/47977608/idiomatic-kotlin-regexes", "title": "Idiomatic Kotlin regexes", "body": "<p>Is there a nicer looking form of Kotlin regex matching with destructuring?</p>\n\n<pre><code>val text = \"\"\"\n        a\n        10 rows; 120 columns\n        b\n        \"\"\"\n\nval columns = \"(\\\\d+) rows; (\\\\d+) columns\".toRegex(RegexOption.MULTILINE).find(text)?.destructured?.let { (height, width) -&gt;\n  width.toIntOrNull()\n} ?: 90\n</code></pre>\n"}, {"tags": ["java", "android", "date", "kotlin"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1514286211, "post_id": 47977580, "comment_id": 82924070, "body": "This isn&#39;t Java, at least not pure Java.  What language is this?"}, {"owner": {"reputation": 4181, "user_id": 3871859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/cOrTl.png?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3871859/artem"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1514286266, "post_id": 47977580, "comment_id": 82924095, "body": "@TimBiegeleisen yes, this is Kotlin. But Date class and DateFormatter from Java"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1514291644, "post_id": 47977580, "comment_id": 82926054, "body": "<code>Date</code> and <code>SimpleDateFormat</code> are long outdated. Even on Android, where these may be what you get built-in, consider getting <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> so you can use JSR-310 AKA <code>java.time</code>, the modern Java date and time API, instead. It is so much nicer to work with."}], "answers": [{"comments": [{"owner": {"reputation": 4181, "user_id": 3871859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/cOrTl.png?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3871859/artem"}, "edited": false, "score": 0, "creation_date": 1514290975, "post_id": 47977808, "comment_id": 82925816, "body": "Tim, I got this error if there is no milisecs - java.text.ParseException: Unparseable date: &quot;Tue, 26 Dec 2017 12:55:41 GMT+02:00&quot;"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 4181, "user_id": 3871859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/cOrTl.png?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3871859/artem"}, "edited": false, "score": 2, "creation_date": 1514292151, "post_id": 47977808, "comment_id": 82926250, "body": "@Artem Tricky one.  You might have to do a little regex work to make sure you apply the right mask to each date/timestamp."}], "tags": [], "owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": true, "score": 3, "last_activity_date": 1514287582, "last_edit_date": 1514287582, "creation_date": 1514287008, "answer_id": 47977808, "question_id": 47977580, "link": "https://stackoverflow.com/questions/47977580/how-to-fix-lost-time-in-date-after-converting/47977808#47977808", "title": "How to fix lost time in date after converting?", "body": "<p>The two UNIX epoch timestamps you have are actually in <em>milliseconds</em>, not seconds.  Here are the two values:</p>\n\n<pre><code>1514285741928 - before\n1514285741000 - after\n</code></pre>\n\n<p>The difference between the two timestamps in 928 milliseconds.  All that has happened is that the millisecond component was truncated off.  The truncation happened when you applied a seconds-level precision date mask at this line:</p>\n\n<pre><code>val dateStr = apiDateFormatter.format(currentDate)\n</code></pre>\n\n<p>To get around this problem, you can try changing your <code>SimpleDateFormat</code> mask to include milliseconds:</p>\n\n<pre><code>val DATE_FORMAT = \"EEE, dd MMM yyyy HH:mm:ss.SSS zzz\"\n//                                           ^^^ add this\nval apiDateFormatter = SimpleDateFormat(DATE_FORMAT, Locale.ENGLISH)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2859, "user_id": 6225565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqBej.jpg?s=128&g=1", "display_name": "Shalauddin Ahamad Shuza", "link": "https://stackoverflow.com/users/6225565/shalauddin-ahamad-shuza"}, "is_accepted": false, "score": 2, "last_activity_date": 1514288283, "creation_date": 1514288283, "answer_id": 47978079, "question_id": 47977580, "link": "https://stackoverflow.com/questions/47977580/how-to-fix-lost-time-in-date-after-converting/47978079#47978079", "title": "How to fix lost time in date after converting?", "body": "<p><code>Date()</code> will return the current time in milliseconds. But when you are converting this milliseconds into <code>dateString</code> you are eliminating the milliseconds part. So the <code>dateString</code> will not contain the milliseconds part. For this reason when you reconvert the <code>dateString</code> into <code>Date</code> object you are losing the milliseconds part or fractional part of seconds.</p>\n\n<p>Lets assume current time returned by the <code>Date()</code> is <code>1514287787103</code>. After converting into string <code>dateString</code> will store <code>Tue, 26 Dec 2017 17:29:47</code> which is equvalent to <code>1514287787000</code>. Here you lost few milliseconds which leads you to the difference.</p>\n\n<p>To solve this you have to consider the milliseconds portion in at the time of conversion. You can do it by simply adding the milliseconds part in <code>DATE_FORMAT</code></p>\n\n<p><code>val DATE_FORMAT = \"EEE, dd MMM yyyy HH:mm:ss.SSS\"</code></p>\n\n<p>At the time of displaying date you can eliminate this millisecond portion but you have to consider it at the time of conversion.</p>\n"}, {"comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1514442457, "post_id": 47981580, "comment_id": 82973516, "body": "Good advice. And if one needs to format the <code>Instant</code> into a string and back, one may use <code>Instant.toString()</code> and then <code>Instant.parse()</code> for getting an <code>Instant</code> again, no explicit formatter needed. Not a nanosecond will be lost."}], "tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": false, "score": 2, "last_activity_date": 1514310386, "last_edit_date": 1514310386, "creation_date": 1514308098, "answer_id": 47981580, "question_id": 47977580, "link": "https://stackoverflow.com/questions/47977580/how-to-fix-lost-time-in-date-after-converting/47981580#47981580", "title": "How to fix lost time in date after converting?", "body": "<p>(Java syntax, not Kotlin)</p>\n\n<h1>tl;dr</h1>\n\n<pre><code>Instant.ofEpochMilli( 1_514_285_741_928L ) \n       .atZone( ZoneId.of( \"Pacific/Auckland\" ) ) \n</code></pre>\n\n<h1>java.time</h1>\n\n<p>As others said, your count from an epoch reference date is in milliseconds rather than whole seconds.</p>\n\n<p>You are using troublesome old classes that are now outmoded by the modern java.time classes. For older Android, see the <em>ThreeTen-Backport</em> and <em>ThreeTenABP</em> projects. </p>\n\n<p>The java.time classes use a resolution of nanoseconds, so no problem holding your milliseconds.</p>\n\n<pre><code>Instant instant = Instant.ofEpochMilli( 1_514_285_741_928L ) ;\n</code></pre>\n\n<p>Or capture the current moment in UTC.</p>\n\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n\n<p>To see that moment in a time zone rather than UTC, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object. Same moment, same point in timeline, different wall-clock time. </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>Tip: You are using a terrible format in your Question. For exchanging date-time values as text, use only the standard ISO 8601 formats. </p>\n"}], "owner": {"reputation": 4181, "user_id": 3871859, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/cOrTl.png?s=128&g=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3871859/artem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 47977808, "answer_count": 3, "score": 2, "last_activity_date": 1514310386, "creation_date": 1514285958, "question_id": 47977580, "link": "https://stackoverflow.com/questions/47977580/how-to-fix-lost-time-in-date-after-converting", "title": "How to fix lost time in date after converting?", "body": "<p>I want to test my <code>DateUtil</code> class and I got error - after converting my <code>Date</code> to <code>String</code> and back to Date I lost about 900 seconds. </p>\n\n<p>This is my code:</p>\n\n<pre><code>  fun convertStringToDate() {\n    // here I get current Date\n    val currentDate = Date() // 1514285741928\n    // see apiDateFormatter declaration below this code\n    val dateStr = apiDateFormatter.format(currentDate) // Tue, 26 Dec 2017 12:55:41 GMT+02:00\n    // see convertStringToDate() method declaration below this code\n    val convertedDate = DateUtil.convertStringToDate(dateStr) // 1514285741000\n    assertEquals(currentDate == convertedDate, true)\n}\n</code></pre>\n\n<p><strong>apiDateFormatter</strong></p>\n\n<pre><code>val DATE_FORMAT = \"EEE, dd MMM yyyy HH:mm:ss zzz\"\nval apiDateFormatter = SimpleDateFormat(DATE_FORMAT, Locale.ENGLISH)\n</code></pre>\n\n<p>DateUtil.<strong>convertStringToDate</strong>(dateStr)</p>\n\n<pre><code>fun convertStringToDate(dateStr: String): Date {\n    return apiDateFormatter.parse(dateStr)\n}\n</code></pre>\n\n<p>The difference between <code>currentDate</code> and <code>convertedDate</code> is about 900 seconds.</p>\n\n<p>Why and <strong>how fix it</strong>?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1514290940, "post_id": 47977194, "comment_id": 82925802, "body": "You can hold all <code>View</code> references inside holder class and call <code>findViewById</code> only in <code>init</code> block."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1514304218, "post_id": 47977194, "comment_id": 82930341, "body": "Please consider updating your question to reflect on the given ambiguity. Also add your use-case instantiating an adapter. Maybe I&#39;ll find an answer later..."}, {"owner": {"reputation": 2307, "user_id": 6527510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iRInSyzvnkY/AAAAAAAAAAI/AAAAAAAAAD4/rGS1YnMznYA/photo.jpg?sz=128", "display_name": "Phoenix Wang", "link": "https://stackoverflow.com/users/6527510/phoenix-wang"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1514305607, "post_id": 47977194, "comment_id": 82930819, "body": "@tynn yes. check the update. Thanks for your time!"}, {"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1553773413, "post_id": 47977194, "comment_id": 97513739, "body": "also have a look at <a href=\"https://stackoverflow.com/questions/54745130/create-single-adapter-for-any-type-of-list-android\" title=\"create single adapter for any type of list android\">stackoverflow.com/questions/54745130/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6661974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hlVsp.jpg?s=128&g=1", "display_name": "linx", "link": "https://stackoverflow.com/users/6661974/linx"}, "is_accepted": true, "score": 1, "last_activity_date": 1514353059, "last_edit_date": 1514353059, "creation_date": 1514351027, "answer_id": 47986581, "question_id": 47977194, "link": "https://stackoverflow.com/questions/47977194/can-i-defer-the-view-binding-in-an-adapter-using-kotlin-android-extension/47986581#47986581", "title": "Can I defer the view binding in an adapter using Kotlin Android Extension", "body": "<p>You can use like this:</p>\n\n<pre><code>innerHolder.apply {\n    tv_text.text = \"test\"\n}\n</code></pre>\n\n<p>it will decompiled into this:</p>\n\n<pre><code>TextView var10000 = (TextView)innerHolder._$_findCachedViewById(id.tv_text);\nvar10000.setText((CharSequence)\"test\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2307, "user_id": 6527510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iRInSyzvnkY/AAAAAAAAAAI/AAAAAAAAAD4/rGS1YnMznYA/photo.jpg?sz=128", "display_name": "Phoenix Wang", "link": "https://stackoverflow.com/users/6527510/phoenix-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1514367591, "creation_date": 1514367591, "answer_id": 47989716, "question_id": 47977194, "link": "https://stackoverflow.com/questions/47977194/can-i-defer-the-view-binding-in-an-adapter-using-kotlin-android-extension/47989716#47989716", "title": "Can I defer the view binding in an adapter using Kotlin Android Extension", "body": "<p>Inspired by @linx</p>\n\n<p>If I just create a extension function to <code>InnerHolder</code> instead of <code>LayoutContainer</code>. The context give Android Extension enough information to get the cached view.</p>\n\n<pre><code>class InnerHolder(\n    override val containerView: View?) : RecyclerView.ViewHolder(containerView), LayoutContainer {\n    fun bind(int: Int) {\n        this.bindInt(int)\n    }\n\n}\n// some extension function outside the ViewHolder Scope. \nfun InnerHolder.bindInt(int: Int) {\n    tv_text.text = int.toString()\n\n}\n</code></pre>\n\n<p>This will compile into </p>\n\n<pre><code>TextView var10000 = (TextView)$receiver._$_findCachedViewById(id.tv_text);\n</code></pre>\n\n<p>which is exactly what I want.</p>\n"}], "owner": {"reputation": 2307, "user_id": 6527510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iRInSyzvnkY/AAAAAAAAAAI/AAAAAAAAAD4/rGS1YnMznYA/photo.jpg?sz=128", "display_name": "Phoenix Wang", "link": "https://stackoverflow.com/users/6527510/phoenix-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 47986581, "answer_count": 2, "score": 0, "last_activity_date": 1515361704, "creation_date": 1514284031, "last_edit_date": 1515361704, "question_id": 47977194, "link": "https://stackoverflow.com/questions/47977194/can-i-defer-the-view-binding-in-an-adapter-using-kotlin-android-extension", "title": "Can I defer the view binding in an adapter using Kotlin Android Extension", "body": "<p>Kotlin Android Extensions provide a way that using the IDs directly in Activity/fragment/Adapters.\nSo What I want is a generic way for an adapter and leave the bind view responsibility to the user of adapter instead of adapter itself.\nFor example :</p>\n\n<pre><code>class GenericAdapter&lt;T&gt;(\n    @LayoutRes private val layoutId: Int,\n    private var list: List&lt;T&gt;,\n    inline private val bind: (View, T, Int) -&gt; Unit) : RecyclerView.Adapter&lt;InnerHolder&gt;() {\n    override fun onBindViewHolder(holder: InnerHolder?, position: Int) {\n        holder?.containerView?.let {\n             bind(holder.containerView, list[position], position)\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): InnerHolder =\n        InnerHolder(LayoutInflater.from(parent?.context).inflate(layoutId,\n            parent,\n            false))\n\n    override fun getItemCount(): Int = list.size\n\n    class InnerHolder(\n        val containerView: View?) : RecyclerView.ViewHolder(containerView)\n\n}\n</code></pre>\n\n<p>which I can just pass the layout file and bind function to bind the adapter as I want without rewriting the same code for every single layout file with and adapter.</p>\n\n<p>But here is the problem:\nViewHolder pattern want to eliminate call \"findViewById\" every time an ChildView inflated. But with my implementation of adapter. It needs to call \"findViewById\" every time when adapter bind a view.</p>\n\n<p>Edit: for the details of the \"cache\" problem.</p>\n\n<p>Using the <code>GenericAdapter</code> in Activity. Like </p>\n\n<pre><code>override fun onCreated(savedInstanceState: Bundle?){\n    list.adapter = GenericAdapter&lt;Item&gt;(items){ view,item,position -&gt;\n        view.textview.text = item.text\n    }\n}\n</code></pre>\n\n<p>this will decompiled into this:</p>\n\n<pre><code>     TextView var2 = (TextView)var10000.findViewById(id.textview);\n     Intrinsics.checkExpressionValueIsNotNull(var2, \"itemView.tv_text\");\n     var2.setText((CharSequence)String.valueOf(var1));\n</code></pre>\n\n<p>But they have a experimental tool with Android Extension with a <code>LayoutContainer</code> for example :</p>\n\n<pre><code>class InnerHolder(\n    override val containerView: View?) : RecyclerView.ViewHolder(containerView), LayoutContainer {\n    fun bind(int: Int) {\n        textview.text = int.toString()\n    }\n}\n</code></pre>\n\n<p>And this will perfectly use the cached views: </p>\n\n<pre><code>     TextView var10000 = (TextView)this._$_findCachedViewById(id.tv_text);\n</code></pre>\n\n<p>But the problem is that the cached views need inside the scope of LayoutContainer. For example this implementation wont work:</p>\n\n<pre><code>class InnerHolder(\n    override val containerView: View?) : RecyclerView.ViewHolder(containerView), LayoutContainer {\n    fun bind(int: Int) {\n        this.bindInt(int)\n    }\n\n}\n// some extension function outside the ViewHolder Scope. \nfun LayoutContainer.bindInt(int: Int) {\n    tv_text.text = int.toString()\n\n}\n</code></pre>\n\n<p>this will still use the findViewById to find the view: </p>\n\n<pre><code>  TextView var10000 = (TextView)$receiver.getContainerView().findViewById(id.tv_text);\n</code></pre>\n\n<p>So my question is there a way to remain the cache in some way and still using Android Extension with my adapter but outside the scope of viewholder?</p>\n"}, {"tags": ["php", "android", "kotlin", "aes"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1514470564, "post_id": 47976657, "comment_id": 82986288, "body": "What does &quot;It works somehow&quot; mean?"}, {"owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1514550526, "post_id": 47976657, "comment_id": 83014378, "body": "Means that I get result but it looks different than on php.  I guess because of the md5 function:  php md5 -&gt;e5fddc06aa004f5524c8433f42c7ed60  my md5Encode -&gt; 5dc06a004f55248433f427d60"}, {"owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1514556159, "post_id": 47976657, "comment_id": 83016688, "body": "the problem is that I can&#39;t realise md5(value, true). When raw_output param is TRUE"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1514558429, "post_id": 47976657, "comment_id": 83017572, "body": "MD5 produces a 128-bit (16-byte) hash, encoded as hex that is 32 characters. <code>5dc06a004f55248433f427d60</code> is 25 characters, not only is it the wrong length is is an odd number of characters which is not even correct hexadecimal."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "is_accepted": true, "score": 0, "last_activity_date": 1514624724, "creation_date": 1514624724, "answer_id": 48032466, "question_id": 47976657, "link": "https://stackoverflow.com/questions/47976657/aes-encryption-php-and-kotlin-java-differences/48032466#48032466", "title": "AES encryption. PHP and Kotlin\\Java differences", "body": "<p>Finally, I've got it.<br>\nIf you use param <strong>\"raw_output\" = true</strong> in the php's md5() function in Kotlin you need to use ByteArrays to get the same result</p>\n\n<pre><code>fun md5_raw(input: ByteArray?): ByteArray {\n        var result = input\n        if (input != null) {\n            val md = MessageDigest.getInstance(\"MD5\") //or \"SHA-1\"\n            md.update(input)\n\n            return md.digest()\n\n        }\n        return ByteArray(0)\n    }\n\n   fun evpkdf(passphrase : String, salt : String = \"\") : Pair&lt;ByteArray, ByteArray&gt;{\n        var salted : ByteArray = ByteArray(0)\n        var dx : ByteArray = ByteArray(0)\n        while (salted.size &lt; 48) {\n\n            dx = md5_raw(dx.plus(passphrase.toByteArray()).plus(salt.toByteArray()))\n            salted = salted.plus(dx)\n        }\n\n        val key = salted.copyOfRange(0, 32)\n        val iv = salted.copyOfRange(32, 32 + 16)\n\n        return Pair(key, iv)\n    }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9138766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e30b180176608c0283c1d1d4d9db27?s=128&d=identicon&r=PG&f=1", "display_name": "Denis", "link": "https://stackoverflow.com/users/9138766/denis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "accepted_answer_id": 48032466, "answer_count": 1, "score": -1, "last_activity_date": 1514624724, "creation_date": 1514281704, "question_id": 47976657, "link": "https://stackoverflow.com/questions/47976657/aes-encryption-php-and-kotlin-java-differences", "title": "AES encryption. PHP and Kotlin\\Java differences", "body": "<p>There is a web site that uses the CryptoJSAES lib to encode and decode requests.\n<a href=\"https://github.com/blocktrail/cryptojs-aes-php/blob/master/src/CryptoJSAES.php\" rel=\"nofollow noreferrer\">https://github.com/blocktrail/cryptojs-aes-php/blob/master/src/CryptoJSAES.php</a></p>\n\n<pre><code>abstract class CryptoJSAES {\n    /**\n     * @param      $data\n     * @param      $passphrase\n     * @param null $salt        ONLY FOR TESTING\n     * @return string           encrypted data in base64 OpenSSL format\n     */\n    public static function encrypt($data, $passphrase, $salt = null) {\n        $salt = $salt ?: openssl_random_pseudo_bytes(8);\n        list($key, $iv) = self::evpkdf($passphrase, $salt);\n        $ct = openssl_encrypt($data, 'aes-256-cbc', $key, true, $iv);\n        return self::encode($ct, $salt);\n    }\n\n    public static function evpkdf($passphrase, $salt) {\n        $salted = '';\n        $dx = '';\n        while (strlen($salted) &lt; 48) {\n            $dx = md5($dx . $passphrase . $salt, true);\n            $salted .= $dx;\n        }\n        $key = substr($salted, 0, 32);\n        $iv = substr($salted, 32, 16);\n        return [$key, $iv];\n    }\n\n    public static function encode($ct, $salt) {\n        return base64_encode(\"Salted__\" . $salt . $ct);\n    }\n}\n</code></pre>\n\n<p>Now I'm working over an Android client for the site and I got stuck. I'm trying to implement the CryptoJSAES behaviour on Kotlin but it doesn't work. \nI guess because I don't understand exactly the difference between md5() and openssl_encrypt() functions in PHP and Kotlin\\Java </p>\n\n<p>My variant of methods:</p>\n\n<pre><code>class CryptoJSAES\n{\n\n    fun encrypt(data: ByteArray, key: ByteArray, ivs: ByteArray): ByteArray? \n    {\n        try {\n            val cipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\")\n            val secretKeySpec = SecretKeySpec(key, \"AES\")\n            val finalIvs = ByteArray(16)\n            val len = if (ivs.size &gt; 16) 16 else ivs.size\n            System.arraycopy(ivs, 0, finalIvs, 0, len)\n            val ivps = IvParameterSpec(finalIvs)\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivps)\n            return cipher.doFinal(data)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n        return null\n    } \n\n    fun evpkdf(passphrase : String, salt : String = \"\") : Pair&lt;String, String&gt;{\n        var salted = \"\"\n        var dx   = \"\"\n        while (salted.length &lt; 48) {\n\n            dx = MD5Encode(dx + passphrase + salt)!!\n            salted += dx\n        }\n        val key = salted.toString().substring(0, 32)\n        val iv = salted.toString().substring(32, 32 + 16)\n\n        return Pair(key, iv)\n    }\n\nprivate fun MD5Encode(sourceString: String): String? {\n        try {\n            val bytesOfMessage = sourceString.toByteArray(charset(\"UTF-8\"))\n            val md = MessageDigest.getInstance(\"MD5\")\n            // byte array of md5 hash\n            val md5 = md.digest(bytesOfMessage)\n            // we convert bytes to hex as php's md5() would do\n            val stringBuffer = StringBuffer()\n            for (i in md5.indices) {\n                stringBuffer.append(Integer.toString((md5[i] and 0xff.toByte()) + 0x100,\n                        16).substring(1))\n            }\n            return stringBuffer.toString()\n        } catch (e: Exception) {\n        }\n\n        return null\n    }\n}\n</code></pre>\n\n<p>Using: </p>\n\n<pre><code>val testText = \"Hello\"\nval password = \"password#123456\"\nval salt = \"12345678\"\n\nval res = evpkdf(password, salt)\n\nval encryptTextBytes = encrypt(testText.toByteArray(), res.first.toByteArray(), res.second.toByteArray())\n\nBase64.encodeToString((\"Salted__\"+salt).toByteArray().plus(encryptTextByte), DEFAULT)\n</code></pre>\n\n<p>It works somehow but the site can't get the result.\nThanks in advance for any advices</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-bundle"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1514280434, "post_id": 47976349, "comment_id": 82921829, "body": "where you pass List to above code ?"}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "edited": false, "score": 0, "creation_date": 1514281110, "post_id": 47976419, "comment_id": 82922103, "body": "Type mismatch error comes with <code>Required: java.util.ArrayList&lt;out Parcelable!&gt;!</code> but <code>Found: kotlin.collections.ArrayList&lt;Human&gt;</code>"}, {"owner": {"reputation": 1786, "user_id": 6644840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKU70.png?s=128&g=1", "display_name": "Yamini Balakrishnan", "link": "https://stackoverflow.com/users/6644840/yamini-balakrishnan"}, "reply_to_user": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "edited": false, "score": 0, "creation_date": 1514281579, "post_id": 47976419, "comment_id": 82922298, "body": "Do Parcelable implementation in Human class. Check my edited answer now."}, {"owner": {"reputation": 89, "user_id": 7329399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2806c502be6c47fe02312d599602d70?s=128&d=identicon&r=PG&f=1", "display_name": "cagin", "link": "https://stackoverflow.com/users/7329399/cagin"}, "edited": false, "score": 1, "creation_date": 1540928341, "post_id": 47976419, "comment_id": 93041864, "body": "If you faced with the type mismatch error you can check the link below <a href=\"https://stackoverflow.com/a/50152749/7329399\">stackoverflow.com/a/50152749/7329399</a>"}, {"owner": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1602410436, "post_id": 47976419, "comment_id": 113706278, "body": "i still got nullpointer when call  arguments?.getParcelableArrayList&lt;Materi&gt;(Constant.EXTRA_COU&zwnj;&#8203;RSE_LIST_MATERI)"}], "tags": [], "owner": {"reputation": 1786, "user_id": 6644840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKU70.png?s=128&g=1", "display_name": "Yamini Balakrishnan", "link": "https://stackoverflow.com/users/6644840/yamini-balakrishnan"}, "is_accepted": true, "score": 17, "last_activity_date": 1514281502, "last_edit_date": 1514281502, "creation_date": 1514280454, "answer_id": 47976419, "question_id": 47976349, "link": "https://stackoverflow.com/questions/47976349/passing-list-of-objects-to-fragment/47976419#47976419", "title": "Passing List of Objects to Fragment", "body": "<p>You can pass <code>List&lt;Human&gt;</code> as <code>Parcelable</code> <code>ArrayList</code> to the <strong>Bundle</strong> as follows:</p>\n\n<pre><code> companion object {\n    fun newInstance(myList : ArrayList&lt;Human&gt;): MyFragment {\n        val args = Bundle()\n        args.putParcelableArrayList(\"list\",myList);\n        val fragment = MyFragment()\n        fragment.arguments = args\n        return fragment\n    }\n}\n</code></pre>\n\n<p>To retrieve data:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    val args = arguments\n    var myList : ArrayList&lt;Human&gt; = args.getParcelableArrayList&lt;Human&gt;(\"list\")\n}\n</code></pre>\n\n<p>Do <code>Parcelable</code> implementation in <code>Human</code> Data Class :</p>\n\n<pre><code>data class Human(val name: String, val phone: String) : Parcelable {\n    constructor(parcel: Parcel) : this(\n            parcel.readString(),\n            parcel.readString()) {\n    }\n\n    override fun writeToParcel(dest: Parcel?, flags: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun describeContents(): Int {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;Human&gt; {\n        override fun createFromParcel(parcel: Parcel): Human {\n            return Human(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;Human?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12328, "favorite_count": 0, "accepted_answer_id": 47976419, "answer_count": 1, "score": 6, "last_activity_date": 1514281502, "creation_date": 1514280023, "last_edit_date": 1514280255, "question_id": 47976349, "link": "https://stackoverflow.com/questions/47976349/passing-list-of-objects-to-fragment", "title": "Passing List of Objects to Fragment", "body": "<pre><code>class CholesterolPagingFragment: Fragment() {\n\n    companion object {\n        fun newInstance(): CholesterolPagingFragment {\n            val args = Bundle()\n            val fragment = CholesterolPagingFragment()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_paging_cholesterol, container, false)\n\n        return view\n    }\n\n}\n</code></pre>\n\n<p>I have wrote the above code in <strong>Kotlin</strong> to initialize a fragment. Though I can't figure out a way to pass a list of objects(eg: <code>List&lt;Human&gt;</code>) to this fragment. I have tried with the <code>Bundle()</code> but couldn't find a proper way.</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin", "dji-sdk"], "answers": [{"tags": [], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1515180598, "last_edit_date": 1515180598, "creation_date": 1514282941, "answer_id": 47976953, "question_id": 47975894, "link": "https://stackoverflow.com/questions/47975894/issue-with-dji-sdk-gradle-4-4-0-provided-keyword-in-gradle-not-working/47976953#47976953", "title": "Issue with DJI SDK gradle 4.4.0, provided keyword in gradle not working", "body": "<p>I have found the issue. After Gradle 3.4, the \"provided\" is replaced by \"compileOnly\"\nI quote,</p>\n\n<blockquote>\n  <p>Gradle adds the dependency to the compilation classpath only (it is not added to the build output). This is useful when you're creating an Android library module and you need the dependency during compilation, but it's optional to have present at runtime. That is, if you use this configuration, then your library module must include a runtime condition to check whether the dependency is available, and then gracefully change its behavior so it can still function if it's not provided. This helps reduce the size of the final APK by not adding transient dependencies that aren't critical. This configuration behaves just like provided (which is now deprecated).</p>\n</blockquote>\n\n<p>Hence using <strong>compileOnly</strong> in place of <strong>provided</strong> will do the trick.</p>\n\n<p>Here is a <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html\" rel=\"nofollow noreferrer\">link</a> to the gradle changes documentation</p>\n"}], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515180598, "creation_date": 1514277093, "last_edit_date": 1514282669, "question_id": 47975894, "link": "https://stackoverflow.com/questions/47975894/issue-with-dji-sdk-gradle-4-4-0-provided-keyword-in-gradle-not-working", "title": "Issue with DJI SDK gradle 4.4.0, provided keyword in gradle not working", "body": "<p>Previously my gradle used to look like this and worked fine (apart from few registered bugs)</p>\n\n<pre><code>implementation 'com.dji:dji-sdk:4.3.2'\n</code></pre>\n\n<p>Now, after changing to </p>\n\n<pre><code>implementation 'com.dji:dji-sdk:4.4.0'\n</code></pre>\n\n<p>the Camera and other files cannot be recognized anymore. I am attaching a screenshot of the unrecognized imports.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rBVGC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBVGC.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/dHe4N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dHe4N.png\" alt=\"enter image description here\"></a></p>\n\n<p>However when I am trying to add </p>\n\n<pre><code>//dji-drones-sdk\n    implementation 'com.dji:dji-sdk:4.4.0'\n    provided 'com.dji:dji-sdk-provided:4.4.0'\n</code></pre>\n\n<p>I am getting \"could not download dji-sdk-provided.jar\"\nScreenshot attached</p>\n\n<p><a href=\"https://i.stack.imgur.com/5vi4S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5vi4S.png\" alt=\"enter image description here\"></a></p>\n\n<p>All the examples and github codes are in version 4.3.2. Can anyone help me out?\nHere is the <a href=\"https://github.com/dji-sdk/Mobile-SDK-Android\" rel=\"nofollow noreferrer\">link</a> to the dji sdk </p>\n"}, {"tags": ["java", "string", "kotlin"], "comments": [{"owner": {"reputation": 2607, "user_id": 1929789, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P7Cx9.jpg?s=128&g=1", "display_name": "ramin eftekhari", "link": "https://stackoverflow.com/users/1929789/ramin-eftekhari"}, "edited": false, "score": 2, "creation_date": 1514264948, "post_id": 47974064, "comment_id": 82917599, "body": "val mEmailApi = &quot;&quot;"}, {"owner": {"reputation": 309, "user_id": 5134652, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-tQnTNpITwRE/AAAAAAAAAAI/AAAAAAAAABw/bbZHRezUyss/photo.jpg?sz=128", "display_name": "Saurabh sharma", "link": "https://stackoverflow.com/users/5134652/saurabh-sharma"}, "reply_to_user": {"reputation": 2607, "user_id": 1929789, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P7Cx9.jpg?s=128&g=1", "display_name": "ramin eftekhari", "link": "https://stackoverflow.com/users/1929789/ramin-eftekhari"}, "edited": false, "score": 0, "creation_date": 1514266355, "post_id": 47974064, "comment_id": 82917856, "body": "thanks @ramineftekhari"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1514269621, "post_id": 47974064, "comment_id": 82918651, "body": "Was this code generated by the J2K code converter? If so, please file an issue on the kotlin bug tracker"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1514277754, "post_id": 47974064, "comment_id": 82920975, "body": "Why would you ever write the original Java code instead of <code>String str = &quot;&quot;;</code>?"}, {"owner": {"reputation": 15504, "user_id": 46375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/14d6944fb1469c80688a27155ae2c967?s=128&d=identicon&r=PG", "display_name": "whaley", "link": "https://stackoverflow.com/users/46375/whaley"}, "edited": false, "score": 1, "creation_date": 1514288854, "post_id": 47974064, "comment_id": 82925075, "body": "If you are creating a string literal (e.g. you don&#39;t need create a string from an existing byte[] or char[]), do not use a constructor to create the String and instead use the literal syntax instead.  Using String literals will prevent unnecessary allocation from occurring by allowing the String to be interned (see <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.5\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.1&zwnj;&#8203;0.5</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": true, "score": 3, "last_activity_date": 1514265742, "creation_date": 1514265742, "answer_id": 47974160, "question_id": 47974064, "link": "https://stackoverflow.com/questions/47974064/how-to-initialize-the-string-in-kotlin/47974160#47974160", "title": "How to initialize the String in kotlin", "body": "<p>So <code>private val mEmailApi : String(\"\")</code> you just define type of your field <code>mEmailApi</code>. But calling constructor during type declaration impossible.</p>\n\n<p>And so: <code>private val mEmailApi = \"\"</code> you initialize it.</p>\n\n<p>If you initialize your filed during to define, you need not to define type obviously. </p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8034205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ky8xl.jpg?s=128&g=1", "display_name": "Melrose", "link": "https://stackoverflow.com/users/8034205/melrose"}, "is_accepted": false, "score": 3, "last_activity_date": 1514339655, "creation_date": 1514339655, "answer_id": 47985451, "question_id": 47974064, "link": "https://stackoverflow.com/questions/47974064/how-to-initialize-the-string-in-kotlin/47985451#47985451", "title": "How to initialize the String in kotlin", "body": "<p>private var mString:String?=null</p>\n\n<p>lateinit private var mString:String</p>\n"}], "owner": {"reputation": 309, "user_id": 5134652, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-tQnTNpITwRE/AAAAAAAAAAI/AAAAAAAAABw/bbZHRezUyss/photo.jpg?sz=128", "display_name": "Saurabh sharma", "link": "https://stackoverflow.com/users/5134652/saurabh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6151, "favorite_count": 0, "accepted_answer_id": 47974160, "answer_count": 2, "score": 1, "last_activity_date": 1514339655, "creation_date": 1514264697, "question_id": 47974064, "link": "https://stackoverflow.com/questions/47974064/how-to-initialize-the-string-in-kotlin", "title": "How to initialize the String in kotlin", "body": "<p>I have a code in java where i have initialised the String like this way</p>\n\n<pre><code>String str = new String(\"\");\n</code></pre>\n\n<p>but when i have converted the code to kotlin the same intilization is in the below way</p>\n\n<pre><code>   private val mEmailApi : String(\"\")\n</code></pre>\n\n<p>but it is giving me a error getter and setter required can you guys please let me know the way to initialise the String in Kotlin </p>\n\n<p>Thanks In Advance</p>\n"}, {"tags": ["java", "android", "junit", "kotlin", "android-testing"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514281039, "post_id": 47975492, "comment_id": 82922081, "body": "But this means, that i will have to manually do it for every test?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514283008, "post_id": 47975492, "comment_id": 82922771, "body": "No, you do it once and then press the run (or debug) button next to the configuration dropdown in the toolbar. Or in the Run menu. Or a key combination."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 1, "creation_date": 1514283080, "post_id": 47975492, "comment_id": 82922804, "body": "You \u0441ould also look in Android Studio bug tracker and submit this bug if it wasn&#39;t reported yet."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514284507, "post_id": 47975492, "comment_id": 82923341, "body": "Thanks, i guess it is not, i reported it"}, {"owner": {"reputation": 7190, "user_id": 967131, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db71ea1ccdc64b0704968a271bdcf39b?s=128&d=identicon&r=PG", "display_name": "Chad Schultz", "link": "https://stackoverflow.com/users/967131/chad-schultz"}, "edited": false, "score": 0, "creation_date": 1544486542, "post_id": 47975492, "comment_id": 94285350, "body": "More info/screenshots if anyone is interested in the details of how to accomplish the answer: <a href=\"https://stackoverflow.com/a/53715513/967131\">stackoverflow.com/a/53715513/967131</a>"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1514274504, "creation_date": 1514274504, "answer_id": 47975492, "question_id": 47972848, "link": "https://stackoverflow.com/questions/47972848/kotlin-class-runs-as-junit-tests-even-when-it-is-in-androidtest-package-for-ja/47975492#47975492", "title": "Kotlin class runs as junit tests even when it is in androidTest package - for Java class it runs normally", "body": "<p>You need to open <a href=\"https://developer.android.com/studio/run/rundebugconfig.html\" rel=\"nofollow noreferrer\"><code>Run/Debug configurations</code></a> and create one for Android Instrumented Tests instead of Android JUnit.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1514274504, "creation_date": 1514246729, "last_edit_date": 1514247166, "question_id": 47972848, "link": "https://stackoverflow.com/questions/47972848/kotlin-class-runs-as-junit-tests-even-when-it-is-in-androidtest-package-for-ja", "title": "Kotlin class runs as junit tests even when it is in androidTest package - for Java class it runs normally", "body": "<p>I've run into very strange error.</p>\n\n<p>When i try to run test that are in my Kotlin class in androidTest package they are running as test junit mehthods and this error appears:</p>\n\n<blockquote>\n  <p>Process finished with exit code 1\n  Class not found: \"com.someampp.shoppinglistapp.SomeClassTest\"Empty test suite.</p>\n</blockquote>\n\n<p>You can try it for yourself. I am using Android Studio 3.0.1</p>\n\n<p>When i am creating class like this in Java:</p>\n\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class SomeTestClass{\n@Test\npublic void useAppContext() throws Exception {\n    // Context of the app under test.\n    Context appContext = InstrumentationRegistry.getTargetContext();\n\n    assertEquals(\"com.myapp.shoppinglistapp\", appContext.getPackageName());\n  }\n}\n</code></pre>\n\n<p>Everything works fine.</p>\n\n<p>But when i convert the Java file to Kotlin:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass SomeTestClass{\n@Test\n@Throws(Exception::class)\nfun useAppContext() {\n    // Context of the app under test.\n    val appContext = InstrumentationRegistry.getTargetContext()\n\n    assertEquals(\"com.myapp.shoppinglistapp\", appContext.packageName)\n  }\n}\n</code></pre>\n\n<p>It gives me this error.</p>\n\n<p>Whats wrong?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 5, "creation_date": 1514242652, "post_id": 47972556, "comment_id": 82914717, "body": "Use LogCat to examine the Java stack trace associated with your crash: <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a>"}, {"owner": {"reputation": 1151, "user_id": 589216, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/92fd668121308f51a596ca8b88bbbca3?s=128&d=identicon&r=PG", "display_name": "andred", "link": "https://stackoverflow.com/users/589216/andred"}, "edited": false, "score": 2, "creation_date": 1514243873, "post_id": 47972556, "comment_id": 82914891, "body": "Android doesn&#39;t allow synchronous requests in the UI thread. That&#39;s <i>probably</i> why the app crashes. Use an async approach, like <a href=\"https://developer.android.com/training/volley/simple.html\" rel=\"nofollow noreferrer\">Volley</a> with its StringRequest class."}, {"owner": {"reputation": 33, "user_id": 7054825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sexHJwrJ1nQ/AAAAAAAAAAI/AAAAAAAAADI/k-mzUO_LCwA/photo.jpg?sz=128", "display_name": "Filip Wachowiak", "link": "https://stackoverflow.com/users/7054825/filip-wachowiak"}, "edited": false, "score": 0, "creation_date": 1514245439, "post_id": 47972556, "comment_id": 82915123, "body": "I used <code>val policy = StrictMode.ThreadPolicy.Builder().permitAll().build()         StrictMode.setThreadPolicy(policy)</code> for now. I know, that it is not the best solution but since what I&#39;m doing is just experimental it is OK. Thanks a lot guys."}], "owner": {"reputation": 33, "user_id": 7054825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sexHJwrJ1nQ/AAAAAAAAAAI/AAAAAAAAADI/k-mzUO_LCwA/photo.jpg?sz=128", "display_name": "Filip Wachowiak", "link": "https://stackoverflow.com/users/7054825/filip-wachowiak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514274016, "creation_date": 1514242571, "last_edit_date": 1514274016, "question_id": 47972556, "link": "https://stackoverflow.com/questions/47972556/why-does-urlhttp-pboss-pozit-pl-contact-html-readtext-make-android-app-c", "title": "Why does URL(&quot;http://pboss.pozit.pl/contact.html&quot;).readText() make android app crash?", "body": "<p>That is a fragment of my MainActivity.kt file.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    message.text=URL(\"http://pboss.pozit.pl/contact.html\").readText()\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n}\n</code></pre>\n\n<p>The app is working with just plain text instead of <code>URL(\"http://pboss.pozit.pl/contact.html\").readText()</code> but is crashing with the following code.\nI already added <code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;</code> to the mainfest.</p>\n\n<p>Note: <code>URL(\"http://pboss.pozit.pl/contact.html\").readText()</code> is the only edited thing in whole app.</p>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin"], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514242129, "creation_date": 1514242129, "question_id": 47972523, "link": "https://stackoverflow.com/questions/47972523/android-tests-are-running-without-lanuching-the-emulatorchoose-device-dialog-no", "title": "Android tests are running without lanuching the emulator(choose device dialog not appears) - empty test suite", "body": "<p>I am struggling with running the tests under the androidTest folder - currently even when i am not launch the emulator the test runs without it, there is no dialog to force me to choose the device on which i must run the test.\nIt leads to problem, that when i run the test error appears in the console:</p>\n\n<blockquote>\n  <p>Process finished with exit code 1\n  Class not found: \"com.someapp.shoppinglistapp.ShoppingListDaoTest\"Empty test suite.</p>\n</blockquote>\n\n<p>Only when i manually Edit Configuration for this separate method choose the \"deployment target options\" and choose \"open select deployment target dialog\" it runs well, i choose the emulator and test runs. but this means that i will have to manually do it for every test method in my androidTest package. </p>\n\n<p>What is really happening?\nI've tried this even on brand new project, configured to be Kotlin project in Android Studio 3.0.1. You can try it for yourself.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 2694382, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/184b60e0260363dc65d0ebdfbd26bf28?s=128&d=identicon&r=PG&f=1", "display_name": "Caveman", "link": "https://stackoverflow.com/users/2694382/caveman"}, "edited": false, "score": 0, "creation_date": 1549572514, "post_id": 47972034, "comment_id": 95961013, "body": "In case anyone wanted to know what exactly to put into the Android Manifest file, this is what worked for me.    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;  It goes within the &lt;manifest&gt; tags but outside the &lt;application&gt; tag"}, {"owner": {"reputation": 11647, "user_id": 507950, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0dabb66f0e0b88d90ccd9d0936e96f0e?s=128&d=identicon&r=PG", "display_name": "dodgy_coder", "link": "https://stackoverflow.com/users/507950/dodgy-coder"}, "edited": false, "score": 1, "creation_date": 1550305224, "post_id": 47972034, "comment_id": 96226993, "body": "Nice simple solution without adding dependencies. Its pretty shocking how fragmented online docs are on trying to do something simple like this in kotlin - I tried to get anko and the kotlin coroutines to work without any success."}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "edited": false, "score": 0, "creation_date": 1563709862, "post_id": 47972034, "comment_id": 100781900, "body": "It&#39;s taken me hours to find a solution to my simple problem, this was it, thank you so much!!"}], "tags": [], "owner": {"reputation": 999, "user_id": 1794549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dCovU.jpg?s=128&g=1", "display_name": "Marko Devcic", "link": "https://stackoverflow.com/users/1794549/marko-devcic"}, "is_accepted": true, "score": 8, "last_activity_date": 1514235974, "creation_date": 1514235974, "answer_id": 47972034, "question_id": 47971972, "link": "https://stackoverflow.com/questions/47971972/how-to-properly-use-the-url-with-kotlin-android/47972034#47972034", "title": "How to properly use the URL with Kotlin Android", "body": "<p>Android doesn't allow accessing the internet from the main thread.\nThe simplest way around this would be to open the URL on a background thread.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Executors.newSingleThreadExecutor().execute({\n            val json = URL(\"https://my-api-url.com/something\").readText()\n            simpleTextView.post { simpleTextView.text = json }\n        })\n</code></pre>\n\n<p>Don't forget to register Internet permission in the Android Manifest file.</p>\n"}, {"tags": [], "owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1514236515, "last_edit_date": 1514236515, "creation_date": 1514236126, "answer_id": 47972045, "question_id": 47971972, "link": "https://stackoverflow.com/questions/47971972/how-to-properly-use-the-url-with-kotlin-android/47972045#47972045", "title": "How to properly use the URL with Kotlin Android", "body": "<p>You could use coroutines:</p>\n\n<pre><code>val json = async(UI) {\n        URL(\"https://my-api-url.com/something\").readText()\n    }\n</code></pre>\n\n<p>Remember to add coroutines to build.gradle:</p>\n\n<pre><code>kotlin {\nexperimental {\n        coroutines \"enable\"\n    }\n}\n...\ndependencies {\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$kotlinx_coroutines_version\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:$kotlinx_coroutines_version\"\n...\n}\n</code></pre>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">Coroutines</a> are brilliant.</p>\n"}], "owner": {"reputation": 502, "user_id": 5479813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3c740fef455c455270a1046943896d49?s=128&d=identicon&r=PG&f=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/5479813/rod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6632, "favorite_count": 1, "accepted_answer_id": 47972034, "answer_count": 2, "score": 2, "last_activity_date": 1514236515, "creation_date": 1514235208, "last_edit_date": 1514235405, "question_id": 47971972, "link": "https://stackoverflow.com/questions/47971972/how-to-properly-use-the-url-with-kotlin-android", "title": "How to properly use the URL with Kotlin Android", "body": "<p>I want to use</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val json = URL(\"https://my-api-url.com/something\").readText()\n    simpleTextView.setText(json)\n}\n</code></pre>\n\n<p>but this fatal error occurs</p>\n\n<pre><code>FATAL EXCEPTION: main\n    Process: com.mypackage.randompackage, PID: 812\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{ ***.MainActivity}: android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>How can I simply read a JSON from a URL link?\nThe package of the <code>async</code> function  doesn't exist.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1151, "user_id": 1951392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENzil.jpg?s=128&g=1", "display_name": "Rohan Kadu", "link": "https://stackoverflow.com/users/1951392/rohan-kadu"}, "edited": false, "score": 0, "creation_date": 1514223073, "post_id": 47970708, "comment_id": 82910860, "body": "What error you are getting ?"}, {"owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "reply_to_user": {"reputation": 1151, "user_id": 1951392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENzil.jpg?s=128&g=1", "display_name": "Rohan Kadu", "link": "https://stackoverflow.com/users/1951392/rohan-kadu"}, "edited": false, "score": 0, "creation_date": 1514223198, "post_id": 47970708, "comment_id": 82910891, "body": "It&#39;s not a syntactic error. It seems that jsonobj.put(&quot;mail&quot;, mailTxt.text) doesn&#39;t work fine, cause the response[&quot;error&quot;] is always &quot;No params&quot;"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 1, "creation_date": 1514223319, "post_id": 47970708, "comment_id": 82910925, "body": "have you tried a debugger instead of a toast? Such a message could easily have another source."}, {"owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "edited": false, "score": 0, "creation_date": 1514224018, "post_id": 47970708, "comment_id": 82911075, "body": "No but I&#39;m pretty sure that nothing change"}], "owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514222942, "creation_date": 1514222780, "last_edit_date": 1514222942, "question_id": 47970708, "link": "https://stackoverflow.com/questions/47970708/error-with-jsonobject-kotlin", "title": "Error with JSONObject() - Kotlin", "body": "<p>I'm trying to do a login view with Volley Library. \nIt seems that \"jsonobj\" is always empty. </p>\n\n<pre><code>    val jsonobj = JSONObject()\n\n    loginBtn.setOnClickListener {\n\n        jsonobj.put(\"mail\", mailTxt.text)\n        jsonobj.put(\"pass\", passTxt.text)\n\n        val que = Volley.newRequestQueue(this@MainActivity)\n        val req = JsonObjectRequest(Request.Method.POST, url, jsonobj,\n                Response.Listener{\n                    response -&gt;\n                    toast(response[\"error\"].toString())\n\n               }, Response.ErrorListener {\n               toast(\"Error\")\n           })\n        que.add(req)\n      }\n    }\n  } \n</code></pre>\n"}, {"tags": ["intellij-idea", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1514223087, "post_id": 47970243, "comment_id": 82910861, "body": "Have to tried remove this project in IntelliJ and re-import it with gradle?"}, {"owner": {"reputation": 6887, "user_id": 1260028, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7cec2df758d7b56ea8155e44bcf3744?s=128&d=identicon&r=PG", "display_name": "Serguei Fedorov", "link": "https://stackoverflow.com/users/1260028/serguei-fedorov"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1514226351, "post_id": 47970243, "comment_id": 82911625, "body": "I have tried and unfortunately I am still having the same issue. Thank you for the suggestion @ice1000"}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "edited": false, "score": 0, "creation_date": 1514240152, "post_id": 47970243, "comment_id": 82914364, "body": "I&#39;ve experienced the same issue: did you remove the project, clean all build folders, and re-import and refresh? Try force refreshing dependencies before building by running <code>gradle --refresh-dependencies ...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6887, "user_id": 1260028, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7cec2df758d7b56ea8155e44bcf3744?s=128&d=identicon&r=PG", "display_name": "Serguei Fedorov", "link": "https://stackoverflow.com/users/1260028/serguei-fedorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1514255861, "creation_date": 1514255861, "answer_id": 47973423, "question_id": 47970243, "link": "https://stackoverflow.com/questions/47970243/unresolved-references-for-kotlin-jvm-standard-library-elements/47973423#47973423", "title": "Unresolved references for Kotlin (JVM) Standard Library Elements", "body": "<p>Thank you for the comments Ice100 and Preston Garno, they have helped greatly in finding a solution.</p>\n\n<p>The issue was that my project was not structured correctly. I had:</p>\n\n<pre><code>MyProject -&gt; src -&gt; [Source Files]\n          -&gt; build.gradle\n</code></pre>\n\n<p>however, after consulting <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">Using Gradle</a> more closely, it appears that the recommended project structure should be</p>\n\n<pre><code>MyProject -&gt; src -&gt; main -&gt; kotlin -&gt; [Source Files]\n          -&gt; build.gradle\n</code></pre>\n\n<p>Once the project structure is adjusted, go into <code>File -&gt; Invalidate Caches / Restart</code> and click the <code>Invalidate and Restart</code>. Once the indexer is rerun, the <code>Kotlin</code> standard library types, functions, etc. should now be available.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2254375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42bcb1ed5457cba7b5e1cdb199542d68?s=128&d=identicon&r=PG", "display_name": "Claudio Nieder", "link": "https://stackoverflow.com/users/2254375/claudio-nieder"}, "is_accepted": false, "score": 0, "last_activity_date": 1527190760, "creation_date": 1527190760, "answer_id": 50516993, "question_id": 47970243, "link": "https://stackoverflow.com/questions/47970243/unresolved-references-for-kotlin-jvm-standard-library-elements/50516993#50516993", "title": "Unresolved references for Kotlin (JVM) Standard Library Elements", "body": "<p>For any one coming to this page because of problem that IntelliJ suddenly does not find stuff in kotlin standard library: <code>File -&gt; Invalidate Caches / Restart</code> helped me in a situation which didn't even involve gradle. </p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 4366872, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-zKeE0qvw3NQ/AAAAAAAAAAI/AAAAAAAAABE/TZGvuqp8P9U/photo.jpg?sz=128", "display_name": "Orville", "link": "https://stackoverflow.com/users/4366872/orville"}, "is_accepted": false, "score": 0, "last_activity_date": 1530227984, "creation_date": 1530227984, "answer_id": 51092349, "question_id": 47970243, "link": "https://stackoverflow.com/questions/47970243/unresolved-references-for-kotlin-jvm-standard-library-elements/51092349#51092349", "title": "Unresolved references for Kotlin (JVM) Standard Library Elements", "body": "<p>After migrating my Java app to Kotlin I find myself in this situation.</p>\n\n<p>After checking gradle structure <a href=\"http://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">here</a>\nYou can sync your project with gradle using sync button from menu bar.\nthis will download necessary files for Kotlin</p>\n\n<p>Then you can just validate cache &amp; Restart if necessary.</p>\n"}], "owner": {"reputation": 6887, "user_id": 1260028, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f7cec2df758d7b56ea8155e44bcf3744?s=128&d=identicon&r=PG", "display_name": "Serguei Fedorov", "link": "https://stackoverflow.com/users/1260028/serguei-fedorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3960, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1530227984, "creation_date": 1514218492, "question_id": 47970243, "link": "https://stackoverflow.com/questions/47970243/unresolved-references-for-kotlin-jvm-standard-library-elements", "title": "Unresolved references for Kotlin (JVM) Standard Library Elements", "body": "<p>After adding <code>gradle</code> to an existing Kotlin project in <code>IntelliJ</code>, I started having issues with references to some standard library elements. For instance, Kotlin <code>String</code> type is recognized, but the <code>mutableMapOf</code> is giving me</p>\n\n<pre><code> Error:(11, 60) Kotlin: Unresolved reference: mutableMapOf\n</code></pre>\n\n<p>another is:</p>\n\n<pre><code>Error:(9, 78) Kotlin: Unresolved reference: Array\n</code></pre>\n\n<p>during compilation. They are marked red in the IDE, as well (not isolated to only compilation)</p>\n\n<p>Another error that appears in <code>IntelliJ</code> is <code>Kotlin not configured</code>, with no options to configure <code>Kotlin</code></p>\n\n<p>Here is my gradle build file: </p>\n\n<pre><code>apply plugin: 'kotlin'\n\ngroup = \"com.serguei.myproject\"\nversion = \"1.0\"\n\nbuildscript {\n    ext.kotlin_version = '1.2.10'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile 'com.google.code.gson:gson:2.8.2'\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1514220706, "post_id": 47970009, "comment_id": 82910330, "body": "Returning 2 things from a function is only one corner use case. The feature itself is used in many more situations, and it has proved to be useful and maintainable."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1514221713, "post_id": 47970009, "comment_id": 82910566, "body": "&quot;there should probably be a class there&quot; - if all you have is j\u0336a\u0336v\u0336a\u0336 a hammer, then everything looks like c\u0336l\u0336a\u0336s\u0336s\u0336e\u0336s\u0336 nails. Another language - different idioms. Also, what @voddan said."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1514222714, "post_id": 47970009, "comment_id": 82910787, "body": "Destructuring declarations do need a class in Kotlin. I think the main purpose of it is to provide simplicity instead of multiple return values. Most of the use cases are demonstrated in the <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">official doc</a>."}, {"owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "edited": false, "score": 0, "creation_date": 1606483924, "post_id": 47970009, "comment_id": 114981703, "body": "@GKh, I have added an answer to your question, I hope that broadens your knowledge :)."}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 1343997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e5978579438c20fc4815dce79579e8e?s=128&d=identicon&r=PG", "display_name": "Vincent D.", "link": "https://stackoverflow.com/users/1343997/vincent-d"}, "edited": false, "score": 1, "creation_date": 1519939601, "post_id": 47972270, "comment_id": 85122806, "body": "Use with caution, if you refactor by interchanging the two variables xCoordinate and yCoordinate in your object -&gt; component1 and component2 will be switched -&gt; your <code>val (x, y)</code> will be in fact <code>val (y, x)</code> and here you are with bugs all over the place."}, {"owner": {"reputation": 957, "user_id": 1343997, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4e5978579438c20fc4815dce79579e8e?s=128&d=identicon&r=PG", "display_name": "Vincent D.", "link": "https://stackoverflow.com/users/1343997/vincent-d"}, "edited": false, "score": 0, "creation_date": 1519940480, "post_id": 47972270, "comment_id": 85123245, "body": "Using the ctrl+f6 or cmd+f6 refactoring tool handles this correctly."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1514238925, "creation_date": 1514238925, "answer_id": 47972270, "question_id": 47970009, "link": "https://stackoverflow.com/questions/47970009/whats-the-point-of-destructuring-declarations-in-kotlin/47972270#47972270", "title": "What&#39;s the point of destructuring declarations in Kotlin?", "body": "<p>The concept allows having classes that clearly identify a few of their primary properties, the <em>components</em>. </p>\n\n<p>Then you can access these components by using a destructuring declaration, without syntactic noise of accessing the properties.</p>\n\n<p>Compare:</p>\n\n<pre><code> val point = clickEvent.getPointOnScreen()\n val x = point.xCoordinate\n val y = point.yCoordinate\n // Use `x` and `y` in some calculations\n</code></pre>\n\n<p>and, assuming that the type has <code>component1</code> and <code>component2</code>, just:</p>\n\n<pre><code> val (x, y) = clickEvent.getPointOnScreen()\n</code></pre>\n\n<p>Basically, it is not necessary to use this sort of syntactic sugar, and the concept itself does not harm any of the abstractions, it only provides a convenient way to access properties of a class instance in some cases when you don't need the instance itself.</p>\n\n<p>Another example is working with map entries, e.g:</p>\n\n<pre><code>for ((key, value) in myMap) { /* ... */ }\n</code></pre>\n\n<p>There's still a <code>Map.Entry&lt;K, V&gt;</code> behind the <code>(key, value)</code> destructuring, and you can replace it by <code>for (entry in myMap) ...</code>, but usually it's the two properties that you need. This is where destructuring saves you from a little syntactic noise.</p>\n"}, {"tags": [], "owner": {"reputation": 250, "user_id": 3686336, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/CyqUT.png?s=128&g=1", "display_name": "H.Gheisari", "link": "https://stackoverflow.com/users/3686336/h-gheisari"}, "is_accepted": false, "score": 0, "last_activity_date": 1601058512, "creation_date": 1601058512, "answer_id": 64069566, "question_id": 47970009, "link": "https://stackoverflow.com/questions/47970009/whats-the-point-of-destructuring-declarations-in-kotlin/64069566#64069566", "title": "What&#39;s the point of destructuring declarations in Kotlin?", "body": "<p>You can also define componentN function as extension for non data classes like this:</p>\n<pre><code>operator fun Location.component1() = latitude\noperator fun Location.component2() = longitude\n</code></pre>\n<p>and when you want to process on list of locations, you can write this:</p>\n<pre><code>for ((lat, lon) in locations) {\n    ......\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": false, "score": 0, "last_activity_date": 1605825921, "last_edit_date": 1605825921, "creation_date": 1605825555, "answer_id": 64921091, "question_id": 47970009, "link": "https://stackoverflow.com/questions/47970009/whats-the-point-of-destructuring-declarations-in-kotlin/64921091#64921091", "title": "What&#39;s the point of destructuring declarations in Kotlin?", "body": "<blockquote>\n<p>What's the point of destructuring declarations in Kotlin?</p>\n</blockquote>\n<p>Structuring, or construction, is creating an object from values in different variables. Destructuring is the opposite, to extract values into variables from within an existing object.</p>\n<p>Part of the Kotlin philosophy is to be concise since the simpler and more concise the code is, the faster you\u2019ll understand what\u2019s going on. Destructuring improves readability which is part of being concise. Compare the following two snippets (let's consider the class <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-triple/\" rel=\"nofollow noreferrer\"><code>Triple</code></a>)</p>\n<p><strong>Without using destructuring</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getFullName() = Triple(&quot;Thomas&quot;, &quot;Alva&quot;, &quot;Edison&quot;)\nval result = getFullName()\nval first = result.first\nval middle = result.second\nval last = result.third\n</code></pre>\n<p><strong>Using destructuring</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getFullName() = Triple(&quot;Thomas&quot;, &quot;Alva&quot;, &quot;Edison&quot;)\nval (first, middle, last) = getFullName()\n</code></pre>\n<p>It is also possible to take advantage of destructuring to extract <code>key</code> and <code>value</code> from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/-entry/\" rel=\"nofollow noreferrer\"><code>Map</code>'s entries</a>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for ((key, value) in aMap) {\n    /* ... */\n}\n</code></pre>\n"}], "owner": {"reputation": 186, "user_id": 2271267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HKj3l.jpg?s=128&g=1", "display_name": "G. Kh.", "link": "https://stackoverflow.com/users/2271267/g-kh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 47972270, "answer_count": 3, "score": 3, "last_activity_date": 1605825921, "creation_date": 1514216318, "last_edit_date": 1605824767, "question_id": 47970009, "link": "https://stackoverflow.com/questions/47970009/whats-the-point-of-destructuring-declarations-in-kotlin", "title": "What&#39;s the point of destructuring declarations in Kotlin?", "body": "<p>I have come across the concept called <em>destructuring declarations</em> - when you can return multiple values from a function at once. It seems very convenient, but at the same time it looks like a tricky workaround. Each time when I think about that feature in Java, I understand that it's a hole in my architecture - there should probably be a class then, not just a couple of variables.</p>\n<p>What do you think?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1994, "user_id": 2763238, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1Tc6b.jpg?s=128&g=1", "display_name": "jacoballenwood", "link": "https://stackoverflow.com/users/2763238/jacoballenwood"}, "edited": false, "score": 0, "creation_date": 1519407568, "post_id": 48513861, "comment_id": 84913529, "body": "this is kind of ridiculous that this works (thanks for the answer)...you can&#39;t right click on a test and run it, but you can right click on the parent folder and run it....I&#39;m new to android but the testing seems so broken...."}, {"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "reply_to_user": {"reputation": 1994, "user_id": 2763238, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1Tc6b.jpg?s=128&g=1", "display_name": "jacoballenwood", "link": "https://stackoverflow.com/users/2763238/jacoballenwood"}, "edited": false, "score": 1, "creation_date": 1519458291, "post_id": 48513861, "comment_id": 84927422, "body": "@jacoballenwood Ya it&#39;s broken in kotlin. If you are writing your tests in Java, it works perfectly. But write now, the tooling doesn&#39;t fully support Kotlin. Hope they fix it soon."}, {"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "reply_to_user": {"reputation": 1994, "user_id": 2763238, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1Tc6b.jpg?s=128&g=1", "display_name": "jacoballenwood", "link": "https://stackoverflow.com/users/2763238/jacoballenwood"}, "edited": false, "score": 0, "creation_date": 1520873200, "post_id": 48513861, "comment_id": 85484410, "body": "@jacoballenwood Check my updated answer. This is fixed in the latest Android Studio."}], "tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": false, "score": 13, "last_activity_date": 1522945239, "last_edit_date": 1522945239, "creation_date": 1517286134, "answer_id": 48513861, "question_id": 47969959, "link": "https://stackoverflow.com/questions/47969959/class-not-found-empty-test-suite-in-androidtest-using-android-studio-3-0-1-roo/48513861#48513861", "title": "Class not found, Empty test suite in androidTest using Android Studio 3.0.1, Room, Kotlin", "body": "<p>I too had the same problem. Whenever I tried to run the individual test or test class, I kept getting \"Empty Test Suite\" error. It seems this is a bug in Android Studio.</p>\n\n<p>Instead, right click the <code>androidTest</code> package and click \"Run 'Tests in ...\". This is the only way I could get it to work.</p>\n\n<p>Courtesy: <a href=\"https://github.com/googlecodelabs/android-testing/issues/27\" rel=\"nofollow noreferrer\">The codelab guys</a></p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>This is fixed in <code>Android Studio 3.1</code> version. Even the <code>gradlew connectedDebugAndroidTest</code> <a href=\"https://issuetracker.google.com/issues/74489636\" rel=\"nofollow noreferrer\">issue</a> is now fixed.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 3543610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTRo0.jpg?s=128&g=1", "display_name": "Thiago Saraiva", "link": "https://stackoverflow.com/users/3543610/thiago-saraiva"}, "is_accepted": false, "score": 0, "last_activity_date": 1532880627, "last_edit_date": 1532880627, "creation_date": 1532879409, "answer_id": 51582011, "question_id": 47969959, "link": "https://stackoverflow.com/questions/47969959/class-not-found-empty-test-suite-in-androidtest-using-android-studio-3-0-1-roo/51582011#51582011", "title": "Class not found, Empty test suite in androidTest using Android Studio 3.0.1, Room, Kotlin", "body": "<p>I was having the same problem. In my case what solved the issue was moving my test class (DaoTest class) to the same package as the default ExampleInstrumentedTest created by Android Studio.</p>\n\n<p>I had this Project structure before:</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>androidTest\n\n<ul>\n<li>java\n\n<ul>\n<li>[my app package]\n\n<ul>\n<li>ExampleInstrumentedTest</li>\n<li>itemList.dataSource\n\n<ul>\n<li>DaoTest</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>And changed to be:</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>androidTest\n\n<ul>\n<li>java\n\n<ul>\n<li>[my app package]\n\n<ul>\n<li>ExampleInstrumentedTest</li>\n<li>DaoTest</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>After doing this I was able to run all the tests in the class at once without any problems.</p>\n"}, {"tags": [], "owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "is_accepted": false, "score": 0, "last_activity_date": 1617782392, "creation_date": 1617782392, "answer_id": 66981835, "question_id": 47969959, "link": "https://stackoverflow.com/questions/47969959/class-not-found-empty-test-suite-in-androidtest-using-android-studio-3-0-1-roo/66981835#66981835", "title": "Class not found, Empty test suite in androidTest using Android Studio 3.0.1, Room, Kotlin", "body": "<p>I guess the way you run the Test file is incorrect.</p>\n<p>First of all, Invalidate Caches/Restart and then, Run the test from the numbering bar.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7725, "favorite_count": 1, "answer_count": 3, "score": 15, "last_activity_date": 1617782392, "creation_date": 1514215934, "last_edit_date": 1514230131, "question_id": 47969959, "link": "https://stackoverflow.com/questions/47969959/class-not-found-empty-test-suite-in-androidtest-using-android-studio-3-0-1-roo", "title": "Class not found, Empty test suite in androidTest using Android Studio 3.0.1, Room, Kotlin", "body": "<p>I have a problem with running my androidTest.</p>\n\n<p>Here is my setup in gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 26\ndefaultConfig {\n    applicationId \"com.blabla.shoppinglistapp\"\n    minSdkVersion 17\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n }\n}\n\next.daggerVersion = '2.11'\next.roomVersion = '1.0.0'\next.mockitoVersion = '2.11.0'\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.android.support:design:26.1.0'\nimplementation 'com.android.support:recyclerview-v7:26.1.0'\n\ntestImplementation 'junit:junit:4.12'\ntestImplementation 'org.mockito:mockito-android:2.8.47'\n\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n// ViewModel and LiveData\nimplementation \"android.arch.lifecycle:extensions:1.0.0\"\nannotationProcessor \"android.arch.lifecycle:compiler:1.0.0\"\n\n// RxJava\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.5'\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\nimplementation 'com.jakewharton.rxbinding2:rxbinding:2.0.0'\n\n// Room\nimplementation \"android.arch.persistence.room:runtime:$roomVersion\"\nimplementation \"android.arch.persistence.room:rxjava2:$roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$roomVersion\"\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib:1.2.10\"\nandroidTestImplementation \"android.arch.persistence.room:testing:$roomVersion\"\n\n// Gson\nimplementation 'com.google.code.gson:gson:2.8.2'\n}\n</code></pre>\n\n<p>And here is the test(almost nothing here):</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass ShoppingListDaoTest {\n@Test\nfun useAppContext() {\n    // Context of the app under test.\n    val appContext = InstrumentationRegistry.getTargetContext()\n    assertEquals(\"com.blabla.shoppinglistapp\", appContext.packageName)\n}\n\nprivate lateinit var database: ShoppingListDatabase\n\n@Before\nfun initDb() {\n    // using an in-memory database because the information stored here disappears after test\n    database = Room.inMemoryDatabaseBuilder(InstrumentationRegistry.getContext(),\n            ShoppingListDatabase::class.java)\n            // allowing main thread queries, just for testing\n            .allowMainThreadQueries()\n            .build()\n}\n\n@After\nfun closeDb() {\n    database.close()\n}\n\n\n@Test fun testGetActiveShoppingListWhenNoActiveShoppingListInserted() {\n    database.shoppingListDao().getActiveShoppingLists()\n            .test()\n            .assertNoValues()\n}\n\n\n}\n</code></pre>\n\n<p>When i try to run the test i get this:</p>\n\n<blockquote>\n  <p>Process finished with exit code 1\n  Class not found: \"com.blabla.shoppinglistapp.ShoppingListDaoTest\"Empty test suite.</p>\n</blockquote>\n\n<p>And it is not starting</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I noticed some really bad thing.\nWhen i started new project in Android Studio and try to run default androidTest it gives me known error:</p>\n\n<blockquote>\n  <p>Error:Gradle: java.util.concurrent.ExecutionException: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details</p>\n</blockquote>\n\n<p>The workround for this is to add this line to gradle.properties:</p>\n\n<blockquote>\n  <p>android.enableAapt2=false</p>\n</blockquote>\n\n<p>This is the steps that I've done in my original project previously(i ran into that error also).\nUnfortunately, after it it give me the error from my question.\nSo it really is the matter of how to solve the isse with the aapt2 to make this work.\nSee here also: <a href=\"https://stackoverflow.com/questions/47971366/aapt2-error-check-logs-for-details-after-workround-the-androidtest-not-working\">AAPT2 error: check logs for details, after workround the androidTest not working</a></p>\n\n<p>Any idea? </p>\n"}, {"tags": ["android", "mvvm", "kotlin", "adapter", "retrofit2"], "comments": [{"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1514215345, "post_id": 47969849, "comment_id": 82909117, "body": "Create a function to update data in adapter. Call it in response. And call notifyDataSetChanged"}, {"owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "reply_to_user": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1514216048, "post_id": 47969849, "comment_id": 82909285, "body": "Could you please elaborate ??"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514223317, "post_id": 47970319, "comment_id": 82910923, "body": "Hey @Akhil It is working like a charm, thank you man. But I have a question  I&#39;m getting complete list in the adapter but not able to get size in getItemCount() method. How do I do it ?"}, {"owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "reply_to_user": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514255904, "post_id": 47970319, "comment_id": 82916407, "body": "In setListData you should update your list data  &amp; in getItemCount should return size of updated list"}, {"owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514263437, "post_id": 47970319, "comment_id": 82917398, "body": "I have updated the list from setListData but this method is called after the all the overriden methods so list is updating after all the default recyclerview methods gets called."}, {"owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "reply_to_user": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514264027, "post_id": 47970319, "comment_id": 82917487, "body": "If there are no items in list return 0 else return the size of the updated list, this method will be called by recycleView multiple times, it&#39;s all asynchronous"}, {"owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514266898, "post_id": 47970319, "comment_id": 82917970, "body": "Used notifyDataSetChanged() ... It&#39;s working now.. Thanks."}], "tags": [], "owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "is_accepted": true, "score": 0, "last_activity_date": 1514219100, "creation_date": 1514219100, "answer_id": 47970319, "question_id": 47969849, "link": "https://stackoverflow.com/questions/47969849/how-to-pass-retrofit-onresponse-data-to-an-activity/47970319#47970319", "title": "How to pass Retrofit onResponse Data to an Activity?", "body": "<p>You can use pass your desired method which needs to be called as functional parameter, try below here <strong>fetchGifs</strong> accepts one method as parameter &amp; in  <strong>MainActivity</strong> we are passing <strong>adapter.setListData</strong> to it as parameter</p>\n\n<pre><code>class TrendingViewModel : ViewModel() {\n\nfun fetchGifs(callback: (giphyResponse: GiphyResponse) -&gt; Any) {\n    val apiService = GiphyApi().getClient()?.create(ApiInterface::class.java)\n    val call = apiService?.getTrendingResults(20, Constants.API_KEY)\n    var imageDetails: List&lt;ImageDetails&gt;\n\n\n    call?.enqueue(object : retrofit2.Callback&lt;GiphyResponse&gt; {\n\n        override fun onResponse(call: Call&lt;GiphyResponse&gt;?, response: Response&lt;GiphyResponse&gt;?) {\n            imageDetails = response?.body()?.data!!\n            callback(imageDetails) \n        }\n\n        override fun onFailure(call: Call&lt;GiphyResponse&gt;?, t: Throwable?) {\n        }\n    })\n}}\n\n\n\n\nclass MainActivity : AppCompatActivity() {\n\nprivate lateinit var layoutManager: RecyclerView.LayoutManager\nlateinit var adapter: RecyclerViewAdapter\nlateinit var trendingViewModel: TrendingViewModel\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n    val debugTree: Timber.DebugTree = Timber.DebugTree()\n    Timber.plant(debugTree)\n\n    trendingViewModel = ViewModelProviders.of(this).get(TrendingViewModel::class.java)\n    trendingViewModel.fetchGifs()\n    layoutManager = GridLayoutManager(this, 3) as RecyclerView.LayoutManager\n    binding.recyclerview.layoutManager = layoutManager\n    adapter = RecyclerViewAdapter(this)\n    binding.recyclerview.adapter = adapter\n    TrendingViewModel().fetchGifs(result -&gt; adapter.setListData(result))\n\n\n}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "edited": false, "score": 0, "creation_date": 1514223364, "post_id": 47970369, "comment_id": 82910935, "body": "Hey Man Thank you for the reply, although I haven&#39;t tried yet because I found @Akhil&#39;s answer easier. Anyway Thank you."}], "tags": [], "owner": {"reputation": 2667, "user_id": 1475574, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3yzJl.jpg?s=128&g=1", "display_name": "Khalid Taha", "link": "https://stackoverflow.com/users/1475574/khalid-taha"}, "is_accepted": false, "score": 1, "last_activity_date": 1514219514, "creation_date": 1514219514, "answer_id": 47970369, "question_id": 47969849, "link": "https://stackoverflow.com/questions/47969849/how-to-pass-retrofit-onresponse-data-to-an-activity/47970369#47970369", "title": "How to pass Retrofit onResponse Data to an Activity?", "body": "<p>1- in your activity add:</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity implements Observer { \n        ....\n    }\n</code></pre>\n\n<p>2- implement the method <code>update()</code> in your <code>activity</code>:</p>\n\n<pre><code>    @Override\n    public void update(Observable o, Object arg) {\n\n\n    }\n</code></pre>\n\n<p>3- create an Observable object:</p>\n\n<pre><code>public class RetrofitObservable extends Observable {\n\n    private static RetrofitObservable instance = null;\n\n    public static RetrofitObservable getInstance() {\n\n         if(instance == null) {\n\n             instance = new RetrofitObservable();\n\n         }\n\n         return instance;\n    }\n\n    public void notifyObserverWithResponse(Object response) {\n\n        setChanged();\n\n        notifyObservers(response);\n\n    }\n\n}\n</code></pre>\n\n<p>4- in your activity <code>onResume()</code> add this line:</p>\n\n<pre><code>RetrofitObservable.getInstance().addObserver(this);\n</code></pre>\n\n<p>5- in your activity <code>onPause()</code> add this line:</p>\n\n<pre><code>RetrofitObservable.getInstance().deleteObserver(this);\n</code></pre>\n\n<p>6- in your Retrofit response, call this line: </p>\n\n<pre><code>RetrofitObservable.getInstance(). notifyObserverWithResponse(yourResponseHere);\n</code></pre>\n\n<p>7- in your activity <code>update</code> method, handle your response:</p>\n\n<pre><code>@Override\npublic void update(Observable o, Object arg) {\n\n    YourRetrofitResponse response = (YourRetrofitResponse) arg;\n\n    // make your changes here\n\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8813913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-e8BS5MR75zk/AAAAAAAAAAI/AAAAAAAAI0s/LStcb1uKjP0/photo.jpg?sz=128", "display_name": "Vivek Patel", "link": "https://stackoverflow.com/users/8813913/vivek-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1832, "favorite_count": 1, "accepted_answer_id": 47970319, "answer_count": 2, "score": 0, "last_activity_date": 1514285960, "creation_date": 1514214906, "last_edit_date": 1514285960, "question_id": 47969849, "link": "https://stackoverflow.com/questions/47969849/how-to-pass-retrofit-onresponse-data-to-an-activity", "title": "How to pass Retrofit onResponse Data to an Activity?", "body": "<p>I want to pass retrofit response to Activity so that i can set data in the recyclerview adapter. I don't want to use LiveData or RxJava.\nHere imageDetails is the list of Json Object and I want to pass it to MainActivity.</p>\n\n<p><strong>TrendingViewModel.kt</strong></p>\n\n<pre><code>class TrendingViewModel : ViewModel() {\n\nfun fetchGifs() {\n    val apiService = GiphyApi().getClient()?.create(ApiInterface::class.java)\n    val call = apiService?.getTrendingResults(20, Constants.API_KEY)\n    var imageDetails: List&lt;ImageDetails&gt;\n\n\n    call?.enqueue(object : retrofit2.Callback&lt;GiphyResponse&gt; {\n\n        override fun onResponse(call: Call&lt;GiphyResponse&gt;?, response: Response&lt;GiphyResponse&gt;?) {\n            imageDetails = response?.body()?.data!!\n        }\n\n        override fun onFailure(call: Call&lt;GiphyResponse&gt;?, t: Throwable?) {\n        }\n    })\n}}\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var layoutManager: RecyclerView.LayoutManager\nlateinit var adapter: RecyclerViewAdapter\nlateinit var trendingViewModel: TrendingViewModel\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n    val debugTree: Timber.DebugTree = Timber.DebugTree()\n    TrendingViewModel().fetchGifs()\n    Timber.plant(debugTree)\n\n    trendingViewModel = ViewModelProviders.of(this).get(TrendingViewModel::class.java)\n    trendingViewModel.fetchGifs()\n    layoutManager = GridLayoutManager(this, 3) as RecyclerView.LayoutManager\n    binding.recyclerview.layoutManager = layoutManager\n    adapter = RecyclerViewAdapter(this)\n    binding.recyclerview.adapter = adapter\n    adapter.setListData(//TODO I need the response data here)\n\n}}\n</code></pre>\n\n<p><strong>RecyclerViewAdapter.kt</strong></p>\n\n<p>Edit: Everthing is working fine but My list is getting updated after all the default function is called.</p>\n\n<pre><code>class RecyclerViewAdapter(context: Context) : RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt;(){\n\n\nprivate var gifList: List&lt;ImageDetails&gt;? = Collections.emptyList()\nprivate var mContext: Context? = null\n\ninit {\n    this.mContext = context\n}\n\nfun setListData(list: List&lt;ImageDetails&gt;) {\n    gifList=list\n    Log.i(\"Size SetListData\", gifList!!.size.toString())\n\n    //Here it is showing List size 20\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder? {\n    val binding = DataBindingUtil.inflate&lt;RecyclerviewListItemBinding&gt;(LayoutInflater.from(parent.context), R.layout.recyclerview_list_item,\n            parent, false)\n\n    return ViewHolder(binding)\n\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    //val binding = holder.binding;\n    Log.i(\"Size SizeBindHolder\",gifList?.size.toString())\n\n    //Size = 0\n\n    /*Glide.with(mContext)\n            .load(gifList?.get(position)?.images?.dimen?.url)\n            .into(holder.imageView)*/\n\n}\n\noverride fun getItemCount(): Int {\n    Log.i(\"Size ItemCount\",gifList?.size.toString())\n    // Size = 0 \n    return gifList?.size!!\n}\n\n\n\n\nclass ViewHolder(var binding: RecyclerviewListItemBinding) : RecyclerView.ViewHolder(binding.root) {\n    var imageView: ImageView\n\n    init {\n        this.binding = binding\n        imageView = binding.imageView\n    }\n}\n</code></pre>\n"}, {"tags": ["variables", "types", "kotlin"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1514211906, "post_id": 47969460, "comment_id": 82908333, "body": "I&#39;m pretty sure you must stringify your booleans explicitly. This is not PHP, you know :)"}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1514212015, "post_id": 47969460, "comment_id": 82908359, "body": "What the error message tells you, is kotlin failed to find such overload of operator <code>+</code> where left part is a boolean and right is a string."}, {"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 1, "creation_date": 1514212083, "post_id": 47969460, "comment_id": 82908382, "body": "also <code>var flag2: =false</code> is invalid code, this won&#39;t even compile."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1514212129, "post_id": 47969460, "comment_id": 82908391, "body": "In addition to the comments above, you should use string interpolation, not concatenation."}], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 1794549, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dCovU.jpg?s=128&g=1", "display_name": "Marko Devcic", "link": "https://stackoverflow.com/users/1794549/marko-devcic"}, "is_accepted": true, "score": 6, "last_activity_date": 1514213172, "last_edit_date": 1514213172, "creation_date": 1514212273, "answer_id": 47969526, "question_id": 47969460, "link": "https://stackoverflow.com/questions/47969460/unable-to-print-multiple-boolean-in-kotlin/47969526#47969526", "title": "unable to print multiple Boolean in Kotlin", "body": "<p>For that compiler error, change this:</p>\n\n<pre><code>println(flag2 + \"and \" + flag1)\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>println(\"$flag2 and $flag1\")\n</code></pre>\n\n<p>Kotlin is strongly typed language and you can't use plus operator on String and Boolean types.</p>\n\n<p>But you can use string interpolation, with $ operator inside a string literal.</p>\n\n<p>You could also make it compile with overloaded plus operator on the Boolean type by adding this:</p>\n\n<pre><code>operator fun Boolean.plus(s: String): String {\n    return this.toString() + s\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1514215516, "post_id": 47969614, "comment_id": 82909158, "body": "Or <code>println(&quot;&quot; + flag2 + &quot; and &quot; + flag1)</code>"}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 3, "last_activity_date": 1514213001, "creation_date": 1514213001, "answer_id": 47969614, "question_id": 47969460, "link": "https://stackoverflow.com/questions/47969460/unable-to-print-multiple-boolean-in-kotlin/47969614#47969614", "title": "unable to print multiple Boolean in Kotlin", "body": "<p>In Java, it performs <a href=\"https://stackoverflow.com/questions/13894892/primitive-boolean-to-string-concatenation-conversion\">string conversion</a> when you concatenate a string with any type of object. For example, </p>\n\n<pre><code>System.out.println(true + \" and false\");    //Output: true and false\n</code></pre>\n\n<p>In Kotlin, string conversion doesn't exist. Alternatively, you may use <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">string templates</a> for that.</p>\n\n<pre><code>println(\"$flag2 and $flag1\")\n</code></pre>\n\n<p>Besides, since Kotlin's String class provide <code>plus(Any?)</code> function which receives any type as parameter, so the following line of code is still valid:</p>\n\n<pre><code>println(\"$flag2 and \" + flag1)\n</code></pre>\n\n<p>Here is a <a href=\"https://discuss.kotlinlang.org/t/string-concat-with-integer-implicit-type-conversion/5419\" rel=\"nofollow noreferrer\">discussion</a> on this design.</p>\n"}], "owner": {"reputation": 746, "user_id": 4439873, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/9H5Ce.jpg?s=128&g=1", "display_name": "Ashu_FalcoN", "link": "https://stackoverflow.com/users/4439873/ashu-falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 0, "accepted_answer_id": 47969526, "answer_count": 2, "score": 2, "last_activity_date": 1514213172, "creation_date": 1514211712, "question_id": 47969460, "link": "https://stackoverflow.com/questions/47969460/unable-to-print-multiple-boolean-in-kotlin", "title": "unable to print multiple Boolean in Kotlin", "body": "<p>i'm beginning with kotlin language</p>\n\n<pre><code>fun main (args:Array&lt;String&gt;){\n\n\n    var flag1:Boolean= true //Explicit declaration\n    var flag2: =false //Implicit declaration\n\n     println(flag2 + \"and \" + flag1)\n\n     println(flag1)\n     println(flag2)\n</code></pre>\n\n<p>}</p>\n\n<p>in above code i have declared 2 type of boolean <strong>Explicit</strong> and <strong>Implicit</strong> declaration</p>\n\n<p>for above code i would say expect following ouput :-</p>\n\n<pre><code>false and true \n\ntrue\n\nfalse\n</code></pre>\n\n<p>but i'm getting following erroe :-\n<a href=\"https://i.stack.imgur.com/fCCuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fCCuM.png\" alt=\"error given by IDE\"></a></p>\n\n<p>can anyone explain where did i go wrong ?</p>\n"}, {"tags": ["intellij-idea", "gradle", "junit", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 27, "creation_date": 1514211294, "post_id": 47969384, "comment_id": 82908186, "body": "<a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1514211597, "post_id": 47969384, "comment_id": 82908243, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44429751/how-to-use-junit-5-with-gradle\">How to use JUnit 5 with Gradle?</a>"}, {"owner": {"reputation": 1005, "user_id": 2554598, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cf0680620a99db46d7c3592413234715?s=128&d=identicon&r=PG", "display_name": "icehawk", "link": "https://stackoverflow.com/users/2554598/icehawk"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1514212850, "post_id": 47969384, "comment_id": 82908552, "body": "@JBNizet Thank you. My tests are executed by Gradle, now. However, Intellij still displays the message &quot;test events were not found&quot;, although the ests are visible in the command line."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1514213730, "post_id": 47969384, "comment_id": 82908746, "body": "IntelliJ can execute JUnit tests 5 directly. But if you configure it to delegate to gradle, than it can&#39;t work, because it delegates to the standard test task, and the test task doesn&#39;t support JUnit 5 yet."}, {"owner": {"reputation": 439, "user_id": 7394417, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5cd5293b8d317936b6e4cb822fcbd764?s=128&d=identicon&r=PG&f=1", "display_name": "jMan", "link": "https://stackoverflow.com/users/7394417/jman"}, "edited": false, "score": 0, "creation_date": 1605040888, "post_id": 47969384, "comment_id": 114530269, "body": "I am using intellij 2020.2 and whilst running a class worked fine, I needed to gradle refresh (and possibly even open build.gradle.kts to trigger indexing) to pass individual tests"}], "answers": [{"comments": [{"owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "edited": false, "score": 1, "creation_date": 1524138349, "post_id": 49638847, "comment_id": 86856008, "body": "I have run into several issues (for instance <a href=\"https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla\" title=\"intellij idea 2017 3 unable to start kotlin spring boot app configuration cla\">stackoverflow.com/questions/48544015/&hellip;</a>) regarding what PHPirate says. I&#39;d also advice upgrading to the latest Kotlin version both in IntelliJ and build.gradle (1.2.31)"}], "tags": [], "owner": {"reputation": 4588, "user_id": 4126843, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4r8yp.png?s=128&g=1", "display_name": "PHPirate", "link": "https://stackoverflow.com/users/4126843/phpirate"}, "is_accepted": false, "score": 2, "last_activity_date": 1522788106, "creation_date": 1522788106, "answer_id": 49638847, "question_id": 47969384, "link": "https://stackoverflow.com/questions/47969384/gradle-does-not-find-my-tests-with-kotlin-and-junit-5/49638847#49638847", "title": "Gradle does not find my tests with Kotlin and JUnit 5", "body": "<p>I think your particular issue of tests not being run was or would be solved by updated everything to the latest version (Gradle, Kotlin, IntelliJ, etc.). Everything is moving really fast at the moment so keeping up to date is a must.</p>\n\n<p><strong>About the 'test events were not received'</strong></p>\n\n<p>As far as I know this is sort of expected. The point is, when using Gradle tasks, either trust your tests were run or figure out a way to display per-test logging.</p>\n\n<p>You need to make a distinction when 'executing the gradle task' or 'running tests using IntelliJ' (e.g. by clicking the gutter icon next to a test).</p>\n\n<p><strong>Running from IntelliJ.</strong></p>\n\n<p>IntelliJ integrates wonderfully with Gradle, in the sense that if you run from IntelliJ, then it will not only run the tests (via Gradle?) but also show some nice test results.\nAll works well with JUnit 5, Kotlintest, Spek, using normal Gradle or Gradle Kotlin DSL or whatever you use.</p>\n\n<p>Shameless self-advert: JUnit 5 and Gradle (also shows Gradle test logging): <a href=\"https://stackoverflow.com/questions/44429751/how-to-use-junit-5-with-gradle\">How to use JUnit 5 with Gradle?</a>\nand JUnit 5, Kotlintest and Gradle Kotlin DSL: <a href=\"https://stackoverflow.com/questions/49638462/how-to-run-kotlintest-tests-using-the-gradle-kotlin-dsl/49638463#49638463\">How to run kotlintest tests using the Gradle Kotlin DSL?</a></p>\n\n<p><strong>Running the Gradle task.</strong></p>\n\n<p>However, when you run a Gradle task using the Gradle tool window, you will see as you mentioned 'test events were not received'. I think this is because you just run a Gradle task which ran the test, and that does not have anything to do with IntelliJ per se, it doesn't integrate in that it reports back results - it just prints to the command line.</p>\n\n<p>Compare for example with running the Kotlin. When you use the Gradle task, it will output in <code>build/</code>. But when you run the main method using the gutter icon, so using IntelliJ, it will output in <code>out/</code>. These are two different things running.</p>\n"}, {"tags": [], "owner": {"reputation": 6301, "user_id": 526635, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/612faad93df3c59c019cd7a7e8614318?s=128&d=identicon&r=PG", "display_name": "Abhinav Manchanda", "link": "https://stackoverflow.com/users/526635/abhinav-manchanda"}, "is_accepted": false, "score": 0, "last_activity_date": 1556293511, "creation_date": 1556293511, "answer_id": 55870980, "question_id": 47969384, "link": "https://stackoverflow.com/questions/47969384/gradle-does-not-find-my-tests-with-kotlin-and-junit-5/55870980#55870980", "title": "Gradle does not find my tests with Kotlin and JUnit 5", "body": "<p>I faced the same issue with Java 11 and JUnit 5. It started working for me as soon as I made the class public. </p>\n"}, {"comments": [{"owner": {"reputation": 4354, "user_id": 5967828, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/fJ7P2.jpg?s=128&g=1", "display_name": "xetra11", "link": "https://stackoverflow.com/users/5967828/xetra11"}, "edited": false, "score": 3, "creation_date": 1578569085, "post_id": 56235279, "comment_id": 105484911, "body": "How to add <code>test.useJUnitPlatform()</code> when using Kotlin syntax for gradle?"}, {"owner": {"reputation": 6992, "user_id": 4537090, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Dwxvn.jpg?s=128&g=1", "display_name": "WesternGun", "link": "https://stackoverflow.com/users/4537090/westerngun"}, "reply_to_user": {"reputation": 4354, "user_id": 5967828, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/fJ7P2.jpg?s=128&g=1", "display_name": "xetra11", "link": "https://stackoverflow.com/users/5967828/xetra11"}, "edited": false, "score": 0, "creation_date": 1578577827, "post_id": 56235279, "comment_id": 105489688, "body": "I don&#39;t know kotlin, but it should not matter because the line should be added in <code>build.gradle</code> so it should applies, too?"}, {"owner": {"reputation": 718, "user_id": 1852422, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ea7d161eeea961f1f244e39b2d240809?s=128&d=identicon&r=PG", "display_name": "Vibin", "link": "https://stackoverflow.com/users/1852422/vibin"}, "edited": false, "score": 6, "creation_date": 1589788965, "post_id": 56235279, "comment_id": 109421650, "body": "in Kotlin, i could get it working with <code>tasks.test { useJUnitPlatform() }</code> (at the outermost scope)."}, {"owner": {"reputation": 837, "user_id": 3218627, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100000812061368/picture?type=large", "display_name": "Nether", "link": "https://stackoverflow.com/users/3218627/nether"}, "edited": false, "score": 4, "creation_date": 1590908096, "post_id": 56235279, "comment_id": 109854521, "body": "In my case, I had to also add:      <code>testCompile &#39;org.junit.jupiter:junit-jupiter-engine:5.6.0&#39;</code> in the dependencies section"}, {"owner": {"reputation": 6992, "user_id": 4537090, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Dwxvn.jpg?s=128&g=1", "display_name": "WesternGun", "link": "https://stackoverflow.com/users/4537090/westerngun"}, "edited": false, "score": 0, "creation_date": 1594228352, "post_id": 56235279, "comment_id": 111055494, "body": "Another cause could be that the structure in your <code>test</code>/<code>itest</code> folder is not the  same as in <code>main</code>. Once I created some integration tests and put them under <code>src</code>, but I forgot to add <code>java</code> level, as in <code>main</code>; I just put <code>com.example.xxx</code> and that fails all itests."}], "tags": [], "owner": {"reputation": 6992, "user_id": 4537090, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Dwxvn.jpg?s=128&g=1", "display_name": "WesternGun", "link": "https://stackoverflow.com/users/4537090/westerngun"}, "is_accepted": false, "score": 31, "last_activity_date": 1558431023, "creation_date": 1558431023, "answer_id": 56235279, "question_id": 47969384, "link": "https://stackoverflow.com/questions/47969384/gradle-does-not-find-my-tests-with-kotlin-and-junit-5/56235279#56235279", "title": "Gradle does not find my tests with Kotlin and JUnit 5", "body": "<p>No, the first comment of @JB Nizet has pointed it out: add <code>test.useJUnitPlatform()</code> alongside your JUnit 5 dependencies. It is the way.</p>\n\n<p><a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle\" rel=\"noreferrer\">http://junit.org/junit5/docs/current/user-guide/#running-tests-build-gradle</a></p>\n\n<pre><code>test {\n    useJUnitPlatform()\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>dependency {\n    ...\n    // junit 5\n    testImplementation ('org.junit.jupiter:junit-jupiter-api')\n    testCompile ('org.junit.jupiter:junit-jupiter-params')\n    testRuntime ('org.junit.jupiter:junit-jupiter-engine')\n    testCompile ('org.mockito:mockito-junit-jupiter')\n    test.useJUnitPlatform() // fix \"test events not received\" bug in IDEA\n}\n</code></pre>\n\n<p>Upvote his comment, not this answer!</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 6662437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51fddb6b69212e2e0318955141ec0ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Stephan Pr&#228;tsch", "link": "https://stackoverflow.com/users/6662437/stephan-pr%c3%a4tsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1604330369, "creation_date": 1604330369, "answer_id": 64648283, "question_id": 47969384, "link": "https://stackoverflow.com/questions/47969384/gradle-does-not-find-my-tests-with-kotlin-and-junit-5/64648283#64648283", "title": "Gradle does not find my tests with Kotlin and JUnit 5", "body": "<p>I needed to add</p>\n<pre><code>        testImplementation(platform(&quot;org.junit:junit-bom:5.7.0&quot;))\n</code></pre>\n<p>as well. In sum</p>\n<pre><code>        // junit 5\n        testImplementation(platform(&quot;org.junit:junit-bom:5.7.0&quot;))\n        testImplementation('org.junit.jupiter:junit-jupiter-api')\n        testCompile('org.junit.jupiter:junit-jupiter-params')\n        testRuntime('org.junit.jupiter:junit-jupiter-engine')\n        testCompile group: 'org.mockito', name: 'mockito-inline', version: '3.2.0'\n        test.useJUnitPlatform() // fix &quot;test events not received&quot; bug in IDEA\n        testCompile 'com.willowtreeapps.assertk:assertk-jvm:0.23'\n</code></pre>\n"}], "owner": {"reputation": 1005, "user_id": 2554598, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/cf0680620a99db46d7c3592413234715?s=128&d=identicon&r=PG", "display_name": "icehawk", "link": "https://stackoverflow.com/users/2554598/icehawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15393, "favorite_count": 4, "answer_count": 4, "score": 32, "last_activity_date": 1604330369, "creation_date": 1514211061, "question_id": 47969384, "link": "https://stackoverflow.com/questions/47969384/gradle-does-not-find-my-tests-with-kotlin-and-junit-5", "title": "Gradle does not find my tests with Kotlin and JUnit 5", "body": "<p>I have written some basic unit tests with Kotlin and Junit 5. Unfortunately, when I run them from Intellij IDEA, the tests are not found by Gradle.\nI am getting the message \"No tests found for given includes: [de.mhaug.phd.btcwallet.BasicTests]\" from Gradle and the message \"Test event not received\" from Intellij. </p>\n\n<p>Interestingly, running it from the commandline with \"./gradlew :clean :test\" reports a successful build. However, my first test is obviously red, so this shows that Gradle did not execute it.</p>\n\n<p>I already tried running it with more verbose output but nothing helpful showed up. Here is a minimal (not) working example:</p>\n\n<pre><code>package de.mhaug.phd.btcwallet\n\nimport org.junit.jupiter.api.Assertions.assertEquals\nimport org.junit.jupiter.api.Assertions.assertFalse\nimport org.junit.jupiter.api.Test\n\nclass BasicTests {\n  @Test\n  fun hey() {\n    assertEquals(3,1+1)\n  }\n\n  @Test\n  fun hey2() {\n    assertFalse(3==1+1)\n  }\n}\n</code></pre>\n\n<p>This is my build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'de.mhaug.phd'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.0.2'\n    testRuntimeOnly group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.0.2'\n//    testCompile group: 'org.junit.platform', name: 'junit-platform-runner', version: ''\n//    testCompile group: 'org.junit.jupiter', name: 'junit-jupiter-params', version: '5.0.2'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>How can I make Intellij/Gradle execute my tests?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7089140"}, "edited": false, "score": 0, "creation_date": 1514208849, "post_id": 47968902, "comment_id": 82907652, "body": "i got this error for Error:(144, 31) Type mismatch: inferred type is String but Order was expected  in line: itemOrder.add(Order(finalHolder1.nameItem!!.text.toString(),&zwnj;&#8203;`finalHolder1 priceItem!!.text, finalHolder1.quantity, finalHolder1.note!!.text.toString(), finalHolder1.quantity * hargaSatuan).toString())"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1514209015, "post_id": 47968902, "comment_id": 82907685, "body": "you havn&#39;t change the arraylist type @mip"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7089140"}, "edited": false, "score": 0, "creation_date": 1514209161, "post_id": 47968902, "comment_id": 82907717, "body": "like this right ? var itemOrder = ArrayList&lt;Order&gt;()  i get suggestion from IDE: Create extension function &#39;ArrayList&lt;Order&gt;.add&#39;  private fun &lt;E&gt; ArrayList&lt;E&gt;.add(element: String) {}  no got error, but item now insert to itemOrder"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7089140"}, "edited": false, "score": 0, "creation_date": 1514209984, "post_id": 47968902, "comment_id": 82907922, "body": "ah, my bad type String from required i put different. sorry now its work thanks :D"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1514211242, "post_id": 47968902, "comment_id": 82908175, "body": "If my answer solved you problem then upvote my question"}], "tags": [], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "is_accepted": true, "score": 0, "last_activity_date": 1514206884, "creation_date": 1514206884, "answer_id": 47968902, "question_id": 47968801, "link": "https://stackoverflow.com/questions/47968801/how-to-access-arraylist-data-in-kotlin/47968902#47968902", "title": "how to access arraylist data in kotlin", "body": "<p>Instead of primitive String type , arraylist should be \"Order\" of type;</p>\n\n<pre><code> var itemOrder = ArrayList&lt;Order&gt;()\n</code></pre>\n\n<p>Instead of how you defined the model class, define as</p>\n\n<pre><code>data class Order(\n\n      val itemName:String,\n      val note:String,\n      val price: CharSequence,\n      val all: Int,\n      val quantity: Int\n);\n</code></pre>\n\n<p>// add item as</p>\n\n<pre><code>itemOrder.add(Order(finalHolder1.nameItem!!.text.toString(),`finalHolder1 priceItem!!.text, finalHolder1.quantity, finalHolder1.note!!.text.toString(), finalHolder1.quantity * hargaSatuan).toString())\n</code></pre>\n\n<p>// print each value as </p>\n\n<pre><code>fun( 0 in until itemOrder.size){\n\n   Log.e(\"name\",itemOrder[i].itemName);\n   //get all data in the same way\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7089140"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4124, "favorite_count": 2, "accepted_answer_id": 47968902, "answer_count": 1, "score": 0, "last_activity_date": 1514210278, "creation_date": 1514206132, "question_id": 47968801, "link": "https://stackoverflow.com/questions/47968801/how-to-access-arraylist-data-in-kotlin", "title": "how to access arraylist data in kotlin", "body": "<p>i have:</p>\n\n<pre><code>var itemOrder = ArrayList&lt;String&gt;()\n</code></pre>\n\n<p>file model Order.kt:</p>\n\n<pre><code>private var itemName:String? = null\nprivate var note:String? = null\nprivate var price: CharSequence? = null\nprivate var all: Int? = null\nprivate var quantity: Int? = null\n\nfun Order(itemName: String, price: CharSequence, all: Int, note: String, quantity: Int)\n    {\n        this.itemName = itemName\n        this.price = price\n        this.all = all\n        this.note = note\n        this.quantity = quantity\n    }\n</code></pre>\n\n<p>then i add for itemOrder like this:</p>\n\n<pre><code>itemOrder.add(Order.Order(finalHolder1.nameItem!!.text.toString(),`finalHolder1 priceItem!!.text, finalHolder1.quantity, finalHolder1.note!!.text.toString(), finalHolder1.quantity * hargaSatuan).toString())\n</code></pre>\n\n<p>then</p>\n\n<pre><code>fun cart(): ArrayList&lt;String&gt; {\n    return itemOrder\n}\n</code></pre>\n\n<p>i want to see all item value where i have add before to itemOrder in Toast like </p>\n\n<blockquote>\n  <p>itemName : valueofValue</p>\n  \n  <p>price: valueofprice</p>\n  \n  <p>all: valueofall</p>\n  \n  <p>note: valueofnote</p>\n  \n  <p>quantity: valueofquantity</p>\n</blockquote>\n\n<pre><code>Toast.makeText(applicationContext, \"List Item : \"+ cart(), Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>but i get this result:\n<a href=\"https://i.stack.imgur.com/YXQex.jpg\" rel=\"nofollow noreferrer\">Result</a></p>\n\n<p>i want change result of kotlin.init to value each array in array</p>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 6154432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee48153166d6f0ec3ff13e1f0abd93ab?s=128&d=identicon&r=PG&f=1", "display_name": "trimtosize", "link": "https://stackoverflow.com/users/6154432/trimtosize"}, "is_accepted": false, "score": 2, "last_activity_date": 1529524117, "creation_date": 1529524117, "answer_id": 50956003, "question_id": 47968487, "link": "https://stackoverflow.com/questions/47968487/kotlin-type-variance-and-star-projection/50956003#50956003", "title": "Kotlin type variance and star projection", "body": "<p>Generics are probably the most intelectually teasing topic in every programming language that has them. If you know Java, you'll easily pick up Kotlin generics:</p>\n\n<ul>\n<li>type projection <code>&lt;out T&gt;</code> reflects to <code>&lt;? extends T&gt;</code> in Java.</li>\n<li>type projection <code>&lt;in T&gt;</code> reflects to <code>&lt;? super T&gt;</code> in Java.</li>\n<li>star projection <code>&lt;*&gt;</code> reflects to <code>&lt;?&gt;</code> in Java.</li>\n</ul>\n\n<p>If you don't know Java, then read again chapter 9 from the book \"Kotlin in Action\". Type variances are being very well explained there. But, there seems to be an issue with the comment on listing 9.19 (pp. 251) in the part about <em>star projection</em>.</p>\n\n<pre><code>&gt;&gt;&gt; val stringValidator = validators[String::class] as FieldValidator&lt;String&gt;\n&gt;&gt;&gt; println(stringValidator.validate(\"\"))\nfalse\n</code></pre>\n\n<p>They say:</p>\n\n<blockquote>\n  <p>The compiler emits a warning about the unchecked cast.</p>\n</blockquote>\n\n<p>That's true. The compiler emits a warning, but the next sentence at the same paragraph doesn't seem to be true:</p>\n\n<blockquote>\n  <p>Note, however, that this code will fail on validation only, not when you make the cast, because at runtime all the generic type information is erased.</p>\n</blockquote>\n\n<p>If that meant that the previous code snippet should have returned true instead of false, then they were wrong. The output is accuarate, but the explanation seems to be misleading or I missed to understood something.</p>\n\n<p>p.s.\nHere is some additional code needed to understand previous code snippet:</p>\n\n<pre><code>interface FieldValidator&lt;in T&gt; {\n   fun validate(input: T): Boolean\n}\n\nobject DefaultStringValidator : FieldValidator&lt;String&gt; {\n   override fun validate(input: String) = input.isNotEmpty()\n}\n\nval validators = mutableMapOf&lt;KClass&lt;*&gt;, FieldValidator&lt;*&gt;&gt;()\n\nvalidators[String::class] = DefaultStringValidator\n</code></pre>\n\n<p>Not sure, but perhaps all of this was an issue in the Kotlin v1.0 that was used in the book. I have tested it with v1.2.50.</p>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1529524117, "creation_date": 1514203884, "question_id": 47968487, "link": "https://stackoverflow.com/questions/47968487/kotlin-type-variance-and-star-projection", "title": "Kotlin type variance and star projection", "body": "<p>I have read the book(Kotlin in Action, MEAP), documentation and articles about type projection and star projection, but still the projection seems to be written very complicated. Can someone explain in a simple way the idea behind the projection? Would be nice to have some appropriate examples.\nThanks in advance</p>\n"}, {"tags": ["android", "json", "parsing", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1514195342, "post_id": 47967471, "comment_id": 82904418, "body": "You&#39;d have to implement your own system for that."}, {"owner": {"reputation": 275, "user_id": 5606148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBTSp.jpg?s=128&g=1", "display_name": "Andrew Hossam", "link": "https://stackoverflow.com/users/5606148/andrew-hossam"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1514197178, "post_id": 47967471, "comment_id": 82904801, "body": "What do you mean by system, you mean ConverterFactory or adapter or you mean create my own library, I read a little in how retrofit works but I didn&#39;t understand it quite will."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1514197274, "post_id": 47967471, "comment_id": 82904826, "body": "You have to write code to parse the json. And since you&#39;re using Kotlin it&#39;s slightly easier since you can take an unknown object and call <code>.toString().toInt()</code> and catch exceptions if it fails (i.e. not an integer). Not familiar with retrofit, so I have no clue what classes you have to override, but you basically have to write a system for parsing it independently of type"}, {"owner": {"reputation": 1040, "user_id": 7609347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464176503612694/picture?type=large", "display_name": "Vivek Barai", "link": "https://stackoverflow.com/users/7609347/vivek-barai"}, "edited": false, "score": 0, "creation_date": 1514199806, "post_id": 47967471, "comment_id": 82905440, "body": "@Andrew Hossam Your &quot;number&quot; is in String type and you are retrieving in Int? type you need to parse your String to Int first."}, {"owner": {"reputation": 275, "user_id": 5606148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBTSp.jpg?s=128&g=1", "display_name": "Andrew Hossam", "link": "https://stackoverflow.com/users/5606148/andrew-hossam"}, "reply_to_user": {"reputation": 1040, "user_id": 7609347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464176503612694/picture?type=large", "display_name": "Vivek Barai", "link": "https://stackoverflow.com/users/7609347/vivek-barai"}, "edited": false, "score": 0, "creation_date": 1514202458, "post_id": 47967471, "comment_id": 82906105, "body": "Yes I know @V&#237;v&#234;kB&#229;r&#228;&#236;, that what I need to handle , I expect it to be Int but if it came from the backend as string or any another type even object, then making the attribute = null instead of exception"}, {"owner": {"reputation": 1040, "user_id": 7609347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464176503612694/picture?type=large", "display_name": "Vivek Barai", "link": "https://stackoverflow.com/users/7609347/vivek-barai"}, "edited": false, "score": 0, "creation_date": 1514203026, "post_id": 47967471, "comment_id": 82906255, "body": "@Andrew Hossam I don&#39;t know kotlin coding but i think number might be some keyword there did you check that?"}, {"owner": {"reputation": 1040, "user_id": 7609347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1464176503612694/picture?type=large", "display_name": "Vivek Barai", "link": "https://stackoverflow.com/users/7609347/vivek-barai"}, "edited": false, "score": 0, "creation_date": 1514203157, "post_id": 47967471, "comment_id": 82906281, "body": "@AndrewHossam check this <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">link</a>"}], "owner": {"reputation": 275, "user_id": 5606148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBTSp.jpg?s=128&g=1", "display_name": "Andrew Hossam", "link": "https://stackoverflow.com/users/5606148/andrew-hossam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514195048, "creation_date": 1514195048, "question_id": 47967471, "link": "https://stackoverflow.com/questions/47967471/retrofit-parsing-unexpected-data-type", "title": "Retrofit - Parsing unexpected data type", "body": "<p>I am using Retrofit library in Android Kotlin project</p>\n\n<p>And want to handle parsing unexpected data types.</p>\n\n<p>for example if the JSON:</p>\n\n<pre><code>{\n  \"boolean\": true,\n  \"number\": \"123\",\n  \"string\": \"Hello World\"\n}\n</code></pre>\n\n<p>And the data class will be</p>\n\n<pre><code>data class Response (\n        val boolean: Boolean? = null,\n        val number: Int? = null,\n        val string: String? = null\n)\n</code></pre>\n\n<p>Normally Retrofit will fail to parse the response and <code>onFailure()</code> will be called, as retrofit fail to parse the attribute <code>number</code> as it is returned as string and it is expected to be number, and the whole object will fail to parse.</p>\n\n<p>What I want, to process the request normally just the unparsed field should be null.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514193414, "post_id": 47967245, "comment_id": 82904015, "body": "and what do you have problems with? whats your calling code? how do you create <code>LivePagedListBuilder</code>?"}, {"owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514194893, "post_id": 47967245, "comment_id": 82904333, "body": "Question has been updated, Please review it"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514195109, "post_id": 47967245, "comment_id": 82904374, "body": "you mean <code>&quot;Jawaan&quot;</code>? you want to replace it with something else? if so, whats the problem then? (edit your code correctly since it is hard to read it)"}, {"owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514195231, "post_id": 47967245, "comment_id": 82904396, "body": "viewModel = ViewModelProviders.of(this).get(SongViewModel::class.java)         viewModel!!.allSong.observe(this, Observer(adapter::setList)) \t\tI can&#39;t pass argument to doa.getAllSong function in my viewmodel"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1514195439, "post_id": 47967245, "comment_id": 82904439, "body": "this is my method for filtering -as-you-type: <code>public LiveData&lt;PagedList&lt;User&gt;&gt; filter(String s) {         return new LivePagedListBuilder(dao.filter(&quot;%&quot; + s + &quot;%&quot;), 10).build();     }</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1514195626, "post_id": 47967245, "comment_id": 82904487, "body": "and in <code>TextWatcher.afterTextChanged(Editable s)</code> you call it like this <code>viewModel.filter(s.toString()).observe(this, this::setList);</code>"}, {"owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514195905, "post_id": 47967245, "comment_id": 82904534, "body": "Thanks , now its working"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1514195961, "post_id": 47967245, "comment_id": 82904540, "body": "good, and for future do not use <code>LivePagedListProvider</code> - its deprecated"}], "owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 513, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514195405, "creation_date": 1514192993, "last_edit_date": 1514195405, "question_id": 47967245, "link": "https://stackoverflow.com/questions/47967245/how-to-invoke-livepagedlistprovider-with-argument-in-room-database", "title": "How to invoke LivePagedListProvider with argument in room database", "body": "<p>interface SongDao {</p>\n\n<pre><code>@Query(\"SELECT * FROM song group by artist\")\nfun getAll(): LivePagedListProvider&lt;Int, Song&gt;\n\n@Query(\"SELECT * FROM song where album like :arg0\")\nfun getAllSong(albumName: String): LivePagedListProvider&lt;Int, Song&gt;\n\n@Query(\"SELECT * FROM song group by album\")\nfun getAllAlbum(): LivePagedListProvider&lt;Int, Song&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>class SongViewModel(app: Application) : AndroidViewModel(app) {</p>\n\n<pre><code>private val doa = AppDatabase.get(app).songDao()\n\ncompanion object {\n\n    private const val PAGE_SIZE = 30\n\n    private const val ENABLE_PLACEHOLDERS = true\n}\n\nval allSong = doa.getAllSong(\"1989 taylor swift\").\n        create(0, PagedList.Config.Builder().\n                setPageSize(PAGE_SIZE).\n                setEnablePlaceholders(ENABLE_PLACEHOLDERS).\n                build())\n</code></pre>\n\n<p>}</p>\n\n<p>I want to call getAllSong function, In my AndroidViewModel </p>\n\n<p>i want to replace \"1989 taylor swift\" with the actual argument that is passed, and how it is passed to it</p>\n"}, {"tags": ["spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1514260608, "post_id": 47966061, "comment_id": 82916994, "body": "How was your IntelliJ project created? Have you done as suggested, and seen dependencyInsight for Kotlin? Have you looked at module and library definitions? I suspect it&#39;s because you used the Idea plugin for Gradle to generate the project, and it had an older version of Kotlin added to the library path.  I&#39;d recommend import Gradle projects directly into IntelliJ and don&#39;t use the idea plugin for Gradle anymore."}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 0, "creation_date": 1514190235, "post_id": 47966726, "comment_id": 82903351, "body": "I just added deps to actual versions of those libs (1.2.1) because even <code>kotlin-stdlib-jre8</code> depends on jre7... but test still fails. Nevertheless thank you :)"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "reply_to_user": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 0, "creation_date": 1514260658, "post_id": 47966726, "comment_id": 82916998, "body": "@azbesciak. Did this solve your problem? If not, then it shouldn&#39;t be the accepted answer. If it did, please update something to make it clear how this solved your problem to help others."}, {"owner": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 0, "creation_date": 1514270194, "post_id": 47966726, "comment_id": 82918813, "body": "It helped me to solve problem with IDE problem, not with tests.. but it is other story as i suppose, maybe connnected with <a href=\"https://github.com/waicool20/KAGA/issues/27\" rel=\"nofollow noreferrer\">github.com/waicool20/KAGA/issues/27</a> as i think now looking at my local building"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 4, "last_activity_date": 1514188525, "last_edit_date": 1514188525, "creation_date": 1514187944, "answer_id": 47966726, "question_id": 47966061, "link": "https://stackoverflow.com/questions/47966061/spring-boot-2-kotlin-1-2-1-outdated-wersion-of-runtime/47966726#47966726", "title": "Spring Boot 2 &amp; Kotlin 1.2.1: outdated wersion of runtime", "body": "<p>One of your dependencies itself depends on <code>kotlin-stdlib-jre7</code>. So far as Gradle knows, <code>kotlin-stdlib-jre7</code> and <code>kotlin-stdlib-jre8</code> are completely unrelated, so it places both on the classpath, which leads to the condlict.</p>\n\n<p>Try <a href=\"https://docs.gradle.org/current/userguide/tutorial_gradle_command_line.html#sec:dependency_insight\" rel=\"nofollow noreferrer\"><code>./gradlew dependencyInsight kotlin-stdlib-jre7</code></a> to see where the dependency is coming from and <a href=\"https://docs.gradle.org/current/userguide/dependency_management.html#sub:exclude_transitive_dependencies\" rel=\"nofollow noreferrer\">exclude it</a>. E.g. if it turns out to be <code>jackson-module-kotlin</code>, write</p>\n\n<pre><code>compile('com.fasterxml.jackson.module:jackson-module-kotlin:2.9.2') {\n    exclude group: \"org.jetbrains.kotlin\"\n}\n</code></pre>\n\n<p>See also <a href=\"https://docs.gradle.org/current/userguide/dependency_management.html#sub:version_conflicts\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_management.html#sub:version_conflicts</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 153337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7c7600353c2af1b2ae7410974554f?s=128&d=identicon&r=PG", "display_name": "sepe", "link": "https://stackoverflow.com/users/153337/sepe"}, "reply_to_user": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 1, "creation_date": 1514881493, "post_id": 48053413, "comment_id": 83087554, "body": "@Azbesciak please note the small difference (jdk vs. jre). You didn&#39;t mention this and I thought, this could help someone."}, {"owner": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 0, "creation_date": 1514887622, "post_id": 48053413, "comment_id": 83090137, "body": "Always better to say it explicite :) You are right, i didn&#39;t."}, {"owner": {"reputation": 41, "user_id": 153337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7c7600353c2af1b2ae7410974554f?s=128&d=identicon&r=PG", "display_name": "sepe", "link": "https://stackoverflow.com/users/153337/sepe"}, "reply_to_user": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "edited": false, "score": 0, "creation_date": 1514977324, "post_id": 48053413, "comment_id": 83125694, "body": "I did some further research. The old dependency version comes from the plugin &#39;io.spring.dependency-management&#39;. If I temporarily remove the plugin (which isn&#39;t a complete build config), I get the correct version for &#39;org.jetbrains.kotlin:kotlin-stdlib&#39; without the need to define it explicitly."}], "tags": [], "owner": {"reputation": 41, "user_id": 153337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce7c7600353c2af1b2ae7410974554f?s=128&d=identicon&r=PG", "display_name": "sepe", "link": "https://stackoverflow.com/users/153337/sepe"}, "is_accepted": false, "score": 4, "last_activity_date": 1514842559, "creation_date": 1514842559, "answer_id": 48053413, "question_id": 47966061, "link": "https://stackoverflow.com/questions/47966061/spring-boot-2-kotlin-1-2-1-outdated-wersion-of-runtime/48053413#48053413", "title": "Spring Boot 2 &amp; Kotlin 1.2.1: outdated wersion of runtime", "body": "<p>According to <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#kotlin-standard-library-artifacts-and-split-packages\" rel=\"nofollow noreferrer\">What's New in Kotlin 1.2</a> there are new dependencies for Java 7 and 8, e. g. <code>kotlin-stdlib-jdk8</code> instead of the old <code>kotlin-stdlib-jre8</code>. Using this auto-fixes the transient import for <code>kotlin-stdlib-jdk7</code> but unfortunately not for <code>kotlin-stdlib</code>. It is still <code>1.1.61</code>.</p>\n\n<pre><code>./gradlew dependencyInsight --dependency kotlin-stdlib\n\n&gt; Task :dependencyInsight \norg.jetbrains.kotlin:kotlin-stdlib:1.1.61 (selected by rule)\n\norg.jetbrains.kotlin:kotlin-stdlib:1.2.10 -&gt; 1.1.61\n+--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.10\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.10\n|         \\--- compileClasspath\n\\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.10 (*)\n\norg.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.10\n\\--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.10\n     \\--- compileClasspath\n\norg.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.10 (selected by rule)\n\norg.jetbrains.kotlin:kotlin-stdlib-jdk8: -&gt; 1.2.10\n\\--- compileClasspath\n\n(*) - dependencies omitted (listed previously)\n</code></pre>\n\n<p>You could additionally declare <code>kotlin-stdlib</code> with an explicit version to fix the warning.</p>\n\n<pre><code>compile(\"org.jetbrains.kotlin:kotlin-stdlib:1.2.10\")\ncompile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 6332692, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2546193436de6a994a935ee74d716467?s=128&d=identicon&r=PG&f=1", "display_name": "Azbesciak", "link": "https://stackoverflow.com/users/6332692/azbesciak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 0, "accepted_answer_id": 47966726, "answer_count": 2, "score": 3, "last_activity_date": 1514887964, "creation_date": 1514181184, "last_edit_date": 1514887964, "question_id": 47966061, "link": "https://stackoverflow.com/questions/47966061/spring-boot-2-kotlin-1-2-1-outdated-wersion-of-runtime", "title": "Spring Boot 2 &amp; Kotlin 1.2.1: outdated wersion of runtime", "body": "<h1>Problem</h1>\n\n<p>I am trying to run the newest kotlin version (1.2.10) with also, the newest spring boot (2.0.0.M7).\nIn the local enviroment everything is fine, however -boottime intellij cries :<a href=\"https://i.stack.imgur.com/lm2lG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lm2lG.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/45397925/outdated-kotlin-runtime\">Outdated Kotlin Runtime</a>, but in my opinion it is not connected so... That is suspicious because of my following build.gradle, where there is only one version of kotlin (only right one) [frontend is also gradle build but node.js one - angular, no kotlin deps]:</p>\n\n<pre><code>buildscript {\n  ext {\n    kotlinVersion = '1.2.10'\n    springBootVersion = '2.0.0.M7'\n  }\n  repositories {\n    mavenCentral()\n    maven { url \"https://repo.spring.io/snapshot\" }\n    maven { url \"https://repo.spring.io/milestone\" }\n    maven { url \"http://repo.spring.io/libs-milestone-local\" }\n  }\n  dependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n    classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    classpath 'org.springframework:springloaded:1.2.6.RELEASE'\n  }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'idea'\n\ngroup = 'com.witkups'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\n\n\nidea {\n  module {\n    inheritOutputDirs = false\n    outputDir = file(\"$buildDir/classes/main/\")\n  }\n}\n\ncompileKotlin {\n  kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n  kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrepositories {\n  mavenCentral()\n  maven { url \"https://repo.spring.io/snapshot\" }\n  maven { url \"https://repo.spring.io/milestone\" }\n  maven { url \"http://repo.spring.io/libs-milestone-local\" }\n}\n\n\ndependencies {\n  compile project(\":frontend\")\n\n  compile('org.springframework.boot:spring-boot-starter-actuator')\n  compile('org.springframework.boot:spring-boot-starter-data-jpa')\n  compile('org.springframework.boot:spring-boot-starter-security')\n  compile('org.springframework.boot:spring-boot-starter-webflux')\n  compile(\"org.springframework.boot:spring-boot-starter-web:${springBootVersion}\")\n  runtime('org.springframework.boot:spring-boot-devtools')\n  runtime('com.microsoft.sqlserver:mssql-jdbc')\n  compile('com.fasterxml.jackson.datatype:jackson-datatype-jsr310')\n  compile('com.fasterxml.jackson.module:jackson-module-kotlin:2.9.2')\n  compile(\"org.jetbrains.kotlin:kotlin-reflect:${kotlinVersion}\")\n  compile(\"org.jetbrains.kotlin:kotlin-stdlib-jre8:${kotlinVersion}\")\n  compile(\"io.jsonwebtoken:jjwt:0.7.0\")\n\n  testCompile('com.h2database:h2')\n  testCompile('org.springframework.security:spring-security-test')\n  testCompile('org.springframework.boot:spring-boot-starter-test')\n  testCompile('io.projectreactor:reactor-test')\n}\n</code></pre>\n\n<p>and that worries me because of warn in build (and fails in tests as i guess):</p>\n\n<pre><code>w: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    /home/travis/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.2.10/19bc012f8c4cd6b705bd6512263777cc19bcf259/kotlin-reflect-1.2.10.jar (version 1.2)\n    /home/travis/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jre8/1.2.10/71c98c16b4bed3f754c6c398f9da8300ecb0a669/kotlin-stdlib-jre8-1.2.10.jar (version 1.2)\n    /home/travis/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jre7/1.1.61/59dfce93b1995717338435dd974884007d8e8474/kotlin-stdlib-jre7-1.1.61.jar (version 1.1)\n    /home/travis/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.1.61/fa7813a26c548c9c412dd2d42fb466cfcd8dcf3c/kotlin-stdlib-1.1.61.jar (version 1.1)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath or use '-Xskip-runtime-version-check' to suppress this warning\n:spring-boot-server:compileTestJava NO-SOURCE\n:spring-boot-server:processTestResources\n:spring-boot-server:testClasses\n:spring-boot-server:testPicked up _JAVA_OPTIONS: -Xmx2048m -Xms512m\ncom.witkups.carsharing.CarSharingApplicationTests &gt; contextLoads FAILED\n    java.lang.IllegalStateException\n        Caused by: java.lang.IllegalStateException\n            Caused by: java.lang.NoClassDefFoundError\n                Caused by: java.lang.ClassNotFoundException\n1 test completed, 1 failed\n:spring-boot-server:test FAILED\n</code></pre>\n\n<p>test:</p>\n\n<pre><code>package com.witkups.carsharing\n\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.junit4.SpringRunner\n\n@RunWith(SpringRunner::class)\n@SpringBootTest\nclass CarSharingApplicationTests {\n\n    @Test\n    fun contextLoads() {\n    }\n\n}\n</code></pre>\n\n<p>Any help will be appreciated :)\nPS: JDK 8\n<hr></p>\n\n<h1>Solution</h1>\n\n<p>I have added following lines in <code>build.gradle</code> script:</p>\n\n<pre><code>compile(\"org.jetbrains.kotlin:kotlin-reflect:${kotlinVersion}\")\ncompile(\"org.jetbrains.kotlin:kotlin-stdlib-jre8:${kotlinVersion}\")\ncompile(\"org.jetbrains.kotlin:kotlin-stdlib-jre7:${kotlinVersion}\")\ncompile(\"org.jetbrains.kotlin:kotlin-stdlib:${kotlinVersion}\")\n</code></pre>\n\n<p>and works like a charm.\nTests stopped failing when i replaced</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>@ExtendWith(SpringExtension::class)\n</code></pre>\n"}, {"tags": ["kotlin", "android-volley"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514167155, "post_id": 47965164, "comment_id": 82900169, "body": "If <code>ErrorListener</code> is firing then it is your server giving you an error."}, {"owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514167201, "post_id": 47965164, "comment_id": 82900175, "body": "I&#39;m using the same API with Postman and with the same params, but it&#39;s work perfectly."}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514167271, "post_id": 47965164, "comment_id": 82900180, "body": "Can you post a screenshot from your postman?"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514167512, "post_id": 47965164, "comment_id": 82900206, "body": "Also do you have the Internet Permission in your manifest?"}, {"owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514167823, "post_id": 47965164, "comment_id": 82900241, "body": "I&#39;m a completely idiot. Thanks a lot."}], "answers": [{"tags": [], "owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "is_accepted": true, "score": 1, "last_activity_date": 1514167890, "creation_date": 1514167890, "answer_id": 47965212, "question_id": 47965164, "link": "https://stackoverflow.com/questions/47965164/volley-library-where-im-wrong-with-the-response-listener/47965212#47965212", "title": "Volley Library. Where I&#39;m wrong with the Response Listener?", "body": "<p>Just add the Internet permission</p>\n\n<pre><code>&lt;manifest xlmns:android...&gt;\n    ...\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 9137651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iNDMBUFN_Y8/AAAAAAAAAAI/AAAAAAAAAWg/WDdf4E-RCms/photo.jpg?sz=128", "display_name": "Egeon Dundee", "link": "https://stackoverflow.com/users/9137651/egeon-dundee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "accepted_answer_id": 47965212, "answer_count": 1, "score": 0, "last_activity_date": 1514202327, "creation_date": 1514166958, "last_edit_date": 1514202327, "question_id": 47965164, "link": "https://stackoverflow.com/questions/47965164/volley-library-where-im-wrong-with-the-response-listener", "title": "Volley Library. Where I&#39;m wrong with the Response Listener?", "body": "<p>Where I'm wrong with this code? \nThe Response it's always on ErrorListener.. \nBut I'm not able to understand why. \nI'm passing the correct parameters of the API.</p>\n\n<pre><code>     val jsonobj = JSONObject()\n\n\n        loginBtn.setOnClickListener {\n            jsonobj.put(\"mail\", mailTxt.text)\n            jsonobj.put(\"pass\", passTxt.text)\n            val que = Volley.newRequestQueue(this@MainActivity)\n            val req = JsonObjectRequest(Request.Method.POST, url, jsonobj,\n                    Response.Listener{\n                        toast(\"Yes\")\n                   }, Response.ErrorListener {\n                toast(\"Error\")\n            })\n            que.add(req)\n        }\n   }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1514165406, "post_id": 47964850, "comment_id": 82899953, "body": "looks like an implicit getter"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1514185880, "post_id": 47964850, "comment_id": 82902507, "body": "Documented at <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/properties.html</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": true, "score": 3, "last_activity_date": 1514163186, "creation_date": 1514163186, "answer_id": 47964967, "question_id": 47964850, "link": "https://stackoverflow.com/questions/47964850/val-get-in-kotlin/47964967#47964967", "title": "val ... get() {...} in Kotlin", "body": "<p>It is a read-only computed extension property. The <code>get</code> method is what's called to compute the value.</p>\n\n<p>It can be used thus:</p>\n\n<pre><code>yourCustomer.orderedProducts.first()\n               // ^ You're implicitly calling the get() method.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "is_accepted": false, "score": 0, "last_activity_date": 1514167473, "creation_date": 1514167473, "answer_id": 47965193, "question_id": 47964850, "link": "https://stackoverflow.com/questions/47964850/val-get-in-kotlin/47965193#47965193", "title": "val ... get() {...} in Kotlin", "body": "<p>It seems to allow the opportunity to process the members as a property. In this example, I can get the string from the <code>Customer.orderedProducts</code> property. </p>\n\n<pre><code>data class Customer(val name: String, val orders: List&lt;String&gt;)\n\nval Customer.orderedProducts: String get() {\n    return this.orders.joinToString()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val c = Customer(\"hello\", arrayListOf(\"A\", \"B\"))\n    println(c.orderedProducts)\n    println(c.orders)\n}\n</code></pre>\n\n<p>These are output values.</p>\n\n<pre><code>A, B\n[A, B]\n</code></pre>\n"}], "owner": {"reputation": 154069, "user_id": 260127, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/74758c702067a3490094451e475e28c5?s=128&d=identicon&r=PG", "display_name": "prosseek", "link": "https://stackoverflow.com/users/260127/prosseek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1158, "favorite_count": 0, "accepted_answer_id": 47964967, "answer_count": 2, "score": 2, "last_activity_date": 1514167473, "creation_date": 1514161084, "question_id": 47964850, "link": "https://stackoverflow.com/questions/47964850/val-get-in-kotlin", "title": "val ... get() {...} in Kotlin", "body": "<p>From the Kotlin Koan question(\n<a href=\"https://github.com/Kotlin/kotlin-koans/blob/master/src/ii_collections/n16FlatMap.kt\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-koans/blob/master/src/ii_collections/n16FlatMap.kt</a>), I have this Koan code. How do I read this? It looks like a variable with <code>val</code>, but it is a function with a <code>()</code> and <code>{}</code>. </p>\n\n<pre><code>val Customer.orderedProducts: Set&lt;Product&gt; get() {\n    // Return all products this customer has ordered\n    todoCollectionTask()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "edited": false, "score": 0, "creation_date": 1514160057, "post_id": 47964778, "comment_id": 82899261, "body": "I am using <a href=\"https://developer.android.com/reference/android/os/ParcelFileDescriptor.html\" rel=\"nofollow noreferrer\">ParcelFileDescriptor</a>, and I do not see an alternative. I&#39;ll try the option of copying the stream."}, {"owner": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "edited": false, "score": 0, "creation_date": 1514160527, "post_id": 47964778, "comment_id": 82899318, "body": "To use with PdfRenderer."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1514161588, "post_id": 47964778, "comment_id": 82899470, "body": "&quot;It is a file on your development machine&quot; that doesn&#39;t sound right. <code>raw</code> resources are in the apk"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1514161679, "post_id": 47964778, "comment_id": 82899479, "body": "@njzk2: Yes, and the APK is a ZIP file. Resources are not unpacked from that ZIP file. Hence, it is a file on the development machine, but it is not a file on the device."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1514161763, "post_id": 47964778, "comment_id": 82899493, "body": "ok, I get what you mean. In your answer it sounds a bit like you are saying that the file is not present <i>at all</i> on the device, but stays on the dev machine."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "edited": false, "score": 0, "creation_date": 1514161770, "post_id": 47964778, "comment_id": 82899495, "body": "@kiewic: There is another flavor of <code>openRawResource()</code> that returns an <code>AssetFileDescriptor</code>. That has <a href=\"https://developer.android.com/reference/android/content/res/AssetFileDescriptor.html#getParcelFileDescriptor()\" rel=\"nofollow noreferrer\">a <code>getParcelFileDescriptor()</code> method</a> to get a <code>ParcelFileDescriptor</code>."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 2, "last_activity_date": 1616673521, "last_edit_date": 1616673521, "creation_date": 1514159804, "answer_id": 47964778, "question_id": 47964770, "link": "https://stackoverflow.com/questions/47964770/how-to-get-a-java-io-file-from-r-raw-resource/47964778#47964778", "title": "How to get a java.io.File from R.raw resource", "body": "<blockquote>\n<p>Then I need to get a java.io.File instance pointing to it.</p>\n</blockquote>\n<p>That is not directly possible. It is a file on your development machine. It is not a standalone file on the device \u2014 it is merely an entry in the APK file on the device.</p>\n<blockquote>\n<p>What is the right way to get a File object?</p>\n</blockquote>\n<p>Ideally, you don't. You cannot modify the resource, and hopefully whatever that you are using that accepts a <code>File</code> can also accept an <code>InputStream</code>. If so, <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#openRawResource(int)\" rel=\"nofollow noreferrer\">use <code>openRawResource()</code> on a <code>Resources</code> object</a>, and you get one of those by calling <code>getResources()</code> on a <code>Context</code> (e.g., <code>Activity</code>, <code>Service</code>).</p>\n<p>If you are using some third-party library that was poorly written and requires a file, you would need to use that <code>openRawResource()</code> approach, then copy the bytes from that <code>InputStream</code> to some file that you control (e.g., in <code>getCacheDir()</code>). You can then use the resulting file.</p>\n"}, {"tags": [], "owner": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "is_accepted": false, "score": 0, "last_activity_date": 1514263089, "creation_date": 1514263089, "answer_id": 47973937, "question_id": 47964770, "link": "https://stackoverflow.com/questions/47964770/how-to-get-a-java-io-file-from-r-raw-resource/47973937#47973937", "title": "How to get a java.io.File from R.raw resource", "body": "<p>Following the previous advice, I ended up using <code>Context.getCacheDir()</code> to create a uncompressed version of the file, and then been able to use it with <code>PdfRenderer</code>. Here is the solution:</p>\n\n<pre><code>val FILENAME = \"FileName.pdf\"\nval file = File(applicationContext.cacheDir, FILENAME)\nif (!file.exists()) {\n    val input = resources.openRawResource(R.raw.plano_metrobus)\n    val output = FileOutputStream(file)\n\n    val buffer = ByteArray(1024)\n    while (true) {\n        val size = input.read(buffer)\n        if (size == -1) {\n            break;\n        }\n        output.write(buffer, 0, size)\n    }\n\n    input.close()\n    output.close()\n}\n\nval fileDescriptor = ParcelFileDescriptor.open(file, ParcelFileDescriptor.MODE_READ_ONLY)\nval renderer = PdfRenderer(fileDescriptor)\n</code></pre>\n"}], "owner": {"reputation": 14135, "user_id": 27211, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/ae536c1c0bc292aaca19574b58587ff1?s=128&d=identicon&r=PG", "display_name": "kiewic", "link": "https://stackoverflow.com/users/27211/kiewic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1616673521, "creation_date": 1514159658, "last_edit_date": 1515361682, "question_id": 47964770, "link": "https://stackoverflow.com/questions/47964770/how-to-get-a-java-io-file-from-r-raw-resource", "title": "How to get a java.io.File from R.raw resource", "body": "<p>I added a raw resource to my Android Studio project:</p>\n\n<p>Then I need to get a <code>java.io.File</code> instance pointing to it.</p>\n\n<p>I have tried three things, but file cannot be found and <code>File.exists()</code> is equal false:</p>\n\n<pre><code>// Option 1:\n//\n//     com.example.myapp:raw/plano_metrobus\n//\nval fileName = resources.getResourceName(R.raw.plano_metrobus)\nLog.w(\"xxx\", fileName)\nLog.w(\"xxx\", File(fileName).exists().toString())\n\n// Option 2\n//\n//     android.resource://com.example.myapp:raw/plano_metrobus\n//\nval uri = Uri.parse(\"android.resource://\" + fileName)\nLog.w(\"xxx\", uri.toString())\nLog.w(\"xxx\", File(uri.toString()).exists().toString())\n\n// Option 3\n//\n//     android.resource://com.example.myapp/2131427328\n//\nval uri2 = Uri.parse(\"android.resource://\" + packageName + \"/\" + R.raw.plano_metrobus)\nLog.w(\"xxx\", uri2.toString())\nLog.w(\"xxx\", File(uri2.toString()).exists().toString())\n</code></pre>\n\n<p>What is the right way to create a <code>File</code> object?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 2, "creation_date": 1514149944, "post_id": 47963806, "comment_id": 82897556, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14584002/android-admob-memory-usage\">Android AdMob memory usage</a>"}, {"owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "reply_to_user": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1514150384, "post_id": 47963806, "comment_id": 82897689, "body": "no its not duplicate please remove your suggestion"}], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 8524363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NVtOB.png?s=128&g=1", "display_name": "arkdevelopment", "link": "https://stackoverflow.com/users/8524363/arkdevelopment"}, "is_accepted": false, "score": 0, "last_activity_date": 1514148079, "creation_date": 1514148079, "answer_id": 47963867, "question_id": 47963806, "link": "https://stackoverflow.com/questions/47963806/admob-banner-use-too-much-memory/47963867#47963867", "title": "admob banner use too much memory", "body": "<p>@NikolayElenkov Answered this question relatively well in <a href=\"https://stackoverflow.com/questions/14584002/android-admob-memory-usage\">this post.</a>\nHe goes on to basically say that it's due to how complex the object is. Additionally, due to the fact that ads come in various types (HTML, Videos, Images, etc.), they will vary in the amount of memory they use. Furthermore, due to it being a closed source SDK provided by Google, there is really nothing you can do about it unless you wanted to create your own ad hosting SDK.</p>\n"}], "owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514150456, "creation_date": 1514147421, "last_edit_date": 1514150456, "question_id": 47963806, "link": "https://stackoverflow.com/questions/47963806/admob-banner-use-too-much-memory", "title": "admob banner use too much memory", "body": "<p>I just added admob ads to my app \"Banner ads\" \nand i notice its using  more than 30MG i already searched for solution her in stack-overflow and other web sites and i didn't find  any useful solution i already using the last SDK version and here is the version of ads library </p>\n\n<pre><code> compile 'com.google.android.gms:play-services-ads:11.8.0'\ncompile 'com.google.firebase:firebase-ads:11.8.0'\n</code></pre>\n\n<p>by the  way i am using Kotlin .\nit's not duplicated because i already take look of the most of question and answers here and no one worked for me </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-adapter", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514148138, "post_id": 47963854, "comment_id": 82897185, "body": "Hi, i updated the question. I provided this listener to be able communicate to the hosting Activity that the checkbox in RecyclerView item was checked, so i can update my item in the ViewModel"}], "tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": false, "score": 0, "last_activity_date": 1514147962, "creation_date": 1514147962, "answer_id": 47963854, "question_id": 47963735, "link": "https://stackoverflow.com/questions/47963735/checkbox-in-recycler-view-item-when-checked-to-true-is-immedietaly-checked-to-fa/47963854#47963854", "title": "Checkbox in Recycler View item when checked to true is immedietaly checked to false", "body": "<p>I think the problem is in this block of code</p>\n\n<pre><code> holder?.isCompleted?.setOnCheckedChangeListener{\n    buttonView, isChecked -&gt;\n    item.isCompleted = isChecked\n    listener.onClick(position, isChecked)\n}\n</code></pre>\n\n<p>When you click the checkbox, <code>isChecked</code> is true and if I am not mistaken, the <code>listener.onClick(position,isChecked)</code> clicks the same item in the <code>RecyclerView</code>. What does <code>ShoppingItemCheckboxListener</code> do? </p>\n"}, {"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514149499, "post_id": 47963985, "comment_id": 82897441, "body": "Yes, thanks. I forgot to set it properly like: ShoppingListElementItem(it.id, it.name, it.isCompleted, it.timestamp)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514149844, "post_id": 47963985, "comment_id": 82897540, "body": "Actually, i removed the &#39;id&#39; property, it is unnesseceary. Anyways, thanks again"}, {"owner": {"reputation": 2749, "user_id": 2470770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e74a771d32777585c2af8de2f5490593?s=128&d=identicon&r=PG", "display_name": "lib4", "link": "https://stackoverflow.com/users/2470770/lib4"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1514175812, "post_id": 47963985, "comment_id": 82901064, "body": "Awesome. @okset"}], "tags": [], "owner": {"reputation": 2749, "user_id": 2470770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e74a771d32777585c2af8de2f5490593?s=128&d=identicon&r=PG", "display_name": "lib4", "link": "https://stackoverflow.com/users/2470770/lib4"}, "is_accepted": true, "score": 1, "last_activity_date": 1514149186, "creation_date": 1514149186, "answer_id": 47963985, "question_id": 47963735, "link": "https://stackoverflow.com/questions/47963735/checkbox-in-recycler-view-item-when-checked-to-true-is-immedietaly-checked-to-fa/47963985#47963985", "title": "Checkbox in Recycler View item when checked to true is immedietaly checked to false", "body": "<p>Could u pls check this function </p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    if (intExtra != null)\n        viewModel.getShoppingList(intExtra!!)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ t -&gt;\n                    shoppingList.clear()\n                    t.items.forEach {\n                        val item = ShoppingListElementItem(0, it.name, false, it.timestamp)\n                        shoppingList.add(item)\n\n                    }\n                    shoppingList.size\n                    mAdapter = ShoppingListDetailsAdapter(shoppingList, this, this, isArchived!!)\n                    recyclerView.setAdapter(mAdapter)\n//                        mAdapter?.notifyDataSetChanged()\n                })\n</code></pre>\n\n<p>In this function you are subscribing for shopping list which is flowable, which means whenever there is an update in database this subscribe method will get called and  the following code will reset the completed value to false </p>\n\n<pre><code>ShoppingListElementItem(0, it.name, false, it.timestamp)\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 47963985, "answer_count": 2, "score": 0, "last_activity_date": 1514149186, "creation_date": 1514146405, "last_edit_date": 1514148765, "question_id": 47963735, "link": "https://stackoverflow.com/questions/47963735/checkbox-in-recycler-view-item-when-checked-to-true-is-immedietaly-checked-to-fa", "title": "Checkbox in Recycler View item when checked to true is immedietaly checked to false", "body": "<p>I am using RxJava2, Kotlin and Room for my example.</p>\n\n<p>Here is the adapter for populating my items to the recyclerView:</p>\n\n<pre><code>class ShoppingListDetailsAdapter(val list: ArrayList&lt;ShoppingListElementItem&gt;, val context: Context, val listener: ShoppingItemCheckboxListener, val isArchived: Boolean) : RecyclerView.Adapter&lt;ShoppingListDetailsAdapter.ViewHolder&gt;() {\n\noverride fun getItemCount(): Int {\n    return list.count()\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n    val itemView = LayoutInflater.from(parent?.getContext())\n            .inflate(R.layout.item_shopping_list_element, parent, false)\n    return ViewHolder(itemView)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    val item = list.get(position)\n    holder?.name?.setText(item.name)\n    if(item.isCompleted){\n        holder?.isCompleted?.isChecked = true\n    }\n\n\n    if(isArchived)\n    holder?.isCompleted?.isEnabled = false\n    else{\n        holder?.isCompleted?.isEnabled = true\n    }\n\n    holder?.isCompleted?.setOnCheckedChangeListener{\n        buttonView, isChecked -&gt;\n        item.isCompleted = isChecked\n        listener.onClick(position, isChecked)\n    }\n\n\n}\n\n\ninner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    var name: TextView\n    var isCompleted: CheckBox\n    private var viewClickListener: ShoppingItemCheckboxListener? = null\n\n\n    init {\n        name = view.findViewById(R.id.itemName)\n        isCompleted = view.findViewById(R.id.checkbox)\n    }\n\n\n}\n\nfun removeItem(position: Int) {\n    list.removeAt(position)\n    // notify the item removed by position\n    // to perform recycler view delete animations\n    // NOTE: don't call notifyDataSetChanged()\n    notifyItemRemoved(position)\n}\n\nfun restoreItem(item: ShoppingListElementItem, position: Int) {\n    list.add(position, item)\n    // notify item added by position\n    notifyItemInserted(position)\n   }\n}\n</code></pre>\n\n<p>Here is my ViewModel:</p>\n\n<pre><code>class ShoppingListViewModel(private val dataSource: ShoppingListDao) : ViewModel() {\n\nfun createShoppingList(listName: String){\n    val arrayList = ArrayList&lt;ShoppingListItem&gt;()\n    val shoppingList = ShoppingList(name = listName, isArchived = false, items = arrayList, timestamp = Date())\n    dataSource.insertShoppingList(shoppingList)\n}\n\nfun createShoppingListItem(itemName: String, shoppingListId: Int){\n    dataSource.getShoppingList(shoppingListId)\n            .firstElement()\n            .subscribe {\n                shoppingList: ShoppingList -&gt;\n                val items = shoppingList.items\n                 items.add(ShoppingListItem(itemName, false, Date()))\n\n                dataSource.updateShoppingList(shoppingList = shoppingList)\n            }\n}\n\nfun getShoppingLists(): Flowable&lt;List&lt;ShoppingList&gt;&gt; {\n    return dataSource.getActiveShoppingLists()\n            .map {\n                t -&gt; t.sortedByDescending { it.timestamp }\n            }\n}\n\nfun getArchivedLists(): Flowable&lt;List&lt;ShoppingList&gt;&gt; {\n    return dataSource.getArchivedShoppingLists()\n            .map {\n                t -&gt; t.sortedByDescending { it.timestamp }\n            }\n\n}\n\nfun getShoppingList(id: Int): Flowable&lt;ShoppingList&gt; {\n    return dataSource.getShoppingList(id)\n}\n\nfun archiveItem(deletedShoppingListItem: com.app.shoppinglistapp.ui.ShoppingListDTO) {\n\n   dataSource.archiveShoppingList(deletedShoppingListItem.id)\n}\n\nfun reArchiveItem(deletedShoppingListItem: com.app.shoppinglistapp.ui.ShoppingListDTO){\n\n    dataSource.reArchiveShoppingList(deletedShoppingListItem.id)\n}\n\nfun removeShoppingListItem(deletedItem: ShoppingListElementItem, shoppingListId: Int) {\n    dataSource.getShoppingList(shoppingListId)\n            .firstElement()\n            .subscribe {\n                shoppingList: ShoppingList -&gt;\n                val items: ArrayList&lt;ShoppingListItem&gt; = shoppingList.items\n\n                val filter = items.filter {\n                    it.timestamp != deletedItem.timestamp\n                }\n\n                dataSource.updateShoppingList(shoppingList = ShoppingList(id = shoppingList.id,\n                        name = shoppingList.name,\n                        isArchived = shoppingList.isArchived,\n                        timestamp = shoppingList.timestamp,\n                        items = filter as ArrayList&lt;ShoppingListItem&gt;\n                        ))\n            }\n}\n\nfun restoreShoppingListItem(deletedItem: ShoppingListElementItem, shoppingListId: Int) {\n    dataSource.getShoppingList(shoppingListId)\n            .firstElement()\n            .subscribe {\n                shoppingList: ShoppingList -&gt;\n                val items = shoppingList.items\n                items.add(ShoppingListItem(deletedItem.name, deletedItem.isCompleted, deletedItem.timestamp))\n                dataSource.updateShoppingList(shoppingList = ShoppingList(id = shoppingList.id,\n                        name = shoppingList.name,\n                        isArchived = shoppingList.isArchived,\n                        timestamp = shoppingList.timestamp,\n                        items = items\n                ))\n            }\n}\n\nfun updateShoppingList(shoppingList: ArrayList&lt;ShoppingListElementItem&gt;, shoppingListId: Int) {\n    dataSource.getShoppingList(shoppingListId)\n            .firstElement()\n            .subscribe {\n                t: ShoppingList -&gt;\n\n                val dbShoppingList = ArrayList&lt;ShoppingListItem&gt;()\n                shoppingList.forEach {\n                    it -&gt; dbShoppingList.add(ShoppingListItem(it.name, it.isCompleted, it.timestamp))\n                }\n\n                dataSource.updateShoppingList(shoppingList = ShoppingList(id = t.id,\n                        name = t.name,\n                        isArchived = t.isArchived,\n                        timestamp = t.timestamp,\n                        items = dbShoppingList\n                ))\n            }\n}\n}\n</code></pre>\n\n<p>Here is my Dao interface:</p>\n\n<pre><code>@Dao\ninterface ShoppingListDao {\n@Query(\"SELECT * FROM shopping_list where id = :id limit 1\")\nfun getShoppingList(id: Int): Flowable&lt;ShoppingList&gt;\n\n@Query(\"SELECT * FROM shopping_list where not is_archived\")\nfun getActiveShoppingLists(): Flowable&lt;List&lt;ShoppingList&gt;&gt;\n\n@Query(\"SELECT * FROM shopping_list where is_archived\")\nfun getArchivedShoppingLists(): Flowable&lt;List&lt;ShoppingList&gt;&gt;\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insertShoppingList(shoppingList: ShoppingList)\n\n@Update\nfun updateShoppingList(shoppingList: ShoppingList)\n\n@Query(\"UPDATE shopping_list SET is_archived = 1 where id = :id\")\nfun archiveShoppingList(id: Int)\n\n@Query(\"UPDATE shopping_list SET  is_archived = 0 where id = :id\")\nfun reArchiveShoppingList(id: Int)\n}\n</code></pre>\n\n<p>And here is the Activity:</p>\n\n<pre><code>class ShoppingListDetailsActivity : AppCompatActivity(), RecyclerItemTouchHelper.RecyclerItemTouchHelperListener, ShoppingItemCheckboxListener {\n\nprivate lateinit var viewModelFactory: ViewModelFactory\nprivate lateinit var viewModel: ShoppingListViewModel\nprivate var intExtra: Int? = null\nprivate var isArchived: Boolean? = null\nprivate val disposable = CompositeDisposable()\nprivate var shoppingList = ArrayList&lt;ShoppingListElementItem&gt;()\nprivate var mAdapter: ShoppingListDetailsAdapter? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n    setSupportActionBar(toolbar)\n\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n    intExtra = getIntent().getIntExtra(\"id\", 0)\n    isArchived = getIntent().getBooleanExtra(\"isArchived\", false)\n\n    viewModelFactory = Injection.provideViewModelFactory(this)\n    viewModel = ViewModelProviders.of(this, viewModelFactory).get(ShoppingListViewModel::class.java)\n\n //        mAdapter = ShoppingListDetailsAdapter(shoppingList, this, this, isArchived!!)\n\n    val mLayoutManager = LinearLayoutManager(applicationContext)\n    recyclerView.setLayoutManager(mLayoutManager)\n    recyclerView.setItemAnimator(DefaultItemAnimator())\n    recyclerView.addItemDecoration(DividerItemDecoration(this, DividerItemDecoration.VERTICAL))\n //        recyclerView.setAdapter(mAdapter)\n\n    if (isArchived as Boolean) {\n        fab.visibility = View.GONE\n    }\n    else{\n        fab.setOnClickListener { view -&gt;\n            val alertDialogAndroid = getShoppingListDialog()\n            alertDialogAndroid?.show()\n        }\n    }\n\n    val itemTouchHelperCallback1 = object : ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.LEFT or ItemTouchHelper.RIGHT) {\n        override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n            return true\n        }\n\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n            // Row is swiped from recycler view\n            // remove it from adapter\n            if (viewHolder is ShoppingListDetailsAdapter.ViewHolder) {\n                // get the removed item name to display it in snack bar\n                val name = shoppingList[viewHolder.adapterPosition].name\n\n                // backup of removed item for undo purpose\n                val deletedItem = shoppingList[viewHolder.adapterPosition]\n                val deletedIndex = viewHolder.adapterPosition\n\n                // remove the item from recycler view\n                mAdapter?.removeItem(viewHolder.adapterPosition)\n                viewModel.removeShoppingListItem(deletedItem, intExtra!!)\n\n\n                // showing snack bar with Undo option\n                val snackbar = Snackbar\n                        .make(coordinatorLayout, name + \" is deleted!\", Snackbar.LENGTH_LONG)\n                snackbar.setAction(\"UNDO\", View.OnClickListener {\n                    // undo is selected, restore the deleted item\n                    mAdapter?.restoreItem(deletedItem, deletedIndex)\n                    viewModel.restoreShoppingListItem(deletedItem, intExtra!!)\n                })\n                snackbar.setActionTextColor(Color.YELLOW)\n                snackbar.show()\n            }\n            Log.v(\"Test\", \"test\")\n        }\n\n        override fun onChildDraw(c: Canvas, recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, dX: Float, dY: Float, actionState: Int, isCurrentlyActive: Boolean) {\n            super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n        }\n    }\n\n    if (!isArchived!!)\n        ItemTouchHelper(itemTouchHelperCallback1).attachToRecyclerView(recyclerView)\n}\n\nfun getShoppingListDialog(): AlertDialog? {\n    val layoutInflaterAndroid = LayoutInflater.from(this)\n    val mView = layoutInflaterAndroid.inflate(R.layout.dialog_input_name, null)\n    val alertDialogBuilderUserInput = AlertDialog.Builder(this)\n    alertDialogBuilderUserInput.setView(mView)\n\n    val userInputDialogEditText = mView.findViewById(R.id.userInputDialog) as EditText\n    alertDialogBuilderUserInput\n            .setCancelable(false)\n            .setPositiveButton(\"Send\", DialogInterface.OnClickListener { dialogBox, id -&gt;\n                viewModel.createShoppingListItem(userInputDialogEditText.text.toString(), intExtra!!)\n            })\n\n            .setNegativeButton(\"Cancel\",\n                    DialogInterface.OnClickListener { dialogBox, id -&gt; dialogBox.cancel() })\n\n    return alertDialogBuilderUserInput.create()\n}\n\noverride fun onSupportNavigateUp(): Boolean {\n    onBackPressed()\n    return true\n}\n\noverride fun onStart() {\n    super.onStart()\n    if (intExtra != null)\n        viewModel.getShoppingList(intExtra!!)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ t -&gt;\n                    shoppingList.clear()\n                    t.items.forEach {\n                        val item = ShoppingListElementItem(0, it.name, false, it.timestamp)\n                        shoppingList.add(item)\n\n                    }\n                    shoppingList.size\n                    mAdapter = ShoppingListDetailsAdapter(shoppingList, this, this, isArchived!!)\n                    recyclerView.setAdapter(mAdapter)\n//                        mAdapter?.notifyDataSetChanged()\n                })\n}\n\noverride fun onStop() {\n    super.onStop()\n\n    // clear all the subscription\n    disposable.clear()\n}\n\noverride fun onClick(position: Int, isChecked: Boolean) {\n    shoppingList.get(position).isCompleted = isChecked\n    viewModel.updateShoppingList(shoppingList, intExtra!!)\n    Toast.makeText(applicationContext, \"isChecked: ${isChecked}\", Toast.LENGTH_SHORT).show()\n}\n\noverride fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int, position: Int) {\n}\n\n}\n</code></pre>\n\n<p>When i am trying to check the checbox in my RecyclerView item it immedietaly is checked to false then. </p>\n\n<p>Here is the model entity:</p>\n\n<pre><code>@Entity(tableName = \"shopping_list\")\ndata class ShoppingList(\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"id\")\n    val id: Int = 0,\n    @ColumnInfo(name = \"name\")\n    val name: String,\n    @ColumnInfo(name = \"is_archived\")\n    val isArchived: Boolean,\n    @ColumnInfo(name = \"timestamp\")\n    val timestamp: Date,\n    @ColumnInfo(name = \"items\")\n    val items: ArrayList&lt;ShoppingListItem&gt;\n)\n\ndata class ShoppingListItem(\n    val name: String,\n    val isCompleted: Boolean,\n    val timestamp: Date\n)\n</code></pre>\n\n<p>And the layout for shopping list item:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout android:orientation=\"horizontal\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nxmlns:tools=\"http://schemas.android.com/tools\"&gt;\n&lt;CheckBox\n    android:id=\"@+id/checkbox\"\n    android:layout_weight=\"1\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/itemName\"\n    android:layout_gravity=\"start\"\n    tools:text=\"GOWNO\"\n    android:layout_weight=\"1\"\n    android:textAlignment=\"textStart\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And the ShoppingListElementItem class:</p>\n\n<pre><code>data class ShoppingListElementItem(\n    var id: Int,\n    var name: String,\n    var isCompleted: Boolean,\n    val timestamp: Date\n)\n</code></pre>\n\n<p>The listener:</p>\n\n<pre><code>interface ShoppingItemCheckboxListener {\n\nfun onClick(position: Int, isChecked: Boolean)\n}\n</code></pre>\n\n<p>When i am trying to check the checkbox in my RecyclerView item, it immedietaly is checked back to false. In my Acitivty subscribe method after update the checkbox, the fetched updated item from db is correctly set to checked(\"isCompleted\"), but i guess something wrong in my adapter setup. In my onBindViewHolder method the item, which was set to checked is always false, so i guess it is not updated properly the adapter list items.</p>\n\n<p>How to make it work properly?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Even when i restart the app, the checkbox is not set to true, however the fetched item from db has the attribute \"isCompleted\" set to true. The problem is in the adapter really, i have no idea why it has no the items as i expect - in my subscribe method in Activity where i am fetching the items to be populated to the adapter they are correctly.</p>\n"}, {"tags": ["android", "graph", "kotlin", "android-graphview"], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "is_accepted": false, "score": 1, "last_activity_date": 1526906534, "creation_date": 1526906534, "answer_id": 50449176, "question_id": 47962866, "link": "https://stackoverflow.com/questions/47962866/how-to-add-series-of-datapoint-in-the-graphview-library/50449176#50449176", "title": "How to add series of DataPoint in the GraphView Library?", "body": "<p>The constructor for <code>Datapoint</code> requires <code>Double</code> type.</p>\n\n<p>You can choose to pass <code>Double</code> or Create another function which accepts <code>Int</code> (integer) arguments. </p>\n\n<pre><code>fun DP(a: Int, b: Int): DataPoint {\n        return DataPoint(a.toDouble(), b.toDouble())\n    }\n</code></pre>\n\n<p>Then use it as follows</p>\n\n<pre><code> val points = arrayOf( DP(0,1), \n                       DP(5,1),\n                       ...\n                       )\n val series = LineGraphSeries&lt;DataPoint&gt;(points)\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 253, "user_id": 2620553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fAVEV.jpg?s=128&g=1", "display_name": "Rahul Bali", "link": "https://stackoverflow.com/users/2620553/rahul-bali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1169, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1526906534, "creation_date": 1514137952, "last_edit_date": 1514139971, "question_id": 47962866, "link": "https://stackoverflow.com/questions/47962866/how-to-add-series-of-datapoint-in-the-graphview-library", "title": "How to add series of DataPoint in the GraphView Library?", "body": "<p><strong>ChartsActivity.kt</strong></p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport com.jjoe64.graphview.series.DataPoint\nimport com.jjoe64.graphview.series.LineGraphSeries\nimport kotlinx.android.synthetic.main.activity_charts.*\n\nclass ChartsActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n         super.onCreate(savedInstanceState)\n         setContentView(R.layout.activity_charts)\n\n\n    val datap = DataPoint[](\n        DataPoint(0, 1),\n        DataPoint(5, 1),\n        DataPoint(6, 1),\n        DataPoint(5, 6),\n        DataPoint(2, 8)\n    )\n\n        val series = LineGraphSeries&lt;DataPoint&gt;(datap)\n\n        graph1.addSeries(series)\n    }\n}\n</code></pre>\n\n<p>I am unable to write the correct series in the DataPoint Function. I want to use Kotlin, I have not found any kotlin code for the task.</p>\n\n<p>How can I write the series to get the code working?</p>\n"}, {"tags": ["android", "kotlin", "floating-action-button"], "comments": [{"owner": {"reputation": 354, "user_id": 8892770, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OXSJG.jpg?s=128&g=1", "display_name": "Tarlan Ahad", "link": "https://stackoverflow.com/users/8892770/tarlan-ahad"}, "edited": false, "score": 0, "creation_date": 1514137832, "post_id": 47962768, "comment_id": 82894919, "body": "Please try to use RelativeLayout instead of frameLayout because FAB is lying under the fragment..."}, {"owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "reply_to_user": {"reputation": 354, "user_id": 8892770, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OXSJG.jpg?s=128&g=1", "display_name": "Tarlan Ahad", "link": "https://stackoverflow.com/users/8892770/tarlan-ahad"}, "edited": false, "score": 0, "creation_date": 1514236813, "post_id": 47962768, "comment_id": 82913854, "body": "Thanks for your reply. This did not work for me."}, {"owner": {"reputation": 354, "user_id": 8892770, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OXSJG.jpg?s=128&g=1", "display_name": "Tarlan Ahad", "link": "https://stackoverflow.com/users/8892770/tarlan-ahad"}, "edited": false, "score": 0, "creation_date": 1514270287, "post_id": 47962768, "comment_id": 82918834, "body": "Are there two children in the FrameLayout?"}, {"owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "reply_to_user": {"reputation": 354, "user_id": 8892770, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OXSJG.jpg?s=128&g=1", "display_name": "Tarlan Ahad", "link": "https://stackoverflow.com/users/8892770/tarlan-ahad"}, "edited": false, "score": 0, "creation_date": 1514328793, "post_id": 47962768, "comment_id": 82938020, "body": "Nope that&#39;s my fragment layout file with closing tag at bottom."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "edited": false, "score": 0, "creation_date": 1514236786, "post_id": 47963385, "comment_id": 82913847, "body": "Thanks for your reply. When I tried your solution for some reason, the floating action button does not show up. I assume it&#39;s under the layout. So I had to use a child fragment manager to have a fragment inside the fragment."}], "tags": [], "owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "is_accepted": false, "score": 0, "last_activity_date": 1514143427, "last_edit_date": 1514143427, "creation_date": 1514142876, "answer_id": 47963385, "question_id": 47962768, "link": "https://stackoverflow.com/questions/47962768/floating-action-button-now-visible/47963385#47963385", "title": "Floating action button now visible", "body": "<p>The problem is that you add the fragment twice, once from xml then again in code. Just remove the code for the fragment transaction and instead use findFragmentById to find and update the fragment.</p>\n\n<pre><code>val mapFragment = mainAct.supportFragmentManager.findFragmentById(R.id.map_fragment) as SupportMapFragment\nmapFragment.getMapAsync(this.mainAct)\n</code></pre>\n\n<p>Or if you want to do it in code just replace the fragment in xml with a frameLayout call it fragment_container and add the new fragment like this </p>\n\n<pre><code>val mapFragment = SupportMapFragment() // use the apropriate constructor\nfragmentTransaction.add(R.id.fragment_container, mapFragment)\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3260165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84a55fd26fe46705543d7637ffb264d?s=128&d=identicon&r=PG&f=1", "display_name": "SachchaDroid", "link": "https://stackoverflow.com/users/3260165/sachchadroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514236628, "creation_date": 1514137201, "last_edit_date": 1514236628, "question_id": 47962768, "link": "https://stackoverflow.com/questions/47962768/floating-action-button-now-visible", "title": "Floating action button now visible", "body": "<p>I have a support map fragment that is shown in an activity. However, the floating action button is not visible. I have tried so many ways but I am not getting anywhere.</p>\n\n<pre><code>&lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/map_fragment\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;fragment\n    android:id=\"@+id/map\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n    tools:context=\".views.activities.MainActivity\"/&gt;\n\n&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab_current_location\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    android:layout_margin=\"@dimen/fab_margin\"\n    android:src=\"@drawable/ic_location_on_white_24dp\"\n    app:elevation=\"4dp\"\n    android:visibility=\"visible\"\n    app:layout_anchorGravity=\"bottom|right|end\"/&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>val fragmentTransaction = mainAct.supportFragmentManager.beginTransaction()\n        val mapFragment = mainAct.supportFragmentManager.findFragmentById(R.id.map_fragment) as SupportMapFragment\n        fragmentTransaction.replace(R.id.main_container, mapFragment)\n        fragmentTransaction.addToBackStack(\"Map Fragment\")\n        fragmentTransaction.commitAllowingStateLoss()\n        mapFragment.getMapAsync(this.mainAct)\n</code></pre>\n\n<p>Any help is greatly appreciated</p>\n\n<p><strong>EDIT:</strong> In the end what worked for me was</p>\n\n<pre><code>val mapFragment = this.childFragmentManager.findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 1202, "user_id": 7339411, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HMG7B.png?s=128&g=1", "display_name": "Curio", "link": "https://stackoverflow.com/users/7339411/curio"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1514129443, "post_id": 47961648, "comment_id": 82892944, "body": "@Ascorbin I had the same problem and I usually avoid it if it&#39;s possible"}], "tags": [], "owner": {"reputation": 1202, "user_id": 7339411, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HMG7B.png?s=128&g=1", "display_name": "Curio", "link": "https://stackoverflow.com/users/7339411/curio"}, "is_accepted": false, "score": 0, "last_activity_date": 1514127427, "creation_date": 1514127427, "answer_id": 47961648, "question_id": 47961541, "link": "https://stackoverflow.com/questions/47961541/recyclerview-notifydatasetchanged-not-working-kotlin/47961648#47961648", "title": "RecyclerView notifyDataSetChanged() not working - Kotlin", "body": "<p>I think you should use <code>notifyItemChanged(position);</code> because you're adding items:</p>\n\n<pre><code>Int count=0;\nfor (item: AccountLite in data) \n{\n   accountLiteList.add(item);\n   notifyItemChanged(count);\n   count++;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 6371885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B9zDSSWOb4M/AAAAAAAAAAI/AAAAAAAAALw/mxrjifiabnE/photo.jpg?sz=128", "display_name": "Kushal Desai", "link": "https://stackoverflow.com/users/6371885/kushal-desai"}, "is_accepted": false, "score": 0, "last_activity_date": 1530531911, "last_edit_date": 1530531911, "creation_date": 1530531647, "answer_id": 51135371, "question_id": 47961541, "link": "https://stackoverflow.com/questions/47961541/recyclerview-notifydatasetchanged-not-working-kotlin/51135371#51135371", "title": "RecyclerView notifyDataSetChanged() not working - Kotlin", "body": "<p>I was trying to call API using AsyncTask. After lot of tries, I found one solution which worked, but don't know why.</p>\n\n<p>I just added the <code>inner</code> keyword to the Async class, and it worked.</p>\n\n<p>Example: </p>\n\n<pre><code>inner class ApiCall : AsyncTask\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3661896, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/43824b9f5483506e9c8e4b4e8a5a0fc3?s=128&d=identicon&r=PG", "display_name": "Arbaz Mateen", "link": "https://stackoverflow.com/users/3661896/arbaz-mateen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2325, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568965951, "creation_date": 1514126696, "last_edit_date": 1539428999, "question_id": 47961541, "link": "https://stackoverflow.com/questions/47961541/recyclerview-notifydatasetchanged-not-working-kotlin", "title": "RecyclerView notifyDataSetChanged() not working - Kotlin", "body": "<p><code>RecyclerView</code> not update after calling <code>notifyDataSetChanged()</code> and I found the problem but not solution.<br>\nHere is my code of changing the data.</p>\n\n<pre><code>fun changeData(data: List&lt;AccountLite&gt;) {\n    // checking the size of the list before\n    logI(\"accountLiteList.size before: \" + accountLiteList.size)\n    accountLiteList = data.toMutableList()\n\n    // checking the size of the list after\n    logI(\"accountLiteList.size after: \" + accountLiteList.size)\n\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>But <code>getItemCount()</code> still return 0.</p>\n\n<p>Here is the code of <code>getItemCount()</code>.</p>\n\n<pre><code>override fun getItemCount(): Int {\n    logI(\"getItemCount: \" + accountLiteList.size)\n    return accountLiteList.size\n}\n</code></pre>\n\n<p>And here is the log</p>\n\n<pre><code>AccountsRecyclerAdaptor: accountLiteList.size before: 0\nAccountsRecyclerAdaptor: accountLiteList.size after: 19\nAccountsRecyclerAdaptor: getItemCount: 0\nAccountsRecyclerAdaptor: getItemCount: 0\n...\n</code></pre>\n\n<p>Why the <code>getItemCount()</code> return 0, and the <code>accountLiteList</code> not changed anywhere.<br>\n<a href=\"https://gist.github.com/ArbazMateen/9f9d17cd501f11a2504d7e77df0e9c22\" rel=\"nofollow noreferrer\">Here</a> is the complete code.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1514127743, "post_id": 47961635, "comment_id": 82892497, "body": "Thanks, I know the first approach but I think it&#39;s overhead to get schedulers from modules. The second approach doesn&#39;t fit because I want to replace ioScheduler in tests."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 1, "creation_date": 1514127983, "post_id": 47961635, "comment_id": 82892559, "body": "Alright, then the first approach fits your needs. Don&#39;t worry about the overhead, as long as <code>provideIoScheduler</code> is not scoped or doesn&#39;t return <code>Lazy</code> or <code>Provider</code> Dagger compiler 2.13+ will be able to inline the call - there will be no runtime overhead."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 3, "last_activity_date": 1514127376, "creation_date": 1514127376, "answer_id": 47961635, "question_id": 47961375, "link": "https://stackoverflow.com/questions/47961375/inject-only-certain-params-in-constructor/47961635#47961635", "title": "Inject only certain params in constructor", "body": "<p>Dagger is responsible for injection, let it do it's job. Don't use default parameters (Dagger doesn't care), this will force you to make concious decisions about your dependencies.</p>\n\n<p>Two approaches come to mind:</p>\n\n<h3>1. Use Dagger to inject</h3>\n\n<p>Create a qualifier so Dagger can diferentiate between types of schedulers you might want to inject and a module that provides default IO scheduler.</p>\n\n<pre><code>@Qualifier\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD, AnnotationTarget.VALUE_PARAMETER, AnnotationTarget.FUNCTION, AnnotationTarget.PROPERTY_GETTER, AnnotationTarget.PROPERTY_SETTER)\n@MustBeDocumented\nannotation class ForIo\n\n@Module\nclass SchedulerModule {\n     @Provides @ForIo\n     fun provideIoScheduler() : Scheduler = Schedulers.io()\n}\n\nclass PhonePresenter @Inject constructor(\n    private val preference: DataPreference,\n    @ForIo private val ioScheduler: Scheduler\n) { ... }\n</code></pre>\n\n<p>Add <code>SchedulerModule</code> to your component as usual.</p>\n\n<p>The correct way to supply different arguments is to use a different component with different modules specialized e.g. for testing. Or when testing you'll call the constructor manually.</p>\n\n<h3>2. Avoid Dagger in this case</h3>\n\n<p>Alternatively you can remove the IO scheduler from constructor parameters. The names suggests it's never going to be anything else than <code>Schedulers.io()</code> so it makes little sense to make it parameterized; make it an implementation detail instead.</p>\n\n<pre><code>class PhonePresenter @Inject constructor(private val preference: DataPreference) { \n    private val ioScheduler = Schedulers.io()\n\n    ... \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15768, "user_id": 3122885, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fe1eced7899a319fb446e04b63ac7eea?s=128&d=identicon&r=PG&f=1", "display_name": "octavian", "link": "https://stackoverflow.com/users/3122885/octavian"}, "edited": false, "score": 0, "creation_date": 1535141459, "post_id": 47988785, "comment_id": 90973162, "body": "Is this possible in Java as well?"}, {"owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "reply_to_user": {"reputation": 15768, "user_id": 3122885, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fe1eced7899a319fb446e04b63ac7eea?s=128&d=identicon&r=PG&f=1", "display_name": "octavian", "link": "https://stackoverflow.com/users/3122885/octavian"}, "edited": false, "score": 1, "creation_date": 1535367758, "post_id": 47988785, "comment_id": 91025909, "body": "@octavian In java, just create another constructor which only accept DataPreference as parameter."}, {"owner": {"reputation": 99, "user_id": 5070938, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10206331605001470/picture?type=large", "display_name": "Arpit", "link": "https://stackoverflow.com/users/5070938/arpit"}, "edited": false, "score": 0, "creation_date": 1577292454, "post_id": 47988785, "comment_id": 105137292, "body": "@luffy, Would calling the second constructor with ioSchedular in java, also initialise the DataPreference parameter?"}, {"owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "reply_to_user": {"reputation": 99, "user_id": 5070938, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10206331605001470/picture?type=large", "display_name": "Arpit", "link": "https://stackoverflow.com/users/5070938/arpit"}, "edited": false, "score": 0, "creation_date": 1577445440, "post_id": 47988785, "comment_id": 105172445, "body": "@Arpit No, DataPreference will only initial automatic by Dagger injection"}], "tags": [], "owner": {"reputation": 239, "user_id": 3188809, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/800f5c554edb21268ca98c862cd88aa3?s=128&d=identicon&r=PG&f=1", "display_name": "luffy", "link": "https://stackoverflow.com/users/3188809/luffy"}, "is_accepted": true, "score": 11, "last_activity_date": 1603188267, "last_edit_date": 1603188267, "creation_date": 1514363294, "answer_id": 47988785, "question_id": 47961375, "link": "https://stackoverflow.com/questions/47961375/inject-only-certain-params-in-constructor/47988785#47988785", "title": "Inject only certain params in constructor", "body": "<p>Make inject constructor with secondary constructor</p>\n<pre><code>class PhonePresenter(\n    private val preference: DataPreference,\n    private val ioScheduler: Scheduler) {        \n    @Inject constructor(preference: DataPreference) : this(preference, Schedulers.io())\n}\n</code></pre>\n"}], "owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2084, "favorite_count": 1, "accepted_answer_id": 47988785, "answer_count": 2, "score": 8, "last_activity_date": 1603188267, "creation_date": 1514125370, "question_id": 47961375, "link": "https://stackoverflow.com/questions/47961375/inject-only-certain-params-in-constructor", "title": "Inject only certain params in constructor", "body": "<p>I have the presenter</p>\n\n<pre><code>class PhonePresenter @Inject constructor(\n    private val preference: DataPreference,\n    private val ioScheduler: Scheduler = Schedulers.io())\n</code></pre>\n\n<p><code>ioScheduler</code> is a default parameter. I want to inject only <code>preference: DataPreference</code>. Now I have the exception</p>\n\n<pre><code>[dagger.android.AndroidInjector.inject(T)] io.reactivex.Scheduler cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>Is there any way to define parameters which I want to inject in a constructor?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebaseui"], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 4134167, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/101935baa59c40a1da4ff221e856fe47?s=128&d=identicon&r=PG&f=1", "display_name": "marcorei", "link": "https://stackoverflow.com/users/4134167/marcorei"}, "is_accepted": false, "score": 0, "last_activity_date": 1514131350, "creation_date": 1514131350, "answer_id": 47962117, "question_id": 47961281, "link": "https://stackoverflow.com/questions/47961281/filter-data-for-firebaserecycleradapter/47962117#47962117", "title": "Filter data for FirebaseRecyclerAdapter", "body": "<p><a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/common/src/main/java/com/firebase/ui/common/BaseCachingSnapshotParser.java#L31\" rel=\"nofollow noreferrer\">This method</a> is annotated with <code>@NonNull</code> so my guess is that your parser is not expected to return a <code>null</code> value.</p>\n\n<p>Two options come to mind:</p>\n\n<p>a) Don't use <code>FirebaseUI-Android</code>. Filtering results would be possible using a regular adapter and, for example, requesting value instead of children and using <a href=\"https://developer.android.com/reference/android/support/v7/util/DiffUtil.html\" rel=\"nofollow noreferrer\"><code>DiffUtil</code></a> to calculate changes. But there are other ways to do that too!</p>\n\n<p>b) Restructure your data. You could, for example, have a separate collection for each user which holds the keys of the chats that this user is part of.</p>\n\n<p>There might be other ways to do this but that's what came to mind reading your question. Hope this helps!</p>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 729, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1514131350, "creation_date": 1514124603, "last_edit_date": 1514129345, "question_id": 47961281, "link": "https://stackoverflow.com/questions/47961281/filter-data-for-firebaserecycleradapter", "title": "Filter data for FirebaseRecyclerAdapter", "body": "<p>I have a <code>FirebaseRecyclerAdapter</code> which is used for showing a list of chats.\nNow it shows all chats and I want it to show only chats which contain current firebase user id in the \"users\" array:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jN8PA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jN8PA.png\" alt=\"enter image description here\"></a>  </p>\n\n<pre><code>  mFirebaseDatabaseReference = FirebaseDatabase.getInstance().reference\n\n    val parser = SnapshotParser&lt;ChatModel&gt; { dataSnapshot -&gt;\n            val chat = dataSnapshot.getValue(ChatModel::class.java)\n            if (chat != null) {\n                chat.id = dataSnapshot.key\n            }\n            chat\n        }\n\n    val chatsRef = mFirebaseDatabaseReference.child(ChatActivity.ROOMS_CHILD)\n    val options = FirebaseRecyclerOptions.Builder&lt;ChatModel&gt;()\n            .setQuery(chatsRef, parser)\n            .build()\n\n    mFirebaseAdapter = object : FirebaseRecyclerAdapter&lt;ChatModel, ChatViewHolder&gt;(options) {\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ChatViewHolder {\n            val inflater = LayoutInflater.from(parent.context)\n            val viewHolder = ChatViewHolder(inflater.inflate(R.layout.item_chat, parent, false))\n            return viewHolder\n        }\n\n        override fun onBindViewHolder(viewHolder: ChatViewHolder,\n                                      position: Int,\n                                      chatItem: ChatModel) {\n        }\n    }\n</code></pre>\n\n<p>I had an idea to filter data inside SnapshotParser this way:</p>\n\n<pre><code>val parser = SnapshotParser&lt;ChatModel&gt; { dataSnapshot -&gt;\nval chat = dataSnapshot.getValue(ChatModel::class.java)\nif (chat != null &amp;&amp; chat.users.contains(mFirebaseUser?.uid)){ // I want to add this condition\n    chat.id = dataSnapshot.key\n    chat\n} else {\n    null\n}\n</code></pre>\n\n<p>}</p>\n\n<p>but it causes NPE in one of the firebase classes.\nWhat is the best way to filter chats by current user?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "firebaseui"], "answers": [{"tags": [], "owner": {"reputation": 3492, "user_id": 4548500, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/682a8ee4855d2f4617199afbd9fd23cf?s=128&d=identicon&r=PG", "display_name": "SUPERCILEX", "link": "https://stackoverflow.com/users/4548500/supercilex"}, "is_accepted": true, "score": 3, "last_activity_date": 1514277575, "last_edit_date": 1514277575, "creation_date": 1514190904, "answer_id": 47967025, "question_id": 47959980, "link": "https://stackoverflow.com/questions/47959980/android-how-to-implement-multiple-viewholder-one-for-header-layout-another-for/47967025#47967025", "title": "Android - how to implement multiple ViewHolder one for header layout another for model layout in Firestore RecyclerView adapter", "body": "<p><em>FirebaseUI maintainer here.</em> <code>onBindViewHolder(RecyclerView.ViewHolder, Int, Model)</code> makes a <code>getItem(position)</code> call internally to seamlessly populate your model. Since you're manually injecting an item, the RecyclerView is going to think there are items in the database and will blow up as you saw. To fix that, you'll want to override the native <code>onBindViewHolder(RecyclerView.ViewHolder, Int)</code> method without calling super:</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    when(holder) {\n        is SelectImageViewHolder -&gt; holder.bindModel()\n        is UserImageViewHolder -&gt; {\n            // Manually get the model item\n            holder.bindImages(getItem(position - 1))\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 803, "user_id": 6319070, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f77a7238ca12d2224769d07383c1c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "aboodrak", "link": "https://stackoverflow.com/users/6319070/aboodrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 2, "accepted_answer_id": 47967025, "answer_count": 1, "score": 2, "last_activity_date": 1514277575, "creation_date": 1514113058, "last_edit_date": 1514122247, "question_id": 47959980, "link": "https://stackoverflow.com/questions/47959980/android-how-to-implement-multiple-viewholder-one-for-header-layout-another-for", "title": "Android - how to implement multiple ViewHolder one for header layout another for model layout in Firestore RecyclerView adapter", "body": "<p>I'm trying to make 2 view holder one will be at position 0 always which will be a header view for selecting image, another for displaying the model,\nI can do it for normal recyclerview adapter but in firestore recycler adapter i can't do it,\n what I try it increase the item count by 1 but I got </p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n</code></pre>\n\n<p>This is my adapter class code:</p>\n\n<pre><code>val TYPE_SELECT_IMAGE = 0\nval TYPE_ITEMS = 1\n\nclass UsersImageAdapter(options: FirestoreRecyclerOptions&lt;UserImage&gt;)\n    : FirestoreRecyclerAdapter&lt;UserImage, RecyclerView.ViewHolder&gt;(options) , AnkoLogger{\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int, model: UserImage) {\n\n        when(holder){\n            is SelectImageViewHolder -&gt; {\n            holder.bindModel()\n        }\n            is UserImageViewHolder -&gt; {\n                holder.bindImages(model)\n            }\n        }\n\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        return when (viewType) {\n            TYPE_SELECT_IMAGE -&gt; {\n\n                val view = LayoutInflater.from(parent.context).inflate(R.layout.item_add_image, parent, false)\n                SelectImageViewHolder(view)\n\n\n            }\n            TYPE_ITEMS -&gt; {\n                val view = LayoutInflater.from(parent.context).inflate(R.layout.item_image,parent,false)\n                UserImageViewHolder(view)\n\n            }\n            else -&gt; throw RuntimeException()\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return if (isPositionHeader(position)) {\n            TYPE_SELECT_IMAGE\n        } else {\n            TYPE_ITEMS\n        }\n\n    }\n\n    fun isPositionHeader(position: Int): Boolean {\n        return position == 0\n    }\n\n    override fun getItemCount(): Int {\n        return super.getItemCount() + 1 \n    }\n}\n</code></pre>\n\n<p>and this is two view holder one for header view another for displaying model </p>\n\n<pre><code>class SelectImageViewHolder(val view: View) : RecyclerView.ViewHolder(view) , AnkoLogger{\n        fun bindModel() { \n            view.setOnClickListener {\n                info {\n                    \"clicked !\"\n                }\n            }\n        }\n    }\nclass UserImageViewHolder(val view: View) : RecyclerView.ViewHolder(view) {\n    fun bindImages(userImage: UserImage) {\n        val imageView = view.findViewById&lt;ImageView&gt;(R.id.image_user_post)\n        Glide.with(view.context).load(userImage.imageUrl).into(imageView)\n    }\n}\n</code></pre>\n\n<p>my goal is to keep the SelectImageViewHolder in position 0 always</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 3, "creation_date": 1514111655, "post_id": 47959802, "comment_id": 82888842, "body": "<code>allByDefault</code> in your code is a local variable, not a property."}, {"owner": {"reputation": 151, "user_id": 6854122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYnq4.jpg?s=128&g=1", "display_name": "A.Chao", "link": "https://stackoverflow.com/users/6854122/a-chao"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1514121390, "post_id": 47959802, "comment_id": 82890890, "body": "@milleniumbug thank you for you reply. I have known why it confused me."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1514111909, "post_id": 47959832, "comment_id": 82888879, "body": "To add to this: it will still have to be initialized before its first use, but the compiler lets you declare it without an initial value because it can check that all of its usages occur after the initialization - unlike properties, which could be accessed from various places at various times. This lets you, for example, initialize it in different ways in an <code>if-else</code> or a <code>try-catch</code>."}], "tags": [], "owner": {"reputation": 16009, "user_id": 1407656, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aFPUN.png?s=128&g=1", "display_name": "toniedzwiedz", "link": "https://stackoverflow.com/users/1407656/toniedzwiedz"}, "is_accepted": true, "score": 9, "last_activity_date": 1514116294, "last_edit_date": 1514116294, "creation_date": 1514111670, "answer_id": 47959832, "question_id": 47959802, "link": "https://stackoverflow.com/questions/47959802/will-var-allbydefault-int-cause-error/47959832#47959832", "title": "Will `var allByDefault: Int ?` cause error?", "body": "<pre><code>fun main(args:Array&lt;String&gt;){\n    var allByDefault:Int?\n}\n</code></pre>\n\n<p>What you have here is a <code>var</code> local to the <code>main</code> method, not a property.</p>\n\n<pre><code>class MyClass {\n\n    //this is a property of MyClass that requires some means of initialization\n    var allByDefault: Int? // Error: Property must be initialized or be abstract\n\n    fun foo() {\n       var local: Int? // this is a local variable defined in the scope of foo, which is fine\n       // ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 6854122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYnq4.jpg?s=128&g=1", "display_name": "A.Chao", "link": "https://stackoverflow.com/users/6854122/a-chao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 47959832, "answer_count": 1, "score": 5, "last_activity_date": 1514139149, "creation_date": 1514111342, "last_edit_date": 1514121794, "question_id": 47959802, "link": "https://stackoverflow.com/questions/47959802/will-var-allbydefault-int-cause-error", "title": "Will `var allByDefault: Int ?` cause error?", "body": "<p>In the section: <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">Properties and Fields</a> of the reference of kotlin, the following examples is written:</p>\n\n<blockquote>\n  <p>var allByDefault: Int? // error: explicit initializer required, default getter and setter implied</p>\n</blockquote>\n\n<p>However, I test the code and there is no error in compiling and running.\nHere is my code\"</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n    var allByDefault:Int?\n}\n</code></pre>\n\n<p>So why does the documentation write:</p>\n\n<blockquote>\n  <p>error: explicit initializer required, default getter and setter implied</p>\n</blockquote>\n\n<p>I have searched google for help but haven't found any result which can help me.</p>\n\n<hr>\n\n<p>@toniedzwiedz 's answer has solved the issue. It's my fault. I mistook property and variable.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 2, "last_activity_date": 1514103069, "creation_date": 1514103069, "answer_id": 47959085, "question_id": 47959019, "link": "https://stackoverflow.com/questions/47959019/how-to-get-input-from-user-in-android-studio-in-numeric-value-and-convert-it-int/47959085#47959085", "title": "How to get input from user in Android Studio in numeric value and Convert it into variable int in kotlin?", "body": "<p><code>EditText</code>'s <code>text</code> property is of type <code>Editable</code>. You'll need to transform it to <code>String</code> first, and then convert it to an <code>Int</code>:</p>\n\n<pre><code>val num1 = editText1.text.toString().toInt()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "is_accepted": false, "score": 1, "last_activity_date": 1573248307, "last_edit_date": 1573248307, "creation_date": 1515048314, "answer_id": 48090011, "question_id": 47959019, "link": "https://stackoverflow.com/questions/47959019/how-to-get-input-from-user-in-android-studio-in-numeric-value-and-convert-it-int/48090011#48090011", "title": "How to get input from user in Android Studio in numeric value and Convert it into variable int in kotlin?", "body": "<p>Change input type in android xml file:</p>\n\n<pre><code>android:inputType=\"number|numberDecimal\"\n</code></pre>\n\n<p>And use this code :</p>\n\n<pre><code>val num = editText1.text.toString().toDouble()\n</code></pre>\n\n<p>Use <code>Double</code> to take input in Decimal or use <code>toInt()</code> to Convert in Integer.</p>\n"}], "owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5108, "favorite_count": 0, "accepted_answer_id": 47959085, "answer_count": 2, "score": 0, "last_activity_date": 1573248307, "creation_date": 1514102418, "question_id": 47959019, "link": "https://stackoverflow.com/questions/47959019/how-to-get-input-from-user-in-android-studio-in-numeric-value-and-convert-it-int", "title": "How to get input from user in Android Studio in numeric value and Convert it into variable int in kotlin?", "body": "<p>Hello everyone I am trying to make Calculator in Android Studio , As I am new Kotlin and Java therefore it is difficult for me.</p>\n\n<p>Here is the source code of mine mainActivity xml file :</p>\n\n<pre><code>    &lt;EditText\n    android:id=\"@+id/editText1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:ems=\"10\"\n    android:inputType=\"textPersonName|number\"\n    app:layout_constraintBottom_toTopOf=\"@+id/editText2\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.094\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.753\"\n    tools:hint=\"First Number\"\n    android:numeric=\"integer|decimal\"/&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:ems=\"10\"\n    android:inputType=\"none|textPersonName|number\"\n    app:layout_constraintBottom_toTopOf=\"@+id/editText3\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.094\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText1\"\n    tools:hint=\"Second Number\"\n    android:numeric=\"integer|decimal\"/&gt;\n\n&lt;TextView\n    android:id=\"@+id/editText3\"\n    android:layout_width=\"217dp\"\n    android:layout_height=\"36dp\"\n    android:text=\"Answer\"\n    app:layout_constraintBottom_toTopOf=\"@+id/okactivity2\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.095\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/editText2\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>And here is my Android mainActivity.kt file</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n\n    okactivity2.setOnClickListener{\n        val num1 = editText1.text\n        val user1: Int = num1\n        val num2 = editText2.text\n        val user2: Int = num2\n         val sum = user1 + user2\n        editText3.setText(\"Answer is $sum\")\n\n    }\n\n}\n</code></pre>\n\n<p>Here i am unable to convert string editText1 and editText2 into an int , so that i can set ediText3 As Answer</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 8, "creation_date": 1514106589, "post_id": 47958732, "comment_id": 82887966, "body": "There is no dedicated syntax for performing this operation in Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 4283, "user_id": 5462608, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7eb8700e5129804fc324f2cc4dc4ccff?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Lee", "link": "https://stackoverflow.com/users/5462608/nick-lee"}, "edited": false, "score": 0, "creation_date": 1514469083, "post_id": 47985108, "comment_id": 82985553, "body": "My real use case is this: I am writing a wrapper function (in Kotlin) on top of a Java library. If a parameter is not null, its value is assigned to a corresponding field in the underlying object. If it is null, then nothing is done, leaving the field with its default value. There are more than one field to set, so returning in the middle is not an option. Thanks for the investigation and the suggestion, though."}, {"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "reply_to_user": {"reputation": 4283, "user_id": 5462608, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7eb8700e5129804fc324f2cc4dc4ccff?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Lee", "link": "https://stackoverflow.com/users/5462608/nick-lee"}, "edited": false, "score": 1, "creation_date": 1514469195, "post_id": 47985108, "comment_id": 82985614, "body": "Then, I guess your original method 2 is the best: it&#39;s clear, short, simple and achieves what you want."}], "tags": [], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "is_accepted": false, "score": 0, "last_activity_date": 1514335350, "creation_date": 1514335350, "answer_id": 47985108, "question_id": 47958732, "link": "https://stackoverflow.com/questions/47958732/a-better-way-to-assign-only-if-the-right-side-is-not-null/47985108#47985108", "title": "A better way to assign only if the right side is not null?", "body": "<p>There's the following:</p>\n\n<pre><code>val x: Int? = null\nval n: Int = x ?: return\n</code></pre>\n\n<p>This compiles perfectly fine, even though <code>n</code> may not be assigned. Even calls that use <code>n</code> after its 'assignment' are allowed, e.g. <code>println(n)</code>, because the compiler only knows that <code>n</code> is <code>Int</code> and that's OK. However, any lines following the assignment will never be called, because we <code>return</code> from the scope. Depending on what you want, that's a no-op. We can't continue because <code>n</code> couldn't be assigned, so just return.</p>\n\n<p>Another option is <code>val n: Int = x!!</code> which will throw a <code>NullPointerException</code> if <code>x == null</code> that should be handled elsewhere. I don't recommend this practice, because Kotlin offers cleaner methods to handle nullability.</p>\n"}, {"comments": [{"owner": {"reputation": 4283, "user_id": 5462608, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7eb8700e5129804fc324f2cc4dc4ccff?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Lee", "link": "https://stackoverflow.com/users/5462608/nick-lee"}, "edited": false, "score": 0, "creation_date": 1520180954, "post_id": 49062312, "comment_id": 85200314, "body": "I understand what you are trying to do with the infix function definition. But what are those 3 lines of Kotlin code? I obviously don&#39;t know about Kotlin&#39;s metadata well enough."}, {"owner": {"reputation": 815, "user_id": 1334202, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b4e9272a787ae2da011902d2f5e790e?s=128&d=identicon&r=PG", "display_name": "Raymond", "link": "https://stackoverflow.com/users/1334202/raymond"}, "reply_to_user": {"reputation": 4283, "user_id": 5462608, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7eb8700e5129804fc324f2cc4dc4ccff?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Lee", "link": "https://stackoverflow.com/users/5462608/nick-lee"}, "edited": false, "score": 0, "creation_date": 1520321164, "post_id": 49062312, "comment_id": 85255525, "body": "Demo code copied from my project. I will clean it to make answer clear."}], "tags": [], "owner": {"reputation": 815, "user_id": 1334202, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2b4e9272a787ae2da011902d2f5e790e?s=128&d=identicon&r=PG", "display_name": "Raymond", "link": "https://stackoverflow.com/users/1334202/raymond"}, "is_accepted": false, "score": 1, "last_activity_date": 1520321396, "last_edit_date": 1520321396, "creation_date": 1519960646, "answer_id": 49062312, "question_id": 47958732, "link": "https://stackoverflow.com/questions/47958732/a-better-way-to-assign-only-if-the-right-side-is-not-null/49062312#49062312", "title": "A better way to assign only if the right side is not null?", "body": "<p>Try <code>infix</code> to  '<em>simulate custom in\ufb01x operations</em>'</p>\n\n<pre><code>// define this\ninfix fun &lt;T &gt; T.assignFromNotNull(right: T): T = right ?: this\n\n///////////////////////////////////////////////////////////\n// Demo using\n\n// Now, Kotlin infix-style\nfooA assignFromNotNull fooB\nbarA assignFromNotNull barB\nbazA assignFromNotNull bazB\n\n// Old code, Java if-style\nif (fooB != null) {\n    fooA = fooB;\n}\nif (barB != null) {\n    barA = barB;\n}\nif (bazB != null) {\n    bazA = bazB\n}\n</code></pre>\n"}], "owner": {"reputation": 4283, "user_id": 5462608, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/7eb8700e5129804fc324f2cc4dc4ccff?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Lee", "link": "https://stackoverflow.com/users/5462608/nick-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1520321396, "creation_date": 1514099139, "last_edit_date": 1514099486, "question_id": 47958732, "link": "https://stackoverflow.com/questions/47958732/a-better-way-to-assign-only-if-the-right-side-is-not-null", "title": "A better way to assign only if the right side is not null?", "body": "<p>In Kotlin, I want to do an assignment only if another variable is not null (otherwise, no op). I can think of two succinct ways:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var x: Int? = null\n    var n = 0\n\n    // ... do something ...\n\n    x?.let { n = it }  // method 1\n    n = x ?: n         // method 2\n}\n</code></pre>\n\n<p>However, they don't feel succinct enough, given the frequency I have to do them. The first method seems an overkill. The second method is nagging in requiring an expression after <code>?:</code>.</p>\n\n<p>I suspect there must be a better way, something like <code>n =? x</code>? Or <code>n = x?</code>? Is there?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "java-platform-module-system", "java-module"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514098422, "post_id": 47958627, "comment_id": 82886544, "body": "did you try adding a <code>requires</code> directive for <code>org.junit.jupiter.api</code>? maybe this is what causes the last error from the kotlin compiler"}, {"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514098918, "post_id": 47958627, "comment_id": 82886622, "body": "@msrd0, I just tried it (hadn&#39;t done so before in isolation). Adding <code>org.junit.jupiter.api</code> into the <code>module-info.java</code> as a <code>requires</code> <i>does</i> get rid of the unresolved symbol reference errors. HOWEVER, again, it generates an <code>-Xlint:all</code> warning from <code>javac</code> which doesn&#39;t want <code>requires</code> on automatic modules. So again it seems like Kotlin and Java are enforcing different rules here."}, {"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514099012, "post_id": 47958627, "comment_id": 82886637, "body": "did you try it together with the <code>-Xallow-kotlin-package</code> flag?"}, {"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1514099115, "post_id": 47958627, "comment_id": 82886651, "body": "@msrd0 - yes: With and without. Neither works although both generate different errors. Essentially all <code>-Xallow-kotlin-package</code> allows me to do is omit <code>requires kotlin.stdlib;</code> from my <code>module-info.java</code> thus saving one <code>javac</code> warning."}, {"owner": {"reputation": 34704, "user_id": 1746118, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a4a3P.png?s=128&g=1", "display_name": "Naman", "link": "https://stackoverflow.com/users/1746118/naman"}, "edited": false, "score": 0, "creation_date": 1514352165, "post_id": 47958627, "comment_id": 82942258, "body": "Well, I added a comment to your previous question. Ideally, this could be solved in two ways, (1) if you could live with the warnings you could wait for the dependency you rely on, to move to JPMS(module system itself first) (2) you can go ahead and modify the jar being used to get rid of the warning using the MANIFEST entry."}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 3, "last_activity_date": 1517760539, "last_edit_date": 1517760539, "creation_date": 1517759299, "answer_id": 48609922, "question_id": 47958627, "link": "https://stackoverflow.com/questions/47958627/do-kotlin-1-2-10-and-java-9-have-opposite-rules-regarding-automatic-modules/48609922#48609922", "title": "Do Kotlin 1.2.10 and Java 9 have opposite rules regarding automatic modules?", "body": "<p>If you're authoring Java 9 module in Kotlin, you have to declare <code>requires kotlin.stdlib</code> in your <code>module-info.java</code> in order to satisfy runtime dependencies of the compiled Kotlin code in addition to the explicit dependencies on the standard library API.</p>\n\n<p><code>javac</code> warns you about requiring an automatic module when lint is enabled, because automatic modules have some potential <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">drawbacks</a> compared to normal modules. Until the standard library is compiled as a normal module, you have to deal with this warning.</p>\n\n<p><code>-Xallow-kotlin-package</code> compiler flag allows you to omit <code>require kotlin.stdlib</code>, because it is intended to be used only when the standard library itself is compiled. Obviously, if you specify this flag and omit that requirement, you won't be able to use any API from the standard library, so this is not really an option for you.</p>\n"}, {"tags": [], "owner": {"reputation": 279, "user_id": 5652258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7f5ad8993dd02091bad75d3dff20151?s=128&d=identicon&r=PG&f=1", "display_name": "Some Guy", "link": "https://stackoverflow.com/users/5652258/some-guy"}, "is_accepted": false, "score": 2, "last_activity_date": 1546572960, "last_edit_date": 1546572960, "creation_date": 1546267216, "answer_id": 53988636, "question_id": 47958627, "link": "https://stackoverflow.com/questions/47958627/do-kotlin-1-2-10-and-java-9-have-opposite-rules-regarding-automatic-modules/53988636#53988636", "title": "Do Kotlin 1.2.10 and Java 9 have opposite rules regarding automatic modules?", "body": "<p>I find it easiest to simply suppress the warnings for use of an automatic module. (In my case I have to use some automatic modules whether I want to or not, so these warnings are just distracting noise.) I have the following in my build.gradle.kts:</p>\n\n<pre><code>val compilerArgs = listOf(\n    \"-Xlint:all\",                           // Enable all warnings except...\n    \"-Xlint:-requires-automatic\",           // Suppress \"requires directive for an automatic module\" warnings from module-info.java\n    \"-Xlint:-requires-transitive-automatic\" // Suppress \"requires transitive directive for an automatic module\" warnings from module-info.java\n)\n\n// This task will compile all Java code in the target module except for test code.\ntasks.compileJava {\n    doFirst {\n        options.compilerArgs.addAll(compilerArgs)\n    }\n}\n\n// This task will compile all Java test code in the target module.\ntasks.compileTestJava {\n    doFirst {\n        options.compilerArgs.addAll(compilerArgs)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4761, "favorite_count": 2, "answer_count": 2, "score": 8, "last_activity_date": 1546572960, "creation_date": 1514098198, "question_id": 47958627, "link": "https://stackoverflow.com/questions/47958627/do-kotlin-1-2-10-and-java-9-have-opposite-rules-regarding-automatic-modules", "title": "Do Kotlin 1.2.10 and Java 9 have opposite rules regarding automatic modules?", "body": "<p>I have a Gradle project using the Kotlin Gradle plugin. I want to build a Java 9 module, so my directory structure looks like this:</p>\n\n<pre><code>src/main/java/\n    - module-info.java\nsrc/main/kotlin/\n    - Foo.kt\n    - Bar.kt\nbuild.gradle\n...\n</code></pre>\n\n<p>My <code>build.gradle</code> declares the following dependencies:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.10\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:1.2.10\"\n    compile \"org.junit.jupiter:junit-jupiter-api:5.0.2\"\n}\n</code></pre>\n\n<p>and I use all of these dependencies in my Kotlin source (<code>Foo.kt</code>, <code>Bar.kt</code>, ...).</p>\n\n<p>Everything works hunky-dory if I write my <code>module-info.java</code> like so:</p>\n\n<pre><code>module my.module {\n    requires kotlin.stdlib;\n    exports my.module.pkg;\n}\n</code></pre>\n\n<p>and if I supply all my compile-time dependencies to <code>javac</code> during the <code>compileJava</code> task using <a href=\"https://guides.gradle.org/building-java-9-modules/\" rel=\"noreferrer\">this technique</a>.</p>\n\n<p><em>However</em> if I turn on <code>-Xlint:all</code> for the Java compiler during the <code>compileJava</code> task (to compile <code>module-info.java</code>), I get the following warnings:</p>\n\n<pre><code>/path/to/my.module/src/main/java/module-info.java:26: warning: requires directive for an automatic module\n    requires kotlin.stdlib;\n                   ^\n</code></pre>\n\n<p>So here we have the Java compiler, <code>javac</code> complaining that <code>kotlin.stdlib</code> is an automatic module so I shouldn't have a <code>requires</code> clause for it. </p>\n\n<p>But if I delete the <code>requires</code> clause to make <code>javac</code> happy, it makes <code>kotlinc</code> even angrier than <code>javac</code> was (I get an error not a warning):</p>\n\n<pre><code>e: /path/to/my.module/src/main/java/module-info.java: The Kotlin standard library is not found in the module graph. Please ensure you have the 'requires kotlin.stdlib' clause in your module definition\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':my.module:compileKotlin'.\n</code></pre>\n\n<p>Now I can fix that, too, by editing my <code>compileKotlin</code> task thus:</p>\n\n<pre><code>compileKotlin {\n    doFirst {\n        kotlinOptions.freeCompilerArgs = ['-Xallow-kotlin-package']\n    }\n}\n</code></pre>\n\n<p>But this only leads to MORE errors during the <code>compileKotlin</code> task, all looking like this one:</p>\n\n<pre><code>e: /path/to/my.module/src/main/kotlin/Foo.kt: (27, 30): Symbol is declared in module 'org.junit.jupiter.api' which current module does not depend on\n</code></pre>\n\n<p>And then if I try to force <code>compileKotlin</code> to take a module path rather than a classpath by adding <code>\"-Xmodule-path=${classpath.asPath}\"</code> to <code>freeCompilerArgs</code> and setting <code>classpath</code> to be empty, the Kotlin compiler can't find anything at all, and I end up with zillions of unresolved reference errors!</p>\n\n<p>Why is the Kotlin compiler telling me I have to have <code>requires kotlin.stdlib;</code> when the Java compiler says the opposite? How can I get Kotlin and Java to work together to produce a Java 9 module?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines", "kotlin-js"], "answers": [{"comments": [{"owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 0, "creation_date": 1525951172, "post_id": 50271343, "comment_id": 87560433, "body": "I think you have a typo in the code, but the idea seems fine, thanks!"}, {"owner": {"reputation": 665, "user_id": 7900721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-INZeIznIQTg/AAAAAAAAAAI/AAAAAAAAAAw/E9VciNY8wo4/photo.jpg?sz=128", "display_name": "Andrew Steinmetz", "link": "https://stackoverflow.com/users/7900721/andrew-steinmetz"}, "edited": false, "score": 0, "creation_date": 1594190752, "post_id": 50271343, "comment_id": 111035702, "body": "I&#39;m struggling to get the JS one to work, what exactly was the typo?"}, {"owner": {"reputation": 499, "user_id": 5666171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Nu7os.png?s=128&g=1", "display_name": "CLOVIS", "link": "https://stackoverflow.com/users/5666171/clovis"}, "edited": false, "score": 0, "creation_date": 1608565613, "post_id": 50271343, "comment_id": 115616051, "body": "This works fine, but since all tests are started concurrently (I think?), when you have many slow tests they exceed the two seconds timeout. Is there any way to modify this so there&#39;s no timeout issues?"}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 5, "last_activity_date": 1525954718, "last_edit_date": 1525954718, "creation_date": 1525949909, "answer_id": 50271343, "question_id": 47956444, "link": "https://stackoverflow.com/questions/47956444/how-to-unit-test-kotlin-js-code-with-coroutines/50271343#50271343", "title": "How to unit-test Kotlin-JS code with coroutines?", "body": "<p>Mb it's late, but there are open <a href=\"https://youtrack.jetbrains.com/issue/KT-22228\" rel=\"nofollow noreferrer\">issue</a> for adding possibility to use <code>suspend</code> functions in js-tests (there this function will transparent convert to promise)</p>\n\n<p><strong>Workaround</strong>:</p>\n\n<p>One can define in common code:</p>\n\n<pre><code>expect fun runTest(block: suspend () -&gt; Unit)\n</code></pre>\n\n<p>that is implemented in JVM with</p>\n\n<pre><code>actual fun runTest(block: suspend () -&gt; Unit) = runBlocking { block() }\n</code></pre>\n\n<p>and in JS with</p>\n\n<pre><code>actual fun runTest(block: suspend () -&gt; Unit): dynamic = promise { block() } \n</code></pre>\n"}], "owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 1, "accepted_answer_id": 50271343, "answer_count": 1, "score": 8, "last_activity_date": 1608577577, "creation_date": 1514067249, "last_edit_date": 1608577577, "question_id": 47956444, "link": "https://stackoverflow.com/questions/47956444/how-to-unit-test-kotlin-js-code-with-coroutines", "title": "How to unit-test Kotlin-JS code with coroutines?", "body": "<p>I've created a multi-platform Kotlin project (JVM &amp; JS), declared an expected class and implemented it:</p>\n\n<pre><code>// Common module:\nexpect class Request(/* ... */) {\n    suspend fun loadText(): String\n}\n\n// JS implementation:\nactual class Request actual constructor(/* ... */) {\n    actual suspend fun loadText(): String = suspendCoroutine { continuation -&gt;\n        // ...\n    }\n}\n</code></pre>\n\n<p>Now I'm trying to make a unit test using <code>kotlin.test</code>, and for the JVM platform I simply use <code>runBlocking</code> like this:</p>\n\n<pre><code>@Test\nfun sampleTest() {\n    val req = Request(/* ... */)\n    runBlocking { assertEquals( /* ... */ , req.loadText()) }\n}\n</code></pre>\n\n<p>How can I reproduce similar functionality on the JS platform, if there is no <code>runBlocking</code>?</p>\n"}, {"tags": ["kotlin", "dsl"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514064637, "post_id": 47956168, "comment_id": 82881777, "body": "What do you mean by &quot;without class extension&quot;?"}, {"owner": {"reputation": 23, "user_id": 8784607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d3d9e989e9d7ec6ee8ee8bedc89ab3?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0430\u0432\u0438\u0434 \u0411\u0435\u0441\u0442\u0430\u0435\u0432", "link": "https://stackoverflow.com/users/8784607/%d0%94%d0%b0%d0%b2%d0%b8%d0%b4-%d0%91%d0%b5%d1%81%d1%82%d0%b0%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514064780, "post_id": 47956168, "comment_id": 82881822, "body": "sory, I mean inheritance"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514064873, "post_id": 47956168, "comment_id": 82881846, "body": "That still isn&#39;t clear.  Can you show an example of what isn&#39;t working?"}, {"owner": {"reputation": 23, "user_id": 8784607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d3d9e989e9d7ec6ee8ee8bedc89ab3?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0430\u0432\u0438\u0434 \u0411\u0435\u0441\u0442\u0430\u0435\u0432", "link": "https://stackoverflow.com/users/8784607/%d0%94%d0%b0%d0%b2%d0%b8%d0%b4-%d0%91%d0%b5%d1%81%d1%82%d0%b0%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514065002, "post_id": 47956168, "comment_id": 82881879, "body": "I want kind of this : infix fun ModelAndView.String.to(value: Any?){//...}"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1514065052, "post_id": 47956168, "comment_id": 82881895, "body": "Why do you want that?  An extension defined <i>inside</i> a class is only usable  inside that class.  So what would be the purpose of that?"}], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1514067239, "post_id": 47956235, "comment_id": 82882336, "body": "You can access it outside the class by doing <code>with(x) { &quot;abc&quot;.ext() }</code>."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1514067341, "post_id": 47956235, "comment_id": 82882363, "body": "But only in the context of the class, this works because it&#39;s a lambda with receiver <code>X</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1514067843, "post_id": 47956235, "comment_id": 82882444, "body": "What do you mean with &quot;only in the context of the class&quot;? If a class defines a public extension method, you can access it anywhere you have an object of that class using that <code>with</code>-trick."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1514067933, "post_id": 47956235, "comment_id": 82882465, "body": "<code>with</code> creates that context."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1514112955, "post_id": 47956235, "comment_id": 82889071, "body": "@ s1m0nw1 I know you know how this whole thing works, but I have to agree with @marstran your wording is misleading: &quot;cannot use outside the class&quot; and &quot;need an object of the class in the context to use&quot; are very different things."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1514113268, "last_edit_date": 1514113268, "creation_date": 1514064981, "answer_id": 47956235, "question_id": 47956168, "link": "https://stackoverflow.com/questions/47956168/function-extension-for-class-in-another-class/47956235#47956235", "title": "function extension for class in another class", "body": "<p>You can create member extension functions in classes, but these extensions can only be accessed in the class':</p>\n\n<pre><code>class X {\n    fun String.ext() = println(\"extension on $this called\")\n    fun useExtension() {\n        val text: String = \"myText\"\n        text.ext()\n    }\n}\n</code></pre>\n\n<p>You can only use this extension inside the class, as shown in <code>useExtension</code>, and also in the context of that class, which for instance can be used in <code>with</code>:</p>\n\n<pre><code>with(x) { \"abc\".ext() }\n</code></pre>\n\n<p>It's not recommended to do this, although it makes sense when writing DSLs for example.</p>\n"}], "owner": {"reputation": 23, "user_id": 8784607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d3d9e989e9d7ec6ee8ee8bedc89ab3?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0430\u0432\u0438\u0434 \u0411\u0435\u0441\u0442\u0430\u0435\u0432", "link": "https://stackoverflow.com/users/8784607/%d0%94%d0%b0%d0%b2%d0%b8%d0%b4-%d0%91%d0%b5%d1%81%d1%82%d0%b0%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 47956235, "answer_count": 1, "score": 2, "last_activity_date": 1514118047, "creation_date": 1514064504, "last_edit_date": 1514118047, "question_id": 47956168, "link": "https://stackoverflow.com/questions/47956168/function-extension-for-class-in-another-class", "title": "function extension for class in another class", "body": "<p>I want to make a function extension for class inside of another class (for <code>String</code> in <code>ModelAndView</code>, not for inner), but have not found a way to do this without class inheritance. Is it possible at all? </p>\n\n<p>Example of class extension:</p>\n\n<pre><code>class MyModelAndView : ModelAndView() {\n   infix fun String.to(value: Any?) {\n      addObject(this, value)\n   }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 6344487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa5be51ce7de1a1af6e5841721f52e5?s=128&d=identicon&r=PG&f=1", "display_name": "ShangXubin", "link": "https://stackoverflow.com/users/6344487/shangxubin"}, "edited": false, "score": 0, "creation_date": 1514055053, "post_id": 47955082, "comment_id": 82879585, "body": "So it means use &quot;apply&quot; function as a wrapper of any void method, so than the builder can keep?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 91, "user_id": 6344487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa5be51ce7de1a1af6e5841721f52e5?s=128&d=identicon&r=PG&f=1", "display_name": "ShangXubin", "link": "https://stackoverflow.com/users/6344487/shangxubin"}, "edited": false, "score": 0, "creation_date": 1514055122, "post_id": 47955082, "comment_id": 82879602, "body": "@ShangXubin - <code>apply</code> can be used to wrap any number of methods, but it always returns the object."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 5, "last_activity_date": 1514055825, "last_edit_date": 1514055825, "creation_date": 1514054822, "answer_id": 47955082, "question_id": 47955058, "link": "https://stackoverflow.com/questions/47955058/the-builder-style-usage-of-methods-that-return-unit-on-kotlin-website-confuse/47955082#47955082", "title": "The &quot;Builder-style usage of methods that return Unit&quot; on Kotlin website confuse me", "body": "<p>The point it's trying to make is that if you just did traditional Java builder style, like this:</p>\n\n<pre><code>return IntArray(size)\n    .fill(-1)\n</code></pre>\n\n<p>then it wouldn't compile, because it's of type <code>Unit</code>, not <code>IntArray</code>. \n So traditionally, you'd have to do something like this:</p>\n\n<pre><code>val ret = IntArray(size)\nret.fill(-1)\nreturn ret\n</code></pre>\n\n<p><code>apply</code> enables you to avoid this, because the return type is still of type <code>IntArray</code> (or <code>T</code>, in general).</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1514055740, "creation_date": 1514055740, "answer_id": 47955167, "question_id": 47955058, "link": "https://stackoverflow.com/questions/47955058/the-builder-style-usage-of-methods-that-return-unit-on-kotlin-website-confuse/47955167#47955167", "title": "The &quot;Builder-style usage of methods that return Unit&quot; on Kotlin website confuse me", "body": "<p>Take this one:</p>\n\n<pre><code>class X {\n    var a: Int? = null\n    var b: Int? = null\n    fun first(a: Int) = apply { this.a = a }\n    fun second(b: Int) = apply { this.b = b }\n}\n\nX().first(2).second(3)\n</code></pre>\n\n<p>The <code>apply</code> functions are used to return the instance of <code>X</code> after setting the property. This enables builder-style call of both methods. If <code>apply</code> were removed, the function would return <code>Unit</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 6344487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6aa5be51ce7de1a1af6e5841721f52e5?s=128&d=identicon&r=PG&f=1", "display_name": "ShangXubin", "link": "https://stackoverflow.com/users/6344487/shangxubin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 47955082, "answer_count": 2, "score": 5, "last_activity_date": 1514055825, "creation_date": 1514054650, "question_id": 47955058, "link": "https://stackoverflow.com/questions/47955058/the-builder-style-usage-of-methods-that-return-unit-on-kotlin-website-confuse", "title": "The &quot;Builder-style usage of methods that return Unit&quot; on Kotlin website confuse me", "body": "<p><a href=\"http://kotlinlang.org/docs/reference/idioms.html#builder-style-usage-of-methods-that-return-unit\" rel=\"noreferrer\">Kotlin Website Link</a></p>\n\n<p>The website said\n<br/>\n\"Builder-style usage of methods that return Unit\"</p>\n\n<pre><code>fun arrayOfMinusOnes(size: Int): IntArray {\n    return IntArray(size).apply { fill(-1) }\n}\n</code></pre>\n\n<p>As function \"apply\" returns the generic type, and I thought Unit is as same as void in Java, so use a void method as a builder-style, it doesn't make sense.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2018, "user_id": 5562711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmKEn.jpg?s=128&g=1", "display_name": "Omar El Halabi", "link": "https://stackoverflow.com/users/5562711/omar-el-halabi"}, "edited": false, "score": 0, "creation_date": 1514052135, "post_id": 47954721, "comment_id": 82878794, "body": "You can do it by passing the <code>recyclerView</code> to the <code>NewClass</code> instance as a parameter in the constructor and do the work in <code>NewClass</code>"}, {"owner": {"reputation": 75, "user_id": 7238339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58737fda036bf1e4fe365a18471544f2?s=128&d=identicon&r=PG&f=1", "display_name": "angel", "link": "https://stackoverflow.com/users/7238339/angel"}, "reply_to_user": {"reputation": 2018, "user_id": 5562711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmKEn.jpg?s=128&g=1", "display_name": "Omar El Halabi", "link": "https://stackoverflow.com/users/5562711/omar-el-halabi"}, "edited": false, "score": 0, "creation_date": 1514053115, "post_id": 47954721, "comment_id": 82879100, "body": "Thank you for replying. I am not sure I understand how to implement it. This is my code at onCreate: I would like to delete all of it from this class..."}, {"owner": {"reputation": 1291, "user_id": 339789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05f9b75e471ad188fe9f103a3faffdf0?s=128&d=identicon&r=PG", "display_name": "Nightforce2", "link": "https://stackoverflow.com/users/339789/nightforce2"}, "edited": false, "score": 0, "creation_date": 1514053928, "post_id": 47954721, "comment_id": 82879300, "body": "Be sure to add what code your working with by adding it to your question tags! Not always apparent. ;)"}, {"owner": {"reputation": 2018, "user_id": 5562711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmKEn.jpg?s=128&g=1", "display_name": "Omar El Halabi", "link": "https://stackoverflow.com/users/5562711/omar-el-halabi"}, "edited": false, "score": 0, "creation_date": 1514054170, "post_id": 47954721, "comment_id": 82879376, "body": "@angle you can edit the question and add the code there. Also, please add the android tag to the question :)"}, {"owner": {"reputation": 75, "user_id": 7238339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58737fda036bf1e4fe365a18471544f2?s=128&d=identicon&r=PG&f=1", "display_name": "angel", "link": "https://stackoverflow.com/users/7238339/angel"}, "edited": false, "score": 0, "creation_date": 1514054443, "post_id": 47954721, "comment_id": 82879453, "body": "Thanks !!  :)  just edited my question."}], "answers": [{"tags": [], "owner": {"reputation": 2018, "user_id": 5562711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmKEn.jpg?s=128&g=1", "display_name": "Omar El Halabi", "link": "https://stackoverflow.com/users/5562711/omar-el-halabi"}, "is_accepted": true, "score": 1, "last_activity_date": 1514055772, "creation_date": 1514055772, "answer_id": 47955173, "question_id": 47954721, "link": "https://stackoverflow.com/questions/47954721/recyclerview-with-kotlin-in-new-class/47955173#47955173", "title": "recyclerView with Kotlin in new class", "body": "<p>The problem is that <code>NewClass</code> need some way to know the <code>recyclerView</code> and the <code>Context</code> (or Activity) to work on, so they should be passed to the class. You can do so by doing the following</p>\n\n<pre><code>class NewClass (val recyclerView: RecyclerView, val context: Context) {\n\n    val rowsList = ArrayList&lt;RowFromModel&gt;() \n    val layoutManager = LinearLayoutManager(context) \n    val adapter = RowListAdapter(rowsList, context)\n\n    // load data\n    var model = TableViewModel()\n\n    var dataFromModel: ArrayList&lt;String&gt; = model.data \n    val rowFromModel = RowFromModel()\n\n    init {\n        // this will be called after the constructor is called\n        recyclerView.layoutManager = layoutManager \n        recyclerView.adapter = adapter \n\n        for (i in 0..dataFromModel.size - 1) {\n            val rowFromModel = RowFromModel()\n            rowFromModel.row = dataFromModel[i]\n            rowsList.add(rowFromModel)\n        }\n\n        adapter.notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>and then in your <code>MainActivity</code>'s <code>onCreate()</code>, you can do the following</p>\n\n<pre><code>var newClass: NewClass = NewClass(rowsListRv, this)\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 75, "user_id": 7238339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58737fda036bf1e4fe365a18471544f2?s=128&d=identicon&r=PG&f=1", "display_name": "angel", "link": "https://stackoverflow.com/users/7238339/angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 47955173, "answer_count": 1, "score": 0, "last_activity_date": 1514055772, "creation_date": 1514051861, "last_edit_date": 1514054770, "question_id": 47954721, "link": "https://stackoverflow.com/questions/47954721/recyclerview-with-kotlin-in-new-class", "title": "recyclerView with Kotlin in new class", "body": "<p>have created a recyclerView with Kotlin on mainActivity. </p>\n\n<p>it works just fine.</p>\n\n<p>I would like now to transfer my code to a new class Call that class from MainActivity and activate the recyclerView that way. </p>\n\n<p>Called that class at mainActivity, but apperantly that is not enough\u2026</p>\n\n<pre><code>var newClass: NewClass = NewClass()\n</code></pre>\n\n<p>How do I call a class with a <code>recyclerView</code> or how to activate it ?</p>\n\n<p>Added the call for newClass. Would like to remove all of these lines.</p>\n\n<p>Thank you</p>\n\n<p>This is my code at onCreate:</p>\n\n<pre><code>enter code here\n\nvar newClass: NewClass = NewClass()\n\n\nrowsList = ArrayList&lt;RowFromModel&gt;()\nlayoutManager = LinearLayoutManager(this)\nadapter = RowListAdapter(rowsList!!, this)\n\nrowsListRv.layoutManager = layoutManager\nrowsListRv.adapter = adapter\n\n//load data\nvar model = TableViewModel()\n\nvar dataFromModel: ArrayList&lt;String&gt; = model.getData()\nfor (i in 0..dataFromModel.size - 1) {\n    val rowFromModel = RowFromModel()\n    rowFromModel.row = dataFromModel.get(i)\n    rowsList!!.add(rowFromModel)\n}\n\nadapter!!.notifyDataSetChanged()\nenter code here\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-3.0", "android-studio-3.1"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 1823993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeca27dae5cd1a8daf37b398875fb700?s=128&d=identicon&r=PG", "display_name": "Hanif", "link": "https://stackoverflow.com/users/1823993/hanif"}, "edited": false, "score": 0, "creation_date": 1571154997, "post_id": 47954491, "comment_id": 103142557, "body": "should this be done manually for every live template? How to apply this for all templates?"}], "tags": [], "owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "is_accepted": false, "score": 1, "last_activity_date": 1514049868, "creation_date": 1514049868, "answer_id": 47954491, "question_id": 47954392, "link": "https://stackoverflow.com/questions/47954392/android-studio-shortcut-for-autocomplete-toastkotlin/47954491#47954491", "title": "Android Studio shortcut for autocomplete Toast(Kotlin)", "body": "<p>This is not an exact answer for your question but if you are using the <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">anko</a>\nlibrary from Jetbrains (and why wouldn't you?) you can simply show a toast with the line <code>toast(\"some text\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 1598, "user_id": 2829308, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/VSAzo.jpg?s=128&g=1", "display_name": "gitter", "link": "https://stackoverflow.com/users/2829308/gitter"}, "is_accepted": true, "score": 19, "last_activity_date": 1514051100, "creation_date": 1514051100, "answer_id": 47954641, "question_id": 47954392, "link": "https://stackoverflow.com/questions/47954392/android-studio-shortcut-for-autocomplete-toastkotlin/47954641#47954641", "title": "Android Studio shortcut for autocomplete Toast(Kotlin)", "body": "<p>Go to <code>Settings</code> > <code>Live Templates</code>. Under <code>Android</code>, find <code>Toast</code> and select it. At the bottom of settings dialog, it says <code>Applicable in Java</code>. Click <code>Change</code> button next to it and select <code>Statement</code> under <code>Kotlin</code>. Done.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2530, "favorite_count": 1, "accepted_answer_id": 47954641, "answer_count": 2, "score": 8, "last_activity_date": 1514453243, "creation_date": 1514049068, "last_edit_date": 1514049377, "question_id": 47954392, "link": "https://stackoverflow.com/questions/47954392/android-studio-shortcut-for-autocomplete-toastkotlin", "title": "Android Studio shortcut for autocomplete Toast(Kotlin)", "body": "<p>I have a problem with the newest version of Android Studio(> 3) to use the autocomplete for Toast with Kotlin.</p>\n\n<p>In older versions with Java, it was like typing \"Toast\", then pushing \"Tab\" button on keyboard to autocomplete this.</p>\n\n<p>Now, in the versions of Android Studio > 3 and Kotlin it is not working.</p>\n\n<p>Anyone know how to achive this?</p>\n"}, {"tags": ["java", "spring", "spring-mvc", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "reply_to_user": {"reputation": 1559, "user_id": 8198203, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6570af0c9b22f739dc2e6136a0f6a6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Frischling", "link": "https://stackoverflow.com/users/8198203/frischling"}, "edited": false, "score": 1, "creation_date": 1528311814, "post_id": 47954356, "comment_id": 88463609, "body": "@Frischling thank you but it&#39;s not a duplicate, using <code>ServerResponse</code> doesn&#39;t work when using annotation-based controllers and request mappings. See: <a href=\"https://stackoverflow.com/a/50026023\">stackoverflow.com/a/50026023</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": true, "score": 3, "last_activity_date": 1528313093, "creation_date": 1528313093, "answer_id": 50728100, "question_id": 47954356, "link": "https://stackoverflow.com/questions/47954356/how-to-stream-binary-data-in-a-response-body-in-spring-webflux/50728100#50728100", "title": "How to stream binary data in a response body in Spring WebFlux", "body": "<p>For now, the best solution that I have found is to return a <code>ServerHttpResponse</code>.</p>\n\n<p>Since <code>ServerHttpResponse</code> only allows to write <code>DataBuffer</code> objects but not <code>ByteArray</code> objects, I made an extension function that wraps them before writing:</p>\n\n<pre><code>fun ServerHttpResponse.writeByteArrays(bytes: Flux&lt;ByteArray&gt;): Mono&lt;Void&gt; {\n    val factory = this.bufferFactory()\n    val dataBuffers = bytes.map { factory.wrap(it) }\n    return this.writeWith(dataBuffers)\n}\n</code></pre>\n\n<p>Then a <code>Flux&lt;ByteArray&gt;</code> can simply be written like this:</p>\n\n<pre><code>@GetMapping(\"/video\")\nfun stream2(response: ServerHttpResponse): Mono&lt;Void&gt; {\n    val videoParts: Flux&lt;ByteArray&gt; = ...\n    return response.writeByteArrays(videoParts)\n}\n</code></pre>\n\n<p>I am still open to other solutions.</p>\n"}, {"comments": [{"owner": {"reputation": 1202, "user_id": 2739681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a876a6dff1c12459aa7e9c244d2cb04?s=128&d=identicon&r=PG&f=1", "display_name": "PeMa", "link": "https://stackoverflow.com/users/2739681/pema"}, "edited": false, "score": 0, "creation_date": 1592819444, "post_id": 62471581, "comment_id": 110550884, "body": "My bad, I didn&#39;t have time testing this approach. Still if you downvote, please leave a comment. Maybe I can improve my answer."}], "tags": [], "owner": {"reputation": 1202, "user_id": 2739681, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a876a6dff1c12459aa7e9c244d2cb04?s=128&d=identicon&r=PG&f=1", "display_name": "PeMa", "link": "https://stackoverflow.com/users/2739681/pema"}, "is_accepted": false, "score": -1, "last_activity_date": 1592574088, "creation_date": 1592574088, "answer_id": 62471581, "question_id": 47954356, "link": "https://stackoverflow.com/questions/47954356/how-to-stream-binary-data-in-a-response-body-in-spring-webflux/62471581#62471581", "title": "How to stream binary data in a response body in Spring WebFlux", "body": "<p>A little bit late. However, scanning the recent documentation of Spring core and Webflux, I think the following should work:</p>\n\n<pre><code>@GetMapping(\"/stream/{path}\")\npublic Flux&lt;DataBuffer&gt; getVideo(\n        @PathVariable(\"path\") String path,\n        ServerHttpResponse response\n) {\n    return DataBufferUtils.read(\n            new FileSystemResource(path),\n            response.bufferFactory(),\n            512\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3558, "favorite_count": 3, "accepted_answer_id": 50728100, "answer_count": 2, "score": 10, "last_activity_date": 1592574088, "creation_date": 1514048739, "last_edit_date": 1514235155, "question_id": 47954356, "link": "https://stackoverflow.com/questions/47954356/how-to-stream-binary-data-in-a-response-body-in-spring-webflux", "title": "How to stream binary data in a response body in Spring WebFlux", "body": "<p>I am making a project using Spring WebFlux.</p>\n\n<p>In the past I had used <code>StreamingResponseBody</code> for streaming responses back to the client, but I can't find the equivalent in WebFlux.</p>\n\n<p>Example:</p>\n\n<pre><code>import org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;\n\n@GetMapping(\"/video\")\npublic StreamingResponseBody stream() {\n    InputStream videoStream = ...\n    StreamingResponseBody res = (os) -&gt; { IOUtils.copy(videoStream, os); }\n    return res;\n}\n</code></pre>\n\n<p>Is there an equivalent of <code>StreamingResponseBody</code> for WebFlux? or, should I import the traditional Spring MVC and mix them?</p>\n\n<p><strong>Edit</strong>: So far I am solving it by accessing the <code>ServerHttpResponse</code> (example below). But I am still wondering about better solutions.</p>\n\n<pre><code>@GetMapping(\"/video\")\nfun stream2(response: ServerHttpResponse): Mono&lt;Void&gt; {\n    val factory = response.bufferFactory()\n    val publisher = videoStream\n            .observeVideoParts()\n            .map { factory.wrap(it.bytes) }\n    return response.writeWith(publisher)\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2", "rx-kotlin2"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1514048271, "post_id": 47953791, "comment_id": 82877810, "body": "It&#39;s an extension function on <code>Iterable&lt;Observable&lt;T&gt;&gt;</code>. Do <code>listOfObservables.combineLatest { ... }</code>"}, {"owner": {"reputation": 2170, "user_id": 1067763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d263d1041eab408df7ef04394e2f5b4c?s=128&d=identicon&r=PG", "display_name": "Herrbert74", "link": "https://stackoverflow.com/users/1067763/herrbert74"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1514068346, "post_id": 47953791, "comment_id": 82882530, "body": "That was it, thanks. You could write an answer."}], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 6, "last_activity_date": 1514328101, "last_edit_date": 1514328101, "creation_date": 1514228614, "answer_id": 47971299, "question_id": 47953791, "link": "https://stackoverflow.com/questions/47953791/how-to-use-rxjava2-combinelatest-with-a-list-of-observables-in-kotlin/47971299#47971299", "title": "How to use RxJava2 combineLatest with a list of observables in Kotlin", "body": "<p>Most static functions in RxJava are extension functions in RxKotlin. This particular function is an extension on <code>Iterable&lt;Observable&lt;T&gt;&gt;</code>. You can call it like this:</p>\n\n<pre><code>listOfObservables.combineLatest { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1518790462, "last_edit_date": 1518790462, "creation_date": 1514264059, "answer_id": 47974009, "question_id": 47953791, "link": "https://stackoverflow.com/questions/47953791/how-to-use-rxjava2-combinelatest-with-a-list-of-observables-in-kotlin/47974009#47974009", "title": "How to use RxJava2 combineLatest with a list of observables in Kotlin", "body": "<pre><code>val list = Arrays.asList(Observable.just(1), Observable.just(\"2\"))\nObservable.combineLatest(list, object : FuncN&lt;String&gt;() {\n    fun call(vararg args: Any): String {\n        var concat = \"\"\n        for (value in args) {\n            if (value is Int) {\n                concat += value\n            } else if (value is String) {\n                concat += value\n            }\n        }\n        return concat\n    }\n})\n</code></pre>\n\n<p>Observable.just(1), Observable.just(\"2\") can be replaced with list of observable and login inside call fun will also changed as per requirements.</p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 5157134, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-_Z3bSS_SElA/AAAAAAAAAAI/AAAAAAAAAB8/Ap-miLvg6FI/photo.jpg?sz=128", "display_name": "alireza rahmaty", "link": "https://stackoverflow.com/users/5157134/alireza-rahmaty"}, "is_accepted": false, "score": 5, "last_activity_date": 1544644243, "creation_date": 1544644243, "answer_id": 53750387, "question_id": 47953791, "link": "https://stackoverflow.com/questions/47953791/how-to-use-rxjava2-combinelatest-with-a-list-of-observables-in-kotlin/53750387#53750387", "title": "How to use RxJava2 combineLatest with a list of observables in Kotlin", "body": "<p>for RxJava 2 this could be done in this way</p>\n\n<pre><code>    val list = Arrays.asList(\n            remoteRepository.getHospitals(),\n            remoteRepository.getQuestionCategories(),\n            remoteRepository.getQuestions(),\n\n    )\n\n\n    return Observable.combineLatest(list) {\n\n        val hospitals = it[0] as List&lt;Hospital&gt;\n\n        val questionCategories = it[1] as List&lt;QuestionCategory&gt;\n        val questions = it[2] as List&lt;Question&gt;\n\n\n        localRepository.insertHospitals(hospitals)\n        localRepository.insertQuestionCategories(questionCategories)\n        localRepository.insertQuestions(questions)\n\n\n        if (hospitals.isNotEmpty())\n            Constants.STATUS_OK\n        else\n            Constants.STATUS_ERROR\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 2170, "user_id": 1067763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d263d1041eab408df7ef04394e2f5b4c?s=128&d=identicon&r=PG", "display_name": "Herrbert74", "link": "https://stackoverflow.com/users/1067763/herrbert74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3908, "favorite_count": 1, "accepted_answer_id": 47971299, "answer_count": 3, "score": 3, "last_activity_date": 1544644243, "creation_date": 1514043644, "question_id": 47953791, "link": "https://stackoverflow.com/questions/47953791/how-to-use-rxjava2-combinelatest-with-a-list-of-observables-in-kotlin", "title": "How to use RxJava2 combineLatest with a list of observables in Kotlin", "body": "<p>I know how to do this in <a href=\"https://stackoverflow.com/questions/38811923/how-to-use-rxjava-combinelatest-operator-with-more-than-9-observables\">RxJava 2</a>.</p>\n\n<p>And I know how <a href=\"https://stackoverflow.com/questions/42725749/observable-combinelatest-type-inference-in-kotlin\">RxKotlin</a> helps with similar issues.</p>\n\n<p>But it seems that RxKotlin.Observables doesn't have this helper function for the list overload and I cannot figure it out. How would you do this?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1514038579, "post_id": 47953206, "comment_id": 82875700, "body": "<code>savedInstanceState: Bundle</code> are Nullable even in Java."}, {"owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "edited": false, "score": 0, "creation_date": 1514046500, "post_id": 47953206, "comment_id": 82877419, "body": "It worked. Thank you. I just don&#39;t understand why autogenerated code gives type Bundle instead of Bundle?. It&#39;s confusing sometimes."}], "tags": [], "owner": {"reputation": 1202, "user_id": 7339411, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HMG7B.png?s=128&g=1", "display_name": "Curio", "link": "https://stackoverflow.com/users/7339411/curio"}, "is_accepted": true, "score": 2, "last_activity_date": 1514039244, "last_edit_date": 1514039244, "creation_date": 1514038535, "answer_id": 47953206, "question_id": 47953150, "link": "https://stackoverflow.com/questions/47953150/how-to-replace-framelayout-in-activity-with-a-fragment/47953206#47953206", "title": "How to replace FrameLayout in Activity with a fragment?", "body": "<p>The error says: <strong>Parameter specified as non-null is null</strong>: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter <strong>savedInstanceState</strong>. Then savedInstanceState can be null and so you have to add ? after Bundle in your fragment.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_blank, container, false)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 2130708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6HkO.jpg?s=128&g=1", "display_name": "Sijansd", "link": "https://stackoverflow.com/users/2130708/sijansd"}, "is_accepted": false, "score": 0, "last_activity_date": 1514045020, "creation_date": 1514045020, "answer_id": 47953954, "question_id": 47953150, "link": "https://stackoverflow.com/questions/47953150/how-to-replace-framelayout-in-activity-with-a-fragment/47953954#47953954", "title": "How to replace FrameLayout in Activity with a fragment?", "body": "<p>Please use <code>AppCompatActivity</code> instead of <code>Activity</code> and import <code>import android.support.v4.app.Fragment</code> instead of <code>import android.app.Fragment</code>\nfor <code>BlankFragment</code> fragment and replace <code>fragmentManager</code> with <code>supportFragmentManager</code> it works perfectly.</p>\n\n<p>Here is your modified code</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    var manager = supportFragmentManager\n    var fragment : Fragment? = manager.findFragmentById(R.id.lll)\n    if(fragment == null){\n        fragment = BlankFragment()\n        manager.beginTransaction().replace(R.id.lll,fragment).commit()\n    }\n  }\n}\n</code></pre>\n\n<p>and fragment</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.annotation.Nullable\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass BlankFragment : Fragment() {\n\n// TODO: Rename and change types of parameters\nprivate var mParam1: String? = null\nprivate var mParam2: String? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    if (arguments != null) {\n        mParam1 = arguments.getString(ARG_PARAM1)\n        mParam2 = arguments.getString(ARG_PARAM2)\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, @Nullable container: ViewGroup?, @Nullable savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater?.inflate(R.layout.fragment_blank, container, false)\n}\n\ncompanion object {\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private val ARG_PARAM1 = \"param1\"\n    private val ARG_PARAM2 = \"param2\"\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment BlankFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    fun newInstance(param1: String, param2: String): BlankFragment {\n        val fragment = BlankFragment()\n        val args = Bundle()\n        args.putString(ARG_PARAM1, param1)\n        args.putString(ARG_PARAM2, param2)\n        fragment.arguments = args\n        return fragment\n    }\n }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 6321700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ThyXm4Te_Hc/AAAAAAAAAAI/AAAAAAAAAPc/5IYlDo3xh5k/photo.jpg?sz=128", "display_name": "Mandar Sadye", "link": "https://stackoverflow.com/users/6321700/mandar-sadye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2222, "favorite_count": 0, "accepted_answer_id": 47953206, "answer_count": 2, "score": 0, "last_activity_date": 1514045020, "creation_date": 1514037981, "last_edit_date": 1514038193, "question_id": 47953150, "link": "https://stackoverflow.com/questions/47953150/how-to-replace-framelayout-in-activity-with-a-fragment", "title": "How to replace FrameLayout in Activity with a fragment?", "body": "<p>I am a newbie to Android and was just trying to implement the fragments by referring the online tutorial. \nI am getting an error on the first line of Fragment.kt. I followed all steps perfectly as shown and even tried to search for error on google but nothing seems to be working for me.The error I am getting is as follows.</p>\n\n<pre><code>12-23 19:15:53.369 11656-11656/com.example.mandar.testapp E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                             Process: com.example.mandar.testapp, PID: 11656\n                                                                             java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mandar.testapp/com.example.mandar.testapp.MainActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                                 at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2687)\n                                                                                 at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2753)\n                                                                                 at android.app.ActivityThread.access$1100(ActivityThread.java:186)\n                                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:111)\n                                                                                 at android.os.Looper.loop(Looper.java:238)\n                                                                                 at android.app.ActivityThread.main(ActivityThread.java:6016)\n                                                                                 at java.lang.reflect.Method.invoke(Native Method)\n                                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:937)\n                                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:798)\n                                                                              Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                                 at com.example.mandar.testapp.BlankFragment.onCreateView(BlankFragment.kt:0)\n                                                                                 at android.app.Fragment.performCreateView(Fragment.java:2236)\n                                                                                 at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:986)\n                                                                                 at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1161)\n                                                                                 at android.app.BackStackRecord.run(BackStackRecord.java:800)\n                                                                                 at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1575)\n                                                                                 at android.app.FragmentController.execPendingActions(FragmentController.java:325)\n                                                                                 at android.app.Activity.performStart(Activity.java:6481)\n                                                                                 at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2650)\n                                                                                 at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2753)\u00a0\n                                                                                 at android.app.ActivityThread.access$1100(ActivityThread.java:186)\u00a0\n                                                                                 at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\u00a0\n                                                                                 at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n                                                                                 at android.os.Looper.loop(Looper.java:238)\u00a0\n                                                                                 at android.app.ActivityThread.main(ActivityThread.java:6016)\u00a0\n                                                                                 at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                 at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:937)\u00a0\n                                                                                 at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:798)\u00a0\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>package com.example.mandar.testapp\n\nimport android.app.Activity\nimport android.app.Fragment\nimport android.os.Bundle\n\nclass MainActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var manager = fragmentManager\n        var fragment : Fragment? = manager.findFragmentById(R.id.lll)\n        if(fragment == null){\n            fragment = BlankFragment()\n            manager.beginTransaction().replace(R.id.lll,fragment).commit()\n        }\n    }\n}\n</code></pre>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.mandar.testapp.MainActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/lll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;/FrameLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>BlankFragment.kt</p>\n\n<pre><code>package com.example.mandar.testapp\n\n\nimport android.os.Bundle\nimport android.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\n\n/**\n * A simple [Fragment] subclass.\n * Use the [BlankFragment.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass BlankFragment : Fragment() {\n\n    // TODO: Rename and change types of parameters\n    private var mParam1: String? = null\n    private var mParam2: String? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (arguments != null) {\n            mParam1 = arguments.getString(ARG_PARAM1)\n            mParam2 = arguments.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_blank, container, false)\n    }\n\n    companion object {\n        // TODO: Rename parameter arguments, choose names that match\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n        private val ARG_PARAM1 = \"param1\"\n        private val ARG_PARAM2 = \"param2\"\n\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @param param1 Parameter 1.\n         * @param param2 Parameter 2.\n         * @return A new instance of fragment BlankFragment.\n         */\n        // TODO: Rename and change types and number of parameters\n        fun newInstance(param1: String, param2: String): BlankFragment {\n            val fragment = BlankFragment()\n            val args = Bundle()\n            args.putString(ARG_PARAM1, param1)\n            args.putString(ARG_PARAM2, param2)\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n}// Required empty public constructor\n</code></pre>\n\n<p>and fragment_blank.xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.mandar.testapp.BlankFragment\"&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:text=\"@string/hello_blank_fragment\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Any Suggestion why this simple code is not working?\nHere I am replacing FrameLayout lll with fragment.</p>\n"}, {"tags": ["java", "kotlin", "jexl"], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 8668250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13589e5495c0be12f163f10a4e35ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "henrib", "link": "https://stackoverflow.com/users/8668250/henrib"}, "is_accepted": false, "score": 0, "last_activity_date": 1514287911, "creation_date": 1514287911, "answer_id": 47978004, "question_id": 47953062, "link": "https://stackoverflow.com/questions/47953062/jexl3-unabled-to-override-bitwisexor-in-jexlarithemtic/47978004#47978004", "title": "JEXL3 - Unabled to override bitwiseXor in JexlArithemtic?", "body": "<p>In JEXL3, the JexlArithmetic method bitwiseXor has been deprecated (and made final); replacement method is <code>public Object xor(Object left, Object right);</code>.\nNote that with JEXL3, you may want to only add an overload to that method for numbers, ie <code>public Object xor(Number left, Number right);</code>.</p>\n"}], "owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514287911, "creation_date": 1514037183, "question_id": 47953062, "link": "https://stackoverflow.com/questions/47953062/jexl3-unabled-to-override-bitwisexor-in-jexlarithemtic", "title": "JEXL3 - Unabled to override bitwiseXor in JexlArithemtic?", "body": "<p>I use JEXL3 to convert user input as string to a math function, I would like to use <code>^</code> as <code>Math.pow()</code> so I read about extending <code>JexlArithemtic</code> to override <code>bitwiseXor</code> like here: <a href=\"http://apache-commons.680414.n4.nabble.com/JEXL-Evaluating-math-expression-td4112606.html\" rel=\"nofollow noreferrer\">http://apache-commons.680414.n4.nabble.com/JEXL-Evaluating-math-expression-td4112606.html</a></p>\n\n<p>This example is for Jexl2 and I use Jexl3, if I try to override:</p>\n\n<pre><code>class JexlArithmeticWithPow(lenient: Boolean) : JexlArithmetic(lenient) {\n\n    override fun bitwiseXor(left: Any, right: Any): Any { //bitwiseXor is final and cannot be overriden\n        val l = toDouble(left)\n        val r = toDouble(right)\n        return Math.pow(l, r)\n    }\n\n}\n</code></pre>\n\n<p>Is there another possibility to convert <code>^</code>to <code>Math.pow</code> instead of <code>bitwiseXor</code>?</p>\n"}, {"tags": ["java", "kotlin", "jexl"], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 8668250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13589e5495c0be12f163f10a4e35ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "henrib", "link": "https://stackoverflow.com/users/8668250/henrib"}, "is_accepted": false, "score": 0, "last_activity_date": 1514288613, "creation_date": 1514288613, "answer_id": 47978161, "question_id": 47953031, "link": "https://stackoverflow.com/questions/47953031/jexl3-euler-function/47978161#47978161", "title": "JEXL3 - euler function", "body": "<p>Not sure what your question is.\nJEXL does not check variable existence at script creation time; with JEXL3, you can determine which variables are used in a script (JexlScript) by calling the 'getVariables()' method.\nMore specifically, if 'e' is a variable that should always be accessible in your use case, I'd suggest systematically adding it to your context (or override context).</p>\n"}], "owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514288613, "creation_date": 1514036857, "last_edit_date": 1514037414, "question_id": 47953031, "link": "https://stackoverflow.com/questions/47953031/jexl3-euler-function", "title": "JEXL3 - euler function", "body": "<p>Is it possible to parse functions with an <code>e</code> (as the euler function) in it? Such as:</p>\n\n<pre><code>x*e\n</code></pre>\n\n<p>I get <code>undefined variable e</code> with this:</p>\n\n<pre><code>var jexl = JexlBuilder().create()\nvar jexlEpxression = jexl.createExpression(\"x*e\") //still works\nvar jexlContext = MapContext()\njexlContext.set(\"x\",1.0)\njexlExpression.evaluate(jexlContext) // undefined variable e\n</code></pre>\n\n<p>Of course there could be this manual fix:</p>\n\n<pre><code>val containsE = \"x*e\".contains(\"e\")\nif(containsE)\n   jexlContext.set(\"e\",Math.E)\n</code></pre>\n"}, {"tags": ["android", "notifications", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1572485920, "post_id": 47954495, "comment_id": 103578417, "body": "Hi bro, can you share the code for JAVA, I&#39;ve spent a lot of time trying to connect to the service but it doesn&#39;t work even with the permissions enabled for access to notifications. After accepting them the app closes, I have tried many examples and in all the same thing happens, API 28 for Android 9.0"}, {"owner": {"reputation": 700, "user_id": 1208630, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/QBADm.jpg?s=128&g=1", "display_name": "bunny1985", "link": "https://stackoverflow.com/users/1208630/bunny1985"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 1, "creation_date": 1572799589, "post_id": 47954495, "comment_id": 103664273, "body": "Hi. it&#39;s a poor quality old code , but its there on github :<a href=\"https://github.com/bunny1985/Notifier/tree/master/app\" rel=\"nofollow noreferrer\">github.com/bunny1985/Notifier/tree/master/app</a>"}], "tags": [], "owner": {"reputation": 700, "user_id": 1208630, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/QBADm.jpg?s=128&g=1", "display_name": "bunny1985", "link": "https://stackoverflow.com/users/1208630/bunny1985"}, "is_accepted": false, "score": 0, "last_activity_date": 1514049900, "creation_date": 1514049900, "answer_id": 47954495, "question_id": 47952424, "link": "https://stackoverflow.com/questions/47952424/notificationlistenerservice-not-created/47954495#47954495", "title": "NotificationListenerService not created", "body": "<p>Holly.... \nafter rewriting this code to pure Java it works..... but why?</p>\n"}], "owner": {"reputation": 700, "user_id": 1208630, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/QBADm.jpg?s=128&g=1", "display_name": "bunny1985", "link": "https://stackoverflow.com/users/1208630/bunny1985"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514049900, "creation_date": 1514031389, "last_edit_date": 1514033854, "question_id": 47952424, "link": "https://stackoverflow.com/questions/47952424/notificationlistenerservice-not-created", "title": "NotificationListenerService not created", "body": "<p>Maybe stupid question, but I have already spent to many hours on this. \nI have my Kotlin listener:</p>\n\n<pre><code>package pl.bmideas.michal.bmnotifier\n\npublic class MyNotificationListener : NotificationListenerService() {\n\n\n    private var apiService :BackendApi? = null;\n\n    override fun onCreate() {\n        Log.i(\"MyNotificationListener\" , \"Creating NotificationListenerService service\")\n        super.onCreate()\n        (.........SOMETHING ELSE..............)\n    }\n\n\n    override fun onDestroy() {\n        super.onDestroy()\n        Log.i(TAG, \"DESTROING\")\n        (.........SOMETHING ELSE..............)\n    }\n\n    override fun onNotificationRemoved(sbn: StatusBarNotification) {\n        val sbnInfo = StatusBarNotificationExtended(sbn)\n        Log.i(TAG, \"REMOVED\")\n    }\n\n    override fun onNotificationPosted(sbn: StatusBarNotification) {\n        Log.i(TAG, \"RECIVED`\")\n        (.........SOMETHING ELSE..............)\n    }\n    companion object {\n       var TAG = \"MyNotificationListener\"\n    }\n\n\n}\n</code></pre>\n\n<p>and my config looks looks this:</p>\n\n<pre><code>&lt;service\n            android:enabled=\"true\"\n            android:name=\"pl.bmideas.michal.bmnotifier.MyNotificationListener\"\n            android:label=\"@string/service_name\"\n            android:permission=\"android.permission.BIND_NOTIFICATION_LISTENER_SERVICE\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.service.notification.NotificationListenerService\" /&gt;\n            &lt;/intent-filter&gt;\n &lt;/service&gt;\n</code></pre>\n\n<p>I'm not doing anything special in Activity.     </p>\n\n<p>Yes - I've checked security option and my app has access to notifications.</p>\n\n<p>Yes - I've tried pointing to service by dot instead of full package </p>\n\n<p>In logcat I can only see:</p>\n\n<pre><code>12-23 12:56:54.989 889-889/? V/NotificationListeners: enabling notification listener for 0:  \nComponentInfo{pl.bmideas.michal.bmnotifier/pl.bmideas.michal.bmnotifier.MyNotificationListener}\n</code></pre>\n\n<p>I cant get instance unless i will bidn to this service in Activity wchich creates the service but still I get no info in logcat about notifications. </p>\n\n<p>Can you guys help?</p>\n"}, {"tags": ["android", "view", "kotlin"], "comments": [{"owner": {"reputation": 2958, "user_id": 3874721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yKbYg.jpg?s=128&g=1", "display_name": "Yurii Tsap", "link": "https://stackoverflow.com/users/3874721/yurii-tsap"}, "edited": false, "score": 2, "creation_date": 1514026035, "post_id": 47951810, "comment_id": 82873031, "body": "Not sure what you are trying to achieve, but starting a new activity directly from your view is probably not the best approach. The first thing that I can think about - you can create a listener and pass it from holding activity to your view. And afterwards just pass needed values through your intent to another activity."}, {"owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "reply_to_user": {"reputation": 2958, "user_id": 3874721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yKbYg.jpg?s=128&g=1", "display_name": "Yurii Tsap", "link": "https://stackoverflow.com/users/3874721/yurii-tsap"}, "edited": false, "score": 0, "creation_date": 1514026091, "post_id": 47951810, "comment_id": 82873050, "body": "I don&#39;t want to start a new activity, I just want to let the current MainUI Acitivty know that it has to calculate stuff and update UI-controls."}, {"owner": {"reputation": 2958, "user_id": 3874721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yKbYg.jpg?s=128&g=1", "display_name": "Yurii Tsap", "link": "https://stackoverflow.com/users/3874721/yurii-tsap"}, "edited": false, "score": 1, "creation_date": 1514026135, "post_id": 47951810, "comment_id": 82873067, "body": "So what is bad about defining a listener?"}, {"owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "reply_to_user": {"reputation": 2958, "user_id": 3874721, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yKbYg.jpg?s=128&g=1", "display_name": "Yurii Tsap", "link": "https://stackoverflow.com/users/3874721/yurii-tsap"}, "edited": false, "score": 0, "creation_date": 1514026160, "post_id": 47951810, "comment_id": 82873072, "body": "I didn&#39;t know about a listener until now - I will have a look at it."}, {"owner": {"reputation": 542, "user_id": 3767877, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000281244803/picture?type=large", "display_name": "Amit Kaushik", "link": "https://stackoverflow.com/users/3767877/amit-kaushik"}, "edited": false, "score": 0, "creation_date": 1514027637, "post_id": 47951810, "comment_id": 82873359, "body": "I think you can simply keep your bounds as field in activity and define a private method <code>onBoundsUpdated(upperBound,lowerBound)</code> in activity and compare bounds with fields if they have changed or not and do what ever you want to do with your activity."}], "answers": [{"tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": false, "score": 0, "last_activity_date": 1514124744, "creation_date": 1514124744, "answer_id": 47961299, "question_id": 47951810, "link": "https://stackoverflow.com/questions/47951810/android-trigger-mainactivity-to-do-something-from-custom-view/47961299#47961299", "title": "Android - Trigger MainActivity to do something from custom View", "body": "<p>As already recommended in the comments I'll go a little bit deeper in \"hot to use a listener\".</p>\n\n<p>First of all, a \"Listener\" is nothing more than a <code>interface</code> which get called if something happen elsewhere. The best example is the <a href=\"https://developer.android.com/reference/android/view/View.html#setOnClickListener(android.view.View.OnClickListener)\" rel=\"nofollow noreferrer\"><code>View.setOnClickListener(View)</code></a>. </p>\n\n<p>How to use that in your case?</p>\n\n<p>Simply define a <code>interface</code> (best location is here inside your custom View):</p>\n\n<pre><code>interface OnBoundsUpdatedListener {\n  fun onBoundsUpdated(upperBound: Int, lowerBound: Int)\n}\n</code></pre>\n\n<p>Then you have to create a property in your <code>CustomView</code> and call the Listener if the bounds have changed :</p>\n\n<pre><code>// Constructor and stuff\nval onBoundsUpdateListener: OnBoundsUpdatedListener? = null\n\n\noverride fun onTouchEvent(event: MotionEvent?): Boolean {\n...\nonBoundsUpdateListener?.onBoundsUpdated(upperBound, lowerBound)\n...\n}\n</code></pre>\n\n<p>In your <code>Activtiy</code> you can find that View and set the listener:</p>\n\n<pre><code>val myCustomView = findViewById&lt;MyCustomView&gt;(R.id.id_of_your_customview)\nmyCustomView.onBoundsUpdateListener = object : OnBoundsUpdatedListener {\n    override fun onBoundsUpdated(upperBound, lowerBound) {\n       // Get called if its called in your CustomView\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Note: The code can be simplified. But that is the basic stuff \ud83d\ude09</p>\n</blockquote>\n"}], "owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1514128898, "creation_date": 1514025766, "last_edit_date": 1514128898, "question_id": 47951810, "link": "https://stackoverflow.com/questions/47951810/android-trigger-mainactivity-to-do-something-from-custom-view", "title": "Android - Trigger MainActivity to do something from custom View", "body": "<p>I would like to let my <code>MainActivity</code> know that there is something to do (e.g. calculate stuff) from a custom <code>View</code>. The <code>View</code> detects user inputs through touch and the MainActivity has to update certain user controls with a calculation from those <code>View</code>-Values. Basically I did an override on <code>onTouchEvent</code>:</p>\n\n<pre><code>override fun onTouchEvent(event: MotionEvent?): Boolean {\n    val x = event?.x\n    val y = event?.y\n\n    val dX = x?.minus(prevX)\n    val dY = y?.minus(prevY)\n    if(dX!! &gt; 0){\n        lowerBound = x.toInt()\n    } else{\n        upperBound = x.toInt()\n    }\n\n    prevX = x!!.toInt()\n    prevY = y!!.toInt()\n    this.invalidate() //tell view to redraw\n    return true\n}\n</code></pre>\n\n<p>How can I let <code>MainActivity</code>know that <code>lowerBound</code> and <code>upperBound</code> updated?</p>\n"}, {"tags": ["android", "kotlin", "floating-action-button"], "comments": [{"owner": {"reputation": 461, "user_id": 5990846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nLq8yPuDPic/AAAAAAAAAAI/AAAAAAAAAE0/g0JqD8k91y0/photo.jpg?sz=128", "display_name": "Jay", "link": "https://stackoverflow.com/users/5990846/jay"}, "edited": false, "score": 2, "creation_date": 1514023080, "post_id": 47951471, "comment_id": 82872406, "body": "Use <code>app:backgroundTint</code> with namespace <code>xmlns:app=&quot;http:&#47;&#47;schemas.android.com&#47;apk&#47;res-auto&quot;</code> instead of <code>android:background</code>(remove this attribute)"}, {"owner": {"reputation": 461, "user_id": 5990846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nLq8yPuDPic/AAAAAAAAAAI/AAAAAAAAAE0/g0JqD8k91y0/photo.jpg?sz=128", "display_name": "Jay", "link": "https://stackoverflow.com/users/5990846/jay"}, "reply_to_user": {"reputation": 2447, "user_id": 6676466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aVqkA.jpg?s=128&g=1", "display_name": "Vishal Chhodwani", "link": "https://stackoverflow.com/users/6676466/vishal-chhodwani"}, "edited": false, "score": 1, "creation_date": 1514023477, "post_id": 47951471, "comment_id": 82872486, "body": "@VishalChhodwani ~ I&#39;m specifically talking about <b>app:backgroundTint</b>; not <i>android:backgroundTint</i>.  ( \u0361&#176; \u035c\u0296 \u0361&#176;)"}, {"owner": {"reputation": 2447, "user_id": 6676466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aVqkA.jpg?s=128&g=1", "display_name": "Vishal Chhodwani", "link": "https://stackoverflow.com/users/6676466/vishal-chhodwani"}, "edited": false, "score": 0, "creation_date": 1514023664, "post_id": 47951471, "comment_id": 82872514, "body": "I also talking about <code>app:backgroundTint</code> not <code>android:backgroundTint</code>."}, {"owner": {"reputation": 461, "user_id": 5990846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nLq8yPuDPic/AAAAAAAAAAI/AAAAAAAAAE0/g0JqD8k91y0/photo.jpg?sz=128", "display_name": "Jay", "link": "https://stackoverflow.com/users/5990846/jay"}, "edited": false, "score": 1, "creation_date": 1514023956, "post_id": 47951471, "comment_id": 82872547, "body": "Damn, did you even read his <code>build.gradle</code> ? He&#39;s targeting 23+ devices and also we use <code>app</code> attributes to provide back-compatibility. Stop wasting your time."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9109787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R5WiW.jpg?s=128&g=1", "display_name": "Kautik Patel", "link": "https://stackoverflow.com/users/9109787/kautik-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1514030847, "last_edit_date": 1514030847, "creation_date": 1514024587, "answer_id": 47951666, "question_id": 47951471, "link": "https://stackoverflow.com/questions/47951471/floatingactionbutton-setting-a-custom-background-is-not-supported/47951666#47951666", "title": "FloatingActionButton: Setting a custom background is not supported", "body": "<p>Use below attribute for Background</p>\n\n<pre><code>&lt;android.support.design.widget.FloatingActionButton\n    ...\n    app:backgroundTint=\"@color/ic_action\"\n    android:src=\"@drawable/ic_plus\" /&gt;\n</code></pre>\n\n<p>Remove android:backgroundTint</p>\n"}, {"comments": [{"owner": {"reputation": 3248, "user_id": 4412203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3ee3f1010e14c94940a15432eee8e58f?s=128&d=identicon&r=PG&f=1", "display_name": "Dror", "link": "https://stackoverflow.com/users/4412203/dror"}, "edited": false, "score": 1, "creation_date": 1547055490, "post_id": 47951898, "comment_id": 95063936, "body": "actually - the warning message appears even when using the &quot;app&quot; prefix"}], "tags": [], "owner": {"reputation": 51, "user_id": 9065069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65126e576236e225e22a98a6d88e607?s=128&d=identicon&r=PG&f=1", "display_name": "SKR_OVER", "link": "https://stackoverflow.com/users/9065069/skr-over"}, "is_accepted": false, "score": 0, "last_activity_date": 1579891057, "last_edit_date": 1579891057, "creation_date": 1514026594, "answer_id": 47951898, "question_id": 47951471, "link": "https://stackoverflow.com/questions/47951471/floatingactionbutton-setting-a-custom-background-is-not-supported/47951898#47951898", "title": "FloatingActionButton: Setting a custom background is not supported", "body": "<p>This is a stupid error, when use outside system api need use app as namespace instead of android</p>\n\n<p>so the correct code is:</p>\n\n<pre><code>app:backgroundTint=\"#649696\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1514031560, "creation_date": 1514031560, "answer_id": 47952441, "question_id": 47951471, "link": "https://stackoverflow.com/questions/47951471/floatingactionbutton-setting-a-custom-background-is-not-supported/47952441#47952441", "title": "FloatingActionButton: Setting a custom background is not supported", "body": "<blockquote>\n  <p>You need to add <code>app:backgroundTint=\"@color/your_color\"</code> in your fab button to change the background color\n  button</p>\n</blockquote>\n\n<pre><code> &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            app:elevation=\"2dp\"\n            android:layout_margin=\"16dp\"  \n            android:src=\"@drawable/ic_close_black_24dp\"\n            app:backgroundTint=\"@color/colorPrimary\"\n            app:fabSize=\"normal\" /&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 699, "user_id": 829034, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/DgoQU.png?s=128&g=1", "display_name": "Rahul Mandaliya", "link": "https://stackoverflow.com/users/829034/rahul-mandaliya"}, "edited": false, "score": 0, "creation_date": 1561013894, "post_id": 56129868, "comment_id": 99927094, "body": "Don&#39;t set background using android:background. No need to do android:background=&quot;@null&quot;.  If you want to change background color use app:backgroundTint or android:backgroundTint for api 21 and later"}], "tags": [], "owner": {"reputation": 2664, "user_id": 3371707, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hH6y4.png?s=128&g=1", "display_name": "mathew11", "link": "https://stackoverflow.com/users/3371707/mathew11"}, "is_accepted": false, "score": 2, "last_activity_date": 1557834924, "creation_date": 1557834924, "answer_id": 56129868, "question_id": 47951471, "link": "https://stackoverflow.com/questions/47951471/floatingactionbutton-setting-a-custom-background-is-not-supported/56129868#56129868", "title": "FloatingActionButton: Setting a custom background is not supported", "body": "<p>Unfortunately, this warning will be also shown if you don't even set the background or tint. However, to get rid of it, you can set the attribute <code>android:background=\"@null\"</code>, this will ignore it as suggested by a user from the <a href=\"https://github.com/material-components/material-components-android/issues/283\" rel=\"nofollow noreferrer\">official materials github repository</a>. (The reason for this issue is an internal issue, where some of those setters are called, which will probably fixed in a future release of the material design lib)</p>\n"}], "owner": {"reputation": 51, "user_id": 9065069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65126e576236e225e22a98a6d88e607?s=128&d=identicon&r=PG&f=1", "display_name": "SKR_OVER", "link": "https://stackoverflow.com/users/9065069/skr-over"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3946, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1579891057, "creation_date": 1514022841, "question_id": 47951471, "link": "https://stackoverflow.com/questions/47951471/floatingactionbutton-setting-a-custom-background-is-not-supported", "title": "FloatingActionButton: Setting a custom background is not supported", "body": "<pre><code>    &lt;android.support.design.widget.FloatingActionButton\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/insert_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@drawable/add\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_marginBottom=\"20dp\"\n        android:layout_alignBottom=\"@id/list_view\"\n        android:layout_alignRight=\"@id/list_view\"\n        android:background=\"#649696\"\n        /&gt;\n</code></pre>\n\n<p>this code is ok, but add after two line is crask </p>\n\n<pre><code>        android:backgroundTint=\"#649696\"\n        app:rippleColor=\"#FFFFFF\"\n</code></pre>\n\n<p>crash log: </p>\n\n<p>Before Android 4.1, method android.graphics.PorterDuffColorFilter android.support.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\nI/FloatingActionButton: Setting a custom background is not supported.</p>\n\n<p>grade depences:</p>\n\n<pre><code>compileSdkVersion 27\ndefaultConfig {\n    applicationId \"\"\n    minSdkVersion 23\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\n</code></pre>\n\n<p>who can tell me how can i solved this problem</p>\n"}, {"tags": ["android", "kotlin", "currency", "currency-formatting"], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1514007276, "post_id": 47950032, "comment_id": 82869679, "body": "This parameter requires Api N so, it only works on naugat or above it. if you have any  other solution then please suggest me."}], "tags": [], "owner": {"reputation": 2596, "user_id": 6834114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FPD4g.jpg?s=128&g=1", "display_name": "OmiK", "link": "https://stackoverflow.com/users/6834114/omik"}, "is_accepted": false, "score": 2, "last_activity_date": 1514007097, "creation_date": 1514007097, "answer_id": 47950032, "question_id": 47949902, "link": "https://stackoverflow.com/questions/47949902/get-currency-symbol-of-only-one-character-e-g-%e2%82%b9-etc-locale-doesnt-matter/47950032#47950032", "title": "Get Currency symbol of only one character (e.g $,\u20b9, etc) (Locale doesn&#39;t matter) android kotlin", "body": "<p>try to calling default <code>Locale</code> in getSymbol() like  <code>getSymbol(Locale.getDefault(Locale.Category.DISPLAY))</code> check below code</p>\n\n<pre><code>Currency pound = Currency.getInstance(\"GBP\");\npound.getSymbol(Locale.getDefault(Locale.Category.DISPLAY));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1514011050, "post_id": 47950244, "comment_id": 82870289, "body": "No. it doen&#39;t work. it&#39;s returning symbols like US$,CA$,Rs. etc...i want to get $,\u20b9, etc.."}, {"owner": {"reputation": 9, "user_id": 7328857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d9ea5cffc3713b932e0d3f49eb9992?s=128&d=identicon&r=PG&f=1", "display_name": "Vsevolod", "link": "https://stackoverflow.com/users/7328857/vsevolod"}, "reply_to_user": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1514012628, "post_id": 47950244, "comment_id": 82870502, "body": "Well, I don&#39;t understand why. Code above returns $."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1514012933, "post_id": 47950244, "comment_id": 82870552, "body": "i think it&#39;s Because of your default locale is setted as per your default country settings of your mobile. you can test it out by setting different countries like india, japan,etc"}], "tags": [], "owner": {"reputation": 9, "user_id": 7328857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0d9ea5cffc3713b932e0d3f49eb9992?s=128&d=identicon&r=PG&f=1", "display_name": "Vsevolod", "link": "https://stackoverflow.com/users/7328857/vsevolod"}, "is_accepted": false, "score": 0, "last_activity_date": 1514012568, "last_edit_date": 1514012568, "creation_date": 1514009650, "answer_id": 47950244, "question_id": 47949902, "link": "https://stackoverflow.com/questions/47949902/get-currency-symbol-of-only-one-character-e-g-%e2%82%b9-etc-locale-doesnt-matter/47950244#47950244", "title": "Get Currency symbol of only one character (e.g $,\u20b9, etc) (Locale doesn&#39;t matter) android kotlin", "body": "<p>This works fine for me</p>\n\n<pre><code>import android.os.Build\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        count()\n    }\n\n    fun count () {\n        val pound = Currency.getInstance(\"USD\")\n        var str:String\n        str = if(Build.VERSION.SDK_INT &gt;=24) pound.getSymbol(Locale.getDefault(Locale.Category.DISPLAY))\n        else pound.getSymbol(resources.configuration.locale)\n        tvText.text = str\n    }\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9888927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hdZy9.png?s=128&g=1", "display_name": "Elias", "link": "https://stackoverflow.com/users/9888927/elias"}, "is_accepted": false, "score": 0, "last_activity_date": 1590336571, "creation_date": 1590336571, "answer_id": 61988699, "question_id": 47949902, "link": "https://stackoverflow.com/questions/47949902/get-currency-symbol-of-only-one-character-e-g-%e2%82%b9-etc-locale-doesnt-matter/61988699#61988699", "title": "Get Currency symbol of only one character (e.g $,\u20b9, etc) (Locale doesn&#39;t matter) android kotlin", "body": "<p>I simply created this kotlin extension function which isolates the currency symbol if there is one or uses the provided symbol if there isn't one.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Supply the Currency Symbol, e.g. US$, would return $ and IDR would return IDR\nfun String.isolateCurrencySymbol(): String{\n    for (char in this){\n        if (char !in CharRange('A', 'Z')){\n            return char.toString()\n        }\n    }\n    return this\n}\n</code></pre>\n"}], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1590336571, "creation_date": 1514005430, "last_edit_date": 1514007202, "question_id": 47949902, "link": "https://stackoverflow.com/questions/47949902/get-currency-symbol-of-only-one-character-e-g-%e2%82%b9-etc-locale-doesnt-matter", "title": "Get Currency symbol of only one character (e.g $,\u20b9, etc) (Locale doesn&#39;t matter) android kotlin", "body": "<p>i have currency code (e.g. USD,INR,etc...). I want to get symbols of only one letter of those codes (e.g $,\u20b9, etc). i have tried to find many solutions like <a href=\"https://stackoverflow.com/questions/36258511/how-to-get-currency-symbol-by-currency-name\">this</a> but it doesn't works for me. i am using code as below </p>\n\n<pre><code>var pound = Currency.getInstance(\"GBP\");\nvar symbol = pound.getSymbol();\n</code></pre>\n\n<p>but it returns symbols like (Rs., US$, AU$, etc...). i want to get only one character symbol as mentioned above. i know that symbols are dependent on their locale but i want to get symbols independent from their locale.</p>\n"}, {"tags": ["java", "amazon-web-services", "kotlin", "aws-lambda", "amazon-sqs"], "comments": [{"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514063137, "post_id": 47948745, "comment_id": 82881441, "body": "Usually, lambda times out when there is an unhandled error and callback wasn&#39;t called.  Is possible that some parameters are wrong/missing and lambda errors out and cloudwatch doesn&#39;t log it."}, {"owner": {"reputation": 24649, "user_id": 649979, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd64db12316a02401e214249afd8fcb2?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Smith", "link": "https://stackoverflow.com/users/649979/graham-smith"}, "reply_to_user": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514064663, "post_id": 47948745, "comment_id": 82881789, "body": "Is there any way to capture these errors? Try catch with some logging?"}, {"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514065047, "post_id": 47948745, "comment_id": 82881892, "body": "Not familiar with Kotlin but maybe try catch around the lambda.  Is there aws sqs docs for kotlin or java docs.  sendMessage does throw exceptions.  With Kotlin do you have to do callback when exiting lambda function?"}, {"owner": {"reputation": 24649, "user_id": 649979, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd64db12316a02401e214249afd8fcb2?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Smith", "link": "https://stackoverflow.com/users/649979/graham-smith"}, "reply_to_user": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514069062, "post_id": 47948745, "comment_id": 82882673, "body": "I added the response code although that executes ok when the SQS code is commented out. I tried the try/catch but it still times out."}, {"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514069521, "post_id": 47948745, "comment_id": 82882746, "body": "Can you check sqs logs in cloudwatch maybe it shows an error there."}, {"owner": {"reputation": 24649, "user_id": 649979, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd64db12316a02401e214249afd8fcb2?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Smith", "link": "https://stackoverflow.com/users/649979/graham-smith"}, "reply_to_user": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514073214, "post_id": 47948745, "comment_id": 82883356, "body": "Thanks Yan. The logs show no activity. I created a new SQS Queue just in case and there is no activity. I guess this shows that the Java function is not reaching SQS in anyway and it is just timing out. I will create a new Java function tomorrow and make it open source so others can have a play with it and see what results they get."}, {"owner": {"reputation": 3798, "user_id": 879592, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/35cb36d4a390b6d062e8b786903c76b1?s=128&d=identicon&r=PG", "display_name": "Yan", "link": "https://stackoverflow.com/users/879592/yan"}, "edited": false, "score": 0, "creation_date": 1514081718, "post_id": 47948745, "comment_id": 82884399, "body": "Sounds good.   Post back the link. I would like to try java lambda function."}], "answers": [{"tags": [], "owner": {"reputation": 3617, "user_id": 918768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79addf05934a746a7d6c2a065601a77?s=128&d=identicon&r=PG", "display_name": "DALDEI", "link": "https://stackoverflow.com/users/918768/daldei"}, "is_accepted": false, "score": 1, "last_activity_date": 1525736405, "creation_date": 1525736405, "answer_id": 50223858, "question_id": 47948745, "link": "https://stackoverflow.com/questions/47948745/aws-lambda-java-kotlin-send-message-to-sqs/50223858#50223858", "title": "AWS Lambda Java/Kotlin Send Message to SQS", "body": "<p>Check the security groups for outbound and inbound on port 80 and 443 for the sqs endpoint.  You mention node.js is working - but there may be a difference in the configuration.</p>\n"}], "owner": {"reputation": 24649, "user_id": 649979, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bd64db12316a02401e214249afd8fcb2?s=128&d=identicon&r=PG&f=1", "display_name": "Graham Smith", "link": "https://stackoverflow.com/users/649979/graham-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1525736405, "creation_date": 1513988690, "last_edit_date": 1514068934, "question_id": 47948745, "link": "https://stackoverflow.com/questions/47948745/aws-lambda-java-kotlin-send-message-to-sqs", "title": "AWS Lambda Java/Kotlin Send Message to SQS", "body": "<p>I have been using Kotlin to create an AWS Lambda function. The function works well but seems unable to send an SQS message to a FIFO queue. I receive the folowing message in Cloudwatch:</p>\n\n<pre><code>REPORT RequestId: 9119da93-e775-11e7-820a-5bbbb7403f93  Duration: 10010.16 ms   Billed Duration: 10000 ms Memory Size: 128 MB   Max Memory Used: 54 MB  \n\n2017-12-23T00:09:49.483Z 9119da93-e775-11e7-820a-5bbbb7403f93 Task timed out after 10.01 seconds\n</code></pre>\n\n<p>I have rewritten my code to use Node JS and it executes fine and I have the relevant permissions setup for the lambda function, tested via the console permissions simulator for good measure, to put messages on the specified queue. Due to the fact it works completely fine in Node then I have to assume I have something wrong in my Java/Kotlin version.</p>\n\n<p>If I remove the below code the function reaches the end and returns ok. I have tried a variety of methods to create the client (including the deprecated options) and <code>EnvironmentVariableCredentialsProvider</code> and <code>DefaultAWSCredentialsProviderChain</code>.</p>\n\n<p>I have also tried increasing the timeout to 20 seconds however this made no difference either.</p>\n\n<p>Any ideas would be appreciated!</p>\n\n<pre><code>val sqs = AmazonSQSClientBuilder.standard()\n                .withRegion(Regions.US_WEST_2)\n                .withCredentials(DefaultAWSCredentialsProviderChain())\n                .build()\n\nval sendMessageRequest = SendMessageRequest()\n                .withMessageDeduplicationId(\"deduplicationId\")\n                .withMessageGroupId(\"test\")\n                .withQueueUrl(\"https://sqs.us-west-2.amazonaws.com/00000000/test.fifo\")\n                .withMessageBody(\"test\")\n\nval sendResult = sqs.sendMessage(sendMessageRequest)\n</code></pre>\n\n<p>Update: this is the response code back to Lambda. This code seems to work without the call to SQS. I have tried adding a try/catch to the <code>sendMessage()</code> method and the Lambda still times out.</p>\n\n<pre><code>    val responseBody = JsonObject()\n    responseBody.addProperty(\"message\", \"ok\")\n\n    val headerJson = JsonObject()\n    headerJson.addProperty(\"test\", \"test\")\n\n    val responseJson = JsonObject()\n    responseJson.addProperty(\"statusCode\", 200)\n    responseJson.add(\"headers\", headerJson)\n    responseJson.addProperty(\"body\", responseBody.toString())\n\n    val writer = OutputStreamWriter(output, \"UTF-8\")\n    writer.write(responseJson.toString())\n    writer.close()\n</code></pre>\n"}, {"tags": ["delegates", "kotlin"], "comments": [{"owner": {"reputation": 2781, "user_id": 4342124, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d9b755a683ac3bd687b10c61759585f?s=128&d=identicon&r=PG&f=1", "display_name": "dkarmazi", "link": "https://stackoverflow.com/users/4342124/dkarmazi"}, "edited": false, "score": 0, "creation_date": 1513981149, "post_id": 47947841, "comment_id": 82865917, "body": "it sounds like you&#39;re interested in two things happening: <code>nullability</code> and <code>initialization</code>. Does your variable have to be nullable? Do you want to initialize this item once and only once? Also, why do you want <code>var</code> and not <code>val</code> specifically?"}, {"owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "edited": false, "score": 1, "creation_date": 1513981580, "post_id": 47947841, "comment_id": 82866014, "body": "I&#39;m sure someone will post a code on how to implement a custom delegate but I can&#39;t imagine any real life situation where you need to make a lazy property modifiable without compromising encapsulation"}, {"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "reply_to_user": {"reputation": 2781, "user_id": 4342124, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d9b755a683ac3bd687b10c61759585f?s=128&d=identicon&r=PG&f=1", "display_name": "dkarmazi", "link": "https://stackoverflow.com/users/4342124/dkarmazi"}, "edited": false, "score": 0, "creation_date": 1514109574, "post_id": 47947841, "comment_id": 82888455, "body": "@dkarmazi I create a strategy where the default one is <code>DefaultContextProvider</code>. That&#39;s why I use <code>var</code> instead of <code>val</code> so I can change it in runtime. I also want to provide a stub strategy (not to mock the whole class) and test all the things. My test dependencies distinguish from the prod ones so it throws an error when it reaches <code>DefaultContextProvider()</code>. That&#39;s the reason of a lazy init. I set the stub strategy in <code>onSetup</code> before any call to this class and it goes ok except I have to deal with nullability-aware issues."}, {"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "edited": false, "score": 0, "creation_date": 1572110208, "post_id": 47947841, "comment_id": 103462458, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35752575/kotlin-lazy-properties-and-values-reset-a-resettable-lazy-delegate\">Kotlin lazy properties and values reset: a resettable lazy delegate</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "edited": false, "score": 0, "creation_date": 1513981649, "post_id": 47948047, "comment_id": 82866037, "body": "btw lazy() at least implements infamous double checked locking - if you open Lazy.kt source code you&#39;ll see it&#39;s pretty sophisticated"}, {"owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "edited": false, "score": 0, "creation_date": 1513981997, "post_id": 47948047, "comment_id": 82866138, "body": "tbh I thought it will be a reusable custom delegate :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "edited": false, "score": 1, "creation_date": 1513983470, "post_id": 47948047, "comment_id": 82866506, "body": "there you go, not as sophisticated as lazy though ;-)"}, {"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "edited": false, "score": 0, "creation_date": 1514110074, "post_id": 47948047, "comment_id": 82888549, "body": "Shouldn&#39;t we save the value in a backing field here: <code>return if (prop == UNINITIALIZED_VALUE) initializer() else prop as T</code> but not just give it away? Otherwise it runs <code>initializer()</code> every call (until we explicitly set the value)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1514110454, "post_id": 47948047, "comment_id": 82888617, "body": "You&#39;re right, sorry I missed that part, fixed with <code>return if (prop == UNINITIALIZED_VALUE) initializer().also { prop = it } else prop as T </code>"}, {"owner": {"reputation": 4264, "user_id": 1254514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c5a0b9d3116efcc13a842d89ada3988a?s=128&d=identicon&r=PG", "display_name": "Paul Spiesberger", "link": "https://stackoverflow.com/users/1254514/paul-spiesberger"}, "edited": false, "score": 0, "creation_date": 1532095543, "post_id": 47948047, "comment_id": 89858674, "body": "Is it also possible to call <code>fun isInitialized(): Boolean</code> like here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/index.html</a> ? I couldn&#39;t find a way to do so..."}, {"owner": {"reputation": 193, "user_id": 5758378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uumjK.jpg?s=128&g=1", "display_name": "talosdev", "link": "https://stackoverflow.com/users/5758378/talosdev"}, "edited": false, "score": 0, "creation_date": 1570786395, "post_id": 47948047, "comment_id": 103032479, "body": "Note that the inline solution (the first code block - without the delegate) would also need a backing property if you use an initializer, to avoid having the initializer be called each time the property is accessed."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 10, "last_activity_date": 1603460866, "last_edit_date": 1603460866, "creation_date": 1513981554, "answer_id": 47948047, "question_id": 47947841, "link": "https://stackoverflow.com/questions/47947841/kotlin-var-lazy-init/47948047#47948047", "title": "Kotlin var lazy init", "body": "<p>Instead of making it nullable, you can decide to initialise it with some default value, which on first access will be replaced with the lazily calculated value:</p>\n<pre><code>private val noInit = &quot;noinit&quot;\nvar currentContextProvider: String = noInit\n        get() = if (field == noInit) {\n            synchronized(this) {\n                return if (field == noInit) &quot;lazyinit&quot; else field\n            }\n        } else field\n</code></pre>\n<p>(I've replaced the <code>ContextProvider</code> with <code>String</code>)</p>\n<h3>Custom Delegate</h3>\n<p>The following implements a <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">custom delegate</a> reusing the former solution. It can be used just like <code>lazy()</code> by defining <code>var currentContextProvider: ContextProvider by LazyMutable { DefaultContextProvider() }</code></p>\n<pre><code>class LazyMutable&lt;T&gt;(val initializer: () -&gt; T) : ReadWriteProperty&lt;Any?, T&gt; {\n    private object UNINITIALIZED_VALUE\n    private var prop: Any? = UNINITIALIZED_VALUE\n\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        return if (prop == UNINITIALIZED_VALUE) {\n            synchronized(this) {\n               return if (prop == UNINITIALIZED_VALUE) initializer().also { prop = it } else prop as T\n            }\n        } else prop as T\n    }\n\n    override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        synchronized(this) {\n            prop = value\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3698, "favorite_count": 2, "accepted_answer_id": 47948047, "answer_count": 1, "score": 11, "last_activity_date": 1603460866, "creation_date": 1513979997, "last_edit_date": 1514009548, "question_id": 47947841, "link": "https://stackoverflow.com/questions/47947841/kotlin-var-lazy-init", "title": "Kotlin var lazy init", "body": "<p>I want to do a lazy initialization for a <code>var</code> property. Since <code>by lazy</code> is restricted only to <code>val</code> properties I have to write something like this:</p>\n\n<pre><code>    private var currentContextProvider: ContextProvider? = null\n        get() {\n            if (field == null) {\n                field = DefaultContextProvider()\n            }\n            return field\n        }\n</code></pre>\n\n<p>And now I have to deal with those <strong>pointless</strong> nullability-aware calls: <code>currentContextProvider?.getContext()</code> or alternatively <code>currentContextProvider!!.getContext()</code></p>\n\n<p>Am I doing something wrong?</p>\n"}, {"tags": ["android", "xml", "android-layout", "kotlin", "android-xml"], "answers": [{"tags": [], "owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "is_accepted": true, "score": 1, "last_activity_date": 1513998185, "creation_date": 1513998185, "answer_id": 47949397, "question_id": 47947125, "link": "https://stackoverflow.com/questions/47947125/setting-padding-programmatically-and-through-xml/47949397#47949397", "title": "Setting padding programmatically and through xml", "body": "<p>You can use <code>obtainStyledAttributes</code> to retrieve XML attributes and <code>hasValue</code> to check if there is an attribute at index.</p>\n\n<pre><code>init {\n  layoutParams = ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n\n  val verticalPadding = resources.getDimension(R.dimen.FourDp).toInt()\n  val horizontalPadding = resources.getDimension(R.dimen.FourDp).toInt()\n\n  val attributes = intArrayOf(android.R.attr.paddingLeft, android.R.attr.paddingTop,\n      android.R.attr.paddingBottom, android.R.attr.paddingRight)\n\n  val arr = context.obtainStyledAttributes(attrs, attributes)\n\n  // determine if paddingTop is set if not, use verticalPadding \n  val paddingRight = if (arr.hasValue(android.R.attr.paddingTop))\n    arr.getDimensionPixelOffset(android.R.attr.paddingTop, -1)\n  else\n    verticalPadding\n\n  // setPadding\n\n  arr.recycle()\n}\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 2640004, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/jVw7x.jpg?s=128&g=1", "display_name": "AtomicStrongForce", "link": "https://stackoverflow.com/users/2640004/atomicstrongforce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 47949397, "answer_count": 1, "score": 0, "last_activity_date": 1513998185, "creation_date": 1513975150, "question_id": 47947125, "link": "https://stackoverflow.com/questions/47947125/setting-padding-programmatically-and-through-xml", "title": "Setting padding programmatically and through xml", "body": "<p>I'm creating some custom components and I would like to have a default padding set, but also be able to configure it through xml if so desired. </p>\n\n<p><strong>For example:</strong> </p>\n\n<p>Simple custom TextView component with default padding: </p>\n\n<pre><code>class MyComponent @JvmOverloads constructor(context: Context, attrs: AttributeSet? = null, defStyle: Int = 0) : TextView(context, attrs, defStyle) {\n\ninit {\n        layoutParams = ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n\n        val verticalPadding = resources.getDimension(R.dimen.FourDp).toInt()\n        val horizontalPadding = resources.getDimension(R.dimen.FourDp).toInt()\n        setPadding(horizontalPadding, verticalPadding, horizontalPadding, verticalPadding)\n    }\n}\n</code></pre>\n\n<p>This component would then be dropped into the app as: </p>\n\n<pre><code>&lt;com.example.components.MyComponent\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"padding test\"\n                    &lt;!-- setting padding is optional --&gt; \n                    android:paddingTop=\"32dp\"/&gt;\n</code></pre>\n\n<p><strong>The Question</strong></p>\n\n<p>Android currently ignores the 32dp of padding set through xml and goes with the four dp of padding that's in the component's <code>init</code> method. Is there a way that I can get Android to use the padding set in xml if it exists, and use the default padding if no such padding is specified in xml? </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "retrofit2", "recyclerview-layout"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1513981581, "post_id": 47946985, "comment_id": 82866015, "body": "Are you at any point passing the retrieved data to your adapter? I can&#39;t see you do."}], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 0, "last_activity_date": 1513981941, "creation_date": 1513981941, "answer_id": 47948095, "question_id": 47946985, "link": "https://stackoverflow.com/questions/47946985/how-to-display-data-in-recyclerview-using-retrofit2-api/47948095#47948095", "title": "How to display data in RecyclerView using Retrofit2 API?", "body": "<p>You have an empty list of courses (<code>listCourse</code>) in your <code>Activity</code>. You pass that empty list to the adapter via it's constructor. \nThat list stays empty even after you fetched the courses. So the adapter / <code>RecyclerView</code> stays empty. </p>\n\n<p>Try creating the adapter <em>after</em> you fetched the courses, with </p>\n\n<pre><code>  mCourseAdapter = CourseAdapter(catalog!!.courses!!, applicationContext)\n</code></pre>\n\n<p>or have a courses property in your adapter lile </p>\n\n<pre><code>YourAdapter(...) {\n    var courses = listOf(Course)\n}\n</code></pre>\n\n<p>and then in your <code>Activity</code> (after fetching the courses): </p>\n\n<pre><code>adapter.courses = catalog!!.courses!!\nadapter.notifyDataSetChanged()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5691613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uDcOOw66vlg/AAAAAAAAAAI/AAAAAAAAAGc/Qc_uA5c6hSY/photo.jpg?sz=128", "display_name": "fetchSerotonin", "link": "https://stackoverflow.com/users/5691613/fetchserotonin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 752, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1513981941, "creation_date": 1513974126, "question_id": 47946985, "link": "https://stackoverflow.com/questions/47946985/how-to-display-data-in-recyclerview-using-retrofit2-api", "title": "How to display data in RecyclerView using Retrofit2 API?", "body": "<p>First of all, I'm new to Android/Java/Kotlin development. I'm using Retrofit2 to retrieve data from Udacity API. I can see the response in the Logcat, but when I try to display it in RecyclerView there is just a blank screen. I think the error is in the MainActivity, but I'm still clueless and need help.</p>\n\n<p>My model classes</p>\n\n<pre><code>class Course(var title: String,\n             var subtitle: String,\n             var key: String,\n             var instructors: List&lt;Instructor&gt;,\n             var expected_learning: String,\n             var required_knowledge: String)\n\n\nclass Instructor(var name: String,\n                 var bio: String)\n</code></pre>\n\n<p>My interface</p>\n\n<pre><code>interface ApiServiceInterface {\n\n@GET(\"courses\")\nfun list() : Call&lt;UdacityCatalog&gt;\n\n}\n</code></pre>\n\n<p>My adapter</p>\n\n<pre><code>class CourseAdapter(val listCourses: ArrayList&lt;Course?&gt;, val context: Context) : RecyclerView.Adapter&lt;CourseAdapter.CourseViewHolder&gt;() {\n\n    class CourseViewHolder(viewItem: View) : RecyclerView.ViewHolder(viewItem) { \n        val courseTitle = viewItem.findViewById&lt;TextView?&gt;(R.id.tv_title) as TextView \n        val courseSubtitle = viewItem.findViewById&lt;TextView?&gt;(R.id.tv_subtitle) as TextView \n        val courseKey = viewItem.findViewById&lt;TextView?&gt;(R.id.tv_course_key) as TextView \n        val instructorName = viewItem.findViewById&lt;TextView?&gt;(R.id.tv_instructor_name) as TextView \n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): CourseViewHolder { \n        val viewHolder = LayoutInflater.from(parent?.context).inflate(R.layout.activity_item_list, parent, false) \n        val itemViewHolder = CourseViewHolder(viewHolder)\n        return itemViewHolder\n    }\n\n    override fun onBindViewHolder(holder: CourseViewHolder?, position: Int) {\n        holder?.courseTitle?.text = listCourses[position].title\n        holder?.courseSubtitle?.text = listCourses[position].subtitle\n        holder?.courseKey?.text = listCourses[position].key\n        holder?.instructorName?.text = listCourses[position].instructors.toString() \n    }\n\n    override fun getItemCount(): Int = listCourses.size\n\n}\n</code></pre>\n\n<p>My MainActivity -- I think the error is in here, but I haven't figured it out yet</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    internal val TAG = \"Testing Retrofit2 API\"\n    lateinit var mRecyclerView: RecyclerView\n    lateinit var mCourseAdapter: RecyclerView.Adapter&lt;CourseAdapter.CourseViewHolder&gt;\n    val listCourse = arrayListOf&lt;Course?&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main_recyclerview)\n\n        mRecyclerView = findViewById&lt;RecyclerView?&gt;(R.id.id_recycler_view) as RecyclerView\n\n        val mLayoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false)\n\n        mRecyclerView.layoutManager = mLayoutManager\n\n        mRecyclerView.setHasFixedSize(true)\n\n        mCourseAdapter = CourseAdapter(listCourse, applicationContext)\n\n        mRecyclerView.adapter = mCourseAdapter\n\n        mCourseAdapter.notifyDataSetChanged()\n\n        val call = RetrofitInitializer().createService().list()\n\n        call.enqueue(object : Callback&lt;UdacityCatalog&gt; {\n\n            override fun onResponse(call: Call&lt;UdacityCatalog&gt;, response: Response&lt;UdacityCatalog&gt;) {\n\n                response.body()\n\n                if (!response.isSuccessful) {\n                    Log.i(TAG, \"[ ERROR ] \" + response.code())\n\n                } else {\n\n                    if (listCourse.isEmpty()) {\n                        Toast.makeText(applicationContext, \"Empty list!\", Toast.LENGTH_LONG).show()\n                    } else {\n                        Toast.makeText(applicationContext, \"Full list!\", Toast.LENGTH_LONG).show()\n                    }\n\n                    val catalog = response.body()\n\n                    for (c in catalog!!.courses!!) {\n                        Log.i(TAG, String.format(\"%s: %s\", c.title, c.subtitle, c.key, c.required_knowledge, c.expected_learning))\n\n                        for (i in c.instructors!!) {\n                            Log.i(TAG, i.name)\n                        }\n                        Log.i(TAG, \"\\n****************************************************************************************************\\n\")\n                    }\n                }\n            }\n\n            override fun onFailure(call: Call&lt;UdacityCatalog&gt;?, t: Throwable?) {\n                Log.d(TAG, \"onFailure() : \" + t?.message)\n            }\n\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>An initializer class for Retrofit instance</p>\n\n<pre><code>class RetrofitInitializer {\n\n    companion object Factory {\n        val BASE_URL = \"https://www.udacity.com/public-api/v0/\"\n    }\n\n    private val retrofit = Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n\n    fun createService(): ApiServiceInterface = retrofit.create(ApiServiceInterface::class.java)\n\n}\n</code></pre>\n\n<p>My RecyclerView xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:paddingBottom=\"16dp\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"\n    android:paddingTop=\"16dp\"\n    tools:context=\"activities.MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/id_recycler_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/android.support.v7.widget.RecyclerView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>My CardView xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"16dp\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        android:paddingBottom=\"16dp\"\n        android:paddingLeft=\"16dp\"\n        android:paddingRight=\"16dp\"\n        android:paddingTop=\"16dp\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"center\"\n            android:text=\"@string/udacity_catalog\"\n            android:textAppearance=\"?android:textAppearanceLarge\"\n            android:textColor=\"#9C27B0\"\n            android:textStyle=\"bold\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tv_title\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"20dp\"\n            android:gravity=\"start\"\n            android:hint=\"@string/hint_title\"\n            android:textAppearance=\"?android:textAppearanceMedium\"\n            android:textColor=\"#000000\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tv_subtitle\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"20dp\"\n            android:gravity=\"start\"\n            android:hint=\"@string/hint_subtitle\"\n            android:textAppearance=\"?android:textAppearanceMedium\"\n            android:textColor=\"#000000\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tv_course_key\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"20dp\"\n            android:gravity=\"start\"\n            android:hint=\"@string/hint_key\"\n            android:textAppearance=\"?android:textAppearanceMedium\"\n            android:textColor=\"#000000\" /&gt;\n\n        &lt;TextView\n           android:id=\"@+id/tv_instructor_name\"\n           android:layout_width=\"match_parent\"\n           android:layout_height=\"wrap_content\"\n           android:layout_marginTop=\"20dp\"\n           android:gravity=\"start\"\n           android:hint=\"@string/hint_name\"\n           android:textAppearance=\"?android:textAppearanceMedium\"\n           android:textColor=\"#000000\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["android", "jenkins", "sonarqube", "kotlin", "code-coverage"], "comments": [{"owner": {"reputation": 567, "user_id": 4360308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3uMYuoLtoQ/AAAAAAAAAAI/AAAAAAAAABA/RJky1XQzR8Y/photo.jpg?sz=128", "display_name": "giroxiii", "link": "https://stackoverflow.com/users/4360308/giroxiii"}, "edited": false, "score": 0, "creation_date": 1543402259, "post_id": 47946909, "comment_id": 93904137, "body": "did you find a solution? I&#39;m stuck in the exact problem, I got the other reports, but not the coverage"}, {"owner": {"reputation": 51, "user_id": 9132252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1affcc157ff8cdcd1ef38c0b12d4f831?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/9132252/don"}, "reply_to_user": {"reputation": 567, "user_id": 4360308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3uMYuoLtoQ/AAAAAAAAAAI/AAAAAAAAABA/RJky1XQzR8Y/photo.jpg?sz=128", "display_name": "giroxiii", "link": "https://stackoverflow.com/users/4360308/giroxiii"}, "edited": false, "score": 0, "creation_date": 1543498019, "post_id": 47946909, "comment_id": 93947196, "body": "@giroxiii I abandoned attempting to get Kotlin code coverage with Sonar shortly after posting the question.  HOWEVER, I have gotten many projects to work with Java and JaCoCo.  Retrospectively looking back at my sonar.properties file I may have been able to fix this by referencing the output of the JaCoCo task by adding the following line to the sonar.properties file:  ``` sonar.jacoco.reportPath=build/jacoco/test.exec ```  I am not sure that this will work with Kotlin, but it helped with Java coverage.  I hope this helps, and good luck!"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1571860363, "post_id": 47946909, "comment_id": 103384038, "body": "Newer versions of Sonarqube have a Kotlin plugin that integrates with the Jacoco plugin and detects Kotlin projects correctly. I&#39;ve modified my answer to reflect this"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9132252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1affcc157ff8cdcd1ef38c0b12d4f831?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/9132252/don"}, "edited": false, "score": 0, "creation_date": 1515079788, "post_id": 47957709, "comment_id": 83171922, "body": "I tried changing:  &#39;sonar.java.binaries=app/build&#39;  to:  &#39;sonar.java.binaries=app/build/kotlin&#39;  but unfortunately I am still not getting code coverage..."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "reply_to_user": {"reputation": 51, "user_id": 9132252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1affcc157ff8cdcd1ef38c0b12d4f831?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/9132252/don"}, "edited": false, "score": 1, "creation_date": 1515178913, "post_id": 47957709, "comment_id": 83215912, "body": "Unfortunately for you I&#39;m not familiar with the Android build structure.   This worked with Gradle 4.4 and a JVM based application, but perhaps the version of Gradle you&#39;re using is older, which would require a different directory as the &#39;binaries&#39; folder? Or Android/Gradle writes the class files somewhere else?"}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": false, "score": 0, "last_activity_date": 1571860516, "last_edit_date": 1571860516, "creation_date": 1514083985, "answer_id": 47957709, "question_id": 47946909, "link": "https://stackoverflow.com/questions/47946909/is-it-possible-to-analyze-android-kotlin-code-coverage-with-sonarqube/47957709#47957709", "title": "Is it possible to analyze Android Kotlin code-coverage with SonarQube?", "body": "<p>Newer versions of Sonarqube (6+) now support Kotlin natively, and do not require any custom configuration in your project.</p>\n\n<p>Just ensure the Kotlin and the Jacoco plugins are installed, and it should just work for you. </p>\n\n<p><hr>\n--- OLD ANSWER---------------------------------</p>\n\n<p><strike>My project is using Jacoco for generating coverage reports. \nTo have SonarQube pick up the results, try setting the following:</p>\n\n<pre><code>sonar.java.binaries={$buildDir}/classes/kotlin \n</code></pre>\n\n<p>In other words let SonarQube know where the Kotlin class files are. </p>\n\n<p>This configuration assumes a <strong>100%</strong> Kotlin project. If your project is a mix of Java and Kotlin, then you'll have to determine how to configure both directories.</strike></p>\n"}, {"comments": [{"owner": {"reputation": 567, "user_id": 4360308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3uMYuoLtoQ/AAAAAAAAAAI/AAAAAAAAABA/RJky1XQzR8Y/photo.jpg?sz=128", "display_name": "giroxiii", "link": "https://stackoverflow.com/users/4360308/giroxiii"}, "edited": false, "score": 0, "creation_date": 1544431952, "post_id": 49672841, "comment_id": 94259069, "body": "We were able to make Sonar detect the kotlin code coverage (plus other code analysis) with Detekt plugin, so I can tell this approach is the path to follow nowadays."}], "tags": [], "owner": {"reputation": 201, "user_id": 5981137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d0a8499b4b7cc82a9532b893b17a60?s=128&d=identicon&r=PG&f=1", "display_name": "TEK292", "link": "https://stackoverflow.com/users/5981137/tek292"}, "is_accepted": false, "score": 1, "last_activity_date": 1522932551, "creation_date": 1522932551, "answer_id": 49672841, "question_id": 47946909, "link": "https://stackoverflow.com/questions/47946909/is-it-possible-to-analyze-android-kotlin-code-coverage-with-sonarqube/49672841#49672841", "title": "Is it possible to analyze Android Kotlin code-coverage with SonarQube?", "body": "<p>You can install a 3rd-party Sonar plugin <a href=\"https://android.jlelse.eu/sonarqube-code-coverage-for-kotlin-on-android-with-bitrise-71b2fee0b797\" rel=\"nofollow noreferrer\">here</a> that will measure code quality for Kotlin projects. Unfortunately, as of this posting, SonarQube does not have its own plugin for this.</p>\n\n<p>Once that is set up, take a look <a href=\"https://medium.com/@rafael_toledo/setting-up-an-unified-coverage-report-in-android-with-jacoco-robolectric-and-espresso-ffe239aaf3fa\" rel=\"nofollow noreferrer\">here</a> for setting up gradle and sonar-project.properties. The post is a little dated, but contains a link to an updated version and is still a good starting point.</p>\n\n<p>TL;DR for #2: The information SonarQube needs for Kotlin is located in 2 places. One is already identified by the OP. The other is located in <code>app/build/tmp/kotlin-classes</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9132252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1affcc157ff8cdcd1ef38c0b12d4f831?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/9132252/don"}, "is_accepted": true, "score": 0, "last_activity_date": 1571062838, "last_edit_date": 1571062838, "creation_date": 1543498393, "answer_id": 53540246, "question_id": 47946909, "link": "https://stackoverflow.com/questions/47946909/is-it-possible-to-analyze-android-kotlin-code-coverage-with-sonarqube/53540246#53540246", "title": "Is it possible to analyze Android Kotlin code-coverage with SonarQube?", "body": "<p>I abandoned attempting to get Kotlin code coverage with Sonar shortly after posting the question. </p>\n\n<p><strong>However</strong>, I have gotten many projects to work with Java and JaCoCo. </p>\n\n<p>Retrospectively looking back at my <code>sonar.properties</code> file I may have been able to fix this by referencing the output of the JaCoCo task by adding the following line to the sonar.properties file:</p>\n\n<pre><code>sonar.jacoco.reportPath=build/jacoco/test.exec\n</code></pre>\n\n<p>I am not sure that this will work with Kotlin, but it helped with Java coverage and solved my use case.</p>\n"}, {"tags": [], "owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "is_accepted": false, "score": 0, "last_activity_date": 1568647739, "creation_date": 1568647739, "answer_id": 57960087, "question_id": 47946909, "link": "https://stackoverflow.com/questions/47946909/is-it-possible-to-analyze-android-kotlin-code-coverage-with-sonarqube/57960087#57960087", "title": "Is it possible to analyze Android Kotlin code-coverage with SonarQube?", "body": "<p>If you are using gradle and Jacoco.\nYou can use Jacoco for the code coverage with the <code>xmlReportPaths</code>. With that Sonar will trust what Jacoco output.</p>\n\n<pre><code>sonarqube {\n    properties {\n        property(\"sonar.java.coveragePlugin\", \"jacoco\")\n        property(\"sonar.coverage.jacoco.xmlReportPaths\", \"./build/reports/jacoco/test/jacocoTestReport.xml\")\n    }\n}\n</code></pre>\n\n<p>Documentation from <a href=\"https://docs.sonarqube.org/display/PLUG/JaCoCo+Plugin\" rel=\"nofollow noreferrer\">Sonar + Jacoco Plugin</a>. \nIt also works with mixed source code (Java, Kotlin).</p>\n"}], "owner": {"reputation": 51, "user_id": 9132252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1affcc157ff8cdcd1ef38c0b12d4f831?s=128&d=identicon&r=PG&f=1", "display_name": "Don", "link": "https://stackoverflow.com/users/9132252/don"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3045, "favorite_count": 1, "accepted_answer_id": 53540246, "answer_count": 4, "score": 5, "last_activity_date": 1571860516, "creation_date": 1513973700, "question_id": 47946909, "link": "https://stackoverflow.com/questions/47946909/is-it-possible-to-analyze-android-kotlin-code-coverage-with-sonarqube", "title": "Is it possible to analyze Android Kotlin code-coverage with SonarQube?", "body": "<p>I have configured a Jenkins item that, after gradle building and testing, calls the \"Execute SonarQube Scanner\" with the following specifications:</p>\n\n<pre><code>sonar.projectKey=my_project_key\nsonar.projectName=my_Android\nsonar.projectVersion=1.0\nsonar.sources=app/src\nsonar.java.binaries=app/build/intermediates/classes/debug\nsonar.coverage.exclusions=app/src/test/**,app/src/androidTest/**,app/src/main/res/**\n</code></pre>\n\n<p>This successfully runs SonarQube and generates a report to IPaddress:9000 that measures: Bugs, Vulnerabilities, Debt, Code Smells, and Duplications just like it is supposed to.  However there is no place in this report that defines the code covered by tests.  SonarQube is running the Kotlin plugin successfully and sees the codebase itself, but is not determining coverage.  Is this possible to gather this information with SonarQube when using Kotlin Android?</p>\n\n<p>I did try installing Jacoco, but did not see any new data on the SonarQube results.</p>\n"}, {"tags": ["arrays", "kotlin", "java-stream"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1513983913, "last_edit_date": 1513983913, "creation_date": 1513973900, "answer_id": 47946951, "question_id": 47946509, "link": "https://stackoverflow.com/questions/47946509/how-to-filter-and-map-a-2d-intarray-into-a-set-using-streams/47946951#47946951", "title": "How to filter and map a 2D IntArray into a Set using streams", "body": "<p>This can be made a bit more Kotlin-natural if the Java streams are replaced by ranges.</p>\n\n<pre><code>val cells = (0 until board.size).flatMap { row -&gt;\n    (0 until board[row].size)\n            .filter { col -&gt; board[row][col] &gt;= 0 }.map { Cell(row, it) }\n}.toSet()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "is_accepted": true, "score": 1, "last_activity_date": 1514001756, "last_edit_date": 1514001756, "creation_date": 1514001352, "answer_id": 47949605, "question_id": 47946509, "link": "https://stackoverflow.com/questions/47946509/how-to-filter-and-map-a-2d-intarray-into-a-set-using-streams/47949605#47949605", "title": "How to filter and map a 2D IntArray into a Set using streams", "body": "<p>First of all, it is recommended to use the Kotlin standard library and not Java streams. With the Kotlin standard library, <a href=\"https://stackoverflow.com/a/47946951/3755692\">s1m0nw1 gave a good solution</a> where I'd only replace the <code>flatMap</code> with a <code>flatMapTo</code> call to avoid creating a list that is later discarded:</p>\n\n<pre><code>val set = HashSet&lt;Cell&gt;()\n(0 until board.size).flatMapTo(set) { row -&gt;\n    (0 until board[row].size).filter { col -&gt;\n        board[row][col] &gt;= 0\n    }.map { col -&gt;\n        Cell(row, col)\n    }\n}\n</code></pre>\n\n<p>If you really need a Java8 stream solution, go with the following code:</p>\n\n<pre><code>fun IntRange.stream() : Stream&lt;Int&gt;\n    = StreamSupport.stream(spliterator(), false)\n\nval set = (0 until board.size).stream().flatMap { row -&gt;\n    (0 until board[row].size).stream().filter { col -&gt;\n        board[row][col] &gt;= 0\n    }.map { col -&gt;\n        Cell(row, col)\n    }\n}.collect(Collectors.toSet())\n</code></pre>\n\n<p>As of performance, both solutions given here should be quite similar (I haven't tested it though). However, Java8 streams allow you do operations in parallel (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#stream-java.util.Spliterator-boolean-\" rel=\"nofollow noreferrer\"><code>StreamSupport.stream</code></a>). This is using some thread pool that does all the magic for you. Kotlin, as far as I know, does not offer any parallel operations out of the box, but it has <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a> that are a lot faster than Java threads - but come together with more code on your side.</p>\n"}], "owner": {"reputation": 120, "user_id": 7238916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e29aa4c426e0881837c516421a8de5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Ham", "link": "https://stackoverflow.com/users/7238916/omar-ham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 47949605, "answer_count": 2, "score": 2, "last_activity_date": 1514001756, "creation_date": 1513971208, "last_edit_date": 1513973453, "question_id": 47946509, "link": "https://stackoverflow.com/questions/47946509/how-to-filter-and-map-a-2d-intarray-into-a-set-using-streams", "title": "How to filter and map a 2D IntArray into a Set using streams", "body": "<p>I have a 2D <code>IntArray</code> which represent a game board where -1 means a blank space, and some value grater or equals to 0 means that cell belongs to some player. Something like below (-1 are represented by dots(.))</p>\n\n<pre><code>. . . . . \n1 0 . . 2\n0 . 1 3 3\n4 3 . . 0\n</code></pre>\n\n<p>I want to get a <code>Set</code> with the location of cells already occupied by any player. Something like this:</p>\n\n<pre><code>[Cell{1,0}, Cell{1,1}, ..., Cell{3,4}]\n</code></pre>\n\n<p>I know the first approach would be iterate over the 2D array:</p>\n\n<pre><code>val set = HashSet&lt;Cell&gt;();\nfor(row in 0 until HEIGHT){\n    for (col in 0 until WIDTH){\n        if(board[row][col] &gt;= 0)\n            set.add(Cell(row, col))\n    }\n}\n</code></pre>\n\n<p>But... is it somehow more efficient if I use streams? could it be achieved in less code and more efficiently?</p>\n\n<pre><code>IntStream.range(0, HEIGHT)\n            .mapToObj { row -&gt; IntStream.range(0, WIDTH)\n                    .filter{ col -&gt; board[row][col] &gt;= 0}\n                    .mapToObj { col -&gt; Cell(row, col) } }\n            .flatMap { point -&gt; point }\n            .collect(Collectors.toSet())\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1513967684, "post_id": 47945864, "comment_id": 82861549, "body": "Try compiling from the command line. I&#39;ve had issues with kotlin where a kotlin problem was hidden by a stacktrace similar to that. So run from the command line and see if you get a different result"}, {"owner": {"reputation": 23, "user_id": 9131972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a4756a2eba80b0cd8348411adee150?s=128&d=identicon&r=PG&f=1", "display_name": "yokatta", "link": "https://stackoverflow.com/users/9131972/yokatta"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1513970447, "post_id": 47945864, "comment_id": 82862610, "body": "Fantastic! running command line ./gradlew showed the compilation issues with my code...Thank you Zoe."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 2, "last_activity_date": 1514024128, "creation_date": 1514024128, "answer_id": 47951616, "question_id": 47945864, "link": "https://stackoverflow.com/questions/47945864/compile-fails-with-cryptic-error/47951616#47951616", "title": "Compile fails with cryptic error", "body": "<p>Kotlin has hidden errors from me in the past, and all you get out of it is an error like you had.</p>\n\n<p>These can be revealed with a command line build though:</p>\n\n<pre><code>gradlew build\n</code></pre>\n\n<p>or</p>\n\n<pre><code>./gradlew build\n</code></pre>\n\n<p>There's no guarantee there's an underlying Kotlin compile error though, but that's what it's been when I faced a similar error to that.</p>\n"}], "owner": {"reputation": 23, "user_id": 9131972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a4756a2eba80b0cd8348411adee150?s=128&d=identicon&r=PG&f=1", "display_name": "yokatta", "link": "https://stackoverflow.com/users/9131972/yokatta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 47951616, "answer_count": 1, "score": 2, "last_activity_date": 1560071922, "creation_date": 1513967446, "last_edit_date": 1560071922, "question_id": 47945864, "link": "https://stackoverflow.com/questions/47945864/compile-fails-with-cryptic-error", "title": "Compile fails with cryptic error", "body": "<p>My gradle build fails with the exceptions below:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileReleaseJavaWithJavac'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\nat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\nat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\nat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\nat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\nat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\nat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\nat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\nat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\nat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\nat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\nat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\nat com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\nat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n... 32 more\n</code></pre>\n\n<p>My gradle file for project:</p>\n\n<pre><code>buildscript {\n\n    ext.kotlin_version = '1.2.10'\n\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0-alpha06'\n        classpath 'com.google.android.gms:play-services-gcm:11.8.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n}\n</code></pre>\n\n<p>and module:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\n\nandroid {\n    useLibrary 'org.apache.http.legacy'\n}\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion '27.0.2'\n    defaultConfig {\n        applicationId \"com.xxxx\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 13\n        versionName \"13\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        // Enabling multidex support.\n        multiDexEnabled false\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n            manifestPlaceholders = [analytics_deactivated: \"false\"]\n        }\n        debug {\n            debuggable true\n            manifestPlaceholders = [analytics_deactivated: \"true\"]\n        }\n    }\n    packagingOptions {\n        exclude 'LICENSE.txt'\n    }\n\n    productFlavors {\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:multidex:1.0.2'\n    compile 'com.google.firebase:firebase-crash:11.8.0'\n    compile 'com.google.firebase:firebase-core:11.8.0'\n    compile 'com.google.firebase:firebase-messaging:11.8.0'\n    compile 'com.android.support:support-v4:27.0.2'\n    compile 'com.android.support:appcompat-v7:27.0.2'\n    compile 'com.android.support:cardview-v7:27.0.2'\n    compile 'com.android.support:recyclerview-v7:27.0.2'\n    compile 'com.android.support:design:27.0.2'\n    compile 'com.android.support:support-annotations:27.0.2'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    implementation 'com.google.android.gms:play-services-gcm:11.8.0'\n    // Testing dependencies\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:3.0.1'\n    androidTestCompile 'com.android.support.test:runner:1.0.1'\n    androidTestCompile 'com.android.support:support-annotations:27.0.2'\n}\n</code></pre>\n\n<p>Gradle wrapper file:</p>\n\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https://services.gradle.org/distributions/gradle-4.4.1-bin.zip\n</code></pre>\n\n<p>I am using Android Studio 3.1. I cleaned the cache and did a clean rebuild but that didn't fix the issue. I am probably missing something obvious. Calling to the community for help...Did anyone face this issue?  </p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1513966326, "post_id": 47945545, "comment_id": 82861048, "body": "have you authenticated the user?"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1513966480, "post_id": 47945545, "comment_id": 82861098, "body": "yes! I&#39;ve been using a test account that was created months ago - what doesn&#39;t make sense is why this is happening before a user even logs in - I&#39;ve noticed that sometimes the emulator&#39;s internet connection is spotty (which makes even less sense as I&#39;m connected through LAN on my desktop) so I&#39;m wondering if that&#39;s the issue."}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 2057809, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b1bfdc3cc9e0f57b9ee7345d0c255f?s=128&d=identicon&r=PG", "display_name": "Edouard Br&#232;thes", "link": "https://stackoverflow.com/users/2057809/edouard-br%c3%a8thes"}, "is_accepted": false, "score": 1, "last_activity_date": 1517178985, "creation_date": 1517178985, "answer_id": 48492102, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/48492102#48492102", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>My guess is that a new version of the Google Play library has been released and your test device/emulator need update his currently installed version.</p>\n\n<p>Check the Google Play Store app on your device/emulator, make the update, and you should be good to go !</p>\n"}, {"tags": [], "owner": {"reputation": 1229, "user_id": 149202, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d9e600e9a7400c2551647e731541554f?s=128&d=identicon&r=PG", "display_name": "Cristi B\u0103lu\u021b\u0103", "link": "https://stackoverflow.com/users/149202/cristi-b%c4%83lu%c8%9b%c4%83"}, "is_accepted": false, "score": 6, "last_activity_date": 1552088754, "creation_date": 1552088754, "answer_id": 55072535, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/55072535#55072535", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>The problem in my case was that the emulator was not connected to internet, seems that is not implicitly connected like the ios simulator.</p>\n"}, {"comments": [{"owner": {"reputation": 689, "user_id": 4350008, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qY7D6.jpg?s=128&g=1", "display_name": "Felipe C&#233;sar", "link": "https://stackoverflow.com/users/4350008/felipe-c%c3%a9sar"}, "reply_to_user": {"reputation": 471, "user_id": 1146041, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/464cc6baca6bc477b590a696bc04e189?s=128&d=identicon&r=PG", "display_name": "Chris Paveglio", "link": "https://stackoverflow.com/users/1146041/chris-paveglio"}, "edited": false, "score": 0, "creation_date": 1561013433, "post_id": 55172044, "comment_id": 99926883, "body": "Open the simulator, go to <code>settings</code> and then <code>Google Play</code> and click on Update. Is not all the devices that you can update. If you having problems updating try a different API like I did going to the 24 instead of 28"}], "tags": [], "owner": {"reputation": 689, "user_id": 4350008, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qY7D6.jpg?s=128&g=1", "display_name": "Felipe C&#233;sar", "link": "https://stackoverflow.com/users/4350008/felipe-c%c3%a9sar"}, "is_accepted": false, "score": 0, "last_activity_date": 1552597706, "creation_date": 1552597706, "answer_id": 55172044, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/55172044#55172044", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>I faced the same same problem. I was using a Nexus with API 28 and it was buggy and I couldn't update the Google Play.</p>\n\n<p>I had to create another simulator with the API 24 and update the Google Play from the simulator. Now, the email auth and firestore works, but the Facebook and Google login doesn't work despite it works on ios.</p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 2808066, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/a3ekY.jpg?s=128&g=1", "display_name": "Manuela", "link": "https://stackoverflow.com/users/2808066/manuela"}, "edited": false, "score": 1, "creation_date": 1567178526, "post_id": 55483669, "comment_id": 101899223, "body": "I have the same issue with a real device and before getting the token I check if google play services are updated and they are. I am sure to have network connection too."}], "tags": [], "owner": {"reputation": 61, "user_id": 4627833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7e02d9e8171c70107add5f930607a4?s=128&d=identicon&r=PG", "display_name": "Ahmed Adaileh", "link": "https://stackoverflow.com/users/4627833/ahmed-adaileh"}, "is_accepted": false, "score": 4, "last_activity_date": 1554239653, "creation_date": 1554239653, "answer_id": 55483669, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/55483669#55483669", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>Using an emulator <strong><em>WITHOUT</em></strong> Google Play will cause this error.</p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 2808066, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/a3ekY.jpg?s=128&g=1", "display_name": "Manuela", "link": "https://stackoverflow.com/users/2808066/manuela"}, "edited": false, "score": 1, "creation_date": 1567178513, "post_id": 56469992, "comment_id": 101899210, "body": "I have the same issue with a real device and before getting the token I check if google play services are updated and they are. I am sure to have network connection too."}], "tags": [], "owner": {"reputation": 1, "user_id": 11606812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbb95dee4261959fc09206c5b8f229cb?s=128&d=identicon&r=PG&f=1", "display_name": "Eve-JJKING", "link": "https://stackoverflow.com/users/11606812/eve-jjking"}, "is_accepted": false, "score": 0, "last_activity_date": 1559786869, "last_edit_date": 1559786869, "creation_date": 1559785609, "answer_id": 56469992, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/56469992#56469992", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>I faced the same problem.And the first time I used a Nexus with API 28.</p>\n\n<p>Android Studio prompted me to say that <code>\"2019-06-06 09:16:04.540 4415-4502/com.google.android.youtube E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED\"</code>.</p>\n\n<p>Finally,I uninstalled the simulator and install a new Nexus with API 26.The problem was finally solved.</p>\n"}, {"tags": [], "owner": {"reputation": 12277, "user_id": 2125442, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c6a7fc5cbee05e27232bb07c6ba32cf9?s=128&d=identicon&r=PG", "display_name": "bartektartanus", "link": "https://stackoverflow.com/users/2125442/bartektartanus"}, "is_accepted": false, "score": 5, "last_activity_date": 1564410002, "creation_date": 1564410002, "answer_id": 57255790, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/57255790#57255790", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>Check if you have internet connection in your emulator. I had the same issue and running emulator like this helped me:</p>\n\n<p><code>emulator -avd &lt;Avd name&gt; -dns-server 8.8.8.8</code></p>\n"}, {"comments": [{"owner": {"reputation": 2190, "user_id": 11027506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9tkW.jpg?s=128&g=1", "display_name": "Nipun Tharuksha", "link": "https://stackoverflow.com/users/11027506/nipun-tharuksha"}, "edited": false, "score": 0, "creation_date": 1574236161, "post_id": 58948892, "comment_id": 104155070, "body": "This is not a answer. This should be a comment else please do update your answer with more details"}], "tags": [], "owner": {"reputation": 11, "user_id": 5696275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca05e704ff01fc627c71331bf0adbe10?s=128&d=identicon&r=PG&f=1", "display_name": "numan ayhan", "link": "https://stackoverflow.com/users/5696275/numan-ayhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1574234804, "creation_date": 1574234804, "answer_id": 58948892, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang/58948892#58948892", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>Cold Boot Device Solved for Android Emulator</p>\n"}], "owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13849, "favorite_count": 0, "answer_count": 7, "score": 6, "last_activity_date": 1593451899, "creation_date": 1513965595, "question_id": 47945545, "link": "https://stackoverflow.com/questions/47945545/e-firebaseinstanceid-token-retrieval-failed-authentication-failed-what-chang", "title": "E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED - what changed?", "body": "<p>I'm not sure what's going on here, I pulled my recently updated repo and every time I open the app to debug it on an emulator I get <code>E/FirebaseInstanceId: Token retrieval failed: AUTHENTICATION_FAILED</code> as the app loads up the main screen. However this hadn't happened before today so I don't know what could've changed? I deleted the app from the Firebase console and re-added it (through Firebase Assistant), but that didn't fix it either? I've included my build.grade file but I'm not sure what else I need to be looking at, any assistance would be appreciated.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.android.projectrc\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation 'com.wdullaer:materialdatetimepicker:3.4.0'\n    implementation \"org.jetbrains.anko:anko:$anko_version\"\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.0.2'\n    implementation 'com.android.support:design:27.0.2'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.bumptech.glide:glide:4.2.0'\n    implementation 'com.google.firebase:firebase-auth:11.0.4'\n    implementation 'com.google.firebase:firebase-database:11.0.4'\n    implementation 'com.google.firebase:firebase-storage:11.0.4'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n\n\n\n\n\n\n\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 3347, "user_id": 674205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15208fd5d557a605d8e2d917fb02f946?s=128&d=identicon&r=PG", "display_name": "Hobbes the Tige", "link": "https://stackoverflow.com/users/674205/hobbes-the-tige"}, "edited": false, "score": 0, "creation_date": 1514903901, "post_id": 48005004, "comment_id": 83098419, "body": "I was not able to use Table::class.java, because Table needs to specify its generic type Table&lt;T&gt;::class.java. But that throws an error because I&#39;m guessing the compiler can&#39;t tell what T is at compile time (isn&#39;t that kind of the point of generics in the first place?)."}], "tags": [], "owner": {"reputation": 1290, "user_id": 4741360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39799d17b9e7ddc0b8e42fba2c96a5c7?s=128&d=identicon&r=PG&f=1", "display_name": "chandrakant sharma", "link": "https://stackoverflow.com/users/4741360/chandrakant-sharma"}, "is_accepted": false, "score": 11, "last_activity_date": 1514453890, "creation_date": 1514453890, "answer_id": 48005004, "question_id": 47944731, "link": "https://stackoverflow.com/questions/47944731/kotlin-gson-deserializing/48005004#48005004", "title": "Kotlin Gson Deserializing", "body": "<p>Data Class :</p>\n\n<pre><code>data class Table&lt;T&gt;(\n    @SerializedName(\"Table\") val models : Array&lt;T&gt;\n)\n</code></pre>\n\n<p>to JSON:</p>\n\n<pre><code>val gson = Gson()\nval json = gson.toJson(table)\n</code></pre>\n\n<p>from JSON:</p>\n\n<pre><code>val json = getJson()\nval table = gson.fromJson(json, Table::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 3, "last_activity_date": 1514910606, "last_edit_date": 1514910606, "creation_date": 1514469094, "answer_id": 48008718, "question_id": 47944731, "link": "https://stackoverflow.com/questions/47944731/kotlin-gson-deserializing/48008718#48008718", "title": "Kotlin Gson Deserializing", "body": "<p>Method <a href=\"https://google.github.io/gson/apidocs/com/google/gson/Gson.html#fromJson-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>fromJson</code></a> is generic, so when you call it for <code>Table&lt;T&gt;</code> variable it creates <code>Array&lt;Any&gt;</code> as most suitable. You need to notice that <code>PaymentMethod</code> class extends <code>T</code> generic, but I don't know is it even possible. If you find out how to make it, use something like following:</p>\n\n<pre><code>val table: Table&lt;T&gt; = Gson().fromJson&lt;Table&lt;PaymentMethod&gt;&gt;(s)\n</code></pre>\n\n<p>In your case I'm using gson adapters. Following function creates object with specified <code>type</code> parameter:</p>\n\n<pre><code>fun getObjectFromString(type: Type, string: String) =\n    Gson().getAdapter(TypeToken.get(type)).fromJson(string)\n</code></pre>\n\n<p>To use it write something following:</p>\n\n<pre><code>val table: Table&lt;T&gt; = getObjectFromString(Table&lt;PaymentMethod&gt;::class.java, s) as Table&lt;PaymentMethod&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>To avoid spare class cast you can use <code>reified</code> generic function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; getObjectFromString(string: String): T =\n            getGsonConverter().getAdapter(TypeToken.get(T::class.java)).fromJson(string)!!\n</code></pre>\n\n<p>In that case using would be easier:</p>\n\n<pre><code>val table: Table&lt;T&gt; = getObjectFromString&lt;Table&lt;PaymentMethod&gt;&gt;(s)\n</code></pre>\n\n<p>I used first solution in cases where I don't know what type the object would be - I've got only <code>Type</code> variable with information about that object.</p>\n"}, {"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1514901210, "last_edit_date": 1514901210, "creation_date": 1514893102, "answer_id": 48060300, "question_id": 47944731, "link": "https://stackoverflow.com/questions/47944731/kotlin-gson-deserializing/48060300#48060300", "title": "Kotlin Gson Deserializing", "body": "<blockquote>\n  <p>java.lang.ClassCastException: java.lang.Object[] cannot be cast to\n  Networking.PaymentMethod[]</p>\n</blockquote>\n\n<p>Your JSON is</p>\n\n<pre><code>{\n\"Table\": [\n {\n   \"paymentmethod_id\": 1,\n   \"paymentmethod_description\": \"Cash\",\n   \"paymentmethod_code\": \"Cash\",\n   \"paymentmethod_is_ach_onfile\": false,\n   \"paymentmethod_is_element\": false,\n   \"paymentmethod_is_reward\": false,\n   \"paymentmethod_is_openedgeswipe\": false,\n   \"paymentmethod_update_user_id\": 1,\n   \"paymentmethod_insert_user_id\": 1,\n   \"paymentmethod_insertdate\": \"2014-10-07 14:53:16\",\n   \"paymentmethod_deleted\": false,\n   \"paymentmethod_is_mobile_visible\": true\n   }\n  ]\n}\n</code></pre>\n\n<p>Create a <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\"><strong><code>data class</code></strong></a>, <strong><code>PaymentMethod</code></strong>.</p>\n\n<blockquote>\n  <p>We frequently create classes whose main purpose is to hold data. In\n  such a class some standard functionality and utility functions are\n  often mechanically derivable from the data. </p>\n</blockquote>\n\n<pre><code>data class PaymentMethod(@SerializedName(\"Table\") val table:ArrayList&lt;PaymentData&gt; )\ndata class PaymentData\n\n                      (\n                       @SerializedName(\"paymentmethod_id\") val paymentmethod_id: Int,\n                       @SerializedName(\"paymentmethod_description\") val paymentmethod_description: String,\n                       @SerializedName(\"paymentmethod_code\") val paymentmethod_code:String,\n                       @SerializedName(\"paymentmethod_is_ach_onfile\") val paidStatus:Boolean,\n                       @SerializedName(\"paymentmethod_is_element\") val paymentmethod_is_element:Boolean,\n                       @SerializedName(\"paymentmethod_is_reward\") val paymentmethod_is_reward:Boolean,\n                       @SerializedName(\"paymentmethod_is_openedgeswipe\") val paymentmethod_is_openedgeswipe:Boolean,\n                       @SerializedName(\"paymentmethod_update_user_id\") val paymentmethod_update_user_id:Int,\n                       @SerializedName(\"paymentmethod_insert_user_id\") val paymentmethod_insert_user_id:Int,\n                       @SerializedName(\"paymentmethod_insertdate\") val paymentmethod_insertdate:String,\n                       @SerializedName(\"paymentmethod_deleted\") val paymentmethod_deleted:Boolean),\n                       @SerializedName(\"paymentmethod_is_mobile_visible\") val paymentmethod_is_mobile_visible:Boolean\n                       )\n</code></pre>\n\n<p>You can call this way</p>\n\n<pre><code>  val paymentDATA = Gson().fromJson&lt;PaymentMethod&gt;(\"JSON_RESPONSE\", PaymentMethod::class.java)\n  val _adapterPaymentHistory = paymentDATA.table\n</code></pre>\n"}], "owner": {"reputation": 3347, "user_id": 674205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15208fd5d557a605d8e2d917fb02f946?s=128&d=identicon&r=PG", "display_name": "Hobbes the Tige", "link": "https://stackoverflow.com/users/674205/hobbes-the-tige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9963, "favorite_count": 2, "answer_count": 3, "score": 8, "last_activity_date": 1514910606, "creation_date": 1513960893, "last_edit_date": 1514875165, "question_id": 47944731, "link": "https://stackoverflow.com/questions/47944731/kotlin-gson-deserializing", "title": "Kotlin Gson Deserializing", "body": "<p>I am receiving a JSON data model that has a map wrapper <em>Table</em>. I'm trying to use generics to pass in the type that is beyond the wrapper but it's not translating well at runtime. Here's an example of my JSON file:</p>\n\n<pre><code>{\n\"Table\": [\n {\n   \"paymentmethod_id\": 1,\n   \"paymentmethod_description\": \"Cash\",\n   \"paymentmethod_code\": \"Cash\",\n   \"paymentmethod_is_ach_onfile\": false,\n   \"paymentmethod_is_element\": false,\n   \"paymentmethod_is_reward\": false,\n   \"paymentmethod_is_openedgeswipe\": false,\n   \"paymentmethod_update_user_id\": 1,\n   \"paymentmethod_insert_user_id\": 1,\n   \"paymentmethod_insertdate\": \"2014-10-07 14:53:16\",\n   \"paymentmethod_deleted\": false,\n   \"paymentmethod_is_mobile_visible\": true\n   }\n  ]\n}\n</code></pre>\n\n<p>The wrapper class I'm using is called Table.</p>\n\n<pre><code>data class Table&lt;T&gt;(\n    @SerializedName(\"Table\") val models : Array&lt;T&gt;\n)\n</code></pre>\n\n<p>The actual model class is PaymentMethod.</p>\n\n<pre><code>data class PaymentMethod(\n    @SerializedName(\"paymentmethod_id\") val idNumber : Int = -1\n)\n</code></pre>\n\n<p>I have created a generic data manager class that takes &lt; T > type. I think use subclasses of the data manager to localize the input and results (such as declaring the model class <em>PaymentMethod</em>.</p>\n\n<pre><code>open class NXDataManager&lt;T&gt;(manager: NXNetworkManager? = null, rpc : String?, parameters: List&lt;Pair&lt;String, String&gt;&gt;? = null, method : String = \"get\")\n{\n   ...\n\n\nopen fun sendRequest(completionHandler: (models:Array&lt;T&gt;) -&gt; Unit, errorHandler: (error:FuelError) -&gt; Unit) {\n\n    val request = NXNetworkRequest(rpc, parameters, method)\n\n    request.send(manager, completionHandler = { s: String -&gt;\n\n        val table: Table&lt;T&gt; = Gson().fromJson(s)\n\n        completionHandler(table.models)\n\n    }, errorHandler = errorHandler)\n}\n\ninline fun &lt;reified T&gt; Gson.fromJson(json: String) = this.fromJson&lt;T&gt;(json, object: TypeToken&lt;T&gt;() {}.type)\n\n}\n</code></pre>\n\n<p>My subclassed data manager specifies the model to parse into.</p>\n\n<pre><code>final public class PaymentMethodsDataManager : NXDataManager&lt;PaymentMethod&gt;\n{\n   constructor () : super(\"genGetPaymentMethods\")\n\n}\n</code></pre>\n\n<p>When I run the code as:</p>\n\n<pre><code>val table: Table&lt;T&gt; = Gson().fromJson(s)\n</code></pre>\n\n<p>I get an error message <strong>java.lang.ClassCastException: java.lang.Object[] cannot be cast to Networking.PaymentMethod[]</strong>. However, when I pass in an explicit type it works as expected--parsing the array into PaymentMethod models:</p>\n\n<pre><code>val table: Table&lt;PaymentMethod&gt; = Gson().fromJson(s)\n</code></pre>\n\n<p>Any ideas of how I can still use the generic type T?</p>\n"}]