[{"tags": ["android", "json", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "edited": false, "score": 0, "creation_date": 1557412390, "post_id": 56050568, "comment_id": 98763687, "body": "That worked! Thank you. I tried this earlier but had the wrong formatting. Thanks again!"}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1557361059, "creation_date": 1557361059, "answer_id": 56050568, "question_id": 56050340, "link": "https://stackoverflow.com/questions/56050340/passing-variable-to-interface/56050568#56050568", "title": "Passing Variable to Interface", "body": "<p>The <code>@Path</code> annotation can be used to change the URL:</p>\n\n<pre><code>interface DeviceDetailsAPIClient {\n\n    @GET(\"devices/{deviceId}\")\n    fun getDevicesDetailsAsync(\n        @Path(\"deviceId\") deviceId: Long,\n        @Query(\"access_token\") access_token: String\n    ): Deferred&lt;Response&lt;DeviceDetails&gt;&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 1722885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eddbecaa54238685bf833b80430f979e?s=128&d=identicon&r=PG", "display_name": "user1722885", "link": "https://stackoverflow.com/users/1722885/user1722885"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557361059, "creation_date": 1557358634, "question_id": 56050340, "link": "https://stackoverflow.com/questions/56050340/passing-variable-to-interface", "title": "Passing Variable to Interface", "body": "<p>Trying to pass the device ID to the interface and I am not getting anywhere. I essentially want to store the device ID to a variable and put it in the @Get for the interface.</p>\n\n<p>I tried using @Path but I am not familiar enough with it to use it.</p>\n\n<p>The url needs to look like this on the call</p>\n\n<pre><code>http://xxx.xx.xxx.xxx/apps/api/109/devices/65?access_token=xxxxxx\n</code></pre>\n\n<p>Interface</p>\n\n<pre><code>interface DeviceDetailsAPIClient {\n\n    @GET(\"devices/&lt;item id here&gt;\")\n    fun getDevicesDetailsAsync(@Query(\"access_token\") access_token: String): Deferred&lt;Response&lt;DeviceDetails&gt;&gt;\n}\n</code></pre>\n\n<p>MainActivity2 where the ID is passed to</p>\n\n<pre><code>class MainActivity2 : AppCompatActivity() {\n    private val tag : String = MainActivity2::class.java.simpleName\n    var deviceID: String = intent.getStringExtra(\"deviceID\")\n    private lateinit var adapterDetails: DeviceDetailsAdapter\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        rv_devices.layoutManager = LinearLayoutManager(this)\n        rv_devices.hasFixedSize()\n        adapterDetails = DeviceDetailsAdapter(listOf()) { deviceDetails: DeviceDetails -&gt; deviceDetails }\n        rv_devices.adapter = adapterDetails\n        loadDeviceDetails()\n    }\n\n        private fun loadDeviceDetails() {\n            GlobalScope.launch(Dispatchers.Main) {\n                try {\n                    val webResponseDetails = deviceDetailsApi.getDevicesDetailsAsync(access_token = \"xxxxxx\").await()\n                    if (webResponseDetails.isSuccessful) {\n                        val deviceDetails: DeviceDetails? = webResponseDetails.body()\n                        Log.d(tag, deviceDetails?.toString())\n                        //adapterDetails.deviceDetails = deviceDetails ?: listOf()\n                        adapterDetails.notifyDataSetChanged()\n                    } else {\n                        Log.e(tag, \"Error ${webResponseDetails.code()}\")\n                        Toast.makeText(this@MainActivity2, \"Error ${webResponseDetails.code()}\", Toast.LENGTH_LONG).show()\n                    }\n                } catch (e: IOException) {\n                    Log.e(tag, \"Exception \" + e.printStackTrace())\n                    Toast.makeText(this@MainActivity2, \"Exception ${e.message}\", Toast.LENGTH_LONG).show()\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>This is the var I am storing the ID in</p>\n\n<pre><code>var deviceID: String = intent.getStringExtra(\"deviceID\")\n</code></pre>\n\n<p>Now how do I get that to the interface?</p>\n"}, {"tags": ["kotlin", "spring-tools-4", "spring-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4727, "user_id": 1854124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d65e990ab4df0d0a75c3b0ae5d036bc5?s=128&d=identicon&r=PG", "display_name": "Martin Lippert", "link": "https://stackoverflow.com/users/1854124/martin-lippert"}, "is_accepted": false, "score": 0, "last_activity_date": 1557404005, "creation_date": 1557404005, "answer_id": 56059193, "question_id": 56050268, "link": "https://stackoverflow.com/questions/56050268/is-there-plans-to-add-kotlin-support-for-the-spring-tools-suite/56059193#56059193", "title": "Is there plans to add Kotlin support for the Spring Tools Suite?", "body": "<p>The Spring Tools 4 extension for VSCode does not support Kotlin yet (for the Spring specific tooling). Feel free to comment on <a href=\"https://github.com/spring-projects/sts4/issues/163\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/sts4/issues/163</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8285017, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H7fbJcGG_T8/AAAAAAAAAAI/AAAAAAAAAB8/DC9_aQIgSeY/photo.jpg?sz=128", "display_name": "ChrisAtMachine", "link": "https://stackoverflow.com/users/8285017/chrisatmachine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 457, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557404005, "creation_date": 1557357921, "question_id": 56050268, "link": "https://stackoverflow.com/questions/56050268/is-there-plans-to-add-kotlin-support-for-the-spring-tools-suite", "title": "Is there plans to add Kotlin support for the Spring Tools Suite?", "body": "<p>I want to use Kotlin with the Spring Tools suite plugin for VSCode but it only supports Java (For things like intellisense).</p>\n\n<p>I know I should just use intelliJ and I will for now but I program in a lot of different languages daily and I would like to do all of this from the same tool.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1557352447, "post_id": 56045063, "comment_id": 98740498, "body": "Yes, Java initializes those arrays with null."}], "answers": [{"tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": false, "score": 1, "last_activity_date": 1557333378, "creation_date": 1557333378, "answer_id": 56045315, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor/56045315#56045315", "title": "Initialize an Array class property in a constructor", "body": "<p>In kotlin if you want to initialize an array with nulls then you have to make it accept null as a value.</p>\n\n<p>To do this you would do something like:</p>\n\n<pre><code>private val leftToRights: Array&lt;Bitmap?&gt; = arrayOf(null, null, null)\n</code></pre>\n\n<p>By specifying it's an array of <code>Bitmap?</code> rather than <code>Bitmap</code> it allows you to make an array of null's since each item is an optional bitmap.</p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 3, "last_activity_date": 1557335067, "creation_date": 1557335067, "answer_id": 56045757, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor/56045757#56045757", "title": "Initialize an Array class property in a constructor", "body": "<p>In <strong>Kotlin</strong> you can declare the array with <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a>:</p>\n\n<pre><code>private lateinit var leftToRights: Array&lt;Bitmap?&gt;\n</code></pre>\n\n<p>Notice that you must use <code>Bitmap?</code> instead of <code>Bitmap</code> if you want to fill the array with nulls when you initialize it and also you must use <code>var</code> instead of <code>val</code> because <code>lateinit</code> is allowed only on mutable properties.<br/>\nLater initialize the array using the size you want with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of-nulls.html\" rel=\"nofollow noreferrer\"><code>arrayOfNulls()</code></a>:</p>\n\n<pre><code>leftToRights = arrayOfNulls(3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 5362302, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735801396647802/picture?type=large", "display_name": "Denis Dorohov", "link": "https://stackoverflow.com/users/5362302/denis-dorohov"}, "is_accepted": false, "score": 0, "last_activity_date": 1557342375, "last_edit_date": 1557342375, "creation_date": 1557342013, "answer_id": 56047396, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor/56047396#56047396", "title": "Initialize an Array class property in a constructor", "body": "<p>Answering your second question, yes, object fields with non-primitive types in Java will be initialised with nulls.</p>\n\n<p>In addition to previous response, if you don't want to use <code>var lateinit</code> and you prefer code readability over performance gain from fixed-size arrays, you could use something like this:</p>\n\n<pre><code>private val leftToRights = mutableListOf&lt;Bitmap&gt;()\nprivate val rightToLefts = mutableListOf&lt;Bitmap&gt;()\nprivate val topToBottoms = mutableListOf&lt;Bitmap&gt;()\nprivate val bottomToTops = mutableListOf&lt;Bitmap&gt;()\n</code></pre>\n\n<p>P.S. I would gladly make this a comment instead of response, but I don't have enough reputation :(</p>\n"}, {"tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": false, "score": 0, "last_activity_date": 1557343551, "last_edit_date": 1557343551, "creation_date": 1557342187, "answer_id": 56047426, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor/56047426#56047426", "title": "Initialize an Array class property in a constructor", "body": "<p>By your design, the values in <code>Bitmap</code> arrays can be null. In Kotlin this is reflected by the arrays having the type<code>Array&lt;Bitmap?&gt;</code>. With this in mind the following <code>Rows</code> class will work:</p>\n\n<pre><code>class Bitmap\n\nclass Rows(val colCount: Int) {\n    val leftToRights by lazy { init() }\n    val rightToLefts by lazy { init() }\n    val topToBottoms by lazy { init() }\n    val bottomToTops by lazy { init() }\n\n    private fun init() = Array&lt;Bitmap?&gt;(colCount) { null }\n}\n\nfun main() {\n    val rows = Rows(3)\n\n    with(rows) {\n        leftToRights[1] = Bitmap()\n\n        println(leftToRights[0]) // null\n        println(leftToRights[1]) // Bitmap@...\n        println(leftToRights[2]) // null\n    }\n}\n</code></pre>\n\n<p>This way you dont need <code>lateinit</code> (lazy does this for you) and you dont need to use <code>var</code>. Here <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html</a> is an explanation on how <code>by lazy</code> works </p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 9401943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVPqk.png?s=128&g=1", "display_name": "birneee", "link": "https://stackoverflow.com/users/9401943/birneee"}, "is_accepted": false, "score": 0, "last_activity_date": 1557393733, "creation_date": 1557393733, "answer_id": 56056217, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor/56056217#56056217", "title": "Initialize an Array class property in a constructor", "body": "<p>There are multiple ways to initialize arrays in Kotlin with null:</p>\n\n<pre><code>val leftToRights: Array&lt;Bitmap?&gt; = arrayOf(null, null, null)\nval leftToRights = Array&lt;Bitmap?&gt;(3){_ -&gt; null }\nval leftToRights = arrayOfNulls&lt;Bitmap?&gt;(3)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 10525018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03318ebb733597c921d981d0a0d26ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Yeste", "link": "https://stackoverflow.com/users/10525018/yeste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 56045757, "answer_count": 5, "score": 0, "last_activity_date": 1557393733, "creation_date": 1557332417, "last_edit_date": 1557342564, "question_id": 56045063, "link": "https://stackoverflow.com/questions/56045063/initialize-an-array-class-property-in-a-constructor", "title": "Initialize an Array class property in a constructor", "body": "<p>I'm new in kotlin and I'm tryng to understand how can I initialize this array in the correct way.</p>\n\n<p>My java code:</p>\n\n<pre><code> private Bitmap[] leftToRights;\n private Bitmap[] rightToLefts;\n private Bitmap[] topToBottoms;\n private Bitmap[] bottomToTops;\n\n\n //On constructor(colCount = 3)\n this.topToBottoms = new Bitmap[colCount]; // 3\n this.rightToLefts = new Bitmap[colCount]; // 3\n this.leftToRights = new Bitmap[colCount]; // 3\n this.bottomToTops = new Bitmap[colCount]; // 3\n</code></pre>\n\n<p>In Kotlin(my try):</p>\n\n<pre><code>//Declaration\nprivate val leftToRights: Array&lt;Bitmap&gt;\nprivate val rightToLefts: Array&lt;Bitmap&gt;\nprivate val topToBottoms: Array&lt;Bitmap&gt;\nprivate val bottomToTops: Array&lt;Bitmap&gt; \n\n//Init\nArray&lt;Bitmap&gt;(colCount,/*Missing argument, what shall I initialize with?*/)\nthis.topToBottoms = Array&lt;Bitmap&gt;(colCount,/*Missing argument, what shall I initialize with?*)\nthis.rightToLefts = Array&lt;Bitmap&gt;(colCount,/*Missing argument, what shall I initialize with?*)\nthis.leftToRights = Array&lt;Bitmap&gt;(colCount,/*Missing argument, what shall I initialize with?*)\nthis.bottomToTops = Array&lt;Bitmap&gt;(colCount,/*Missing argument, what shall I initialize with?*)\n</code></pre>\n\n<p>So what is a good way to initialize these arrays same way as java does? Can someone explain how it works in java, does java initialize Bitmap array with null?</p>\n\n<p>Sorry for my english, hope you can understand it. I'm open to any question about this post.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 0, "last_activity_date": 1557330535, "creation_date": 1557330535, "answer_id": 56044534, "question_id": 56044298, "link": "https://stackoverflow.com/questions/56044298/firebase-kotlin-reference-more-than-one-child/56044534#56044534", "title": "Firebase Kotlin Reference more than one child", "body": "<p>There is no way in which you can perform a query and get all those objects in a single go. However, there is a workaround in which you can make some changes in your database structure, by reducing the number of children. So please check the below schema:</p>\n\n<pre><code>{\n  \"main1\": {\n      {\n        \"a\": \"Test1\",\n        \"b\": \"Test2\",\n        \"branch1\": true\n      },\n      {\n        \"a\": \"Test3\",\n        \"b\": \"Test4\"\n        \"branch1\": true\n      },\n      {\n        \"a\": \"Test5\",\n        \"b\": \"Test6\"\n        \"branch2\": true\n      },\n      {\n        \"a\": \"Test7\",\n        \"b\": \"Test8\"\n        \"branch2\": true\n      }\n  }\n}\n</code></pre>\n\n<p>If you want to get all objects, simply use the following reference:</p>\n\n<pre><code>FirebaseDatabase.getInstance().getReference().child(\"main1\");\n</code></pre>\n\n<p>If you want to get all object of type <code>branch1</code>, use the following query:</p>\n\n<pre><code>FirebaseDatabase.getInstance().getReference().child(\"main1\")\n    .orderByChild(\"branch1\")\n    .equalTo(true);\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 8481155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957dce17390fbe2930a688171236d95e?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok KS", "link": "https://stackoverflow.com/users/8481155/ashok-ks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 56044534, "answer_count": 1, "score": 0, "last_activity_date": 1557330535, "creation_date": 1557329721, "question_id": 56044298, "link": "https://stackoverflow.com/questions/56044298/firebase-kotlin-reference-more-than-one-child", "title": "Firebase Kotlin Reference more than one child", "body": "<p>I'm using Firebase Realtime Database for my Android application using Kotlin.</p>\n\n<p>I have my JSON in the below format.</p>\n\n<pre><code>    {\n  \"main1\": {\n    \"branch1\": [\n      {\n        \"a\": \"Test1\",\n        \"b\": \"Test2\"\n      },\n      {\n        \"a\": \"Test3\",\n        \"b\": \"Test4\"\n      }\n    ],\n    \"branch2\": [\n      {\n        \"a\": \"Test5\",\n        \"b\": \"Test6\"\n      },\n      {\n        \"a\": \"Test7\",\n        \"b\": \"Test8\"\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>I want to get results for more than one child and get them displayed in the Recycler view.</p>\n\n<p>Currently I'm able to populate only from one child with the below code.</p>\n\n<pre><code>FirebaseDatabase.getInstance().getReference().child(\"main1\").child(\"branch1\")\n</code></pre>\n\n<p>But I'm not able to find a query to get combined results for both branch1 and branch2. Also I could have main2 with branch3 and branch4.</p>\n\n<p>How can I get them as single output for multiple child to be displayed on the RecyclerView.</p>\n"}, {"tags": ["javafx", "kotlin", "fxml", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557379828, "post_id": 56044409, "comment_id": 98746297, "body": "Thank you for your answer.  How am I supposed to create new tabs for a tab pane when I should not create them manually? Could you please tell me what &quot;find&quot; you mean? I&#39;m new to this and can&#39;t follow. Also how  can I use inject to create new tabs to be inserted into a tabpane? Could you please elaborate on that a little more?"}, {"owner": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557382512, "post_id": 56044409, "comment_id": 98747279, "body": "It is easy to define the user interface using builders, as you recommended. But I don&#39;t know how to apply this to the UI building of tabs (and not to a view). I mean, besides adding nodes."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557468641, "post_id": 56044409, "comment_id": 98782135, "body": "Don&#39;t create Tab subclasses. Create Fragments and add them to the TabPane using the <code>add&lt;MyFragmentClass&gt;()</code>. The title from the Fragment will be automatically picked up by the TabPane."}, {"owner": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557899373, "post_id": 56044409, "comment_id": 98914914, "body": "Could you give a short example please?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1557987522, "post_id": 56044409, "comment_id": 98951551, "body": "There are examples of this in the guide, read chapter 7 (<a href=\"https://edvin.gitbooks.io/tornadofx-guide/part1/7.%20Layouts%20and%20Menus.html\" rel=\"nofollow noreferrer\">edvin.gitbooks.io/tornadofx-guide/part1/&hellip;</a>). Look for &quot;Using UIComponents as tabs&quot;. You&#39;ll find a full code example there. I think it would be a good idea for you to read the guide from the beginning to get a better grasp of the framework."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 0, "last_activity_date": 1557330084, "creation_date": 1557330084, "answer_id": 56044409, "question_id": 56043824, "link": "https://stackoverflow.com/questions/56043824/how-to-use-fxid-for-tab-content-in-kotlin-tornadofx/56044409#56044409", "title": "How to use fx:id for tab content in kotlin/tornadofx?", "body": "<p>You load the FXML for the root node for the UI component using the <code>by fxml()</code> delegate and you access UI components generated from the FXML using the <code>by fxid()</code> delegate. You don't use the <code>@FXML</code> annotation in TornadoFX. You must also never instantate UIComponent instances manually, use <code>find</code> or <code>inject</code>.</p>\n\n<p>Please read <a href=\"https://github.com/edvin/tornadofx-guide/blob/master/part1/10.%20FXML.md\" rel=\"nofollow noreferrer\">https://github.com/edvin/tornadofx-guide/blob/master/part1/10.%20FXML.md</a> for a complete explanation and also consider ditching FXML in favor of the much much better alternative: Type Safe Builders.</p>\n"}], "owner": {"reputation": 27, "user_id": 6602741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AtHbq87HNrE/AAAAAAAAAAI/AAAAAAAAABk/3HB9A-NRp58/photo.jpg?sz=128", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/6602741/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557330084, "creation_date": 1557328188, "question_id": 56043824, "link": "https://stackoverflow.com/questions/56043824/how-to-use-fxid-for-tab-content-in-kotlin-tornadofx", "title": "How to use fx:id for tab content in kotlin/tornadofx?", "body": "<p>Using the following code always ends with:</p>\n\n<pre><code>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property textArea has not been initialized\n    at kam.applogviewer.main.LogTab.setContent(LogTab.kt:20)\n</code></pre>\n\n<p>It happens when I call <code>LogTab::setContent(lines)</code>.\nMaybe this isn't the right way to use FXML with a tab in tornadofx? </p>\n\n<p>MainView.kt (snippet):</p>\n\n<pre><code>class MainView : View(\"Example\")\n{\n    ...\n\n    fun showFileContent(fileName: String, lines: List&lt;String&gt;)\n    {\n        val logTab = LogTab(fileName, lines)\n        tabPane.tabs.add(logTab)\n        tabPane.selectionModel.select(logTab)\n\n        // this call raises the exception\n        logTab.setContent(lines)\n    }\n}\n</code></pre>\n\n<p>LogTab.kt:</p>\n\n<pre><code>package example.applogviewer.main\n\nimport javafx.fxml.FXML\nimport javafx.fxml.FXMLLoader\nimport javafx.scene.control.Tab\nimport javafx.scene.control.TextArea\n\nclass LogTab(fileName: String, lines: List&lt;String&gt;) : Tab(fileName)\n{\n    @FXML\n    lateinit var textArea: TextArea\n\n    init\n    {\n        content = FXMLLoader.load(this.javaClass.getResource(\"LogTab.fxml\"))\n    }\n\n    fun setContent(lines: List&lt;String&gt;)\n    {\n        textArea.text = \"I like to see this text.\"\n    }\n}\n</code></pre>\n\n<p>LogTab.fxml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;TextArea xmlns=\"http://javafx.com/javafx\" xmlns:fx=\"http://javafx.com/fxml\" fx:id=\"textArea\"/&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "mocking", "mockito", "ktor", "koin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557331866, "post_id": 56043677, "comment_id": 98731625, "body": "did you read the following? <a href=\"https://insert-koin.io/docs/2.0/quick-references/testing-your-components/\" rel=\"nofollow noreferrer\">insert-koin.io/docs/2.0/quick-references/&hellip;</a>"}, {"owner": {"reputation": 410, "user_id": 1856814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/122d9a0db9837381bdebd9edd9b83e84?s=128&d=identicon&r=PG&f=1", "display_name": "James Freitas", "link": "https://stackoverflow.com/users/1856814/james-freitas"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557334346, "post_id": 56043677, "comment_id": 98732708, "body": "Yes, I did and tried but it did not work."}], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 1856814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/122d9a0db9837381bdebd9edd9b83e84?s=128&d=identicon&r=PG&f=1", "display_name": "James Freitas", "link": "https://stackoverflow.com/users/1856814/james-freitas"}, "edited": false, "score": 0, "creation_date": 1557407887, "post_id": 56046762, "comment_id": 98760977, "body": "Thanks for your suggestion!  Could you give access to that repository? I will try to simulate here"}, {"owner": {"reputation": 2339, "user_id": 120599, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21f83b8b8bea4a758ea590515d90fe6f?s=128&d=identicon&r=PG", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/120599/kevin-jones"}, "reply_to_user": {"reputation": 410, "user_id": 1856814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/122d9a0db9837381bdebd9edd9b83e84?s=128&d=identicon&r=PG&f=1", "display_name": "James Freitas", "link": "https://stackoverflow.com/users/1856814/james-freitas"}, "edited": false, "score": 0, "creation_date": 1561277808, "post_id": 56046762, "comment_id": 100004893, "body": "Hi @JamesFreitas, sorry been away for a while. It&#39;s now public"}], "tags": [], "owner": {"reputation": 2339, "user_id": 120599, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/21f83b8b8bea4a758ea590515d90fe6f?s=128&d=identicon&r=PG", "display_name": "Kevin Jones", "link": "https://stackoverflow.com/users/120599/kevin-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1557339096, "creation_date": 1557339096, "answer_id": 56046762, "question_id": 56043677, "link": "https://stackoverflow.com/questions/56043677/how-to-replace-koin-service-injection-in-a-ktor-route-test-by-a-mocked-service/56046762#56046762", "title": "How to replace Koin service injection in a Ktor route test by a mocked service", "body": "<p>If you're trying to set up the code for testing/mocking and not trying to investigate the features of Koin then the the way I've done this is to break things down, so something like: </p>\n\n<pre><code>fun Application.module(testing: Boolean = false) {\n\n    val todoService: TodoService by inject()\n    moduleWithDependencies(eventService)\n}\n\nfun Application.moduleWithDependencies(eventService: EventService) {\n    install(Routing) {\n        eventApi(eventService)\n    }\n}\n</code></pre>\n\n<p>eventApi has the routes and I can then test that independently</p>\n\n<p>There's an example here (not very complete) <a href=\"https://github.com/kevinrjones/koodoo\" rel=\"nofollow noreferrer\">https://github.com/kevinrjones/koodoo</a></p>\n"}, {"tags": [], "owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "is_accepted": false, "score": 0, "last_activity_date": 1593043872, "creation_date": 1593043872, "answer_id": 62565929, "question_id": 56043677, "link": "https://stackoverflow.com/questions/56043677/how-to-replace-koin-service-injection-in-a-ktor-route-test-by-a-mocked-service/62565929#62565929", "title": "How to replace Koin service injection in a Ktor route test by a mocked service", "body": "<p>The problem is that you are starting Koin inside <code>Application.module()</code>.</p>\n<p>It is better to start Koin <strong>before</strong> calling <code>Application.module()</code>. So you can initialize different dependencies in production and test environments.</p>\n<p>This is how to start production environment:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val appEnvironment = commandLineEnvironment(args)\n    startKoin { modules(initAppModule(appEnvironment.config)) }\n    embeddedServer(Netty, appEnvironment).start(true)\n}\n</code></pre>\n<p>And this is test environment:</p>\n<pre><code>fun testApp(test: TestApplicationEngine.() -&gt; Unit) {\n    withApplication(createTestEnvironment {\n        config = HoconApplicationConfig(ConfigFactory.load(&quot;application.conf&quot;))\n        startKoin { modules(initTestAppModule(config)) }\n    }, {\n    }, test)\n\n    val koin = KoinContextHandler.get()\n    stopKoin() // Stop koin after test\n}\n</code></pre>\n<p>See example here: <a href=\"https://github.com/comm1x/ktor-boot/blob/master/src/main.kt\" rel=\"nofollow noreferrer\">https://github.com/comm1x/ktor-boot/blob/master/src/main.kt</a></p>\n<p>And there: <a href=\"https://github.com/comm1x/ktor-boot/blob/master/test/common/common.kt\" rel=\"nofollow noreferrer\">https://github.com/comm1x/ktor-boot/blob/master/test/common/common.kt</a></p>\n"}], "owner": {"reputation": 410, "user_id": 1856814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/122d9a0db9837381bdebd9edd9b83e84?s=128&d=identicon&r=PG&f=1", "display_name": "James Freitas", "link": "https://stackoverflow.com/users/1856814/james-freitas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1593043872, "creation_date": 1557327739, "question_id": 56043677, "link": "https://stackoverflow.com/questions/56043677/how-to-replace-koin-service-injection-in-a-ktor-route-test-by-a-mocked-service", "title": "How to replace Koin service injection in a Ktor route test by a mocked service", "body": "<p>I want to make a test for a Ktor route that uses Koin to inject a service.  I am struggling to mock the service used by the Ktor route in my test.   </p>\n\n<p>Here is the Ktor <strong>Application.kt</strong> file</p>\n\n<pre><code>@kotlin.jvm.JvmOverloads\nfun Application.module(testing: Boolean = false) {\n    install(Locations) {\n    }\n    // Suppressed code\n    installKoin(listOf(dependencyInjectionModule))\n\n    routing {\n\n        val eventService by inject&lt;EventService&gt;()\n\n        get(\"/issues/{issueNumber}/events\") {\n\n            val issue = call.parameters[\"issueNumber\"]\n            val issueNumber = parseInt(issue)\n            call.respond(eventService.getEventsByIssueNumber(issueNumber))\n        }      \n    }\n    // Suppressed code\n}\n</code></pre>\n\n<p>Koin is working here above, the problem is when I need to mock instead of using Koin.</p>\n\n<p>Here is the <strong>AplicationTest.kt</strong> file</p>\n\n<pre><code>class ApplicationTest {\n\n    private val eventDtoList = listOfNotNull(\n        EventDto(1, \"opened\", \"2019-03-24T21:40:18Z\", 1 ),\n        EventDto(2, \"closed\", \"2019-03-28T21:40:18Z\", 1 )\n    )\n\n    @Test\n    fun testGettingEventsByExistingIssueNumber() {\n\n        withTestApplication({ module(testing = true) }) {\n\n            stopKoin()\n\n            handleRequest(HttpMethod.Get, \"/issues/1/events\").apply {\n                val eventService:EventService = mock {\n                    onBlocking { getEventsByIssueNumber(any()) } doReturn eventDtoList\n                }\n\n                val resultList = Gson().fromJson(response.content, Array&lt;EventDto&gt;::class.java).asList()\n\n                assertEquals(response.status(), HttpStatusCode.OK)\n                assertThat(resultList).hasSize(2)\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I want to mock the eventList which is returned by the service, but I when I get to this line:</p>\n\n<pre><code>withTestApplication({ module(testing = true) })\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>2019-05-08 11:51:40:881 (KOIN)::[e] Error while resolving instance for class 'com.service.EventService' - error: org.koin.error.NoBeanDefFoundException: No compatible definition found for type 'EventService'. Check your module definition \n\norg.koin.error.NoBeanDefFoundException: No compatible definition found for type 'EventService'. Check your module definition\n\n    at org.koin.core.bean.BeanRegistry.retrieveDefinition(BeanRegistry.kt:113)\n    at org.koin.core.instance.InstanceRegistry$proceedResolution$$inlined$synchronized$lambda$1.invoke(InstanceRegistry.kt:87)\n    at org.koin.core.instance.InstanceRegistry$proceedResolution$$inlined$synchronized$lambda$1.invoke(InstanceRegistry.kt:36)\n    at org.koin.core.time.DurationKt.measureDuration(Duration.kt:8)\n    at org.koin.core.instance.InstanceRegistry.proceedResolution(InstanceRegistry.kt:84)\n    at org.koin.core.instance.InstanceRegistry.resolve(InstanceRegistry.kt:63)\n    at org.koin.core.instance.InstanceRegistry.resolve$default(InstanceRegistry.kt:48)\n    at com.jaya.octovevent.ApplicationKt$module$4$$special$$inlined$inject$1.invoke(KtorRoutingExt.kt:112)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.jaya.octovevent.ApplicationKt$module$4$2.invokeSuspend(Application.kt:76)\n    at com.ApplicationKt$module$4$2.invoke(Application.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.StatusPages$interceptCall$2.invokeSuspend(StatusPages.kt:94)\n    at io.ktor.features.StatusPages$interceptCall$2.invoke(StatusPages.kt)\n    at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:91)\n    at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:180)\n    at io.ktor.features.StatusPages.interceptCall(StatusPages.kt:93)\n    at io.ktor.features.StatusPages$Feature$install$2.invokeSuspend(StatusPages.kt:133)\n    at io.ktor.features.StatusPages$Feature$install$2.invoke(StatusPages.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.routing.Routing.executeResult(Routing.kt:148)\n    at io.ktor.routing.Routing.interceptor(Routing.kt:29)\n    at io.ktor.routing.Routing$Feature$install$1.invokeSuspend(Routing.kt:93)\n    at io.ktor.routing.Routing$Feature$install$1.invoke(Routing.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invokeSuspend(ContentNegotiation.kt:63)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invoke(ContentNegotiation.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:265)\n    at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.testing.TestApplicationEngine$handleRequest$pipelineJob$1.invokeSuspend(TestApplicationEngine.kt:263)\n    at |b|b|b(Coroutine boundary.|b(|b)\n    at io.ktor.features.StatusPages.interceptCall(StatusPages.kt:93)\n    at io.ktor.features.StatusPages$Feature$install$2.invokeSuspend(StatusPages.kt:133)\n    at io.ktor.routing.Routing.executeResult(Routing.kt:148)\n    at io.ktor.routing.Routing$Feature$install$1.invokeSuspend(Routing.kt:93)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invokeSuspend(ContentNegotiation.kt:63)\n    at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:265)\n    at io.ktor.server.testing.TestApplicationEngine$handleRequest$pipelineJob$1.invokeSuspend(TestApplicationEngine.kt:263)\n    at kotlinx.coroutines.DeferredCoroutine.await$suspendImpl(Builders.common.kt:98)\n    at io.ktor.server.testing.TestApplicationEngine$handleRequest$1.invokeSuspend(TestApplicationEngine.kt:129)\nCaused by: org.koin.error.NoBeanDefFoundException: No compatible definition found for type 'EventService'. Check your module definition\n    at org.koin.core.bean.BeanRegistry.retrieveDefinition(BeanRegistry.kt:113)\n    at org.koin.core.instance.InstanceRegistry$proceedResolution$$inlined$synchronized$lambda$1.invoke(InstanceRegistry.kt:87)\n    at org.koin.core.instance.InstanceRegistry$proceedResolution$$inlined$synchronized$lambda$1.invoke(InstanceRegistry.kt:36)\n    at org.koin.core.time.DurationKt.measureDuration(Duration.kt:8)\n    at org.koin.core.instance.InstanceRegistry.proceedResolution(InstanceRegistry.kt:84)\n    at org.koin.core.instance.InstanceRegistry.resolve(InstanceRegistry.kt:63)\n    at org.koin.core.instance.InstanceRegistry.resolve$default(InstanceRegistry.kt:48)\n    at com.ApplicationKt$module$4$$special$$inlined$inject$1.invoke(KtorRoutingExt.kt:112)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.ApplicationKt$module$4$2.invokeSuspend(Application.kt:76)\n    at com.ApplicationKt$module$4$2.invoke(Application.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.StatusPages$interceptCall$2.invokeSuspend(StatusPages.kt:94)\n    at io.ktor.features.StatusPages$interceptCall$2.invoke(StatusPages.kt)\n    at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:91)\n    at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:180)\n    at io.ktor.features.StatusPages.interceptCall(StatusPages.kt:93)\n    at io.ktor.features.StatusPages$Feature$install$2.invokeSuspend(StatusPages.kt:133)\n    at io.ktor.features.StatusPages$Feature$install$2.invoke(StatusPages.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.routing.Routing.executeResult(Routing.kt:148)\n    at io.ktor.routing.Routing.interceptor(Routing.kt:29)\n    at io.ktor.routing.Routing$Feature$install$1.invokeSuspend(Routing.kt:93)\n    at io.ktor.routing.Routing$Feature$install$1.invoke(Routing.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invokeSuspend(ContentNegotiation.kt:63)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invoke(ContentNegotiation.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.testing.TestApplicationEngine$2.invokeSuspend(TestApplicationEngine.kt:265)\n    at io.ktor.server.testing.TestApplicationEngine$2.invoke(TestApplicationEngine.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.testing.TestApplicationEngine$handleRequest$pipelineJob$1.invokeSuspend(TestApplicationEngine.kt:263)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:238)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\n</code></pre>\n\n<p>I am aware that Koin can not find the EventService implementation because I have stopped it (Koin). So how can I replace Koin injection by my mocked service?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["java", "android", "kotlin", "android-viewpager"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11375073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iTcH.jpg?s=128&g=1", "display_name": "Sagar Golder", "link": "https://stackoverflow.com/users/11375073/sagar-golder"}, "is_accepted": true, "score": 1, "last_activity_date": 1558935675, "last_edit_date": 1558935675, "creation_date": 1557389984, "answer_id": 56055088, "question_id": 56042543, "link": "https://stackoverflow.com/questions/56042543/how-can-i-change-default-speed-of-viewpager-auto-sliding-in-kotlin/56055088#56055088", "title": "How can i change default speed of viewpager auto sliding in kotlin?", "body": "<p>You can see it, I think it will help you...</p>\n\n<pre><code>private fun init() {\n\n\n    mPager = findViewById(R.id.pager) as ViewPager\n    mPager!!.adapter = SlidingImage_Adapter(this@MainActivity, this.imageModelArrayList!!)\n\n    val indicator = findViewById(R.id.indicator) as CirclePageIndicator\n\n    indicator.setViewPager(mPager)\n\n    val density = resources.displayMetrics.density\n\n    //Set circle indicator radius\n    indicator.setRadius(5 * density)\n\n    NUM_PAGES = imageModelArrayList!!.size\n\n    // Auto start of viewpager\n    val handler = Handler()\n    val Update = Runnable {\n        if (currentPage == NUM_PAGES) {\n            currentPage = 0\n        }\n        mPager!!.setCurrentItem(currentPage++, true)\n    }\n    val swipeTimer = Timer()\n    swipeTimer.schedule(object : TimerTask() {\n        override fun run() {\n            handler.post(Update)\n        }\n    }, 3000, 3000)\n\n    // Pager listener over indicator\n    indicator.setOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n\n        override fun onPageSelected(position: Int) {\n            currentPage = position\n\n        }\n\n        override fun onPageScrolled(pos: Int, arg1: Float, arg2: Int) {\n\n        }\n\n        override fun onPageScrollStateChanged(pos: Int) {\n\n        }\n    })\n\n}\n\ncompanion object {\n\n    private var mPager: ViewPager? = null\n    private var currentPage = 0\n    private var NUM_PAGES = 0\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 11367893, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9Kykfadsf7c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc3njAMU3GKzHkXoMspajA3Iq5BZQ/mo/photo.jpg?sz=128", "display_name": "P A Gosai", "link": "https://stackoverflow.com/users/11367893/p-a-gosai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 56055088, "answer_count": 1, "score": 0, "last_activity_date": 1558935675, "creation_date": 1557323916, "last_edit_date": 1557327082, "question_id": 56042543, "link": "https://stackoverflow.com/questions/56042543/how-can-i-change-default-speed-of-viewpager-auto-sliding-in-kotlin", "title": "How can i change default speed of viewpager auto sliding in kotlin?", "body": "<p>I use below code to change default speed of sliding in viewpager.\nI try java code, <a href=\"https://stackoverflow.com/questions/8155257/slowing-speed-of-viewpager-controller-in-android\">This Stackoverflow question's Help</a>.\nI use below kotlin code to set limit of animation of auto swipe of view pager</p>\n\n<pre><code>val mScroller = ViewPager::class.java.getDeclaredField(\"mScroller\");\nmScroller.setAccessible(true);\nval scroller = Scroller(requireContext(), DecelerateInterpolator());\nmScroller.set(mPager, scroller);\n</code></pre>\n\n<p>But non of code working for kotlin, and give this crash</p>\n\n<pre><code>05-08 19:21:59.690 23859-23859/com.mindfulness.greece A/libc: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x0 in tid 23859 (dfulness.greece)\n05-08 19:21:59.820 7677-7677/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n05-08 19:21:59.820 7677-7677/? A/DEBUG: Build fingerprint: 'Android/sdk_google_phone_x86/generic_x86:6.0/MASTER/5056751:userdebug/test-keys'\n05-08 19:21:59.820 7677-7677/? A/DEBUG: Revision: '0'\n05-08 19:21:59.820 7677-7677/? A/DEBUG: ABI: 'x86'\n05-08 19:21:59.821 7677-7677/? A/DEBUG: pid: 23859, tid: 23859, name: dfulness.greece  &gt;&gt;&gt; com.mindfulness.greece &lt;&lt;&lt;\n05-08 19:21:59.821 7677-7677/? A/DEBUG: signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x0\n05-08 19:21:59.830 7677-7677/? A/DEBUG:     eax 00000000  ebx b5ba0398  ecx 00000002  edx 00000000\n05-08 19:21:59.831 7677-7677/? A/DEBUG:     esi 9b6bd6bc  edi 00000028\n05-08 19:21:59.831 7677-7677/? A/DEBUG:     xcs 00000073  xds 0000007b  xes 0000007b  xfs 00000007  xss 0000007b\n05-08 19:21:59.831 7677-7677/? A/DEBUG:     eip b5b111d0  ebp bf742000  esp bffa6030  flags 00210286\n05-08 19:21:59.832 7677-7677/? A/DEBUG: backtrace:\n05-08 19:21:59.832 7677-7677/? A/DEBUG:     #00 pc 0002a1d0  /system/lib/libhwui.so\n05-08 19:21:59.832 7677-7677/? A/DEBUG:     #01 pc 0003e9eb  /system/lib/libhwui.so (android::uirenderer::DisplayListCanvas::drawCircle(float, float, float, SkPaint const&amp;)+251)\n05-08 19:21:59.832 7677-7677/? A/DEBUG:     #02 pc 000d581c  /system/lib/libandroid_runtime.so\n05-08 19:21:59.833 7677-7677/? A/DEBUG:     #03 pc 737055f0  /data/dalvik-cache/x86/system@framework@boot.oat (offset 0x1eb2000)\n05-08 19:21:59.833 7677-7677/? A/DEBUG:     #04 pc 00002ca3  /system/lib/libhwui.so (offset 0xb3000)\n05-08 19:21:59.833 7677-7677/? A/DEBUG:     #05 pc 0003a193  /system/lib/libhwui.so (non-virtual thunk to android::uirenderer::DisplayListCanvas::~DisplayListCanvas()+9)\n05-08 19:21:59.833 7677-7677/? A/DEBUG:     #06 pc 0003a20f  /system/lib/libhwui.so\n05-08 19:21:59.833 7677-7677/? A/DEBUG:     #07 pc 027010eb  [heap]\n05-08 19:21:59.980 7677-7677/? A/DEBUG: Tombstone written to: /data/tombstones/tombstone_05\n05-08 19:21:59.981 7677-7677/? E/DEBUG: AM write failed: Broken pipe\n05-08 19:22:00.100 1640-1696/system_process E/InputDispatcher: channel 'eb88da6 com.mindfulness.greece/com.mindfulness.greece.activity.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n05-08 19:22:00.191 1640-6583/system_process E/eglCodecCommon: glUtilsParamSize: unknow param 0x000082da\n05-08 19:22:00.192 1640-6583/system_process E/eglCodecCommon: glUtilsParamSize: unknow param 0x00008cdf\n05-08 19:22:00.192 1640-6583/system_process E/eglCodecCommon: glUtilsParamSize: unknow param 0x00008824\n05-08 19:22:00.259 1955-2211/com.android.launcher3 E/eglCodecCommon: glUtilsParamSize: unknow param 0x000082da\n05-08 19:22:00.259 1955-2211/com.android.launcher3 E/eglCodecCommon: glUtilsParamSize: unknow param 0x00008cdf\n05-08 19:22:00.260 1955-2211/com.android.launcher3 E/eglCodecCommon: glUtilsParamSize: unknow param 0x00008824\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 121, "user_id": 10915888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d92ef61748ae883f5bd802e5b3ad0854?s=128&d=identicon&r=PG&f=1", "display_name": "Urle", "link": "https://stackoverflow.com/users/10915888/urle"}, "edited": false, "score": 0, "creation_date": 1557328693, "post_id": 56042410, "comment_id": 98730001, "body": "I guess your book is &quot;Programming Kotlin&quot; (page 121) by  Stephen Samuel and Stefan Bocutiu (Packt Publishing). It&#39;s not wrong, but could have been clearer that the compiler needs to be able to figure out the signature."}], "tags": [], "owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "is_accepted": true, "score": 3, "last_activity_date": 1557323573, "creation_date": 1557323573, "answer_id": 56042410, "question_id": 56041854, "link": "https://stackoverflow.com/questions/56041854/using-implicit-variable-in-function-literal/56042410#56042410", "title": "Using implicit variable in function literal", "body": "<p>See the <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">Kotlin documentation</a>, specifically where it says:</p>\n\n<blockquote>\n  <p>If the compiler can figure the signature out itself, it is allowed not\n  to declare the only parameter and to omit <code>-&gt;</code>. The parameter will be\n  implicitly declared under the name <code>it</code>.</p>\n</blockquote>\n\n<p>In your case, the compiler (at least up to current version 1.3.31) can't figure the signature out itself:</p>\n\n<pre><code>val printMessage = {println(it)}\n</code></pre>\n\n<p>But if you give your <code>printMessage</code> variable an explicit type, it will work:</p>\n\n<pre><code>val printMessage: (String) -&gt; Unit = { println(it) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 10915888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d92ef61748ae883f5bd802e5b3ad0854?s=128&d=identicon&r=PG&f=1", "display_name": "Urle", "link": "https://stackoverflow.com/users/10915888/urle"}, "edited": false, "score": 0, "creation_date": 1557383205, "post_id": 56042454, "comment_id": 98747553, "body": "Which one is more often used and more readable? I just started learning and for me first line looks better. Or does it just depend on personal preference?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 121, "user_id": 10915888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d92ef61748ae883f5bd802e5b3ad0854?s=128&d=identicon&r=PG&f=1", "display_name": "Urle", "link": "https://stackoverflow.com/users/10915888/urle"}, "edited": false, "score": 1, "creation_date": 1557384296, "post_id": 56042454, "comment_id": 98748000, "body": "I only use lambdas as parameter for which you have to declare the type explicitly. In this case I&#39;d actually declare a local function: <code>fun printMessage(value: String) = println(value)</code>. This also makes the usage clear for the reader."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1557323693, "creation_date": 1557323693, "answer_id": 56042454, "question_id": 56041854, "link": "https://stackoverflow.com/questions/56041854/using-implicit-variable-in-function-literal/56042454#56042454", "title": "Using implicit variable in function literal", "body": "<p>You always need to provide all information about all generic parameters. If you want to omit it, it needs to be inferable from some other part of the code. The only information you provide though is that you want <code>printMessage</code> to be a lambda. So it assumes it to be of type <code>()-&gt;Unit</code>. This is because you don't declare a parameter for the lambda itself. The implicit parameter <code>it</code> is therefore not usable.</p>\n\n<pre><code>val printMessage = { it: String -&gt; println(it) }\nval printMessage: (String)-&gt;Unit = { println(it) }\n</code></pre>\n\n<p>Simply put: If you're inside a lambda with one parameter, the implicit <code>it</code> can be used as this parameters name, but a reference named <code>it</code> within the body of the lambda doesn't declare the single parameter.</p>\n"}], "owner": {"reputation": 121, "user_id": 10915888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d92ef61748ae883f5bd802e5b3ad0854?s=128&d=identicon&r=PG&f=1", "display_name": "Urle", "link": "https://stackoverflow.com/users/10915888/urle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 56042410, "answer_count": 2, "score": 0, "last_activity_date": 1557323693, "creation_date": 1557321747, "question_id": 56041854, "link": "https://stackoverflow.com/questions/56041854/using-implicit-variable-in-function-literal", "title": "Using implicit variable in function literal", "body": "<p>I started reading Kotlin course book. I stopped on function literals. Here I have a code:</p>\n\n<pre><code>val printMessage = { message: String -&gt; println(message) }\nprintMessage(\"hello\")\nprintMessage(\"world\")\n</code></pre>\n\n<p>Then I have an information that I can omit parameter type:</p>\n\n<pre><code>{ message -&gt; println(message) }\n</code></pre>\n\n<p>And now I have next step:</p>\n\n<p>\"In fact, Kotlin has a neater trick. If there is only a single parameter and the type can beinferred, then the compiler will allow us to omit the parameter completely. In this case, itmakes the implicit variable it available:</p>\n\n<pre><code>{println(it)}\n</code></pre>\n\n<p>And now after using this code I get an error \"unresolved reference: it\" and \"too many arguments for public operator fun invoke(): ??? defined in kotlin.Function()\":</p>\n\n<pre><code>val printMessage = {println(it)}\nprintMessage(\"print something\")\n</code></pre>\n\n<p>My question is how to use implicit variable in single paramenter function literal?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 4, "last_activity_date": 1557329336, "last_edit_date": 1557329336, "creation_date": 1557325822, "answer_id": 56043100, "question_id": 56041812, "link": "https://stackoverflow.com/questions/56041812/how-to-figure-out-if-some-kotlin-standard-library-type-is-serializable/56043100#56043100", "title": "How to figure out if some Kotlin standard library type is Serializable?", "body": "<p>Actually if you start with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-linked-hash-set/index.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> its declaration is as follows:</p>\n\n<pre><code>expect class LinkedHashSet&lt;E&gt; : MutableSet&lt;E&gt; {\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/platform-specific-declarations.html\" rel=\"nofollow noreferrer\"><code>expect</code></a> however awaits an actual implementation and the actual implementation of this on the JVM is <code>java.util.LinkedHashSet</code>, which then implements <code>Serializable</code>:</p>\n\n<pre><code>@SinceKotlin(\"1.1\") public actual typealias LinkedHashSet&lt;E&gt; = java.util.LinkedHashSet&lt;E&gt;\n</code></pre>\n\n<p>Regarding <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html\" rel=\"nofollow noreferrer\"><code>Int</code></a> it is a bit more complicated. There we do not see any <code>expect</code>. But we know <code>Int</code> can represent both: the Java primitive type <code>int</code>, but also the Java type <code>Integer</code>. The compiler actually uses now <code>java.lang.Integer</code> under the hood and that implements <code>Serializable</code> via <code>java.lang.Number</code>.</p>\n\n<p>You can check the actual types at runtime, using something as follows:</p>\n\n<pre><code>val linkedSet = linkedSetOf(linkedSetOf(1, 2, 3), 2)\nlinkedSet.forEach { content -&gt;\n    content::class.java.interfaces.joinToString {\n        it.simpleName\n    }.also {\n        println(\"${content::class.java}: $it\")\n    }\n}\n</code></pre>\n\n<p>Regarding how you can find out whether a \"standard\" library type implements <code>Serializable</code> or not: besides consulting the documentation, you can just declare the type explicitly if you want to ensure serializable types, i.e.:</p>\n\n<pre><code>val linkedset : LinkedHashSet&lt;Serializable&gt; = ...\n</code></pre>\n\n<p>You will then get compile time errors if something isn't serializable (except you do an unsafe cast in which case you basically fool the compiler or yourself).</p>\n"}, {"tags": [], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1557414435, "creation_date": 1557414435, "answer_id": 56062447, "question_id": 56041812, "link": "https://stackoverflow.com/questions/56041812/how-to-figure-out-if-some-kotlin-standard-library-type-is-serializable/56062447#56062447", "title": "How to figure out if some Kotlin standard library type is Serializable?", "body": "<p>If you are using IDE, you can easily check that for any type thanks to Lint:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1JNFX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JNFX.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 603, "user_id": 2528967, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a55522c3906cc3e7641d84fdeb34f99d?s=128&d=identicon&r=PG", "display_name": "Andrii Lisun", "link": "https://stackoverflow.com/users/2528967/andrii-lisun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56043100, "answer_count": 2, "score": 3, "last_activity_date": 1557414435, "creation_date": 1557321588, "question_id": 56041812, "link": "https://stackoverflow.com/questions/56041812/how-to-figure-out-if-some-kotlin-standard-library-type-is-serializable", "title": "How to figure out if some Kotlin standard library type is Serializable?", "body": "<p>In the following code, the <code>linkedSet</code> variable is of type <code>LinkedHashSet&lt;Serializable&gt;</code>:</p>\n\n<pre><code>val linkedSet = linkedSetOf(linkedSetOf(1, 2, 3), 2)\n</code></pre>\n\n<p>The first element of the resulting set is <code>LinkedHashSet&lt;Int&gt;</code>. Going up the hierarchy of <code>LinkedHashSet</code> I didn't find the <code>Serializable</code>. Same thing for <code>Int</code>. </p>\n\n<p>Why does inheriting the <code>Serializable</code> isn't explicit? And how can I figure out that some type is <code>Serializable</code>?</p>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver"], "answers": [{"tags": [], "owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "is_accepted": true, "score": 1, "last_activity_date": 1557503766, "creation_date": 1557503766, "answer_id": 56081082, "question_id": 56041661, "link": "https://stackoverflow.com/questions/56041661/passing-data-to-intent-broadcastreceiver/56081082#56081082", "title": "Passing Data to Intent / BroadcastReceiver", "body": "<p>Sure.</p>\n\n<p>When you create the <code>BroadcastReceiver</code>, pass it the data it will need in the constructor. Then, when<code>onReceive()</code> is called, it has the data that it needs. Something like this:</p>\n\n<pre><code>// Create the BroadcastReceiver\nBroadcastReceiver receiver = new MyReceiver(data, another, andAnother);\nregisterReceiver(receiver, filter)\nstartActivity(intent)\n</code></pre>\n\n<p>In <code>MyReceiver</code>, declare member variables to hold <code>data</code>, <code>another</code> and <code>andAnother</code> and initialize them in the constructor.</p>\n"}], "owner": {"reputation": 53, "user_id": 9004105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xE1yS.jpg?s=128&g=1", "display_name": "Rich Gabrielli", "link": "https://stackoverflow.com/users/9004105/rich-gabrielli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 56081082, "answer_count": 1, "score": 1, "last_activity_date": 1557503766, "creation_date": 1557321110, "last_edit_date": 1557322653, "question_id": 56041661, "link": "https://stackoverflow.com/questions/56041661/passing-data-to-intent-broadcastreceiver", "title": "Passing Data to Intent / BroadcastReceiver", "body": "<p>I am calling an intent and the package is another app that I do not have control of. I have set up a BroadcastReceiver to listen and get a piece of data from the intent. This is working perfectly in the code I have attached.</p>\n\n<p>My issue is I now need to do different actions based on data I would like to pass in from the activity calling the intent. </p>\n\n<p>Is there a way to pass the data from my activity to the BroadcastReceiver that I can use? Any and all help is appreciated.</p>\n\n<p>I have tried to use a bundle (putString and getString), but when the intent is started, it is the 3rd party intent and the only bundle is the data they are providing to me. The bundle I tried to pass does not exist.</p>\n\n<p>call from MainActivity</p>\n\n<pre><code>        getTickets.setOnClickListener {\n            Log.i(\"Track\", \"MA1: \" + Date().toString())\n            if (checkOrientation()) {\n                intent = Intent()\n                intent.setAction(\"com.trakitgps.GET_VEHICLE_NUM\")\n                intent.setPackage(\"com.trakitgps\")\n                val filter = IntentFilter(\"com.trakitgps.GET_VEHICLE_NUM_RESPONSE\")\n                registerReceiver(receiver, filter)\n                startActivity(intent)\n            }\n        }\n\n</code></pre>\n\n<p>BroadcastReceiver</p>\n\n<pre><code>class TrackItReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n\n\n        when (intent.action) {\n            \"com.trakitgps.GET_VEHICLE_NUM_RESPONSE\" -&gt; {\n                val truckNbr = intent.extras.getString(\"vehicleNum\")\n                val errorMsg = intent.extras.getString(\"errorMsg\")\n\n                val newIntent = Intent(context, TruckTicketsActivity::class.java)\n                newIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                newIntent.putExtra(\"assignedTruck\", truckNbr)\n                newIntent.putExtra(\"truckError\", errorMsg)\n                context.startActivity(newIntent)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "asynchronous", "kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 1573036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaVEE.jpg?s=128&g=1", "display_name": "Victor R. Oliveira", "link": "https://stackoverflow.com/users/1573036/victor-r-oliveira"}, "edited": false, "score": 0, "creation_date": 1557320222, "post_id": 56041044, "comment_id": 98724536, "body": "Seems to me that this won&#39;t have the desired effect since you&#39;re calling them within the same <code>launch</code> scope consecutively. Also, <code>suspend</code> functions can&#39;t be called outside a <code>context</code>. I will take a better look soon as I have time and I wasn&#39;t the one who voted down btw.."}, {"owner": {"reputation": 301, "user_id": 7961311, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431612043523834/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7961311/david"}, "reply_to_user": {"reputation": 2413, "user_id": 1573036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaVEE.jpg?s=128&g=1", "display_name": "Victor R. Oliveira", "link": "https://stackoverflow.com/users/1573036/victor-r-oliveira"}, "edited": false, "score": 0, "creation_date": 1557320716, "post_id": 56041044, "comment_id": 98724876, "body": "I just can&#39;t understand why my answer is voted down)) I think you can get desired effect with suspendable functions. You can use coroutine channels as well in this case. Hope you will  find optimal solution!"}], "tags": [], "owner": {"reputation": 301, "user_id": 7961311, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431612043523834/picture?type=large", "display_name": "David", "link": "https://stackoverflow.com/users/7961311/david"}, "is_accepted": false, "score": -1, "last_activity_date": 1557319202, "creation_date": 1557319202, "answer_id": 56041044, "question_id": 56040790, "link": "https://stackoverflow.com/questions/56040790/coroutines-is-there-a-way-to-block-multiple-executions-and-notify-them-all/56041044#56041044", "title": "Coroutines: Is there a way to block multiple executions and notify them all?", "body": "<p>Yes you can. Make all your functions suspendable and then call all of them from launch block.\nIt will be like this</p>\n\n<pre><code>suspend fun fun1() {\n  println(\"some async 1\")\n}\n\nsuspend fun fun2() {\n  println(\"some async 2\")\n}\n\nsuspend fun fun3() {\n  println(\"some async 3\")\n}\n\nCoroutineScope(Dispatchers.Default).launch {\n    fun1()\n    fun2()\n    fun3()\n}\n</code></pre>\n\n<p>The result will be</p>\n\n<pre><code>some async 1\nsome async 2\nsome async 3\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 1573036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaVEE.jpg?s=128&g=1", "display_name": "Victor R. Oliveira", "link": "https://stackoverflow.com/users/1573036/victor-r-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557319202, "creation_date": 1557318468, "question_id": 56040790, "link": "https://stackoverflow.com/questions/56040790/coroutines-is-there-a-way-to-block-multiple-executions-and-notify-them-all", "title": "Coroutines: Is there a way to block multiple executions and notify them all?", "body": "<p>I've been trying to implement a <code>wait</code> &amp; <code>notifyAll</code> system like I used to do in Java. Main idea is to make multiple functions call to wait for a signal and continue their execution.</p>\n\n<p>The following test case wraps the intended implementation:</p>\n\n<pre><code>@Test\nfun blocking_multiple_shouldReturnOne() {\n    var valueOne : Int? = null\n    var valueTwo : Int? = null\n    var valueThree : Int? = null\n    var valueFour : Int? = null\n\n    val threadManager = ThreadManager()\n\n    threadManager.startBlocking { \n        valueOne = 1\n    }\n\n    threadManager.startBlocking {\n        valueTwo = 1\n    }\n\n    threadManager.startBlocking {\n        valueThree = 1\n    }\n\n    threadManager.startBlocking {\n        valueFour = 1\n    }\n\n    threadManager.startAndNotifyAll {\n        valueOne = 0\n        valueTwo = 0\n        valueThree = 0\n        valueFour = 0\n    }\n\n    assertTrue(\"startBlocking wasn't executed right after notify all\", valueOne == 1)\n    assertTrue(\"startBlocking wasn't executed right after notify all\", valueTwo == 1)\n    assertTrue(\"startBlocking wasn't executed right after notify all\", valueThree == 1)\n    assertTrue(\"startBlocking wasn't executed right after notify all\", valueFour == 1)\n}\n</code></pre>\n\n<p>Is there a way to do this using Coroutines in Kotlin? So far no luck researching.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1557315773, "post_id": 56039982, "comment_id": 98721982, "body": "Can u paste the code for alert fragment? And the full stacktrace plz"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1557316787, "post_id": 56039982, "comment_id": 98722512, "body": "If dialog fragment is in kotlin . Then you are only missing an import for <code>AlertFragment</code>."}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1557318128, "post_id": 56039982, "comment_id": 98723262, "body": "@SaeedEntezari added fragment code"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1557318188, "post_id": 56039982, "comment_id": 98723300, "body": "@ADM I have imported alert fragment already"}, {"owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1557318591, "post_id": 56039982, "comment_id": 98723528, "body": "What is the version of Kotlin you are using? Did you use the <code>getInstance</code> pattern?"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1557318837, "post_id": 56039982, "comment_id": 98723682, "body": "@SaeedEntezari 1.3.31"}, {"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1557327457, "post_id": 56039982, "comment_id": 98729228, "body": "What does <code>BaseDialogFragment</code> extend? What version of fragment library do you use? (full fragment package name). Also, can you reference any Kotlin code from Java code? (for example create empty kotlin class, then empty java class and try to instantiate that kotlin class in java class method). If you use IDE, is Kotlin&#39;s <code>AlertDialog</code> import highlighted as red? We need more information, because as it is now it builds perfectly for me in given configuration."}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1558350726, "post_id": 56039982, "comment_id": 99059916, "body": "@xinaiz i&#39;m using <code>androidx</code>, BaseDialogFragment extends <code>DialogFragment</code> and I did not get any import issue."}], "owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558351003, "creation_date": 1557315632, "last_edit_date": 1558351003, "question_id": 56039982, "link": "https://stackoverflow.com/questions/56039982/unable-to-call-kotlin-fragment-from-java-class", "title": "Unable to call kotlin fragment from java class", "body": "<p>I have created new dialog fragment in kotlin but my project was in java. I have tried display dialog from another java fragment.</p>\n\n<p>I called from java like below</p>\n\n<pre><code>   new AlertFragment().show(getChildFragmentManager(),\"AlertFragment\");\n</code></pre>\n\n<p>It's shows build error with message  </p>\n\n<blockquote>\n  <p>error: cannot find symbol class AlertFragment</p>\n</blockquote>\n\n<p>what's would be issue and how do I resolve it?</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>Code of AlertFragment</strong></p>\n\n<pre><code>import android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.databinding.DataBindingUtil\n\nclass AlertFragment : BaseDialogFragment() {\nprivate var binding: FragmentAlertBinding? = null\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    binding = DataBindingUtil.inflate(inflater, R.layout.fragment_alert, container, false)\n    return binding?.root\n}\n}\n</code></pre>\n\n<p><strong>BaseDialogFagment</strong> is java class</p>\n\n<pre><code> class BaseDialogFragment extends DialogFragment\n</code></pre>\n\n<p><strong>Note :</strong> I'm using Androidx lib for support.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-handler"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11463719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751d323f3e2efa46d3d6765a1b3b623c?s=128&d=identicon&r=PG&f=1", "display_name": "Ruchi Patel", "link": "https://stackoverflow.com/users/11463719/ruchi-patel"}, "edited": false, "score": 0, "creation_date": 1557318608, "post_id": 56039517, "comment_id": 98723546, "body": "That&#39;s was silly of me just forgot that method thanks it&#39;s working now"}], "tags": [], "owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "is_accepted": true, "score": 0, "last_activity_date": 1557314200, "creation_date": 1557314200, "answer_id": 56039517, "question_id": 56038603, "link": "https://stackoverflow.com/questions/56038603/how-to-dynamically-update-textview-inside-recycler-view-with-handler-thread/56039517#56039517", "title": "How to dynamically update textview inside recycler view with handler thread", "body": "<p>You're not updating the textview on UI thread. Add this inside <code>Runnable {}</code>: </p>\n\n<pre><code>override fun run() {\n    holder.txthrs.setText(hour.toString() + \":\" + min.toString() + \":\" + sec.toString())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1557314246, "creation_date": 1557314246, "answer_id": 56039531, "question_id": 56038603, "link": "https://stackoverflow.com/questions/56038603/how-to-dynamically-update-textview-inside-recycler-view-with-handler-thread/56039531#56039531", "title": "How to dynamically update textview inside recycler view with handler thread", "body": "<p>You would not run a timer on a <code>RecyclerView.Holder</code> at all.</p>\n\n<p>Suppose you have an adapter with a fixed possition holding the timer value. Then you only need to update that value within the adapter and notify the listener about the change.</p>\n\n<pre><code>fun setTime(time: String) {\n    this.time = time\n    notifyItemChanged(timeItemIndex, time)\n}\n\nadapter.setTime(timeString)\n</code></pre>\n\n<p>I addition you'd have to manage a possibility to stop the timer as well.</p>\n"}], "owner": {"reputation": 5, "user_id": 11463719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751d323f3e2efa46d3d6765a1b3b623c?s=128&d=identicon&r=PG&f=1", "display_name": "Ruchi Patel", "link": "https://stackoverflow.com/users/11463719/ruchi-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 56039517, "answer_count": 2, "score": 0, "last_activity_date": 1557314246, "creation_date": 1557311274, "last_edit_date": 1557313440, "question_id": 56038603, "link": "https://stackoverflow.com/questions/56038603/how-to-dynamically-update-textview-inside-recycler-view-with-handler-thread", "title": "How to dynamically update textview inside recycler view with handler thread", "body": "<p>I'm trying to update my <code>TextView</code> with <code>Handler</code> thread from <code>RecyclerView</code> here the thread is getting executed successfully but my <code>TextView</code> is not getting updated every second.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>val timerHandler = Handler()\nvar sec: Int = 0\nvar min: Int = 0\nvar hour: Int = 0\nupdater = Runnable {\n    sec.inc()\n    if (sec &gt; 60) {\n        sec = 0\n        min.inc()\n    }\n    if (min &gt; 60) {\n        min = 0\n        hour.inc()\n    }\n\n    if(min &gt;= 10 &amp;&amp; hour &gt;= 10 &amp;&amp; sec &gt;= 10) {\n        holder.txthrs.setText(hour.toString() + \":\" + min.toString() + \":\" + sec.toString())\n    } else {\n        holder.txthrs.setText(\"0\" + hour.toString() + \":\" + \"0\" + min.toString() + \":\" + \"0\" + sec.toString())\n    }\n    settime(hour.toString() + \":\" + min.toString() + \":\" + sec.toString(), position.inc())\n    timerHandler.postDelayed(updater, 1000)\n}\ntimerHandler.post(updater) \n</code></pre>\n\n<p>Any suggestions will be appreciated!</p>\n"}, {"tags": ["android", "object", "kotlin", "singleton"], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "edited": false, "score": 0, "creation_date": 1557311892, "post_id": 56038629, "comment_id": 98719777, "body": "&quot; I&#39;ve got some user data, that i want to make available through the entire app, without having to pass it through activities.&quot; using intent.putExtra() is exactly what i want to avoid"}, {"owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "edited": false, "score": 0, "creation_date": 1557312310, "post_id": 56038629, "comment_id": 98720013, "body": "and I&#39;m already using the static kotlin object and wanna know if it is safe this way, so your answer doesn&#39;t really help me here"}, {"owner": {"reputation": 36, "user_id": 11468846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-14C57ZvPz9A/AAAAAAAAAAI/AAAAAAAAAAc/byv9a8s9f2I/photo.jpg?sz=128", "display_name": "Tobiah Shaw", "link": "https://stackoverflow.com/users/11468846/tobiah-shaw"}, "reply_to_user": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "edited": false, "score": 0, "creation_date": 1557313589, "post_id": 56038629, "comment_id": 98720801, "body": "use static is a simple and efficient way to handle this problem,but the safety depency on yourself. I use this method too.if you want other way better,like you say i can not help you."}, {"owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "edited": false, "score": 0, "creation_date": 1557314516, "post_id": 56038629, "comment_id": 98721289, "body": "Please read carefully... This is Kotlin not Java. There is no static keyword. The equivalent to java&#39;s statics are companion objects / objects"}], "tags": [], "owner": {"reputation": 36, "user_id": 11468846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-14C57ZvPz9A/AAAAAAAAAAI/AAAAAAAAAAc/byv9a8s9f2I/photo.jpg?sz=128", "display_name": "Tobiah Shaw", "link": "https://stackoverflow.com/users/11468846/tobiah-shaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1557311327, "creation_date": 1557311327, "answer_id": 56038629, "question_id": 56038489, "link": "https://stackoverflow.com/questions/56038489/is-it-safe-to-store-data-in-a-kotlin-object/56038629#56038629", "title": "Is it safe to store data in a kotlin object?", "body": "<p>use intent put extras or maintain a static Object</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "edited": false, "score": 0, "creation_date": 1557312709, "post_id": 56038939, "comment_id": 98720252, "body": "Thanks, that&#39;s all i needed to know &lt;3"}], "tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": true, "score": 2, "last_activity_date": 1557312402, "creation_date": 1557312402, "answer_id": 56038939, "question_id": 56038489, "link": "https://stackoverflow.com/questions/56038489/is-it-safe-to-store-data-in-a-kotlin-object/56038939#56038939", "title": "Is it safe to store data in a kotlin object?", "body": "<p>Short answer: it's safe as long as your Android process does not end.</p>\n\n<p>Long answer: this boils down to the discussion about lifetime of singletons and static variables in Java. There have already been some answers to this very question, so I won't re-iterate those here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/1944369/5427663\">Android static object lifecycle</a></li>\n<li><a href=\"https://stackoverflow.com/q/16744677/5427663\">Is it safe to use static class variables in an android application</a></li>\n<li><a href=\"https://stackoverflow.com/q/17900456/5427663\">Lifetime of a static variable in Android</a></li>\n</ul>\n"}], "owner": {"reputation": 162, "user_id": 7547137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827cc7fb0f93b91e177a02e6648c74f1?s=128&d=identicon&r=PG&f=1", "display_name": "lionthefox", "link": "https://stackoverflow.com/users/7547137/lionthefox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 56038939, "answer_count": 2, "score": 1, "last_activity_date": 1557312402, "creation_date": 1557310890, "last_edit_date": 1557311940, "question_id": 56038489, "link": "https://stackoverflow.com/questions/56038489/is-it-safe-to-store-data-in-a-kotlin-object", "title": "Is it safe to store data in a kotlin object?", "body": "<p>I have a question regarding objects in kotlin, to which I couldn't find a satisfying answer so far.\nIt's basically the following scenario: I've got some user data, that I want to make available through the entire app, without having to pass it through activities.</p>\n\n<p>To achieve this, I created an object with two properties that are instantiated with the user's data in the startup activity. Is this a safe way to store and make the user's data available for all activities or will it get lost on the way?</p>\n\n<p>Example:</p>\n\n<pre><code>object CurrentUserManager {\n    lateinit var userId: String,\n    lateinit var userName: String\n    }\n\nLoginActivity {\n    ...\n    onCreate(...){\n        val user = ApiCall.Login();\n        CurrentUserManager.userId = user.id\n        CurrentUserManager.userName = user.name\n    }\n}\n\nMainActivity {\n    ...\n    onCreate(...){\n        Toast.makeText(this, \"Hello ${CurrentUserManager.userName} with ID: ${CurrentUserManager.userId}\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>Is this unsafe/bad practice and if so why and which pattern should I use to achieve the expected outcome?</p>\n\n<p>Thanks,\nlionthefox</p>\n"}, {"tags": ["android", "android-fragments", "android-intent", "kotlin", "bundle"], "comments": [{"owner": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 0, "creation_date": 1557310841, "post_id": 56038169, "comment_id": 98719163, "body": "you got <code>userWallet</code> as null?"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 2655, "user_id": 4649110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpll5.jpg?s=128&g=1", "display_name": "Basi", "link": "https://stackoverflow.com/users/4649110/basi"}, "edited": false, "score": 0, "creation_date": 1557310862, "post_id": 56038169, "comment_id": 98719179, "body": "yes dear, show me null"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11094106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b051b8ce368fbdd140b2424d75b8104c?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Patel", "link": "https://stackoverflow.com/users/11094106/jainil-patel"}, "reply_to_user": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1557311202, "post_id": 56038374, "comment_id": 98719365, "body": "is your response.user.wallet.credit variable in a string and try to check it is not null while passing just to be sure :)"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1557311390, "post_id": 56038374, "comment_id": 98719467, "body": "i check it, show me value of response.user.wallet.credit into log. but when send show me null in activity!"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1557311453, "post_id": 56038374, "comment_id": 98719501, "body": "when remove <b>?</b> from <code>intent?.getStringExtra(USER_WALLET_PRICE).toString()</code>  show me nullPointerError for <b><code>intent</code></b> !!!"}, {"owner": {"reputation": 81, "user_id": 11094106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b051b8ce368fbdd140b2424d75b8104c?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Patel", "link": "https://stackoverflow.com/users/11094106/jainil-patel"}, "reply_to_user": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1557311783, "post_id": 56038374, "comment_id": 98719702, "body": "okay well try to get this value in a different variable like this <code>val credit = response.user.wallet.credit</code> if that&#39;s not null, try to check that your extra is not null  <code>Bundle extras = getIntent().getExtras();  String userName;  if (extras != null) {     userName = extras.getString(&quot;name&quot;);     &#47;&#47; and get whatever type user account id is }</code>"}], "tags": [], "owner": {"reputation": 81, "user_id": 11094106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b051b8ce368fbdd140b2424d75b8104c?s=128&d=identicon&r=PG&f=1", "display_name": "Jainil Patel", "link": "https://stackoverflow.com/users/11094106/jainil-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1557313284, "last_edit_date": 1557313284, "creation_date": 1557310536, "answer_id": 56038374, "question_id": 56038169, "link": "https://stackoverflow.com/questions/56038169/how-to-send-data-from-fragment-to-activity-in-android/56038374#56038374", "title": "How to send data from fragment to Activity in Android", "body": "<p>you need to use intent like this from a fragment.</p>\n\n<pre><code>homeDashboard_giftInfoLayout.setOnClickListener {\n val intent = Intent(activity, DashboardChargeWalletActivity::class.java)\n intent.putExtra(USER_WALLET_PRICE, response.user.wallet.credit)\n intent.putExtra(USER_CHARGED_VALUE, 0)\n startActivity(intent);\n}\n</code></pre>\n\n<p>also you can use requireActivity</p>\n\n<pre><code>val intent=Intent(requireActivity(),DashboardChargeWalletActivity::class.java)\n</code></pre>\n\n<p>Hopefully this will work for you. </p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 6633425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dbf2073fe4667f6269b01ad8c807a84?s=128&d=identicon&r=PG&f=1", "display_name": "jins joseph", "link": "https://stackoverflow.com/users/6633425/jins-joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1557310766, "last_edit_date": 1557310766, "creation_date": 1557310711, "answer_id": 56038428, "question_id": 56038169, "link": "https://stackoverflow.com/questions/56038169/how-to-send-data-from-fragment-to-activity-in-android/56038428#56038428", "title": "How to send data from fragment to Activity in Android", "body": "<p>try this, it may help</p>\n\n<pre><code>    Intent intent = new Intent(getActivity(), LoadActivity.class);\n    intent.putExtra(USER_WALLET_PRICE, response.user.wallet.credit)\n    intent.putExtra(USER_CHARGED_VALUE, 0)\n    startActivity(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1786, "user_id": 6842292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L5qGqKN0Ho4/AAAAAAAAAAI/AAAAAAAAyKs/NQxQ_UyyHcM/photo.jpg?sz=128", "display_name": "Vin Norman", "link": "https://stackoverflow.com/users/6842292/vin-norman"}, "is_accepted": true, "score": 1, "last_activity_date": 1557311901, "creation_date": 1557311901, "answer_id": 56038790, "question_id": 56038169, "link": "https://stackoverflow.com/questions/56038169/how-to-send-data-from-fragment-to-activity-in-android/56038790#56038790", "title": "How to send data from fragment to Activity in Android", "body": "<p>this line:</p>\n\n<pre><code>intent.putExtra(USER_WALLET_PRICE, response.user.wallet.credit)\n</code></pre>\n\n<p>I suspect that <code>response.user.wallet.credit</code> isn't a string. So the below line:</p>\n\n<pre><code>userWallet = intent?.getStringExtra(USER_WALLET_PRICE).toString()\n</code></pre>\n\n<p>won't find a string extra with <code>USER_WALLET_PRICE</code> key. Check what type response.user.wallet.credit is, int? long? serializable? and make sure you get it by the same type</p>\n"}], "owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3058, "favorite_count": 0, "accepted_answer_id": 56038790, "answer_count": 3, "score": 0, "last_activity_date": 1585665825, "creation_date": 1557309872, "question_id": 56038169, "link": "https://stackoverflow.com/questions/56038169/how-to-send-data-from-fragment-to-activity-in-android", "title": "How to send data from fragment to Activity in Android", "body": "<p>In my application i want use <code>Fragment</code> and <code>Activity</code> and i want <code>startActivity</code> from this <code>fragment</code> and i should send data with <code>startActivity</code><br>\nI write below codes, but when running application show <strong>null</strong> in <code>activity</code>!<br>\n<strong>Fragment codes :</strong> </p>\n\n<pre><code>homeDashboard_giftInfoLayout.setOnClickListener {\n    val intent = Intent(requireContext(), DashboardChargeWalletActivity::class.java)\n    intent.putExtra(USER_WALLET_PRICE, response.user.wallet.credit)\n    intent.putExtra(USER_CHARGED_VALUE, 0)\n    startActivity(intent)\n}\n</code></pre>\n\n<p><strong>Activity codes :</strong> </p>\n\n<pre><code>userWallet = intent?.getStringExtra(USER_WALLET_PRICE).toString()\nuserWallet.let {\n    //User wallet\n    dashboardChargeWallet_userWallet.text =\n        \"${getString(R.string.walletInventory)}: $userWallet ${getString(R.string.toman)}\"\n}\n</code></pre>\n\n<p>when click on button for <code>startActivity</code> i show this <code>response.user.wallet.credit</code> into <strong>toast</strong>.<br>\nBut into <code>activity</code> show me <strong>null</strong> !</p>\n\n<p>I used <strong>Kotlin</strong> for language.</p>\n\n<p>How can i fix it?</p>\n"}, {"tags": ["android", "kotlin", "xml-parsing", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 814, "user_id": 1333130, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ks0kG.png?s=128&g=1", "display_name": "QLag", "link": "https://stackoverflow.com/users/1333130/qlag"}, "is_accepted": false, "score": 1, "last_activity_date": 1557311103, "creation_date": 1557311103, "answer_id": 56038550, "question_id": 56038000, "link": "https://stackoverflow.com/questions/56038000/parse-xml-array-with-simplexmlconverterfactory-kotlin/56038550#56038550", "title": "Parse XML Array with SimpleXmlConverterFactory / Kotlin", "body": "<p>I found an answer ! </p>\n\n<p>I have to annotate my Echeance class as</p>\n\n<pre><code>@Root(name = \"echeance\")\n</code></pre>\n\n<p>then remove the name attribute for my @ElementList echeances and mark as <em>inline</em></p>\n\n<pre><code>@field:ElementList(inline = true, required = false) lateinit var echeances :List&lt;Echeance&gt;\n</code></pre>\n\n<p>the full code : </p>\n\n<pre><code>data class Data(val ville :String, val code :Int) {\n\n    @field:Element(name=\"city\")\n    lateinit var city :String\n\n    @field:Element(name=\"code\") var remoteCode :Int = -1\n\n    @field:ElementList(inline = true, required = false) lateinit var echeances :List&lt;Echeance&gt;\n\n}\n\n@Root(name = \"echeance\")\nclass Echeance {\n\n    @field:Attribute(name=\"ech\") var value :Int = 0\n    @field:Element(name=\"subData\") var value :Int = 0 \n\n}\n</code></pre>\n"}], "owner": {"reputation": 814, "user_id": 1333130, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ks0kG.png?s=128&g=1", "display_name": "QLag", "link": "https://stackoverflow.com/users/1333130/qlag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557311103, "creation_date": 1557309312, "question_id": 56038000, "link": "https://stackoverflow.com/questions/56038000/parse-xml-array-with-simplexmlconverterfactory-kotlin", "title": "Parse XML Array with SimpleXmlConverterFactory / Kotlin", "body": "<p>How can I parse an Array of XML Elements \"echeance\" form this XML format:  </p>\n\n<pre><code>&lt;data&gt;\n    &lt;code&gt;353&lt;/code&gt;\n    &lt;city&gt;Ville&lt;/city&gt;\n    &lt;echeance ech=\"3\"&gt;\n        &lt;subData&gt;45&lt;/subData&gt;\n    &lt;/echeance&gt;\n    &lt;echeance ech=\"6\"&gt;\n        &lt;subData&gt;45&lt;/subData&gt;\n    &lt;/echeance&gt;\n    &lt;echeance ech=\"9\"&gt;\n        &lt;subData&gt;45&lt;/subData&gt;\n    &lt;/echeance&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>I want this data to be parsed in a Data object containing an array of \"Echeance\" objects, using <em>SimpleXmlConverterFactory</em></p>\n\n<p>For now, i have this kotlin code : </p>\n\n<pre><code>data class Data(val ville :String, val code :Int) {\n\n    @get:Element(name=\"city\")\n    lateinit var city :String\n\n    @get:Element(name=\"code\") var remoteCode :Int = -1\n\n    @get:ElementArray(name=\"echeance\") lateinit var echeances :Array&lt;Echeance&gt;\n}\n\nclass Echeance {\n\n    @get:Attribute(name=\"ech\") var value :Int = 0\n    @get:Element(name=\"subData\") var value :Int = 0 \n\n}\n</code></pre>\n\n<p>Unfortunately, i cannot change the XML format, for example to embed \"echance\" nodes in a parent \"echeances\" node.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["kotlin", "max", "sequence"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1557310852, "post_id": 56037672, "comment_id": 98719170, "body": "Could be more computer resources became available, the result of <code>suffle</code> lead to better branch prediction, the JIT compiler optimized something, etc..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557312362, "post_id": 56037672, "comment_id": 98720040, "body": "what might also be interesting: if you skip the <code>.shuffled()</code>, you may get several peaks instead..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1557312663, "post_id": 56037672, "comment_id": 98720219, "body": "and I also assume that&#39;s the JIT compiler optimizing something under the hood... maybe you want to do a microbenchmark instead of using <code>measureTimeInMillis</code>?"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 4, "creation_date": 1557317551, "post_id": 56037672, "comment_id": 98722948, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">How do I write a correct micro-benchmark in Java?</a>"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1557326295, "post_id": 56037672, "comment_id": 98728535, "body": "@Michael, It&#39;s not a duplicate of that question, but the link is useful."}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1557326473, "post_id": 56037672, "comment_id": 98728650, "body": "@Ilya every JVM performance question that is based on the false premise of a inaccurate measurement is a duplicate of that question"}], "answers": [{"comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557310627, "post_id": 56037975, "comment_id": 98719037, "body": "This seems to explain why using a sequence is faster than not, but unless I&#39;m missing something, how would this explain why some runs using a sequence are faster than other runs <i>also using a sequence</i>. I believe the question is about the latter."}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557317338, "post_id": 56037975, "comment_id": 98722810, "body": "You&#39;re totally right, @Slaw. Have updated the answer now."}, {"owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "edited": false, "score": 0, "creation_date": 1557328041, "post_id": 56037975, "comment_id": 98729561, "body": "A very thourough, clear and informative rundown. Thanks a lot!"}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1557317309, "last_edit_date": 1557317309, "creation_date": 1557309238, "answer_id": 56037975, "question_id": 56037672, "link": "https://stackoverflow.com/questions/56037672/how-can-max-sometimes-be-a-lot-faster-on-a-sequence-of-the-same-length/56037975#56037975", "title": "How can max() sometimes be a lot faster on a sequence of the same length?", "body": "<p>Further down is my original answer which, as @Slaw pointed out, wasn't actually answering what you asked (it was explaining why <code>Sequence.filter</code> is faster than <code>Iterable.filter</code>, not why <code>Sequence.filter</code> seems to be intermittently faster than it normally is). However, I'm leaving it below as it's related to what I think might be the answer to your actual question.</p>\n\n<p>My guess is this might be related to garbage collection. As you can see from my original answer, when you call <code>Iterable.filter</code> you are causing lots of arrays to be copied, i.e. you're putting lots of stuff in memory, which has to be cleaned up at certain points.  I wonder if it's this cleanup of stuff in memory created by the <code>List</code> tests, which is actually causing the anomalies.  I think what might be happening is that every so often the garbage collector kicks in and does a full collection: this is causing the <code>List</code> test to slow down to slower than normal. And after this runs the memory is all cleaned up, which might be why the <code>Sequence</code> test is faster that time.</p>\n\n<p>And the reason I suspect it's related to garbage collection is because I replicated your anomalies, then made one change: instead of calling <code>testList.filter</code> I call <code>testList.filterTo</code>, passing in an <code>ArrayList</code> of the same size as the list. That means that no array copying has to happen, and also the creation of the <code>ArrayList</code> is now outside of the timing:</p>\n\n<pre><code>val arrayList = ArrayList&lt;Int&gt;(testList.size)\nval listDuration = measureTimeMillis {\n    testList.filterTo(arrayList) { it % 2 == 0 }.max()\n}\n</code></pre>\n\n<p>As soon as I did that, the anomalies disappeared. Maybe you can check on your system and see if this makes the anomalies disappear there too.  It's intermittent so a bit difficult to know for sure.</p>\n\n<p>This doesn't prove that it's garbage collection, of course, but I think it makes it a possible culprit.  You could turn on GC logging to see if you wanted to know for sure.  If you do, let us know what you find: it would be interesting to hear your results.</p>\n\n<hr>\n\n<p><strong>Original answer below</strong> (explaining why <code>Iterable.filter</code> is slower than <code>Sequence.filter</code>)</p>\n\n<p>If you look at the source code for <code>Iterable&lt;T&gt;.filter</code> you'll see it does this:</p>\n\n<pre><code>public inline fun &lt;T&gt; Iterable&lt;T&gt;.filter(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\n    return filterTo(ArrayList&lt;T&gt;(), predicate)\n}\n</code></pre>\n\n<p>It creates a new <code>ArrayList</code> then loops round the items, checking the predicate against each one, and adding them to that array list if they match the predicate. This means that every X items (whatever the array list's default size is), the array list has to resize itself to allow more items in (i.e. create a new copy of the underlying array in which it's storing all its data).</p>\n\n<p>In a sequence, however, the code is different:</p>\n\n<pre><code>public fun &lt;T&gt; Sequence&lt;T&gt;.filter(predicate: (T) -&gt; Boolean): Sequence&lt;T&gt; {\n    return FilteringSequence(this, true, predicate)\n}\n</code></pre>\n\n<p>Here there isn't some underlying array storing all the items, so no copying of arrays has to take place. Instead, there's just an <code>Iterator</code> which will return the next item which matches the predicate whenever <code>next</code> is called.</p>\n\n<p>You can see the details of how this is implemented in the <code>FilteringSequence</code> class:</p>\n\n<pre><code>internal class FilteringSequence&lt;T&gt;(\n    private val sequence: Sequence&lt;T&gt;,\n    private val sendWhen: Boolean = true,\n    private val predicate: (T) -&gt; Boolean\n) : Sequence&lt;T&gt; {\n\n    override fun iterator(): Iterator&lt;T&gt; = object : Iterator&lt;T&gt; {\n        val iterator = sequence.iterator()\n        var nextState: Int = -1 // -1 for unknown, 0 for done, 1 for continue\n        var nextItem: T? = null\n\n        private fun calcNext() {\n            while (iterator.hasNext()) {\n                val item = iterator.next()\n                if (predicate(item) == sendWhen) {\n                    nextItem = item\n                    nextState = 1\n                    return\n                }\n            }\n            nextState = 0\n        }\n\n        override fun next(): T {\n            if (nextState == -1)\n                calcNext()\n            if (nextState == 0)\n                throw NoSuchElementException()\n            val result = nextItem\n            nextItem = null\n            nextState = -1\n            @Suppress(\"UNCHECKED_CAST\")\n            return result as T\n        }\n</code></pre>\n"}], "owner": {"reputation": 887, "user_id": 4428658, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/596cf8b62050334aa029d06d0d8948df?s=128&d=identicon&r=PG&f=1", "display_name": "UncleBob", "link": "https://stackoverflow.com/users/4428658/unclebob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56037975, "answer_count": 1, "score": 0, "last_activity_date": 1557317309, "creation_date": 1557308249, "question_id": 56037672, "link": "https://stackoverflow.com/questions/56037672/how-can-max-sometimes-be-a-lot-faster-on-a-sequence-of-the-same-length", "title": "How can max() sometimes be a lot faster on a sequence of the same length?", "body": "<p>I'm asking this question solely to better understand how kotlin sequences work. I thought I had a solid grasp, but I cannot explain what I observed in a short test by what I know, so obviously I have a misconception somewhere.</p>\n\n<p>My goal was to do a quick benchmark to compare the performance of lists vs. sequences when filtering for a criteria and then taking the maximum value of the result. This is an operation that occurs fairly often in some code I have, and I'm trying to decide whether or not it's worth rewriting it to use sequences instead of lists. It seems it would be, as sequence is consistently faster, but that is not the question here.</p>\n\n<p>Rather, I would ask you to explain to me how the below described \"artifact\" can come about.</p>\n\n<p>First of all, here's the complete test I ran:</p>\n\n<pre><code>fun `just checking the performance of sequences`() {\n    val log = logger()\n    var totaldif = 0L\n    var seqFasterThanList = 0\n    (1..1000).forEach {\n        val testList = (1..6000000).toList().shuffled()\n        val testSequence = testList.asSequence()\n\n        // filter and find max\n        val listDuration = measureTimeMillis {\n            testList.filter { it % 2 == 0 }.max()\n        }\n        val sequenceDuration = measureTimeMillis {\n            testSequence.filter { it % 2 == 0 }.max()\n        }\n\n        log.info(\"List: {} ms; Sequence: {} ms;\", listDuration, sequenceDuration)\n        if (sequenceDuration &lt; listDuration) {\n            seqFasterThanList++\n            totaldif += (listDuration - sequenceDuration)\n        }\n    }\n\n    log.info(\"sequence was faster {} out of 1000 runs. average difference: {} ms\",\n            seqFasterThanList, totaldif / seqFasterThanList)\n}\n</code></pre>\n\n<p>The results mostly looked like this:</p>\n\n<pre><code>List: 299 ms; Sequence: 217 ms;\nList: 289 ms; Sequence: 211 ms;\nList: 288 ms; Sequence: 220 ms;\n</code></pre>\n\n<p>Except, every once in a while, about 1 in 20, the result looked more like this:</p>\n\n<pre><code>List: 380 ms; Sequence: 63 ms\n</code></pre>\n\n<p>As you can see, in these cases the operation was vastly faster. This is the kind of behaviour I would expect on operations like find or first, which can terminate early once they find a match. But by its very nature, max <em>has</em> to traverse the entire sequence to guarantee the result. So how is it possible that some times it can find a result more than 3 times as fast as it usually requires, with the same number of elements to traverse?</p>\n"}, {"tags": ["mongodb", "spring-boot", "kotlin", "reactive-programming", "spring-repositories"], "answers": [{"tags": [], "owner": {"reputation": 2978, "user_id": 4337243, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh6.googleusercontent.com/-udTk8gjSxkc/AAAAAAAAAAI/AAAAAAAAAPM/CQbedZVkCr8/photo.jpg?sz=128", "display_name": "Ilya Zinkovich", "link": "https://stackoverflow.com/users/4337243/ilya-zinkovich"}, "is_accepted": true, "score": 1, "last_activity_date": 1557788385, "creation_date": 1557788385, "answer_id": 56120873, "question_id": 56037561, "link": "https://stackoverflow.com/questions/56037561/reactive-repository-does-not-save-an-object/56120873#56120873", "title": "Reactive repository does not save an object", "body": "<p>Use <code>Mono.then</code> function to chain <code>save</code> and <code>count</code> functions and get a resulting Mono:</p>\n\n<pre><code>@Test\nfun `save with a handler`() {\n  val countAfterSave = myHandler.save(MyObject()).then(myRepository.count());\n\n  StepVerifier.create(countAfterSave)\n    .expectNext(1L)\n    .expectComplete()\n    .verify()\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 56120873, "answer_count": 1, "score": 1, "last_activity_date": 1557788385, "creation_date": 1557307831, "last_edit_date": 1557323835, "question_id": 56037561, "link": "https://stackoverflow.com/questions/56037561/reactive-repository-does-not-save-an-object", "title": "Reactive repository does not save an object", "body": "<p>I think I don't understand well how a Reactive repository and handlers using it work. I have written a special test class only to test the simpliest handler using a repository</p>\n\n<pre><code> @SpringBootTest\n class TestRepository() {\n\n   @Autowired\n   lateinit var myRepo: myRepo\n\n   @Autowired\n   lateinit var myHandler: MyHandler\n\n   @Test\n    fun `save with a handler`() {\n    val myObject = MyObject()\n    myHandler.save(request).subscribe()\n\n    StepVerifier.create (myRepository.count() ) &lt;--this does not work\n        .expectNext (1L )\n        .expectComplete().verify()\n   }\n\n   @Test\n   fun `test only database saving`() {\n      val object = MyObject()\n\n      myRepo.save(myRepo).subscribe()\n\n      StepVerifier.create (myRepo.count() ) &lt;-- this works\n        .expectNext (1L )\n        .expectComplete().verify()\n   }\n}\n</code></pre>\n\n<p>my handler and repository are defined in the following way:</p>\n\n<pre><code>  @Service\n  class MyHandler(private val myRepository: MyRepository) {\n\n     fun save(object: MyObject): Mono&lt;MyObject&gt; {\n       return myRepository.save(request)\n     }\n  }\n\n  @Repository\n  interface MyRepo : ReactiveMongoRepository&lt;MyObject, String&gt; {\n\n    fun save(request: MyObject): Mono&lt;MyObject&gt;\n  }\n</code></pre>\n\n<p>I also tried to play with <code>subscribe</code> method but it still does not see the results. </p>\n\n<p>What should I correct?</p>\n"}, {"tags": ["android", "kotlin", "google-api-client"], "owner": {"reputation": 1804, "user_id": 5695091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eyHWK.jpg?s=128&g=1", "display_name": "ysfcyln", "link": "https://stackoverflow.com/users/5695091/ysfcyln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557316366, "creation_date": 1557306389, "last_edit_date": 1557316366, "question_id": 56037170, "link": "https://stackoverflow.com/questions/56037170/google-api-client-already-managing-with-id-0", "title": "Google Api Client already managing with id 0", "body": "<p>I want to connect <code>GoogleApiClient</code> in activity. It works fine when user click button first time and this dialog appears but when user press back button and reclick the button that responsable for initializing <code>GoogleApiClient</code>, I get this error </p>\n\n<pre><code>java.lang.IllegalStateException: Already managing a GoogleApiClient with id 0\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XUI4D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XUI4D.png\" alt=\"Google Api Client Dialog\"></a></p>\n\n<p>Here is my <code>GoogleApiClient</code> implementation</p>\n\n<pre><code> private fun initGoogleApiClient() {\n    mGoogleApiClient = GoogleApiClient.Builder(this)\n        .addApi(Fitness.RECORDING_API)\n        .addApi(Fitness.HISTORY_API)\n        .addScope(Scope(Scopes.FITNESS_ACTIVITY_READ_WRITE))\n        .addConnectionCallbacks(this)\n        .enableAutoManage(this, 0, this)\n        .build()\n     }\n\noverride fun onResume() {\n    super.onResume()\n    mGoogleApiClient?.let {\n        if (!it.isConnected) it.connect()\n    }\n}\n\noverride fun onPause() {\n    super.onPause()\n    mGoogleApiClient?.let {\n        it.stopAutoManage(this)\n        if (it.isConnected) it.disconnect()\n    }\n}\n\noverride fun onConnected(bundle: Bundle?) {\n    Timber.d(\"onConnected\")\n}\n\noverride fun onConnectionSuspended(p0: Int) {\n    Timber.d(\"onConnectionSuspended\")\n}\n\noverride fun onConnectionFailed(connectionResult: ConnectionResult) {\n    Timber.d(\"onConnectionFailed\")\n}\n</code></pre>\n\n<p>Call <code>initGoogleApiClient</code> method when user press button</p>\n\n<pre><code>btnApiClient.setOnClickListener {\n        initGoogleApiClient()\n}\n</code></pre>\n\n<p>I checked <a href=\"https://stackoverflow.com/questions/36105118/error-in-fragment-already-managing-a-googleapiclient-with-id-0\">this answer</a> and add <code>stopAutoManage</code> method but still get same error. Also checked <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/GoogleApiClient#stopAutoManage(android.support.v4.app.FragmentActivity)\" rel=\"nofollow noreferrer\">documentation</a> and it says</p>\n\n<pre><code>public abstract void stopAutoManage (FragmentActivity lifecycleActivity)\nDisconnects the client and stops automatic lifecycle management. Use this before creating a new client (which might be necessary when switching accounts, changing the set of used APIs etc.).\n\nThis method must be called from the main thread.\n</code></pre>\n\n<p>So I change my <code>initGoogleApiClient</code> method and add <code>stopAutoManage</code> method before init but this time nothing happens after first click</p>\n\n<pre><code>private fun initGoogleApiClient() {\n\nmGoogleApiClient?.stopAutoManage(this)\n\nmGoogleApiClient = GoogleApiClient.Builder(this)\n    .addApi(Fitness.RECORDING_API)\n    .addApi(Fitness.HISTORY_API)\n    .addScope(Scope(Scopes.FITNESS_ACTIVITY_READ_WRITE))\n    .addConnectionCallbacks(this)\n    .enableAutoManage(this, 0, this)\n    .build()\n\n}\n</code></pre>\n\n<p>Also I have only got this two dependencies</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-fitness:16.0.1'\nimplementation 'com.google.android.gms:play-services-auth:16.0.1'\n</code></pre>\n\n<p>Any help will be appriciated</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "layout-inflater"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557306897, "post_id": 56037168, "comment_id": 98716964, "body": "you want button on each recyclerview element or just below the list ?"}, {"owner": {"reputation": 1944, "user_id": 5576110, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZBs7N.jpg?s=128&g=1", "display_name": "JVS", "link": "https://stackoverflow.com/users/5576110/jvs"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557309564, "post_id": 56037168, "comment_id": 98718454, "body": "just below the list. this is already working. but I want to address it&#39;s properties"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 1, "creation_date": 1557309940, "post_id": 56037168, "comment_id": 98718674, "body": "can you provide some more details like when it will be clickable or do user need to select any element from recyclerview or something like that. so i can provide you some help"}, {"owner": {"reputation": 1944, "user_id": 5576110, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZBs7N.jpg?s=128&g=1", "display_name": "JVS", "link": "https://stackoverflow.com/users/5576110/jvs"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557310433, "post_id": 56037168, "comment_id": 98718913, "body": "Don&#39;t worry about the logic. I just want to access R.layout.recycler_button text and change it"}, {"owner": {"reputation": 1944, "user_id": 5576110, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZBs7N.jpg?s=128&g=1", "display_name": "JVS", "link": "https://stackoverflow.com/users/5576110/jvs"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557310446, "post_id": 56037168, "comment_id": 98718925, "body": "I don&#39;t know how to do access the attributes though"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 1, "creation_date": 1557310654, "post_id": 56037168, "comment_id": 98719051, "body": "<a href=\"https://stackoverflow.com/a/42897272/10182897\">stackoverflow.com/a/42897272/10182897</a> this can help you"}], "answers": [{"comments": [{"owner": {"reputation": 1944, "user_id": 5576110, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZBs7N.jpg?s=128&g=1", "display_name": "JVS", "link": "https://stackoverflow.com/users/5576110/jvs"}, "edited": false, "score": 0, "creation_date": 1557309616, "post_id": 56037364, "comment_id": 98718486, "body": "I am checking some boolean values and will disable the button if e.g. a boolean&#39;s value is FALSE"}], "tags": [], "owner": {"reputation": 37, "user_id": 2752408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5817daacee46eaf2daed8eed0be14d8?s=128&d=identicon&r=PG&f=1", "display_name": "hery", "link": "https://stackoverflow.com/users/2752408/hery"}, "is_accepted": false, "score": 0, "last_activity_date": 1557307082, "creation_date": 1557307082, "answer_id": 56037364, "question_id": 56037168, "link": "https://stackoverflow.com/questions/56037168/programmatically-change-layout-ressource-in-adapter/56037364#56037364", "title": "Programmatically change layout Ressource in Adapter", "body": "<p>What are the cases ? You want them to be changed tiggered by an action or when they load? I have such implementation for a bot in Android</p>\n\n<ul>\n<li>If it is on load then you can create different items according to a field for example.</li>\n<li>Otherwise you can create another interface to trigger the change.</li>\n</ul>\n"}], "owner": {"reputation": 1944, "user_id": 5576110, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZBs7N.jpg?s=128&g=1", "display_name": "JVS", "link": "https://stackoverflow.com/users/5576110/jvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1557307082, "creation_date": 1557306383, "question_id": 56037168, "link": "https://stackoverflow.com/questions/56037168/programmatically-change-layout-ressource-in-adapter", "title": "Programmatically change layout Ressource in Adapter", "body": "<p>I am using an Adapter to display a list + a static button as a footerView.</p>\n\n<p>The Button as well as the List are Layout Ressource Files loaded via:</p>\n\n<pre><code>LayoutInflater.from(parent.context).inflate(R.layout.recycler_button, parent, false)\n</code></pre>\n\n<p>I now need to change programatically in some cases the background color of the button as well as the text. How can I manage this?</p>\n\n<p>Here you can find my adapter code:</p>\n\n<pre><code>package com.etask.etaskemployeeapp.Controller.Model\n\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport com.etask.etaskemployeeapp.R\n\nclass VacationTimeAdapter(val rowJSONList: ArrayList&lt;JSONListRow&gt;) : RecyclerView.Adapter&lt;VacationTimeAdapter.ViewHolder&gt;() {\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n\n    if (viewType == R.layout.list_layout) {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.list_layout, parent, false)\n        return ViewHolder(v)\n    } else {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.recycler_button, parent, false)\n        return ViewHolder(v)\n    }\n}\n\noverride fun getItemCount(): Int {\n    return rowJSONList.size + 1\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n    if (position == rowJSONList.size){\n\n\n    }else {\n\n        val row = rowJSONList.get(position)\n        holder.identifierName.text = row.identifier\n\n        // Check which datatype the value for a row is\n        if (row.value is String) {\n            holder.valueName.text = row.value as String\n        } else if (row.value is Double) {\n            val value = row.value as Double\n            holder.valueName.text = \"$value\"\n        } else if (row.value is Int) {\n            val value = row.value as Int\n            holder.valueName.text = \"$value\"\n        }\n    }\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return if (position === rowJSONList.size) R.layout.recycler_button else R.layout.list_layout\n}\n\n// Clean all elements of the recycler\nfun clear() {\n    rowJSONList.clear()\n    notifyDataSetChanged()\n}\n\n// Add a list of items -- change to type used\nfun addAll(newList: ArrayList&lt;JSONListRow&gt;) {\n    rowJSONList.addAll(newList)\n    notifyDataSetChanged()\n}\n\nclass ViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView) {\n    var identifierName = itemView.findViewById&lt;TextView&gt;(R.id.identifierLabel)\n    var valueName = itemView.findViewById&lt;TextView&gt;(R.id.valueLabel)\n\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1557307106, "post_id": 56037142, "comment_id": 98717076, "body": "Why are you afraid of recursion? Kotlin compiler is able to optimize recursive functions without risk of stack overflow using keyword <code>tailrec</code>. Find details at <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/functions.html</a>"}, {"owner": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1557310668, "post_id": 56037142, "comment_id": 98719060, "body": "thanks, Its not that I&#39;m afraid. I&#39;m currently learning Kotlin, and I want to know if there&#39;s a language feature or maybe a predefined function from Collections so that I understand Kotlin and its libraries better"}], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "edited": false, "score": 0, "creation_date": 1557331867, "post_id": 56043547, "comment_id": 98731628, "body": "Great! Decoupling the logic does make it lot more elegant. Perhaps I could write this as an extension to any <code>Iterable</code> class."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 4, "last_activity_date": 1557327278, "creation_date": 1557327278, "answer_id": 56043547, "question_id": 56037142, "link": "https://stackoverflow.com/questions/56037142/making-combinations-of-elements-in-arraylist-kotlin/56043547#56043547", "title": "Making Combinations of Elements in ArrayList [Kotlin]", "body": "<p>One thing you can do to make it more functional is to decouple the pair production from their consumption.</p>\n\n<p>The pair generator could be written with the function <code>sequence</code>:</p>\n\n<pre><code>fun &lt;T&gt; elementPairs(arr: List&lt;T&gt;): Sequence&lt;Pair&lt;T, T&gt;&gt; = sequence {\n    for(i in 0 until arr.size-1)\n        for(j in i+1 until arr.size)\n            yield(arr[i] to arr[j])\n}\n</code></pre>\n\n<p>Then you can use that sequence and process the pairs in different ways, e.g.</p>\n\n<pre><code>fun main() {\n    elementPairs(listOf('A', 'B', 'C', 'D')).forEach {\n        println(it)\n    }\n\n    elementPairs(listOf(\"apple\", \"desk\", \"arc\", \"density\", \"array\"))\n        .filter { (a, b) -&gt; a.first() == b.first() }\n        .forEach { println(\"Starting with the same letter: $it\") }\n}\n</code></pre>\n\n<p>You can try it here: <a href=\"https://pl.kotl.in/dJ9mAiATc\" rel=\"nofollow noreferrer\">https://pl.kotl.in/dJ9mAiATc</a></p>\n"}, {"tags": [], "owner": {"reputation": 1076, "user_id": 282956, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f983c270c821736abbd592c466f74ee6?s=128&d=identicon&r=PG", "display_name": "mavriksc", "link": "https://stackoverflow.com/users/282956/mavriksc"}, "is_accepted": false, "score": 0, "last_activity_date": 1600660728, "creation_date": 1600660728, "answer_id": 63986027, "question_id": 56037142, "link": "https://stackoverflow.com/questions/56037142/making-combinations-of-elements-in-arraylist-kotlin/63986027#63986027", "title": "Making Combinations of Elements in ArrayList [Kotlin]", "body": "<p>So the accepted answer creates pairs.  I created an object that works on any length combinations up to the the items.size -1</p>\n<pre><code>class CombinationGenerator&lt;T&gt;(private val items: List&lt;T&gt;, choose: Int = 1) : Iterator&lt;List&lt;T&gt;&gt;, Iterable&lt;List&lt;T&gt;&gt; {\n    private val indices = Array(choose) { it }\n    private var first = true\n\n    init {\n        if (items.isEmpty() || choose &gt; items.size || choose &lt; 1)\n            error(&quot;list must have more than 'choose' items and 'choose' min is 1&quot;)\n    }\n\n    override fun hasNext(): Boolean = indices.filterIndexed { index, it -&gt;\n        when (index) {\n            indices.lastIndex -&gt; items.lastIndex &gt; it\n            else -&gt; indices[index + 1] - 1 &gt; it\n        }\n    }.any()\n\n    override fun next(): List&lt;T&gt; {\n        if (!hasNext()) error(&quot;AINT NO MORE WHA HAPPEN&quot;)\n        if (!first) {\n            incrementAndCarry()\n        } else\n            first = false\n        return List(indices.size) { items[indices[it]] }\n    }\n\n    private fun incrementAndCarry() {\n        var carry = false\n        var place = indices.lastIndex\n        do {\n            carry = if ((place == indices.lastIndex &amp;&amp; indices[place] &lt; items.lastIndex)\n                    || (place != indices.lastIndex &amp;&amp; indices[place] &lt; indices[place + 1] - 1)) {\n                indices[place]++\n                (place + 1..indices.lastIndex).forEachIndexed { index, i -&gt;\n                    indices[i] = indices[place] + index + 1\n                }\n                false\n            } else\n                true\n            place--\n        } while (carry &amp;&amp; place &gt; -1)\n    }\n\n    override fun iterator(): Iterator&lt;List&lt;T&gt;&gt; = this\n}\n\nfun main() {\n    val combGen = CombinationGenerator(listOf(1, 2, 3, 4), 3)\n    combGen.map { println(it.joinToString()) }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14253948, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiHrB7IfSYZItFE-bnNbQ3VyYrtxsPFt5HZKKUtQ98=k-s128", "display_name": "Kaloyan Karaivanov", "link": "https://stackoverflow.com/users/14253948/kaloyan-karaivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1604758329, "creation_date": 1604758329, "answer_id": 64728546, "question_id": 56037142, "link": "https://stackoverflow.com/questions/56037142/making-combinations-of-elements-in-arraylist-kotlin/64728546#64728546", "title": "Making Combinations of Elements in ArrayList [Kotlin]", "body": "<pre><code>val arr = intArrayOf(1, 2, 3, 4) //test array\n\narr.indices.forEach() {\n    i -&gt; arr.indices.minus(0..i).forEach() {\n    j -&gt; println(&quot;${arr[i]} ${arr[j]}&quot;) } }\n</code></pre>\n<p>Output</p>\n<pre><code>1 3\n1 4\n2 3\n2 4\n3 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14253948, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiHrB7IfSYZItFE-bnNbQ3VyYrtxsPFt5HZKKUtQ98=k-s128", "display_name": "Kaloyan Karaivanov", "link": "https://stackoverflow.com/users/14253948/kaloyan-karaivanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1604759667, "creation_date": 1604759667, "answer_id": 64728783, "question_id": 56037142, "link": "https://stackoverflow.com/questions/56037142/making-combinations-of-elements-in-arraylist-kotlin/64728783#64728783", "title": "Making Combinations of Elements in ArrayList [Kotlin]", "body": "<pre><code>val arr = arrayListOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)\nval list= mutableListOf&lt;Pair&lt;String, String&gt;&gt;()\n\narr.indices.forEach() { \n    i -&gt; arr.indices.minus(0..i).forEach() { \n    j -&gt; list.add(arr[i] to arr[j]) }\n}\nprintln(list)\n</code></pre>\n<p>Output</p>\n<pre><code>[(A, B), (A, C), (A, D), (B, C), (B, D), (C, D)]\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 56043547, "answer_count": 4, "score": 3, "last_activity_date": 1604759667, "creation_date": 1557306286, "question_id": 56037142, "link": "https://stackoverflow.com/questions/56037142/making-combinations-of-elements-in-arraylist-kotlin", "title": "Making Combinations of Elements in ArrayList [Kotlin]", "body": "<p>I have the an ArrayList of elements which I need to get Combinations of pairs.</p>\n\n<p>eg. <code>[A, B, C]</code> will be converted to <code>[[A, B], [A, C], [B, C]]</code></p>\n\n<p>I currently use the normal way of achieving this</p>\n\n<pre><code>for(i in 0 until arr.size-1)\n    for(j in i+1 until arr.size)\n        //do stuff with arr[i], arr[j]\n</code></pre>\n\n<p>and If I need combinations of more than two elements I'll probably write a recursive function to do the same. My concern is that this method is still old-school &amp; might be not as Functional-Kotlin like</p>\n\n<p>Is there a better way to achieve this &amp; also for more number of elements in combination without going into recursion?</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-security", "vaadin"], "comments": [{"owner": {"reputation": 3543, "user_id": 3358029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0509ce95288cd70c6c2a400bdf471e9?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Lumme", "link": "https://stackoverflow.com/users/3358029/erik-lumme"}, "edited": false, "score": 0, "creation_date": 1557310601, "post_id": 56036571, "comment_id": 98719017, "body": "Any HTTP 403 in the browser developer tools console/network tabs?"}, {"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "reply_to_user": {"reputation": 3543, "user_id": 3358029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0509ce95288cd70c6c2a400bdf471e9?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Lumme", "link": "https://stackoverflow.com/users/3358029/erik-lumme"}, "edited": false, "score": 0, "creation_date": 1557311215, "post_id": 56036571, "comment_id": 98719371, "body": "@Tazavoo yes, actually (see edit)."}, {"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 0, "creation_date": 1557382078, "post_id": 56036571, "comment_id": 98747109, "body": "Have you added explicitly or implicitly the <code>vaadin-client-compiled</code> dependency?"}, {"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "reply_to_user": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 0, "creation_date": 1557382606, "post_id": 56036571, "comment_id": 98747312, "body": "@cfrick As far as Vaadin dependencies go, I&#39;ve added the respective Spring Boot Starter, as well as the Vaadin4Spring boot and security extensions. Not sure if either of them contains the client-compiled dependency. Will be able to check in half an hour, give or take. Unless you already know?"}, {"owner": {"reputation": 3543, "user_id": 3358029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0509ce95288cd70c6c2a400bdf471e9?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Lumme", "link": "https://stackoverflow.com/users/3358029/erik-lumme"}, "edited": false, "score": 0, "creation_date": 1557382946, "post_id": 56036571, "comment_id": 98747455, "body": "I believe the issue is that Vaadin&#39;s communication requests are still blocked.  These include the POST request to /vaadinServlet/UIDL/?v-uild=0.  You can add a requestMatcher that checks the URL and that the query parameter key is, for example, v-uild."}, {"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "reply_to_user": {"reputation": 3543, "user_id": 3358029, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d0509ce95288cd70c6c2a400bdf471e9?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Lumme", "link": "https://stackoverflow.com/users/3358029/erik-lumme"}, "edited": false, "score": 0, "creation_date": 1557384033, "post_id": 56036571, "comment_id": 98747890, "body": "@Tazavoo of course you are right (403, not 404)"}, {"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 2, "creation_date": 1557384160, "post_id": 56036571, "comment_id": 98747947, "body": "@User1291 You are following the wrong tutorial down the lines.  You are using V8, but your security settings contain <code>frontend-es5</code>, which is vaadin10.  You have to follow the settings for V8 as documented vaadin4spring."}, {"owner": {"reputation": 102, "user_id": 3558975, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9e8992406f0b86e989258e4e4c4a6229?s=128&d=identicon&r=PG&f=1", "display_name": "Switcher", "link": "https://stackoverflow.com/users/3558975/switcher"}, "edited": false, "score": 0, "creation_date": 1557418886, "post_id": 56036571, "comment_id": 98767487, "body": "How are you building and running? Try: build: mvn package -Dvaadin.productionMode run: mvn spring-boot:run -Dvaadin.productionMode"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1557311186, "creation_date": 1557304210, "last_edit_date": 1557311186, "question_id": 56036571, "link": "https://stackoverflow.com/questions/56036571/vaadin-8-spring-boot-server-connection-lost-trying-to-reconnect", "title": "Vaadin 8 + Spring Boot -- Server Connection lost, trying to reconnect", "body": "<p>For legacy reasons, I am required to use Vaadin <code>8.6.3</code>.</p>\n\n<p>I have a simple index page with a menubar with three items (<code>home</code>, <code>user</code>, <code>admin</code>) and a welcome message.</p>\n\n<p>I map that index page to <code>/</code> and want it to be accessible to non-authenticated users. the <code>home</code> menu option links to this page.</p>\n\n<p><code>user</code> and <code>admin</code> link to pages that do not yet exist but should be protected by Spring boot.</p>\n\n<p>This is my (only, for now) WebSecurity configuration:</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.builders.WebSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\n\n@Configuration\n@EnableWebSecurity\nclass AnyRequestConfiguration : WebSecurityConfigurerAdapter(){\n\n    override fun configure(http: HttpSecurity) {\n        http\n            .csrf().disable() //vaadin has its own csrf protection, therefore this must be disabled\n            .authorizeRequests()\n                .antMatchers(\"/\").permitAll()\n                .anyRequest().authenticated()\n    }\n\n    override fun configure(web: WebSecurity){\n        web\n            .ignoring().antMatchers(\n                \"/VAADIN/**\",\n                \"/frontend/**\",\n                \"/webjars/**\",\n                \"/images/**\",\n                \"/frontend-es5/**\", \"/frontend-es6/**\"\n            )\n    }\n}\n</code></pre>\n\n<p>The page gets rendered, the menu and the welcome message displayed, but the connection is immediately lost and I get a</p>\n\n<blockquote>\n  <p>Server connection lost, trying to reconnect</p>\n</blockquote>\n\n<p>message in the upper right corner of the page with a spinning loading circle.</p>\n\n<p>Why? How do I get this to work?</p>\n\n<p>Index page:</p>\n\n<pre><code>import com.vaadin.annotations.Theme\nimport com.vaadin.server.VaadinRequest\nimport com.vaadin.spring.annotation.SpringUI\nimport com.vaadin.ui.Label\nimport com.vaadin.ui.MenuBar\nimport com.vaadin.ui.UI\nimport com.vaadin.ui.VerticalLayout\n\n@SpringUI(path = \"/\")\n@Theme(\"mytheme\")\nclass Index : UI() {\n    companion object {\n        const val HOME_MENU = \"Home\"\n        const val USER_MENU = \"User\"\n        const val ADMIN_MENU = \"Admin\"\n        lateinit var navigation: MenuBar\n            private set\n    }\n    private lateinit var layout: VerticalLayout\n\n    override fun init(request: VaadinRequest?) {\n        layout = VerticalLayout()\n\n        //navigation bar\n        navigation = MenuBar()\n        navigation.id = \"menubar\"\n        navigation.addItem(HOME_MENU)\n        navigation.addItem(USER_MENU)\n        navigation.addItem(ADMIN_MENU)\n\n        //TODO: add onClick-listeners\n\n        //welcome message\n        val welcomeMessage = Label()\n        welcomeMessage.id = \"label.welcome\"\n        welcomeMessage.value = \"Welcome to Spring Security Demo with Vaadin\"\n\n\n        layout.addComponents(\n                navigation,\n                welcomeMessage\n        )\n\n        this.content = layout\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Devconsole shows error</p>\n\n<blockquote>\n  <p>com.vaadin.DefaultWidgetSet-0.js:6129 POST <a href=\"http://localhost:8080/vaadinServlet/UIDL/?v-uiId=0\" rel=\"nofollow noreferrer\">http://localhost:8080/vaadinServlet/UIDL/?v-uiId=0</a> 403</p>\n</blockquote>\n\n<p>followed by warning</p>\n\n<blockquote>\n  <p>com.vaadin.DefaultWidgetSet-0.js:6421 Wed May 08 12:19:17 GMT+200 2019 com.vaadin.client.communication.DefaultConnectionStateHandler\n  WARNING: Server returned 403 for xhr</p>\n</blockquote>\n\n<p>after which it makes another attempt</p>\n\n<blockquote>\n  <p>Wed May 08 12:20:33 GMT+200 2019 com.vaadin.client.communication.DefaultConnectionStateHandler</p>\n  \n  <p>INFO: Reconnect attempt 49 for XHR</p>\n  \n  <p>com.vaadin.DefaultWidgetSet-0.js:6421 Wed May 08 12:20:38 GMT+200 2019 com.vaadin.client.communication.DefaultConnectionStateHandler</p>\n  \n  <p>INFO: Re-sending last message to the server...</p>\n  \n  <p>com.vaadin.DefaultWidgetSet-0.js:6421 Wed May 08 12:20:38 GMT+200 2019 com.vaadin.client.communication.XhrConnection</p>\n  \n  <p>INFO: Sending xhr message to server: {\"csrfToken\":\"24cb59a1-cd65-4774-b208-c7272314e8a7\",\"rpc\":[[\"0\",\"com.vaadin.shared.ui.ui.UIServerRpc\",\"resize\",[1478,698,1478,698]]],\"syncId\":0,\"clientId\":0,\"wsver\":\"8.6.3\"}</p>\n</blockquote>\n\n<p>Which also fails, so the circle repeats itself.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "jetbrains-ide", "lint"], "answers": [{"tags": [], "owner": {"reputation": 664, "user_id": 2297684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEYY3.jpg?s=128&g=1", "display_name": "Mikhail Olshanski", "link": "https://stackoverflow.com/users/2297684/mikhail-olshanski"}, "is_accepted": false, "score": 2, "last_activity_date": 1557322081, "last_edit_date": 1557322081, "creation_date": 1557320751, "answer_id": 56041530, "question_id": 56036182, "link": "https://stackoverflow.com/questions/56036182/custom-lint-rule-for-the-when-condition-check/56041530#56041530", "title": "Custom lint rule for the `when condition` check", "body": "<p>I don't really have experience with writing custom lint checks, but I think something like this (although it's not optimal and you <strong>shouldn't</strong> use it as it is since it only shows the idea) might work.</p>\n\n<pre><code>class WhenNullElseMissingDetector : Detector(), Detector.UastScanner {\n\n    override fun getApplicableUastTypes(): MutableList&lt;Class&lt;out UElement&gt;&gt; =\n        mutableListOf(USwitchExpression::class.java)\n\n    override fun createUastHandler(context: JavaContext): UElementHandler = WhenNullElseMissingHandler(context)\n}\n\nclass WhenNullElseMissingHandler(private val context: JavaContext) : UElementHandler() {\n\n    override fun visitSwitchExpression(node: USwitchExpression) {\n        if (node.psi?.javaClass != KtWhenExpression::class.java) {\n            // returning early here, so it doesn't go false positive on java switches\n            return\n        }\n\n        var hasNullClause = false\n        var hasElseClause = false\n\n        node.body.expressions.forEach { clause -&gt;\n             // checking the child's text here just for a example, you should\n             // probably check if child's class is KtWhenConditionIsPattern,\n             // KtWhenConditionWithExpression or LeafPsiElement\n            val clauseText = clause.psi?.firstChild?.text\n\n            if (\"null\" == clauseText) {\n                hasNullClause = true\n            } else if (\"else\" == clauseText) {\n                hasElseClause = true\n            }\n        }\n\n        if (!hasElseClause) {\n            context.report(\n                WHEN_NULL_OR_ELSE_MISSING, node, context.getLocation(node),\n                \"When expression must include an else case\"\n            )\n        }\n\n        if (!hasNullClause) {\n            context.report(\n                WHEN_NULL_OR_ELSE_MISSING, node, context.getLocation(node),\n                \"When expression must include a null case\"\n            )\n        }\n    }\n}\n</code></pre>\n\n<p>Of course you'll have to add your new detector to the IssueRegistry.\nAssuming that you have your lint checks in a separate java/kotlin module, it might look like this</p>\n\n<pre><code>package com.example.lintchecks\n\n// omit imports\n\nval WHEN_NULL_OR_ELSE_MISSING = Issue.create(\n    \"MY_ISSUE_ID\",\n    \"A brief to show in a one line popup\",\n    \"More detailed explanation\",\n    Category.CORRECTNESS,\n    5,\n    Severity.WARNING,\n    Implementation(\n        WhenNullElseMissingDetector::class.java,\n        Scope.JAVA_FILE_SCOPE\n    )\n)\n\nclass MyIssueRegistry : IssueRegistry() {\n    override val issues: List&lt;Issue&gt;\n        get() = listOf(WHEN_NULL_OR_ELSE_MISSING)\n\n}\n</code></pre>\n\n<p>Library module's build.gradle file should have <code>com.android.tools.lint:lint-api:26.4.0</code> (or whichever version is relevant) <code>compileOnly</code> dependency and a block like this</p>\n\n<pre><code>jar {\n    manifest {\n        attributes(\"Lint-Registry-v2\": \"com.example.lintchecks.MyIssueRegistry\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4297, "user_id": 2175647, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SJGmE.jpg?s=128&g=1", "display_name": "hrskrs", "link": "https://stackoverflow.com/users/2175647/hrskrs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1557322081, "creation_date": 1557302773, "last_edit_date": 1557302927, "question_id": 56036182, "link": "https://stackoverflow.com/questions/56036182/custom-lint-rule-for-the-when-condition-check", "title": "Custom lint rule for the `when condition` check", "body": "<p>I am using Gson's serialization adapter <code>RuntimeTypeAdapterFactory</code> for serializing data based on <strong>disciminator</strong>. However when there is an unknwon discriminator (coming from the API) and not defined on Client, the <code>TypeAdapter</code> will be null.</p>\n\n<p>In this case if I have a kotlin when condition check as:</p>\n\n<pre><code>when(fooType){\n is fooA -&gt; //blaba\n is fooB -&gt; //blaba\n //else or null is not handled\n}\n</code></pre>\n\n<p>and <code>fooType</code> is <code>null</code>, it will crash as <code>null</code> condition is not handled.\nIs there any way to to create a <strong>custom lint rule (Detector)</strong> to check for for <strong>when conditions</strong> (instanceof in java) if they implement an <code>else</code> or <code>null</code> check and inject that on Android Studio inspection?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1557302247, "post_id": 56035975, "comment_id": 98714566, "body": "You might want to be more specific in what you&#39;re looking for. What does real time mean to you; and what do you mean with detect? Do you want to know what permissions an app requests? Do you want to know when some API requiring permissions is used..."}, {"owner": {"reputation": 31, "user_id": 10877459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aabec4ea791287538e009e1096be6501?s=128&d=identicon&r=PG&f=1", "display_name": "Amal Rajan", "link": "https://stackoverflow.com/users/10877459/amal-rajan"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1557303331, "post_id": 56035975, "comment_id": 98715067, "body": "Yes I want to know when some API requiring permissions is used and by which app."}], "answers": [{"tags": [], "owner": {"reputation": 1181, "user_id": 3102913, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100005606403833/picture?type=large", "display_name": "pavel", "link": "https://stackoverflow.com/users/3102913/pavel"}, "is_accepted": false, "score": 2, "last_activity_date": 1557303727, "last_edit_date": 1557303727, "creation_date": 1557302240, "answer_id": 56036042, "question_id": 56035975, "link": "https://stackoverflow.com/questions/56035975/is-there-a-way-to-know-when-an-app-uses-a-permission-in-real-time/56036042#56036042", "title": "Is there a way to know when an app uses a permission in real time?", "body": "<p>You don't need to detect them when you use a feature and if android studio don't find related permission it will show you a message. You need to use android studio 3.+ version.</p>\n\n<p>Also you can check this link to know which features need which permission.\n<a href=\"https://developer.android.com/guide/topics/permissions/overview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/permissions/overview</a></p>\n"}], "owner": {"reputation": 31, "user_id": 10877459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aabec4ea791287538e009e1096be6501?s=128&d=identicon&r=PG&f=1", "display_name": "Amal Rajan", "link": "https://stackoverflow.com/users/10877459/amal-rajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557304861, "creation_date": 1557301925, "last_edit_date": 1557304861, "question_id": 56035975, "link": "https://stackoverflow.com/questions/56035975/is-there-a-way-to-know-when-an-app-uses-a-permission-in-real-time", "title": "Is there a way to know when an app uses a permission in real time?", "body": "<p>For example, Google Maps use the location permission to access the location, so is there a way to detect that in real time programmatically?</p>\n\n<p>I want to know when some API requiring permissions is used and by which app.</p>\n"}, {"tags": ["kotlin", "jackson", "annotations", "jvm"], "answers": [{"comments": [{"owner": {"reputation": 1661, "user_id": 1198609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30fa47a98642b888f71d6416c2e2290c?s=128&d=identicon&r=PG", "display_name": "Vitaly Chirkov", "link": "https://stackoverflow.com/users/1198609/vitaly-chirkov"}, "edited": false, "score": 0, "creation_date": 1608195450, "post_id": 65321390, "comment_id": 115510338, "body": "Hey there! Thanks for answer. Unfortunately, it doesn&#39;t work for me. It says <code>This annotation is not applicable to target &#39;member property with delegate&#39; and use site target &#39;@delegate&#39;</code>"}, {"owner": {"reputation": 13, "user_id": 12295828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCLVA5GhLWO4yrqEKZ72vyrxKWkaAp4B2yPQYlY=k-s128", "display_name": "Yashar Shahi", "link": "https://stackoverflow.com/users/12295828/yashar-shahi"}, "reply_to_user": {"reputation": 1661, "user_id": 1198609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30fa47a98642b888f71d6416c2e2290c?s=128&d=identicon&r=PG", "display_name": "Vitaly Chirkov", "link": "https://stackoverflow.com/users/1198609/vitaly-chirkov"}, "edited": false, "score": 0, "creation_date": 1608362897, "post_id": 65321390, "comment_id": 115565495, "body": "You should use these dependencies:  <code>com.fasterxml.jackson.core:jackson-core com.fasterxml.jackson.core:jackson-databind com.fasterxml.jackson.core:jackson-annotations com.fasterxml.jackson.module:jackson-module-kotlin </code>"}], "tags": [], "owner": {"reputation": 13, "user_id": 12295828, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCLVA5GhLWO4yrqEKZ72vyrxKWkaAp4B2yPQYlY=k-s128", "display_name": "Yashar Shahi", "link": "https://stackoverflow.com/users/12295828/yashar-shahi"}, "is_accepted": false, "score": 1, "last_activity_date": 1608114216, "creation_date": 1608114216, "answer_id": 65321390, "question_id": 56035869, "link": "https://stackoverflow.com/questions/56035869/how-to-apply-annotation-to-getter-of-delegated-property-in-kotlin/65321390#65321390", "title": "How to apply annotation to getter of delegated property in Kotlin?", "body": "<p>You should annotate it like this:</p>\n<pre><code>@delegate:JsonGetter(value = &quot;prop&quot;) var prop: String by PrefixedProperty()\n</code></pre>\n"}], "owner": {"reputation": 1661, "user_id": 1198609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30fa47a98642b888f71d6416c2e2290c?s=128&d=identicon&r=PG", "display_name": "Vitaly Chirkov", "link": "https://stackoverflow.com/users/1198609/vitaly-chirkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1608376648, "creation_date": 1557301482, "last_edit_date": 1608376648, "question_id": 56035869, "link": "https://stackoverflow.com/questions/56035869/how-to-apply-annotation-to-getter-of-delegated-property-in-kotlin", "title": "How to apply annotation to getter of delegated property in Kotlin?", "body": "<p>While Using Kotlin I wanted to add package-defined constant as a prefix for serialized class property. Jackson is bro, so I wrote this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var prop: String = &quot;&quot;\n    @JsonGetter(value = &quot;prop&quot;)\n    get() = PREFIX + field\n</code></pre>\n<p>It worked fine, so I decided to replace it with delegated property for brevity:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@get:JsonGetter(value = &quot;prop&quot;) var prop: String by PrefixedProperty()\n\n...\n\nclass PrefixedProperty(var field: String = &quot;&quot;) {\n    operator fun getValue(blah blah) = PREFIX + field\n    ...\n}\n</code></pre>\n<p>And BOOM \u2014 my property disappeared.</p>\n<p>It seems, annotation was not applied to <code>prop</code>'s delegated getter. Is it even possible to achieve the desired behaviour?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1557299891, "creation_date": 1557299891, "answer_id": 56035478, "question_id": 56035161, "link": "https://stackoverflow.com/questions/56035161/context-unresolved-reference/56035478#56035478", "title": "Context Unresolved Reference", "body": "<p>The <code>context</code> variable is unresolved, because <code>Handler</code> doesn't have a reference to <code>TodoAdapter</code>. To achieve this you'd have to declare it as <code>inner class Handler</code>. Though you should not do it!</p>\n\n<p>Instead provide the <code>viewmodel</code> with <code>bind</code>:</p>\n\n<pre><code>fun bind(note: Notes, viewmodel: TodoViewModel) {\n    itemBinding.dataclass = note\n    itemBinding.viewmodel = viewmodel\n    itemBinding.notesCardView.setCardBackgroundColor(note.color)\n}\n</code></pre>\n\n<p>Also consider setting the card background color within the data binding as well.</p>\n"}], "owner": {"reputation": 15, "user_id": 9614906, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lz3_UuBdDhY/AAAAAAAAAAI/AAAAAAAAATY/G9rkafzjL88/photo.jpg?sz=128", "display_name": "Yosua Kristianto", "link": "https://stackoverflow.com/users/9614906/yosua-kristianto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 56035478, "answer_count": 1, "score": 0, "last_activity_date": 1557302301, "creation_date": 1557298772, "last_edit_date": 1557302301, "question_id": 56035161, "link": "https://stackoverflow.com/questions/56035161/context-unresolved-reference", "title": "Context Unresolved Reference", "body": "<p>I'm setting up my <strong>RecyclerView's adapter,</strong> and i need to use Activity Context to be filled in my <em>viewmodel</em> variable, and later i will using it to do move intent. Why i got <strong>Unresolved Reference</strong> even i put my context inside the class? </p>\n\n<p>I've tried casting to FragmentActivity since the <code>of()</code> method asks for <code>FragmentActivity</code>, but still the same.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class TodoAdapter constructor(x:ArrayList&lt;Notes&gt;, c: Context) : RecyclerView.Adapter&lt;TodoAdapter.Handler&gt;() {\n    private var lists:ArrayList&lt;Notes&gt; = x\n    private var context:Context = c\n    private lateinit var viewmodel:TodoViewModel\n\n    class Handler(private val itemBinding:NotesListBinding): RecyclerView.ViewHolder(itemBinding.root) {\n        fun bind(note:Notes){\n            itemBinding.dataclass = note\n            itemBinding.viewmodel = ViewModelProviders.of(context).get(TodoViewModel::class.java)\n            itemBinding.notesCardView.setCardBackgroundColor(note.color)\n        }\n    }\n</code></pre>\n\n<p>I expect that context will be well referenced since it's on the same class. But it returns error like:</p>\n\n<pre><code>e: /media/cua/Projectah/Android Studio/TODOLisT/app/src/main/java/com/cua/todolist/adapter/recyclerviewadapter/TodoAdapter.kt: (24, 59): Unresolved reference: context\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3914, "user_id": 4652412, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/967fe1ffaeddb9df9de9fbe1bc756009?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/4652412/prashant"}, "edited": false, "score": 0, "creation_date": 1557298683, "post_id": 56035014, "comment_id": 98712815, "body": "Got it, <code>ab</code> has inherited <code>y</code> from A and then <code>ab</code> specifies <code>B</code> implementation where it overrides <code>A</code>s open variable <code>y</code>. They should have added something in <code>B</code> to be <code>open</code> for better understanding like you did. Empty <code>B</code> caused this misunderstanding, Thanks :)"}], "tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": true, "score": 3, "last_activity_date": 1557300213, "last_edit_date": 1557300213, "creation_date": 1557298067, "answer_id": 56035014, "question_id": 56034911, "link": "https://stackoverflow.com/questions/56034911/object-expressions-multiple-supertype-specification-syntax/56035014#56035014", "title": "Object expressions, Multiple supertype specification syntax?", "body": "<p>This line here:</p>\n\n<pre><code>val ab: A = object : A(1), B {\n</code></pre>\n\n<p>means that the class of <code>ab</code> is inherited from class <code>A</code> and implements interface <code>B</code>.</p>\n\n<p>Actually the code example you gave will only compile if you declare and implement the interface. This is a possible implementation:</p>\n\n<pre><code>open class A(x: Int) {\n    public open val y: Int = x\n}\n\ninterface B {\n    fun hi()\n}\n\nval ab: A = object : A(1), B {\n    override val y = 15\n\n    override fun hi() {\n        println(\"hi\")\n    }\n}\n</code></pre>\n\n<p>The expression <code>${ab.A.y}</code> does not make much sense in this context, because the object <code>ab</code> does not have any field <code>A</code>. <code>A</code> is just the inherited superclass to which you could eventually cast.</p>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 1, "last_activity_date": 1557298077, "creation_date": 1557298077, "answer_id": 56035017, "question_id": 56034911, "link": "https://stackoverflow.com/questions/56034911/object-expressions-multiple-supertype-specification-syntax/56035017#56035017", "title": "Object expressions, Multiple supertype specification syntax?", "body": "<p>It basically creates object <code>ab</code> with <strong>class type A</strong> with implementation of <strong>interface B</strong>.</p>\n\n<p>So, let's say your class A has some method <code>foo()</code> &amp; interface B has some method <code>bar()</code>, you can access them both on object <code>ab</code> as it's of class type <code>A</code> with implementation of <code>B</code>.</p>\n\n<p>Hence, here you override variable y with value <strong>15</strong> meaning your superclass variable y will get overridden by value <strong>15</strong> from <strong>1</strong>.</p>\n"}], "owner": {"reputation": 3914, "user_id": 4652412, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/967fe1ffaeddb9df9de9fbe1bc756009?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/4652412/prashant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56035014, "answer_count": 2, "score": 0, "last_activity_date": 1557300213, "creation_date": 1557297637, "last_edit_date": 1557297984, "question_id": 56034911, "link": "https://stackoverflow.com/questions/56034911/object-expressions-multiple-supertype-specification-syntax", "title": "Object expressions, Multiple supertype specification syntax?", "body": "<p>I am new to Kotlin. I came across the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">Object Expressions section</a> of <a href=\"https://kotlinlang.org\" rel=\"nofollow noreferrer\">https://kotlinlang.org</a></p>\n\n<p>Some of the object expression syntaxes are very straight forward to understand,</p>\n\n<p><strong><em>Create an object of an anonymous class</em></strong></p>\n\n<pre><code>window.addMouseListener(object : MouseAdapter() {\n    override fun mouseClicked(e: MouseEvent) { ... }\n\n    override fun mouseEntered(e: MouseEvent) { ... }\n})\n</code></pre>\n\n<p><strong><em>Just an object</em></strong></p>\n\n<pre><code>fun foo() {\n    val adHoc = object {\n        var x: Int = 0\n        var y: Int = 0\n    }\n    print(adHoc.x + adHoc.y)\n}\n</code></pre>\n\n<p>But I am unable to understand the <strong><em>\"Object expression with multiple supertypes specified\"</em></strong> example given as below:</p>\n\n<pre><code>open class A(x: Int) {\n    public open val y: Int = x\n}\n\ninterface B { ... }\n\nval ab: A = object : A(1), B {\n    override val y = 15\n}\n</code></pre>\n\n<p>What's happening here?</p>\n\n<p><code>${ab.y}</code> prints <code>15</code>\n but syntax -> <code>${ab.A.y}</code> is not valid. My understanding of <code>${ab.A.y}</code> it will print <code>1</code> :)</p>\n"}, {"tags": ["jenkins", "gradle", "groovy", "kotlin", "dependencies"], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1557302177, "creation_date": 1557302177, "answer_id": 56036029, "question_id": 56034519, "link": "https://stackoverflow.com/questions/56034519/how-to-convert-a-centralize-dependencies-array-in-groovy-to-kotlin/56036029#56036029", "title": "How to convert a centralize dependencies array in groovy to kotlin?", "body": "<p>You can create a variable to store the dependencies, then in the <code>allprojects</code> or <code>subprojects</code> block you can refer to that array. For example you could define a class which stores your different types of dependencies (each as an array of strings, for example), create an instance of that class and populate it, store a reference to that in  variable, then use that variable's value to assign the dependencies, as shown below:</p>\n\n<pre><code>class Libraries(val frameworkLibs: Array&lt;String&gt;, val testLibs: Array&lt;String&gt;, val sqlLibs: Array&lt;String&gt;)\n\nval libraries = Libraries(\n    arrayOf(\n        \"org.springframework.boot:spring-boot-starter-data-redis\",\n        \"org.springframework.boot:spring-boot-starter-web\",\n        \"org.mybatis.spring.boot:mybatis-spring-boot-starter:2.0.1\",\n        \"org.springframework.kafka:spring-kafka\"\n    ),\n    arrayOf(\n        \"org.springframework.boot:spring-boot-starter-test\",\n        \"org.springframework.kafka:spring-kafka-test\"\n    ),\n    arrayOf(\"org.postgresql:postgresql\")\n)\n\nallprojects {\n    dependencies {\n        libraries.frameworkLibs.forEach { implementation(it) }\n        libraries.sqlLibs.forEach { runtimeOnly(it) }\n        libraries.testLibs.forEach { testImplementation(it) }\n</code></pre>\n\n<p>I can't seem to find a way to pass the array of dependencies into methods such as <code>implementation</code> or <code>runtimeOnly</code>, so instead I'm looping round them and adding each dependency individually. If there is a way to pass the array in in one line, hopefully someone else can tell us how.</p>\n"}, {"tags": [], "owner": {"reputation": 153257, "user_id": 6509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6eafe28472ceb9522fd3f609afed53?s=128&d=identicon&r=PG", "display_name": "tim_yates", "link": "https://stackoverflow.com/users/6509/tim-yates"}, "is_accepted": true, "score": 2, "last_activity_date": 1557303775, "creation_date": 1557303775, "answer_id": 56036436, "question_id": 56034519, "link": "https://stackoverflow.com/questions/56034519/how-to-convert-a-centralize-dependencies-array-in-groovy-to-kotlin/56036436#56036436", "title": "How to convert a centralize dependencies array in groovy to kotlin?", "body": "<p>You can change your map of dependencies to:</p>\n\n<pre><code>val libraries by extra {\n    mapOf(\n            \"frameworkLibs\" to listOf(\n                    \"org.springframework.boot:spring-boot-starter-data-redis\",\n                    \"org.springframework.boot:spring-boot-starter-web\",\n                    \"org.mybatis.spring.boot:mybatis-spring-boot-starter:2.0.1\",\n                    \"org.springframework.kafka:spring-kafka\"\n            )\n    )\n}\n</code></pre>\n\n<p>And then in your dependencies block it will need to be:</p>\n\n<pre><code>    libraries[\"frameworkLibs\"]?.forEach { s -&gt; implementation(s) }\n</code></pre>\n\n<p>You could add an extension method to Project as part of a buildSrc script to hide this <code>forEach</code> to get the dependencies working...</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 10873745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee693c8951baf8cf6d738c33590a45c1?s=128&d=identicon&r=PG&f=1", "display_name": "khumbuche", "link": "https://stackoverflow.com/users/10873745/khumbuche"}, "is_accepted": false, "score": 0, "last_activity_date": 1557341220, "creation_date": 1557341220, "answer_id": 56047204, "question_id": 56034519, "link": "https://stackoverflow.com/questions/56034519/how-to-convert-a-centralize-dependencies-array-in-groovy-to-kotlin/56047204#56047204", "title": "How to convert a centralize dependencies array in groovy to kotlin?", "body": "<p>Thanks tim_yates and Yoni Gibbs.  Following implementation solved my problem.</p>\n\n<pre><code>plugins {\n    id(\"org.springframework.boot\") version \"2.1.4.RELEASE\"\n    java\n\n    // this plugin is required for Kotlin\n    id(\"io.spring.dependency-management\") version \"1.0.7.RELEASE\"\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\nrepositories {\n    jcenter()\n}\n\nval libraries by extra {\n    mapOf(\n        \"frameworkLibs\" to listOf(\n            \"org.springframework.boot:spring-boot-starter-data-redis\",\n            \"org.springframework.boot:spring-boot-starter-web\",\n            \"org.mybatis.spring.boot:mybatis-spring-boot-starter:2.0.1\",\n            \"org.springframework.kafka:spring-kafka\"\n        ),\n        \"testLibs\" to listOf(\n            \"org.springframework.boot:spring-boot-starter-test\",\n            \"org.springframework.kafka:spring-kafka-test\"\n        ),\n        \"sqlLibs\" to listOf(\n            \"org.postgresql:postgresql\"\n        ),\n        \"testLibs\" to listOf(\n            \"org.springframework.boot:spring-boot-starter-test\",\n            \"org.springframework.kafka:spring-kafka-test\"\n        )\n    )\n}\n\nallprojects {\n    group = \"com.example\"\n    version = \"0.0.1-SNAPSHOT\"\n\n    dependencies {\n        libraries[\"frameworkLibs\"]?.forEach { s -&gt; implementation(s) }\n        libraries[\"testLibs\"]?.forEach { s -&gt; implementation(s) }\n        libraries[\"sqlLibs\"]?.forEach { s -&gt; runtimeOnly(s) }\n        libraries[\"testLibs\"]?.forEach { s -&gt; testImplementation(s) }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10873745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee693c8951baf8cf6d738c33590a45c1?s=128&d=identicon&r=PG&f=1", "display_name": "khumbuche", "link": "https://stackoverflow.com/users/10873745/khumbuche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 56036436, "answer_count": 3, "score": 0, "last_activity_date": 1557341220, "creation_date": 1557295816, "question_id": 56034519, "link": "https://stackoverflow.com/questions/56034519/how-to-convert-a-centralize-dependencies-array-in-groovy-to-kotlin", "title": "How to convert a centralize dependencies array in groovy to kotlin?", "body": "<p>In groovy script I could assign a list of dependencies in an array as \"implementation libraries.frameworkLibs\", does similar approach exists in kotlin?</p>\n\n<p>The goal is to have a list of dependencies in an array, so that each list can be individually assigned in the subprojects.</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\nsourceCompatibility = '1.8'\n\n/* 1. centerilize dependencies for all projects */\next.libraries = [\n    frameworkLibs: [\n        'org.springframework.boot:spring-boot-starter-data-redis',\n        'org.springframework.boot:spring-boot-starter-web',\n        'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.0.1',\n        'org.springframework.kafka:spring-kafka'\n    ],\n    testLibs: [\n        'org.springframework.boot:spring-boot-starter-test',\n        'org.springframework.kafka:spring-kafka-test'\n    ],\n    sqlLibs: [\n        'org.postgresql:postgresql'\n    ]\n]\n\nallprojects {\n    group = 'com.example'\n    version = '0.0.1-SNAPSHOT'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        /* 2. establish dependencies */\n        implementation libraries.frameworkLibs\n        runtimeOnly libraries.sqlLibs\n        testImplementation libraries.testLibs\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-kotlin2"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1557299470, "creation_date": 1557299470, "answer_id": 56035352, "question_id": 56034425, "link": "https://stackoverflow.com/questions/56034425/android-generic-type-as-a-expressions-in-observabletransformer/56035352#56035352", "title": "Android - Generic type as a Expressions In ObservableTransformer", "body": "<p>The <code>T1 is Int</code> non-statement doesn't work, because <code>T1</code> is a generic type and while <code>is Int</code> checks the type of an object: <code>1 is Int</code></p>\n\n<p>You could write a dedicated transformer instead of using generics for it. In general you're loosing the type information of <code>T1</code> on runtime.</p>\n\n<pre><code>fun Observable&lt;String&gt;.asDouble() = map { it.toDouble() }\n\ngetSomeData().asDouble().map { value: Double -&gt; }\n</code></pre>\n\n<p>You don't even need an actual transformer as it's a simple mapping.</p>\n"}], "owner": {"reputation": 760, "user_id": 9344496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31644b0ff01f07e53c043d1a2cd05774?s=128&d=identicon&r=PG&f=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/9344496/stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56035352, "answer_count": 1, "score": 4, "last_activity_date": 1557309848, "creation_date": 1557295294, "last_edit_date": 1557309848, "question_id": 56034425, "link": "https://stackoverflow.com/questions/56034425/android-generic-type-as-a-expressions-in-observabletransformer", "title": "Android - Generic type as a Expressions In ObservableTransformer", "body": "<p>I will be using observable transformer in my application for converting data from one type to another, so for this use i created a generic class with one parameter <code>&lt;T1&gt;</code> where T1 is the type am expecting to get the output</p>\n\n<p>Example</p>\n\n<pre><code>class Transformer&lt;T1&gt; {\n\n    fun transform(): ObservableTransformer&lt;String, T1&gt; {\n\n        return ObservableTransformer { data -&gt;\n\n            data.map {\n\n                if (T1 is Int) {       //getting compilation error like T1 is not an expression\n                    return IntDataType\n                }\n\n                if (T1 is Double) { //getting compilation error like T1 is not an expression\n                    return DoubleDataType\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The above class is the transformer which gets the input as string and convert String to someData type based on given generic type T1<br>\nSo i will be calling the above like this</p>\n\n<pre><code> getSomeData()\n            .compose(Transformer&lt;Double&gt;().tranform())\n            .map{ it: double\n            } \n</code></pre>\n\n<p>is there is any other solution to perform like this type of transformer ?\nAny help</p>\n"}, {"tags": ["android", "kotlin", "android-support-library"], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1557294405, "creation_date": 1557294405, "answer_id": 56034274, "question_id": 56034187, "link": "https://stackoverflow.com/questions/56034187/using-datetime-to-get-current-date-in-android-api-level-issue/56034274#56034274", "title": "Using datetime to get current date in android API level issue", "body": "<p>If you want to use Java8 <code>java.time</code> on Android API levels older than 28, you can use ThreeTen Backport. In particular, you should use the Android adaptation ThreeTenABP that you can find <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 105, "user_id": 4419375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94ba52a3bd5f853f0013ecb4df12fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Rami", "link": "https://stackoverflow.com/users/4419375/rami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557294405, "creation_date": 1557293948, "question_id": 56034187, "link": "https://stackoverflow.com/questions/56034187/using-datetime-to-get-current-date-in-android-api-level-issue", "title": "Using datetime to get current date in android API level issue", "body": "<p>My build.gradle configurations are as below.</p>\n\n<pre><code>const val MIN_SDK_VERSION = 21\n    const val TARGET_SDK_VERSION = 26\n    const val COMPILE_SDK_VERSION = 28\n    const val BUILD_TOOLS_VERSION = \"28.0.3\"\n</code></pre>\n\n<p>I am trying to use LocalDateTime.now() in my code but it displays a warning in the code saying my minimum sdk version is 21 and LocalDateTime.now() is available only in API level 28.  I guess I may have to use support library to support this. Any pointers on how can I proceed using LocalDateTime.now() with the help of support library.</p>\n"}, {"tags": ["android", "dynamic", "kotlin", "runtime", "layoutmargins"], "answers": [{"comments": [{"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1557327292, "post_id": 56033991, "comment_id": 98729109, "body": "Ok, so from what I see basically, the second example would be something like:   <code>val layoutParams = imagen_luna.layoutParams as RelativeLayour.LayoutParams</code>, then <code>layoutParams.setMargins(2, 8, 14, 2)</code> and then <code>imagen_luna.layoutParams = layoutParams</code>.  What happens if I want to leave some of the margins to null?"}, {"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1557330129, "post_id": 56033991, "comment_id": 98730819, "body": "Hmm, I don&#39;t know if it&#39;s relevant, in my case the <code>ImageView</code> is in a reusable cell for a <code>GridLayout</code> and I modify it in my adapter, so my resulting code is something like this: <code>val layoutParamsLuna = holder.view?.imagen_luna.layoutParams as RelativeLayout.LayoutParams</code> then <code>layoutParamsLuna.setMargins(1, 8, 15, 8)</code> then <code>holder.view?.imagen_luna.layoutParams = layoutParamsLuna</code>, but I notice no changes in the result. Do I need to redraw something or?"}, {"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1557330538, "post_id": 56033991, "comment_id": 98731026, "body": "The only thing that occurs to me is that the <code>setMargins</code> function takes as parameters left and right and I am using start and end as usually they are recommended by Android Studio."}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "reply_to_user": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1557377449, "post_id": 56033991, "comment_id": 98745618, "body": "yes ,you have to use start and end. use margin values from dimension and set margin in <code>onBindHolder()</code>"}, {"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1557420026, "post_id": 56033991, "comment_id": 98767963, "body": "I updated my question with code from the Adapter @Rajasekaran M"}, {"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 1, "creation_date": 1557607659, "post_id": 56033991, "comment_id": 98824284, "body": "Hello @Rajasekaran M, it did work, but I had to change start and end to left and right, apparently this specific function is not adapted to start and end and rather changes left and right. Once I had that switched it worked, you could update your answer with that."}], "tags": [], "owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1557480469, "last_edit_date": 1557480469, "creation_date": 1557292760, "answer_id": 56033991, "question_id": 56033454, "link": "https://stackoverflow.com/questions/56033454/update-layout-margin-inside-kotlin-class-for-specific-elements/56033991#56033991", "title": "Update layout_margin inside kotlin class for specific elements", "body": "<p>You can update margin in layoutParams of view</p>\n\n<p>Ex: </p>\n\n<pre><code>    val layoutParams= imagen_luna.layoutParams as RelativeLayout.LayoutParams\n    layoutParams.marginEnd=resources.getDimension(your_dimension).toInt()\n    layoutParams.marginStart=resources.getDimension(your_dimension).toInt()\n\n    layoutParams.bottomMargin=resources.getDimension(your_dimension).toInt()\n    layoutParams.topMargin=resources.getDimension(your_dimension).toInt()\n\n    //or\n\n    layoutParams.setMargins(start,top,end,bottom)\n\n    imagen_luna.layoutParams=layoutParams\n</code></pre>\n\n<p>You have to add value for margins in dimension file.because if you set setMargins(1, 8, 15, 8) like this,It's will margin in pixel not in dp.</p>\n\n<p>So use margin values like below.</p>\n\n<pre><code>&lt;dimen name=\"spacing_normal\"&gt;16dp&lt;/dimen&gt;\n&lt;dimen name=\"spacing_small\"&gt;8dp&lt;/dimen&gt;\n&lt;dimen name=\"spacing_tiny\"&gt;4dp&lt;/dimen&gt;\n</code></pre>\n\n<p>Update your dapter class like belo</p>\n\n<pre><code>override fun onBindViewHolder(holder: AnoViewHolder, position: Int) {\n...\nif(respec.nombre_icono_signo != \"\" &amp;&amp; respec.imagen_luna != \"\") {\n    val layoutParamsLuna = holder.view?.imagen_luna.layoutParams as RelativeLayout.LayoutParams\n    layoutParamsLuna.setMargins(context.resources.getDimension(R.dimen.spacing_normal).toInt(), \n           context.resources.getDimension(R.dimen.spacing_normal).toInt(), \n           context.resources.getDimension(R.dimen.spacing_normal).toInt(),\n           context.resources.getDimension(R.dimen.spacing_normal).toInt())\n    holder.view?.imagen_luna.layoutParams = layoutParamsLuna\n}else{\n  //reset margin for else case because recylerview reuse views so it's will keep previous states\n}\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 56033991, "answer_count": 1, "score": 0, "last_activity_date": 1557480469, "creation_date": 1557288968, "last_edit_date": 1557420006, "question_id": 56033454, "link": "https://stackoverflow.com/questions/56033454/update-layout-margin-inside-kotlin-class-for-specific-elements", "title": "Update layout_margin inside kotlin class for specific elements", "body": "<p>So, this should be pretty basic, but I am new to Kotlin. So I basically have the following <code>ImageView</code> inside a <code>RelativeLayout</code> view.</p>\n\n<pre><code>&lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" \n            app:srcCompat=\"@drawable/moon_0\"\n            android:id=\"@+id/imagen_luna\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\" \n            android:layout_alignParentStart=\"true\"\n            android:layout_alignParentEnd=\"true\" \n            android:layout_alignParentBottom=\"true\"\n            android:layout_alignParentTop=\"true\" /&gt;\n</code></pre>\n\n<p>The thing is that under certain condition this <code>ImageView</code> can collide visually with another element, so I have to modify the <code>marginStart</code> and the <code>marginEnd</code> properties. I saw in some tutorials that first I must obtain the current layout margins or something like that, but I am not sure why it's so complicated, in Swift I just modify the properties of each margin.</p>\n\n<p>Is there an easy way to achieve this or in case there isn't what would be the easiest way to do this?</p>\n\n<p><strong>UPDATE - Added code in the Adapter</strong></p>\n\n<p>This is the code I have in my adapter for this specific <code>ImageView</code>:</p>\n\n<pre><code>override fun onBindViewHolder(holder: AnoViewHolder, position: Int) {\n    ...\n    if(respec.nombre_icono_signo != \"\" &amp;&amp; respec.imagen_luna != \"\") {\n        val layoutParamsLuna = holder.view?.imagen_luna.layoutParams as RelativeLayout.LayoutParams\n        layoutParamsLuna.setMargins(1, 8, 15, 8)\n        holder.view?.imagen_luna.layoutParams = layoutParamsLuna\n    }\n    ...\n}\n</code></pre>\n\n<p>The thing is that this does nothing and my theory is that the setMargins function accepts left and right margins, not start and end margins.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1557289372, "post_id": 56033428, "comment_id": 98709834, "body": "have a look at vararg <a href=\"https://medium.com/@agrawalsuneet/variable-number-of-arguments-vararg-kotlin-f1c25b79de14\" rel=\"nofollow noreferrer\">medium.com/@agrawalsuneet/&hellip;</a> . I am not sure if that&#39;s what you need"}, {"owner": {"reputation": 69128, "user_id": 242769, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8f1bfe0dcaa3cdc6633e8b80639e541a?s=128&d=identicon&r=PG", "display_name": "aryaxt", "link": "https://stackoverflow.com/users/242769/aryaxt"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1557289612, "post_id": 56033428, "comment_id": 98709894, "body": "varargs can&#39;t be named, also can&#39;t be different types"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1557289849, "post_id": 56033428, "comment_id": 98709949, "body": "yes they cannot be named but  you can take <code>Any</code> if you want different types"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1557298786, "creation_date": 1557298786, "answer_id": 56035166, "question_id": 56033428, "link": "https://stackoverflow.com/questions/56033428/kotlin-dynamic-number-of-parameters-in-function/56035166#56035166", "title": "Kotlin dynamic number of parameters in function?", "body": "<p>It is possible to overload <code>intercept</code> n-times generically and infer the type with the lambda definition:</p>\n\n<pre><code>fun &lt;T1&gt; intercept(path: String, cb: (T1) -&gt; Unit) = ...\nfun &lt;T1, T2&gt; intercept(path: String, cb: (T1, T2) -&gt; Unit) = ...\nfun &lt;T1, T2, T3&gt; intercept(path: String, cb: (T1, T2, T3) -&gt; Unit) = ...\n\nrouter.intercept(\"users/:userId/albums/:albumName\") { userId: Int, albumName: String -&gt; }\n</code></pre>\n\n<p>But for <code>intercept</code> all parameters will look like <code>Any?</code> and you might not get any information about the name or type you declared with the lambda and using a wrong type for it will result in exceptions.</p>\n\n<p>To use <em>Kotlin</em> to its full extend, you could make it all type-safe with <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">sealed classes</a> and <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructuring declarations</a>:</p>\n\n<pre><code>sealed class Route\ndata class UsersRoute(\n    val userId: Int,\n    val albumName: String\n) : Route()\n\nfun &lt;R: Route&gt; intercept(path: String, cb: (R) -&gt; Unit) = ...\n\nrouter.intercept(\"users/:userId\") { (userId): UsersRoute -&gt; }\nrouter.intercept&lt;UsersRoute&gt;(\"users/:userId/albums/:albumName\") { (userId, albumName) -&gt; }\n</code></pre>\n\n<p>If you only have  the <em>users</em> route, you don't even need the generic and sealed class approach.</p>\n"}], "owner": {"reputation": 69128, "user_id": 242769, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8f1bfe0dcaa3cdc6633e8b80639e541a?s=128&d=identicon&r=PG", "display_name": "aryaxt", "link": "https://stackoverflow.com/users/242769/aryaxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557298786, "creation_date": 1557288779, "question_id": 56033428, "link": "https://stackoverflow.com/questions/56033428/kotlin-dynamic-number-of-parameters-in-function", "title": "Kotlin dynamic number of parameters in function?", "body": "<p>I'm trying to write a single function that takes a dynamic closure/function</p>\n\n<pre><code>router.intercept(\"users/:userId\") { (userId: Int) -&gt;\n   print(\"User id is $userId\")\n}\n\nrouter.intercept(\"users/:userId/albums/:albumName\") { (userId: Int, albumName: String) -&gt;\n   print(\"User id is $usrrId, album is $albumName\")\n}\n</code></pre>\n\n<p>With swift this is possible by using named tuples, is it possible to achieve this with kotlin?</p>\n\n<ul>\n<li>I want variables to be named</li>\n<li>I want to be able to support <code>n</code> number of parameters</li>\n</ul>\n"}, {"tags": ["android", "firebase", "kotlin", "analytics", "firebase-analytics"], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1557358514, "post_id": 56043302, "comment_id": 98741911, "body": "Thank you Lena! Would I have any issues logging events a simply as this? <code>firebaseAnalytics.logEvent(&quot;event_name&quot;, null)</code>"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1557360295, "post_id": 56043302, "comment_id": 98742251, "body": "Or do I have to have a bundle for some reason?"}, {"owner": {"reputation": 12152, "user_id": 2136812, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/5gWlP.jpg?s=128&g=1", "display_name": "Lena Bru", "link": "https://stackoverflow.com/users/2136812/lena-bru"}, "reply_to_user": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 1, "creation_date": 1570717243, "post_id": 56043302, "comment_id": 103008759, "body": "@Tsabary the bundle is the arguments, simply logging that the event occurred does not need a bundle"}], "tags": [], "owner": {"reputation": 12152, "user_id": 2136812, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/5gWlP.jpg?s=128&g=1", "display_name": "Lena Bru", "link": "https://stackoverflow.com/users/2136812/lena-bru"}, "is_accepted": true, "score": 0, "last_activity_date": 1557327197, "last_edit_date": 1557327197, "creation_date": 1557326458, "answer_id": 56043302, "question_id": 56033290, "link": "https://stackoverflow.com/questions/56033290/is-this-a-correct-and-efficient-way-to-implement-firebase-analytics/56043302#56043302", "title": "Is this a correct and efficient way to implement Firebase Analytics?", "body": "<p>In order to test your analytics if it went up to the server or not, it does not take a few days.\nAll you need to do is to make your app go to the background and back to the foreground and it should sync with the server.</p>\n\n<p>You can log events with whatever info you want, there's no need for specific fields to be present</p>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 56043302, "answer_count": 1, "score": 0, "last_activity_date": 1557327197, "creation_date": 1557287626, "last_edit_date": 1557326185, "question_id": 56033290, "link": "https://stackoverflow.com/questions/56033290/is-this-a-correct-and-efficient-way-to-implement-firebase-analytics", "title": "Is this a correct and efficient way to implement Firebase Analytics?", "body": "<p>I went through the documentation and some tutorials, but I still don't feel confident that I understand what parts of the code are necessary and what are just an example.\nBecause the analytics don't update immediately and could take a few days if not more then I can't really check if I am implementing it correctly. I would appreciate if someone could tell me if I'm doing it right and if not, what am I doing wrong.</p>\n\n<p>I have about 10 actions I want to track in my app.\nAll the fragments in my app implement a certain interface. In my interface I've created the following method:</p>\n\n<pre><code>fun event(firebaseAnalytics : FirebaseAnalytics, name : String){\n    val bundle = Bundle()\n    bundle.putString(FirebaseAnalytics.Param.ITEM_NAME, name)\n    firebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\n}\n</code></pre>\n\n<p>at both my activities I've initialized firebaseAnalytics as as a public variable as follows:</p>\n\n<pre><code>firebaseAnalytics = FirebaseAnalytics.getInstance(this)\n</code></pre>\n\n<p>Now in the fragments, whenever one of the actions I want to track is being executed, I call the function like this</p>\n\n<pre><code>event(firebaseAnalytics, \"some_action_name_I_chose\")\n</code></pre>\n\n<p>so for example I ould have:</p>\n\n<pre><code>//when someone takes a photo\nevent(firebaseAnalytics, \"photo_taken\")\n\n//when someone likes a photo\nevent(firebaseAnalytics, \"photo_liked\")\n\n//when someone comments\nevent(firebaseAnalytics, \"photo_commented\")\n</code></pre>\n\n<p>Would this work? Is it as simple as that?</p>\n\n<p>In the documentation this code was given:</p>\n\n<pre><code>val bundle = Bundle()\nbundle.putString(FirebaseAnalytics.Param.ITEM_ID, id)\nbundle.putString(FirebaseAnalytics.Param.ITEM_NAME, name)\nbundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE, \"image\")\nfirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle)\n</code></pre>\n\n<p>I can't understand if I need all these fields or not. Item id? content type? It's not very clear.\nThanks.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2046, "user_id": 5599880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nmGwq.jpg?s=128&g=1", "display_name": "MohammadL", "link": "https://stackoverflow.com/users/5599880/mohammadl"}, "is_accepted": false, "score": 0, "last_activity_date": 1557281131, "creation_date": 1557281131, "answer_id": 56032577, "question_id": 56032333, "link": "https://stackoverflow.com/questions/56032333/quick-way-to-find-apis-corresponding-to-api-levels-in-android/56032577#56032577", "title": "Quick way to find apis corresponding to API levels in Android", "body": "<p>Don't need to figure out the api level by your self, just use a support library.</p>\n\n<p><strong>Use a <a href=\"https://developer.android.com/topic/libraries/support-library\" rel=\"nofollow noreferrer\">Support Library</a>:</strong></p>\n\n<blockquote>\n  <p>When developing apps that support multiple API versions, you may want a standard way to provide newer features on earlier versions of Android or gracefully fall back to equivalent functionality.</p>\n</blockquote>\n\n<p><strong>Beware that:</strong></p>\n\n<blockquote>\n  <p>With the release of Android 9.0 (API level 28) there is a new version of the support library called AndroidX which is part of Jetpack. The AndroidX library contains the existing support library and also includes the latest Jetpack components. </p>\n</blockquote>\n"}], "owner": {"reputation": 105, "user_id": 4419375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94ba52a3bd5f853f0013ecb4df12fb2?s=128&d=identicon&r=PG&f=1", "display_name": "Rami", "link": "https://stackoverflow.com/users/4419375/rami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1557281131, "creation_date": 1557278795, "question_id": 56032333, "link": "https://stackoverflow.com/questions/56032333/quick-way-to-find-apis-corresponding-to-api-levels-in-android", "title": "Quick way to find apis corresponding to API levels in Android", "body": "<p>My project targets minimum api level of API 21. I am trying to use LocalDateTime to fetch current date but get a warning saying your minimum api level is 21 and LocalDateTime is in API level 28.</p>\n\n<p>Is there a way to quickly find APIs corresponding to a given level somewhere on web or in Android studio? I am coding in kotlin</p>\n"}, {"tags": ["kotlin", "android-edittext", "anko"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "is_accepted": false, "score": 1, "last_activity_date": 1557880317, "creation_date": 1557880317, "answer_id": 56140308, "question_id": 56031574, "link": "https://stackoverflow.com/questions/56031574/anko-custom-widget-edittext-without-displaying-error-text/56140308#56140308", "title": "Anko custom widget: editText without displaying error text", "body": "<p>I believe you want to make your View class accessible from the DSL, and then create it explicitly.</p>\n\n<p>Add this code to the file containing your custom view class:</p>\n\n<pre><code>inline fun ViewManager.myEditText(init: MyEditText.() -&gt; Unit): MyEditText {\n    return ankoView({ MyEditText(it) }, theme = 0, init = init)\n}\n</code></pre>\n\n<p>Then you can use the following in your anko DSL:\n    myEditText {id = editNameId}</p>\n\n<p>Another recommended change is to not use view IDs, but rather just assign a variable from the DSL:</p>\n\n<pre><code>verticalLayout {\n  editName = myEditText {}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 5042306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee3c0cfa841bb7e7a16b656e28377bf?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5042306/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1558042131, "creation_date": 1558042131, "answer_id": 56176831, "question_id": 56031574, "link": "https://stackoverflow.com/questions/56031574/anko-custom-widget-edittext-without-displaying-error-text/56176831#56176831", "title": "Anko custom widget: editText without displaying error text", "body": "<p>I made final solution:</p>\n\n<p>in extension.kt</p>\n\n<pre><code>class MyEditText : EditText {\n\nvar isError = true\nconstructor(context: Context) : super(context)\nconstructor(context: Context, attrs: AttributeSet?) : super(context, attrs)\nconstructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)\n\noverride fun setError(error: CharSequence?, icon: Drawable?) {\n    setCompoundDrawables(null, null, icon, null)\n    isError = error != null\n} }\n\ninline fun ViewManager.myEditText(theme: Int = 0, init: MyEditText.() -&gt; Unit) = ankoView({MyEditText(it)}, theme, init)\n</code></pre>\n\n<p>In Anko DSL class (etName is defined in companion object)</p>\n\n<pre><code>myEditText {\n   id = etName                \n}\n</code></pre>\n\n<p>In activity</p>\n\n<pre><code>private lateinit var enterName: MyEditText\n[..]\noverride fun onCreate [...]\n{\n\nenterName = find(etName)\n\n if (enterName.text.isNotEmpty()) enterName.error = null else enterName.error = \"error\"\n\n enterName.addTextChangedListener(object : TextWatcher {\n     override fun afterTextChanged(s: Editable?) {\n     if (s!!.isNotEmpty()) enterName.error = null else enterName.error = \"error\"\n     validateForm()\n     }\n\n     override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n     override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {}\n  })\n\nvalidateForm()\n// rest of onCreate\n}\n\nprivate fun validateForm() {\n  editButton.isEnabled = enterName.isError == false\n}\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 5042306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee3c0cfa841bb7e7a16b656e28377bf?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5042306/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558042131, "creation_date": 1557271001, "last_edit_date": 1557437464, "question_id": 56031574, "link": "https://stackoverflow.com/questions/56031574/anko-custom-widget-edittext-without-displaying-error-text", "title": "Anko custom widget: editText without displaying error text", "body": "<p>I trying make MyEditText extend EditText class with only one change:\nnot displaying \"tooltip\" with error. Only display icon (!) when editText.error = \"some error\"</p>\n\n<pre><code>class MyEditText : EditText {\n\n    constructor(context: Context) : super(context)\n    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)\n\n    override fun setError(error: CharSequence, icon: Drawable) {\n        setCompoundDrawables(null, null, icon, null)\n    }\n}\n</code></pre>\n\n<p>When I use in Anko DSL</p>\n\n<pre><code>editText {\nid = editNameId\n}\n</code></pre>\n\n<p>and in code I tried cast:</p>\n\n<pre><code>private lateinit var editName: MyEditText\n\neditName = find&lt;MyEditText&gt;(editNameId)\n// or other variants\n// editName = find&lt;EditText&gt;(editNameId)\n// editName = find&lt;EditText&gt;(editNameId) as MyEditText\n</code></pre>\n\n<p>I got error that can't cast EditText to MyEditText. \nif I understand correctly, I need to make my own widget tag to Anko.</p>\n\n<pre><code>myEditText {\nid = editNameId\n}\n</code></pre>\n\n<p>I found that should work similar code to:</p>\n\n<pre><code>inline fun ViewManager.myEditText() = myEditText {}\ninline fun ViewManager.myEditText(theme: Int = 0, init: MyEditText.() -&gt; Unit) = ankoView({MyEditText(it)}, theme, init)\n</code></pre>\n\n<p>This is not working because I don't know how pass two parameters to the constructor: context and attrs.</p>\n\n<p>I've been thinking about this problem for a long time and I can not solve it ;/</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 4354, "user_id": 3339274, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sROPZ.jpg?s=128&g=1", "display_name": "ifconfig", "link": "https://stackoverflow.com/users/3339274/ifconfig"}, "edited": false, "score": 3, "creation_date": 1557283528, "post_id": 56031351, "comment_id": 98708704, "body": "Please explain <i>what</i> your snippet does and how it addresses the problem"}], "tags": [], "owner": {"reputation": 2772, "user_id": 5771446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d6be6a7599bae9c70427cf2c9565ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/5771446/leroy"}, "is_accepted": true, "score": 2, "last_activity_date": 1557489295, "last_edit_date": 1557489295, "creation_date": 1557268950, "answer_id": 56031351, "question_id": 56031350, "link": "https://stackoverflow.com/questions/56031350/how-to-apply-and-configure-the-kotlin-no-arg-compiler-plugin-in-gradle-kotlin-ds/56031351#56031351", "title": "How to apply and configure the Kotlin No Arg compiler plugin in Gradle Kotlin DSL?", "body": "<p>Because Kotlin DSL is statically typed, the syntax will differ slightly from Groovy DSL.</p>\n\n<pre><code>import org.jetbrains.kotlin.noarg.gradle.NoArgExtension\n\nplugins {\n    id(\"org.jetbrains.kotlin.plugin.noarg\") version \"1.3.31\"\n}\n\nconfigure&lt;NoArgExtension&gt; {\n    annotation(\"com.my.Annotation\")\n}\n</code></pre>\n\n<p>Differences:  </p>\n\n<ul>\n<li>Kotlin DSL requires <code>id</code>s in the <code>plugins</code> block to accept an argument of the plugin id.</li>\n<li>The plugin exposes the type <code>NoArgExtension</code> which is then imported. It's required for the <code>configure</code> block in which the plugin can be configured similar to the Groovy DSL.</li>\n</ul>\n"}], "owner": {"reputation": 2772, "user_id": 5771446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d6be6a7599bae9c70427cf2c9565ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/5771446/leroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 0, "accepted_answer_id": 56031351, "answer_count": 1, "score": 2, "last_activity_date": 1557489295, "creation_date": 1557268950, "question_id": 56031350, "link": "https://stackoverflow.com/questions/56031350/how-to-apply-and-configure-the-kotlin-no-arg-compiler-plugin-in-gradle-kotlin-ds", "title": "How to apply and configure the Kotlin No Arg compiler plugin in Gradle Kotlin DSL?", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">documentation</a> only gives an example in Groovy DSL:</p>\n\n<pre><code>plugins {\n  id \"org.jetbrains.kotlin.plugin.noarg\" version \"1.3.31\"\n}\n\nnoArg {\n    annotation(\"com.my.Annotation\")\n}\n</code></pre>\n\n<p>How does this translate into Kotlin DSL?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1557267902, "post_id": 56031139, "comment_id": 98705856, "body": "JVM is a runtime environment for desktops and servers; I assume that you mean the JDK where you have JVM). Gradle orchestrates the entire build process. The JDK does not compile Kotlin code. There may be more than one <code>.dex</code> file. You are missing build variants, code generation, etc. And I assume that skipping resources, manifests, assets, etc. was intentional (to focus on Java/Kotlin source)."}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557276451, "post_id": 56031139, "comment_id": 98707470, "body": "&quot;JDK does not compile Kotlin code&quot; - Many answers I&#39;ve seen say the JDK contains the Java Compiler which converts the Java code to Bytecode - <a href=\"https://stackoverflow.com/a/28514776/6733153\">stackoverflow.com/a/28514776/6733153</a>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1557312040, "post_id": 56031139, "comment_id": 98719859, "body": "Java != Kotlin. A Java compiler compiles Java code. A Kotlin compiler compiles Kotlin code."}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557267436, "creation_date": 1557267436, "question_id": 56031139, "link": "https://stackoverflow.com/questions/56031139/gradles-involvement-in-the-android-build-process", "title": "Gradle&#39;s involvement in the Android build process", "body": "<p>I am trying to understand the timeline of an Android app from the source code to the final <code>.apk</code> file. This is how I imagine it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WSsxN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WSsxN.png\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li><p>The <strong>JVM</strong> compiles all of my <code>.java</code> &amp; <code>.kt</code> files to seperate <code>.class</code> files and convert the Java/Kotlin code directly to Java bytecode. The JVM also converts my libraries/dependencies (which are <code>.jar</code> files or <code>.java</code>/<code>.kt</code> files) into Java Bytecode.</p></li>\n<li><p><strong>Gradle</strong> then joins the process after all the source code has been converted into Bytecode. It builds the project by merging all of the <code>.class</code> files together into one <code>.dex</code> file. (Sometimes it also builds other files depending on Gradle configuration). </p></li>\n<li><p>Gradle then creates an <code>.apk</code> file with the <code>.dex</code> file and other files - which is then ready to be deployed onto an Android device. </p></li>\n</ol>\n\n<p>Can someone tell me if this is not accurate or if I have skipped a step?</p>\n"}, {"tags": ["android", "kotlin", "view", "unbind"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1557267415, "post_id": 56031042, "comment_id": 98705731, "body": "Cleanup of view elements is not required in either Java or Kotlin, in general. So long as you have no global references to views, everything should be cleaned up automatically."}, {"owner": {"reputation": 83, "user_id": 6655397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ba7ce38fc130a850da3902d43c40f5?s=128&d=identicon&r=PG&f=1", "display_name": "jtompkj", "link": "https://stackoverflow.com/users/6655397/jtompkj"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557268610, "post_id": 56031042, "comment_id": 98706030, "body": "Great thanks, I couldn&#39;t find any official Android documentation stating that. Might be useful to link to it if it exists."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557268986, "post_id": 56031042, "comment_id": 98706124, "body": "@CommonsWare cleanup in fragments is required in some cases, usually if they can be detached/attached multiple times - for example in <code>FragmentViewPager</code>."}], "owner": {"reputation": 83, "user_id": 6655397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ba7ce38fc130a850da3902d43c40f5?s=128&d=identicon&r=PG&f=1", "display_name": "jtompkj", "link": "https://stackoverflow.com/users/6655397/jtompkj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557266726, "creation_date": 1557266726, "question_id": 56031042, "link": "https://stackoverflow.com/questions/56031042/how-to-unbind-views-in-kotlin-android", "title": "How to unbind views in Kotlin/Android?", "body": "<p>How do you unbind a view in Kotlin for Android, and/or properly dispose of view elements for fragments and custom views in onDestroy/onDestroyView?</p>\n\n<p>In Java/Android, you might do your cleanup in onDestroy() or onDestroyView() for fragments, setting null to the view elements or using something like Unbinder.unbind() if you were using ButterKnife. </p>\n\n<p>Syntax restrictions seem to prevent setting view elements to null in onDestroyView().</p>\n\n<pre><code>private lateinit var contents: ViewGroup\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\nroot = inflater.inflate(R.layout.example, container, false)\ncontents = root.bind(R.id.contents) // calls a findViewById,   (purposefully not using the view id cache)\n}\n\noverride fun onDestroyView() {\n// What do I do here?\ncontents = null // syntax error\nsuper.onDestroyView()\n}\n</code></pre>\n\n<p>`</p>\n\n<p>Is clean up of view elements required in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 79, "user_id": 9410596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgMQ7.png?s=128&g=1", "display_name": "Rajendra Mahato", "link": "https://stackoverflow.com/users/9410596/rajendra-mahato"}, "edited": false, "score": 0, "creation_date": 1557269247, "post_id": 56030995, "comment_id": 98706193, "body": "<a href=\"https://www.dev2qa.com/passing-data-between-activities-android-tutorial/\" rel=\"nofollow noreferrer\">dev2qa.com/passing-data-between-activities-android-tutorial</a>"}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 11162243, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-U7CnTVvDPEc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIqAR-LoNw_pZaCFkU0iJLZxuX2A/mo/photo.jpg?sz=128", "display_name": "Alexander Gapanowich", "link": "https://stackoverflow.com/users/11162243/alexander-gapanowich"}, "is_accepted": false, "score": 0, "last_activity_date": 1557268896, "creation_date": 1557268896, "answer_id": 56031341, "question_id": 56030995, "link": "https://stackoverflow.com/questions/56030995/how-to-pass-data-from-one-activity-to-another-in-android-application/56031341#56031341", "title": "How to pass data from one activity to another in Android application", "body": "<p>You should use: <code>startActivityForResult(myIntent)</code> \ninstead of: <code>startActivity(myIntent)</code></p>\n"}, {"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 2, "last_activity_date": 1557281753, "creation_date": 1557281753, "answer_id": 56032654, "question_id": 56030995, "link": "https://stackoverflow.com/questions/56030995/how-to-pass-data-from-one-activity-to-another-in-android-application/56032654#56032654", "title": "How to pass data from one activity to another in Android application", "body": "<p>There are 2 issues with your code.</p>\n\n<p>First, to receive result from another activity, you must use <a href=\"https://developer.android.com/reference/android/app/Activity.html#startActivityForResult(android.content.Intent,%20int)\" rel=\"nofollow noreferrer\">startActivityForResult()</a> instead.</p>\n\n<pre><code>fun switchToActivity (view: View){\n    val myIntent = Intent(this, Main2Activity::class.java)\n    startActivityForResult(myIntent)\n}\n</code></pre>\n\n<p>Second, you must use the same key when saving and retrieving result.</p>\n\n<pre><code>var text2 = myInten?.getStringExtra(\"textView\")\n</code></pre>\n\n<p>Put it together.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    fun switchToActivity (view: View){\n        val myIntent = Intent(this, Main2Activity::class.java)\n        startActivityForResult(myIntent)\n    }\n\n    override fun onActivityResult(requestCode: Int,\n                                  resultCode: Int,\n                                  myInten: Intent?) {\n        var text2 = myInten?.getStringExtra(\"textView\")\n        textView.setText(text2)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 10290803, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-beQU9_dKv5M/AAAAAAAAAAI/AAAAAAAAANE/AgJnqCEgcHQ/photo.jpg?sz=128", "display_name": "Mihajlo Milosevic", "link": "https://stackoverflow.com/users/10290803/mihajlo-milosevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56032654, "answer_count": 2, "score": 0, "last_activity_date": 1557302132, "creation_date": 1557266392, "last_edit_date": 1557302132, "question_id": 56030995, "link": "https://stackoverflow.com/questions/56030995/how-to-pass-data-from-one-activity-to-another-in-android-application", "title": "How to pass data from one activity to another in Android application", "body": "<p>I'm trying to create simple app where you type your data in one activity by editText and it's shown in another in TextView. But i really don't know how to make it work. As you can see this is simple code but right now when i click submit nothing happens on another activity.\nthis is first activty </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n    fun switchToActivity (view: View){\n        val myIntent = Intent(this, Main2Activity::class.java)\n        startActivity(myIntent)\n    }\n    override fun onActivityResult(requestCode: Int,\n                                  resultCode: Int,\n                                  myInten: Intent?) {\n        var text2 = myInten?.getStringExtra(\"text\")\n        textView.setText(text2)\n    }\n}\n</code></pre>\n\n<p>And this is second</p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main2)\n    }\n    fun buttonListener (view: View){\n        var text = editText.text.toString()\n\n        val myIntent = Intent()\n        myIntent.putExtra(\"textView\", text)\n        setResult(Activity.RESULT_OK, myIntent)\n        finish()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-dokka"], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 1, "last_activity_date": 1557328142, "creation_date": 1557328142, "answer_id": 56043807, "question_id": 56030370, "link": "https://stackoverflow.com/questions/56030370/default-builddir-for-kotlin-projects/56043807#56043807", "title": "Default buildDir for kotlin projects", "body": "<p>In Gradle the project property <code>buildDir</code> points by default to the subdirectory <code>build</code> of your project directory.</p>\n\n<p>The dokka output directory <code>javadoc</code> may be missing in <code>buildDir</code> because the <code>dokka</code> task has never run before. Your build.gradle file seems not to have any dependencies on the <code>dokka</code> task or its output, so it isn't triggered when you're running <code>build</code> or <code>assemble</code> tasks. You can try running it explicitly: <code>./gradlew dokka</code> or add a dependency on that task to some other lifecycle task, e.g</p>\n\n<pre><code>assemble.dependsOn(dokka)\n</code></pre>\n"}], "owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 56043807, "answer_count": 1, "score": 0, "last_activity_date": 1557328142, "creation_date": 1557262546, "last_edit_date": 1557263459, "question_id": 56030370, "link": "https://stackoverflow.com/questions/56030370/default-builddir-for-kotlin-projects", "title": "Default buildDir for kotlin projects", "body": "<p>I'm trying to add documentation to my project with dokka <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/kotlin-doc.html</a></p>\n\n<p>I'm not quite able to figure out where the <code>javadocs</code> are located after doing a successful <code>./gradlew build.</code> </p>\n\n<p>It says there they should be in <code>$buildDir/javadoc</code> but I'm not sure where <code>buidlDir</code> is pointing to.</p>\n\n<p>My build.gradle file is this:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4'\n\n    }\n\n}\nplugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.11'\n     id 'org.jetbrains.dokka' version '0.9.18'\n\n    // id(\"org.jmailen.kotlinter\") version \"1.23.1\"\n\n}\n\ndokka {\n    outputFormat = 'html'\n    outputDirectory = \"$buildDir/javadoc\"\n}\n\n\ngroup 'com.github.me.dynamik'\nversion '1.0-SNAPSHOT'\napply plugin: 'application'\napply plugin: 'kotlin'\napply plugin: 'java'\napply plugin: 'com.github.johnrengelman.shadow'\n\n\n\n\nmainClassName = 'com.github.me.dynamik.interpreter.MainEntryKt'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { setUrl(\"https://dl.bintray.com/hotkeytlt/maven\") }\n    maven {\n        url = uri(\"https://plugins.gradle.org/m2/\")\n    }\n\n}\nconfigurations {\n    ktlint\n}\ndependencies {\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    compile 'com.github.h0tk3y.betterParse:better-parse-jvm:0.4.0-alpha-3'\n    // https://mvnrepository.com/artifact/junit/junit\n    testCompile group: 'junit', name: 'junit', version: '4.4'\n    implementation 'com.github.ajalt:clikt:1.7.0'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.0'\n\n\n}\n\n\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrun {\n    standardInput = System.in\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.github.me.dynamik.interpreter.MainEntryKt'\n    }\n}\n\ntest {\n\n    // Always run tests, even when nothing changed.\n    dependsOn 'cleanTest'\n\n    // Show test results.\n    testLogging {\n        events \"passed\", \"skipped\", \"failed\"\n    }\n}\n\n\n\n</code></pre>\n\n<p>I'd love a pointer or two in the right direction. </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 4972519, "user_type": "registered", "profile_image": "https://graph.facebook.com/686338688139156/picture?type=large", "display_name": "Ajay Kumar Sharma", "link": "https://stackoverflow.com/users/4972519/ajay-kumar-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1557259743, "creation_date": 1557259743, "answer_id": 56029802, "question_id": 56029713, "link": "https://stackoverflow.com/questions/56029713/error-declaring-an-intent-in-from-a-fragment-in-kotlin/56029802#56029802", "title": "Error declaring an Intent in from a Fragment in Kotlin:", "body": "<p>You need to add this code\nval fieldIntent = Intent(this@Fragment1, ProductsAndInputs::class.java )\n             startActivity(fieldIntent)</p>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "is_accepted": true, "score": 1, "last_activity_date": 1557262951, "creation_date": 1557262951, "answer_id": 56030431, "question_id": 56029713, "link": "https://stackoverflow.com/questions/56029713/error-declaring-an-intent-in-from-a-fragment-in-kotlin/56030431#56030431", "title": "Error declaring an Intent in from a Fragment in Kotlin:", "body": "<p>the issue is that the Intent constructor wants a context, but you're passing it a Fragment. But you can get a context from the Fragment: try this:</p>\n\n<pre><code> val fieldIntent = Intent(this@Fragment1.context, Products...\n</code></pre>\n\n<p>Oh, and you do need to call startActivity too, as Ajay said.</p>\n"}], "owner": {"reputation": 3, "user_id": 11466288, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8EGjMSCTAco/AAAAAAAAAAI/AAAAAAAABe0/pV90VfNqhPU/photo.jpg?sz=128", "display_name": "Robert Wabuti", "link": "https://stackoverflow.com/users/11466288/robert-wabuti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 56030431, "answer_count": 2, "score": 0, "last_activity_date": 1557262951, "creation_date": 1557259302, "question_id": 56029713, "link": "https://stackoverflow.com/questions/56029713/error-declaring-an-intent-in-from-a-fragment-in-kotlin", "title": "Error declaring an Intent in from a Fragment in Kotlin:", "body": "<p>I am trying to create an intent that uses a button within a fragment in the main activity to open a new activity. The error pops up underlining the 'Intent' object with a red line. The error is:</p>\n\n<p>None of the following functions can be called with the arguments supplied.\n(Context!, Class&lt;*>!) defined in android.content.Intent\n(String!, Uri!) defined in android.content.Intent</p>\n\n<p>I tried the following code </p>\n\n<pre><code>val fieldIntent = Intent(this@Fragment1, ProductsAndInputs::class.java )\n</code></pre>\n\n<p>instead of the initial </p>\n\n<pre><code>val fieldIntent = Intent(this, ProductsAndInputs::class.java )\n</code></pre>\n\n<p>Based on an answer provided on a different forum but it also didn't work</p>\n\n<pre><code>\n    class Fragment1 : Fragment() {\n\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            val view: View = inflater!!.inflate(R.layout.fragment_fragment1, container, false)\n\n            view.btn_field.setOnClickListener { view -&gt;\n                val fieldIntent = Intent(this@Fragment1, ProductsAndInputs::class.java )\n                Log.i(\"Button clicked\", \"Field button\")\n            }\n            return view\n        }\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n            super.onViewCreated(view, savedInstanceState)\n        }\n\n    }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1557253488, "post_id": 56028470, "comment_id": 98700489, "body": "Are you using <code>DaggerApplication?</code>"}, {"owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1557255938, "post_id": 56028470, "comment_id": 98701551, "body": "No, Ill try extending from that class"}, {"owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1557257647, "post_id": 56028470, "comment_id": 98702244, "body": "It didn&#39;t worked, the same exception appears"}], "owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557253333, "creation_date": 1557253333, "question_id": 56028470, "link": "https://stackoverflow.com/questions/56028470/android-manifest-dagger-ignoring-my-custom-application-class", "title": "Android - Manifest / Dagger ignoring my custom Application class", "body": "<p>I have an Android app that uses a custom application class, it looks something like this:</p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;application  \n  android:allowBackup=\"true\"  \n  android:icon=\"@mipmap/ic_launcher\"  \n  android:label=\"@string/app_name\"  \n  android:networkSecurityConfig=\"@xml/network_config\"  \n  android:roundIcon=\"@mipmap/ic_launcher_round\"  \n  android:supportsRtl=\"true\"  \n  android:theme=\"@style/AppTheme\"  \n  android:usesCleartextTraffic=\"true\"  \n  android:name=\".MyApplication\"  \n  tools:ignore=\"UnusedAttribute\"&gt;\n</code></pre>\n\n<p>MyApplication.kt</p>\n\n<pre><code>class MyApplication : Application(), HasActivityInjector, HasSupportFragmentInjector, HasServiceInjector {  \n      @Inject  \n      lateinit var serviceInjector: DispatchingAndroidInjector&lt;Service&gt;  \n      @Inject  \n      lateinit var fragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;  \n      @Inject  \n      lateinit var activityDispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;  \n      @Inject  \n      lateinit var remoteConfig: FirebaseRemoteConfig  \n      @Inject  \n      lateinit var workerFactory: GrowWorkerFactory  \n\n      override fun activityInjector(): AndroidInjector&lt;Activity&gt; = activityDispatchingAndroidInjector  \n\n      override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt; = fragmentInjector  \n\n      override fun serviceInjector(): AndroidInjector&lt;Service&gt; = serviceInjector  \n\n}\n</code></pre>\n\n<p>This is my dagger component class</p>\n\n<pre><code>interface MyApplicationComponent {  \n  @Component.Builder  \n    interface Builder {  \n  fun build(): MyApplicationComponent  \n  @BindsInstance  \n  fun application(application: Application): Builder  \n  fun dataSourceModule(module: DataSourceModule): Builder  \n  fun serviceModule(module: ManagerModule): Builder  \n  }  \n\n  fun inject(app: MyApplication)  \n}\n</code></pre>\n\n<p>The build completes fine and the app launches, but, when arriving to the SplashActivity class, the app crashes throwing this:</p>\n\n<pre><code>2019-05-07 13:13:32.314 14002-14002/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.app.debug, PID: 14002\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.my.app.debug/com.my.app.debug.SplashActivity}: java.lang.RuntimeException: android.app.Application does not implement dagger.android.HasActivityInjector\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3300)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3484)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2123)\n        at android.os.Handler.dispatchMessage(Handler.java:109)\n        at android.os.Looper.loop(Looper.java:207)\n        at android.app.ActivityThread.main(ActivityThread.java:7470)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\n     Caused by: java.lang.RuntimeException: android.app.Application does not implement dagger.android.HasActivityInjector\n        at dagger.android.AndroidInjection.inject(AndroidInjection.java:49)\n        at com.my.app.SplashActivity.onCreate(SplashActivity.kt:24)\n        at android.app.Activity.performCreate(Activity.java:7436)\n        at android.app.Activity.performCreate(Activity.java:7426)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1286)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3279)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3484) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:86) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2123) \n        at android.os.Handler.dispatchMessage(Handler.java:109) \n        at android.os.Looper.loop(Looper.java:207) \n        at android.app.ActivityThread.main(ActivityThread.java:7470) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:958)\n</code></pre>\n\n<p>Seems like the app is ignoring MyApplication class</p>\n"}, {"tags": ["android", "kotlin", "bitmap"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "edited": false, "score": 0, "creation_date": 1557298542, "post_id": 56030706, "comment_id": 98712751, "body": "ohh ok change in manifest, one question load appears default image :/"}, {"owner": {"reputation": 1513, "user_id": 2556354, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d17ecb069c4cf3205de82341203f9525?s=128&d=identicon&r=PG", "display_name": "madz", "link": "https://stackoverflow.com/users/2556354/madz"}, "reply_to_user": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "edited": false, "score": 0, "creation_date": 1557309428, "post_id": 56030706, "comment_id": 98718362, "body": "Please don&#39;t correct  your codes in the question. This confuses people who come to this post for their problems!"}, {"owner": {"reputation": 1513, "user_id": 2556354, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d17ecb069c4cf3205de82341203f9525?s=128&d=identicon&r=PG", "display_name": "madz", "link": "https://stackoverflow.com/users/2556354/madz"}, "reply_to_user": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "edited": false, "score": 0, "creation_date": 1557309500, "post_id": 56030706, "comment_id": 98718407, "body": "Sorry I did not get the meaning out of your comment"}, {"owner": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "edited": false, "score": 0, "creation_date": 1557935887, "post_id": 56030706, "comment_id": 98936213, "body": "okay, it works but it loads the default thumbnail and not the selected image, which may be wrong. Sorry I was without internet."}, {"owner": {"reputation": 1513, "user_id": 2556354, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d17ecb069c4cf3205de82341203f9525?s=128&d=identicon&r=PG", "display_name": "madz", "link": "https://stackoverflow.com/users/2556354/madz"}, "reply_to_user": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "edited": false, "score": 0, "creation_date": 1558133403, "post_id": 56030706, "comment_id": 99013316, "body": "@Davi It is hard to guess whats your real intention. What you are asking is the subject of another question with more related data. I think that this question has been already answered."}], "tags": [], "owner": {"reputation": 1513, "user_id": 2556354, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d17ecb069c4cf3205de82341203f9525?s=128&d=identicon&r=PG", "display_name": "madz", "link": "https://stackoverflow.com/users/2556354/madz"}, "is_accepted": true, "score": 0, "last_activity_date": 1557264567, "creation_date": 1557264567, "answer_id": 56030706, "question_id": 56028367, "link": "https://stackoverflow.com/questions/56028367/i-am-getting-this-msg-speech-that-did-not-find-no-such-file-or-directory/56030706#56030706", "title": "I am getting this msg speech that did not find (No such file or directory)", "body": "<p>As the exception indicates, The path does not exist!!</p>\n\n<p>As a bit of advice, try not to fight with exceptions, Just follow them, even if you're pretty sure!</p>\n\n<p>Anyway this time its the </p>\n\n<pre><code>val authorities = activity.packageName + \".fileprovider\"\n</code></pre>\n\n<p>part to blame because you have defined the provider in manifest with <code>.provider</code> suffix.</p>\n\n<p>So change to:</p>\n\n<pre><code>val authorities = activity.packageName + \".provider\"\n</code></pre>\n\n<p>It should be working by that change.</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 37, "user_id": 6763592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgIg1.png?s=128&g=1", "display_name": "Davi", "link": "https://stackoverflow.com/users/6763592/davi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 56030706, "answer_count": 1, "score": -1, "last_activity_date": 1557291648, "creation_date": 1557252889, "last_edit_date": 1557291648, "question_id": 56028367, "link": "https://stackoverflow.com/questions/56028367/i-am-getting-this-msg-speech-that-did-not-find-no-such-file-or-directory", "title": "I am getting this msg speech that did not find (No such file or directory)", "body": "<p>I am getting this msg speech that did not find (No such file or directory) the path is correct what could be wrong?</p>\n\n<pre><code>W/System.err: java.io.FileNotFoundException: /map.app.fileprovider/files/Pictures/JPEG_20190507_180502_4494360846236185755.jpg (No such file or directory)\n</code></pre>\n\n<p>LOG</p>\n\n<pre><code>   W/System.err: java.io.FileNotFoundException: /map.app.fileprovider/files/Pictures/JPEG_20190507_180502_4494360846236185755.jpg (No such file or directory)\n    W/System.err:     at java.io.FileInputStream.open0(Native Method)\n            at java.io.FileInputStream.open(FileInputStream.java:200)\n    W/System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:150)\n            at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:103)\n    W/System.err:     at android.content.ContentResolver.openInputStream(ContentResolver.java:965)\n            at android.provider.MediaStore$Images$Media.getBitmap(MediaStore.java:888)\n    W/System.err:     at map.app.fragments.ReportFragment.onActivityResult(ReportFragment.kt:274)\n</code></pre>\n\n<p>ReportFragmnet line error 274</p>\n\n<pre><code>val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, Uri.parse(\"file://\"+this.imageUri!!)) as Bitmap\n</code></pre>\n\n<p>path</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths&gt;\n    &lt;external-files-path\n\n        name=\"files\"\n        path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>manifest </p>\n\n<pre><code>  &lt;provider\n            android:name=\"android.support.v4.content.FileProvider\"\n            android:authorities=\"${applicationId}.fileprovider\"\n            android:exported=\"false\"\n            android:grantUriPermissions=\"true\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n                android:resource=\"@xml/paths\" /&gt;\n        &lt;/provider&gt;\n</code></pre>\n\n<p>method to capture the gallery image</p>\n\n<pre><code> fun openCamera() {\n    try {\n        val imageFile = createImageFile()\n        val callCameraIntent =  Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        if(callCameraIntent.resolveActivity(activity.packageManager) != null) {\n            val authorities = activity.packageName + \".fileprovider\"\n            this.imageUri = FileProvider.getUriForFile(context, authorities, imageFile)\n            callCameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\n            startActivityForResult(callCameraIntent, IMAGE_PICK_CODE)\n        }\n    } catch (e: IOException) {\n        Toast.makeText(context, \"Could not create file!\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>onActivityResult</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == IMAGE_PICK_CODE &amp;&amp; resultCode == RESULT_OK) {\n\n\n            try {\n\n                //Getting the Bitmap from Gallery\n                val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, Uri.parse(\"file://\"+this.imageUri!!)) as Bitmap\n                this.imgThumb!!.setImageBitmap(bitmap)\n                this.pictureTaken = true\n            } catch (e:IOException) {\n                e.printStackTrace()\n            }\n        } else {\n            Toast.makeText(context, \"Error loading image\", Toast.LENGTH_LONG)\n        }\n    }\n\n    @Throws(IOException::class)\n    fun createImageFile(): File {\n        val timeStamp: String = SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Date())\n        val imageFileName: String = \"JPEG_\" + timeStamp + \"_\"\n        val storageDir: File = activity.getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        if(!storageDir.exists()) storageDir.mkdirs()\n        val imageFile = File.createTempFile(imageFileName, \".jpg\", storageDir)\n        imageFilePath = imageFile.absolutePath\n        return imageFile\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "interface", "properties", "scope", "set"], "comments": [{"owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1557247424, "post_id": 56026971, "comment_id": 98697836, "body": "You could define the property as a val, is that enough in your case?"}, {"owner": {"reputation": 144, "user_id": 8109416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fa57a6a5d299b2b54f759e1494e450?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Hofmarcher", "link": "https://stackoverflow.com/users/8109416/matthias-hofmarcher"}, "reply_to_user": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1557248205, "post_id": 56026971, "comment_id": 98698159, "body": "No sadly not, because I still need to be able to privately change the value within the deriving class."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557248480, "post_id": 56026971, "comment_id": 98698266, "body": "You can make the property a <code>var</code> when implementing it."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1557248492, "post_id": 56026971, "comment_id": 98698270, "body": "Implementing this as <code>val</code> in interface is proper way to do it. Deriving classes can have private backing <code>var</code> field and expose that value thru interface getter."}, {"owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1557248972, "post_id": 56026971, "comment_id": 98698474, "body": "So the interface with other classes is only to read the value, I would define a function to that instead and leave to the class that is implementing it to decide how to provide that."}, {"owner": {"reputation": 144, "user_id": 8109416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fa57a6a5d299b2b54f759e1494e450?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Hofmarcher", "link": "https://stackoverflow.com/users/8109416/matthias-hofmarcher"}, "edited": false, "score": 0, "creation_date": 1557249017, "post_id": 56026971, "comment_id": 98698492, "body": "Oh thank you, I didn&#39;t notice I could override a val with a var"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 22, "last_activity_date": 1557249659, "creation_date": 1557249659, "answer_id": 56027637, "question_id": 56026971, "link": "https://stackoverflow.com/questions/56026971/kotlin-interface-property-only-require-public-getter-without-public-setter/56027637#56027637", "title": "Kotlin Interface Property: Only require public getter without public setter", "body": "<p>A property is an accessor to some data. You'll have a getter and if the property is mutable a setter as well. Therefore you can override any declared <code>val</code> property with a <code>var</code> property:</p>\n\n<pre><code>interface Transaction {\n   val transferDate: Date\n}\n\nclass MoneyTransaction: Transaction {\n   override lateinit var transferDate: Date\n       private set \n}\n</code></pre>\n\n<p>Note that you don't need to make the property a <code>lateinit var</code> if you initialize it with the object; I just added it to have your example compile properly.</p>\n"}, {"tags": [], "owner": {"reputation": 2842, "user_id": 1470581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jMQRF.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/1470581/derek-lee"}, "is_accepted": false, "score": 2, "last_activity_date": 1606986991, "creation_date": 1606986991, "answer_id": 65122967, "question_id": 56026971, "link": "https://stackoverflow.com/questions/56026971/kotlin-interface-property-only-require-public-getter-without-public-setter/65122967#65122967", "title": "Kotlin Interface Property: Only require public getter without public setter", "body": "<p>In addition to @tynn's <a href=\"https://stackoverflow.com/a/56027637/1470581\">helpful answer</a>, in my case I simply needed an accessor for data coming from another source. For this scenario, given that a value is being initialized with a getter, <code>val</code> could be used in place of <code>lateinit var</code> and there was no need to indicate <code>private set</code>.</p>\n<p>As an example in line with the others:</p>\n<pre><code>interface Transaction {\n   val transferDate: Date\n}\n\nclass MostRecentTransaction(private val repo: AccountRepository) : Transaction {\n   override val transferDate: Date\n      get() = repo.transactions.first.transferDate\n}\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 8109416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fa57a6a5d299b2b54f759e1494e450?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Hofmarcher", "link": "https://stackoverflow.com/users/8109416/matthias-hofmarcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2086, "favorite_count": 0, "accepted_answer_id": 56027637, "answer_count": 2, "score": 8, "last_activity_date": 1606986991, "creation_date": 1557246882, "last_edit_date": 1562445466, "question_id": 56026971, "link": "https://stackoverflow.com/questions/56026971/kotlin-interface-property-only-require-public-getter-without-public-setter", "title": "Kotlin Interface Property: Only require public getter without public setter", "body": "<p>I am trying to create an Interface that forces its deriving classes to have a certain property, but only with a public getter. Since I don't want to allow changes from outside its private scope, I don't want it to implement a public set.</p>\n\n<pre><code>interface Transaction{\n   var transferDate: Date get //I only require a get, no set\n}\n\nclass MoneyTransaction(){\n   override var transferDate: Date get private set \n/*private set does not work*/\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-java", "android-livedata"], "comments": [{"owner": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1557247147, "post_id": 56026914, "comment_id": 98697710, "body": "I think it is because you haven&#39;t called the method where you are initializing your disposableObserver."}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "reply_to_user": {"reputation": 785, "user_id": 5571700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/edfa10f7db9a89a516b196098f6a1409?s=128&d=identicon&r=PG&f=1", "display_name": "p.mathew13", "link": "https://stackoverflow.com/users/5571700/p-mathew13"}, "edited": false, "score": 0, "creation_date": 1557247263, "post_id": 56026914, "comment_id": 98697775, "body": "@p.mathew13 No I do call then inside an Activity, but I didn&#39;t think adding it would be relevant to the question, same for Dagger, but I&#39;ll add it."}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557260430, "post_id": 56026914, "comment_id": 98703435, "body": "@Walt, the JSON response looks like it returns a list of person objects. Does your <code>Person</code> definition really account for this?"}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557264005, "post_id": 56026914, "comment_id": 98704780, "body": "@SanlokLee the personId is unique so I should only get one person object. Are you suggesting that I receive a list with 1 object instead?"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557265385, "post_id": 56026914, "comment_id": 98705196, "body": "Yes. I am trying to point out that your JSON response has &quot;persons: a list of persons&quot; form. Your response returns a list of <code>Person</code> with 1 object in the list, while your response expects a <code>Person</code> object itself, so there is a type mismatch. Unless, of course, your <code>Person</code> definition looks like <code>Person(val persons: List&lt;ActualPerson&gt;)</code>. Can you show your <code>Person</code> class just to be sure?"}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557339266, "post_id": 56026914, "comment_id": 98735174, "body": "@SanlokLee I added the Person class .I understand what you mean, that&#39;s why when I request a list of Person objects, it works. But when I request one single Person object, via an ID, I expect a single object of the type Person, and not a list of the Person type with one single object inside. When I request a Person object via an unique ID, it&#39;s always going to be a single object. So the solution would be to change everything to lists even though I know there&#39;s only going to be one object?"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557345981, "post_id": 56026914, "comment_id": 98738059, "body": "@Walt, yes that is correct. I have added some example code"}], "answers": [{"comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1557346750, "post_id": 56048235, "comment_id": 98738371, "body": "@Walt, thank you for spotting it. you can just remove &quot;return&quot; in <code>flatMap()</code>"}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557348059, "post_id": 56048235, "comment_id": 98738945, "body": "unfortunately personResult.postValue(person) is still empty, even though I can see the call in the logcat being successful, and I don&#39;t see any errors. Could it be that it does not know how to convert the ISO 8601 date format to gregoriancalendar? Althoug I&#39;ve written a converter for it but maybe it&#39;s not fully working thus doens&#39;t initialize the data? But not sure if this would make sense since a list of <code>Persons</code> does work"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "reply_to_user": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557350080, "post_id": 56048235, "comment_id": 98739691, "body": "Can you log inside the <code>flatMap()</code> and see if <code>response</code> is null or <code>response.persons.size</code> is 1?"}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557352209, "post_id": 56048235, "comment_id": 98740421, "body": "How should I log it, I can&#39;t see it in the debugger."}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "reply_to_user": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557353074, "post_id": 56048235, "comment_id": 98740666, "body": "Not sure what you meant by you can&#39;t see in the debugger. Does it means that nothing is logged? I updated the answer with an example code but simply putting <code>Log.d(...)</code> inside the <code>flatMap()</code> should also work."}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557353366, "post_id": 56048235, "comment_id": 98740753, "body": "Okay so if I don&#39;t add the flatmap stuff, but directly send the List of objects to my ViewModel, and then just use <code>person = it[0]</code> it works, so I guess it&#39;s the flatmap logic thats faulty? I do want to be able to send just one object like in your example though"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "reply_to_user": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557353950, "post_id": 56048235, "comment_id": 98740915, "body": "Above <code>flatMap()</code> logic seems fine. It looks like your &#39;it&#39; is not exactly like <code>PersonResponse</code> above. If you don&#39;t like the <code>flatMap()</code> logic then you can replace that <code>flatMap</code> block with map block and parse it there. For example, <code>.map { it.persons[0] }</code> or <code>.map { it[0] }</code> depends on your implementation."}, {"owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "edited": false, "score": 0, "creation_date": 1557354208, "post_id": 56048235, "comment_id": 98740959, "body": "Alright, I fixed it by just adding <code>Observable&lt;List&lt;Person&gt;&gt;</code> at the apiInterface, so your solution is correct, but for some reason it doesn&#39;t work with the <code>PersonResponse</code> class, so I think the name persons is not found, because when I receive the call inside the logcat, I don&#39;t see the tag &quot;persons&quot;, just the person object inside curly brackets and around that square ones. That&#39;s why I was thinking I&#39;m only receiving one object instead of a list in the first place."}], "tags": [], "owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "is_accepted": true, "score": 1, "last_activity_date": 1557352956, "last_edit_date": 1557352956, "creation_date": 1557345745, "answer_id": 56048235, "question_id": 56026914, "link": "https://stackoverflow.com/questions/56026914/android-kotlin-rxjava-retrofit-empty-disposableobserver-livedata/56048235#56048235", "title": "Android Kotlin RxJava Retrofit - empty DisposableObserver LiveData", "body": "<p>To avoid mismatch between the JSON response and the actual object to be used, define a intermediate class something like this:</p>\n\n<pre><code>data class PersonResponse(\n      @Json(name = \"persons\")\n      val persons: List&lt;Person&gt;\n)\n</code></pre>\n\n<p>Example api class:</p>\n\n<pre><code>@GET(\"persons\")\nfun getPerson(@Query(\"personId\") personId: Int): Observable&lt;PersonResponse&gt;    \n\n@GET(\"persons\")\nfun getAllPersons(): Observable&lt;PersonResponse&gt;\n</code></pre>\n\n<p>Example repository class:</p>\n\n<pre><code>fun getPerson(personId: Int): Observable&lt;Person&gt;{\n    // Convert PersonResponse -&gt; Person\n    return apiInterface.getPerson(personId)\n        .doOnNext { value -&gt; Log.d(SOME_LOG_TAG, \"onNext: value=$value\") }\n        .doOnError { error -&gt; Log.d(SOME_LOG_TAG, \"onNext: value=${e.getMessage()}\") }\n        .flatMap { response -&gt;\n            // Check if the list contains exactly one Person and throw error if it doesn't\n            if (response.persons.size == 1) \n                Observable.just(response.persons[0])\n            else\n                Observable.error(Throwable(\"Something's wrong\"))\n        }\n}\n\n\nfun getAllPerson(): Observable&lt;List&lt;Person&gt;&gt; {\n    // Convert PersonResponse -&gt; List&lt;Person&gt;\n    return apiInterface.getAllPersons()\n        .map { response -&gt; response.persons }\n}\n</code></pre>\n\n<p>As you can see repository code can look quite messy. I suggest making an intermediate layer between your api class and repository class which does all the conversions.</p>\n"}], "owner": {"reputation": 81, "user_id": 9360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4FsiT.jpg?s=128&g=1", "display_name": "Walt", "link": "https://stackoverflow.com/users/9360060/walt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 0, "accepted_answer_id": 56048235, "answer_count": 1, "score": 0, "last_activity_date": 1557352956, "creation_date": 1557246618, "last_edit_date": 1557346345, "question_id": 56026914, "link": "https://stackoverflow.com/questions/56026914/android-kotlin-rxjava-retrofit-empty-disposableobserver-livedata", "title": "Android Kotlin RxJava Retrofit - empty DisposableObserver LiveData", "body": "<p>I'm implementing an Android application in Kotlin that uses an API as it's primary source for data. I use Kotlin, RXjava, Retrofit and Dagger to make it work.</p>\n\n<p>But for some reason my person object at the onNext function is empty. Even though I see the http method call data in the Logcat, and it has the correct person object.</p>\n\n<p>I'm requesting a person object from JSON:</p>\n\n<pre><code>{\n  \"persons\": [{\n      \"personId\": 1,\n      \"personName\": \"Bert\",\n      \"personAge\": 19,\n      \"isFemale\": \"false\",\n      \"birthDate\": \"2000-06-28T00:00:00\"\n    }\n  ]\n}\n</code></pre>\n\n<p>ApiInterface:</p>\n\n<pre><code>@GET(\"persons\")\nfun getPerson(@Query(\"personId\") personId: Int): Observable&lt;Person&gt;\n</code></pre>\n\n<p>PersonRepository:</p>\n\n<pre><code>class PersonRepository @Inject constructor(val apiInterface: ApiInterface) {\n  fun getPerson(personId: Int): Observable&lt;Person&gt;{\n    return apiInterface.getPerson(personId)\n  }\n}\n</code></pre>\n\n<p>Person ViewModel: </p>\n\n<pre><code>class PersonViewModel @Inject constructor(private val personRepositoy: PersonRepository) : ViewModel() {\n  var personResult: MutableLiveData&lt;Person&gt; = MutableLiveData()\n  var personError: MutableLiveData&lt;String&gt; = MutableLiveData()\n  lateinit var disposableObserver: DisposableObserver&lt;Person&gt;\n\n  fun personResult(): LiveData&lt;Person&gt; {\n    return personResult\n  }\n  fun personError(): LiveData&lt;String&gt; {\n    return personError\n  }\n\n  fun loadPerson(personId: Int) {\n    disposableObserver: object : DisposableObserver&lt;Person&gt;() {\n    override fun onComplete() {}\n\n    override fun onNext(person: Person){ //this is empty for some reason\n      personResult.postValue(person)\n    }\n\n    override fun onError(e: Throwable) {\n      personError.postValue(e.message)\n    }\n  }\n\n  personRepository.getPerson(personId)\n  .subscribeOn(Schedulers.newThread())\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe(disposableObserver)\n  }\n\nfun disposeElements() {\n     if(null !- disposableObserver &amp;&amp; !disposableObserver.isDisposed) { \n       disposableObserver.dispose() \n     }\n}\n}\n</code></pre>\n\n<p>PersonActivity where the call is made:</p>\n\n<pre><code>\n@Inject\nlateinit var personViewModelFactory: PersonViewModelFactory\nlateinit var personViewModel: PersonViewModel\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_person)\n        AndroidInjection.inject(this)\n\n personViewModel = ViewModelProviders.of(this, personViewModelFactory).get(PersonViewModel::class.java)\n\n personViewModel.loadPerson(1)\n personViewModel.personResult().observe(this, Observer&lt;Person&gt; {\n  //some code that uses it\n }\n}\n</code></pre>\n\n<p>The getPerson call returns the correct person which I can see in the logs, but it doesn't post the value in personResult, like I want. I don't know why.</p>\n\n<p>Edit: Added the Person class as requested. Note that @Json is the Moshi equivalent of @SerializedName from GSON.</p>\n\n<pre><code>data class Person (\n  @Json(name = \"personId\")\n  val personId: Int,\n\n  @Json(name = \"personName\")\n  val name: String,\n\n  @Json(name = \"personAge\")\n  val age: Int,\n\n  @Json(name = \"isFemale\")\n  val isFemale: Boolean,\n\n  @Json(name = \"birthDate\")\n  val birthDate: GregorianCalendar\n\n)\n</code></pre>\n"}, {"tags": ["maven", "intellij-idea", "kotlin", "micronaut", "kapt"], "comments": [{"owner": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "edited": false, "score": 0, "creation_date": 1586979547, "post_id": 56025102, "comment_id": 108333232, "body": "Hey @Bastien7, have you given this another try with the newly released <a href=\"https://micronaut-projects.github.io/micronaut-maven-plugin/latest/index.html\" rel=\"nofollow noreferrer\">Micronaut Maven Plugin</a>? Unfortunately w.r.t. Kapt I don&#39;t think there&#39;s a lot for Micronaut to do to easily improve things, but there are some optimizations one can make. See <a href=\"https://medium.com/@daniel_novak/making-incremental-kapt-work-speed-up-your-kotlin-projects-539db1a771cf\" rel=\"nofollow noreferrer\">medium.com/@daniel_novak/&hellip;</a>"}], "owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1557240025, "creation_date": 1557240025, "question_id": 56025102, "link": "https://stackoverflow.com/questions/56025102/micronaut-kotlin-code-compilation-with-maven", "title": "Micronaut - Kotlin code compilation with Maven", "body": "<p>I have started to work on a Micronaut REST microservice, with <strong>Kotlin</strong> and <strong>Maven</strong>, and I have a hard time at trying to get the better build process possible with this stack in Intellij.</p>\n\n<p>I was expecting Kotlin to be easily compatible with Micronaut, but at each code modification we have to do a compilation of the project (mvn compile) due to use of <em>KAPT</em> plugin to process the Micronaut annotations with Kotlin, which seems to be time consuming.</p>\n\n<p>This post helped me to get a good solution to compile Kotlin with Micronaut and Gradle by making it automatized in Intellij:\n<a href=\"https://stackoverflow.com/questions/55824374/intellij-gradle-kotlin-micronaut-changing-files-does-not-re-generate-cla\">IntelliJ - Gradle - Kotlin - Micronaut - Changing files does not re-generate classes on &quot;run&quot;</a>\n(the equivalent can be done for Maven with the same corresponding option)</p>\n\n<p>Thanks to the Micronaut CLI, I have generated three hello-world projects to compare the build durations. Here are the commands to create them:</p>\n\n<pre><code>mn create-app micronaut-maven-kotlin  --build maven  --lang kotlin\nmn create-app micronaut-maven-java    --build maven  --lang java\nmn create-app micronaut-gradle-kotlin --build gradle --lang kotlin\n</code></pre>\n\n<p>I measured approximatively the duration of build process before Intellij run the project code, here are the results:</p>\n\n<ul>\n<li>Java + Maven = no waiting</li>\n<li>Kotlin + Gradle = 2.5 seconds</li>\n<li>Kotlin + Maven = 8 seconds</li>\n</ul>\n\n<p>The apps takes 1 second to start. With Java, Micronaut is blazing fast to work with, but this argument no longer exists when I'm introducing Kotlin in the pipe, and I'm afraid of doing it with a bigger project...</p>\n\n<p><strong>Did anybody succeed to have a convenient process with Micronaut, Kotlin and Maven?</strong></p>\n"}, {"tags": ["android", "kotlin", "android-listview"], "comments": [{"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1557246209, "post_id": 56024658, "comment_id": 98697339, "body": "Please, share your Adapter file."}, {"owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "reply_to_user": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1557246928, "post_id": 56024658, "comment_id": 98697624, "body": "@Ferran just added"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "edited": false, "score": 0, "creation_date": 1557314406, "post_id": 56034113, "comment_id": 98721228, "body": "Thanks for your help. I set your answer as correct one cause u were right <i>No, you can&#39;t. ViewHolder exists only for visible items.</i> But if u can help me with changing back <code>Stop</code> image to <code>Play</code> image in case hen i click on first music and than i click on second one so the first one should become <code>Play</code> image and the second <code>Stop</code>. Any ideas?"}, {"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "reply_to_user": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "edited": false, "score": 0, "creation_date": 1557326893, "post_id": 56034113, "comment_id": 98728893, "body": "When you call <code>notifyDataSertChanged</code>, all visible views are redesigned. So, the only item that will show the <code>Stop</code> image is where currentListened == position.  Or do you mean, &quot;how to set a new image in an <code>ImageView</code>&quot;?"}, {"owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "edited": false, "score": 0, "creation_date": 1557347945, "post_id": 56034113, "comment_id": 98738909, "body": "I need change back <code>Stop</code> image to <code>Play</code> if i press <code>Play</code> button of other music item."}, {"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "reply_to_user": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "edited": false, "score": 1, "creation_date": 1557380182, "post_id": 56034113, "comment_id": 98746401, "body": "I know. See my edited answer. Because <code>getView</code> function will redraw all items, what you need is done automatically.  Put the code before <code>viewHolder.ivPlay!!.setOnClickListener</code>."}], "tags": [], "owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "is_accepted": true, "score": 1, "last_activity_date": 1557380007, "last_edit_date": 1557380007, "creation_date": 1557293539, "answer_id": 56034113, "question_id": 56024658, "link": "https://stackoverflow.com/questions/56024658/how-get-view-inside-adapter-class-that-is-not-in-visible-part-of-listview-kot/56034113#56034113", "title": "How get view inside adapter class that is not in visible part of ListView? - Kotlin", "body": "<p><em>Is it possible to get item view of ListView that is outside of visible part in Adapter class?</em></p>\n\n<p>No, you can't. ViewHolder exists only for visible items. </p>\n\n<p>However, in your case, you only need to set your <code>ImageView</code> image inside your <code>getView</code> function.</p>\n\n<pre><code>    if (currentListened == position) {\n       // set here your Stop image \n        viewHolder.ivPlay.setImageResource(R.drawable.stop);\n    } else {\n       // set here your Play image\n        viewHolder.ivPlay.setImageResource(R.drawable.play);\n    }\n</code></pre>\n\n<p>Then, call <code>notifyDataSetChanged</code></p>\n\n<pre><code>    viewHolder.ivPlay!!.setOnClickListener {\n        ...\n        ...\n        notifyDataSetChanged();\n    }\n</code></pre>\n\n<p><code>notifyDataSetChange</code> will update all visible items.</p>\n\n<p>On the other hand, you don't need to save <code>position</code> in <code>tag</code> variable. You always know which item is clicked because your <code>onClick</code> events are set in <code>getView</code> function.</p>\n"}], "owner": {"reputation": 101, "user_id": 11251645, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qgz2-ShkGdk/AAAAAAAAAAI/AAAAAAAAAHs/ZwyNFUubWU4/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/11251645/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 56034113, "answer_count": 1, "score": -1, "last_activity_date": 1557380007, "creation_date": 1557238623, "last_edit_date": 1557246903, "question_id": 56024658, "link": "https://stackoverflow.com/questions/56024658/how-get-view-inside-adapter-class-that-is-not-in-visible-part-of-listview-kot", "title": "How get view inside adapter class that is not in visible part of ListView? - Kotlin", "body": "<p>I have <code>listView</code> with ringtones</p>\n\n<p><img src=\"https://i.imgur.com/2i97B7F.png\" alt=\"listView\"></p>\n\n<p>I need change <code>play_arrow</code> image to <code>stop</code> image every time when music started or stoped. \nWhen I click play on one image it become <code>stop</code> image and then I click play on other music item image so previous should become <code>play_arrow</code> and just clicked one should become <code>stop</code>.\nThe problem is on getting views by position. Everything works great on first 12 music views. And if I try to get view like this <code>parent.getChildAt(previousListened)</code> with <code>previousListened &gt; 12</code> it returns null.</p>\n\n<p><strong>EDIT:</strong> add adapter class</p>\n\n<pre><code>class SoundListAdapter constructor(\n    private var context: Context,\n    private val layout: Int,\n    private var arrayList: ArrayList&lt;Sound&gt;,\n    private val activity: FragmentActivity,\n    private val mediaPlayer: MediaPlayer\n) : BaseAdapter() {\n\n    private var selectedPosition = -1\n    private var currentListened = -1\n    private var previousListened = -1\n    private var isPlaying = false\n    private var TAG = \"SoundListAdapter\"\n    private val mSendSoundUri: SendSoundUri = activity as SendSoundUri\n\n    interface SendSoundUri {\n        fun sendSoundUri(input: String?)\n    }\n\n    override fun getCount(): Int {\n        return arrayList.size\n    }\n\n    override fun getItem(i: Int): Any {\n        return \"\"\n    }\n\n    override fun getItemId(i: Int): Long {\n        return i.toLong()\n    }\n\n    private inner class ViewHolder {\n        internal var radioButton: RadioButton? = null\n        internal var txtName: TextView? = null\n        internal var ivPlay: ImageView? = null\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        var convertView = convertView\n        val viewHolder: ViewHolder\n        if (convertView == null) {\n            viewHolder = ViewHolder()\n            val layoutInflater = context.getSystemService(LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n            convertView = layoutInflater.inflate(layout, null)\n            viewHolder.txtName = convertView!!.findViewById(R.id.sound_name)\n            viewHolder.radioButton = convertView.findViewById(R.id.sound_radiobutton)\n            viewHolder.ivPlay = convertView.findViewById(R.id.ivPlay) as ImageView\n\n            convertView.tag = viewHolder\n        } else {\n            viewHolder = convertView.tag as ViewHolder\n        }\n\n        //check the radio button if both position and selectedPosition matches\n        viewHolder.radioButton?.isChecked = (position === selectedPosition)\n        // TODO add color to checked circle\n        //Set the position tag to both radio button and label\n        viewHolder.radioButton?.tag = position\n        viewHolder.ivPlay?.tag = position\n        viewHolder.txtName?.tag = position\n\n        viewHolder.radioButton?.setOnClickListener { v -&gt; itemCheckChanged(v) }\n\n        viewHolder.txtName?.setOnClickListener { v -&gt; itemCheckChanged(v) }\n\n        val music = arrayList[position]\n\n        viewHolder.txtName!!.text = music.title\n\n        // play music\n        viewHolder.ivPlay!!.setOnClickListener {\n            previousListened = currentListened\n            currentListened = it.tag as Int\n            // TODO add black square when playing\n            Log.d(TAG, \"max items: ${parent.childCount}\")\n            Log.d(TAG, \"previousListened: $previousListened\")\n            if (previousListened != -1 &amp;&amp; previousListened == currentListened &amp;&amp; mediaPlayer.isPlaying) {\n                mediaPlayer.stop()\n            } else {\n                mediaPlayer.reset()\n                mediaPlayer.setDataSource(context, Uri.parse(music.uri))\n                mediaPlayer.prepare()\n                mediaPlayer.start()\n            }\n\n        }\n\n        return convertView\n    }\n\n    private fun getSelectedSound(): Sound? {\n        Log.d(TAG, \"sending selectedPosition: $selectedPosition\")\n        if (selectedPosition == -1)\n            return null\n        return arrayList[selectedPosition]\n    }\n\n    private fun itemCheckChanged(v: View) {\n        selectedPosition = v.tag as Int\n        mSendSoundUri.sendSoundUri(getSelectedSound()?.uri)\n        Log.d(TAG, \"selectedPosition changed to: $selectedPosition\")\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>Is it possible to get item view of <code>ListView</code> that is outside of visible part in Adapter class?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 825, "user_id": 2364640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8E9mW.jpg?s=128&g=1", "display_name": "Steven.Nguyen", "link": "https://stackoverflow.com/users/2364640/steven-nguyen"}, "edited": false, "score": 0, "creation_date": 1557302852, "post_id": 56024526, "comment_id": 98714853, "body": "Anyone can help plz?"}, {"owner": {"reputation": 825, "user_id": 2364640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8E9mW.jpg?s=128&g=1", "display_name": "Steven.Nguyen", "link": "https://stackoverflow.com/users/2364640/steven-nguyen"}, "edited": false, "score": 0, "creation_date": 1557589867, "post_id": 56024526, "comment_id": 98820049, "body": "Never mind, I found solutions :)"}], "owner": {"reputation": 825, "user_id": 2364640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8E9mW.jpg?s=128&g=1", "display_name": "Steven.Nguyen", "link": "https://stackoverflow.com/users/2364640/steven-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557238152, "creation_date": 1557238152, "question_id": 56024526, "link": "https://stackoverflow.com/questions/56024526/how-to-show-content-on-webview", "title": "How to show content on WebView", "body": "<p>I'm having problem of showing content on WebView. I got url from API then I try to load like this <code>webView.loadUrl(url)</code>. The WebView just shows blank. When I try to open the url on browser and it just downloads an html file.\nQuestion is how can I show the html content on WebView without downloading html file?</p>\n\n<pre><code>webView.settings.javaScriptEnabled = true\nwebView.settings.javaScriptCanOpenWindowsAutomatically = true\nwebView.settings.allowContentAccess = true\nwebView.settings.allowFileAccess = true\nwebView.webViewClient = object: WebViewClient() {\n        override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                                 Toast.makeText(this@ChapterPlaybackActivity, \"Loading...\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onReceivedSslError(view: WebView?, handler: SslErrorHandler?, error: SslError?) {\n                                 handler!!.proceed()\n        }\n\n        override fun onPageFinished(view: WebView?, url: String?) {\n                                 Toast.makeText(this@ChapterPlaybackActivity, \"Loaded ${view!!.title}\", Toast.LENGTH_SHORT).show()\n        }\n}\nwebView.loadUrl(url)\n</code></pre>\n\n<p>I expected to see some toasts and content on WebView, but still blank</p>\n"}, {"tags": ["mongodb", "kotlin", "spring-webflux", "project-reactor"], "answers": [{"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 5, "last_activity_date": 1557302587, "creation_date": 1557302587, "answer_id": 56036140, "question_id": 56023622, "link": "https://stackoverflow.com/questions/56023622/webflux-returns-a-list-of-empty-objects/56036140#56036140", "title": "webflux returns a list of empty objects", "body": "<p>In your <code>User</code> data class all your members are declared as private, so won't be serialized to JSON when returned to the client. Change them to public (just remove the word <code>private</code>, as it'll default to public) and hopefully that'll help.</p>\n"}, {"tags": [], "owner": {"reputation": 1214, "user_id": 9578419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2040db6c82f9a508624c687774b32e0b?s=128&d=identicon&r=PG&f=1", "display_name": "S.Dayneko", "link": "https://stackoverflow.com/users/9578419/s-dayneko"}, "is_accepted": false, "score": 2, "last_activity_date": 1586769494, "creation_date": 1586769494, "answer_id": 61184761, "question_id": 56023622, "link": "https://stackoverflow.com/questions/56023622/webflux-returns-a-list-of-empty-objects/61184761#61184761", "title": "webflux returns a list of empty objects", "body": "<p><strong>As for Java</strong>, instead of making all data publicly available, you can create setters/getters for the corresponding fields and create no args constructor.</p>\n\n<p>A more declarative way is to use the <strong>Lombok Project annotations</strong>.</p>\n\n<pre><code>@Data *// This annotation includes all you need*\n@Document(\"yourDocName\")\npublic class YourClass {\n\n    @Id\n    private String id;\n\n    @Field(\"FieldName\")\n    private String myField;\n}\n</code></pre>\n\n<p>Hope this is useful to someone :)</p>\n"}], "owner": {"reputation": 25, "user_id": 11464804, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tZvhuXTVnDs/AAAAAAAAAAI/AAAAAAAAObg/lK43X6lmgSk/photo.jpg?sz=128", "display_name": "R. I", "link": "https://stackoverflow.com/users/11464804/r-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1478, "favorite_count": 0, "accepted_answer_id": 56036140, "answer_count": 2, "score": 2, "last_activity_date": 1586769494, "creation_date": 1557235283, "last_edit_date": 1557238747, "question_id": 56023622, "link": "https://stackoverflow.com/questions/56023622/webflux-returns-a-list-of-empty-objects", "title": "webflux returns a list of empty objects", "body": "<p>I'm new to programming with Spring. I am testing reactive programming with the Reactor / Webflux project.</p>\n\n<p>Database registration works well via a Post.</p>\n\n<p>But every API call Get Mono or Flux I get a list of empty objects.\nCould you please give me a solution?</p>\n\n<p>I initiated the project via Spring boot / Maven in Kotlin and Mongo reactive.</p>\n\n<p>Thank you for your help !</p>\n\n<p>My UsersApplication</p>\n\n<pre><code>@SpringBootApplication\nclass UsersMsApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;UsersMsApplication&gt;(*args)\n}\n</code></pre>\n\n<p>My model : </p>\n\n<pre><code>@Document(collection = \"user\")\ndata class User(\n                @Id\n                private var id: String,\n                @Field(\"name\")\n                private var name: String\n                ) : Serializable\n\n</code></pre>\n\n<p>My repository</p>\n\n<pre><code>@Repository\ninterface UserRepository : ReactiveMongoRepository&lt;User, String&gt;\n</code></pre>\n\n<p>My UserService</p>\n\n<pre><code>interface UserService {\n    fun createUser(user: User): Mono&lt;User&gt;\n\n    fun findAllUsers(): Flux&lt;User&gt;\n\n    fun findOneById(id: String): Mono&lt;User&gt;\n}\n</code></pre>\n\n<p>My UserServiceImpl</p>\n\n<pre><code>@Service\nclass UserServiceImpl(private val userRepository: UserRepository): UserService {\n    override fun createUser(user: User): Mono&lt;User&gt; {\n        return userRepository.save(user)\n    }\n\n    override fun findAllUsers(): Flux&lt;User&gt; {\n        return userRepository.findAll()\n    }\n\n    override fun findOneById(id: String): Mono&lt;User&gt; {\n        return userRepository.findById(id)\n    }\n}\n</code></pre>\n\n<p>My UserRessource</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\nclass UserResource(private val userService: UserService) {\n\n    @PostMapping(\"/users\")\n    fun addUser(@RequestBody user: User) : Mono&lt;User&gt; = userService.createUser(user)\n\n    @GetMapping(\"/users\")\n    fun findAllUsers() : Flux&lt;User&gt; = userService.findAllUsers()\n\n    @GetMapping(\"/users/{id}\")\n    fun getOneUser(@PathVariable id: String) : Mono&lt;User&gt; = userService.findOneById(id)\n\n}\n</code></pre>\n\n<p>My application.properties</p>\n\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=users_db\n\nlogging.level.org.springframework.data=debug\n</code></pre>\n\n<p>I have three entries in the database but here is what I returned as results by postman, a curl or the browser :</p>\n\n<pre><code>[\n    {},\n    {},\n    {}\n]\n</code></pre>\n\n<p>and in my console :</p>\n\n<p>2019-05-07 15:05:13.368 DEBUG 25022 --- [ctor-http-nio-4] o.s.d.m.core.ReactiveMongoTemplate       : find using query: { } fields: Document{{}} for class: class com.inovans.backend.usersms.domains.User in collection: user</p>\n"}, {"tags": ["android", "kotlin", "data-binding"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557232651, "post_id": 56022784, "comment_id": 98689271, "body": "Try getting rid of the <code>internal</code> keyword."}, {"owner": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557232770, "post_id": 56022784, "comment_id": 98689340, "body": "@CommonsWare tried. Unfortunately still doesn&#39;t work."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557233394, "post_id": 56022784, "comment_id": 98689704, "body": "OK... try making the parameters nullable (<code>Int?</code>, <code>List&lt;String&gt;?</code>) and see if that helps. I have <a href=\"https://gitlab.com/commonsguy/cw-andexplore/blob/v0.6/T15-Display/ToDo/app/src/main/java/com/commonsware/todo/BindingAdapters.kt\" rel=\"nofollow noreferrer\">this</a> in a sample project that is working."}, {"owner": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1557234538, "post_id": 56022784, "comment_id": 98690384, "body": "It didn&#39;t work either. I think the issue is about how it is binded into the XML. @CommonsWare how do you do it in your projects? I&#39;m using <code>app:maxValue=&quot;2&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1557234925, "creation_date": 1557234925, "answer_id": 56023494, "question_id": 56022784, "link": "https://stackoverflow.com/questions/56022784/bindingadapter-for-numberpicker/56023494#56023494", "title": "BindingAdapter for Numberpicker", "body": "<blockquote>\n  <p>I'm using app:maxValue=\"2\"</p>\n</blockquote>\n\n<p>That is not a binding expression. Even if your value is a constant, you need to have it be in a binding expression:</p>\n\n<pre><code>app:maxValue=\"@{2}\"\n</code></pre>\n"}], "owner": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 56023494, "answer_count": 1, "score": 0, "last_activity_date": 1557234925, "creation_date": 1557232553, "last_edit_date": 1557234177, "question_id": 56022784, "link": "https://stackoverflow.com/questions/56022784/bindingadapter-for-numberpicker", "title": "BindingAdapter for Numberpicker", "body": "<p>I'm implementing a \"Wheel picker\" using <code>NumberPicker</code> as explained in <a href=\"https://stackoverflow.com/a/39662187/2145504\">this SO answer</a>.</p>\n\n<p>I'm also using data binding and trying to populate the view at the XML.</p>\n\n<p>Here is what I've done:</p>\n\n<pre><code>    @BindingAdapter(\"maxValue\")\ninternal fun NumberPicker.customSetMaxValue(max: Int){\n  maxValue = max\n}\n\n@BindingAdapter(\"minValue\")\ninternal fun NumberPicker.customSetMinValue(min: Int){\n  minValue = min\n}\n\n@BindingAdapter(\"values\")\ninternal fun NumberPicker.customSetDisplayedValues(data: List&lt;String&gt;){\n  displayedValues = data.toTypedArray()\n}\n</code></pre>\n\n<pre><code>&lt;NumberPicker\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"\n          android:entries=\"@array/dosage_type\"\n          app:maxValue=\"2\"/&gt;\n</code></pre>\n\n<p>Despite of this, I get: <code>error: attribute maxValue (aka com.company.project.dev:maxValue) not found</code></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 164, "user_id": 7537880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afubm.png?s=128&g=1", "display_name": "Jayson Garcia", "link": "https://stackoverflow.com/users/7537880/jayson-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1558517661, "creation_date": 1557231947, "last_edit_date": 1592644375, "question_id": 56022624, "link": "https://stackoverflow.com/questions/56022624/webview-content-cut-off", "title": "WebView content cut-off", "body": "<p>I am currently copying the whole HTML code in a certain file and saving it on the App.</p>\n<p>On load of the app the web contents of the webview is complete but <b>sometimes</b> when shifting to from pager item to another it sometimes has this cut-off</p>\n<p>I already tried this one:<BR>\n<code>mAdvertisementWebView.settings.loadWithOverviewMode = true</code></p>\n<p>It is also appearing on a phone device as well.</p>\n<p><a href=\"https://i.stack.imgur.com/J1EOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1EOf.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1557229024, "post_id": 56021473, "comment_id": 98687147, "body": "try moving dependencies out of <code>buildscript</code> block"}, {"owner": {"reputation": 879, "user_id": 4037594, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/kYIVz.png?s=128&g=1", "display_name": "Haem", "link": "https://stackoverflow.com/users/4037594/haem"}, "edited": false, "score": 0, "creation_date": 1557231872, "post_id": 56021473, "comment_id": 98688827, "body": "How is it &quot;not working&quot;:? What does your code do now and what should it do?"}, {"owner": {"reputation": 11, "user_id": 3813146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f894e079909e2dbcd3fcd46b5aea87b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3813146", "link": "https://stackoverflow.com/users/3813146/user3813146"}, "edited": false, "score": 0, "creation_date": 1557299307, "post_id": 56021473, "comment_id": 98713138, "body": "by moving dependencies out of buildscipt block It is still  not working"}, {"owner": {"reputation": 11, "user_id": 3813146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f894e079909e2dbcd3fcd46b5aea87b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3813146", "link": "https://stackoverflow.com/users/3813146/user3813146"}, "edited": false, "score": 0, "creation_date": 1557299393, "post_id": 56021473, "comment_id": 98713189, "body": "The expected output is to print hello without having any error when we import coroutines."}], "owner": {"reputation": 11, "user_id": 3813146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f894e079909e2dbcd3fcd46b5aea87b4?s=128&d=identicon&r=PG&f=1", "display_name": "user3813146", "link": "https://stackoverflow.com/users/3813146/user3813146"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557302206, "creation_date": 1557228053, "last_edit_date": 1557302206, "question_id": 56021473, "link": "https://stackoverflow.com/questions/56021473/how-to-resolve-unresolved-referencekotlinx-error-when-using-coroutines", "title": "How to resolve Unresolved reference:kotlinx error when using coroutines", "body": "<p>I have started learning Kotlin coroutines.I implemented a basic coroutine program but its is not working.I even added the dependency but still the code is not working.Could some one help in this?</p>\n\n<p>in build.gradle looks as below:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.30'\n    ext.kotlin_gradle_plugin_version = '1.3.0'\n    ext.kotlinx_coroutines = '1.0.0'\n\n    repositories {\n        maven { url \"https://kotlin.bintray.com/kotlin-eap\" }\n        mavenCentral()\n        jcenter()\n        google()\n    }\n    dependencies {\n        implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.1\")\n    }\n    }\nplugins {\n    id 'java'\n    kotlin(\"jvm\") version \"1.3.30\"\n}\n\ngroup 'Test2.project'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nfun main(args: Array&lt;String&gt;) \n{\n    println(\"hello\")\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557227932, "post_id": 56021390, "comment_id": 98686544, "body": "You define a class and use that class instead of using Any?"}, {"owner": {"reputation": 1921, "user_id": 1491283, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1086aa8b25d43c7e0c137b1afd6b1aa7?s=128&d=identicon&r=PG", "display_name": "ArunM", "link": "https://stackoverflow.com/users/1491283/arunm"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557228112, "post_id": 56021390, "comment_id": 98686632, "body": "yea .. I am wondering  why they allow me to elegantly create an  <code>object</code> and then not give me a way to access property .."}, {"owner": {"reputation": 520, "user_id": 8969251, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d6476f113c0f5ea5683178674fbe7fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Solanki", "link": "https://stackoverflow.com/users/8969251/nikhil-solanki"}, "edited": false, "score": 0, "creation_date": 1557228301, "post_id": 56021390, "comment_id": 98686748, "body": "Describe your problem clearly please."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557228503, "post_id": 56021390, "comment_id": 98686863, "body": "What stops you from using <code>wordLengths.forEach { println(it.word) }</code>?"}, {"owner": {"reputation": 1921, "user_id": 1491283, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1086aa8b25d43c7e0c137b1afd6b1aa7?s=128&d=identicon&r=PG", "display_name": "ArunM", "link": "https://stackoverflow.com/users/1491283/arunm"}, "edited": false, "score": 0, "creation_date": 1557228590, "post_id": 56021390, "comment_id": 98686912, "body": "thats the thing. It wont compile .."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557228786, "post_id": 56021390, "comment_id": 98687017, "body": "What version of Kotlin are you using? It compiles and runs for me using <code>1.3.21</code>."}, {"owner": {"reputation": 1921, "user_id": 1491283, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1086aa8b25d43c7e0c137b1afd6b1aa7?s=128&d=identicon&r=PG", "display_name": "ArunM", "link": "https://stackoverflow.com/users/1491283/arunm"}, "edited": false, "score": 0, "creation_date": 1557229032, "post_id": 56021390, "comment_id": 98687154, "body": "1.3.1 .. If you copy paste this code to <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> .. It wont run"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1557229167, "post_id": 56021390, "comment_id": 98687230, "body": "Ah, I missed something\u2014don&#39;t declare <code>wordsLength</code> to be a <code>List&lt;Any&gt;</code>. Just let it infer the type."}, {"owner": {"reputation": 1921, "user_id": 1491283, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1086aa8b25d43c7e0c137b1afd6b1aa7?s=128&d=identicon&r=PG", "display_name": "ArunM", "link": "https://stackoverflow.com/users/1491283/arunm"}, "edited": false, "score": 0, "creation_date": 1557229371, "post_id": 56021390, "comment_id": 98687337, "body": "Insane !!! If you answer then I will accept it. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "is_accepted": true, "score": 3, "last_activity_date": 1557229916, "creation_date": 1557229916, "answer_id": 56021991, "question_id": 56021390, "link": "https://stackoverflow.com/questions/56021390/kotlin-access-property-of-anonymous-object/56021991#56021991", "title": "kotlin access property of anonymous object", "body": "<p>You are explicitly declaring <code>wordLengths</code> to be <code>List&lt;Any&gt;</code>, and <code>Any</code> doesn't have a <code>word</code> or <code>length</code> property. You should let Kotlin infer the type from <code>map</code>.</p>\n\n<pre><code>fun main() {\n    val sentence = \"This is a nice sentence\"\n\n    val wordLengths = sentence.split(' ').map {\n        object {\n            val word = it\n            val length = it.length\n        }\n    }\n\n    wordLengths.forEach {\n        println(\"[${it.length}] ${it.word}\")\n    }\n}\n</code></pre>\n\n<p>If you plan on needing this object outside of the method then you should create the necessary class or use an existing class (e.g. <code>Pair</code> or <code>String</code> itself). See <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">Object expressions</a>:</p>\n\n<blockquote>\n  <p>Note that anonymous objects can be used as types only in local and private declarations. If you use an anonymous object as a return type of a public function or the type of a public property, the actual type of that function or property will be the declared supertype of the anonymous object, or <code>Any</code> if you didn't declare any supertype. Members added in the anonymous object will not be accessible.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1557230009, "creation_date": 1557230009, "answer_id": 56022023, "question_id": 56021390, "link": "https://stackoverflow.com/questions/56021390/kotlin-access-property-of-anonymous-object/56022023#56022023", "title": "kotlin access property of anonymous object", "body": "<p>This can be made to work as intended \u2014 but it's probably not a good approach.</p>\n\n<p>The immediate issue is that the code specifies the type of <code>wordLengths</code> as <code>List&lt;Any&gt;</code>.\u00a0 <code>Any</code> is the top type*; every type is a subtype of it, and so you can only safely access things that every type has (such as the <code>toString()</code> method).</p>\n\n<p>However, you don't <em>need</em> to specify the type; you can leave that to Kotlin's type inference.\u00a0 If you do, it infers the type that you've defined with the <code>object</code> keyword.\u00a0 That type is anonymous \u2014 you can't write down its name \u2014 but Kotlin knows about it, and can access its fields:</p>\n\n<pre><code>fun main() {\n    val sentence = \"this is a nice sentence\"\n\n    val wordLengths = sentence.split(' ').map {\n        object {\n            val length = it.length\n            val word = it\n        }\n    }\n\n    wordLengths.forEach{ println(it.word) }\n}\n</code></pre>\n\n<p>That said, it's a bit awkward and fragile.\u00a0 You'd be better off defining a class for the type.\u00a0 In fact, that's shorter overall:</p>\n\n<pre><code>fun main2() {\n    val sentence = \"this is a nice sentence\"\n\n    class Word(val length: Int, val word: String)\n\n    val wordLengths = sentence.split(' ').map{ Word(it.length, it) }\n\n    wordLengths.forEach { println(it.word) }\n}\n</code></pre>\n\n<p>(In practice, you'd probably want to use the new class elsewhere, and move it outside the method.\u00a0 But Kotlin lets you define local classes if you need to.)</p>\n\n<p>\u2014\u2014\u2014</p>\n\n<p>(* Actually, the top type is nullable Any: <code>Any?</code>.\u00a0 But I'm ignoring nullability as it's not relevant to this.)</p>\n"}], "owner": {"reputation": 1921, "user_id": 1491283, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1086aa8b25d43c7e0c137b1afd6b1aa7?s=128&d=identicon&r=PG", "display_name": "ArunM", "link": "https://stackoverflow.com/users/1491283/arunm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 56021991, "answer_count": 2, "score": -1, "last_activity_date": 1557230009, "creation_date": 1557227788, "last_edit_date": 1557229607, "question_id": 56021390, "link": "https://stackoverflow.com/questions/56021390/kotlin-access-property-of-anonymous-object", "title": "kotlin access property of anonymous object", "body": "<p>How do I access the property <code>word</code> of the object of the anonymous object</p>\n\n<pre><code> fun main(args: Array&lt;String&gt;) {\n\n        val sentence = \"this is a nice sentence\"\n\n        val wordLengths: List&lt;Any&gt; = sentence.split(' ').map {\n            object {\n                val length = it.length\n                val word = it\n            }\n        }\n\n        wordLengths.forEach { it:Any -&gt; println(it) }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "compression", "photo"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1557226356, "post_id": 56020881, "comment_id": 98685671, "body": "<a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">github.com/zetbaitsu/Compressor</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 5935559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/aGsWk.jpg?s=128&g=1", "display_name": "Shudipto Trafder", "link": "https://stackoverflow.com/users/5935559/shudipto-trafder"}, "is_accepted": false, "score": 0, "last_activity_date": 1593823823, "last_edit_date": 1593823823, "creation_date": 1557228098, "answer_id": 56021484, "question_id": 56020881, "link": "https://stackoverflow.com/questions/56020881/how-to-compress-photo-in-android-with-kotlin/56021484#56021484", "title": "How to compress photo in Android with Kotlin", "body": "<p>You can use this library</p>\n<pre><code>implementation 'id.zelory:compressor:2.1.0'\n</code></pre>\n<p>change the code</p>\n<p>from your code, your image file name is <strong>rutaFinal</strong></p>\n<pre><code>//if you need bitmap\nval bitmap = Compressor(this).compressToBitmap(rutaFinal)\n\n//if you need file\nval compressedImageFile = Compressor(this).compressToFile(rutaFinal)\n</code></pre>\n<p>complete code</p>\n<pre><code> if (resultCode == Activity.RESULT_OK){\n\n\n        //configurar imagen capturada a vista de imagen\n        imgEnvio.setImageURI(image_uri)\n        pasar = image_uri.toString()\n\n\n        val tempUri = image_uri\n\n        val rutaFinal = File(getRealPathFromURI(tempUri))\n        pasoRuta=rutaFinal.toString()\n\n        //chnage here\n        //pass context to Compressor\n        val bitmap = Compressor(this).compressToBitmap(rutaFinal);\n\n\n        captura_btn.visibility =View.INVISIBLE\n        siguiente.visibility=View.VISIBLE\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1557228358, "creation_date": 1557228358, "answer_id": 56021559, "question_id": 56020881, "link": "https://stackoverflow.com/questions/56020881/how-to-compress-photo-in-android-with-kotlin/56021559#56021559", "title": "How to compress photo in Android with Kotlin", "body": "<p>Use <a href=\"https://github.com/hkk595/Resizer\" rel=\"nofollow noreferrer\">Resizer</a></p>\n\n<pre><code>compile 'com.github.hkk595:Resizer:v1.5'\n</code></pre>\n\n<p><strong>Pass in the original image file and get the resized image as a new file</strong></p>\n\n<pre><code>File resizedImage = new Resizer(this)\n    .setTargetLength(1080)\n    .setQuality(80)\n    .setOutputFormat(\"JPEG\")\n    .setOutputFilename(\"resized_image\")\n    .setOutputDirPath(storagePath)\n    .setSourceImage(originalImage)\n    .getResizedFile();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 7250432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3m0k.jpg?s=128&g=1", "display_name": "Gayratjon", "link": "https://stackoverflow.com/users/7250432/gayratjon"}, "is_accepted": false, "score": 3, "last_activity_date": 1582532645, "last_edit_date": 1582532645, "creation_date": 1582528728, "answer_id": 60371129, "question_id": 56020881, "link": "https://stackoverflow.com/questions/56020881/how-to-compress-photo-in-android-with-kotlin/60371129#60371129", "title": "How to compress photo in Android with Kotlin", "body": "<p>Use <a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">Compressor</a></p>\n\n<p>Gradle</p>\n\n<pre><code>dependencies {\nimplementation 'id.zelory:compressor:3.0.0'\n}\n</code></pre>\n\n<p>Compress Image File</p>\n\n<pre><code>val compressedImageFile = Compressor.compress(context, actualImageFile)\n</code></pre>\n\n<p>Compress Image File to specific destination</p>\n\n<pre><code>val compressedImageFile = Compressor.compress(context, actualImageFile) {\ndefault()\ndestination(myFile)\n}\n</code></pre>\n\n<p>Using default constraint and custom partial of it</p>\n\n<pre><code>val compressedImageFile = Compressor.compress(context, actualImageFile) {\ndefault(width = 640, format = Bitmap.CompressFormat.WEBP)\n}\n</code></pre>\n\n<p>Full custom constraint</p>\n\n<pre><code>val compressedImageFile = Compressor.compress(context, actualImageFile) {\nresolution(1280, 720)\nquality(80)\nformat(Bitmap.CompressFormat.WEBP)\nsize(2_097_152) // 2 MB\n}\n\nval compressedImageFile = Compressor.compress(context, actualImageFile) {\n    resolution(1280, 720)\n    quality(80)\n    format(Bitmap.CompressFormat.WEBP)\n    size(2_097_152) // 2 MB\n    }\n\nval compressedImageFile = Compressor.compress(context, actualImageFile) {\n    resolution(1280, 720)\n    quality(80)\n    format(Bitmap.CompressFormat.WEBP)\n    size(2_097_152) // 2 MB\n    }\n\nval compressedImageFile = Compressor.compress(context, actualImageFile) {\n    resolution(1280, 720)\n    quality(80)\n    format(Bitmap.CompressFormat.WEBP)\n    size(2_097_152) // 2 MB\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11463977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7006f917cc1bc432f893fdf1ef8b49aa?s=128&d=identicon&r=PG&f=1", "display_name": "Rojan", "link": "https://stackoverflow.com/users/11463977/rojan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4404, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1593823823, "creation_date": 1557226034, "last_edit_date": 1557250561, "question_id": 56020881, "link": "https://stackoverflow.com/questions/56020881/how-to-compress-photo-in-android-with-kotlin", "title": "How to compress photo in Android with Kotlin", "body": "<p>now this is my code to take a photo from my smartphone, the problem is that the image is very large and I would like to compress it, some help or idea?</p>\n\n<p>thanks for the info</p>\n\n<p>Execution of the method abrirCamara()</p>\n\n<pre><code>private fun abrirCamara() {\n    val values = ContentValues()\n    values.put(MediaStore.Images.Media.TITLE, \"Nueva foto\")\n    values.put(MediaStore.Images.Media.DESCRIPTION, \"Desde la camara\")\n    image_uri = contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)\n    //intenci\u00f3n de la c\u00e1mara\n    val cameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n    cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, image_uri)\n    startActivityForResult(cameraIntent, IMAGE_CAPTURE_CODE)\n\n}\n</code></pre>\n\n<p>is called when the user press PERMIT or DENY from the permission request pop-up window</p>\n\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n\n    when(requestCode){\n        PERMISSION_CODE -&gt; {\n            if (grantResults.size &gt; 0 &amp;&amp; grantResults[0] ==\n                PackageManager.PERMISSION_GRANTED){\n                //permiso de popup fue concedido\n                abrirCamara()\n            }\n            else{\n                //el permiso de popup fue denegado\n                Toast.makeText(this, \"Permiso denegado\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Call when the image was captured from the camera's intention</p>\n\n<pre><code>     override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    //Llamada cuando la imagen fue capturada desde la intenci\u00f3n de la c\u00e1mara\n    if (resultCode == Activity.RESULT_OK){\n\n\n        //configurar imagen capturada a vista de imagen (ImageView)\n        imgEnvio.setImageURI(image_uri)        \n\n        captura_btn.visibility =View.INVISIBLE\n        siguiente.visibility=View.VISIBLE\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9568303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kk.cd", "link": "https://stackoverflow.com/users/9568303/kk-cd"}, "edited": false, "score": 0, "creation_date": 1557225393, "post_id": 56020663, "comment_id": 98685156, "body": "This worked. What is <code>!!</code> for?"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 11, "user_id": 9568303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kk.cd", "link": "https://stackoverflow.com/users/9568303/kk-cd"}, "edited": false, "score": 0, "creation_date": 1557225427, "post_id": 56020663, "comment_id": 98685171, "body": "it states that value is not nullable. Don&#39;t forget to accept and upvote the answer"}], "tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": true, "score": 1, "last_activity_date": 1557225276, "creation_date": 1557225276, "answer_id": 56020663, "question_id": 56020642, "link": "https://stackoverflow.com/questions/56020642/unable-to-add-drawable-to-an-arraylist-of-drawables-type-mismatch/56020663#56020663", "title": "Unable to add Drawable to an ArrayList of Drawables - Type mismatch", "body": "<p>use </p>\n\n<pre><code>draw.add(ResourcesCompat.getDrawable(resources, R.drawable.one, null)!!)\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>draw.add(ResourcesCompat.getDrawable(resources, R.drawable.one, null))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": false, "score": 1, "last_activity_date": 1557225970, "last_edit_date": 1557225970, "creation_date": 1557225461, "answer_id": 56020715, "question_id": 56020642, "link": "https://stackoverflow.com/questions/56020642/unable-to-add-drawable-to-an-arraylist-of-drawables-type-mismatch/56020715#56020715", "title": "Unable to add Drawable to an ArrayList of Drawables - Type mismatch", "body": "<p><code>ResourcesCompat.getDrawable(resources, R.drawable.one, null)</code> can return <code>Drawable?</code> -> which means this can also be null. Now your <code>ArrayList&lt;Drawable&gt;</code> does not allow nulls, so what you can do is to check if the drawable is not null and then add it to the list for example:</p>\n\n<pre><code>val drawable = ResourcesCompat.getDrawable(resources, R.drawable.one, null)\ndrawable?.let { draw.add(it) }\n</code></pre>\n\n<p>Using <code>!!</code> throws NPE if value is null, so you will have to catch it and <code>?.</code> operator safely checks if the value is not null. Like a shorter <code>if (drawable != null)</code> condition</p>\n\n<p>There is also third option where you can provide default drawable if null is found, using elvis operator.</p>\n\n<pre><code>val drawable = ResourcesCompat.getDrawable(resources, R.drawable.one, null)\nval defaultDrawable = ...\ndraw.add(drawable ?: defaultDrawable)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9568303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kk.cd", "link": "https://stackoverflow.com/users/9568303/kk-cd"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "closed_date": 1557225633, "accepted_answer_id": 56020663, "answer_count": 2, "score": -1, "last_activity_date": 1557225970, "creation_date": 1557225181, "question_id": 56020642, "link": "https://stackoverflow.com/questions/56020642/unable-to-add-drawable-to-an-arraylist-of-drawables-type-mismatch", "closed_reason": "Duplicate", "title": "Unable to add Drawable to an ArrayList of Drawables - Type mismatch", "body": "<p>I'm building an ArrayList of drawables for a RecyclerView like this -</p>\n\n<p><code>private val draw: ArrayList&lt;Drawable&gt; = ArrayList()</code></p>\n\n<p><code>draw.add(ResourcesCompat.getDrawable(resources, R.drawable.one, null))</code></p>\n\n<p>But for the second line I get a Type Mismatch error - </p>\n\n<p><code>Required: Drawable</code>\n<code>Found: Drawable?</code></p>\n\n<p>The import is <code>import android.graphics.drawable.Drawable</code></p>\n\n<p>I'm unable to figure out what is going wrong.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1557223107, "post_id": 56019906, "comment_id": 98683859, "body": "Galaxy s6 has android 6.0.1 installed which is api 23, so yes, probably v24 is your problem"}, {"owner": {"reputation": 1443, "user_id": 3742750, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/15f53fbbfc39fbfcbec14bf8693dff5c?s=128&d=identicon&r=PG&f=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/3742750/kmc"}, "reply_to_user": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1557280569, "post_id": 56019906, "comment_id": 98708145, "body": "On s6, it loads just fine. It&#39;s Galaxy Tab that&#39;s having problem."}], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "reply_to_user": {"reputation": 1443, "user_id": 3742750, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/15f53fbbfc39fbfcbec14bf8693dff5c?s=128&d=identicon&r=PG&f=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/3742750/kmc"}, "edited": false, "score": 0, "creation_date": 1557299242, "post_id": 56020099, "comment_id": 98713108, "body": "Happy to hear that :)"}, {"owner": {"reputation": 1443, "user_id": 3742750, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/15f53fbbfc39fbfcbec14bf8693dff5c?s=128&d=identicon&r=PG&f=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/3742750/kmc"}, "edited": false, "score": 0, "creation_date": 1557413341, "post_id": 56020099, "comment_id": 98764200, "body": "I was under impression that &quot;drawable&quot; directory shows in Android Studio is unversion directory since there&#39;s no indication of version number in directory name. I was confused to see v24 next to image name. When I use &quot;Reveal in Finder&quot;, that&#39;s when I realize my image is actually inside drawable-v24 directory. I moved the image to unversioned directory and it works as expected. Thanks for your help!"}], "tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": true, "score": 1, "last_activity_date": 1557223317, "creation_date": 1557223317, "answer_id": 56020099, "question_id": 56019906, "link": "https://stackoverflow.com/questions/56019906/bitmapfactory-decoderesource-returning-null-on-tablet-device/56020099#56020099", "title": "BitmapFactory.decodeResource returning null on Tablet device", "body": "<p>v24 qualifier means that that drawable is available only for -v24 api and above, you can check api versions <a href=\"https://source.android.com/setup/start/build-numbers\" rel=\"nofollow noreferrer\">here</a>. If you don't have that drawable in the \"unversioned\" drawable folder BitmapFactory will decode a null drawable.\nCreate your drawable also for lower apis, you can use a useful IntelliJ plugin if your want, called <a href=\"https://plugins.jetbrains.com/plugin/7658-android-drawable-importer\" rel=\"nofollow noreferrer\">DrawableImporter</a></p>\n"}], "owner": {"reputation": 1443, "user_id": 3742750, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/15f53fbbfc39fbfcbec14bf8693dff5c?s=128&d=identicon&r=PG&f=1", "display_name": "KMC", "link": "https://stackoverflow.com/users/3742750/kmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56020099, "answer_count": 1, "score": 0, "last_activity_date": 1557223317, "creation_date": 1557222643, "last_edit_date": 1557222892, "question_id": 56019906, "link": "https://stackoverflow.com/questions/56019906/bitmapfactory-decoderesource-returning-null-on-tablet-device", "title": "BitmapFactory.decodeResource returning null on Tablet device", "body": "<p>I have the following code that loads an image to display in an image view.  decodeResource returns an image when I use Galaxy S6 as a test device. However, it returns null for the same image when a test device is Galaxy Tab. I noticed that there is 'v24' right next to my image resource name. I just dragged and dropped my image from Finder to Drawable. Could it be because of that?</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n\n\n    val image = BitmapFactory.decodeResource(resources, R.drawable.village)\n\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "kotlin", "spek"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 10894219, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZVzzD9Bcx0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ2W6UVf-6I_E1s3nPUXfOqyDb2Bg/mo/photo.jpg?sz=128", "display_name": "Nizan Ifrach", "link": "https://stackoverflow.com/users/10894219/nizan-ifrach"}, "is_accepted": false, "score": 0, "last_activity_date": 1557237882, "creation_date": 1557237882, "answer_id": 56024436, "question_id": 56019643, "link": "https://stackoverflow.com/questions/56019643/mockito-toomanyactualinvocations-when-testing-conditions-spek-framework/56024436#56024436", "title": "Mockito, TooManyActualInvocations when testing conditions Spek Framework", "body": "<p>The mocked object counts the number of times the function invoked for the specific mock.\nSince you did not reset the mock between each test, the counter is increased each time you invoked the method.</p>\n\n<p>You should use: <code>reset(view)</code>  to reset the mocks counter.\nThis issue is not related to the Spek framework.</p>\n"}], "owner": {"reputation": 5393, "user_id": 316843, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0e72e91c35e8cba875818aa1336fb5df?s=128&d=identicon&r=PG", "display_name": "irobotxx", "link": "https://stackoverflow.com/users/316843/irobotxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557237882, "creation_date": 1557221658, "question_id": 56019643, "link": "https://stackoverflow.com/questions/56019643/mockito-toomanyactualinvocations-when-testing-conditions-spek-framework", "title": "Mockito, TooManyActualInvocations when testing conditions Spek Framework", "body": "<p>For a scenario unit testing a user entering a password and password confirmation. when i try to verify the same method being called in a different <code>on()</code> block, i get the following error on the 2nd <code>on()</code>block. </p>\n\n<pre><code>org.mockito.exceptions.verification.TooManyActualInvocations: \nactivationPasswordView.disableButton();\nWanted 1 time:\nBut was twice\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code> given(\"user set password \"){\n\n        on(\u201cpassword is null\u201d){\n         presenterImpl.validatePassword(null, null)\n\n            it(\"done button should be disabled\"){\n                verify(view).disableButton()\n            }\n        }\n\n        on(\"input only one password\"){\n          presenterImpl.validatePassword(\"Password\", \"\")\n\n            it(\"done button should be disabled\"){\n                verify(view).disableButton()\n            }\n        }\n    }\n</code></pre>\n\n<p>But if i call a different method, it works correctly. I assume this was not how Spek framework was intended to be used as all the examples i have seen always use an Assert. Is there a way i can write the following conditions in Spek without the error?. Even a different <code>given()</code> still causes the error. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9417638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/755a5fa276355a24aa07a12a50257b71?s=128&d=identicon&r=PG", "display_name": "Shivegeeky", "link": "https://stackoverflow.com/users/9417638/shivegeeky"}, "edited": false, "score": 0, "creation_date": 1557812009, "post_id": 56036166, "comment_id": 98879087, "body": "How can we get the path of USB mounted in android?"}, {"owner": {"reputation": 1031, "user_id": 7135845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JldMZ.png?s=128&g=1", "display_name": "SamiAzar", "link": "https://stackoverflow.com/users/7135845/samiazar"}, "reply_to_user": {"reputation": 49, "user_id": 9417638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/755a5fa276355a24aa07a12a50257b71?s=128&d=identicon&r=PG", "display_name": "Shivegeeky", "link": "https://stackoverflow.com/users/9417638/shivegeeky"}, "edited": false, "score": 0, "creation_date": 1557812222, "post_id": 56036166, "comment_id": 98879160, "body": "@Shivegeeky the USB is a secondary storage, so as I mentioned in answer."}, {"owner": {"reputation": 49, "user_id": 9417638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/755a5fa276355a24aa07a12a50257b71?s=128&d=identicon&r=PG", "display_name": "Shivegeeky", "link": "https://stackoverflow.com/users/9417638/shivegeeky"}, "edited": false, "score": 0, "creation_date": 1558083959, "post_id": 56036166, "comment_id": 98991721, "body": "Sdcard is also secondary storage so if both are connected how do I differentiate both of them."}], "tags": [], "owner": {"reputation": 1031, "user_id": 7135845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JldMZ.png?s=128&g=1", "display_name": "SamiAzar", "link": "https://stackoverflow.com/users/7135845/samiazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1557302706, "creation_date": 1557302706, "answer_id": 56036166, "question_id": 56019488, "link": "https://stackoverflow.com/questions/56019488/how-to-differentiate-between-sdcard-and-usb-mount-in-android-programatically/56036166#56036166", "title": "How to differentiate between sdcard and usb mount in android programatically", "body": "<p>to get internal SD card</p>\n\n<pre><code>val internalStorage = System.getenv(\"EXTERNAL_STORAGE\")\nval f_exts = File(internalStorage )\n</code></pre>\n\n<p>To get external SD card</p>\n\n<pre><code>val externalStorage = System.getenv(\"SECONDARY_STORAGE\")\nval f_secs = File(externalStorage )\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 9417638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/755a5fa276355a24aa07a12a50257b71?s=128&d=identicon&r=PG", "display_name": "Shivegeeky", "link": "https://stackoverflow.com/users/9417638/shivegeeky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557302706, "creation_date": 1557221158, "last_edit_date": 1557302260, "question_id": 56019488, "link": "https://stackoverflow.com/questions/56019488/how-to-differentiate-between-sdcard-and-usb-mount-in-android-programatically", "title": "How to differentiate between sdcard and usb mount in android programatically", "body": "<p>I am using the following code for getting the external storage mounted in android device.</p>\n\n<pre><code> val storageManager = CHSSystemApplication.instance.getSystemService(Context.STORAGE_SERVICE) as StorageManager?\n        storageManager?.storageVolumes\n</code></pre>\n\n<p>I mount the sd card and USB it returns the two storage volume.\nIs there any way we can differentiate between sd card volume and USB.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1557239027, "post_id": 56018587, "comment_id": 98693212, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32742051/rxandroid-event-bus-and-avoid-duplicated-events-sent-from-an-adapter\">RxAndroid Event Bus and avoid duplicated events sent from an Adapter</a>"}], "owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557220749, "creation_date": 1557218169, "last_edit_date": 1557220749, "question_id": 56018587, "link": "https://stackoverflow.com/questions/56018587/how-to-fix-call-duplicate-method-in-rxbus-in-android", "title": "How to fix call duplicate method in RxBus in android", "body": "<p><strong>WHY NOT HELP ME ANY PEOPLE???</strong></p>\n\n<p>In my application i want use <code>RxBus</code> for handle events and <strong>MVP</strong> for design pattern! i want when click on one of <code>recyclerview</code> items, call one method in <code>fragment</code>.<br>\nFor this i used <strong>RxBus</strong>!<br>\nI write below codes, but when click on items call 2 times method!!! <br></p>\n\n<p><strong>RxBus codes:</strong></p>\n\n<pre><code>object RxBus {\n\n    private val publisher = PublishSubject.create&lt;Any&gt;()\n\n    fun publish(event: Any) {\n        publisher.onNext(event)\n    }\n\n    fun &lt;T&gt; listen(eventType: Class&lt;T&gt;): Observable&lt;T&gt; = publisher.ofType(eventType)\n}\n</code></pre>\n\n<p><strong>Adapter codes:</strong> </p>\n\n<pre><code>class DashboardAvatarsAdapter constructor(\n    private val context: Context, private val model: List&lt;String&gt;,\n    private val url: String\n) :\n    RecyclerView.Adapter&lt;DashboardAvatarsAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        return ViewHolder(inflater.inflate(R.layout.row_dashboard_avatars, parent, false))\n    }\n\n    override fun getItemCount() = model.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.avatarImg.showImageGlide(context, \"$BASE_URL_IMAGE$url${model[position]}\", holder.avatarLoader)\n        holder.avatarImg.setOnClickListener {\n            RxBus.publish(EventUpdateAvatar.UpdateAvatar(EVENTS_UPDATE_SEND_AVATAR, model[position]))\n            Log.e(\"uploadAvatarLog\", \"Adapter\")\n        }\n    }\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val avatarImg: ImageView = itemView.findViewById(R.id.avatarItemList_img)\n        val avatarLoader: ProgressBar = itemView.findViewById(R.id.avatarItemList_progress)\n    }\n}\n</code></pre>\n\n<p><strong>Fragments codes:</strong></p>\n\n<pre><code>class DashboardAvatarsFragment : RoundedBottomSheetDialogFragment(), DashboardAvatarsContracts.View {\n\n    @NonNull\n    private lateinit var presenter: DashboardAvatarsPresenterImpl\n    private lateinit var token: String\n    private lateinit var layoutManager: GridLayoutManager\n    private lateinit var adapter: DashboardAvatarsAdapter\n    @NonNull\n    private var disposable: Disposable? = null\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_dashboard_avatars, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        //Initialize\n        presenter = DashboardAvatarsPresenterImpl(requireContext(), this)\n        layoutManager = GridLayoutManager(requireContext(), 5)\n        //Get token\n        token = GoodPrefs.getInstance().getString(PrefsKey.USER_JWT_TOKEN.name, \"\")\n        //Send avatar\n        disposable = RxBus.listen(EventUpdateAvatar.UpdateAvatar::class.java).subscribe {\n            if (it.updateType == EVENTS_UPDATE_SEND_AVATAR) {\n                Log.e(\"uploadAvatarLog\", \"Event\")\n                presenter.sendAvatarId(token, it.avatarId)\n            }\n        }\n\n        //Get avatars list\n        presenter.loadData(token)\n    }\n\n    override fun showAvatars(res: DashboardAvatarsResponse.Res) {\n        adapter = DashboardAvatarsAdapter(requireContext(), res.avatars, res.baseUrl)\n        dashboardAvatars_recyclerView.initRecyclerView(layoutManager, adapter)\n    }\n\n    override fun updateAvatar() {\n        RxBus.publish(EventUpdateAvatar.UpdateAvatar(EVENTS_UPDATE_AVATAR, \"\"))\n        Log.e(\"uploadAvatarLog\", \"Receive\")\n    }\n}\n</code></pre>\n\n<p>I used <code>Log.e</code> for see log, but show me <strong>duplicate</strong> some <strong>logs</strong>!</p>\n\n<pre><code>2019-05-07 12:15:35.901 10259-10259/com.app.android E/uploadAvatarLog: Event\n2019-05-07 12:15:35.902 10259-10259/com.app.android E/uploadAvatarLog: Adapter\n2019-05-07 12:15:35.978 10259-10259/com.app.android E/uploadAvatarLog: Send\n2019-05-07 12:15:35.978 10259-10259/com.app.android E/uploadAvatarLog: Event\n2019-05-07 12:15:35.978 10259-10259/com.app.android E/uploadAvatarLog: Receive\n2019-05-07 12:15:36.008 10259-10259/com.app.android E/uploadAvatarLog: Send\n</code></pre>\n\n<p>How can i fix it?</p>\n"}, {"tags": ["kotlin", "dependency-injection", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 2157, "user_id": 3422470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kmBhR.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3422470/james"}, "edited": false, "score": 0, "creation_date": 1579875453, "post_id": 56019190, "comment_id": 105923683, "body": "newInstance is what helped me, Thank you"}], "tags": [], "owner": {"reputation": 864, "user_id": 10572066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e631b28d6713a4742b812fdc9c85cf11?s=128&d=identicon&r=PG&f=1", "display_name": "Marek Kondracki", "link": "https://stackoverflow.com/users/10572066/marek-kondracki"}, "is_accepted": false, "score": 2, "last_activity_date": 1557220187, "creation_date": 1557220187, "answer_id": 56019190, "question_id": 56018569, "link": "https://stackoverflow.com/questions/56018569/how-can-i-use-kodeins-direct-retrieval-to-fetch-a-dependency-bound-as-a-factory/56019190#56019190", "title": "How can I use Kodein&#39;s direct retrieval to fetch a dependency bound as a factory?", "body": "<p>Try something like this:</p>\n\n<pre><code>class Injector constructor(secretSauce: SecretSauce) {\n    val kodein = Kodein {\n        bind&lt;SecretSauce&gt; with instance(secretSauce)\n        bind&lt;SpicyBeans&gt;() with factory { beans: List&lt;Bean&gt;, herbs: List&lt;Herb&gt; \n-&gt;\n        SpicyBeans(instance(), beans, herbs)\n       }\n    }\n}\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>val spicyBeans by kodein.newInstance { SpicyBeans(instance(), beans, herbs) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 3, "last_activity_date": 1557224404, "creation_date": 1557224404, "answer_id": 56020437, "question_id": 56018569, "link": "https://stackoverflow.com/questions/56018569/how-can-i-use-kodeins-direct-retrieval-to-fetch-a-dependency-bound-as-a-factory/56020437#56020437", "title": "How can I use Kodein&#39;s direct retrieval to fetch a dependency bound as a factory?", "body": "<p>The solution is called multi-argument factories.\nThe documentation about this is very scarce (This is a problem, can you open a ticket so I can be reminded to improve the doc?).</p>\n\n<p>In the meantime, here is your solution:</p>\n\n<pre><code>val tastyDish: SpicyBeans by kodein.instance(arg = M(beans, herbs))\n</code></pre>\n"}], "owner": {"reputation": 2139, "user_id": 521832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eb77f5385cb66fc1081ea27e3b7badc1?s=128&d=identicon&r=PG", "display_name": "BenLanc", "link": "https://stackoverflow.com/users/521832/benlanc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 56020437, "answer_count": 2, "score": 0, "last_activity_date": 1557224404, "creation_date": 1557218077, "question_id": 56018569, "link": "https://stackoverflow.com/questions/56018569/how-can-i-use-kodeins-direct-retrieval-to-fetch-a-dependency-bound-as-a-factory", "title": "How can I use Kodein&#39;s direct retrieval to fetch a dependency bound as a factory?", "body": "<p>Consider the following injector:</p>\n\n<pre><code>class Injector constructor(secretSauce: SecretSauce) {\n    val kodein = Kodein {\n        bind&lt;SpicyBeans&gt;() with factory { beans: List&lt;Bean&gt;, herbs: List&lt;Herb&gt; -&gt;\n            SpicyBeans(secretSauce, beans, herbs)\n        }\n    }\n}\n</code></pre>\n\n<p>And the following business logic:</p>\n\n<pre><code>class TastyMeal {\n  private lateinit var injector : Kodein\n  private lateinit var spicyBeans : SpicyBeans\n\n  fun initialiseWithInjector(kodein : Kodein) {\n    injector = kodein\n    val herbs = listOf(Coriander(), Cumin())\n    val beans = listOf(Pinto(), BlackEyed())\n    // fetch SpicyBeans via given Kodein Factory, given herbs and beans here\n  }\n}\n</code></pre>\n\n<p>How can I use Kodein's direct injection feature to fetch a <code>SpicyBeans</code> instance using a factory, passing in <code>List&lt;Herb&gt;</code> and <code>List&lt;Bean&gt;</code> <em>after</em> <code>TastyMeal</code> is instantiated? I can't find an example in the documentation.</p>\n"}, {"tags": ["android", "kotlin", "searchview", "simplecursoradapter"], "comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1557222103, "post_id": 56018189, "comment_id": 98683283, "body": "where do you want to show suggestions? in searchview like a AutoCompleteTextView??"}, {"owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1557222276, "post_id": 56018189, "comment_id": 98683391, "body": "yes just below the toolbar"}], "answers": [{"comments": [{"owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557222577, "post_id": 56019850, "comment_id": 98683566, "body": "I am trying to get the suggestion only after 3rd character."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557222605, "post_id": 56019850, "comment_id": 98683586, "body": "then use <code>searchAutoCompleteTextView.setThreshold(3);</code>"}, {"owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557222835, "post_id": 56019850, "comment_id": 98683715, "body": "what I mean is, I am already doing that, I am calling the api only after 3rd character even then I tried this solution and it didn&#39;t work."}, {"owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557222898, "post_id": 56019850, "comment_id": 98683740, "body": "My problem is only with the adapter not displaying the search results."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557223265, "post_id": 56019850, "comment_id": 98683951, "body": "without setting the threshold it won&#39;t display the suggestion. A suggestion, Log your suggestions in the logcat and see if the results are appearing"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557223461, "post_id": 56019850, "comment_id": 98684053, "body": "you should also use <code>simpleCursorAdapter.setNotifyOnChange(true);</code>"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "edited": false, "score": 0, "creation_date": 1557223509, "post_id": 56019850, "comment_id": 98684072, "body": "i am using the same piece of code in my app and it is working wonderfully"}], "tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": false, "score": 0, "last_activity_date": 1557222615, "last_edit_date": 1557222615, "creation_date": 1557222434, "answer_id": 56019850, "question_id": 56018189, "link": "https://stackoverflow.com/questions/56018189/searchview-suggestions-adapter-is-not-popping-up-in-android/56019850#56019850", "title": "SearchView suggestions adapter is not popping up in Android", "body": "<p>You may need to set <a href=\"https://developer.android.com/reference/android/widget/AutoCompleteTextView#setThreshold(int)\" rel=\"nofollow noreferrer\">Threshold</a>.</p>\n\n<pre><code>AutoCompleteTextView searchAutoCompleteTextView = (AutoCompleteTextView) searchView.findViewById(android.support.v7.appcompat.R.id.search_src_text);\nsearchAutoCompleteTextView.setThreshold(3);\n</code></pre>\n\n<p>If you set Threshold to 3 that means it will start giving suggestions after typing first character</p>\n"}], "owner": {"reputation": 2810, "user_id": 2325929, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f8057b78c5e5665878dd52fc5b1f00e5?s=128&d=identicon&r=PG", "display_name": "theanilpaudel", "link": "https://stackoverflow.com/users/2325929/theanilpaudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557222615, "creation_date": 1557216627, "question_id": 56018189, "link": "https://stackoverflow.com/questions/56018189/searchview-suggestions-adapter-is-not-popping-up-in-android", "title": "SearchView suggestions adapter is not popping up in Android", "body": "<p>I have a search menu item like this</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n            android:id=\"@+id/action_search\"\n            android:icon=\"@drawable/search_icon\"\n            android:title=\"Search\"\n            app:actionViewClass=\"android.widget.SearchView\"\n            app:showAsAction=\"always|collapseActionView\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>I am inflating this and then setting up listeners for SearchView like this</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.search_menu_item, menu)\n        return true\n    }\n\n    override fun onPrepareOptionsMenu(menu: Menu?): Boolean {\n        val mSearchMenuItem = menu?.findItem(R.id.action_search)\n\n\n        mSearchMenuItem?.setOnActionExpandListener(object : MenuItem.OnActionExpandListener{\n            override fun onMenuItemActionExpand(p0: MenuItem?): Boolean {\n                return true\n            }\n\n            override fun onMenuItemActionCollapse(p0: MenuItem?): Boolean {\n                return true\n            }\n\n        })\n\n        searchView = mSearchMenuItem?.actionView as SearchView\n\n        searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n            override fun onQueryTextSubmit(query: String): Boolean {\n                samSearchViewModel.searchData(query)\n\n                return false\n            }\n\n            override fun onQueryTextChange(newText: String): Boolean {\n                if (newText.length &gt;= 3) {\n                    samSearchViewModel.searchData(newText)\n                }\n                return false\n            }\n        })\n\n        searchView.setOnCloseListener(object : SearchView.OnCloseListener {\n            override fun onClose(): Boolean {\n                return false\n            }\n        })  \n\n        return true\n    }\n</code></pre>\n\n<p>Then I am trying to display it using a SimpleCursorAdapter like this after getting data back from the server.</p>\n\n<pre><code>val strArr: Array&lt;String?&gt; = arrayOfNulls(t.datas?.size!!)\n                        for(i in t.datas!!.indices){\n                            strArr[i] = t.datas!![i]?.symbol\n                        }\n\n                        val searchManager = getSystemService(SEARCH_SERVICE) as SearchManager\n                        searchView.setSearchableInfo(searchManager.getSearchableInfo(getComponentName()))\n                        val to = intArrayOf(android.R.id.text1)\n                        searchView.setIconifiedByDefault(false)\n                        searchView.setSuggestionsAdapter(SimpleCursorAdapter(this@MainActivity,android.R.layout.simple_list_item_1,null,strArr,to,CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER))\n</code></pre>\n\n<p>So what's happening is, I am able to expand the SearchView, type in it and then I am also getting data back from the server but then the search suggestions list is not popping up. It is just blank.\nWhat am I missing? Any help would be appreciated. Thanks</p>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 513, "user_id": 7234359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8g0pM.jpg?s=128&g=1", "display_name": "Akkapong Kajornwongwattana", "link": "https://stackoverflow.com/users/7234359/akkapong-kajornwongwattana"}, "edited": false, "score": 0, "creation_date": 1557224130, "post_id": 56015652, "comment_id": 98684444, "body": "I think you need FinalityFlow. and in the responder you need to call ReceiveFinalityFlow before you return. <a href=\"https://github.com/corda/samples/blob/release-V4/cordapp-example/workflows-kotlin/src/main/kotlin/com/example/flow/ExampleFlow.kt\" rel=\"nofollow noreferrer\">github.com/corda/samples/blob/release-V4/cordapp-example/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1231, "user_id": 1296853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7918e392ecbb3100a34488b32e0f9ea9?s=128&d=identicon&r=PG", "display_name": "Cais Manai", "link": "https://stackoverflow.com/users/1296853/cais-manai"}, "is_accepted": false, "score": 0, "last_activity_date": 1557226078, "creation_date": 1557226078, "answer_id": 56020897, "question_id": 56015652, "link": "https://stackoverflow.com/questions/56015652/upgrading-some-corda3-source-code-to-run-on-v4/56020897#56020897", "title": "Upgrading some Corda3 source code to run on v4", "body": "<p>The FinalityFlow is mainly responsible for ensuring transactions are notarized, distributed accordingly and persisted to local vaults.</p>\n\n<p>In previous versions of Corda, all nodes would by default accept incoming requests for finality. </p>\n\n<p>From V4 onwards, you're required to write a ReceiveFinalityFlow to write your own processing logic before finality. </p>\n\n<p>The way finality currently runs in Corda is the initiating node, as an intermediate step during finality, distributes notarised transaction to all other participants. Each of the participating nodes it sends to will only expect to receive a session from this node.</p>\n\n<p>So where you might submit multiple sessions to the initiating FinalityFlow to include all the participants, the responding nodes will only ever receive just the one session from the initiator. </p>\n\n<p>In the future, we may look at having the Notary distribute the notarized transaction to all participants, but even then, the ReceiveFinalityFlow would still only expect one session, this time from the Notary.</p>\n"}], "owner": {"reputation": 1, "user_id": 3177081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd9eeb7e8770e13f8ac7af53114c24fa?s=128&d=identicon&r=PG&f=1", "display_name": "user3177081", "link": "https://stackoverflow.com/users/3177081/user3177081"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557226078, "creation_date": 1557204056, "last_edit_date": 1557210664, "question_id": 56015652, "link": "https://stackoverflow.com/questions/56015652/upgrading-some-corda3-source-code-to-run-on-v4", "title": "Upgrading some Corda3 source code to run on v4", "body": "<p>First of all, I've only started learning corda 3 months ago so I've got some learning to do.</p>\n\n<p>I've inherited some code that runs fine under Corda v3.3 but the customers want it to run on v4.  I'm trying to follow the instructions on the main website. I've got an initiating flow which calls a subflow, which in turn calls a transponder flow.</p>\n\n<p>The initiating flow:</p>\n\n<pre><code>@InitiatingFlow(version = 2)\n@StartableByRPC\nclass TransferFlow(private val issuerName: String = \"\",\n                   private val seller: String = \"\",\n                   private val amount: BigDecimal = BigDecimal(\"0\"),\n                   private val buyer: String = \"\",\n                   private val custodianNameOfBuyer: String = \"\",\n                   private val notaryName: String = \"\") : FlowLogic&lt;SignedTransaction&gt;() {\n    @Suspendable\n    override fun call(): SignedTransaction {\n\n        subFlow(UpdateStatusOfTransferFlow(\n                sessions,\n                tokenTransferAgreement.linearId,\n                \"Removed Tokens From Seller\"))\n  }\n}\n\nclass UpdateStatusOfTransferFlow(\n        private val sessions: Set&lt;FlowSession&gt;,\n        private val tokenTransferAgreementID: UniqueIdentifier,\n        private val newStatus: String) : FlowLogic&lt;SignedTransaction&gt;() {\n    @Suspendable\n    override fun call(): SignedTransaction {\n        sessions.size\n        val idQueryCriteria = QueryCriteria.LinearStateQueryCriteria(linearId = listOf(tokenTransferAgreementID))\n        val states = serviceHub.vaultService.queryBy&lt;TokenTransferAgreement&gt;(idQueryCriteria).states\n\n        if (states.size != 1) throw FlowException(\"Can not find a unique state for $tokenTransferAgreementID\")\n\n        val inputStateAndRef = states.single()\n        val inputState = inputStateAndRef.state.data\n\n        val notary = inputStateAndRef.state.notary\n\n        val outputState = inputState.withNewStatus(newStatus)\n\n        val cmd = Command(TokenContract.Commands.UpdateStatusOfTransfer(),\n                inputState.participants.map { it.owningKey })\n\n\n        val txBuilder = TransactionBuilder(notary = notary)\n        txBuilder.addCommand(cmd)\n        txBuilder.addInputState(inputStateAndRef)\n        txBuilder.addOutputState(outputState, TokenContract.ID)\n\n        txBuilder.verify(serviceHub)\n        val ptx = serviceHub.signInitialTransaction(txBuilder)\n        val sessions2 = (inputState.participants.toSet() - ourIdentity).map { initiateFlow(it) }\n\n       return subFlow(CollectSignaturesFlow(ptx, sessions2))\n\n    }\n\n}\n\nAnd the responder:\n\n@InitiatedBy(TransferFlowResponder::class)\nclass UpdateStatusOfTransferFlowResponder(private val session: FlowSession) : FlowLogic&lt;Unit&gt;() {\n    @Suspendable\n    override fun call() {\n        val tokenTransferAgreements = mutableListOf&lt;TokenTransferAgreement&gt;()\n        var isBuyer = true\n        var notary = CordaUtility.getNotary(serviceHub) ?: throw FlowException(\"An notary is expected!\")\n\n        val signedTransactionFlow = subFlow(object : SignTransactionFlow(session) {\n            override fun checkTransaction(stx: SignedTransaction) = requireThat {\n                \"There must be one output!\" using (stx.tx.outputStates.size == 1)\n\n                val tokenTransferAgreement = stx.tx.outputStates.first() as TokenTransferAgreement\n                tokenTransferAgreements.add(tokenTransferAgreement)\n\n                notary = stx.notary ?: throw FlowException(\"An notary is expected!\")\n\n                if (ourIdentity == tokenTransferAgreement.issuer) {\n                   //checks go here\n                 }\n\n        })\n    }\n\n}\n</code></pre>\n\n<p>I believe I am supposed to add a call to ReceiveFinality flow at some point, however it only takes 1 session as an argument, not a list as I have here. Should I make multiple calls, one for each session? I am also not sure if the calls should go in the transponder or the UpdateStatusOfTransferFlow class.</p>\n\n<p>Help here would be appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-tablayout"], "comments": [{"owner": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1557196545, "post_id": 56014737, "comment_id": 98673760, "body": "You cannot swipe if you don&#39;t use <code>ViewPager</code>. Will it toasting when you click on each tab?"}, {"owner": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "reply_to_user": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1557196612, "post_id": 56014737, "comment_id": 98673772, "body": "@AdmiralKunkka no."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1557198958, "post_id": 56014737, "comment_id": 98674186, "body": "Can you post your MainActivity?"}, {"owner": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1557200285, "post_id": 56014737, "comment_id": 98674452, "body": "@JohnJoe I have added my main activity. I am using Single Activity on my entire app since I use navigation controller component"}], "answers": [{"comments": [{"owner": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "edited": false, "score": 0, "creation_date": 1557197495, "post_id": 56014849, "comment_id": 98673929, "body": "I little bit confused if use viewPager, I have watched tutorial to make this like in this video: <a href=\"https://www.youtube.com/watch?v=QU5-IpnEub4\" rel=\"nofollow noreferrer\">youtube.com/watch?v=QU5-IpnEub4</a>. I am confused because it seems that I have to make 3 fragments if I have 3 tabs. but in my case, I don&#39;t need it, because I only  have one recycler view. so I have to make other 3 fragments ?"}, {"owner": {"reputation": 449, "user_id": 5098570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3K4pD.jpg?s=128&g=1", "display_name": "Md. Nowshad Hasan", "link": "https://stackoverflow.com/users/5098570/md-nowshad-hasan"}, "reply_to_user": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "edited": false, "score": 0, "creation_date": 1557199549, "post_id": 56014849, "comment_id": 98674311, "body": "I&#39;m not sure actually how to make tabs with recycler view."}], "tags": [], "owner": {"reputation": 449, "user_id": 5098570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3K4pD.jpg?s=128&g=1", "display_name": "Md. Nowshad Hasan", "link": "https://stackoverflow.com/users/5098570/md-nowshad-hasan"}, "is_accepted": false, "score": 2, "last_activity_date": 1557197199, "creation_date": 1557197199, "answer_id": 56014849, "question_id": 56014737, "link": "https://stackoverflow.com/questions/56014737/why-i-cant-change-or-swipe-tab-on-my-tablayout-in-android/56014849#56014849", "title": "Why I can&#39;t change or swipe tab on my TabLayout in Android?", "body": "<p>You can use TabHost to make this thing though it is an old way. And another way is wrapping viewpager in a tablayout. Here is some good tutorial for this. <br></p>\n\n<ol>\n<li>TabHost: <a href=\"https://www.dev2qa.com/android-tabhost-example/\" rel=\"nofollow noreferrer\">https://www.dev2qa.com/android-tabhost-example/</a>  </li>\n<li>ViewPager:<a href=\"https://developer.android.com/guide/navigation/navigation-swipe-view\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-swipe-view</a></li>\n</ol>\n"}], "owner": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 735, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557200615, "creation_date": 1557196272, "last_edit_date": 1557200615, "question_id": 56014737, "link": "https://stackoverflow.com/questions/56014737/why-i-cant-change-or-swipe-tab-on-my-tablayout-in-android", "title": "Why I can&#39;t change or swipe tab on my TabLayout in Android?", "body": "<p><a href=\"https://i.stack.imgur.com/GeHal.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GeHal.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to make a screen like the picture above. so if I select a tab in the TabLayout, then it will change some variable before making request to server and eventually the data from server will populate the recycler view.</p>\n\n<p>I use <code>addOnTabSelectedListener</code> on TabLayout to retrieve the change If the user change the tab. usually in some tutorials, they always use tab layout with some fragment change, so it seems they use viewPager to handle it. but in this case I remove it and I just use <code>addOnTabSelectedListener</code> to get the change, and because I just need one recycler view instead of more than one fragments</p>\n\n<p>here is the code I use in my fragment</p>\n\n<pre><code>class SearchResultFragment : Fragment() {\n\n    lateinit var fragmentView : View\n    lateinit var recyclerView : RecyclerView\n    lateinit var tabLayout : TabLayout\n\n    lateinit var mContext : Context\n    lateinit var mActivity : FragmentActivity\n\n    private var selectedEventType = EventType.kajianUmum\n    private var selectedCity = City.defaultCityName\n    private var selectedTime = \"Akhir Pekan\"\n\n    lateinit var eventAdapter : GeneralEventRecyclerViewAdapter\n    private var  eventList = ArrayList&lt;Event&gt;()\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n\n        mContext = context\n        activity?.let { mActivity = it }\n\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        fragmentView = inflater.inflate(R.layout.fragment_search_result, container, false)\n\n        setUpSafeArg()\n        setUpViewsDeclaration()\n        setUpListeners()\n\n        initRecyclerView()\n\n\n        return fragmentView\n    }\n\n    private fun setUpViewsDeclaration() {\n        recyclerView = fragmentView.findViewById(R.id.recyclerView_event_general_search_result)\n        tabLayout = fragmentView.findViewById(R.id.tabLayout_time_search_result)\n\n    }\n\n    private fun setUpSafeArg() {\n        arguments?.let {\n\n            val args = SearchResultFragmentArgs.fromBundle(it)\n            selectedEventType = args.selectedEventType\n            selectedCity = args.selectedCity\n            selectedTime = args.selectedTime\n\n        }\n    }\n\n    private fun setUpListeners() {\n\n        tabLayout.addOnTabSelectedListener(object: TabLayout.OnTabSelectedListener {\n\n            override fun onTabSelected(tab: TabLayout.Tab?) {\n\n                when(tab?.position ?: 0) {\n                    0 -&gt; mActivity.toast(\"0\")\n                    1 -&gt;  mActivity.toast(\"1\")\n                    2 -&gt;  mActivity.toast(\"2\")\n                    3 -&gt;  mActivity.toast(\"3\")\n                    4 -&gt;  mActivity.toast(\"0\")\n                    else -&gt; println(\"Number too high\")\n                }\n\n            }\n\n            override fun onTabReselected(tab: TabLayout.Tab?) {\n\n            }\n\n            override fun onTabUnselected(tab: TabLayout.Tab?) {\n\n            }\n\n\n        })\n\n    }\n\n\n\n\n    private fun initRecyclerView() {\n\n        eventAdapter = GeneralEventRecyclerViewAdapter(mContext)\n        val layoutManager = LinearLayoutManager(mContext, RecyclerView.VERTICAL,false)\n        recyclerView.adapter = eventAdapter\n        recyclerView.layoutManager = layoutManager\n\n        eventAdapter.setOnItemClickListener(object: OnEventKMListener {\n\n            override fun eventKMClicked(position: Int) {\n                val selectedEvent = eventList[position]\n                val eventDetailDestination = SearchResultFragmentDirections.actionGlobalDestinationEventDetail(selectedEvent)\n                Navigation.findNavController(fragmentView).navigate(eventDetailDestination)\n            }\n\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>but I don't know why I can't change the tab when I run the app, I also can't swipe that tab. the tab is stay on index 0</p>\n\n<p>here is my xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                                   xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\"\n                                                   android:layout_width=\"match_parent\"\n                                                   android:layout_height=\"match_parent\"\n                                                   tools:context=\".Fragments.Search.SearchResultFragment\" android:id=\"@+id/constraintLayout_search_result\"&gt;\n\n\n    &lt;com.google.android.material.tabs.TabLayout\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"16dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"16dp\" android:layout_marginTop=\"16dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" android:id=\"@+id/tabLayout_time_search_result\"&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Hari Ini\"/&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Besok\"/&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Akhir Pekan\"/&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Pekan Depan\"/&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Semua\"/&gt;\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=\"379dp\"\n            android:layout_height=\"635dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"16dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"16dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" android:layout_marginTop=\"16dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tabLayout_time_search_result\"\n            android:id=\"@+id/recyclerView_event_general_search_result\"\n            tools:listitem=\"@layout/item_general_event\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>and here is my MainActivity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavController.OnDestinationChangedListener {\n\n    private lateinit var navController : NavController\n    lateinit var destinationTitleTextView : TextView\n    lateinit var progressBar : ProgressBar\n    lateinit var topToolbar : Toolbar\n    lateinit var bottomNavigationView : BottomNavigationView\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        FirebaseApp.initializeApp(this)\n\n        // Initial Setup views\n        navController = Navigation.findNavController(this,R.id.nav_host_fragment)\n        setupBottomNavMenu(navController)\n        setupActionBar(navController)\n        setUpViewDeclaration()\n\n\n        // Add Listeners\n        navController.addOnDestinationChangedListener(this)\n\n\n    }\n\n\n\n    override fun dispatchTouchEvent(event: MotionEvent): Boolean {\n\n        // to hide softkeyboard when tapping outside area in the fragment\n        // And in the layout of the fragment use this attribute: android:focusableInTouchMode=\"true\"\n\n        if (event.action == MotionEvent.ACTION_DOWN) {\n            val v = currentFocus\n            if (v is EditText) {\n                val outRect = Rect()\n                v.getGlobalVisibleRect(outRect)\n                if (!outRect.contains(event.rawX.toInt(), event.rawY.toInt())) {\n                    v.clearFocus()\n                    val imm = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n                    imm.hideSoftInputFromWindow(v.windowToken, 0)\n                }\n            }\n        }\n        return super.dispatchTouchEvent(event)\n    }\n\n\n\n    private fun setUpViewDeclaration() {\n        destinationTitleTextView = findViewById(R.id.destination_label_text_view)\n        progressBar = findViewById(R.id.progressBar_main_activity)\n        topToolbar = findViewById(R.id.top_toolbar)\n        bottomNavigationView = findViewById(R.id.bottom_nav)\n\n    }\n\n    private fun setupBottomNavMenu(navController: NavController) {\n        bottom_nav.setupWithNavController(navController)\n    }\n\n\n    private fun setupActionBar(navController: NavController) {\n\n        setSupportActionBar(top_toolbar)\n        supportActionBar?.setDisplayShowTitleEnabled(false)\n\n        // set up top hierarchy destination\n        val appBarConfiguration = AppBarConfiguration(setOf(\n            R.id.destination_home,\n            R.id.destination_search,\n            R.id.destination_user_control,\n            R.id.destination_create_event)\n        )\n\n        top_toolbar.setupWithNavController(navController,appBarConfiguration)\n\n    }\n\n    override fun onDestinationChanged(controller: NavController, destination: NavDestination, arguments: Bundle?) {\n\n        progressBar.visibility = View.GONE // to ensure progress bar will be gone whenever the user segues to other destination\n\n\n\n\n        // set toolbar and bottom navigation visibility\n        if (destination.id == R.id.destination_welcome ||\n            destination.id == R.id.destination_authentication ||\n            destination.id == R.id.destination_loginUsingEmail ||\n            destination.id == R.id.destination_registerUsingEmail ||\n            destination.id == R.id.destination_choose_user_location ||\n            destination.id == R.id.destination_change_password ||\n            destination.id == R.id.destination_create_event_finished_info ||\n            destination.id == R.id.destination_photo_view\n\n        ) {\n\n            topToolbar.visibility = View.GONE\n            bottomNavigationView.visibility = View.GONE\n\n        } else if (\n\n            destination.id == R.id.destination_create_event_name ||\n            destination.id == R.id.destination_create_event_type ||\n            destination.id == R.id.destination_create_event_starting_date ||\n            destination.id == R.id.destination_create_event_ending_date ||\n            destination.id == R.id.destination_create_event_speaker ||\n            destination.id == R.id.destination_create_event_description ||\n            destination.id == R.id.destination_create_event_poster ||\n            destination.id == R.id.destination_create_event_coordinate ||\n            destination.id == R.id.destination_create_event_location_detail ||\n            destination.id == R.id.destination_create_event_contact ||\n            destination.id == R.id.destination_create_event_price ||\n            destination.id == R.id.destination_create_event_capacity ||\n            destination.id == R.id.destination_create_event_summary ||\n            destination.id == R.id.destination_create_event_finished_info ||\n            destination.id == R.id.destination_event_detail ||\n            destination.id == R.id.destination_event_description_detail ||\n            destination.id == R.id.destination_map_detail_location\n\n        ) {\n\n            topToolbar.visibility = View.VISIBLE\n            bottomNavigationView.visibility = View.GONE\n\n        } else if (\n            destination.id == R.id.destination_user_control ||\n            destination.id == R.id.destination_search\n\n        ) {\n\n            topToolbar.visibility = View.GONE\n            bottomNavigationView.visibility = View.VISIBLE\n\n        } else {\n\n            topToolbar.visibility = View.VISIBLE\n            bottomNavigationView.visibility = View.VISIBLE\n\n        }\n\n\n\n\n\n\n\n        // Set Toolbar Title\n        if (destination.id == R.id.destination_home) {\n            destinationTitleTextView.setText(R.string.home)\n        } else if (destination.id == R.id.destination_create_event_summary) {\n            destinationTitleTextView.text = \"Ringkasan\"\n        } else if (\n            destination.id == R.id.destination_create_event ||\n            destination.id == R.id.destination_create_event_name ||\n            destination.id == R.id.destination_create_event_type ||\n            destination.id == R.id.destination_create_event_starting_date ||\n            destination.id == R.id.destination_create_event_ending_date ||\n            destination.id == R.id.destination_create_event_speaker ||\n            destination.id == R.id.destination_create_event_description ||\n            destination.id == R.id.destination_create_event_poster ||\n            destination.id == R.id.destination_create_event_coordinate ||\n            destination.id == R.id.destination_create_event_location_detail ||\n            destination.id == R.id.destination_create_event_contact ||\n            destination.id == R.id.destination_create_event_capacity ||\n            destination.id == R.id.destination_create_event_price ||\n            destination.id == R.id.destination_create_event_summary ||\n            destination.id == R.id.destination_create_event_finished_info\n\n        ) {\n\n            destinationTitleTextView.setText(R.string.createEvent)\n\n        } else {\n\n            destinationTitleTextView.text = \"\"\n\n        }\n\n\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>what went wrong in here ?\njava is ok</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1557188713, "post_id": 56013916, "comment_id": 98672472, "body": "You&#39;re supposed to put question mark after variable type to denote it&#39;s nullable: <code>fun describe(obj: Any?): ....</code> and drop <code>?</code> in <code>when</code>."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1557189075, "post_id": 56013916, "comment_id": 98672525, "body": "Just a few basic syntax errors. Do the errors you see give you some hints on what might be wrong?"}], "answers": [{"tags": [], "owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "is_accepted": true, "score": 7, "last_activity_date": 1557189732, "last_edit_date": 1557189732, "creation_date": 1557189398, "answer_id": 56014044, "question_id": 56013916, "link": "https://stackoverflow.com/questions/56013916/what-is-wrong-in-this-kotlin-null-safety-in-when/56014044#56014044", "title": "What is wrong in this kotlin null safety in when?", "body": "<p>The question marks to say that something is nullable go on the types, not the variable names.  You also were using <code>is null</code>, which is wrong because <code>null</code> is a value, not a type.  Here's your code with changes made so that it compiles and runs:</p>\n\n<pre><code>fun describe(obj: Any?): String =\n    when(obj) {\n        1           -&gt; \"one\"\n        \"hello\"     -&gt; \"greeting\"\n        is Long     -&gt; \"long\"\n        !is String  -&gt; \"not String\"\n        null        -&gt; \"null\"\n        else        -&gt; \"unknown\"\n    }\n\n\n\nfun main() {\n    println(describe(1))\n    println(describe(\"Hello\"))\n    println(describe(1000L))\n    println(describe(2))\n    println(describe(null))\n    println(describe(\"other\"))\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>one\nunknown\nlong\nnot String\nnot String\nunknown\n</code></pre>\n\n<p>Seems you want to move your check for <code>null</code> higher up so your tests make it that far for a <code>null</code> value.  As is, <code>null</code> is not a String, so you get \"not String\" for a <code>null</code> value.</p>\n"}], "owner": {"reputation": 1013, "user_id": 2761895, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/27c7b2cbdaf4444bc26fe6d7f0f782ca?s=128&d=identicon&r=PG&f=1", "display_name": "user2761895", "link": "https://stackoverflow.com/users/2761895/user2761895"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 56014044, "answer_count": 1, "score": 1, "last_activity_date": 1557189732, "creation_date": 1557188174, "question_id": 56013916, "link": "https://stackoverflow.com/questions/56013916/what-is-wrong-in-this-kotlin-null-safety-in-when", "title": "What is wrong in this kotlin null safety in when?", "body": "<p>I'm a kotlin learner day1. I got this code from <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/basic-syntax.html</a> and then modified to test null safety (<a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a>)</p>\n\n<p>I've got error every line.\nWhat is wrong in this kotlin null safety in when and how to fix it?</p>\n\n<pre><code>fun describe(obj?: Any): String =\n    when(obj?) {\n        1           -&gt; \"one\"\n        \"hello\"     -&gt; \"greeting\"\n        is Long     -&gt; \"long\"\n        !is String  -&gt; \"not String\"\n        is null     -&gt; \"null\"\n        else        -&gt; \"unknown\"\n    }\n\n\nfun main() {\n    println(describe(1))\n    println(describe(\"Hello\"))\n    println(describe(1000L))\n    println(describe(2))\n    println(describe(null))\n    println(describe(\"other\"))\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7715135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b876abc6bf285918b6933a7e15847391?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Couacault", "link": "https://stackoverflow.com/users/7715135/thomas-couacault"}, "edited": false, "score": 0, "creation_date": 1557242186, "post_id": 56025409, "comment_id": 98695144, "body": "Thank you very much for your time! However, even though I implement the androix constraint layout in my gradle app file, the constraint layout appears gray in the preview screen. Besides, seems like it is recommended to use the support constraint layout as shown in the android documentation: <a href=\"https://developer.android.com/reference/android/support/constraint/Group\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/constraint/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 7715135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b876abc6bf285918b6933a7e15847391?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Couacault", "link": "https://stackoverflow.com/users/7715135/thomas-couacault"}, "edited": false, "score": 0, "creation_date": 1557243203, "post_id": 56025409, "comment_id": 98695721, "body": "No it does not work at all, it seems like android studio does not recognize this constraint layout because my activity goes gray on the preview. I tried to reload my project several times after implementing it in gradle, it changed nothing."}], "tags": [], "owner": {"reputation": 7231, "user_id": 4370279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tjPvY.png?s=128&g=1", "display_name": "theapache64", "link": "https://stackoverflow.com/users/4370279/theapache64"}, "is_accepted": false, "score": 2, "last_activity_date": 1557241084, "creation_date": 1557241084, "answer_id": 56025409, "question_id": 56012847, "link": "https://stackoverflow.com/questions/56012847/group-visibility-with-android-constraint-layout-1-1-3-not-working/56025409#56025409", "title": "Group visibility with android constraint layout 1.1.3 not working", "body": "<p>You are importing the <code>Group</code> widget from a wrong package.</p>\n\n<p>Change</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;android.support.constraint.Group\n</code></pre>\n\n<p>To</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;androidx.constraintlayout.widget.Group\n</code></pre>\n\n<p><strong>Updated Version</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n ..............................................\n                                        &gt;\n\n    &lt;Button\n        android:id=\"@+id/button_update\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginBottom=\"32dp\"\n        android:text=\"@string/action_update\"\n        android:textSize=\"18sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Group\n        android:id=\"@+id/group\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:visibility=\"gone\"\n        app:constraint_referenced_ids=\"button_update\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 7715135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b876abc6bf285918b6933a7e15847391?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Couacault", "link": "https://stackoverflow.com/users/7715135/thomas-couacault"}, "is_accepted": true, "score": 0, "last_activity_date": 1557434259, "creation_date": 1557434259, "answer_id": 56067213, "question_id": 56012847, "link": "https://stackoverflow.com/questions/56012847/group-visibility-with-android-constraint-layout-1-1-3-not-working/56067213#56067213", "title": "Group visibility with android constraint layout 1.1.3 not working", "body": "<p>The thing is I didn't notice that when I created my android studio project, i didn't check the box \"Use androidx artifacts\" which automatically makes your project use the new androidx library. Androidx tends to replace the support library (See more details here: <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx</a>)</p>\n\n<p>So basically, I followed the steps given <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">here</a> to convert my project to androidx and now everything is working perfectly.</p>\n\n<p>Thank for your time @theapache64, now your code is working.</p>\n"}], "owner": {"reputation": 43, "user_id": 7715135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b876abc6bf285918b6933a7e15847391?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Couacault", "link": "https://stackoverflow.com/users/7715135/thomas-couacault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3074, "favorite_count": 0, "accepted_answer_id": 56067213, "answer_count": 2, "score": 3, "last_activity_date": 1614772790, "creation_date": 1557179388, "last_edit_date": 1614772790, "question_id": 56012847, "link": "https://stackoverflow.com/questions/56012847/group-visibility-with-android-constraint-layout-1-1-3-not-working", "title": "Group visibility with android constraint layout 1.1.3 not working", "body": "<p>I'm just trying to use the group view with the android constraint layout to set the visibility of several views more easily. Problem is even though I change the visibility of a group to gone or invisible it does not do anything.</p>\n<p>I'v already tried the steps of Pavan's response in this thread: <a href=\"https://stackoverflow.com/questions/44449495/toggle-visibility-of-chain-group-in-constraint-layout\">toggle visibility of chain group in constraint layout</a>.\nBut it didn't change anything for me. (I assume it's because I'm not using the beta version)</p>\n<p>Here is my dependencies app gradle file</p>\n<pre class=\"lang-json prettyprint-override\"><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:support-v4:28.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n<p>This is an extract of my XML file with the group</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n            android:text=&quot;@string/action_update&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/button_update&quot;\n            android:layout_marginBottom=&quot;32dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            android:layout_marginEnd=&quot;8dp&quot; android:layout_marginRight=&quot;8dp&quot;\n            android:layout_marginLeft=&quot;8dp&quot;\n            android:layout_marginStart=&quot;8dp&quot; app:layout_constraintStart_toStartOf=&quot;parent&quot; android:textSize=&quot;18sp&quot;/&gt;\n    \n&lt;android.support.constraint.Group android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;                             android:id=&quot;@+id/group&quot;\nandroid:visibility=&quot;gone&quot;\napp:constraint_referenced_ids=&quot;button_update&quot;/&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "function-reference"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1557178738, "post_id": 56012489, "comment_id": 98670433, "body": "An ArrayList is not an array. Why don&#39;t you just use listOf(), or mutableListOf() if your list really needs to be mutable. If you really want an ArrayList, use arrayListOf()."}], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 4, "last_activity_date": 1557179863, "creation_date": 1557179863, "answer_id": 56012917, "question_id": 56012489, "link": "https://stackoverflow.com/questions/56012489/in-kotlin-how-to-put-function-reference-in-an-array/56012917#56012917", "title": "in kotlin how to put function reference in an array", "body": "<p><strong>The first attempt fails because <code>ArrayList</code> doesn't have a constructor taking (a variable argument list of) values.</strong></p>\n\n<p>You can get pretty much the same effect by replacing <code>ArrayList</code> with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of.html\" rel=\"nofollow noreferrer\"><code>listOf()</code></a> (or, if you need mutability, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html\" rel=\"nofollow noreferrer\"><code>mutableListOf()</code></a>), as that <em>does</em> take a vararg list:</p>\n\n<pre><code>var functions = listOf&lt;(uuid: String) -&gt; IData?&gt;(\n    this::getData1, \n    this::getData2, \n    this::getData3)\n</code></pre>\n\n<p>That's perhaps the most natural solution.\u00a0 (However, <code>mutableListOf()</code> is only guaranteed to return a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"nofollow noreferrer\"><code>MutableList</code></a> implementation; it may not be an <code>ArrayList</code>.)</p>\n\n<p><strong>The second attempt fails because it's constructing an empty list.</strong></p>\n\n<p>(The <code>ArrayList</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-int-\" rel=\"nofollow noreferrer\">constructor</a> it uses takes a parameter called <code>initialCapacity</code>; it ensures that the list <em>could</em> take at least 3 elements without needing to reallocate its arrays, but its initial size is zero.)</p>\n\n<p>Perhaps the confusion is because although you say you \u2018would like to put in a function reference array\u2019, <strong>you're creating a <code>List</code>, not an <code>Array</code>.</strong></p>\n\n<p>(The <code>ArrayList</code> class is an implementation of the <code>List</code> interface which happens to use an array internally.\u00a0 This follows the Java convention of naming implementation classes as <em><code>&lt;Implementation&gt;&lt;Interface&gt;</code></em>.)</p>\n\n<p>If you need to create an actual array, you could use <code>arrayOf()</code> in the first example:</p>\n\n<pre><code>var functions = arrayOf&lt;(uuid: String) -&gt; IData?&gt;(\n    this::getData1, \n    this::getData2, \n    this::getData3)\n</code></pre>\n\n<p>Lists are probably used more widely than arrays in Kotlin, as they're more flexible.\u00a0 (You can choose between many different implementations, with different characteristics.\u00a0 They work better with generics; for example, you can create a <code>List</code> of a generic type.\u00a0 You can make them immutable.\u00a0\u00a0And of course if they're mutable, they can grow and shrink.)</p>\n\n<p>But arrays have their place too, especially if performance is important, you need to interoperate with code that uses an array, and/or the size is fixed.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 56012917, "answer_count": 1, "score": 1, "last_activity_date": 1557179863, "creation_date": 1557177039, "question_id": 56012489, "link": "https://stackoverflow.com/questions/56012489/in-kotlin-how-to-put-function-reference-in-an-array", "title": "in kotlin how to put function reference in an array", "body": "<p>Having class member function like:</p>\n\n<pre><code>private fun getData1(uuid:String): IData? {\n    ...\n}\nprivate fun getData2(uuid:String): IData? {\n    ...\n}\nprivate fun getData3(uuid:String): IData? {\n    ...\n}\n</code></pre>\n\n<p>and would like to put in a function reference array:</p>\n\n<pre><code>var funArray = ArrayList&lt;(uuid: String) -&gt; IData?&gt; (\n     this::getData1, \n     this::getData2, \n     this::getData3)\n</code></pre>\n\n<p>it does not compile:</p>\n\n<pre><code>None of the following functions can be called with the arguments \nsupplied: \npublic final fun &lt;E&gt; &lt;init&gt;(): kotlin.collections.ArrayList&lt;(uuid: String) -&gt; IData?&gt; /* = java.util.ArrayList&lt;(uuid: String) -&gt; IData?&gt; */ defined in kotlin.collections.ArrayList ...\n</code></pre>\n\n<p>if do:</p>\n\n<pre><code>var funArray: ArrayList&lt;(uuid: String) -&gt; IData?&gt; = ArrayList&lt;(uuid: String) -&gt; IData?&gt;(3)\n\nfunArray[0] = this::getData1 //&lt;== crash at here\nfunArray[1] = this::getData2\nfunArray[2] = this::getData3\n</code></pre>\n\n<p>crash with exception</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n</code></pre>\n\n<p>How to put function reference in an array?</p>\n"}, {"tags": ["android", "kotlin", "service", "android-service", "android-jobscheduler"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557174090, "post_id": 56011217, "comment_id": 98668856, "body": "See: <a href=\"https://stackoverflow.com/q/41197416/295004\">Alarmmanager not working after phone reboot</a> as WorkManager/JobScheduler won&#39;t give you what you want per: <a href=\"https://developer.android.com/guide/background?hl=en\" rel=\"nofollow noreferrer\">developer.android.com/guide/background?hl=en</a>"}, {"owner": {"reputation": 1343, "user_id": 6422820, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/61f567d3c9f4b66d2425c8999a27b74e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6422820/jason"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557174329, "post_id": 56011217, "comment_id": 98668937, "body": "I know about onBootReceive and I know I can easily persist them, but I would rather avoid this and use newer technologies. The job does not need to specifically run at that time, but it dpes however need to run within the given time, always."}, {"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557175172, "post_id": 56011217, "comment_id": 98669223, "body": "You should include what are the background settings on the app, as well as which test device/OS version. I&#39;m wondering if you are hitting the App Standby Bucket or even if the high frequency of wake ups is hitting the Doze deferment."}, {"owner": {"reputation": 1343, "user_id": 6422820, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/61f567d3c9f4b66d2425c8999a27b74e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6422820/jason"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557175838, "post_id": 56011217, "comment_id": 98669462, "body": "I do not quite understand what you mean with background settings, are you referring to the battery optimization? The device is a Samsung Galaxy S10 with Android Pie. It does, strangely, always work when I&#39;m asleep (00:00 - 08:00)"}, {"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557175917, "post_id": 56011217, "comment_id": 98669490, "body": "Yes what are the battery settings on the app. Device is plugged in and charging, so battery restrictions are relaxed. I would at least increase the period &gt;15 minutes per <a href=\"https://stackoverflow.com/a/49837688/295004\">JobScheduler not repeating job</a>"}, {"owner": {"reputation": 1343, "user_id": 6422820, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/61f567d3c9f4b66d2425c8999a27b74e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6422820/jason"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557177249, "post_id": 56011217, "comment_id": 98669938, "body": "Background activity is allowed in the background settings, though ofcourse the app is still battery optimized by default (as happens to almost any non-default app). Currently late at my timezone so I can&#39;t respond any time soon but I will try to see if 15 minutes periods does not cut out the service, thank you"}, {"owner": {"reputation": 1343, "user_id": 6422820, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/61f567d3c9f4b66d2425c8999a27b74e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6422820/jason"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1557392417, "post_id": 56011217, "comment_id": 98752262, "body": "Set it to work every 30, but even that does not always work. I guess I just have to use the AlarmManager after all.. :("}], "owner": {"reputation": 1343, "user_id": 6422820, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/61f567d3c9f4b66d2425c8999a27b74e?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6422820/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 829, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1557170733, "creation_date": 1557170733, "question_id": 56011217, "link": "https://stackoverflow.com/questions/56011217/jobscheduler-scheduled-every-10-min-does-not-always-work", "title": "JobScheduler scheduled every 10 min does not always work", "body": "<p>I am trying to schedule a notification that needs to be displayed every hour, sometimes 45 minutes, depends on various factors unrelated to this question. For testing purposes, I am running it every 10 minutes with a maximum execution latency of 1 minute. My goal is to have a service that plans notifications, and then restarts itself after 10 minutes with a maximum execution length of 1 minute. In the future, the planning service needs to retrieve something from the internet, so the JobInfo NetworkType should be set to Any. The problem with my current code, however, is that it <strong>does</strong> reschedule it every 10 minutes, <strong>but not always</strong>. It sometimes randomly doesn't show a notification for 3 hours (using the phone, internet active) and then start showing notifications again. What am I doing wrong causing it to sometimes skip firing for several hours.</p>\n\n<p><strong>Note:</strong> I would not like to use the AlarmManager, as it does not persist jobs through reboots and I'd rather use JobScheduler for the job.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Plan the notification plan service\n        scheduleJob(\n            context = this,\n            time = Calendar.getInstance(Util.TIMEZONE).timeInMillis,\n            executionTime = TimeUnit.MINUTES.toMillis(1),\n            service = PlanNotificationsService::class.java,\n            extras = PersistableBundle()\n        )\n    }\n}\n</code></pre>\n\n<p>PlanNotificationsService.kt</p>\n\n<pre><code>class PlanNotificationsService : JobService() {\n    override fun onStopJob(params: JobParameters?): Boolean {\n        log(\"Service Abruptly stopped\")\n        return true\n    }\n\n    override fun onStartJob(job: JobParameters?): Boolean {\n        log(\"Plan Notification On Start Job\")\n        GlobalScope.async {\n            val now = Calendar.getInstance(Util.TIMEZONE)\n\n            log(\"Scheduling for \" + (now.timeInMillis + TimeUnit.MINUTES.toMillis(1)))\n            log(\"Scheduling for \" +\n                \"${now.get(Calendar.HOUR_OF_DAY)}:\" +\n                \"${now.get(Calendar.MINUTE) + 10}:\" +\n                \"${now.get(Calendar.SECOND)}\")\n\n            // Schedule planning of notifications (itself)\n            Util.scheduleJob(\n                context = applicationContext,\n                time = now.timeInMillis + TimeUnit.MINUTES.toMillis(10),\n                executionTime = TimeUnit.MINUTES.toMillis(1),\n                service = PlanNotificationsService::class.java,\n                extras = PersistableBundle(),\n                persist = true\n            )\n\n            // Schedule notification\n            Util.scheduleJob(\n                context = applicationContext,\n                time = now.timeInMillis,\n                executionTime = TimeUnit.MINUTES.toMillis(1),\n                service = NotificationJobService::class.java,\n                extras = PersistableBundle().apply {\n                    putString(\"Title\", \"Test Title\")\n                    putString(\"Message\", \"Test message\")\n                }\n            )\n\n            jobFinished(job, false)\n        }\n\n        return true\n    }\n}\n</code></pre>\n\n<p>NotificationJobService</p>\n\n<pre><code>class NotificationJobService : JobService() {\n    override fun onStopJob(job: JobParameters?): Boolean = false\n\n    override fun onStartJob(job: JobParameters?): Boolean {\n        log(\"Notification On Start Job\")\n        job?.extras?.let { extras -&gt;\n            GlobalScope.async {\n                scheduleNotification(extras)\n                jobFinished(job, false)\n            }\n        }\n\n        return true\n    }\n\n    private fun scheduleNotification(bundle: PersistableBundle) {\n        log(\"Notification Creating Notification\")\n\n        try {\n            val notificationManager = applicationContext\n                .getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n            val title = bundle.getString(\"Title\")\n            val message = bundle.getString(\"Message\")\n            val icon = R.drawable.ic_launcher_background\n            // TODO COLOR &amp; DETAILS INTENT\n\n            val builder = NotificationCompat.Builder(applicationContext)\n                .apply {\n                    setSmallIcon(icon)\n                    setContentTitle(title)\n                    setContentText(message)\n                    setStyle(NotificationCompat.BigTextStyle().bigText(message))\n                    setAutoCancel(true)\n                    setDefaults(0)\n                }\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                createNotificationChannel(applicationContext)\n                builder.setChannelId(SCHEDULE_NOTIFICATION_ID)\n            }\n\n            notificationManager.notify((Math.random() * Int.MAX_VALUE).toInt(), builder.build())\n        } catch (e: Exception) {\n            log(\"Fucked Up\")\n            e.printStackTrace()\n        }\n    }\n\n    private fun createNotificationChannel(context: Context) {\n        log(\"Notification Creating Notification Channel\")\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val notificationManager = context.getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n            if (notificationManager.getNotificationChannel(SCHEDULE_NOTIFICATION_ID) != null) return\n\n            val notificationChannel = NotificationChannel(SCHEDULE_NOTIFICATION_ID, \"Schedule Notifications\", NotificationManager.IMPORTANCE_LOW)\n            notificationChannel.enableLights(true)\n            //TODO COLOR\n            notificationManager.createNotificationChannel(notificationChannel)\n        }\n    }\n}\n</code></pre>\n\n<p>Util.kt</p>\n\n<pre><code>class Util {\n    companion object {\n        val TAG = \"BackNotiTag\"\n        val SCHEDULE_NOTIFICATION_ID = \"BackgroundNotification\"\n        val TIMEZONE = TimeZone.getTimeZone(\"Europe/Amsterdam\")\n\n        fun log(message: Any) {\n            //Log.d(TAG, message.toString())\n            println(\"$TAG $message\")\n        }\n\n        fun scheduleJob(\n            context: Context,\n            time: Long,\n            executionTime: Long,\n            service: Class&lt;*&gt;,\n            extras: PersistableBundle = PersistableBundle(),\n            persist: Boolean? = null\n        ) {\n            val serviceComponent = ComponentName(context, service)\n\n            val maximumLatency = timeUntil(time)\n            log(\"Max: $maximumLatency\")\n            val builder = JobInfo.Builder((Math.random() * Int.MAX_VALUE).toInt(),\n                serviceComponent).apply {\n                setMinimumLatency(maximumLatency - executionTime)\n                setOverrideDeadline(maximumLatency)\n                setRequiredNetworkType(JobInfo.NETWORK_TYPE_ANY)\n                //setBackoffCriteria(executionTime, JobInfo.BACKOFF_POLICY_LINEAR)\n                setExtras(extras)\n            }\n\n            if (persist != null) builder.setPersisted(persist)\n\n            ContextCompat.getSystemService(context, JobScheduler::class.java)?.schedule(builder.build())\n        }\n\n        private fun timeUntil(time: Long): Long {\n            val now = Calendar.getInstance(TIMEZONE)\n            val plannedDate = Calendar.getInstance(TIMEZONE)\n            plannedDate.timeInMillis = time\n            val difference = plannedDate.timeInMillis - now.timeInMillis\n\n            return if (difference &lt; 0) 0 else difference\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://mega.nz/#!77x1XaYQ!zcRX_6eXJ50rK8vD8GsHa42ftWDsuX71uVM9FsZ62PI\" rel=\"nofollow noreferrer\">Full source</a> in case you would like to help / build it yourself</p>\n"}, {"tags": ["android", "listview", "kotlin", "android-listview", "landscape-portrait"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1557181200, "post_id": 56011154, "comment_id": 98671082, "body": "You should be calling <code>adapter.notifyDataSetChanged()</code> after modifying the list directly."}], "owner": {"reputation": 81, "user_id": 11460811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gi8QL.jpg?s=128&g=1", "display_name": "Emma Borkent", "link": "https://stackoverflow.com/users/11460811/emma-borkent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557172643, "creation_date": 1557170430, "last_edit_date": 1557172643, "question_id": 56011154, "link": "https://stackoverflow.com/questions/56011154/addition-to-list-in-landscape-mode-is-not-displayed-in-listview-but-is-in-portra", "title": "Addition to List in Landscape Mode Is Not Displayed in ListView but is in Portrait Mode", "body": "<p>In Kotlin in Android Studio I have a ListView and an addButton, when you click the button, an item is added to the list and displayed in the ListView. </p>\n\n<p>I have an onSaveInstanceState to deal with orientation changes and I have a different layout for landscape mode, so there is plenty of room for the ListView.</p>\n\n<p>I have:</p>\n\n<pre><code>var drinksToday: MutableList&lt;String&gt; = mutableListOf()\nlateinit var adapter: ArrayAdapter&lt;String&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    addButton.setOnClickListener {\n        drinksToday.add(0, \"250 ml\")\n\n        // Print to check addition to list\n        println(drinksToday.toString())\n        }\n\n    if (savedInstanceState != null) {\n        savedInstanceState.run {\n            val list = getStringArray(EXTRA_LIST)\n            if (list != null) {\n                drinksToday = list.toMutableList&lt;String&gt;()\n            }\n        }\n    }\n\n    adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, drinksToday)\n    drinksTodayList.adapter = adapter\n}\n\noverride fun onSaveInstanceState(outState: Bundle?) {\n    super.onSaveInstanceState(outState)\n\n    outState?.run {\n        putStringArray(EXTRA_LIST, drinksToday.toTypedArray())\n    }\n}\n</code></pre>\n\n<p>This works fine in portrait mode, but doesn't in landscape mode. </p>\n\n<p>In portrait mode when I click the addButton, an item is added to the list and displayed in the ListView. </p>\n\n<p>In landscape mode the item is added to the list, but is not displayed in the ListView. But when I turn back to Portrait mode, the ListView does display all the added items, even the once that where added while in landscape mode.</p>\n\n<p>I cannot figure out why in landscape mode it will not show when an item is added to the list, but when changing back to portrait mode it is showing all the added items. </p>\n\n<p>Hopefully someone can help me figure it out!</p>\n"}, {"tags": ["android", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 1894, "user_id": 9647447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xq6qD.jpg?s=128&g=1", "display_name": "Vanshaj Daga", "link": "https://stackoverflow.com/users/9647447/vanshaj-daga"}, "edited": false, "score": 2, "creation_date": 1557362491, "post_id": 56010839, "comment_id": 98742627, "body": "Can you share your Layout and onClick code"}, {"owner": {"reputation": 777, "user_id": 3318025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCeKz.jpg?s=128&g=1", "display_name": "TheAnkush", "link": "https://stackoverflow.com/users/3318025/theankush"}, "edited": false, "score": 2, "creation_date": 1557374781, "post_id": 56010839, "comment_id": 98745006, "body": "Give margin between recyclerview and bottom navigation. Also share your layout and activity code."}, {"owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 0, "creation_date": 1557404863, "post_id": 56010839, "comment_id": 98759229, "body": "I&#39;ve added layout and code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 0, "creation_date": 1557914116, "post_id": 56010839, "comment_id": 98922533, "body": "i&#39;m sure the reason is in ActivityOptions.makeSceneTransitionAnimation because if I&#39;m not mistaken it is rendering as overlay...so it will always on top of all content"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 1, "creation_date": 1557837529, "post_id": 56124289, "comment_id": 98892348, "body": "I&#39;m still getting the same effect: the card pops above the BNV before, and snaps back after."}, {"owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "reply_to_user": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 0, "creation_date": 1558072805, "post_id": 56124289, "comment_id": 98986547, "body": "@brismith try writing bottomNavigationView?.bringtoFront()  at this - fun onItemClicked(view: View, item: Item)."}, {"owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 0, "creation_date": 1558096244, "post_id": 56124289, "comment_id": 98998048, "body": "bnv.bringToFront does not affect the behavior."}], "tags": [], "owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "is_accepted": false, "score": 3, "last_activity_date": 1557815636, "creation_date": 1557815636, "answer_id": 56124289, "question_id": 56010839, "link": "https://stackoverflow.com/questions/56010839/shared-content-overlapping-bottom-navigation/56124289#56124289", "title": "Shared Content overlapping Bottom Navigation", "body": "<p>Add in recyclerView's item's CardView</p>\n\n<pre><code>app:cardMaxElevation=\"8dp\"\n</code></pre>\n\n<p>and give your BNV</p>\n\n<pre><code>app:elevation=\"16dp\" \n</code></pre>\n\n<p>give it a try, try with more difference in elevation as clicked cardview has more elevation than actual elevation</p>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 0, "creation_date": 1557931873, "post_id": 56146432, "comment_id": 98933790, "body": "I&#39;ve added clipPadding and clipChildren attributes, to no effect. Also I switched the ConstraintLayout (that&#39;s why rv&#39;s height and width were 0) to RelativeLayout, and specified rv&#39;s layout_above to bnv. I still get the same behavior.  FWIW, I&#39;ve seen other Android apps with the same effect: two of which are Zinio, and PlayerFM. I wish I weren&#39;t stuck with it."}, {"owner": {"reputation": 1567, "user_id": 6514945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398d6be564abcee477d6d7244339c9f4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjeev", "link": "https://stackoverflow.com/users/6514945/sanjeev"}, "reply_to_user": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "edited": false, "score": 0, "creation_date": 1557980002, "post_id": 56146432, "comment_id": 98949346, "body": "I am sure there&#39;s a solution to this.. I still think that rv&#39;s not accepting <code>layout_above</code>.. Let me try it out and get back to you."}], "tags": [], "owner": {"reputation": 1567, "user_id": 6514945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398d6be564abcee477d6d7244339c9f4?s=128&d=identicon&r=PG&f=1", "display_name": "sanjeev", "link": "https://stackoverflow.com/users/6514945/sanjeev"}, "is_accepted": false, "score": 1, "last_activity_date": 1557982583, "last_edit_date": 1557982583, "creation_date": 1557913891, "answer_id": 56146432, "question_id": 56010839, "link": "https://stackoverflow.com/questions/56010839/shared-content-overlapping-bottom-navigation/56146432#56146432", "title": "Shared Content overlapping Bottom Navigation", "body": "<p>Have you heard of <code>clipToPadding</code> it can add padding to the bottom views so it does not obstruct the bottom views.</p>\n\n<p>So try setting <code>clipToPadding = \"true\"</code> and check if it solves.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40953049/android-what-does-the-cliptopadding-attribute-do\">Android what does the clipToPadding Attribute do?</a></p>\n\n<p>Also your layout activity file has <code>&lt;RecyclerView&gt;</code> set to 0dp.</p>\n\n<p>Use a <code>&lt;RelativeLayout&gt;</code> outside and set <code>layout_above=\"@bnv\"</code> in  <code>&lt;RecyclerView&gt;</code> somewhat similar to this.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/content\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@+id/navigation1\"\n        android:layout_weight=\"1\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n\n            &lt;com.nxtoff.plzcome.commonutills.BottomNavigationViewPager\n                android:id=\"@+id/viewpager\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n            &lt;View\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0.5dp\"\n                android:layout_below=\"@+id/viewpager\"\n                android:background=\"#999999\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/FrameLayout&gt;\n\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/navigation1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_gravity=\"bottom\"\n        android:background=\"?android:attr/windowBackground\"\n        app:itemBackground=\"@android:color/white\"\n        app:itemIconTint=\"@drawable/nav_item_colors\"\n        app:itemTextColor=\"@drawable/nav_item_colors\"\n        app:menu=\"@menu/navigation\" /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=\"@+id/xfb_fab\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_gravity=\"bottom|center_horizontal\"\n        android:layout_margin=\"22dp\"\n        android:layout_marginBottom=\"30dp\"\n        android:background=\"@color/colorloader\"\n        android:clickable=\"true\"\n        android:src=\"@drawable/plus_fab\"\n        android:tint=\"@color/colorviolet\"\n        app:backgroundTint=\"@color/colorloader\"\n        app:elevation=\"8dp\"\n        app:fabSize=\"normal\"\n         /&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>Try out this code and let me know.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/rv\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_above=\"@id/bottomNavigationView\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginBottom=\"8dp\"\n        /&gt;\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottomNavigationView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:menu=\"@menu/navigation\"\n        android:layout_alignParentBottom=\"true\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 62941, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63ad6b60bd79aadb3492e8b7669a00b2?s=128&d=identicon&r=PG", "display_name": "brismith", "link": "https://stackoverflow.com/users/62941/brismith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1557982583, "creation_date": 1557168778, "last_edit_date": 1557405283, "question_id": 56010839, "link": "https://stackoverflow.com/questions/56010839/shared-content-overlapping-bottom-navigation", "title": "Shared Content overlapping Bottom Navigation", "body": "<p>My MainActivity's got a RecyclerView and a BottomNavigationView. Items in the RecyclerView are CardViews. </p>\n\n<p>When I click an item that's halfway obscured by the BottomNavigationView (- will call it <em>BNV</em>), it \"pops\" over the BNV, then slides up to become the header in LaunchedActivity.</p>\n\n<p>When backing out of LaunchedActivity, it slides down, over the BNV, then \"snaps\" back into place:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H9MDh.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/H9MDh.gif\" alt=\"enter image description here\"></a></p>\n\n<p>How can I either:</p>\n\n<ol>\n<li>Have the shared content appear to slide from underneath the BNV, \nor failing that,</li>\n<li>Have the shared content start off invisible, and fade as it slides to the header</li>\n</ol>\n\n<p>I've tried playing with the elevation of the BNV, I've tried setting sharedElementEnterTransition to Fade(), I've tried specifying excludeTarget with BottomNavigation; I can't seem to make things work how I'd like.</p>\n\n<p>Here's the layout for MainActivity:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n    &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/rv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/bottomNavigationView\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            /&gt;\n    &lt;android.support.design.widget.BottomNavigationView\n            android:id=\"@+id/bottomNavigationView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:menu=\"@menu/navigation\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n           /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Activity_launched is here:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".LaunchedActivity\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"?attr/colorPrimary\"\n                app:popupTheme=\"@style/AppTheme.PopupOverlay\"/&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;include layout=\"@layout/content_launched\"/&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            android:layout_margin=\"@dimen/fab_margin\"\n            app:srcCompat=\"@android:drawable/ic_dialog_email\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>And content_launched: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n        tools:showIn=\"@layout/activity_launched\"\n        tools:context=\".LaunchedActivity\"&gt;\n\n    &lt;LinearLayout\n            android:id=\"@+id/launched_header\"\n            android:transitionName=\"header\" android:layout_width=\"0dp\" android:layout_height=\"wrap_content\"\n                  app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n                  android:orientation=\"vertical\" app:layout_constraintEnd_toEndOf=\"parent\"\n                  android:background=\"@android:color/holo_blue_bright\"\n                  android:layout_marginEnd=\"8dp\"&gt;\n        &lt;TextView\n                android:text=\"TextView\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:id=\"@+id/launched_title\"/&gt;\n        &lt;TextView\n                android:text=\"TextView\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:id=\"@+id/launched_text\"/&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Items in the RecyclerView call MainActivity.onItemClicked:</p>\n\n<pre><code>   fun onItemClicked(view: View, item: Item) {\n        val intent = Intent(applicationContext, LaunchedActivity::class.java)\n        intent.putExtra(\"ITEM\", item)\n        val options = ActivityOptions.makeSceneTransitionAnimation(\n            this,\n            android.util.Pair&lt;View, String&gt;(view, \"header\")\n        )\n        startActivity(intent, options.toBundle())\n    }\n</code></pre>\n\n<p>This is the array that's in the recycler:</p>\n\n<pre><code>data class Item(val title: String, val text: String): Serializable\n\nval itemList = listOf(Item(\"One\", \"1\"), Item(\"Two\", \"2\"),\n        Item(\"Three\", \"3\"), Item(\"Four\", \"4\"), Item(\"Five\", \"5\"))\n</code></pre>\n\n<p>Lastly, this is from LaunchedActivity.onCreate:</p>\n\n<pre><code>   with(window) {\n        requestFeature(Window.FEATURE_CONTENT_TRANSITIONS)\n        requestFeature(Window.FEATURE_ACTIVITY_TRANSITIONS)\n        sharedElementEnterTransition = AutoTransition()\n        sharedElementExitTransition = AutoTransition()\n    }\n</code></pre>\n\n<p>LaunchedActivity.onCreate pulls the item out of the intent and sets launched_title and launched_text.</p>\n"}, {"tags": ["android", "kotlin", "architecture"], "answers": [{"tags": [], "owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1557169356, "creation_date": 1557169356, "answer_id": 56010954, "question_id": 56010734, "link": "https://stackoverflow.com/questions/56010734/how-to-safely-reuse-the-same-object-variable-in-a-viewmodel-working-on-a-simple/56010954#56010954", "title": "How to safely reuse the same object variable in a Viewmodel (working on a simple timer app)?", "body": "<p>Can you please share how are you passing the data to your views?\nAlso, seems that you have another variable for this task </p>\n\n<pre><code>model.timerStatus.value = StateTimer.INITIALIZED\n</code></pre>\n\n<p>I guess this other line is affecting the way you show the information since you are initializing again the same instance. </p>\n"}], "owner": {"reputation": 11, "user_id": 11383795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea80af889c2739ffa388c22e47fd4af6?s=128&d=identicon&r=PG&f=1", "display_name": "rdz999", "link": "https://stackoverflow.com/users/11383795/rdz999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557169356, "creation_date": 1557168251, "question_id": 56010734, "link": "https://stackoverflow.com/questions/56010734/how-to-safely-reuse-the-same-object-variable-in-a-viewmodel-working-on-a-simple", "title": "How to safely reuse the same object variable in a Viewmodel (working on a simple timer app)?", "body": "<p>I am working on a self devised coding problem in Android where I'm building a simple timer app that allows a user to count down a certain amount of time.</p>\n\n<p>I have one activity that shows the timer <code>MainActivity</code> (the timer can also be started from this activity) and one activity that allows the user to select a countdown time and submit it (<code>SelectActivity</code>).</p>\n\n<p>I use a <code>ViewModel</code> that holds a customized <code>CountDownTimer</code> class. A user can at any time go back to the <code>SelectActivity</code> and submit a new time. In my code I explicitly set the timer to <code>null</code> as you can see below (not the best code but I hope the idea comes across). I added <code>model.timer = null</code> afterwards.</p>\n\n<p>The problem: If a user submits a new time, the <code>MainActivity</code> now shows 2 counters counting down in rapid succession (the remaining time is shown in one View).</p>\n\n<p>My assumption was that by setting the timer to null I would get rid of the old timer. Is this assumption wrong? Am I approaching this problem entirely wrong?</p>\n\n<pre><code>    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        // Check which request we're responding to\n        if (requestCode == 1) {\n            // Make sure the request was successful\n            model.timer = null\n            model.timer = MyTimer(data?.getLongExtra(\"Message\",11) ?: 0, 10, true).apply {\n                setListener(model.timerListener)\n            }\n            model.timerStatus.value = StateTimer.INITIALIZED\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-tv", "android-sharing"], "answers": [{"comments": [{"owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "edited": false, "score": 0, "creation_date": 1557173672, "post_id": 56011062, "comment_id": 98668709, "body": "Thanks Jose. I understand if I get &quot;No app can perform this action&quot; but this Bluetooth dialogue is strange to me."}, {"owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "reply_to_user": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "edited": false, "score": 1, "creation_date": 1557182854, "post_id": 56011062, "comment_id": 98671443, "body": "I am reading more since I am curious and I found some news related to Google disabling the feature of sharing photos.  <a href=\"https://www.theverge.com/2019/3/4/18250552/google-disables-android-tv-photo-sharing-account-privacy-issue\" rel=\"nofollow noreferrer\">theverge.com/2019/3/4/18250552/&hellip;</a>  [original weet ](<a href=\"https://twitter.com/wothadei/status/1102089147596992512\" rel=\"nofollow noreferrer\">twitter.com/wothadei/status/1102089147596992512</a> )  this is the tweet which started everything, there might be some changes that are going on on the platform if I find something useful I will share it here."}, {"owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "edited": false, "score": 0, "creation_date": 1557246213, "post_id": 56011062, "comment_id": 98697343, "body": "Wow, that&#39;s interesting. Thanks for investigation. Anyways, my team decided to disable the feature yesterday due to some privacy reasons. It might be a bug on Emulator, I had not had time to test it on an STB or Android TV so far."}], "tags": [], "owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "is_accepted": true, "score": 0, "last_activity_date": 1557169949, "creation_date": 1557169949, "answer_id": 56011062, "question_id": 56010521, "link": "https://stackoverflow.com/questions/56010521/share-uri-text-on-android-tv-displays-turn-on-bluetooth-dialog/56011062#56011062", "title": "Share URI/Text on Android TV displays Turn on Bluetooth Dialog", "body": "<p>Depending on the type of URI you want to share with other apps you might have to search into their developer's sites, given that an application should have intent filters accepting data from outside apps.</p>\n\n<p>Let's out the same scenario for your app, if you develop your application to do not receive any data from outside your app the </p>\n\n<pre><code>Intent.createChooser \n</code></pre>\n\n<p>will never show your app in the options to share.</p>\n\n<p><a href=\"https://developer.android.com/guide/components/intents-filters.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/intents-filters.html</a></p>\n"}], "owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 56011062, "answer_count": 1, "score": 0, "last_activity_date": 1557169949, "creation_date": 1557167124, "question_id": 56010521, "link": "https://stackoverflow.com/questions/56010521/share-uri-text-on-android-tv-displays-turn-on-bluetooth-dialog", "title": "Share URI/Text on Android TV displays Turn on Bluetooth Dialog", "body": "<p>I want to share an image with other apps in my Android <strong>TV</strong> application. I upload the image when the user clicks on a button and I want to share its URL (as text) or URI. So, this is my code:</p>\n\n<pre><code>val bitmap = ......\nbtnAccept.setOnClickListener {\n            val userId = Storage.getInstance(playerView.context).getUserId()\n            vm.storeImageInDatabase(userId, bitmap, ::onImageUploadedSuccessfully)\n        }\n\nprivate fun onImageUploadedSuccessfully(url: String) {\n        val sendIntent: Intent = Intent().apply {\n            action = Intent.ACTION_SEND\n            putExtra(Intent.EXTRA_TEXT, url)\n            type = \"text/plain\"\n        }\n        startActivity(Intent.createChooser(sendIntent, \"Share\"))\n    }\n</code></pre>\n\n<p>I have even changed <code>onImageUploadedSuccessfully()</code> to the following method in order to share the URI.</p>\n\n<pre><code>private fun onImageUploadedSuccessfully(url: String) {\n        val sendIntent: Intent = Intent().apply {\n            action = Intent.ACTION_SEND\n            putExtra(Intent.EXTRA_STREAM, Uri.parse(url))\n            type = \"image/jpg\"\n        }\n        startActivity(Intent.createChooser(sendIntent, \"Share\"))\n    }\n</code></pre>\n\n<p>However, the result is the same. Following Dialog displays and ask me to enable the Bluetooth. I click on <code>TURN ON</code> button but nothing happens. This dialogue displays again and again whenever my upload is successful. Therefore, I am unable to share anything.</p>\n\n<p>Any idea if sharing on TV app is different than the mobile app?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rcxu0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rcxu0.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "for-loop", "arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 6291061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H6705.png?s=128&g=1", "display_name": "william xyz", "link": "https://stackoverflow.com/users/6291061/william-xyz"}, "is_accepted": false, "score": -1, "last_activity_date": 1557167978, "last_edit_date": 1557167978, "creation_date": 1557167492, "answer_id": 56010592, "question_id": 56010094, "link": "https://stackoverflow.com/questions/56010094/how-to-show-content-from-different-arraylists/56010592#56010592", "title": "How to show content from different ArrayLists", "body": "<p>Couldn't test here (I'm at work right now), but I had a similar issue in the past and I solved this by adding this to my fragment pager adapter:</p>\n\n<pre><code>override fun getItemPosition(`object`: Any): Int {\n    return POSITION_NONE\n}\n</code></pre>\n\n<p>edit: kotlin version</p>\n"}, {"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557177941, "post_id": 56011462, "comment_id": 98670168, "body": "This won&#39;t work because my adapter will be reused several times, where each list will have a different amount of items."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557178489, "post_id": 56011462, "comment_id": 98670356, "body": "What about the code in the <code>for</code> loop? What needs to change in there?"}, {"owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557184227, "post_id": 56011462, "comment_id": 98671677, "body": "Firstly, if you are using a TabLayout, you are handling with two different adapters,  1 adapter for the tabs which I can&#39; see in here,  2 adapter for the viewPager that I can&#39;t see here.  For the for loop basically, you are populating the same fragment several times in the same &quot;title&quot;   Take a look at this implementation (<a href=\"https://medium.com/@Abdulkadir98/android-sliding-tabs-with-viewpager-851f9c996cb5\" rel=\"nofollow noreferrer\">medium.com/@Abdulkadir98/&hellip;</a>)"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557265672, "post_id": 56011462, "comment_id": 98705278, "body": "That implementation means having to create a new adapter for each set of data that I have, which is not efficient. View the <b>Previously used code</b> in my question. Isn&#39;t there an easier away of just simply using a <code>for</code> loop to show the items in both for my <code>ArrayList</code>s?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557343322, "post_id": 56011462, "comment_id": 98736969, "body": "Why use <code>switch</code> case instead of <code>addFragment</code>?"}, {"owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557356074, "post_id": 56011462, "comment_id": 98741411, "body": "I understand you want to do something efficient but I would suggest you to implement first the two adapters and from there create more abstract and generic objects, you can use the layout inspector from Tools&gt;&gt;layout inspector to check which views are you rendering in the screen."}, {"owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557356156, "post_id": 56011462, "comment_id": 98741431, "body": "You use when since you are creating different views for the fragments"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1557356310, "post_id": 56011462, "comment_id": 98741465, "body": "I would need to see a code suggestion, where to implement those adapters. Please modify your answer to include this."}], "tags": [], "owner": {"reputation": 14, "user_id": 5879587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m2BFre_6e2I/AAAAAAAAAAI/AAAAAAAAZJo/qFljSO6VI0o/photo.jpg?sz=128", "display_name": "Jos&#233; L Crisostomo S&#225;nchez", "link": "https://stackoverflow.com/users/5879587/jos%c3%a9-l-crisostomo-s%c3%a1nchez"}, "is_accepted": false, "score": -1, "last_activity_date": 1557179829, "last_edit_date": 1557179829, "creation_date": 1557172015, "answer_id": 56011462, "question_id": 56010094, "link": "https://stackoverflow.com/questions/56010094/how-to-show-content-from-different-arraylists/56011462#56011462", "title": "How to show content from different ArrayLists", "body": "<p>You have to make some changes.</p>\n\n<pre><code>// Returns the fragment to display for that page\nwhen (position) {\n  0 // tab # 0 - This will show FirstFragment\n  -&gt; return addFragment(\"title 1\", MyDialog.createInstance(mTitleCollection[position]))\n\n  1 // Tab #1 - This will show SecondFragment\n  -&gt; return addFragment(\"title2\", MyDialog.createInstance(mTitleCollection[position]))\n\n  2 // Tab # 2 - This will show ThirdFragment\n  -&gt; return addFragment(\"title 3\", MyDialog.createInstance(mTitleCollection[position]))\n\n  else -&gt; return null\n}\n</code></pre>\n\n<p>To avoid confusion I would handle all the logic in the adapter, passing the fragmentManager and the lists in the constructor, then you can access them locally inside the class.</p>\n\n<pre><code>MyDialogAdapter(fm,mList1,MList2)\n</code></pre>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1557247512, "creation_date": 1557165051, "last_edit_date": 1557247512, "question_id": 56010094, "link": "https://stackoverflow.com/questions/56010094/how-to-show-content-from-different-arraylists", "title": "How to show content from different ArrayLists", "body": "<p>I'm trying to show different content for different tabs in my <code>DialogFragment</code>, but for some reason the content text keeps repating the first item regardless of the tab that was selected. The tab names are appearing corretly as expected though.  I believe the issue lies in the <code>DialogFragment</code> class, within the <code>for</code> loop around <code>createInstance</code>, but I don't know what needs to change in that area.</p>\n\n<p>What can I use instead of <code>id</code> in <code>myListDescriptions[id]</code>?</p>\n\n<pre><code>for (item in myListTitles) {\n    adapter.addFragment(id, FragmentDialogContent.createInstance(myListDescriptions[id]))\n}\n</code></pre>\n\n<p><strong>Expected result</strong></p>\n\n<ul>\n<li><strong>Tab A</strong> with <strong>Description A</strong></li>\n<li><strong>Tab B</strong> with <strong>Description B</strong></li>\n<li><strong>Tab C</strong> with <strong>Description C</strong></li>\n</ul>\n\n<p><strong>Current result</strong></p>\n\n<ul>\n<li>All tabs show <strong>Description A</strong></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NHpjj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NHpjj.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PyrYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PyrYe.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zRnPZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zRnPZ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Item class</strong></p>\n\n<pre><code>data class Item (val myDialogTitle: String,\n                 val myDialogDescription: String)\n</code></pre>\n\n<p><strong>Adapter class</strong></p>\n\n<pre><code>class MyDialogAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n    private var mTitleCollection: MutableList&lt;String&gt; = ArrayList()\n    private var mFragmentCollection: MutableList&lt;Fragment&gt; = ArrayList()\n\n    fun addFragment(title: String, fragment: Fragment) {\n        mTitleCollection.add(title)\n        mFragmentCollection.add(fragment)\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return mTitleCollection[position]\n    }\n\n    override fun getItem(position: Int): Fragment {\n        return mFragmentCollection[position]\n    }\n\n    override fun getCount(): Int {\n        return mFragmentCollection.size\n    }\n}\n</code></pre>\n\n<p><strong>DialogFragment class</strong></p>\n\n<pre><code>class FragmentDialogContent(val myList: ArrayList&lt;Item&gt;) : DialogFragment() {    \n    private var mText = \"\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return customView\n    }\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        val b = AlertDialog.Builder(activity)\n                .setTitle(\"Dialog Title\")\n                .setPositiveButton(getString(android.R.string.ok)) { dialog, _ -&gt; dialog.dismiss() }\n\n        val adapter = MyDialogAdapter(childFragmentManager)\n        for (item in myListTitles) {\n            adapter.addFragment(id, FragmentDialogContent.createInstance(myListDescriptions[id]))\n        }\n\n        b.setView(customView)\n        return b.create()\n    }\n\n    companion object {\n        fun createInstance(txt: String): FragmentDialogContent {\n            val fragment = FragmentDialogContent()\n            fragment.mText = txt\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Fragment class</strong></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    private lateinit var mRecyclerView: RecyclerView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_rv, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        val v = view\n\n        mRecyclerView = v!!.findViewById&lt;RecyclerView&gt;(R.id.my_recyclerview)\n\n        mRecyclerView.layoutManager = LinearLayoutManager(activity)\n\n        val myList = ArrayList&lt;Item&gt;()\n\n        val myListTitles = ArrayList&lt;String&gt;()\n        myListTitles.add(\"Tab A\")\n        myListTitles.add(\"Tab B\")\n        myListTitles.add(\"Tab C\")\n\n        val myListDescriptions = ArrayList&lt;String&gt;()\n        myListDescriptions.add(\"Description A\")\n        myListDescriptions.add(\"Description B\")\n        myListDescriptions.add(\"Description C\")\n\n\n        val mAdapter = MyAdapter(myList, childFragmentManager)\n\n        mRecyclerView.adapter = mAdapter\n\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n</code></pre>\n\n<p><strong>Previously used code</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dQLjK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dQLjK.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "retrofit", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 0, "last_activity_date": 1557163852, "last_edit_date": 1557163852, "creation_date": 1557163521, "answer_id": 56009797, "question_id": 56009718, "link": "https://stackoverflow.com/questions/56009718/kotlin-coroutine-returning-after-response-await/56009797#56009797", "title": "Kotlin Coroutine returning after response.await()", "body": "<p>Switch the <code>Dispatchers.Main</code> to <code>Dispatchers.IO</code> . You can't make that request on the main thread . \nThe coroutines require a coroutine context in order to know in what thread they are going to run . For that , the <code>Dispatchers</code> class offer you some options . Currently you are making the request in the <code>Dispatchers.Main</code> which you cannot do because fetching data from the API , requires another thread . IO is the right thread for network calls .</p>\n\n<p><strong>Note :</strong></p>\n\n<p>Also please check : Internet permission, Internet connection . </p>\n"}], "owner": {"reputation": 5, "user_id": 10604878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f4334b1bfb63d9b21ad98a88ffa0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp", "link": "https://stackoverflow.com/users/10604878/philipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 56009797, "answer_count": 1, "score": 0, "last_activity_date": 1557163852, "creation_date": 1557163144, "question_id": 56009718, "link": "https://stackoverflow.com/questions/56009718/kotlin-coroutine-returning-after-response-await", "title": "Kotlin Coroutine returning after response.await()", "body": "<p>I am trying to make an android app connecting to api, and for that I am using Kotlin Coroutines and Retrofit. I was following this tutorial (<a href=\"https://android.jlelse.eu/android-networking-in-2019-retrofit-with-kotlins-coroutines-aefe82c4d777\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/android-networking-in-2019-retrofit-with-kotlins-coroutines-aefe82c4d777</a>) trying to setup my own api, but I stumbled on a problem. I can't get any data from api because I can't process response.</p>\n\n<p>I don't know much about coroutines, so I don't understand whats the problem here. If I run debug and go line by line it is working perfectly each time, but if I run the app, it only prints TestPoint1. Also it doesn't throw any error and response is always 200 OK. I have tried to combine </p>\n\n<pre><code>val standings = service.getStandings()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>val response = standings.await()\n</code></pre>\n\n<p>into one line, after which it doesn't work on debug either. It continues on code after launched coroutine.</p>\n\n<pre><code>val service = ApiFactory.footballApi\n\nGlobalScope.launch(Dispatchers.Main) {\n    val standings = service.getStandings()\n    try {\n        Log.d(\"TAG\", \"TestPoint1\")\n        val response = standings.await()\n        Log.d(\"TAG\", \"TestPoint2\")\n        if(response.isSuccessful){\n            //store data\n        }else{\n            Log.d(\"MainActivity \",response.errorBody().toString())\n        }\n    }catch (e: Exception){\n        Log.d(\"TAG\", \"Error\")\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 1860130, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/847dc1cc346e1e7150c0cb924c836edc?s=128&d=identicon&r=PG", "display_name": "bernardo.g", "link": "https://stackoverflow.com/users/1860130/bernardo-g"}, "edited": false, "score": 0, "creation_date": 1557169808, "post_id": 56010749, "comment_id": 98667246, "body": "My mental model of coroutines is still quite muddy, I&#39;m sorry, @Joffrey. What is the advantage I get if I simply write &#39;suspend&#39; in the declaration of a CPU-bound function and call it inside a <code>launch(Dispatchers.Unconfined)</code>? Is it any different than doing the same to an IO-bound function?"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 427, "user_id": 1860130, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/847dc1cc346e1e7150c0cb924c836edc?s=128&d=identicon&r=PG", "display_name": "bernardo.g", "link": "https://stackoverflow.com/users/1860130/bernardo-g"}, "edited": false, "score": 1, "creation_date": 1557222392, "post_id": 56010749, "comment_id": 98683455, "body": "@bernardo.g I&#39;m not an expert of the <code>Unconfined</code> dispatcher, but it is discouraged unless you have a very specific use case. AFAIU, it makes the coroutine start in the current thread until the first suspension point, and then resumes in a possibly different thread depending on the called suspending function. This means that the beginning of your coroutine is guaranteed to execute right away."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 427, "user_id": 1860130, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/847dc1cc346e1e7150c0cb924c836edc?s=128&d=identicon&r=PG", "display_name": "bernardo.g", "link": "https://stackoverflow.com/users/1860130/bernardo-g"}, "edited": false, "score": 1, "creation_date": 1557222441, "post_id": 56010749, "comment_id": 98683480, "body": "@bernardo.g However, if the first thing you do is calling your CPU-bound suspending function, this is a suspension point, and I imagine your function is likely to be executed in another thread, but I don&#39;t know enough to be sure of that. So IMO, I don&#39;t think there is any &quot;advantage&quot; in doing what you described here, and I don&#39;t think there is a difference with doing this with an IO bound functoin, other than the fact that the IO bound function might block the thread it&#39;s called on."}], "tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 2, "last_activity_date": 1557221587, "last_edit_date": 1557221587, "creation_date": 1557168363, "answer_id": 56010749, "question_id": 56009668, "link": "https://stackoverflow.com/questions/56009668/suspending-io-bound-and-cpu-bound-functions-in-kotlins-coroutines/56010749#56010749", "title": "Suspending IO-bound and CPU-bound functions in Kotlin&#39;s coroutines", "body": "<blockquote>\n  <p>So, does executing it inside a coroutine NOT give me the advantage of suspending its execution?</p>\n</blockquote>\n\n<p>I am not sure I understand what you mean by that, but calling a suspending function will suspend the calling coroutine anyway, whatever dispatcher you choose, and that doesn't depend on what's inside the function as far as I know.</p>\n\n<p>However, please note that calling a <em>blocking</em> function from inside a coroutine will make this coroutine block the thread executing it, there is no magic here. That's why blocking operations should be avoided inside coroutines.</p>\n\n<blockquote>\n  <p>The only (valuable) advantage coroutines give me when it comes to CPU-bound functions is being able to choose the thread (or pool of threads) that will be blocked while executing the function, am I correct?</p>\n</blockquote>\n\n<p>Using <code>Dispachers.IO</code> or <code>Dispatchers.Default</code> only has the effect of choosing a different pool of threads, yes. </p>\n\n<p>In case of <code>IO</code>, the pool will spawn as many threads as necessary, because they can all be \"blocked on I/O\".</p>\n\n<p>In case of <code>Default</code>, only a number of threads proportional to the number of cores will ever be created, because there would be no point for CPU-bound tasks to create more threads than cores (if all the cores are busy, then context switching can only degrade the overall performance).</p>\n"}, {"tags": [], "owner": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "is_accepted": false, "score": 2, "last_activity_date": 1557177111, "creation_date": 1557177111, "answer_id": 56012503, "question_id": 56009668, "link": "https://stackoverflow.com/questions/56009668/suspending-io-bound-and-cpu-bound-functions-in-kotlins-coroutines/56012503#56012503", "title": "Suspending IO-bound and CPU-bound functions in Kotlin&#39;s coroutines", "body": "<p>suspend functions do not automatically make the function as not blocking the thread, like in the following case as it would still block the calling thread ( dispatcher associated with the scope used to launch the coroutine)</p>\n\n<pre><code>suspend fun findBigPrime(): BigInteger = \n    BigInteger.probablePrime(4096, Random())\n</code></pre>\n\n<p>suspend functions can be made into a non-blocking thread function by using withContext like the following,</p>\n\n<pre><code>suspend fun findBigPrime(): BigInteger =\n    withContext(Dispatchers.Default) {\n        BigInteger.probablePrime(4096, Random())\n    }\n</code></pre>\n\n<p>This causes coroutine launched from main/caller thread to be blocking but not the thread itself to be blocking.</p>\n\n<p><a href=\"https://medium.com/@elizarov/blocking-threads-suspending-coroutines-d33e11bf4761\" rel=\"nofollow noreferrer\">https://medium.com/@elizarov/blocking-threads-suspending-coroutines-d33e11bf4761</a></p>\n"}], "owner": {"reputation": 427, "user_id": 1860130, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/847dc1cc346e1e7150c0cb924c836edc?s=128&d=identicon&r=PG", "display_name": "bernardo.g", "link": "https://stackoverflow.com/users/1860130/bernardo-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1557221587, "creation_date": 1557162871, "question_id": 56009668, "link": "https://stackoverflow.com/questions/56009668/suspending-io-bound-and-cpu-bound-functions-in-kotlins-coroutines", "title": "Suspending IO-bound and CPU-bound functions in Kotlin&#39;s coroutines", "body": "<p>Executing an IO-bound function (say, requesting data from a backend) in a coroutine gives me the advantage of suspending it's execution until the result of the request becomes available, right? However, a CPU-bound function (parsing a huge text file, for example) doesn't 'wait' for anything, it just does a lot of work. So, does executing it inside a coroutine NOT give me the advantage of suspending its execution? The only (valuable) advantage coroutines give me when it comes to CPU-bound functions is being able to choose the thread (or pool of threads) that will be blocked while executing the function, am I correct?</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "android-framelayout"], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "is_accepted": true, "score": 0, "last_activity_date": 1557163809, "creation_date": 1557163809, "answer_id": 56009850, "question_id": 56009566, "link": "https://stackoverflow.com/questions/56009566/kotlin-display-fragment-inside-dialogfragment-with-framelayout/56009850#56009850", "title": "Kotlin Display Fragment inside DialogFragment with FrameLayout", "body": "<p>To solve the problem i change:</p>\n\n<pre><code>navigationDelegate = NavigationDelegate(fragmentManager!!, fragmentContainer.id)\n</code></pre>\n\n<p>into</p>\n\n<pre><code>navigationDelegate = NavigationDelegate(this.childFragmentManager, fragmentContainer.id)\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 56009850, "answer_count": 1, "score": -1, "last_activity_date": 1557163809, "creation_date": 1557162415, "last_edit_date": 1557162794, "question_id": 56009566, "link": "https://stackoverflow.com/questions/56009566/kotlin-display-fragment-inside-dialogfragment-with-framelayout", "title": "Kotlin Display Fragment inside DialogFragment with FrameLayout", "body": "<p>Im creating a DialogFragment but inside that Fragment there's a <strong>FrameLayout</strong> that is gonna change between fragments dynamically.</p>\n\n<p>To have a better control over all the fragments i create an instance class to handle the fragments named <strong>NavigationDelegate</strong></p>\n\n<pre><code>class NavigationDelegate(private val fragmentManager: FragmentManager, private val containerId: Int) {\n    init {\n        fragmentManager.addOnBackStackChangedListener {\n            val currentFragment = fragmentManager.findFragmentById(containerId)\n            currentFragment?.userVisibleHint = true\n        }\n    }\n\n    fun navigateTo(to: Fragment, addToBackStack: Boolean = true){\n        val transaction = fragmentManager.beginTransaction().replace(containerId, to)\n        if(addToBackStack) transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun navigate(from: Fragment? = null, to: Fragment, addToBackStack: Boolean = true) {\n        from?.let {\n            from.userVisibleHint = false\n            val transaction = fragmentManager.beginTransaction().replace(containerId, to)\n            if(addToBackStack) transaction.addToBackStack(null)\n            transaction.commit()\n        }.let {\n            val transaction = fragmentManager.beginTransaction().add(containerId, to)\n            if(addToBackStack) transaction.addToBackStack(null)\n            transaction.commit()\n        }\n    }\n}\n</code></pre>\n\n<p>This is the Section where i call the DialogFragment to be created.</p>\n\n<pre><code>val purchase = inputFragmentView!!.findViewById&lt;MaterialButton&gt;(R.id.purchaseButton)\n        purchase.setOnClickListener {\n            val paymentSteps: PaymentStepsFragment?\n            paymentSteps = PaymentStepsFragment()\n                paymentSteps.isCancelable = false\n                if (!paymentSteps.isVisible) paymentSteps.show(fragmentManager, \"paymentSteps\")\n        }\n</code></pre>\n\n<p>And here is the <strong>PaymentStepsFragment</strong></p>\n\n<pre><code>class PaymentStepsFragment : DialogFragment() {\n\n    private var viewer: View? = null\n    lateinit var fragmentContainer: FrameLayout\n    lateinit var navigationDelegate: NavigationDelegate\n\n    override fun getTheme(): Int {\n        return R.style.SlideUpDownDialog\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        when {\n            viewer != null -&gt; (viewer!!.parent as ViewGroup).removeView(viewer)\n        }\n        viewer = inflater.inflate(R.layout.fragment_steps_payment, container, false)\n\n        dialog?.window?.setLayout(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n        return viewer\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        val imageStep = view.imageSteps\n        imageStep.setSteps(R.drawable.ic_wallet_step_1, R.drawable.ic_deliver_step_2, R.drawable.ic_review_step_3)\n        imageStep.scaleUp = 2.0f\n        imageStep.animationDuration = 500\n        view.next.setOnClickListener {\n            imageStep.next()\n        }\n        view.back.setOnClickListener {\n            imageStep.previous()\n        }\n        fragmentContainer = view.framePayment\n        navigationDelegate = NavigationDelegate(fragmentManager!!, fragmentContainer.id)\n        navigate(to = PaymentFragment(), addToBackStack = false)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        val decorView = dialog.window.decorView\n        val uiOptions = View.SYSTEM_UI_FLAG_FULLSCREEN or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n        decorView.systemUiVisibility = uiOptions\n    }\n\n    private fun navigate(from: Fragment? = null, to: Fragment, addToBackStack: Boolean = true) {\n        from?.let {\n            navigationDelegate.navigate(from, to, addToBackStack)\n        }.let {\n            navigationDelegate.navigateTo(to, addToBackStack)\n        }\n    }\n}\n</code></pre>\n\n<p>and when i display the DialogFragment i got this error message:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: No view found for id 0x7f08008f (ni.devotion.hisabapp:id/framePayment) for fragment PaymentFragment{7b58f52 #3 id=0x7f08008f}</p>\n</blockquote>\n\n<p>but the view exists in the layout, please anyone know how to solve this issue...</p>\n\n<pre><code>&lt;FrameLayout\n            android:id=\"@+id/framePayment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"300dp\"/&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1773, "user_id": 374222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38a95f07d316ba88ee3d01ce77d57304?s=128&d=identicon&r=PG", "display_name": "FunkSoulBrother", "link": "https://stackoverflow.com/users/374222/funksoulbrother"}, "edited": false, "score": 0, "creation_date": 1557163787, "post_id": 56009098, "comment_id": 98665001, "body": "It looks like a Keypair (Private key and a public key) was created but the code requires a SecretKey , which is a different type of key. Can you add the code that creates the key in the KeyStore?"}, {"owner": {"reputation": 1, "user_id": 11460546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqWnhN5_Yzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzaQHLgxp6WfPfOru0j5OITTee3A/mo/photo.jpg?sz=128", "display_name": "Marco Campos", "link": "https://stackoverflow.com/users/11460546/marco-campos"}, "reply_to_user": {"reputation": 1773, "user_id": 374222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38a95f07d316ba88ee3d01ce77d57304?s=128&d=identicon&r=PG", "display_name": "FunkSoulBrother", "link": "https://stackoverflow.com/users/374222/funksoulbrother"}, "edited": false, "score": 0, "creation_date": 1557168546, "post_id": 56009098, "comment_id": 98666800, "body": "I added pictures in the question."}, {"owner": {"reputation": 681, "user_id": 4575505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204940618347955/picture?type=large", "display_name": "Thecave3", "link": "https://stackoverflow.com/users/4575505/thecave3"}, "edited": false, "score": 0, "creation_date": 1557170284, "post_id": 56009098, "comment_id": 98667427, "body": "Please delete the pictures and copy and paste the code and the stacktrace"}], "answers": [{"tags": [], "owner": {"reputation": 1773, "user_id": 374222, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38a95f07d316ba88ee3d01ce77d57304?s=128&d=identicon&r=PG", "display_name": "FunkSoulBrother", "link": "https://stackoverflow.com/users/374222/funksoulbrother"}, "is_accepted": false, "score": 0, "last_activity_date": 1557209620, "creation_date": 1557209620, "answer_id": 56016525, "question_id": 56009098, "link": "https://stackoverflow.com/questions/56009098/java-security-invalidkeyexception/56016525#56016525", "title": "java.security.InvalidKeyException", "body": "<p>You should test the key generation when it's done like so:</p>\n\n<pre><code>val keyGen = KeyGenerator.getInstance(\"AES\")\nkeyGen.init(128) \nval secretKey = keyGen.generateKey()\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 1, "user_id": 11460546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BqWnhN5_Yzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzaQHLgxp6WfPfOru0j5OITTee3A/mo/photo.jpg?sz=128", "display_name": "Marco Campos", "link": "https://stackoverflow.com/users/11460546/marco-campos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557209620, "creation_date": 1557160148, "last_edit_date": 1557171800, "question_id": 56009098, "link": "https://stackoverflow.com/questions/56009098/java-security-invalidkeyexception", "title": "java.security.InvalidKeyException", "body": "<p>I'm having trouble that only happens when I'm going to generate signed apk, but when I'm running directly from my Android Studio, everything works normally.</p>\n\n<p>The error happens here:</p>\n\n<p>val key = keyStore? .getKey (KEY_NAME, null)</p>\n\n<p>cipher? .init (Cipher.ENCRYPT_MODE, key)</p>\n\n<pre><code>    @TargetApi(Build.VERSION_CODES.M)\n    private fun generateKey() {\n        try {\n            keyStore = KeyStore.getInstance(\"AndroidKeyStore\")\n\n            keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, \"AndroidKeyStore\")\n\n            keyStore?.load(null)\n\n            keyGenerator?.init(KeyGenParameterSpec.Builder(KEY_NAME,\n                    KeyProperties.PURPOSE_ENCRYPT or KeyProperties.PURPOSE_DECRYPT)\n                    .setBlocenter code herekModes(KeyProperties.BLOCK_MODE_CBC)\n                    .setUserAuthenticationRequired(true)\n                    .setEncryptionPaddings(\n                            KeyProperties.ENCRYPTION_PADDING_PKCS7)\n\n                    .build())\n            keyGenerator?.generateKey()\n        } catch (e: Exception) {\n            e.printStackTrace()\n        } catch (e: NoSuchAlgorithmException) {\n            throw RuntimeException(\"Failed to get KeyGenerator instance\", e)\n        } catch (e: NoSuchProviderException) {\n            throw RuntimeException(\"Failed to get KeyGenerator instance\", e)\n        } catch (e: NoSuchAlgorithmException) {\n            throw RuntimeException(e)\n        } catch (e: InvalidAlgorithmParameterException) {\n            throw RuntimeException(e)\n        } catch (e: CertificateException) {\n            throw RuntimeException(e)\n        } catch (e: IOException) {\n            throw RuntimeException(e)\n        }\n\n    }\n\n\n\n@TargetApi(Build.VERSION_CODES.M)\n    private fun cipherInit(): Boolean {\n        try {\n            cipher = Cipher.getInstance(\n                    KeyProperties.KEY_ALGORITHM_AES + \"/\"\n                            + KeyProperties.BLOCK_MODE_CBC + \"/\"\n                            + KeyProperties.ENCRYPTION_PADDING_PKCS7)\n        } catch (e: NoSuchAlgorithmException) {\n            throw RuntimeException(\"Failed to get Cipher\", e)\n        } catch (e: NoSuchPaddingException) {\n            throw RuntimeException(\"Failed to get Cipher\", e)\n        }\n\n        try {\n            keyStore?.load(null)\n            val key = keyStore?.getKey(KEY_NAME, null)\n            cipher?.init(Cipher.ENCRYPT_MODE, key)\n            return true\n        } catch (e: KeyPermanentlyInvalidatedException) {\n            return false\n        } catch (e: KeyStoreException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        } catch (e: CertificateException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        } catch (e: UnrecoverableKeyException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        } catch (e: IOException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        } catch (e: NoSuchAlgorithmException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        } catch (e: InvalidKeyException) {\n            throw RuntimeException(\"Failed to init Cipher\", e)\n        }\n    }\n</code></pre>\n\n<p>Erro:</p>\n\n<p>Caused by java.security.InvalidKeyException\nOnly SecretKey is supported</p>\n"}, {"tags": ["java", "kotlin", "io", "apache-mina"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10570439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5xIhEHVeLKE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA-Sxqt6pQ3JJZXWLNWhTHq8G3TFw/mo/photo.jpg?sz=128", "display_name": "Grigory Panko", "link": "https://stackoverflow.com/users/10570439/grigory-panko"}, "is_accepted": false, "score": 0, "last_activity_date": 1557338037, "creation_date": 1557338037, "answer_id": 56046515, "question_id": 56008675, "link": "https://stackoverflow.com/questions/56008675/how-to-make-mina-client-message-event-fire/56046515#56046515", "title": "How to make MINA client message event fire?", "body": "<p>Fixed. I'm so dumb, I just assigned different handler in other module, which didn't have debug</p>\n"}], "owner": {"reputation": 11, "user_id": 10570439, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5xIhEHVeLKE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA-Sxqt6pQ3JJZXWLNWhTHq8G3TFw/mo/photo.jpg?sz=128", "display_name": "Grigory Panko", "link": "https://stackoverflow.com/users/10570439/grigory-panko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557338037, "creation_date": 1557158231, "last_edit_date": 1557158776, "question_id": 56008675, "link": "https://stackoverflow.com/questions/56008675/how-to-make-mina-client-message-event-fire", "title": "How to make MINA client message event fire?", "body": "<p>I'm making an app which requires client-server messaging. I decided to use MINA. The server works just fine (reads messages, fires events and writes responses, as in logs), but client seems to not fire any events. It logs sent messages, received bytes, but handler is never used. None of debug messages inside handler are printed. How can I make messageReceived event fire?  </p>\n\n<p>I'm using Linux server with 1.8.0_212 java, MINA version 2.1.2, Kotlin version 1.3.30</p>\n\n<pre><code>val connector = NioSocketConnector()\n\nconnector.filterChain.addLast(\"logger\", LoggingFilter())\nconnector.filterChain.addLast(\"codec\", ProtocolCodecFilter(TextLineCodecFactory(Charsets.UTF_8, System.lineSeparator(), System.lineSeparator())))\n\nconnector.handler = object: IoHandlerAdapter() {\n    override fun sessionCreated(session: IoSession?)\n        println(\"created session\")\n    }\n\n    override fun event(session: IoSession?, event: FilterEvent) {\n        println(\"event: ${event::class.java.simpleName}\")\n    }\n\n    override fun messageReceived(session: IoSession?, message: Any) {\n        println(\"received message: $message\")\n    }\n}\n\nval future = lobbyConnector.connect(InetSocketAddress(\"172.18.0.10\",\nConstants.SERVER_PORT))\nfuture.awaitUninterruptibly()\n\nval session = future.session\nsession.config.isUseReadOperation = true\n</code></pre>\n\n<p>I expect my handler to receive messages, but instead it doesn't do anything</p>\n"}, {"tags": ["kotlin", "resteasy", "jackson-modules", "quarkus"], "comments": [{"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1557209974, "post_id": 56008117, "comment_id": 98677019, "body": "Could you give a few more details of what your application looks like?"}, {"owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "reply_to_user": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1557217779, "post_id": 56008117, "comment_id": 98680800, "body": "@geoand I extended the question."}, {"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1557218823, "post_id": 56008117, "comment_id": 98681402, "body": "Forgive my ignorance, but I am pretty sure that JSON-B is used by default in Quarkus instead of Jackson, which is why I am asking how you have things setup."}, {"owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "reply_to_user": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1557220215, "post_id": 56008117, "comment_id": 98682240, "body": "Hmm... maybe I&#39;m the ignorant one. The quarkus-bom contains dep management for jackson so I was assuming that it uses jackson to provide the binding. If this is not the case (which is totally possible) my question might rather be: How to unmarshal/deserialize/bind/duh JSON to Kotlin data classes :-D"}, {"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1557222028, "post_id": 56008117, "comment_id": 98683236, "body": "I think Jackson is used for XML, but again I am not sure. Not sure about how JSON-B would be used for handling Kotlin Data Classes, definitely something to look into :)"}], "answers": [{"comments": [{"owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "edited": false, "score": 0, "creation_date": 1558416700, "post_id": 56229430, "comment_id": 99082603, "body": "Even if this works (did not try yet) we still have to manually annotate each class. I want to define a global behavior for this."}], "tags": [], "owner": {"reputation": 31, "user_id": 7039913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed3fbf470322f42253deed952ccf7c5f?s=128&d=identicon&r=PG", "display_name": "Vinicius Costa", "link": "https://stackoverflow.com/users/7039913/vinicius-costa"}, "is_accepted": false, "score": 1, "last_activity_date": 1558395892, "creation_date": 1558395892, "answer_id": 56229430, "question_id": 56008117, "link": "https://stackoverflow.com/questions/56008117/how-to-register-a-jackson-module-in-quarkus/56229430#56229430", "title": "How to register a Jackson Module in Quarkus?", "body": "<p>You can try to add <code>@JsonbCreator</code> annotation to the request model classes. So in this case JSON-B will try to use the constructor to create your objects instead of the no-args / reflection</p>\n\n<p>For example:</p>\n\n<pre><code>data class MyRequest @JsonbCreator constructor(\n    @JsonbProperty(\"propertyOne\") val propertyOne: String,\n    @JsonbProperty(\"propertyTwo\") val propertyTwo: : String\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 663, "user_id": 1640389, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZMfL.jpg?s=128&g=1", "display_name": "privatejava", "link": "https://stackoverflow.com/users/1640389/privatejava"}, "edited": false, "score": 0, "creation_date": 1594751598, "post_id": 60252511, "comment_id": 111234705, "body": "In quarkus, this would not work in AWS Lambda deployment as it will give you an error while compiling on natively. But  native deployment for desktop or jar  it would work flawlessly."}], "tags": [], "owner": {"reputation": 577, "user_id": 410579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb1e2716f8a9b4aff5bd3458962ae2a?s=128&d=identicon&r=PG", "display_name": "kocka", "link": "https://stackoverflow.com/users/410579/kocka"}, "is_accepted": false, "score": 0, "last_activity_date": 1581882199, "creation_date": 1581882199, "answer_id": 60252511, "question_id": 56008117, "link": "https://stackoverflow.com/questions/56008117/how-to-register-a-jackson-module-in-quarkus/60252511#60252511", "title": "How to register a Jackson Module in Quarkus?", "body": "<p>According to the <a href=\"https://quarkus.io/guides/rest-json#configuring-json-support\" rel=\"nofollow noreferrer\">documentation</a>, you have to register an implementation of the (quarkus-specific) interface ObjectMapperCustomizer.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\nimport io.quarkus.jackson.ObjectMapperCustomizer\nimport javax.inject.Singleton\n\n@Singleton\nclass AddKotlinModuleCustomizer : ObjectMapperCustomizer {\n\n    override fun customize(objectMapper: ObjectMapper) {\n        objectMapper.registerModule(KotlinModule())\n    }\n}\n</code></pre>\n\n<p>And of course add the kotlin module as dependency in the pom</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n      &lt;version&gt;2.10.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1581882199, "creation_date": 1557156100, "last_edit_date": 1557217755, "question_id": 56008117, "link": "https://stackoverflow.com/questions/56008117/how-to-register-a-jackson-module-in-quarkus", "title": "How to register a Jackson Module in Quarkus?", "body": "<p>I'd like to register the Kotlin-Module with Jackson in a Quarkus application  so Jackson can deserialize JSON into data classes without needing a NoArgsConstructor. What is the best way to do this?</p>\n\n<p><strong>Update after comment</strong></p>\n\n<p>The application is a REST service written in Kotlin. At the API level we use View classes (e.g. PersonView or PersonWriteView) to abstract from the models and entities on the service resp. persistence layer. To reduce overhead while still getting nice and meaningful equals() and hashcode() functions we use <code>data class</code>es for this.</p>\n\n<p>In the vanilla settings Jackson is not able to directly deserialize into data classes because it needs an empty constructor. This can be monkey patched by applying the no-arg compiler plugin and add an annotation e.g. <code>@NoArgConstructor</code> similar to what Lombok offers. But of course this way we have to annotate each data class in the API which is error prone.</p>\n\n<p>A better solution for this is to include com.fasterxml.jackson.module:jackson-module-kotlin which gets you the marvelous KotlinModule. After this <code>mapper.treeToValue()</code> can directly create <code>data class</code> instances without the need for an empty constructor.\nFor this to work we have to register the module with the ObjectMapper e.g. via <code>ObjectMapper().findAndRegisterModules()</code>. All I want to know is how to configure the ObjectMapper which is used by Resteasy to unmarshal the JSON to objects.</p>\n"}, {"tags": ["android", "kotlin", "android-dialogfragment"], "comments": [{"owner": {"reputation": 384, "user_id": 1925068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b76c0b9ec9ecd086b02db3c7fed562a5?s=128&d=identicon&r=PG", "display_name": "Androidz", "link": "https://stackoverflow.com/users/1925068/androidz"}, "edited": false, "score": 1, "creation_date": 1557153784, "post_id": 56007258, "comment_id": 98660374, "body": "You can make the dialog fill the entire screen and make the backdrop yourself in the dialog layout."}, {"owner": {"reputation": 3812, "user_id": 5328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b505ebf74d43e9e0ae502ffd319f91ed?s=128&d=identicon&r=PG", "display_name": "Quoc-Anh Nguyen", "link": "https://stackoverflow.com/users/5328683/quoc-anh-nguyen"}, "reply_to_user": {"reputation": 384, "user_id": 1925068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b76c0b9ec9ecd086b02db3c7fed562a5?s=128&d=identicon&r=PG", "display_name": "Androidz", "link": "https://stackoverflow.com/users/1925068/androidz"}, "edited": false, "score": 0, "creation_date": 1557162647, "post_id": 56007258, "comment_id": 98664524, "body": "Hi @Androidz, do you have any example?"}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1557409682, "creation_date": 1557409682, "answer_id": 56060909, "question_id": 56007258, "link": "https://stackoverflow.com/questions/56007258/add-things-to-backdrop-of-android-dialogfragment/56060909#56060909", "title": "Add things to backdrop of Android DialogFragment", "body": "<p>Make a linear layout with 2 internal layouts, where the upper one will have a transparent background and the other one will have the content.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:background=\"@android:color/transparent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"50dp\"\n            android:layout_height=\"50dp\"\n            android:layout_gravity=\"center\"\n            app:srcCompat=\"@drawable/ic_clock\" /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"300dp\"\n        android:layout_height=\"300dp\"\n        android:layout_margin=\"10dp\"\n        android:background=\"#000000\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 824, "user_id": 9087754, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dcAptwbQ2h4/AAAAAAAAAAI/AAAAAAAAABc/BvKqPafQgjw/photo.jpg?sz=128", "display_name": "Abdul", "link": "https://stackoverflow.com/users/9087754/abdul"}, "is_accepted": true, "score": 4, "last_activity_date": 1557828055, "last_edit_date": 1557828055, "creation_date": 1557827415, "answer_id": 56127551, "question_id": 56007258, "link": "https://stackoverflow.com/questions/56007258/add-things-to-backdrop-of-android-dialogfragment/56127551#56127551", "title": "Add things to backdrop of Android DialogFragment", "body": "<p>I have done it like this, hope it will help </p>\n\n<p><strong>Layout.xml</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:calendar=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:id=\"@+id/mainLayout\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginBottom=\"@dimen/fifty_five_dp\"\n    android:background=\"@android:color/transparent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"@dimen/twenty_dp\"\n        android:layout_marginTop=\"@dimen/one_twenty_dp\"\n        android:layout_marginRight=\"@dimen/twenty_dp\"\n        calendar:cardCornerRadius=\"@dimen/three_dp\"\n        calendar:cardElevation=\"@dimen/two_dp\"\n        calendar:cardPreventCornerOverlap=\"true\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"@dimen/fifty_five_dp\"\n            android:background=\"@color/dull_white\"\n            android:padding=\"@dimen/thirteen_dp\"\n            android:textSize=\"@dimen/sixteen_sp\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/leaveFromTo\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:fontFamily=\"@font/sf_pro_display_bold\"\n                android:text=\"@string/select_leaves_placeholder\"\n                android:textColor=\"@color/darkGreyDeepDeep\"\n                android:textSize=\"@dimen/sixteen_sp\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/leaveCount\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:fontFamily=\"@font/sf_pro_display_bold\"\n                android:text=\"@string/days_placeholder\"\n                android:textColor=\"@color/darkGrey\"\n                android:textSize=\"@dimen/twelve_sp\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:calendar=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_margin=\"@dimen/seven_dp\"\n        android:layout_marginTop=\"@dimen/fifteen_dp\"\n\n        android:background=\"@drawable/box\"\n        android:padding=\"@dimen/ten_dp\"&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/okayLayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"@dimen/thirteen_dp\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/calenderDrawable\"\n                android:layout_width=\"@dimen/seventeen_dp\"\n                android:layout_height=\"@dimen/seventeen_dp\"\n                android:layout_centerVertical=\"true\"\n                android:src=\"@mipmap/calener\" /&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerVertical=\"true\"\n                android:layout_marginStart=\"@dimen/ten_dp\"\n                android:layout_toRightOf=\"@+id/calenderDrawable\"\n                android:text=\"Calender\"\n                android:textColor=\"@color/blue_light\"\n                android:textSize=\"@dimen/fourteen_sp\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/btnDone\"\n                android:layout_width=\"@dimen/seventy_dp\"\n                android:layout_height=\"@dimen/twenty_six_dp\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_centerVertical=\"true\"\n                android:layout_margin=\"@dimen/three_dp\"\n                android:background=\"@drawable/calender_button_background\"\n                android:text=\"DONE\"\n                android:textColor=\"@color/white\"\n                android:textSize=\"@dimen/thirteen_sp\" /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;View\n            android:id=\"@+id/view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"1dp\"\n            android:layout_below=\"@id/okayLayout\"\n            android:layout_marginTop=\"@dimen/ten_dp\"\n            android:background=\"@color/viewColor\" /&gt;\n\n        &lt;com.neomeric.nock.com.andexert.calendarlistview.library.DayPickerView\n            android:id=\"@+id/pickerView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_below=\"@+id/view\"\n            android:layout_marginTop=\"@dimen/ten_dp\"\n            android:background=\"@color/dull_white\"\n            calendar:enablePreviousDay=\"false\" /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>DatePickerPopup.java</strong></p>\n\n<pre><code>    public class DatePickerPopup extends DialogFragment implements DatePickerController {\n    private DayPickerView dayPickerView; \n\n    public DatePickerPopup() {\n        // Empty constructor is required for DialogFragment\n        // Make sure not to add arguments to the constructor\n        // Use `newInstance` instead as shown below\n    }\n\n    public static DatePickerPopup newInstance(OnDatesSelected datesSelected, Date first, Date last) {\n        DatePickerPopup frag = new DatePickerPopup();\n        Bundle args = new Bundle();\n        frag.setArguments(args);\n        return frag;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View root = inflater.inflate(R.layout.date_selection_layout, container);\n        getDialog().getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        return root;\n    }\n\n    public void setDateAndDaysCount(SimpleMonthAdapter.SelectedDays&lt;SimpleMonthAdapter.CalendarDay&gt; selectedDays) {\n\n    }\n\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n    }\n\n    @Override\n    public int getMaxYear() {\n        return 2021;\n    }\n\n    @Override\n    public void onDayOfMonthSelected(int year, int month, int day) {\n\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        //  To make it match parent\n        getDialog().getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n\n    }\n\n    @Override\n    public void onDateRangeSelected(SimpleMonthAdapter.SelectedDays&lt;SimpleMonthAdapter.CalendarDay&gt; selectedDays) {\n\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6JLek.jpg\" rel=\"nofollow noreferrer\">How it looks</a></p>\n"}], "owner": {"reputation": 3812, "user_id": 5328683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b505ebf74d43e9e0ae502ffd319f91ed?s=128&d=identicon&r=PG", "display_name": "Quoc-Anh Nguyen", "link": "https://stackoverflow.com/users/5328683/quoc-anh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 1, "accepted_answer_id": 56127551, "answer_count": 2, "score": 2, "last_activity_date": 1557828055, "creation_date": 1557153042, "last_edit_date": 1557400162, "question_id": 56007258, "link": "https://stackoverflow.com/questions/56007258/add-things-to-backdrop-of-android-dialogfragment", "title": "Add things to backdrop of Android DialogFragment", "body": "<p>Want to add something to Dialog's backdrop like </p>\n\n<p><a href=\"https://i.stack.imgur.com/QbrWL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QbrWL.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to read all the documents but can't find a way to add <code>check in</code> text to the backdrop.</p>\n"}, {"tags": ["android", "kotlin", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 9589, "user_id": 5371736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uyJ0L.jpg?s=128&g=1", "display_name": "Mathias Dpunkt", "link": "https://stackoverflow.com/users/5371736/mathias-dpunkt"}, "is_accepted": false, "score": 0, "last_activity_date": 1557156513, "last_edit_date": 1557156513, "creation_date": 1557155241, "answer_id": 56007870, "question_id": 56006759, "link": "https://stackoverflow.com/questions/56006759/unable-to-get-an-annotation-from-data-class-field/56007870#56007870", "title": "Unable to get an annotation from data class field", "body": "<p>An attribute in a data class constructor is many things, a constructor parameter, a getter, a setter and a field. So you need to set use-site targets to express what you actually mean.</p>\n\n<pre><code>class Example(@field:Ann val foo,    // annotate Java field\n              @get:Ann val bar,      // annotate Java getter\n              @param:Ann val quux)   // annotate Java constructor parameter\n</code></pre>\n\n<p>See also <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets</a></p>\n\n<p>So in your case I would try the following:</p>\n\n<pre><code>data class RequestTest(\n  @property:RequestField val name: String\n) : RequestParser()\n</code></pre>\n\n<p>With <code>property</code> I am able to get the annotation from <code>this::class.declaredMemberProperties</code></p>\n\n<p>If you put <code>field</code> you would be able to get it via <code>this::class.java.declaredFields</code></p>\n"}], "owner": {"reputation": 1, "user_id": 10411926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pp0Gugu-Cno/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUrJnqs_Fw_jjNtQaSUi2WU9wvF_g/mo/photo.jpg?sz=128", "display_name": "lukasinios", "link": "https://stackoverflow.com/users/10411926/lukasinios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557156513, "creation_date": 1557151236, "last_edit_date": 1557155272, "question_id": 56006759, "link": "https://stackoverflow.com/questions/56006759/unable-to-get-an-annotation-from-data-class-field", "title": "Unable to get an annotation from data class field", "body": "<p>I want to create custom request parser, i want to do this by annotating fields and getting value by reflection but I can get annotation only from the class field, the code below doesn't work for data class or constructor in a class, any idea what is wrong?</p>\n\n<pre><code>open class RequestParser {\n\n\nfun getRequestWithTag(): String {\n    var requestString = \"&lt;RequestData&gt;\"\n\n    val declaredMemberProperties = this::class.declaredMemberProperties\n\n    declaredMemberProperties.filter {\n        it.findAnnotation&lt;RequestField&gt;() != null\n    }.forEach { filteredMemberProperties -&gt;\n        requestString += \"&lt;${filteredMemberProperties.name.firstLetterToUpperCase()}&gt;${filteredMemberProperties.getter.call(this)}&lt;/${filteredMemberProperties.name.firstLetterToUpperCase()}&gt;\"\n    }\n\n    requestString += \"&lt;/RequestData&gt;\"\n    return requestString\n}\n}\n\n\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(\n    FIELD,\n    PROPERTY,\n    PROPERTY_GETTER,\n    VALUE_PARAMETER,\n    PROPERTY_SETTER,\n    CONSTRUCTOR,\n    FUNCTION)\npublic annotation class  RequestField\n\n\n\n\n//model example\ndata class RequestTest(\n  @RequestField val name: String\n) : RequestParser()\n\n\n//using example\nRequestTest(\"name\").getRequestWithTag()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm", "illegalstateexception", "realm-migration"], "comments": [{"owner": {"reputation": 1897, "user_id": 1243048, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/92xOo.png?s=128&g=1", "display_name": "Maelig", "link": "https://stackoverflow.com/users/1243048/maelig"}, "edited": false, "score": 0, "creation_date": 1557407272, "post_id": 56006227, "comment_id": 98760629, "body": "Can&#39;t you just create your new schema first, and do migration in the first <code>transform</code> function ?"}, {"owner": {"reputation": 1682, "user_id": 485986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6cWf.png?s=128&g=1", "display_name": "jpmcosta", "link": "https://stackoverflow.com/users/485986/jpmcosta"}, "edited": false, "score": 0, "creation_date": 1567586303, "post_id": 56006227, "comment_id": 102002698, "body": "I&#39;m having a similar issue. Were you using multi process?"}], "owner": {"reputation": 1183, "user_id": 6521806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10abc63921011dbabcb351ef3dc4814?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelThePotato", "link": "https://stackoverflow.com/users/6521806/michaelthepotato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557149207, "creation_date": 1557149207, "question_id": 56006227, "link": "https://stackoverflow.com/questions/56006227/realm-db-dynamicrealmobject-not-valid-during-migration", "title": "Realm db DynamicRealmObject not valid during migration", "body": "<p>I've been working with Realm for well over a year so I'm not new to the whole migration flow but this has me scratching my head for several days:</p>\n\n<p>During a data migration to a new schema version I need to create some objects and insert them to the DB, and later connect them to another type of objects.</p>\n\n<p>First I create a map of the dynamic objects so I could connect them to the second type later:</p>\n\n<pre><code>    val generatedStoreVisitTypes = mutableMapOf&lt;String, DynamicRealmObject&gt;()\n</code></pre>\n\n<p>Then I create and use the dynamicObjects:</p>\n\n<pre><code>fun migrateToVersion19(realm: DynamicRealm) {\n\n    // an extension method I created which adds the field if it doesn\u2019t exist already, impl at the bottom\n    realm.schema.getOrCreate&lt;RealmMetadata&gt;()\n        // an extension method I created which adds the field if it doesn\u2019t exist already, impl at the bottom\n        .safeAddRealmListField(RealmMetadata::storeVisitTypes, realm.schema)\n        .transform { metadata -&gt;\n            // I use the string name of the property here and not reflection since this field is deleted during this migration\n            val currentStoreTaskList = metadata.getList(\"storeTasks\")\n            currentStoreTaskList.forEach { storeTasks -&gt;\n                // create an instance here and initialise it\n                val visitTypeTasks = realm.createObject(MetaVisitTypeTasks::class.java.simpleName)\n                visitTypeTasks[MetaVisitTypeTasks::visitTypeId.name] = \"1\"\n                val visitTasks = visitTypeTasks.getList(MetaVisitTypeTasks::visitTasks.name)\n                storeTasks.getList(\"storeTasks\").forEach {\n                    visitTasks.add(it)\n                }\n\n                // save the object to the map\n                generatedStoreVisitTypes[storeUid] = visitTypeTasks\n                }\n            }\n            .safeRemoveField(\"storeTasks\")\n\n        realm.schema.getOrCreate&lt;RealmStore&gt;()\n        .safeAddRealmListField(RealmStore::visitTypes, realm.schema)\n        .transform {\n            val storeUid = it.getString(RealmStore::storeUid.name)\n            // crash here on the \u201cadd\u201d method\n            it.getList(RealmStore::visitTypes.name).add(generatedStoreVisitTypes[storeUid])\n        }\n    }\n}\n\nprivate inline fun &lt;reified T&gt; RealmSchema.getOrCreate(): RealmObjectSchema {\n    return get(T::class.java.simpleName) ?: create(T::class.java.simpleName)\n}\n\nprivate inline fun &lt;reified TClass : RealmObject, reified TListItem : RealmObject, reified TList : RealmList&lt;TListItem&gt;&gt; RealmObjectSchema.safeAddRealmListField(addedField: KMutableProperty1&lt;TClass, TList&gt;, schema: RealmSchema): RealmObjectSchema {\n    val fieldName = addedField.name\n    val listItemObjectSchema = schema.get(TListItem::class.java.simpleName)\n\n    if (!hasField(fieldName)) {\n        return addRealmListField(fieldName, listItemObjectSchema)\n    }\n    return this\n}\n\n\n</code></pre>\n\n<p>Calling the \"add\" method in the second \u201ctransform\u201d method sometimes causes a - </p>\n\n<p>\u201cjava.lang.IllegalStateException: Object is no longer valid to operate on. Was it deleted by another thread?\u201d</p>\n\n<p>I\u2019m familiar with this error and usually know how to handle it but I can\u2019t recreate it or understand how such a thing happens in this case.\nSince we\u2019re talking about migration, there shouldn\u2019t be another thread that\u2019s operating on the same schema - as the execution is synchronised, isn\u2019t it?.\nAlso, we\u2019re talking about an object that was <strong>just created</strong>. There\u2019s no other context in which it\u2019s referenced or used.</p>\n\n<p>I don\u2019t understand how this object could be deleted. What could cause such an error?</p>\n"}, {"tags": ["android", "kotlin", "android-canvas", "android-paint"], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 7417064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80b3ba210a7702768c37b8022659429b?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Green", "link": "https://stackoverflow.com/users/7417064/richard-green"}, "is_accepted": false, "score": 0, "last_activity_date": 1614265259, "creation_date": 1614265259, "answer_id": 66371059, "question_id": 56006003, "link": "https://stackoverflow.com/questions/56006003/how-to-draw-a-path-where-the-tail-fades-to-transparent/66371059#66371059", "title": "How to draw a path where the tail fades to transparent", "body": "<p>In case anyone, like me, was struck with resolving this problem, I offer a solution. Thank you Alex for lighting the way. I took what you posted and treated the path as a sequence of straight lines and drew each with its own LinearGradient calculated according to its length and position out of total length. This worked because LinearGradient is, well, linear, and so it works for a straight line.</p>\n"}], "owner": {"reputation": 11, "user_id": 2794720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f269f48b9a406e569b5cfd6b5c1f03?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2794720/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1614265259, "creation_date": 1557148385, "last_edit_date": 1557279524, "question_id": 56006003, "link": "https://stackoverflow.com/questions/56006003/how-to-draw-a-path-where-the-tail-fades-to-transparent", "title": "How to draw a path where the tail fades to transparent", "body": "<p>I am creating a simple Android app within which there are particles which move across the screen. </p>\n\n<p>These particles are currently drawn with a paint which has a LinearGradient shader applied. This allows the particle to nicely fade to transparent along the path as in the following image.</p>\n\n<p><a href=\"https://i.imgur.com/2n0aMPG.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/2n0aMPG.jpg</a></p>\n\n<p>The shader is as follows</p>\n\n<pre><code>trailPaint.shader = LinearGradient(\n                trail[size - 1].x,\n                trail[size - 1].y,\n                trail[0].x,\n                trail[0].y,\n                trailPaint.color,\n                Color.TRANSPARENT,\n                Shader.TileMode.MIRROR\n            )\n\ncanvas.drawPath(trailPath, trailPaint)\n</code></pre>\n\n<p>The issue here is that the bounds for the shader are based on the positions of the front and back most points in the path, so when the particle turns back on itself, the shader no longer covers the middle of the path. An example of this occuring can be seen here: <a href=\"https://i.imgur.com/obEShJ6.mp4\" rel=\"nofollow noreferrer\">https://i.imgur.com/obEShJ6.mp4</a></p>\n\n<p>I have also tried painting each point on the path with increasingly transparent circles but these didn't give a continuous path which was similarly displeasing</p>\n\n<p><a href=\"https://i.imgur.com/zNOMR11.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/zNOMR11.jpg</a></p>\n\n<pre><code>trailPaint.shader = LinearGradient(\n                        point.x,\n                        point.y,\n                        trail[index + 1].x,\n                        trail[index + 1].y,\n                        ColorUtils.blendARGB(colour, Color.TRANSPARENT, (1 - (index.toFloat() / size))),\n                        ColorUtils.blendARGB(colour, Color.TRANSPARENT, (1 - ((index.toFloat() + 1) / size))),\n                        Shader.TileMode.CLAMP\n                    )\n\n                    canvas.drawCircle(point.x, point.y, trailPaint.strokeWidth / 2, trailPaint)\n</code></pre>\n\n<p>What other options do I have which will provide a result similar to the first picture, without the bouncing issue?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 2, "creation_date": 1557148157, "post_id": 56005752, "comment_id": 98657295, "body": "what does <code>calculate</code> return? as it is destructurable, may the same type be OK in <code>MyClass</code> itself?"}, {"owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1557148282, "post_id": 56005752, "comment_id": 98657368, "body": "It returns <code>Pair&lt;String, String&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 346, "user_id": 3487046, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e97e50053bdeed36d5916a0914ac4d59?s=128&d=identicon&r=PG&f=1", "display_name": "k0enf0rNL", "link": "https://stackoverflow.com/users/3487046/k0enf0rnl"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557148317, "post_id": 56005942, "comment_id": 98657392, "body": "My mistake, I messed up the constructor implementation. Fixed it now."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1557148819, "post_id": 56005942, "comment_id": 98657701, "body": "regarding your comment in the answer: I don&#39;t think so... but you can still add an additional constructor for that, e.g.: <code>constructor(A: String, BC : Pair&lt;String, String&gt;) : this(A, BC.first, BC.second)</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1557158344, "post_id": 56005942, "comment_id": 98662703, "body": "Whether it&#39;s a data class isn&#39;t really relevant here."}], "tags": [], "owner": {"reputation": 346, "user_id": 3487046, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e97e50053bdeed36d5916a0914ac4d59?s=128&d=identicon&r=PG&f=1", "display_name": "k0enf0rNL", "link": "https://stackoverflow.com/users/3487046/k0enf0rnl"}, "is_accepted": false, "score": 0, "last_activity_date": 1557153066, "last_edit_date": 1557153066, "creation_date": 1557148154, "answer_id": 56005942, "question_id": 56005752, "link": "https://stackoverflow.com/questions/56005752/calculating-the-field-that-is-not-presented-in-constructor/56005942#56005942", "title": "Calculating the field that is not presented in constructor", "body": "<p>You could write it as a data class and at least get rid of the default constructor like so</p>\n\n<pre><code>data class MyClass(\n    val A: String,\n    val B: String,\n    val C: String\n) {\n    constructor(A: String, calculated: Pair&lt;String, String&gt; = calculate()) : this(\n        A,\n        calculated.first,\n        calculated.second\n    )\n}\n\nfun calculate() : Pair&lt;String, String&gt; = \"this\" to \"that\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 3, "last_activity_date": 1557151231, "last_edit_date": 1557151231, "creation_date": 1557148525, "answer_id": 56006042, "question_id": 56005752, "link": "https://stackoverflow.com/questions/56005752/calculating-the-field-that-is-not-presented-in-constructor/56006042#56006042", "title": "Calculating the field that is not presented in constructor", "body": "<p>Maybe something as follows might be ok for you. You may want to replace <code>Pair</code> with an actual type then instead... </p>\n\n<pre><code>class MyClass(\n        val A: String,\n        val BC : Pair&lt;String, String&gt;\n) {\n    constructor(A: String, B: String, C: String) : this(A, B to C) // is this then even needed?\n    constructor(A : String) : this(A, Calculator.calculate(A))\n}\n</code></pre>\n\n<p>Or alternatively if it makes more sense to have the three separate properties, the other way around, which was also shown by <a href=\"https://stackoverflow.com/a/56005942/6202869\">k0enf0rNL </a>:</p>\n\n<pre><code>class MyClass(\n     val A: String,\n     val B: String,\n     val C: String\n) {\n  constructor(A: String) : this(A, Calculator.calculate(A))\n  constructor(A: String, BC : Pair&lt;String, String&gt;) : this(A, BC.first, BC.second)\n}\n</code></pre>\n\n<p>Finally, if you do not want to expose some of the constructors, feel free to mark them <code>private</code>, e.g. the following will expose the same as your shown example:</p>\n\n<pre><code>class MyClass(\n     val A: String,\n     val B: String,\n     val C: String\n) {\n  constructor(A: String) : this(A, Calculator.calculate(A))\n  private constructor(A: String, BC : Pair&lt;String, String&gt;) : this(A, BC.first, BC.second)\n}\n</code></pre>\n\n<p>Maybe you rather need something to pass a function instead (as you also used <code>Calculator.calculate(A)</code>). Then you may want to add the following as a constructor:</p>\n\n<pre><code>constructor(A : String, func: (String) -&gt; Pair&lt;String, String&gt; = Calculator::calculate) : this(A, func(A))\n</code></pre>\n\n<p>If this is rather what you wanted from the beginning, then even a class such as the following might be something for you:</p>\n\n<pre><code>class MyClass(val A: String,\n              func: (String) -&gt; Pair&lt;String, String&gt; = Calculator::calculate) {\n    val B: String\n    val C: String\n\n    init {\n        func(A).also { (newB, newC) -&gt;\n            B = newB\n            C = newC\n        }\n    }\n}\n</code></pre>\n\n<p>If you then just want to pass <code>A</code>, <code>B</code> and <code>C</code> without an actual calculation (or passed function), you can still do it as follows (basically discarding the passed <code>A</code>):</p>\n\n<pre><code>MyClass(\"myA\") { /* _ -&gt; */ /* A -&gt; */\n   \"myCalculatedB\" to \"C\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557153942, "post_id": 56007281, "comment_id": 98660446, "body": "I only dislike the word &quot;abuse&quot; here ;-) what I like on that variant is, that you can easily move such functions outside the class using extension functions on the <code>Companion</code>, which therefore also easily allows adding additional variants..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557154174, "post_id": 56007281, "comment_id": 98660590, "body": "I would even use a direct assignment for the invoke... it doesn&#39;t do that much, so you can still easily grasp it, e.g.: <code>operator fun invoke(A: String) = Calculator.calculate(A).let { (B, C) -&gt; MyClass(A, B, C) }</code>  (new lines where appropriate)"}, {"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1557156362, "post_id": 56007281, "comment_id": 98661719, "body": "@Roland I though of it, even already edited my answer but discarded. In the general case there could be more than just one external calculation, and things could get ugly with <code>.let</code> version."}], "tags": [], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "is_accepted": false, "score": 2, "last_activity_date": 1557153131, "creation_date": 1557153131, "answer_id": 56007281, "question_id": 56005752, "link": "https://stackoverflow.com/questions/56005752/calculating-the-field-that-is-not-presented-in-constructor/56007281#56007281", "title": "Calculating the field that is not presented in constructor", "body": "<p>My personal favourite is to abuse companion object invoke operator:</p>\n\n<pre><code>class MyClass(val A: String, val B: String, val C: String) {\n\n    companion object {\n        operator fun invoke(A: String): MyClass {\n            val (B, C) = Calculator.calculate(A)\n            return MyClass(A, B, C)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1557153131, "creation_date": 1557147494, "question_id": 56005752, "link": "https://stackoverflow.com/questions/56005752/calculating-the-field-that-is-not-presented-in-constructor", "title": "Calculating the field that is not presented in constructor", "body": "<p>Let's say I have a class with 3 fields: A, B, and C. I can create an instance of this class in two ways: pass all fields to the constructor, or pass only A and other properties will be calculated based on A.</p>\n\n<pre><code>class MyClass {\n    val A: String\n    val B: String\n    val C: String\n\n    constructor(A: String, B: String, C: String) {\n        this.A = A\n        this.B = B\n        this.C = C\n    }\n\n    constructor(A: String) {\n        this.A = A\n        val (_B, _C) = Calculator.calculate(A)\n        this.B = _B\n        this.C = _C\n    }\n}\n</code></pre>\n\n<p>This approach uses two secondary constructors without primary one. But from my point of view, it looks pretty heavy. Is it possible to rewrite this logic in a more elegant way?</p>\n"}, {"tags": ["kotlin", "kotlin-multiplatform", "kmm"], "comments": [{"owner": {"reputation": 66, "user_id": 11663884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc8fe6c0f6ea2d7d55d7dadf2ce2db44?s=128&d=identicon&r=PG&f=1", "display_name": "Chamel", "link": "https://stackoverflow.com/users/11663884/chamel"}, "edited": false, "score": 0, "creation_date": 1616747550, "post_id": 56005696, "comment_id": 118104701, "body": "Try to remove <code>constructor</code> from expect class."}], "answers": [{"comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1557212161, "post_id": 56008665, "comment_id": 98677925, "body": "If I do so I get <code>Expected class constructor cannot have a property parameter</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1557232996, "post_id": 56008665, "comment_id": 98689479, "body": "Then add a member property as the second part says. The actual class should still be able to implement it as a property constructor parameter."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1557389664, "post_id": 56008665, "comment_id": 98750744, "body": "If I do so I cannot instantiate the class: <code>Expected class Bar does not have a default constructor</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1557756423, "post_id": 56008665, "comment_id": 98861697, "body": "Which line gives this error? I don&#39;t see why a default constructor would be needed."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1557158199, "creation_date": 1557158199, "answer_id": 56008665, "question_id": 56005696, "link": "https://stackoverflow.com/questions/56005696/cannot-access-expected-class-constructor-parameters-in-kotlin-multi-platform/56008665#56008665", "title": "Cannot access expected class constructor parameters in kotlin multi-platform", "body": "<p>It should be <code>val name</code> in the <code>expect</code> part as well, either in the constructor parameter list or as a member property. </p>\n"}, {"comments": [{"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 2, "creation_date": 1607683438, "post_id": 65249085, "comment_id": 115355229, "body": "While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}, {"owner": {"reputation": 9737, "user_id": 2422778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aUihh.jpg?s=128&g=1", "display_name": "Mike Szyndel", "link": "https://stackoverflow.com/users/2422778/mike-szyndel"}, "edited": false, "score": 1, "creation_date": 1607683827, "post_id": 65249085, "comment_id": 115355375, "body": "Yeah @Braian, with you exp you should know better :) I&#39;m not voting for deletion but please add a like of explanation why addition of <code>val</code> is necessary."}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "edited": false, "score": 0, "creation_date": 1607686013, "post_id": 65249085, "comment_id": 115356255, "body": "Thanks for the feedback. Updated answer."}], "tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1607685986, "last_edit_date": 1607685986, "creation_date": 1607680266, "answer_id": 65249085, "question_id": 56005696, "link": "https://stackoverflow.com/questions/56005696/cannot-access-expected-class-constructor-parameters-in-kotlin-multi-platform/65249085#65249085", "title": "Cannot access expected class constructor parameters in kotlin multi-platform", "body": "<blockquote>\n<p>Expected classes constructor cannot have a property parameter</p>\n</blockquote>\n<p>Therefore it is necessary to describe the property as a class member with <code>val name: String</code></p>\n<blockquote>\n<p>Actual constructor of 'Bar' has no corresponding expected declaration</p>\n</blockquote>\n<p>However, for the actual constructor to match the expected declaration the number of parameters has to be the same. That is why the <strong>parameter</strong> is also added <code>name: String</code> in the constructor in addition to the existence of the <strong>property</strong>.</p>\n<pre><code>expect class Bar(name: String) {\n    val name: String\n}\n\nactual class Bar actual constructor(actual val name: String)\n</code></pre>\n<p>Note: <em>If we leave the constructor empty of the expected class we see how the IDE complains when adding a constructor in the current class for the incompatibility.</em></p>\n<p>GL</p>\n"}], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 926, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1607686039, "creation_date": 1557147271, "last_edit_date": 1607686039, "question_id": 56005696, "link": "https://stackoverflow.com/questions/56005696/cannot-access-expected-class-constructor-parameters-in-kotlin-multi-platform", "title": "Cannot access expected class constructor parameters in kotlin multi-platform", "body": "<p>I'm currently working on a multi-platform module using kotlin. To do so, I rely on the <a href=\"https://kotlinlang.org/docs/reference/platform-specific-declarations.html\" rel=\"nofollow noreferrer\"><code>expect</code>/<code>actual</code> mechanism</a>. </p>\n\n<p>I declare a simple class in <code>Common.kt</code>:</p>\n\n<pre><code>expect class Bar constructor(\n    name: String\n)\n</code></pre>\n\n<p>I'd like to use the defined class in a common method (also present in <code>Common.kt</code>):</p>\n\n<pre><code>fun hello(bar: Bar) {\n    print(\"Hello, my name is ${bar.name}\")\n}\n</code></pre>\n\n<p>The actual implementation is defined in <code>Jvm.kt</code>:</p>\n\n<pre><code>actual data class Bar actual constructor(\n    val name: String    \n)\n</code></pre>\n\n<p>The problem is I got the following error inside my <code>hello</code> function</p>\n\n<blockquote>\n  <p>Unresolved reference: name</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 346, "user_id": 3487046, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e97e50053bdeed36d5916a0914ac4d59?s=128&d=identicon&r=PG&f=1", "display_name": "k0enf0rNL", "link": "https://stackoverflow.com/users/3487046/k0enf0rnl"}, "edited": false, "score": 1, "creation_date": 1557145992, "post_id": 56004757, "comment_id": 98656078, "body": "Can you update your question with the contents of the bean definition file?"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1557146307, "post_id": 56004757, "comment_id": 98656241, "body": "Where you call registerBean <code>this</code> will refer to the application context."}, {"owner": {"reputation": 71, "user_id": 3240260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJrc9.jpg?s=128&g=1", "display_name": "christian meyer", "link": "https://stackoverflow.com/users/3240260/christian-meyer"}, "reply_to_user": {"reputation": 346, "user_id": 3487046, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e97e50053bdeed36d5916a0914ac4d59?s=128&d=identicon&r=PG&f=1", "display_name": "k0enf0rNL", "link": "https://stackoverflow.com/users/3487046/k0enf0rnl"}, "edited": false, "score": 1, "creation_date": 1557147744, "post_id": 56004757, "comment_id": 98657045, "body": "@k0enf0rNL done"}], "owner": {"reputation": 71, "user_id": 3240260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJrc9.jpg?s=128&g=1", "display_name": "christian meyer", "link": "https://stackoverflow.com/users/3240260/christian-meyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557147705, "creation_date": 1557143901, "last_edit_date": 1557147705, "question_id": 56004757, "link": "https://stackoverflow.com/questions/56004757/how-can-i-get-the-applicationcontext-from-a-kotlin-bean-definition-file", "title": "How can I get the ApplicationContext from a Kotlin bean definition file", "body": "<p>In a kotlin bean definition file I need to get the <code>ApplicationContext</code>, so I can inject it in another bean.</p>\n\n<p>There's obviously no documentation on how to do that. <code>env</code> returns the <code>ConfigurableEnvironment</code> from <code>GenericApplicationContext</code>(<code>ApplicationContext</code>), but I don't gain direct access to the context itself.</p>\n\n<p>beans {</p>\n\n<pre><code>...\n\nbean&lt;PantryService&gt; {\n    PantryServiceImpl(ref(), ref(), ref(), ref(), ref(), ref(), ref())\n}\n\n...\n</code></pre>\n\n<p>}</p>\n\n<p>the last argument needs to be the <code>ApplicationContext</code></p>\n"}, {"tags": ["android", "kotlin", "sms", "one-time-password"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 2, "creation_date": 1557144303, "post_id": 56004721, "comment_id": 98655167, "body": "Use sms retriever api if you want to publish app on play store"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1557144482, "post_id": 56004721, "comment_id": 98655261, "body": "If someone provide me read sms code. I can use rxjava to extract otp."}, {"owner": {"reputation": 398, "user_id": 5901903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQsjs.png?s=128&g=1", "display_name": "MadLeo", "link": "https://stackoverflow.com/users/5901903/madleo"}, "edited": false, "score": 0, "creation_date": 1557144624, "post_id": 56004721, "comment_id": 98655322, "body": "try this <a href=\"https://stackoverflow.com/a/38604568/5901903\">stackoverflow.com/a/38604568/5901903</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557148493, "post_id": 56004827, "comment_id": 98657499, "body": "I am gonna use my private api to send msg and I just want to get text from sms."}, {"owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1557154082, "post_id": 56004827, "comment_id": 98660532, "body": "The SMS Retriever API doesn&#39;t force you to use Google&#39;s servers to send the SMS. You can still use yours (or any 3rd party service you&#39;re using). You just need to format the SMS following a few rules, and the SMS Retriever API will the message reach your app without having to get the SMS permissions (which are now not allowed except for very specific cases (as you can read in the first link of my answer)."}], "tags": [], "owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "is_accepted": true, "score": 6, "last_activity_date": 1557144201, "creation_date": 1557144201, "answer_id": 56004827, "question_id": 56004721, "link": "https://stackoverflow.com/questions/56004721/auto-read-otp-from-sms/56004827#56004827", "title": "Auto Read OTP from SMS", "body": "<p>It's not a good idea because of this <a href=\"https://android-developers.googleblog.com/2019/01/reminder-smscall-log-policy-changes.html\" rel=\"noreferrer\">Reminder SMS/Call Log Policy Changes</a>.</p>\n\n<p>The recomended way is using SMS Retriever API from Google Play Services. See the <a href=\"https://developers.google.com/identity/sms-retriever/overview\" rel=\"noreferrer\">Automatic SMS Verification with the SMS Retriever API</a>.</p>\n\n<p>Notice though that your server needs to send the messages following a few rules (message starts with \"&lt;#>\", includes the OTP plus additional information and ends up with a hash identifying your app).</p>\n"}], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1300, "favorite_count": 1, "accepted_answer_id": 56004827, "answer_count": 1, "score": 1, "last_activity_date": 1557211939, "creation_date": 1557143742, "last_edit_date": 1557211939, "question_id": 56004721, "link": "https://stackoverflow.com/questions/56004721/auto-read-otp-from-sms", "title": "Auto Read OTP from SMS", "body": "<p>I am trying to Read Sms by using <a href=\"https://stackoverflow.com/a/39509908/10182897\">this</a> method. But my application is not reading Message.</p>\n\n<p>The Code i have tried yet.</p>\n\n<p>Permission : </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.RECEIVE_SMS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_SMS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.SEND_SMS\" /&gt;\n</code></pre>\n\n<p>Activity (Main Code) :</p>\n\n<pre><code>class OtpActivity : AppCompatActivity(), View.OnClickListener {\n    private var smsVerifyCatcher: SmsVerifyCatcher? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_otp)\n        smsVerifyCatcher = SmsVerifyCatcher(this, OnSmsCatchListener { message -&gt;\n            val code = parseCode(message)//Parse verification code\n            Log.e(\"Code\", code)\n            //then you can send verification code to server\n        })\n        smsVerifyCatcher!!.setPhoneNumberFilter(\"0902249\") // I passed 10 digit number here\n        smsVerifyCatcher!!.setFilter(\"Ashish\") // For extra i added Filter for name\n    }\n    private fun parseCode(message: String): String {\n        val p = Pattern.compile(\"\\\\b\\\\d{4}\\\\b\")\n        val m = p.matcher(message)\n        var code = \"\"\n        while (m.find()) {\n            code = m.group(0)\n        }\n        return code\n    }\n    override fun onStart() {\n        super.onStart()\n        smsVerifyCatcher!!.onStart()\n    }\n\n    override fun onStop() {\n        super.onStop()\n        smsVerifyCatcher!!.onStop()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "owner": {"reputation": 6552, "user_id": 183133, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/318e718ec9296ec9ffab5824c5c4f668?s=128&d=identicon&r=PG", "display_name": "Rohan Prabhu", "link": "https://stackoverflow.com/users/183133/rohan-prabhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557141421, "creation_date": 1557141421, "question_id": 56004108, "link": "https://stackoverflow.com/questions/56004108/modifying-ktors-call-co-routine-context", "title": "Modifying ktors call co-routine context", "body": "<p>So I'm using <code>ktor</code> and want to have some data available throughout the context, via a <code>ThreadLocal</code>. What I am looking at is:</p>\n\n<pre><code>val dataThreadLocal = ThreadLocal&lt;String&gt;()\nsuspend fun fromOtherFunction() = \"From other function -- ${dataThreadLocal.get()}\"\n\nrouting {\n    get(\"/hello\") {\n        // [1]\n        launch(this.coroutineContext + dataThreadLocal.asContextElement(value = \"world\")) {\n            val fromHere = async {\n                \"ThreadLocal value: ${dataThreadLocal.get()}\"\n            }\n\n            val fromThere = async {\n                fromOtherFunction()\n            }\n\n            call.respond(fromHere.await() + \",\" + fromThere.await())\n        }\n\n    }\n}\n</code></pre>\n\n<p>What I am doing is that making sure all and any functions called from the parent <code>launch</code> (labelled [1]) have access to this kind of \"scoped\" data.</p>\n\n<p>However, my application is quite big and I want this to work for all requests handled by routing and not want to have every route require this wrapping.</p>\n\n<p>What would be really great is:</p>\n\n<pre><code>intercept(ApplicationCallPipeline.Features) {\n    launch(this.coroutineContext + dataThreadLocal.asContextElement(value = \"world\")) {\n    ...\n    }\n}\n\nrouting {\n    get(\"/hello\") {\n        val threadLocalValue = dataThreadLocal.get()\n    ...\n</code></pre>\n\n<p>Which obviously does not work, becase the coroutine scope in the <code>intercept</code> does not enclose the route's coroutine scope.</p>\n\n<p>What I believe happens under the hood is that every call is launched in a parent co-routine scope (similar to how we have 'request threads'). Is there a way for me to modify the context in that? Is there a way where I can tell <code>ApplicationEngine</code> to <code>+</code> an additional context element whenever this new co-routine context is started?</p>\n"}, {"tags": ["kotlin", "mapping"], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1557141288, "post_id": 56004022, "comment_id": 98653702, "body": "Thank you very much!I just wanted to learn maps that&#39;s why i needed to do it in that way :)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 2, "creation_date": 1557146482, "post_id": 56004022, "comment_id": 98656341, "body": "@AlexKolydas your comment makes me wondering... what exactly did you want to learn regarding maps? If you just wanted to create a new alphabet-map that could have also been done using: <code>(&#39;a&#39;..&#39;z&#39;).associateWith { it - &#39;a&#39; + 1 }</code>..."}], "tags": [], "owner": {"reputation": 26541, "user_id": 1532460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/dc5b338bf194a9e117af20bd9b2e4edb?s=128&d=identicon&r=PG", "display_name": "awesoon", "link": "https://stackoverflow.com/users/1532460/awesoon"}, "is_accepted": true, "score": 1, "last_activity_date": 1557141103, "creation_date": 1557141103, "answer_id": 56004022, "question_id": 56003533, "link": "https://stackoverflow.com/questions/56003533/increment-key-value-from-a-for-loop-to-a-map/56004022#56004022", "title": "Increment Key-Value from a for loop to a map", "body": "<p>Just iterate over chars range:</p>\n\n<pre><code>val alphabet = mutableMapOf&lt;Char, Int&gt;()\nfor (c in 'a'..'z') {\n    alphabet[c] = c - 'a' + 1;\n}\n</code></pre>\n\n<p>Also if you are not planning to change this map after initialization I do not think you really need a map here, just a function for <code>c - 'a' + 1</code> with proper range checks will be enough.</p>\n"}], "owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 56004022, "answer_count": 1, "score": 0, "last_activity_date": 1557141103, "creation_date": 1557139282, "question_id": 56003533, "link": "https://stackoverflow.com/questions/56003533/increment-key-value-from-a-for-loop-to-a-map", "title": "Increment Key-Value from a for loop to a map", "body": "<p>I have this map</p>\n\n<pre><code>    var alphabet= mutableMapOf(\"a\" to 1)\n</code></pre>\n\n<p>And i would like to add from a for loop all the letters of the alphabet and their numbers.\nFor example:\na=1\nb=2\n...\nz=26</p>\n\n<p>How can i <strong>add ++</strong> to keys and values in a map?</p>\n"}, {"tags": ["android", "kotlin", "android-wake-lock"], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 5502638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cMg8M.jpg?s=128&g=1", "display_name": "Akash Dubey", "link": "https://stackoverflow.com/users/5502638/akash-dubey"}, "is_accepted": false, "score": 0, "last_activity_date": 1558017162, "last_edit_date": 1558017162, "creation_date": 1557980201, "answer_id": 56160766, "question_id": 56003113, "link": "https://stackoverflow.com/questions/56003113/disabling-lock-screen-must-not-trigger-standby-screen-after-30-seconds-on-androi/56160766#56160766", "title": "Disabling lock screen must not trigger Standby screen after 30 seconds on Android 7.0 and lower", "body": "<p>You just need to write in your <code>activity_main.xml</code> file, to keep screen on always.</p>\n\n<pre><code>android:keepScreenOn=\"true\"\n</code></pre>\n"}], "owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1578308645, "creation_date": 1557137670, "last_edit_date": 1578308645, "question_id": 56003113, "link": "https://stackoverflow.com/questions/56003113/disabling-lock-screen-must-not-trigger-standby-screen-after-30-seconds-on-androi", "title": "Disabling lock screen must not trigger Standby screen after 30 seconds on Android 7.0 and lower", "body": "<p>I've written a method that disables the Android lock screen and makes the screen turn on from standby (for dialing). This method works correctly for 30 seconds but then it triggers the standby screen that flashes briefly. This triggers onPause, onStop, onResume. Which shouldn't happen. Which Flag is not correct? Implementation must work from latest Android version till API 19.</p>\n\n<p><strong>This bugs only occurs on Android devices &lt; 8.0.</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    disableLockScreen(this)\n    setContentView(R.layout.activity_main)\n    Log.i(\"AppLifecycleTest\", \"onCreate\")\n}\n\noverride fun onResume() {\n    super.onResume()\n    Log.i(\"AppLifecycleTest\", \"onResume\")\n}\n\noverride fun onPause() {\n    super.onPause()\n    Log.i(\"AppLifecycleTest\", \"onPause\")\n}\n\noverride fun onStop() {\n    super.onStop()\n    Log.i(\"AppLifecycleTest\", \"onStop\")\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    Log.i(\"AppLifecycleTest\", \"onDestroy\")\n}\n\n@Suppress(\"DEPRECATION\")\nprivate fun disableLockScreen(activity: Activity) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n        activity.setShowWhenLocked(true)\n        activity.setTurnScreenOn(true)\n    }\n    val lock =\n        (activity.getSystemService(Activity.KEYGUARD_SERVICE) as KeyguardManager).newKeyguardLock(Context.KEYGUARD_SERVICE)\n    val powerManager = activity.getSystemService(Context.POWER_SERVICE) as PowerManager\n    val wake = powerManager.newWakeLock(\n        PowerManager.FULL_WAKE_LOCK or\n                PowerManager.ACQUIRE_CAUSES_WAKEUP or\n                PowerManager.ON_AFTER_RELEASE,\n        \"SomeAppName:BusSnoozeAlarm\"\n    )\n\n    lock.disableKeyguard()\n    // This timeout doesn't seem to do anything\n    wake.acquire(6 * 1000L)\n\n    activity.window.addFlags(\n        WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED\n                or WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD\n                or WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON\n                or WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON\n                or WindowManager.LayoutParams.FLAG_ALLOW_LOCK_WHILE_SCREEN_ON\n    )\n}\n</code></pre>\n\n<p>Start condition: remove App from memory and start so that screen is active.</p>\n\n<p>LGE Nexus 5X: (Android 7.0, API 24) After exactly 30 seconds Screen flashes quickly and shows standby menu, and the toggle button dissapears. This triggers onPause, onStop, onResume. <strong>This shouldn't happen.</strong></p>\n\n<pre><code>2019-05-07 10:14:40.613 AppLifecycleTest: onCreate\n2019-05-07 10:14:40.616 AppLifecycleTest: onResume\n2019-05-07 10:15:10.851 AppLifecycleTest: onPause\n2019-05-07 10:15:10.891 AppLifecycleTest: onStop\n2019-05-07 10:15:10.994 AppLifecycleTest: onResume\n</code></pre>\n\n<p>Samsung Galaxy S8: (Android 8.0, API 26) After 30 seconds of not interacting with the screen, the toggle button disapears but no App lifecycles are triggered and no quick flashing of the standby screen. <strong>This is correct.</strong></p>\n\n<pre><code>2019-05-07 10:23:22.654 AppLifecycleTest: onCreate\n2019-05-07 10:23:22.717 AppLifecycleTest: onResume\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/51336946/start-activity-even-when-screen-is-turned-off\">This SO thread</a> has the same problem, onStop triggers after 30 secs.</p>\n\n<p>Here is my work-around for this, which works but isn't conform the documentation:</p>\n\n<pre><code>// add to onCreate\nprivate fun initTimer() {\n    timer = Timer()\n    timer.schedule(25000L) {\n        activity.runOnUiThread {\n            disableLockScreen(activity)\n            initTimer()\n            Log.i(\"AppLifecycleTest\", \"reset every 25 Seconds\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "pie-chart", "cardview"], "comments": [{"owner": {"reputation": 777, "user_id": 3318025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCeKz.jpg?s=128&g=1", "display_name": "TheAnkush", "link": "https://stackoverflow.com/users/3318025/theankush"}, "edited": false, "score": 0, "creation_date": 1557137720, "post_id": 56002796, "comment_id": 98652101, "body": "Could you comment showChart(), and then see if it is clickable? If empty card view is clickable then maybe your chart clicks are stoping card view  clicks.  Another way is to make LinearLayout Clickable, I think you want whole view to be clickable right?"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 777, "user_id": 3318025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCeKz.jpg?s=128&g=1", "display_name": "TheAnkush", "link": "https://stackoverflow.com/users/3318025/theankush"}, "edited": false, "score": 0, "creation_date": 1557238282, "post_id": 56002796, "comment_id": 98692741, "body": "@TheAnkush issue solved. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 7231, "user_id": 4370279, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tjPvY.png?s=128&g=1", "display_name": "theapache64", "link": "https://stackoverflow.com/users/4370279/theapache64"}, "is_accepted": true, "score": 1, "last_activity_date": 1557138820, "creation_date": 1557138820, "answer_id": 56003423, "question_id": 56002796, "link": "https://stackoverflow.com/questions/56002796/cardview-not-clickable/56003423#56003423", "title": "CardView not clickable", "body": "<p>As the <code>PieChart</code> fully absorbing the <code>click</code> to interact with the chart elements, the click listener defined in the parent will not be called. Even If you set an <code>OnClickListener</code> to <code>PieChart</code>, it won't work. The solution to this problem is to set <code>onChartGestureListener</code> to <code>PieChart</code> and call your method from <code>onChartSingleTapped</code>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    cardView.setOnClickListener {\n        doThis();\n    }\n\n    chart.onChartGestureListener = object : OnChartGestureListener {\n        override fun onChartSingleTapped(me: MotionEvent?) {\n            doThis()\n        }\n    }\n}\n\nfun doThis(){\n    // your code goes here\n}\n\n</code></pre>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 56003423, "answer_count": 1, "score": 0, "last_activity_date": 1557138820, "creation_date": 1557136496, "last_edit_date": 1557136859, "question_id": 56002796, "link": "https://stackoverflow.com/questions/56002796/cardview-not-clickable", "title": "CardView not clickable", "body": "<p>In MainActivity, I have a pie chart, where the libary get from <a href=\"https://github.com/PhilJay/MPAndroidChart\" rel=\"nofollow noreferrer\">GitHub - PhilJay/MPAndroidChart: A powerful Android chart view</a>. I add the pie chart into <code>cardView</code>.When <code>cardView</code> is clicked,  <code>toast</code> suppose to be displayed. But the <code>onClickListener</code> not working at all.</p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        showChart()\n\n        cardView.setOnClickListener {\n            Toast.makeText(application,\"clicked\",Toast.LENGTH_LONG).show()\n        }\n    }\n\n    private fun showChart() {\n\n        chart.setUsePercentValues(true)\n        chart.description.isEnabled = false\n        chart.center\n        chart.extraRightOffset = 20f\n\n        chart.isDrawHoleEnabled = true\n        chart.setHoleColor(Color.WHITE)\n\n        chart.setTransparentCircleColor(Color.WHITE)\n        chart.setTransparentCircleAlpha(10)\n\n        chart.holeRadius = 58f\n        chart.transparentCircleRadius = 46f\n\n        chart.setDrawCenterText(true)\n\n        chart.rotationAngle = 0f\n        chart.isRotationEnabled = true\n        chart.animateY(1400, Easing.EaseInOutQuad)\n\n        val l = chart.legend\n        l.verticalAlignment = Legend.LegendVerticalAlignment.CENTER\n        l.horizontalAlignment = Legend.LegendHorizontalAlignment.LEFT\n        l.orientation = Legend.LegendOrientation.VERTICAL\n        l.setDrawInside(false)\n        l.xOffset = 50f\n\n        chart.setEntryLabelColor(Color.WHITE)\n        chart.setEntryLabelTextSize(12f)\n        setData(3,5)\n    }\n\n    private fun setData(numOpen: Int, numInProgress: Int) {\n        val entries = ArrayList&lt;PieEntry&gt;()\n        val colors = ArrayList&lt;Int&gt;()\n\n        if (numOpen &gt; 0) {\n            entries.add(PieEntry(numOpen.toFloat(), \"Open\"))\n            colors.add(ColorTemplate.rgb(\"#F44336\"))\n\n        }\n        if (numInProgress &gt; 0) {\n            entries.add(PieEntry(numInProgress.toFloat(), \"Progress\"))\n            colors.add(ColorTemplate.rgb(\"#2196F3\"))\n        }\n\n        val dataSet = PieDataSet(entries, \"Status\")\n\n        dataSet.sliceSpace = 3f\n        dataSet.iconsOffset = MPPointF(0f, 40f)\n        dataSet.selectionShift = 5f\n\n        dataSet.colors = colors\n\n\n        val data = PieData(dataSet)\n        data.setValueFormatter(PercentFormatter(chart))\n        data.setValueTextSize(11f)\n        data.setValueTextColor(Color.WHITE)\n        chart.data = data\n\n        // undo all highlights\n        chart.highlightValues(null)\n        chart.invalidate()\n    }\n}\n</code></pre>\n\n<p><strong>main_activity</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n        &lt;android.support.v7.widget.CardView\n                android:id=\"@+id/cardView\"\n                android:clickable=\"true\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"15dp\"\n                android:layout_marginTop=\"15dp\"\n                android:layout_marginRight=\"15dp\"&gt;\n\n            &lt;com.github.mikephil.charting.charts.PieChart\n                    android:background=\"@color/colorPrimary\"\n                    android:id=\"@+id/chart\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"250dp\"\n                    android:layout_gravity=\"center_horizontal|center_vertical\"/&gt;\n\n        &lt;/android.support.v7.widget.CardView&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p><strong>Image</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Q83V9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q83V9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "any"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 4, "creation_date": 1557136935, "post_id": 56002279, "comment_id": 98651722, "body": "<code>Any</code> is not Parcelable."}], "answers": [{"tags": [], "owner": {"reputation": 1632, "user_id": 2256407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b883b472b93d8d1cabb5ff5e7fffc358?s=128&d=identicon&r=PG&f=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/2256407/mahmoud"}, "is_accepted": false, "score": 1, "last_activity_date": 1557136892, "creation_date": 1557136892, "answer_id": 56002909, "question_id": 56002279, "link": "https://stackoverflow.com/questions/56002279/how-use-any-object-in-kotlin-parceable/56002909#56002909", "title": "How use Any object in kotlin parceable?", "body": "<p>You have to enable this feature in the gradle file:</p>\n\n<pre><code>androidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p>also make sure you applied the plugin of kotlin extension for android:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#enabling-experimental-features\" rel=\"nofollow noreferrer\">Enabling experimental features</a></p>\n"}], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557140551, "creation_date": 1557134580, "last_edit_date": 1557140551, "question_id": 56002279, "link": "https://stackoverflow.com/questions/56002279/how-use-any-object-in-kotlin-parceable", "title": "How use Any object in kotlin parceable?", "body": "<p>I have to use Any Object for parseable in kotlin data model.</p>\n\n<pre><code>@Parcelize\ndata class TestModel(\n\n     var data: ArrayList&lt;Any&gt;? = null\n\n) : Parcelable\n</code></pre>\n\n<p>android studio show below error.\n<a href=\"https://i.stack.imgur.com/QLhCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QLhCS.png\" alt=\"enter image description here\"></a></p>\n\n<p>I add @RawValue in the data class</p>\n\n<pre><code>var data: @RawValue ArrayList&lt;Any&gt;? = null\n</code></pre>\n\n<p>but when I create a new instance from class, I get this error\n<a href=\"https://i.stack.imgur.com/3oQsz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3oQsz.png\" alt=\"enter image description here\"></a></p>\n\n<p>anybody can help me?</p>\n"}, {"tags": ["android", "android-intent", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 405, "user_id": 6376080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e9YY.jpg?s=128&g=1", "display_name": "Nick Bapu", "link": "https://stackoverflow.com/users/6376080/nick-bapu"}, "edited": false, "score": 0, "creation_date": 1557131829, "post_id": 56001505, "comment_id": 98649428, "body": "Because you are passing data into Intent but getting its using Bundle. There is no need to get data using bundle. Just call intent.getStringExtra(&quot;catId&quot;) if catId is string."}, {"owner": {"reputation": 7642, "user_id": 5773037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVVFa.jpg?s=128&g=1", "display_name": "Nikunj Paradva", "link": "https://stackoverflow.com/users/5773037/nikunj-paradva"}, "edited": false, "score": 1, "creation_date": 1557132472, "post_id": 56001505, "comment_id": 98649699, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45157567/how-to-pass-the-values-from-activity-to-another-activity-in-kotlin\">How to pass the values from activity to another activity in kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1109, "user_id": 5856547, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/77b5de76656b796f124e2a9193e030e0?s=128&d=identicon&r=PG&f=1", "display_name": "elbert rivas", "link": "https://stackoverflow.com/users/5856547/elbert-rivas"}, "is_accepted": false, "score": 0, "last_activity_date": 1557131907, "creation_date": 1557131907, "answer_id": 56001583, "question_id": 56001505, "link": "https://stackoverflow.com/questions/56001505/android-kotlin-start-activity-and-getting-data-from-intent/56001583#56001583", "title": "android kotlin - start activity and getting data from intent", "body": "<p>Change <code>getExtra</code> to <code>getStringExtra</code></p>\n\n<pre><code>bl.getStringExtra(\"catId\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 976, "user_id": 2059156, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/63cd1ed57348618c6514545a8f53ece2?s=128&d=identicon&r=PG", "display_name": "John Cowan", "link": "https://stackoverflow.com/users/2059156/john-cowan"}, "edited": false, "score": 0, "creation_date": 1610222331, "post_id": 56001611, "comment_id": 116066628, "body": "Thanks.  This worked for me in my situation."}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 3, "last_activity_date": 1557132012, "creation_date": 1557132012, "answer_id": 56001611, "question_id": 56001505, "link": "https://stackoverflow.com/questions/56001505/android-kotlin-start-activity-and-getting-data-from-intent/56001611#56001611", "title": "android kotlin - start activity and getting data from intent", "body": "<p>To retrieve data on second activity you just need to access directly intent's extra data as follows:</p>\n\n<pre><code>val catId = intent.getStringExtra(\"catId\")\n</code></pre>\n\n<p>Also, be sure that \"catId\" type is String (an ID usually is an Integer or Long), because if it is not an String, you will get the same error.</p>\n"}, {"comments": [{"owner": {"reputation": 16463, "user_id": 115890, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7BJ2g.jpg?s=128&g=1", "display_name": "ibrahimyilmaz", "link": "https://stackoverflow.com/users/115890/ibrahimyilmaz"}, "edited": false, "score": 0, "creation_date": 1559654475, "post_id": 56442496, "comment_id": 99483091, "body": "!! are not recommended to use. Because we use kotlin to get rid of NullPointer Exceptions."}], "tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1559645854, "creation_date": 1559645854, "answer_id": 56442496, "question_id": 56001505, "link": "https://stackoverflow.com/questions/56001505/android-kotlin-start-activity-and-getting-data-from-intent/56442496#56442496", "title": "android kotlin - start activity and getting data from intent", "body": "<p>I think in your code catItem.id is null, because of it catId is null, which causes of crash.</p>\n\n<p>Please try below code to overcome the crash:</p>\n\n<pre><code>var bundle :Bundle ?=intent.extras\nvar title = bundle!!.getString(\"title\")\nvar catId = bundle!!.getString(\"catId\")\n</code></pre>\n\n<p>I hope its work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 16463, "user_id": 115890, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7BJ2g.jpg?s=128&g=1", "display_name": "ibrahimyilmaz", "link": "https://stackoverflow.com/users/115890/ibrahimyilmaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1559655283, "creation_date": 1559655283, "answer_id": 56445049, "question_id": 56001505, "link": "https://stackoverflow.com/questions/56001505/android-kotlin-start-activity-and-getting-data-from-intent/56445049#56445049", "title": "android kotlin - start activity and getting data from intent", "body": "<p>According to your activity start code(just copy of your code):</p>\n\n<pre><code>val intent = Intent(this@MainActivity, Cards::class.java)\n            intent.putExtra(\"title\", catItem.name)\n            intent.putExtra(\"catId\", catItem.id)\n            startActivity(intent)\n</code></pre>\n\n<p>In Cards Activity <code>onCreate</code> method:</p>\n\n<p>if they are </p>\n\n<p><strong>Required:</strong> </p>\n\n<pre><code>val arguments = requireNotNull(intent?.extras){\"There should be parameters or your more meaningful message.\"} \n\nwith(arguments){\n          catId = getString(\"catId\")\n          title = getString(\"title\")\n         }\n</code></pre>\n\n<p><strong>Not Required:</strong></p>\n\n<pre><code>catId = intent?.extras?.getString(\"catId\").orEmpty()\ntitle= intent?.extras?.getString(\"title\").orEmpty()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>catId = intent?.extras?.getString(\"catId\",\"default Cat\").orEmpty()\ntitle= intent?.extras?.getString(\"title\",\"default Title\").orEmpty()\n</code></pre>\n"}], "owner": {"reputation": 1129, "user_id": 1191678, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/733e90c64bd48ebc0eb2e3e7c1d13592?s=128&d=identicon&r=PG&f=1", "display_name": "Navid Abutorab", "link": "https://stackoverflow.com/users/1191678/navid-abutorab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4739, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1559655283, "creation_date": 1557131588, "question_id": 56001505, "link": "https://stackoverflow.com/questions/56001505/android-kotlin-start-activity-and-getting-data-from-intent", "title": "android kotlin - start activity and getting data from intent", "body": "<p>I want to simply start an activity and send some data to my second activity , this is my code :</p>\n\n<p>Activiy main:</p>\n\n<pre><code> val intent = Intent(this@MainActivity, Cards::class.java)\n            intent.putExtra(\"title\", catItem.name)\n            intent.putExtra(\"catId\", catItem.id)\n            startActivity(intent)\n</code></pre>\n\n<p>catItem is not null and every item in it has value , i've debugged and I'm sure about it .</p>\n\n<p>the second activity that I need to get data :</p>\n\n<pre><code> val bl:Bundle=intent.extras\n    catId=bl.getString(\"catId\")\n    title=bl.getString(\"title\")\n</code></pre>\n\n<p>it crashes on the second line :</p>\n\n<pre><code> bl.getString(\"catId\") must not be null\n</code></pre>\n\n<p>I debugged and the bundle is completely empty .</p>\n\n<p>what is wrong with this code ?</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1557155184, "post_id": 56001672, "comment_id": 98661132, "body": "But I&#39;d like when to use <code>Disposable</code> and when to use <code>CompositeDisposable</code>, in which scenarios I mean."}, {"owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 1, "creation_date": 1557155968, "post_id": 56001672, "comment_id": 98661514, "body": "Well if you only have one Observable use a regular Disposable. If there are many use a CompositeDisposable. If you havd 3 Observables and one of them should run for a longer period than the other then use a CompositeDisposable for the 2 and a regular Disposable for the one that is running longer. Longer here means for example that it should continue to run when the Activity changes whereas the other two are disposed. Just use a regular Disposable if you need more granular control"}], "tags": [], "owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "is_accepted": false, "score": 0, "last_activity_date": 1557132260, "creation_date": 1557132260, "answer_id": 56001672, "question_id": 56001199, "link": "https://stackoverflow.com/questions/56001199/how-to-properly-call-to-retrofit-service-using-rxjava/56001672#56001672", "title": "How to properly call to retrofit service using rxJava?", "body": "<p>The core difference between <code>Observable</code> and <code>Single</code> is relatively easy to explain:</p>\n\n<ul>\n<li>An <code>Observable</code> can emit 0 to infinite values </li>\n<li>A <code>Single</code>, on the other hand, only emits 1 time</li>\n</ul>\n\n<p><code>CompositeDisposable</code> is advised over \"regular\" <code>Disposable</code> because you can <strong>compose</strong> <code>Disposables</code> with it. Why is this useful? Let's say you invoke 3 different network requests at the same time, then you can add all those <code>Disposables</code> to the <code>CompositeDisposable</code>. Now if you switch Activity for example, you don't want to continue those 3 requests. Therefor the <code>dispose()</code> function of the <code>CompositeDisposable</code> is called. It will remove all <code>Disposables</code> and does not allow new ones to be added. Contrary, there is also a function called <code>clear()</code> which does remove all Disposables as well but it allows new ones to be added.</p>\n\n<p>So basically instead of manually removing all <code>Disposables</code> one by one, you can handle this with a single method call. Hence the <code>CompositeDisposable</code> could be imagined like a \"Manager\" for <code>Disposables</code>.</p>\n\n<p>And even with using a regular <code>Disposable</code>, you should call the <code>dispose()</code> function. Otherwise you may continue running <code>Observables</code> despite being on a completely different part of the App.</p>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1557139441, "post_id": 56003004, "comment_id": 98652869, "body": "Do you know where I can get all of this information clear?"}, {"owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1557140076, "post_id": 56003004, "comment_id": 98653164, "body": "I learned all of these things from different source like blog, videos, sample good etc. So, Start with specific item and start learning using those source."}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1557155137, "post_id": 56003004, "comment_id": 98661112, "body": "Do you have any sample code using MVP and rxJava so I can learn from?"}], "tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": false, "score": 0, "last_activity_date": 1557137251, "creation_date": 1557137251, "answer_id": 56003004, "question_id": 56001199, "link": "https://stackoverflow.com/questions/56001199/how-to-properly-call-to-retrofit-service-using-rxjava/56003004#56003004", "title": "How to properly call to retrofit service using rxJava?", "body": "<p>Seems like you have much confusion about RxJava. First gets familiar with RxJava concept specifically Observable, Single, Completeable etc. Which serving what purpose? With proper scheduler usage. Then things will be bit clear to you.</p>\n\n<p>And <code>Disposable</code> is being used when you have only one subscription in our class or you want to handle all the subscriptions independently.</p>\n\n<p>Use <code>CompositeDisposable</code> when you are putting all of your subscription together into a single disposable so that you can clear in a simple way based on lifecycle.</p>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1557137251, "creation_date": 1557130192, "question_id": 56001199, "link": "https://stackoverflow.com/questions/56001199/how-to-properly-call-to-retrofit-service-using-rxjava", "title": "How to properly call to retrofit service using rxJava?", "body": "<p>I'm trying to understand <code>rxJava</code> and I'm looking for an expert or someone with experience to try to solve my question, the thing is I've been using RxJava for a year, but only for <code>Retrofit</code> calls, I've been using <code>Disposable</code> and doing something like : </p>\n\n<pre><code>disposable = myService.myInterface.getData()\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe(this::handleResponse, this::handleError))\n</code></pre>\n\n<p>Ok, but when I'm searching on Google I saw people using <code>CompositeDisposable</code> and they instead of doing <code>disposable = ...</code> they are doing <code>compositeDisposable.add(....)</code> I'd like to know when to use each one, I also say <code>Single</code> is for returning either a value or an error, but what's the difference between <code>Observable</code> then? If <code>Single</code> can return also a <code>List&lt;Object&gt;</code>.</p>\n\n<p>And in other example I'm using this :</p>\n\n<pre><code>private var subscription: Disposable? = null\nsubscription = model.result()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object : DisposableObserver&lt;ListViewModel&gt;() {\n                override fun onNext(viewModel: ListViewModel) {\n                    if (mView != null) {\n                        mView!!.updateData(viewModel)\n                    }\n                }\n\n                override fun onError(e: Throwable) {\n                    e.printStackTrace()\n                    if (mView != null) {\n                        mView!!.showError()\n                    }\n                }\n\n                override fun onComplete() {\n                    if (mView != null) {\n                        mView!!.hideProgressBar()\n                    }\n                }\n            })\n</code></pre>\n\n<p>I noted that if I use the <code>add.(..)</code> thing in the <code>onStop()</code> I have to clear the <code>compositeDisposable</code></p>\n\n<p>And also I've been using <code>disposable</code> without the <code>onNext</code>, <code>onError</code> and <code>onComplete</code> could you guys let me know when use all of those? </p>\n"}, {"tags": ["android-intent", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11457889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC4gF.jpg?s=128&g=1", "display_name": "AnnaS", "link": "https://stackoverflow.com/users/11457889/annas"}, "edited": false, "score": 0, "creation_date": 1557124921, "post_id": 55999902, "comment_id": 98646465, "body": "i try this with &#39;cotext.startActivity()&#39;, but it doesn&#39;t work too. Error: unresolved reference"}, {"owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "reply_to_user": {"reputation": 15, "user_id": 11457889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC4gF.jpg?s=128&g=1", "display_name": "AnnaS", "link": "https://stackoverflow.com/users/11457889/annas"}, "edited": false, "score": 0, "creation_date": 1557125012, "post_id": 55999902, "comment_id": 98646504, "body": "You need to pass context into your adapter"}, {"owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "reply_to_user": {"reputation": 15, "user_id": 11457889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC4gF.jpg?s=128&g=1", "display_name": "AnnaS", "link": "https://stackoverflow.com/users/11457889/annas"}, "edited": false, "score": 0, "creation_date": 1557125039, "post_id": 55999902, "comment_id": 98646518, "body": "Where you from call your adapter"}, {"owner": {"reputation": 15, "user_id": 11457889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC4gF.jpg?s=128&g=1", "display_name": "AnnaS", "link": "https://stackoverflow.com/users/11457889/annas"}, "edited": false, "score": 0, "creation_date": 1557125137, "post_id": 55999902, "comment_id": 98646558, "body": "could you explain, approx, where it is to determine and how to transfer it"}], "tags": [], "owner": {"reputation": 966, "user_id": 10970473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2gU1.jpg?s=128&g=1", "display_name": "Dinesh Shingadiya", "link": "https://stackoverflow.com/users/10970473/dinesh-shingadiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1557126178, "last_edit_date": 1557126178, "creation_date": 1557124491, "answer_id": 55999902, "question_id": 55999815, "link": "https://stackoverflow.com/questions/55999815/how-to-make-intent-to-browser-inside-the-adapter-of-recyclyrview/55999902#55999902", "title": "How to make Intent to Browser inside the Adapter of RecyclyrView", "body": "<p>Try with</p>\n\n<p>For initialize adapter</p>\n\n<pre><code>private lateinit var adapterNews: NewsAdapter\n\nadapterNews = NewsAdapter(arrayList, mContext)\n</code></pre>\n\n<p>For adapter</p>\n\n<pre><code>NewsAdapter(private val arrayList: ArrayList&lt;String&gt;, private val mContext: Activity) : RecyclerView.Adapter&lt;CustomViewHolderNews&gt;() {\n\n\nnewsImage.setOnClickListener{\n    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(item.site_url))\n    mContext.startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11457889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vC4gF.jpg?s=128&g=1", "display_name": "AnnaS", "link": "https://stackoverflow.com/users/11457889/annas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557132091, "creation_date": 1557124075, "last_edit_date": 1557132091, "question_id": 55999815, "link": "https://stackoverflow.com/questions/55999815/how-to-make-intent-to-browser-inside-the-adapter-of-recyclyrview", "title": "How to make Intent to Browser inside the Adapter of RecyclyrView", "body": "<p>List items contain links to web pages. When you click on an item, the browser in which the link opens should be called. The problem is that when you try to call Intent, an error occurs that is related to context.</p>\n\n<p>Help fix the error, and if possible, write the correct way. Thanks</p>\n\n<pre><code>class NewsAdapter(val newsList: NewsList): RecyclerView.Adapter&lt;CustomViewHolderNews&gt;() {\n\noverride fun getItemCount(): Int {\n\n    return newsList.results.count()\n}\n\noverride fun onCreateViewHolder(p0: ViewGroup, p1: Int): CustomViewHolderNews {\n\n    val layoutInflater = LayoutInflater.from(p0.context)\n    val cellForRow = layoutInflater.inflate(R.layout.news_row, p0, false)\n\n    return CustomViewHolderNews(cellForRow)\n}\n\noverride fun onBindViewHolder(holder: CustomViewHolderNews, position: Int) {\n\n    val item = newsList.results.get(position)\n    holder.view.title.text = item.title\n\n    val newsImage = holder.view.news_image\n    Picasso.get().load(item.imgs.get(0).img).resize(1000 , 600).centerCrop().into(newsImage)\n\n    newsImage.setOnClickListener{\n        val intent = Intent(Intent.ACTION_VIEW, Uri.parse(item.site_url))\n        startActivity(intent)\n    }\n}\n}\n\nclass CustomViewHolderNews(val view: View): RecyclerView.ViewHolder(view){}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "onfocus"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1557111586, "post_id": 55998156, "comment_id": 98643361, "body": "how about remove the <code>LinearLayout</code> ?"}, {"owner": {"reputation": 139, "user_id": 8600702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1KMA5.png?s=128&g=1", "display_name": "Sahil Choudhary", "link": "https://stackoverflow.com/users/8600702/sahil-choudhary"}, "edited": false, "score": 0, "creation_date": 1557122180, "post_id": 55998156, "comment_id": 98645565, "body": "&lt;activity    android:name=&quot;.EditextActivity&quot;          android:theme=&quot;@style/AppTheme.NoActionBar&quot;           android:windowSoftInputMode=&quot;stateAlwaysHidden&quot; /&gt;"}, {"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1557123857, "post_id": 55998156, "comment_id": 98646092, "body": "I just tried your layout on an API 19 and on an API 26 (Android 8.0). It&#39;s working for both devices. No need to change anything in manifest. (???). Can you share your Activity?"}, {"owner": {"reputation": 178, "user_id": 5635144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdad212c64e09721be44eb2adb694709?s=128&d=identicon&r=PG&f=1", "display_name": "naturesenshi", "link": "https://stackoverflow.com/users/5635144/naturesenshi"}, "edited": false, "score": 0, "creation_date": 1557143849, "post_id": 55998156, "comment_id": 98654951, "body": "I have added it for your attention. I don&#39;t know why it simply won&#39;t work on my device."}, {"owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "edited": false, "score": 0, "creation_date": 1557144385, "post_id": 55998156, "comment_id": 98655210, "body": "ok, see my answer."}], "answers": [{"tags": [], "owner": {"reputation": 1442, "user_id": 11288846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4NDoB.png?s=128&g=1", "display_name": "Ferran", "link": "https://stackoverflow.com/users/11288846/ferran"}, "is_accepted": true, "score": 2, "last_activity_date": 1557144371, "creation_date": 1557144371, "answer_id": 56004873, "question_id": 55998156, "link": "https://stackoverflow.com/questions/55998156/how-to-move-all-elements-in-constraint-layout-up-on-focus-in-edit-text-field/56004873#56004873", "title": "How to move all elements in Constraint Layout Up on focus in Edit text Field?", "body": "<p>Remove this line:</p>\n\n<pre><code>window.setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n</code></pre>\n\n<p>With <code>FLAG_LAYOUT_NO_LIMITS</code> the application is not able to calculate how to scroll your view, because your layout has no limits.</p>\n"}], "owner": {"reputation": 178, "user_id": 5635144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cdad212c64e09721be44eb2adb694709?s=128&d=identicon&r=PG&f=1", "display_name": "naturesenshi", "link": "https://stackoverflow.com/users/5635144/naturesenshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 1, "accepted_answer_id": 56004873, "answer_count": 1, "score": 0, "last_activity_date": 1557144371, "creation_date": 1557110233, "last_edit_date": 1557143806, "question_id": 55998156, "link": "https://stackoverflow.com/questions/55998156/how-to-move-all-elements-in-constraint-layout-up-on-focus-in-edit-text-field", "title": "How to move all elements in Constraint Layout Up on focus in Edit text Field?", "body": "<p>I am trying to make a layout with an Edit Text field for email requests. The design makes it so that the keyboard is always opened over the editText View which makes it impossible to know what you are entering. I have tried many suggestions on stack overflow but most of them are for API &lt;24 (though I don't think this has much effect on this). </p>\n\n<p>In the Activity file I have tried the following: </p>\n\n<pre><code>window.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN or WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n\nwindow.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n\nwindow.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN or WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n\n\nwindow.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE)\n</code></pre>\n\n<p>In Android Manifest I have also tried the following, both in conjunction and separately: </p>\n\n<pre><code>android:windowSoftInputMode=\"adjustPan\"\nandroid:windowSoftInputMode=\"stateHidden|adjustPan\"\nandroid:windowSoftInputMode=\"adjustResize\"\n</code></pre>\n\n<p>I also wrapped my layout in a ScrollView as described by  Heena \n here : <a href=\"https://stackoverflow.com/a/39867438/5635144\">https://stackoverflow.com/a/39867438/5635144</a> </p>\n\n<p>Below is my XML and the accompanying activity</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".EmailResetActivity\"&gt;\n\n\n    &lt;RelativeLayout\n        android:id=\"@+id/bg\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"419dp\"\n        android:background=\"@drawable/signin_up_anim\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            ...\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;EditText\n        android:id=\"@+id/e_request\"\n        android:layout_width=\"305dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"48dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:ems=\"10\"\n        android:hint=\"@string/email_address\"\n        android:inputType=\"textEmailAddress\"\n        android:paddingStart=\"10dp\"\n        android:paddingBottom=\"15dp\"\n        android:textColorHint=\"@color/hintgrey\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.522\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/bg\" /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:id=\"@+id/buttonsContainer\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/e_request\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/sendRequestBtn\"\n            android:layout_width=\"150dp\"\n            android:layout_height=\"45dp\"\n            android:background=\"@drawable/large_btn\"\n            android:text=\"@string/submit\"\n            android:textColor=\"@color/white\" /&gt;\n    &lt;/LinearLayout&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\nclass EmailResetActivity : AppCompatActivity() {\n    lateinit private var auth: FirebaseAuth\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_email_reset)\n        window.setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS, WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n\n        window.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN or WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n\n        auth = FirebaseAuth.getInstance()\n\n\n\n        val animDrawable = resetPassInfoBg.background as AnimationDrawable\n        animDrawable.setEnterFadeDuration(2500)\n        animDrawable.setExitFadeDuration(1500)\n        animDrawable.start()\n\n\n        sendRequestBtn.setOnClickListener(View.OnClickListener {\n            val email = e_request.getText().toString().trim()\n\n            if (TextUtils.isEmpty(email)) {\n                Toast.makeText(application, \"Enter your email \", Toast.LENGTH_SHORT).show()\n                return@OnClickListener\n            }\n\n\n        })\n\n\n    }\n\n}\n</code></pre>\n\n<p>I would like for the layout to be moved up so the editText Field is visible but currently nothing is making it work. </p>\n"}, {"tags": ["java", "arrays", "kotlin", "constructor", "invariants"], "comments": [{"owner": {"reputation": 932, "user_id": 5696201, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53ad9765833b4f98069186ef4a1c2bac?s=128&d=identicon&r=PG&f=1", "display_name": "Logan", "link": "https://stackoverflow.com/users/5696201/logan"}, "edited": false, "score": 1, "creation_date": 1557090952, "post_id": 55996476, "comment_id": 98640005, "body": "Throwing an exception is likely your best bet. Even if you accepted a <code>char[]</code>, someone could still pass an array with less than 12 elements."}, {"owner": {"reputation": 973, "user_id": 6886283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kwXN.png?s=128&g=1", "display_name": "priyank-sriv", "link": "https://stackoverflow.com/users/6886283/priyank-sriv"}, "edited": false, "score": 0, "creation_date": 1557091395, "post_id": 55996476, "comment_id": 98640108, "body": "You may want to look at <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#chapter-bean-constraints\" rel=\"nofollow noreferrer\">Hibernate Validator</a>. I&#39;ve linked to the section that&#39;ll give you exactly how to implement it."}, {"owner": {"reputation": 55, "user_id": 10986531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c_76WdbRD0Y/AAAAAAAAAAI/AAAAAAAAACE/os6m--JKg4g/photo.jpg?sz=128", "display_name": "Thomas Fritz", "link": "https://stackoverflow.com/users/10986531/thomas-fritz"}, "reply_to_user": {"reputation": 973, "user_id": 6886283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kwXN.png?s=128&g=1", "display_name": "priyank-sriv", "link": "https://stackoverflow.com/users/6886283/priyank-sriv"}, "edited": false, "score": 0, "creation_date": 1557096053, "post_id": 55996476, "comment_id": 98640997, "body": "Thanks for the suggestion @Sindbad90, I&#39;ll definitely look into the Hibernate Validator the next time I&#39;ll face this problem in the context of a serious project. But for this assignment, external libraries downloaded from the internet are not an option. I did however find out another secure yet not very elegant way to achieve the minimum name length of 12 inside the constructor by letting my professor type in the chars individually. The code is about 200 letters too long to post it as a comment though"}], "answers": [{"tags": [], "owner": {"reputation": 5618, "user_id": 4681060, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100002889988419/picture?type=large", "display_name": "Krzysztof Cichocki", "link": "https://stackoverflow.com/users/4681060/krzysztof-cichocki"}, "is_accepted": false, "score": 1, "last_activity_date": 1557094405, "last_edit_date": 1557094405, "creation_date": 1557094098, "answer_id": 55996831, "question_id": 55996476, "link": "https://stackoverflow.com/questions/55996476/set-minimum-size-of-a-variable-array-in-the-constructor/55996831#55996831", "title": "set minimum size of a variable array in the constructor", "body": "<p>One of my best ideas would be to just move the check from constructor to a separated method with name describing the logic inside. Something like this:</p>\n\n<p><code>private void validateHasAtLeast12chars(String toValidate)</code></p>\n\n<p>Putting a logic into named method is always good practice, this is both elegant and easy to follow. If you have a logic that could be named then it is always elegant if it is in its own method with that name.</p>\n"}, {"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1557132277, "post_id": 55997138, "comment_id": 98649618, "body": "This is the only answer (so far) which enforces the 12-character limit <b>at compile time</b>, which is what I think the questioner was aiming for.  Though, as you say, it&#39;s very specific and not at all practical, and I really wouldn&#39;t want to see it in production code..."}], "tags": [], "owner": {"reputation": 55, "user_id": 10986531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c_76WdbRD0Y/AAAAAAAAAAI/AAAAAAAAACE/os6m--JKg4g/photo.jpg?sz=128", "display_name": "Thomas Fritz", "link": "https://stackoverflow.com/users/10986531/thomas-fritz"}, "is_accepted": false, "score": 0, "last_activity_date": 1557097145, "creation_date": 1557097145, "answer_id": 55997138, "question_id": 55996476, "link": "https://stackoverflow.com/questions/55996476/set-minimum-size-of-a-variable-array-in-the-constructor/55997138#55997138", "title": "set minimum size of a variable array in the constructor", "body": "<p>OK so I've found out a strategy that works for my specific problem, establishing a minimum character count for whenever an instance of a Kingdom shall be created, and it goes like this in Java:</p>\n\n<pre><code>\npublic abstract class CustomTools {\n    public static char[] combineCharArrays(char[] array1, char[] array2){\n        // combines two char[] arrays into one with the combined length and returns the result\n        // no need to get too specific ;)\n    }\n}\n</code></pre>\n\n<pre><code>public class Kingdom {\n\n        private char[] name;\n        public char[] getName(){return name;}\n\n        public Kingdom(char nameChar1, char nameChar2, char nameChar3, char nameChar4, char nameChar5, char nameChar6, char nameChar7,\n                       char nameChar8, char nameChar9, char nameChar10, char nameChar11, char nameChar12, char... restName) { //\n\n            char [] name = CustomTools.combineCharArrays(new char[] {nameChar1, nameChar2, nameChar3, nameChar4, nameChar5, nameChar6, nameChar7,\n                    nameChar8, nameChar9, nameChar10, nameChar11, nameChar12}, restName);\n\n            this.name = name;\n    }\n}\n</code></pre>\n\n<p>However, this implementation is tedious to work with (instead of one word, everyone using the Kingdom class must put in at least 12 single characters, divided by commata) and therefore not very elegant, defying my initial goal.\nI also imagine the concept behind this code to not work or be inappropriate for a variety of use-cases.</p>\n\n<p>So a real answer to this question has yet to be found.</p>\n"}, {"tags": [], "owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "is_accepted": false, "score": 0, "last_activity_date": 1557099606, "creation_date": 1557099606, "answer_id": 55997323, "question_id": 55996476, "link": "https://stackoverflow.com/questions/55996476/set-minimum-size-of-a-variable-array-in-the-constructor/55997323#55997323", "title": "set minimum size of a variable array in the constructor", "body": "<p>There\u2019s no way to do what you want, which is bind a constraint with a message to a field, in \"raw\" java, but you can use annotations.</p>\n\n<p>Note that when using annotations you don\u2019t <em>avoid</em> any code, you just move it somewhere else.</p>\n\n<pre><code>class Kingdom {\n    @MinLength(12)\n    private String name;\n\n    ...\n}\n</code></pre>\n\n<p>You would then need to create the MinLength annotation class and implement the behaviour you want, using reflection to find out the name of the field so annotated to use in the message.</p>\n\n<p>We call this type of implementation <em>over engineering</em>, but it would work.</p>\n"}], "owner": {"reputation": 55, "user_id": 10986531, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-c_76WdbRD0Y/AAAAAAAAAAI/AAAAAAAAACE/os6m--JKg4g/photo.jpg?sz=128", "display_name": "Thomas Fritz", "link": "https://stackoverflow.com/users/10986531/thomas-fritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1557099606, "creation_date": 1557090687, "question_id": 55996476, "link": "https://stackoverflow.com/questions/55996476/set-minimum-size-of-a-variable-array-in-the-constructor", "title": "set minimum size of a variable array in the constructor", "body": "<p>So my Programming professor wants me to write a Kingdom class with a variable name that's at least 12 characters long.\nNormally one would just implement this class with a String name variable and an error message if the invariant of 12 characters min is broken, something like this in Java:</p>\n\n<pre><code>import java.lang.annotation.AnnotationTypeMismatchException;\npublic class Kingdom {\n\n    private String name;\n    public String getName(){return name;}\n\n    public Kingdom(String name) {\n        if (name.length() &lt; 12){\n            throw new IllegalArgumentException(\"name must have at least 12 characters\");\n        }\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p>or that in Kotlin:</p>\n\n<pre><code>import java.lang.IllegalArgumentException\n\nclass KingdomName (name: String) {\n    public val name: String = if (name.length &gt;= 12) name else throw IllegalArgumentException(\"name must have at least 12 characters\")\n}\n</code></pre>\n\n<p>But I wanna know if there is a more elegant path in which the \"must have at least 12 characters\" invariant can be defined right in the variable name itself, forcing my professor to input at least 12 characters for the name like we all are forced to assign integers from -2,147,483,648 to 2,147,483,647 to a variable from type int/Int.</p>\n\n<p>Now I thought about making my name a char[] array and allowing only char arrays longer or equal to 12 in the constructor, something like this in fake-Java:</p>\n\n<pre><code>public class Kingdom {\n\n    private char[] name;\n\n    public Kingdom(char[&lt;=12] name) {   //this line cannot exist in real Java\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>But is there a way?</p>\n\n<p>I also consider inventing a new type called KingdomName that is identical to a char[] array but must always have at least 12 elements, but again, how do I do that?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kapt"], "owner": {"reputation": 831, "user_id": 3423932, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219973793/picture?type=large", "display_name": "muthuraj", "link": "https://stackoverflow.com/users/3423932/muthuraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557129410, "creation_date": 1557086737, "last_edit_date": 1557129410, "question_id": 55995947, "link": "https://stackoverflow.com/questions/55995947/how-to-make-my-custom-annotation-processor-for-room-entities-run-before-room-ann", "title": "How to make my custom annotation processor for Room Entities run before Room annotation processor starts?", "body": "<p>I made a small <a href=\"https://github.com/muthuraj57/roomColumnFieldGenerator\" rel=\"nofollow noreferrer\">annotation processor</a> which generates Kotlin class for all Room Entities with fields representing Column names. I did this to use the generated class static final field instead of raw string in @ColumnInfo, @ForeignKey parentColumn, childColumn etc.</p>\n\n<p>The problem is, when I use the field from generated class in say, @ColumnInfo like this</p>\n\n<pre><code>@Entity(tableName = \"DogTable\")\ndata class Dog(\n\n    @PrimaryKey\n    @ColumnInfo(name = DogTableFields.ID) //DogTableFields class is generated from my annotation processor\n    val id: String = \"\"\n)\n</code></pre>\n\n<p>I'm getting build error saying</p>\n\n<blockquote>\n  <p>error: element value must be a constant expression\n      @androidx.room.ColumnInfo(name = null)</p>\n</blockquote>\n\n<p>I think Room compiler's annotation processor runs before my processor and that's why the generated field is null.</p>\n\n<p>My question is, how do I make my annotation processor run before Room's processor runs? or is there any other way to make this work?</p>\n\n<p>Edit: This is the <a href=\"https://gist.github.com/muthuraj57/c22991a405999acd5da415c8de24239d\" rel=\"nofollow noreferrer\">Dog.java file</a> which is generated under /app/build/tmp/kapt3/stubs/debug from where the error is shown. You can see that, the @ColumnInfo have <code>null</code> for <code>name</code>.</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "edited": false, "score": 0, "creation_date": 1557083920, "post_id": 55995436, "comment_id": 98638295, "body": "You can use <code>.flatMap()</code> or <code>.concatMap()</code> instead <code>.map()</code>"}, {"owner": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "reply_to_user": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "edited": false, "score": 0, "creation_date": 1557086871, "post_id": 55995436, "comment_id": 98639006, "body": "Thank you for answering! I used .flatMap() before. However, &quot;Retrun is not allowed here&quot; was still generated."}, {"owner": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "reply_to_user": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "edited": false, "score": 0, "creation_date": 1557086972, "post_id": 55995436, "comment_id": 98639044, "body": "This is the code that I did before.  .flatMap { return Observable.just(it) }"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "edited": false, "score": 0, "creation_date": 1557088007, "post_id": 55995504, "comment_id": 98639321, "body": "In this case, I think that observeOn isn&#39;t needed in getItem() method. Because I will have to do myCompositeDisposable.add outside of this function, and then define the observeOn(). Is it correct??"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "reply_to_user": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "edited": false, "score": 0, "creation_date": 1557130924, "post_id": 55995504, "comment_id": 98649023, "body": "You can do <code>observeOn</code> and <code>subscribeOn</code> wherever you want. From a code-structure point of view it probably is better to do it outside of the <code>getItem()</code> function"}, {"owner": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "edited": false, "score": 0, "creation_date": 1557161692, "post_id": 55995504, "comment_id": 98664136, "body": "Ok. I understand it. Thank you!"}], "tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1557083714, "creation_date": 1557083714, "answer_id": 55995504, "question_id": 55995436, "link": "https://stackoverflow.com/questions/55995436/how-to-return-observable-from-subscribe-or-map/55995504#55995504", "title": "How to return Observable from subscribe or map?", "body": "<p>Inside <code>map</code>'s lambda you get the element inside the <code>Observable</code>, so in your case <code>it</code> appears to be <code>List&lt;RetroCrypto&gt;</code>.\nIf you want to return the <code>Observable</code> you have to do something like this:</p>\n\n<pre><code>object RemoteDataSource : DataSource {\n\n    private val myCompositeDisposable by lazy { CompositeDisposable() }\n\n    override fun getItem(): Observable&lt;List&lt;RetroCrypto&gt;&gt; {\n\n        val retrofit = RetroClient.getRetrofit()\n        val requestInterface = retrofit.create(GetData::class.java)\n\n        val observable = requestInterface.getData()\n                // Send the Observable\u2019s notifications to the main UI thread\n                .observeOn(AndroidSchedulers.mainThread())\n                // Subscribe to the Observer away from the main UI thread\n                .subscribeOn(Schedulers.io())\n\n        return observable\n    }\n}\n</code></pre>\n\n<p>Note: you get a disposable to add to <code>myCompositeDisposable</code> only after you subscribe, so you will have to do <code>myCompositeDisposable.add</code> outside of this function.</p>\n"}], "owner": {"reputation": 3, "user_id": 11456359, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--ziqzhCMLeE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPykJyqXHIZ6c1SiY0NxXVBCYZFA/mo/photo.jpg?sz=128", "display_name": "\uae40\uc601\uc8fc", "link": "https://stackoverflow.com/users/11456359/%ea%b9%80%ec%98%81%ec%a3%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557083714, "creation_date": 1557083280, "question_id": 55995436, "link": "https://stackoverflow.com/questions/55995436/how-to-return-observable-from-subscribe-or-map", "title": "How to return Observable from subscribe or map?", "body": "<p>I want to return Observable in the Subscribe function , but I read the document that it is impossible.\nSo I tried to this by using map function. However, it generated the error.</p>\n\n<p>This is the code:</p>\n\n<pre><code>interface DataSource {\n\n    fun getItem() : Observable&lt;List&lt;RetroCrypto&gt;&gt;\n}\n</code></pre>\n\n<p>//    </p>\n\n<pre><code>object RemoteDataSource : DataSource {\n\nprivate val myCompositeDisposable by lazy { CompositeDisposable() }\n\noverride fun getItem() : Observable&lt;List&lt;RetroCrypto&gt;&gt; {\n\n    val retrofit = RetroClient.getRetrofit()\n    val requestInterface = retrofit.create(GetData::class.java)\n\n    myCompositeDisposable.add(requestInterface.getData()\n        // Send the Observable\u2019s notifications to the main UI thread\n        .observeOn(AndroidSchedulers.mainThread())\n        // Subscribe to the Observer away from the main UI thread\n        .subscribeOn(Schedulers.io())\n        .map { return it }\n\n    )\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>getRetrofit</strong> is the method that build the retrofit instance.</p>\n\n<p>I don't know why above code generates the error. </p>\n\n<p>The error is</p>\n\n<pre><code>1. Return is not allowed here\n\n2. Type mismatch. Required : Observable&lt;List&lt;RetroCrypto&gt;&gt; , Found : List&lt;RetroCrypto&gt;\n</code></pre>\n\n<p>How can I fix the code?</p>\n"}, {"tags": ["android", "database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3436, "user_id": 8011713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAts2.jpg?s=128&g=1", "display_name": "Rene Ferrari", "link": "https://stackoverflow.com/users/8011713/rene-ferrari"}, "is_accepted": false, "score": 6, "last_activity_date": 1557079657, "creation_date": 1557079657, "answer_id": 55994906, "question_id": 55994734, "link": "https://stackoverflow.com/questions/55994734/primary-keys-in-room-should-be-int-or-long/55994906#55994906", "title": "Primary keys in Room should be Int or Long?", "body": "<p>Both is fine. On mobile (and most of the time in general)  <code>Int</code> should be sufficient (it will also save you 4 bytes over <code>Long</code>).</p>\n\n<p><strong>Why?</strong> Using an <code>Int</code> you could store over 2 billion records (2_000_000_000). So you could store a record of around <code>1/4</code> of all the humans living on earth. Just for comparison: Using a <code>Long</code> would enable you to store over 900 quadrillion records (900_000_000_000_000_000).</p>\n"}, {"comments": [{"owner": {"reputation": 507, "user_id": 5959593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/78d489b31ec60519733298259e8c1dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Minh Ngh\u0129a", "link": "https://stackoverflow.com/users/5959593/minh-ngh%c4%a9a"}, "edited": false, "score": 0, "creation_date": 1608541561, "post_id": 55995219, "comment_id": 115605731, "body": "Does it mean that integer in SQLite uses a variable-length encoding?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 14, "last_activity_date": 1557082220, "last_edit_date": 1557082220, "creation_date": 1557081768, "answer_id": 55995219, "question_id": 55994734, "link": "https://stackoverflow.com/questions/55994734/primary-keys-in-room-should-be-int-or-long/55995219#55995219", "title": "Primary keys in Room should be Int or Long?", "body": "<p>Both of these types will map to an <code>INTEGER</code> in the underlying SQLite database.</p>\n\n<p>For example, with a class like this:</p>\n\n<pre><code>@Entity\ndata class Test(@PrimaryKey val i: Int, val l: Long)\n</code></pre>\n\n<p>You'd get a SQLite table defined with this query:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `Test` (`i` INTEGER NOT NULL, `l` INTEGER NOT NULL, PRIMARY KEY(`i`))\n</code></pre>\n\n<p>So you can use whichever one you'll need the magnitude of in your code. If you do decide to use an <code>Int</code> for some reason and you run out of values, you can even change it to a <code>Long</code> without having to migrate your database later on.</p>\n\n<p>As for this <code>INTEGER</code> type, as per the <a href=\"https://www.sqlite.org/datatype3.html\" rel=\"noreferrer\">SQLite documentation</a>:</p>\n\n<blockquote>\n  <p>The value is a signed integer, stored in 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value.</p>\n</blockquote>\n"}], "owner": {"reputation": 904, "user_id": 7102009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-E7w9qXEZq10/AAAAAAAAAAI/AAAAAAAAAJw/-sA4BTZUh1Q/photo.jpg?sz=128", "display_name": "Eduardo Corona", "link": "https://stackoverflow.com/users/7102009/eduardo-corona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 0, "accepted_answer_id": 55995219, "answer_count": 2, "score": 8, "last_activity_date": 1557082220, "creation_date": 1557078374, "question_id": 55994734, "link": "https://stackoverflow.com/questions/55994734/primary-keys-in-room-should-be-int-or-long", "title": "Primary keys in Room should be Int or Long?", "body": "<p>I'm designing a Database that would be implemented in Android using Room, after reading the docs I found that there is no recomendations about using Int or Long as primary keys. </p>\n\n<p>In some places they define entities with int primary keys:</p>\n\n<pre><code>@Entity\ndata class User(\n    @PrimaryKey var id: Int,\n    var firstName: String?,\n    var lastName: String?\n)\n</code></pre>\n\n<p>But in other place it says that if you want to get the ID of the last row inserted \"insert\" method return a long.</p>\n\n<pre><code>@Dao\ninterface MyDao {\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertUsers(vararg users: User)\n\n    @Insert\n    fun insertBothUsers(user1: User, user2: User)\n\n    @Insert\n    fun insertUsersAndFriends(user: User, friends: List&lt;User&gt;)\n}\n</code></pre>\n\n<blockquote>\n  <p>If the @Insert method receives only 1 parameter, it can return a long, which is the new rowId for the inserted item. If the parameter is an array or a collection, it should return long[] or List instead.</p>\n</blockquote>\n\n<p>So, The primary keys in room should be Int or Long?; Are there best practices about choosing one type over the other?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-binding-adapter"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 1, "last_activity_date": 1557083070, "last_edit_date": 1557083070, "creation_date": 1557078073, "answer_id": 55994688, "question_id": 55994001, "link": "https://stackoverflow.com/questions/55994001/cant-bind-a-ratingbar-on-the-recyclerview-using-android-binding/55994688#55994688", "title": "Can&#39;t bind a RatingBar on the RecyclerView using Android binding", "body": "<p>The <code>mVoteAverage: Double?</code> property of your <code>Result</code> class is a <code>Double</code>.\nYou <code>@BindingAdapter</code> method has a <code>Float</code> parameter. That's why the binding doesn't work. Changing</p>\n\n<pre><code>    @JvmStatic\n    @BindingAdapter(\"ratingValue\")\n    fun setRating(ratingBar: RatingBar, mVoteAverage: Float)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>    @JvmStatic\n    @BindingAdapter(\"ratingValue\")\n    fun setRating(ratingBar: RatingBar, mVoteAverage: Double)\n</code></pre>\n\n<p>should do the trick. </p>\n"}], "owner": {"reputation": 362, "user_id": 10381236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PY3G-XubQfw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNb2LKGDSSuBjWxwg0NMS1reLtMGQ/mo/photo.jpg?sz=128", "display_name": "Idris Stack", "link": "https://stackoverflow.com/users/10381236/idris-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 55994688, "answer_count": 1, "score": 0, "last_activity_date": 1557083070, "creation_date": 1557073179, "last_edit_date": 1557073851, "question_id": 55994001, "link": "https://stackoverflow.com/questions/55994001/cant-bind-a-ratingbar-on-the-recyclerview-using-android-binding", "title": "Can&#39;t bind a RatingBar on the RecyclerView using Android binding", "body": "<p>I am using kotlin to bind a RatingBar which is placed on a RecyclerView but am getting the following error :</p>\n\n<blockquote>\n  <p>Cannot find the setter for attribute 'app:ratingValue' with parameter type java.lang.Double on android.widget.RatingBar.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/uIKI4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uIKI4.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I tried to follow different blogs on setting the value to the <strong>RatingBar</strong> but I can't implement it in the Adapter.</p>\n\n<p>Below is my model class :</p>\n\n<pre><code>@Entity(tableName = \"Results\")\nclass Result {\n\n    companion object {\n\n        @JvmStatic\n        @BindingAdapter(\"ratingValue\")\n        fun setRating(ratingBar: RatingBar, mVoteAverage: Float) {\n            if (mVoteAverage != null) {\n                ratingBar.rating = mVoteAverage\n                val stars = ratingBar.progressDrawable as LayerDrawable\n                stars.getDrawable(2).setColorFilter(ContextCompat.getColor(ratingBar.context, R.color.rating_bar), PorterDuff.Mode.SRC_ATOP)\n                val roundVal = Math.round(mVoteAverage!!)\n                ratingBar.numStars = roundVal\n            }\n\n        }\n    }\n\n    constructor(mId: Long?, mOverview: String?, mPosterPath: String?, mTitle: String?, mVoteAverage: Double?) {\n        this.mId = mId\n        this.mOverview = mOverview\n        this.mPosterPath = mPosterPath\n        this.mTitle = mTitle\n        this.mVoteAverage = mVoteAverage\n    }\n\n    constructor()\n\n    @PrimaryKey\n    @SerializedName(\"id\")\n    var mId: Long? = null\n    @SerializedName(\"overview\")\n    var mOverview: String? = null\n    @SerializedName(\"poster_path\")\n    var mPosterPath: String? = null\n    @SerializedName(\"title\")\n    var mTitle: String? = null\n    @SerializedName(\"vote_average\")\n    var mVoteAverage: Double? = null\n\n\n}\n</code></pre>\n\n<p>Then, this is the bindable XML layout :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"movie\"\n            type=\"com.movieapp.huxymovies.model.Result\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:background=\"@color/bg\"\n        android:orientation=\"vertical\"&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:orientation=\"horizontal\"&gt;\n\n                        &lt;RatingBar\n                            android:id=\"@+id/rating_bar\"\n                            style=\"?android:attr/ratingBarStyleSmall\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"9dp\"\n                            app:ratingValue=\"@{movie.mVoteAverage}\"/&gt;\n\n\n                    &lt;/LinearLayout&gt;\n\n\n            &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Then this is my adapter class :</p>\n\n<pre><code>class ResultAdapter(private val context: Context) : PagedListAdapter&lt;Result, ResultAdapter.ResultViewHolder&gt;(DIFF_CALLBACK) {\n\n    public lateinit var mBinding: ItemActivitymainBinding\n\n    override fun onBindViewHolder(holder: ResultViewHolder, position: Int) {\n\n        val result = getItem(position)\n\n        if (result != null) {\n\n            holder.itemActivitymainBinding.movie = result\n            holder.itemActivitymainBinding.ratingBar.rating = result.mVoteAverage as (Float)\n            holder.itemActivitymainBinding.titleTxt.text = result.mTitle\n\n        }\n    }\n\n    class ResultViewHolder(itemView: ItemActivitymainBinding) : RecyclerView.ViewHolder(itemView.root) {\n\n\n        var itemActivitymainBinding: ItemActivitymainBinding\n        var root: View\n\n        init {\n            root = itemView.root\n\n            itemActivitymainBinding = itemView\n        }\n    }\n\n    }\n}\n</code></pre>\n\n<p>I think am missing something in the <code>onBindViewHolder()</code>, but can't find it out, what am I missing?</p>\n"}]