[{"tags": ["android", "parcelable", "kotlin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1455147647, "post_id": 35327443, "comment_id": 58364843, "body": "If you are getting a specific compilation error, please post the error."}, {"owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1455205658, "post_id": 35327443, "comment_id": 58394758, "body": "Thank you everyone for your help,  I dont think i described my problem well. Anyway I solved it by following this answer <a href=\"https://stackoverflow.com/questions/22576709/abstract-class-as-parcelable\" title=\"abstract class as parcelable\">stackoverflow.com/questions/22576709/&hellip;</a> and rewriting the java to kotlin. Works well, only I am no longer using data classes. I tried ParcelPaper but it didn&#39;t work for me"}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455207469, "post_id": 35328252, "comment_id": 58396209, "body": "I don&#39;t think the first part of your answer helps.  The second part is useful on its own."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455209098, "post_id": 35328252, "comment_id": 58397460, "body": "@JaysonMinard In this situation it is required to satisfy Parcelable convention, I edited answer to explain why."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455219494, "post_id": 35328252, "comment_id": 58404200, "body": "great thanks, would it also need to be <code>JvmStatic</code>, or <code>JvmField</code> does that as well when in a companion object?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455679528, "post_id": 35328252, "comment_id": 58592310, "body": "@JaysonMinard No, <code>JvmStatic</code> is for methods. This was recently sorted in docs: <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 94, "user_id": 7650396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bddf6d6356138d11be36cdcb3c8e949?s=128&d=identicon&r=PG&f=1", "display_name": "dumptruckman", "link": "https://stackoverflow.com/users/7650396/dumptruckman"}, "edited": false, "score": 0, "creation_date": 1498767239, "post_id": 35328252, "comment_id": 76648913, "body": "@JvmField does not work in the companion object of an interface so it seems. Any thoughts on why this is?"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 9, "last_activity_date": 1455208902, "last_edit_date": 1455208902, "creation_date": 1455148088, "answer_id": 35328252, "question_id": 35327443, "link": "https://stackoverflow.com/questions/35327443/companion-objects-in-kotlin-interfaces/35328252#35328252", "title": "Companion Objects in Kotlin Interfaces", "body": "<p>By <a href=\"http://developer.android.com/reference/android/os/Parcelable.html\" rel=\"noreferrer\">convention</a> classes implementing the <code>Parcelable</code> interface must also have a non-null static field called <code>CREATOR</code> of a type that implements the <code>Parcelable.Creator</code> interface.</p>\n\n<p>You need to annotate <code>CREATOR</code> property with <code>@JvmField</code> annotation to expose it as a public static field in containing data class.</p>\n\n<p>Also you can take a look at <a href=\"https://github.com/grandstaish/paperparcel\" rel=\"noreferrer\">https://github.com/grandstaish/paperparcel</a> \u2014 an annotation processor that automatically generates type-safe Parcelable wrappers for Kotlin and Java. </p>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1455197835, "post_id": 35338099, "comment_id": 58388769, "body": "In the past, it was allowed to have generic constraints that said things like &quot;any class that has a companion object implementing Xyz&quot; and that vanished in early Kotlin, hopefully to resurface in the future as another type of generic constraint.  Then you could generically talk about a class and its companion together."}, {"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1492118070, "post_id": 35338099, "comment_id": 73864206, "body": "I supposed this still is the state of things as of 4/13/17 in Kotlin?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1492351733, "post_id": 35338099, "comment_id": 73933108, "body": "@AdamHughes are you referring to generic constraints that include companion objects?  If so, I don&#39;t think they have come back yet."}, {"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1492531091, "post_id": 35338099, "comment_id": 74009257, "body": "Jayson, I&#39;m referring to specifically putting a companion object into an interface, as you&#39;ve shown in your last code snippet of this answer."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 45, "last_activity_date": 1455197701, "last_edit_date": 1455197701, "creation_date": 1455190103, "answer_id": 35338099, "question_id": 35327443, "link": "https://stackoverflow.com/questions/35327443/companion-objects-in-kotlin-interfaces/35338099#35338099", "title": "Companion Objects in Kotlin Interfaces", "body": "<p>In Kotlin, an interface can have a <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\"><code>companion object</code></a> but it is not part of the contract that must be implemented by classes that implement the interface.  It is just an object associated to the interface that has one singleton instance.  So it is a place you can store things, but doesn't mean anything to the implementation class.</p>\n\n<p>You can however, have an interface that is implemented by a <code>companion object</code> of a class.  Maybe you want something more like this:</p>\n\n<pre><code>interface Behavior {\n   fun makeName(): String\n}\n\ndata class MyData(val data: String) {\n    companion object: Behavior {  // interface used here\n        override fun makeName(): String = \"Fred\"\n    }\n}\n</code></pre>\n\n<p>Note that the data class does not implement the interface, but its <code>companion object</code> does.</p>\n\n<p>A <code>companion object</code> on an interface would be useful for storing constants or helper functions related to the interface, such as:</p>\n\n<pre><code>interface Redirector {\n    fun redirectView(newView: String, redirectCode: Int)\n\n    companion object {\n        val REDIRECT_WITH_FOCUS = 5\n        val REDIRECT_SILENT = 1\n    }\n}\n\n// which then can be accessed as:\nval code = Redirector.REDIRECT_WITH_FOCUS\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18091, "favorite_count": 3, "answer_count": 2, "score": 28, "last_activity_date": 1455208902, "creation_date": 1455144068, "last_edit_date": 1455144877, "question_id": 35327443, "link": "https://stackoverflow.com/questions/35327443/companion-objects-in-kotlin-interfaces", "title": "Companion Objects in Kotlin Interfaces", "body": "<p>I am trying to make a interface Parcelable, as such I need a interface like this</p>\n\n<pre><code>interface AB : Parcelable {\n    companion object {\n        val CREATOR : Parcelable.Creator&lt;AB&gt;\n    }\n}\n</code></pre>\n\n<p>and my two classes A and B looking like</p>\n\n<pre><code>data class A (...): Parcelable{\n    ...\n    companion object {\n        val CREATOR : Parcelable.Creator&lt;AB&gt; = object : Parcelable.Creator&lt;AB&gt; {\n            override fun newArray(size: Int): Array&lt;AB?&gt; {\n                return arrayOfNulls(size)\n            }\n\n            override fun createFromParcel(parcel: Parcel): AB {\n                return A(parcel)\n            }\n\n        }\n    }\n</code></pre>\n\n<p>I am struggling to implement such a interface in kotlin. It seems the interface class does not allow for the CREATOR</p>\n\n<p>Perhaps I am taking the wrong approach,<br>\nI have a parcelable that contains a list of classes that are either A or B\nso I am doing</p>\n\n<pre><code>parcel.readTypedList(this.list, AB.CREATOR)\n</code></pre>\n\n<p>I require that the list be either A or B and that is why I am using an interface.  </p>\n\n<p>Anyone have any advice or a possible solution?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 6, "last_activity_date": 1455129250, "creation_date": 1455129250, "answer_id": 35323238, "question_id": 35323175, "link": "https://stackoverflow.com/questions/35323175/kotlin-rc-noclassdeffounderror/35323238#35323238", "title": "Kotlin RC NoClassDefFoundError", "body": "<p>You should have both these plugins:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>The first makes sure the Kotlin code compiles, the second is for the UI imports.</p>\n"}], "owner": {"reputation": 2094, "user_id": 1844330, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fb8cb154462303bd8ed489f661ae05c0?s=128&d=identicon&r=PG&f=1", "display_name": "MightySeal", "link": "https://stackoverflow.com/users/1844330/mightyseal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 35323238, "answer_count": 1, "score": 1, "last_activity_date": 1455129279, "creation_date": 1455129056, "last_edit_date": 1455129279, "question_id": 35323175, "link": "https://stackoverflow.com/questions/35323175/kotlin-rc-noclassdeffounderror", "title": "Kotlin RC NoClassDefFoundError", "body": "<p>After updating kotlin to RC-1036 i'm facing a weird issue: my code is not even compiled and packed.</p>\n\n<p>When build passes and the app is launched i'm getting <code>ClassNotFoundException: Didn't find class \"example.myapplication.MainActivity\"</code>.</p>\n\n<p>I have tried to decompile apk with <code>apktool</code> and didn't find my classes inside the archive. There are no classes in <code>build/intermediates</code> dir either.</p>\n\n<p>This is my project:</p>\n\n<p><code>app/build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions'\n\nbuildscript {\n    ext.kotlin_version = '1.0.0-rc-1036'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"example.myapplication\"\n        minSdkVersion 21\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest package=\"example.myapplication\"\n      xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>And <code>MainActivity</code>:</p>\n\n<pre><code>package example.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        hello.text = \"New text\"\n    }\n}\n</code></pre>\n\n<p>Build tools version is <code>2.0.0-beta2</code>;\nMight be something wrong with <code>sourseSets</code>, though nothing works if i try to reconfigure it somehow. Appreciate any help.</p>\n"}, {"tags": ["kotlin", "code-structure"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1455115054, "post_id": 35317940, "comment_id": 58344838, "body": "It&#39;s probably a matter of opinion, but the classical example is list.sort() instead of Collections.sort(list): static utility functions can become extension functions."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 2, "creation_date": 1475619255, "post_id": 35317940, "comment_id": 67013199, "body": "@nhaarman interesting point of view on this topic \u2014 not every utility function deserves to become an extension: <a href=\"https://medium.com/@dimsuz/extension-functions-are-not-utility-functions-74a5f9b53892\" rel=\"nofollow noreferrer\">medium.com/@dimsuz/&hellip;</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1475621239, "post_id": 35317940, "comment_id": 67013862, "body": "@Ilya, thanks for the link, the hint seems nice enough to make a mental note. :)"}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1455123003, "post_id": 35318902, "comment_id": 58351036, "body": "Is this really a general case of &quot;when you want to change an existing API that you cannot control?&quot;"}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1467989577, "post_id": 35318902, "comment_id": 63958676, "body": "While cool this actually doesn&#39;t compile. On 1.0.3 I get:<code>Error:Kotlin: [Internal Error] java.lang.IllegalStateException: java.io.FileNotFoundException: D:\\...\\ExampleKt$|$1.class (The filename, directory name, or volume label syntax is incorrect) \tat org.jetbrains.kotlin.codegen.CompilationErrorHandler$1.repor&zwnj;&#8203;tException(Compilati&zwnj;&#8203;onErrorHandler.java:&zwnj;&#8203;27) \tat org.jetbrains.kotlin.codegen.PackageCodegen.generate(Package&zwnj;&#8203;Codegen.java:69) </code>"}, {"owner": {"reputation": 104, "user_id": 888720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c781b5719840c38cad43a029eefa5?s=128&d=identicon&r=PG", "display_name": "bytefu", "link": "https://stackoverflow.com/users/888720/bytefu"}, "edited": false, "score": 0, "creation_date": 1551653344, "post_id": 35318902, "comment_id": 96708198, "body": "For future readers: there is no problem in the code, the message clearly says that Kotlin compiler cannot find the source file: <code>java.io.FileNotFoundException: D:\\...\\ExampleKt$|$1.class (The filename, directory name, or volume label syntax is incorrect)</code>"}], "tags": [], "owner": {"reputation": 104, "user_id": 888720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665c781b5719840c38cad43a029eefa5?s=128&d=identicon&r=PG", "display_name": "bytefu", "link": "https://stackoverflow.com/users/888720/bytefu"}, "is_accepted": false, "score": 4, "last_activity_date": 1455117261, "creation_date": 1455117261, "answer_id": 35318902, "question_id": 35317940, "link": "https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions/35318902#35318902", "title": "When should one prefer Kotlin extension functions?", "body": "<p>There is at least one case where extension functions are a must - call chaining, also known as \"fluent style\":</p>\n\n<pre><code>foo.doX().doY().doZ()\n</code></pre>\n\n<p>Suppose you want to extend the Stream interface from Java 8 with you own operations. Of course, you can use ordinary functions for that, but it will look ugly as hell:</p>\n\n<pre><code>doZ(doY(doX(someStream())))\n</code></pre>\n\n<p>Clearly, you want to use extension functions for that.\nAlso, you cannot make ordinary functions infix, but you can do it with extension functions:</p>\n\n<pre><code>infix fun &lt;A, B, C&gt; ((A) -&gt; B).`|`(f: (B) -&gt; C): (A) -&gt; C = { a -&gt; f(this(a)) }\n\n@Test\nfun pipe() {\n    val mul2 = { x: Int -&gt; x * 2 }\n    val add1 = { x: Int -&gt; x + 1 }\n    assertEquals(\"7\", (mul2 `|` add1 `|` Any::toString)(3))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455122975, "post_id": 35319319, "comment_id": 58351005, "body": "pleaser add an example, I&#39;m not sure what you are describing."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 8, "last_activity_date": 1522916154, "last_edit_date": 1522916154, "creation_date": 1455118300, "answer_id": 35319319, "question_id": 35317940, "link": "https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions/35319319#35319319", "title": "When should one prefer Kotlin extension functions?", "body": "<p>Extension functions play really well with the safe call operator <code>?.</code>. If you expect that the argument of the function will sometimes be <code>null</code>, instead of early returning, make it the receiver of an extension function. </p>\n\n<p>Ordinary function:</p>\n\n<pre><code>fun nullableSubstring(s: String?, from: Int, to: Int): String? {\n    if (s == null) {\n        return null\n    }\n\n    return s.substring(from, to)\n}\n</code></pre>\n\n<p>Extension function:</p>\n\n<pre><code>fun String.extensionSubstring(from: Int, to: Int) = substring(from, to)\n</code></pre>\n\n<p>Call site:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val s: String? = null\n\n    val maybeSubstring = nullableSubstring(s, 0, 1)\n    val alsoMaybeSubstring = s?.extensionSubstring(0, 1)\n</code></pre>\n\n<p>As you can see, both do the same thing, however the extension function is shorter and on the call site, it's immediately clear that the result will be nullable.</p>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 3, "creation_date": 1455178574, "post_id": 35321347, "comment_id": 58375572, "body": "Since you have the most complete answer, here&#39;s an additional benefit you could add: Extension functions don&#39;t litter the global namespace. If you are inside any code block and invoke Ctrl + Space, all your top-level functions will be listed. Not so with extension functions, which will only be listed for method calls on correctly typed receivers."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 62, "last_activity_date": 1455189334, "last_edit_date": 1495542890, "creation_date": 1455123544, "answer_id": 35321347, "question_id": 35317940, "link": "https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions/35321347#35321347", "title": "When should one prefer Kotlin extension functions?", "body": "<p>Extension functions are useful in a few cases, and mandatory in others:</p>\n\n<p><strong>Idiomatic Cases:</strong></p>\n\n<ol>\n<li><p>When you want to enhance, extend or change an existing API.  An extension function is the idiomatic way to change a class by adding new functionality.  You can add <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension functions</a> and <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"noreferrer\">extension properties</a>. See an example in the <a href=\"https://github.com/FasterXML/jackson-module-kotlin/blob/master/src/main/kotlin/com/fasterxml/jackson/module/kotlin/Extensions.kt#L15-L32\" rel=\"noreferrer\">Jackson-Kotlin Module</a> for adding methods to the <code>ObjectMapper</code> class simplifying the handling of <code>TypeReference</code> and generics.</p></li>\n<li><p>Adding null safety to new or existing methods that cannot be called on a <code>null</code>.  For example the extension function for String of <code>String?.isNullOrBlank()</code> allows you to use that function even on a <code>null</code> String without having to do your own <code>null</code> check first.  The function itself does the check before calling internal functions.  See <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"noreferrer\">documentation for extensions with Nullable Receiver</a></p></li>\n</ol>\n\n<p><strong>Mandatory Cases:</strong></p>\n\n<ol start=\"3\">\n<li><p>When you want an inline default function for an interface, you must use an extension function to add it to the interface because you cannot do so within the interface declaration (inlined functions must be <code>final</code> which is not currently allowed within an interface).  This is useful when you need inline reified functions, <a href=\"https://github.com/kohesive/injekt/blob/master/api/src/main/kotlin/uy/kohesive/injekt/api/Registry.kt#L5-L49\" rel=\"noreferrer\">for example this code from Injekt</a></p></li>\n<li><p>When you want to add <code>for (item in collection) { ... }</code> support to a class that does not currently support that usage.  You can add an <code>iterator()</code> extension method that follows the rules described in the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#for-loops\" rel=\"noreferrer\">for loops documentation</a> -- even the returned iterator-like object can use extensions to satisfy the rules of providing <code>next()</code> and <code>hasNext()</code>.</p></li>\n<li><p>Adding operators to existing classes such as <code>+</code> and <code>*</code> (specialization of #1 but you can't do this in any other way, so is mandatory).  See <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">documentation for operator overloading</a></p></li>\n</ol>\n\n<p><strong>Optional Cases:</strong></p>\n\n<ol start=\"6\">\n<li><p>You want to control the scoping of when something is visible to a caller, so you extend the class only in the context in which you will allow the call to be visible.  This is optional because you could just allow the extensions to be seen always.  <a href=\"https://stackoverflow.com/a/34797367/3679676\">see answer in other SO question for scoping extension functions</a></p></li>\n<li><p>You have an interface that you want to simplify the required implementation, while still allowing more easy helper functions for the user.  You can optionally add default methods for the interface to help, or use extension functions to add the non-expected-to-be-implemented parts of the interface.  One allows overriding of the defaults, the other does not (except for precedence of extensions vs. members).</p></li>\n<li><p>When you want to relate functions to a category of functionality; extension functions use their receiver class as a place from which to find them.  Their name space becomes the class (or classes) from which they can be triggered.  Whereas top-level functions will be harder to find, and will fill up the global name space in IDE code completion dialogs.  You can also fix existing library name space issues.  For example, in Java 7 you have the <code>Path</code> class and it is difficult to find the <code>Files.exist(path)</code> method because it is name spaced oddly.  The function could be placed directly on <code>Path.exists()</code> instead.  (@kirill)</p></li>\n</ol>\n\n<p><strong>Precedence Rules:</strong></p>\n\n<p>When extending existing classes, keep the precedence rules in mind.  They are described in <a href=\"https://youtrack.jetbrains.com/issue/KT-10806#comment=27-1283497\" rel=\"noreferrer\">KT-10806</a> as:</p>\n\n<blockquote>\n  <p>For each implicit receiver on current context we try members, then local extension functions(also parameters which have extension function type), then non-local extensions.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1522933318, "post_id": 49672898, "comment_id": 86356576, "body": "Basically, the question is more about when and why we should prefer <code>fun MyList&lt;Int&gt;.sum()</code> over <code>fun sum(list: MyList&lt;Int&gt;)</code>, not really about extension vs member functions."}], "tags": [], "owner": {"reputation": 52258, "user_id": 375232, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h3OwD.png?s=128&g=1", "display_name": "Landei", "link": "https://stackoverflow.com/users/375232/landei"}, "is_accepted": false, "score": -1, "last_activity_date": 1522932731, "creation_date": 1522932731, "answer_id": 49672898, "question_id": 35317940, "link": "https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions/49672898#49672898", "title": "When should one prefer Kotlin extension functions?", "body": "<p>There are cases where you <strong>have</strong> to use extension methods. E.g. if you have some list implementation <code>MyList&lt;T&gt;</code>, you can write an extension method like</p>\n\n<pre><code>fun Int MyList&lt;Int&gt;.sum() { ... }\n</code></pre>\n\n<p>It is impossible to write this as a \"normal\" method.</p>\n"}], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7099, "favorite_count": 20, "accepted_answer_id": 35321347, "answer_count": 4, "score": 63, "last_activity_date": 1579004018, "creation_date": 1455114661, "last_edit_date": 1579004018, "question_id": 35317940, "link": "https://stackoverflow.com/questions/35317940/when-should-one-prefer-kotlin-extension-functions", "title": "When should one prefer Kotlin extension functions?", "body": "<p>In Kotlin, a function with at least one argument can be defined either as a regular non-member function or as an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension function</a> with one argument being a receiver.</p>\n\n<p>As to the scoping, there seems to be no difference: both can be declared inside or outside classes and other functions, and both can or cannot have visibility modifiers equally.</p>\n\n<p>Language reference seems not to recommend using regular functions or extension functions for different situations.</p>\n\n<p>So, my question is: <strong>when do extension functions give advantage over regular non-member ones?</strong> And when regular ones over extensions?</p>\n\n<p><code>foo.bar(baz, baq)</code> vs <code>bar(foo, baz, baq)</code>.</p>\n\n<p>Is it just a hint of a function semantics (receiver is definitely in focus) or are there cases when using extensions functions makes code much cleaner or opens up opportunities?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "kohesive-injekt"], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455119763, "post_id": 35315549, "comment_id": 58348519, "body": "Note:  <code>LocalScoped</code> and the test example are in upcoming release <code>1.13.0</code> although their equivalent code would work in current release.  <code>1.3.0-RC-1050</code> is available on bintray repo <code>http:&#47;&#47;dl.bintray.com&#47;jaysonminard&#47;kohesive</code> and requires Kotlin EAP RC 1050.  A release to Maven Central will happen with that RC is no longer EAP."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 4, "last_activity_date": 1455119096, "last_edit_date": 1455119096, "creation_date": 1455107908, "answer_id": 35315549, "question_id": 35315548, "link": "https://stackoverflow.com/questions/35315548/in-the-injekt-library-for-kotlin-how-do-i-create-local-scopes-such-as-for-each/35315549#35315549", "title": "In the Injekt library for Kotlin, how do I create local scopes such as for each Android activity?", "body": "<p><strong><em>UPDATE:</em></strong> <em>This is now documented in the <a href=\"https://github.com/kohesive/injekt/blob/master/README.md#scopes\" rel=\"nofollow\">Injekt README</a></em></p>\n\n<p>It is supported by delegating factories between scopes.  First, some background:</p>\n\n<p>Injekt allows manual scoping of instances into separate Injekt registries.  The global registry, available through the <code>Injekt</code> variable is just one scope that is pre-created for you.  You can also create new ones:</p>\n\n\n\n<pre><code>val myLocalScope: InjektScope = InjektScope(DefaultRegistrar())\n</code></pre>\n\n<p>This makes a standalone scope that has no relationship to the global or to others.</p>\n\n<p>But then you can link scopes by creating factories in the new scope that delegate some of the instance creation to another scope.  For example the <code>myLocalScope</code> mentioned above could delegate some of the factories to <code>Injekt</code> global scope:</p>\n\n<pre><code>// delegate some factories to global Injekt instance\nmyLocalScope.addSingletonFactory { Injekt.get&lt;SomeSingletonClass&gt;() }\nmyLocalScope.addFactory { Injekt.get&lt;SomeMultiValueClass&gt;() }\n</code></pre>\n\n<p>When delegating factories such as this, any multi-value instances will not be cached by any scope since those factories create new instances on every call.  For singletons and keyed factories the objects are cached and a reference to those objects will exist in both the local and delegated scopes for any instances requested during its lifecycle.  </p>\n\n<p>You can also just use multiple scopes independently without linking or delegation.  Fetch some instances from a local scope, others from the global.  But you must use each scope independently and be careful of accidentally using the <code>Injekt</code> global variable when not intended.</p>\n\n<p>If you have common factories needed in local scopes, you can easily create a descendent of <code>InjektScope</code> that registers these during its construction.  </p>\n\n<pre><code>class MyActivityScope: InjektScope(DefaultRegistrar()) {\n    init {\n        // override with local value\n        addSingletonFactory { SomeSingletonClass() }\n        // import other registrations from defined modules\n        importModule(OtherModuleWithPrepackagedInjektions)\n        // delegate to global scope:\n        addSingletonFactory { Injekt.get&lt;SomeOtherSingleton&gt;() }\n    }\n}\n\n// then in each place you want a local scope\nval localScope = MyActivityScope()\n\n// later use the scope\nval singly: SomeSingletonClass = localScope.get()\nval other: SomeOtherSingleton = localScope.get()\n</code></pre>\n\n<p>Or using the same model as <code>InjektMain</code> create a descendent of <code>InjektScopedMain</code> that overrides function <code>fun InjektRegistrar.registerInjectables() { ... }</code>, if you prefer to be consistent with modules. For example:</p>\n\n<pre><code>class MyActivityModule: InjektScopedMain(InjektScope(DefaultRegistrar())) {\n    override fun InjektRegistrar.registerInjectables() {\n        // override with local value\n        addSingletonFactory { NotLazy(\"Freddy\") }\n        // import other registrations from defined modules\n        importModule(OtherModuleWithPrepackagedInjektions)\n        // delegate to global scope:\n        addSingletonFactory { Injekt.get&lt;SomeOtherSingleton&gt;() }\n    }\n}\n\n// then in each place you want a local scope\nval localScope = MyActivityModule().scope\n</code></pre>\n\n<p>And you can still use delegated properties, as long as the scope is declared before use in the delegate:</p>\n\n<pre><code>val myProp: SomeClass by localScope.injectValue()\n</code></pre>\n\n<p>You can use the <code>LocalScoped</code> base class to have local versions of <code>injectValue()</code> and <code>injectLazy()</code> to make it more convenient when injecting members (see <a href=\"https://github.com/kohesive/injekt/blob/master/api/src/main/kotlin/uy/kohesive/injekt/api/Scope.kt#L61-L79\" rel=\"nofollow\">code for <code>LocalScoped</code></a>).  This way your syntax stays consistent (see <a href=\"https://github.com/kohesive/injekt/blob/master/core/src/test/kotlin/uy/kohesive/injekt/TestInjektion.kt#L202-L247\" rel=\"nofollow\">example in tests</a>).</p>\n\n<p>To clear a local scope, drop your reference to the scope and it will garabage collect away.  There is no explicit clear method.</p>\n\n<p>For more advanced, and more automatic scope linking / delegation / inheritance, please see <a href=\"https://github.com/kohesive/injekt/issues/31\" rel=\"nofollow\">Injekt Github Issue #31</a> and provide comments on this possible future feature.</p>\n\n<p>For the use case of having other classes inherit the same local scope when they are injected into the class declaring the local scope, see <a href=\"https://github.com/kohesive/injekt/issues/32\" rel=\"nofollow\">Injekt Github Issue #32</a></p>\n"}], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 35315549, "answer_count": 1, "score": 2, "last_activity_date": 1455133138, "creation_date": 1455107908, "last_edit_date": 1610973576, "question_id": 35315548, "link": "https://stackoverflow.com/questions/35315548/in-the-injekt-library-for-kotlin-how-do-i-create-local-scopes-such-as-for-each", "title": "In the Injekt library for Kotlin, how do I create local scopes such as for each Android activity?", "body": "<p>In the Injekt documentation on Github, it says that scopes exist but it isn't clear how I can use them to create a local scope for each Android activity, that have their own factories and instances but can also use some from a parent scope.</p>\n<p>The <code>Injekt</code> variable appears to be a global scope, and I see <code>InjektScope</code> and <code>InjektScopeMain</code> but no examples of how to use them, or how they link to parent scopes.  The only way I see is to create separate <code>InjektScope</code> instances and call them, OR call <code>Injekt</code> as a global scope.  This works, but is clumsy.</p>\n<p>No obvious way to link, nest, delegate or inherit.</p>\n<p>Is this supported, and if so how?</p>\n<p><strong>Note:</strong> <em>this question is intentionally written and answered by the author (<a href=\"https://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">Self-Answered Questions</a>), so that the idiomatic answers to commonly asked Injekt + Kotlin topics are present in SO.  Other answers are also welcome, there are other styles of how to do this!  Disclosure, I am the author of the Injekt library.</em></p>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455102089, "post_id": 35304864, "comment_id": 58335607, "body": "For things that have compiler errors, it is nice to include the error message from the compiler so others can search/find this SO question."}, {"owner": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455114581, "post_id": 35304864, "comment_id": 58344504, "body": "Added the compile error I was getting."}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "edited": false, "score": 0, "creation_date": 1455112831, "post_id": 35308944, "comment_id": 58343172, "body": "Elias&#39; answer uses a closure and doesn&#39;t require a class. Your snippet does answer my secondary question but doesn&#39;t address my main question. I edited the question to make the actual question more clear. Namely, how[can] I declare the memoized funcion as a function instead of a property."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "edited": false, "score": 0, "creation_date": 1455125000, "post_id": 35308944, "comment_id": 58352402, "body": "well, that&#39;s my point - you can&#39;t have such a function without a field somewhere"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 6, "last_activity_date": 1455125461, "last_edit_date": 1455125461, "creation_date": 1455088357, "answer_id": 35308944, "question_id": 35304864, "link": "https://stackoverflow.com/questions/35304864/memoization-function-in-kotlin/35308944#35308944", "title": "Memoization Function In Kotlin", "body": "<p>By the nature of the problem, you need a class field to store your cache (the cached value or a caching object or a delegate). So you have to declare a <code>val</code> in the class somewhere, since functions can't do that.</p>\n\n<p>Note that when you declare your <code>buildHiearchy</code> value, you get two things in one: you store a <code>Memoize&lt;..&gt;(..)</code> object in a class field and you get <code>invoke()</code> function (declared somewhere else, but still..). I know of no way you can declare a function and get the field storage with no additional syntax.</p>\n\n<p>The code snippet uses outdated syntax. Fix like this (no parentheses):</p>\n\n<pre><code>val buildHiearchy = Memoize&lt;LocalDate, Node&gt;({date -&gt; buildHierarchy(date)})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "edited": false, "score": 0, "creation_date": 1455112304, "post_id": 35309775, "comment_id": 58342813, "body": "It was perhaps not clear from my question. But I would like to declare cachedBar as a function like: <code>fun cachedBar(date: LocalDate): Node = makeFunctionCache&lt;LocalDate, Node&gt;({ date -&gt; bar(date)})</code>"}, {"owner": {"reputation": 3614, "user_id": 415755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c8e4bd926a878cb7c0d89f22fe6d4f?s=128&d=identicon&r=PG", "display_name": "Elias M&#229;rtenson", "link": "https://stackoverflow.com/users/415755/elias-m%c3%a5rtenson"}, "reply_to_user": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "edited": false, "score": 0, "creation_date": 1455171190, "post_id": 35309775, "comment_id": 58371873, "body": "Could you amend your question and explain in more detail exactly what it is you need to do? It&#39;s not clear to me why the closure solution would not work. It looks like, and works like, any other function. There are differences if the function is actually part of an interface, but more information would be useful."}], "tags": [], "owner": {"reputation": 3614, "user_id": 415755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02c8e4bd926a878cb7c0d89f22fe6d4f?s=128&d=identicon&r=PG", "display_name": "Elias M&#229;rtenson", "link": "https://stackoverflow.com/users/415755/elias-m%c3%a5rtenson"}, "is_accepted": false, "score": 3, "last_activity_date": 1455091685, "creation_date": 1455091685, "answer_id": 35309775, "question_id": 35304864, "link": "https://stackoverflow.com/questions/35304864/memoization-function-in-kotlin/35309775#35309775", "title": "Memoization Function In Kotlin", "body": "<p>The following solution works for single-argument functions. If you want to created a cached version of the function <code>bar</code> you simply declare it like this:</p>\n\n<pre><code>val cachedBar = makeFunctionCache({ bar(it) })\n</code></pre>\n\n<p>The implementation stores the cache in a closure so that you don't need to put it in a dedicated class:</p>\n\n<pre><code>fun &lt;X, R&gt; makeFunctionCache(fn: (X) -&gt; R): (X) -&gt; R {\n    val cache: MutableMap&lt;X, R&gt; = HashMap()\n    return {\n        cache.getOrPut(it, { fn(it) })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "is_accepted": false, "score": 0, "last_activity_date": 1615730317, "creation_date": 1615730317, "answer_id": 66625373, "question_id": 35304864, "link": "https://stackoverflow.com/questions/35304864/memoization-function-in-kotlin/66625373#66625373", "title": "Memoization Function In Kotlin", "body": "<p>You can achieve your goal with a <code>Map.computeIfAbsent</code>, it will look something like that:</p>\n<pre><code>val map = HashMap&lt;String, Any&gt;()\n\nfun doSomething():Any{\n    return map.computeIfAbsent(&quot;functionKey&quot;) { \n        // do your calculation here \n    }\n}\n</code></pre>\n<p>This way, the calculation will be executed only once and stored in the map</p>\n"}], "owner": {"reputation": 317, "user_id": 4429884, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zkSb9lyjO14/AAAAAAAAAAI/AAAAAAAAAQ4/wCXeNGwwIoE/photo.jpg?sz=128", "display_name": "Brandon Johnson", "link": "https://stackoverflow.com/users/4429884/brandon-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4878, "favorite_count": 1, "accepted_answer_id": 35308944, "answer_count": 3, "score": 11, "last_activity_date": 1615730317, "creation_date": 1455064364, "last_edit_date": 1455112641, "question_id": 35304864, "link": "https://stackoverflow.com/questions/35304864/memoization-function-in-kotlin", "title": "Memoization Function In Kotlin", "body": "<p>I have an existing class with an instance method buildHierarchyUncached whose signature can be found below.</p>\n\n<pre><code>private fun buildHierarchyUncached(date: LocalDate): Node { ... }\n</code></pre>\n\n<p>I would like to provide a public <strong>function</strong> buildHiearchy that is a memoized version of buildHierarchyUncached. I can get close to what I want:</p>\n\n<pre><code>val buildHiearchy = Memoize&lt;LocalDate, Node&gt;({buildHierarchy(it)})\n</code></pre>\n\n<p>Which can be called like:</p>\n\n<pre><code>hierarchyService.buildHiearchy(businessDate)\n</code></pre>\n\n<p>Using: </p>\n\n<pre><code>class Memoize&lt;I, O&gt;(val func: (I) -&gt; O): (I) -&gt; O{\n  val cache = hashMapOf&lt;I, O&gt;();\n  override fun invoke(p1: I): O {\n    return cache.getOrPut(p1, { func(p1) } )\n  }\n}\n</code></pre>\n\n<p>I would like to be able to declare the memoized function as a function instead of a property, which is not a huge deal, though I think it helps readability. Like this:</p>\n\n<pre><code>fun buildHierarchy(date: LocalDate): Node = Memoize&lt;LocalDate, Node&gt;({ buildHierarchyUncached(it)})\n</code></pre>\n\n<p>but that doesn't compile: \"Type mismatch. Required Node. Found memoize.\"</p>\n\n<p>Also, why doesn't this compile?</p>\n\n<pre><code>val buildHiearchy = Memoize&lt;LocalDate, Node&gt;({(date) -&gt; buildHierarchy(date)})\n</code></pre>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1455043788, "post_id": 35299825, "comment_id": 58309842, "body": "Could you include your <code>buildscript</code> and the plugins listed in your <code>build.gradle</code>? And what is the import you&#39;re using?"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1455055387, "post_id": 35299825, "comment_id": 58316500, "body": "A clean build doesn&#39;t work?"}, {"owner": {"reputation": 225, "user_id": 3920311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxwve.jpg?s=128&g=1", "display_name": "Yiyo Castillo", "link": "https://stackoverflow.com/users/3920311/yiyo-castillo"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1455057088, "post_id": 35299825, "comment_id": 58317374, "body": "No, I already tried with a clean but it doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 3920311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxwve.jpg?s=128&g=1", "display_name": "Yiyo Castillo", "link": "https://stackoverflow.com/users/3920311/yiyo-castillo"}, "edited": false, "score": 0, "creation_date": 1455050584, "post_id": 35300726, "comment_id": 58313738, "body": "This is not the problem because the kotlin android studio plugin version is the same as <b>kotlin-stdlib</b> and <b>kotlin-gladle-plugin</b>"}], "tags": [], "owner": {"reputation": 811, "user_id": 1043419, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73ae2eef8c8547d34ce21b3f1954d83?s=128&d=identicon&r=PG", "display_name": "mathiasbn", "link": "https://stackoverflow.com/users/1043419/mathiasbn"}, "is_accepted": false, "score": 1, "last_activity_date": 1455047460, "last_edit_date": 1455047460, "creation_date": 1455046628, "answer_id": 35300726, "question_id": 35299825, "link": "https://stackoverflow.com/questions/35299825/unresolved-reference-kotlinx-kotlin-1-0-0-rc-1036/35300726#35300726", "title": "Unresolved reference: kotlinx - Kotlin 1-0-0-rc-1036", "body": "<p>Your kotlin stdlib compile dependency should (at least while not stable) be the same as the kotlin android studio plugin version</p>\n\n<pre><code>...\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n...\nbuildscript {\n   ext.kotlin_version = '1.0.0-rc-1036'\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 225, "user_id": 3920311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxwve.jpg?s=128&g=1", "display_name": "Yiyo Castillo", "link": "https://stackoverflow.com/users/3920311/yiyo-castillo"}, "edited": false, "score": 0, "creation_date": 1455113460, "post_id": 35315361, "comment_id": 58343620, "body": "Thank you! I moved the buildScript block code to the app/build.gradle file and this solved my problem"}, {"owner": {"reputation": 497, "user_id": 1080191, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6f023540d4107d16eca48cd7fcdbed9b?s=128&d=identicon&r=PG", "display_name": "brescia123", "link": "https://stackoverflow.com/users/1080191/brescia123"}, "edited": false, "score": 0, "creation_date": 1469637658, "post_id": 35315361, "comment_id": 64623224, "body": "I have one app with a separate kotlin module and the app module that should have kotlin too. I&#39;ve moved the build script form global to local <code>build.gradle</code> but i have the same problem"}], "tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": true, "score": 4, "last_activity_date": 1455107394, "creation_date": 1455107394, "answer_id": 35315361, "question_id": 35299825, "link": "https://stackoverflow.com/questions/35299825/unresolved-reference-kotlinx-kotlin-1-0-0-rc-1036/35315361#35315361", "title": "Unresolved reference: kotlinx - Kotlin 1-0-0-rc-1036", "body": "<p><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"</code> \nshould be defined in the project-local <code>build.gradle</code> file for now.</p>\n"}], "owner": {"reputation": 225, "user_id": 3920311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oxwve.jpg?s=128&g=1", "display_name": "Yiyo Castillo", "link": "https://stackoverflow.com/users/3920311/yiyo-castillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2110, "favorite_count": 0, "accepted_answer_id": 35315361, "answer_count": 2, "score": 3, "last_activity_date": 1455107394, "creation_date": 1455043630, "last_edit_date": 1592644375, "question_id": 35299825, "link": "https://stackoverflow.com/questions/35299825/unresolved-reference-kotlinx-kotlin-1-0-0-rc-1036", "title": "Unresolved reference: kotlinx - Kotlin 1-0-0-rc-1036", "body": "<p>I'm working in an Android App and a few days ago I updated my Kotlin version from <strong>1.0.0-beta-1103</strong> to the release candidate <strong>1.0.0-rc-1036</strong> and now I can't run my app for something related to Kotlin Android Extensions.</p>\n<p>I use the <code>apply plugin: 'kotlin-android-extensions'</code> just like the official blog says <a href=\"http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-release-candidate-is-out/\" rel=\"nofollow noreferrer\">http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-release-candidate-is-out/</a> but my app doesn't recognize any view from any layout.</p>\n<p>This is what appears on the console:</p>\n<blockquote>\n<p>Error:(20, 8) Unresolved reference: kotlinx</p>\n<p>Error:Execution failed for task ':app:compileDebugKotlin'.</p>\n<p>Compilation error. See log for more details</p>\n</blockquote>\n<p>Please help me, I'm losing my mind!</p>\n<p><strong>Update:</strong></p>\n<p>This is my buildScript in global<code>build.gradle</code></p>\n<pre><code>buildscript {\n    ext {\n        kotlin_version = &quot;1.0.0-rc-1036&quot;\n    }\n    repositories {\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:1.5.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // The Fabric Gradle plugin uses an open ended version to react\n        // quickly to Android tooling updates\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n</code></pre>\n<p>The dependencies listed in the app <code>build.gradle</code></p>\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    // Google\n    compile 'com.android.support:appcompat-v7:23.1.0'\n    compile 'com.android.support:cardview-v7:23.1.0'\n    compile 'com.android.support:design:23.1.0'\n    compile 'com.android.support:recyclerview-v7:23.1.0'\n\n    // Kotlin\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n\n    // Square\n    compile 'com.squareup.okio:okio:1.5.0'\n    compile 'com.squareup.retrofit:retrofit:1.9.0'\n    compile 'com.squareup.okhttp:okhttp-urlconnection:2.0.0'\n    compile 'com.squareup.okhttp:okhttp:2.0.0'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n\n    // ReactiveX\n    compile 'io.reactivex:rxjava:1.0.14'\n    compile 'io.reactivex:rxandroid:1.0.1'\n    compile 'com.jakewharton.rxbinding:rxbinding:0.3.0'\n    compile 'com.jakewharton.rxbinding:rxbinding-support-v4:0.2.0'\n\n    // DBFlow\n    kapt 'com.raizlabs.android:DBFlow-Compiler:2.2.1'\n    compile &quot;com.raizlabs.android:DBFlow-Core:2.2.1&quot;\n    compile &quot;com.raizlabs.android:DBFlow:2.2.1&quot;\n\n    // Otros\n    compile 'de.hdodenhof:circleimageview:1.3.0'\n\n    // SQLite Assets Helper\n    compile 'com.readystatesoftware.sqliteasset:sqliteassethelper:2.0.1'\n\n    // Crashlytics Kit\n    compile('com.crashlytics.sdk.android:crashlytics:2.5.2@aar') {\n        transitive = true\n    }\n}\n</code></pre>\n<p>This is an import that I'm using:</p>\n<pre><code>import kotlinx.android.synthetic.main.activity_all_quizzes.*\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1267, "user_id": 567615, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DgiAK.jpg?s=128&g=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/567615/joris"}, "edited": false, "score": 0, "creation_date": 1511564466, "post_id": 35298665, "comment_id": 81916803, "body": "Follow up question: in this particular case there then is no reason to implement the BaseColumns interface right? As it only contains two static member variables?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 14, "last_activity_date": 1472232891, "last_edit_date": 1472232891, "creation_date": 1455039933, "answer_id": 35298665, "question_id": 35297980, "link": "https://stackoverflow.com/questions/35297980/reference-java-interface-static-fields-in-kotlin/35298665#35298665", "title": "Reference Java interface static fields in Kotlin", "body": "<p>In Kotlin, unlike Java, static members of interfaces are not derived and cannot be called in subclasses without qualifying the interface name.</p>\n\n<p>You should reference <code>_ID</code> through <code>BaseColumns</code>: <code>BaseColumns._ID</code> will work.</p>\n\n<p>This seems to be different for classes: non-qualified name of a base class static member resolves to it, but the member is still not inherited.</p>\n"}], "owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 1, "accepted_answer_id": 35298665, "answer_count": 1, "score": 11, "last_activity_date": 1472232891, "creation_date": 1455037757, "last_edit_date": 1455039987, "question_id": 35297980, "link": "https://stackoverflow.com/questions/35297980/reference-java-interface-static-fields-in-kotlin", "title": "Reference Java interface static fields in Kotlin", "body": "<p>Can I reference Java interface fields from Kotlin? I have this Java interface:</p>\n\n<pre><code>public interface BaseColumns {\n    public static final String _ID = \"_id\";\n    public static final String _COUNT = \"_count\";\n}\n</code></pre>\n\n<p>And I implement it in Kotlin:</p>\n\n<pre><code>object UserEntry : BaseColumns {\n    // some code\n}\n</code></pre>\n\n<p>I get <strong>Unresolved reference</strong> when I try <code>UserEntry._ID</code>. How can I access the <code>_ID</code>? Am I missing something? Thanks!</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 4, "last_activity_date": 1454983550, "creation_date": 1454983550, "answer_id": 35282754, "question_id": 35282237, "link": "https://stackoverflow.com/questions/35282237/compile-kotlin-to-javascript/35282754#35282754", "title": "Compile Kotlin to JavaScript", "body": "<p>I think this should help:</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/test/resources/testProject/kotlin2JsProject/libraryProject/build.gradle\" rel=\"nofollow\">https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/test/resources/testProject/kotlin2JsProject/libraryProject/build.gradle</a></p>\n\n<p>There are sample of library project. JS sources can be founded in <code>buildDir</code>.\nSo yes, you can get js files from Kotlin sources. </p>\n\n<p>Kotlin language a very different from JavaScript (even ES6), so you can't just rename <code>js</code> to <code>kt</code>, this will not work. You need rewrite javascript source files to Kotlin.</p>\n\n<p>For example:</p>\n\n<pre><code>console.log('Hello, World!');\n</code></pre>\n\n<p>Should be rewrited as:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  println(\"Hello, World!\")\n}\n</code></pre>\n"}], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "accepted_answer_id": 35282754, "answer_count": 1, "score": 5, "last_activity_date": 1454983550, "creation_date": 1454979812, "question_id": 35282237, "link": "https://stackoverflow.com/questions/35282237/compile-kotlin-to-javascript", "title": "Compile Kotlin to JavaScript", "body": "<p>I've started looking into Kotlin and I'd like to use it instead of TypeScript for my front end language. Both compile down to JavaScript so I'd like to set it up so that I make a Kotlin file, lets call it <code>myFile.kt</code>, then when I run the compiler it makes a <code>myFile.js</code> file.</p>\n\n<p>Just like how TypeScript takes a <code>myFile.ts</code> and compiles it to a <code>myFile.js</code>.</p>\n\n<p>I'm using the latest version of IntelliJ 15 with release candidate 1 of Kotlin.</p>\n\n<p>I've been searching all over the internet for the way to do this but so far all I've found is setting up IntelliJ so that Kotlin creates a JavaScript library from your code in a JAR file. I also haven't been able to get that to compile any of the <code>kt</code> files in my project (they were previously <code>js</code> files).</p>\n\n<p>Is what I'd like to do currently possible or am I thinking about this in the wrong way?</p>\n"}, {"tags": ["arrays", "equals", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1454951571, "post_id": 35272761, "comment_id": 58262264, "body": "That&#39;s probably a case for extension functions."}], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 51, "last_activity_date": 1493645100, "last_edit_date": 1493645100, "creation_date": 1454951703, "answer_id": 35275418, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin/35275418#35275418", "title": "How to compare two arrays in Kotlin?", "body": "<p>In Kotlin 1.1 you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-equals.html\" rel=\"noreferrer\"><code>contentEquals</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html\" rel=\"noreferrer\"><code>contentDeepEquals</code></a> to compare two arrays for <em>structural</em> equality. e.g.:</p>\n\n<pre><code>a contentEquals b // true\nb contentEquals c // false\n</code></pre>\n\n<p>In Kotlin 1.0 there are no \"built-in functions to the Kotlin std-lib that tests two arrays for (value) equality for each element.\"</p>\n\n<p>\"Arrays are always compared using <code>equals()</code>, as all other objects\" (<a href=\"http://blog.jetbrains.com/kotlin/2015/09/feedback-request-limitations-on-data-classes/\" rel=\"noreferrer\">Feedback Request: Limitations on Data Classes | Kotlin Blog</a>).</p>\n\n<p>So <code>a.equals(b)</code> will only return <code>true</code> if <code>a</code> and <code>b</code> reference the same array.</p>\n\n<p>You can, however, create your own \"optionals\"-friendly methods using <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension functions</a>. e.g.:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun Array&lt;*&gt;.equalsArray(other: Array&lt;*&gt;) = Arrays.equals(this, other)\nfun Array&lt;*&gt;.deepEqualsArray(other: Array&lt;*&gt;) = Arrays.deepEquals(this, other)\n</code></pre>\n\n<p>P.S. The comments on <a href=\"http://blog.jetbrains.com/kotlin/2015/09/feedback-request-limitations-on-data-classes/\" rel=\"noreferrer\">Feedback Request: Limitations on Data Classes | Kotlin Blog</a> are worth a read as well, specifically <a href=\"http://blog.jetbrains.com/kotlin/2015/09/feedback-request-limitations-on-data-classes/#comment-39364\" rel=\"noreferrer\">comment 39364</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 763, "user_id": 524529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7167cc9bdb181b9d96a9b1ea0f740aab?s=128&d=identicon&r=PG", "display_name": "Chris Hatton", "link": "https://stackoverflow.com/users/524529/chris-hatton"}, "edited": false, "score": 8, "creation_date": 1485943574, "post_id": 38768466, "comment_id": 71131503, "body": "This does not account for the order of the Array; however the general method is good for Sets."}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 4, "last_activity_date": 1470316655, "creation_date": 1470316655, "answer_id": 38768466, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin/38768466#38768466", "title": "How to compare two arrays in Kotlin?", "body": "<p>For a simple equals (not deep equals!):</p>\n\n<pre><code>otherArray.size == array.size &amp;&amp; otherArray.filter { !array.contains(it) }.isEmpty()\n</code></pre>\n\n<p>This code will compare the size and the items. The items are compared with <code>.equals()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 23, "last_activity_date": 1492628815, "creation_date": 1492628815, "answer_id": 43504103, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin/43504103#43504103", "title": "How to compare two arrays in Kotlin?", "body": "<p>Kotlin 1.1 introduced extensions for comparing arrays by content:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-equals.html\" rel=\"noreferrer\">contentEquals</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/content-deep-equals.html\" rel=\"noreferrer\">contentDeepEquals</a>.</p>\n\n<p>These extensions are <em>infix</em>, so you can use them the following way:</p>\n\n<pre><code>val areEqual = arr1 contentEquals arr2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1559546699, "post_id": 48769967, "comment_id": 99440377, "body": "Awesome. This should be the accepted answer for collection (if not using array)"}], "tags": [], "owner": {"reputation": 766, "user_id": 7574306, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bbDYQbsVko4/AAAAAAAAAAI/AAAAAAAAAc8/yxFSpWkitUU/photo.jpg?sz=128", "display_name": "Alexander Krol", "link": "https://stackoverflow.com/users/7574306/alexander-krol"}, "is_accepted": false, "score": 20, "last_activity_date": 1518534912, "creation_date": 1518534912, "answer_id": 48769967, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin/48769967#48769967", "title": "How to compare two arrays in Kotlin?", "body": "<p>And if you want to compare contents of two <code>Collections</code> <strong>ignoring the order</strong> you can add this simple extension:</p>\n\n<pre><code>infix fun &lt;T&gt; Collection&lt;T&gt;.sameContentWith(collection: Collection&lt;T&gt;?)\n    = collection?.let { this.size == it.size &amp;&amp; this.containsAll(it) }\n</code></pre>\n\n<p>...and use it like this:</p>\n\n<pre><code>a = mutableListOf&lt;String&gt;()\nb = mutableListOf&lt;String&gt;()\n\nisListsHasSameContent = a sameContentWith b\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 8033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d75ce61d36f838e3fca5e12ad5b8678?s=128&d=identicon&r=PG", "display_name": "Geoff Langenderfer", "link": "https://stackoverflow.com/users/8033562/geoff-langenderfer"}, "edited": false, "score": 0, "creation_date": 1589471800, "post_id": 59729103, "comment_id": 109314514, "body": "Where do you save this function for future reuse? Github repo?"}], "tags": [], "owner": {"reputation": 850, "user_id": 7970480, "user_type": "registered", "profile_image": "https://graph.facebook.com/1116415491838310/picture?type=large", "display_name": "Arbaz Pirwani", "link": "https://stackoverflow.com/users/7970480/arbaz-pirwani"}, "is_accepted": false, "score": 2, "last_activity_date": 1578986537, "creation_date": 1578986537, "answer_id": 59729103, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin/59729103#59729103", "title": "How to compare two arrays in Kotlin?", "body": "<p>In koltin if your array or ArrayList is type of a <strong>data</strong> <code>Class</code> you can simply compare <em>array :a</em> and <em>array :b</em></p>\n\n<p>like this</p>\n\n<p><code>if(a == b)</code> </p>\n\n<p>it will return simple boolean if it matched all the value of both arrays, but if you are matching other-than data <strong>data</strong> <code>Class</code> then you can use this extension to compare it with single value</p>\n\n<pre><code>fun &lt;T&gt; Array&lt;T&gt;.isEqual(comparable: Array&lt;T&gt;): Boolean {\n    var isChanged = true\n\n    if (this.size == comparable.size) {\n        for (index in 0 until comparable.size) {\n            if (this[index] != comparable[index]) {\n                isChanged = false\n                break\n            }\n        }\n    } else {\n        isChanged = false\n    }\n\n    return isChanged\n}\n</code></pre>\n\n<p>then you can use your array</p>\n\n<pre><code>    val a = arrayOf(\"first\", \"second\")\n    val b = arrayOf(\"first\", \"second\")\n\n    println(a.isEqual(b)) //true\n\n    a[0] = \"third\"\n\n    println(a.isEqual(b)) //false\n</code></pre>\n"}], "owner": {"reputation": 14366, "user_id": 543875, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7740aae8e555ec733f3f47d04812802?s=128&d=identicon&r=PG", "display_name": "Lars Blumberg", "link": "https://stackoverflow.com/users/543875/lars-blumberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33334, "favorite_count": 7, "accepted_answer_id": 35275418, "answer_count": 5, "score": 50, "last_activity_date": 1578986537, "creation_date": 1454943901, "last_edit_date": 1454944380, "question_id": 35272761, "link": "https://stackoverflow.com/questions/35272761/how-to-compare-two-arrays-in-kotlin", "title": "How to compare two arrays in Kotlin?", "body": "<p>Given some arrays in Kotlin</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>let a = arrayOf(\"first\", \"second\")\nval b = arrayOf(\"first\", \"second\")\nval c = arrayOf(\"1st\", \"2nd\")\n</code></pre>\n\n<p>Are there built-in functions to the Kotlin std-lib that tests two arrays for (value) equality for each element?</p>\n\n<p>Thus resulting in:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>a.equals(b) // true\na.equals(c) // false\n</code></pre>\n\n<p><code>equals()</code> is actually returning <code>false</code> in both cases, but maybe there are built-in functions to Kotlin that one could use?</p>\n\n<p>There is the static function <code>java.utils.Arrays.deepEquals(a.toTypedArray(), b.toTypedArray())</code> but I would rather prefer an instance method as it would work better with optionals.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1601465444, "post_id": 35271413, "comment_id": 113415374, "body": "When to use <code>internal</code> modifier? <a href=\"https://stackoverflow.com/questions/47902656/kotlin-internal-visibility-modifier-in-android\" title=\"kotlin internal visibility modifier in android\">stackoverflow.com/questions/47902656/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3033, "user_id": 304266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2Iiva.jpg?s=128&g=1", "display_name": "ubuntudroid", "link": "https://stackoverflow.com/users/304266/ubuntudroid"}, "edited": false, "score": 0, "creation_date": 1454951601, "post_id": 35272376, "comment_id": 58262291, "body": "Now I feel ashamed. Seems they added that section just recently. My fault. Thanks a lot anyway."}, {"owner": {"reputation": 476, "user_id": 4820070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22a3216370fb32835eb4434d65886943?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Behera", "link": "https://stackoverflow.com/users/4820070/lalit-behera"}, "edited": false, "score": 23, "creation_date": 1498465311, "post_id": 35272376, "comment_id": 76491842, "body": "could you be more specific, it is what in kotlin documentation, but what does it really mean."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 3, "creation_date": 1507304479, "post_id": 35272376, "comment_id": 80170618, "body": "For an android project, does that mean something declared as internal will be accessible for the whole android app?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 3, "creation_date": 1507304638, "post_id": 35272376, "comment_id": 80170695, "body": "@s-hunter, no, it won&#39;t. Android projects are built with Gradle, so the <code>internal</code> visibility means Gradle source sets (with the exception that the test source sets can access internals from the source sets they test)."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 3, "creation_date": 1507306105, "post_id": 35272376, "comment_id": 80171490, "body": "@hotkey, I see. If the entire android project contains only one gradle source set, in most case it is for a simple application, then the internal means it is accessible for this entire android project. Am I correct?"}, {"owner": {"reputation": 715, "user_id": 1866115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ecffc5393824cb7b9be29f1f2cf4158f?s=128&d=identicon&r=PG", "display_name": "Mohammad H", "link": "https://stackoverflow.com/users/1866115/mohammad-h"}, "edited": false, "score": 0, "creation_date": 1517752672, "post_id": 35272376, "comment_id": 84213988, "body": "@hotkey does it mean that you can declare a class that is only accessible inside a jar library in all packages?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1517752958, "post_id": 35272376, "comment_id": 84214083, "body": "Yes, that&#39;s mostly true: an <code>internal</code> declaration cannot be used in other <i>Kotlin</i> modules, but, due to the lack of support on the JVM side, it is still exposed to non-Kotlin code (e.g. can be used in Java code that depends on the JAR). The access is thus not checked by the JVM at runtime, as with private/protected/package-private declarations, but it&#39;s the Kotlin compiler that checks the access at the use sites."}, {"owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 0, "creation_date": 1544870144, "post_id": 35272376, "comment_id": 94434100, "body": "hmm... jars support jigsaw modules, which can hide classes, does kotlin work with this feature?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 0, "creation_date": 1544891001, "post_id": 35272376, "comment_id": 94439712, "body": "@xenoterracide the Kotlin compiler doesn&#39;t generate Jigsaw module files. If you build with Gradle, though, there&#39;s an experimental plugin for generating them."}, {"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 1, "creation_date": 1590769696, "post_id": 35272376, "comment_id": 109816315, "body": "I know this is an old answer, so sorry for kinda reopening it; but does this mean that the definition of a module is &quot;extralinguistic&quot; in the sense that there is no way in Kotlin to define a module, but that modules are defined by using an external tool (Maven, Gradle, Ant or IntelliJ&quot;?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 1, "creation_date": 1590840301, "post_id": 35272376, "comment_id": 109836203, "body": "@Gavin, yes, this is true, modules are not a part of the language. The tools that run the Kotlin compiler (either for compilation or just analysis, like in the IDE) tell it where the module boundaries are."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 32, "last_activity_date": 1539182238, "last_edit_date": 1539182238, "creation_date": 1454942756, "answer_id": 35272376, "question_id": 35271413, "link": "https://stackoverflow.com/questions/35271413/what-is-a-kotlin-module/35272376#35272376", "title": "What is a Kotlin module?", "body": "<blockquote>\n  <p>A module is a set of Kotlin sources compiled together:</p>\n  \n  <ul>\n  <li>an IntelliJ IDEA module;</li>\n  <li>a Maven project;</li>\n  <li>a Gradle source set;</li>\n  <li>a set of files compiled with one invocation of the Ant task.</li>\n  </ul>\n</blockquote>\n\n<p>This is in the same <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"noreferrer\">docs article</a> about visibility modifiers. :)</p>\n"}, {"tags": [], "owner": {"reputation": 38834, "user_id": 3705840, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/a7ybc.png?s=128&g=1", "display_name": "lmiguelvargasf", "link": "https://stackoverflow.com/users/3705840/lmiguelvargasf"}, "is_accepted": false, "score": 1, "last_activity_date": 1600789219, "last_edit_date": 1600789219, "creation_date": 1600787976, "answer_id": 64012747, "question_id": 35271413, "link": "https://stackoverflow.com/questions/35271413/what-is-a-kotlin-module/64012747#64012747", "title": "What is a Kotlin module?", "body": "<p>From the Kotlin's <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\">documentation</a>, a module is a set of Kotlin files compiled together:</p>\n<ul>\n<li>an IntelliJ IDEA module</li>\n<li>a Maven project;</li>\n<li>a Gradle source set</li>\n<li>a set of files compiled with one invocation of the <code>&lt;kotlinc&gt;</code> Ant task.</li>\n</ul>\n<p>That is <strong>@hotkey's</strong>, but I would like to complement this answer.</p>\n<p><a href=\"https://discuss.kotlinlang.org/t/understanding-modules/474/2\" rel=\"nofollow noreferrer\">According to Andrey Breslav</a>, the Lead Language Designer of Kotlin:</p>\n<blockquote>\n<p>a Kotlin module maps one-to-one to IntelliJ's module (iml-file).</p>\n</blockquote>\n<p>According to IntelliJ's <a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Modules allow you to combine several technologies and frameworks in one application. In IntelliJ IDEA, you can create several modules for a project and each of them can be responsible for its own framework.</p>\n</blockquote>\n<p>When it comes to a Maven project or a command line compilation, <a href=\"https://discuss.kotlinlang.org/t/understanding-modules/474/4\" rel=\"nofollow noreferrer\">Andrey states</a>:</p>\n<blockquote>\n<p>Each compiler run, by default, is a separate module: all the binary dependencies will be treated as being not in the module being compiled at the moment.</p>\n</blockquote>\n<p>Also, a Gradle source set is a module, with the exception that the <code>test</code> source set can access the internal declarations of main.</p>\n<p>This means that if you have different build flavors in your Gradle configuration resulting in different source sets, for production and debug versions for example, then an internal class from one source set would not be available to be used in another source set.</p>\n"}], "owner": {"reputation": 3033, "user_id": 304266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2Iiva.jpg?s=128&g=1", "display_name": "ubuntudroid", "link": "https://stackoverflow.com/users/304266/ubuntudroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13034, "favorite_count": 0, "accepted_answer_id": 35272376, "answer_count": 2, "score": 39, "last_activity_date": 1600789219, "creation_date": 1454939817, "question_id": 35271413, "link": "https://stackoverflow.com/questions/35271413/what-is-a-kotlin-module", "title": "What is a Kotlin module?", "body": "<p>In the Kotlin documentation they are mentioning some kind of <em>module</em> for instance in the <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\">documentation</a> for the <code>internal</code> modifier.</p>\n\n<p>However I couldn't find any definition of the term <em>module</em> itself. So what is meant by <em>module</em>?</p>\n"}, {"tags": ["java", "arrays", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 2, "creation_date": 1454847697, "post_id": 35253368, "comment_id": 58219341, "body": "I know you are asking about <code>int</code>, but for Objects, there is <a href=\"http://stackoverflow.com/questions/32679060/kotlin-create-a-regular-array-as-in-java\" title=\"kotlin create a regular array as in java\">stackoverflow.com/questions/32679060/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 20, "creation_date": 1454936790, "post_id": 35253626, "comment_id": 58251970, "body": "<code>Array&lt;Int&gt;(size)</code> doesn&#39;t compile. That&#39;s because you can&#39;t create a non-nullable array without providing the elements."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1454939877, "post_id": 35253626, "comment_id": 58254216, "body": "@KirillRakhman, thanks for your remark, that was an inadvertent mistake. Fixed."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 166, "last_activity_date": 1603704322, "last_edit_date": 1603704322, "creation_date": 1454849045, "answer_id": 35253626, "question_id": 35253368, "link": "https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size/35253626#35253626", "title": "How can I create an array in Kotlin like in Java by just providing a size?", "body": "<p>According to the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\">reference</a>, arrays are created in the following way:</p>\n<ul>\n<li><p>For Java's primitive types there are distinct types <code>IntArray</code>, <code>DoubleArray</code> etc. which store <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">unboxed</a> values.</p>\n<p>They are created with the corresponding constructors and factory functions:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val arrayOfZeros = IntArray(size) //equivalent in Java: new int[size]\nval numbersFromOne = IntArray(size) { it + 1 }\nval myInts = intArrayOf(1, 1, 2, 3, 5, 8, 13, 21)\n</code></pre>\n<p>The first one is simillar to that in Java, it just creates a primitive array filled with the default value, e.g. zero for <code>Int</code>, <code>false</code> for <code>Boolean</code>.</p>\n</li>\n<li><p>Non primitive-arrays are represented by <code>Array&lt;T&gt;</code> class, where <code>T</code> is the items type.</p>\n<p><code>T</code> can still be one of types primitive in Java (<code>Int</code>, <code>Boolean</code>,...), but the values inside will be boxed equivalently to Java's <code>Integer</code>, <code>Double</code> and so on.</p>\n<p>Also, <code>T</code> can be both <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">nullable and non-null</a> like <code>String</code> and <code>String?</code>.</p>\n<p>These are created in a similar way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val nulls = arrayOfNulls&lt;String&gt;(size) //equivalent in Java: new String[size]\nval strings = Array(size) { &quot;n = $it&quot; } \nval myStrings = arrayOf(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;)\n\nval boxedInts = arrayOfNulls&lt;Int&gt;(size) //equivalent in Java: new Integer[size]\nval boxedZeros = Array(size) { 0 }\n</code></pre>\n</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 22786, "user_id": 974045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad548cd357d81ab99c5d60e64e02070?s=128&d=identicon&r=PG", "display_name": "Gibolt", "link": "https://stackoverflow.com/users/974045/gibolt"}, "is_accepted": false, "score": 0, "last_activity_date": 1579552102, "creation_date": 1579552102, "answer_id": 59830431, "question_id": 35253368, "link": "https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size/59830431#59830431", "title": "How can I create an array in Kotlin like in Java by just providing a size?", "body": "<p>In Kotlin, creating an IntArray of size N is simple. Use <code>IntArray(n)</code> or the appropriate type, as detailed thoroughly in hotkey's answer.</p>\n\n<p>When utilizing your fixed size array, you can use <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">Kotlin Destructuring</a></p>\n\n<pre><code>// Create fixed sized array\nval point = IntArray(2)\n\n// Access values directly\nval (x, y) = point\n</code></pre>\n\n<p>In this case, <code>x</code> will be taken from index 0, <code>y</code> from index 1, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 626, "user_id": 3292527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53eda21a54269e646a1687c0406478c1?s=128&d=identicon&r=PG&f=1", "display_name": "AlexPes", "link": "https://stackoverflow.com/users/3292527/alexpes"}, "is_accepted": false, "score": 0, "last_activity_date": 1608484323, "creation_date": 1608484323, "answer_id": 65382586, "question_id": 35253368, "link": "https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size/65382586#65382586", "title": "How can I create an array in Kotlin like in Java by just providing a size?", "body": "<p>Here is simple example of init of Array of String</p>\n<pre><code>        var names = Array&lt;String&gt;(&lt;AnotherArray.size&gt;) { i -&gt; &quot;&quot; }\n</code></pre>\n<p>Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\" rel=\"nofollow noreferrer\">doc</a></p>\n"}, {"comments": [{"owner": {"reputation": 509, "user_id": 12820864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yXxj3.jpg?s=128&g=1", "display_name": "Massimo Frittelli", "link": "https://stackoverflow.com/users/12820864/massimo-frittelli"}, "edited": false, "score": 0, "creation_date": 1611328614, "post_id": 65847657, "comment_id": 116423850, "body": "The OP needs an array of integer, not floats."}], "tags": [], "owner": {"reputation": 1, "user_id": 15060413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b06c8164fe60d1f0cf9b87a8e3eb24d?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Karimi Gichimu", "link": "https://stackoverflow.com/users/15060413/vincent-karimi-gichimu"}, "is_accepted": false, "score": -1, "last_activity_date": 1611328037, "creation_date": 1611328037, "answer_id": 65847657, "question_id": 35253368, "link": "https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size/65847657#65847657", "title": "How can I create an array in Kotlin like in Java by just providing a size?", "body": "<p>val A = FloatArray(N) //N being the size of the ar</p>\n"}], "owner": {"reputation": 1097, "user_id": 3578039, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/FTGl7.jpg?s=128&g=1", "display_name": "Kevin Mathew", "link": "https://stackoverflow.com/users/3578039/kevin-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61780, "favorite_count": 13, "accepted_answer_id": 35253626, "answer_count": 4, "score": 97, "last_activity_date": 1611328037, "creation_date": 1454847491, "question_id": 35253368, "link": "https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size", "title": "How can I create an array in Kotlin like in Java by just providing a size?", "body": "<p>How can I create a Array like we do in java?</p>\n\n<pre><code>int A[] = new int[N];\n</code></pre>\n\n<p>How can I do this in Kotlin?</p>\n"}, {"tags": ["android", "parcelable", "kotlin", "parcel"], "answers": [{"comments": [{"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "edited": false, "score": 0, "creation_date": 1454944320, "post_id": 35252507, "comment_id": 58257319, "body": "In this case the problem seems to be in the way you are getting the <i>EXTRA_PROJECT</i>, just call intent.extras.get(EXTRA_PROJECT) but the problem is not in the Parcelable definition, you don&#39;t need to add this."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "edited": false, "score": 0, "creation_date": 1454945026, "post_id": 35252507, "comment_id": 58257800, "body": "@juancho, I agree that, possibly, some other way of working with <code>Parcelable</code> wouldn&#39;t cause the problem in OP (and I could not even reproduce it). But the exception there is definitely thrown because of the missing static field, and the answer resolves it. That&#39;s why I decided to undelete it. Could you please reproduce the problem and check if this solves it? If it does, I think, it would be a better answer."}, {"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "edited": false, "score": 0, "creation_date": 1454947882, "post_id": 35252507, "comment_id": 58259811, "body": "I clone and test the project and yes it&#39;s regarding this JvmField. I&#39;m a little confuse why I&#39;m not facing the same issue in my project. Also I tried to get the same error in my project but nothing. I&#39;ll delete my comments just to avoid confusions. Thanks :) !"}, {"owner": {"reputation": 1081, "user_id": 2157870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oifyV.jpg?s=128&g=1", "display_name": "Tudor", "link": "https://stackoverflow.com/users/2157870/tudor"}, "edited": false, "score": 0, "creation_date": 1455187873, "post_id": 35252507, "comment_id": 58381814, "body": "also for parcelable implementation, @JvmField is not enough, you also need @Suppress(&quot;unused&quot;). In my case it wouldn&#39;t start without it and I would still had the crash"}, {"owner": {"reputation": 531, "user_id": 1105073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/443e075f186efa23776d64303005cb8f?s=128&d=identicon&r=PG", "display_name": "Eggman87", "link": "https://stackoverflow.com/users/1105073/eggman87"}, "reply_to_user": {"reputation": 1081, "user_id": 2157870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oifyV.jpg?s=128&g=1", "display_name": "Tudor", "link": "https://stackoverflow.com/users/2157870/tudor"}, "edited": false, "score": 0, "creation_date": 1455206023, "post_id": 35252507, "comment_id": 58395079, "body": "@PopTudor the suppress statement is only to avoid compiler warnings, should not have any impact on a crash."}, {"owner": {"reputation": 6601, "user_id": 2075875, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e0b3e3d0b29b541cd13a60a9236f02ac?s=128&d=identicon&r=PG", "display_name": "Malachiasz", "link": "https://stackoverflow.com/users/2075875/malachiasz"}, "edited": false, "score": 0, "creation_date": 1585889122, "post_id": 35252507, "comment_id": 107928184, "body": "Is that perhaps fixed meanwhile?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 24, "last_activity_date": 1454865297, "last_edit_date": 1495542355, "creation_date": 1454842171, "answer_id": 35252507, "question_id": 35250041, "link": "https://stackoverflow.com/questions/35250041/android-parcelable-in-kotlin-creator-not-found-on-parcelable-data-class/35252507#35252507", "title": "Android Parcelable in Kotlin: CREATOR not found on Parcelable data class", "body": "<p>Kotlin RC dropped previously deprecated generation of static fields for all companion object properties (learn more in <a href=\"https://stackoverflow.com/a/35119082/2196460\">this answer</a>).</p>\n\n<p>Now only those marked by <code>const</code>, <code>lateinit</code> or <code>@JvmField</code> will have a static field generated.</p>\n\n<p>You need to annotate <code>val CREATOR</code> by <code>@JvmField</code> annotation since Android Framework expects a static field <code>CREATOR</code> in your class.</p>\n"}, {"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1454854841, "post_id": 35253886, "comment_id": 58221608, "body": "This code most probably will fail for the same reason if compiled with Kotlin RC (because of <code>val CREATOR</code> not being static anymore). Did you check it?"}, {"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1454854918, "post_id": 35253886, "comment_id": 58221641, "body": "I&#39;m using it in my app with the RC. Did you tried it?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1454855178, "post_id": 35253886, "comment_id": 58221735, "body": "Ok, I&#39;ll check it shortly."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1454857421, "post_id": 35253886, "comment_id": 58222586, "body": "Well, it works. Given that, can you state what&#39;s wrong in code in the question?"}, {"owner": {"reputation": 531, "user_id": 1105073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/443e075f186efa23776d64303005cb8f?s=128&d=identicon&r=PG", "display_name": "Eggman87", "link": "https://stackoverflow.com/users/1105073/eggman87"}, "edited": false, "score": 0, "creation_date": 1454863368, "post_id": 35253886, "comment_id": 58224556, "body": "Thanks for the answer. I updated my code to follow the same pattern but I am still getting the BadParcelableException when reading. Updated class: <a href=\"https://github.com/eggman87/circle-kotlin/blob/master/app/src/main/java/com/eggman/circleciandroid/model/Project.kt\" rel=\"nofollow noreferrer\">github.com/eggman87/circle-kotlin/blob/master/app/src/main/j&zwnj;&#8203;ava/&hellip;</a>"}, {"owner": {"reputation": 531, "user_id": 1105073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/443e075f186efa23776d64303005cb8f?s=128&d=identicon&r=PG", "display_name": "Eggman87", "link": "https://stackoverflow.com/users/1105073/eggman87"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1454865489, "post_id": 35253886, "comment_id": 58225393, "body": "@hotkey your answer resolves the issue - thanks for the link with more info. Marked it as correct. Thanks everyone."}], "tags": [], "owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "is_accepted": false, "score": 1, "last_activity_date": 1454855005, "last_edit_date": 1454855005, "creation_date": 1454850585, "answer_id": 35253886, "question_id": 35250041, "link": "https://stackoverflow.com/questions/35250041/android-parcelable-in-kotlin-creator-not-found-on-parcelable-data-class/35253886#35253886", "title": "Android Parcelable in Kotlin: CREATOR not found on Parcelable data class", "body": "<p>Here you have some useful Kotlin extension functions that will help you to create your <code>CREATOR</code>s and also some examples (using data classes and list inside the data class)</p>\n\n<p><a href=\"https://gist.github.com/juanchosaravia/0b61204551d4ec815bbf\" rel=\"nofollow\">Gist: Data Class &amp; Parcelables example</a></p>\n\n<p>I'm using this code in an Android App: <a href=\"https://github.com/juanchosaravia/Keddit\" rel=\"nofollow\">(link)</a></p>\n\n<p>The same code you can find it here: <a href=\"https://github.com/juanchosaravia/Keddit/blob/master/app/src/main/java/com/droidcba/keddit/commons/Models.kt\" rel=\"nofollow\">(link)</a></p>\n"}], "owner": {"reputation": 531, "user_id": 1105073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/443e075f186efa23776d64303005cb8f?s=128&d=identicon&r=PG", "display_name": "Eggman87", "link": "https://stackoverflow.com/users/1105073/eggman87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6294, "favorite_count": 1, "accepted_answer_id": 35252507, "answer_count": 2, "score": 14, "last_activity_date": 1524651985, "creation_date": 1454822452, "last_edit_date": 1454842376, "question_id": 35250041, "link": "https://stackoverflow.com/questions/35250041/android-parcelable-in-kotlin-creator-not-found-on-parcelable-data-class", "title": "Android Parcelable in Kotlin: CREATOR not found on Parcelable data class", "body": "<p>With the release of the Kotlin RC, I started writing an app to learn it however I can not figure out how to get <code>Parcelable</code> to work. </p>\n\n<p>the data class: </p>\n\n<pre><code>data class Project (val reponame:String,\n                val username:String,\n                val language:String,\n                val vcsUrl:String,\n                val branches:Map&lt;String, Branch&gt;) : Parcelable {\n\n    companion object {\n        val CREATOR = object : Parcelable.Creator&lt;Project&gt; {\n            override fun createFromParcel(`in`: Parcel): Project {\n                return Project(`in`)\n            }\n\n            override fun newArray(size: Int): Array&lt;Project?&gt; {\n                return arrayOfNulls(size)\n            }\n        }\n    }\n\n    protected constructor(parcelIn: Parcel) : this (\n            parcelIn.readString(),\n            parcelIn.readString(),\n            parcelIn.readString(),\n            parcelIn.readString(),\n            mapOf&lt;String, Branch&gt;().apply {\n                parcelIn.readMap(this, Branch::class.java.classLoader)\n            }\n    )\n\n    override fun describeContents(): Int {\n        throw UnsupportedOperationException()\n    }\n\n    override fun writeToParcel(dest: Parcel, flags: Int) {\n        dest.writeString(reponame)\n        dest.writeString(username)\n        dest.writeString(language)\n        dest.writeString(vcsUrl)\n        dest.writeMap(branches)\n    }\n\n}\n</code></pre>\n\n<p>Reading it: </p>\n\n<pre><code>class ProjectDetailActivity : BaseActivity() {\n\n    lateinit var project: Project\n\n    companion object {\n        const val EXTRA_PROJECT = \"extra_project\"\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        project = intent.extras.getParcelable(EXTRA_PROJECT)\n\n        tvTitle.text = project.reponame\n    }\n}\n</code></pre>\n\n<p>The exception: </p>\n\n<pre><code>Caused by: android.os.BadParcelableException: Parcelable protocol requires a Parcelable.Creator object called CREATOR on class com.eggman.circleciandroid.model.Project\n    at android.os.Parcel.readParcelableCreator(Parcel.java:2415)\n    at android.os.Parcel.readParcelable(Parcel.java:2337)\n    at android.os.Parcel.readValue(Parcel.java:2243)\n    at android.os.Parcel.readArrayMapInternal(Parcel.java:2592)\n    at android.os.BaseBundle.unparcel(BaseBundle.java:221)\n    at android.os.BaseBundle.get(BaseBundle.java:281)\n    at com.eggman.circleciandroid.ui.ProjectDetailActivity.onCreate(ProjectDetailActivity.kt:22)\n</code></pre>\n\n<p>I am sure it is something simple I am missing, has anyone else had success with Parcelable on latest Kotlin? </p>\n\n<p>Kotlin Version: 1.0.0-rc-1036</p>\n\n<p>Kotlin Plugin Version: 1.0.0-rc-1036-IJ143-4</p>\n\n<p>Code is viewable @ <a href=\"https://github.com/eggman87/circle-kotlin\" rel=\"noreferrer\">https://github.com/eggman87/circle-kotlin</a></p>\n"}, {"tags": ["java-8", "java-stream", "kotlin"], "comments": [{"owner": {"reputation": 82276, "user_id": 1587046, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/onb2X.jpg?s=128&g=1", "display_name": "Alexis C.", "link": "https://stackoverflow.com/users/1587046/alexis-c"}, "edited": false, "score": 3, "creation_date": 1454797220, "post_id": 35246838, "comment_id": 58208079, "body": "See <a href=\"http://stackoverflow.com/questions/34642254/what-java-8-stream-collect-equivalents-are-available-in-the-standard-kotlin-libr\" title=\"what java 8 stream collect equivalents are available in the standard kotlin libr\">stackoverflow.com/questions/34642254/&hellip;</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1455122661, "post_id": 35246838, "comment_id": 58350780, "body": "If you view the API reference you can see extension functions on collections, which include the answer.  <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>, other collection docs are new at <a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/collections.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 8, "creation_date": 1454837571, "post_id": 35246952, "comment_id": 58216412, "body": "You can even write <code>::println</code>"}], "tags": [], "owner": {"reputation": 48460, "user_id": 749588, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/f7hIm.jpg?s=128&g=1", "display_name": "Jean Logeart", "link": "https://stackoverflow.com/users/749588/jean-logeart"}, "is_accepted": true, "score": 38, "last_activity_date": 1455127539, "last_edit_date": 1455127539, "creation_date": 1454795827, "answer_id": 35246952, "question_id": 35246838, "link": "https://stackoverflow.com/questions/35246838/limit-function-in-kotlin/35246952#35246952", "title": "Limit function in Kotlin", "body": "<p>Based on the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/index.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>list.take(3).forEach(::System.out.println)\n</code></pre>\n"}], "owner": {"reputation": 2626, "user_id": 4495175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zycJD.jpg?s=128&g=1", "display_name": "Letfar", "link": "https://stackoverflow.com/users/4495175/letfar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6273, "favorite_count": 1, "accepted_answer_id": 35246952, "answer_count": 1, "score": 13, "last_activity_date": 1455127539, "creation_date": 1454794994, "question_id": 35246838, "link": "https://stackoverflow.com/questions/35246838/limit-function-in-kotlin", "title": "Limit function in Kotlin", "body": "<p>There is a stream method <code>limit</code> in Java 8:</p>\n\n<pre><code>package com.concretepage.util.stream;\nimport java.util.Arrays;\nimport java.util.List;\npublic class LimitDemo {\n    public static void main(String[] args) {\n        List&lt;String&gt; list = Arrays.asList(\"AA\",\"BB\",\"CC\",\"DD\",\"EE\");    \n        list.stream().limit(3).forEach(s-&gt;System.out.println(s));\n    }        \n} \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>AA\nBB\nCC \n</code></pre>\n\n<p>What is the name of analog in Kotlin, or how to do it better by another way?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1454666817, "post_id": 35220334, "comment_id": 58156771, "body": "Seems that you have compiled code with the new compiler, but running it with an old kotlin runtime in the classpath."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1454777350, "post_id": 35220334, "comment_id": 58201148, "body": "If you are using a build system like gradle or maven, post your configuration. If not check in your lib folder for <code>kotlin-stdlib-1.0.0-rc-1036.jar</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 2, "last_activity_date": 1454904051, "creation_date": 1454904051, "answer_id": 35262154, "question_id": 35220334, "link": "https://stackoverflow.com/questions/35220334/java-lang-incompatibleclasschangeerror-after-upgrading-to-kotlin-rc1-1-0-0-rc-1/35262154#35262154", "title": "java.lang.IncompatibleClassChangeError after upgrading to kotlin RC1 (1.0.0-rc-1036)", "body": "<p>When the code is being compiled against the standard library <code>kotlin-stdlib-1.0.0-rc-1036.jar</code> the compiler sees <code>Lazy</code> to be an interface and generates <code>INVOKEINTERFACE</code> instruction to get the value of its property:</p>\n\n<pre><code>INVOKEINTERFACE kotlin/Lazy.getValue ()Ljava/lang/Object;\n</code></pre>\n\n<p>In case if at run-time you get <code>Lazy</code> loaded from the pre-RC standard library it occurs to be a class and not an interface. Here is where JVM catches that inconsistency and throws an <code>IncompatibleClassChangeError</code>.</p>\n\n<p>So you need to ensure you don't have an old standard library available to classloader at run-time.</p>\n\n<p>If you use Gradle, follow the instructions at <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow\">https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies</a> to configure/update dependency on the standard library.</p>\n"}], "owner": {"reputation": 6473, "user_id": 2660462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e7866e763430b8848f14ffdacb61b99f?s=128&d=identicon&r=PG", "display_name": "Lukas Lechner", "link": "https://stackoverflow.com/users/2660462/lukas-lechner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1454904051, "creation_date": 1454664038, "question_id": 35220334, "link": "https://stackoverflow.com/questions/35220334/java-lang-incompatibleclasschangeerror-after-upgrading-to-kotlin-rc1-1-0-0-rc-1", "title": "java.lang.IncompatibleClassChangeError after upgrading to kotlin RC1 (1.0.0-rc-1036)", "body": "<p>After upgrading to kotlin RC1 (1.0.0-rc-1036), I get this error:</p>\n\n<blockquote>\n  <p>java.lang.IncompatibleClassChangeError: The method 'java.lang.Object kotlin.Lazy.getValue()' was expected to be of type interface but instead was found to be of type virtual (declaration of 'java.lang.reflect.ArtMethod' appears in /system/framework/core-libart.jar)</p>\n</blockquote>\n\n<p>I use <em>lazy</em> in one of my class:</p>\n\n<pre><code> val api by lazy {\n        val client = OkHttpClient()\n        ...\n}\n</code></pre>\n\n<p>From the <a href=\"https://github.com/JetBrains/kotlin/releases/tag/build-1.0.0-rc-1036\" rel=\"nofollow\">release notes</a>:</p>\n\n<blockquote>\n  <p>Lazy is now an interface open for implementation</p>\n</blockquote>\n\n<p>But I cannot figure out what I have to change to get my code running again...</p>\n"}, {"tags": ["documentation", "package", "kotlin", "kdoc", "kotlin-dokka"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1454628981, "post_id": 35212451, "comment_id": 58142787, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/index.html</a> appears to be generated from <a href=\"https://github.com/JetBrains/kotlin/blob/7105c7c182cc842bf4d970f9f3860aaefc2853ad/libraries/stdlib/src/Module.md\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/&hellip;</a> which contains markup for the module and packages documentation."}], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 3, "creation_date": 1454662139, "post_id": 35213913, "comment_id": 58153936, "body": "As lousy as package-info is, I like it better than having to manually tell the generator to include certain files."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1454672802, "post_id": 35213913, "comment_id": 58160721, "body": "Kotlin can&#39;t use the package-info approach because the package structure in Kotlin doesn&#39;t need to match the directory structure. And with Dokka you can have one file with the descriptions of all of your packages, and not one file per package as in Java."}, {"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1536659406, "post_id": 35213913, "comment_id": 91493593, "body": "@yole &quot;One file per package as in Java&quot; is sometimes a more desirable approach. In Java/Javadoc, you have more freedom, as you can create either an <code>overview.html</code> page (one for all your packages), or separate <code>package-info.java</code> (per package), or both."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 7, "last_activity_date": 1454629870, "creation_date": 1454629870, "answer_id": 35213913, "question_id": 35212451, "link": "https://stackoverflow.com/questions/35212451/where-how-do-you-add-documentation-for-kotlin-packages/35213913#35213913", "title": "Where/How do You Add Documentation for Kotlin Packages?", "body": "<p>You use the <code>include</code> Dokka configuration option.</p>\n\n<p>See: <a href=\"https://github.com/Kotlin/dokka/blob/master/README.md\" rel=\"noreferrer\">https://github.com/Kotlin/dokka/blob/master/README.md</a></p>\n\n<p>Example: <a href=\"https://github.com/JetBrains/kotlin/blob/58e93d5e1bb547c8a7e398587b6851ccf6372326/libraries/build-docs.xml\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/58e93d5e1bb547c8a7e398587b6851ccf6372326/libraries/build-docs.xml</a></p>\n"}], "owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 2, "closed_date": 1515662806, "answer_count": 1, "score": 9, "last_activity_date": 1457093987, "creation_date": 1454623109, "last_edit_date": 1457093987, "question_id": 35212451, "link": "https://stackoverflow.com/questions/35212451/where-how-do-you-add-documentation-for-kotlin-packages", "closed_reason": "Not suitable for this site", "title": "Where/How do You Add Documentation for Kotlin Packages?", "body": "<p>In Java, if you want to document a package, it has to be put into the package-info.class file. Is that still the same thing with Kotlin and KDoc?\nI've looked through some of the Kotlin source and can't find where their package documentation is written.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1454662749, "post_id": 35210527, "comment_id": 58154247, "body": "This is called &quot;a factory&quot;.  Would be good to explain the companion object in one sentence.  Also the @JvmStatic annotation which might be good here if they want to call the factory as-if it were a class static."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 6, "last_activity_date": 1454617436, "last_edit_date": 1454617436, "creation_date": 1454616160, "answer_id": 35210527, "question_id": 35210308, "link": "https://stackoverflow.com/questions/35210308/have-a-non-generic-class-take-a-generic-argument-in-constructor/35210527#35210527", "title": "Have a Non-Generic class take a generic argument in constructor", "body": "<p>Looking at Kotlin's <a href=\"https://kotlinlang.org/docs/reference/grammar.html#typeParameters\" rel=\"noreferrer\">grammar</a>, it seems that this is not possible at the moment. For primary constructors, the type parameters denote class type parameters:</p>\n\n<blockquote>\n<pre><code>class (used by memberDeclaration, declaration, toplevelObject)\n  : modifiers (\"class\" | \"interface\") SimpleName\n      typeParameters?\n      primaryConstructor?\n      (\":\" annotations delegationSpecifier{\",\"})?\n      typeConstraints\n      (classBody? | enumClassBody)\n  ;\n</code></pre>\n</blockquote>\n\n<p>For secondary constructors, there are no type parameters possible:</p>\n\n<blockquote>\n<pre><code>secondaryConstructor (used by memberDeclaration)\n  : modifiers \"constructor\" valueParameters (\":\" constructorDelegationCall)? block\n  ;\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>However, a constructor is just a special function. If we instead don't use the constructor, but a function of our own, we can come up with the following:</p>\n\n<pre><code>class Test {\n\n    interface I1\n\n    interface I2\n\n    private val mI1: I1\n    private val mI2: I2\n\n    internal constructor(host: I1, host2: I2) {\n        mI1 = host\n        mI2 = host2\n    }\n\n    companion object {\n\n        fun &lt;T&gt; create(host: T): Test where T : Test.I1, T : Test.I2 {\n            return Test(host, host)\n        }\n\n    }\n}\n\nfun &lt;T&gt; test(host: T): Test where T : Test.I1, T : Test.I2 {\n    return Test(host, host)\n}\n</code></pre>\n\n<p>We can now call <code>Test.create(host)</code> or <code>test(host)</code> to create an instance.</p>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1454662503, "post_id": 35212462, "comment_id": 58154110, "body": "The issues with this approach is that it isn&#39;t a real constructor from the viewpoint of Java or other JVM languages (if that matters), for those the name will be weird if they even find the function (@JvmStatic would help).  And reflection also won&#39;t see it as a constructor (again, might not matter)."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 2, "last_activity_date": 1454678233, "last_edit_date": 1495540360, "creation_date": 1454623144, "answer_id": 35212462, "question_id": 35210308, "link": "https://stackoverflow.com/questions/35210308/have-a-non-generic-class-take-a-generic-argument-in-constructor/35212462#35212462", "title": "Have a Non-Generic class take a generic argument in constructor", "body": "<p>Expanding on <a href=\"https://stackoverflow.com/users/675383/nhaarman\">nhaarman</a>'s <a href=\"https://stackoverflow.com/a/35210527/3255152\">answer</a> you can use <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">operator overloading</a> to make <code>Test</code>'s <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">companion object</a> implement the <code>invoke</code> <code>operator</code>:</p>\n\n\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Test {\n\n    interface I1\n\n    interface I2\n\n    private val mI1: I1\n    private val mI2: I2\n\n    private constructor(i1: I1, i2: I2) {\n        mI1 = i1\n        mI2 = i2\n    }\n\n    companion object {\n        operator fun &lt;T&gt; invoke(host: T): Test where T : I1, T : I2 {\n            return Test(host, host)\n        }\n    }\n}\n</code></pre>\n\n<p>You can then create a <code>Test</code> object using the call syntax you want:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>Test(object : Test.I1, Test.I2 {})\n</code></pre>\n"}], "owner": {"reputation": 564, "user_id": 535696, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6aa0076278936d17c31a682731932ce7?s=128&d=identicon&r=PG", "display_name": "The LaPoubelle", "link": "https://stackoverflow.com/users/535696/the-lapoubelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 1, "accepted_answer_id": 35210527, "answer_count": 2, "score": 6, "last_activity_date": 1454678233, "creation_date": 1454615426, "last_edit_date": 1454662646, "question_id": 35210308, "link": "https://stackoverflow.com/questions/35210308/have-a-non-generic-class-take-a-generic-argument-in-constructor", "title": "Have a Non-Generic class take a generic argument in constructor", "body": "<p>I would like to have a non-generic class in kotlin that uses generics in its constructor in order to specify that a parameter. However, I can't figure out how to do this, and the Java-to-Kotlin converter for Intellij breaks. </p>\n\n<p>My java class looks like this </p>\n\n<pre><code>public class Test {    \n    interface I1 { }    \n    interface I2 { }\n\n    private final I1 mI1;\n    private final I2 mI2;\n\n    public &lt;T extends I1 &amp; I2&gt; Test(T host) {\n        mI1 = host;\n        mI2 = host;\n    }\n}\n</code></pre>\n\n<p>The converter's output looks like this. </p>\n\n<pre><code>class Test(host: T) where T: I1, T: I2 {\n    internal interface I1\n    internal interface I2\n\n    private val mI1: I1\n    private val mI2: I2\n\n    init {\n        mI1 = host\n        mI2 = host\n    }\n}\n</code></pre>\n\n<p>I would like to do this because in Android development it is useful to be able to specify a constructor parameter that looks like <code>&lt;Host extends Context &amp; CustomCallbackInterface&gt;</code></p>\n"}]