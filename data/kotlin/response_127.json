[{"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1497477034, "post_id": 44555279, "comment_id": 76101009, "body": "So how do you want to merge them?"}], "answers": [{"tags": [], "owner": {"reputation": 14070, "user_id": 868492, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cdfab916eb0bb5da98df29a321dc86ab?s=128&d=identicon&r=PG", "display_name": "James McCracken", "link": "https://stackoverflow.com/users/868492/james-mccracken"}, "is_accepted": true, "score": 2, "last_activity_date": 1498675732, "last_edit_date": 1498675732, "creation_date": 1497477250, "answer_id": 44555340, "question_id": 44555279, "link": "https://stackoverflow.com/questions/44555279/kotlin-merge-2-arraylistint-in-a-one-arraylistint/44555340#44555340", "title": "Kotlin | Merge 2 ArrayList&lt;Int&gt; In a one ArrayList&lt;Int&gt;", "body": "<p>Just instantiate your new <code>ArrayList</code> and add all elements from list 1 and 2.</p>\n\n<pre><code>var list1 = ArrayList&lt;Int&gt;()\nvar list2 = ArrayList&lt;Int&gt;()\nvar list3 = ArrayList&lt;Int&gt;()\nlist3.addAll(list1)\nlist3.addAll(list2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 6, "last_activity_date": 1497478087, "creation_date": 1497478087, "answer_id": 44555499, "question_id": 44555279, "link": "https://stackoverflow.com/questions/44555279/kotlin-merge-2-arraylistint-in-a-one-arraylistint/44555499#44555499", "title": "Kotlin | Merge 2 ArrayList&lt;Int&gt; In a one ArrayList&lt;Int&gt;", "body": "<p>it is so easy in kotlin by using the <code>+</code> operator, for example:</p>\n\n<pre><code>val list1 = arrayListOf(1, 2);\nval list2 = arrayListOf(3, 4);\nval merged  =  list1 + list2; \n  //  ^--- [1, 2, 3, 4]\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 7276550, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4FEkRX-OWEU/AAAAAAAAAAI/AAAAAAAAABE/Obc49ONLR84/photo.jpg?sz=128", "display_name": "Zakaria Guenna", "link": "https://stackoverflow.com/users/7276550/zakaria-guenna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2148, "favorite_count": 0, "closed_date": 1497517113, "accepted_answer_id": 44555340, "answer_count": 2, "score": 0, "last_activity_date": 1498675732, "creation_date": 1497476931, "last_edit_date": 1497544805, "question_id": 44555279, "link": "https://stackoverflow.com/questions/44555279/kotlin-merge-2-arraylistint-in-a-one-arraylistint", "closed_reason": "Not suitable for this site", "title": "Kotlin | Merge 2 ArrayList&lt;Int&gt; In a one ArrayList&lt;Int&gt;", "body": "<p>I have two <code>ArrayList&lt;Int&gt;</code></p>\n\n<p>And i want a way to merge both of the <code>ArrayList&lt;Int&gt;</code> in 1  new <code>ArrayList&lt;Int&gt;</code></p>\n"}, {"tags": ["string", "loops", "templates", "for-loop", "kotlin"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1497474633, "post_id": 44554781, "comment_id": 76099919, "body": "This question was also discussed at <a href=\"https://discuss.kotlinlang.org/t/template-engine/866\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/template-engine/866</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "is_accepted": true, "score": 5, "last_activity_date": 1498127052, "last_edit_date": 1498127052, "creation_date": 1497474557, "answer_id": 44554782, "question_id": 44554781, "link": "https://stackoverflow.com/questions/44554781/how-to-embed-for-loops-in-kotlin-string-templates/44554782#44554782", "title": "How to embed for loops in Kotlin string templates", "body": "<p>The easiest out-of-the-box way I found so far is to replace loops with equivalent <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to-string.html\" rel=\"nofollow noreferrer\">joinToString</a> calls:</p>\n\n<pre><code>\"&lt;ol&gt;${list.joinToString(\"\") { \"&lt;li&gt;$it\" }}&lt;/ol&gt;\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\"\"\"\n&lt;ol&gt;${list.indices.joinToString(\"\") {\n    \"\"\"\n    &lt;li id=\"item${it + 1}\"&gt;${list[it]}\"\"\"\n}}\n&lt;/ol&gt;\"\"\".trimIndent()\n</code></pre>\n\n<p>In the matter of preference, it's also possible to simulate loops with helper functions:</p>\n\n<pre><code>inline fun &lt;T&gt; forEach(iterable: Iterable&lt;T&gt;, crossinline out: (v: T) -&gt; String) \n    = iterable.joinToString(\"\") { out(it) }\n\nfun &lt;T&gt; forEachIndexed1(iterable: Iterable&lt;T&gt;, out: (i: Int, v: T) -&gt; String): String {\n    val sb = StringBuilder()\n    iterable.forEachIndexed { i, it -&gt;\n        sb.append(out(i + 1, it))\n    }\n    return sb.toString()\n}\n</code></pre>\n\n<p>and use them like this:</p>\n\n<pre><code>\"&lt;ol&gt;${forEach(list) { \"&lt;li&gt;$it\" }}&lt;/ol&gt;\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>\"\"\"\n&lt;ol&gt;${forEachIndexed1(list) { i, item -&gt;\n\"\"\"\n    &lt;li id=\"item$i\"&gt;$item\"\"\"\n}}\n&lt;/ol&gt;\"\"\".trimIndent()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1497479601, "post_id": 44554996, "comment_id": 76101949, "body": "Sorry, I don&#39;t get how it&#39;s different from the first code line in my answer. )"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1497479707, "post_id": 44554996, "comment_id": 76101979, "body": "@Vadzim sir, I don&#39;t see your answer when I wrote mine. I found we are the same ..."}, {"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1497480156, "post_id": 44554996, "comment_id": 76102114, "body": "No compaints then. But I was posting the question and the answer at once. Really weird. %)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1497480294, "post_id": 44554996, "comment_id": 76102157, "body": "@Vadzim I&#39;m sorry, sir. I&#39;m from China, I&#39;m not good at English. so I maybe spend more time to answer a question  than you."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 4, "last_activity_date": 1497475640, "creation_date": 1497475640, "answer_id": 44554996, "question_id": 44554781, "link": "https://stackoverflow.com/questions/44554781/how-to-embed-for-loops-in-kotlin-string-templates/44554996#44554996", "title": "How to embed for loops in Kotlin string templates", "body": "<p>you can simply using <code>joinToString</code> instead.</p>\n\n<pre><code>val s = \"\"\"&lt;ol&gt;\n             ${list.joinToString { \"&lt;li&gt;$it&lt;/li&gt;\" }}\n           &lt;/ol&gt;\"\"\";\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>&lt;ol&gt;\n   &lt;li&gt;one&lt;/li&gt;\n   &lt;li&gt;two&lt;/li&gt;\n   ...\n&lt;/ol&gt;\n</code></pre>\n"}], "owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1625, "favorite_count": 0, "accepted_answer_id": 44554782, "answer_count": 2, "score": 4, "last_activity_date": 1498127052, "creation_date": 1497474557, "question_id": 44554781, "link": "https://stackoverflow.com/questions/44554781/how-to-embed-for-loops-in-kotlin-string-templates", "title": "How to embed for loops in Kotlin string templates", "body": "<p>We can easily nest expression operators like <code>if</code> and <code>when</code> in Kotlin string templates:</p>\n\n<pre><code>\"List ${if (list.isEmpty()) \"is empty\" else \"has ${list.size} items\"}.\"\n</code></pre>\n\n<p>But <code>for</code> or <code>while</code> are not expressions and can't be nested in template like this:</p>\n\n<pre><code>\"&lt;ol&gt;${for (item in list) \"&lt;li&gt;$item\"}&lt;/ol&gt;\"\n</code></pre>\n\n<p>So I was looking for convinient ways to use loops inside large templates.</p>\n"}, {"tags": ["enums", "interface", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 13, "last_activity_date": 1497472348, "last_edit_date": 1497472348, "creation_date": 1497471410, "answer_id": 44553992, "question_id": 44553148, "link": "https://stackoverflow.com/questions/44553148/in-kotlin-how-can-i-work-around-the-inherited-declarations-clash-when-an-enum-c/44553992#44553992", "title": "In Kotlin, how can I work around the inherited declarations clash when an enum class implements an interface?", "body": "<p>it is a <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\"><img src=\"https://i.stack.imgur.com/avapk.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">kotlin</a>  <a href=\"https://youtrack.jetbrains.com/issue/KT-14115\" rel=\"noreferrer\">bug-KT-14115</a> even if you makes the <code>enum</code> class implements the <strong>interface</strong> which contains a <code>name()</code> function is denied.</p>\n\n<pre><code>interface Name {\n    fun name(): String;\n}\n\n\nenum class Color : Name;\n       //   ^--- the same error reported\n</code></pre>\n\n<p><strong>BUT</strong> you can simulate a <code>enum</code> class by using a <code>sealed</code> class, for example:</p>\n\n<pre><code>interface Name {\n    fun name(): String;\n}\n\n\nsealed class Color(val ordinal: Int) : Name {\n    fun ordinal()=ordinal;\n    override fun name(): String {\n        return this.javaClass.simpleName;\n    }\n    //todo: simulate other methods ...\n};\n\nobject RED : Color(0);\nobject GREEN : Color(1);\nobject BLUE : Color(2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1428, "user_id": 222116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J5QMC.jpg?s=128&g=1", "display_name": "R&#252;diger Schulz", "link": "https://stackoverflow.com/users/222116/r%c3%bcdiger-schulz"}, "edited": false, "score": 0, "creation_date": 1603263591, "post_id": 55262833, "comment_id": 113977879, "body": "While I understand the downvote, as it is not helping with 3rd party interfaces like RelationshipType, it is a way to use an enum&#39;s name in an interface."}], "tags": [], "owner": {"reputation": 1428, "user_id": 222116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J5QMC.jpg?s=128&g=1", "display_name": "R&#252;diger Schulz", "link": "https://stackoverflow.com/users/222116/r%c3%bcdiger-schulz"}, "is_accepted": false, "score": -1, "last_activity_date": 1603262986, "last_edit_date": 1603262986, "creation_date": 1553091176, "answer_id": 55262833, "question_id": 44553148, "link": "https://stackoverflow.com/questions/44553148/in-kotlin-how-can-i-work-around-the-inherited-declarations-clash-when-an-enum-c/55262833#55262833", "title": "In Kotlin, how can I work around the inherited declarations clash when an enum class implements an interface?", "body": "<p>The example above is working with an interface having a property <code>name</code> instead of a function <code>name()</code>.</p>\n<pre><code>interface Name {\n    val name: String;\n}\n\nenum class Color : Name {\n    Blue\n}\n</code></pre>\n"}], "owner": {"reputation": 6457, "user_id": 575520, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd13d12fe42258e31306207e168d18b0?s=128&d=identicon&r=PG&f=1", "display_name": "Laurent Pireyn", "link": "https://stackoverflow.com/users/575520/laurent-pireyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 2, "accepted_answer_id": 44553992, "answer_count": 2, "score": 11, "last_activity_date": 1603262986, "creation_date": 1497468445, "question_id": 44553148, "link": "https://stackoverflow.com/questions/44553148/in-kotlin-how-can-i-work-around-the-inherited-declarations-clash-when-an-enum-c", "title": "In Kotlin, how can I work around the inherited declarations clash when an enum class implements an interface?", "body": "<p>I define an enum class that implements Neo4j's <code>RelationshipType</code>:</p>\n\n<pre><code>enum class MyRelationshipType : RelationshipType {\n    // ...\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<p><code>Inherited platform declarations clash: The following declarations have the same JVM signature (name()Ljava/lang/String;): fun &lt;get-name&gt;(): String fun name(): String</code></p>\n\n<p>I understand that both the <code>name()</code> method from the <code>Enum</code> class and the <code>name()</code> method from the <code>RelationshipType</code> interface have the same signature. This is not a problem in Java though, so why is it an error in Kotlin, and how can I work around it?</p>\n"}, {"tags": ["java", "annotations", "kotlin", "kotlin-interop", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 5, "last_activity_date": 1497461685, "creation_date": 1497461685, "answer_id": 44551243, "question_id": 44551177, "link": "https://stackoverflow.com/questions/44551177/null-safety-in-legacy-java-libraries-used-in-kotlin-projects/44551243#44551243", "title": "Null safety in legacy Java libraries used in Kotlin projects", "body": "<p>Whenever the Kotlin compiler does not know what the nullability of a type is, the type becomes a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">platform type</a>, denoted with a single <code>!</code>:</p>\n\n<pre><code>public String foo1() { ... }\n@NotNull public String foo2() { ... }\n@Nullable public String foo3() { ... }\n\nval a = foo1() // Type of a is \"String!\"\nval b = foo2() // Type of b is \"String\"\nval c = foo3() // Type of c is \"String?\"\n</code></pre>\n\n<p>This means a much as, \"I don't know what the type is, you may need to check it\". </p>\n\n<p>The Kotlin compiler does not enforce null-checking on these types, because it may be unnecessary:</p>\n\n<blockquote>\n  <p>Any reference in Java may be null, which makes Kotlin's requirements\n  of strict null-safety impractical for objects coming from Java. (...)\n  When we call methods on variables of platform types, Kotlin does not\n  issue nullability errors at compile time, but the call may fail at\n  runtime, because of a null-pointer exception or an assertion that\n  Kotlin generates to prevent nulls from propagating:</p>\n\n<pre><code>val item = list[0] // platform type inferred (ordinary Java object)\nitem.substring(1) // allowed, may throw an exception if item == null\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1497461931, "creation_date": 1497461931, "answer_id": 44551305, "question_id": 44551177, "link": "https://stackoverflow.com/questions/44551177/null-safety-in-legacy-java-libraries-used-in-kotlin-projects/44551305#44551305", "title": "Null safety in legacy Java libraries used in Kotlin projects", "body": "<p>The type of that variable from Kotlin's view will be <code>String!</code>, which is a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">platform type</a>.</p>\n\n<p>They initially made every variable coming from Java nullable, but they changed that decision later during the design of the language, because it required too much <code>null</code> handling and required too many safe calls that cluttered the code. </p>\n\n<p>Instead, it's up to you to assess whether an object coming from Java might be <code>null</code>, and mark their type accordingly. The compiler doesn't enforce null safety for these objects.</p>\n\n<hr>\n\n<p>As an additional example, if you're overriding a method from Java, the parameters will be platform types yet again, and it's up to you whether you mark them nullable or not. If you have this Java interface:</p>\n\n<pre><code>interface Foo {\n    void bar(Bar bar);\n}\n</code></pre>\n\n<p>Then these are both valid implementations of it in Kotlin:</p>\n\n<pre><code>class A : Foo {\n    fun bar(bar: Bar?) { ... }\n}\n\nclass B : Foo {\n    fun bar(bar: Bar) { ... }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 5994555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QSln4.jpg?s=128&g=1", "display_name": "Sabina Orazem", "link": "https://stackoverflow.com/users/5994555/sabina-orazem"}, "is_accepted": false, "score": 0, "last_activity_date": 1579946729, "last_edit_date": 1579946729, "creation_date": 1579946288, "answer_id": 59908182, "question_id": 44551177, "link": "https://stackoverflow.com/questions/44551177/null-safety-in-legacy-java-libraries-used-in-kotlin-projects/59908182#59908182", "title": "Null safety in legacy Java libraries used in Kotlin projects", "body": "<p>Java code can pass information about nullability using annotations:</p>\n\n<ul>\n<li><p><em>@Nullable String -> seen as String? in Kotlin</em></p></li>\n<li><p><em>@NotNull String -> seen as String in Kotlin</em></p></li>\n</ul>\n\n<p>When annotations aren't present, Java type becomes a <strong>platform type</strong> in Kotlin. A platform type is a type for which Kotlin doesn't have nullability information - you can treat it as nullable or non-null type. This means you carry the full responsibility for the operations you perform with this type (just as in Java). Compiler will allow all operations. Just as in Java, you'll get a NPE if you perform a not null-safe operation on a null value. </p>\n\n<p>We could avoid null checks if Kotlin would treat all incoming values from Java as nullable, but we would end up with large amount of redundant null checks for values that can never be null, hence Kotlin designers came up with platform types. </p>\n\n<p>Note that you can't declare platform types in Kotlin, they can only come from Java. <strong>String!</strong> notation is how the Kotlin compiler denotes platform types, it emphasises that the nullability of the type is unknown. You can't use this syntax in your Kotlin code. </p>\n\n<p>Depending on how you want to <strong>handle the possible null value</strong>, you can use the following operators:</p>\n\n<ul>\n<li><p><strong>String</strong> -> calling a not null-safe operation with an argument that\nmight be null isn't allowed and will be flagged by compiler </p></li>\n<li><p><strong>String?</strong> -> the set of operations you can perform on it is restricted\nby compiler and in case you wan't to pass a nullable value, you're\nforced to deal with it (compare it will null value -> compiler will\nremember that and treat the value as non-null in the scope)</p></li>\n<li><p><strong>String?.</strong> -> (<em>Safe-Call Operator</em>) if the value on which you're trying\nto call the method isn't null, the method is executed normally, else\ncall is skipped and null is returned </p></li>\n<li><p><strong>String?:</strong> -> (<em>Elvis Operator, also Non-Coalescing Operator</em>) this\noperator takes two values, and its result is the first value if it\nisn't null or second if the first one is null</p></li>\n<li><p><strong>String!!</strong> -> (<em>Non-Null Assertion</em>) - for null values an exception is thrown</p></li>\n<li><p><strong>?.let</strong> -> (<em>Let Function together with Safe-Call Operator</em>) - <em>Let\nFunction</em> is called only for non-null values, else nothing happens</p></li>\n</ul>\n"}], "owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 0, "accepted_answer_id": 44551305, "answer_count": 3, "score": 5, "last_activity_date": 1579946729, "creation_date": 1497461414, "last_edit_date": 1536645664, "question_id": 44551177, "link": "https://stackoverflow.com/questions/44551177/null-safety-in-legacy-java-libraries-used-in-kotlin-projects", "title": "Null safety in legacy Java libraries used in Kotlin projects", "body": "<p>Let's say I have particular code in old/legacy Java library:</p>\n\n<pre><code>public class JavaClass {\n    private String notNullString;\n    private String nullableString;\n    private String unannotatedString;\n\n    public JavaClass(@NotNull String notNullString,\n                     @Nullable String nullableString,\n                     String unannotatedString) {\n\n        this.notNullString = notNullString;\n        this.nullableString = nullableString;\n        this.unannotatedString = unannotatedString;\n    }\n\n    @NotNull\n    public String getNotNullString() {\n        return notNullString;\n    }\n\n    @Nullable\n    public String getNullableString() {\n        return nullableString;\n    }\n\n    public String getUnannotatedString() {\n        return unannotatedString;\n    }\n}\n</code></pre>\n\n<p>The first two parameters are properly annotated with @NotNull and @Nullable annotations (using jetbrains.annotations). The third one (<strong>unnanotatedString</strong>) is left without proper annotation.</p>\n\n<p>When I use this class in my Kotlin code and set all the constructor arguments to non-null values, everything is fine:</p>\n\n<pre><code>val foo = JavaClass(\"first string\", \"second string\", \"third string\")\n\nprintln(\"Value1: ${foo.notNullString.length}\")\nprintln(\"Value2: ${foo.nullableString?.length}\")\nprintln(\"Value3: ${foo.unannotatedString.length}\")\n</code></pre>\n\n<p>The first value is non-null so I can access it without a safe call. Second value and I need to use safe call (nullableString?.length), if not, I have a compile-time error, so far so good. On the third value (unannotatedString) I can use it without a safe call, it compiles fine.</p>\n\n<p>But when I set the third parameter to \"null\" I don't get a compile-time error (no safe call required, only runtime NullPointerException:</p>\n\n<pre><code>val bar = JavaClass(\"first string\", \"second string\", null)\n\nprintln(\"Value4: ${bar.unannotatedString.length}\") // throws NPE\n</code></pre>\n\n<p>Is that expected behaviour? Is Kotlin's compiler treating not annotated Java methods same as the ones annotated with @NotNull?</p>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1497467649, "post_id": 44551141, "comment_id": 76096292, "body": "This looks like a bug to me. I would report it at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">Kotlin (KT) | YouTrack</a> if there isn&#39;t already an issue for this."}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497524299, "post_id": 44565617, "comment_id": 76120021, "body": "sir. I have saw it. the bug is reported in Jan, why didn&#39;t fix it yet?"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1497524439, "post_id": 44565617, "comment_id": 76120123, "body": "The bug is not fixed yet because it has not been recognized as a major issue and there&#39;s a relatively simple workaround."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497524482, "post_id": 44565617, "comment_id": 76120142, "body": "thanks very much. &quot;there&#39;s a relatively simple workaround&quot; - what are you mean is using java <code>javaMethod.annotations</code>?"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 1, "last_activity_date": 1497523887, "creation_date": 1497523887, "answer_id": 44565617, "question_id": 44551141, "link": "https://stackoverflow.com/questions/44551141/use-site-targeted-annotations-are-not-accessible-with-kotlin-reflection/44565617#44565617", "title": "Use-site targeted annotations are not accessible with Kotlin reflection", "body": "<p>Use-site targeted annotations are not visible in kotlin-reflect yet. This is a known issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-10837\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-10837</a>.</p>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 44565617, "answer_count": 1, "score": 0, "last_activity_date": 1499245917, "creation_date": 1497461296, "last_edit_date": 1499245917, "question_id": 44551141, "link": "https://stackoverflow.com/questions/44551141/use-site-targeted-annotations-are-not-accessible-with-kotlin-reflection", "title": "Use-site targeted annotations are not accessible with Kotlin reflection", "body": "<p>I use the annotation site target <code>@get</code> that confused me for a while.</p>\n\n<pre><code>class GetSiteTarget1(@get:Annotation val value: Int = 1);\nclass GetSiteTarget2 {\n    val value = 1\n        @Annotation get () {\n            return field;\n        }\n};\n</code></pre>\n\n<p>both classes above with different result:</p>\n\n<pre><code>GetSiteTarget1::value.getter.annotations; // not has @Annotation\nGetSiteTarget1::value.getter.javaMethod!!.annotations // has @Annotation\n\nGetSiteTarget2::value.getter.annotations; // has @Annotation\nGetSiteTarget2::value.getter.javaMethod!!.annotations // has @Annotation\n</code></pre>\n\n<p><strong>AND</strong> both class has annotated with <code>@Annotation</code>:</p>\n\n<pre><code>RuntimeVisibleAnnotations:\n  0: #10() // @Annotation\n</code></pre>\n\n<p>Could anyone tell me why?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "edited": false, "score": 0, "creation_date": 1497458243, "post_id": 44549869, "comment_id": 76091049, "body": "Yeah... I kind of understand what you said. But if functions are the &#39;first class citizens&#39; in Kotlin, why do we need to distinguish between functional and procedural origin of the function? Do they have different properties? I think not - you can call them, you can assign to something and you can pass them as arguments. You can do the same to the both types - named functions and lambdas as well. So why the differentiation?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "edited": false, "score": 0, "creation_date": 1497461754, "post_id": 44549869, "comment_id": 76093047, "body": "@V.K. every feature in every language is a kind of compromise. Anonymous functions are objects, they can be passed as arguments, and on JVM they are anonymous classes. They are subclasses of Any (actually, <code>java.lang.Object</code>) implementing functional interface, they have <code>hashCode</code>, <code>equals</code>, <code>toString</code> (and even more) methods, and they impact GC somehow. On the other hand, named functions are ordinary methods on JVM. There&#39;s less technical difference when compiled to JS, since all functions in JS are kinda anonymous. Inconsistent functions syntax is a price for performance and Java interop."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 1, "last_activity_date": 1497456883, "creation_date": 1497456883, "answer_id": 44549869, "question_id": 44549644, "link": "https://stackoverflow.com/questions/44549644/named-functions-vs-lambda-reflexion/44549869#44549869", "title": "named functions vs lambda reflexion", "body": "<p><code>fun x()</code> is an ordinary named function from procedural programming. <code>val y</code> is a property which holds a reference to <code>x</code>. <code>val z</code> is an anonymous functional from functional programming.</p>\n\n<p><code>::</code> is a 'function reference', a kind of bridge between procedural and functional programming.</p>\n\n<p>By default, your functions should be <code>fun</code>. Lambda expressions (anonymous functions), on the other side, are intended to be passed to other functions as callbacks.</p>\n"}, {"comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497461848, "post_id": 44550317, "comment_id": 76093107, "body": "<code>fun x()</code> is not a class, it&#39;s a method on JVM. <code>::x</code> is an anonymous class."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497461888, "post_id": 44550317, "comment_id": 76093128, "body": "@Miha_x64 sir, I say it occurs in sometimes not always."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1497460104, "last_edit_date": 1497460104, "creation_date": 1497458395, "answer_id": 44550317, "question_id": 44549644, "link": "https://stackoverflow.com/questions/44549644/named-functions-vs-lambda-reflexion/44550317#44550317", "title": "named functions vs lambda reflexion", "body": "<p><strong>IF</strong> you think from my point of view, I think you can understand it immediately.</p>\n\n<ul>\n<li><code>x</code> just is an identifier not a variable, so you can't reference it directly.</li>\n<li><code>fun x()</code> is a class which derived from <code>Function0</code>.</li>\n<li>the expression <code>::x</code> is the instance of the type of <code>fun x()</code>, this is called <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function reference expression</a> in kotlin.</li>\n</ul>\n\n<blockquote>\n  <p>Kotlin makes functions and properties first-class citizens in the language, and introspecting them.</p>\n</blockquote>\n\n<p>sometimes function has it own class in kotlin like as java-8 lambda expression. but <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function reference expression</a> can't used with the diff <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">receiver</a>.</p>\n\n<p>when calling an <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">inline function</a> followed with a lambda, both the lambda &amp; the function will be inlined at call-sites. but call with a non-inline <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function reference expression</a>, only the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">inline function</a> will be inlined at call-sites.</p>\n"}, {"comments": [{"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1551501078, "post_id": 44552523, "comment_id": 96672798, "body": "I love answers that start.. &quot;for a better understanding, let&#39;s look at a large pile of bytecode...&quot;"}], "tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": 0, "last_activity_date": 1497466254, "creation_date": 1497466254, "answer_id": 44552523, "question_id": 44549644, "link": "https://stackoverflow.com/questions/44549644/named-functions-vs-lambda-reflexion/44552523#44552523", "title": "named functions vs lambda reflexion", "body": "<p>I think for better understanding look at bytecode </p>\n\n<pre><code>  private final static Lkotlin/jvm/functions/Function0; y\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n\n  // access flags 0x1A\n  // signature Lkotlin/jvm/functions/Function0&lt;Ljava/lang/Integer;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;java.lang.Integer&gt;\n  private final static Lkotlin/jvm/functions/Function0; z\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n\n  // access flags 0x19\n  public final static main([Ljava/lang/String;)V\n    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0\n   L0\n    ALOAD 0\n    LDC \"args\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n   L1\n    LINENUMBER 6 L1\n    GETSTATIC MainKt$main$1.INSTANCE : LMainKt$main$1;\n    ASTORE 1\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\n    ALOAD 1\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V\n   L2\n    LINENUMBER 7 L2\n    GETSTATIC MainKt.y : Lkotlin/jvm/functions/Function0;\n    ASTORE 1\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\n    ALOAD 1\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V\n   L3\n    LINENUMBER 8 L3\n    GETSTATIC MainKt.z : Lkotlin/jvm/functions/Function0;\n    ASTORE 1\n    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;\n    ALOAD 1\n    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V\n   L4\n    LINENUMBER 9 L4\n    RETURN\n   L5\n    LOCALVARIABLE args [Ljava/lang/String; L0 L5 0\n    MAXSTACK = 2\n    MAXLOCALS = 2\n\n  // access flags 0x19\n  public final static x()I\n   L0\n    LINENUMBER 11 L0\n    BIPUSH 10\n    IRETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x19\n  // signature ()Lkotlin/jvm/functions/Function0&lt;Ljava/lang/Integer;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;java.lang.Integer&gt; getY()\n  public final static getY()Lkotlin/jvm/functions/Function0;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 12 L0\n    GETSTATIC MainKt.y : Lkotlin/jvm/functions/Function0;\n    ARETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x19\n  // signature ()Lkotlin/jvm/functions/Function0&lt;Ljava/lang/Integer;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;java.lang.Integer&gt; getZ()\n  public final static getZ()Lkotlin/jvm/functions/Function0;\n  @Lorg/jetbrains/annotations/NotNull;() // invisible\n   L0\n    LINENUMBER 13 L0\n    GETSTATIC MainKt.z : Lkotlin/jvm/functions/Function0;\n    ARETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n   L0\n    LINENUMBER 12 L0\n    GETSTATIC MainKt$y$1.INSTANCE : LMainKt$y$1;\n    CHECKCAST kotlin/jvm/functions/Function0\n    PUTSTATIC MainKt.y : Lkotlin/jvm/functions/Function0;\n   L1\n    LINENUMBER 13 L1\n    GETSTATIC MainKt$z$1.INSTANCE : LMainKt$z$1;\n    CHECKCAST kotlin/jvm/functions/Function0\n    PUTSTATIC MainKt.z : Lkotlin/jvm/functions/Function0;\n    RETURN\n    MAXSTACK = 1\n    MAXLOCALS = 0\n}\n</code></pre>\n\n<p>y and z value have type Function0</p>\n\n<pre><code>static &lt;clinit&gt;()V // here we have static initialization block where y and z are initialized\n</code></pre>\n\n<p>x have type MainKt$main$1</p>\n\n<p>In each case(println) we just show method declaration(visibility modifiers, return type, signature) without invocation.\ny and z are high order function that in bytecode are presented by Function0 class, for x value it's just static function. </p>\n\n<p>And when you invoke <code>println(::x) println(y) println(z)</code> you just print functions declarations. This is ok, that declaration of x and y functions are different that in z function. Because y has reference to x function and z are still high order function that return 10. In simple words y == x, because you assign to y function declaration from x. \nJust for Note. In Java I can show method declaration in this way:</p>\n\n<pre><code>  public static void main(String[] args) {\n    try {\n      System.out.println(Main.class.getMethod(\"A\", null)); // prints public static void Main.A()\n    } catch (NoSuchMethodException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static void A() {\n    System.out.println(15);\n  }\n</code></pre>\n\n<p>Conclusion:\nIn your code you just print function return type, visibility modifier and signature.</p>\n"}], "owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1497466254, "creation_date": 1497456205, "question_id": 44549644, "link": "https://stackoverflow.com/questions/44549644/named-functions-vs-lambda-reflexion", "title": "named functions vs lambda reflexion", "body": "<p>I am still learning Kotlin and trying to understand its core principles. What I do not get is this:</p>\n\n<pre><code>fun x() : Int { return 10 }\nval y : () -&gt; Int = ::x\nval z : () -&gt; Int = { 10 }\n\nfun main(args: Array&lt;String&gt;) {\n    println(::x) \n    println(y)   \n    println(z)    \n}\n</code></pre>\n\n<p>we get the following output:</p>\n\n<pre><code>fun x(): kotlin.Int\nfun x(): kotlin.Int\n() -&gt; kotlin.Int\n</code></pre>\n\n<p>My question is why the output is not the same (I believed these functions should be interchangeable, equivalent)? I think the type of all the functions should be <code>() -&gt; Int</code>. Why do we keep the original name with the function signature (<code>fun x</code>) even though it is assigned to a different name (<code>y</code>)? Is there any language design principle which would require such difference in function signatures?</p>\n\n<p>And a bonus question - why do we need to use the operator <code>::</code>. It does not compile without it. But why is this required by the language design? Would not <code>val y = x</code> work just fine and be much simpler?</p>\n"}, {"tags": ["android", "android-fragments", "android-recyclerview", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497458507, "post_id": 44549250, "comment_id": 76091176, "body": "Can you give us the full stack trace?"}, {"owner": {"reputation": 45, "user_id": 2081671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ab51af5f9fa9896328faddef347d729?s=128&d=identicon&r=PG&f=1", "display_name": "Zelmec", "link": "https://stackoverflow.com/users/2081671/zelmec"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497464104, "post_id": 44549250, "comment_id": 76094394, "body": "@ChristianBr&#252;ggemann I&#39;m at work at the moment, but I should be able to provide it when I get home."}, {"owner": {"reputation": 45, "user_id": 2081671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ab51af5f9fa9896328faddef347d729?s=128&d=identicon&r=PG&f=1", "display_name": "Zelmec", "link": "https://stackoverflow.com/users/2081671/zelmec"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497494391, "post_id": 44549250, "comment_id": 76105341, "body": "@ChristianBr&#252;ggemann in case you are still interested, I have added the full stack trace. Sorry for the late update!"}, {"owner": {"reputation": 30548, "user_id": 3134215, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/D6VcW.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/3134215/ravi"}, "edited": false, "score": 0, "creation_date": 1497500378, "post_id": 44549250, "comment_id": 76106691, "body": "Your <code>DataBinding</code> and <code>Kotlin</code> setup seems fine, i guess something might be wrong with <code>RecyclerView</code>"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 2, "creation_date": 1497507293, "post_id": 44549250, "comment_id": 76109140, "body": "Post code of <code>recyclerViewAdapter</code>."}, {"owner": {"reputation": 45, "user_id": 2081671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ab51af5f9fa9896328faddef347d729?s=128&d=identicon&r=PG&f=1", "display_name": "Zelmec", "link": "https://stackoverflow.com/users/2081671/zelmec"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497579900, "post_id": 44549250, "comment_id": 76148248, "body": "@chandil03 I have added the code for the adapter as well as the View Holder."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 2081671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ab51af5f9fa9896328faddef347d729?s=128&d=identicon&r=PG&f=1", "display_name": "Zelmec", "link": "https://stackoverflow.com/users/2081671/zelmec"}, "edited": false, "score": 0, "creation_date": 1497642927, "post_id": 44587409, "comment_id": 76182307, "body": "Thank you so much! I forgot that the rootView is what was required for the view holder parameter."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1497610163, "creation_date": 1497610163, "answer_id": 44587409, "question_id": 44549250, "link": "https://stackoverflow.com/questions/44549250/initializing-a-recyclerview-with-android-data-binding-in-kotlin-is-throwing-an-e/44587409#44587409", "title": "Initializing a RecyclerView with Android Data Binding in Kotlin is throwing an error. What am I doing wrong?", "body": "<p>You're creating the view holder with <code>HomeCardViewHolder(binding.homeCardTitle, binding)</code>. The <code>itemView</code> parameter is supposed to be the root view though. Judging by the name, <code>homeCardTitle</code> might be a view in the hierarchy of the binding itself. Thus it already has a parent an cannot be added to the recycler view.</p>\n\n<p>So instead instantiate the view holder with <code>HomeCardViewHolder(binding.root, binding)</code>.</p>\n\n<p>Or just provide the view holder with the binding alone.</p>\n\n<pre><code>class HomeCardViewHolder constructor(val binding: HomeCardBinding): RecyclerView.ViewHolder(binding.root) {\n\n    private val TAG = HomeCardViewHolder::class.java.simpleName\n\n    fun bind(title: String, listener: View.OnClickListener) {\n        Log.d(TAG, \"[bind]\")\n        binding.homeCardTitle.text = title\n        Log.d(TAG, title)\n        binding.homeCardTitle.setOnClickListener(listener)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 2081671, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3ab51af5f9fa9896328faddef347d729?s=128&d=identicon&r=PG&f=1", "display_name": "Zelmec", "link": "https://stackoverflow.com/users/2081671/zelmec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6401, "favorite_count": 0, "accepted_answer_id": 44587409, "answer_count": 1, "score": 2, "last_activity_date": 1497610163, "creation_date": 1497455056, "last_edit_date": 1497579851, "question_id": 44549250, "link": "https://stackoverflow.com/questions/44549250/initializing-a-recyclerview-with-android-data-binding-in-kotlin-is-throwing-an-e", "title": "Initializing a RecyclerView with Android Data Binding in Kotlin is throwing an error. What am I doing wrong?", "body": "<h2>Description</h2>\n\n<p>I am trying to set up an Android screen in Kotlin with a RecyclerView using android data binding. I have an activity that contains a fragment and the fragment contains a RecyclerView that I initialize with data binding.</p>\n\n<p>The issue is that when I try to set my recycler view's layout manager the application throws an IllegalStateException complaining that the specified child (I'm assuming it means either the RecyclerView or the LayoutManager) already has a parent and that I need to run removeView(). I have tried removing all views from the RecyclerView, but to no avail.</p>\n\n<h2>Here is my activity:</h2>\n\n<pre><code>class HomeActivity : BaseActivity() {\n\n    private lateinit var mBinding: ActivityHomeBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        mBinding = DataBindingUtil.setContentView(this, R.layout.activity_home)\n\n        if(savedInstanceState != null){\n            return\n        }\n\n        val fragment = HomeFragment.newInstance()\n        supportFragmentManager.beginTransaction().add(R.id.home_fragment_container, fragment).commit()\n    }\n}\n</code></pre>\n\n<h2>Here is my fragment:</h2>\n\n<pre><code>class HomeFragment : BaseFragment() {\n\n    private lateinit var mBinding: FragmentHomeBinding\n    private lateinit var mRecyclerView: RecyclerView\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val testList = listOf(\"TEST TITLE\")\n        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false)\n        mRecyclerView = mBinding.homeRecyclerview\n        mRecyclerView.adapter = HomeOptionsAdapter(testList, View.OnClickListener { Log.d(\"[onCreateView]:\", \"I've been clicked\") })\n        mRecyclerView.layoutManager = LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false)\n        return mBinding.root\n    }\n\n    companion object {\n        fun newInstance(): HomeFragment {\n            val fragment = HomeFragment()\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<h2>And here is my fragment layout:</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"joseph.kinler.mtgutility.fragments.HomeFragment\"&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/home_recyclerview\"\n            android:scrollbars=\"vertical\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"/&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>When I try to run this, I get an error on my recyclerview when I try to set the LayoutManager:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.</p>\n</blockquote>\n\n<p>So my question is: What am I doing wrong? Am I using data binding incorrectly? Is Kotlin just not playing well with data binding? Any help or feedback would be appreciated.</p>\n\n<h2>Edit:</h2>\n\n<p>Here is the full stack trace for the error:</p>\n\n<blockquote>\n  <p>06-14 21:34:44.876 3631-3631/com.kinler.mtgutility E/AndroidRuntime:\n  FATAL EXCEPTION: main\n                                                                          Process: com.kinler.mtgutility, PID: 3631\n                                                                          java.lang.IllegalStateException: The specified child already has a\n  parent. You must call removeView() on the child's parent first.\n                                                                              at android.view.ViewGroup.addViewInner(ViewGroup.java:4885)\n                                                                              at android.view.ViewGroup.addView(ViewGroup.java:4716)\n                                                                              at android.view.ViewGroup.addView(ViewGroup.java:4656)\n                                                                              at\n  android.support.v7.widget.RecyclerView$5.addView(RecyclerView.java:751)\n                                                                              at android.support.v7.widget.ChildHelper.addView(ChildHelper.java:107)\n                                                                              at\n  android.support.v7.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:7995)\n                                                                              at\n  android.support.v7.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:7953)\n                                                                              at\n  android.support.v7.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:7941)\n                                                                              at\n  android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1552)\n                                                                              at\n  android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1498)\n                                                                              at\n  android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:591)\n                                                                              at\n  android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3691)\n                                                                              at\n  android.support.v7.widget.RecyclerView.dispatchLayout(RecyclerView.java:3408)\n                                                                              at\n  android.support.v7.widget.RecyclerView.onLayout(RecyclerView.java:3960)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n                                                                              at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n                                                                              at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at\n  com.android.internal.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:493)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at com.android.internal.policy.DecorView.onLayout(DecorView.java:736)\n                                                                              at android.view.View.layout(View.java:19393)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6022)\n                                                                              at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2480)\n                                                                              at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2199)\n                                                                              at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1385)\n                                                                              at\n  android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6722)\n                                                                              at\n  android.view.Choreographer$CallbackRecord.run(Choreographer.java:886)\n                                                                              at android.view.Choreographer.doCallbacks(Choreographer.java:698)\n                                                                              at android.view.Choreographer.doFrame(Choreographer.java:633)\n                                                                              at\n  android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:872)\n                                                                              at android.os.Handler.handleCallback(Handler.java:769)\n                                                                              at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                              at android.os.Looper.loop(Looper.java:164)\n                                                                              at android.app.ActivityThread.main(ActivityThread.java:6540)\n                                                                              at java.lang.reflect.Method.invoke(Native Method)\n                                                                              at\n  com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)</p>\n</blockquote>\n\n<h2>Edit 2:</h2>\n\n<p>I did a bit more debugging last night with logs and it appears that my recyclerView is initializing properly, the adapter is running, and it will create one ViewHolder and bind it before throwing an error. I am still not sure where the exact error occurs, but I am planning on adding log statements to more spots in my app flow to figure out where the problem happens.</p>\n\n<h2>Edit 3:</h2>\n\n<p>Here is my adapter code:</p>\n\n<pre><code>class HomeOptionsAdapter(val items:List&lt;String&gt;, val itemListener: View.OnClickListener): RecyclerView.Adapter&lt;HomeCardViewHolder&gt;() {\n\n    private val TAG = HomeOptionsAdapter::class.java.simpleName\n\n    override fun onBindViewHolder(viewHolder: HomeCardViewHolder, position: Int) = viewHolder.bind(items[position], itemListener)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): HomeCardViewHolder {\n        Log.d(TAG, \"[onCreateViewHolder]\")\n        val inflater = LayoutInflater.from(parent.context)\n        val binding = HomeCardBinding.inflate(inflater, parent, false)\n        return HomeCardViewHolder(binding.homeCardTitle, binding)\n    }\n\n    override fun getItemCount(): Int = items.size\n}\n</code></pre>\n\n<p>And my View Holder code:</p>\n\n<pre><code>class HomeCardViewHolder constructor(itemView: View, binding: HomeCardBinding): RecyclerView.ViewHolder(itemView) {\n\n    private val TAG = HomeCardViewHolder::class.java.simpleName\n    private var mBinding: HomeCardBinding\n\n    init {\n        mBinding = binding\n    }\n\n    fun bind(title: String, listener: View.OnClickListener) {\n        Log.d(TAG, \"[bind]\")\n        mBinding.homeCardTitle.text = title\n        Log.d(TAG, title)\n        mBinding.homeCardTitle.setOnClickListener(listener)\n    }\n}\n</code></pre>\n"}, {"tags": ["sonarqube", "kotlin", "sonar-plugin"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8160520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fcc20338af64886b42d148e2c28459?s=128&d=identicon&r=PG&f=1", "display_name": "abosch", "link": "https://stackoverflow.com/users/8160520/abosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1498663519, "creation_date": 1498663519, "answer_id": 44806763, "question_id": 44545542, "link": "https://stackoverflow.com/questions/44545542/why-are-my-added-newissues-not-transfered-to-sonar-custom-sonar-plugin/44806763#44806763", "title": "Why are my added NewIssues not transfered to sonar? (Custom Sonar Plugin)", "body": "<p>I've solved my issue by activating my rules in the RulesProfile:</p>\n\n<pre><code>override fun createProfile(validation: ValidationMessages): RulesProfile {\n    val profile = RulesProfile.create(DETEKT_WAY, KOTLIN_KEY)\n    RULE_KEYS.forEach {\n        profile.activateRule(Rule.create(it.repository(), it.rule()), null)\n    }\n    return profile\n} \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8160520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fcc20338af64886b42d148e2c28459?s=128&d=identicon&r=PG&f=1", "display_name": "abosch", "link": "https://stackoverflow.com/users/8160520/abosch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498663519, "creation_date": 1497445164, "question_id": 44545542, "link": "https://stackoverflow.com/questions/44545542/why-are-my-added-newissues-not-transfered-to-sonar-custom-sonar-plugin", "title": "Why are my added NewIssues not transfered to sonar? (Custom Sonar Plugin)", "body": "<p>Heyho,</p>\n\n<p>I have my sonar-kotlin-plugin up and running. My RuleDefinitions are dislayed on the Rules-page, but when analyzing some kotlin projects the found issues are not saved.</p>\n\n<p>My sensor-issue-adding-code looks like this:</p>\n\n<pre><code>private fun projectIssues(detektion: Detektion, context: SensorContext) {\n    val fileSystem = context.fileSystem()\n    val baseDir = fileSystem.baseDir()\n    val predicates = fileSystem.predicates()\n    detektion.findings.forEach { _, findings -&gt;\n        findings.forEach { issue -&gt;\n            val inputFile = fileSystem.inputFile(predicates.`is`(baseDir.resolve(issue.location.file)))\n            if (inputFile != null) {\n                val newIssue = context.newIssue()\n                        .forRule(findKey(issue.id))\n                        .gap(2.0) // TODO what to write here?\n                        .primaryLocation(issue, inputFile)\n                println(newIssue)\n                newIssue.save()\n            } else {\n                println(\"No file found for ${issue.location.file}\")\n            }\n        }\n    }\n}\n\nprivate fun NewIssue.primaryLocation(issue: Finding, inputFile: InputFile): NewIssue {\n    val (line, _) = issue.startPosition\n    val newIssueLocation = newLocation()\n            .on(inputFile)\n            .at(inputFile.selectLine(line))\n            .message(\"TODO needs PR!\")\n    return this.at(newIssueLocation)\n}\n</code></pre>\n\n<p>Even the <code>println(newIssue)</code> shows that it was created.</p>\n\n<p>I use <code>sonar-plugin-api version 5.6</code>, <code>org.sonar-gradle-plugin in version 2.5</code>, my sonar distribution is in version <code>5.6.6</code> and I use the <code>embedded database</code>.</p>\n\n<p>My whole code is in this PR <code>https://github.com/arturbosch/detekt/pull/81</code>.</p>\n\n<p>Thx for your help in advance.</p>\n"}, {"tags": ["promise", "kotlin", "kotlin-js-interop"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1497447515, "last_edit_date": 1497447515, "creation_date": 1497445153, "answer_id": 44545538, "question_id": 44544125, "link": "https://stackoverflow.com/questions/44544125/how-to-create-a-promise-from-the-nested-kotlin-js-promise/44545538#44545538", "title": "How to create a Promise from the nested kotlin.js.Promise?", "body": "<p>you need an additional <code>Promise</code> for that, for example:</p>\n\n<pre><code>fun c(): Promise&lt;Int&gt; {\n    return Promise({ resolve, reject -&gt;\n        a().then({\n            b().then(resolve, reject);\n        });\n    })\n}\n</code></pre>\n\n<p>the code above also can simplified by using <a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">single-expression function</a> as below: </p>\n\n<pre><code>fun c() = Promise({ resolve, reject -&gt;\n    a().then({\n        b().then(resolve, reject);\n    });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1497694968, "post_id": 44576650, "comment_id": 76194109, "body": "While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}], "tags": [], "owner": {"reputation": 169, "user_id": 3706629, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f79b1cc0783b939be76be73d2c38b19?s=128&d=identicon&r=PG&f=1", "display_name": "user3706629", "link": "https://stackoverflow.com/users/3706629/user3706629"}, "is_accepted": false, "score": 0, "last_activity_date": 1497559155, "creation_date": 1497559155, "answer_id": 44576650, "question_id": 44544125, "link": "https://stackoverflow.com/questions/44544125/how-to-create-a-promise-from-the-nested-kotlin-js-promise/44576650#44576650", "title": "How to create a Promise from the nested kotlin.js.Promise?", "body": "<pre><code>fun c(): Promise&lt;Int&gt; {\n    return a().then ({\n        b().unsafeCast&lt;Int&gt;() \n        //Result of b is Promise&lt;Int&gt;, not Int, but then has bad type declaration\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 3706629, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9f79b1cc0783b939be76be73d2c38b19?s=128&d=identicon&r=PG&f=1", "display_name": "user3706629", "link": "https://stackoverflow.com/users/3706629/user3706629"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1393, "favorite_count": 0, "accepted_answer_id": 44545538, "answer_count": 2, "score": 2, "last_activity_date": 1500326724, "creation_date": 1497441455, "last_edit_date": 1500326724, "question_id": 44544125, "link": "https://stackoverflow.com/questions/44544125/how-to-create-a-promise-from-the-nested-kotlin-js-promise", "title": "How to create a Promise from the nested kotlin.js.Promise?", "body": "<p><code>kotlin.js.Promise</code> has function <code>then</code> with this declaration:</p>\n\n<pre><code>open fun &lt;S&gt; then(\n    onFulfilled: (T) -&gt; S, \n    onRejected: (Throwable) -&gt; S = definedExternally\n): Promise&lt;S&gt;\n</code></pre>\n\n<p>I have two functions <code>a()</code> and <code>b()</code>. They both return a <code>Promise&lt;Int&gt;</code>. (They represent some requests to the server.) I need to combine them and create a new function like:</p>\n\n<pre><code>fun c(): Promise&lt;Int&gt; {\n    a().then({\n        b()\n    })\n}\n</code></pre>\n\n<p>But it is not possible, because return type is <code>Promise&lt;Promise&lt;Int&gt;&gt;</code> and not <code>Promise&lt;Int&gt;</code>.</p>\n\n<p>I think this is possible in Javascript. How can I chain promises in Kotlin?</p>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1601547776, "post_id": 44543978, "comment_id": 113444578, "body": "You might want to try this approach instead? <a href=\"https://stackoverflow.com/a/1554144/3763032\">stackoverflow.com/a/1554144/3763032</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497442267, "post_id": 44544127, "comment_id": 76079360, "body": "thanks, sir. but it&#39;s not an intellij problem. I run the command <code>gradle check</code> also reports this compiler error."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1497441462, "creation_date": 1497441462, "answer_id": 44544127, "question_id": 44543978, "link": "https://stackoverflow.com/questions/44543978/kotlin-repeatable-annotations-dont-work-on-jdk-8/44544127#44544127", "title": "Kotlin repeatable @annotations don&#39;t work on jdk-8", "body": "<p>Check the Kotlin compiler settings in IntelliJ. IntelliJ doesn't use gradle to build and run your project by default. It uses the IDEA Kotlin plugin. </p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497441858, "post_id": 44544149, "comment_id": 76079060, "body": "hi, but the error message only says if the jvm target is <b>1.8</b> you can using repeatable annotation. so how to fix the compiler error rather than using a <code>SOURCE</code> retention for a repeatable annotation?"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497442244, "post_id": 44544149, "comment_id": 76079343, "body": "It looks like we don&#39;t have any other options now, except for container annotations."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497442386, "post_id": 44544149, "comment_id": 76079444, "body": "sir, maybe you are right. but in jdk8 I can using repeatable annotation by <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Repeatable.html\" rel=\"nofollow noreferrer\">@Repeatable</a>."}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497443694, "post_id": 44544149, "comment_id": 76080395, "body": "Ye, I know, but unfortunately it doesn&#39;t work for <b>Kotlin</b> yet."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497447207, "post_id": 44544149, "comment_id": 76083199, "body": "sir, if you are sure that don&#39;t work for <a href=\"https://stackoverflow.com/questions/tagged/kotlin\">kotlin</a>. do you having some reference or conversation for that?"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497447659, "post_id": 44544149, "comment_id": 76083579, "body": "That&#39;s the only one I&#39;ve managed to find: <a href=\"https://youtrack.jetbrains.com/issue/KT-12794\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-12794</a>"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1497443143, "last_edit_date": 1497443143, "creation_date": 1497441533, "answer_id": 44544149, "question_id": 44543978, "link": "https://stackoverflow.com/questions/44543978/kotlin-repeatable-annotations-dont-work-on-jdk-8/44544149#44544149", "title": "Kotlin repeatable @annotations don&#39;t work on jdk-8", "body": "<p>If I'm not mistaken, <strong>Kotlin</strong> compiler currently targets the <code>JDK 1.6</code> class file format. This means that, on <strong>Java</strong>, it can't write multiple annotations to the class file. </p>\n\n<p>While conceptually <strong>Kotlin</strong> supports multiple annotations, until there's proper <code>1.8</code> targeting, it can't do so because of the output restrictions.</p>\n"}, {"tags": [], "owner": {"reputation": 2276, "user_id": 377320, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/359d03ed63df432a022cc8e3a2fe60fe?s=128&d=identicon&r=PG", "display_name": "Martin Vysny", "link": "https://stackoverflow.com/users/377320/martin-vysny"}, "is_accepted": false, "score": 1, "last_activity_date": 1507196279, "creation_date": 1507196279, "answer_id": 46582389, "question_id": 44543978, "link": "https://stackoverflow.com/questions/44543978/kotlin-repeatable-annotations-dont-work-on-jdk-8/46582389#46582389", "title": "Kotlin repeatable @annotations don&#39;t work on jdk-8", "body": "<p>It is currently not possible with Kotlin. There is a bug opened, please feel free to vote for it: <a href=\"https://youtrack.jetbrains.com/issue/KT-12794\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-12794</a></p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 491144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b1f396a67963bec5b2e6021509c1080?s=128&d=identicon&r=PG", "display_name": "Saxintosh", "link": "https://stackoverflow.com/users/491144/saxintosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1612369086, "creation_date": 1612369086, "answer_id": 66031473, "question_id": 44543978, "link": "https://stackoverflow.com/questions/44543978/kotlin-repeatable-annotations-dont-work-on-jdk-8/66031473#66031473", "title": "Kotlin repeatable @annotations don&#39;t work on jdk-8", "body": "<p>Yes, you can. Just use the &quot;long form&quot; of the annotation.</p>\n<p>Follow the end of this thread:\n<a href=\"https://discuss.kotlinlang.org/t/issue-with-repeated-java-8-annotations/1667/11\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/issue-with-repeated-java-8-annotations/1667/11</a></p>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3049, "favorite_count": 2, "accepted_answer_id": 44544149, "answer_count": 4, "score": 8, "last_activity_date": 1612369086, "creation_date": 1497441015, "last_edit_date": 1497604793, "question_id": 44543978, "link": "https://stackoverflow.com/questions/44543978/kotlin-repeatable-annotations-dont-work-on-jdk-8", "title": "Kotlin repeatable @annotations don&#39;t work on jdk-8", "body": "<p>I have declared a repeatable annotation <code>@Parameter</code> in <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\"><img src=\"https://i.stack.imgur.com/avapk.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">kotlin</a> as below:  </p>\n\n<pre><code>@Repeatable\nannotation class Parameter(val name: String);\n</code></pre>\n\n<p>but when I use it as below the compiler reports an Error: </p>\n\n<blockquote>\n  <p><strong>Only annotations with SOURCE retention can be repeated on JVM version before 1.8</strong></p>\n</blockquote>\n\n<pre><code>@Parameter(\"foo\")\n@Parameter(\"bar\")\nfun repeat() = 1;\n</code></pre>\n\n<p>I'm sure I'm working with <code>jdk-8</code> in <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\"><img src=\"https://i.stack.imgur.com/avapk.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">kotlin</a>. and the option <code>jvmTarget</code> also is set to <code>1.8</code> for <code>kotlin-1.1.2</code> gradle plugin. </p>\n\n<p><strong>Q:</strong> Why it doesn't works fine?</p>\n\n<pre><code>sourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\ncompileKotlin {\n    kotlinOptions{\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 3, "creation_date": 1497437662, "post_id": 44542678, "comment_id": 76075858, "body": "Perhaps you could include the classes you&#39;re describing. this excludes any ambuigity."}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497438565, "post_id": 44542678, "comment_id": 76076537, "body": "@nhaarman, unfortunately I can&#39;t, it&#39;s part of a proprietary system. But I&#39;ll try to create a standalone problematic project. It&#39;s really hard to reproduce though, even within our code base the problem is not ubiquitous."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497438592, "post_id": 44542678, "comment_id": 76076563, "body": "The problem may be in annotation targets."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1497438963, "post_id": 44542678, "comment_id": 76076851, "body": "you can simulate your private project problem in examples."}], "owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1497437418, "creation_date": 1497437418, "question_id": 44542678, "link": "https://stackoverflow.com/questions/44542678/why-primary-does-not-work-for-kotlin-classes-sometimes", "title": "Why @Primary does not work for Kotlin classes sometimes?", "body": "<p>I have weirdest problem.</p>\n\n<p>I have Java class <code>A</code> and I also have Kotlin class <code>KA</code> which extends <code>A</code>, both are <code>@Component</code>s, <code>KA</code> is also annotated with <code>@Primary</code>.</p>\n\n<p>In some components <code>KA</code> is autowired, in others <code>A</code> does.\nActually it's even more weird than that, for the same dependent bean between different application launches sometimes <code>KA</code> gets autowired, sometimes <code>A</code>.</p>\n\n<p>If I rewrite <code>KA</code> in Java, then everything works as expected.\nAttribute name/constructor parameter name in all the dependent classes is the same: <code>@Autowired A a;</code>.</p>\n\n<p>Also it doesn't matter if my Kotlin implementation implements a common interface or extends a base class.</p>\n\n<p>All Kotlin and Java classes live in <code>src/main/java</code>.</p>\n\n<p>Kotlin version is <code>1.1.2-5</code>, I use jvm8.</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin", "inflate-exception"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497436111, "post_id": 44542058, "comment_id": 76074704, "body": "There&#39;s more info in the stack trace than just the Exception message on the first line. Look further on."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497436120, "post_id": 44542058, "comment_id": 76074710, "body": "Does TopFragment class exist? Is ProGuard enabled? Are you using <code>android.app.Fragment</code> or v4 fragments?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1497436413, "post_id": 44542058, "comment_id": 76074912, "body": "@Miha_x64 yes, ofc, TopFragment is exist. To my shame, idk anything about ProGuard. And I use <code>android.app.Fragment</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1497436532, "post_id": 44542058, "comment_id": 76075006, "body": "@MikeM. I looking for it about second-third day. Really, all stack is inspected by me"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497436912, "post_id": 44542058, "comment_id": 76075283, "body": "OK, then what&#39;s the root cause? An <code>InflateException</code> is thrown whenever anything goes wrong during inflation. That by itself doesn&#39;t tell you much."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497437351, "post_id": 44542058, "comment_id": 76075622, "body": "@MikeM. and how can I found out and solve the root cause if it doesn&#39;t tell me much?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497438280, "post_id": 44542058, "comment_id": 76076331, "body": "What is the rest of the stack trace?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497438689, "post_id": 44542058, "comment_id": 76076639, "body": "Post the complete stack trace."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497439341, "post_id": 44542058, "comment_id": 76077139, "body": "@MikeM. Complete. Hope it will help you to solve it."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497439477, "post_id": 44542058, "comment_id": 76077243, "body": "Yeah, see the <code>Caused by: java.lang.IllegalStateException</code>? That&#39;s what you want to investigate. The <code>InflateException</code> isn&#39;t the actual problem."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497439569, "post_id": 44542058, "comment_id": 76077309, "body": "Anyway, you can&#39;t access the <code>Activity</code> in the <code>Fragment</code>&#39;s constructor, or outside of any method, which it looks like is what you&#39;re doing, either directly or indirectly, somehow. Looks like you&#39;re trying to get a <code>String</code> resource there."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497440495, "post_id": 44542058, "comment_id": 76077987, "body": "@MikeM. Maybe TopFragment&#39;s code will help you?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497441101, "post_id": 44542058, "comment_id": 76078425, "body": "If you would like us to have a look for the specific problem, then yeah, you&#39;ll need to post that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497441538, "post_id": 44542058, "comment_id": 76078782, "body": "@MikeM. Added and I hope we&#39;ll solve it"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497441923, "post_id": 44542058, "comment_id": 76079109, "body": "Yeah, all those <code>getString()</code> calls can&#39;t be where you have them now. The earliest you can access the <code>Activity</code> and resources is when <code>onAttach()</code> happens, but you just can move those calls to <code>onStart()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497443164, "post_id": 44542058, "comment_id": 76080024, "body": "@MikeM. It doesnt helped me. I just deleted all string resourses and the same error there."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497443384, "post_id": 44542058, "comment_id": 76080168, "body": "If you completely removed all of those <code>getString()</code> calls, then the stack trace should have changed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1497443652, "post_id": 44542058, "comment_id": 76080370, "body": "@MikeM. Changes added"}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1497443836, "post_id": 44542058, "comment_id": 76080505, "body": "Hm I just also pointed at the getString calls, which may or may not have been solved now. Anyway, new problem is that you declared onCreateView with <code>savedInstanceState: Bundle</code> but should be <code>savedInstanceState: Bundle?</code>. State is always null the first time."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "reply_to_user": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1497444305, "post_id": 44542058, "comment_id": 76080867, "body": "@RobCo yes, you&#39;re right. How could I miss that.. So, you are getting my vote. Thanks a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 1, "last_activity_date": 1497446727, "last_edit_date": 1497446727, "creation_date": 1497443642, "answer_id": 44544948, "question_id": 44542058, "link": "https://stackoverflow.com/questions/44542058/the-error-of-inflating-class-fragment-android-kotlin/44544948#44544948", "title": "The error of inflating class fragment android kotlin", "body": "<blockquote>\n  <p>Caused by: java.lang.IllegalStateException: Fragment TopFragment{37d52abb} not attached to Activity<br>\n  ...<br>\n  at com.example.weatherapp_kotlin.fragments.TopFragment.(TopFragment.kt:24)</p>\n</blockquote>\n\n<p>I expect that would be the first line of the private vars, where you call <code>getString()</code> to get a String from the resources.  </p>\n\n<p>These fields are initialised during object construction, but at this time the fragment is not attached to any Context. <code>getString()</code> needs a Resources objects which comes from the Context.<br>\nThis crash would happen also if you just create an instance yourself (ie. call it's constructor).  </p>\n\n<p>The reason its wrapped an inflate exception is because these fragments are created while parsing the xml layout. It finds the instruction to create and include the fragment, it does so but fails.  </p>\n\n<h2>Possible solutions</h2>\n\n<p>1) Wrap the calls to getString in a <code>lazy</code> delegate. This will delay\n    the call to when the property is first accessed, so you just have to\n    make sure you only access these properties when you are sure the\n    fragment is attached. For example, inside onCreateView().  </p>\n\n<pre><code>private var outputCity by lazy { getString(R.string.output_city) }\n</code></pre>\n\n<p>2) Mark the variables with <code>lateinit</code>, and initialise when first\n    attached to context. Now you have to make sure you never access the\n    properties before that, or you are greeted with a\n    <code>PropertyNotInitialisedException</code>.  </p>\n\n<pre><code>private lateinit var outputCity: String\n\noverride fun onAttach(context: Activity) {\n    super.onAttach(context)\n    outputCity = getString(R.string.output_city)\n    ...\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7092611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 44544948, "answer_count": 1, "score": -1, "last_activity_date": 1497446727, "creation_date": 1497435917, "last_edit_date": 1497443621, "question_id": 44542058, "link": "https://stackoverflow.com/questions/44542058/the-error-of-inflating-class-fragment-android-kotlin", "title": "The error of inflating class fragment android kotlin", "body": "<p>So, firstly I answer at your question \"Are you really? There are lots of answers on it.\". Yes, I know, but I really try to resolve this problem like a third day: in all SOF there are no question on my error. I have 2 similar projects: in Java and in Kotlin. But this f@#^%!@ing error only in Kotlin. But XML is identity 100%.</p>\n\n<p>So, error is: <code>android.view.InflateException: Binary XML file line #8: Error inflating class fragment</code>.</p>\n\n<p>My <strong>activity_main.xml:</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/layoutMain\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/top_fragment\"\n        android:name=\"com.example.weatherapp_kotlin.fragments.TopFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"1\"&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/bottom_fragment\"\n        android:name = \"com.example.weatherapp_kotlin.fragments.BottomFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_weight=\"4\"&gt;\n    &lt;/fragment&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>What i tried to do:</p>\n\n<ul>\n<li>To change <code>android:name =\"\"</code> in XML to <code>class = \"\"</code></li>\n<li>To set <code>android:name</code> or <code>class</code> on a first position</li>\n<li>To change <code>LinearLayout</code> to <code>RelativeLayout</code> and <code>ConstraintLayout</code></li>\n<li>To change class <code>extends</code> to <code>FragmentActivity</code> (now is <code>Fragment</code> and in\nJava it works fine)</li>\n<li>To clean project</li>\n</ul>\n\n<p>My <code>LinearLayout</code> has an <code>id</code>, an <code>orientation</code>. Path to classes in <code>android:name</code> are true. </p>\n\n<p>I try to use fragments by this class:</p>\n\n<pre><code>class StartActivity: Activity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}}\n</code></pre>\n\n<p>Maybe it's a hardcode, but in Java it works fine.\nI think that I don't need to show <code>TopFragment.kt</code> and <code>BottomFragment.kt</code> because I tried to tell you everything that I found in SOFs themes. But if you need - I'll show. However, an error is in XML file, so probably XML is the reason.</p>\n\n<p>The complete stacktrace:</p>\n\n<pre><code>06-14 15:24:10.161 25861-25861/com.example.weatherapp_kotlin E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                           Process: com.example.weatherapp_kotlin, PID: 25861\n                                                                           java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.weatherapp_kotlin/com.example.weatherapp_kotlin.StartActivity}: android.view.InflateException: Binary XML file line #8: Error inflating class fragment\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2472)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2534)\n                                                                               at android.app.ActivityThread.access$800(ActivityThread.java:174)\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1424)\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:111)\n                                                                               at android.os.Looper.loop(Looper.java:194)\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5550)\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                                               at java.lang.reflect.Method.invoke(Method.java:372)\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:955)\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:750)\n                                                                            Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class fragment\n                                                                               at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:763)\n                                                                               at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n                                                                               at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:418)\n                                                                               at android.app.Activity.setContentView(Activity.java:2172)\n                                                                               at com.example.weatherapp_kotlin.StartActivity.onCreate(StartActivity.kt:9)\n                                                                               at android.app.Activity.performCreate(Activity.java:6003)\n                                                                               at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1129)\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2425)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2534)\u00a0\n                                                                               at android.app.ActivityThread.access$800(ActivityThread.java:174)\u00a0\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1424)\u00a0\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n                                                                               at android.os.Looper.loop(Looper.java:194)\u00a0\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5550)\u00a0\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                               at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:955)\u00a0\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:750)\u00a0\n                                                                            Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                               at com.example.weatherapp_kotlin.fragments.TopFragment.onCreateView(TopFragment.kt:0)\n                                                                               at android.app.Fragment.performCreateView(Fragment.java:2069)\n                                                                               at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:875)\n                                                                               at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:1050)\n                                                                               at android.app.FragmentManagerImpl.addFragment(FragmentManager.java:1152)\n                                                                               at android.app.FragmentManagerImpl.onCreateView(FragmentManager.java:2142)\n                                                                               at android.app.Activity.onCreateView(Activity.java:5347)\n                                                                               at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:733)\n                                                                               at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\u00a0\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\u00a0\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\u00a0\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\u00a0\n                                                                               at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:418)\u00a0\n                                                                               at android.app.Activity.setContentView(Activity.java:2172)\u00a0\n                                                                               at com.example.weatherapp_kotlin.StartActivity.onCreate(StartActivity.kt:9)\u00a0\n                                                                               at android.app.Activity.performCreate(Activity.java:6003)\u00a0\n                                                                               at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1129)\u00a0\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2425)\u00a0\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2534)\u00a0\n                                                                               at android.app.ActivityThread.access$800(ActivityThread.java:174)\u00a0\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1424)\u00a0\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n                                                                               at android.os.Looper.loop(Looper.java:194)\u00a0\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:5550)\u00a0\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                               at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n                                                                               at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:955)\u00a0\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:750)\u00a0\u00a0\n</code></pre>\n\n<p>TopFragment.class:</p>\n\n<pre><code>class TopFragment : Fragment(), SwipeRefreshLayout.OnRefreshListener {\n\nprivate var outputCity: String = getString(R.string.output_city)\nprivate var outputClouds: String = getString(R.string.output_clouds)\nprivate var outputHumidity: String = getString(R.string.output_humidity)\nprivate var outputPressure: String = getString(R.string.output_pressure)\nprivate var outputWindspeed: String = getString(R.string.output_windspeed)\nprivate var outputMmhg: String = getString(R.string.output_mmHg)\nprivate var outputMs: String = getString(R.string.output_ms)\n\nprivate var date: Date = Date()\nprivate var dateFormat: SimpleDateFormat = SimpleDateFormat(\"E, dd.MM\")\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle): View? {\n    return inflater.inflate(R.layout.fragment_top, container, false)\n}\n\noverride fun onStart() {\n    super.onStart()\n\n    swipeToRefresh.setOnRefreshListener(this)\n    swipeToRefresh.setColorSchemeColors(Color.GREEN, Color.RED, Color.BLUE, Color.CYAN)\n\n    checkInternetConnection(activity)\n}\n\noverride fun onRefresh() {\n    Handler().postDelayed({\n        getData(activity)\n        swipeToRefresh.setRefreshing(false)\n    }, 2500)\n}\n\nfun checkInternetConnection(c: Context) {\n    if (InternetConnection().isNetworkAvailable(activity)) {\n        getData(activity)\n    } else {\n        Toast.makeText(activity, \"Internet Connection Error\", Toast.LENGTH_LONG).show()\n    }\n}\n\nfun getData(c: Context) {\n    val apiServiceWeather = RetrofitClient().getApiServiceWeather()\n    val call: Call&lt;WeatherModel&gt; = apiServiceWeather.getMyJSON();\n    call.enqueue(object: Callback&lt;WeatherModel&gt; {\n\n        override fun onResponse(call: Call&lt;WeatherModel&gt;?, response: Response&lt;WeatherModel&gt;?) {\n            val humidity: Int? = response!!.body().getMainWeather().humidity\n            val pressure: Float? = response.body().getMainWeather().pressure\n            val temperature: Float? = response.body().getMainWeather().temp\n            val windspeed: Float? = response.body().getWind().windspeed\n            val clouds: Int? = response.body().getClouds().clouds\n\n            textViewDate.setText((dateFormat!!.format(date).toString()))\n            textViewCity.setText(outputCity)\n            textViewTemp.setText(((Math.rint(temperature!! - 273.15) * 10.0) / 10.0).toString()\n                    + \"\u00b0C\")\n            textViewCondition.setText(response.body().getWeather().get(0).description)\n            textViewClouds.setText(outputClouds + \" \" + clouds.toString() + \"%\")\n            textViewPressure.setText(outputPressure + \" \" + (Math.round(pressure!! / 1.3332239))\n                    .toString() + \" \" + outputMmhg)\n            textViewHumidity.setText(outputHumidity + \" \" + humidity.toString() + \"%\")\n            textViewWindspeed.setText(outputWindspeed + \" \" + windspeed.toString() + outputMs)\n        }\n\n        override fun onFailure(call: Call&lt;WeatherModel&gt;?, t: Throwable?) {\n            Toast.makeText(activity, \"onResponse Error\", Toast.LENGTH_LONG).show()\n        }\n    })\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "twitter4j", "illegalaccessexception"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1497434201, "post_id": 44541232, "comment_id": 76073332, "body": "How about posting the actual stacktrace?"}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1497434442, "post_id": 44541232, "comment_id": 76073528, "body": "I&#39;ve added that."}], "answers": [{"comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1497443104, "post_id": 44543535, "comment_id": 76079981, "body": "Yeah and the 3 tickets linked to that. I guess JB is not in a hurry to fix it."}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1497444907, "post_id": 44543535, "comment_id": 76081338, "body": "I&#39;ve added my tuppence worth to the issue tracker."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 1, "last_activity_date": 1497439801, "creation_date": 1497439801, "answer_id": 44543535, "question_id": 44541232, "link": "https://stackoverflow.com/questions/44541232/what-is-the-reason-for-twitter4j-streamlistner-illegalaccesserror-in-kotlin/44543535#44543535", "title": "What is the reason for twitter4j.StreamListner IllegalAccessError in Kotlin?", "body": "<p>Yep that's not going to work.</p>\n\n<p><code>addListener</code> method takes a <code>StreamListener</code> param and <code>StreamListener</code> is non-public (package private). I would definitely raise a bug against Kotlin compiler for this.</p>\n\n<p>The code Kotlin compiler generates is:</p>\n\n<pre><code>TwitterStream twitterStream = (new TwitterStreamFactory()).getInstance();\ntwitterStream.addListener((StreamListener)(new StatusListener() {\n         // ..overrides ...\n      }));\n</code></pre>\n\n<p><code>StatusListener</code> already implements <code>StreamListener</code> so I don't see why the cast is required.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 2989663, "user_type": "registered", "profile_image": "https://graph.facebook.com/607447063/picture?type=large", "display_name": "Jeff Jones", "link": "https://stackoverflow.com/users/2989663/jeff-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1506293121, "creation_date": 1506293121, "answer_id": 46395564, "question_id": 44541232, "link": "https://stackoverflow.com/questions/44541232/what-is-the-reason-for-twitter4j-streamlistner-illegalaccesserror-in-kotlin/46395564#46395564", "title": "What is the reason for twitter4j.StreamListner IllegalAccessError in Kotlin?", "body": "<p>I worked around this by using a java utility class: </p>\n\n<pre><code>public class T4JCompat {\n\n  public static void addStatusListener(TwitterStream stream, StatusListener listener) {\n    stream.addListener(listener);\n  }\n\n  public static void removeStatusListener(TwitterStream stream, StatusListener listener) {\n    stream.removeListener(listener);\n  }\n\n} \n</code></pre>\n\n<p>You can call these methods from Kotlin and things work as expected.</p>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 44543535, "answer_count": 2, "score": 3, "last_activity_date": 1506293121, "creation_date": 1497433816, "last_edit_date": 1497436336, "question_id": 44541232, "link": "https://stackoverflow.com/questions/44541232/what-is-the-reason-for-twitter4j-streamlistner-illegalaccesserror-in-kotlin", "title": "What is the reason for twitter4j.StreamListner IllegalAccessError in Kotlin?", "body": "<p>When implementing a <code>twitter4j.StatusListner</code> in Kotlin, I get the following <code>IllegalAccessError</code> and associated stack trace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalAccessError: tried to access class twitter4j.StreamListener from class rxkotlin.rxextensions.TwitterExampleKt$observe$1\n    at rxkotlin.rxextensions.TwitterExampleKt$observe$1.subscribe(TwitterExample.kt:50)\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\n    at io.reactivex.Observable.subscribe(Observable.java:10700)\n    at io.reactivex.Observable.subscribe(Observable.java:10686)\n    at io.reactivex.Observable.subscribe(Observable.java:10615)\n    at rxkotlin.rxextensions.TwitterExampleKt.main(TwitterExample.kt:8)\n</code></pre>\n\n<p>Produced by the following code:</p>\n\n<pre><code>val twitterStream = TwitterStreamFactory().instance\n// See https://stackoverflow.com/questions/37672023/how-to-create-an-instance-of-anonymous-interface-in-kotlin/37672334\ntwitterStream.addListener(object : StatusListener {\n    override fun onStatus(status: Status?) {\n        if (emitter.isDisposed) {\n            twitterStream.shutdown()\n        } else {\n            emitter.onNext(status)\n        }\n    }\n\n    override fun onException(e: Exception?) {\n        if (emitter.isDisposed) {\n            twitterStream.shutdown()\n        } else {\n            emitter.onError(e)\n        }\n    }\n\n    // Other overrides.\n})\nemitter.setCancellable { twitterStream::shutdown }\n</code></pre>\n\n<p>If I don't use Rx, it makes the exception a bit simpler:</p>\n\n<pre><code>twitterStream.addListener(object: twitter4j.StatusListener {\n    override fun onStatus(status: Status) { println(\"Status: {$status}\") }\n    override fun onException(ex: Exception) { println(\"Error callback: $ex\") }\n    // Other overrides.\n})\n\nException in thread \"main\" java.lang.IllegalAccessError: tried to access class twitter4j.StreamListener from class rxkotlin.rxextensions.TwitterExampleKt\nat rxkotlin.rxextensions.TwitterExampleKt.main(TwitterExample.kt:14)\n</code></pre>\n\n<p>However, if I implement a Java wrapper function, no error is thrown and the behaviour is as expected:</p>\n\n<p>Wrapper -</p>\n\n<pre><code>public class Twitter4JHelper {\n  public static void addStatusListner(TwitterStream stream, StatusListener listner) {\n    stream.addListener(listner);\n  }\n}\n</code></pre>\n\n<p>Revised implementation - </p>\n\n<pre><code>val twitterStream = TwitterStreamFactory().instance\nval listner = object: StatusListener {\n    override fun onStatus(status: Status?) {\n        if (emitter.isDisposed) {\n            twitterStream.shutdown()\n        } else {\n            emitter.onNext(status)\n        }\n    }\n\n    override fun onException(e: Exception?) {\n        if (emitter.isDisposed) {\n            twitterStream.shutdown()\n        } else {\n            emitter.onError(e)\n        }\n    }\n\n    // Other overrides.\n}\n\nTwitter4JHelper.addStatusListner(twitterStream, listner)\nemitter.setCancellable { twitterStream::shutdown }\n</code></pre>\n\n<p>This revised solution comes from a <a href=\"http://firstspring1845.hatenablog.com/entry/2015/03/28/215418\" rel=\"nofollow noreferrer\">blog post</a>, which I think tries to explain the cause but Google translate is not being my friend. What is causing the <code>IllegalAccessError</code>? Is there a purely Kotlin based solution, or will I have to live with this workaround?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1221, "user_id": 6510301, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ff1d411338d5058b08f125ea7883ce98?s=128&d=identicon&r=PG&f=1", "display_name": "Anmol317", "link": "https://stackoverflow.com/users/6510301/anmol317"}, "edited": false, "score": 0, "creation_date": 1497430342, "post_id": 44539851, "comment_id": 76070478, "body": "i am not getting that error using your code only."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497430653, "post_id": 44539851, "comment_id": 76070720, "body": "Try this constructor: <code>String(bytes, charset)</code>. Also check if Kotlin stdlib included in your project."}, {"owner": {"reputation": 699, "user_id": 1138106, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6199d46c6e35622e3eda7e30eb63a8ca?s=128&d=identicon&r=PG", "display_name": "Krutik", "link": "https://stackoverflow.com/users/1138106/krutik"}, "edited": false, "score": 1, "creation_date": 1497430808, "post_id": 44539851, "comment_id": 76070837, "body": "You can try with val str = String(bytes)"}], "answers": [{"tags": [], "owner": {"reputation": 201, "user_id": 3356946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/McsNo.gif?s=128&g=1", "display_name": "andrikeev", "link": "https://stackoverflow.com/users/3356946/andrikeev"}, "is_accepted": true, "score": 4, "last_activity_date": 1518702299, "last_edit_date": 1518702299, "creation_date": 1497430889, "answer_id": 44540171, "question_id": 44539851, "link": "https://stackoverflow.com/questions/44539851/how-to-convert-bytearray-to-string-with-specified-charset-in-kotlin/44540171#44540171", "title": "How to convert ByteArray to String with specified charset in Kotlin", "body": "<p>It seems that you didn't configure your project for Kotlin (there is no kotlin-runtime.jar in your classpath). Try to select the line with the error, press <code>Alt+Enter</code> and in context menu choose \"Kotlin not configured\" -> \"Configure\"\nOr manually add kotlin-runtime.jar to your classpath </p>\n\n<p><a href=\"https://i.stack.imgur.com/PRVX4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PRVX4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 103, "user_id": 8147687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fmsPg.jpg?s=128&g=1", "display_name": "hcancan", "link": "https://stackoverflow.com/users/8147687/hcancan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11421, "favorite_count": 1, "accepted_answer_id": 44540171, "answer_count": 1, "score": 9, "last_activity_date": 1518702299, "creation_date": 1497430069, "last_edit_date": 1497450073, "question_id": 44539851, "link": "https://stackoverflow.com/questions/44539851/how-to-convert-bytearray-to-string-with-specified-charset-in-kotlin", "title": "How to convert ByteArray to String with specified charset in Kotlin", "body": "<p>I found there is a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-string.html\" rel=\"noreferrer\">ByteArray.toString(charset:Charset)</a> function in Kotlin,when I use that function in android studio IDE,it gets a syntax error. But I have tried the same code in Kotlin org site, it works well. How can I convert a ByteArray to String in Kotlin?</p>\n\n<p><a href=\"https://i.stack.imgur.com/QGB9j.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QGB9j.png\" alt=\"Android Studio error Message\"></a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497427692, "post_id": 44538792, "comment_id": 76068693, "body": "To add to this, it basically just uses a very simple wrapper class which contains the variable that has to be captured. Since that wrapper instance can be final, it can then be accessed in an inner class / lamda."}, {"owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497428783, "post_id": 44538792, "comment_id": 76069405, "body": "@zsmb13 That information would justify separate answer. Capturing closures usually works like that - using wrappers, but since I am not 100% sure how Kotlin exactly does it, I didn&#39;t want to include wild guessing in my answer."}], "tags": [], "owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "is_accepted": false, "score": 6, "last_activity_date": 1497427369, "last_edit_date": 1497427369, "creation_date": 1497426982, "answer_id": 44538792, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co/44538792#44538792", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p>In Kotlin, unlike Java, lambda expressions or anonymous function (as well as local functions and object expressions) can access and modify their closure - variables declared in outer scope. This behavior is as-designed.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"noreferrer\">Higher order functions and lambdas - Closures</a></p>\n\n<p>Why Java does not allow this and Kotlin does - capturing closures introduces additional run-time overhead. Java uses simple and fast approach at cost of functionality. Kotlin on the other hand gives you more features - functionality, but it also generates more code behind the scenes to support it.  </p>\n\n<p>At the end it is about writing less code to achieve something. If you want to translate above code to Java, it would be more complex. </p>\n"}, {"comments": [{"owner": {"reputation": 735, "user_id": 157423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e4869d7885e33e91f056d9522fe05?s=128&d=identicon&r=PG", "display_name": "Adam Ho\u0161ek", "link": "https://stackoverflow.com/users/157423/adam-ho%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1524252159, "post_id": 44539589, "comment_id": 86913347, "body": "If you are using IntelliJ IDEA, the Kotlin plugin has a &quot;decompile to java&quot; view that shows this &quot;magic&quot;. It&#39;s very useful in cases like this if you want to understand what&#39;s actually going on."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 3, "last_activity_date": 1497430679, "last_edit_date": 1497430679, "creation_date": 1497429400, "answer_id": 44539589, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co/44539589#44539589", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p><strong>IF</strong> you dump the class by using <code>javap</code> you can found kotlin using a <code>IntRef</code> not a <code>int</code> for lambda accessing the mutable variable out of its scope, since in java variables out of the lambda scope are <strong>effectively-final</strong> or <strong>final</strong> which means you can't modify the variable at all, for example:</p>\n\n<pre><code>// Kotlin \nvar value = 1; // kotlin compiler will using IntRef for mutable variable\nval inc = { value++ }; \ninc();\nprintln(value);// 2;\n\n//Java\nIntRef value = new IntRef();\nvalue.element = 1;\n\nRunnable inc=()-&gt; value.element++;\ninc.run();\nprintln(value.element);// 2;\n</code></pre>\n\n<p>the code above are equality. so don't modify the <em>mutable</em> variables out of the lambda scope in multi-threads. it will resulting to the wrong result.</p>\n\n<p>another good usage is you needn't modify the <em>mutable</em> variable out of the lambda scope and want to improve the performance optimization. you can use an additional <strong>immutable</strong> variable to achieve the performance for the lambda , for example:</p>\n\n<pre><code>var mutable = 1;\nval immutable = mutable; // kotlin compiler will using int \n\nval inc = { immutable + 1 };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 251, "user_id": 8158748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb86861810a692ec54dd044333c8bbc?s=128&d=identicon&r=PG&f=1", "display_name": "LingoGuo", "link": "https://stackoverflow.com/users/8158748/lingoguo"}, "edited": false, "score": 1, "creation_date": 1498568465, "post_id": 44540217, "comment_id": 76542455, "body": "Thanks for your answer,it helps me"}, {"owner": {"reputation": 2465, "user_id": 1798031, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jQZVl.jpg?s=128&g=1", "display_name": "mr.icetea", "link": "https://stackoverflow.com/users/1798031/mr-icetea"}, "edited": false, "score": 0, "creation_date": 1535015653, "post_id": 44540217, "comment_id": 90914088, "body": "I don&#39;t understand Why we need wrap variable by a Ref object and then access it from enclosing scope."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1535017168, "post_id": 44540217, "comment_id": 90914961, "body": "We don&#39;t need to do this ourselves - the Kotlin compiler does this for us. I was merely explaining how it works behind the scenes."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 32, "last_activity_date": 1497431002, "creation_date": 1497431002, "answer_id": 44540217, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co/44540217#44540217", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p>In Java, you can only capture (effectively) final variables in anonymous classes and lambdas. In Kotlin, you can capture any variable, even if they are mutable. </p>\n\n<p>This is done by wrapping any captured variables in instances of simple wrapper classes. These wrappers just have a single field that contains the captured variables. Since the instances of the wrappers can be <code>final</code>, they can be captured as usual.</p>\n\n<p>So when you do this:</p>\n\n<pre><code>var counter = 0\n{ counter++ }()   // definition and immediate invocation, very JavaScript\n</code></pre>\n\n<p>Something like this happens under the hood:</p>\n\n<pre><code>class Ref&lt;T&gt;(var value: T) // generic wrapper class somewhere in the runtime\n\nval counter = Ref(0);      // wraps an Int of value 0\n{ counter.value++ }()      // captures counter and increments its stored value\n</code></pre>\n\n<p>The actual implementation of the wrapper class is written in Java, and looks like this:</p>\n\n<pre><code>public static final class ObjectRef&lt;T&gt; implements Serializable {\n    public T element;\n\n    @Override\n    public String toString() {\n        return String.valueOf(element);\n    }\n}\n</code></pre>\n\n<p>There are also additional wrappers called <code>ByteRef</code>, <code>ShortRef</code>, etc. that wrap the various primitives so that they don't have to be boxed in order to be captured. You can find all the wrapper classes in <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/jvm/internal/Ref.java\" rel=\"noreferrer\">this file</a>.</p>\n\n<p>Credits go to the <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"noreferrer\">Kotlin in Action</a> book which contains the basics of this information, and the example used here.</p>\n"}, {"comments": [{"owner": {"reputation": 5283, "user_id": 1065835, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wcLSP.jpg?s=128&g=1", "display_name": "Maksim Dmitriev", "link": "https://stackoverflow.com/users/1065835/maksim-dmitriev"}, "edited": false, "score": 0, "creation_date": 1515471085, "post_id": 48130000, "comment_id": 83302049, "body": "Can you please add a link to the documentation?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1515472483, "last_edit_date": 1515472483, "creation_date": 1515260080, "answer_id": 48130000, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co/48130000#48130000", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p>The concept you're referring to is called <strong>\"capturing\"</strong>.</p>\n\n<p>There's a trick that can be applied in Java: Wrap the mutable value into a <code>final</code> wrapper such as <code>AtomicReference&lt;T&gt;</code> and the compiler will stop complaining:</p>\n\n<pre><code>AtomicReference&lt;Integer&gt; max = new AtomicReference&lt;&gt;(10);\nif (System.currentTimeMillis() % 2 == 0) {\n    max.set(11)\n}\nPredicate&lt;Integer&gt; pred = i -&gt; i * 2 &gt; max.get();\n</code></pre>\n\n<p>That's basically what's happening in Kotlin as well: If a final variable (<code>val</code>) is being captured, it simply gets copied into the lambda. But if, on the other hand, a <strong>mutable variable (<code>var</code>)</strong> is being captured, its value is wrapped in an instance of <code>Ref</code>:</p>\n\n<pre><code>class Ref&lt;T&gt;(var value: T)\n</code></pre>\n\n<p>The <code>Ref</code> variable is <code>final</code> and therefore can be captured without a problem. As a result, the mutable variable can be changed from within the lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 422, "user_id": 2231099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c158b92eb6e728d5b1bbc9181dda9052?s=128&d=identicon&r=PG", "display_name": "Sushant", "link": "https://stackoverflow.com/users/2231099/sushant"}, "is_accepted": false, "score": 1, "last_activity_date": 1552040980, "creation_date": 1552040980, "answer_id": 55061267, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co/55061267#55061267", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p><a href=\"https://i.stack.imgur.com/jMiBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMiBu.png\" alt=\"enter image description here\"></a>\nWith Android Studio 3.2, this nice little message tells you whats going on with <code>projectType</code> var inside the closure.</p>\n"}], "owner": {"reputation": 251, "user_id": 8158748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb86861810a692ec54dd044333c8bbc?s=128&d=identicon&r=PG&f=1", "display_name": "LingoGuo", "link": "https://stackoverflow.com/users/8158748/lingoguo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7533, "favorite_count": 4, "answer_count": 5, "score": 25, "last_activity_date": 1552040980, "creation_date": 1497426516, "last_edit_date": 1497427625, "question_id": 44538627, "link": "https://stackoverflow.com/questions/44538627/why-the-code-in-an-object-expression-can-access-variables-from-the-scope-that-co", "title": "Why the code in an object expression can access variables from the scope that contains it in kotlin?", "body": "<p>In Kotlin,the code in an object expression can access variables from the scope that contains it, just like the following code:</p>\n\n<pre><code>fun countClicks(window: JComponent) {\n   var clickCount = 0\n   var enterCount = 0\n   window.addMouseListener(object : MouseAdapter() {\n    override fun mouseClicked(e: MouseEvent) {\n        clickCount++\n    }\n\n    override fun mouseEntered(e: MouseEvent) {\n        enterCount++\n    }\n   })\n}\n</code></pre>\n\n<p>But why? In Java, it's not allowed to do this, because the life cycle of the object is different from the local variables, so the <code>enterCount</code> or <code>clickCount</code> maybe be invalid when you try to access the object. Can someone tell me how Kotlin does this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497429202, "post_id": 44538519, "comment_id": 76069664, "body": "can you post viewModel class code?"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497429967, "post_id": 44538519, "comment_id": 76070197, "body": "@chandil03 See <b>Edit</b> for details. Nothing fancy - <code>getBar</code> just returns a list of <code>Strings</code>. I have also <code>setBaz</code> method, that is used to set adapter (data-binding), added it in case it might affect something. Using <code>AndroidViewModel</code> so I can get a <code>Context</code>, also passing <code>FragmentManager</code> in the <code>init()</code>, so I can populate <code>BazPagerAdapter</code>."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497430841, "post_id": 44538519, "comment_id": 76070871, "body": "This is not how it works, you need to return liveData class object from getBar"}], "answers": [{"comments": [{"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497431996, "post_id": 44540144, "comment_id": 76071698, "body": "You are right about <code>LiveData</code>. I made a mistake in my example - it already returns <code>LiveData&lt;List&lt;String&gt;&gt;</code>. And the <code>onChange</code> still wouldn&#39;t called, that is why I am curious - what is the reason and how to debug this."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497432722, "post_id": 44540144, "comment_id": 76072209, "body": "What does the actual init method look like? If you use <code>mBar = ...</code> like in the example, it will obviously reassign the variable and not change the value and call observers."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497434104, "post_id": 44540144, "comment_id": 76073271, "body": "Hmm, I think the reason is here somewhere, since Android may not treat setting a <code>MutableList</code> value as a change for observer. I have tried to play with it without any luck - <b>Edit3</b>."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497434515, "post_id": 44540144, "comment_id": 76073585, "body": "Your code still isn&#39;t correct. getBar returns a nullable type while in the activity you use it without as non-nullable. At the time you call getBar(), it would be null since it is initialised in init which is called later. If in the Activity you have some null checking (ie. &#39;?&#39;), it may be that the observer is never registered because bar is null."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497434701, "post_id": 44540144, "comment_id": 76073734, "body": "I would advise taking a step back, and rethink the creation and registration of the livedata objects. Preferably, have them as vals so they always exist and accept observers. If you are still having trouble, please post the actual, or at least correct, code because some samples now don&#39;t compile."}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 4, "last_activity_date": 1497431617, "last_edit_date": 1497431617, "creation_date": 1497430829, "answer_id": 44540144, "question_id": 44538519, "link": "https://stackoverflow.com/questions/44538519/observer-onchanged-never-called/44540144#44540144", "title": "Observer onChanged never called", "body": "<p>There is no observe method for type <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/\" rel=\"nofollow noreferrer\">List</a>.<br>\nThe ViewModel has nothing to do with observing either, it is there mainly to have state that persists through configuration changes.  </p>\n\n<p>For observable data you want <a href=\"https://developer.android.com/reference/android/arch/lifecycle/MutableLiveData.html\" rel=\"nofollow noreferrer\">(Mutable)LiveData</a> objects. These are lifecycle aware and manage observers for their data.  </p>\n\n<p>Please see the code examples <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>public class MyViewModel : ViewModel() {\n    private val mBar = MutableLiveData&lt;List&lt;String&gt;&gt;()\n\n    fun getBar(): LiveData&lt;List&lt;String&gt;&gt; = mBar\n\n    fun init() {\n        mBar.setValue(listOf(\"1\", \"2\", \"3\"))\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "is_accepted": false, "score": 2, "last_activity_date": 1497440072, "creation_date": 1497440072, "answer_id": 44543633, "question_id": 44538519, "link": "https://stackoverflow.com/questions/44538519/observer-onchanged-never-called/44543633#44543633", "title": "Observer onChanged never called", "body": "<p>Ok, so I have managed to find the answer.</p>\n\n<p>If you are going to extend <code>AppCompatActivity</code> and you want to use <code>LiveData</code>, you will have to implement the <code>LifecycleRegistryOwner</code> interface and its only method - <code>getLifecycle</code>. </p>\n\n<p>The problem was that:</p>\n\n<pre><code>override fun getLifecycle(): LifecycleRegistry {\n  return LifecycleRegistry(this)\n}\n</code></pre>\n\n<p>Had to be:</p>\n\n<pre><code>val mLifecycleRegistry = LifecycleRegistry(this)\n..\noverride fun getLifecycle(): LifecycleRegistry {\n  return mLifecycleRegistry\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 2, "last_activity_date": 1497442832, "creation_date": 1497442832, "answer_id": 44544662, "question_id": 44538519, "link": "https://stackoverflow.com/questions/44538519/observer-onchanged-never-called/44544662#44544662", "title": "Observer onChanged never called", "body": "<p>So the problem is when you call <code>init</code> method, it reassigns new instance of <code>LiveData</code> into <code>mBar</code>. And you have assigned observer to previous instance of <code>mBar</code> because you are calling <code>init</code> method after :</p>\n\n<pre><code> mViewModel.getBar().observe(this, Observer&lt;List&lt;String&gt;&gt; {\n    override fun onChanged(bar: List&lt;String&gt;) {\n      // Never triggered\n    }\n  })\n</code></pre>\n\n<p>To solve the problem just initialise <code>mBar</code> with <code>MutableLiveData</code> and then change its value (<strong>Do not re-assign <code>mBar</code> with another instance</strong>).</p>\n\n<p>Check following code:</p>\n\n<pre><code>class FooViewModel(application: Application) : AndroidViewModel(application) {\n    private var mBar: MutableLiveData&lt;List&lt;String&gt;&gt; = MutableLiveData()\n\n    fun init(fragmentManager: FragmentManager) {\n\n        mBar.value = periods // Changing value only, not new instance\n    }\n\n    fun getBar(): LiveData&lt;List&lt;String&gt;&gt; = mBar\n}\n</code></pre>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4198, "favorite_count": 0, "accepted_answer_id": 44540144, "answer_count": 3, "score": 2, "last_activity_date": 1497442832, "creation_date": 1497426203, "last_edit_date": 1497433995, "question_id": 44538519, "link": "https://stackoverflow.com/questions/44538519/observer-onchanged-never-called", "title": "Observer onChanged never called", "body": "<p><strong>FooActivity.kt</strong>:</p>\n\n<pre><code>class FooActivity : AppCompatActivity(), LifecycleRegistryOwner {\n  override fun getLifecycle(): LifecycleRegistry {\n    return LifecycleRegistry(this)\n  }\n  ..\n  // &lt;-- here mViewModel is null\n  mViewModel.getBar().observe(this, Observer&lt;List&lt;String&gt;&gt; {\n    override fun onChanged(bar: List&lt;String&gt;) {\n      // Never triggered\n    }\n  })\n  mViewModel.init()\n  // &lt;-- here mViewModel has changed\n}\n</code></pre>\n\n<p>The <code>mViewModel</code> is confirmed to change. However the observer's <code>onChanged</code> is never called.</p>\n\n<hr>\n\n<p><strong>Question</strong>: why doesn't it work?</p>\n\n<hr>\n\n<p><strong>Edit</strong>: <strong>FooViewModel.kt</strong>:</p>\n\n<pre><code>class FooViewModel(application: Application) : AndroidViewModel(application) {\n  val baz: BazPagerAdapter? = null\n  ..\n  fun init(fm: FragmentManager) {\n    mBar = listOf(\"1\", \"2\", \"3\")\n  }\n  ..\n  fun getBar(): List&lt;String&gt; = mBar\n  ..\n  fun setBaz(pager: ViewPager, periods: List&lt;BazFragment&gt;) {\n    pager.adapter = BazPagerAdapter(mFragmentManager!!, periods)\n  }\n}\n</code></pre>\n\n<p><strong>Edit2</strong>:</p>\n\n<p>For got to mentiond, <code>getBar</code> already returns <code>LiveData</code></p>\n\n<pre><code>fun getBar(): LiveData&lt;List&lt;String&gt;&gt; = mBar\n</code></pre>\n\n<p>And the <code>onChange</code> still wouldn't trigger.</p>\n\n<p><strong>Edit3</strong>:</p>\n\n<pre><code>class FooViewModel(application: Application) : AndroidViewModel(application) {\n  private var mBar: MutableLiveData&lt;List&lt;String&gt;&gt;? = null\n  ..\n  fun init(fragmentManager: FragmentManager) {\n    ..\n    if (mBar == null) {\n      mBar = MutableLiveData&lt;List&lt;String&gt;&gt;()\n    }\n    mBar?.value = periods\n}\n..\nfun getBar(): LiveData&lt;List&lt;String&gt;&gt;? = mBar\n</code></pre>\n"}, {"tags": ["javascript", "java", "android", "kotlin", "api-design"], "answers": [{"comments": [{"owner": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 0, "creation_date": 1497446413, "post_id": 44538115, "comment_id": 76082556, "body": "Except for knowing what can I use, I&#39;d also like for the IDE to prevent me from using an object which isn&#39;t in all 3 platforms. This means that <code>stdlib&#47;common</code> should probably be a separate artifact which all other depend on. Is there a plan to move the commons to a separate artifact?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 1, "creation_date": 1497446442, "post_id": 44538115, "comment_id": 76082579, "body": "Like I said, multiplatform is on the way, but not available, yet."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 0, "creation_date": 1497873579, "post_id": 44538115, "comment_id": 76245465, "body": "@AlikElzin-kilaka if that answer was helpful to you, please consider accepting it."}, {"owner": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 0, "creation_date": 1502612033, "post_id": 44538115, "comment_id": 78274763, "body": "Is the multi-platform project developed as an open source? If so, can you share a link? Thanks."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "edited": false, "score": 0, "creation_date": 1502700304, "post_id": 44538115, "comment_id": 78298505, "body": "It&#39;s all part of the Kotlin project <a href=\"https://github.com/JetBrains/kotlin\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin</a>, though it&#39;s not exactly trivial to dig through"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 5, "last_activity_date": 1497424974, "creation_date": 1497424974, "answer_id": 44538115, "question_id": 44537871, "link": "https://stackoverflow.com/questions/44537871/what-are-the-platform-common-classes-in-kotlin/44538115#44538115", "title": "What are the platform common classes in Kotlin?", "body": "<p>You should be able to use all classes in <code>kotlin-runtime</code> and <code>kotlin-stdlib</code>, especially everything that's in the <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/stdlib/common/src\" rel=\"noreferrer\">stdlib/common</a> folder in the Github repo.</p>\n\n<p>Multiplatform projects are currently in development and once they're released, it should be easier to write platform independent code.</p>\n"}], "owner": {"reputation": 29935, "user_id": 435605, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/690eec685cbdb79b9f6deee401a61558?s=128&d=identicon&r=PG", "display_name": "AlikElzin-kilaka", "link": "https://stackoverflow.com/users/435605/alikelzin-kilaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 2, "accepted_answer_id": 44538115, "answer_count": 1, "score": 4, "last_activity_date": 1497424974, "creation_date": 1497424260, "question_id": 44537871, "link": "https://stackoverflow.com/questions/44537871/what-are-the-platform-common-classes-in-kotlin", "title": "What are the platform common classes in Kotlin?", "body": "<p>I'd like to use Kotlin to define interfaces between client and server.</p>\n\n<p>Currently, Kotlin can be used in 3 platforms: Java, Android, Web(JS).</p>\n\n<p><strong>What Kotlin build-in classes can I use across all these platform?</strong></p>\n\n<p>I would expect some common library dependency between <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib/1.1.2-4\" rel=\"nofollow noreferrer\">kotlin-stdlib</a> and <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-js/1.1.2-4\" rel=\"nofollow noreferrer\">kotlin-stdlib-js</a>, but couldn't find one.</p>\n\n<p>On the other hand, I managed to create the following interface that can be used on all 3 platforms:</p>\n\n<pre><code>interface SomeApi {\n    fun update(params: Collection&lt;String&gt;)\n}\n</code></pre>\n\n<p>So, how can I figure out what can be used across all platforms, in addition to <code>Collection</code>?</p>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497425876, "post_id": 44538029, "comment_id": 76067510, "body": "But then should I use the <code>@UnsafeVariance</code> notation for implementing methods like <code>contains(element: A)</code>?"}, {"owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "reply_to_user": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497429017, "post_id": 44538029, "comment_id": 76069542, "body": "Yes, you can read more about that case here - <a href=\"https://blog.jetbrains.com/kotlin/2015/10/kotlin-1-0-beta-candidate-is-out\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2015/10/&hellip;</a>"}, {"owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497445184, "post_id": 44538029, "comment_id": 76081552, "body": "However, the use of @UnsafeVariance doesn&#39;t allow to perform operations as in test I have posted in the update to the question."}], "tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 2, "last_activity_date": 1497424729, "creation_date": 1497424729, "answer_id": 44538029, "question_id": 44537646, "link": "https://stackoverflow.com/questions/44537646/error-using-an-object-for-implementing-an-empty-list/44538029#44538029", "title": "Error using an object for implementing an empty List", "body": "<p>Generic on your interface should be <code>&lt;out A&gt;</code> instead of <code>&lt;A&gt;</code>. </p>\n\n<p>Also, IntelliJ Idea shows a warning when you use generics without out variance in such cases.</p>\n"}, {"comments": [{"owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497445230, "post_id": 44539204, "comment_id": 76081591, "body": "I have updated the question with an example. Of your suggestions, only the anonymous object allows passing the test without any exception."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497445703, "post_id": 44539204, "comment_id": 76081970, "body": "@gmariotti because you using <code>Nothing</code> for the <code>NIL</code> . replacing <code>Nothing</code> with <code>Any?</code> that everything is ok. maybe this <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">link</a> can help you. and the third approach will create a new object instance for each call that you can test with : <code>assertNotSame(list&lt;Int&gt;(), list&lt;Int&gt;());</code>."}, {"owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497446305, "post_id": 44539204, "comment_id": 76082450, "body": "You&#39;re right, I didn&#39;t think about that. At this point, which solution do you think is more idiomatic? IMHO, the first one, considering it doesn&#39;t have the problem of creating a new object every time."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497446373, "post_id": 44539204, "comment_id": 76082515, "body": "@gmariotti if you familar with java, <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">generic type erasure</a> only occurs at compile time."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "edited": false, "score": 0, "creation_date": 1497446637, "post_id": 44539204, "comment_id": 76082741, "body": "@gmariotti that is clearly, the first approach is effectively than the last, but it is a little ugly. even if java uses it everywhere, for example: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Collections.java#4420\" rel=\"nofollow noreferrer\">Collections#emptyList</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 0, "last_activity_date": 1497428182, "creation_date": 1497428182, "answer_id": 44539204, "question_id": 44537646, "link": "https://stackoverflow.com/questions/44537646/error-using-an-object-for-implementing-an-empty-list/44539204#44539204", "title": "Error using an object for implementing an empty List", "body": "<p>you can cast a <code>List&lt;Nothing&gt;</code> to a <code>List&lt;A&gt;</code> explicit by <code>as</code> keyword, for example:</p>\n\n<pre><code>fun &lt;A&gt; list(): List&lt;A&gt; = NIL as List&lt;A&gt;;\n</code></pre>\n\n<p><strong>IF</strong> you want to suppress the compiler warnings, you can annotated the function with <code>@Suppress</code> annotation, for example:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;A&gt; list(): List&lt;A&gt; = NIL as List&lt;A&gt;;\n</code></pre>\n\n<p><strong>OR</strong> if you don't like this way, you can using <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">an anonymous object</a> in a funtion instead, for example:</p>\n\n<pre><code>fun &lt;A&gt; list(): List&lt;A&gt; = object : List&lt;A&gt; {\n    override val empty: Boolean = true\n    override val head: A\n        get() = throw IllegalStateException(\"head called on empty list\")\n\n    override val tail: List&lt;A&gt;\n        get() = throw IllegalStateException(\"tail called on empty list\")\n};\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 5981797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qhK17uDO3NE/AAAAAAAAAAI/AAAAAAAABWI/H9x213QWPhI/photo.jpg?sz=128", "display_name": "gmariotti", "link": "https://stackoverflow.com/users/5981797/gmariotti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 44539204, "answer_count": 2, "score": 4, "last_activity_date": 1497447098, "creation_date": 1497423553, "last_edit_date": 1497447098, "question_id": 44537646, "link": "https://stackoverflow.com/questions/44537646/error-using-an-object-for-implementing-an-empty-list", "title": "Error using an object for implementing an empty List", "body": "<p>I'm trying to rewrite the List interface as an exercise for learning Functional Programming in Kotlin, but I'm not able to figure out why I'm getting an error when I'm trying to have an object as the empty list, that doesn't occur in the Kotlin standard library. In my code, see below, I want to use NIL as a singleton empty list, using list() as the function to return it. However, this generates a type mismatch error on the function of type \"Required List. Found NIL\"</p>\n\n<pre><code>interface List&lt;A&gt; {\n    val empty: Boolean\n    val head: A\n    val tail: List&lt;A&gt;\n\n    fun cons(a: A): List&lt;A&gt; = Cons(a, this)\n}\n\nobject NIL : List&lt;Nothing&gt; {\n    override val empty: Boolean = true\n    override val head: Nothing\n        get() = throw IllegalStateException(\"head called on empty list\")\n\n    override val tail: List&lt;Nothing&gt;\n        get() = throw IllegalStateException(\"tail called on empty list\")\n}\n\nprivate class Cons&lt;A&gt;(override val head: A,\n                      override val tail: List&lt;A&gt;) : List&lt;A&gt; {\n    override val empty: Boolean = false\n}\n\nfun &lt;A&gt; list(): List&lt;A&gt; = NIL // Type mismatch. Required: List&lt;A&gt;. Found: NIL\n\nfun &lt;A&gt; list(vararg a: A): List&lt;A&gt; {\n    var n = list&lt;A&gt;()\n    for (e in a.reversed()) {\n        n = Cons(e, n)\n    }\n    return n\n}\n</code></pre>\n\n<p>In the standard library, this error doesn't occur, as you can see in <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/collections/Collections.kt#L33\" rel=\"nofollow noreferrer\">EmptyList in Collections.kt</a>. Am I doing something wrong or am I missing some concepts that make the latter possible and the former not?</p>\n\n<h2>Evaluating Proposed Solutions</h2>\n\n<p>Of the three solutions proposed, the only one that allows passing the test code below is the one using the <strong>anonymous object</strong>, while the others throw the exception <code>java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Void</code>.</p>\n\n<pre><code>assertEquals(\"a\", list&lt;String&gt;().cons(\"a\").head)\n</code></pre>\n\n<p>However, if I change <code>NIL</code> to <code>NIL : List&lt;Any?&gt;</code>, the solution <code>NIL as List&lt;A&gt;</code> works without any problem.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 46142, "user_id": 773113, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FKKLW.jpg?s=128&g=1", "display_name": "Mike Nakis", "link": "https://stackoverflow.com/users/773113/mike-nakis"}, "edited": false, "score": 0, "creation_date": 1618862811, "post_id": 44537174, "comment_id": 118726815, "body": "that line does not assign <code>y</code> to anything. Perhaps it assigns something to <code>y</code>."}, {"owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "reply_to_user": {"reputation": 46142, "user_id": 773113, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FKKLW.jpg?s=128&g=1", "display_name": "Mike Nakis", "link": "https://stackoverflow.com/users/773113/mike-nakis"}, "edited": false, "score": 0, "creation_date": 1618907057, "post_id": 44537174, "comment_id": 118737956, "body": "@MikeNakis My English is not perfect. I am not sure which is correct: Assign a value to a variable. Or assign a variable to a value. But I think it is easy to understand what I meant.:)"}], "answers": [{"comments": [{"owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "edited": false, "score": 2, "creation_date": 1497424625, "post_id": 44537326, "comment_id": 76066630, "body": "Yes, this is probably what I meant by my comment. <code>{}</code> has three (Or even more? Am I missing some?) distinct roles - it can be a block in a control flow statement or it can be a lambda or it can be a function body. And different rules apply to all of these cases. I do not mean to rant or complain, I will have to take it as it is. But this seems to me a bit of inconsistent language design flaw of otherwise perfect language."}, {"owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "edited": false, "score": 1, "creation_date": 1497425149, "post_id": 44537326, "comment_id": 76067021, "body": "My coding style take-away from this question is that I will try to avoid blocks in control flow statements when they are used as expressions. I am coming from C++ and Python realms and there is nothing like &#39;return the last expression in the block` so I will use <code>if</code> or <code>when</code> as an expression only when the returned expressions are trivial (without block), e.g. <code>a = if (x) y else z</code>. Otherwise I will use the full-blown syntax <code>if (x) {println(&quot;something&quot;); a = y} else {println(&quot;something else&quot;); a = z}</code> like we know from other languages."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 11, "last_activity_date": 1497425193, "last_edit_date": 1497425193, "creation_date": 1497422632, "answer_id": 44537326, "question_id": 44537174, "link": "https://stackoverflow.com/questions/44537174/returning-the-last-expression-in-a-block/44537326#44537326", "title": "returning the last expression in a block", "body": "<p>you misunderstand the curly brackets <code>{}</code>, when around with all <code>flow-control</code> statement it is just a <strong>block</strong>, for example:</p>\n\n<pre><code>if (condition) { //block here\n} \n</code></pre>\n\n<p><strong>WHEN</strong> the <code>{}</code> is declared separately it is a <strong>lambda</strong> expression, for example:</p>\n\n<pre><code>val lambda: () -&gt; Int = { 1 }; // lambda\n</code></pre>\n\n<p><strong>WHEN</strong> you want to return a <code>lambda</code> in <code>if-else</code> expression, you must double the curly brackets <code>{}</code> or using parentheses <code>()</code> to distinguish between the <strong>block</strong> and the <strong>lambda</strong> expression or make the <code>{}</code> as lambda explicitly, for example:</p>\n\n<pre><code>val lambda1: () -&gt; Int = if (condition) { { 1 } } else { { 2 } };\nval lambda2: () -&gt; Int = if (condition) ({ 1 }) else ({ 2 });\nval lambda3: () -&gt; Int = if (condition) { -&gt; 1 } else { -&gt; 2 };\n</code></pre>\n\n<blockquote>\n  <p>If a function does not return any useful value, its return type is <code>Unit</code>. <code>Unit</code> is a type with only one value - <code>Unit</code>. This value does not have to be returned <strong>explicitly</strong>.</p>\n</blockquote>\n\n<p>On the other hand, a <em>common</em> <code>function</code> must have a explicit <code>return</code> statement if its return type if not a <code>Unit</code>:</p>\n\n<pre><code>fun z(): Int { return 1; }\n</code></pre>\n\n<p>Another case is a function return <code>Nothing</code>, the <code>return</code> statement don't allowed at all, because you can't create a <code>Nothing</code> instance, for example:</p>\n\n<pre><code>fun nothing(): Nothing {\n    return ?;// a compile error raising\n}\n</code></pre>\n\n<p><strong>WHEN</strong> a function has only one expression then you can using <a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"noreferrer\">single-expression function</a> instead, for example:</p>\n\n<pre><code>fun z() = 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 541, "user_id": 7435550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d59be545e67164a12e3f550590d70?s=128&d=identicon&r=PG&f=1", "display_name": "oblakr24", "link": "https://stackoverflow.com/users/7435550/oblakr24"}, "is_accepted": false, "score": 3, "last_activity_date": 1497437421, "creation_date": 1497437421, "answer_id": 44542679, "question_id": 44537174, "link": "https://stackoverflow.com/questions/44537174/returning-the-last-expression-in-a-block/44542679#44542679", "title": "returning the last expression in a block", "body": "<p>There is a difference between a lambda block and just a 'normal' block, in your case the \"y\" is just a lambda that needs to be executed to get the returned value:</p>\n\n<pre><code>val block: () -&gt; Int = { 5 }\nval five: Int = { 5 }()\nval anotherFive = block()\n</code></pre>\n\n<p>So if you want a block that acts as a lambda, you can create a lambda and execute it right away with \"()\". This way, your \"z\" function would compile like so:</p>\n\n<p><code>fun z() : Int = {\n       println(\"something\")\n       1\n  }()</code></p>\n\n<p>(Which, of course, does not make much sense and is not very efficient)</p>\n"}, {"tags": [], "owner": {"reputation": 7171, "user_id": 2544089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbb02dede49f7102b95b296157eb4fb?s=128&d=identicon&r=PG", "display_name": "Mario Rossi", "link": "https://stackoverflow.com/users/2544089/mario-rossi"}, "is_accepted": false, "score": 0, "last_activity_date": 1529549499, "creation_date": 1529549499, "answer_id": 50959673, "question_id": 44537174, "link": "https://stackoverflow.com/questions/44537174/returning-the-last-expression-in-a-block/50959673#50959673", "title": "returning the last expression in a block", "body": "<p>You are absolutely right, V.K.  The choice is completely arbitrary.  Well, probably not completely arbitrary but related to parsing complexities arising from curly braces being chosen to denote both blocks and lambdas.</p>\n\n<p>Actually, besides the case you make for block expressions, there also is the situation of (simple) blocks:  just group of statements enclosed in braces.  For example, Java supports (simple) blocks and you can write:</p>\n\n<pre><code>String toBeComputed ; {\n    // Relatively long sequence of operations here\n    toBeComputed= resultingValue ;\n}\n</code></pre>\n\n<p>I use this idiom quite frequently because:</p>\n\n<ul>\n<li>It's not always convenient to extract the code into a function.</li>\n<li>Like a function, it delimits the code and documents its nature without introducing additional names or comments.</li>\n<li>Sometimes it's preferable to initialize two or more variables in tandem and introducing a result-value class with this specific purpose feels like an overkill.</li>\n<li>Also like a function it doesn't pollute the outer namespace with temporary variables only used internally.</li>\n</ul>\n\n<p>Anecdotally, as Java does not support block expressions I would write the example as</p>\n\n<pre><code>int y ; {\n    println(\"something\");\n    y= 1 ;\n}\n</code></pre>\n\n<p>Other languages (ALGOL and Scala come to my mind) do support block expressions (and in the case of Scala also lambdas, but with a different syntax).  In these languages what you proposed (in Scala syntax)</p>\n\n<pre><code>val y= { println(\"something\"); 1 }\n</code></pre>\n\n<p>is completely valid and does not require <code>()</code> to force a lambda to evaluate (because there is no lambda!).</p>\n\n<p>In conclusion, Kotlin designers did choose to make the language less consistent than ALGOL and Scala in terms of blocks and block expression, probably in favor of convenience.</p>\n\n<p>I hope my long response shows that what you expected from Kotlin was not illogical, just not the case because of some language design choice.  The principle of less surprise did not work this time.</p>\n"}], "owner": {"reputation": 3970, "user_id": 2757925, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a6804067a1c00a041299978a7b580ace?s=128&d=identicon&r=PG&f=1", "display_name": "V.K.", "link": "https://stackoverflow.com/users/2757925/v-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3978, "favorite_count": 0, "accepted_answer_id": 44537326, "answer_count": 3, "score": 9, "last_activity_date": 1529549499, "creation_date": 1497422072, "question_id": 44537174, "link": "https://stackoverflow.com/questions/44537174/returning-the-last-expression-in-a-block", "title": "returning the last expression in a block", "body": "<p>I am learning the new and very beautiful language Kotlin and everything seems to be very logical and consistent. I only found one thing which seems like an arbitrary exception to the rule than a solid rule. But maybe I lack enough understanding some deeper reasons behind the rule.</p>\n\n<p>I know that in <code>if-else</code> and <code>when</code> statements there are blocks of code, then the last expression is returned. In the next example <code>1</code> or <code>2</code> are returned depending on the condition - in our case it returns <code>1</code>.</p>\n\n<pre><code>val x = if (1 &lt; 2) {println(\"something\"); 1} else {println(\"something else\"); 2}\n</code></pre>\n\n<p>On the other hand this does not hold for any code block. The next line assigns <code>y</code> not to <code>1</code> but to the whole block of code as a lambda.</p>\n\n<pre><code>val y = {println(\"something\"); 1}\n</code></pre>\n\n<p>Similarly in function body, the last expression is not returned. This does not even compile.</p>\n\n<pre><code>fun z() : Int {\n    println(\"something\")\n    1\n}\n</code></pre>\n\n<p>So what exactly is the rule? Is it really so arbitrary like: if in <code>if-else</code> or <code>when</code> statement which is used as expression there is a block of code, then the last expression in the block is returned. Otherwise the last expression is not returned to outer scope. Or am I missing something?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2424, "user_id": 5680724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nxB49.jpg?s=128&g=1", "display_name": "kishu mewara", "link": "https://stackoverflow.com/users/5680724/kishu-mewara"}, "edited": false, "score": 2, "creation_date": 1497419573, "post_id": 44536114, "comment_id": 76063857, "body": "this document helps you lot <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "edited": false, "score": 2, "creation_date": 1497419321, "post_id": 44536346, "comment_id": 76063727, "body": "if a?.length returns null, in that case also throws NPE. i am not getting that case."}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "edited": false, "score": 0, "creation_date": 1497420384, "post_id": 44536346, "comment_id": 76064268, "body": "I&#39;ve edited my post trying to make it more clear for you. Feel free to ask more questions."}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 121, "last_activity_date": 1497425523, "last_edit_date": 1497425523, "creation_date": 1497419020, "answer_id": 44536346, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/44536346#44536346", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p>As it said in <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">Kotlin reference</a>, <code>!!</code> is an option for NPE-lovers :)</p>\n\n<pre><code>a!!.length\n</code></pre>\n\n<p>will return a non-null value of <code>a.length</code> or throw a <strong>NullPointerException</strong> if <code>a</code> is <code>null</code>:</p>\n\n<pre><code>val a: String? = null\nprint(a!!.length) // &gt;&gt;&gt; NPE: trying to get length of null\n</code></pre>\n\n<hr>\n\n<pre><code>a?.length\n</code></pre>\n\n<p>returns <code>a.length</code> if <code>a</code> is not <code>null</code>, and <code>null</code> otherwise:</p>\n\n<pre><code>val a: String? = null\nprint(a?.length) // &gt;&gt;&gt; null is printed in the console\n</code></pre>\n\n<hr>\n\n<h2><strong>To sum up:</strong></h2>\n\n<pre><code>+------------+--------------------+---------------------+----------------------+\n| a: String? |           a.length |           a?.length |           a!!.length |\n+------------+--------------------+---------------------+----------------------+\n|      \"cat\" | Compile time error |                   3 |                    3 |\n|       null | Compile time error |                null | NullPointerException |\n+------------+--------------------+---------------------+----------------------+\n</code></pre>\n\n<p><em>Might be useful: <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException?</a></em></p>\n"}, {"tags": [], "owner": {"reputation": 2424, "user_id": 5680724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nxB49.jpg?s=128&g=1", "display_name": "kishu mewara", "link": "https://stackoverflow.com/users/5680724/kishu-mewara"}, "is_accepted": false, "score": 6, "last_activity_date": 1497420180, "last_edit_date": 1497420180, "creation_date": 1497419209, "answer_id": 44536395, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/44536395#44536395", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p>this is '!!' <strong>double-bang operator</strong> is always return not-null value and this is '?'  <strong>safe call operator</strong> returns value if value is not null, and null otherwise</p>\n\n<p>This is unsafe nullable type (T?) conversion to a non-nullable type (T). It will throw NullPointerException if the value is null.</p>\n\n<p>It is documented <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">here</a> along with Kotlin means of null-safety.</p>\n\n<p>ref - <a href=\"https://stackoverflow.com/questions/34342413/what-is-the-kotlin-double-bang\">hotkey</a></p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 9, "last_activity_date": 1497421760, "last_edit_date": 1497421760, "creation_date": 1497421099, "answer_id": 44536895, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/44536895#44536895", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p>the precedence of operators <code>!</code>, <code>?.</code>, <code>!!</code> is <code>?.</code> > <code>!!</code> > <code>!</code>.</p>\n\n<p>the <code>!!</code> operator will raising <code>KotlinNullPointerException</code> when operates on a <code>null</code> reference, for example:</p>\n\n<pre><code>null!!;// raise NullPointerException\n</code></pre>\n\n<p>the safe call <code>?.</code> operator will return <code>null</code> when operates on a <code>null</code> reference, for example:</p>\n\n<pre><code>(null as? String)?.length; // return null;\n</code></pre>\n\n<p>the <code>!!</code> operator in your second approach maybe raise <code>NullPointerException</code> if the left side is <code>null</code>, for example:</p>\n\n<pre><code>mCurrentDataset?.load(..)!!\n    ^-------------^\n           | \nwhen mCurrentDataset== null || load() == null a NullPointerException raised.\n</code></pre>\n\n<p>you can using the elvis operator  <code>?:</code> instead of the <code>!!</code> operator in your case, for example:</p>\n\n<pre><code>!(mCurrentDataset?.load(..)?:false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1086, "user_id": 1292414, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/IOAMh.jpg?s=128&g=1", "display_name": "Ramachandra Reddy Avula", "link": "https://stackoverflow.com/users/1292414/ramachandra-reddy-avula"}, "is_accepted": false, "score": 0, "last_activity_date": 1538375505, "creation_date": 1538375505, "answer_id": 52585647, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/52585647#52585647", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p>SafeCall Operator(?):</p>\n\n<pre><code>var a: String = \"abc\"\na = null  //compile time error\n\nval b: String? = null\nval result = b?.length//returns null\n</code></pre>\n\n<p>Assertion Operator(!!):</p>\n\n<pre><code> val b: String? = \"dd\" //any value or null \n val l = b!!.length \n//this throws null pointer exception if b is null otherwise returns actual\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 593, "user_id": 9095122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d362b2b33a8aade6c562abb53958632?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh Ranjan", "link": "https://stackoverflow.com/users/9095122/nitesh-ranjan"}, "is_accepted": false, "score": 6, "last_activity_date": 1540804634, "last_edit_date": 1540804634, "creation_date": 1539883889, "answer_id": 52879539, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/52879539#52879539", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<pre><code>In Addition to what Alexander said and as shown in the docs too, \n</code></pre>\n\n<p>the <code>?.</code> safe call operator is very useful in chaining, something like this</p>\n\n<pre><code>student?.department?.hod?.name\n</code></pre>\n\n<p>if there is no student, returns null otherwise look for his department. If department doesn't exist returns null otherwise look for hod (head of department) and so on.</p>\n\n<p>If any one of student, department or hod is null then the result will be null.</p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 5705721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3qoS.png?s=128&g=1", "display_name": "Makarand", "link": "https://stackoverflow.com/users/5705721/makarand"}, "is_accepted": false, "score": 0, "last_activity_date": 1577534495, "last_edit_date": 1577534495, "creation_date": 1577532308, "answer_id": 59510430, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin/59510430#59510430", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p><strong>Safe Calls</strong> operator</p>\n\n<p>In Kotlin </p>\n\n<pre><code>var a = x?.length;\n</code></pre>\n\n<p>Equivalent code in Java</p>\n\n<pre><code>int a = valueOfInt();\n\nint valueOfInt() {\n    if (x != null) {\n        return x;\n    } else {\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>Side chain rule</strong></p>\n\n<pre><code>bob?.department?.head?.name\n</code></pre>\n\n<p>it can be read as-></p>\n\n<p>If <code>bob</code> is not null give me the <code>department</code> ,</p>\n\n<p>if <code>department</code> is not null give me the <code>head</code>,</p>\n\n<p>if <code>head</code> is not null give me the <code>name</code>.</p>\n\n<p>If any of it is <code>null</code>, then it returns <code>null</code></p>\n\n<p><strong>? before Data type</strong></p>\n\n<p>If ? used before data type like:</p>\n\n<pre><code>val b: String? = null\n</code></pre>\n\n<p>it means you can assign null value to it otherwise null value can't be assigned to it.</p>\n\n<p><strong>The !! Operator</strong> </p>\n\n<p>For those who like to have <strong>Null Pointer Exception (NPE)</strong> in their program.</p>\n\n<pre><code>val l = b!!.length\n</code></pre>\n\n<p>this will return a non-null value of <code>b</code> if <code>b</code> is not null OR throw an NPE if <code>b</code> is null</p>\n"}], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21109, "favorite_count": 18, "accepted_answer_id": 44536346, "answer_count": 6, "score": 68, "last_activity_date": 1579448069, "creation_date": 1497418075, "last_edit_date": 1579448069, "question_id": 44536114, "link": "https://stackoverflow.com/questions/44536114/whats-the-difference-between-and-in-kotlin", "title": "What&#39;s the difference between !! and ? in Kotlin?", "body": "<p>I am new to Kotlin. I want to know the difference between this two <code>!!</code> and <code>?</code> in below code.</p>\n\n<p>Below, there are two snippets: the first uses <code>!!</code> for <code>mCurrentDataset</code> and another having <code>?</code> for same variable.</p>\n\n<pre><code>if(!mCurrentDataset!!.load(mDataSetString.get(mCurrentDataSelectionIndex), STORAGE_TYPE.STORAGE_APPRESOURCE))\n{\n    Log.d(\"MyActivity\",\"Failed to load data.\")\n    return false\n}\n</code></pre>\n\n<hr>\n\n<pre><code>if(!mCurrentDataset?.load(mDataSetString.get(mCurrentDataSelectionIndex), STORAGE_TYPE.STORAGE_APPRESOURCE)!!)\n{\n    Log.d(\"MyActivity\",\"Failed to load data.\")\n    return false\n}\n</code></pre>\n"}, {"tags": ["rx-java", "kotlin", "reactive-programming"], "comments": [{"owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "edited": false, "score": 0, "creation_date": 1497479602, "post_id": 44535765, "comment_id": 76101950, "body": "Why the down vote?"}], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "edited": false, "score": 0, "creation_date": 1497479582, "post_id": 44537173, "comment_id": 76101944, "body": "Cool! <code>concatMap</code> + recursion is the way to go. I&#39;d just like to point out that, in this specific case, the given code won&#39;t work since the emitted item will never be <code>null</code> and it should be concatenated with the returned value recursively, something like: <code>concatMap { Observable.just(it).concatWith(it.next()?.chain(next) ?: Observable.empty()) }</code>. But that&#39;s just a small detail, your answer pointed me to the right direction. Thanks!"}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "reply_to_user": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "edited": false, "score": 0, "creation_date": 1497507798, "post_id": 44537173, "comment_id": 76109360, "body": "I&#39;ve just updated my answer to reflect that point. Just notice that your <code>chain()</code> method doesn&#39;t accept any <code>next</code> arg ;)"}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": true, "score": 5, "last_activity_date": 1497510370, "last_edit_date": 1497510370, "creation_date": 1497422063, "answer_id": 44537173, "question_id": 44535765, "link": "https://stackoverflow.com/questions/44535765/combining-rx-singles-into-observables-recursively/44537173#44537173", "title": "Combining Rx Singles into Observables recursively", "body": "<p>I haven't tested this but based on a solution I code some time ago to a similar pagination problem I translated to Kotlin</p>\n\n<pre><code>fun Single&lt;T&gt;.chain(): Observable&lt;T&gt; =\n    toObservable()\n    .concatWith {\n        it.next()?.chain()\n        ?: Observable.empty()\n    }\n</code></pre>\n\n<p>The key to get that \"recursive\" chaining is the <code>concatWith</code> operator calling recursively the <code>chain</code> method</p>\n"}, {"tags": [], "owner": {"reputation": 3123, "user_id": 7803527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bskeA.jpg?s=128&g=1", "display_name": "Dean Xu", "link": "https://stackoverflow.com/users/7803527/dean-xu"}, "is_accepted": false, "score": 2, "last_activity_date": 1497424680, "creation_date": 1497424680, "answer_id": 44538008, "question_id": 44535765, "link": "https://stackoverflow.com/questions/44535765/combining-rx-singles-into-observables-recursively/44538008#44538008", "title": "Combining Rx Singles into Observables recursively", "body": "<pre><code>public class Q44535765 {\n  public static void main(String[] args) {\n    Maybe&lt;Element&gt; first = get();\n    first.toObservable()\n        .compose(o -&gt; chain(o))\n        .doOnError(e -&gt; System.out.println(e))\n        .subscribe(\n            e -&gt; System.out.println(e),\n            e -&gt; System.out.println(\"fail\"),\n            () -&gt; System.out.println(\"complete\"));\n  }\n\n  static Maybe&lt;Element&gt; get() {\n    return Maybe.just(\n        () -&gt; If.&lt;Maybe&lt;Element&gt;&gt; that(Math.random() &gt; 0.1)\n            .tobe(() -&gt; get())\n            .orbe(() -&gt; If.&lt;Maybe&lt;Element&gt;&gt; that(Math.random() &gt; 0.5)\n                .tobe(() -&gt; Maybe.empty())\n                .orbe(() -&gt; null)\n                .result())\n            .result());\n  }\n\n  static Observable&lt;Element&gt; chain(Observable&lt;Element&gt; s) {\n    return s.concatMap(\n        e -&gt; Observable.just(e)\n            .concatWith(e.next()\n                .toObservable()\n                .compose(o -&gt; chain(o))));\n  }\n\n  interface Element {\n    Maybe&lt;Element&gt; next();\n  }\n}\n</code></pre>\n\n<p>While <code>If</code> is my util class, you can instead by <code>if...else...</code>.</p>\n"}], "owner": {"reputation": 665, "user_id": 4681266, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8ef2ab63487dfd1c37a0301195843a3d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Huff", "link": "https://stackoverflow.com/users/4681266/gabriel-huff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "accepted_answer_id": 44537173, "answer_count": 2, "score": 1, "last_activity_date": 1497510370, "creation_date": 1497416362, "last_edit_date": 1497419751, "question_id": 44535765, "link": "https://stackoverflow.com/questions/44535765/combining-rx-singles-into-observables-recursively", "title": "Combining Rx Singles into Observables recursively", "body": "<p>Let's say I have a <code>Single</code> called <code>s_0</code> that can either emit an element <code>t_0</code> from type <code>T</code> or fail (that would be a <code>Single&lt;T&gt;</code> in some languages). That is:</p>\n\n<pre><code>s_0: -- t_0          // Success\n\nOR\n\ns_0: -- X            // Failure\n</code></pre>\n\n<p>Instances from type <code>T</code> have a <code>next()</code> method that return an optional <code>Single</code> from type <code>T</code> as well (a <code>Single&lt;T&gt;?</code> in <strong>Kotlin</strong>). This behavior leads to a chain of <code>Single</code> instances capable of emitting a chain of <code>T</code> instances, where each single <code>s_i</code> may emit an element <code>t_i</code> capable of returning a next single <code>s_i+1</code>, which will emit an element <code>t_i+1</code> and so on, until the last element <code>t_n-1</code> does not return a single or any of the singles fails:</p>\n\n<pre><code>s_0: -- t_0\n        \u2193\n        s_1: -- t_1\n                \u2193\n                s_2: -- t_2\n\n                        ...\n\n                        \u2193\n                        s_n-1: -- t_n-1\n                                  \u2193\n                                  null\n\nOR\n\ns_0: -- t_0\n        \u2193\n        s_1: -- t_1\n                \u2193\n                s_2: -- t_2\n\n                        ...\n\n                        \u2193\n                        s_i: -- X\n</code></pre>\n\n<p>I'm looking for an <strong>elegant</strong> way to obtain an <code>Observable</code> <code>o</code> from type <code>T</code> capable of emitting all elements from the chain started by <code>s_0</code> finishing successfully when there are no more singles on the chain or failing if any single fails:</p>\n\n<pre><code>o: -- t_0 -- t_1 -- t_2 -- ... -- t_n-1 --o     // Success\n\nOR\n\no: -- t_0 -- t_1 -- t_2 -- ... --X              // Failure\n</code></pre>\n\n<p>By <strong>elegant</strong>, I mean something as simple as this (in <strong>Kotlin</strong>):</p>\n\n<pre><code>// Get single somehow (out of the scope of this question)\nval s0: Single&lt;T&gt; = provideSingle()\n\n// Get observable\nval o: Observable&lt;T&gt; = s0.chain()\n\n// Define extension method\nfun Single&lt;T&gt;.chain(): Observable&lt;T&gt; {\n    /*\n    Implement here\n     */\n}\n\n// Element interface\ninterface T {\n    fun next(): Single&lt;T&gt;?\n}\n</code></pre>\n\n<h1>What's the applicability of this?</h1>\n\n<p>This scenario can be found when consuming a REST API with pagination, where <code>Single</code> instances can be used to retrieve individual pages, which can in turn provide <code>Single</code> instances capable of emitting subsequent pages.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 385, "user_id": 1524394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l7wji.png?s=128&g=1", "display_name": "CJ Burkey", "link": "https://stackoverflow.com/users/1524394/cj-burkey"}, "edited": false, "score": 0, "creation_date": 1497412866, "post_id": 44535168, "comment_id": 76061423, "body": "I&#39;m not a professional in Kotlin, but you could try <code>AClass.class.getPackage().getName();</code> and append that to your <code>AClass.class.getName();</code> Like so: <code>String location = AClass.class.getPackage().getName() + &quot;.&quot; + AClass.class.getName();</code>"}, {"owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "reply_to_user": {"reputation": 385, "user_id": 1524394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l7wji.png?s=128&g=1", "display_name": "CJ Burkey", "link": "https://stackoverflow.com/users/1524394/cj-burkey"}, "edited": false, "score": 0, "creation_date": 1497422079, "post_id": 44535168, "comment_id": 76065175, "body": "thanks, <code>Class.forName(fragmentName)</code> if fragmentName is a Kotlin class ,it will throws ClassNotFoundException. not matter fragmentName is complete name. so i was confused"}, {"owner": {"reputation": 385, "user_id": 1524394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l7wji.png?s=128&g=1", "display_name": "CJ Burkey", "link": "https://stackoverflow.com/users/1524394/cj-burkey"}, "edited": false, "score": 0, "creation_date": 1497450104, "post_id": 44535168, "comment_id": 76085535, "body": "Did that fix it?"}, {"owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "reply_to_user": {"reputation": 385, "user_id": 1524394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l7wji.png?s=128&g=1", "display_name": "CJ Burkey", "link": "https://stackoverflow.com/users/1524394/cj-burkey"}, "edited": false, "score": 0, "creation_date": 1497514356, "post_id": 44535168, "comment_id": 76113241, "body": "<code>val c = Class.forName(fragmentName)?.newInstance()  fragment=c as Fragment</code> fragmentName is a KClass complete name, it solves my problem"}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "edited": false, "score": 0, "creation_date": 1497421220, "post_id": 44535643, "comment_id": 76064710, "body": "Actually\uff0cIt just a few code be covered into Kotlin, <code>AClass.class.getName();</code>this code above was invoked in java class , so i cannot use Kotlin syntax like your answer."}, {"owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "edited": false, "score": 0, "creation_date": 1497421878, "post_id": 44535643, "comment_id": 76065057, "body": "Actually\uff0cIt just a few code be covered into Kotlin, <code>AClass.class.getName();</code>this code above was invoked in java class , so i cannot use Kotlin syntax like your answer. i want a complete file name,because <code>Class.forName(fragmentName)</code> will be invoked in next. fragmentName should be replace by AClass complete name. but AClass is a Kotlin class now, it throws ClassNotFoundException"}], "tags": [], "owner": {"reputation": 1451, "user_id": 7806873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zt4LlQMwb2I/AAAAAAAAAAI/AAAAAAAAAHw/-4RO616l9J8/photo.jpg?sz=128", "display_name": "Nitin Patel", "link": "https://stackoverflow.com/users/7806873/nitin-patel"}, "is_accepted": false, "score": 8, "last_activity_date": 1497415590, "creation_date": 1497415590, "answer_id": 44535643, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl/44535643#44535643", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p>Try below solution::-</p>\n\n<pre><code>var name = MainActivity::class.java.canonicalName as String\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1497433756, "post_id": 44540576, "comment_id": 76073005, "body": "If you added an example input sample and output of each described option, that&#39;d be fantastic."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1497434998, "post_id": 44540576, "comment_id": 76073932, "body": "@EugenPechanec thanks for your feedback, sir. how about it now?"}, {"owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "edited": false, "score": 0, "creation_date": 1497514513, "post_id": 44540576, "comment_id": 76113344, "body": "thanks, actually <a href=\"https://discuss.kotlinlang.org/t/whats-the-kotlin-way-to-create-a-instance-dynamically/1060\" rel=\"nofollow noreferrer\">this</a> is want i want"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 43, "last_activity_date": 1497434975, "last_edit_date": 1497434975, "creation_date": 1497432018, "answer_id": 44540576, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl/44540576#44540576", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p>there are many ways to get the full qualified name of a java <code>Class</code> in kotlin:</p>\n\n<p>get name via the property <code>KClass.qualifiedName</code>:</p>\n\n<pre><code>val name = AClass::class.qualifiedName;\n</code></pre>\n\n<p><strong>OR</strong> get name via the property <code>Class.name</code>:</p>\n\n<pre><code>val name = AClass::class.java.name;\n</code></pre>\n\n<p><strong>OR</strong> get name via the method <code>Class#getName</code>:</p>\n\n<pre><code>val name = AClass::class.java.getName();\n</code></pre>\n\n<p>the table of the qualified name of a class as below:</p>\n\n<pre><code>|-----------------------|-----------------------|-----------------------|\n|                       |          Class        |     Anonymous Class   |\n|-----------------------|-----------------------|-----------------------|\n| KClass.qualifiedName  |    foo.bar.AClass     |         null          |\n|-----------------------|-----------------------|-----------------------|\n| Class.name            |    foo.bar.AClass     |    foo.bar.AClass$1   |\n|-----------------------|-----------------------|-----------------------|\n| Class.getName()       |    foo.bar.AClass     |    foo.bar.AClass$1   |\n|-----------------------|-----------------------|-----------------------|\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1564734696, "post_id": 49866069, "comment_id": 101135924, "body": "Thanks. As I understood, the same is for Kotlin fragment."}], "tags": [], "owner": {"reputation": 181, "user_id": 2651394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67d4adb5c811a906b4f28844733c9b41?s=128&d=identicon&r=PG", "display_name": "LinuxFelipe-COL", "link": "https://stackoverflow.com/users/2651394/linuxfelipe-col"}, "is_accepted": false, "score": 6, "last_activity_date": 1570610377, "last_edit_date": 1570610377, "creation_date": 1523912108, "answer_id": 49866069, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl/49866069#49866069", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p><strong>If it is a java fragment</strong></p>\n\n<pre><code>var fragmentSimpleName = FragmentName::class.java.simpleName as String\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 8845653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/opP45.jpg?s=128&g=1", "display_name": "Josep Jesus Bigorra Algaba", "link": "https://stackoverflow.com/users/8845653/josep-jesus-bigorra-algaba"}, "is_accepted": false, "score": 1, "last_activity_date": 1536149940, "creation_date": 1536149940, "answer_id": 52184955, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl/52184955#52184955", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p>Maybe I am a little bit late for the party, but I do it using hash code of the new instance of the fragment. It is an Int so allows all kinds of tests.</p>\n\n<pre><code> private val areaFragment by lazy { Area_Fragment.newInstance() }\n\n    var fragmentHashCode = fragment.hashCode()\n            when (fragmentHashCode) {\n                areaFragment.hashCode() -&gt; {\n                    myNavigationView.setCheckedItem(R.id.nav_area)\n            }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1569945779, "post_id": 58171167, "comment_id": 102756879, "body": "And what is <code>javaClass</code>?"}, {"owner": {"reputation": 598, "user_id": 4034209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nACGR.png?s=128&g=1", "display_name": "Kashif Anwaar", "link": "https://stackoverflow.com/users/4034209/kashif-anwaar"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1570556463, "post_id": 58171167, "comment_id": 102947230, "body": "javaClass is the class in which you type. just type javaClass in any class it&#39;ll work."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1570610456, "post_id": 58171167, "comment_id": 102963079, "body": "Thanks! It shouldn&#39;t be used as a constant in <code>companion object</code>, rather like a variable. In <code>compaion object</code> we can use <code>val TAG = YourClass::class.java.simpleName</code>."}, {"owner": {"reputation": 598, "user_id": 4034209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nACGR.png?s=128&g=1", "display_name": "Kashif Anwaar", "link": "https://stackoverflow.com/users/4034209/kashif-anwaar"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1587568324, "post_id": 58171167, "comment_id": 108563430, "body": "@CoolMind That is long solution, you&#39;ve to type your class name everywhere you use it. Whereas my line of code can be copied to any class and can be used without any modification."}], "tags": [], "owner": {"reputation": 598, "user_id": 4034209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nACGR.png?s=128&g=1", "display_name": "Kashif Anwaar", "link": "https://stackoverflow.com/users/4034209/kashif-anwaar"}, "is_accepted": false, "score": 6, "last_activity_date": 1569858039, "creation_date": 1569858039, "answer_id": 58171167, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl/58171167#58171167", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p>This is what I use to get class-name.</p>\n\n<pre><code>    val TAG = javaClass.simpleName\n</code></pre>\n\n<p>For Android developer's, it's very useful to declare as a field, and call to print logs.</p>\n"}], "owner": {"reputation": 361, "user_id": 8157970, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-i4Y2APumAFc/AAAAAAAAAAI/AAAAAAAAABE/l9E6CVL_t6s/photo.jpg?sz=128", "display_name": "\u53f6\u94a6\u5bcc", "link": "https://stackoverflow.com/users/8157970/%e5%8f%b6%e9%92%a6%e5%af%8c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26652, "favorite_count": 3, "answer_count": 5, "score": 26, "last_activity_date": 1570610377, "creation_date": 1497412714, "question_id": 44535168, "link": "https://stackoverflow.com/questions/44535168/kotlin-kotlinclass-class-getname-cannot-return-package-name-but-only-simple-cl", "title": "Kotlin kotlinClass.class.getName() cannot return package name but only simple class name", "body": "<p>AClass.class.getName();</p>\n\n<p>if AClass is a java class, this method will return package name and class name.\nbut when i convert AClass java file to Kotlin file ,it will only return a class name. so system cannot find this class path</p>\n\n<p>the code above </p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1497425061, "creation_date": 1497425061, "answer_id": 44538140, "question_id": 44532833, "link": "https://stackoverflow.com/questions/44532833/kotlin-anko-button-onclick-not-working/44538140#44538140", "title": "Kotlin / Anko button onClick not working", "body": "<p>The lambda parameter that <code>positiveButton</code> takes is not a setup function, but the click listener itself, so you can write your code directly inside it:</p>\n\n<pre><code>positiveButton(\"OK\") {\n    info(\"Testing\")\n}\n</code></pre>\n\n<p>The <code>onClick</code> function that you're calling inside it is coming from another outer scope, and is overriding the listener of one of the outer views, presumably the listener for the root of the included view from the XML.</p>\n"}], "owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1567, "favorite_count": 0, "accepted_answer_id": 44538140, "answer_count": 1, "score": 1, "last_activity_date": 1497425061, "creation_date": 1497394422, "last_edit_date": 1497395411, "question_id": 44532833, "link": "https://stackoverflow.com/questions/44532833/kotlin-anko-button-onclick-not-working", "title": "Kotlin / Anko button onClick not working", "body": "<p>I'm fairly new to Kotlin, and I'm using Anko DSL (with some XML) to generate an alert. My issue is, the <code>onClick{ ... }</code> function doesn't happen when I click the button. Everything else works fine, it's just this one issue</p>\n\n<pre><code>        fab.setOnClickListener { view -&gt;\n        alert {\n            title = \"Add Board\"\n            customView {\n                include&lt;View&gt;(R.layout.alert_xml) {\n                    this.spinner.adapter = adapter\n                    info(\"Alert loaded\")\n                    val boardSpinner = this.spinner\n                    val boardText = this.board_text\n                    positiveButton(\"OK\") {\n                        onClick {\n                            info(\"Testing\")\n                        }\n                    }\n                }\n            }\n        }.show()\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1497406463, "post_id": 44532601, "comment_id": 76059912, "body": "I couldn&#39;t get the reason why you try to use <code>Bar().convert(toFoo())</code> instead of <code>Bar().toFoo()</code>. Why does it have to be static?"}, {"owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "reply_to_user": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1497407143, "post_id": 44532601, "comment_id": 76060067, "body": "Well, because <code>toFoo()</code> actually <i>is</i> a Java 8 Collector class, like <code>Collectors.toList()</code> or <code>Collectors.toSet()</code>, and is modeled the same way."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1497438173, "post_id": 44532601, "comment_id": 76076255, "body": "Something like <code>import static example.Bar.toFoo;</code> should work (changed package from your example because Java cannot have classes in the root package) - what compiler error are you seeing? And is it in the IDE or in the build?"}, {"owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "edited": false, "score": 0, "creation_date": 1497452167, "post_id": 44532601, "comment_id": 76087066, "body": "Um, Java <i>can</i> have classes in the root package, and Kotlin doesn&#39;t have an <code>import static</code> statement. The error I&#39;m seeing is <code>unresolved reference</code>."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1497462343, "post_id": 44532601, "comment_id": 76093418, "body": "Sorry, to be specific with Java: <code>It is a compile time error to import a type from the unnamed package.</code> But it sounds like I misunderstood the question anyway, because it sounds like you are trying to import the companion object function into another Kotlin class."}], "answers": [{"tags": [], "owner": {"reputation": 416, "user_id": 7051875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa1d447e29cc41ce81809d7156c05de5?s=128&d=identicon&r=PG&f=1", "display_name": "tango24", "link": "https://stackoverflow.com/users/7051875/tango24"}, "is_accepted": false, "score": 1, "last_activity_date": 1507040416, "creation_date": 1507040416, "answer_id": 46546859, "question_id": 44532601, "link": "https://stackoverflow.com/questions/44532601/statically-importing-kotlin-companion-methods/46546859#46546859", "title": "Statically importing Kotlin Companion methods?", "body": "<p>Unlike Java, Kotlin does not allow you to call static members via instance reference. Java dispatches these members based on the compile time declaration, so in</p>\n\n<pre><code>class Bar {\n    static Foo toFoo() { return new Foo(); }\n}\n\nclass Foo extends Bar {\n    static Foo toFoo() { return new Foo(); }\n}\n\nclass Baz {\n    void test() {\n        Bar fooAsBar = new Foo();\n        Foo foo = fooAsBar.toFoo();\n    }\n}\n</code></pre>\n\n<p>In Java, <code>fooAsBar.toFoo()</code> will actually call <code>Bar.toFoo()</code> (the declared type) and not <code>Foo.toFoo()</code> (the runtime type). This is a source of misunderstanding and not good programming practice, so Kotlin does not support it.</p>\n\n<p>However, you can define an extension function on Bar:</p>\n\n<pre><code>fun Bar?.toFoo() = Bar.toFoo()\n</code></pre>\n\n<p>Then you can call</p>\n\n<pre><code>val foo = fooAsBar.toFoo()\n</code></pre>\n"}], "owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2115, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1507040416, "creation_date": 1497392978, "question_id": 44532601, "link": "https://stackoverflow.com/questions/44532601/statically-importing-kotlin-companion-methods", "title": "Statically importing Kotlin Companion methods?", "body": "<p>tl:dr; Is it possible to <code>import</code> a method inside a companion object of another class, <strong>without</strong> qualifying the import with <code>Companion</code>? That is, is there any possible way I can say <code>import Bar.toFoo</code> instead of <code>import Bar.Companion.toFoo</code>, assuming <code>toFoo</code> is a method on <code>Bar</code>'s companion object?</p>\n\n<hr>\n\n<p>We're migrating a class from Java to Kotlin. Our class looks like this:</p>\n\n<pre><code>class Bar {\n  static Foo toFoo() {\n    return new Foo();\n  }\n}\n</code></pre>\n\n<p>And then, to use it, from a class that happens to be Kotlin, we say something like:</p>\n\n<pre><code>import Bar.toFoo;\n\n// ...\n    Bar().convert(toFoo()); // like a Java 8 Collector\n// ...\n</code></pre>\n\n<p>When we convert <code>Bar</code> to Kotlin, it looks like this:</p>\n\n<pre><code>class Bar {\n  companion object {\n    @JvmStatic fun toFoo() = Foo()\n  }\n}\n</code></pre>\n\n<p>We'd like the calling code to work without modification, however</p>\n\n<pre><code>import Bar.toFoo\n</code></pre>\n\n<p>no longer works, even with @JvmStatic! Instead, we <strong>have</strong> to update it to</p>\n\n<pre><code>import Bar.Companion.toFoo\n</code></pre>\n\n<p>which we'd rather not have to do -- we want to switch the Bar class to Kotlin without updating the callers.</p>\n\n<p>Thoughts? We're using Kotlin 1.1.2-2.</p>\n"}, {"tags": ["nullpointerexception", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 3, "creation_date": 1497380035, "post_id": 44529375, "comment_id": 76050550, "body": "5 seconds of Googling revealed this: <a href=\"https://discuss.kotlinlang.org/t/nre-from-an-uninitialized-this-in-constructor/1966\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 3, "creation_date": 1497380182, "post_id": 44529375, "comment_id": 76050640, "body": "@OliverCharlesworth thanks first, I&#39;m from China, I&#39;m sorry I can&#39;t open your link. could you write down in the answer, sir?"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497380333, "post_id": 44529486, "comment_id": 76050721, "body": "thanks very much,sir. I understand it immediately by your example."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 5, "last_activity_date": 1497380245, "creation_date": 1497380245, "answer_id": 44529486, "question_id": 44529375, "link": "https://stackoverflow.com/questions/44529375/kotlin-nullpointerexception-occurrence/44529486#44529486", "title": "Kotlin NullPointerException occurrence", "body": "<p>Example adapted from a <a href=\"https://discuss.kotlinlang.org/t/nre-from-an-uninitialized-this-in-constructor/1966\" rel=\"noreferrer\">Kotlin discussion on exactly this</a>:</p>\n\n<pre><code>class Foo {\n    val c: String          // Non-nullable\n\n    init {\n        bar()\n        c = \"\"             // Initialised for the first time here\n    }\n\n    fun bar() {\n        println(c.length)  // Oh dear\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Foo()\n}\n</code></pre>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1955, "favorite_count": 0, "accepted_answer_id": 44529486, "answer_count": 1, "score": 4, "last_activity_date": 1499246148, "creation_date": 1497379920, "last_edit_date": 1499246148, "question_id": 44529375, "link": "https://stackoverflow.com/questions/44529375/kotlin-nullpointerexception-occurrence", "title": "Kotlin NullPointerException occurrence", "body": "<p>I'm new to <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\"><img src=\"https://i.stack.imgur.com/avapk.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">kotlin</a>, I'm confused the situation at below when I starting to <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety</a>.</p>\n\n<blockquote>\n  <p>There's some data inconsistency with regard to initialization (an uninitialized this available in a constructor is used somewhere).</p>\n</blockquote>\n\n<p>Could anyone describe the situation more in detailed?</p>\n"}, {"tags": ["http", "utf-8", "kotlin", "cp1251"], "answers": [{"comments": [{"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1511506695, "post_id": 44529722, "comment_id": 81890025, "body": "how about if responseJson ?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1497381694, "last_edit_date": 1497381694, "creation_date": 1497381011, "answer_id": 44529722, "question_id": 44528951, "link": "https://stackoverflow.com/questions/44528951/how-convert-win1251-encoding-to-utf8-inside-kotlin/44529722#44529722", "title": "How convert win1251 encoding to UTF8 inside Kotlin?", "body": "<p>Use the <code>responseString</code> overload that accepts <code>Charset</code> to make it decode the response using <code>Charset.forName(\"Windows-1251\")</code>:</p>\n\n<pre><code>bashImHost.httpGet().responseString(Charset.forName(\"Windows-1251\")) {\n    request, response, result -&gt;\n\n    /* ... */\n}\n</code></pre>\n\n<p>Seems like you cannot change the encoding of the response to Windows-1251 after it has been converted to a <code>String</code> using the wrong encoding UTF-8, see <a href=\"https://stackoverflow.com/questions/2622911/fix-string-encoding-in-java\">this Q&amp;A</a>.</p>\n"}], "owner": {"reputation": 205, "user_id": 805365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0t9c2.jpg?s=128&g=1", "display_name": "Jakeroid", "link": "https://stackoverflow.com/users/805365/jakeroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3054, "favorite_count": 0, "accepted_answer_id": 44529722, "answer_count": 1, "score": 2, "last_activity_date": 1497381694, "creation_date": 1497378521, "question_id": 44528951, "link": "https://stackoverflow.com/questions/44528951/how-convert-win1251-encoding-to-utf8-inside-kotlin", "title": "How convert win1251 encoding to UTF8 inside Kotlin?", "body": "<p>I am making HTTP request to page. This page have cyrillic characters. How I can convert answer in CP1251 to UTF8? </p>\n\n<p>Here is my code.</p>\n\n<pre><code>package bash\n\nimport com.github.kittinunf.fuel.httpGet\nimport com.github.kittinunf.result.Result\n\nfun main(args: Array&lt;String&gt;) {\n    val bashImHost = \"http://bash.im/\"\n    bashImHost.httpGet().responseString { request, response, result -&gt;\n        when (result) {\n            is Result.Failure -&gt; {\n                println(\"Some kind of error!\")\n            }\n            is Result.Success -&gt; {\n                val htmlBody = result.value\n                val parsePattern = \"&lt;div class=\\\"text\\\"&gt;(.+)&lt;/div&gt;\"\n                val parseRegex = Regex(parsePattern)\n                val results = parseRegex.findAll(htmlBody)\n                results.iterator().forEach { resultItem -&gt; println(resultItem.groups[1]?.value) }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am using Fuel HTTP library. </p>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497376988, "post_id": 44527615, "comment_id": 76048824, "body": "Not sure it&#39;s relevant. but which stdlib dependency are you using? It should be <code>kotlin-stdlib</code> or <code>kotlin-stdlib-jre7</code>, not <code>kotlin-stdlib-jre8</code>."}, {"owner": {"reputation": 928, "user_id": 569021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5ba05c0708cba914bfa5b8d1fb9881?s=128&d=identicon&r=PG", "display_name": "Allan Hasegawa", "link": "https://stackoverflow.com/users/569021/allan-hasegawa"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497381191, "post_id": 44527615, "comment_id": 76051135, "body": "@hotkey I&#39;m using <code>kotlin-stdlib</code>, but even with <code>kotlin-stdlib-jre7</code> I&#39;m able to compile code with Java 8 SDK."}], "answers": [{"tags": [], "owner": {"reputation": 1207, "user_id": 1694086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff04fa446931b33ce77aae38c7c9ce7?s=128&d=identicon&r=PG", "display_name": "franta kocourek", "link": "https://stackoverflow.com/users/1694086/franta-kocourek"}, "is_accepted": false, "score": -1, "last_activity_date": 1542659960, "creation_date": 1542659960, "answer_id": 53382299, "question_id": 44527615, "link": "https://stackoverflow.com/questions/44527615/how-to-set-sourcecompatibility-for-kotlin-and-gradle/53382299#53382299", "title": "How to set &quot;sourceCompatibility&quot; for Kotlin and Gradle?", "body": "<p>I know this is an old question, but still may help other people.</p>\n\n<p>The problem you have is because you are actually compiling your code against jdk whit is not your target. And that very particular jdk contains stream API thus compiles correctly. To achieve your goal you have to compile against your target jdk.</p>\n\n<p>Kotlin <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-jvm\" rel=\"nofollow noreferrer\">documentation</a> gives you <code>jdkHome</code> property. So you can:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jdkHome = 'target/jdk/home'\n    }\n}\n</code></pre>\n\n<p>To make the solution compatible with other people in your team, you can load the path from, for example, <code>local.properties</code> file which should not be in your vcs:</p>\n\n<pre><code>Properties localProperties = new Properties()\nlocalProperties.load(project.rootProject.file('local.properties').newDataInputStream())\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jdkHome = \"${localProperties.getProperty('targetjdk.dir')}\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 928, "user_id": 569021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e5ba05c0708cba914bfa5b8d1fb9881?s=128&d=identicon&r=PG", "display_name": "Allan Hasegawa", "link": "https://stackoverflow.com/users/569021/allan-hasegawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1146, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542659960, "creation_date": 1497373594, "question_id": 44527615, "link": "https://stackoverflow.com/questions/44527615/how-to-set-sourcecompatibility-for-kotlin-and-gradle", "title": "How to set &quot;sourceCompatibility&quot; for Kotlin and Gradle?", "body": "<p>I'm getting <code>java.lang.NoClassDefFoundError</code> on a Android app. I managed to isolate the issue to a call to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#replaceAll-java.util.function.UnaryOperator-\" rel=\"nofollow noreferrer\">List::replaceAll</a>. The problem is that method is for Java 8 and is not available in some devices, and Kotlin/Gradle is compiling it successfully.</p>\n\n<p>Similar issue: <a href=\"https://stackoverflow.com/questions/42869086/java-lang-noclassdeffounderror-inlinedforeachlambda1-in-kotlin\">java.lang.NoClassDefFoundError $$inlined$forEach$lambda$1 in Kotlin</a></p>\n\n<p>My question is. Is there a way to give me a compilation error any time I use Java 8 SDK in my project? I've tried to manually set Java 1.7 like below, but the code with Java 8 compiles successfully.</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    sourceCompatibility = JavaVersion.VERSION_1_7 // Is it even relevant here?\n    targetCompatibility = JavaVersion.VERSION_1_7\n\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\n</code></pre>\n\n<p>Also important, the code is not in a Android module. My Android module doesn't let me use that method, as expected.</p>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 1, "creation_date": 1497373731, "post_id": 44526340, "comment_id": 76047032, "body": "Thanks for posting the question, I just realized that all the code I&#39;ve written with the JDBC library was basically unnecessary.."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 7397926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uQubM.jpg?s=128&g=1", "display_name": "Linuxea", "link": "https://stackoverflow.com/users/7397926/linuxea"}, "edited": false, "score": 0, "creation_date": 1584121967, "post_id": 44527474, "comment_id": 107349454, "body": "I have the same problem that occur sometimes, but I have already added &lt;code&gt;kotlin-reflect&lt;/code&gt; dependency in my project. Do you know anything else? Thanks."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 9, "last_activity_date": 1497373141, "creation_date": 1497373141, "answer_id": 44527474, "question_id": 44526340, "link": "https://stackoverflow.com/questions/44526340/noclassdeffounderror-when-using-exposed/44527474#44527474", "title": "NoClassDefFoundError when using Exposed", "body": "<p>You need to add <code>kotlin-reflect</code> as a dependency to your project.</p>\n"}], "owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 0, "accepted_answer_id": 44527474, "answer_count": 1, "score": 4, "last_activity_date": 1503092942, "creation_date": 1497369346, "last_edit_date": 1503092942, "question_id": 44526340, "link": "https://stackoverflow.com/questions/44526340/noclassdeffounderror-when-using-exposed", "title": "NoClassDefFoundError when using Exposed", "body": "<p>I'm using <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Exposed</a> as my database library and I'm getting these errors when I try to run my code:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/reflect/full/KClasses\n    at org.jetbrains.exposed.sql.Table.clone(Table.kt:196)\n    at org.jetbrains.exposed.sql.Table.cloneWithAutoInc(Table.kt:234)\n    at org.jetbrains.exposed.sql.Table.autoIncrement(Table.kt:238)\n    at org.jetbrains.exposed.sql.Table.autoIncrement$default(Table.kt:238)\n    at vanilla.jubeatbook.data.Songs.&lt;init&gt;(SQLObjects.kt:14)\n    at vanilla.jubeatbook.data.Songs.&lt;clinit&gt;(SQLObjects.kt:13)\n    at vanilla.jubeatbook.backend.MainKt$main$1.invoke(Main.kt:22)\n    at vanilla.jubeatbook.backend.MainKt$main$1.invoke(Main.kt)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:70)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:58)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:49)\n    at vanilla.jubeatbook.backend.MainKt.main(Main.kt:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.lang.ClassNotFoundException: kotlin.reflect.full.KClasses\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 17 more\n</code></pre>\n\n<p>Code snippet for <code>SQLObjects.kt</code>:</p>\n\n<pre><code>object Songs : Table() {\n    val _id = integer(\"_id\").autoIncrement().primaryKey() // Line 14\n    val songId = integer(\"song_id\")\n    val title = text(\"title\")\n    val artist = text(\"artist\")\n    val levelBSC = integer(\"level_bsc\")\n    val levelADV = integer(\"level_adv\")\n    val levelEXT = integer(\"level_ext\")\n}\n</code></pre>\n\n<p>I think I followed the sample code right but I can't just figure out what throws these.</p>\n"}, {"tags": ["java", "javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8155612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d73nU.jpg?s=128&g=1", "display_name": "CSY", "link": "https://stackoverflow.com/users/8155612/csy"}, "edited": false, "score": 0, "creation_date": 1497370396, "post_id": 44526615, "comment_id": 76045079, "body": "I get it. Thanks a lot!"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 11, "user_id": 8155612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d73nU.jpg?s=128&g=1", "display_name": "CSY", "link": "https://stackoverflow.com/users/8155612/csy"}, "edited": false, "score": 0, "creation_date": 1497370736, "post_id": 44526615, "comment_id": 76045292, "body": "You&#39;re welcome. Grateful for every reported issue and question :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 3, "last_activity_date": 1497370404, "last_edit_date": 1497370404, "creation_date": 1497370122, "answer_id": 44526615, "question_id": 44526158, "link": "https://stackoverflow.com/questions/44526158/tornadofx-togglebutton-does-not-have-text-property/44526615#44526615", "title": "tornadoFX togglebutton does not have text property", "body": "<p>It seems we were a bit eager to update the guide with the new <code>.action</code> syntax, so the example in the guide is actually wrong. The correct code would be:</p>\n\n<pre><code>togglebutton(\"OFF\") {\n    action {\n        text = if (isSelected) \"ON\" else \"OFF\"\n    }\n}\n</code></pre>\n\n<p>The reason the example in the guide is wrong, is that when you call <code>togglebutton(\"OFF\").action { .. }</code>, then <code>this</code> inside of <code>action {}</code> is actually the surrounding container instead of the button.</p>\n\n<p>For actions that don't operate on the button itself, the short syntax is fine, but if you need to manipulate the button, you need to use the full syntax so your code executes in the context of the button.</p>\n\n<p>On another note, it might be more idiomatic to create a stringbinding to represent the button state, instead of manually updating it in the action callback:</p>\n\n<pre><code>togglebutton {\n    val stateText = selectedProperty().stringBinding {\n        if (it == true) \"ON\" else \"OFF\"\n    }\n    textProperty().bind(stateText)\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8155612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d73nU.jpg?s=128&g=1", "display_name": "CSY", "link": "https://stackoverflow.com/users/8155612/csy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497370404, "creation_date": 1497368844, "last_edit_date": 1497369076, "question_id": 44526158, "link": "https://stackoverflow.com/questions/44526158/tornadofx-togglebutton-does-not-have-text-property", "title": "tornadoFX togglebutton does not have text property", "body": "<p>I am new to kotlin and tornadoFX.\nIn TornadoFX Guide, a ToggleButton can be built with the following:</p>\n\n<pre><code>togglebutton(\"OFF\").action { text = if (isSelected) \"ON\" else \"OFF\" }\n</code></pre>\n\n<p>But when I copy the same codes into my IDE, there's wrong!</p>\n\n<p><img src=\"https://i.stack.imgur.com/NJrLs.png\" alt=\"codes from guide copied to my IDE\"></p>\n\n<p>It seems that there's no text property in togglebutton in tornadoFX?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 2, "creation_date": 1497366874, "post_id": 44525388, "comment_id": 76042671, "body": "You can also use AsyncTask with Kotlin"}], "answers": [{"comments": [{"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 4, "creation_date": 1517306778, "post_id": 44525947, "comment_id": 84031994, "body": "how we can prevent this warning &quot;leak might occur make the async task static&quot; ?"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1564870867, "post_id": 44525947, "comment_id": 101173158, "body": "@Killer Don&#39;t put it in classes that can stay too long because of the AsyncTask (such as Activity), unless you keep them in check, and cancel all of the instances of the AsyncTask when your class should be destroyed."}], "tags": [], "owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "is_accepted": true, "score": 67, "last_activity_date": 1497368264, "creation_date": 1497368264, "answer_id": 44525947, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/44525947#44525947", "title": "AsyncTask in Android with Kotlin", "body": "<p><code>AsyncTask</code> is an Android <strong>API</strong>, not a <strong>language feature</strong> that is provided by Java nor Kotlin. You can just use them like this if you want:</p>\n\n<pre><code>class someTask() : AsyncTask&lt;Void, Void, String&gt;() {\n    override fun doInBackground(vararg params: Void?): String? {\n        // ...\n    }\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        // ...\n    }\n\n    override fun onPostExecute(result: String?) {\n        super.onPostExecute(result)\n        // ...\n    }\n}\n</code></pre>\n\n<p>Anko's <code>doAsync</code> is not really 'provided' by Kotlin, since Anko is a library that uses language features from Kotlin to simplify long codes. Check here:</p>\n\n<ul>\n<li><a href=\"https://github.com/Kotlin/anko/blob/d5a526512b48c5cd2e3b8f6ff14b153c2337aa22/anko/library/static/commons/src/Async.kt\" rel=\"noreferrer\">https://github.com/Kotlin/anko/blob/d5a526512b48c5cd2e3b8f6ff14b153c2337aa22/anko/library/static/commons/src/Async.kt</a></li>\n</ul>\n\n<p>If you use Anko your code will be similar to this:</p>\n\n<pre><code>doAsync {\n    // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1994, "user_id": 897033, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/70f67bfcc7db8b39cee2dfab7ad2770c?s=128&d=identicon&r=PG", "display_name": "Radu", "link": "https://stackoverflow.com/users/897033/radu"}, "edited": false, "score": 1, "creation_date": 1545236631, "post_id": 48419227, "comment_id": 94558445, "body": "That looks very wrong. Even though the asynctask is an inner class... I don&#39;t see where you check the state of the activity in onPostExecute? Also, stop using Asynctask all together."}], "tags": [], "owner": {"reputation": 975, "user_id": 2035121, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qwMTp.jpg?s=128&g=1", "display_name": "Gopi.cs", "link": "https://stackoverflow.com/users/2035121/gopi-cs"}, "is_accepted": false, "score": 9, "last_activity_date": 1516787093, "creation_date": 1516787093, "answer_id": 48419227, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/48419227#48419227", "title": "AsyncTask in Android with Kotlin", "body": "<pre><code>package com.irontec.kotlintest\n\nimport android.os.AsyncTask\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport org.json.JSONObject\nimport java.io.BufferedInputStream\nimport java.io.BufferedReader\nimport java.io.InputStreamReader\nimport java.net.HttpURLConnection\nimport java.net.URL\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        GetWeatherTask(this.text).execute()\n    }\n\n    class GetWeatherTask(textView: TextView) : AsyncTask&lt;Unit, Unit, String&gt;() {\n\n        val innerTextView: TextView? = textView\n\n        override fun doInBackground(vararg params: Unit?): String? {\n            val url = URL(\"https://raw.githubusercontent.com/irontec/android-kotlin-samples/master/common-data/bilbao.json\")\n            val httpClient = url.openConnection() as HttpURLConnection\n            if (httpClient.responseCode == HttpURLConnection.HTTP_OK) {\n                try {\n                    val stream = BufferedInputStream(httpClient.inputStream)\n                    val data: String = readStream(inputStream = stream)\n                    return data\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                } finally {\n                    httpClient.disconnect()\n                }\n            } else {\n                println(\"ERROR ${httpClient.responseCode}\")\n            }\n            return null\n        }\n\n        fun readStream(inputStream: BufferedInputStream): String {\n            val bufferedReader = BufferedReader(InputStreamReader(inputStream))\n            val stringBuilder = StringBuilder()\n            bufferedReader.forEachLine { stringBuilder.append(it) }\n            return stringBuilder.toString()\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n\n            innerTextView?.text = JSONObject(result).toString()\n\n            /**\n             * ... Work with the weather data\n             */\n\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu_main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == R.id.action_settings) {\n            return true\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n\n<p>link - <a href=\"https://github.com/irontec/android-kotlin-samples/blob/master/httpurlconnection-asynctask/app/src/main/java/com/irontec/kotlintest/MainActivity.kt\" rel=\"noreferrer\">Github Irontec</a></p>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 6694413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6700924269a58cba315c2e55ea56f707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohanakrrishna", "link": "https://stackoverflow.com/users/6694413/mohanakrrishna"}, "edited": false, "score": 1, "creation_date": 1557308181, "post_id": 49314329, "comment_id": 98717687, "body": "I recently migrated to Kotlin.  So I have some doubts.. How can  you be sure that Memory leaks won&#39;t happen when you call this doAsync from Activity or Fragment. Where will you get the result? Anko&#39;s doAsync is lifecycle aware right? How can we bring that in out doAsyn?"}, {"owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "reply_to_user": {"reputation": 144, "user_id": 6694413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6700924269a58cba315c2e55ea56f707?s=128&d=identicon&r=PG&f=1", "display_name": "Mohanakrrishna", "link": "https://stackoverflow.com/users/6694413/mohanakrrishna"}, "edited": false, "score": 3, "creation_date": 1557407317, "post_id": 49314329, "comment_id": 98760656, "body": "@Mohanakrrishna This is an old answer and I would never use this.. Use e.g. LiveData and all your worries are gone. And since it&#39;s Kotlin - use coroutines and all your worries are gone."}], "tags": [], "owner": {"reputation": 4768, "user_id": 3499145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1a8d7962edff6c2ce861f42324cc1616?s=128&d=identicon&r=PG&f=1", "display_name": "Algar", "link": "https://stackoverflow.com/users/3499145/algar"}, "is_accepted": false, "score": 35, "last_activity_date": 1521181044, "creation_date": 1521181044, "answer_id": 49314329, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/49314329#49314329", "title": "AsyncTask in Android with Kotlin", "body": "<p>You can get a similar syntax to Anko's fairly easy. If you just wan't the background task you can do something like </p>\n\n<pre><code>class doAsync(val handler: () -&gt; Unit) : AsyncTask&lt;Void, Void, Void&gt;() {\n    override fun doInBackground(vararg params: Void?): Void? {\n        handler()\n        return null\n    }\n}\n</code></pre>\n\n<p>And use it like </p>\n\n<pre><code>doAsync {\n    yourTask()\n}.execute()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": -3, "last_activity_date": 1527089563, "creation_date": 1527089563, "answer_id": 50492312, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/50492312#50492312", "title": "AsyncTask in Android with Kotlin", "body": "<pre><code>  private fun updateUI(account: GoogleSignInAccount?) {\n    if (account != null) {\n        try {\n            AsyncTaskExample().execute()\n        } catch (e: Exception) {\n        }\n    }\n}\ninner class AsyncTaskExample : AsyncTask&lt;String, String, String&gt;() {\n\n            override fun onPreExecute() {\n                super.onPreExecute()\n\n            }\n\n            override fun doInBackground(vararg p0: String?): String {\n\n                var Result: String = \"\";\n                try {\n                    googleToken = GoogleAuthUtil.getToken(activity, accountVal, \"oauth2:https://www.googleapis.com/auth/userinfo.profile\")\n                    signOut()\n                } catch (e: Exception) {\n                    signOut()\n                }\n\n\n                signOut()\n\n                return Result\n            }\n\n            override fun onPostExecute(result: String?) {\n                super.onPostExecute(result)\n                socialPrsenter.setDataToHitApiGoogleLogin(googleToken ?: \"\")\n\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 8768273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1938869099463398/picture?type=large", "display_name": "Leandro Castillo Borja", "link": "https://stackoverflow.com/users/8768273/leandro-castillo-borja"}, "is_accepted": false, "score": 0, "last_activity_date": 1536676505, "last_edit_date": 1536676505, "creation_date": 1529544209, "answer_id": 50959107, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/50959107#50959107", "title": "AsyncTask in Android with Kotlin", "body": "<p>if in the case you want to do it without using Anko and the correct way is to use the following way</p>\n\n<pre><code>open class PromotionAsyncTask : AsyncTask&lt;JsonArray, Void, MutableList&lt;String&gt;&gt;() {\n\nprivate lateinit var out: FileOutputStream\nprivate lateinit var bitmap: Bitmap\nprivate lateinit var directory: File\nprivate var listPromotion: MutableList&lt;String&gt; = mutableListOf()\n\noverride fun doInBackground(vararg params: JsonArray?): MutableList&lt;String&gt; {\n\n    directory = Environment.getExternalStoragePublicDirectory(\"Tambo\")\n\n    if (!directory.exists()) {\n        directory.mkdirs()\n    }\n\n    for (x in listFilesPromotion(params[0]!!)) {\n        bitmap = BitmapFactory.decodeStream(URL(x.url).content as InputStream)\n        out = FileOutputStream(File(directory, \"${x.name}\"))\n\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, out)\n        out.flush()\n        out.close()\n\n        listPromotion.add(File(directory, \"${x.name}\").toString())\n    }\n\n    return listPromotion\n}\n\nprivate fun listFilesPromotion(jsonArray: JsonArray): MutableList&lt;Promotion&gt; {\n    var listString = mutableListOf&lt;Promotion&gt;()\n\n    for (x in jsonArray) {\n        listString.add(Promotion(x.asJsonObject.get(\"photo\")\n                .asString.replace(\"files/promos/\", \"\")\n                , \"https://tambomas.pe/${x.asJsonObject.get(\"photo\").asString}\"))\n    }\n\n    return listString}\n}\n</code></pre>\n\n<p>and the way to execute it is as follows</p>\n\n<pre><code>promotionAsyncTask = object : PromotionAsyncTask() {\n                    override fun onPostExecute(result: MutableList&lt;String&gt;?) {\n                        super.onPostExecute(result)\n                        listFile = result!!\n\n                        contentLayout.visibility = View.VISIBLE\n                        progressLottie.visibility = View.GONE\n                    }\n                }\n                promotionAsyncTask.execute(response!!.body()!!.asJsonObject.get(\"promos\").asJsonArray)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "edited": false, "score": 1, "creation_date": 1574012030, "post_id": 51006260, "comment_id": 104069376, "body": "Thanks mate. This works like a charm for people using Kotlin. Saved my day."}], "tags": [], "owner": {"reputation": 8048, "user_id": 3933502, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WOD54.png?s=128&g=1", "display_name": "quemeful", "link": "https://stackoverflow.com/users/3933502/quemeful"}, "is_accepted": false, "score": 19, "last_activity_date": 1529803636, "creation_date": 1529803636, "answer_id": 51006260, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/51006260#51006260", "title": "AsyncTask in Android with Kotlin", "body": "<p>Here is an example that will also allow you to update any UI or progress displayed to the user.</p>\n\n<p><strong>Async Class</strong></p>\n\n<pre><code>class doAsync(val handler: () -&gt; Unit) : AsyncTask&lt;Void, Void, Void&gt;() {\n    init {\n        execute()\n    }\n\n    override fun doInBackground(vararg params: Void?): Void? {\n        handler()\n        return null\n    }\n}\n</code></pre>\n\n<p><strong>Simple Usage</strong></p>\n\n<pre><code>doAsync {\n    // do work here ...\n\n    myView.post({\n        // update UI of myView ...\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 8768273, "user_type": "registered", "profile_image": "https://graph.facebook.com/1938869099463398/picture?type=large", "display_name": "Leandro Castillo Borja", "link": "https://stackoverflow.com/users/8768273/leandro-castillo-borja"}, "is_accepted": false, "score": 3, "last_activity_date": 1536474948, "last_edit_date": 1536474948, "creation_date": 1536473417, "answer_id": 52241834, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/52241834#52241834", "title": "AsyncTask in Android with Kotlin", "body": "<p>I always use this form:</p>\n\n<pre><code>open class LoadingProducts : AsyncTask&lt;Void, Void, String&gt;() {\n\nprivate var name = \"\"\n\n    override fun doInBackground(vararg p0: Void?): String {\n\n        for (i in 1..100000000) {\n            if (i == 100000000) {\n                name = \"Hello World\"\n            }\n        }\n        return name\n    }\n}\n</code></pre>\n\n<p>You invoke it in the following way:</p>\n\n<pre><code>loadingProducts = object : LoadingProducts() {\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n\n            Log.e(\"Result\", result)\n        }\n    }\n\nloadingProducts.execute()\n</code></pre>\n\n<p>I use the open so that I can call the <code>onPostExecute</code> method for the result.</p>\n"}, {"tags": [], "owner": {"reputation": 30786, "user_id": 2252113, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/TTazp.png?s=128&g=1", "display_name": "Hitesh Sahu", "link": "https://stackoverflow.com/users/2252113/hitesh-sahu"}, "is_accepted": false, "score": 4, "last_activity_date": 1551700035, "creation_date": 1551700035, "answer_id": 54982617, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/54982617#54982617", "title": "AsyncTask in Android with Kotlin", "body": "<p>This is how I do in my projects to avoid memory leaks:</p>\n\n<p>I created an <code>abstract base Async Task</code> class for Async loading</p>\n\n<pre><code>import android.os.AsyncTask\n\nabstract class BaseAsyncTask(private val listener: ProgressListener) : AsyncTask&lt;Void, Void, String?&gt;() {\n\n    interface ProgressListener {\n        // callback for start\n        fun onStarted()\n\n        // callback on success\n        fun onCompleted()\n\n        // callback on error\n        fun onError(errorMessage: String?)\n\n    }\n\n    override fun onPreExecute() {\n        listener.onStarted()\n\n    }\n\n    override fun onPostExecute(errorMessage: String?) {\n        super.onPostExecute(errorMessage)\n        if (null != errorMessage) {\n            listener.onError(errorMessage)\n        } else {\n            listener.onCompleted()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>USAGE:</strong></p>\n\n<p>Now every time I have to perform some task in background, I create a new <code>LoaderClass</code> and extend it with my <code>BaseAsyncTask</code> class like this:</p>\n\n<pre><code>class LoadMediaTask(listener: ProgressListener) : BaseAsyncTask(listener) {\n\n    override fun doInBackground(vararg params: Void?): String? {\n\n        return VideoMediaProvider().allVideos\n    }\n}\n</code></pre>\n\n<p>Now you can use your new <code>AsyncLoader</code> class any where in your app. </p>\n\n<p>Below is an example to Show/Hide progress bar &amp; handle Error/ Success scenario:</p>\n\n<pre><code>   LoadMediaTask(object : BaseAsyncTask.ProgressListener {\n            override fun onStarted() {\n                //Show Progrss Bar\n                loadingBar.visibility = View.VISIBLE\n            }\n\n            override fun onCompleted() {\n                // hide progress bar\n                loadingBar.visibility = View.GONE\n                // update UI on SUCCESS\n                setUpUI()\n            }\n\n            override fun onError(errorMessage: String?) {\n                // hide progress bar\n                loadingBar.visibility = View.GONE\n                // Update UI on ERROR\n                Toast.makeText(context, \"No Videos Found\", Toast.LENGTH_SHORT).show()\n            }\n\n        }).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1593, "user_id": 688689, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f8b3028279d9c29a3ee4c5d0f5fe6a23?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Favero", "link": "https://stackoverflow.com/users/688689/diego-favero"}, "is_accepted": false, "score": 3, "last_activity_date": 1576797499, "creation_date": 1576797499, "answer_id": 59418084, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/59418084#59418084", "title": "AsyncTask in Android with Kotlin", "body": "<p>I spent a full day trying to figure how to get back the result produced by an Async Task :  co-routines was my solution !!!</p>\n\n<p>First, create your AsyncTask Object ... Do not forget to use corrects parameter type instead all Any</p>\n\n<pre><code>@SuppressLint(\"StaticFieldLeak\")\nclass AsyncTaskExample(private var activity: MainActivity?) : AsyncTask&lt;Any, Int, Any?&gt;() {\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        // do pre stuff such show progress bar\n    }\n\n    override fun doInBackground(vararg req: Any?): Any? {\n\n        // here comes your code that will produce the desired result\n        return result \n\n    }\n\n    // it will update your progressbar\n    override fun onProgressUpdate(vararg values: Int?) {\n        super.onProgressUpdate(*values)\n\n    }\n\n\n    override fun onPostExecute(result: Any?) {\n        super.onPostExecute(result)\n\n        // do what needed on pos execute, like to hide progress bar\n        return\n    }\n\n}\n</code></pre>\n\n<p>and Then, call it ( in this case, from main activity )</p>\n\n<pre><code>var task = AsyncTaskExample(this)\nvar req = { \"some data object or whatever\" }\n\nGlobalScope.launch( context = Dispatchers.Main){\n\n   task?.execute(req)\n}\n\nGlobalScope.launch( context = Dispatchers.Main){\n\n   println( \"Thats the result produced by doInBackgorund: \" +  task?.get().toString() )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 4, "last_activity_date": 1592943118, "creation_date": 1592943118, "answer_id": 62542986, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin/62542986#62542986", "title": "AsyncTask in Android with Kotlin", "body": "<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\"><code>AsyncTask</code></a> was deprecated in API level 30. To implement similar behavior we can use <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">Kotlin concurrency utilities (coroutines)</a>.</p>\n<p>Create extension function on <code>CoroutineScope</code>:</p>\n<pre><code>fun &lt;R&gt; CoroutineScope.executeAsyncTask(\n        onPreExecute: () -&gt; Unit,\n        doInBackground: () -&gt; R,\n        onPostExecute: (R) -&gt; Unit\n) = launch {\n    onPreExecute()\n    val result = withContext(Dispatchers.IO) { // runs in background thread without blocking the Main Thread\n        doInBackground()\n    }\n    onPostExecute(result)\n}\n</code></pre>\n<p>Now it can be used on any <code>CoroutineScope</code> instance, for example, in <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\"><code>ViewModel</code></a>:</p>\n<pre><code>class MyViewModel : ViewModel() {\n\n      fun someFun() {\n          viewModelScope.executeAsyncTask(onPreExecute = {\n              // ...\n          }, doInBackground = {\n              // ...\n              &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n          }, onPostExecute = {\n              // ... here &quot;it&quot; is a data returned from &quot;doInBackground&quot;\n          })\n      }\n  }\n</code></pre>\n<p>or in <code>Activity</code>/<code>Fragment</code>:</p>\n<pre><code>lifecycleScope.executeAsyncTask(onPreExecute = {\n      // ...\n  }, doInBackground = {\n      // ...\n      &quot;Result&quot; // send data to &quot;onPostExecute&quot;\n  }, onPostExecute = {\n      // ... here &quot;it&quot; is a data returned from &quot;doInBackground&quot;\n  })\n</code></pre>\n<p>To use <code>viewModelScope</code> or <code>lifecycleScope</code> add next line(s) to dependencies of the app's <strong>build.gradle</strong> file:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$LIFECYCLE_VERSION&quot; // for viewModelScope\nimplementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:$LIFECYCLE_VERSION&quot; // for lifecycleScope\n</code></pre>\n"}], "owner": {"reputation": 839, "user_id": 3301452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vg6Rd.jpg?s=128&g=1", "display_name": "Rakesh Gujari", "link": "https://stackoverflow.com/users/3301452/rakesh-gujari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83770, "favorite_count": 12, "accepted_answer_id": 44525947, "answer_count": 10, "score": 46, "last_activity_date": 1592943118, "creation_date": 1497366684, "question_id": 44525388, "link": "https://stackoverflow.com/questions/44525388/asynctask-in-android-with-kotlin", "title": "AsyncTask in Android with Kotlin", "body": "<p>How to make an API call in Android with Kotlin?</p>\n\n<p>I have heard of <a href=\"https://github.com/Kotlin/anko\" rel=\"noreferrer\">Anko</a> . But I want to use methods provided by Kotlin like in Android we have Asynctask for background operations.</p>\n"}, {"tags": ["java", "sockets", "io", "kotlin"], "comments": [{"owner": {"reputation": 7897, "user_id": 5091346, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/MEVJT.jpg?s=128&g=1", "display_name": "Andrii Abramov", "link": "https://stackoverflow.com/users/5091346/andrii-abramov"}, "edited": false, "score": 0, "creation_date": 1497365972, "post_id": 44525033, "comment_id": 76042045, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39500045/in-kotlin-how-do-i-read-the-entire-contents-of-an-inputstream-into-a-string\">In Kotlin, how do I read the entire contents of an InputStream into a String?</a>"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1497372263, "post_id": 44525033, "comment_id": 76046254, "body": "We don&#39;t know what the format of the data is. If you are reading until you receive a zero <i>byte</i>, then read in bytes and check for this zero byte. If you are reading an encoded byte stream for a specific charset then create a proper Reader for that charset and read in and examine individual characters."}, {"owner": {"reputation": 13, "user_id": 7907368, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FAF11s-qYJk/AAAAAAAAAAI/AAAAAAAAAAc/FsIkM1fvpgI/photo.jpg?sz=128", "display_name": "Catlin Cox", "link": "https://stackoverflow.com/users/7907368/catlin-cox"}, "edited": false, "score": 0, "creation_date": 1497379700, "post_id": 44525033, "comment_id": 76050359, "body": "I am reading up to the null character of the stream.  The stream is coming back as UTF-8 from a tomcat server."}, {"owner": {"reputation": 13, "user_id": 7907368, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FAF11s-qYJk/AAAAAAAAAAI/AAAAAAAAAAc/FsIkM1fvpgI/photo.jpg?sz=128", "display_name": "Catlin Cox", "link": "https://stackoverflow.com/users/7907368/catlin-cox"}, "edited": false, "score": 0, "creation_date": 1497380382, "post_id": 44525033, "comment_id": 76050750, "body": "The default charset used by the buffered reader in Kotlin is UTF-8 so not passing the encoding is not what is causing the problem."}], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 1, "last_activity_date": 1497525676, "creation_date": 1497525676, "answer_id": 44566217, "question_id": 44525033, "link": "https://stackoverflow.com/questions/44525033/reading-up-to-null-character-in-kotlin-character-by-character-from-socket-respon/44566217#44566217", "title": "Reading up to null character in Kotlin character by character from socket response", "body": "<p>Here's a more-or-less direct translation of your Java code to Kotlin:</p>\n\n<pre><code>fun readUpToNull(inputStream: InputStream): String {\n    return buildString {\n        while (true) {\n            val ch = inputStream.read().toChar()\n            if (ch == '\\u0000') break\n            append(ch)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7907368, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FAF11s-qYJk/AAAAAAAAAAI/AAAAAAAAAAc/FsIkM1fvpgI/photo.jpg?sz=128", "display_name": "Catlin Cox", "link": "https://stackoverflow.com/users/7907368/catlin-cox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 0, "accepted_answer_id": 44566217, "answer_count": 1, "score": 1, "last_activity_date": 1497525676, "creation_date": 1497365803, "last_edit_date": 1497367322, "question_id": 44525033, "link": "https://stackoverflow.com/questions/44525033/reading-up-to-null-character-in-kotlin-character-by-character-from-socket-respon", "title": "Reading up to null character in Kotlin character by character from socket response", "body": "<p>So say I have a stream being returned from a socket connection.  The stream is being returned terminated with '\\0' but in kotlin I can't seem to get this to work the same way.  The code below is in Java and I am probably just over looking something simple. </p>\n\n<pre><code>public final String readUpToNull(InputStream inputStream) throws IOException {\n    StringBuilder builder = new StringBuilder();\n    char ch;\n    while ((ch = (char) inputStream.read()) != '\\0') {\n        builder.append(ch);\n    }\n    return builder.toString();\n}\n</code></pre>\n\n<p>If anyone knows how to do this while communicating with a socket with the streams in Kotlin. The other post that is on here is covering reading the full string of text.  The socket is returning a longer string delimited by the '\\0'.  So the issue is I need to be able to load up the first string then the second string.</p>\n\n<pre><code>Example\n\nServer : hello\\0 xml stuff all right here\\0\nClient: read hello\nClient: read xml stuff all right here\n</code></pre>\n\n<p>Example code from kotlinlang.org shows this as a solution using the Java to Kotlin converter.  Note that this code does not compile because of the assignment in the while statement.</p>\n\n<pre><code>@Throws(IOException::class)\nfun readUpToNull(inputStream:InputStream):String {\n    val builder = StringBuilder()\n    val ch:Char\n    while ((ch = inputStream.read() as Char) != '\\u0000')\n    {\n      builder.append(ch)\n    }\n    return builder.toString()\n}\n</code></pre>\n\n<p>Here is what I have so far but the this implementation is just hanging up the processes and is locking the unit test for the API call.</p>\n\n<pre><code>fun readUpToNull(stream: InputStream): String {\n    val reader = BufferedReader(InputStreamReader(stream))\n    val builder = StringBuilder()\n    while (true) {\n        val characters = reader.readText().toCharArray()\n        characters.takeWhile { it != '\\u0000' }.forEach { builder.append(it) }\n        break\n    }\n    return builder.toString()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-loadermanager"], "comments": [{"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497366249, "post_id": 44524087, "comment_id": 76042253, "body": "Hey Tynn, I just updated the erroneous class definition"}], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497366223, "post_id": 44524402, "comment_id": 76042237, "body": "Thank you for the prompt reply. After adding the necessary imports, this still would not take. I have posted all the context in the original post."}, {"owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "reply_to_user": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497367680, "post_id": 44524402, "comment_id": 76043197, "body": "@JoshRibeiro Ok, I looked at your updated post, and updated mine as well using LoaderManager v4 this time and yet, the context parameter is still recognized from the interface... What Android Studio and Kotlin plugin version are you using? For me, I&#39;m using AS&#39;s latest stable version (2.3.3) and Kotlin version 1.1.2-5"}, {"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497368122, "post_id": 44524402, "comment_id": 76043531, "body": "I&#39;m in the canary build 3 of AST 3.0, same Kotlin version"}, {"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 1, "creation_date": 1497368187, "post_id": 44524402, "comment_id": 76043582, "body": "Your solution pointed me to the problem. I had imported v4.Fragment instead of just Fragment. That solved it!"}], "tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": true, "score": 0, "last_activity_date": 1497367047, "last_edit_date": 1497367047, "creation_date": 1497364157, "answer_id": 44524402, "question_id": 44524087, "link": "https://stackoverflow.com/questions/44524087/kotlin-cannot-identify-parameters-unless-explicitly-referenced/44524402#44524402", "title": "Kotlin cannot identify parameters unless explicitly referenced", "body": "<p>The context parameter would be simply used from the LoaderCallbacks interface, so you would import its statement and implement it as part of the class signature as follows:</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.LoaderManager\nimport android.support.v4.content.Loader\nimport android.database.Cursor\n\nclass WorkSpaceActivity : Fragment(), LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        loaderManager.initLoader(88, null, this)\n    }\n\n    override fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;Cursor&gt; {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onLoadFinished(loader: Loader&lt;Cursor&gt;?, data: Cursor?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onLoaderReset(loader: Loader&lt;Cursor&gt;?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 44524402, "answer_count": 1, "score": 0, "last_activity_date": 1497367047, "creation_date": 1497363331, "last_edit_date": 1497366074, "question_id": 44524087, "link": "https://stackoverflow.com/questions/44524087/kotlin-cannot-identify-parameters-unless-explicitly-referenced", "title": "Kotlin cannot identify parameters unless explicitly referenced", "body": "<p>There is an issue that is befuddling me when trying to write an Android project in Kotlin.</p>\n\n<p>When I try to call some basic Android library functions, the compiler is asking for very specific references. Here is an example where a LoaderManager is initialized. Take note of the last parameter.</p>\n\n<pre><code>  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        loaderManager.initLoader(LOADER_ROUTINE, arguments, this as android.support.v4.app.LoaderManager.LoaderCallbacks&lt;Cursor&gt;)\n   }\n</code></pre>\n\n<p>Here is the odd part. If I make a Java based Fragment, initialize the loader without the verbosity or compiler error and then convert to Kotlin, there is no error:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    loaderManager.initLoader(88, arguments, this)\n\n}\n</code></pre>\n\n<p>What am I missing. What context does Kotlin need to prevent having to do the workaround of adding the <em>as WhateverSpecificClass</em> from the first example?</p>\n\n<p>Edit: Here is some additional context. The specific error during compile is:</p>\n\n<pre><code>    Type inference failed: \n\nfun &lt;D : Any!&gt; initLoader\n(id: Int,\n args: Bundle!,\n callback: LoaderManager.LoaderCallbacks&lt;D!&gt;!)\n: Loader&lt;D!&gt;!\ncannot be applied Int,\nBundle!,\nEditRoutine\n)\n</code></pre>\n\n<p>The entire wrapping code of the Fragment</p>\n\n<pre><code>    package com.inviscidlabs.ero.Fragments\n\nimport android.app.LoaderManager\nimport android.content.ContentValues\nimport android.content.Context\nimport android.content.CursorLoader\nimport android.content.Loader\nimport android.database.Cursor\nimport android.os.Bundle\nimport android.support.design.widget.TextInputEditText\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport butterknife.BindView\nimport butterknife.ButterKnife\nimport com.inviscidlabs.ero.Data.EroProvider\nimport com.inviscidlabs.ero.Data.Keys\nimport com.inviscidlabs.ero.Data.Routine\nimport com.inviscidlabs.ero.R\n\n\n\n    class EditRoutine : Fragment(),  LoaderManager.LoaderCallbacks&lt;Cursor&gt;{\n\n    //Values\n    private val LOADER_ROUTINE: Int = 9150\n\n    //Vars\n    private var mRoutineID: String? = null\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n\n        //If the routineID passed is a legitimate ID, initialize the loader\n        if(!mRoutineID.equals(Keys.m_NullValue)){\n            // this would not work: loaderManager.initLoader(LOADER_ROUTINE, arguments, this)\n        loaderManager.initLoader(LOADER_ROUTINE, arguments, this as android.support.v4.app.LoaderManager.LoaderCallbacks&lt;Cursor&gt;)\n\n        }\n    }\n\n    //Loader Functions\n\n\n    override fun onCreateLoader(id: Int, args: Bundle): Loader&lt;Cursor&gt;? {\n        if(id==LOADER_ROUTINE){\n\n            val projection = arrayOf(Routine.Table._ID, Routine.Table.KEY_NAME)\n\n            val selection = Routine.Table._ID + \"=?\"\n            val selectionArgs = arrayOf(args.getString(Keys.b_RoutineID))\n\n            val cL = CursorLoader(activity, //Context\n                    EroProvider.CONTENT_URI_WORKOUT, //URI\n                    projection, //The fields we want (must include ID\n                    selection, //WHERE statement for SQL\n                    selectionArgs, null)//Arguments for WHERE\n            return cL\n        }\n        return  null\n    }\n\n    override fun onLoaderReset(loader: Loader&lt;Cursor&gt;?) {\n\n    }\n\n    override fun onLoadFinished(loader: Loader&lt;Cursor&gt;?, data: Cursor?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497362121, "post_id": 44522799, "comment_id": 76039118, "body": "Try <code>List&lt;@JvmSuppressWildcards Pet&gt;</code>. Docs: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/&hellip;</a>"}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1497862899, "post_id": 44522799, "comment_id": 76238158, "body": "I&#39;m facing the same issue. It doesn&#39;t work with Kotlin class"}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 1, "creation_date": 1497863636, "post_id": 44522799, "comment_id": 76238667, "body": "I created this issue <a href=\"https://issuetracker.google.com/issues/62778467\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/62778467</a> cause I couldn&#39;t solve it."}, {"owner": {"reputation": 482, "user_id": 8103245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b623e4ba876e0ba37594ccf4c38e04?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Soro", "link": "https://stackoverflow.com/users/8103245/andrea-soro"}, "edited": false, "score": 0, "creation_date": 1497869809, "post_id": 44522799, "comment_id": 76242798, "body": "cool awesome, our short-term solution was to write the Entities in Java and the rest in Kotlin which still works. Let&#39;s hope google fixes it anytime soon"}, {"owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "edited": false, "score": 0, "creation_date": 1497871631, "post_id": 44522799, "comment_id": 76244131, "body": "Yeah @AndreaSoro"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1500151024, "post_id": 44522799, "comment_id": 77215909, "body": "Are you still having this issue? I am experiencing the same thing in Kotlin."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1500157358, "post_id": 44522799, "comment_id": 77217254, "body": "I have an example application of this on GitHub - Look at the AccountTransactions.java class, if you convert it to Kotlin the integration tests no longer pass - <a href=\"https://github.com/adammc331/roomtutorial\" rel=\"nofollow noreferrer\">github.com/adammc331/roomtutorial</a>"}, {"owner": {"reputation": 1139, "user_id": 388065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0d5510c3c90ef3a040ad3bbd2e38859?s=128&d=identicon&r=PG", "display_name": "Makotosan", "link": "https://stackoverflow.com/users/388065/makotosan"}, "edited": false, "score": 0, "creation_date": 1527004519, "post_id": 44522799, "comment_id": 87957321, "body": "Are you using the Kotlin Annotation Processor in your build.gradle file?  <code>kapt &quot;android.arch.persistence.room:compiler:$room_version&quot;</code>"}, {"owner": {"reputation": 579, "user_id": 5831373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5d3J.jpg?s=128&g=1", "display_name": "AlexS", "link": "https://stackoverflow.com/users/5831373/alexs"}, "edited": false, "score": 0, "creation_date": 1617255492, "post_id": 44522799, "comment_id": 118254721, "body": "Do you solve this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 2826056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3OXHD.jpg?s=128&g=1", "display_name": "straider", "link": "https://stackoverflow.com/users/2826056/straider"}, "is_accepted": false, "score": 0, "last_activity_date": 1502568325, "creation_date": 1502568325, "answer_id": 45654446, "question_id": 44522799, "link": "https://stackoverflow.com/questions/44522799/room-persistence-relation-working-in-java-but-not-in-kolin/45654446#45654446", "title": "Room Persistence @Relation working in Java but not in Kolin", "body": "<p>Try to update room to 1.0.0-alpha8 and add List&lt;@JvmSuppressWildcards Pet>.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 6779428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7iHZep3Vy2M/AAAAAAAAAAI/AAAAAAAAAKE/EdwihPWotOo/photo.jpg?sz=128", "display_name": "Aniket Bhoite", "link": "https://stackoverflow.com/users/6779428/aniket-bhoite"}, "is_accepted": false, "score": 0, "last_activity_date": 1521365398, "creation_date": 1521365398, "answer_id": 49346359, "question_id": 44522799, "link": "https://stackoverflow.com/questions/44522799/room-persistence-relation-working-in-java-but-not-in-kolin/49346359#49346359", "title": "Room Persistence @Relation working in Java but not in Kolin", "body": "<p>try changing your query @Query(\"SELECT * FROM pet WHERE id IN (:p0)\")</p>\n\n<p>to \n    <code>@Query(\"SELECT * FROM pet WHERE id IN (:petIds)\")</code></p>\n\n<p>There was an issue between kotlin and Room lib, Kotlin wasn't preserving the actual parameter names of the arguments properly, so (:p0)/(:arg0) was work around that, its resolved now.</p>\n\n<p>I hope this will resolve the issue</p>\n"}], "owner": {"reputation": 482, "user_id": 8103245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6b623e4ba876e0ba37594ccf4c38e04?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Soro", "link": "https://stackoverflow.com/users/8103245/andrea-soro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1612, "favorite_count": 2, "answer_count": 2, "score": 11, "last_activity_date": 1521365398, "creation_date": 1497360086, "last_edit_date": 1500157255, "question_id": 44522799, "link": "https://stackoverflow.com/questions/44522799/room-persistence-relation-working-in-java-but-not-in-kolin", "title": "Room Persistence @Relation working in Java but not in Kolin", "body": "<p>Base on my previous question (<a href=\"https://stackoverflow.com/questions/44330452/android-persistence-room-cannot-figure-out-how-to-read-this-field-from-a-curso\">Android Persistence room: &quot;Cannot figure out how to read this field from a cursor&quot;</a>) which I got to work thanks the feedback, I implemented the same example in Kolin (see code below). I had to make some minor changes like the parameters that are now passed to a the query which have to be passed as \"p0\", \"p1\" etc. \nNow in Kotlin I get the following error related to the UserWithPets class: </p>\n\n<p><strong>error: Cannot figure out how to read this field from a cursor.\ne:     private java.util.List pets;</strong>                                                                                 </p>\n\n<pre><code>@Dao\ninterface UserDAO {   \n\n    @get:Query(\"SELECT * FROM user\")\n    val all: LiveData&lt;List&lt;User&gt;&gt;\n\n    @Insert\n    fun insertUser(user: User) //single one\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertUsers(vararg users: User)\n\n    @Query(\"SELECT * FROM User\")\n    fun loadUsersWithPets(): LiveData&lt;List&lt;UserWithPets&gt;&gt;\n\n}\n\n\n@Entity\nclass Pet( var name: String?,  var ownerId: Int,@PrimaryKey(autoGenerate = true)var id:Int)\n\n\n\n@Dao\ninterface PetDAO {\n    @Query(\"SELECT * FROM pet\")\n    val all: List&lt;Pet&gt;\n\n    @Query(\"SELECT * FROM pet WHERE id IN (:p0)\")\n    fun loadAllByIds(petIds: IntArray): List&lt;Pet&gt;\n\n\n    @Insert\n    fun insert(pet: Pet)\n\n    @Insert\n    fun insertAll(vararg pets: Pet)\n\n    @Delete\n    fun delete(user: Pet)\n}\n\n\nclass UserWithPets {\n    @Embedded\n    var user: User? = null\n\n    @Relation(parentColumn = \"id\", entityColumn = \"ownerId\", entity = Pet::class)\n    var pets: List&lt;Pet&gt;? = null\n}\n</code></pre>\n\n<p>It appears that if I write the <code>UserWithPets</code> class in Java it will work fine, but fails when it is written in Kotlin. Any ideas what is wrong? Is this an annotation processing issue?</p>\n"}, {"tags": ["java", "open-source", "kotlin", "source-code-protection", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "edited": false, "score": 0, "creation_date": 1497362445, "post_id": 44522697, "comment_id": 76039374, "body": "when you write this <code>&quot;abc&quot;.length</code> and in return you want lenght of string?"}, {"owner": {"reputation": 996, "user_id": 5156646, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d51f0ac02939a9cf8d85df751e01d21c?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Green", "link": "https://stackoverflow.com/users/5156646/jim-green"}, "reply_to_user": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "edited": false, "score": 0, "creation_date": 1497403805, "post_id": 44522697, "comment_id": 76059289, "body": "yeah, I can get the correct result. I just want to know where to implement in kotlin source code . I have added the String.kt above."}], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 996, "user_id": 5156646, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d51f0ac02939a9cf8d85df751e01d21c?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Green", "link": "https://stackoverflow.com/users/5156646/jim-green"}, "edited": false, "score": 0, "creation_date": 1497534576, "post_id": 44524092, "comment_id": 76127238, "body": "There are no &#39;implementations&#39;, when those functions are called the compiler does some custom code generation to produce the result. Some of the mapped functions can be found at <a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/backend/src/org/jetbrains/kotlin/codegen/intrinsics/IntrinsicMethods.java\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/compiler/backend/src&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 13, "last_activity_date": 1497363341, "creation_date": 1497363341, "answer_id": 44524092, "question_id": 44522697, "link": "https://stackoverflow.com/questions/44522697/i-cant-understand-source-code-implementation-of-string-kt-in-kotlin/44524092#44524092", "title": "I can&#39;t understand source code implementation of string.kt in kotlin", "body": "<p>The string functions are examples of what Kotlin considers <code>Intrinsic</code> functions. They are defined based on the platform they are running on and you won't be able to find an implementation of them in the source code.</p>\n\n<p>For the JVM they will be directly mapped to the corresponding native <code>java.lang.String</code> methods. This ensures there is no runtime overhead and leverages the optimizations done in the java standard library.</p>\n"}], "owner": {"reputation": 996, "user_id": 5156646, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/d51f0ac02939a9cf8d85df751e01d21c?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Green", "link": "https://stackoverflow.com/users/5156646/jim-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1497363341, "creation_date": 1497359841, "question_id": 44522697, "link": "https://stackoverflow.com/questions/44522697/i-cant-understand-source-code-implementation-of-string-kt-in-kotlin", "title": "I can&#39;t understand source code implementation of string.kt in kotlin", "body": "<p>In kotlin source code, I can't understand how to implement of length of String.kt , it is  as following:</p>\n\n<pre><code>package kotlin                                                  \npublic class String : Comparable&lt;String&gt;, CharSequence {\ncompanion object {}\n\n/**\n * Returns a string obtained by concatenating this string with the string representation of the given [other] object.\n */\npublic operator fun plus(other: Any?): String\n\npublic override val length: Int\n\npublic override fun get(index: Int): Char\n\npublic override fun subSequence(startIndex: Int, endIndex: Int): CharSequence\n\npublic override fun compareTo(other: String): Int}\n</code></pre>\n\n<p><code>var len:Int = \"abc\".length; // len = 3 where to run the length??</code></p>\n\n<p>where to implement the length function?</p>\n"}, {"tags": ["java", "android", "sonarqube", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "edited": false, "score": 2, "creation_date": 1497361750, "post_id": 44523257, "comment_id": 76038801, "body": "Nice, thank you a lot. - I would love to see this feature a bit more intuitive or better discoverable in the documentation."}], "tags": [], "owner": {"reputation": 20794, "user_id": 2662707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ruzzB.jpg?s=128&g=1", "display_name": "G. Ann - SonarSource Team", "link": "https://stackoverflow.com/users/2662707/g-ann-sonarsource-team"}, "is_accepted": true, "score": 17, "last_activity_date": 1503566067, "last_edit_date": 1503566067, "creation_date": 1497361215, "answer_id": 44523257, "question_id": 44521481, "link": "https://stackoverflow.com/questions/44521481/sonarqube-how-to-apply-multiple-quality-profiles-to-one-project/44523257#44523257", "title": "SonarQube: How to apply multiple quality profiles to one project?", "body": "<p>You apply both profiles by creating a third profile that contains all the rules in each of your source profiles.</p>\n\n<p>The easiest way to accomplish that is to</p>\n\n<ol>\n<li>Go to Quality Profiles and create a new profile</li>\n<li>Now in the list of profiles, click on the <strong>rule count</strong> for one of your source profiles. This takes you to the list of rules active in that profile</li>\n<li>Use the <strong>Bulk Change > Activate In...</strong> option to turn those rules on in your new profile</li>\n<li>Return to step 2 with the next source profile in your list.</li>\n</ol>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4666, "favorite_count": 0, "accepted_answer_id": 44523257, "answer_count": 1, "score": 5, "last_activity_date": 1503566067, "creation_date": 1497356720, "question_id": 44521481, "link": "https://stackoverflow.com/questions/44521481/sonarqube-how-to-apply-multiple-quality-profiles-to-one-project", "title": "SonarQube: How to apply multiple quality profiles to one project?", "body": "<p>I would like to use <a href=\"https://www.sonarqube.org\" rel=\"noreferrer\">SonarQube</a> 6.3.1 to analyze the Java and Kotlin code of an <strong>Android</strong> project. Therefore, I installed the <em>Android Lint</em> plugin besides the preinstalled <em>SonarJava</em> aka. <em>Sonar way</em> plugin. Both show up in the <em>Java</em> language dropdown in the <em>Administration</em> section of the project as shown in the screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RkEzZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RkEzZ.png\" alt=\"Project / Administration\"></a></p>\n\n<ul>\n<li>How can I apply <strong>multiple</strong> profiles at the same time?</li>\n<li>Where can I find other profiles suitable for Java/Kotlin/Android projects?</li>\n</ul>\n\n<hr>\n\n<h1>Related posts</h1>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32709054/sonarqube-use-multiple-custom-quality-profiles-for-a-single-multilanguage-proje\">Sonarqube: use multiple custom quality profiles for a single multilanguage project...?</a></li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1497356644, "post_id": 44521368, "comment_id": 76034552, "body": "I think what OP is trying to do is pass a <code>Class&lt;T2&gt;</code> instance as second parameter. Think about, what sense does it make to pass an instance of the <code>ViewModel</code> if you want to retrieve a <code>ViewModel</code>?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497357276, "post_id": 44521368, "comment_id": 76035046, "body": "Fixed up my answer, I tried to keep it in the spirit of the original code. @nhaarman has the more idiomatic solution in the other answer though :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1497357210, "last_edit_date": 1497357210, "creation_date": 1497356433, "answer_id": 44521368, "question_id": 44521098, "link": "https://stackoverflow.com/questions/44521098/move-viewmodel-definition-into-package-level-method/44521368#44521368", "title": "Move ViewModel definition into package-level method", "body": "<p>This should do the trick:</p>\n\n<pre><code>fun &lt;T1: Fragment, T2: Any&gt; T1.getViewModel(targetViewModelClass: KClass&lt;T2&gt;): Lazy&lt;T2&gt; {\n    return ViewModelProviders.of(this).get(targetViewModelClass.java)\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>class FragmentA : Fragment() {\n\n    fun foo() {\n        getViewModel(SomeViewModel::class)\n    }\n\n}\n</code></pre>\n\n<p>The first problem was that <code>T1</code> could be any type in your function, but the <code>of</code> method only takes a <code>Fragment</code> or a <code>FragmentActivity</code>. Using <code>T1: Fragment</code> confines <code>T1</code> to be a <code>Fragment</code> (you could also make this <code>FragmentActivity</code>, of course).</p>\n\n<p>The second problem seems to be that <code>targetViewModelClass</code> might be null, you can take care of this by restricting <code>T2</code> to be a subtype of <code>Any</code>, which is the base class of all non-nullable types in Kotlin. This will guarantee that <code>null</code> can't be passed in as that parameter.</p>\n\n<p>Finally, as per @Kirill Rakhman's advice, I've adjusted the second parameter so that the function can be called with a <code>KClass</code> instance.</p>\n\n<p>Here are the official docs about <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">generic constraints</a> and <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1497356617, "post_id": 44521380, "comment_id": 76034530, "body": "<code>T</code> needs to extend <code>ViewModel</code>."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497357504, "post_id": 44521380, "comment_id": 76035243, "body": "I like this solution. One thing to change <code>return ViewModelProviders.of(this).get(T::class.java)</code> should be put inside <code>lazy { ... }</code>."}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497358262, "post_id": 44521380, "comment_id": 76035853, "body": "@Oleg Great! Perhaps you could edit the answer with what you mean exactly."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497359116, "post_id": 44521380, "comment_id": 76036594, "body": "I mean, that if a method returns <code>Lazy&lt;T&gt;</code> the return statement has to be <code>return lazy { foo }</code>."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 4, "last_activity_date": 1497360189, "last_edit_date": 1497360189, "creation_date": 1497356461, "answer_id": 44521380, "question_id": 44521098, "link": "https://stackoverflow.com/questions/44521098/move-viewmodel-definition-into-package-level-method/44521380#44521380", "title": "Move ViewModel definition into package-level method", "body": "<p>Your <code>T1</code> parameter must be of type <code>Fragment</code> or <code>FragmentActivity</code>. Currently it is none.<br>\nAlso, to call <code>::class.java</code>, the type must be non-nullable. Currently it is <code>T2: Any?</code>. Furthermore, <code>T2</code> must extend <code>ViewModel</code>.<br>\nFinally, for an easy API you may use a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type</a>.</p>\n\n<p>You might want to write:</p>\n\n<pre><code>inline fun &lt;reified T: ViewModel&gt; Fragment.getViewModel(): Lazy&lt;T&gt; {\n  return lazy { ViewModelProviders.of(this).get(T::class.java) }\n}\n</code></pre>\n\n<p>You can now use this as:</p>\n\n<pre><code>class MyFragment : Fragment {\n\n  fun foo() {\n    val viewModelLazy = getViewModel&lt;MyViewModel&gt;()\n  }\n}\n</code></pre>\n\n<p>You can do the same for <code>FragmentActivity</code>.</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 44521380, "answer_count": 2, "score": 0, "last_activity_date": 1497360189, "creation_date": 1497355707, "question_id": 44521098, "link": "https://stackoverflow.com/questions/44521098/move-viewmodel-definition-into-package-level-method", "title": "Move ViewModel definition into package-level method", "body": "<p>I would like to move:</p>\n\n<pre><code>ViewModelProviders.of(this).get(FooViewModel::class.java)\n</code></pre>\n\n<p>into a package-level method. Something like this:</p>\n\n<pre><code>fun &lt;T1, T2&gt; T1.getViewModel(target: T1, targetViewModelClass: T2): Lazy&lt;T2&gt; {\n    return ViewModelProviders.of(target).get(targetViewModelClass::class.java)\n}\n</code></pre>\n\n<p>However this gives me 2 errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/i3vfX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3vfX.png\" alt=\"enter image description here\"></a></p>\n\n<p>and </p>\n\n<p><a href=\"https://i.stack.imgur.com/qVXfm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVXfm.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>Question:</strong> is there any way to complete this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1497353194, "post_id": 44520173, "comment_id": 76032024, "body": "Maybe this helps <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/visibility-modifiers.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d958c1bd4d34fc8851797919e9a2a83b?s=128&d=identicon&r=PG&f=1", "display_name": "flipflop", "link": "https://stackoverflow.com/users/4312406/flipflop"}, "is_accepted": false, "score": 2, "last_activity_date": 1497353755, "creation_date": 1497353755, "answer_id": 44520412, "question_id": 44520173, "link": "https://stackoverflow.com/questions/44520173/storage-classes-in-kotlin-programming-language/44520412#44520412", "title": "Storage classes in Kotlin programming language", "body": "<p>Since Kotlin runs on the JVM, my guess would be that most things valid for java would also apply to Kotlin.</p>\n\n<p>check the comments and replies here: <a href=\"https://stackoverflow.com/questions/13624462/where-does-class-object-reference-variable-get-stored-in-java-in-heap-or-stac\">related question on stackoverflow</a></p>\n\n<p>roughly speaking: everything goes onto the heap, variables holding references to heap objects might be on the stack. And then, things like <strong>register</strong> are afaik not even possible in JVM languages (at least Java/Kotlin?). So the answer (assuming i got your question right) might be: Not available, not applicable, the JVM will take care of everything.</p>\n"}], "owner": {"reputation": 59, "user_id": 4217227, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-0wKT8O5swQ8/AAAAAAAAAAI/AAAAAAAAADQ/tayA48cdK3c/photo.jpg?sz=128", "display_name": "Rajeev Kumar", "link": "https://stackoverflow.com/users/4217227/rajeev-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497353755, "creation_date": 1497353090, "question_id": 44520173, "link": "https://stackoverflow.com/questions/44520173/storage-classes-in-kotlin-programming-language", "title": "Storage classes in Kotlin programming language", "body": "<p>I went through many sites, but, could not find the answer to this question. </p>\n\n<p>In C, The storage classes are auto, extern, static, register etc. What are the storage classes in Kotlin Programming language? </p>\n\n<p>Any link or tutorial would be appreciable. Thank you. </p>\n"}, {"tags": ["android", "kotlin", "robolectric", "firebase-job-dispatcher"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1497900132, "post_id": 44518385, "comment_id": 76262654, "body": "You can improve your question to be useful to other readers if you edit your code to show the enclosing class and method for the Java code."}], "answers": [{"comments": [{"owner": {"reputation": 6321, "user_id": 2869772, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/CHDTW.jpg?s=128&g=1", "display_name": "Jitesh Upadhyay", "link": "https://stackoverflow.com/users/2869772/jitesh-upadhyay"}, "edited": false, "score": 0, "creation_date": 1505725317, "post_id": 44638273, "comment_id": 79513358, "body": "probably the code may go through onResume() which will be better isn&#39;t it?"}], "tags": [], "owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "is_accepted": false, "score": 2, "last_activity_date": 1497899737, "creation_date": 1497899737, "answer_id": 44638273, "question_id": 44518385, "link": "https://stackoverflow.com/questions/44518385/robolectric-addresolveinfoforintent-not-working/44638273#44638273", "title": "Robolectric addResolveInfoForIntent not working", "body": "<p>Answering my own question...the calling code needs to be in <code>onCreate</code> and <em>not</em> <code>beforeTest</code> - then it works just fine!</p>\n"}], "owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1497899737, "creation_date": 1497348424, "question_id": 44518385, "link": "https://stackoverflow.com/questions/44518385/robolectric-addresolveinfoforintent-not-working", "title": "Robolectric addResolveInfoForIntent not working", "body": "<p>With robolectric 3.3, I am trying to get the package manager to return correct values for queryIntentServices so that the Firebase Job Dispatcher works.</p>\n\n<p>In my AndroidManifest.xml I have:</p>\n\n<pre><code>&lt;service\n    android:name=\"com.jongla.soundmash.service.SoundMashService\"\n    android:exported=\"false\"&gt;\n    &lt;intent-filter&gt;\n      &lt;action android:name=\"com.firebase.jobdispatcher.ACTION_EXECUTE\"/&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p>And in my test application class that Robolectric invokes I have put:</p>\n\n<pre><code>val executeIntent = Intent(\"com.firebase.jobdispatcher.ACTION_EXECUTE\")\nexecuteIntent.setClassName(RuntimeEnvironment.application, \"com.jongla.soundmash.service.SoundMashService\")\nShadows.shadowOf(packageManager)\n  .addResolveInfoForIntent(executeIntent, ResolveInfo().apply { serviceInfo = ServiceInfo().apply { enabled = true } })\n</code></pre>\n\n<p>However, Firebase is still throwing this error:</p>\n\n<pre><code>com.firebase.jobdispatcher.ValidationEnforcer$ValidationException: JobParameters is invalid: Couldn't find a registered service with the name\ncom.jongla.soundmash.service.SoundMashService. Is it declared in the manifest with the right intent-filter?\n</code></pre>\n\n<p>The relevant code in the Firebase project is below.  It looks really straightforward, so I don't think it's a bug on their side.</p>\n\n<pre><code>PackageManager pm = context.getPackageManager();\nif (pm == null) {\n    return getMutableSingletonList(\"PackageManager is null, can't validate service\");\n}\n\nfinal String msg = \"Couldn't find a registered service with the name \" + service\n    + \". Is it declared in the manifest with the right intent-filter?\";\n\nIntent executeIntent = new Intent(JobService.ACTION_EXECUTE);\nexecuteIntent.setClassName(context, service);\nList&lt;ResolveInfo&gt; intentServices = pm.queryIntentServices(executeIntent, 0);\nif (intentServices == null || intentServices.isEmpty()) {\n    return getMutableSingletonList(msg);\n}\n\nfor (ResolveInfo info : intentServices) {\n    if (info.serviceInfo != null &amp;&amp; info.serviceInfo.enabled) {\n// found a match!\nreturn null;\n    }\n}\n</code></pre>\n\n<p>Am I doing something wrong w/ my usage of Robolectric?</p>\n"}, {"tags": ["list", "filter", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1497348887, "post_id": 44518363, "comment_id": 76029051, "body": "Gold!! Thanks mate."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1497348373, "creation_date": 1497348373, "answer_id": 44518363, "question_id": 44518251, "link": "https://stackoverflow.com/questions/44518251/list-filter-within-the-outer-range-kotlin/44518363#44518363", "title": "List filter within the outer range - KOTLIN", "body": "<p><code>4..2</code> is basically an empty range, because it translates to <code>it &gt;= 4 &amp;&amp; it &lt;= 2</code>. To create a range that's decrementing, you have to use <code>downTo</code>:</p>\n\n<pre><code>args.filter { it in 4 downTo 2 }\n</code></pre>\n\n<p><code>reversed</code> can also be an alternative in some cases:</p>\n\n<pre><code>args.filter { it in (2..4).reversed() }\n</code></pre>\n\n<p>This specific problem is also the first example in Dan Lew's recent <a href=\"http://blog.danlew.net/2017/06/05/musings-on-kotlin-ranges/\" rel=\"nofollow noreferrer\">blog post</a> that covers ranges nicely.</p>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 1, "last_activity_date": 1497348703, "creation_date": 1497348703, "answer_id": 44518501, "question_id": 44518251, "link": "https://stackoverflow.com/questions/44518251/list-filter-within-the-outer-range-kotlin/44518501#44518501", "title": "List filter within the outer range - KOTLIN", "body": "<p>Use <code>downTo</code>. read <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">Ranges</a> for detailed description.</p>\n\n<p>Range (<code>x..y</code>), here x is starting index and y is last and it goes increamental way. So <code>1..10</code> range have 10 elements but <code>10..1</code> looks from 10 on-wards so it is an empty range. You need to use <code>downTo</code> operator.</p>\n\n<p>Change your code like following:</p>\n\n<pre><code>fun dropper(args: ArrayList&lt;Int&gt;): List&lt;Int&gt; {\n    return args.filter { it in 4 downTo 2 }  // it &lt;= 2 &amp;&amp; it &gt;= 4\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1497348934, "post_id": 44518512, "comment_id": 76029094, "body": "Think i need to dig deeper on the kotlinDocs, Thanks BTW :)"}], "tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": 1, "last_activity_date": 1497348728, "creation_date": 1497348728, "answer_id": 44518512, "question_id": 44518251, "link": "https://stackoverflow.com/questions/44518251/list-filter-within-the-outer-range-kotlin/44518512#44518512", "title": "List filter within the outer range - KOTLIN", "body": "<p>Hello you need to use operator <code>downTo</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n   var list = arrayListOf&lt;Int&gt;(1, 2, 3, 4, 5, 6, 7)\n   println(dropper(list)) // [2, 3, 4]\n}\n\nfun dropper(args: ArrayList&lt;Int&gt;): List&lt;Int&gt; {\n   return args.filter { it in  4 downTo 2 }  // [2, 3, 4]\n}\n</code></pre>\n\n<p>Here is fully described how to use ranges. - <a href=\"https://kotlinlang.org/docs/reference/ranges.html#ranges\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/ranges.html#ranges</a></p>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497601696, "post_id": 44541593, "comment_id": 76156593, "body": "This just returns the original list (well, a copy of it), since no value can be in the <code>4..2</code> range, and therefore this filter condition is always true. (Or in other words <code>it !in 4..2</code> is true for any <code>it</code> value, because nothing is in <code>4..2</code>). Also, the operarator you&#39;re making use of here is actually <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#in\" rel=\"nofollow noreferrer\"><code>!in</code></a>."}], "tags": [], "owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "is_accepted": true, "score": 1, "last_activity_date": 1497608602, "last_edit_date": 1497608602, "creation_date": 1497434650, "answer_id": 44541593, "question_id": 44518251, "link": "https://stackoverflow.com/questions/44518251/list-filter-within-the-outer-range-kotlin/44541593#44541593", "title": "List filter within the outer range - KOTLIN", "body": "<p>Other than these answers, I also found out that <code>!</code> operation works as well </p>\n\n<pre><code>fun dropper(args: ArrayList&lt;Int&gt;): List&lt;Int&gt; {\n    return args.filter { it !in 2..4 }  // it &lt;= 2 &amp;&amp; it &gt;= 4\n}\n</code></pre>\n"}], "owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 3, "accepted_answer_id": 44541593, "answer_count": 4, "score": 2, "last_activity_date": 1508877171, "creation_date": 1497348095, "last_edit_date": 1508877171, "question_id": 44518251, "link": "https://stackoverflow.com/questions/44518251/list-filter-within-the-outer-range-kotlin", "title": "List filter within the outer range - KOTLIN", "body": "<p>I have just started learning kotlin, and I stumbled upon this small issue. I have a list of Objects, and am filtering the list within a specified range. Am able to get the objects with in the range, but when I changed the range to outer bound, am getting an empty array,</p>\n\n<p>So to keep the question simple, lets say am having a list of integers like </p>\n\n<pre><code>   original list [1, 2, 3, 4, 5, 6, 7]\n</code></pre>\n\n<p>and am having a dropper function, which filters out the elements</p>\n\n<blockquote>\n  <p>working condition</p>\n</blockquote>\n\n<pre><code> fun dropper(args: ArrayList&lt;Int&gt;): List&lt;Int&gt; {\n     return args.filter { it in 2..6 }  // it &gt;= 2 &amp;&amp; it &lt;= 6\n }\n</code></pre>\n\n<p>output is received as </p>\n\n<pre><code> [2, 3, 4, 5, 6]\n</code></pre>\n\n<p>but when I change the range to </p>\n\n<pre><code>fun dropper(args: ArrayList&lt;Int&gt;): List&lt;Int&gt; {\n    return args.filter { it in 4..2 }  // it &lt;= 2 &amp;&amp; it &gt;= 4\n    // it in 4..2 , was suggested by the IDE\n}\n</code></pre>\n\n<p>getting output as an empty list.</p>\n\n<p>Am pretty much sure that the list value is not clearing, because after this function is called am passing the list to an other operation which gives the intended result.</p>\n"}, {"tags": ["android", "layout", "kotlin", "anko"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497347856, "post_id": 44517380, "comment_id": 76028340, "body": "<code>videoView { layoutParams = OuterLayout.LayoutParams(matchParent, matchParent) ... </code>, where <code>OuterLayout</code> is a class of the layout, which is around this <code>VideoView</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "edited": false, "score": 0, "creation_date": 1497346534, "post_id": 44517597, "comment_id": 76027324, "body": "Both of those give me an <code>Unresolved references: lparams</code> error."}, {"owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "edited": false, "score": 0, "creation_date": 1497409643, "post_id": 44517597, "comment_id": 76060704, "body": "Ah, I see, it was a problem with VideoView specifically which also happens on the XML files. I&#39;ll accept this."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1497347261, "last_edit_date": 1497347261, "creation_date": 1497346406, "answer_id": 44517597, "question_id": 44517380, "link": "https://stackoverflow.com/questions/44517380/setting-height-and-width-of-an-anko-view-to-match-parent/44517597#44517597", "title": "Setting height and width of an Anko view to match_parent", "body": "<p>You have to use <code>lparams</code> to set layout parameters, like this (you can omit the explicit parameter names if you want to):</p>\n\n<pre><code>videoView {\n    id = ID_VIDEO\n}.lparams (width = matchParent, height = matchParent)\n</code></pre>\n\n<p>Alternatively, you can do it like this:</p>\n\n<pre><code>videoView {\n    id = ID_VIDEO\n}.lparams {\n    height = matchParent\n    width = matchParent\n}\n</code></pre>\n\n<p>The related wiki section for Anko can be found <a href=\"https://github.com/Kotlin/anko/wiki/Anko-Layouts#layouts-and-layoutparams\" rel=\"noreferrer\">here</a>.</p>\n\n<hr>\n\n<p>Note that you have to have a <code>ViewGroup</code> around your <code>VideoView</code> as the root of the <code>Activity</code>'s layout for it to have layout parameters available, because it gets different ones depending on whether it's in a <code>FrameLayout</code>, <code>LinearLayout</code>, or <code>RelativeLayout</code>.</p>\n\n<p>For example, with a simple <code>frameLayout</code>, your code would look like this:</p>\n\n<pre><code>override fun createView(ui: AnkoContext&lt;VideoActivity&gt;) = with(ui) {\n    frameLayout {\n        videoView {\n            id = ID_VIDEO\n        }.lparams(matchParent, matchParent)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5267, "user_id": 1402526, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ac51b7f80f4b662e824156306d5fff9c?s=128&d=identicon&r=PG", "display_name": "Muz", "link": "https://stackoverflow.com/users/1402526/muz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2231, "favorite_count": 0, "accepted_answer_id": 44517597, "answer_count": 1, "score": 4, "last_activity_date": 1497347261, "creation_date": 1497345833, "last_edit_date": 1497346238, "question_id": 44517380, "link": "https://stackoverflow.com/questions/44517380/setting-height-and-width-of-an-anko-view-to-match-parent", "title": "Setting height and width of an Anko view to match_parent", "body": "<p>I would like to set the height and width of an video view to <code>match_parent</code>. My code looks something like the following. It works without the <code>height</code> and <code>width</code> attributes, but doing it as below give me a <code>val cannot be reassigned</code> error.</p>\n\n<pre><code>class VideoActivityUI : AnkoComponent&lt;VideoActivity&gt; {\n    companion object {\n        val ID_VIDEO = 11\n    }\n\n    override fun createView(ui: AnkoContext&lt;VideoActivity&gt;) = with(ui) {\n        videoView{\n            id = ID_VIDEO\n            height = matchParent\n            width = matchParent\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["initialization", "kotlin", "destructuring"], "answers": [{"comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1497343321, "post_id": 44516013, "comment_id": 76025009, "body": "Here&#39;s a feature request for destructuring assignments: <a href=\"https://youtrack.jetbrains.com/issue/KT-11362\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11362</a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1497555851, "last_edit_date": 1497555851, "creation_date": 1497342183, "answer_id": 44516013, "question_id": 44515920, "link": "https://stackoverflow.com/questions/44515920/initialization-of-val-by-destructuring-in-kotlin/44516013#44516013", "title": "Initialization of val by destructuring in Kotlin", "body": "<p>This feature is called a <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations\" rel=\"nofollow noreferrer\">destructuring declaration</a>, and that's what it is, a <strong>declaration</strong> of new variables with immediate assignment to them. It's not just that variables declared with <code>val</code> can't be used in later destructuring, no variables declared earlier can. For example, the following doesn't work either:</p>\n\n<pre><code>var x = 0\nvar y = 0\n(x, y) = Pair(1, 2)\n</code></pre>\n\n<p>It's worth noting though that the feature you're looking for (destructuring assignments) was one of the possible future features for Kotlin out of the 20 cards that were available to be voted on at the Kotlin 1.1 event. While the online survey is no longer up, you can see the description of the feature on <a href=\"https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2017/04/collage_2.png\" rel=\"nofollow noreferrer\">this image</a>, it's card number 15. It's a bit hard to make out, so here's what's on it:</p>\n\n<hr>\n\n<h1>15 Destructuring assignments</h1>\n\n<p>Kotlin already has destructuring declarations:</p>\n\n<pre><code>val (name, address) = findPerson(...)\n</code></pre>\n\n<p>Some users request destructuring assignments,\nie. assign to multiple previously declared <code>var</code>'s:</p>\n\n<pre><code>var name = ...\n...\nvar address = ...\n...\n(name, address) = findPerson(...)\n</code></pre>\n\n<p>Do you need this feature?</p>\n\n<hr>\n\n<p>Update: <a href=\"https://drive.google.com/file/d/0BwAovUlww0CmVmNQTXd4TTdKYUU/view\" rel=\"nofollow noreferrer\">here's an official doc with the proposed features</a>, and <a href=\"https://blog.jetbrains.com/kotlin/2017/06/kotlin-future-features-survey-results/\" rel=\"nofollow noreferrer\">here's the survey results</a>. </p>\n"}], "owner": {"reputation": 107, "user_id": 8131212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b0a0a7f734cbd2165bbe6bbc6a8ebd?s=128&d=identicon&r=PG&f=1", "display_name": "jbrachtl", "link": "https://stackoverflow.com/users/8131212/jbrachtl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 44516013, "answer_count": 1, "score": 2, "last_activity_date": 1497555851, "creation_date": 1497341889, "question_id": 44515920, "link": "https://stackoverflow.com/questions/44515920/initialization-of-val-by-destructuring-in-kotlin", "title": "Initialization of val by destructuring in Kotlin", "body": "<p>Initially I wanted to achieve</p>\n\n<pre><code>class NotationDiceRoll(notation: String) {\n    val rolls: Int\n    val sides: Int\n\n    init {\n        parseNotation(notation)\n    }\n\n    private fun parseNotation(notation: String) {\n        rolls = 1\n        sides = 4\n    }\n}\n</code></pre>\n\n<p>But Kotlin complains that \"Val cannot be reassigned\".</p>\n\n<p>It seems that the only place where the vals can be assigned is the init block. Alright then, it is more obvious after all. So I changed it to</p>\n\n<pre><code>class NotationDiceRoll(notation: String) {\n    val rolls: Int\n    val sides: Int\n\n    init {\n        (rolls, sides) = parseNotation(notation)\n    }\n\n    private fun parseNotation(notation: String): Pair&lt;Int, Int&gt; {\n        return Pair(1, 4)\n    }\n}\n</code></pre>\n\n<p>Now Kotlin complains that \"Variable 'rolls' must be initialized\".</p>\n\n<p>It can be solved by</p>\n\n<pre><code>init {\n    val(rolls, sides) = parseNotation(notation)\n\n    this.rolls = rolls\n    this.sides = sides\n}\n</code></pre>\n\n<p>but it is less elegant.</p>\n\n<p>So my question is: is the destructuring really possible only with the vals being declared on the same line?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 8, "creation_date": 1497339237, "post_id": 44515031, "comment_id": 76022493, "body": "I think it&#39;s fair to say that everything works the same way as in Java."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497339522, "post_id": 44515031, "comment_id": 76022693, "body": "i have read the differences between kotlin and java from various blogs, is there any kind of big internal change which needs to be covered?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497339600, "post_id": 44515031, "comment_id": 76022746, "body": "Probably not, Kotlin is compiled to bytecode in a pretty straightforward way in general."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497339724, "post_id": 44515031, "comment_id": 76022826, "body": "Ok thanks i understand. I am curious to know why google has announced kotlin as first language for android"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1497342933, "post_id": 44515031, "comment_id": 76024772, "body": "@Pelocho consider converting your comment to an answer."}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 2, "creation_date": 1499697048, "post_id": 44515031, "comment_id": 77003262, "body": "@RahulKhurana I guess mostly because of resulting cleaner code and almost seamless Java-interop as well as low entry barrier, which result in very dynamic expansion among devs. And it was &quot;first-class language&quot;, not &quot;first language&quot;, which probably will be still Java."}], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 1748584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iyXq.jpg?s=128&g=1", "display_name": "Robert Liberatore", "link": "https://stackoverflow.com/users/1748584/robert-liberatore"}, "edited": false, "score": 24, "creation_date": 1578691785, "post_id": 44516388, "comment_id": 105535101, "body": "Okay, I&#39;ll be that guy, because someone has to be:  Java passes in the actual values of primitives, not references.  A better way of understanding this is that it passes the value, and for Objects the value is a reference."}, {"owner": {"reputation": 842, "user_id": 1297822, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b653adde0bcf1facfa276bc2d35c66c8?s=128&d=identicon&r=PG", "display_name": "DoubleTrouble", "link": "https://stackoverflow.com/users/1297822/doubletrouble"}, "reply_to_user": {"reputation": 728, "user_id": 1748584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iyXq.jpg?s=128&g=1", "display_name": "Robert Liberatore", "link": "https://stackoverflow.com/users/1748584/robert-liberatore"}, "edited": false, "score": 0, "creation_date": 1604352922, "post_id": 44516388, "comment_id": 114317101, "body": "@RobertLiberatore Are you arguing that there&#39;s no such thing as pass by reference? Because passing by reference is just passing the pointer as a value (copied)."}, {"owner": {"reputation": 728, "user_id": 1748584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5iyXq.jpg?s=128&g=1", "display_name": "Robert Liberatore", "link": "https://stackoverflow.com/users/1748584/robert-liberatore"}, "edited": false, "score": 0, "creation_date": 1604522423, "post_id": 44516388, "comment_id": 114375848, "body": "I&#39;m not arguing. Java defines itself as pass by value in it&#39;s specifications: <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4&zwnj;&#8203;.1</a>  But no, I would not make that argument.  Passing <i>by</i> reference is not the same as passing <i>a</i> reference. In pass by value, if you pass in a reference, you get the value of the reference.  In pass by reference, if you pass in a reference, you get a reference to a reference. This latter has no good analog in Java, and that may be the source of confusion."}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 44, "last_activity_date": 1611581351, "last_edit_date": 1611581351, "creation_date": 1497343308, "answer_id": 44516388, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference/44516388#44516388", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>Every time I hear about the &quot;pass-by-value&quot; vs &quot;pass-by-reference&quot; Java debate I always think the same. The answer I give: &quot;Java passes a copy (pass-by-value) of the reference (pass-by-reference)&quot;. So everyone is happy. I would say Kotlin does the same as it is JVM based language.</p>\n<p><strong>UPDATE</strong></p>\n<p>OK, so it's been a while since this answer and I think some clarification should be included. As @robert-liberatore is mentioning in the comments, the behaviour I'm describing is true <strong>for objects</strong>. Whenever your methods expect any object, you can assume that the JVM internally will make a copy of the reference to the object and pass it to your method. That's why having code like</p>\n<pre><code>void doSomething(List&lt;Integer&gt; x) {\n  x = new ArrayList&lt;Integer&gt;()\n}\n\nList&lt;Integer&gt; x = Arrays.asList(1, 2, 3);\ndoSomething(x);\nx.length() == 3\n</code></pre>\n<p>behaves like it does. You're copying the reference to the list, so &quot;reassigning it&quot; will take no effect in the real object. But since you're referring to the same object, modifying its inner content will affect the outer object.</p>\n<p>This is something you may miss when defining your attributes as <code>final</code> in order to achieve immutability. You won't be able to reassign them, but there's nothing preventing you from changing its content</p>\n<p>Of course, this is true for <strong>objects</strong> where you have a reference. In case of primitives, which are not a reference to an object containing something but &quot;something&quot; themselves, the thing is different. Java will still make a copy of the whole value (as it does with the whole reference) and pass it to the method. But primitives are just values, you can't &quot;modify its inner values&quot;. So any change inside a method will not have effect in the outer values</p>\n<p>Now, <strong>talking about Kotlin</strong></p>\n<p>In Kotlin you &quot;don't have&quot; primitive values. But you &quot;do have&quot; primitive classes. Internally, the compiler will try to use JVM primitive values where needed but you can assume that you always work with the boxed version of the JVM primitives. Because of that, when possible the compiler will just make a copy of the primitive value and, in other scenarios, it will copy the reference to the object. Or with code</p>\n<pre><code>fun aJvmPrimitiveWillBeUsedHere(x: Int): Int = x * 2\n\nfun aJvmObjectWillBeUsedHere(x: Int?): Int = if (x != null) x * 2 else 1\n</code></pre>\n<p>I'd say that Kotlin scenario is a bit safer than Java because it forces its arguments to be final. So you can modify its inner content but not reassign it</p>\n<pre><code>fun doSomething(x: MutableList&lt;Int&gt;) {\n    x.add(2)                  // this works, you can modify the inner state\n    x = mutableListOf(1, 2)   // this doesn't work, you can't reassign an argument\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 148157, "user_id": 35364, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG", "display_name": "hasen", "link": "https://stackoverflow.com/users/35364/hasen"}, "is_accepted": false, "score": 25, "last_activity_date": 1497349788, "creation_date": 1497349788, "answer_id": 44518937, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference/44518937#44518937", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>The semantics is identical to Java.</p>\n\n<p>In Java, when you have an instance of an object, and you pass it to a method, that method can change the state of that object, and when the method is done, the changes would have been applied to the object at the call site.</p>\n\n<p>The same applies in Kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 4228, "user_id": 629259, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a7c5e9d64132d95ee1a5ca7a22c6dd7a?s=128&d=identicon&r=PG", "display_name": "Tyler Pfaff", "link": "https://stackoverflow.com/users/629259/tyler-pfaff"}, "edited": false, "score": 0, "creation_date": 1559341718, "post_id": 53255779, "comment_id": 99403028, "body": "I think that since every method param is a val, you couldn&#39;t reassign a &quot;primitive&quot; in a method anyways."}], "tags": [], "owner": {"reputation": 79, "user_id": 2604769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24f4439ddf6605f38023542a7e8551eb?s=128&d=identicon&r=PG", "display_name": "user2604769", "link": "https://stackoverflow.com/users/2604769/user2604769"}, "is_accepted": false, "score": 7, "last_activity_date": 1541995113, "creation_date": 1541995113, "answer_id": 53255779, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference/53255779#53255779", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>In Java primitive types like int, float, double, boolean are passed to a method by value, if you modify them inside the receiver method they doesn't change into the calling method. But if the property/variable type isn't a primitive, like arrays of primitives or other classes when they are changed inside the method that receive them as parameter they also change in the caller method.\nBut with Kotlin nothing seems to be primitive, so I think all is passed by reference.</p>\n"}, {"comments": [{"owner": {"reputation": 262, "user_id": 3595843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuNxD.jpg?s=128&g=1", "display_name": "shinvu", "link": "https://stackoverflow.com/users/3595843/shinvu"}, "edited": false, "score": 1, "creation_date": 1597478151, "post_id": 54689951, "comment_id": 112150235, "body": "For the primitive type parameter...if you can&#39;t re-assign it, then what&#39;s the point of a pass-by-value??"}, {"owner": {"reputation": 99, "user_id": 3465795, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5RWZ7.jpg?s=128&g=1", "display_name": "Steve T", "link": "https://stackoverflow.com/users/3465795/steve-t"}, "reply_to_user": {"reputation": 262, "user_id": 3595843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QuNxD.jpg?s=128&g=1", "display_name": "shinvu", "link": "https://stackoverflow.com/users/3595843/shinvu"}, "edited": false, "score": 1, "creation_date": 1599936233, "post_id": 54689951, "comment_id": 112932319, "body": "@shinvu - I think the reason is that &#39;pass-by-value&#39; handles immutability of a variable declared outside of the function call, and &#39;function parameter is val&#39; handles immutability of the parameter used inside the function call.  So at no time is the variable in question allowed to be changed once set, thereby avoiding &quot;side effects&quot; (change to variable outside the function cascading to affect state inside the function, unexpectedly).  This is what makes a function &quot;pure&quot; in a functional programming sense."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 32, "last_activity_date": 1597268565, "last_edit_date": 1597268565, "creation_date": 1550145655, "answer_id": 54689951, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference/54689951#54689951", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>It uses the same principles like Java. It is always <strong>pass-by-value</strong>, you can imagine that a copy is passed. For <em>primitive types</em>, e.g. <code>Int</code> this is obvious, the value of such an argument will be passed into a function and the outer variable will not be modified. Please note that parameters in Kotlin cannot be reassigned since they act like <code>val</code>s:</p>\n<pre><code>fun takeInt(a: Int) {\n    a = 5\n}\n</code></pre>\n<p>This code will not compile because <code>a</code> cannot be reassigned.</p>\n<p>For objects it's a bit more difficult but it's also call-by-value. If you call a function with an object, a copy of its reference is passed into that function:</p>\n<pre><code>data class SomeObj(var x: Int = 0)\n\nfun takeObject(o: SomeObj) {\n    o.x = 1\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val obj = SomeObj()\n    takeObject(obj)\n    println(&quot;obj after call: $obj&quot;) // SomeObj(x=1)\n}\n</code></pre>\n<p>You can use a reference passed into a function to change the actual object.</p>\n"}, {"tags": [], "owner": {"reputation": 2376, "user_id": 4949974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf69ff8841965fe84a46f7b8238828d9?s=128&d=identicon&r=PG", "display_name": "Asher Stern", "link": "https://stackoverflow.com/users/4949974/asher-stern"}, "is_accepted": false, "score": 3, "last_activity_date": 1575193255, "creation_date": 1575193255, "answer_id": 59124310, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference/59124310#59124310", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>This might be a little bit confusing.\nThe correct answer, IMHO, is that <strong>everything passes by reference</strong>, but no assignment is possible so it will be similar to passing by value in C++.</p>\n\n<p>Note that function parameters are constant, i.e., they cannot be assigned.</p>\n\n<p>Remember that in Kotlin <strong>there are no primitive types</strong>. Everything is an object.\nWhen you write:</p>\n\n<pre><code>var x: Int = 3\nx += 10\n</code></pre>\n\n<p>You actually create an <strong>object</strong> of type Int, assign it the value 3, and get a reference, or pointer, named x.\nWhen you write</p>\n\n<pre><code>x += 10\n</code></pre>\n\n<p>You reassign a new Int object, with the value 13, to x. The older object becomes a garbage (and garbage-collected).</p>\n\n<p><em>Of course, the compiler optimizes it, and creates no objects in the heap in this particular case, but conceptually it is as explained.</em></p>\n\n<p>So what is the meaning of passing by reference function parameters?</p>\n\n<ul>\n<li>Since no assignment is possible for function parameters, the main advantage of passing by reference in C++ does not exist in Kotlin.</li>\n<li>If the object (passed to the function) has a method which changes its internal state, it <strong>will</strong> affect the original object.\n\n<ul>\n<li>No such method exists for Int, String, etc. They are immutable objects.</li>\n</ul></li>\n<li>No copy is ever generated when passing objects to functions.</li>\n</ul>\n"}], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40143, "favorite_count": 7, "accepted_answer_id": 54689951, "answer_count": 5, "score": 63, "last_activity_date": 1611581351, "creation_date": 1497339172, "last_edit_date": 1524227305, "question_id": 44515031, "link": "https://stackoverflow.com/questions/44515031/is-kotlin-pass-by-value-or-pass-by-reference", "title": "Is Kotlin &quot;pass-by-value&quot; or &quot;pass-by-reference&quot;?", "body": "<p>As I know Java is pass-by-value from <a href=\"https://stackoverflow.com/q/40480/4079010\">this post</a>. I am from Java background I wonder what Kotlin is using for passing values in between. Like in <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">Extensions</a> or <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">Methods</a> etc.</p>\n"}, {"tags": ["spring", "kotlin", "project-reactor", "spring-webflux"], "comments": [{"owner": {"reputation": 5619, "user_id": 2055854, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/974156d755f10981aba40d96375b7af5?s=128&d=identicon&r=PG", "display_name": "Orest", "link": "https://stackoverflow.com/users/2055854/orest"}, "edited": false, "score": 1, "creation_date": 1497362613, "post_id": 44514263, "comment_id": 76039512, "body": "So in some other function where you&#39;re trying to consume data from that Flux&lt;ByteArray&gt; you can read only 7893 bytes yes?"}, {"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 1, "creation_date": 1497373115, "post_id": 44514263, "comment_id": 76046716, "body": "Could you try using Spring&#39;s <code>DataBuffer</code> type instead? It&#39;s easy to extract byte arrays from it, and you can leverage interesting properties from it (like zero-copy and buffer pooling)."}, {"owner": {"reputation": 655, "user_id": 1107686, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1c2f7534411709288f2d62e1e8e47de8?s=128&d=identicon&r=PG", "display_name": "Pavel Varchenko", "link": "https://stackoverflow.com/users/1107686/pavel-varchenko"}, "reply_to_user": {"reputation": 5619, "user_id": 2055854, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/974156d755f10981aba40d96375b7af5?s=128&d=identicon&r=PG", "display_name": "Orest", "link": "https://stackoverflow.com/users/2055854/orest"}, "edited": false, "score": 0, "creation_date": 1497441340, "post_id": 44514263, "comment_id": 76078609, "body": "@Orest yes, you are correct"}, {"owner": {"reputation": 655, "user_id": 1107686, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1c2f7534411709288f2d62e1e8e47de8?s=128&d=identicon&r=PG", "display_name": "Pavel Varchenko", "link": "https://stackoverflow.com/users/1107686/pavel-varchenko"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1497441369, "post_id": 44514263, "comment_id": 76078636, "body": "@BrianClozel the result is the same =( only 7893 bytes are available"}, {"owner": {"reputation": 5619, "user_id": 2055854, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/974156d755f10981aba40d96375b7af5?s=128&d=identicon&r=PG", "display_name": "Orest", "link": "https://stackoverflow.com/users/2055854/orest"}, "edited": false, "score": 0, "creation_date": 1497441661, "post_id": 44514263, "comment_id": 76078883, "body": "@PavelVarchenko could you please also post consumer function?"}, {"owner": {"reputation": 655, "user_id": 1107686, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1c2f7534411709288f2d62e1e8e47de8?s=128&d=identicon&r=PG", "display_name": "Pavel Varchenko", "link": "https://stackoverflow.com/users/1107686/pavel-varchenko"}, "reply_to_user": {"reputation": 5619, "user_id": 2055854, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/974156d755f10981aba40d96375b7af5?s=128&d=identicon&r=PG", "display_name": "Orest", "link": "https://stackoverflow.com/users/2055854/orest"}, "edited": false, "score": 0, "creation_date": 1497443694, "post_id": 44514263, "comment_id": 76080396, "body": "@Orest, yes. Changed the question description"}, {"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1504612264, "post_id": 44514263, "comment_id": 79067860, "body": "Could you show the <code>MyService.foo</code> method signature and add a <code>log()</code> operator before the flatMap, to see what elements are being published?"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1514867383, "post_id": 44514263, "comment_id": 83083423, "body": "Either get as <code>Flux&lt;DataBuffer&gt;</code> like @BrianClozel said or <code>Mono&lt;Resource&gt;</code> (I&#39;ve not tried this, but there seems to be a <code>ResourceDecoder</code>. Getting <code>InputStream</code> with <code>WebClient</code> makes no sense."}], "answers": [{"tags": [], "owner": {"reputation": 510, "user_id": 3861445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/937c94ec1af1dd7f35e72487b7999d7a?s=128&d=identicon&r=PG&f=1", "display_name": "Alphaone", "link": "https://stackoverflow.com/users/3861445/alphaone"}, "is_accepted": false, "score": 1, "last_activity_date": 1518014627, "creation_date": 1518014627, "answer_id": 48666559, "question_id": 44514263, "link": "https://stackoverflow.com/questions/44514263/decode-bytearray-with-spring-5-webflux-framework/48666559#48666559", "title": "Decode ByteArray with spring 5 WebFlux framework", "body": "<p>If I understood your question right, and you just need to deliver the flux forward, this should work. I tested it on my own environment and had no problems reading all the bytes.</p>\n\n<p>To get bytes:</p>\n\n<pre><code>fun foo(): Flux&lt;ByteArray&gt; =\n    WebClient.create(\"http://byte-array-service\")\n        .get()\n        .uri(\"/info\")\n        .accept(MediaType.APPLICATION_OCTET_STREAM)\n        .retrieve()\n        .bodyToFlux(ByteArray::class.java)\n</code></pre>\n\n<p>Return bytes with response:</p>\n\n<pre><code>fun doReadFromByteArrayService(req: ServerRequest): Mono&lt;ServerResponse&gt; =\n        ServerResponse.ok().body(foo())  \n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 1107686, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1c2f7534411709288f2d62e1e8e47de8?s=128&d=identicon&r=PG", "display_name": "Pavel Varchenko", "link": "https://stackoverflow.com/users/1107686/pavel-varchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2856, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1518014627, "creation_date": 1497336696, "last_edit_date": 1497443662, "question_id": 44514263, "link": "https://stackoverflow.com/questions/44514263/decode-bytearray-with-spring-5-webflux-framework", "title": "Decode ByteArray with spring 5 WebFlux framework", "body": "<p>I'm trying to use new Spring WebFlux framework with kotlin. And I can not find where I am wrong with this code (myService):</p>\n\n<pre><code>fun foo(): Flux&lt;ByteArray&gt; {\n    val client = WebClient.create(\"http://byte-array-service\")\n    return client\n            .get()\n            .uri(\"/info\")\n            .accept(MediaType.APPLICATION_OCTET_STREAM)\n            .exchange()\n            .flatMapMany {\n                r -&gt; r.bodyToFlux(ByteArray::class.java)\n            }\n}\n</code></pre>\n\n<p>This method returns Flux with 7893 bytes and I know there are not all bytes sent by byte-array-service. If I use old-style rest template all is ok</p>\n\n<pre><code>fun foo(): Flux&lt;ByteArray&gt; {\n    val rt = RestTemplate()\n    rt.messageConverters.add(\n            ByteArrayHttpMessageConverter())\n    val headers = HttpHeaders()\n    headers.accept = listOf(MediaType.APPLICATION_OCTET_STREAM)\n\n    val entity = HttpEntity&lt;String&gt;(headers)\n    val r = rt.exchange(\"http://byte-array-service/info\", HttpMethod.GET,entity, ByteArray::class.java)\n    return Flux.just(r.body)\n}\n</code></pre>\n\n<p>it returns all 274124 bytes sent from byte-array-service</p>\n\n<p>here is my consumer</p>\n\n<pre><code>fun doReadFromByteArrayService(req: ServerRequest): Mono&lt;ServerResponse&gt; {\n\n    return Mono.from(myService\n            .foo()\n            .flatMap {\n                accepted().body(fromObject(it.size))\n            })\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 5, "creation_date": 1497338064, "post_id": 44513405, "comment_id": 76021760, "body": "That&#39;s a bit weird. Everywhere else in the language, adding braces means it&#39;s a lambda. How would you make a when-expression that returns a lambda of type <code>() -&gt; Unit</code>?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1497338246, "post_id": 44513405, "comment_id": 76021866, "body": "Hmm, that&#39;s a rather interesting question. You can do <code>-&gt; { { println(&quot;hello&quot;) } }</code>, for example. The lambda is the last statement in the branch, and will be returned. You could also do <code>-&gt; fun() { println(&quot;hello&quot;) }</code>, that might be more legible."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1497355454, "post_id": 44513405, "comment_id": 76033727, "body": "The nicest way IMO is <code>-&gt; ({})</code>. And I totally agree it is weird"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497355862, "post_id": 44513405, "comment_id": 76033999, "body": "Ah, that is pretty neat, actually."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 35, "last_activity_date": 1497333683, "creation_date": 1497333683, "answer_id": 44513405, "question_id": 44513360, "link": "https://stackoverflow.com/questions/44513360/how-to-add-multiple-statements-inside-a-when-statement-in-kotlin/44513405#44513405", "title": "How to add multiple statements inside a when statement in kotlin", "body": "<p>You have the solution in your question with the \"Note the block\" comment. Branches of <code>when</code> can be blocks that can contain any number of statements:</p>\n\n<pre><code>when(x) {\n    1 -&gt; {\n        println(\"x == 1\")\n        x += 10\n        println(\"x == 11\")\n    }\n    2 -&gt; { ... }\n    else -&gt; { ... }\n}\n</code></pre>\n\n<p>Writing a single statement branch just has a simplified syntax so that you don't need to surround it with <code>{}</code>.</p>\n"}], "owner": {"reputation": 221, "user_id": 5459209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af0b3996d48a4e992b43c3268c43fb5b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Chow", "link": "https://stackoverflow.com/users/5459209/nicholas-chow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8186, "favorite_count": 1, "answer_count": 1, "score": 21, "last_activity_date": 1497333683, "creation_date": 1497333469, "question_id": 44513360, "link": "https://stackoverflow.com/questions/44513360/how-to-add-multiple-statements-inside-a-when-statement-in-kotlin", "title": "How to add multiple statements inside a when statement in kotlin", "body": "<p>I am trying to have multiple statements for one condition. For example: this is a sample code for when statement.</p>\n\n<pre><code>when (x) {\n    1 -&gt; print(\"x == 1\")\n    2 -&gt; print(\"x == 2\")\n     else -&gt; { // Note the block\n        print(\"x is neither 1 nor 2\")\n   }\n}\n</code></pre>\n\n<p>When x is 1, I also want to have an extra statement like x += 10, how can I do it?</p>\n"}, {"tags": ["python", "string", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1497332950, "post_id": 44513167, "comment_id": 76019168, "body": "I don&#39;t know Kotlin, but it doesn&#39;t look like you&#39;re <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/escape.html\" rel=\"nofollow noreferrer\">escaping</a> the characters. If I set <code>chars = &quot;[]\\&quot;</code> the regex will be <code>[[]\\]</code>."}], "tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": false, "score": 4, "last_activity_date": 1497333001, "last_edit_date": 1497333001, "creation_date": 1497332611, "answer_id": 44513167, "question_id": 44513142, "link": "https://stackoverflow.com/questions/44513142/remove-characters-from-a-string-that-occur-in-another-string-in-kotlin/44513167#44513167", "title": "Remove characters from a string that occur in another string in Kotlin", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/\" rel=\"nofollow noreferrer\"><strong>Regex</strong></a> (the equivlant module in Python would be <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\"><strong>re</strong></a>):</p>\n\n<pre><code>fun removeChars(s: String, c: String) = s.replace(Regex(\"[$c]\"), \"\")\n\nprintln(removeChars(\"The quick brown fox jumped over the sleazy dog!\", \"qot\"))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>The uick brwn fx jumped ver he sleazy dg!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 8049704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2124f4a8ed9571cd975459d249a29bda?s=128&d=identicon&r=PG&f=1", "display_name": "cMcNerlin", "link": "https://stackoverflow.com/users/8049704/cmcnerlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1497334734, "creation_date": 1497334734, "answer_id": 44513662, "question_id": 44513142, "link": "https://stackoverflow.com/questions/44513142/remove-characters-from-a-string-that-occur-in-another-string-in-kotlin/44513662#44513662", "title": "Remove characters from a string that occur in another string in Kotlin", "body": "<p>I'm not familiar with Kotlin but I would declare both strings and a character variable. Then do a <strong>For...Next</strong> statement with the character being assigned in turn to each letter you want removed and search for the letter(s) in the altered string.</p>\n\n<p>It probably isn't the most efficient way of doing it but if you're okay with that slight delay in run time, it should work. </p>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 7721253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2672974c59d0cc2e0fcc0d85e1ba7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Jalvap", "link": "https://stackoverflow.com/users/7721253/jalvap"}, "is_accepted": true, "score": 4, "last_activity_date": 1497341667, "creation_date": 1497341667, "answer_id": 44515854, "question_id": 44513142, "link": "https://stackoverflow.com/questions/44513142/remove-characters-from-a-string-that-occur-in-another-string-in-kotlin/44515854#44515854", "title": "Remove characters from a string that occur in another string in Kotlin", "body": "<p>I suggest using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/filter-not.html\" rel=\"nofollow noreferrer\"><code>filterNot()</code></a> in Kotlin:</p>\n\n<pre><code>\"Mississippi\".filterNot { c -&gt; \"is\".contains(c)}\n</code></pre>\n\n<p>This should output <code>\"Mpp\"</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 8152487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9195170d77827262ba5013e0b685aedc?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Star", "link": "https://stackoverflow.com/users/8152487/patrick-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2229, "favorite_count": 0, "accepted_answer_id": 44515854, "answer_count": 3, "score": 4, "last_activity_date": 1497344167, "creation_date": 1497332475, "last_edit_date": 1497344167, "question_id": 44513142, "link": "https://stackoverflow.com/questions/44513142/remove-characters-from-a-string-that-occur-in-another-string-in-kotlin", "title": "Remove characters from a string that occur in another string in Kotlin", "body": "<p>Let me preface this by saying I am really new to Kotlin but am a little familiar with Python.</p>\n\n<p>My goal is to remove all the occurrences of the characters in one string from another string via some sort of function.</p>\n\n<p>I can show you how I would do this in Python :     </p>\n\n<pre><code>def removechars (s, chars)\n    return s.translate(None, chars)\n</code></pre>\n\n<p>And I can use it like this :  </p>\n\n<pre><code>print(removechars(\"The quick brown fox jumped over the sleazy dog!\", \"qot\"))\n</code></pre>\n\n<p>It would give this output :   </p>\n\n<pre><code>The uick brwn fx jumped ver the sleazy dg!     \n</code></pre>\n\n<p>How can I something similar in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "classcastexception"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1497329011, "post_id": 44512506, "comment_id": 76017673, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43785328/java-lang-classcastexception-android-inputmethodservice-keyboardview-cannot-be\">java.lang.ClassCastException: android.inputmethodservice.KeyboardView cannot be cast to android.view.ViewGroup</a>"}, {"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1497329311, "post_id": 44512506, "comment_id": 76017774, "body": "Post your R.layout.keyboard xml"}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "edited": false, "score": 1, "creation_date": 1497330345, "post_id": 44512747, "comment_id": 76018161, "body": "Thank you very match, i can&#39;t vote  you answer don&#39;t have enough reputation, Thank you very match"}, {"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "reply_to_user": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "edited": false, "score": 0, "creation_date": 1497330479, "post_id": 44512747, "comment_id": 76018211, "body": "@MukhtarBimurat if it helps you, please accept  answer - <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1497330173, "creation_date": 1497330173, "answer_id": 44512747, "question_id": 44512506, "link": "https://stackoverflow.com/questions/44512506/classcastexception-android-inputmethodservice-keyboardview-cannot-be-cast-to-co/44512747#44512747", "title": "ClassCastException: android.inputmethodservice.KeyboardView cannot be cast to com.support.mukhtar.simplekeyboard.CustomKeyboardView android", "body": "<p>Just replace <code>android.inputmethodservice.KeyboardView</code> to <code>CustomKeyboardView</code> in R.layout.keyboard xml file.</p>\n"}], "owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 44512747, "answer_count": 1, "score": 1, "last_activity_date": 1497330173, "creation_date": 1497328756, "last_edit_date": 1497330003, "question_id": 44512506, "link": "https://stackoverflow.com/questions/44512506/classcastexception-android-inputmethodservice-keyboardview-cannot-be-cast-to-co", "title": "ClassCastException: android.inputmethodservice.KeyboardView cannot be cast to com.support.mukhtar.simplekeyboard.CustomKeyboardView android", "body": "<p>I have SimpleIME.kt class in order to implement simple InputMethodEditor and do my custom keyboard on android: </p>\n\n<pre><code>class SimpleIME : InputMethodService(), OnKeyboardActionListener {\n\nprivate var kv: CustomKeyboardView? = null\nprivate var keyboard: Keyboard? = null\ncompanion object{\n    const val TAG :String = \"myLogs\"\n}\n\nprivate var caps = false\n\noverride fun onCreateInputView(): View? {\n    kv = layoutInflater.inflate(R.layout.keyboard, null) as CustomKeyboardView\n    keyboard = Keyboard(this, R.xml.qwerty)\n    kv!!.keyboard = keyboard\n    kv!!.setOnKeyboardActionListener(this)\n    Log.d(TAG,\"onCreateInputView\")\n    return kv\n}\n...\n}\n</code></pre>\n\n<p>and my CustomKeuboardView class as below:</p>\n\n<pre><code>class CustomKeyboardView : KeyboardView {\n\nconstructor(context: Context, attrs: AttributeSet?) : super(context, attrs)\n\nconstructor(context: Context, attrs: AttributeSet?, defStyle: Int) : super(context, attrs, defStyle)\n\noverride fun onKeyMultiple(keyCode: Int, repeatCount: Int, event: KeyEvent?): Boolean {\n    return super.onKeyMultiple(keyCode, repeatCount, event)\n}\n\noverride fun onTouchEvent(me: MotionEvent?): Boolean {\n    Log.d(TAG,\"onTouchEvent \"+me.toString())\n    return super.onTouchEvent(me)\n}\n}\n</code></pre>\n\n<p>it throws classCastException as below:</p>\n\n<pre><code> java.lang.ClassCastException: android.inputmethodservice.KeyboardView cannot be cast to com.support.mukhtar.simplekeyboard.CustomKeyboardView\n                                                   at com.support.mukhtar.simplekeyboard.SimpleIME.onCreateInputView(SimpleIME.kt:30)\n                                                   at android.inputmethodservice.InputMethodService.updateInputViewShown(InputMethodService.java:1248)\n                                                   at android.inputmethodservice.InputMethodService.showWindowInner(InputMethodService.java:1669)\n                                                   at android.inputmethodservice.InputMethodService.showWindow(InputMethodService.java:1636)\n                                                   at android.inputmethodservice.InputMethodService$InputMethodImpl.showSoftInput(InputMethodService.java:497)\n                                                   at android.inputmethodservice.IInputMethodWrapper.executeMessage(IInputMethodWrapper.java:202)\n                                                   at com.android.internal.os.HandlerCaller$MyHandler.handleMessage(HandlerCaller.java:40)\n                                                   at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                   at android.os.Looper.loop(Looper.java:136)\n                                                   at android.app.ActivityThread.main(ActivityThread.java:5426)\n                                                   at java.lang.reflect.Method.invokeNative(Native Method)\n                                                   at java.lang.reflect.Method.invoke(Method.java:515)\n                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\n                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\n                                                   at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>if I implement SimpleIME.kt class as follow:</p>\n\n<pre><code>class SimpleIME : InputMethodService(), OnKeyboardActionListener {\n\nprivate var kv: KeyboardView? = null\nprivate var keyboard: Keyboard? = null\ncompanion object{\n    const val TAG :String = \"myLogs\"\n}\n\nprivate var caps = false\n\noverride fun onCreateInputView(): View? {\n    kv = layoutInflater.inflate(R.layout.keyboard, null) as KeyboardView\n    keyboard = Keyboard(this, R.xml.qwerty)\n    kv!!.keyboard = keyboard\n    kv!!.setOnKeyboardActionListener(this)\n    Log.d(TAG,\"onCreateInputView\")\n    return kv\n}\n...\n}\n</code></pre>\n\n<p>it works fine but I need implement onTouchEvent in KeyboardView in order to handle multiple clicks so I think it is necessary to implement CustomKeyboardView Class;\nThere is an example of CustomKeyboardView written in java: <a href=\"https://github.com/blackcj/AndroidCustomKeyboard.git\" rel=\"nofollow noreferrer\">https://github.com/blackcj/AndroidCustomKeyboard.git</a>\nPlease help </p>\n\n<p>my question does not same as this: <a href=\"https://stackoverflow.com/questions/43785328/java-lang-classcastexception-android-inputmethodservice-keyboardview-cannot-be\">java.lang.ClassCastException: android.inputmethodservice.KeyboardView cannot be cast to android.view.ViewGroup</a></p>\n\n<p>because there is a problem with layout.xml but i do not have any problem with it because it works if i take as KeyboardView as shown before</p>\n\n<p>my layout.keyboard.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;android.inputmethodservice.KeyboardView\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/keyboard\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_alignParentBottom=\"true\"\nandroid:background=\"#3Aad1a\"\nandroid:keyPreviewLayout =\"@layout/preview\"\n/&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 1, "creation_date": 1497348809, "post_id": 44511692, "comment_id": 76028998, "body": "recyclerView.layoutManager = mLinearLayoutManager"}], "answers": [{"tags": [], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "is_accepted": false, "score": 11, "last_activity_date": 1561433873, "last_edit_date": 1561433873, "creation_date": 1497323705, "answer_id": 44511782, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/44511782#44511782", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>You can use</p>\n\n<pre><code>recyclerView.layoutManager = LinearLayoutManager(context) // default orientation is vertical\n\n// if you want horizontal recyclerview\n// recyclerView.layoutManager = LinearLayoutManager(this, RecyclerView.HORIZONTAL, false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7837, "user_id": 3319074, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fcd47a3fd1ad5118d7c2f52f4af54323?s=128&d=identicon&r=PG", "display_name": "ZeroOne", "link": "https://stackoverflow.com/users/3319074/zeroone"}, "is_accepted": false, "score": 1, "last_activity_date": 1497325918, "creation_date": 1497325918, "answer_id": 44512069, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/44512069#44512069", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>You can do like this</p>\n\n<pre><code>val linearLayoutManager = LinearLayoutManager(this)\nlinearLayoutManager.orientation = LinearLayoutManager.VERTICAL\nrecyclerview!!.layoutManager = linearLayoutManager\nrecyclerview!!.isNestedScrollingEnabled = true\nrecyclerview!!.setHasFixedSize(true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "is_accepted": false, "score": 0, "last_activity_date": 1497332260, "creation_date": 1497332260, "answer_id": 44513099, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/44513099#44513099", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>Simply write this to set <code>LayoutManager</code></p>\n\n<pre><code> // Define this globally\n lateinit var recyclerView: RecyclerView\n\n // Initialize this after `activity` or `fragment` is created\n recyclerView = findViewById(R.id.recyclerView) as RecyclerView\n\n recyclerView.setHasFixedSize(true)\n recyclerView.layoutManager = LinearLayoutManager(activity!!) as RecyclerView.LayoutManager\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "is_accepted": false, "score": 0, "last_activity_date": 1500824086, "creation_date": 1500824086, "answer_id": 45266857, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/45266857#45266857", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>I had same issue, reason was I had initialize recyclerView as</p>\n\n<pre><code>var recyclerView = findViewById&lt;View&gt;(R.id.recycleView)\n</code></pre>\n\n<p>Make sure you initialize as below</p>\n\n<pre><code>var recyclerView = findViewById&lt;View&gt;(R.id.recycleView) as RecyclerView\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1501266632, "creation_date": 1501266632, "answer_id": 45380189, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/45380189#45380189", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>Apply plugin in your app build</p>\n\n<pre><code> apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>For my case view id of <code>RecyclerView</code> is <code>my_recycler_view</code>.</p>\n\n<p>In your java file write - </p>\n\n<pre><code>my_recycler_view.layoutManager = LinearLayoutManager(context)\n</code></pre>\n\n<p>By default <code>LinearLayoutManager(context)</code> will set vertical orientation, update it as per need.</p>\n"}, {"comments": [{"owner": {"reputation": 1935, "user_id": 4828220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a272c69ee46a20e3b8a852d5fe447c46?s=128&d=identicon&r=PG&f=1", "display_name": "Guenther", "link": "https://stackoverflow.com/users/4828220/guenther"}, "edited": false, "score": 1, "creation_date": 1502176481, "post_id": 45561519, "comment_id": 78082406, "body": "This answer doesn&#39;t provide move information than already given answers."}], "tags": [], "owner": {"reputation": 1, "user_id": 8222557, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209138024383180/picture?type=large", "display_name": "Kay Saith", "link": "https://stackoverflow.com/users/8222557/kay-saith"}, "is_accepted": false, "score": -1, "last_activity_date": 1502176096, "creation_date": 1502176096, "answer_id": 45561519, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/45561519#45561519", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p><code>recyclerView.layoutManager = LinearLayoutManager(context)\n</code></p>\n\n<p>or</p>\n\n<p><code>recyclerView.layoutManager = GridLayoutManager(context, spanCount)\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 8297, "user_id": 2473302, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5k6j5.jpg?s=128&g=1", "display_name": "Dhaval Jivani", "link": "https://stackoverflow.com/users/2473302/dhaval-jivani"}, "is_accepted": false, "score": 0, "last_activity_date": 1502198030, "creation_date": 1502198030, "answer_id": 45569374, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/45569374#45569374", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>You can set using this code:           </p>\n\n<pre><code>binding.recyclerView.setHasFixedSize(true)\nbinding.recyclerView.layoutManager = LinearLayoutManager(this ,LinearLayoutManager.VERTICAL ,false)\nbinding.recyclerView.adapter = customAdapter(this ,getList())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 336, "user_id": 8302360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea74cd3d1dd78d60c903b51520c4813?s=128&d=identicon&r=PG&f=1", "display_name": "Kashifa", "link": "https://stackoverflow.com/users/8302360/kashifa"}, "is_accepted": false, "score": 27, "last_activity_date": 1533295731, "last_edit_date": 1533295731, "creation_date": 1521736331, "answer_id": 49433876, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/49433876#49433876", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>Following two lines sets <strong><em>orientation</em></strong> to <strong><em>vertical</em></strong></p>\n\n<pre><code>mRecyclerView.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL ,false)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>mRecyclerView.layoutManager = LinearLayoutManager(this)\nmRecyclerView.layoutManager = LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL ,false)\n</code></pre>\n\n<p>sets horizontal orientation</p>\n\n<p>To set grid layout,</p>\n\n<pre><code>mRecyclerView.layoutManager = GridLayoutManager(this, spanCount)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 5276538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7df37c023195b9ed0e457c302e20a0c?s=128&d=identicon&r=PG&f=1", "display_name": "Shahbaz Ahmed", "link": "https://stackoverflow.com/users/5276538/shahbaz-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1531561393, "creation_date": 1531561393, "answer_id": 51337233, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/51337233#51337233", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<pre><code>private var mRecyclerView: RecyclerView? = null\n</code></pre>\n\n<p>mRecyclerView?.layoutManager = LinearLayoutManager(activity)</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 11007685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DeeDtjE3tjA/AAAAAAAAAAI/AAAAAAAAAAw/XuPh7QTDshg/photo.jpg?sz=128", "display_name": "erfanhy", "link": "https://stackoverflow.com/users/11007685/erfanhy"}, "is_accepted": false, "score": 2, "last_activity_date": 1574332535, "last_edit_date": 1574332535, "creation_date": 1571556683, "answer_id": 58470919, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/58470919#58470919", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>You can try using below solution</p>\n\n<pre><code>val mRecyclerView= v.findViewById&lt;RecyclerView&gt;(R.id.rec) //id RecyclerView    \nmRecyclerView.layoutManager = LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL,false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 7113648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-My_o8R4OWE4/AAAAAAAAAAI/AAAAAAAAABE/wSvIYbYQt6k/photo.jpg?sz=128", "display_name": "Saugat Rai", "link": "https://stackoverflow.com/users/7113648/saugat-rai"}, "is_accepted": false, "score": 0, "last_activity_date": 1596259424, "creation_date": 1596259424, "answer_id": 63202073, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin/63202073#63202073", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>use RecyclerView.HORIZONTAL for AndroidX instead of LinearLayoutManager.HORIZONTAL</p>\n<pre><code>var vegetableList: RecyclerView = findViewById(R.id.list_vegetable)\n            vegetableList.layoutManager = LinearLayoutManager(this,\n            RecyclerView.HORIZONTAL, false)\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 5662371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/4HaWU.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5662371/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23099, "favorite_count": 0, "answer_count": 11, "score": 13, "last_activity_date": 1596259424, "creation_date": 1497322990, "last_edit_date": 1497328985, "question_id": 44511692, "link": "https://stackoverflow.com/questions/44511692/how-can-i-set-layoutmanager-to-recycleview-using-kotlin", "title": "How can i set layoutmanager to RecycleView using kotlin", "body": "<p>How can i set layoutmanager to RecycleView using kotlin as java code below:</p>\n\n<pre><code>mRecyclerView.setLayoutManager(mLinearLayoutManager);\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497327785, "post_id": 44510942, "comment_id": 76017287, "body": "To get back to the original question of why your code doesn&#39;t work - no idea, it prints the <code>already contained</code> statements just as expected for me."}, {"owner": {"reputation": 337, "user_id": 4261132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fe986c0e0707d0a1ac2127e723a165?s=128&d=identicon&r=PG&f=1", "display_name": "james.sw.clark", "link": "https://stackoverflow.com/users/4261132/james-sw-clark"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497347835, "post_id": 44510942, "comment_id": 76028324, "body": "Edited my question to explain why - oops!"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4261132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fe986c0e0707d0a1ac2127e723a165?s=128&d=identicon&r=PG&f=1", "display_name": "james.sw.clark", "link": "https://stackoverflow.com/users/4261132/james-sw-clark"}, "edited": false, "score": 0, "creation_date": 1497347798, "post_id": 44510971, "comment_id": 76028294, "body": "Thanks, will use this to clean my code! However, I realised what the problem was and edited my question to clarify."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 6, "last_activity_date": 1497317075, "creation_date": 1497317075, "answer_id": 44510971, "question_id": 44510942, "link": "https://stackoverflow.com/questions/44510942/creating-an-arraylist-of-unique-items-in-an-arraylist/44510971#44510971", "title": "Creating an ArrayList of unique items in an ArrayList", "body": "<p>Check out the <code>distinct()</code> function, it will do all of this for you!</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val listOfThings = listOf(\"A\", \"B\", \"C\", \"A\", \"B\", \"C\")\n    val distinctThings = listOfThings.distinct()\n\n    println(listOfThings)  // [A, B, C, A, B, C]\n    println(distinctThings)  // [A, B, C]\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 703, "user_id": 6186283, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10153544187872815/picture?type=large", "display_name": "Sanket Patel", "link": "https://stackoverflow.com/users/6186283/sanket-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1497341892, "last_edit_date": 1497341892, "creation_date": 1497317285, "answer_id": 44510997, "question_id": 44510942, "link": "https://stackoverflow.com/questions/44510942/creating-an-arraylist-of-unique-items-in-an-arraylist/44510997#44510997", "title": "Creating an ArrayList of unique items in an ArrayList", "body": "<p>You can convert your array list to set.</p>\n\n<pre><code> Set&lt;String&gt; foo = new HashSet&lt;String&gt;(pinyinArrayList);\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 4261132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fe986c0e0707d0a1ac2127e723a165?s=128&d=identicon&r=PG&f=1", "display_name": "james.sw.clark", "link": "https://stackoverflow.com/users/4261132/james-sw-clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1836, "favorite_count": 0, "accepted_answer_id": 44510971, "answer_count": 2, "score": 2, "last_activity_date": 1497347763, "creation_date": 1497316841, "last_edit_date": 1497347763, "question_id": 44510942, "link": "https://stackoverflow.com/questions/44510942/creating-an-arraylist-of-unique-items-in-an-arraylist", "title": "Creating an ArrayList of unique items in an ArrayList", "body": "<p>I would like my code to create an ArrayList (uniquePinyinArrayList) of unique items from an existing ArrayList (pinyinArrayList) which contains duplicates.</p>\n\n<p>The \"println\" commands do not execute (I think they should do when a duplicate is from the pinyinArrayList is found in uniquePinyinArrayList)</p>\n\n<pre><code>fun uniquePinyinArray(pinyinArrayList: ArrayList&lt;String&gt;) {\n    val uniquePinyinArrayList = ArrayList&lt;String&gt;()\n    for(currentPinyin in pinyinArrayList){\n        if (currentPinyin in uniquePinyinArrayList){\n            // do nothing\n            println(\"already contained\"+currentPinyin)\n            println(\"uniquePinyin\"+uniquePinyinArrayList)\n        }\n        else {\n            uniquePinyinArrayList.add(currentPinyin)\n        }\n    }\n}\n</code></pre>\n\n<p>I have also tried </p>\n\n<pre><code>if (uniquePinyinArrayList.contains(currentPinyin)){\n</code></pre>\n\n<p>, though this also didn't work.</p>\n\n<p>Edit:\nThis method actually gets run for each word from my list of source-words, and hence multiple ArrayLists are created. To fix this, I made a single ArrayList object for uniquePinyin outside of this loop. Things work as expected now!</p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 1195, "user_id": 1821566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ee9aa735e8c8ecef2b5946dc2c5f05?s=128&d=identicon&r=PG", "display_name": "jdonmoyer", "link": "https://stackoverflow.com/users/1821566/jdonmoyer"}, "edited": false, "score": 1, "creation_date": 1497385305, "post_id": 44510330, "comment_id": 76053305, "body": "My immediate thought would be that the id android.R.id.button1 is not consistently used across devices/android API level.  This often happens when using the AppCompat libraries since the underlying code in the support library branches extensively by API level.  Can you match on text instead? or modify your application code so that you can use an ID that you control?"}, {"owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "reply_to_user": {"reputation": 1195, "user_id": 1821566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ee9aa735e8c8ecef2b5946dc2c5f05?s=128&d=identicon&r=PG", "display_name": "jdonmoyer", "link": "https://stackoverflow.com/users/1821566/jdonmoyer"}, "edited": false, "score": 0, "creation_date": 1497389768, "post_id": 44510330, "comment_id": 76055599, "body": "@jdonmoyer I had the same thought, but we have a different test that uses <code>android.R.id.button1</code> on API 17 and that one works fine. Also, if it couldn&#39;t find the button I would expect the failure to occur one line earlier."}, {"owner": {"reputation": 1195, "user_id": 1821566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ee9aa735e8c8ecef2b5946dc2c5f05?s=128&d=identicon&r=PG", "display_name": "jdonmoyer", "link": "https://stackoverflow.com/users/1821566/jdonmoyer"}, "edited": false, "score": 0, "creation_date": 1497391072, "post_id": 44510330, "comment_id": 76056139, "body": "Can you share the application code that constructs the ui and fires the intent?"}], "owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1497311407, "creation_date": 1497311407, "question_id": 44510330, "link": "https://stackoverflow.com/questions/44510330/android-espresso-intentsmatcher-works-on-new-device-but-not-old", "title": "Android Espresso IntentsMatcher works on new device but not old", "body": "<p>I have an Espresso unit test that seems to work on newer devices but fails on an API 17 device. Here is the test:</p>\n\n<pre><code>Intents.init()\n[... more setup]\nonView(withId(R.id.username))\n        .perform(typeText(\"username\"))\n        .perform(closeSoftKeyboard())\nonView(withId(android.R.id.button1)).perform((click()))\n\n// This part fails\nintended(hasComponent(AcceptedActivity::class.java.name))\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>android.support.test.espresso.base.DefaultFailureHandler$AssertionFailedWithCauseError: Wanted to match 1 intents. Actually matched 0 intents.\n</code></pre>\n\n<p>I've tried sleeping the thread for 1000ms before <code>intended</code> is called, but that doesn't seem to help.</p>\n\n<p>Any ideas why it succeeds on some devices but not the older one?</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1497317233, "post_id": 44510988, "comment_id": 76014856, "body": "Huh! That seems to have done it. Not sure exactly why, but it&#39;s working now! Thank you!"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 1, "creation_date": 1497333681, "post_id": 44510988, "comment_id": 76019448, "body": "Tip: Try using the builders to create your stackpane as well: <code>override val root = stackpane { text(&quot;...&quot;) }</code>. That way you don&#39;t need the init block, and the code looks a lot cleaner."}], "tags": [], "owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "is_accepted": true, "score": 1, "last_activity_date": 1497323547, "last_edit_date": 1497323547, "creation_date": 1497317158, "answer_id": 44510988, "question_id": 44510083, "link": "https://stackoverflow.com/questions/44510083/cant-get-node-to-center-in-a-stackpane-with-tornadofx/44510988#44510988", "title": "Can&#39;t get node to center in a StackPane with TornadoFX", "body": "<p>Try putting the <code>super.start()</code> call before the <code>minWidth/Height</code> set calls.</p>\n"}, {"comments": [{"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1497387952, "post_id": 44513557, "comment_id": 76054702, "body": "yes its very curious that the original code does not work on linux but does on osx/win.. i&#39;m using 4.470-1-MANJARO, if that helps! and thank you! now that I have placed the minwidth/height below the stage start i have been able to remove the stackpaneConstraints and everything is much cleaner now :-)"}, {"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1497388010, "post_id": 44513557, "comment_id": 76054738, "body": "(also thank you so much for the work you do on tornadofx, it is absolutely wonderful and saved me from a nightmare of Swing ux development)"}, {"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1497397767, "post_id": 44513557, "comment_id": 76058039, "body": "I had a thought: the issue might be because my linux distro automatically installed openjfx with openjdk instead of oracle&#39;s jdk/jfx, and there might be a compatibility issue there"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1497436511, "post_id": 44513557, "comment_id": 76074983, "body": "Glad to hear it: About OpenJDK: That could be the issue, but I think one of the guys on Slack tried it with OracleJDK. Please report back if it&#39;s working for you with OracleJDK!"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 3, "last_activity_date": 1497334290, "creation_date": 1497334290, "answer_id": 44513557, "question_id": 44510083, "link": "https://stackoverflow.com/questions/44510083/cant-get-node-to-center-in-a-stackpane-with-tornadofx/44513557#44513557", "title": "Can&#39;t get node to center in a StackPane with TornadoFX", "body": "<p>We have discussed this on Slack, and we believe there might be a JavaFX discrepancy between Linux and Mac/Windows, since your code works out of the box on Mac/Windows but fails on Linux.</p>\n\n<p>When you place the <code>super.start()</code> call before the <code>minWidth/minHeight</code> configuration, the Scene will already have been created for you, so I believe that to be the cause.</p>\n\n<p>A StackPane will by default center it's children, so there is no need for the <code>stackpaneConstraints</code> configuration. Your code would also look a lot cleaner if you use the builders to define the stackpane as well:</p>\n\n<pre><code>class InputView : View() {\n    override val root = stackpane {\n        text(\"I wish to be centered\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 44510988, "answer_count": 2, "score": 3, "last_activity_date": 1497334290, "creation_date": 1497309768, "question_id": 44510083, "link": "https://stackoverflow.com/questions/44510083/cant-get-node-to-center-in-a-stackpane-with-tornadofx", "title": "Can&#39;t get node to center in a StackPane with TornadoFX", "body": "<p>I am trying to make a simple view where I have a background node (<em>for now, I have a text node here but the final node will be a SVG path</em>) behind a <code>VBox</code>. I'm trying to get my background node to be centered within the root <code>StackPane</code> before I move on to implementing the <code>VBox</code>, but I can't seem to get my node centered properly.</p>\n\n<p>Here are my classes:</p>\n\n<pre><code>class UserInputUI : App(InputView::class, UIStyles::class) {\n  init {\n    reloadStylesheetsOnFocus()\n  }\n\n  override fun start(stage: Stage) {\n    stage.minWidth = 1024.0\n    stage.minHeight = 768.0\n    super.start(stage)\n  }\n}\n\nclass InputView : View() {\n  override val root = StackPane()\n\n  init {\n    text(\"I wish to be centered\") {\n      stackpaneConstraints {\n        alignment = Pos.CENTER\n        addClass(UIStyles.headerFontStyle)\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>and my <code>UIStyles</code> class.. if it's relevant.</p>\n\n<pre><code>class UIStyles : Stylesheet() {\n  companion object {\n    val headerFontStyle by cssclass()\n    private val headerFontColor = Color.BLACK\n  }\n\n  init {\n    headerFontStyle {\n      fontSize = 48.px\n    }\n  }\n}\n</code></pre>\n\n<p>Is there a different way I'm supposed to be centering the node in the middle of a <code>StackPane</code>? I've tried <code>root.alignment = Pos.CENTER</code> in the <code>InputView</code> init function also, but to no avail.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9ibJb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ibJb.png\" alt=\"help this poor box\"></a></p>\n\n<p>I feel like I'm doing something dumb.. any help? Thanks!</p>\n"}, {"tags": ["android", "kotlin", "conflicting-libraries"], "answers": [{"comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 1, "creation_date": 1497306712, "post_id": 44509660, "comment_id": 76012449, "body": "Do you know if the file itself has any significance in the app? Or is it just there as info?"}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1497307016, "post_id": 44509660, "comment_id": 76012531, "body": "I never seen a problem excluding those META-INF files in Android. Btw i don&#39;t know Kotlin enough to be sure that this is useless at 100%. As i suggested in the other comment, you should try with exclude first, if it is working continue to use it (the app will be lighter by some KBs XD), if not switch to pickFirst ;)"}, {"owner": {"reputation": 2029, "user_id": 2838869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2jP7.jpg?s=128&g=1", "display_name": "Antimonit", "link": "https://stackoverflow.com/users/2838869/antimonit"}, "edited": false, "score": 0, "creation_date": 1561702349, "post_id": 44509660, "comment_id": 100157837, "body": "Doesn&#39;t it mean that when we switch to different buildType or productFlavor the same error appears again because it generates files with new names?"}, {"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1580922733, "post_id": 44509660, "comment_id": 106260014, "body": "leads to Kotlin classes not being recognized"}], "tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": true, "score": 17, "last_activity_date": 1497307406, "last_edit_date": 1497307406, "creation_date": 1497306613, "answer_id": 44509660, "question_id": 44509608, "link": "https://stackoverflow.com/questions/44509608/duplicate-files-copied-in-apk-meta-inf-library-release-kotlin-module/44509660#44509660", "title": "Duplicate files copied in APK META-INF/library_release.kotlin_module", "body": "<p>You should add this to the <code>build.gradle</code> file of your app inside the <code>android</code> tag</p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/library_release.kotlin_module'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": false, "score": 9, "last_activity_date": 1497306620, "creation_date": 1497306620, "answer_id": 44509662, "question_id": 44509608, "link": "https://stackoverflow.com/questions/44509608/duplicate-files-copied-in-apk-meta-inf-library-release-kotlin-module/44509662#44509662", "title": "Duplicate files copied in APK META-INF/library_release.kotlin_module", "body": "<p>After looking at other conflicts, it seems like the resolution is</p>\n\n<pre><code>packagingOptions {\n    pickFirst 'META-INF/library_release.kotlin_module'\n}\n</code></pre>\n\n<p>under <code>android</code> in the app gradle.</p>\n\n<p>This allows the apk to build</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 2802101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c16e5d19fbd7e9e42f634b6e87866e?s=128&d=identicon&r=PG&f=1", "display_name": "daemon.yang", "link": "https://stackoverflow.com/users/2802101/daemon-yang"}, "is_accepted": false, "score": 13, "last_activity_date": 1558974911, "creation_date": 1558974911, "answer_id": 56329676, "question_id": 44509608, "link": "https://stackoverflow.com/questions/44509608/duplicate-files-copied-in-apk-meta-inf-library-release-kotlin-module/56329676#56329676", "title": "Duplicate files copied in APK META-INF/library_release.kotlin_module", "body": "<p>As suggested in the post <a href=\"https://blog.jetbrains.com/kotlin/2015/09/kotlin-m13-is-out/\" rel=\"noreferrer\">Kotlin M13 is out!</a> by <code>jetbrains</code>:</p>\n\n<blockquote>\n  <p>Make sure these .kotlin_module files are not stripped by your packaging process. </p>\n</blockquote>\n\n<p>So, we can't use <code>exclude</code> option to exclude this resource file from being generated.</p>\n\n<p>As descripted in <a href=\"https://blog.jetbrains.com/kotlin/2015/09/kotlin-m13-is-out/\" rel=\"noreferrer\">Kotlin M13 is out!</a>, we should:</p>\n\n<p>in Maven we use groupId and artifactId for module names, but you can say</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;moduleName&gt;com.example.mymodule&lt;/moduleName&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>in Gradle it\u2019s project name + build task name, to customize:</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.moduleName = \"com.example.mymodule\"    \n}\n</code></pre>\n\n<p>This is my configuration for <code>Android</code> library project:</p>\n\n<pre><code>ext {\n    GROUP_ID = 'custom.group.id'\n    ARTIFACT_ID = 'artifactid'\n}\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.0\"\n\n    compileOptions {\n        kotlinOptions.freeCompilerArgs += ['-module-name', \"$GROUP_ID.$ARTIFACT_ID\"]\n    }\n\n    defaultConfig {\n        ...\n    }\n    buildTypes {\n        ...\n    }\n}\n</code></pre>\n\n<p>Resource file named <code>META-INF/custom.group.id.artifactId.kotlin_module</code> will be generated instead of <code>META-INF/library_release.kotlin_module</code>.No more duplicate files will be found.</p>\n\n<p>You can read this <a href=\"https://blog.jetbrains.com/kotlin/2015/09/kotlin-m13-is-out/\" rel=\"noreferrer\">post</a> and this <a href=\"https://deskid.github.io/2019/03/05/about-kotlin-module/\" rel=\"noreferrer\">post</a> for more information.</p>\n"}], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8081, "favorite_count": 2, "accepted_answer_id": 44509660, "answer_count": 3, "score": 10, "last_activity_date": 1558974911, "creation_date": 1497306216, "question_id": 44509608, "link": "https://stackoverflow.com/questions/44509608/duplicate-files-copied-in-apk-meta-inf-library-release-kotlin-module", "title": "Duplicate files copied in APK META-INF/library_release.kotlin_module", "body": "<p>I recently added two Android libraries through JitPack and I have the following error:</p>\n\n<pre><code>Duplicate files copied in APK META-INF/library_release.kotlin_module\n</code></pre>\n\n<p>I've cleared the cached and I've tried excluding the module using</p>\n\n<pre><code>exclude group: 'org.jetbrains'\n</code></pre>\n\n<p>and</p>\n\n<pre><code>exclude group: 'org.jetbrains.kotlin'\n</code></pre>\n\n<p>but neither seems to resolve the issue. Is there any way to stop the kotlin stdlib from being added through JitPack? Oddly, other libraries like DbFlow don't have this issue, though I don't see anything special about their setup (other than that it isn't through JitPack)</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "fragmentmanager"], "comments": [{"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 3, "creation_date": 1497298255, "post_id": 44507770, "comment_id": 76009052, "body": "If you are creating support fragments you should use supportFragmentManager instead of fragmentManager"}, {"owner": {"user_type": "does_not_exist", "display_name": "user961376"}, "edited": false, "score": 0, "creation_date": 1497299330, "post_id": 44507770, "comment_id": 76009593, "body": "Could you post your <code>EditRoutine</code> class?"}, {"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497299352, "post_id": 44507770, "comment_id": 76009608, "body": "Thanks for the suggestion. My min API is 19, so I&#39;m using regular Fragments"}, {"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497299604, "post_id": 44507770, "comment_id": 76009718, "body": "EditRoutine has been added"}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "edited": false, "score": 0, "creation_date": 1497324778, "post_id": 44507770, "comment_id": 76016536, "body": "did you apply android-kotlin plugin in your build.gradle file ?"}], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1497352335, "post_id": 44508560, "comment_id": 76031418, "body": "That worked, I guess Kotlin couldn&#39;t see my class&#39;s parent"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user961376"}, "is_accepted": true, "score": 8, "last_activity_date": 1497300885, "creation_date": 1497300885, "answer_id": 44508560, "question_id": 44507770, "link": "https://stackoverflow.com/questions/44507770/fragmenttransaction-wont-compile-in-kotlin-android-project/44508560#44508560", "title": "FragmentTransaction won&#39;t Compile in Kotlin Android Project", "body": "<p>Try this:\n<code>ft.add(R.id.container_all, frag as Fragment).commit()</code></p>\n"}, {"tags": [], "owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1497324140, "creation_date": 1497324140, "answer_id": 44511834, "question_id": 44507770, "link": "https://stackoverflow.com/questions/44507770/fragmenttransaction-wont-compile-in-kotlin-android-project/44511834#44511834", "title": "FragmentTransaction won&#39;t Compile in Kotlin Android Project", "body": "<p>JvmStatic : this annotation is required (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n\n<p>companion object {</p>\n\n<pre><code>/**\n * @param routineID = passed ID. If null, don't load content values\n * *\n * @return A new instance of fragment EditRoutine.\n */\n\n@JvmStatic \nfun newInstance(routineID: String, ctx: Context): EditRoutine {\n    val fragment = EditRoutine()\n    val args = Bundle()\n    args.putString(Keys.b_RoutineID, routineID)\n    fragment.arguments = args\n    return fragment\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 11004423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W050P.png?s=128&g=1", "display_name": "Acmpo6ou", "link": "https://stackoverflow.com/users/11004423/acmpo6ou"}, "is_accepted": false, "score": 0, "last_activity_date": 1601712122, "creation_date": 1601712122, "answer_id": 64182018, "question_id": 44507770, "link": "https://stackoverflow.com/questions/44507770/fragmenttransaction-wont-compile-in-kotlin-android-project/64182018#64182018", "title": "FragmentTransaction won&#39;t Compile in Kotlin Android Project", "body": "<p>The answer with casting fragment as <code>Fragment</code> didn't help me, it still wont compile.</p>\n<p>So I used the advise from BladeCoder and replaced <code>fragmentManager</code> with <code>supportFragmentManager</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun displayEditRoutine(){\n\n    //Set our variables\n    var ft = supportFragmentManager.beginTransaction()\n\n    //Basic &quot;newInstance&quot; constructor to avoid omitting necessary variables\n    var frag = EditRoutine.newInstance(mRoutineID,this)\n\n    //Here is where error occurs\n    ft.add(R.id.are_container, frag).commit()\n\n}\n</code></pre>\n<p>All thanks to <a href=\"https://stackoverflow.com/users/2602791/bladecoder\">BladeCoder</a></p>\n"}], "owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2889, "favorite_count": 0, "accepted_answer_id": 44508560, "answer_count": 3, "score": 4, "last_activity_date": 1601712122, "creation_date": 1497297570, "last_edit_date": 1497299586, "question_id": 44507770, "link": "https://stackoverflow.com/questions/44507770/fragmenttransaction-wont-compile-in-kotlin-android-project", "title": "FragmentTransaction won&#39;t Compile in Kotlin Android Project", "body": "<p>In the process of learning Kotlin with Android, the failure to compile and generally unhelpful error text have left me stumped. The error text says the following:</p>\n\n<blockquote>\n  <p>None of the following functions can be called with the arguments\n  supplied. add(Fragment!, String!) defined in\n  android.app.FragmentTransaction add(Int, Fragment!) defined in\n  android.app.FragmentTransaction</p>\n</blockquote>\n\n<p>In both instances the <em>Fragment!</em> text is highlighted in red. I am aware that Kotlin refers to Java classes with an !, but I can't seem to understand why it is not happy with the way in which I provided the inputs.</p>\n\n<p>Any insight would be greatly appreciated.</p>\n\n<pre><code>    fun displayEditRoutine(){\n\n    //Set our variables\n    var ft = fragmentManager.beginTransaction()\n\n    //Basic \"newInstance\" constructor to avoid omitting necessary variables\n    var frag = EditRoutine.newInstance(mRoutineID,this)\n\n    //Here is where error occurs\n    ft.add(R.id.are_container, frag).commit()\n\n}\n</code></pre>\n\n<p>The EditRoutine class being referenced:</p>\n\n<pre><code>class EditRoutine : Fragment() {\n\n//Variables\nprivate var mRoutineID: String? = null\nprivate var mListener: OnEditRoutineFragmentListener? = null\n\n//Views\n@BindView(R.id.fer_routineName) internal var vRoutine: TextInputEditText? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    if (arguments != null) {\n        mRoutineID = arguments.getString(Keys.b_RoutineID)\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    val v = inflater.inflate(R.layout.fragment_edit_routine, container, false)\n    ButterKnife.bind(activity)\n    return v\n}\n\n// TODO: Rename method, update argument and hook method into UI event\nfun onButtonPressed(): Unit{\n    if (mListener != null &amp;&amp; vRoutine!!.text.toString() != \"\") {\n        val contentValues = ContentValues()\n        contentValues.put(Routine.Table.KEY_NAME, vRoutine!!.text.toString())\n\n        //Pass the values into the interface\n        mListener!!.onDoneClicked(contentValues)\n    }\n}\n\noverride fun onAttach(context: Context) {\n    super.onAttach(context)\n    if (context is OnEditRoutineFragmentListener) {\n        mListener = context\n    } else {\n        throw RuntimeException(context.toString() + \" must implement OnEditRoutineFragmentListener\")\n    }\n}\n\noverride fun onDetach() {\n    super.onDetach()\n    mListener = null\n}\n\n//Internal Methods\n\n\n//Interface\ninterface OnEditRoutineFragmentListener {\n    // TODO: Update argument type and name\n    fun onDoneClicked(cv: ContentValues)\n\n}\n\ncompanion object {\n\n    /**\n     * @param routineID = passed ID. If null, don't load content values\n     * *\n     * @return A new instance of fragment EditRoutine.\n     */\n    fun newInstance(routineID: String, ctx: Context): EditRoutine {\n        val fragment = EditRoutine()\n        val args = Bundle()\n        args.putString(Keys.b_RoutineID, routineID)\n        fragment.arguments = args\n        return fragment\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 5588, "user_id": 2426818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42a66cfd15ef287fc3feeead19f58d9a?s=128&d=identicon&r=PG", "display_name": "verybadalloc", "link": "https://stackoverflow.com/users/2426818/verybadalloc"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497312670, "post_id": 44506838, "comment_id": 76013934, "body": "@tynn Not really. Didn&#39;t find any info online on whether <code>test.kotlin.srcDirs</code> exists or not"}], "answers": [{"comments": [{"owner": {"reputation": 5588, "user_id": 2426818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42a66cfd15ef287fc3feeead19f58d9a?s=128&d=identicon&r=PG", "display_name": "verybadalloc", "link": "https://stackoverflow.com/users/2426818/verybadalloc"}, "edited": false, "score": 0, "creation_date": 1497446181, "post_id": 44525107, "comment_id": 76082345, "body": "Pretty sure this won&#39;t work. I don&#39;t have <code>src&#47;main&#47;kotlin</code> nor <code>src&#47;test&#47;kotlin</code>. What I need is for Kotlin unit tests (who are in <code>src&#47;test&#47;java</code>, not <code>src&#47;test&#47;kotlin</code>) to be able to access Java clases. Unless you are suggesting that I should move said Kotlin unit tests to <code>src&#47;test&#47;kotlin</code>..."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 5588, "user_id": 2426818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42a66cfd15ef287fc3feeead19f58d9a?s=128&d=identicon&r=PG", "display_name": "verybadalloc", "link": "https://stackoverflow.com/users/2426818/verybadalloc"}, "edited": false, "score": 0, "creation_date": 1497446299, "post_id": 44525107, "comment_id": 76082447, "body": "Yes, you should have a different source set for Kotlin. I tried this setup and didn&#39;t have any issues. But if you have the Kotlin sources in the Java source set alread, it should have the same effect using the last two lines..."}, {"owner": {"reputation": 5588, "user_id": 2426818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42a66cfd15ef287fc3feeead19f58d9a?s=128&d=identicon&r=PG", "display_name": "verybadalloc", "link": "https://stackoverflow.com/users/2426818/verybadalloc"}, "edited": false, "score": 0, "creation_date": 1497446661, "post_id": 44525107, "comment_id": 76082756, "body": "Alright, I will give it a try, and report back. Thanks!"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1497366005, "creation_date": 1497366005, "answer_id": 44525107, "question_id": 44506838, "link": "https://stackoverflow.com/questions/44506838/share-code-between-unit-test-and-instrumentation-tests-when-using-kotlin/44525107#44525107", "title": "Share code between unit test and instrumentation tests when using kotlin", "body": "<p>The default setup would be making the Kotlin source sets visible to the Java compiler and the IDE as well:</p>\n\n<pre><code>android {\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        test.java.srcDirs += 'src/test/kotlin'\n        test.java.srcDirs += 'src/sharedTest/java'\n        androidTest.java.srcDirs += 'src/sharedTest/java'\n    }\n}\n</code></pre>\n\n<p>You don't need to configure the Kotlin source sets by itself.</p>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 971436, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000443234558/picture?type=large", "display_name": "Andrzej Sawoniewicz", "link": "https://stackoverflow.com/users/971436/andrzej-sawoniewicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521127992, "last_edit_date": 1521127992, "creation_date": 1521126108, "answer_id": 49302847, "question_id": 44506838, "link": "https://stackoverflow.com/questions/44506838/share-code-between-unit-test-and-instrumentation-tests-when-using-kotlin/49302847#49302847", "title": "Share code between unit test and instrumentation tests when using kotlin", "body": "<p>If your project has both <strong>java</strong> and <strong>kotlin</strong> code the key is to have:</p>\n\n<pre><code>src/{folderName}/java\n</code></pre>\n\n<p>and</p>\n\n<pre><code>src/{folderName}/kotlin\n</code></pre>\n\n<p>Where {folderName} is: test, androidTest, sharedTest or whatever.</p>\n\n<p>I use:</p>\n\n<pre><code>android {\n    sourceSets {\n        androidTest.java.srcDirs += \"src/androidTest/kotlin\"\n        androidTest.java.srcDirs += \"src/sharedTest/java\"\n        androidTest.java.srcDirs += \"src/sharedTest/kotlin\"\n        test.java.srcDirs += \"src/test/kotlin\"\n        test.java.srcDirs += \"src/sharedTest/java\"\n        test.java.srcDirs += \"src/sharedTest/kotlin\"\n    }\n}\n</code></pre>\n\n<p>This is some inconsistency as you can have all java and kotlin code under the same:</p>\n\n<pre><code>main/java\n</code></pre>\n\n<p>directory.</p>\n"}], "owner": {"reputation": 5588, "user_id": 2426818, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42a66cfd15ef287fc3feeead19f58d9a?s=128&d=identicon&r=PG", "display_name": "verybadalloc", "link": "https://stackoverflow.com/users/2426818/verybadalloc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1521127992, "creation_date": 1497293892, "last_edit_date": 1497294794, "question_id": 44506838, "link": "https://stackoverflow.com/questions/44506838/share-code-between-unit-test-and-instrumentation-tests-when-using-kotlin", "title": "Share code between unit test and instrumentation tests when using kotlin", "body": "<p>Similar question: <a href=\"https://stackoverflow.com/questions/30627749/sharing-code-between-android-instrumentation-tests-and-unit-tests-in-android-stu\">Sharing code between Android Instrumentation Tests and Unit Tests in Android Studio</a></p>\n\n<p>My setup is the following:</p>\n\n<ul>\n<li><code>src/test</code> folder that contains unit tests. These can be either Java or Kotlin classes</li>\n<li><code>src/androidTest</code> that contains instrumentation tests. These can also be either Java or Kotlin classes</li>\n<li><code>src/sharedTest</code> is a folder that contains a bunch of utils that are shared between unit and instrumentation tests.</li>\n</ul>\n\n<p>This sharing is defined in gradle as:</p>\n\n<pre><code>sourceSets {\n    test.java.srcDirs += 'src/sharedTest/java'\n    androidTest.java.srcDirs += 'src/sharedTest/java'\n}\n</code></pre>\n\n<p>This allows any <em>Java</em> class in <code>src/test</code> or <code>src/androidTest</code> to access the utils. but not the Kotlin unit tests. My assumption is that they are not added to the sourceSets.</p>\n\n<p>My question is: how can I add them? I tried:</p>\n\n<pre><code>sourceSets {\n    test.kotlin.srcDirs += 'src/sharedTest/java'\n}\n</code></pre>\n\n<p>But that doesn't seem to work.</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-el"], "answers": [{"comments": [{"owner": {"reputation": 3871, "user_id": 889053, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3e26b08aa9c9bff40d6dab7b98680bf4?s=128&d=identicon&r=PG", "display_name": "Christian Bongiorno", "link": "https://stackoverflow.com/users/889053/christian-bongiorno"}, "edited": false, "score": 1, "creation_date": 1497297932, "post_id": 44506816, "comment_id": 76008907, "body": "You nailed it! Thanks"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 22, "last_activity_date": 1497293835, "creation_date": 1497293835, "answer_id": 44506816, "question_id": 44506762, "link": "https://stackoverflow.com/questions/44506762/kotlin-compiler-complains-about-using-a-spel-expression-in-a-property-definition/44506816#44506816", "title": "Kotlin compiler complains about using a SPeL expression in a property definition. WHY?", "body": "<p><code>${roots}</code> inside a String in Kotlin is a <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"noreferrer\">string template</a>, therefore that String is not a constant.</p>\n\n<p>If you want the String to contain those actual characters and not be interpreted as a template, you'll have to escape the <code>$</code>:</p>\n\n<pre><code>@Value(\"#{new java.io.File('\\${roots}')}\")\n</code></pre>\n"}], "owner": {"reputation": 3871, "user_id": 889053, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3e26b08aa9c9bff40d6dab7b98680bf4?s=128&d=identicon&r=PG", "display_name": "Christian Bongiorno", "link": "https://stackoverflow.com/users/889053/christian-bongiorno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3763, "favorite_count": 1, "accepted_answer_id": 44506816, "answer_count": 1, "score": 8, "last_activity_date": 1504881033, "creation_date": 1497293597, "last_edit_date": 1504881033, "question_id": 44506762, "link": "https://stackoverflow.com/questions/44506762/kotlin-compiler-complains-about-using-a-spel-expression-in-a-property-definition", "title": "Kotlin compiler complains about using a SPeL expression in a property definition. WHY?", "body": "<p>When I try to use a SPeL expression to inject a value it works from in Java but NOT in Kotlin. The compiler says</p>\n\n<blockquote>\n  <p>Error:(13, 25) Kotlin: An annotation parameter must be a compile-time constant</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>@SpringBootApplication\nopen class DeDup(@Value(\"#{new java.io.File('${roots}')}\") val roots: Set&lt;File&gt;,\n                 @Value(\"algo\") val hashAlgo: String,\n                 @Value(\"types\")val fileTypes: List&lt;String&gt;) {\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n SpringApplication.run(DeDup::class.java, *args)\n}\n</code></pre>\n\n<p>Mmm... news flash Kotlin compiler: It IS a constant! The compiler clearly knows it's a SPeL expression and doesn't like it. </p>\n\n<p>My questions:</p>\n\n<ol>\n<li><p>Why doesn't Kotlin like SPeL? This is a construction injection (or is it) and doesn't violate immutability.</p></li>\n<li><p>Is this a compiler bug? The message is irrefutably wrong.</p></li>\n</ol>\n"}, {"tags": ["java", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "edited": false, "score": 1, "creation_date": 1497282435, "post_id": 44503547, "comment_id": 76000827, "body": "Long is not primitive type. long is primitive."}, {"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "reply_to_user": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "edited": false, "score": 0, "creation_date": 1497282806, "post_id": 44503547, "comment_id": 76001073, "body": "So <code>Long</code> is not a type in kotlin, but <code>Int</code> is? How do you get the primitive of <code>Int</code>?"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "reply_to_user": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "edited": false, "score": 0, "creation_date": 1497283028, "post_id": 44503547, "comment_id": 76001211, "body": "@DalijaPrasnikar Kotlin makes no distinction between primitives and boxed types."}, {"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1497283087, "post_id": 44503547, "comment_id": 76001253, "body": "ok, but that still doesnt make any sense. what&#39;s so special about <code>Long</code> that makes it a primitive, yet every other structure is a type? (like Double, Int..)"}, {"owner": {"reputation": 4659, "user_id": 2595033, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bd78391e14ec16fe30d2e1811a841c70?s=128&d=identicon&r=PG", "display_name": "user9993", "link": "https://stackoverflow.com/users/2595033/user9993"}, "edited": false, "score": 1, "creation_date": 1497283198, "post_id": 44503547, "comment_id": 76001316, "body": "&quot;I know I shouldn&#39;t ask &quot;why&quot; questions in here&quot; What gave you that odd idea? There&#39;s millions of questions like that."}, {"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1497283264, "post_id": 44503547, "comment_id": 76001350, "body": ":) true, but there are many &quot;why does my code not work&quot; without any information"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 1, "creation_date": 1497283294, "post_id": 44503547, "comment_id": 76001367, "body": "I can see why <code>Long</code> -&gt; <code>Long?</code>, since in Java, you can also pass <code>null</code> for the second parameter. But I don&#39;t understand why it doesn&#39;t make it <code>String?</code>, since you can also pass <code>null</code> for the first parameter. <code>int</code> -&gt; <code>Int</code> makes sense, because an <code>int</code> can not be <code>null</code>."}, {"owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "reply_to_user": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "edited": false, "score": 0, "creation_date": 1497283343, "post_id": 44503547, "comment_id": 76001401, "body": "@DalijaPrasnikar String isn&#39;t primitive either."}, {"owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1497283738, "post_id": 44503547, "comment_id": 76001616, "body": "@Thomas I am talking about Java. <code>Long</code> is not primitive in Java and can be null, on the other hand <code>long</code> is primitive and will always have some value. <code>String</code>  probably has special treatment due its nature - empty string can be used as default value. In many languages Strings have special treatment and considerations. Most of the time you would prefer <code>String</code> not to be nullable."}], "answers": [{"comments": [{"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1497286952, "post_id": 44504340, "comment_id": 76003320, "body": "that&#39;s an awesome answer and explanation. thank you!"}], "tags": [], "owner": {"reputation": 23891, "user_id": 4267244, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/njcHD.jpg?s=128&g=1", "display_name": "Dalija Prasnikar", "link": "https://stackoverflow.com/users/4267244/dalija-prasnikar"}, "is_accepted": true, "score": 2, "last_activity_date": 1497285605, "last_edit_date": 1497285605, "creation_date": 1497284833, "answer_id": 44504340, "question_id": 44503547, "link": "https://stackoverflow.com/questions/44503547/why-android-studio-converts-some-primitive-kotlin-types-as-conditional-safe-oper/44504340#44504340", "title": "Why Android Studio converts some primitive Kotlin types as conditional/safe operator?", "body": "<p>Question is why Kotlin converts primitive Kotlin types as nullable types?</p>\n\n<p>First - Kotlin does not have primitive types - it only optimizes some basic types representation on the JVM when it can. <a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"nofollow noreferrer\">Kotlin Basic Types</a> </p>\n\n<p>Second - here it is important to note that you are converting Java code to Kotlin. So your Java code and its types are the ones that make difference in conversion.</p>\n\n<p>In Java <code>Long</code> is class, and not primitive type. In Java <code>long</code> is primitive counterpart to <code>Long</code>.</p>\n\n<p>So your <code>Long</code> parameter can be null in Java and it was rightfully converted to nullable <code>Long?</code> Your <code>int</code> parameter is primitive type in Java - it cannot be null - and it is converted as non-nullable <code>Int</code></p>\n\n<p>If you had different Java class declaration</p>\n\n<pre><code>class MyClass {\n    private String userId;\n    private long newFolderId;\n    private int oldFolderId;\n\n    public MyClass(final String userId, final long newFolderId, final int oldFolderId) {\n        this.userId = userId;\n        this.newFolderId = newFolderId;\n        this.oldFolderId = oldFolderId;\n    }\n}\n</code></pre>\n\n<p>it would be converted as</p>\n\n<pre><code>internal inner class MyClass(private val userId: String, private val newFolderId: Long, private val oldFolderId: Int)\n</code></pre>\n\n<p>As you can see primitive <code>long</code> is converted to non-nullable <code>Long</code></p>\n\n<hr>\n\n<p>Why exactly is non-primitive <code>String</code> type converted as non-nullable?</p>\n\n<p>That part of the question is somewhat opinion-based - or at least answer is.</p>\n\n<p><code>String</code> probably has special treatment due its nature - empty string can be used as default value. In many languages strings have special treatment and considerations. Most of the time you would prefer <code>String</code> variable not to be nullable. Since Kotlin emphasizes null safety it is logical that default code conversion will treat <code>String</code> as non-nullable.</p>\n\n<hr>\n\n<p>As far as null-safety is concerned. Every piece of code when you can use non-nullable type is safer and simpler to deal with than code that uses nullable type. So <code>Long</code> is preferred to <code>Long?</code> where applicable.</p>\n"}], "owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 1, "accepted_answer_id": 44504340, "answer_count": 1, "score": 4, "last_activity_date": 1497285605, "creation_date": 1497282246, "last_edit_date": 1497283017, "question_id": 44503547, "link": "https://stackoverflow.com/questions/44503547/why-android-studio-converts-some-primitive-kotlin-types-as-conditional-safe-oper", "title": "Why Android Studio converts some primitive Kotlin types as conditional/safe operator?", "body": "<p>I know I shouldn't ask \"why\" questions in here, but I hope this is one of the allowed exceptions since it is a code related question. I just don't know the consequences yet on this new language.</p>\n\n<p>I'm using Android studio 3.0 canary 3, and I'm converting java code to Kotlin. A lot of the code is being converted manually, but some other code I'm converting it by copy/pasting java to a new Kotlin file.</p>\n\n<p>So far, so good. However, I started to notice this:</p>\n\n<p>Java code:</p>\n\n<pre><code>class MyClass {\n    private String userId;\n    private Long newFolderId;\n    private int oldFolderId;\n\n    public MyClass(final String userId, final Long newFolderId, final int oldFolderId) {\n        this.userId = userId;\n        this.newFolderId = newFolderId;\n        this.oldFolderId = oldFolderId;\n    }\n}\n</code></pre>\n\n<p>I copy this small chunk of code to Kotlin, and it gets automatically converted to this:</p>\n\n<pre><code>class MyClass(private val userId: String, \n              private val newFolderId: Long?, \n              private val oldFolderId: Int)\n</code></pre>\n\n<p>So, my question at this point is why did the <code>Long</code> get converted to <code>Long?</code></p>\n\n<p>If this is able null safety, shouldn't ALL of the variables then be <code>?</code>? Like, <code>String?</code> and <code>Int?</code></p>\n\n<p>Why just <code>Long</code>?</p>\n\n<p>Also, I know I'm passing a long for this class, so would it be bad to just remove the <code>?</code> from the Long, and just call it <code>Long</code>?</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1497322743, "post_id": 44503399, "comment_id": 76016068, "body": "Could you have somewhere nearby an overload of <code>foo</code> taking one parameter and returning <code>Unit</code>?"}, {"owner": {"reputation": 425, "user_id": 124288, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e556a2a252e0c2de053bb02de5a76138?s=128&d=identicon&r=PG", "display_name": "FOOM", "link": "https://stackoverflow.com/users/124288/foom"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1497339499, "post_id": 44503399, "comment_id": 76022679, "body": "Thanks Ilya, helped me track it down - was including a different file with a foo(a: Any?) method that was being included in class path"}], "owner": {"reputation": 425, "user_id": 124288, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e556a2a252e0c2de053bb02de5a76138?s=128&d=identicon&r=PG", "display_name": "FOOM", "link": "https://stackoverflow.com/users/124288/foom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497356899, "creation_date": 1497281829, "last_edit_date": 1497356899, "question_id": 44503399, "link": "https://stackoverflow.com/questions/44503399/kotlin-koans-not-working-am-i-going-crazy", "title": "Kotlin koans not working? Am I going crazy?", "body": "<p>Kotlin koan 3, \"Default Arguments\", seems pretty simple but I can't solve it:</p>\n\n<pre><code>fun foo(name: String = \"\", number: Int = 42, toUpperCase: Boolean = false): String {\n    if(!toUpperCase)\n        return name+number\n    else\n        return name.toUpperCase()+number\n}\n\nfun task3(): String {\n//    todoTask3()\n        return ( foo(\"a\") +\n            foo(\"b\", number = 1) +\n            foo(\"c\", toUpperCase = true) +\n            foo(name = \"d\", number = 2, toUpperCase = true))\n}\n</code></pre>\n\n<p>The first \"+\" symbol is marked as an error in Intellij, with a wicked long stack trace:</p>\n\n<pre><code>Error:(27, 22) Kotlin: Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n@InlineOnly public operator inline fun BigDecimal.plus(other: BigDecimal): BigDecimal defined in kotlin\n@InlineOnly public operator inline fun BigInteger.plus(other: BigInteger): BigInteger defined in kotlin\npublic operator fun &lt;T&gt; Array&lt;???&gt;.plus(elements: Array&lt;out ???&gt;): Array&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Array&lt;???&gt;.plus(elements: Collection&lt;???&gt;): Array&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Array&lt;String&gt;.plus(element: String): Array&lt;String&gt; defined in kotlin.collections\npublic operator fun BooleanArray.plus(element: Boolean): BooleanArray defined in kotlin.collections\npublic operator fun BooleanArray.plus(elements: BooleanArray): BooleanArray defined in kotlin.collections\npublic operator fun BooleanArray.plus(elements: Collection&lt;Boolean&gt;): BooleanArray defined in kotlin.collections\npublic operator fun ByteArray.plus(element: Byte): ByteArray defined in kotlin.collections\npublic operator fun ByteArray.plus(elements: ByteArray): ByteArray defined in kotlin.collections\npublic operator fun ByteArray.plus(elements: Collection&lt;Byte&gt;): ByteArray defined in kotlin.collections\n@InlineOnly public operator inline fun Char.plus(other: String): String defined in kotlin.text\npublic operator fun CharArray.plus(element: Char): CharArray defined in kotlin.collections\npublic operator fun CharArray.plus(elements: CharArray): CharArray defined in kotlin.collections\npublic operator fun CharArray.plus(elements: Collection&lt;Char&gt;): CharArray defined in kotlin.collections\npublic operator fun DoubleArray.plus(element: Double): DoubleArray defined in kotlin.collections\npublic operator fun DoubleArray.plus(elements: DoubleArray): DoubleArray defined in kotlin.collections\npublic operator fun DoubleArray.plus(elements: Collection&lt;Double&gt;): DoubleArray defined in kotlin.collections\npublic operator fun FloatArray.plus(element: Float): FloatArray defined in kotlin.collections\npublic operator fun FloatArray.plus(elements: FloatArray): FloatArray defined in kotlin.collections\npublic operator fun FloatArray.plus(elements: Collection&lt;Float&gt;): FloatArray defined in kotlin.collections\npublic operator fun IntArray.plus(element: Int): IntArray defined in kotlin.collections\npublic operator fun IntArray.plus(elements: IntArray): IntArray defined in kotlin.collections\npublic operator fun IntArray.plus(elements: Collection&lt;Int&gt;): IntArray defined in kotlin.collections\npublic operator fun LongArray.plus(element: Long): LongArray defined in kotlin.collections\npublic operator fun LongArray.plus(elements: LongArray): LongArray defined in kotlin.collections\npublic operator fun LongArray.plus(elements: Collection&lt;Long&gt;): LongArray defined in kotlin.collections\npublic operator fun ShortArray.plus(element: Short): ShortArray defined in kotlin.collections\npublic operator fun ShortArray.plus(elements: ShortArray): ShortArray defined in kotlin.collections\npublic operator fun ShortArray.plus(elements: Collection&lt;Short&gt;): ShortArray defined in kotlin.collections\npublic operator fun String?.plus(other: Any?): String defined in kotlin\npublic operator fun String?.plus(other: Any?): String defined in kotlin\npublic operator fun &lt;T&gt; Collection&lt;???&gt;.plus(elements: Array&lt;out ???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Collection&lt;???&gt;.plus(elements: Iterable&lt;???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Collection&lt;???&gt;.plus(elements: Sequence&lt;???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Collection&lt;String&gt;.plus(element: String): List&lt;String&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Iterable&lt;???&gt;.plus(elements: Array&lt;out ???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Iterable&lt;???&gt;.plus(elements: Iterable&lt;???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Iterable&lt;???&gt;.plus(elements: Sequence&lt;???&gt;): List&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Iterable&lt;String&gt;.plus(element: String): List&lt;String&gt; defined in kotlin.collections\npublic operator fun &lt;K, V&gt; Map&lt;out ???, ???&gt;.plus(pairs: Array&lt;out Pair&lt;???, ???&gt;&gt;): Map&lt;???, ???&gt; defined in kotlin.collections\npublic operator fun &lt;K, V&gt; Map&lt;out ???, ???&gt;.plus(pair: Pair&lt;???, ???&gt;): Map&lt;???, ???&gt; defined in kotlin.collections\npublic operator fun &lt;K, V&gt; Map&lt;out ???, ???&gt;.plus(pairs: Iterable&lt;Pair&lt;???, ???&gt;&gt;): Map&lt;???, ???&gt; defined in kotlin.collections\npublic operator fun &lt;K, V&gt; Map&lt;out ???, ???&gt;.plus(map: Map&lt;out ???, ???&gt;): Map&lt;???, ???&gt; defined in kotlin.collections\npublic operator fun &lt;K, V&gt; Map&lt;out ???, ???&gt;.plus(pairs: Sequence&lt;Pair&lt;???, ???&gt;&gt;): Map&lt;???, ???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Set&lt;???&gt;.plus(elements: Array&lt;out ???&gt;): Set&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Set&lt;???&gt;.plus(elements: Iterable&lt;???&gt;): Set&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Set&lt;???&gt;.plus(elements: Sequence&lt;???&gt;): Set&lt;???&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Set&lt;String&gt;.plus(element: String): Set&lt;String&gt; defined in kotlin.collections\npublic operator fun &lt;T&gt; Sequence&lt;???&gt;.plus(elements: Array&lt;out ???&gt;): Sequence&lt;???&gt; defined in kotlin.sequences\npublic operator fun &lt;T&gt; Sequence&lt;???&gt;.plus(elements: Iterable&lt;???&gt;): Sequence&lt;???&gt; defined in kotlin.sequences\npublic operator fun &lt;T&gt; Sequence&lt;???&gt;.plus(elements: Sequence&lt;???&gt;): Sequence&lt;???&gt; defined in kotlin.sequences\npublic operator fun &lt;T&gt; Sequence&lt;String&gt;.plus(element: String): Sequence&lt;String&gt; defined in kotlin.sequences\n</code></pre>\n\n<p>and if I change the first call from foo(\"a\") to foo(\"a\").toString(),</p>\n\n<p>I get the following: </p>\n\n<p>org.junit.Comparison</p>\n\n<pre><code>Failure: \nExpected :a42b1C42D2\nActual   :kotlin.Unitb1C42D2\n</code></pre>\n\n<p>So it's actually returning \"kotlin.Unit\"?</p>\n\n<p>What foolish thing am I doing?</p>\n"}, {"tags": ["android", "rx-java", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 5212412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1593488410873712/picture?type=large", "display_name": "Daniel Christopher", "link": "https://stackoverflow.com/users/5212412/daniel-christopher"}, "edited": false, "score": 0, "creation_date": 1497287619, "post_id": 44505103, "comment_id": 76003667, "body": "Awesome, thank you! Could you give an example of what you mean by using publish() ?"}, {"owner": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "reply_to_user": {"reputation": 221, "user_id": 5212412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1593488410873712/picture?type=large", "display_name": "Daniel Christopher", "link": "https://stackoverflow.com/users/5212412/daniel-christopher"}, "edited": false, "score": 0, "creation_date": 1497288067, "post_id": 44505103, "comment_id": 76003907, "body": "example added with publish selector, with this way, we&#39;ll have both the original result of fetchFromDb() and the resulted flatMapped fetchFromDb"}, {"owner": {"reputation": 221, "user_id": 5212412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1593488410873712/picture?type=large", "display_name": "Daniel Christopher", "link": "https://stackoverflow.com/users/5212412/daniel-christopher"}, "edited": false, "score": 0, "creation_date": 1497288102, "post_id": 44505103, "comment_id": 76003931, "body": "Thank you so much for your help."}], "tags": [], "owner": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "is_accepted": true, "score": 3, "last_activity_date": 1497287987, "last_edit_date": 1497287987, "creation_date": 1497287471, "answer_id": 44505103, "question_id": 44503112, "link": "https://stackoverflow.com/questions/44503112/rxjava-observable-create-wrapping-observable-subscriptions/44505103#44505103", "title": "RxJava Observable.create wrapping observable subscriptions", "body": "<p>Yes, it will cause an issues.  </p>\n\n<p>First, it is not idiomatic to nest <code>Observable</code> like this, one of the strengths of Reactive approach, is composing <code>Observables</code>, and thus have single clean stream. with this way, you are breaking the chain, and the immediate result is intertwined code which is harder to read, and more code to wire up the notification events, basically it is like wrapping async callback methods with <code>Observable</code>.<br>\nhere as you have already reactive components you can simply compose them instead of treating them with callback approach.</p>\n\n<p>Second, as a result of breaking the chain, the most sever and immediate one - unsubscribing the outer <code>Observable</code> will not affect automatically the inner <code>Observable</code>.   same goes for trying to add <code>subscribeOn()</code> and with different scenario where backpressure is important it's also apply.</p>\n\n<p>an composing alternative might be something like this:</p>\n\n<pre><code>fun fetch2(): Observable&lt;Optional&lt;DbType&gt;&gt; {\n        return fetchFromDb()\n                .flatMap {\n                    if (shouldFetchFromApi(it.get())) {\n                        fetchFromApi()\n                                .observeOn(schedulerProvider.io())\n                                .doOnSuccess { saveToDb(it) }\n                                .observeOn(schedulerProvider.ui())\n                                .flatMapObservable {\n                                    fetchFromDb()\n                                }\n\n                    } else {\n                        Observable.empty()\n                    }\n                }\n    }\n</code></pre>\n\n<p>if from some reason, you want in any case the first <code>fetchFromDb()</code> result to be emitted separately, you can also do it using <code>publish()</code> with selector:</p>\n\n<pre><code> fun fetch2(): Observable&lt;Optional&lt;DbType&gt;&gt; {\n    return fetchFromDb()\n            .publish {\n                Observable.merge(it,\n                        it.flatMap {\n                            if (shouldFetchFromApi(it.get())) {\n                                fetchFromApi()\n                                        .observeOn(schedulerProvider.io())\n                                        .doOnSuccess { saveToDb(it) }\n                                        .observeOn(schedulerProvider.ui())\n                                        .flatMapObservable {\n                                            fetchFromDb()\n                                        }\n\n                            } else {\n                                Observable.empty()\n                            }\n                        })\n            }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 5212412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1593488410873712/picture?type=large", "display_name": "Daniel Christopher", "link": "https://stackoverflow.com/users/5212412/daniel-christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 44505103, "answer_count": 1, "score": 3, "last_activity_date": 1497287987, "creation_date": 1497281006, "question_id": 44503112, "link": "https://stackoverflow.com/questions/44503112/rxjava-observable-create-wrapping-observable-subscriptions", "title": "RxJava Observable.create wrapping observable subscriptions", "body": "<p>I used Observable.create so I could notify the subscriber when certain data was available. I am a little uncertain of subscribing to observables inside of my create method. Are these nested subscriptions going to give me any sort of issue? I'm not completely familiar with creating observables using Observable.create so I wanted to make sure I'm not doing anything out of the ordinary or misusing it. Thank you in advance!</p>\n\n<pre><code>abstract class NetworkResource&lt;ApiType, DbType&gt; constructor(private val schedulerProvider: SchedulerProvider) {\n\n    abstract fun fetchFromApi(): Single&lt;ApiType&gt;\n    abstract fun fetchFromDb(): Observable&lt;Optional&lt;DbType&gt;&gt;\n    abstract fun saveToDb(apiType: ApiType?)\n    abstract fun shouldFetchFromApi(cache: DbType?): Boolean\n\n    fun fetch(): Observable&lt;Optional&lt;DbType&gt;&gt;  {\n        return Observable.create&lt;Optional&lt;DbType&gt;&gt; {\n            val subscriber = it\n\n            fetchFromDb()\n                    .subscribe({\n                        subscriber.onNext(it)\n\n                        if(shouldFetchFromApi(it.get())) {\n                            fetchFromApi()\n                                    .observeOn(schedulerProvider.io())\n                                    .map {\n                                        saveToDb(it)\n                                        it\n                                    }\n                                    .observeOn(schedulerProvider.ui())\n                                    .flatMapObservable {\n                                        fetchFromDb()\n                                    }\n                                    .subscribe({\n                                        subscriber.onNext(it)\n                                        subscriber.onComplete()\n                                    })\n                        }\n                        else {\n                            subscriber.onComplete()\n                        }\n                    })\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["constructor", "kotlin", "pojo"], "answers": [{"comments": [{"owner": {"reputation": 15070, "user_id": 210916, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5c7e713b6f536d3fa0c9e1fbbdfb9c1?s=128&d=identicon&r=PG", "display_name": "MPelletier", "link": "https://stackoverflow.com/users/210916/mpelletier"}, "edited": false, "score": 0, "creation_date": 1497280847, "post_id": 44502921, "comment_id": 75999747, "body": "Wow. That&#39;s elegant. Thanks!"}, {"owner": {"reputation": 2283, "user_id": 320911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/adCJz.jpg?s=128&g=1", "display_name": "Arto Bendiken", "link": "https://stackoverflow.com/users/320911/arto-bendiken"}, "edited": false, "score": 1, "creation_date": 1526578555, "post_id": 44502921, "comment_id": 87810475, "body": "<i>&quot;NOTE: On the JVM, if all of the parameters of the primary constructor have default values, the compiler will generate an additional parameterless constructor which will use the default values. This makes it easier to use Kotlin with libraries such as Jackson or JPA that create class instances through parameterless constructors.&quot;</i> <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a>"}, {"owner": {"reputation": 688, "user_id": 4102958, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3970da9a5bb062fd11dcdd73a80e82c6?s=128&d=identicon&r=PG&f=1", "display_name": "Siddarth G", "link": "https://stackoverflow.com/users/4102958/siddarth-g"}, "edited": false, "score": 0, "creation_date": 1579255644, "post_id": 44502921, "comment_id": 105713363, "body": "not able to call Person() with no parameters.. shows compilation error"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 23, "last_activity_date": 1497280467, "creation_date": 1497280467, "answer_id": 44502921, "question_id": 44502895, "link": "https://stackoverflow.com/questions/44502895/defining-a-default-constructor-and-a-secondary-constructor-in-kotlin-with-prope/44502921#44502921", "title": "Defining a default constructor and a secondary constructor in Kotlin, with properties", "body": "<p>You can have just a primary constructor with parameters that have <a href=\"https://kotlinlang.org/docs/reference/functions.html#default-arguments\" rel=\"noreferrer\">default values</a>:</p>\n\n<pre><code>class Person(var firstName: String? = null, var lastName: String? = null)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "is_accepted": false, "score": 2, "last_activity_date": 1543769742, "creation_date": 1543769742, "answer_id": 53582508, "question_id": 44502895, "link": "https://stackoverflow.com/questions/44502895/defining-a-default-constructor-and-a-secondary-constructor-in-kotlin-with-prope/53582508#53582508", "title": "Defining a default constructor and a secondary constructor in Kotlin, with properties", "body": "<p>There are 2 ways to do this.  Both require <code>val</code> and <code>var</code> in primary.</p>\n\n<h1>Default Parameters In Primary</h1>\n\n<pre><code>class Person(var firstName: String? = null, var lastName: String? = null)\n</code></pre>\n\n<h1>Secondary Constructor Calling Primary</h1>\n\n<pre><code>class Person(var firstName: String?, var lastName: String?) {\n    constructor() : this(null, null) {\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15070, "user_id": 210916, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5c7e713b6f536d3fa0c9e1fbbdfb9c1?s=128&d=identicon&r=PG", "display_name": "MPelletier", "link": "https://stackoverflow.com/users/210916/mpelletier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13159, "favorite_count": 2, "accepted_answer_id": 44502921, "answer_count": 2, "score": 6, "last_activity_date": 1543769742, "creation_date": 1497280384, "question_id": 44502895, "link": "https://stackoverflow.com/questions/44502895/defining-a-default-constructor-and-a-secondary-constructor-in-kotlin-with-prope", "title": "Defining a default constructor and a secondary constructor in Kotlin, with properties", "body": "<p>I'm trying to make a simple POJO (POKO?) class in Kotlin, with a default empty constructor and a secondary constructor with parameters, that feeds properties</p>\n\n<p>This doesn't give me <code>firstName</code> and <code>lastName</code> properties:</p>\n\n<pre><code>class Person() {\n\n    constructor(firstName: String?, lastName: String?) : this()\n}\n</code></pre>\n\n<p>This gives me the properties, but they're not set after instantiation:</p>\n\n<pre><code>class Person() {\n\n    constructor(firstName: String?, lastName: String?) : this()\n\n    var firstName: String? = null\n    var lastName: String? = null\n}\n</code></pre>\n\n<p>And this gives me a compile error saying \"'var' on secondary constructor parameter is not allowed.\":</p>\n\n<pre><code>class Person() {\n\n    constructor(var firstName: String?, var lastName: String?) : this()\n}\n</code></pre>\n\n<p>So, how is this done? How can I have a default constructor and a secondary constructor with parameters and properties?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497279477, "post_id": 44502164, "comment_id": 75998783, "body": "Could you add more information? The <code>presenter.usernameError()</code> method might be of interest as well. Also you&#39;re redefining <code>username</code> and <code>password</code> which doesn&#39;t seem right."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1497279489, "post_id": 44502164, "comment_id": 75998795, "body": "Did you mean to throw the return values from <code>preseneter.usernameError()</code> and <code>presenter.passwordError()</code>? If so, you need to change your statements after <code>?:</code> to <code>throw preseneter.usernameError()</code> and <code>throw presenter.passwordError()</code> respectively."}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497279696, "post_id": 44502164, "comment_id": 75998933, "body": "usernameError() and showError() must be open a dialog alert to show user that field is empty @tynn"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497279727, "post_id": 44502164, "comment_id": 75998949, "body": "So these return <code>Unit</code>?"}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497279854, "post_id": 44502164, "comment_id": 75999041, "body": "@tynn yes..it&#39;s probably because the fun() I&#39;ve inserted in my code returns void...but I want to try if there is a way to do it: if(usernameEditText).isEmpty() and the same with the password show a dialog, elsewhere continue with login, without using when"}], "answers": [{"comments": [{"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 0, "creation_date": 1497280068, "post_id": 44502752, "comment_id": 75999191, "body": "there is a way to avoid to call signInWithUsernameAndPassword() if one of two fields are empty?"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "reply_to_user": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 1, "creation_date": 1497280189, "post_id": 44502752, "comment_id": 75999276, "body": "It is <code>return</code>ing from the function in the code. You see I added <code>return</code> after <code>?:</code>. Since the type of <code>checkFields()</code> is <code>Unit</code>, it is safe to return with calling a <code>Unit</code>-typed function. It returns before assigning the <code>Unit</code> value to the <code>String</code> variables, so it does not throw the cast exception."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 3, "last_activity_date": 1526665770, "last_edit_date": 1526665770, "creation_date": 1497279974, "answer_id": 44502752, "question_id": 44502164, "link": "https://stackoverflow.com/questions/44502164/kotlin-verify-input-fields/44502752#44502752", "title": "kotlin verify input fields", "body": "<p>The first statement in the method is like the following in Java.</p>\n\n<pre><code>String username = !username.text.isNullOrEmpty() ? username.text.toString().trim() : presenter.usernameError();\n</code></pre>\n\n<p>This is why you get the <code>ClassCastException</code> if <code>presenter.usernameError()</code> is a <code>Unit</code>-typed (or <code>void</code> in Java) function. I think this is not what you want.</p>\n\n<p>Provided that both <code>presenter.usernameError()</code> and <code>presenter.passwordError()</code> are <code>Unit</code>-typed functions, you can</p>\n\n<pre><code>val username = username.text.toString().trim().takeUnless { it.isNullOrEmpty() } ?: return presenter.usernameError()\nval password = password.text.toString().trim().takeUnless { it.isNullOrEmpty() } ?: return presenter.passwordError()\n\npresenter.signInWithUsernameAndPassword(username as String,password as String)\n</code></pre>\n\n<p><code>it</code> refers to <code>username.text.toString().trim()</code> or <code>password.text.toString().trim()</code>, which are the instances that called <code>takeUnless</code> method.</p>\n"}], "owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2266, "favorite_count": 0, "accepted_answer_id": 44502752, "answer_count": 1, "score": 2, "last_activity_date": 1526665770, "creation_date": 1497278319, "last_edit_date": 1497279358, "question_id": 44502164, "link": "https://stackoverflow.com/questions/44502164/kotlin-verify-input-fields", "title": "kotlin verify input fields", "body": "<p>I'm moving from Java to Kotlin for my Android development. I want to check if a field in EditText is empty or not. So I've tried to make this:</p>\n\n<pre><code>override fun checkFields() {\n\n  val username = username.text.toString().trim().takeUnless { username.text.isNullOrEmpty() } ?: presenter.usernameError()\n  val password = password.text.toString().trim().takeUnless { password.text.isNullOrEmpty() } ?: presenter.passwordError()\n\n  presenter.signInWithUsernameAndPassword(username as String,password as String)\n}\n</code></pre>\n\n<p>but there are two problems:</p>\n\n<ol>\n<li>it passes also to the <code>signInWithUsernameAndPassword</code> also if username/password is empty</li>\n<li><p>it crashes because gives me this error:</p>\n\n<p>java.lang.ClassCastException: kotlin.Unit cannot be cast to java.lang.String</p></li>\n</ol>\n\n<p>why? <code>takeUnless{}</code> converts String to Unit?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "spring", "rest", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 5619, "user_id": 2055854, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/974156d755f10981aba40d96375b7af5?s=128&d=identicon&r=PG", "display_name": "Orest", "link": "https://stackoverflow.com/users/2055854/orest"}, "edited": false, "score": 0, "creation_date": 1497272398, "post_id": 44499988, "comment_id": 75993540, "body": "You should create two mappings for that <code>&#47;book&#47;byEan&#47;{ean}</code> and <code>&#47;book&#47;byId&#47;{id}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23477, "user_id": 374198, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed8129b80e0e4cd6152b1035e06a9a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh M.", "link": "https://stackoverflow.com/users/374198/josh-m"}, "edited": false, "score": 0, "creation_date": 1560454625, "post_id": 44500418, "comment_id": 99752846, "body": "Using try/catch for flow is a bad idea. This use case is already supported via the accepted answer."}], "tags": [], "owner": {"reputation": 520, "user_id": 1309406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d93abdd0cc3565a29d2ae918e09d9a5?s=128&d=identicon&r=PG", "display_name": "Michael Potter", "link": "https://stackoverflow.com/users/1309406/michael-potter"}, "is_accepted": false, "score": 0, "last_activity_date": 1497273301, "creation_date": 1497273301, "answer_id": 44500418, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable/44500418#44500418", "title": "Same rest endpoint with different PathVariable", "body": "<p>From HTTP point of view it is the same endpoint as it is a text based protocol and path parameter is always a string. Thus, Spring throws an exception.</p>\n\n<p>To deal with the issue you can either identify argument type inside method body:</p>\n\n<pre><code>@GetMapping(\"/book/{identifier}\")\nfun getABookById(@PathVariable identifier: String) : ResponseEntity&lt;*&gt; {\n    try {\n        val id = identifier.toInt()\n        // id case\n        repository.getById(id)?.let {\n            return ResponseEntity.status(HttpStatus.OK).body(it)\n        }\n    } catch (e: NumberFormatException) {\n        // ean case\n        repository.getByEan(identifier)?.let {\n            return ResponseEntity.status(HttpStatus.OK).body(it)\n        }\n    }\n    throw ItemNotFoundException()\n}\n</code></pre>\n\n<p>or pass ean or id as @RequestParam like /book?ean=abcdefg, /book?id=5.</p>\n"}, {"comments": [{"owner": {"reputation": 1034, "user_id": 4226637, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9e4b4bc2344f61341318e7de96a017a?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav Patel", "link": "https://stackoverflow.com/users/4226637/bhargav-patel"}, "edited": false, "score": 0, "creation_date": 1559029968, "post_id": 44500766, "comment_id": 99280562, "body": "This is not in context of question. different url should work.. The question was same endpoint with different path variable."}], "tags": [], "owner": {"reputation": 11547, "user_id": 811071, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e2b815d9b4865455e6143abada764cd?s=128&d=identicon&r=PG", "display_name": "piotrpo", "link": "https://stackoverflow.com/users/811071/piotrpo"}, "is_accepted": false, "score": 0, "last_activity_date": 1497274337, "creation_date": 1497274337, "answer_id": 44500766, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable/44500766#44500766", "title": "Same rest endpoint with different PathVariable", "body": "<p>It's not possible to do it on mapping level. Probably you should try paths  like:</p>\n\n<pre><code>/book/ean/{ean}\n/book/id/{id}\n</code></pre>\n\n<p>Alternatively just</p>\n\n<pre><code>/book/id/{someUniversalId}\n</code></pre>\n\n<p>then distinguish between different kinds of ids in your executable code.</p>\n"}, {"tags": [], "owner": {"reputation": 282, "user_id": 3682789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87a858eab909708240cc23b705066d?s=128&d=identicon&r=PG&f=1", "display_name": "Guigreg", "link": "https://stackoverflow.com/users/3682789/guigreg"}, "is_accepted": true, "score": 6, "last_activity_date": 1497277248, "creation_date": 1497277248, "answer_id": 44501758, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable/44501758#44501758", "title": "Same rest endpoint with different PathVariable", "body": "<p>I found out that the only way to do it is regex if I want to stick to my API.</p>\n\n<pre><code>@GetMapping(\"/book/{ean:[\\\\d]+}\")\n\n@GetMapping(\"/book/{id:^[0-9a-fA-F]{24}$}\")\n</code></pre>\n\n<p>With it the MongoDB generated hexadecimal 24 character can be differentiated from the simple numbers. If anyone find a better way let me know in comments.</p>\n"}, {"tags": [], "owner": {"reputation": 2621, "user_id": 6679072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bf071f553ee75317c426f1b18fb8fc5?s=128&d=identicon&r=PG", "display_name": "ootero", "link": "https://stackoverflow.com/users/6679072/ootero"}, "is_accepted": false, "score": 0, "last_activity_date": 1497368808, "creation_date": 1497368808, "answer_id": 44526149, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable/44526149#44526149", "title": "Same rest endpoint with different PathVariable", "body": "<p>It would be beneficial to develop a query filter / query criteria, to process something like:</p>\n\n<pre><code>/book?q=ean+eq+abcdefg (meaning ean=abcdefg)\n/book?q=id+gt+1000  (meaning id&gt;1000)\n</code></pre>\n\n<p>and so on.</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 9641542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mwuqR.jpg?s=128&g=1", "display_name": "Suds", "link": "https://stackoverflow.com/users/9641542/suds"}, "is_accepted": false, "score": 0, "last_activity_date": 1559644798, "last_edit_date": 1559644798, "creation_date": 1559644136, "answer_id": 56442066, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable/56442066#56442066", "title": "Same rest endpoint with different PathVariable", "body": "<p>How about using matrix parameters? </p>\n\n<p>So for id, you can use path parameter - <code>/books/{id}</code></p>\n\n<p>and for ean, matrix parameter - <code>/books;ean={ean}</code></p>\n\n<p>In fact, for id too you can use matrix parameter - <code>/books;{id}</code> or <code>/books;id={id}</code></p>\n\n<p>The general url for matrix parameters - <code>/{resource-name}[;{selector}]/</code></p>\n\n<p>source - Apigee REST API design best practices </p>\n"}], "owner": {"reputation": 282, "user_id": 3682789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87a858eab909708240cc23b705066d?s=128&d=identicon&r=PG&f=1", "display_name": "Guigreg", "link": "https://stackoverflow.com/users/3682789/guigreg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3090, "favorite_count": 0, "accepted_answer_id": 44501758, "answer_count": 5, "score": 3, "last_activity_date": 1559644798, "creation_date": 1497271938, "last_edit_date": 1497294011, "question_id": 44499988, "link": "https://stackoverflow.com/questions/44499988/same-rest-endpoint-with-different-pathvariable", "title": "Same rest endpoint with different PathVariable", "body": "<p>I'm trying to make two rest endpoint with same uri but different types. \nThe first would search by EAN (Int) the second one would search by id (String). Could I overload somehow the endpoint? I use Spring Boot with Kotlin</p>\n\n<pre><code>@GetMapping(\"/book/{ean}\")\nfun getABookByEan(@PathVariable ean: Int) : ResponseEntity&lt;*&gt; {\n    repository.getByEan(ean)?.let {\n        return ResponseEntity.status(HttpStatus.OK).body(it)\n    }\n    throw ItemNotFoundException()\n}\n\n@GetMapping(\"/book/{id}\")\nfun getABookById(@PathVariable id: String) : ResponseEntity&lt;*&gt; {\n    repository.getById(id)?.let {\n        return ResponseEntity.status(HttpStatus.OK).body(it)\n    }\n    throw ItemNotFoundException()\n}\n</code></pre>\n\n<p>After this I got an exception that multiple methods are mapped for the same endpoint. </p>\n\n<p>...NestedServletException: Request processing failed; nested exception is java.lang.IllegalStateException: Ambiguous handler methods mapped for HTTP path...</p>\n"}, {"tags": ["android", "kotlin", "coroutine", "anko"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1497272234, "post_id": 44498699, "comment_id": 75993413, "body": "It seems like you are making a lot of assumptions that you don&#39;t really have to make. The call to <code>runBlocking</code> creates a coroutine that runs on the same thread that it&#39;s called on, and blocks the thread on suspension points. The call to <code>delay</code> therefore just blocks the thread that the <code>onClick</code>-function is running on."}, {"owner": {"reputation": 2416, "user_id": 168722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2733344efeaed9e345f76193f94e9ca7?s=128&d=identicon&r=PG", "display_name": "xap4o", "link": "https://stackoverflow.com/users/168722/xap4o"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1497280524, "post_id": 44498699, "comment_id": 75999514, "body": "It&#39;s not clear what are you trying to achieve. Current behaviour is explained by @marstran. You should not call <code>delay</code> in combination with <code>runBlocking</code> from UI thread. Either shift it to other thread by calling <code>launch(CommonPool)</code> or don&#39;t call <code>delay</code>."}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 4, "last_activity_date": 1498040698, "creation_date": 1498040698, "answer_id": 44673483, "question_id": 44498699, "link": "https://stackoverflow.com/questions/44498699/kotlin-coroutine-and-main-handler-relationship/44673483#44673483", "title": "kotlin coroutine and main handler relationship", "body": "<p>You are using <code>runBlocking</code> which is named that way because it blocks the thread it is invoked on for the duration of coroutine execution. In your particular case, you are blocking your UI thread with <code>runBlocking</code>. </p>\n\n<p>You can replace <code>runBlocking</code> with <code>launch(UI)</code> to start a background coroutine on UI thread without blocking UI thread. You can learn more about various ways to work with coroutines in the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"nofollow noreferrer\">Guide to kotlinx.coroutines</a> and in the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md\" rel=\"nofollow noreferrer\">Guide to UI programming with coroutines</a>.</p>\n"}], "owner": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1498040698, "creation_date": 1497268104, "question_id": 44498699, "link": "https://stackoverflow.com/questions/44498699/kotlin-coroutine-and-main-handler-relationship", "title": "kotlin coroutine and main handler relationship", "body": "<p>I'm having the following snippet</p>\n\n<pre><code> verticalLayout {\n        gravity = Gravity.CENTER\n        button(\"BUTTON\").onClick {\n            trace(\"click on process\")\n            runBlocking {\n                trace(\"blocking start\") // #1\n                delay(20000L)  #2\n                trace(\"blocking end\")  // #3\n            }\n            trace(\"click process end\")\n        }\n    }\n</code></pre>\n\n<p>trace is a function defined as a utility function to log out messages using Log.e with current thread name</p>\n\n<p>when i click the button, all code run as expected and logs show all trace functions are called in main thread\nlog for #3 appears after #1 within 20000L ms and no ANR Dialog shows</p>\n\n<p>but strange things happened, during the 20000L ms, the button hold the <strong>pressed state</strong> even when i release the button right after click, then i realized the pressed state is restored when onClick method ends,</p>\n\n<p>i had a raw concept that \ncoroutine is a compiler magic using CPS to transform the code into a callback style function like follow </p>\n\n<pre><code>delay(20000L,callback = { trace(\"blocking end \")})\n</code></pre>\n\n<p>so i have the following questions </p>\n\n<ol>\n<li>in the end who and when actually calls callback(e.g trace(\"blocking end\")) if the answer is the main looper or something (for nodejs ,maybe the eventloop), does we should adapt the framework for coroutine and let coroutine put event to the queue ?</li>\n<li>saying that coroutine is actually compiler magic, can we write the same code as the snippet above which does not trigger an ANR but keep pressed state for 20000L ?</li>\n</ol>\n"}, {"tags": ["java", "mongodb", "kotlin"], "comments": [{"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 1, "creation_date": 1497266927, "post_id": 44498135, "comment_id": 75989614, "body": "Technically speaking the only thing that actually returns the document would be a method like <code>.findOneAndUpdate()</code> with an &quot;upsert&quot; option set. Bu the question remains that if you are &quot;inserting&quot; the document then surely you have the content already. So since <code>.insert()</code> will return the new <code>_id</code> value, that should really be the only information you didn&#39;t have that is in the database. Isn&#39;t it? And if you have other data that is &quot;unique&quot;, then either use that for the <code>_id</code> or create a &quot;unique index&quot; to stop it being created with duplicate information in the first place."}, {"owner": {"reputation": 282, "user_id": 3682789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87a858eab909708240cc23b705066d?s=128&d=identicon&r=PG&f=1", "display_name": "Guigreg", "link": "https://stackoverflow.com/users/3682789/guigreg"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1497352462, "post_id": 44498135, "comment_id": 76031508, "body": "Thank you! You got the point! I see now how should I do."}], "answers": [{"tags": [], "owner": {"reputation": 282, "user_id": 3682789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87a858eab909708240cc23b705066d?s=128&d=identicon&r=PG&f=1", "display_name": "Guigreg", "link": "https://stackoverflow.com/users/3682789/guigreg"}, "is_accepted": true, "score": 1, "last_activity_date": 1497353222, "creation_date": 1497353222, "answer_id": 44520217, "question_id": 44498135, "link": "https://stackoverflow.com/questions/44498135/kotlin-kmongo-insert-and-return-inserted-item/44520217#44520217", "title": "Kotlin Kmongo insert and return inserted item", "body": "<pre><code>fun insert(book: Book) : Book? {\n    getByEan(book.EAN)?.let {\n        return null\n    }\n    return book.apply { mongo.collection.insertOne(book) }\n}\n\ndata class Book(val name: String, val EAN: Int, val author: String, val _id: String? = null)\n</code></pre>\n\n<p>By adding an _id field to the data model after the insertion it'll set the value with the generated id. In this case this code snippet will return the inserted object as I wanted without a plus request to the database.</p>\n"}], "owner": {"reputation": 282, "user_id": 3682789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca87a858eab909708240cc23b705066d?s=128&d=identicon&r=PG&f=1", "display_name": "Guigreg", "link": "https://stackoverflow.com/users/3682789/guigreg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 44520217, "answer_count": 1, "score": 0, "last_activity_date": 1498255070, "creation_date": 1497266278, "last_edit_date": 1498255070, "question_id": 44498135, "link": "https://stackoverflow.com/questions/44498135/kotlin-kmongo-insert-and-return-inserted-item", "title": "Kotlin Kmongo insert and return inserted item", "body": "<p>I just tried to make a clean dummy project in Kotlin to practice but as Java does Kotlin does the same way the insert method. I tought it'll be some other way to insert and get back item not the old way to make 2 requests.</p>\n\n<pre><code>fun insert(book: Book) : Book? {\n   getByEan(book.EAN)?.let {\n     return null\n   }\n   mongo.collection.insertOne(book)\n   return getByEan(book.EAN)\n}\n</code></pre>\n\n<p>So in this case I made a pre-check to not make to items with same EAN and then if succeeded then return the inserted item. </p>\n\n<p>Can it be more simple? Maybe pre-check made with an index or somehow get back the inserted item without a new request?</p>\n"}, {"tags": ["android", "kotlin", "zoneddatetime"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1497265963, "post_id": 44497868, "comment_id": 75989003, "body": "In English only? I would be surprised if the forms are built-in, but adding or removing the plural s would work for all five words (not for all English words, but I gather you don\u2019t need that). Or you could use two maps, one for singular forms and one for plural."}], "answers": [{"tags": [], "owner": {"reputation": 420, "user_id": 4067180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-DiXOLd-5ojo/AAAAAAAAAAI/AAAAAAAACPc/IefKK3v0KNk/photo.jpg?sz=128", "display_name": "Rene Gens", "link": "https://stackoverflow.com/users/4067180/rene-gens"}, "is_accepted": true, "score": 0, "last_activity_date": 1497543242, "creation_date": 1497543242, "answer_id": 44572301, "question_id": 44497868, "link": "https://stackoverflow.com/questions/44497868/get-plural-and-single-from-chrono-time-unit/44572301#44572301", "title": "Get plural and single from Chrono Time unit", "body": "<p>Found it, you can simply supply the resource itself</p>\n\n<pre><code>private val suffixes = mapOf(\n        ChronoUnit.WEEKS to R.plurals.time_unit_week,\n        ChronoUnit.DAYS to R.plurals.time_unit_day,\n        ChronoUnit.HOURS to R.plurals.time_unit_hour,\n        ChronoUnit.MINUTES to R.plurals.time_unit_minute,\n        ChronoUnit.SECONDS to R.plurals.time_unit_second\n)\n\nfun timeLabel(now: ZonedDateTime): String = temporalUnits\n        .map { Pair(it, targetTime.until(now, it)) }\n        .find { it.second &gt; 0 }\n        ?.let {\n            val pluralResources = suffixes[it.first]!!\n            resources.getQuantityString(pluralResources, it.second.toInt(), it.second.toInt())\n        }\n        ?: context.getString(R.string.time_unit_now)\n</code></pre>\n"}], "owner": {"reputation": 420, "user_id": 4067180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-DiXOLd-5ojo/AAAAAAAAAAI/AAAAAAAACPc/IefKK3v0KNk/photo.jpg?sz=128", "display_name": "Rene Gens", "link": "https://stackoverflow.com/users/4067180/rene-gens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 44572301, "answer_count": 1, "score": 0, "last_activity_date": 1497913044, "creation_date": 1497265509, "last_edit_date": 1497913044, "question_id": 44497868, "link": "https://stackoverflow.com/questions/44497868/get-plural-and-single-from-chrono-time-unit", "title": "Get plural and single from Chrono Time unit", "body": "<p>I need to display in Android \"1 minute ago\" and \"2 minutes ago\" by using plurals. The problem is that I am having a map of time units with a suffix.</p>\n\n<pre><code> val suffixes = mapOf(\n        ChronoUnit.WEEKS to context.getString(R.string.time_units_week),\n        ChronoUnit.DAYS to context.getString(R.string.time_units_day),\n        ChronoUnit.HOURS to context.getString(R.string.time_units_hour),\n        ChronoUnit.MINUTES to context.getString(R.string.time_units_minute),\n        ChronoUnit.SECONDS to context.getString(R.string.time_units_second)\n)\n</code></pre>\n\n<p>And then I am using it like this</p>\n\n<pre><code>fun timeLabel(now: ZonedDateTime): String = temporalUnits\n        .map { Pair(it, targetTime.until(now, it)) }\n        .find { it.second &gt; 0 }\n        ?.let { \"${it.second} ${suffixes[it.first]}\" }\n</code></pre>\n\n<p>How can I convert that so I can pass the time value to the map? </p>\n"}, {"tags": ["android", "multithreading", "realm", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1497268183, "post_id": 44494846, "comment_id": 75990415, "body": "You should specify the line where you get this exception."}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 5, "last_activity_date": 1497362078, "creation_date": 1497362078, "answer_id": 44523616, "question_id": 44494846, "link": "https://stackoverflow.com/questions/44494846/realm-access-from-incorrect-thread-in-espresso/44523616#44523616", "title": "Realm access from incorrect thread in Espresso", "body": "<p>To manipulate the UI thread's Realm instance from your UI tests, you need to initialize the Realm instance on the UI thread using <code>instrumentation.runOnMainSync(() -&gt; {...});</code>.</p>\n\n<pre><code>@Before\npublic void setup() {\n    Instrumentation instrumentation = InstrumentationRegistry.getInstrumentation();\n    instrumentation.runOnMainSync(new Runnable() {\n        @Override\n        public void run() {\n           // setup UI thread Realm instance configuration\n        }\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "is_accepted": true, "score": 1, "last_activity_date": 1505390735, "creation_date": 1505390735, "answer_id": 46218668, "question_id": 44494846, "link": "https://stackoverflow.com/questions/44494846/realm-access-from-incorrect-thread-in-espresso/46218668#46218668", "title": "Realm access from incorrect thread in Espresso", "body": "<p>What i do.\nI just added next function in my AppTools, which check package with tests:</p>\n\n<pre><code>fun isTestsSuite() = AppResources.appContext?.classLoader.toString().contains(\"tests\")\n</code></pre>\n\n<p>Then modifed init of Realm:</p>\n\n<pre><code> init {\n    Realm.init(AppResources.appContext)\n    val builder = RealmConfiguration.Builder().schemaVersion(SCHEMA_VERSION)\n    builder.migration(runMigrations())\n    if (!isTestsSuite()) builder.encryptionKey(getOrCreateDatabaseKey()) else builder.inMemory()\n    Realm.setDefaultConfiguration(builder.build())\n    try {\n        errorOccurred = false\n        realm = Realm.getDefaultInstance()\n    } catch (e: Exception) {\n        errorOccurred = true\n        realm = Realm.getInstance(RealmConfiguration.Builder()\n                .schemaVersion(SCHEMA_VERSION).name(errorDbName).build())\n        e.log()\n        deleteRealmFile(realm.configuration.realmDirectory)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 1, "accepted_answer_id": 46218668, "answer_count": 2, "score": 5, "last_activity_date": 1505390735, "creation_date": 1497256482, "last_edit_date": 1497256854, "question_id": 44494846, "link": "https://stackoverflow.com/questions/44494846/realm-access-from-incorrect-thread-in-espresso", "title": "Realm access from incorrect thread in Espresso", "body": "<p>Before each espresso test, I have an annotation <code>@Before</code> where I initialize my <code>RealmManager.realm</code>.</p>\n\n<p>Code snippet of my <code>object Realm</code>:</p>\n\n<pre><code>init {\n    Realm.init(SaiApplication.context)\n    val builder = RealmConfiguration.Builder().schemaVersion(SCHEMA_VERSION)\n    builder.migration(runMigrations())\n    if (!BuildConfig.DEBUG) builder.encryptionKey(getOrCreateDatabaseKey())\n    if (SaiApplication.inMemoryDatabase) builder.inMemory()\n    Realm.setDefaultConfiguration(builder.build())\n    try {\n        errorOccurred = false\n        realm = Realm.getDefaultInstance()\n    } catch (e: Exception) {\n        errorOccurred = true\n        realm = Realm.getInstance(RealmConfiguration.Builder()\n                .schemaVersion(SCHEMA_VERSION).name(errorDbName).build())\n        e.log()\n        deleteRealmFile(realm.configuration.realmDirectory)\n    }\n}\n</code></pre>\n\n<p>But when I run my tests, I get next error:</p>\n\n<blockquote>\n  <p>Realm access from incorrect thread. Realm objects can only be accessed on the thread they were created</p>\n</blockquote>\n\n<p>So how i can correctly init my realm in my tests? </p>\n\n<p>One of the <a href=\"https://github.com/realm/realm-java/issues/3808#issuecomment-262298950\" rel=\"noreferrer\">solutions</a> that I found interesting, create a fake init realm.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1497253590, "post_id": 44493908, "comment_id": 75981287, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37374075/how-does-kotlin-property-access-syntax-work-for-java-classes\">How does Kotlin property access syntax work for Java classes?</a>"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1514985124, "post_id": 44493908, "comment_id": 83129980, "body": "Aside: You don&#39;t need findViewById if you use the Kotlin Android extensions (shipped with Android Studio). You should just be able to call <code>nexttxt.setText(name)</code> without any find or casting."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1562659546, "post_id": 44493908, "comment_id": 100435206, "body": "This is not a Kotlin code as you are claiming @Singh"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1597070883, "post_id": 44493908, "comment_id": 112006457, "body": "@VladyslavMatviienko:  Yeah, we should remove this thread because everyone who can&#39;t set text in their kotlin EditText would immediately think to search for &quot;kotlin property access syntax for java classes.&quot;  It&#39;s the first thing that popped up in my head when I saw that compiler error."}], "answers": [{"tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": false, "score": 40, "last_activity_date": 1519200374, "last_edit_date": 1519200374, "creation_date": 1497253585, "answer_id": 44493995, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/44493995#44493995", "title": "Setting text in EditText Kotlin", "body": "<p>Use <code>setText(String)</code> as <code>EditText.text</code> requires an <code>editable</code> at firstplace not String</p>\n\n<p><strong>WHY ?</strong></p>\n\n<p><a href=\"https://stackoverflow.com/a/37374301/4079010\">Nice explanation</a> by <strong>Michael</strong> given under <a href=\"https://stackoverflow.com/a/37374301/4079010\">this link</a>. Do visit this link for more detail</p>\n\n<p>When generating a synthetic property for a Java getter/setter pair Kotlin first looks for a getter. The getter is enough to create a synthetic property with a type of the getter. On the other hand the property will not be created if only a setter presents.</p>\n\n<p>When a setter comes into play property creation becomes more difficult. The reason is that the getter and the setter may have different type. Moreover, the getter and/or the setter may be overridden in a subclass.</p>\n"}, {"comments": [{"owner": {"reputation": 2285, "user_id": 6190043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d37Oy.jpg?s=128&g=1", "display_name": "Saurabh Bhandari", "link": "https://stackoverflow.com/users/6190043/saurabh-bhandari"}, "edited": false, "score": 0, "creation_date": 1550493178, "post_id": 44494105, "comment_id": 96276655, "body": "nither EditText get focus after setText() nor softInput keyboard open"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1557831702, "post_id": 44494105, "comment_id": 98889011, "body": "But why? It sounds so similar!!"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1597070473, "post_id": 44494105, "comment_id": 112006234, "body": "So much for Kotlin&#39;s desire to avoid java&#39;s property use syntax!  Yup, setter method thrown right out the window!"}, {"owner": {"reputation": 459, "user_id": 11737287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reghE.png?s=128&g=1", "display_name": "thesamoanppprogrammer", "link": "https://stackoverflow.com/users/11737287/thesamoanppprogrammer"}, "edited": false, "score": 0, "creation_date": 1599914899, "post_id": 44494105, "comment_id": 112926306, "body": "Thanks for the answer. This helped me."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 392, "last_activity_date": 1497253916, "creation_date": 1497253916, "answer_id": 44494105, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/44494105#44494105", "title": "Setting text in EditText Kotlin", "body": "<p>Use <code>setText(String)</code>, since <code>editText.text</code> expects an <code>Editable</code>, not a <code>String</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 5755817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e17768960caf41c59af351f1287ed4e2?s=128&d=identicon&r=PG&f=1", "display_name": "Wenris", "link": "https://stackoverflow.com/users/5755817/wenris"}, "is_accepted": false, "score": -4, "last_activity_date": 1497261655, "creation_date": 1497261655, "answer_id": 44496656, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/44496656#44496656", "title": "Setting text in EditText Kotlin", "body": "<p>Look at the API of EditText:</p>\n\n<p><code>void setText (CharSequence text, TextView.BufferType type)</code></p>\n\n<p><code>Editable getText ()</code></p>\n\n<p>Link: <a href=\"https://developer.android.com/reference/android/widget/EditText.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/EditText.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 4150148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gIQQh.jpg?s=128&g=1", "display_name": "Denys Lobur", "link": "https://stackoverflow.com/users/4150148/denys-lobur"}, "is_accepted": false, "score": -5, "last_activity_date": 1513706075, "creation_date": 1513706075, "answer_id": 47892652, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/47892652#47892652", "title": "Setting text in EditText Kotlin", "body": "<p>Try using nametxt.post: <strong>nametxt.post({nametxt.setText(\"your text\")})</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1975, "user_id": 9494420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5DYU.jpg?s=128&g=1", "display_name": "Abhishek Luthra", "link": "https://stackoverflow.com/users/9494420/abhishek-luthra"}, "is_accepted": false, "score": 3, "last_activity_date": 1522683697, "creation_date": 1522683697, "answer_id": 49614232, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/49614232#49614232", "title": "Setting text in EditText Kotlin", "body": "<p>Methods that follow the Java conventions for getters and setters (no-argument methods with names starting with get and single-argument methods with names starting with set) are represented as properties in Kotlin.\n But, While generating a property for a Java getter/setter pair Kotlin at first looks for a getter. The getter is enough to infer the type of property from the type of the getter. On the other hand, the property will not be created if only a setter is present( because Kotlin does not support set-only properties at this time ) .</p>\n\n<p>When a setter comes into play, property generation process becomes a bit ambiguous. The reason is that the getter and the setter may have different type. Moreover, the getter and/or the setter may be overridden in a subclass ,\n which exactly is the case of EditText in android.</p>\n\n<p>In above case the Android TextView class contains a getter</p>\n\n<pre><code>CharSequence getText() \n</code></pre>\n\n<p>and a setter void</p>\n\n<pre><code>setText(CharSequence)\n</code></pre>\n\n<p>If I had a variable of type TextView my code would have worked fine.\n But I used EditText class which contains an overridden getter</p>\n\n<pre><code>Editable getText()\n</code></pre>\n\n<p>which means that you can get an Editable for an EditText and set an Editable to an EditText. Therefore, Kotlin reasonably creates a synthetic property text of type Editable. As String class is not Editable, that\u2019s why I cannot assign a String instance to the text property of the EditText class.</p>\n\n<p>It Seems like JetBrains forgot to specify the dominant role of getter methods while generating kotlin properties for Java getter and setter methods. Anyways, I have submitted pull request to Jet brains kotlin website through github. </p>\n\n<p>I have detailed above problem in this medium post too <a href=\"https://medium.com/@er.abhishek.luthra/how-does-kotlin-generated-property-from-java-getters-and-setters-undocumented-by-jetbrains-7e1ad88052b1\" rel=\"nofollow noreferrer\">How Does Kotlin Generate Property from Java Getters and Setters (Undocumented by Jetbrains)</a></p>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 7167086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1873286762903280/picture?type=large", "display_name": "Evgeniy Pavlov", "link": "https://stackoverflow.com/users/7167086/evgeniy-pavlov"}, "is_accepted": false, "score": 23, "last_activity_date": 1524507252, "creation_date": 1524507252, "answer_id": 49987485, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/49987485#49987485", "title": "Setting text in EditText Kotlin", "body": "<p>If you want to use getter <code>.text</code> from principle, use:</p>\n\n<pre><code>nametxt.text = Editable.Factory.getInstance().newEditable(name)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 989, "user_id": 4247480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTJa2.png?s=128&g=1", "display_name": "Piotr Badura", "link": "https://stackoverflow.com/users/4247480/piotr-badura"}, "edited": false, "score": 3, "creation_date": 1550830267, "post_id": 51799663, "comment_id": 96424176, "body": "Extension approach is better than using old java setText."}, {"owner": {"reputation": 399, "user_id": 7167086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1873286762903280/picture?type=large", "display_name": "Evgeniy Pavlov", "link": "https://stackoverflow.com/users/7167086/evgeniy-pavlov"}, "edited": false, "score": 1, "creation_date": 1596922816, "post_id": 51799663, "comment_id": 111968422, "body": "Better do extension for edit text :      fun EditText.setEditableText(text:String){ this.text = Editable.Factory.getInstance().newEditable(text) }"}], "tags": [], "owner": {"reputation": 596, "user_id": 1640696, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/0x1FR.png?s=128&g=1", "display_name": "BNY", "link": "https://stackoverflow.com/users/1640696/bny"}, "is_accepted": false, "score": 36, "last_activity_date": 1533990875, "last_edit_date": 1533990875, "creation_date": 1533990413, "answer_id": 51799663, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/51799663#51799663", "title": "Setting text in EditText Kotlin", "body": "<p>There are several working answers here, but if you still want to use the property format and have your code look clean, you could write an extension:</p>\n\n<pre><code>fun String.toEditable(): Editable =  Editable.Factory.getInstance().newEditable(this)\n</code></pre>\n\n<p>You can then use it as such:</p>\n\n<pre><code>mEditText.text = myString.toEditable()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 999, "user_id": 645092, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a1e87e6da8409a37fa20f9d714655792?s=128&d=identicon&r=PG", "display_name": "letroll", "link": "https://stackoverflow.com/users/645092/letroll"}, "is_accepted": false, "score": 6, "last_activity_date": 1564489187, "last_edit_date": 1564489187, "creation_date": 1539462228, "answer_id": 52797003, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/52797003#52797003", "title": "Setting text in EditText Kotlin", "body": "<p>Or you can use an extension property:</p>\n\n<pre><code>var EditText.value\n    get() = this.text.toString()\n    set(value) {\n            this.setText(value)\n    }\n</code></pre>\n\n<p>and use <code>.value=</code> instead of <code>.text=</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8843480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GvpbR.jpg?s=128&g=1", "display_name": "Edwin Kurnia Rahman", "link": "https://stackoverflow.com/users/8843480/edwin-kurnia-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1563330516, "creation_date": 1563330516, "answer_id": 57067751, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/57067751#57067751", "title": "Setting text in EditText Kotlin", "body": "<p>setText(String), so you must setText your string to editText, so in your case is : <strong>nametxt.setText(name)</strong></p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "is_accepted": false, "score": 1, "last_activity_date": 1570028069, "last_edit_date": 1570028069, "creation_date": 1570026547, "answer_id": 58203636, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/58203636#58203636", "title": "Setting text in EditText Kotlin", "body": "<p>I had the same issue in my projects, I give you an example that shows how to retrieve and set data in the layouts using Kotlin:\nthere is one button <code>save_button</code> and two text edit field <code>edit_name</code> and <code>edit_password</code>.</p>\n\n<pre><code> //when cliquing on the button 'save_button' \n    save_button.setOnClickListener {\n    // geting the value from the two fields by using .text.toString()\n                val email =  edit_name.text.toString()\n                val password = edit_password.text.toString()\n    // showing the result on the systeme's log \n                    Log.d(\"Main activity\",\"your email is \" + email )\n                    Log.d(\"Main activity\", \"your password is $password\" )\n    // Then shows these values into the text view palete using  .setText()\n                    text_view.setText(\"$email \" + \"$password\")\n                }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1597070547, "post_id": 58723572, "comment_id": 112006264, "body": "Slightly better explanation than nhaarman&#39;s answer."}], "tags": [], "owner": {"reputation": 260, "user_id": 9106504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cefoK.jpg?s=128&g=1", "display_name": "Muzammil", "link": "https://stackoverflow.com/users/9106504/muzammil"}, "is_accepted": false, "score": 4, "last_activity_date": 1573021971, "last_edit_date": 1573021971, "creation_date": 1573017810, "answer_id": 58723572, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/58723572#58723572", "title": "Setting text in EditText Kotlin", "body": "<p><strong>Simple Solution</strong></p>\n\n<p>Just use <code>edittext.setText(yourdata</code>) instead of <code>edittext.text</code> because the <em>EditText</em> is editable, the <code>edittext.text</code> is used for <code>TextView</code></p>\n\n<p><strong>For Example:</strong></p>\n\n<pre><code>var name:String = \"Muzammil\"\nedittext.setText(name)\n</code></pre>\n\n<p>That's it its work for me.</p>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1574587525, "last_edit_date": 1574587525, "creation_date": 1574586932, "answer_id": 59016206, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/59016206#59016206", "title": "Setting text in EditText Kotlin", "body": "<p>Use like this:      </p>\n\n<pre><code>edtTitle.setText(intent.getStringExtra(EXTRA_TITLE))\nedtDesc.setText(intent.getStringExtra(EXTRA_DESC))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1597070302, "post_id": 59539056, "comment_id": 112006153, "body": "Why was this down-voted?  Seems as perfectly reasonable as anything else in Kotlin."}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1597098449, "post_id": 59539056, "comment_id": 112017972, "body": "@SMBiggs maybe too much similar answers, I am just guessing as this was mine haha"}], "tags": [], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "is_accepted": false, "score": 4, "last_activity_date": 1577761055, "last_edit_date": 1577761055, "creation_date": 1577760742, "answer_id": 59539056, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin/59539056#59539056", "title": "Setting text in EditText Kotlin", "body": "<p>Or <strong>cast</strong> to <code>TextView</code> but I believe this should be fixed on kotlin side for sure for convenience of developers !</p>\n\n<pre><code>(someEditText as TextView).text = \"someTextValue\"\n</code></pre>\n\n<p>Or with some extensions:</p>\n\n<pre><code>val EditText.asTextView: TextView get() = this as TextView\n\nvar EditText.value: CharSequence? \n    get() = asTextView.text\n    set(value) {\n        asTextView.text = value\n    }\n</code></pre>\n\n<p>You can write:</p>\n\n<pre><code>someEditText.asTextView.text = \"someTextValue\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>someEditText.value = \"someTextValue\"\n</code></pre>\n\n<p>But sadly you just <strong>cannot</strong> <strong>write</strong> simple <code>someEditText.text = \"someTextValue\"</code></p>\n"}], "owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106734, "favorite_count": 18, "accepted_answer_id": 44494105, "answer_count": 13, "score": 190, "last_activity_date": 1595403792, "creation_date": 1497253290, "last_edit_date": 1564489125, "question_id": 44493908, "link": "https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin", "title": "Setting text in EditText Kotlin", "body": "<p>I am trying to set text in a EditText but it says:</p>\n\n<pre><code>Type mismatch. \nRequired: Editable \nFound: String\n</code></pre>\n\n<p>My code is as follow:</p>\n\n<pre><code>String name = \"Paramjeet\"\nval nametxt = findViewById (R.id.nametxt) as EditText\nnametxt.text = name\n</code></pre>\n\n<p>Don't say to use <code>setText</code> because I am using kotlin, not Java.</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "comments": [{"owner": {"reputation": 762, "user_id": 3992798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28696df436bcfea9851bb639e82f5c2?s=128&d=identicon&r=PG&f=1", "display_name": "parik dhakan", "link": "https://stackoverflow.com/users/3992798/parik-dhakan"}, "edited": false, "score": 0, "creation_date": 1497244087, "post_id": 44491674, "comment_id": 75977213, "body": "add string PersonTable.ID =&quot;you name and all &quot;;etc all here"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 762, "user_id": 3992798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28696df436bcfea9851bb639e82f5c2?s=128&d=identicon&r=PG&f=1", "display_name": "parik dhakan", "link": "https://stackoverflow.com/users/3992798/parik-dhakan"}, "edited": false, "score": 0, "creation_date": 1497244657, "post_id": 44491674, "comment_id": 75977383, "body": "@parikdhakan what do you mean?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497245468, "post_id": 44491674, "comment_id": 75977638, "body": "If you see my code, there is nothing like that. I believe <code>AUTOINCREMENT</code> is being replaced by <code>org.jetbrains.anko.db.SqlTypeModifierImpl@7d0b905</code>"}, {"owner": {"reputation": 646, "user_id": 5955362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm7CI.jpg?s=128&g=1", "display_name": "Jaydeep Devda", "link": "https://stackoverflow.com/users/5955362/jaydeep-devda"}, "edited": false, "score": 0, "creation_date": 1497245528, "post_id": 44491674, "comment_id": 75977670, "body": "remove <code>AUTOINCREMENT</code> it is not necessary."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 646, "user_id": 5955362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm7CI.jpg?s=128&g=1", "display_name": "Jaydeep Devda", "link": "https://stackoverflow.com/users/5955362/jaydeep-devda"}, "edited": false, "score": 0, "creation_date": 1497245575, "post_id": 44491674, "comment_id": 75977693, "body": "@JaydeepPatel It is necessary that&#39;s why I added. It works without it Is this bug in their library ?"}, {"owner": {"reputation": 646, "user_id": 5955362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rm7CI.jpg?s=128&g=1", "display_name": "Jaydeep Devda", "link": "https://stackoverflow.com/users/5955362/jaydeep-devda"}, "edited": false, "score": 0, "creation_date": 1497245649, "post_id": 44491674, "comment_id": 75977717, "body": "yes we guess, you can check removing <code>AUTOINCREMENT</code> it is by default autoincr in primary key. I am using in my project."}, {"owner": {"reputation": 762, "user_id": 3992798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e28696df436bcfea9851bb639e82f5c2?s=128&d=identicon&r=PG&f=1", "display_name": "parik dhakan", "link": "https://stackoverflow.com/users/3992798/parik-dhakan"}, "edited": false, "score": 0, "creation_date": 1497344851, "post_id": 44491674, "comment_id": 76026094, "body": "add you table original field name here that you add.  PersonTable.PersonName,PersonTable.Domain, PersonTable.MobileNumber."}, {"owner": {"reputation": 1765, "user_id": 3837223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwzEq.png?s=128&g=1", "display_name": "mnishiguchi", "link": "https://stackoverflow.com/users/3837223/mnishiguchi"}, "edited": false, "score": 0, "creation_date": 1497806753, "post_id": 44491674, "comment_id": 76221257, "body": "In my case, the error disappears doing the following: 1. remove AUTOINCREMENT; 2. Run the app; 3. restore AUTOINCREMENT"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 1765, "user_id": 3837223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwzEq.png?s=128&g=1", "display_name": "mnishiguchi", "link": "https://stackoverflow.com/users/3837223/mnishiguchi"}, "edited": false, "score": 0, "creation_date": 1497806819, "post_id": 44491674, "comment_id": 76221273, "body": "@mnishiguchi you are correct, try to make any attribute as AUTOINCREMENT then you will get same error that is bug"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497262315, "post_id": 44494122, "comment_id": 75986674, "body": "I am using <code>compile &quot;org.jetbrains.anko:anko-sqlite:0.10.1&quot;</code> I think this is only the latest version they have right now"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497262937, "post_id": 44494122, "comment_id": 75987079, "body": "Ohh, for some reason this code is wrong with this release again. With <i>master</i> it&#39;s fine though."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497266607, "post_id": 44494122, "comment_id": 75989407, "body": "You know If I make one attribute AUTOINCREMENT then it throws this error <a href=\"https://pastebin.com/S7q1M9rc\" rel=\"nofollow noreferrer\">pastebin.com/S7q1M9rc</a> this is also a bug"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497276954, "post_id": 44494122, "comment_id": 75996991, "body": "I mean that I am trying to set property on one attribute in my table as AUTOINCREMENT then it throws this error <a href=\"https://pastebin.com/S7q1M9rc\" rel=\"nofollow noreferrer\">pastebin.com/S7q1M9rc</a> it should work. PS I am not applying AUTOINCREMENT on PRIMARY_KEY now"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497277237, "post_id": 44494122, "comment_id": 75997195, "body": "Did you read the documentation? <i>AUTOINCREMENT is not allowed on WITHOUT ROWID tables or on any table column other than INTEGER PRIMARY KEY.</i>"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497277533, "post_id": 44494122, "comment_id": 75997405, "body": "Ah I see. How about PRIMARY_KEY + AUTOINCREMENT ? It should work right ?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1497277706, "post_id": 44494122, "comment_id": 75997543, "body": "It works with <code>master</code> and version <code>0.10</code>. Version <code>0.10.1</code> has the issue your stacktrace is pointing out."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1497262886, "last_edit_date": 1497262886, "creation_date": 1497253959, "answer_id": 44494122, "question_id": 44491674, "link": "https://stackoverflow.com/questions/44491674/caused-by-android-database-sqlite-sqliteexception-near-org-syntax-error-co/44494122#44494122", "title": "Caused by: android.database.sqlite.SQLiteException: near &quot;org&quot;: syntax error (code 1): , while compiling:", "body": "<p>It looks like you're using an outdated version of Anko. With version <em>0.10</em> an issue with concatenating modifiers was fixed and reverted with version <em>0.10.1</em> again.</p>\n\n<p>Before the relevant part of the code was <code>\"$modifier $m\"</code> where <code>$m</code> is the string representation of the modifier. Since it doesn't define a <code>toString()</code> method, the Java representation of the instance is used.</p>\n\n<p>With the fix the code is <code>\"$modifiers ${m.modifier}\"</code>. Here <code>${m.modifier}</code> is actually a string.</p>\n\n<p>If the latest fixes are not relevant for you, just use version <em>0.10</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 1765, "user_id": 3837223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwzEq.png?s=128&g=1", "display_name": "mnishiguchi", "link": "https://stackoverflow.com/users/3837223/mnishiguchi"}, "is_accepted": false, "score": 1, "last_activity_date": 1499132247, "last_edit_date": 1499132247, "creation_date": 1499131821, "answer_id": 44895700, "question_id": 44491674, "link": "https://stackoverflow.com/questions/44491674/caused-by-android-database-sqlite-sqliteexception-near-org-syntax-error-co/44895700#44895700", "title": "Caused by: android.database.sqlite.SQLiteException: near &quot;org&quot;: syntax error (code 1): , while compiling:", "body": "<p>I got the same problem and found a workaround. I was able to hardcode that part of SQL statement, using <code>SqlType.create</code> function.</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase) {\n    db.createTable(CrimeTable.TABLE_NAME, true,\n            CrimeTable.ID to SqlType.create(\"INTEGER PRIMARY KEY AUTOINCREMENT\"),\n            CrimeTable.UUID to TEXT,\n            CrimeTable.TITLE to TEXT,\n            CrimeTable.DATE to INTEGER,\n            CrimeTable.IS_SOLVED to TEXT\n    )\n}\n</code></pre>\n\n<p>I checked the generated SQL in the DB Browser and it was working perfectly. I never got that error again ever since.</p>\n\n<pre><code>CREATE TABLE `crimes`(_id INTEGER PRIMARY KEY AUTOINCREMENT, uuid TEXT, title TEXT, date INTEGER, isSolved TEXT)\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 1, "accepted_answer_id": 44494122, "answer_count": 2, "score": 2, "last_activity_date": 1499132247, "creation_date": 1497243578, "question_id": 44491674, "link": "https://stackoverflow.com/questions/44491674/caused-by-android-database-sqlite-sqliteexception-near-org-syntax-error-co", "title": "Caused by: android.database.sqlite.SQLiteException: near &quot;org&quot;: syntax error (code 1): , while compiling:", "body": "<p>I am trying to create table using <code>anko</code> library in <code>kotlin</code> like below</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase?) {\n    db!!.createTable(PersonTable.Name, true,\n            Pair(PersonTable.ID, INTEGER + PRIMARY_KEY + AUTOINCREMENT),\n            Pair(PersonTable.PersonName, TEXT),\n            Pair(PersonTable.Domain, TEXT),\n            Pair(PersonTable.MobileNumber, REAL))\n}\n</code></pre>\n\n<p>I am getting below error when I am adding <code>AUTOINCREMENT</code> to ID. It works without <code>AUTOINCREMENT</code>. What is the way to make any attribute as <code>AUTOINCREMENT</code> using <code>anko</code> library.</p>\n\n<pre><code>  E/AndroidRuntime: FATAL EXCEPTION: main\n  Process: com.williamsro.fourthdemo, PID: 4799\n  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.williamsro.fourthdemo/com.williamsro.fourthdemo.MainActivity}: android.database.sqlite.SQLiteException: near \"org\": syntax error (code 1): , while compiling: CREATE TABLE IF NOT EXISTS `Person`(id INTEGER PRIMARY KEY org.jetbrains.anko.db.SqlTypeModifierImpl@7d0b905, person_name TEXT, domain TEXT, mobile_number REAL);\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n      at android.os.Handler.dispatchMessage(Handler.java:102)\n      at android.os.Looper.loop(Looper.java:154)\n      at android.app.ActivityThread.main(ActivityThread.java:6077)\n      at java.lang.reflect.Method.invoke(Native Method)\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n   Caused by: android.database.sqlite.SQLiteException: near \"org\": syntax error (code 1): , while compiling: CREATE TABLE IF NOT EXISTS `Person`(id INTEGER PRIMARY KEY org.jetbrains.anko.db.SqlTypeModifierImpl@7d0b905, person_name TEXT, domain TEXT, mobile_number REAL);\n      at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n      at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:889)\n      at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:500)\n      at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n      at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n      at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\n      at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1675)\n      at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1606)\n      at org.jetbrains.anko.db.DatabaseKt.createTable(Database.kt:80)\n      at com.williamsro.fourthdemo.AppDbHelpler.onCreate(AppDbHelpler.kt:17)\n      at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:251)\n      at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:163)\n      at org.jetbrains.anko.db.ManagedSQLiteOpenHelper.openDatabase(Database.kt:166)\n      at org.jetbrains.anko.db.ManagedSQLiteOpenHelper.use(Database.kt:157)\n      at com.williamsro.fourthdemo.MainActivity.insertPerson(MainActivity.kt:44)\n      at com.williamsro.fourthdemo.MainActivity.onCreate(MainActivity.kt:72)\n      at android.app.Activity.performCreate(Activity.java:6664)\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\u00a0\n      at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\u00a0\n      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n      at android.os.Looper.loop(Looper.java:154)\u00a0\n      at android.app.ActivityThread.main(ActivityThread.java:6077)\u00a0\n      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\u00a0\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n"}, {"tags": ["android", "dialog", "kotlin", "android-alertdialog", "dismiss"], "comments": [{"owner": {"reputation": 745, "user_id": 4554623, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-wrBn9vaQ_0A/AAAAAAAAAAI/AAAAAAAAANE/WNvAwgGK9Ls/photo.jpg?sz=128", "display_name": "sodhankit", "link": "https://stackoverflow.com/users/4554623/sodhankit"}, "edited": false, "score": 0, "creation_date": 1497235495, "post_id": 44490603, "comment_id": 75975404, "body": "you can also use <b>alertDialogBuilder.setCancelable(true);</b> to make your dialog cancelable"}, {"owner": {"reputation": 356, "user_id": 6883162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1219864271419492/picture?type=large", "display_name": "San Ko Ko", "link": "https://stackoverflow.com/users/6883162/san-ko-ko"}, "edited": false, "score": 0, "creation_date": 1497251460, "post_id": 44490603, "comment_id": 75980117, "body": "why do you use two kinds of language. you should use just java or kotlin. for your need, you have to create interface and call it from Main. Then show Dialog. And you can make as you wish there."}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 356, "user_id": 6883162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1219864271419492/picture?type=large", "display_name": "San Ko Ko", "link": "https://stackoverflow.com/users/6883162/san-ko-ko"}, "edited": false, "score": 0, "creation_date": 1497327152, "post_id": 44490603, "comment_id": 76017089, "body": "Actually, the project is written in Java but I want to get my hand dirty by Kotlin. So the project is in two languages. For this case, First load the data using recycler view and adapter class. Then on touch, the item (recycler view item) call the interface method in the main activity?  @SanKoKo"}, {"owner": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497335577, "post_id": 44490603, "comment_id": 76020273, "body": "Your <code>onBackPressed</code> and <code>onKeyDown</code> is out of <code>MainActivity</code> scope. Can you re-check the &quot;}&quot; at line 8."}, {"owner": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497335675, "post_id": 44490603, "comment_id": 76020319, "body": "Also try to add <code>alertDialog!!.cancelable = true</code> after <code>alertDialogBuilder.create()</code>"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497338283, "post_id": 44490603, "comment_id": 76021886, "body": "@NamNH onBackPressed and onKeyDown is in the main Activity scope that ways typo mistake (only here not in the actual program). By setting the alertDialog.setCancelable(true) will cause the dialog to disappear when user tap outside of the dialog. That will exactly not solved my problem."}, {"owner": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497844456, "post_id": 44490603, "comment_id": 76229781, "body": "Sorry for late feedback, i&#39;m on my trip. You can add 2 lines  <code>alertDialog!!.setCancelable(true)</code> (this mean your dialog dismissed by Back Pressed) and <code>alertDialog!!.setCanceledOnTouchOutside(false)</code> (with means your dialog is not dismissed when touch out side)."}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497844592, "post_id": 44490603, "comment_id": 76229814, "body": "@NamNH I have added both the line. And thanks. Hope your trip was awesome."}, {"owner": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497845347, "post_id": 44490603, "comment_id": 76229968, "body": "Thanks, Hope that worked as your expected :)"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1570, "user_id": 3682565, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1f08fe6a45e30eac86c9fbab01610b76?s=128&d=identicon&r=PG&f=1", "display_name": "NamNH", "link": "https://stackoverflow.com/users/3682565/namnh"}, "edited": false, "score": 0, "creation_date": 1497845532, "post_id": 44490603, "comment_id": 76230005, "body": "Yes it works as expected. Can you have look at another question <a href=\"https://stackoverflow.com/q/44606550/7124362\">stackoverflow.com/q/44606550/7124362</a>. @NamNH"}], "answers": [{"comments": [{"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1497236459, "post_id": 44490643, "comment_id": 75975595, "body": "I tried this way but onBackPressed() is not calling after clicking on back button"}], "tags": [], "owner": {"reputation": 1148, "user_id": 1922866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZdE46.jpg?s=128&g=1", "display_name": "Methnani Bilel", "link": "https://stackoverflow.com/users/1922866/methnani-bilel"}, "is_accepted": false, "score": 0, "last_activity_date": 1497234769, "creation_date": 1497234769, "answer_id": 44490643, "question_id": 44490603, "link": "https://stackoverflow.com/questions/44490603/how-can-i-dismiss-the-alertbox-after-clicking-back-button/44490643#44490643", "title": "How can I dismiss the alertbox after clicking back button", "body": "<p>You can show the dialog in your activity using the context in the adapter then check in the method onBackPressed if your dialog is visible then dismiss it else super.onBackPressed()</p>\n"}, {"comments": [{"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1497239342, "post_id": 44491074, "comment_id": 75976181, "body": "I have override the onBackPressed() in the activity but when I am pressing the back button onBackPressed() is not calling.  @William"}], "tags": [], "owner": {"reputation": 184, "user_id": 5837488, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7e444196fcab7c29045ca2d9cc2049f8?s=128&d=identicon&r=PG&f=1", "display_name": "William Willi", "link": "https://stackoverflow.com/users/5837488/william-willi"}, "is_accepted": false, "score": 0, "last_activity_date": 1497238596, "creation_date": 1497238596, "answer_id": 44491074, "question_id": 44490603, "link": "https://stackoverflow.com/questions/44490603/how-can-i-dismiss-the-alertbox-after-clicking-back-button/44491074#44491074", "title": "How can I dismiss the alertbox after clicking back button", "body": "<p>This must help.</p>\n\n<pre><code>  @Override\npublic void onBackPressed() {\n   dialog.dismiss();\n}\n</code></pre>\n"}], "owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1497338089, "creation_date": 1497234505, "last_edit_date": 1497338089, "question_id": 44490603, "link": "https://stackoverflow.com/questions/44490603/how-can-i-dismiss-the-alertbox-after-clicking-back-button", "title": "How can I dismiss the alertbox after clicking back button", "body": "<p>I have the activity in which calling the adapter class. In the adapter class, after clicking on item, dialog box is open. Now I am not able to figuring out to close this dialog box after clicking the back button. </p>\n\n<p>Here is my activity class:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity{\n      protected void onCreate(Bundle savedInstanceState) {\n\n         // fetching the required data\n         // blogs is recyclerview\n         blogs.setAdapter(new BlogAdapter(MainActivity.this,blogArrayList));\n      }\n\n\n@Override\n    public void onBackPressed() {\n        //not printed\n        Log.i(\"Back button pressed \",\"MainActivity\");\n   }\n\n @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n\n        //not printed\n        Log.i(\"On key down \",\"Main Activity\");\n         return super.onKeyDown(keyCode, event);\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Adapter class     </p>\n\n<pre><code>class BlogAdapter(var mcontext: Context, var post:ArrayList&lt;Blog&gt;): RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder?, position: Int) {\n        holder.itemView.setOnClickListener {\n            openDialog(post.get(position),mcontext)\n        }\n}\n private fun  openDialog(post: Blog?,context:Context) {\n\n        val layoutInflaterAndroid = LayoutInflater.from(context)\n        val mView = layoutInflaterAndroid.inflate(R.layout.individual_blog, null)\n\n        val alertDialogBuilder = AlertDialog.Builder(ContextThemeWrapper(context, R.style.AppFullScreen_Dialog_Theme))\n\n        alertDialogBuilder.setView(mView)\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\n            mView.title_blog.text = Html.fromHtml(post?.postTitle,Html.FROM_HTML_MODE_LEGACY)\n        } else {\n            @Suppress(\"DEPRECATION\")\n            mView.title_blog.text=Html.fromHtml(post?.postTitle)\n        }\n\n\n        val alertDialog = alertDialogBuilder.create()\n        alertDialog!!.show()\n\n        alertDialogBuilder.setOnKeyListener { dialog, keyCode, event -&gt;\n\n            Log.i(\"Set On Key Listener \",\"dialog\")\n            if (keyCode==KeyEvent.KEYCODE_BACK){\n                alertDialog.dismiss()\n            }\n            true\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 3, "creation_date": 1497226222, "post_id": 44489825, "comment_id": 75973781, "body": "Or even shorter: <code>println(array.map{ it * it }) </code>"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1497240311, "post_id": 44489825, "comment_id": 75976371, "body": "This answer introduces unnecessarily two functions (instead of one function): the first one is <code>n: Int -&gt; n * n</code> and the second one is <code>x: Int -&gt; first_one(x)</code>. The above comment using <code>{ it * it }</code> or more explicitly <code>println(array.map { n: Int -&gt; n * n })</code> is better."}], "tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": true, "score": 10, "last_activity_date": 1611252564, "last_edit_date": 1611252564, "creation_date": 1497225862, "answer_id": 44489825, "question_id": 44489815, "link": "https://stackoverflow.com/questions/44489815/how-can-i-square-each-item-of-an-integer-array-in-kotlin/44489825#44489825", "title": "How can I square each item of an integer array in Kotlin", "body": "<p>You could use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><strong>map</strong></a>:</p>\n<pre><code>val array = arrayOf(1, 2, 3, 4, 5)\nprintln(array.map { n: Int -&gt; n * n }) \n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[1, 4, 9, 16, 25]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 3, "last_activity_date": 1497227048, "creation_date": 1497227048, "answer_id": 44489902, "question_id": 44489815, "link": "https://stackoverflow.com/questions/44489815/how-can-i-square-each-item-of-an-integer-array-in-kotlin/44489902#44489902", "title": "How can I square each item of an integer array in Kotlin", "body": "<p>In Kotlin you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to-string.html\" rel=\"nofollow noreferrer\"><code>joinToString</code></a>:</p>\n\n<pre><code>val array = arrayOf(1, 2, 3, 4, 5)\nprintln(array.joinToString(separator = \" \") { n -&gt; \"${n * n}\" })\n</code></pre>\n\n<p>You can also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to.html\" rel=\"nofollow noreferrer\"><code>joinTo</code></a> to join directly to a buffer (e.g. <code>System.out</code>) and avoid the intermediate <code>String</code>:</p>\n\n<pre><code>array.joinTo(System.out, separator = \" \") { n -&gt; \"${n * n}\" }\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 8146192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8020c7e29c87058a951f9dce6360a9bb?s=128&d=identicon&r=PG&f=1", "display_name": "KotlinNewbie", "link": "https://stackoverflow.com/users/8146192/kotlinnewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1993, "favorite_count": 0, "accepted_answer_id": 44489825, "answer_count": 2, "score": 8, "last_activity_date": 1611252564, "creation_date": 1497225774, "last_edit_date": 1497226018, "question_id": 44489815, "link": "https://stackoverflow.com/questions/44489815/how-can-i-square-each-item-of-an-integer-array-in-kotlin", "title": "How can I square each item of an integer array in Kotlin", "body": "<p>I am trying learn Kotlin.</p>\n\n<p>I have an array: <code>[1,2,3,4,5]</code></p>\n\n<p>How can I print the squares of each of the numbers in the array?</p>\n\n<p>For example in Python I could just do:</p>\n\n<pre><code>array = [1,2,3,4,5]\nprint(\" \".join (str(n*n) for n in array))\n</code></pre>\n\n<p>But I am not sure how to do this in Kotlin</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 2, "creation_date": 1497246529, "post_id": 44488620, "comment_id": 75978026, "body": "Could you post your build gradle here? And just to be clear, you&#39;ve added the plugin, dependencies and any addition folder if necessary for kotlin to run? Not doing so may result in a build because certain things aren&#39;t packaged."}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1497354637, "post_id": 44488620, "comment_id": 76033126, "body": "@AllanW hey check out build.gradle files i&#39;ve added :)"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1497377424, "post_id": 44488620, "comment_id": 76049069, "body": "The only difference my gradle has from yours is that I don&#39;t have <code>apply plugin: kotlin-kapt</code>. I still have kapt dependencies and they seem to be working fine. I also have <code>kapt {     generateStubs = true }</code> in my app gradle (at the very end outside any other tags) though I&#39;m not sure if that is your issue. Have a go at those two things"}], "answers": [{"comments": [{"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 0, "creation_date": 1499069171, "post_id": 44874546, "comment_id": 76739160, "body": "well anyway i don&#39;t think downgrading to 1.0 alpha to solve my issue is good idea :)"}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 0, "creation_date": 1499071531, "post_id": 44874546, "comment_id": 76740541, "body": "i am using 1.1.2-5 which is not alpha"}, {"owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "reply_to_user": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 0, "creation_date": 1499071642, "post_id": 44874546, "comment_id": 76740611, "body": "version of android.arch.lifecycle.Lifecycle, not Kotlin"}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 0, "creation_date": 1499071757, "post_id": 44874546, "comment_id": 76740699, "body": "oh sry. i will try"}, {"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 0, "creation_date": 1506873130, "post_id": 44874546, "comment_id": 79982334, "body": "Last version of Kotlin and google arch stuff solved problem. so i will approve this answer. If anyone still have the same issue just be sure that you are using last versions."}], "tags": [], "owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "is_accepted": true, "score": 2, "last_activity_date": 1499024376, "creation_date": 1499024376, "answer_id": 44874546, "question_id": 44488620, "link": "https://stackoverflow.com/questions/44488620/kotlin-kapt-and-android-architecture-components-build-fail/44874546#44874546", "title": "Kotlin kapt and android architecture components build fail", "body": "<p>I had the same problem with version 1.0.0-alpha3, but with version 1.0.0-alpha1 everything works fine. </p>\n"}], "owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 5, "accepted_answer_id": 44874546, "answer_count": 1, "score": 10, "last_activity_date": 1499024376, "creation_date": 1497214056, "last_edit_date": 1592644375, "question_id": 44488620, "link": "https://stackoverflow.com/questions/44488620/kotlin-kapt-and-android-architecture-components-build-fail", "title": "Kotlin kapt and android architecture components build fail", "body": "<p>I'am using Kotlin, kapt and Android Architecture components. When I build project everything seems fine but after trying to run app on device/emulator Gradle's :assemble task  throw these errors:</p>\n<blockquote>\n<p>Warning:warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.persistence.room.RoomProcessor' less than -source '1.8'</p>\n<p>Warning:warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.lifecycle.LifecycleProcessor' less than -source '1.8'</p>\n<p>Warning:warning: The following options were not recognized by any processor: '[kapt.kotlin.generated]'</p>\n</blockquote>\n<p>And build fails. Can someone help me with it?</p>\n<p><strong>UPDATE</strong></p>\n<ul>\n<li>module build.gradle <a href=\"https://gist.github.com/antonkazakov/6a86baa2d829ff6590b1a38fe8b4dbec\" rel=\"noreferrer\">HERE</a></li>\n<li>project build.gradle <a href=\"https://gist.github.com/antonkazakov/5c05e60080969786e23a76acdbfe144e\" rel=\"noreferrer\">HERE</a></li>\n</ul>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "comments": [{"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1497216910, "post_id": 44488268, "comment_id": 75972031, "body": "Don&#39;t know if it is a bug or not. But to get around this you can map <code>columns</code> to a new <code>Map&lt;String, Any?&gt;</code> and then return."}], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 2, "last_activity_date": 1497215707, "last_edit_date": 1497215707, "creation_date": 1497215052, "answer_id": 44488754, "question_id": 44488268, "link": "https://stackoverflow.com/questions/44488268/type-mismatch-required-mapstring-any-found-mapstring-any/44488754#44488754", "title": "Type mismatch. Required Map&lt;String, Any&gt; Found Map&lt;String, Any?&gt;", "body": "<p><code>columns</code> has type <code>Map&lt;String, Any?&gt;</code>, note that <code>Any?</code> is whatever object or <code>null</code>. But method's return type is <code>Map&lt;String, Any&gt;</code>, <code>Any</code> can't be null.</p>\n\n<p>For example, you may filter incoming map, leaving only non-null values: <code>columns.filterValues { it != null } as Map&lt;String, Any&gt;</code>. It contains an unchecked cast, but it's safe.</p>\n"}, {"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": true, "score": 2, "last_activity_date": 1497226700, "creation_date": 1497226700, "answer_id": 44489879, "question_id": 44488268, "link": "https://stackoverflow.com/questions/44488268/type-mismatch-required-mapstring-any-found-mapstring-any/44489879#44489879", "title": "Type mismatch. Required Map&lt;String, Any&gt; Found Map&lt;String, Any?&gt;", "body": "<p>Looks like</p>\n\n<p><code>object : MapRowParser&lt;Map&lt;String, Any&gt;&gt; {</code></p>\n\n<p>should really be</p>\n\n<p><code>object : MapRowParser&lt;Map&lt;String, Any?&gt;&gt; {</code></p>\n\n<p>It is very common for databases to have columns that return a null in the cell. The way you defined it as <code>Any</code> means null is never going to happen. If you cast your return to a <code>Map&lt;String, Any&gt;</code> then you will simply end up with runtime errors happening if a null is contained anywhere.</p>\n\n<p>You are best suited by making it an <code>Any?</code> type which forces the parseRow return type to be <code>Map&lt;String, Any?&gt;</code> as well and fixes the potential bug in your code that would happen if a null value were to creep up somewhere.</p>\n"}, {"tags": [], "owner": {"reputation": 148157, "user_id": 35364, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG", "display_name": "hasen", "link": "https://stackoverflow.com/users/35364/hasen"}, "is_accepted": false, "score": 1, "last_activity_date": 1497238126, "last_edit_date": 1497238126, "creation_date": 1497237812, "answer_id": 44490985, "question_id": 44488268, "link": "https://stackoverflow.com/questions/44488268/type-mismatch-required-mapstring-any-found-mapstring-any/44490985#44490985", "title": "Type mismatch. Required Map&lt;String, Any&gt; Found Map&lt;String, Any?&gt;", "body": "<p>It's not a bug in Anko. It's a bug in your code.</p>\n\n<p>This function is wrong:</p>\n\n<pre><code>override fun parseRow(columns: Map&lt;String, Any?&gt;): Map&lt;String, Any&gt; {\n    Log.d(\"Hello\", \"Hello\")\n    return columns;\n}\n</code></pre>\n\n<p>You are taking an input and returning it as-is but with a different type.</p>\n\n<p>Your input is of type <code>Map&lt;String, Any?&gt;</code> but you have to somehow transform it into <code>Map&lt;String, Any&gt;</code></p>\n\n<p>It would be as if you defined a function that takes String and returns Int like this:</p>\n\n<pre><code>fun parseString(s: String): Int {\n    return s\n}\n</code></pre>\n\n<p>This will obviously not compile.</p>\n\n<p>The interface you're trying to implement is basically:</p>\n\n<pre><code>interface MapRowParser&lt;out T&gt; {\n    fun parseRow(columns: Map&lt;String, Any?&gt;): T\n}\n</code></pre>\n\n<p>You're supposed to provide a function that converts a dictionary representing a database row, to some concrete object of your choosing. But you have to actually provide code to do the processing.</p>\n\n<p>Alternatively, Anko provides you a function that can automagically match a table row to a class constructor, which is what I would prefer to use, instead of doing a manual mapping of dictionary keys to class fields.</p>\n\n<pre><code>data class User(val userId: Int, val userName: String)\nval rowParser = classParser&lt;User&gt;()\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2194, "favorite_count": 0, "accepted_answer_id": 44489879, "answer_count": 3, "score": 1, "last_activity_date": 1497238126, "creation_date": 1497211612, "last_edit_date": 1497211919, "question_id": 44488268, "link": "https://stackoverflow.com/questions/44488268/type-mismatch-required-mapstring-any-found-mapstring-any", "title": "Type mismatch. Required Map&lt;String, Any&gt; Found Map&lt;String, Any?&gt;", "body": "<p>I am trying to execute select using <code>anko</code> extension in <code>kotlin</code> like below</p>\n\n<pre><code>fun read() {\n    database.use {\n        select(PersonTable.Name).exec {\n            select(\"myTable\").exec() {\n                parseList(\n                    object : MapRowParser&lt;Map&lt;String, Any&gt;&gt; {\n                        override fun parseRow(columns: Map&lt;String, Any?&gt;): Map&lt;String, Any&gt; {\n                            Log.d(\"Hello\", \"Hello\")\n                            return columns;\n                        }\n                    }\n                )\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am getting an error on <code>return column</code></p>\n\n<pre><code>Type mismatch. Required Map&lt;String, Any&gt; Found Map&lt;String, Any?&gt;\n</code></pre>\n\n<p>If I change to <code>override fun parseRow(columns: Map&lt;String, Any&gt;): Map&lt;String, Any&gt;</code> then it shows an error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2jGjG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2jGjG.png\" alt=\"enter image description here\"></a></p>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.williams.fourthdemo\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"org.jetbrains.anko:anko-common:0.10.1\"\n    compile \"org.jetbrains.anko:anko-sqlite:0.10.1\"\n}\n</code></pre>\n\n<p>Is this bug in the anko library ?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "kotlin-android-extensions", "anko"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497206897, "post_id": 44487181, "comment_id": 75969036, "body": "Can you show your build.gradle? It looks like the <code>insert</code> method that accepts <code>Pair</code>s cannot be found."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497206992, "post_id": 44487181, "comment_id": 75969074, "body": "@ChristianBr&#252;ggemann I have added build.gradle"}], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "is_accepted": true, "score": 5, "last_activity_date": 1497227928, "creation_date": 1497227928, "answer_id": 44489974, "question_id": 44487181, "link": "https://stackoverflow.com/questions/44487181/type-interference-failed-expected-type-mismatch-required-string-found-pairstr/44489974#44489974", "title": "Type interference failed. Expected type mismatch: required String found pair&lt;String,String&gt; in Kotlin and Anko", "body": "<p><code>Insert</code> method that accepts <code>Pair</code> is extension function which can be found in this <a href=\"https://github.com/Kotlin/anko/blob/master/anko/library/static/sqlite/src/Database.kt\" rel=\"noreferrer\">file</a>. Android Studio often can't find such method. So import it:</p>\n\n<pre><code>import org.jetbrains.anko.db.Database.insert\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import org.jetbrains.anko.db.*\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 44489974, "answer_count": 1, "score": 2, "last_activity_date": 1497227928, "creation_date": 1497205110, "last_edit_date": 1497206977, "question_id": 44487181, "link": "https://stackoverflow.com/questions/44487181/type-interference-failed-expected-type-mismatch-required-string-found-pairstr", "title": "Type interference failed. Expected type mismatch: required String found pair&lt;String,String&gt; in Kotlin and Anko", "body": "<p>I have created a database using <code>kotlin</code> and <code>anko</code> library. I am following this article <a href=\"https://antonioleiva.com/databases-anko-kotlin/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/databases-anko-kotlin/</a> I am trying to insert data inside database block using below but I am getting an error</p>\n\n<blockquote>\n  <p>Type interference failed. Expected type mismatch: required String found pair</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/X5TRh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5TRh.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>fun insertPerson() {\n    database.use {\n        insert(PersonTable.Name,\n                PersonTable.PersonName to \"XX\",\n                PersonTable.Domain to \"Technology\",\n                PersonTable.MobileNumber to \"XXXXX\")\n    }\n}\n\nobject PersonTable {\n    val Name = \"Person\"\n    val ID = \"id\"\n    val PersonName = \"person_name\"\n    val Domain = \"domain\"\n    val MobileNumber = \"mobile_number\"\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.williams.fourthdemo\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"org.jetbrains.anko:anko-common:0.10.1\"\n    compile \"org.jetbrains.anko:anko-sqlite:0.10.1\"\n}\n</code></pre>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497247737, "post_id": 44492231, "comment_id": 75978420, "body": "<code>Extensions</code>- Does it allows you to make variables accessible from anywhere, depends on before dot type. If it is <code>Context</code> then it allows to call this method where you have <code>Context</code>. If I specify <code>X</code> then it will allow me to call this where I have <code>X</code> available. Is this how it works ?"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1497247936, "post_id": 44492231, "comment_id": 75978490, "body": "In this particular case, if you are in an Activity (which extends context), you can directly write <code>database</code> to use it. If you are in a View, you cannot directly use it. But you can call <code>context.database</code>. Note that <code>context</code> in Views directly refer to <code>getContext()</code>. If you are familiar with the <code>with</code> or <code>apply</code> methods in Kotlin, you can use <code>context.apply{ database }</code> to get it. Extensions allow you to use the methods/variables as if it were part of the original class. But in the end it is called statically so you are not creating a custom class."}], "tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": true, "score": 4, "last_activity_date": 1497246746, "creation_date": 1497246746, "answer_id": 44492231, "question_id": 44486944, "link": "https://stackoverflow.com/questions/44486944/implementation-of-sqlite-in-kotlin-and-anko/44492231#44492231", "title": "Implementation of SQLite in Kotlin and Anko", "body": "<p><code>val Context.database</code> is a usage of <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extensions</a> in Kotlin. They allow for the value <code>database</code> to be accessed whenever you are in a class (or another function) using <code>Context</code>.</p>\n\n<p>The <code>get()</code> method below defines the <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">property</a> of that variable. It is equivalent to a <code>getDatabase()</code> method in Java, where it will return the AppDbHelper as shown. Having it this way allows you to retrieve the helper using the variable syntax. Since the getter is a function, it will create a new helper each time, rather than how an actual variable will behave with just one assignment. Also note that since this is a <code>val</code>, a set method is not supplied.</p>\n\n<p>The code is equivalent to</p>\n\n<pre><code>public static AppDbHelper getDatabase(Context context) {\n    return new AppDbHelper();\n}\n</code></pre>\n\n<p>in Java</p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4020, "favorite_count": 4, "accepted_answer_id": 44492231, "answer_count": 1, "score": 1, "last_activity_date": 1502423625, "creation_date": 1497203549, "question_id": 44486944, "link": "https://stackoverflow.com/questions/44486944/implementation-of-sqlite-in-kotlin-and-anko", "title": "Implementation of SQLite in Kotlin and Anko", "body": "<p>I have created my application database like below. I want to insert record now and retrieve as this link says <a href=\"https://antonioleiva.com/databases-anko-kotlin/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/databases-anko-kotlin/</a> to use <code>database.use</code></p>\n\n<pre><code>import android.database.sqlite.SQLiteDatabase\nimport org.jetbrains.anko.db.*\n\n\nclass AppDbHelpler : ManagedSQLiteOpenHelper(AppApplication.instance(), AppDbHelpler.DB_NAME, null, AppDbHelpler.DB_VERSION) {\n\n    companion object {\n        val DB_NAME = \"person.db\"\n        val DB_VERSION = 1\n        val instance by lazy { AppDbHelpler() }\n    }\n\n    override fun onCreate(db: SQLiteDatabase?) {\n        db!!.createTable(PersonTable.Name, true,\n                Pair(PersonTable.ID, INTEGER + PRIMARY_KEY + AUTOINCREMENT),\n                Pair(PersonTable.PersonName, TEXT),\n                Pair(PersonTable.Domain, TEXT),\n                Pair(PersonTable.MobileNumber, REAL))\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n        db!!.dropTable(PersonTable.Name, true)\n        onCreate(db)\n    }\n}\n\n// Access property for Context\nval Context.database: AppDbHelpler\nget() = AppDbHelpler()\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    insertPerson()\n}\n\n\nfun insertPerson() {\n    database.use {\n\n    }\n}\n</code></pre>\n\n<p>Can anyone hint me what line is for <code>val Context.database: AppDbHelpler\nget() = AppDbHelpler()</code>. What it does ?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497199238, "post_id": 44486219, "comment_id": 75966436, "body": "It should be <code>findViewById(R.id.textView)</code> instead of what you currently have."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1497199396, "post_id": 44486219, "comment_id": 75966497, "body": "move <code>setContentView</code> after <code>super.onCreate</code>"}, {"owner": {"reputation": 3450, "user_id": 6463791, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-MAaooma8yss/AAAAAAAAAAI/AAAAAAAAABg/VTrdlI5aHgQ/photo.jpg?sz=128", "display_name": "Satan Pandeya", "link": "https://stackoverflow.com/users/6463791/satan-pandeya"}, "edited": false, "score": 0, "creation_date": 1497199428, "post_id": 44486219, "comment_id": 75966509, "body": "Use after : <code>setContentView()</code>."}, {"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1497199485, "post_id": 44486219, "comment_id": 75966530, "body": "It&#39;s not able to find the view that&#39;s why it&#39;s crashing. First use <code>setContentView()</code> so that layout gets set. Move <code>setContentView()</code> just below <code>super.onCreate(savedInstanceState)</code>"}, {"owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "edited": false, "score": 0, "creation_date": 1497200082, "post_id": 44486219, "comment_id": 75966723, "body": "@WaqarHaider For future reference, please make sure to utilize stack traces from the logcat (it&#39;s there for a reason), and include the errors in your post."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1497199416, "creation_date": 1497199416, "answer_id": 44486264, "question_id": 44486219, "link": "https://stackoverflow.com/questions/44486219/kotlin-android-application-stop-unexpectedly-due-to-textview/44486264#44486264", "title": "Kotlin: Android application stop unexpectedly due to textView", "body": "<p>You're calling <code>findViewById</code> before your layout is set, move <code>setContentView</code> to the beginning of the function, like this:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.second)\n\n    //val intent = intent.getStringExtra(\"textValue\").toString()\n    val text: TextView\n    text = findViewById(R.id.textView) as TextView // this statement\n    text.text = \"New Text\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1499163158, "last_edit_date": 1499163158, "creation_date": 1497199504, "answer_id": 44486280, "question_id": 44486219, "link": "https://stackoverflow.com/questions/44486219/kotlin-android-application-stop-unexpectedly-due-to-textview/44486280#44486280", "title": "Kotlin: Android application stop unexpectedly due to textView", "body": "<p>As <a href=\"https://stackoverflow.com/questions/44486219/kotlin-android-application-stop-unexpectedly-due-to-textview/44486280#comment75966497_44486219\">commented</a>, move <code>setContentView</code> after <code>super.onCreate</code> otherwise there will be no <code>XML</code> layout attached to <code>activity</code> to find view plus you would want to call <code>setContentView</code> as soon as possible to reduce the layout initialization delay</p>\n\n<pre><code>class Second : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.second)\n        // ^^^^^ should be called first to find view from layout\n        //val intent = intent.getStringExtra(\"textValue\").toString()\n        val text: TextView\n        text = findViewById(R.id.textView) as TextView // this statement\n        text.text = \"New Text\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": false, "score": 0, "last_activity_date": 1497199914, "creation_date": 1497199914, "answer_id": 44486355, "question_id": 44486219, "link": "https://stackoverflow.com/questions/44486219/kotlin-android-application-stop-unexpectedly-due-to-textview/44486355#44486355", "title": "Kotlin: Android application stop unexpectedly due to textView", "body": "<p>Make your Android widget instantiations/initializations after the layout is set, setContentView() in other words. Though I highly recommend that you use the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions plugin</a> to keep potential widget bugs and code minimal.</p>\n"}], "owner": {"reputation": 861, "user_id": 5279836, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/937588939607461/picture?type=large", "display_name": "Waqar Haider", "link": "https://stackoverflow.com/users/5279836/waqar-haider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 44486264, "answer_count": 3, "score": -3, "last_activity_date": 1499163158, "creation_date": 1497199149, "last_edit_date": 1497199308, "question_id": 44486219, "link": "https://stackoverflow.com/questions/44486219/kotlin-android-application-stop-unexpectedly-due-to-textview", "title": "Kotlin: Android application stop unexpectedly due to textView", "body": "<p>here is a simple code that i am running</p>\n\n<pre><code>class Second : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        //val intent = intent.getStringExtra(\"textValue\").toString()\n        val text: TextView\n        //text = findViewById(R.id.textView) as TextView // this statement\n        //text.text = \"New Text\"\n        setContentView(R.layout.second)\n    }\n}\n</code></pre>\n\n<p>and this is textView code </p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Second Activity!\" /&gt;\n</code></pre>\n\n<p>now when i un comment the textView code the application stop working, and without those lines it works what may be the reason??</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 34005, "user_id": 608649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fbc3248107250cb09c0d69919b62ad?s=128&d=identicon&r=PG", "display_name": "yigit", "link": "https://stackoverflow.com/users/608649/yigit"}, "edited": false, "score": 1, "creation_date": 1497222115, "post_id": 44485631, "comment_id": 75973122, "body": "which kotlin version is this? Can you also print the full error message? Room should be able to handle that data class properly since it has only 1 constructor that receives all fields."}, {"owner": {"reputation": 3283, "user_id": 1478764, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1bd5ceef90b9ae51814c10e2147f98da?s=128&d=identicon&r=PG", "display_name": "chRyNaN", "link": "https://stackoverflow.com/users/1478764/chrynan"}, "edited": false, "score": 2, "creation_date": 1515692006, "post_id": 44485631, "comment_id": 83407050, "body": "Make sure that the constructor parameter&#39;s name and type align with what Room expects. This could also occur with a keyword clash with Java. For instance, the Java keyword <code>static</code> is allowed in Kotlin but when it is compiled down, it looks like they replace it with another name causing the Room annotation processor to not be able to make the match with the field."}, {"owner": {"reputation": 4666, "user_id": 2336184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG6ME.jpg?s=128&g=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/2336184/vicky"}, "edited": false, "score": 0, "creation_date": 1531139559, "post_id": 44485631, "comment_id": 89469828, "body": "Can you post your DAO also?"}, {"owner": {"reputation": 1884, "user_id": 3464919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec6f8ae7b324f7b67f37f72351bc807d?s=128&d=identicon&r=PG", "display_name": "Webserveis", "link": "https://stackoverflow.com/users/3464919/webserveis"}, "edited": false, "score": 0, "creation_date": 1531153463, "post_id": 44485631, "comment_id": 89478946, "body": "You solve this, add blank constructor"}], "answers": [{"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1614963497, "post_id": 44488266, "comment_id": 117554697, "body": "Thanks! I had to add <code>constructor() ...</code>, <code>@PrimaryKey</code> and replace <code>val</code> with <code>var</code>. Instead of <code>constructor()</code> you can set default values like <code>var title: String = &quot;&quot;</code>."}], "tags": [], "owner": {"reputation": 5628, "user_id": 1340183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd31e838b01c32ffe216b6d3163289f1?s=128&d=identicon&r=PG", "display_name": "evanchooly", "link": "https://stackoverflow.com/users/1340183/evanchooly"}, "is_accepted": false, "score": 24, "last_activity_date": 1497211602, "creation_date": 1497211602, "answer_id": 44488266, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/44488266#44488266", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>you need to specify a secondary constructor like so:  </p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String,\n    var overview: String,\n    var poster_path: String,\n    var backdrop_path: String,\n    var release_date: String,\n    var vote_average: Double,\n    var isFavorite: Int\n) {\n    constructor() : this(0, \"\", \"\", \"\", \"\", \"\", 0.0, 0)\n}    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2077, "user_id": 6801380, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DSxgS.png?s=128&g=1", "display_name": "Leonardo Deleon", "link": "https://stackoverflow.com/users/6801380/leonardo-deleon"}, "is_accepted": false, "score": 1, "last_activity_date": 1497259626, "creation_date": 1497259626, "answer_id": 44495913, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/44495913#44495913", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>It turned out to be a bug on the library\n<a href=\"https://github.com/googlesamples/android-architecture-components/issues/49\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/issues/49</a></p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 2954262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4EZSz.jpg?s=128&g=1", "display_name": "tito", "link": "https://stackoverflow.com/users/2954262/tito"}, "is_accepted": false, "score": 4, "last_activity_date": 1497587608, "last_edit_date": 1497587608, "creation_date": 1497575687, "answer_id": 44579309, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/44579309#44579309", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I think that a good option for resolve it is:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int = 0,\n    var title: String = \"\",\n    var overview: String = \"\",\n    var poster_path: String = \"\",\n    var backdrop_path: String = \"\",\n    var release_date: String = \"\",\n    var vote_average: Double = 0.0,\n    var isFavorite: Int = 0\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 905831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45cfea06f428c5ad9c6f936e8757d2f9?s=128&d=identicon&r=PG", "display_name": "stevenwood", "link": "https://stackoverflow.com/users/905831/stevenwood"}, "is_accepted": false, "score": 14, "last_activity_date": 1498153745, "creation_date": 1498153745, "answer_id": 44706249, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/44706249#44706249", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>What worked for me:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int? = 0,\n    var title: String? = \"\",\n    var overview: String? = \"\",\n    var poster_path: String? = \"\",\n    var backdrop_path: String? = \"\",\n    var release_date: String? = \"\",\n    var vote_average: Double? = 0.0,\n    var isFavorite: Int? = 0\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "edited": false, "score": 19, "creation_date": 1503263825, "post_id": 45208518, "comment_id": 78531386, "body": "Adding <code>apply plugin: &#39;kotlin-kapt&#39;</code> to module&#39;s <code>build.gradle</code> file solved the problem for me, thanks!"}, {"owner": {"reputation": 3491, "user_id": 498079, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9f6fb4c7291989df5bf5fee8fe229c71?s=128&d=identicon&r=PG", "display_name": "ArdenDev", "link": "https://stackoverflow.com/users/498079/ardendev"}, "edited": false, "score": 21, "creation_date": 1545221202, "post_id": 45208518, "comment_id": 94549130, "body": "Not working with androidx and using &#39;apply plugin: &#39;kotlin-kapt&#39;"}, {"owner": {"reputation": 1100, "user_id": 3416642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sphTw.jpg?s=128&g=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/3416642/sachin"}, "edited": false, "score": 1, "creation_date": 1592912181, "post_id": 45208518, "comment_id": 110588641, "body": "[Kotlin] I faced this issue for select query because i forgot to add return type in DAO"}], "tags": [], "owner": {"reputation": 978, "user_id": 7980846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206911451767783/picture?type=large", "display_name": "Tomek Pola\u0144ski", "link": "https://stackoverflow.com/users/7980846/tomek-pola%c5%84ski"}, "is_accepted": false, "score": 43, "last_activity_date": 1515064741, "last_edit_date": 1515064741, "creation_date": 1500536764, "answer_id": 45208518, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/45208518#45208518", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Had a similar issue before.</p>\n\n<p>First I've updated/added <code>apply plugin: 'kotlin-kapt'</code> to gradle.</p>\n\n<p>Next, I've used it instead of <code>annotationProcessor</code> in gradle:</p>\n\n<p><code>kapt \"android.arch.persistence.room:compiler:1.0.0-alpha4\"</code></p>\n\n<p>Tha last thing was to create an immutable data class:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    val id : Int,\n    val title: String,\n    val overview: String,\n    val poster_path: String,\n    val backdrop_path: String,\n    val release_date: String,\n    val vote_average: Double,\n    val isFavorite: Int\n)\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>This solution works when you have classes for the model and classes for Database in the same Android Module. If you have model classes in Android Library module and the rest of the code in your main module, Room will NOT recognize them.</p>\n"}, {"tags": [], "owner": {"reputation": 288, "user_id": 4649025, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ML3yTqcR9ng/AAAAAAAAAAI/AAAAAAAAAIw/XUxaXZUAROU/photo.jpg?sz=128", "display_name": "changhao cui", "link": "https://stackoverflow.com/users/4649025/changhao-cui"}, "is_accepted": false, "score": 1, "last_activity_date": 1504254048, "creation_date": 1504254048, "answer_id": 45996001, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/45996001#45996001", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p><a href=\"https://issuetracker.google.com/issues/62851733\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/62851733</a></p>\n\n<p>i found this is @Relation's <strong><em>projection</em></strong> bug! \nnot Kotlin language problem.\nbased google GithubBrowserSample java also happend error, but different error message.</p>\n\n<p>below is my kotlin code:</p>\n\n<pre><code>data class UserWithCommunities(\n        @Embedded\n        var user: User = User(0, null),\n\n        @Relation(parentColumn = \"id\",\n                entityColumn = \"users_id\",\n                entity = CommunityUsers::class,\n                projection = arrayOf(\"communities_id\")) // delete this line.\n        var communityIds: List&lt;Int&gt; = emptyList()\n)\n</code></pre>\n\n<p>right:</p>\n\n<pre><code>data class UserWithCommunities(\n        @Embedded\n        var user: User = User(0, null),\n\n        @Relation(parentColumn = \"id\",\n                entityColumn = \"users_id\",\n                entity = CommunityUsers::class)\n        var communityList: List&lt;CommunityUsers&gt; = emptyList()\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4741, "user_id": 1145905, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/af7748a9885fe3e6ecd05a8bd85706f5?s=128&d=identicon&r=PG", "display_name": "kip2", "link": "https://stackoverflow.com/users/1145905/kip2"}, "is_accepted": false, "score": 2, "last_activity_date": 1527273654, "creation_date": 1527273654, "answer_id": 50535140, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/50535140#50535140", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I had this problem with an entity (all fields were properly-initialized <code>var</code>s like a lot of the answers here are suggesting) that included a list of related, non-primitive items like the OP in this <a href=\"https://stackoverflow.com/q/44580702/1145905\">SO question</a> had. For example:</p>\n\n<pre><code>@Entity(tableName = \"fruits\")\ndata class CachedFruitEntity(\n        @PrimaryKey var id: Long = 0L,\n        @Embedded(prefix = \"buyer_\") var buyerEntity: CachedBuyerEntity? = null\n        @TypeConverters(VendorsConverter::class)\n        var vendorEntities: List&lt;CachedVendorEntity?&gt; = listOf()))\n</code></pre>\n\n<p>That is, it has an embedded field, and it took me a while to realize that what I actually needed was a type converter for the vendor entity list instead (the compiler wasn't throwing the usual <code>Error:(58, 31) error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.</code> So my solution was very similar to <a href=\"https://stackoverflow.com/a/48260739/1145905\">this answer</a></p>\n\n<p>This <a href=\"https://github.com/googlesamples/android-architecture-components/issues/43\" rel=\"nofollow noreferrer\">google architecture components github thread</a> has more info on this misleading error, but not sure if the issue has been fixed yet. </p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 5013416, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh3.googleusercontent.com/-c5t9ukvwqg4/AAAAAAAAAAI/AAAAAAAAACM/qibulkFp5QE/photo.jpg?sz=128", "display_name": "caleb grimah", "link": "https://stackoverflow.com/users/5013416/caleb-grimah"}, "is_accepted": false, "score": 4, "last_activity_date": 1532830499, "creation_date": 1532830499, "answer_id": 51576700, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/51576700#51576700", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I also had this issue, but i realized the problem was that i added the @Embedded annotation to a property that already had a type converter, so anyone having the same problem should check the property declarations for your model class carefully and make sure the @Embedded annotation is not on a property that has a type converter associated with it.</p>\n"}, {"comments": [{"owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "edited": false, "score": 1, "creation_date": 1543451631, "post_id": 52284949, "comment_id": 93928783, "body": "This was my problem.  Changing my longitude var from &#39;long&#39; to &#39;lng&#39; fixed the error."}, {"owner": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "edited": false, "score": 1, "creation_date": 1599414798, "post_id": 52284949, "comment_id": 112761469, "body": "Same, response from api used long for longitude, and it took hours to solve this."}], "tags": [], "owner": {"reputation": 2741, "user_id": 247325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/804bf57e974a37ea7127929f2cd47cf4?s=128&d=identicon&r=PG", "display_name": "Erik B", "link": "https://stackoverflow.com/users/247325/erik-b"}, "is_accepted": false, "score": 9, "last_activity_date": 1536704604, "creation_date": 1536704604, "answer_id": 52284949, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/52284949#52284949", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Kotlin allows long as a parameter name, but this won't work when room generates java code.</p>\n"}, {"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1550458127, "post_id": 53133939, "comment_id": 96262002, "body": "thanks, this should be the accepted answer. @Leonardo Deleon  sometimes, the issue rises up, because we didn&#39;t assign a default value on the properties.  <code>e.g: var postedOn: String = &quot;&quot; &#47;&#47; this should fix the error as well</code>"}, {"owner": {"reputation": 1234, "user_id": 2552918, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ghyZH.png?s=128&g=1", "display_name": "error1337", "link": "https://stackoverflow.com/users/2552918/error1337"}, "edited": false, "score": 0, "creation_date": 1573561569, "post_id": 53133939, "comment_id": 103914699, "body": "Only answer that worked for me using @Ignore params."}], "tags": [], "owner": {"reputation": 1561, "user_id": 1043006, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/76b8868436c9697cc2ffd0147d5504b0?s=128&d=identicon&r=PG", "display_name": "Ahmed Awad", "link": "https://stackoverflow.com/users/1043006/ahmed-awad"}, "is_accepted": false, "score": 10, "last_activity_date": 1541267145, "creation_date": 1541267145, "answer_id": 53133939, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/53133939#53133939", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>For me all I had to do was to add a constructor to the data class with empty params sent to it like so:</p>\n\n<pre><code>    @Entity(tableName = \"posts\")\ndata class JobPost(\n    @Ignore\n    @SerializedName(\"companyLogo\")\n    var companyLogo: String,\n    @Ignore\n    @SerializedName(\"companyName\")\n    var companyName: String,\n    @Ignore\n    @SerializedName(\"isAggregated\")\n    var isAggregated: String,\n    @PrimaryKey(autoGenerate = false)\n    @SerializedName(\"jobID\")\n    var jobID: String,\n    @Ignore\n    @SerializedName(\"jobTitle\")\n    var jobTitle: String,\n    @Ignore\n    @SerializedName(\"postedOn\")\n    var postedOn: String,\n    @Ignore\n    @SerializedName(\"region\")\n    var region: String\n) {\n    constructor() : this(\"\",\"\",\"\",\"\",\"\",\"\",\"\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 5970652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff6760f3df6a6faab783178de599173?s=128&d=identicon&r=PG&f=1", "display_name": "Blaze Gawlik", "link": "https://stackoverflow.com/users/5970652/blaze-gawlik"}, "is_accepted": false, "score": 1, "last_activity_date": 1544736905, "creation_date": 1544736905, "answer_id": 53770419, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/53770419#53770419", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Same bug, much stranger solution: Do not return cursor using reactivex <code>Maybe&lt;Cursor&gt;</code> on your Dao. <code>Flowable</code>, <code>Single</code>, and <code>Observable</code> did not work either.</p>\n\n<p>Simply bite the bullet and make the reactive call outside the Dao request.\nBefore:</p>\n\n<pre><code>@Dao\ninterface MyDao{\n    @Query(\"SELECT * FROM mydao\")\n    fun getCursorAll(): Flowable&lt;Cursor&gt;\n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>@Dao\ninterface MyDao{\n    @Query(\"SELECT * FROM mydao\")\n    fun getCursorAll(): Cursor\n}\n</code></pre>\n\n<p>Meta:</p>\n\n<pre><code>Android Studio 3.2\nBuild #AI-181.5540.7.32.5014246, built on September 17, 2018\nJRE: 1.8.0_152-release-1136-b06 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nmacOS 10.12.6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2009, "user_id": 8313412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f0d6cd795aaddd44be737bfb0733eb3?s=128&d=identicon&r=PG", "display_name": "SilenceDev", "link": "https://stackoverflow.com/users/8313412/silencedev"}, "is_accepted": false, "score": 1, "last_activity_date": 1547023507, "creation_date": 1547023507, "answer_id": 54106138, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/54106138#54106138", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Just add the below annotation to any constructor that causes the errors and add a new blank constructor.</p>\n\n<blockquote>\n  <p>@Ignore</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1747, "user_id": 2519748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f0e75028dd2c2008b54dc0e011f32e?s=128&d=identicon&r=PG", "display_name": "Rajarshi", "link": "https://stackoverflow.com/users/2519748/rajarshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1547027581, "creation_date": 1547027581, "answer_id": 54107314, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/54107314#54107314", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>As stated in <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Entity\" rel=\"nofollow noreferrer\">Room Database <code>Entity</code></a>:</p>\n\n<blockquote>\n  <p>Each entity must either have a no-arg constructor or a constructor\n  whose parameters match fields (based on type and name).</p>\n</blockquote>\n\n<p>So adding an empty constructor and annotating your parameterized constructor with <code>@Ignore</code> will solve your problem. An example:</p>\n\n<pre><code>public class POJO {\n\n    long id;\n\n    String firstName;\n\n    @Ignore\n    String lastName;\n\n    public POJO() {\n    }\n\n    @Ignore\n    public POJO(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    // getters and setters\n    // ...\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9235190, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oC9HU7l8nRI/AAAAAAAAAAI/AAAAAAAAAIA/b_R_XtXpmxo/photo.jpg?sz=128", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/9235190/mustafa"}, "is_accepted": false, "score": 1, "last_activity_date": 1549468076, "creation_date": 1549468076, "answer_id": 54557487, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/54557487#54557487", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Don't use to dataclass,use normal class instead. This method will solve problem</p>\n"}, {"tags": [], "owner": {"reputation": 968, "user_id": 5511947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BDYhnOYieM0/AAAAAAAAAAI/AAAAAAAAC7M/UTSsQXWNTj4/photo.jpg?sz=128", "display_name": "Vairavan", "link": "https://stackoverflow.com/users/5511947/vairavan"}, "is_accepted": false, "score": 1, "last_activity_date": 1554853149, "creation_date": 1554853149, "answer_id": 55602741, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/55602741#55602741", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>With 2.1.0-alpha6, it turned out to be an invalid return type in Dao. Fixing the return type as expected fixed it.</p>\n"}, {"comments": [{"owner": {"reputation": 529, "user_id": 6715226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDheZ.jpg?s=128&g=1", "display_name": "Muazzam A.", "link": "https://stackoverflow.com/users/6715226/muazzam-a"}, "edited": false, "score": 0, "creation_date": 1595454094, "post_id": 56090634, "comment_id": 111484195, "body": "This is the same case with me, thanks for the answer \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 1189, "user_id": 4723178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8rtm.jpg?s=128&g=1", "display_name": "Muhammad Maqsood", "link": "https://stackoverflow.com/users/4723178/muhammad-maqsood"}, "is_accepted": false, "score": 2, "last_activity_date": 1557580112, "creation_date": 1557580112, "answer_id": 56090634, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/56090634#56090634", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>For me, I was using 'lat' &amp; 'long' as a variable name in the data(Entity) class for kotlin so renaming to latitude &amp; longitude it worked.</p>\n\n<p><strong>Not working:</strong></p>\n\n<pre><code>@Entity(tableName = \"table_User\")\ndata class User(@PrimaryKey var userId : Int, @ColumnInfo(name = \"first_name\") \nvar firstName: String\n            , @ColumnInfo(name = \"last_name\") var lastName: String\n            , @ColumnInfo(name = \"password\") var password: String\n            , @ColumnInfo(name = \"dob\") var dob: Long\n            , @ColumnInfo(name = \"address\") var address: String\n            , @ColumnInfo(name = \"lat\") var latitude: Double\n            , @ColumnInfo(name = \"long\") var longitude: Double) {\n\n}\n</code></pre>\n\n<p><strong>Working:</strong></p>\n\n<pre><code>@Entity(tableName = \"table_User\")\ndata class User(@PrimaryKey var userId : Int, @ColumnInfo(name = \"first_name\") \nvar firstName: String\n            , @ColumnInfo(name = \"last_name\") var lastName: String\n            , @ColumnInfo(name = \"password\") var password: String\n            , @ColumnInfo(name = \"dob\") var dob: Long\n            , @ColumnInfo(name = \"address\") var address: String\n            , @ColumnInfo(name = \"latitude\") var latitude: Double\n            , @ColumnInfo(name = \"longitude\") var longitude: Double) {\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 1944515, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7924360c6a7d84b477cb3cfbe13e059f?s=128&d=identicon&r=PG", "display_name": "Aspiring Dev", "link": "https://stackoverflow.com/users/1944515/aspiring-dev"}, "edited": false, "score": 3, "creation_date": 1566073830, "post_id": 57013272, "comment_id": 101543617, "body": "This was my case but it doesn&#39;t make sense because the official sample for @Ignore uses it the same way: <a href=\"https://developer.android.com/training/data-storage/room/defining-data\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/defining-da&zwnj;&#8203;ta</a>"}, {"owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "reply_to_user": {"reputation": 435, "user_id": 1944515, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7924360c6a7d84b477cb3cfbe13e059f?s=128&d=identicon&r=PG", "display_name": "Aspiring Dev", "link": "https://stackoverflow.com/users/1944515/aspiring-dev"}, "edited": false, "score": 0, "creation_date": 1566117057, "post_id": 57013272, "comment_id": 101549297, "body": "@AspiringDev I agree, sounds more like a Room bug than intentional design."}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 3, "creation_date": 1568840324, "post_id": 57013272, "comment_id": 102407061, "body": "So the only option is to not use @Ignore fields?"}, {"owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "reply_to_user": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1576056385, "post_id": 57013272, "comment_id": 104771073, "body": "@FutureShocked you can use it, but outside of constructor"}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 3, "creation_date": 1576089243, "post_id": 57013272, "comment_id": 104788827, "body": "@daneejela You can have <code>@Ignore</code> fields in your primary constructor as well, you just need <i>some</i> constructor without the field that Room can take advantage of. See my answer for details."}, {"owner": {"reputation": 529, "user_id": 9316168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUaOF.jpg?s=128&g=1", "display_name": "gmk57", "link": "https://stackoverflow.com/users/9316168/gmk57"}, "edited": false, "score": 2, "creation_date": 1590424825, "post_id": 57013272, "comment_id": 109668332, "body": "<code>@Ignore</code> in a single constructor <a href=\"https://issuetracker.google.com/issues/70762008\" rel=\"nofollow noreferrer\">is allowed</a> with default value and <code>@JvmOverloads</code> annotation"}, {"owner": {"reputation": 10567, "user_id": 541624, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uyz2B.jpg?s=128&g=1", "display_name": "ericn", "link": "https://stackoverflow.com/users/541624/ericn"}, "edited": false, "score": 0, "creation_date": 1603304668, "post_id": 57013272, "comment_id": 113997849, "body": "why <code>var</code> instead of <code>val</code>?"}, {"owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "reply_to_user": {"reputation": 10567, "user_id": 541624, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uyz2B.jpg?s=128&g=1", "display_name": "ericn", "link": "https://stackoverflow.com/users/541624/ericn"}, "edited": false, "score": 0, "creation_date": 1603374176, "post_id": 57013272, "comment_id": 114021791, "body": "@ericn  it depends if you want to to be editable or not.."}], "tags": [], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "is_accepted": false, "score": 45, "last_activity_date": 1589540230, "last_edit_date": 1589540230, "creation_date": 1562960924, "answer_id": 57013272, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/57013272#57013272", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>It's not a problem in your case, but for others, this error can occur if you have @Ignore params in your primary constructor, i.e. Room expects to have either: </p>\n\n<ul>\n<li>parameterless constructor or</li>\n<li>constructor with all fields not marked with @Ignore</li>\n</ul>\n\n<p>for example: </p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String,\n    @Ignore var overview: String) \n</code></pre>\n\n<p>will not work. This will:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1493, "user_id": 3034693, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4ddf8ca91e9a6125dccc5b061794f7be?s=128&d=identicon&r=PG", "display_name": "Sudhir Singh Khanger", "link": "https://stackoverflow.com/users/3034693/sudhir-singh-khanger"}, "edited": false, "score": 2, "creation_date": 1580376906, "post_id": 59292096, "comment_id": 106079771, "body": "Shouldn&#39;t your syntax be <code>constructor(params) : this(params from primary constructor) { }</code>"}], "tags": [], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "is_accepted": false, "score": 11, "last_activity_date": 1576089565, "creation_date": 1576089565, "answer_id": 59292096, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/59292096#59292096", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>To expand on the answers provided by @evanchooly and @daneejela, you need a secondary constructor to be able to use <code>@Ignore</code> parameters in your primary constructor. This is so Room still has a constructor that it can use when instantiating your object. Per your example, if we ignore one of the fields:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n        @PrimaryKey\n        var id : Int,\n        var title: String,\n        var overview: String,\n        var poster_path: String,\n        var backdrop_path: String,\n        @Ignore var release_date: String,\n        @Ignore var vote_average: Double,\n        @Ignore var isFavorite: Int\n) {\n    constructor(id: Int, title: String, overview: String, poster_path: String, backdrop_path: String) {\n        this(id, title, overview, poster_path, backdrop_path, \"\", 0.0, 0)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 432, "user_id": 4401655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f88c7437d1964e74255b7bb68401367?s=128&d=identicon&r=PG&f=1", "display_name": "Thilaw Fabrice", "link": "https://stackoverflow.com/users/4401655/thilaw-fabrice"}, "is_accepted": false, "score": 14, "last_activity_date": 1592551494, "last_edit_date": 1592551494, "creation_date": 1577438845, "answer_id": 59498585, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/59498585#59498585", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I had the same issue. You can move the @Ignore fields to class body. For example :</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String\n){\n    //here\n    @Ignore var overview: String\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "is_accepted": false, "score": -2, "last_activity_date": 1579631667, "creation_date": 1579631667, "answer_id": 59847226, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/59847226#59847226", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>For a variation on FutureShocked answer that implements autoGenerate:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n        var title: String,\n        var overview: String,\n        var poster_path: String,\n        var backdrop_path: String,\n        @Ignore var release_date: String,\n        @Ignore var vote_average: Double,\n        @Ignore var isFavorite: Int\n) {\n@PrimaryKey(autoGenerate = true) var id : Int = 0\n\n    constructor(title: String, overview: String, poster_path: String, backdrop_path: String) {\n        this(id, title, overview, poster_path, backdrop_path, \"\", 0.0, 0)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 7985538, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2YObBxBtpdw/AAAAAAAAAAI/AAAAAAAAA9w/-EBLIpatH7A/photo.jpg?sz=128", "display_name": "Sreekant Shenoy", "link": "https://stackoverflow.com/users/7985538/sreekant-shenoy"}, "is_accepted": false, "score": 2, "last_activity_date": 1584614452, "creation_date": 1584614452, "answer_id": 60755473, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/60755473#60755473", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Like it's said in the Room docs, you are <strong>required to make an empty public constructor</strong>. At the same time, if you want to declare other custom constructors, you must add <code>@Ignore</code> annotation.</p>\n\n<pre><code>@Entity\npublic class CartItem {\n    @PrimaryKey\n    public int product_id;\n    public int qty;\n\n    public CartItem() {\n    }\n\n    @Ignore\n    public CartItem(int product_id, int count) {\n        this.product_id = product_id;\n        this.qty = count;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 10284252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de489bb7a2dafad900d57ecdb2072970?s=128&d=identicon&r=PG&f=1", "display_name": "Ekeuwei", "link": "https://stackoverflow.com/users/10284252/ekeuwei"}, "is_accepted": false, "score": 1, "last_activity_date": 1591385845, "last_edit_date": 1591385845, "creation_date": 1590751550, "answer_id": 62084857, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/62084857#62084857", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Kotlin plugin doesn't pick up annotationProcessor dependencies, So use the latest version of Kotlin annotation processor - put this line at <strong>top of your module's level</strong> <code>build.gradle</code> file</p>\n\n<p><code>apply plugin: 'kotlin-kapt'</code></p>\n\n<p>like</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'  // add this line\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n      ........\n    }\n}\n</code></pre>\n\n<p>Don't forget to change the compileSdkVersion accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 803, "user_id": 9053942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512e2aebd1a2092674c764f6e3acb380?s=128&d=identicon&r=PG", "display_name": "Qazi Fahim Farhan", "link": "https://stackoverflow.com/users/9053942/qazi-fahim-farhan"}, "is_accepted": false, "score": 7, "last_activity_date": 1606221413, "last_edit_date": 1606221413, "creation_date": 1592653441, "answer_id": 62485363, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/62485363#62485363", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>Today I was having this problem. I used <code>@Ignore</code>, that is why I got the error. To solve this I created a secondary constructor. So my code looks something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity(tableName = &quot;profile&quot;)\ndata class Profile(\n  @field:SerializedName(&quot;id&quot;) @PrimaryKey @ColumnInfo(name = &quot;id&quot;) var id:Long,\n  @field:SerializedName(&quot;foo&quot;) @ColumnInfo(name = &quot;foo&quot;) var foo:String?,\n  @field:SerializedName(&quot;bar&quot;) @Ignore var Bar:String?\n){\n   constructor(id:Long, foo:String) : this(id, foo, null)\n}\n</code></pre>\n<p>This worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 4886, "user_id": 5710014, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/14aeefe4e6b1f2631d5cc1bc2de4a479?s=128&d=identicon&r=PG&f=1", "display_name": "blackHawk", "link": "https://stackoverflow.com/users/5710014/blackhawk"}, "is_accepted": false, "score": -1, "last_activity_date": 1595398378, "creation_date": 1595398378, "answer_id": 63028001, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/63028001#63028001", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>In my case I wasn't returning type in one of the Dao query hope it helps others\nThanks</p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 6086086, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/fdfd2f4314d580bf3ab8e33c2da601bc?s=128&d=identicon&r=PG&f=1", "display_name": "Asad", "link": "https://stackoverflow.com/users/6086086/asad"}, "is_accepted": false, "score": 0, "last_activity_date": 1612858331, "creation_date": 1612858331, "answer_id": 66115173, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/66115173#66115173", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>make sure <code>room</code> database <code>column</code> name and field name in <code>constructor</code> are same</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12262942, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jom_HGtJvkA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcA_G5tH7lj3Jr3rgn4od-SiRQhRA/photo.jpg?sz=128", "display_name": "Mas altaay", "link": "https://stackoverflow.com/users/12262942/mas-altaay"}, "is_accepted": false, "score": -1, "last_activity_date": 1617492711, "creation_date": 1617492711, "answer_id": 66936778, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor/66936778#66936778", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I face the same issue in my case my entity name is(Room) same as the library(Room) so I add the import line</p>\n<pre><code>import com.your_package_name.model.Room\n</code></pre>\n"}], "owner": {"reputation": 2077, "user_id": 6801380, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DSxgS.png?s=128&g=1", "display_name": "Leonardo Deleon", "link": "https://stackoverflow.com/users/6801380/leonardo-deleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45352, "favorite_count": 8, "answer_count": 26, "score": 84, "last_activity_date": 1617492711, "creation_date": 1497195538, "last_edit_date": 1511912237, "question_id": 44485631, "link": "https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor", "title": "Room Persistence: Error:Entities and Pojos must have a usable public constructor", "body": "<p>I'm converting a project to Kotlin and I'm trying to make my model (which is also my entity) a data class\nI intend to use Moshi to convert the JSON responses from the API</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String,\n    var overview: String,\n    var poster_path: String,\n    var backdrop_path: String,\n    var release_date: String,\n    var vote_average: Double,\n    var isFavorite: Int\n)\n</code></pre>\n\n<p>I can't build the app cause of the following error</p>\n\n<blockquote>\n  <p>Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\n  Cannot find setter for field.</p>\n</blockquote>\n\n<p>The examples I found are not far from <a href=\"https://github.com/KucherenkoIhor/Android-Architecture-Components/blob/master/app/src/main/java/com/ik/exploringviewmodel/entities/Repo.kt\" rel=\"noreferrer\">this</a></p>\n\n<p>Ideas on how to solve it?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497270743, "post_id": 44485543, "comment_id": 75992282, "body": "@tynn Well, I (myself) would like to see a simplest example how to do it :-)"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497271074, "post_id": 44485543, "comment_id": 75992521, "body": "Then the question is too broad. There&#39;re different possible ways to do so. You should give it a try and when you have issues with it come back here for some solutions."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497271241, "post_id": 44485543, "comment_id": 75992640, "body": "@tynn I have updated the question, see <b>Edit</b>."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1497276018, "post_id": 44485543, "comment_id": 75996307, "body": "It should be <code>app:adapter=&quot;@{viewModel.adapter}&quot;</code>. You need to use <code>@</code> instead of <code>%</code> or <code>$</code> so that the binding is being identified."}], "answers": [{"comments": [{"owner": {"reputation": 3090, "user_id": 1771663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hcbh.jpg?s=128&g=1", "display_name": "Rehan", "link": "https://stackoverflow.com/users/1771663/rehan"}, "edited": false, "score": 0, "creation_date": 1497273404, "post_id": 44500300, "comment_id": 75994301, "body": "Good answer. But don&#39;t you think <code>viewModel.fragments</code> is a bit weird? Shouldn&#39;t it be replaced with adapter reference?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 3090, "user_id": 1771663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hcbh.jpg?s=128&g=1", "display_name": "Rehan", "link": "https://stackoverflow.com/users/1771663/rehan"}, "edited": false, "score": 0, "creation_date": 1497273611, "post_id": 44500300, "comment_id": 75994466, "body": "@Rehan I was expecting <code>fragments</code> to be an instance of <code>PagerAdapter</code>. Just saw it might actually be an instance of <code>LiveData</code>."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497275787, "post_id": 44500300, "comment_id": 75996127, "body": "@tynn thank you for clarification. Decided to drop binding, getting error (see <b>Edit2</b>). Any clues?"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497280037, "post_id": 44500300, "comment_id": 75999165, "body": "@tynn One, thing after fixing all covered issues, getting <i>com.foo.bar.databinding does not exist</i> on the <code>ViewPager Fragment</code>. Works fine back again, once the binding is removed from the <code>ViewPager</code>."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497280725, "post_id": 44500300, "comment_id": 75999668, "body": "Even if these errors are cryptic, these have information about possible solutions. But these are to extensive for comments for sure. Try to find any massage standing out."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 1, "creation_date": 1497282004, "post_id": 44500300, "comment_id": 76000530, "body": "Ok, used Gradle option to get full error description. It turned out I had to define public variable <code>adapter</code> as well, along with <code>setAdapter</code> - to work properly. Resolved."}, {"owner": {"reputation": 4205, "user_id": 2622118, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/425bb7d5bd7c5370ba53200dc40f11de?s=128&d=identicon&r=PG", "display_name": "mallaudin", "link": "https://stackoverflow.com/users/2622118/mallaudin"}, "edited": false, "score": 2, "creation_date": 1556547844, "post_id": 44500300, "comment_id": 98466266, "body": "Where are you getting instance of  <code>FragmentManager</code>? I can&#39; see any."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 2558, "user_id": 1226095, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/9jYCt.jpg?s=128&g=1", "display_name": "jesses.co.tt", "link": "https://stackoverflow.com/users/1226095/jesses-co-tt"}, "edited": false, "score": 1, "creation_date": 1564207427, "post_id": 44500300, "comment_id": 100962858, "body": "@jesses.co.tt thanks a lot. The repo was removed. You&#39;ll now find a link to a fork."}, {"owner": {"reputation": 726, "user_id": 5329293, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2553037df0ac753036033a8a37846fc?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Makov", "link": "https://stackoverflow.com/users/5329293/anton-makov"}, "edited": false, "score": 0, "creation_date": 1567540656, "post_id": 44500300, "comment_id": 101990944, "body": "How do you implement createAdapterForFragments?"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1564207385, "last_edit_date": 1564207385, "creation_date": 1497272932, "answer_id": 44500300, "question_id": 44485543, "link": "https://stackoverflow.com/questions/44485543/set-viewpagers-adapter-via-data-binding/44500300#44500300", "title": "Set ViewPager&#39;s adapter via Data Binding", "body": "<p>A <code>@BindingAdapter</code> should be static in Java, thus be annotated with <code>@JvmStatic</code>. Additionally you're supposed to skip all namespaces with the binding attributes in the adapter definition. Also the second parameter needs to reference a type you want to set. In your case this is <code>LiveData&lt;List&lt;BarFragment&gt;&gt;</code>. Then you can create the adapter statically.</p>\n\n<pre><code>companion object {\n  @JvmStatic\n  @BindingAdapter(\"fragments\")\n  fun setAdapter(pager: ViewPager, fragments: LiveData&lt;List&lt;BarFragment&gt;&gt;) {\n    pager.adapter = createAdapterForFragments(fragments)\n  }\n}\n</code></pre>\n\n<p>But if <code>fragments</code> would be a <code>PagerAdapter</code>, a binding adapter is not necessary at all. As a default implementation the compiler looks for a given setter method for the attribute. So if you use <code>app:adapter</code>, the <code>setAdapter()</code> method will be used automatically. Therefore it should be sufficient to just put this adapter definition in the layout.</p>\n\n<pre><code>&lt;android.support.v4.view.ViewPager\n  ...\n  app:adapter\"@{viewModel.fragments}\"/&gt;\n</code></pre>\n\n<p>I'd suggest to use the latter and setup the adapter with the <code>viewModel</code> not with the data binding.</p>\n\n<p>A little data binding convenience for <code>ViewPager</code> and <code>TabLayout</code> you'll find with <a href=\"https://github.com/v2rc/Supplies/blob/master/binding/src/main/java/berlin/volders/supplies/binding/adapter/ViewPagerDataBinding.java\" rel=\"nofollow noreferrer\"><code>ViewPagerDataBinding</code></a>.</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5395, "favorite_count": 1, "accepted_answer_id": 44500300, "answer_count": 1, "score": 3, "last_activity_date": 1564207385, "creation_date": 1497195061, "last_edit_date": 1497275742, "question_id": 44485543, "link": "https://stackoverflow.com/questions/44485543/set-viewpagers-adapter-via-data-binding", "title": "Set ViewPager&#39;s adapter via Data Binding", "body": "<p>Trying to use Android's <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">Data Binding</a> to adapter for a <code>ViewPager</code> (controls slidable <code>Fragments</code>).</p>\n\n<p><strong>FooPagerAdapter.kt</strong>:</p>\n\n<pre><code>class FooPagerAdapter(fm: Fragmentmanager, private val mFragments: List&lt;BarFragment&gt;) : FragmentStatePagerAdapter(fm) {\n  override fun getItem(position: int): Fragment {\n    return mFragments(position)\n  }\n\n  override fun getCount(): Int {\n    return mFragments.size\n  }\n}\n</code></pre>\n\n<p>If done from the <strong>Activity, it would look like</strong>:</p>\n\n<pre><code>  ..\n  mFooViewPager.adapter = FooPagerAdapter(fragmentFamanager, fragmentsList)\n  ..\n</code></pre>\n\n<hr>\n\n<p><strong>Question:</strong> </p>\n\n<p>Now how does one transfer adapter functionality to the binding file to update fragments ViewPager using Data Binding?</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>As I understand it has to be something like this.</p>\n\n<p><strong>activity_foo.xml:</strong></p>\n\n<pre><code>&lt;android.support.v4.view.ViewPager\n  ..\n  app:fragments\"${viewModel.fragments}\"/&gt;\n</code></pre>\n\n<p>And then in a <strong>FooViewModel.kt:</strong></p>\n\n<pre><code>fun getFragments(): LiveData&lt;List&lt;BarFragment&gt;&gt;? = mFragments\n\ncompanion object {\n  @BindingAdapter(\"bind:fragments\")\n  fun setAdapter(pager: ViewPager, adapter: BarPagerAdapter) {\n    pager.adapter = adapter\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit2:</strong></p>\n\n<p>Decided to use a <code>ViewModel</code> directly (without binding) to set <code>ViewPager</code>'s adapter.</p>\n\n<p><strong>activity_foo.xml:</strong></p>\n\n<pre><code>&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.foo.bar.viewmodels.FooViewModel\"/&gt;\n    &lt;/data&gt;\n    ..\n      &lt;android.support.v4.view.ViewPager\n          ..\n          app:adapter=\"%{viewModel.adapter}\"/&gt;\n</code></pre>\n\n<p><strong>FooViewModel.kt:</strong></p>\n\n<pre><code>class FooViewModel(application: Application) : AndroidViewModel(application) {\n  ..\n  fun setAdapter(pager: ViewPager, fragments:List&lt;PeriodFragment&gt;) {\n    pager.adapter = PeriodsPagerAdapter(mFragmentManager!!, periods)\n  }\n</code></pre>\n\n<p>Getting:</p>\n\n<blockquote>\n  <p>Error:...layout\\activity_foo.xml:39 attribute 'com.foo.bar:adapter' not found</p>\n</blockquote>\n"}, {"tags": ["kotlin", "kotlinpoet"], "answers": [{"comments": [{"owner": {"reputation": 2416, "user_id": 168722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2733344efeaed9e345f76193f94e9ca7?s=128&d=identicon&r=PG", "display_name": "xap4o", "link": "https://stackoverflow.com/users/168722/xap4o"}, "edited": false, "score": 0, "creation_date": 1497280054, "post_id": 44484112, "comment_id": 75999175, "body": "Are there any plans to add idiomatic data class field declaration support?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2416, "user_id": 168722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2733344efeaed9e345f76193f94e9ca7?s=128&d=identicon&r=PG", "display_name": "xap4o", "link": "https://stackoverflow.com/users/168722/xap4o"}, "edited": false, "score": 1, "creation_date": 1497280212, "post_id": 44484112, "comment_id": 75999298, "body": "Not sure, you&#39;d have to ask them. In the meantime, 0.3.0 is out as of 23 hours ago, you can go ahead and update to it. I&#39;ll edit my answer too."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1497280266, "last_edit_date": 1497280266, "creation_date": 1497185764, "answer_id": 44484112, "question_id": 44483831, "link": "https://stackoverflow.com/questions/44483831/generate-data-class-with-kotlinpoet/44484112#44484112", "title": "Generate data class with KotlinPoet", "body": "<p>Here is an <a href=\"https://github.com/square/kotlinpoet/issues/113\" rel=\"noreferrer\">issue</a> discussing this problem.</p>\n\n<p>The conclusion is that the way to write this code is to create a property that matches the constructor parameter's name, and is initialized by it:</p>\n\n<pre><code>KotlinFile.builder(\"\", \"Foo\")\n        .addType(TypeSpec.classBuilder(\"User\")\n                .addModifiers(KModifier.DATA)\n                .primaryConstructor(FunSpec.constructorBuilder()\n                        .addParameter(\"id\", Int::class)\n                        .build())\n                .addProperty(PropertySpec.builder(\"id\", Int::class)\n                        .initializer(\"id\")\n                        .build())\n                .build()\n        )\n        .build()\n        .writeTo(System.out)\n</code></pre>\n\n<p><strike>However, this feature is not available as of the <code>0.2.0</code> release of KotlinPoet. It is already implemented, and there is a <a href=\"https://github.com/square/kotlinpoet/blob/4a0bbc83af359076432c55275a1a9e7366120e48/src/test/java/com/squareup/kotlinpoet/KotlinPoetTest.kt#L95-L127\" rel=\"noreferrer\">test</a> for this in the repository that is passing, but you'll have to wait for the <code>0.3.0</code> release of KotlinPoet to be able to use this feature, which is supposed to come in the next few days.</strike></p>\n\n<p>This feature is available from <a href=\"https://github.com/square/kotlinpoet/releases/tag/kotlinpoet-0.3.0\" rel=\"noreferrer\"><code>0.3.0</code></a>, which is out now.</p>\n\n<hr>\n\n<p>The previous code with an alternative formatting that matches your original style:</p>\n\n<pre><code>val builder = KotlinFile.builder(\"\", \"Foo\")\nval classBuilder = TypeSpec.classBuilder(\"User\").addModifiers(KModifier.DATA)\n\nval ctor = FunSpec.constructorBuilder()\nctor.addParameter(\"id\", Int::class)\nclassBuilder.primaryConstructor(ctor.build())\n\nval idProperty = PropertySpec.builder(\"id\", Int::class).initializer(\"id\").build()\nclassBuilder.addProperty(idProperty)\n\nbuilder.addType(classBuilder.build())\nbuilder.build().writeTo(System.out)\n</code></pre>\n"}], "owner": {"reputation": 2416, "user_id": 168722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2733344efeaed9e345f76193f94e9ca7?s=128&d=identicon&r=PG", "display_name": "xap4o", "link": "https://stackoverflow.com/users/168722/xap4o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1740, "favorite_count": 0, "accepted_answer_id": 44484112, "answer_count": 1, "score": 5, "last_activity_date": 1509422486, "creation_date": 1497183914, "last_edit_date": 1509422486, "question_id": 44483831, "link": "https://stackoverflow.com/questions/44483831/generate-data-class-with-kotlinpoet", "title": "Generate data class with KotlinPoet", "body": "<p>I want to generate simple data class with KotlinPoet:</p>\n\n<pre><code>data class User(val id: Int)\n</code></pre>\n\n<p>I do it like that:</p>\n\n<pre><code>val builder = KotlinFile.builder(\"\", \"Foo\")\nval classBuilder = TypeSpec.classBuilder(\"User\").addModifiers(KModifier.DATA)\nval ctor = FunSpec.constructorBuilder()\nctor.addParameter(\"id\", Int::class)\nclassBuilder.primaryConstructor(ctor.build())\nbuilder.addType(classBuilder.build())\nbuilder.build().writeTo(System.out)\n</code></pre>\n\n<p>But what I get is this:</p>\n\n<pre><code>data class User(id: Int) {\n}\n</code></pre>\n\n<p>How can I add <code>val</code> modifier to constructor parameter?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1497171548, "post_id": 44481959, "comment_id": 75958533, "body": "<code>override val a = 0</code> should work. What&#39;s the error message?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1497171856, "post_id": 44481959, "comment_id": 75958593, "body": "<a href=\"https://user-images.githubusercontent.com/16398479/27009722-ec3dfd00-4e5a-11e7-8adf-cdb46995efb0.png\" rel=\"nofollow noreferrer\">please see image</a> P.S. I promise they&#39;re in the same package, because <code>override fun getA() = 1</code> works."}, {"owner": {"reputation": 208, "user_id": 4867727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ43v.jpg?s=128&g=1", "display_name": "GiantTree", "link": "https://stackoverflow.com/users/4867727/gianttree"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1497172189, "post_id": 44481959, "comment_id": 75958670, "body": "@EugenPechanec I just checked it myself. The error is &quot;&#39;A&#39; overrides nothing&quot;, which seems weird, given that it should compile a method with the exact same name (<code>getA</code>)."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 208, "user_id": 4867727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nZ43v.jpg?s=128&g=1", "display_name": "GiantTree", "link": "https://stackoverflow.com/users/4867727/gianttree"}, "edited": false, "score": 0, "creation_date": 1497173179, "post_id": 44481959, "comment_id": 75958878, "body": "@GiantTree please read the last few lines of the question again."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497182178, "post_id": 44481959, "comment_id": 75961165, "body": "You can override a property with a property, e. g. <code>interface A { val x: Type }</code> <code>class B(override val x: Type) : A</code>. Function can be overridden only with a function."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497183439, "post_id": 44481959, "comment_id": 75961509, "body": "@Miha_x64 that&#39;s a pity. Thanks."}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1497247358, "post_id": 44481959, "comment_id": 75978292, "body": "If it&#39;s &quot;ugly&quot; in the sense that you are now required to use it as a function, you may consider creating a val of a different name and overriding getA to call that val&#39;s getter. It&#39;s still ugly but it will make other calls nicer."}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 5, "last_activity_date": 1497187248, "last_edit_date": 1497187248, "creation_date": 1497183785, "answer_id": 44483807, "question_id": 44481959, "link": "https://stackoverflow.com/questions/44481959/how-to-implement-an-abstract-getter-with-property/44483807#44483807", "title": "How to implement an abstract getter with property", "body": "<p>According to @Miha_x64 ,</p>\n\n<blockquote>\n  <p>functions can be overriden only with a function.</p>\n</blockquote>\n\n<p>Seems that I was trying something impossible.</p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1936, "favorite_count": 0, "accepted_answer_id": 44483807, "answer_count": 1, "score": 5, "last_activity_date": 1497187248, "creation_date": 1497170688, "last_edit_date": 1497171537, "question_id": 44481959, "link": "https://stackoverflow.com/questions/44481959/how-to-implement-an-abstract-getter-with-property", "title": "How to implement an abstract getter with property", "body": "<p>I have java code:</p>\n\n<pre><code>public abstract class A {\n   abstract int getA()\n}\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>class B : A() {\n    val a = 0\n}\n</code></pre>\n\n<p>Doesn't compile.</p>\n\n<pre><code>class B : A() {\n    override val a = 0\n}\n</code></pre>\n\n<p>Still doesn't compile.</p>\n\n<pre><code>class B : A() {\n    override val a: Int get () = 1\n}\n</code></pre>\n\n<p>Still doesn't compile.</p>\n\n<pre><code>class B : A() {\n    override val a: Int override get () = 1\n}\n</code></pre>\n\n<p>Still doesn't compile.</p>\n\n<pre><code>class B : A() {\n    val a: Int override get () = 1\n}\n</code></pre>\n\n<p>None of them are working. Does that mean I can only use </p>\n\n<pre><code>class B : A() {\n    override fun getA() = 1\n}\n</code></pre>\n\n<p>? I think the last one(overriding the method) is ugly.</p>\n\n<p>This could be worse when you have a getter-setter pair. It's expected to override getter-setter pair with a <code>var</code> property, but you have to write two methods.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1497171341, "last_edit_date": 1497171341, "creation_date": 1497170657, "answer_id": 44481953, "question_id": 44481924, "link": "https://stackoverflow.com/questions/44481924/cant-return-factorial-result-in-tailrec-function-in-kotlin/44481953#44481953", "title": "Can&#39;t return factorial result in tailrec function in Kotlin", "body": "<pre><code>if (x == 0) {return z}\nelse if (x == 1) {return z}\n</code></pre>\n\n<p>These checks should be against <code>y</code> instead of <code>x</code>, <code>x</code> is the parameter of the outer <code>fact</code> function and never changes :)</p>\n\n<p>You get no errors or crashes because the infinite recursive calls get optimized to an infinite loop.</p>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 1, "accepted_answer_id": 44481953, "answer_count": 1, "score": 2, "last_activity_date": 1497171341, "creation_date": 1497170476, "question_id": 44481924, "link": "https://stackoverflow.com/questions/44481924/cant-return-factorial-result-in-tailrec-function-in-kotlin", "title": "Can&#39;t return factorial result in tailrec function in Kotlin", "body": "<p>I'm practicing recursion in Kotlin and decided to create a factorial function</p>\n\n<pre><code>fun fact(x:Int):Int{\n\n    tailrec fun factTail(y:Int, z:Int=1) : Int{\n\n        if (x == 0) {return z}\n        else if (x == 1) {return z}\n        else {\n            return factTail(y-1, y*z)\n        }\n\n    }\n\nreturn factTail(x,1)\n</code></pre>\n\n<p>I'm simply calling this function in main:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\nprintln(\"5! is ${fact(5)}\")\n\n}\n</code></pre>\n\n<p>I don't get any errors but I can't see the result neither.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497165750, "post_id": 44481268, "comment_id": 75957198, "body": "You can find the rules for how you can call super ctors here: <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#inheritance</a> . In short, if the superclass has a primary constructor, you must call that one from all constructors of the base class."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497170003, "post_id": 44481268, "comment_id": 75958179, "body": "<code>constructor(entity: Entity) : super(entity)</code>"}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497177085, "post_id": 44481268, "comment_id": 75959810, "body": "@zsmb13 can you please share some code?"}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497177120, "post_id": 44481268, "comment_id": 75959817, "body": "@Miha_x64 I tried that already, and it gives <code>Primary constructor call is expected</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497176979, "post_id": 44481516, "comment_id": 75959778, "body": "Thanks for the reply. I am aware of denoting the supertype. But this is actually a workaround. I want to use the super constructor."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 0, "last_activity_date": 1497167120, "creation_date": 1497167120, "answer_id": 44481516, "question_id": 44481268, "link": "https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression/44481516#44481516", "title": "Call super class constructor in Kotlin, Super is not an expression", "body": "<p>Use this <code>super&lt;Entity&gt;.fromEntity(entity)</code> to call super class methods.</p>\n\n<p>As Documentation says:</p>\n\n<blockquote>\n  <p>In Kotlin, implementation inheritance is regulated by the following rule: if a class inherits many implementations of the same member from its immediate superclasses, it must override this member and provide its own implementation (perhaps, using one of the inherited ones). To denote the supertype from which the inherited implementation is taken, we use super qualified by the supertype name in angle brackets, e.g. super.</p>\n</blockquote>\n\n<pre><code>constructor(entity: Entity) : this() {\n    super&lt;Entity&gt;.fromEntity(entity)\n}\n</code></pre>\n\n<p>To know more read <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-rules\" rel=\"nofollow noreferrer\">Overriding Rules</a></p>\n"}, {"comments": [{"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 1, "creation_date": 1497252851, "post_id": 44493549, "comment_id": 75980873, "body": "Thanks. I already tried the syntax <code>constructor(entity: Entity) : super(entity)</code> but it gives the same error <code>super is not an expression...</code> I did not try your suggested code, but I have one concern. What is benefit of having a parent if I have to define the same fields again in every child?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497253087, "post_id": 44493549, "comment_id": 75980998, "body": "Like I said in my answer, &quot;you can&#39;t call a super constructor from a secondary constructor if your class has a primary constructor&quot;. Regarding your concern, the child class doesn&#39;t have the same <b>fields</b>. It has constructor parameters which it passes to the super class which defines the properties."}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497253166, "post_id": 44493549, "comment_id": 75981052, "body": "Can I call the parent constructor if I removed the primary constructor from the child? Can you update your answer with sample code for that?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497253669, "post_id": 44493549, "comment_id": 75981332, "body": "@AmrElAdawy I&#39;ve updated my answer with two more solutions."}, {"owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497257804, "post_id": 44493549, "comment_id": 75983780, "body": "thanks for the update. I will vote up for the efforts. I still have many concerns on solutions. They require losing the <code>data</code> nature and still need to add the parent fields in the children which I can avoid by removing the parent altogether.  I still see my question has the less coding."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "edited": false, "score": 0, "creation_date": 1497258943, "post_id": 44493549, "comment_id": 75984504, "body": "@AmrElAdawy I forgot to make the child class a <code>data class</code> in solution 3. Please see the updated answer."}, {"owner": {"reputation": 2772, "user_id": 5771446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d6be6a7599bae9c70427cf2c9565ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/5771446/leroy"}, "edited": false, "score": 0, "creation_date": 1570569130, "post_id": 44493549, "comment_id": 102952187, "body": "The only downside to the idiomatic approach is that you expose the fields <code>id</code> and <code>created</code> - allowing anyone to pass in a random id and a bogus creation date."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 90, "last_activity_date": 1497258917, "last_edit_date": 1497258917, "creation_date": 1497252216, "answer_id": 44493549, "question_id": 44481268, "link": "https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression/44493549#44493549", "title": "Call super class constructor in Kotlin, Super is not an expression", "body": "<p>You have a couple of problems in your code.</p>\n\n<p>First, this is the correct syntax, to call a super constructor from a secondary constructor:</p>\n\n<pre><code>constructor(entity: Entity) : super(entity)\n</code></pre>\n\n<p>Second, you can't call a super constructor from a <strong>secondary</strong> constructor if your class has a <strong>primary constructor</strong> (which your class does).</p>\n\n<h2>Solution 1</h2>\n\n<pre><code>abstract class Entity(\n        var id: String,\n        var created: Date\n)\n\nclass Account(\n        var name: String,\n        var accountFlags: Int,\n        id: String,\n        created: Date\n) : Entity(id, created) {\n    constructor(account: Account) : this(account.name, account.accountFlags, account.id, account.created)\n}\n</code></pre>\n\n<p>Here, the copy constructor is in the child class which just delegates to the primary constructor.</p>\n\n<h2>Solution 2</h2>\n\n<pre><code>abstract class Entity(\n        var id: String,\n        var created: Date\n) {\n    constructor(entity: Entity) : this(entity.id, entity.created)\n}\n\nclass Account : Entity {\n    var name: String\n    var accountFlags: Int\n\n    constructor(name: String, accountFlags: Int, id: String, created: Date) : super(id, created) {\n        this.name = name\n        this.accountFlags = accountFlags\n    }\n\n    constructor(account: Account) : super(account) {\n        this.name = account.name\n        this.accountFlags = account.accountFlags\n    }\n}\n</code></pre>\n\n<p>Here I'm only using secondary constructors in the child class which lets me delegate them to individual super constructors. Notice how the code is pretty long.</p>\n\n<h2>Solution 3 (most idiomatic)</h2>\n\n<pre><code>abstract class Entity {\n    abstract var id: String\n    abstract var created: Date\n}\n\ndata class Account(\n        var name: String,\n        var accountFlags: Int,\n        override var id: String,\n        override var created: Date\n) : Entity()\n</code></pre>\n\n<p>Here I omitted the copy constructors and made the properties abstract so the child class has all the properties. I also made the child class a <code>data class</code>. If you need to clone the class, you can simply call <code>account.copy()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1085, "user_id": 1646298, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f4cbd3b26e9904b80405f7b2f27db2c9?s=128&d=identicon&r=PG", "display_name": "ZZ 5", "link": "https://stackoverflow.com/users/1646298/zz-5"}, "is_accepted": false, "score": 0, "last_activity_date": 1571124640, "creation_date": 1571124640, "answer_id": 58389391, "question_id": 44481268, "link": "https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression/58389391#58389391", "title": "Call super class constructor in Kotlin, Super is not an expression", "body": "<p>Another option is to create companion object and provide factory method e.g.</p>\n\n<pre><code>class Account constructor(\n        var name: String? = null,\n        var accountFlags: Int? = null,\n        id: String?,\n        created: Date?\n) : Entity(id, created) {\n\n    companion object {\n        fun fromEntity(entity: Entity): Account {\n            return Account(null, null, entity.id, entity.created)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 7002171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1338649852835561/picture?type=large", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7002171/jeff"}, "is_accepted": false, "score": 4, "last_activity_date": 1582692483, "creation_date": 1582692483, "answer_id": 60406967, "question_id": 44481268, "link": "https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression/60406967#60406967", "title": "Call super class constructor in Kotlin, Super is not an expression", "body": "<p>You can also move your primary constructor down into the class like this:</p>\n\n<pre><code>data class Account: Entity {\n    constructor(): super()\n    constructor(var name: String? = null, var accountFlags: Int? = null): super()\n    constructor(entity: Entity) : super(entity)\n}\n</code></pre>\n\n<p>Advantage of this is, compiler will not require your secondary constructor to call primary constructor.</p>\n"}], "owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50874, "favorite_count": 15, "accepted_answer_id": 44493549, "answer_count": 4, "score": 54, "last_activity_date": 1582692483, "creation_date": 1497165015, "last_edit_date": 1497252567, "question_id": 44481268, "link": "https://stackoverflow.com/questions/44481268/call-super-class-constructor-in-kotlin-super-is-not-an-expression", "title": "Call super class constructor in Kotlin, Super is not an expression", "body": "<p>I have two classes <code>Entity</code> and <code>Account</code>  as </p>\n\n<pre><code>abstract class Entity(\n    var id: String? = null,\n    var created: Date? = Date()) {\n\n    constructor(entity: Entity?) : this() {\n        fromEntity(entity)\n    }\n\n    fun fromEntity(entity: Entity?): Entity {\n        id = entity?.id\n        created = entity?.created\n        return this;\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>data class Account( \n    var name: String? = null,\n    var accountFlags: Int? = null\n) : Entity() {\n\n    constructor(entity: Entity) : this() {\n        super(entity)\n    }\n}\n</code></pre>\n\n<p>Which gives me the error </p>\n\n<blockquote>\n  <p>Super is not an expression, it can be only used in the left-hand side of\n  a dot '.'</p>\n</blockquote>\n\n<p>Why cannot I do that? </p>\n\n<p>The following will pass the compilation error, but I am not sure if it is correct.</p>\n\n<pre><code> constructor(entity: Entity) : this() {\n    super.fromEntity(entity)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-architecture-components"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497167487, "post_id": 44481217, "comment_id": 75957601, "body": "Are you sure, you are not getting <code>null</code> from this <code>viewModel.getBars()</code> function."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1497167588, "post_id": 44481217, "comment_id": 75957630, "body": "Check this out <a href=\"https://github.com/chandilsachin/DietTracker\" rel=\"nofollow noreferrer\">github.com/chandilsachin/DietTracker</a>, Here you can find a working example of live data."}], "answers": [{"comments": [{"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497165761, "post_id": 44481282, "comment_id": 75957200, "body": "That is a good catch. However <code>Observers</code> <code>onChange</code> still doesn&#39;t get triggered. I can confirm that the value of <code>bar</code> actually changes (debugged). May be the <code>Observer</code> has to be connected somehow with the <code>getLifecycle</code>?"}, {"owner": {"reputation": 7118, "user_id": 4283005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N0m1E.png?s=128&g=1", "display_name": "dev.bmax", "link": "https://stackoverflow.com/users/4283005/dev-bmax"}, "reply_to_user": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497165909, "post_id": 44481282, "comment_id": 75957240, "body": "LiveData handles the lifecycle. Make sure you are setting LiveData&#39;s value correctly."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497168057, "post_id": 44481282, "comment_id": 75957736, "body": "Have a look at <b>Edit2</b>. Still missing something?"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 0, "creation_date": 1497168553, "post_id": 44481282, "comment_id": 75957852, "body": "Nevermind, a few tweaks and it works. In general, thank you for pointing to the right direction."}, {"owner": {"reputation": 377, "user_id": 5387568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uh4e9.jpg?s=128&g=1", "display_name": "Jishin Dev", "link": "https://stackoverflow.com/users/5387568/jishin-dev"}, "edited": false, "score": 0, "creation_date": 1531919580, "post_id": 44481282, "comment_id": 89776606, "body": "This approach is not valid anymore as <code>LifecycleRegistryOwner</code> is now deprecated."}, {"owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "edited": false, "score": 0, "creation_date": 1534455877, "post_id": 44481282, "comment_id": 90722963, "body": "AppCompatActivity does implement LifecycleOwner"}, {"owner": {"reputation": 7118, "user_id": 4283005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N0m1E.png?s=128&g=1", "display_name": "dev.bmax", "link": "https://stackoverflow.com/users/4283005/dev-bmax"}, "reply_to_user": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "edited": false, "score": 0, "creation_date": 1534492804, "post_id": 44481282, "comment_id": 90732637, "body": "@NickMowen sure it does now. But this question has been asked back in the days when arch components were still in beta."}], "tags": [], "owner": {"reputation": 7118, "user_id": 4283005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N0m1E.png?s=128&g=1", "display_name": "dev.bmax", "link": "https://stackoverflow.com/users/4283005/dev-bmax"}, "is_accepted": true, "score": 1, "last_activity_date": 1497165506, "last_edit_date": 1497165506, "creation_date": 1497165187, "answer_id": 44481282, "question_id": 44481217, "link": "https://stackoverflow.com/questions/44481217/appcompatactivity-viewmodel-and-data-binding/44481282#44481282", "title": "AppCompatActivity, ViewModel and Data Binding", "body": "<p>If you are not extending LifecycleActivity then your activity should implement LifecycleRegistryOwner instead of LifecycleObserver. Check out the <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle.html#addendum\" rel=\"nofollow noreferrer\">docs</a>.</p>\n\n<p>And then you can pass it to liveData.observe(lifecycleOwner, observer)</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 2, "accepted_answer_id": 44481282, "answer_count": 1, "score": 0, "last_activity_date": 1497168039, "creation_date": 1497164448, "last_edit_date": 1497168039, "question_id": 44481217, "link": "https://stackoverflow.com/questions/44481217/appcompatactivity-viewmodel-and-data-binding", "title": "AppCompatActivity, ViewModel and Data Binding", "body": "<p>Trying to figure out the Google's recent tools and concepts: <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LifecycleActivity.html\" rel=\"nofollow noreferrer\">LifecycleActivity</a>, <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">ViewModel</a> and <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">Data Binding</a>.</p>\n\n<p>So imagine there is a <code>FooActivity</code> that extends <code>AppCompatActivity</code>(to be able to use Support library) and implements <code>LifecycleOwner</code> interface (from reference: required to use LiveData):</p>\n\n<p><strong>FooActivity.kt:</strong></p>\n\n<pre><code>class FooActivity: AppCompatActivity(), LifecycleObserver {\n  ...\n</code></pre>\n\n<p>We set the binding:</p>\n\n<pre><code>  ..\n  private val mBinding: by lazy {\n    DataBindingUtil.setContentView&lt;ActivityFooBinding&gt;(this, R.layout.activity_foo)\n  }\n  ..\n</code></pre>\n\n<p>We set activity's <code>ViewModel</code>, and attach our <code>barObserver</code> (which should observe changes of <code>bar</code> inside a <code>ViewModel</code>, which is just a <code>List</code> of <code>Strings</code>):</p>\n\n<pre><code>  ..\n  val viewModel = ViewModelProviders.of(this).get(FooViewModel::class.java)\n  viewModel.getBars()?.observe(this, barObserver)\n  viewModel.init() // changes bar, should trigger Observer's onChanged\n  ..\n</code></pre>\n\n<p>And finally we define <code>barObserver</code>:</p>\n\n<pre><code>  ..\n  class BarObserver : Observer&lt;List&lt;String&gt;&gt; {\n    override fun onChanged(p0: List&lt;String&gt;?) {\n      Log.d(\"Say\", \"changed:\")\n    }\n  }\n  barObserver = BarObserver()\n  ..\n</code></pre>\n\n<hr>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Why does <code>Observers</code> <code>onChange</code> never triggered?</li>\n<li>Should one use <code>LifeCycleOwner``getLifecycle</code> instead of using <code>Observer</code>? </li>\n<li>Any other thoughts?</li>\n</ol>\n\n<hr>\n\n<p><strong>Edit:</strong>\nAs the <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData.html\" rel=\"nofollow noreferrer\">reference states</a>:</p>\n\n<blockquote>\n  <p>LiveData is a data holder class that can be observed within a given lifecycle. This means that an Observer can be added in a pair with a LifecycleOwner, and this observer will be notified about modifications of the wrapped data only if the paired LifecycleOwner is in active state. LifecycleOwner is considered as active, if its state is STARTED or RESUMED. An observer added via observeForever(Observer) is considered as always active and thus will be always notified about modifications. For those observers, you should manually call removeObserver(Observer).</p>\n</blockquote>\n\n<p>Changing:</p>\n\n<p><code>enter code here</code>viewModel.getBars()?.observe(this, barObserver)</p>\n\n<p>to:</p>\n\n<p><code>viewModel.getBars()?.observeForever(barObserver)</code></p>\n\n<p>didn't to the trick. <code>onChange</code> still never triggered.</p>\n\n<p><strong>Edit2:</strong></p>\n\n<p><strong>FooActivity.kt</strong>:</p>\n\n<p>replaced with:</p>\n\n<pre><code>class FooActivity: AppCompatActivity(), LifecycleRegistryOwner{\n  override fun getLifecycle(): LifecycleRegistry {\n        var lifecycle = LifecycleRegistry(this)\n        lifecycle.addObserver(barObserver)\n        return lifecycle\n    }\n</code></pre>\n\n<p><strong>FooViewModel</strong>:</p>\n\n<pre><code>  ..\n  private var mBar = MutableLiveData&lt;List&lt;String&gt;&gt;()\n  ..\n  mBar.value = listValueOf(\"1\", \"2\", \"3\")\n  ..\n  fun getBar(): LiveData&lt;List&lt;String&gt;&gt;? = mBar\n  ..\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1497127584, "creation_date": 1497127584, "answer_id": 44477906, "question_id": 44477869, "link": "https://stackoverflow.com/questions/44477869/unsolved-reference-error-in-copyofrange/44477906#44477906", "title": "Unsolved reference error in copyOfRange", "body": "<p>The <code>arrayListOf</code> function returns an <code>ArrayList</code>. If this is what you want to use, then you should use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#subList(int,%20int)\" rel=\"nofollow noreferrer\"><code>subList</code></a> function on it:</p>\n\n<pre><code>val firstList = arrayListOf(1, 2, 3, 4)\nval secondList = firstList.subList(0, 1)\n</code></pre>\n\n<p>Note that <code>subList</code> doesn't create a copy, you can make a copy with a <code>toList</code> call, for example:</p>\n\n<pre><code>val secondList = firstList.subList(0, 1).toList()\n</code></pre>\n\n<p>Or with an explicit call to the <code>ArrayList</code> constructor:</p>\n\n<pre><code>val secondList = ArrayList(firstArray.subList(0,1))\n</code></pre>\n\n<hr>\n\n<p>If you want to use an <code>Array</code> instead, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of.html\" rel=\"nofollow noreferrer\"><code>arrayOf</code></a> and then you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/copy-of-range.html\" rel=\"nofollow noreferrer\"><code>copyOfRange</code></a>:</p>\n\n<pre><code>val firstArray = arrayOf(1, 2, 3, 4)\nval secondArray = firstArray.copyOfRange(0, 1)\n</code></pre>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 44477906, "answer_count": 1, "score": 1, "last_activity_date": 1497127584, "creation_date": 1497127318, "question_id": 44477869, "link": "https://stackoverflow.com/questions/44477869/unsolved-reference-error-in-copyofrange", "title": "Unsolved reference error in copyOfRange", "body": "<p>I'm trying to copy first 2 elements of my firstArray to my secondArray.</p>\n\n<pre><code>var firstArray = arrayListOf(1,2,3,4)\n\nvar secondArray = firstArray.copyOfRange(0,1)\n</code></pre>\n\n<p>However I'm getting \"unsolved reference\" error in copyOfRange for some reason.</p>\n\n<p>If I define an Array type for my firstArray I can solve the problem but I don't want to because it can contain different variables in future</p>\n"}, {"tags": ["android", "rx-java", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "edited": false, "score": 3, "creation_date": 1497127491, "post_id": 44477568, "comment_id": 75950942, "body": "please don&#39;t use <a href=\"https://stackoverflow.com/a/3107626/1016472\"><code>inner class TaskViewHolder</code></a> just <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html#inner-classes\" rel=\"nofollow noreferrer\"><code>class TaskViewHolder</code></a> to <a href=\"https://stackoverflow.com/a/3107626/1016472\">prevent memory leaks</a>. Maybe you need a <a href=\"https://developer.android.com/reference/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">WeakReference</a> to access the outer class"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "reply_to_user": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "edited": false, "score": 0, "creation_date": 1497127829, "post_id": 44477568, "comment_id": 75951030, "body": "Thanks for the suggestion. I&#39;ve fixed that."}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1497130642, "post_id": 44477568, "comment_id": 75951718, "body": "I would create member variable emitter using Observable.create(ObservableOnSubscribe&lt;TypeYouWantToEmit&gt;{ e-&gt; emitter = e}).yourRxLogic        and inside setOnCheckedChangeListener i would use emitter.onNext(someValue) to pass it rx stream."}], "answers": [{"comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1497127304, "post_id": 44477821, "comment_id": 75950897, "body": "Hmm Room is telling me that update methods must return void or int. Is it possible <code>Flowable</code> can only be used on queries?"}, {"owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "reply_to_user": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1497127710, "post_id": 44477821, "comment_id": 75951001, "body": "I played with Room and with RxJava but not in combination :-( Have you added <code>android.arch.persistence.room:rxjava2</code> to your build.gradle"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1497127944, "post_id": 44477821, "comment_id": 75951055, "body": "Yes I have it. I think it is only used on queries. For Insert, Update, and Delete I&#39;ll have to create the Flowables/Singles/WhateverRxComponent to do it on a new thread. I thought that&#39;s what I was doing here, but something is happening behind the scenes that I don&#39;t fully understand"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1497130267, "post_id": 44477821, "comment_id": 75951650, "body": "I suppose I could access the list whenever <code>onPause()</code> is called in the activity, and have it loop through and update the entire list? Would be nice to solve this issue, but I think that&#39;s what I&#39;ll attempt in the mean time."}], "tags": [], "owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1497128337, "last_edit_date": 1497128337, "creation_date": 1497126985, "answer_id": 44477821, "question_id": 44477568, "link": "https://stackoverflow.com/questions/44477568/calling-an-rxjava-single-in-kotlin-lambda/44477821#44477821", "title": "Calling an RxJava Single In Kotlin Lambda", "body": "<p>I have not tested it but this should work</p>\n\n<pre><code>class TaskViewHolder(view: View?) : RecyclerView.ViewHolder(view) {\n\n    val descriptionTextView: TextView? = null\n    val completedCheckBox: CheckBox? = null\n\n    fun bindTask(task: Task) {\n        descriptionTextView?.text = task.description\n        completedCheckBox?.isChecked = task.completed\n\n        completedCheckBox?.setOnCheckedChangeListener { _, isChecked -&gt;\n            tasks[adapterPosition].completed = isChecked\n\n            itemView.context.taskDao().update(tasks[adapterPosition])\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ changeCount -&gt; Timber.i(\"%,d item(s) updated\", changeCount) },\n                           { error -&gt; Timber.e(error, \"update failed\") })\n        }\n    }\n}\n\ninterface TaskDao {\n    fun update(task: Task): Flowable&lt;Int&gt;\n}\n</code></pre>\n\n<p>Instead of creating a new <code>Single</code> I use the <a href=\"https://developer.android.com/topic/libraries/architecture/room.html#daos-query-rxjava\" rel=\"nofollow noreferrer\">RxJava functionality or Room</a></p>\n"}, {"comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1497132175, "post_id": 44478395, "comment_id": 75952010, "body": "Can you give an example on how to add the Rx logic for the update code? I tried putting <code>.subscribeOn(Schedulers.newThread()).subscribe({ itemView.context.taskDao().update(it) })</code> on the disposable but I continue to get the &quot;cannot access database on main thread&quot; error."}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 1, "creation_date": 1497133493, "post_id": 44478395, "comment_id": 75952291, "body": "Well, your subscribe is fine, try using <code>.observeOn(Schedulers.newThread())</code> instead of <code>subscribeOn</code>, you are actually subscribing on main UI thread."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 1, "creation_date": 1497133660, "post_id": 44478395, "comment_id": 75952313, "body": "That worked for me! I will update the answer with my exact code to help any future readers. Thank you! :)"}], "tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": true, "score": 3, "last_activity_date": 1497133685, "last_edit_date": 1497133685, "creation_date": 1497131373, "answer_id": 44478395, "question_id": 44477568, "link": "https://stackoverflow.com/questions/44477568/calling-an-rxjava-single-in-kotlin-lambda/44478395#44478395", "title": "Calling an RxJava Single In Kotlin Lambda", "body": "<p>I would create Observable using <code>Observable.create</code>, save that emitter using lambda, and pass next items inside <code>setOnCheckedChangeListener</code> using \n<code>emitter.onNext()</code></p>\n\n<pre><code>class TaskViewHolder(view: View) : RecyclerView.ViewHolder(view)\n{\n    private lateinit var emitter: ObservableEmitter&lt;Task&gt;\n    private val disposable: Disposable = Observable.create(ObservableOnSubscribe&lt;Task&gt; { e -&gt; emitter = e })\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(Schedulers.newThread())\n            .subscribe({ itemView.context.taskDao().update(it) })\n    val descriptionTextView = view?.findViewById(R.id.task_description) as? TextView\n    val completedCheckBox = view?.findViewById(R.id.task_completed) as? CheckBox\n\n    fun bindTask(task: Task) {\n        descriptionTextView?.text = task.description\n        completedCheckBox?.isChecked = task.completed\n\n        completedCheckBox?.setOnCheckedChangeListener { _, isChecked -&gt;\n            tasks[adapterPosition].completed = isChecked\n            emitter.onNext(tasks[adapterPosition])\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7492, "favorite_count": 1, "accepted_answer_id": 44478395, "answer_count": 2, "score": 4, "last_activity_date": 1497133685, "creation_date": 1497125050, "question_id": 44477568, "link": "https://stackoverflow.com/questions/44477568/calling-an-rxjava-single-in-kotlin-lambda", "title": "Calling an RxJava Single In Kotlin Lambda", "body": "<p>I am trying to tinker with the new <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"nofollow noreferrer\">Room</a> library in pairing it with RxJava.</p>\n\n<p>I've found a way to use a <code>Single</code> to insert items on the background thread like this, inside of an activity:</p>\n\n<pre><code>Single.fromCallable { AppDatabase.getInMemoryDatabase(this).taskDao().insertAll(task) }\n                    .subscribeOn(Schedulers.newThread())\n                    .subscribe()\n</code></pre>\n\n<p>Now, I have a RecyclerView with tasks that has a checkbox you can use to mark an item as complete or not. What I want to do is update the item each time it is checked/unchecked. I'll paste the whole ViewHolder for completion, but note specifically the lambda in <code>bindTask()</code>:</p>\n\n<pre><code>inner class TaskViewHolder(view: View?) : RecyclerView.ViewHolder(view) {\n        val descriptionTextView = view?.findViewById(R.id.task_description) as? TextView\n        val completedCheckBox = view?.findViewById(R.id.task_completed) as? CheckBox\n\n        fun bindTask(task: Task) {\n            descriptionTextView?.text = task.description\n            completedCheckBox?.isChecked = task.completed\n\n            completedCheckBox?.setOnCheckedChangeListener { _, isChecked -&gt;\n                tasks[adapterPosition].completed = isChecked\n\n                Single.fromCallable { itemView.context.taskDao().update(tasks[adapterPosition]) }\n                        .subscribeOn(Schedulers.newThread())\n                        .subscribe()\n            }\n        }\n    }\n</code></pre>\n\n<p>This works for the first item I check, but after that I'm unable to click any other checkboxes. I thought the <code>Single</code> would destroy itself, but perhaps I can't do this inside the lambda? Do I need to pull the Single outside of it somehow? </p>\n"}, {"tags": ["android", "kotlin", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 2491598, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/50046825fbe65b8513da5c5590f22693?s=128&d=identicon&r=PG", "display_name": "MoMo", "link": "https://stackoverflow.com/users/2491598/momo"}, "edited": false, "score": 0, "creation_date": 1497137379, "post_id": 44476474, "comment_id": 75952998, "body": "Thanks for taking the time to answer this"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1497117827, "creation_date": 1497117827, "answer_id": 44476474, "question_id": 44476401, "link": "https://stackoverflow.com/questions/44476401/accessing-static-extension-function-from-another-class-in-kotlin/44476474#44476474", "title": "Accessing static extension function from another class in Kotlin?", "body": "<p>An extension declared like this is a <a href=\"https://kotlinlang.org/docs/reference/extensions.html#declaring-extensions-as-members\" rel=\"nofollow noreferrer\"><code>member extension function</code></a>, and is only going to be visible within the <code>Helper</code> class. If you need to access it outside of that class, put it in a wider scope, for example, make it a top level function. Alternatively, you could make it a regular function that takes two parameters, if you want to keep it within a class.</p>\n\n<hr>\n\n<p>As an additional hint, you can mark this function an <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\"><code>operator</code></a> if you want to use it with the <code>+</code> symbol:</p>\n\n<pre><code>operator fun Int.plus(value: String) = Integer.valueOf(value) + this\n\nval x = 2 + \"25\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 2491598, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/50046825fbe65b8513da5c5590f22693?s=128&d=identicon&r=PG", "display_name": "MoMo", "link": "https://stackoverflow.com/users/2491598/momo"}, "edited": false, "score": 0, "creation_date": 1497137363, "post_id": 44476687, "comment_id": 75952995, "body": "Thank you very much for your answer :)"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 5, "last_activity_date": 1497131956, "last_edit_date": 1497131956, "creation_date": 1497119179, "answer_id": 44476687, "question_id": 44476401, "link": "https://stackoverflow.com/questions/44476401/accessing-static-extension-function-from-another-class-in-kotlin/44476687#44476687", "title": "Accessing static extension function from another class in Kotlin?", "body": "<p>In your example <code>Int.plus(value: String)</code> is a member function of the <code>Helper.Companion</code> object (the fact that it is a companion object or that it is inside another class does not matter). This case is described in the <a href=\"http://kotlinlang.org/docs/reference/extensions.html#declaring-extensions-as-members\" rel=\"nofollow noreferrer\">Declaring Extensions as Members</a> section of the documentation.</p>\n\n<p>In short, to access a function with <em>two</em> receivers (an extension receiver of type <code>Int</code> and a dispatch receiver of type <code>Helper.Companion</code>) you have to have them both in the scope. </p>\n\n<p>This can be achieved in a number of ways:</p>\n\n<pre><code>with(Helper.Companion) {\n    239.plus(\"\")\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>with(Helper.Companion) {\n    with(239) {\n        plus(\"\")\n    }\n}\n</code></pre>\n\n<p>P.S. Putting an extension function into a companion object is very irregular and not idiomatic. I can hardly imagine why you would need that.</p>\n"}], "owner": {"reputation": 186, "user_id": 2491598, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/50046825fbe65b8513da5c5590f22693?s=128&d=identicon&r=PG", "display_name": "MoMo", "link": "https://stackoverflow.com/users/2491598/momo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1497131956, "creation_date": 1497117404, "last_edit_date": 1497122411, "question_id": 44476401, "link": "https://stackoverflow.com/questions/44476401/accessing-static-extension-function-from-another-class-in-kotlin", "title": "Accessing static extension function from another class in Kotlin?", "body": "<p>Let's say we have the following extension function:</p>\n\n<pre><code>class Helper {\n  companion object {\n    fun Int.plus(value: String) = Integer.valueOf(value).plus(this)\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>How can you access the <code>plus</code> extension function from the <code>Helper</code> class in another class. Is there a way where we can do something like this for instance:</p>\n\n<pre><code>class OtherClass {\n  fun someMethod() {\n    val eight = 7.Helper.Companion.plus(\"1\")\n  }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "edited": false, "score": 2, "creation_date": 1497105733, "post_id": 44474563, "comment_id": 75944680, "body": "Instead of the photo of the crash, wich everybody knows how it looks like, try put some crash log here"}], "answers": [{"comments": [{"owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "reply_to_user": {"reputation": 388, "user_id": 8139353, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553079428043783/picture?type=large", "display_name": "Mohammad Khair PK", "link": "https://stackoverflow.com/users/8139353/mohammad-khair-pk"}, "edited": false, "score": 0, "creation_date": 1497106470, "post_id": 44474610, "comment_id": 75944870, "body": "Then add crash report to see what is going on..In android studio ,<code>tools&#47;android&#47;android device monitor</code> from devices tab choose your device, then in <code>logcat</code> section hit <code>add</code> button and, set a name for your app in <code>filter name</code> and add your package name in <code>by application name</code>. run your app and see the crash reports. and if you are using another IDE then search in google about how to get app log in your IDE"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1497108422, "post_id": 44474610, "comment_id": 75945422, "body": "@S.R your method involves unnecessary allocations. Apart from that, there&#39;s a built-in method <code>.isNullOrBlank()</code> for this: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-blank.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1497111124, "last_edit_date": 1497111124, "creation_date": 1497105862, "answer_id": 44474610, "question_id": 44474563, "link": "https://stackoverflow.com/questions/44474563/check-if-edittext-is-empty-while-calculating-numbers/44474610#44474610", "title": "Check if EditText is empty while calculating numbers", "body": "<p>You can check for empty <code>Input</code> like this:</p>\n\n<pre><code>newString = Integer.toString(yearbirth).trim();\nif (newString.matches(\"\")) {\n    Toast.makeText(this, \"EditText is empty\", Toast.LENGTH_SHORT).show();\n    return;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 7721253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2672974c59d0cc2e0fcc0d85e1ba7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Jalvap", "link": "https://stackoverflow.com/users/7721253/jalvap"}, "is_accepted": false, "score": 0, "last_activity_date": 1497446693, "creation_date": 1497446693, "answer_id": 44546153, "question_id": 44474563, "link": "https://stackoverflow.com/questions/44474563/check-if-edittext-is-empty-while-calculating-numbers/44546153#44546153", "title": "Check if EditText is empty while calculating numbers", "body": "<p>Verify that <code>yearbirth.text.toString()</code> is not empty before attempting to parse it into an Integer (and also if it's a valid integer.)</p>\n\n<p>To achieve so, put the line you showed in your code:</p>\n\n<pre><code>var yearage = year - Integer.parseInt(yearbirth.text.toString()) -1\n</code></pre>\n\n<p>Inside an <code>if</code> verifying that the input is valid, like so:</p>\n\n<pre><code>if(yearbirth.text.toString().matches(Regex(\"\\\\d+\")))\n    var yearage = year - Integer.parseInt(yearbirth.text.toString()) -1\n</code></pre>\n"}], "owner": {"reputation": 388, "user_id": 8139353, "user_type": "registered", "profile_image": "https://graph.facebook.com/1553079428043783/picture?type=large", "display_name": "Mohammad Khair PK", "link": "https://stackoverflow.com/users/8139353/mohammad-khair-pk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497446693, "creation_date": 1497105502, "last_edit_date": 1497355327, "question_id": 44474563, "link": "https://stackoverflow.com/questions/44474563/check-if-edittext-is-empty-while-calculating-numbers", "title": "Check if EditText is empty while calculating numbers", "body": "<p>I'm trying to build an age calculator application. When I didn't enter a number in one of the <code>EditTexts</code> and click on calculate <code>Button</code>, my app is crashed! <a href=\"https://i.stack.imgur.com/OuCO1.png\" rel=\"nofollow noreferrer\">\"App has stopped\" and click the photo</a></p>\n\n<p>I tried to set <code>yearbirth.isEmpty() || yearbirth.equals(\"\") || yearbirth == null</code> , but nothing worked.</p>\n\n<p>CODE:-</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nvar yearage:Int?= null\nvar monthage:Int?= null\nvar dayage:Int?= null\n\n@SuppressLint(\"SetTextI18n\")\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    buGetAge.setOnClickListener({\n        val year= Calendar.getInstance().get(Calendar.YEAR)\n        val month= Calendar.getInstance().get(Calendar.MONTH)\n        val day= Calendar.getInstance().get(Calendar.DAY_OF_MONTH)\n\n        var yearage = year - Integer.parseInt(yearbirth.text.toString()) -1\n        val monthage:Int?\n        val dayage:Int?\n\n        if (yearbirth== null) {\n            Toast.makeText(this, \"You have to enter your year berth\", Toast.LENGTH_LONG).show()\n        } else {\n            if (month &lt; Integer.parseInt(monthbirth.text.toString())){\n                monthage=(Integer.parseInt(monthbirth.text.toString())- month- 12)* -1\n            }else if (month &gt; Integer.parseInt(monthbirth.text.toString())) {\n                yearage=year- Integer.parseInt(yearbirth.text.toString())\n                monthage= (Integer.parseInt(monthbirth.text.toString())- month)* -1\n            }else {\n                yearage=year- Integer.parseInt(yearbirth.text.toString())\n                monthage=0\n            }\n            if (day &lt; Integer.parseInt(daybirth.text.toString())){\n                dayage= (Integer.parseInt(daybirth.text.toString())- day- 30)* -1\n            }else if (day &gt; Integer.parseInt(daybirth.text.toString())){\n                dayage= day- Integer.parseInt(daybirth.text.toString())\n            }else {\n                dayage=0\n            }\n\n            val a= (yearage* 12)+ monthage\n            val b= (a * 30)+ dayage\n\n            val ageinyears= \"$yearage years\"\n            val ageinmonths= \"$a months\"\n            val ageindays= \"$b days\"\n\n            txtshow.text = \"Your age is $yearage years, $monthage months and $dayage days\"\n            txtshow2.text = \"\\nYOUR AGE:\\nin years:\\n\\nin months:\\n\\nin days:\"\n            txtshow3.text = \"\\n\\n$ageinyears \\n\\n$ageinmonths \\n\\n $ageindays \"\n\n            this.yearage=yearage\n            this.monthage=monthage\n            this.dayage=dayage\n        }\n    })\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1497105775, "creation_date": 1497105775, "answer_id": 44474603, "question_id": 44473784, "link": "https://stackoverflow.com/questions/44473784/kotlin-scoping-using-object-vs-class/44474603#44474603", "title": "Kotlin: Scoping using Object vs Class", "body": "<p>Another option is to make all of your data classes a subclass of a sealed <code>Model</code> class. This will give you the benefit of defining them all in one place, because Kotlin enforces that for sealed classs. Also, having the type system know about all instances of type <code>Model</code> is helpful in <code>when</code> expressions as well because then it won't require you to put an <code>else -&gt;</code> block.</p>\n\n<pre><code>sealed class Model\ndata class Result(val query: Query) : Model()\ndata class Query(val searchinfo: SearchInfo) : Model()\ndata class SearchInfo(val totalhits: Int) : Model() \n</code></pre>\n\n<p>And you can just use them directly:</p>\n\n<pre><code>val r = Result(Query(SearchInfo(3))\n</code></pre>\n\n<p>Instead of wrapping them in another <code>class</code> or <code>object</code>, where you'd have to refer to them like this:</p>\n\n<pre><code>val r = Model.Result(Model.Query(Model.SearchInfo(3)))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1497159689, "post_id": 44475092, "comment_id": 75956045, "body": "Hi Kirill, Thanks for the answer. I agree, there&#39;s no issue having it as top level. However, I&#39;m using Retrofit 2 and proguard, that some how the proguard would obfuscate it causing compilation error, So I scope it o that I could keep the classes as per <a href=\"https://stackoverflow.com/a/44473703/3286489\">stackoverflow.com/a/44473703/3286489</a> without need to keep them individually"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1497199876, "post_id": 44475092, "comment_id": 75966657, "body": "If you put your model classes in subpackage, you can instruct ProGuard to keep just that subpackage."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 3, "last_activity_date": 1497108840, "creation_date": 1497108840, "answer_id": 44475092, "question_id": 44473784, "link": "https://stackoverflow.com/questions/44473784/kotlin-scoping-using-object-vs-class/44475092#44475092", "title": "Kotlin: Scoping using Object vs Class", "body": "<p>I would advise against using classes for scoping other classes. As Todd explains in his answer, you can use sealed classes which offer an actual benefit of <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">exhaustive when checks</a>. If you don't need this feature, Kotlin has a built-in mechanism for scoping - packages:</p>\n\n<pre><code>package org.company.model\n\ndata class Result(val query: Query)\ndata class Query(val searchinfo: SearchInfo)\ndata class SearchInfo(val totalhits: Int)\n</code></pre>\n\n<blockquote>\n  <p>I can defined them in a Kotlin file as it is, but would prefer it to be scope within a class/object, so the file is not just a file, but under class/object for better grouping</p>\n</blockquote>\n\n<p>There's nothing wrong with a file containing multiple top-level elements. This is a useful language feature and is used in exactly this kind of situation.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1497108840, "creation_date": 1497100994, "question_id": 44473784, "link": "https://stackoverflow.com/questions/44473784/kotlin-scoping-using-object-vs-class", "title": "Kotlin: Scoping using Object vs Class", "body": "<p>I have a few data classes, that is short, so I group them together in a file.</p>\n\n<p>I can defined them in a Kotlin file as it is, but would prefer it to be scope within a class/object, so the file is not just a file, but under class/object for better grouping</p>\n\n<p>I could do</p>\n\n<pre><code>object Model {\n    data class Result(val query: Query)\n    data class Query(val searchinfo: SearchInfo)\n    data class SearchInfo(val totalhits: Int)\n}\n</code></pre>\n\n<p>and I could also do</p>\n\n<pre><code>class Model {\n    data class Result(val query: Query)\n    data class Query(val searchinfo: SearchInfo)\n    data class SearchInfo(val totalhits: Int)\n}\n</code></pre>\n\n<p>They both looks the same to me. What's the different, and if there's a preferred way in term of scoping my data classes?</p>\n"}, {"tags": ["android", "kotlin", "proguard", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 3279, "user_id": 1118772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cdc1af9dc02115285b419659bced6bff?s=128&d=identicon&r=PG", "display_name": "Noundla Sandeep", "link": "https://stackoverflow.com/users/1118772/noundla-sandeep"}, "edited": false, "score": 0, "creation_date": 1533221954, "post_id": 44473703, "comment_id": 90277020, "body": "Instead of this, try with @Jc Mi&#241;arro answer."}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 4, "last_activity_date": 1497100568, "creation_date": 1497100568, "answer_id": 44473703, "question_id": 44473673, "link": "https://stackoverflow.com/questions/44473673/how-to-skip-proguard-models-used-by-retrofit2-that-is-on-the-base-package/44473703#44473703", "title": "How to skip proguard models used by retrofit2 that is on the base package?", "body": "<p>After exploring further, I found the answer</p>\n\n<pre><code>-keep class com.elyeproj.wikisearchcount.Model** { *; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1333, "user_id": 1230779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42da28256d045928986356d558c15013?s=128&d=identicon&r=PG", "display_name": "Jc Mi&#241;arro", "link": "https://stackoverflow.com/users/1230779/jc-mi%c3%b1arro"}, "is_accepted": false, "score": 9, "last_activity_date": 1497781137, "creation_date": 1497781137, "answer_id": 44613965, "question_id": 44473673, "link": "https://stackoverflow.com/questions/44473673/how-to-skip-proguard-models-used-by-retrofit2-that-is-on-the-base-package/44613965#44613965", "title": "How to skip proguard models used by retrofit2 that is on the base package?", "body": "<p>Why don't you use the annotation <code>@SerializedName</code> and then you don't have to worry about the obfuscation?\nYou could use the following code:</p>\n\n<pre><code>object Model {\n    data class Result(@SerializedName(\"query\") val query: Query)\n    data class Query(@SerializedName(\"searchInfo\") val searchinfo: SearchInfo)\n    data class SearchInfo(@SerializedName(\"totalhits\") val totalhits: Int)\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4200, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1536921086, "creation_date": 1497100303, "last_edit_date": 1536921086, "question_id": 44473673, "link": "https://stackoverflow.com/questions/44473673/how-to-skip-proguard-models-used-by-retrofit2-that-is-on-the-base-package", "title": "How to skip proguard models used by retrofit2 that is on the base package?", "body": "<p>I am writing an application with Kotlin and Retrofit 2. As I use proguard, I follow the rules here:</p>\n\n<p><a href=\"https://github.com/krschultz/android-proguard-snippets/blob/master/libraries/proguard-square-retrofit2.pro\" rel=\"nofollow noreferrer\">https://github.com/krschultz/android-proguard-snippets/blob/master/libraries/proguard-square-retrofit2.pro</a></p>\n\n<p>Besides I also need to proguard my models too, as stated in <a href=\"https://stackoverflow.com/a/41136007/3286489\">https://stackoverflow.com/a/41136007/3286489</a></p>\n\n<p>It works fine if I have my models in a package, and I have <code>-keep class com.elyeproj.wikisearchcount.model.** { *; }</code></p>\n\n<pre><code>package com.elyeproj.wikisearchcount.model\n\nobject Model {\n    data class Result(val query: Query)\n    data class Query(val searchinfo: SearchInfo)\n    data class SearchInfo(val totalhits: Int)\n}\n</code></pre>\n\n<p>However, if I keep my Models in the base package as the code below, but I don't want to keep the entire package i.e. <code>-keep class com.elyeproj.wikisearchcount.** { *; }</code>, since this defeat the purpose of proguard</p>\n\n<pre><code>package com.elyeproj.wikisearchcount\n\nobject Model {\n    data class Result(val query: Query)\n    data class Query(val searchinfo: SearchInfo)\n    data class SearchInfo(val totalhits: Int)\n}\n</code></pre>\n\n<p>How could I keep my model classes?</p>\n\n<p>I tried <code>-keep class com.elyeproj.wikisearchcount.Model.** { *; }</code>, but it doesn't work.</p>\n"}, {"tags": ["android", "realm", "kotlin"], "comments": [{"owner": {"reputation": 353, "user_id": 3104126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d06903d50d62a84de9ae6bde5061f58f?s=128&d=identicon&r=PG&f=1", "display_name": "The-null-Pointer-", "link": "https://stackoverflow.com/users/3104126/the-null-pointer"}, "edited": false, "score": 1, "creation_date": 1497097736, "post_id": 44473284, "comment_id": 75942189, "body": "use RealmObjectSchema.setNullable()"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 18, "last_activity_date": 1497102275, "creation_date": 1497102275, "answer_id": 44473998, "question_id": 44473284, "link": "https://stackoverflow.com/questions/44473284/how-do-i-specify-a-boxed-field-can-be-nullable-in-my-realm-migration-code/44473998#44473998", "title": "How do I specify a boxed field can be nullable in my Realm migration code?", "body": "<p>Unfortunately,</p>\n\n<pre><code>Long::class.java // kotlin\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>long.class // java\nLong::class.javaPrimitiveType // kotlin\n</code></pre>\n\n<hr>\n\n<p>But what you need to add for nullable Long in Realm is</p>\n\n<pre><code>Long.class // java\n</code></pre>\n\n<p>So you need to use</p>\n\n<pre><code>Long::class.javaObjectType // Long.class \n</code></pre>\n\n<hr>\n\n<p>In migration, you can turn a required field to nullable field using <a href=\"https://realm.io/docs/java/latest/api/io/realm/RealmObjectSchema.html#setNullable-java.lang.String-boolean-\" rel=\"noreferrer\"><code>RealmObjectSchema.setNullable(String field, boolean nullable)</code></a> method.</p>\n"}], "owner": {"reputation": 3163, "user_id": 2543138, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5b219b385d3e316a553d8a41900ed9?s=128&d=identicon&r=PG", "display_name": "brwngrldev", "link": "https://stackoverflow.com/users/2543138/brwngrldev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 0, "accepted_answer_id": 44473998, "answer_count": 1, "score": 7, "last_activity_date": 1497102275, "creation_date": 1497097579, "question_id": 44473284, "link": "https://stackoverflow.com/questions/44473284/how-do-i-specify-a-boxed-field-can-be-nullable-in-my-realm-migration-code", "title": "How do I specify a boxed field can be nullable in my Realm migration code?", "body": "<p>I'm using <strong>Kotlin</strong> and I want to add a new field to a <code>RealmObject</code> and that field can be nullable. Here's what I have in my migration:</p>\n\n<pre><code>val schema = realm.schema.get(ZOLA_NOTIFICATION)\nif (!(schema?.hasField(\"agentId\") ?: false)) {\n    schema.addField(\"agentId\", Long::class.java)\n}\n</code></pre>\n\n<p>However, I receive an error message when this migration is run:</p>\n\n<pre><code>Non-fatal Exception: io.realm.exceptions.RealmMigrationNeededException\nField 'agentId' does not support null values in the existing Realm file. Either set @Required, use the primitive type for field 'agentId' or migrate using RealmObjectSchema.setNullable().\n</code></pre>\n\n<p>How do I specify that the <code>Long::class.java</code> should be the nullable type in the migration code?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 3104126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d06903d50d62a84de9ae6bde5061f58f?s=128&d=identicon&r=PG&f=1", "display_name": "The-null-Pointer-", "link": "https://stackoverflow.com/users/3104126/the-null-pointer"}, "edited": false, "score": 0, "creation_date": 1497094866, "post_id": 44472894, "comment_id": 75941304, "body": "this should have been a comment"}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 0, "creation_date": 1497094919, "post_id": 44472894, "comment_id": 75941326, "body": "I could only use User::class because user is also made in Kotlin, but I give also an error"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497094959, "post_id": 44472894, "comment_id": 75941337, "body": "This should work for any class, regardless of which language it&#39;s written in."}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "edited": false, "score": 0, "creation_date": 1497095046, "post_id": 44472894, "comment_id": 75941376, "body": "so I could use .java also if the class is in Kotlin?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497095086, "post_id": 44472894, "comment_id": 75941391, "body": "<code>::class.java</code>, yes."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1497095447, "last_edit_date": 1497095447, "creation_date": 1497094704, "answer_id": 44472894, "question_id": 44472819, "link": "https://stackoverflow.com/questions/44472819/convert-datasnaphot-from-java-to-kotlin/44472894#44472894", "title": "convert datasnaphot from Java to Kotlin", "body": "<p>The equivalent of Java's <code>User.class</code> is <code>User::class.java</code> in Kotlin.</p>\n\n<p>Documentation about this <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getclass\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 44472894, "answer_count": 1, "score": 0, "last_activity_date": 1497095447, "creation_date": 1497094245, "last_edit_date": 1497094563, "question_id": 44472819, "link": "https://stackoverflow.com/questions/44472819/convert-datasnaphot-from-java-to-kotlin", "title": "convert datasnaphot from Java to Kotlin", "body": "<p>I'm at the beginning of Kotlin so I want to convert this part of code:</p>\n\n<pre><code>Query query = reference.child(\"users\");\n\nquery.addValueEventListener(new ValueEventListener() {\n\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        Users users = null;\n\n        for (DataSnapshot d: dataSnapshot.getChildren()) {\n            users = d.getValue(Users.class);\n\n            if (users.getEmail().equals(mail)) {\n              photoUri = users.getPhotos();\n              nameSurname = users.getNome() + \" \" + users.getCognome();\n              break;\n            }\n        }\n\n        if (photoUri != null) {\n            Glide.with(MainActivity.this)\n                 .load(photoUri)\n                 .transform(new CircleTransform(MainActivity.this))\n                 .into(profile);\n        }\n        else {\n            Glide.with(MainActivity.this)\n                 .load(graphic)  \n                 .transform(new CircleTransform(MainActivity.this))\n                 .into(profile);\n        }\n    }\n\n    public void onCancelled(DatabaseError databaseError) {\n    }\n\n});\n</code></pre>\n\n<p>to Kotlin. So I've made this code:</p>\n\n<pre><code>class DataReferenceService @Inject constructor(private var auth: FirebaseDatabase) \n        : MainContract.DatabaseRepository,ValueEventListener {\n\n    var mail: String? = null\n\n    override fun getImageProfile(mail: String?) {\n        this.mail = mail\n        val query = auth.reference.child(\"users\")\n        query.addValueEventListener(this)\n    }\n\n    override fun onCancelled(p0: DatabaseError?) {\n    }\n\n    override fun onDataChange(data: DataSnapshot?) {\n        var user: User? = null\n\n        data?.children?.forEach {\n            child -&gt; getPhotos(child)\n        }\n    }\n\n    fun getPhotos(child: DataSnapshot) {\n        val user = child.getValue(User.class) // name expected, why ???\n    }\n}\n</code></pre>\n\n<p>the problem is indicate in comment, why it does not convert it?\nIs there an other way to do it? I want to use <code>takeIf{}</code> but I don't understand how to use it.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 4, "creation_date": 1497094085, "post_id": 44472765, "comment_id": 75941059, "body": "You can use <code>Code-&gt; Convert Java File to Kotlin File</code> as a start. You can also just paste this code in a Kotlin file and it will be converted for you."}], "answers": [{"comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "reply_to_user": {"reputation": 622, "user_id": 7110424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff904f3da6ca547ef2d8fec4de7f78a6?s=128&d=identicon&r=PG&f=1", "display_name": "creativecoder", "link": "https://stackoverflow.com/users/7110424/creativecoder"}, "edited": false, "score": 1, "creation_date": 1599466307, "post_id": 44472839, "comment_id": 112772946, "body": "@creativecoder The default constructor is deprecated. It now specifies the main looper to avoid this issue and to make sure the delayed code is always run on the main thread."}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 51, "last_activity_date": 1599465630, "last_edit_date": 1599465630, "creation_date": 1497094353, "answer_id": 44472839, "question_id": 44472765, "link": "https://stackoverflow.com/questions/44472765/how-to-convert-java-to-kotlin-in-handler/44472839#44472839", "title": "How to Convert java to kotlin in handler", "body": "<pre><code>Handler(Looper.getMainLooper()).postDelayed({\n    /* Create an Intent that will start the Menu-Activity. */\n    val mainIntent = Intent(this, Menu::class.java)\n    startActivity(mainIntent)\n    finish()\n}, 3000)\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 8064255, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n9cDYGOQCfg/AAAAAAAAAAI/AAAAAAAAASw/r28HUydX1Qo/photo.jpg?sz=128", "display_name": "Prabhakaran P", "link": "https://stackoverflow.com/users/8064255/prabhakaran-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24472, "favorite_count": 1, "accepted_answer_id": 44472839, "answer_count": 1, "score": 16, "last_activity_date": 1599465630, "creation_date": 1497093790, "last_edit_date": 1497093951, "question_id": 44472765, "link": "https://stackoverflow.com/questions/44472765/how-to-convert-java-to-kotlin-in-handler", "title": "How to Convert java to kotlin in handler", "body": "<p>how to Convert java to kotlin in handler</p>\n\n<pre><code>new Handler().postDelayed(new Runnable(){\n    @Override\n    public void run() {\n        /* Create an Intent that will start the Menu-Activity. */\n        Intent mainIntent = new Intent(Splash.this,Menu.class);\n        Splash.this.startActivity(mainIntent);\n        Splash.this.finish();\n    }\n}, 3000);\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "android-webview", "kotlin", "android-view"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497092391, "post_id": 44472537, "comment_id": 75940519, "body": "Looks like <code>view.findViewById(R.id.webview)</code> is returning <code>null</code>. Are you sure you have a View with that id in <code>R.layout.editor_edit_fragment</code>?"}, {"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497092846, "post_id": 44472537, "comment_id": 75940672, "body": "I am completely sure. Just checked"}, {"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1497095005, "post_id": 44472537, "comment_id": 75941355, "body": "Did not work to add ?."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1497095202, "post_id": 44472537, "comment_id": 75941424, "body": "The problem is that <code>findViewById</code> is returning <code>null</code> for some reason, it&#39;s right there in the error. You can assign that to a nullable variable, but that doesn&#39;t get you anywhere."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497096290, "post_id": 44472537, "comment_id": 75941710, "body": "@alvarlagerlof Please also show your editor_edit_fragment.xml."}, {"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1497097118, "post_id": 44472537, "comment_id": 75941971, "body": "Added xml. Adding both ? does not work either"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497097632, "post_id": 44472537, "comment_id": 75942152, "body": "This looks completely fine to me and <code>findViewById</code> should definitely not return <code>null</code>. Can you place a breakpoint on the <code>webView = ...</code> line and inspect the <code>children</code> field of <code>view</code>? Which children does it have?"}, {"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1497099124, "post_id": 44472537, "comment_id": 75942566, "body": "It does not crash anymore. But I the webview is completely empty"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1497222764, "post_id": 44472537, "comment_id": 75973227, "body": "An empty webview is normal if you haven&#39;t loaded a link yet. Since you&#39;re in a fragment, it is sometimes helpful to bind the views in <code>onCreateView</code> and then execute further commands in <code>onViewCreated</code>."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11303385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218620033953586/picture?type=large", "display_name": "Steve Yuan", "link": "https://stackoverflow.com/users/11303385/steve-yuan"}, "is_accepted": false, "score": 1, "last_activity_date": 1561542584, "last_edit_date": 1561542584, "creation_date": 1561539405, "answer_id": 56768925, "question_id": 44472537, "link": "https://stackoverflow.com/questions/44472537/kotlin-webview-crash/56768925#56768925", "title": "Kotlin webview crash", "body": "<p>You need to run onCreateView first, then onViewCreated to set up WebView.</p>\n\n<pre><code>class FragmentWebview : Fragment() {\n\n    lateinit var contentView: View\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        contentView = inflater.inflate(R.layout.fragment_fragment_webview, container, false)\n        return contentView\n\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val webview = contentView.findViewById&lt;WebView&gt;(R.id.myWebview)\n\n        val url = \"http://google.com\"\n\n\n        val webSettings = myWebview.settings\n\n        webSettings.javaScriptEnabled = true\n        webSettings.domStorageEnabled = true\n\n\n        webview.webViewClient = WebViewClient()\n\n        webview.loadUrl(url)\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561542584, "creation_date": 1497092310, "last_edit_date": 1497097094, "question_id": 44472537, "link": "https://stackoverflow.com/questions/44472537/kotlin-webview-crash", "title": "Kotlin webview crash", "body": "<p>I'm trying to access a <code>WebView</code> from a <code>Fragment</code> and kotlin keeps on saying:</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type android.webkit.WebView\n</code></pre>\n\n<p>I have tried to make it null as default then init it but that does not work either. Any suggestions on how I can make it work?</p>\n\n<p>My code:</p>\n\n<pre><code>private lateinit var webView: WebView\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater!!.inflate(R.layout.editor_edit_fragment, container, false)\n    webView = view.findViewById(R.id.webview) as WebView\n\n    resumeWebView()\n\n    return view\n}\n</code></pre>\n\n<p>xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;WebView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/webview\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["gson", "deserialization", "kotlin"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1497120545, "post_id": 44472365, "comment_id": 75949093, "body": "I noticed <a href=\"https://blog.philipphauer.de/idiomatic-kotlin-best-practices/#avoid-not-null-assertions\" rel=\"nofollow noreferrer\">you&#39;re yelling a lot at the compiler.</a> I assume this use of <code>!!</code> is just for MCVE purposes?"}, {"owner": {"reputation": 317, "user_id": 4857310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3155dbb4bbfa29133c4e2b9b86f2995?s=128&d=identicon&r=PG&f=1", "display_name": "nioncode", "link": "https://stackoverflow.com/users/4857310/nioncode"}, "reply_to_user": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1497210485, "post_id": 44472365, "comment_id": 75970184, "body": "yep, this is just for the example to keep things simple"}], "answers": [{"comments": [{"owner": {"reputation": 17929, "user_id": 166589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9PYX.jpg?s=128&g=1", "display_name": "Lyubomyr Shaydariv", "link": "https://stackoverflow.com/users/166589/lyubomyr-shaydariv"}, "edited": false, "score": 0, "creation_date": 1497271763, "post_id": 44493710, "comment_id": 75993065, "body": "It doesn&#39;t look like a Gson issue, and it really sounds like <code>kotlinc</code> (does it exist?) does not produce parameterization information for <code>var outer</code>. What does <code>javap</code> output for both cases, <code>var</code> and <code>val</code>?"}, {"owner": {"reputation": 17929, "user_id": 166589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9PYX.jpg?s=128&g=1", "display_name": "Lyubomyr Shaydariv", "link": "https://stackoverflow.com/users/166589/lyubomyr-shaydariv"}, "edited": false, "score": 0, "creation_date": 1497337892, "post_id": 44493710, "comment_id": 76021645, "body": "Hm, that&#39;s interesting. It would be nice to get the Gson team feedback. Thank you!"}, {"owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "reply_to_user": {"reputation": 17929, "user_id": 166589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9PYX.jpg?s=128&g=1", "display_name": "Lyubomyr Shaydariv", "link": "https://stackoverflow.com/users/166589/lyubomyr-shaydariv"}, "edited": false, "score": 0, "creation_date": 1497346365, "post_id": 44493710, "comment_id": 76027180, "body": "<code>@JvmSuppressWildcards</code> seems to help"}, {"owner": {"reputation": 17929, "user_id": 166589, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l9PYX.jpg?s=128&g=1", "display_name": "Lyubomyr Shaydariv", "link": "https://stackoverflow.com/users/166589/lyubomyr-shaydariv"}, "edited": false, "score": 0, "creation_date": 1497348743, "post_id": 44493710, "comment_id": 76028949, "body": "Good finding. I would like the <code>javap</code> output to remain in your answer in order to highlight the investigation process -- this would explain why that annotation works."}], "tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": true, "score": 4, "last_activity_date": 1497354436, "last_edit_date": 1497354436, "creation_date": 1497252712, "answer_id": 44493710, "question_id": 44472365, "link": "https://stackoverflow.com/questions/44472365/gson-with-kotlin-nested-class/44493710#44493710", "title": "Gson with Kotlin nested class", "body": "<p>Annotating the <code>List</code> with <code>@JvmSuppressWildcards</code> seems to help:</p>\n\n<pre><code>var outer: Map&lt;String, @JvmSuppressWildcards List&lt;Entry&gt;&gt;? = null\n</code></pre>\n\n<hr>\n\n<p>If we don't use <code>@JvmSuppressWildcards</code>, then the Kotlin code is translated to:</p>\n\n<pre><code>Map&lt;String, ? extends List&lt;TestJsonKotlin.Entry&gt;&gt; outer;\n</code></pre>\n\n<p>If we do use it, then the code is translated to:</p>\n\n<pre><code>Map&lt;String, List&lt;TestJsonKotlin.Entry&gt;&gt; outer;\n</code></pre>\n\n<p>The difference is in the wildcard <code>? extends</code> \u2013 this is not supported even if you write this in Java. I have filed an issue in Gson's repository <a href=\"https://github.com/google/gson/issues/1101\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<hr>\n\n<p>The <code>javap</code> highlights the difference between the two cases:</p>\n\n<pre><code>// `TestJsonKotlin` with `val outer` is compiled to\npublic final class TestJsonKotlin {\n  private final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; outer;\n  public final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; getOuter();\n  // ...\n}\n\n// `TestJsonKotlin` with `var outer` is compiled to\npublic final class TestJsonKotlin {\n  private java.util.Map&lt;java.lang.String, ? extends java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; outer;\n  public final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; getOuter();\n  // ...\n}\n</code></pre>\n\n<p>The <code>var</code> case adds <code>? extends</code> in front of the <code>java.util.List&lt;TestJsonKotlin$Entry&gt;</code>.</p>\n"}], "owner": {"reputation": 317, "user_id": 4857310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3155dbb4bbfa29133c4e2b9b86f2995?s=128&d=identicon&r=PG&f=1", "display_name": "nioncode", "link": "https://stackoverflow.com/users/4857310/nioncode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "accepted_answer_id": 44493710, "answer_count": 1, "score": 5, "last_activity_date": 1497354436, "creation_date": 1497091280, "question_id": 44472365, "link": "https://stackoverflow.com/questions/44472365/gson-with-kotlin-nested-class", "title": "Gson with Kotlin nested class", "body": "<p>I fail to properly deserialize a nested Kotlin class as the correct type with Gson.\nWhen I try to deserialize the same Java class, it works fine.</p>\n\n<p>Java Class:</p>\n\n<pre><code>package example;\n\nimport java.util.List;\nimport java.util.Map;\n\nclass TestJsonJava {\n    Map&lt;String, List&lt;Entry&gt;&gt; outer;\n\n    static class Entry {\n        String inner;\n    }\n}\n</code></pre>\n\n<p>Kotlin class:</p>\n\n<pre><code>package example\n\nclass TestJsonKotlin {\n    var outer: Map&lt;String, List&lt;Entry&gt;&gt;? = null\n\n    class Entry {\n        var inner: String? = null\n    }\n}\n</code></pre>\n\n<p>Kotlin main:</p>\n\n<pre><code>package example\n\nimport com.google.gson.GsonBuilder\n\nclass Main {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val json = \"\"\"\n{\n    \"outer\": {\n        \"keyA\": [\n            {\n                \"inner\": \"hello\"\n            }\n        ]\n    }\n}\n\"\"\"\n            val javaObject = GsonBuilder().create().fromJson(json, TestJsonJava::class.java)\n            val javaWorks = javaObject.outer!![\"keyA\"]!![0] is TestJsonJava.Entry\n            println(\"Java works  : $javaWorks\")\n            println(javaObject.outer!![\"keyA\"]!![0].inner)\n\n            val kotlinObject = GsonBuilder().create().fromJson(json, TestJsonKotlin::class.java)\n            val kotlinWorks = kotlinObject.outer!![\"keyA\"]!![0] is TestJsonKotlin.Entry\n            println(\"Kotlin works: $kotlinWorks\")\n            println(kotlinObject.outer!![\"keyA\"]!![0].inner)\n        }\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>Java works  : true\nhello\nKotlin works: false\nException in thread \"main\" java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to example.TestJsonKotlin$Entry\n    at example.Main$Companion.main(TestJsonmain.kt:28)\n    at example.Main.main(TestJsonmain.kt)\n</code></pre>\n\n<p>How do I tell gson to deserialize the value of <code>keyA</code> to a <code>List&lt;Entry&gt;</code> instead of <code>LinkedTreeMap</code>?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497090404, "post_id": 44472214, "comment_id": 75939950, "body": "You can use any existing Java library with Kotlin, same as you would with Java."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1497109020, "post_id": 44472214, "comment_id": 75945603, "body": "No need to downvote, this is a legitimate question."}], "answers": [{"tags": [], "owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "is_accepted": false, "score": 2, "last_activity_date": 1497090623, "creation_date": 1497090623, "answer_id": 44472264, "question_id": 44472214, "link": "https://stackoverflow.com/questions/44472214/can-i-use-third-party-java-libraries-jar-for-android-development-with-kotlin/44472264#44472264", "title": "Can I use third party java libraries(.jar) for Android development with Kotlin?", "body": "<p>yes, Kotlin is fully interoperable with Java</p>\n"}, {"tags": [], "owner": {"reputation": 2345, "user_id": 7874047, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ZAN17.jpg?s=128&g=1", "display_name": "Ronak Thakkar", "link": "https://stackoverflow.com/users/7874047/ronak-thakkar"}, "is_accepted": false, "score": 7, "last_activity_date": 1497091854, "creation_date": 1497091854, "answer_id": 44472459, "question_id": 44472214, "link": "https://stackoverflow.com/questions/44472214/can-i-use-third-party-java-libraries-jar-for-android-development-with-kotlin/44472459#44472459", "title": "Can I use third party java libraries(.jar) for Android development with Kotlin?", "body": "<p><strong>Yes</strong>, as <strong>Kotlin is 100% interoperable with Java</strong>, and both works on JVM. so one can easily use Java libraries with Kotlin.</p>\n\n<p>Please refer <a href=\"https://kotlinlang.org/docs/reference/android-overview.html\" rel=\"noreferrer\">this</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1731, "user_id": 7134908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-HuqRuSYgYOY/AAAAAAAAAAI/AAAAAAAAACM/vr62byCxA14/photo.jpg?sz=128", "display_name": "Ajeet Choudhary", "link": "https://stackoverflow.com/users/7134908/ajeet-choudhary"}, "is_accepted": true, "score": 13, "last_activity_date": 1497108982, "last_edit_date": 1497108982, "creation_date": 1497091911, "answer_id": 44472467, "question_id": 44472214, "link": "https://stackoverflow.com/questions/44472214/can-i-use-third-party-java-libraries-jar-for-android-development-with-kotlin/44472467#44472467", "title": "Can I use third party java libraries(.jar) for Android development with Kotlin?", "body": "<p>Of course you can do that, see the examples :</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html</a></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html</a></p>\n"}], "owner": {"reputation": 2534, "user_id": 5435153, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8318b3ee3bfe9e0ad97486a282fc66a2?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/5435153/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7808, "favorite_count": 4, "accepted_answer_id": 44472467, "answer_count": 3, "score": 21, "last_activity_date": 1497108982, "creation_date": 1497090287, "question_id": 44472214, "link": "https://stackoverflow.com/questions/44472214/can-i-use-third-party-java-libraries-jar-for-android-development-with-kotlin", "title": "Can I use third party java libraries(.jar) for Android development with Kotlin?", "body": "<p>I haven't moved to Kotlin for Android development yet, just wondering if Kotlin supports the available third party libraries for Android as is or they need to be updated in order to work with Kotlin?</p>\n"}, {"tags": ["android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1497091696, "post_id": 44471783, "comment_id": 75940304, "body": "I don&#39;t have an answer but I have a suggestion: delete the <code>.gradle</code> directory in your home directory. That&#39;s where the dependency cache is, so clearing it out may eliminate the corrupt file."}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1497092359, "post_id": 44471783, "comment_id": 75940507, "body": "It is downloading the file again"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1497092853, "post_id": 44471783, "comment_id": 75940676, "body": "Yep, it&#39;ll download a lot of files. Most of them will be under 100k though. Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "is_accepted": true, "score": 0, "last_activity_date": 1497093905, "creation_date": 1497093905, "answer_id": 44472779, "question_id": 44471783, "link": "https://stackoverflow.com/questions/44471783/unable-to-install-the-gradle-for-android-studio-3-0/44472779#44472779", "title": "Unable to install the gradle for android studio 3.0", "body": "<p>I fixed it .... First i extracted the gradle zip file to a folder(any) . Then gone to settings>build,execution,deployment>gradle then selected use local gradle distribution and selected the folder where i extracted the zip then applied.. it downloaded smome small files. Now its done</p>\n"}], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 44472779, "answer_count": 1, "score": 0, "last_activity_date": 1500190437, "creation_date": 1497087307, "last_edit_date": 1500190437, "question_id": 44471783, "link": "https://stackoverflow.com/questions/44471783/unable-to-install-the-gradle-for-android-studio-3-0", "title": "Unable to install the gradle for android studio 3.0", "body": "<p>I have started learning kotlin language and installed Android Studio canary build 3. Because i have a slow internet my Gradle build always fails.. then i downloaded the grade 4.0 milestone file ( got the link from Gradle wrapper properties. Tried replacing that link with the location of file on hard disk . But showing null point exception . Please help me out. I have a dam slow internet. </p>\n\n<p>downloaded the file from here\n<code>https\\://services.gradle.org/distributions/gradle-4.0-milestone-1-all.zip</code></p>\n\n<pre><code>`distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=E:\\dwnld\\gradle-4.0-milestone-1-all.zip`\n</code></pre>\n\n<p>this is the error shown</p>\n\n<p>`</p>\n\n<pre><code>Error:java.lang.NullPointerException\n    at org.gradle.wrapper.PathAssembler.getDistName(PathAssembler.java:84)\n    at org.gradle.wrapper.PathAssembler.getDistribution(PathAssembler.java:40)\n    at org.jetbrains.plugins.gradle.service.GradleInstallationManager.getWrappedGradleHome(GradleInstallationManager.java:554)\n    at org.jetbrains.plugins.gradle.service.GradleInstallationManager.getGradleHome(GradleInstallationManager.java:209)\n    at org.jetbrains.plugins.gradle.service.GradleInstallationManager.doGetGradleHome(GradleInstallationManager.java:194)\n    at org.jetbrains.plugins.gradle.service.GradleInstallationManager.getGradleHome(GradleInstallationManager.java:127)\n    at org.jetbrains.plugins.gradle.GradleManager.lambda$getExecutionSettingsProvider$2(GradleManager.java:141)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemApiUtil.getExecutionSettings(ExternalSystemApiUtil.java:718)\n    at com.intellij.openapi.externalSystem.service.ExternalSystemFacadeManager.prepare(ExternalSystemFacadeManager.java:219)\n    at com.intellij.openapi.externalSystem.service.ExternalSystemFacadeManager.doGetFacade(ExternalSystemFacadeManager.java:164)\n    at com.intellij.openapi.externalSystem.service.ExternalSystemFacadeManager.doInvoke(ExternalSystemFacadeManager.java:133)\n    at com.intellij.openapi.externalSystem.service.ExternalSystemFacadeManager$MyHandler.invoke(ExternalSystemFacadeManager.java:270)\n    at com.sun.proxy.$Proxy118.getResolver(Unknown Source)\n    at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:58)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:139)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:125)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:388)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:445)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:726)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:176)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:556)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:137)\n    at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n`\n</code></pre>\n"}, {"tags": ["dictionary", "collections", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1497085015, "post_id": 44471397, "comment_id": 75938524, "body": "Second statement won&#39;t compile."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1497085809, "last_edit_date": 1497085809, "creation_date": 1497085091, "answer_id": 44471461, "question_id": 44471397, "link": "https://stackoverflow.com/questions/44471397/kotlin-difference-in-definition-of-collection/44471461#44471461", "title": "Kotlin: Difference in definition of Collection", "body": "<p>Your second example won't compile, but I'll assume you meant this:</p>\n\n<pre><code>val customerProducts: MutableMap&lt;Customer, Set&lt;Product&gt;&gt; = mutableMapOf()\n</code></pre>\n\n<p>To answer the question, there is no difference. You have to provide the type parameters of the <code>Map</code> you're creating somewhere, and then it will be inferred in the other location. It's up to you which one you want to use.</p>\n\n<ul>\n<li>If you provide this information on the left side of the assignment, with an explicit variable type, it will be inferred by the <code>mutableMapOf</code> function.</li>\n<li>If you provide it on the right side to the <code>mutableMapOf</code> function, then the type of the variable will be inferred.</li>\n</ul>\n"}], "owner": {"reputation": 96, "user_id": 3887563, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007806704137/picture?type=large", "display_name": "Dmitro Liakhov", "link": "https://stackoverflow.com/users/3887563/dmitro-liakhov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497199040, "creation_date": 1497084711, "last_edit_date": 1497199040, "question_id": 44471397, "link": "https://stackoverflow.com/questions/44471397/kotlin-difference-in-definition-of-collection", "title": "Kotlin: Difference in definition of Collection", "body": "<p>What is differences in Kotlin between this:</p>\n\n<pre><code>val customerProducts = mutableMapOf&lt;Customer, Set&lt;Product&gt;&gt;()\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>val customerProducts: MutableMap&lt;Customer, Set&lt;Product&gt;&gt; = mutableMapOf()\n</code></pre>\n"}, {"tags": ["function", "kotlin", "inline-functions"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 7, "creation_date": 1497083934, "post_id": 44471284, "comment_id": 75938227, "body": "There are two main use cases for this, one is with certain types of higher order functions, and the other is reified type parameters. The documentation of inline functions covers these: <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/inline-functions.html</a>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1497084031, "post_id": 44471284, "comment_id": 75938252, "body": "@zsmb13 thanks, sir. but I don&#39;t understand that : &quot;Instead of creating a function object for the parameter and generating a call, the compiler could emit the following code&quot;"}, {"owner": {"reputation": 711, "user_id": 1232726, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Bg5nq.jpg?s=128&g=1", "display_name": "filthy_wizard", "link": "https://stackoverflow.com/users/1232726/filthy-wizard"}, "edited": false, "score": 3, "creation_date": 1520460375, "post_id": 44471284, "comment_id": 85329663, "body": "i dont get that example either tbh."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1599229187, "post_id": 44471284, "comment_id": 112718478, "body": "What makes you say that an <code>inline</code> function may improve performance, and that it would be noticeable by the user?"}], "answers": [{"comments": [{"owner": {"reputation": 4835, "user_id": 870853, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ZKsMj.jpg?s=128&g=1", "display_name": "Arturs Vancans", "link": "https://stackoverflow.com/users/870853/arturs-vancans"}, "edited": false, "score": 26, "creation_date": 1508129595, "post_id": 44471411, "comment_id": 80471471, "body": "What&#39;s the advantage of having the Function object wrapper in the first place? ie - why is not everything inlined?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 4835, "user_id": 870853, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ZKsMj.jpg?s=128&g=1", "display_name": "Arturs Vancans", "link": "https://stackoverflow.com/users/870853/arturs-vancans"}, "edited": false, "score": 15, "creation_date": 1508134958, "post_id": 44471411, "comment_id": 80473230, "body": "This way you can also arbitrarily pass functions around as parameters, store them in variables, etc."}, {"owner": {"reputation": 2865, "user_id": 1865027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92b3e08891af2a97d6725e72c595373b?s=128&d=identicon&r=PG", "display_name": "user1865027", "link": "https://stackoverflow.com/users/1865027/user1865027"}, "edited": false, "score": 0, "creation_date": 1513041601, "post_id": 44471411, "comment_id": 82489356, "body": "@zsmb13  but can you also pass inline fun to another inline fun as parameter?"}, {"owner": {"reputation": 2865, "user_id": 1865027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92b3e08891af2a97d6725e72c595373b?s=128&d=identicon&r=PG", "display_name": "user1865027", "link": "https://stackoverflow.com/users/1865027/user1865027"}, "edited": false, "score": 0, "creation_date": 1513041987, "post_id": 44471411, "comment_id": 82489459, "body": "it looks like compiler is ok with passing inline fun to another inline fun"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1513105465, "post_id": 44471411, "comment_id": 82520751, "body": "You can, and if you do complicated things with them, you&#39;ll eventually wanna know about the <code>noinline</code> and <code>crossinline</code> keywords - see the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">docs</a>."}, {"owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "edited": false, "score": 2, "creation_date": 1527317758, "post_id": 44471411, "comment_id": 88091805, "body": "The docs give a reason you wouldn&#39;t want to inline by default:   <i>Inlining may cause the generated code to grow; however, if we do it in a reasonable way (i.e. avoiding inlining large functions), it will pay off in performance, especially at &quot;megamorphic&quot; call-sites inside loops.</i>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 3, "creation_date": 1546412905, "post_id": 44471411, "comment_id": 94841697, "body": "But you didn&#39;t answer the question &quot;When to use&quot;. You just explained how it&#39;s used. The answer to that is in the docs and indicates that if you have a function with a small amount of code and the function gets used a lot, then using an inline function can increase performance."}, {"owner": {"reputation": 10159, "user_id": 647129, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cc2523484baa31d8e3479558408f9e45?s=128&d=identicon&r=PG&f=1", "display_name": "rogue-one", "link": "https://stackoverflow.com/users/647129/rogue-one"}, "edited": false, "score": 1, "creation_date": 1573919676, "post_id": 44471411, "comment_id": 104050263, "body": "can you post an example that shows how a inline function with two lambda functions input parameters with one of them annotated with noinline modifier is translated to.."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1599234306, "post_id": 44471411, "comment_id": 112721103, "body": "@AndroidDev Is that increase in performance really noticeable by the user?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 312, "last_activity_date": 1497085148, "last_edit_date": 1497085148, "creation_date": 1497084799, "answer_id": 44471411, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/44471411#44471411", "title": "when to use an inline function in Kotlin?", "body": "<p>Let's say you create a higher order function that takes a lambda of type <code>() -&gt; Unit</code> (no parameters, no return value), and executes it like so:</p>\n\n<pre><code>fun nonInlined(block: () -&gt; Unit) {\n    println(\"before\")\n    block()\n    println(\"after\")\n}\n</code></pre>\n\n<p>In Java parlance, this will translate to something like this (simplified!):</p>\n\n<pre><code>public void nonInlined(Function block) {\n    System.out.println(\"before\");\n    block.invoke();\n    System.out.println(\"after\");\n}\n</code></pre>\n\n<p>And when you call it from Kotlin...</p>\n\n<pre><code>nonInlined {\n    println(\"do something here\")\n}\n</code></pre>\n\n<p>Under the hood, an instance of <code>Function</code> will be created here, that wraps the code inside the lambda (again, this is simplified):</p>\n\n<pre><code>nonInlined(new Function() {\n    @Override\n    public void invoke() {\n        System.out.println(\"do something here\");\n    }\n});\n</code></pre>\n\n<p>So basically, calling this function and passing a lambda to it will always create an instance of a <code>Function</code> object.</p>\n\n<hr>\n\n<p>On the other hand, if you use the <code>inline</code> keyword:</p>\n\n<pre><code>inline fun inlined(block: () -&gt; Unit) {\n    println(\"before\")\n    block()\n    println(\"after\")\n}\n</code></pre>\n\n<p>When you call it like this:</p>\n\n<pre><code>inlined {\n    println(\"do something here\")\n}\n</code></pre>\n\n<p>No <code>Function</code> instance will be created, instead, the code around the invocation of <code>block</code> inside the inlined function will be copied to the call site, so you'll get something like this in the bytecode:</p>\n\n<pre><code>System.out.println(\"before\");\nSystem.out.println(\"do something here\");\nSystem.out.println(\"after\");\n</code></pre>\n\n<p>In this case, no new instances are created.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1599149550, "post_id": 54267590, "comment_id": 112691415, "body": "What is <b>non-local return</b>?"}], "tags": [], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "is_accepted": false, "score": 5, "last_activity_date": 1581410513, "last_edit_date": 1581410513, "creation_date": 1547904459, "answer_id": 54267590, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/54267590#54267590", "title": "when to use an inline function in Kotlin?", "body": "<p>The most important case when we use the inline modifier is when we define util-like functions with parameter functions. Collection or string processing (like <code>filter</code>, <code>map</code> or <code>joinToString</code>) or just standalone functions are a perfect example.</p>\n\n<p>This is why the inline modifier is mostly an important optimization for library developers. They should know how it works and what are its improvements and costs. We should use the inline modifier in our projects when we define our own util functions with function type parameters.</p>\n\n<p>If we don\u2019t have function type parameter, reified type parameter, and we don\u2019t need non-local return, then we most likely shouldn\u2019t use the inline modifier. This is why we will have a warning on Android Studio or IDEA IntelliJ.</p>\n\n<p>Also, there is a code size problem. Inlining a large function could dramatically increase the size of the bytecode because it's copied to every call site. In such cases, you can refactor the function and extract code to regular functions.</p>\n"}, {"comments": [{"owner": {"reputation": 10159, "user_id": 647129, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cc2523484baa31d8e3479558408f9e45?s=128&d=identicon&r=PG&f=1", "display_name": "rogue-one", "link": "https://stackoverflow.com/users/647129/rogue-one"}, "edited": false, "score": 6, "creation_date": 1573919598, "post_id": 55077072, "comment_id": 104050241, "body": "technically you could still inline functions that don&#39;t take lambda expressions right?.. here the advantage is that the function call overhead is avoided in that case.. language like Scala allow this.. not sure why Kotlin forbids that type of inline-ing"}, {"owner": {"reputation": 3084, "user_id": 1941654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e446b8cae7132038fefdb922b7d233?s=128&d=identicon&r=PG", "display_name": "Mike Hill", "link": "https://stackoverflow.com/users/1941654/mike-hill"}, "reply_to_user": {"reputation": 10159, "user_id": 647129, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cc2523484baa31d8e3479558408f9e45?s=128&d=identicon&r=PG&f=1", "display_name": "rogue-one", "link": "https://stackoverflow.com/users/647129/rogue-one"}, "edited": false, "score": 7, "creation_date": 1581448898, "post_id": 55077072, "comment_id": 106435093, "body": "@rogue-one Kotlin doesn&#39;t forbid this time of inlining. The language authors are simply claiming that the performance benefit is likely to be insignificant. Small methods are already likely to be inlined by the JVM during JIT optimization, especially if they are executed frequently.  Another case where <code>inline</code> can be harmful is when the functional parameter is called multiple times in the inline function, such as in different conditional branches. I just ran into a case where all of the bytecode for functional arguments was being duplicated because of this."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1599235609, "post_id": 55077072, "comment_id": 112721689, "body": "When should we use <code>crossinline</code> parameters?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 56, "last_activity_date": 1599234730, "last_edit_date": 1599234730, "creation_date": 1552132423, "answer_id": 55077072, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/55077072#55077072", "title": "when to use an inline function in Kotlin?", "body": "<p>Let me add: <strong>When not to use <code>inline</code></strong>:</p>\n<ol>\n<li><p>If you have a simple function that doesn't accept other functions as an argument, it does not make sense to inline them. IntelliJ will warn you:</p>\n<blockquote>\n<p>Expected performance impact of inlining '...' is insignificant.\nInlining works best for functions with parameters of functional types</p>\n</blockquote>\n</li>\n<li><p>Even if you have a function &quot;with parameters of functional types&quot;, you may encounter the compiler telling you that inlining does not work. Consider this example:</p>\n<pre><code> inline fun calculateNoInline(param: Int, operation: IntMapper): Int {\n     val o = operation //compiler does not like this\n     return o(param)\n }\n</code></pre>\n<p>This code won't compile, yielding the error:</p>\n<blockquote>\n<p>Illegal usage of inline-parameter 'operation' in '...'. Add 'noinline' modifier to the parameter declaration.</p>\n</blockquote>\n<p>The reason is that the compiler is unable to inline this code, particularly the <code>operation</code> parameter. If <code>operation</code> is not wrapped in an object (which would be the result of applying <code>inline</code>), how can it be assigned to a variable at all? In this case, the compiler suggests making the argument <code>noinline</code>.    Having an <code>inline</code> function with a single <code>noinline</code> function does not make any sense, don't do that. However, if there are multiple parameters of functional types, consider inlining some of them if required.</p>\n</li>\n</ol>\n<p>So here are some suggested rules:</p>\n<ul>\n<li>You <strong>can</strong> inline when all functional type parameters are called directly or passed to <em>other inline</em> function</li>\n<li>You <strong>should</strong> inline when ^ is the case.</li>\n<li>You <strong>cannot</strong> inline when function parameter is being assigned to a variable inside the function</li>\n<li>You <strong>should</strong> consider inlining if at least one of your functional type parameters can be inlined, use <code>noinline</code> for the others.</li>\n<li>You <strong>should not</strong> inline huge functions, think about generated byte code. It will be copied to all places the function is called from.</li>\n<li>Another use case is <code>reified</code> type parameters, which require you to use <code>inline</code>. Read <a href=\"https://stackoverflow.com/questions/45949584/how-does-the-reified-keyword-in-kotlin-work/45952201#45952201\">here</a>.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1599151040, "post_id": 57641270, "comment_id": 112692121, "body": "Your kotlin playground snippet doesn&#39;t use <code>inline fun</code>.  Can you please clarify?"}, {"owner": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1599193020, "post_id": 57641270, "comment_id": 112703756, "body": "@IgorGanapolsky Check out the last part of my post again. I tell you which one should be inline and I have the example in the answer above as well."}], "tags": [], "owner": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "is_accepted": false, "score": 4, "last_activity_date": 1566678126, "creation_date": 1566678126, "answer_id": 57641270, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/57641270#57641270", "title": "when to use an inline function in Kotlin?", "body": "<p>One simple case where you might want one is when you create a util function that takes in a suspend block. Consider this.</p>\n\n<pre><code>fun timer(block: () -&gt; Unit) {\n    // stuff\n    block()\n    //stuff\n}\n\nfun logic() { }\n\nsuspend fun asyncLogic() { }\n\nfun main() {\n    timer { logic() }\n\n    // This is an error\n    timer { asyncLogic() }\n}\n</code></pre>\n\n<p>In this case, our timer won't accept suspend functions. To solve it, you might be tempted to make it suspend as well</p>\n\n<pre><code>suspend fun timer(block: suspend () -&gt; Unit) {\n    // stuff\n    block()\n    // stuff\n}\n</code></pre>\n\n<p>But then it can only be used from coroutines/suspend functions itself. Then you'll end up making an async version and a non-async version of these utils. The problem goes away if you make it inline.</p>\n\n<pre><code>inline fun timer(block: () -&gt; Unit) {\n    // stuff\n    block()\n    // stuff\n}\n\nfun main() {\n    // timer can be used from anywhere now\n    timer { logic() }\n\n    launch {\n        timer { asyncLogic() }\n    }\n}\n</code></pre>\n\n<p>Here is a <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjQxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiaW1wb3J0IGtvdGxpbnguY29yb3V0aW5lcy5sYXVuY2hcbmltcG9ydCBrb3RsaW54LmNvcm91dGluZXMuR2xvYmFsU2NvcGVcblxuXG5mdW4gdGltZXIoYmxvY2s6ICgpIC0+IFVuaXQpIHtcbiAgICAvLyBzdHVmZlxuICAgIGJsb2NrKClcbiAgICAvLyBzdHVmZlxufVxuXG5mdW4gbG9naWMoKSB7fVxuXG5zdXNwZW5kIGZ1biBhc3luY0xvZ2ljKCkge31cblxuZnVuIG1haW4oKSB7XG4gICAgdGltZXIgeyBsb2dpYygpIH1cblxuICAgIEdsb2JhbFNjb3BlLmxhdW5jaCB7XG4gICAgICAgIHRpbWVyIHsgYXN5bmNMb2dpYygpIH1cbiAgICB9XG59In0=\" rel=\"nofollow noreferrer\">kotlin playground</a> with the error state. Make the timer inline to solve it.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1599149793, "post_id": 62914436, "comment_id": 112691549, "body": "I&#39;m not seeing the advantage of using <code>inline functions</code>.  Can you give a real-world use case (i.e. in a real project you&#39;ve worked on)?"}, {"owner": {"reputation": 1601, "user_id": 12553303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b724fb7c87098132f0fbccb9d60cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Wini", "link": "https://stackoverflow.com/users/12553303/wini"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1599195876, "post_id": 62914436, "comment_id": 112704369, "body": "@IgorGanapolsky added with android example have a look"}], "tags": [], "owner": {"reputation": 1601, "user_id": 12553303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b724fb7c87098132f0fbccb9d60cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Wini", "link": "https://stackoverflow.com/users/12553303/wini"}, "is_accepted": false, "score": 14, "last_activity_date": 1599195826, "last_edit_date": 1599195826, "creation_date": 1594814679, "answer_id": 62914436, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/62914436#62914436", "title": "when to use an inline function in Kotlin?", "body": "<p><strong>Higher-order functions</strong> are very helpful and they can really improve the <code>reusability</code> of code. However, one of the biggest concerns about using them is efficiency. Lambda expressions are compiled to classes (often anonymous classes), and object creation in Java is a heavy operation. We can still use higher-order functions in an effective way, while keeping all the benefits, by making functions inline.</p>\n<p><em><strong>here comes the <strong>inline function</strong> into picture</strong></em></p>\n<p><em>When a function is marked as <code>inline</code>, during code compilation the compiler will replace all the function calls with the actual body of the function. Also, lambda expressions provided as arguments are replaced with their actual body. They will not be treated as functions, but as actual code.</em></p>\n<p><strong>In short:-</strong> Inline--&gt;rather than being called ,they are replaced by the function's body code at compile time...</p>\n<p>In Kotlin, using a function as a parameter of another function (so called higher-order functions) feels more natural than in Java.</p>\n<p>Using lambdas has some disadvantages, though. Since they\u2019re anonymous classes (and therefore, objects), they need memory (and might even add to the overall method count of your app).\nTo avoid this, we can inline our methods.</p>\n<pre><code>fun notInlined(getString: () -&gt; String?) = println(getString())\n\ninline fun inlined(getString: () -&gt; String?) = println(getString())\n</code></pre>\n<p><strong>From the above example</strong>:- These two functions do exactly the same thing - printing the result of the getString function. One is inlined and one is not.</p>\n<p>If you\u2019d check the decompiled java code, you would see that the methods are completely identical. That\u2019s because the inline keyword is an instruction to the compiler to copy the code into the call-site.</p>\n<p><em>However, if we are passing any function type to another function like below:</em></p>\n<pre><code>//Compile time error\u2026 Illegal usage of inline function type ftOne...\n inline fun Int.doSomething(y: Int, ftOne: Int.(Int) -&gt; Int, ftTwo: (Int) -&gt; Int) {\n    //passing a function type to another function\n    val funOne = someFunction(ftOne)\n    /*...*/\n }\n</code></pre>\n<p><em>To solve that, we can rewrite our function as below:</em></p>\n<pre><code>inline fun Int.doSomething(y: Int, noinline ftOne: Int.(Int) -&gt; Int, ftTwo: (Int) -&gt; Int) {\n    //passing a function type to another function\n    val funOne = someFunction(ftOne)\n    /*...*/}\n</code></pre>\n<p><em>Suppose we have a higher order function like below:</em></p>\n<pre><code>inline fun Int.doSomething(y: Int, noinline ftOne: Int.(Int) -&gt; Int) {\n    //passing a function type to another function\n    val funOne = someFunction(ftOne)\n    /*...*/}\n</code></pre>\n<p><strong>Here, the compiler will tell us to not use the inline keyword when there is only one lambda parameter and we are passing it to another function. So, we can rewrite above function as below:</strong></p>\n<pre><code>fun Int.doSomething(y: Int, ftOne: Int.(Int) -&gt; Int) {\n    //passing a function type to another function\n    val funOne = someFunction(ftOne)\n    /*...*/\n}\n</code></pre>\n<p><strong>Note</strong>:-we had to remove the keyword noinline as well because it can be used only for inline functions!</p>\n<p><strong>Suppose we have function like this</strong> --&gt;</p>\n<pre><code>fun intercept() {\n    // ...\n    val start = SystemClock.elapsedRealtime()\n    val result = doSomethingWeWantToMeasure()\n    val duration = SystemClock.elapsedRealtime() - start\n    log(duration)\n    // ...}\n</code></pre>\n<p><em>This works fine but the meat of the function\u2019s logic is polluted with measurement code making it harder for your colleagues to work what\u2019s going on.</em> :)</p>\n<p><strong>Here\u2019s how an inline function can help this code:</strong></p>\n<pre><code> fun intercept() {\n    // ...\n    val result = measure { doSomethingWeWantToMeasure() }\n    // ...\n    }\n }\n\n inline fun &lt;T&gt; measure(action: () -&gt; T) {\n   val start = SystemClock.elapsedRealtime()\n   val result = action()\n   val duration = SystemClock.elapsedRealtime() - start\n   log(duration)\n   return result\n }\n</code></pre>\n<p><em><strong>Now I can concentrate on reading what the intercept() function\u2019s main intention is without skipping over lines of measurement code. We also benefit from the option of reusing that code in other places where we want to</strong></em></p>\n<p>inline allows you to call a function with a lambda argument within a closure ({ ... }) rather than passing the lambda like measure(myLamda)</p>\n<h2>When is this useful?</h2>\n<p>The inline keyword is useful for functions that accept other functions, or lambdas, as arguments.</p>\n<p>Without the inline keyword on a function, that function's lambda argument gets converted at compile time to an instance of a Function interface with a single method called invoke(), and the code in the lambda is executed by calling invoke() on that Function instance inside the function body.</p>\n<p>With the inline keyword on a function, that compile time conversion never happens. Instead, the body of the inline function gets inserted at its call site and its code is executed without the overhead of creating a function instance.</p>\n<p><strong>Hmmm? Example in android --&gt;</strong></p>\n<p>Let's say we have a function in an activity router class to start an activity and apply some extras</p>\n<pre><code>fun startActivity(context: Context,\n              activity: Class&lt;*&gt;,\n              applyExtras: (intent: Intent) -&gt; Unit) {\n  val intent = Intent(context, activity)\n  applyExtras(intent)\n  context.startActivity(intent)\n  }\n</code></pre>\n<p>This function creates an intent, applies some extras by calling the applyExtras function argument, and starts the activity.</p>\n<p>If we look at the compiled bytecode and decompile it to Java, this looks something like:</p>\n<pre><code>void startActivity(Context context,\n               Class activity,\n               Function1 applyExtras) {\n  Intent intent = new Intent(context, activity);\n  applyExtras.invoke(intent);\n  context.startActivity(intent);\n  }\n</code></pre>\n<p>Let's say we call this from a click listener in an activity:</p>\n<pre><code>override fun onClick(v: View) {\nrouter.startActivity(this, SomeActivity::class.java) { intent -&gt;\nintent.putExtra(&quot;key1&quot;, &quot;value1&quot;)\nintent.putExtra(&quot;key2&quot;, 5)\n}\n }\n</code></pre>\n<p>The decompiled bytecode for this click listener would then look like something like this:</p>\n<pre><code>@Override void onClick(View v) {\nrouter.startActivity(this, SomeActivity.class, new Function1() {\n@Override void invoke(Intent intent) {\n  intent.putExtra(&quot;key1&quot;, &quot;value1&quot;);\n  intent.putExtra(&quot;key2&quot;, 5);\n}\n }\n}\n</code></pre>\n<p>A new instance of Function1 gets created every time the click listener is triggered. This works fine, but it's not ideal!</p>\n<p>Now let's just add inline to our activity router method:</p>\n<pre><code>inline fun startActivity(context: Context,\n                     activity: Class&lt;*&gt;,\n                     applyExtras: (intent: Intent) -&gt; Unit) {\n val intent = Intent(context, activity)\n applyExtras(intent)\n context.startActivity(intent)\n }\n</code></pre>\n<p>Without changing our click listener code at all, we're now able to avoid the creation of that Function1 instance. The Java equivalent of the click listener code would now look something like:</p>\n<pre><code>@Override void onClick(View v) {\nIntent intent = new Intent(context, SomeActivity.class);\nintent.putExtra(&quot;key1&quot;, &quot;value1&quot;);\nintent.putExtra(&quot;key2&quot;, 5);\ncontext.startActivity(intent);\n}\n</code></pre>\n<h2>Thats it.. :)</h2>\n<p>To &quot;inline&quot; a function basically means to copy a function's body and paste it at the function's call site. This happens at compile time.</p>\n"}, {"comments": [{"owner": {"reputation": 6568, "user_id": 611819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oew2B.png?s=128&g=1", "display_name": "dnault", "link": "https://stackoverflow.com/users/611819/dnault"}, "edited": false, "score": 0, "creation_date": 1617134446, "post_id": 66478722, "comment_id": 118217661, "body": "A note about &quot;Can&#39;t use inline when hiding implementation&quot;: there&#39;s an partial solution. Your inline method can delegate to an <code>internal</code> method annotated with <code>@PublishedApi</code>. The internal method is effectively public from a binary compatibility viewpoint, but users will not be able to call it directly."}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 3, "last_activity_date": 1614873876, "creation_date": 1614873876, "answer_id": 66478722, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin/66478722#66478722", "title": "when to use an inline function in Kotlin?", "body": "<h2>Use <code>inline</code> for preventing object creation</h2>\n<p><strong>Lambdas are converted to classes</strong></p>\n<p>In Kotlin/JVM, function types (lambdas) are converted to anonymous/regular classes that extend the interface <code>Function</code>. Consider the following function:</p>\n<pre><code>fun doSomethingElse(lambda: () -&gt; Unit) {\n    println(&quot;Doing something else&quot;)\n    lambda()\n}\n</code></pre>\n<p>The function above, after compilation will look like following:</p>\n<pre><code>public static final void doSomethingElse(Function0 lambda) {\n    System.out.println(&quot;Doing something else&quot;);\n    lambda.invoke();\n}\n</code></pre>\n<p>The function type <code>() -&gt; Unit</code> is converted to the interface <code>Function0</code>.</p>\n<p>Now let's see what happens when we call this function from some other function:</p>\n<pre><code>fun doSomething() {\n    println(&quot;Before lambda&quot;)\n    doSomethingElse {\n        println(&quot;Inside lambda&quot;)\n    }\n    println(&quot;After lambda&quot;)\n}\n</code></pre>\n<p><strong>Problem: objects</strong></p>\n<p>The compiler replaces the lambda with an anonymous object of <code>Function</code> type:</p>\n<pre><code>public static final void doSomething() {\n    System.out.println(&quot;Before lambda&quot;);\n    doSomethingElse(new Function() {\n            public final void invoke() {\n            System.out.println(&quot;Inside lambda&quot;);\n        }\n    });\n    System.out.println(&quot;After lambda&quot;);\n}\n</code></pre>\n<p>The problem here is that, if you call this function in a loop thousands of times, thousands of objects will be created and garbage collected. This affects performance.</p>\n<p><strong>Solution: <code>inline</code></strong></p>\n<p>By adding the <code>inline</code> keyword before the function, we can tell the compiler to copy that function's code at call-site, <em>without creating the objects</em>:</p>\n<pre><code>inline fun doSomethingElse(lambda: () -&gt; Unit) {\n    println(&quot;Doing something else&quot;)\n    lambda()\n}\n</code></pre>\n<p>This results in the copying of the code of the <code>inline</code> function as well as the code of the <code>lambda()</code> at the call-site:</p>\n<pre><code>public static final void doSomething() {\n    System.out.println(&quot;Before lambda&quot;);\n    System.out.println(&quot;Doing something else&quot;);\n    System.out.println(&quot;Inside lambda&quot;);\n    System.out.println(&quot;After lambda&quot;);\n}\n</code></pre>\n<p>This doubles the speed of the execution, if you compare with/without <code>inline</code> keyword with a million repetitions in a <code>for</code> loop. So, the functions that take other functions as arguments are faster when they are inlined.</p>\n<hr />\n<h2>Use <code>inline</code> for preventing variable capturing</h2>\n<p>When you use the local variables inside the lambda, it is called variable capturing(closure):</p>\n<pre><code>fun doSomething() {\n    val greetings = &quot;Hello&quot;                // Local variable\n    doSomethingElse {\n        println(&quot;$greetings from lambda&quot;)  // Variable capture\n    }\n}\n</code></pre>\n<p>If our <code>doSomethingElse()</code> function here is not <code>inline</code>, the captured variables are passed to the lambda via the constructor while creating the anonymous object that we saw earlier:</p>\n<pre><code>public static final void doSomething() {\n    String greetings = &quot;Hello&quot;;\n    doSomethingElse(new Function(greetings) {\n            public final void invoke() {\n            System.out.println(this.$greetings + &quot; from lambda&quot;);\n        }\n    });\n}\n</code></pre>\n<p>If you have many local variables used inside the lambda or calling the lambda in a loop, passing every local variable through the constructor causes the extra memory overhead. Using the <code>inline</code> function in this case helps a lot, since the variable is directly used at the call-site.</p>\n<p>So, as you can see from the two examples above, the big chunk of performance benefit of <code>inline</code> functions is achieved when the functions take other functions as arguments. This is when the <code>inline</code> functions are most beneficial and worth using. There is no need to <code>inline</code> other general functions because the JIT compiler already makes them inline under the hood, whenever it feels necessary.</p>\n<hr />\n<h2>Use <code>inline</code> for better control flow</h2>\n<p>Since non-inline function type is converted to a class, we can't write the <code>return</code> statement inside the lambda:</p>\n<pre><code>fun doSomething() {\n    doSomethingElse {\n        return    // Error: return is not allowed here\n    }\n}\n</code></pre>\n<p>This is known as <em>non-local <code>return</code></em> because it's not local to the calling function <code>doSomething()</code>. The reason for not allowing the non-local <code>return</code> is that the <code>return</code> statement exists in another class (in the anonymous class shown previously). Making the <code>doSomethingElse()</code> function <code>inline</code> solves this problem and we are allowed to use non-local returns because then the <code>return</code> statement is copied inside the calling function.</p>\n<hr />\n<h2>Use <code>inline</code> for <code>reified</code> type parameters</h2>\n<p>While using generics in Kotlin, we can work with the value of type <code>T</code>. But we can't work with the type directly, we get the error <code>Cannot use 'T' as reified type parameter. Use a class instead</code>:</p>\n<pre><code>fun &lt;T&gt; doSomething(someValue: T) {\n    println(&quot;Doing something with value: $someValue&quot;)               // OK\n    println(&quot;Doing something with type: ${T::class.simpleName}&quot;)    // Error\n}\n</code></pre>\n<p>This is because the type argument that we pass to the function is erased at runtime. So, we cannot possibly know exactly which type we are dealing with.</p>\n<p>Using an <code>inline</code> function along with the <code>reified</code> type parameter solves this problem:</p>\n<pre><code>inline fun &lt;reified T&gt; doSomething(someValue: T) {\n    println(&quot;Doing something with value: $someValue&quot;)               // OK\n    println(&quot;Doing something with type: ${T::class.simpleName}&quot;)    // OK\n}\n</code></pre>\n<p>Inlining causes the actual type argument to be copied in place of <code>T</code>. So, for example, the <code>T::class.simpleName</code> becomes <code>String::class.simpleName</code>, when you call the function like <code>doSomething(&quot;Some String&quot;)</code>. The <code>reified</code> keyword can only be used with <code>inline</code> functions.</p>\n<hr />\n<h2>Avoid <code>inline</code> when calls are repetitive</h2>\n<p>Let's say we have the following function that is called repetitively at different abstraction levels:</p>\n<pre><code>inline fun doSomething() {\n    println(&quot;Doing something&quot;)\n}\n</code></pre>\n<p><strong>First abstraction level</strong></p>\n<pre><code>inline fun doSomethingAgain() {\n    doSomething()\n    doSomething()\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code>public static final void doSomethingAgain() {\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n}\n</code></pre>\n<p>At first abstraction level, the code grows at: 2<sup>1</sup> = 2 lines.</p>\n<p><strong>Second abstraction level</strong></p>\n<pre><code>inline fun doSomethingAgainAndAgain() {\n    doSomethingAgain()\n    doSomethingAgain()\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code>public static final void doSomethingAgainAndAgain() {\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n}\n</code></pre>\n<p>At second abstraction level, the code grows at: 2<sup>2</sup> = 4 lines.</p>\n<p><strong>Third abstraction level</strong></p>\n<pre><code>inline fun doSomethingAgainAndAgainAndAgain() {\n    doSomethingAgainAndAgain()\n    doSomethingAgainAndAgain()\n}\n</code></pre>\n<p>Results in:</p>\n<pre><code>public static final void doSomethingAgainAndAgainAndAgain() {\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n    System.out.println(&quot;Doing something&quot;);\n}\n</code></pre>\n<p>At third abstraction level, the code grows at: 2<sup>3</sup> = 8 lines.</p>\n<p>Similarly, at the fourth abstraction level, the code grows at 2<sup>4</sup> = 16 lines and so on.</p>\n<p>The number 2 is the number of times the function is called at each abstraction level. As you can see the code grows exponentially not only at the last level but also at every level, so that's 16 + 8 + 4 + 2 lines. I have shown only 2 calls and 3 abstraction levels here to keep it concise but imagine how much code will be generated for more calls and more abstraction levels. This increases the size of your app. This is another reason why you shouldn't <code>inline</code> each and every function in your app.</p>\n<hr />\n<h2>Avoid <code>inline</code> in recursive cycles</h2>\n<p>Avoid using the <code>inline</code> function for recursive cycles of function calls as shown in the following code:</p>\n<pre><code>// Don't use inline for such recursive cycles\n\ninline fun doFirstThing() { doSecondThing() }\ninline fun doSecondThing() { doThirdThing() }\ninline fun doThirdThing() { doFirstThing() }\n</code></pre>\n<p>This will result in a never ending cycle of the functions copying the code. The compiler gives you an error: <code>The 'yourFunction()' invocation is a part of inline cycle</code>.</p>\n<hr />\n<h2>Can't use <code>inline</code> when hiding implementation</h2>\n<p>The public <code>inline</code> functions cannot access <code>private</code> functions, so they cannot be used for implementation hiding:</p>\n<pre><code>inline fun doSomething() {\n    doItPrivately()  // Error\n}\n\nprivate fun doItPrivately() { }\n</code></pre>\n<p>In the <code>inline</code> function shown above, accessing the <code>private</code> function <code>doItPrivately()</code> gives an error: <code>Public-API inline function cannot access non-public API fun</code>.</p>\n<hr />\n<h2>Checking the generated code</h2>\n<p>Now, about the second part of your question:</p>\n<blockquote>\n<p>but I found that there is no function object created by kotlin for a\nnon-inline function. why?</p>\n</blockquote>\n<p>The <code>Function</code> object is indeed created. To see the created <code>Function</code> object, you need to actually call your <code>lock()</code> function inside the <code>main()</code> function as follows:</p>\n<pre><code>fun main() {\n    lock { println(&quot;Inside the block()&quot;) }\n}\n</code></pre>\n<p><strong>Generated class</strong></p>\n<p>The generated <code>Function</code> class doesn't reflect in the decompiled Java code. You need to directly look into the bytecode. Look for the line starting with:</p>\n<pre><code>final class your/package/YourFilenameKt$main$1 extends Lambda implements Function0 { }\n</code></pre>\n<p>This is the class that is generated by the compiler for the function type that is passed to the <code>lock()</code> function. The <code>main$1</code> is the name of the class that is created for your <code>block()</code> function. Sometimes the class is anonymous as shown in the example in the first section.</p>\n<p><strong>Generated object</strong></p>\n<p>In the bytecode, look for the line starting with:</p>\n<pre><code>GETSTATIC your/package/YourFilenameKt$main$1.INSTANCE\n</code></pre>\n<p><code>INSTANCE</code> is the object that is created for the class mentioned above. The created object is a singleton, hence the name <code>INSTANCE</code>.</p>\n<hr />\n<p>That's it! Hope that provides useful insight into <code>inline</code> functions.</p>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34198, "favorite_count": 47, "answer_count": 6, "score": 120, "last_activity_date": 1614873876, "creation_date": 1497083816, "last_edit_date": 1586606297, "question_id": 44471284, "link": "https://stackoverflow.com/questions/44471284/when-to-use-an-inline-function-in-kotlin", "title": "when to use an inline function in Kotlin?", "body": "<p>I know that an inline function will maybe improve performance &amp; cause the generated code to grow, but I'm not sure when it is correct to use one.</p>\n\n<pre><code>lock(l) { foo() }\n</code></pre>\n\n<blockquote>\n  <p>Instead of creating a function object for the parameter and generating a call, the compiler could emit the following code. (<a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">Source</a>)</p>\n</blockquote>\n\n<pre><code>l.lock()\ntry {\n  foo()\n}\nfinally {\n  l.unlock()\n}\n</code></pre>\n\n<p>but I found that there is no function object created by kotlin for a non-inline function. why?</p>\n\n<pre><code>/**non-inline function**/\nfun lock(lock: Lock, block: () -&gt; Unit) {\n    lock.lock();\n    try {\n        block();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1497074918, "post_id": 44469756, "comment_id": 75936194, "body": "Your example of a data class does not compile"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1497075005, "post_id": 44469756, "comment_id": 75936204, "body": "There is <i>no</i> such situation when a regular class cannot be used instead of a data class. Just saying."}], "answers": [{"tags": [], "owner": {"reputation": 762, "user_id": 6638518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D388w.jpg?s=128&g=1", "display_name": "Glory", "link": "https://stackoverflow.com/users/6638518/glory"}, "is_accepted": false, "score": 1, "last_activity_date": 1497109666, "last_edit_date": 1497109666, "creation_date": 1497071859, "answer_id": 44469831, "question_id": 44469756, "link": "https://stackoverflow.com/questions/44469756/how-to-detect-values-changed-in-data-class-kotlin/44469831#44469831", "title": "How to detect values changed in Data class Kotlin?", "body": "<blockquote>\n  <p><strong>Delegated Properties</strong></p>\n  \n  <p>There are certain common kinds of properties, that, though we can\n  implement them manually every time we need them, would be very nice to\n  implement once and for all, and put into a library. Examples include</p>\n  \n  <p>lazy properties: the value gets computed only upon first access,\n  observable properties: listeners get notified about changes to this\n  property, storing properties in a map, instead of a separate field for\n  each property. To cover these (and other) cases, Kotlin supports\n  delegated properties:</p>\n</blockquote>\n\n<pre><code>class Example {\n    var p: String by Delegate()\n}\n</code></pre>\n\n<blockquote>\n  <p>The syntax is: val/var :  by . The expression \n  after by is the delegate, because get() (and set()) corresponding to\n  the property will be delegated to its getValue() and setValue()\n  methods. Property delegates don\u2019t have to implement any interface, but\n  they have to provide a getValue() function (and setValue() \u2014 for\n  var's). For example:</p>\n</blockquote>\n\n<pre><code>class Delegate {\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return \"$thisRef, thank you for delegating '${property.name}' to me!\"\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        println(\"$value has been assigned to '${property.name} in $thisRef.'\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "edited": false, "score": 0, "creation_date": 1497082704, "post_id": 44470213, "comment_id": 75937934, "body": "When you say, &quot;Since their properties have to be declared in the primary constructor, you can&#39;t really add custom behaviour to them.&quot; it makes me even more curious. What will you do if their properties don&#39;t have to be declared in the primary constructor? And how about supplying data? Because normally, we supply it through constructor, don&#39;t we?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "edited": false, "score": 0, "creation_date": 1497083099, "post_id": 44470213, "comment_id": 75938039, "body": "I&#39;ve edited my answer with the response, hope it helps."}, {"owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "edited": false, "score": 0, "creation_date": 1497085352, "post_id": 44470213, "comment_id": 75938594, "body": "Ok.. it is a good one. But I still curious a little more. Just curious what is the purpose of using Delegate.observable? Why using   &quot;var name: String by Delegates.observable(_name)  {  \tprop, old, new -&gt; println(&quot;Name changed from $old to $new&quot;) _name = new }&quot;   while I could use   &quot;var name  : String = &quot;&quot;  \tset(value) {  field = value} }&quot;"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "edited": false, "score": 0, "creation_date": 1497085630, "post_id": 44470213, "comment_id": 75938678, "body": "The two are basically equivalent. The only difference is that with using the delegate, the field gets set automatically, and the only code you need to write is whatever you want to do when the change is happening. You&#39;re basically saving the <code>field = value</code> line. And you also get the old and new values as parameters, which is a bit nicer perhaps."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 24, "last_activity_date": 1497083086, "last_edit_date": 1497083086, "creation_date": 1497075337, "answer_id": 44470213, "question_id": 44469756, "link": "https://stackoverflow.com/questions/44469756/how-to-detect-values-changed-in-data-class-kotlin/44470213#44470213", "title": "How to detect values changed in Data class Kotlin?", "body": "<p>Data classes are <em>really</em> not made for this. Since their properties have to be declared in the primary constructor, you can't really add custom behaviour to them.</p>\n\n<p>That said, if you must, you can achieve this by duplicating the properties, and then either using custom setters, or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/observable.html\" rel=\"noreferrer\"><code>Delegates.observable</code></a>.</p>\n\n<p>Here's a way to do it with custom setters, here you're gonna be accessing the publicly visible <code>name</code> and <code>age</code> properties, which keep the ones declared in the constructor up to date as well:</p>\n\n<pre><code>data class Person(private var _name: String, private var _age: Int) {\n\n    var name = _name\n        set(value) {\n            println(\"Name changed from $name to $value\")\n            field = value // sets the backing field for `name`\n            _name = value // sets the `_name` property declared in the primary ctor\n        }\n\n    var age = _age\n        set(value) {\n            println(\"Age changed from $age to $value\")\n            field = value\n            _age = value\n        }\n\n}\n</code></pre>\n\n<p>Same idea, with <code>Delegates.observable</code>, which does some of the work for you, here your only overhead is setting the properties declared in the constructor to the new values:</p>\n\n<pre><code>data class Person(private var _name: String, private var _age: Int) {\n\n    var name: String by Delegates.observable(_name) { prop, old, new -&gt;\n        println(\"Name changed from $old to $new\")\n        _name = new\n    }\n\n    var age: Int by Delegates.observable(_age) { prop, old, new -&gt;\n        println(\"Age changed from $old to $new\")\n        _age = new\n    }\n\n}\n</code></pre>\n\n<p>Usage of either of these looks like this (the <code>toString</code> will look a bit ugly with the underscores):</p>\n\n<pre><code>val sally = Person(\"Sally\", 50)\nprintln(sally)      // Person(_name=Sally, _age=50)\nsally.age = 51      // Age changed from 50 to 51\nprintln(sally)      // Person(_name=Sally, _age=51)\nprintln(sally.name) // Sally\nprintln(sally.age)  // 51\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong> to answer the question below:</p>\n\n<p>If you didn't need your class to be a data class, the following would probably be the simplest solution:</p>\n\n<pre><code>class Person(name: String, age: Int) {\n\n    var name: String by Delegates.observable(name) { _, old, new -&gt;\n        println(\"Name changed from $old to $new\")\n    }\n\n    var age: Int by Delegates.observable(age) { _, old, new -&gt;\n        println(\"Age changed from $old to $new\")\n    }\n\n}\n</code></pre>\n\n<p>This way you still have a constructor that takes the name and age as parameters, but they get assigned to the properties that are inside the body of the class. This is not possible with a data class, because every constructor parameter of a data class has to be a property as well (marked <code>val</code> or <code>var</code>). For more, you can see the documentation about <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"noreferrer\">constructors</a>, <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"noreferrer\">properties</a>, and <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">data classes</a>.</p>\n"}], "owner": {"reputation": 335, "user_id": 8137941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf7de6497f29f9e4727849815a98eb?s=128&d=identicon&r=PG&f=1", "display_name": "jujuzi", "link": "https://stackoverflow.com/users/8137941/jujuzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9403, "favorite_count": 1, "accepted_answer_id": 44470213, "answer_count": 2, "score": 17, "last_activity_date": 1497109666, "creation_date": 1497071055, "last_edit_date": 1497082772, "question_id": 44469756, "link": "https://stackoverflow.com/questions/44469756/how-to-detect-values-changed-in-data-class-kotlin", "title": "How to detect values changed in Data class Kotlin?", "body": "<p>I want to detect any values changed of a property of my class so then I could do another operation after that. In other word, if one of a specific data of a property is changed, then a specific event will fire by then. Actually, if it is a normal class in another programming languages such as Java, then I think I could use setter to do this job after data have modified or use delegate in C#. But since Kotlin is very new, I could not find any solution out there at all. \nI have tried to overload property but was not successful by any chance. I wanted to use interface to to this too, but again since it is data class, I got no idea how should it be done. </p>\n\n<p>Below is the sample class. In such situation, how to detect when Age or name is changed?</p>\n\n<pre><code>data class Person(var Name: String, var Age: Int) \n</code></pre>\n\n<p>So please if anyone have any ideas about this, please help.</p>\n\n<p><em>Note: in my situation, data class must be used.</em></p>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1956, "user_id": 3957075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DYuB5.jpg?s=128&g=1", "display_name": "Sarthak Gandhi", "link": "https://stackoverflow.com/users/3957075/sarthak-gandhi"}, "edited": false, "score": 0, "creation_date": 1497070456, "post_id": 44469009, "comment_id": 75935361, "body": "try using var instead of val."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1497085112, "post_id": 44469009, "comment_id": 75938542, "body": "It&#39;s <code>val</code>, not <code>Val</code>. <code>Val</code> is not a type, but simply used for variable (to be more accurate: value) declarations. Kotlin then uses type inference."}], "answers": [{"comments": [{"owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497077136, "post_id": 44469679, "comment_id": 75936639, "body": "I did what you said,therefore no error is shown in studio but when i run application in android phone it stops working when i open that fragment"}, {"owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "reply_to_user": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497079056, "post_id": 44469679, "comment_id": 75937084, "body": "add crash log here"}, {"owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497079096, "post_id": 44469679, "comment_id": 75937091, "body": "How to get crash log"}, {"owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "reply_to_user": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497079284, "post_id": 44469679, "comment_id": 75937131, "body": "In android studio ,<code>tools&#47;android&#47;android device monitor</code> from devices tab choose your device, then in <code>logcat</code> section hit <code>add</code> button and, set a name for your app in <code>filter name</code>  and add your package name in <code>by application name</code>. run your app and see the crash reports. and if you are using another IDE then search in google about how to get app log in your IDE"}, {"owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497080054, "post_id": 44469679, "comment_id": 75937281, "body": "Here it is <a href=\"https://drive.google.com/file/d/0B7rSAlu3yCjUSDZiUUJraURSajA/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0B7rSAlu3yCjUSDZiUUJraURSajA/&hellip;</a>"}, {"owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497081205, "post_id": 44469679, "comment_id": 75937584, "body": "Brother you are telling the answer for java but i am using kotlin to create my project"}, {"owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "reply_to_user": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497081410, "post_id": 44469679, "comment_id": 75937631, "body": "I do not know much about <code>kotlin</code> but the process should be the same"}, {"owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1497081462, "post_id": 44469679, "comment_id": 75937644, "body": "Yeah process will be same but code will be different"}], "tags": [], "owner": {"reputation": 2582, "user_id": 6017001, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tflXi.png?s=128&g=1", "display_name": "S.R", "link": "https://stackoverflow.com/users/6017001/s-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1497081922, "last_edit_date": 1497081922, "creation_date": 1497070451, "answer_id": 44469679, "question_id": 44469009, "link": "https://stackoverflow.com/questions/44469009/getpreferences-not-working-in-fragment/44469679#44469679", "title": "Getpreferences not working in fragment", "body": "<p>You are calling a <code>Context</code> object in <code>Fragment</code>, Fragment is not a <code>Context</code>.so change this line to something like this:</p>\n\n<pre><code>Val sharedpref = getActivity().getSharedPreferences(\"logindata\",Context.MODE_PRIVATE)}\n</code></pre>\n\n<p>And use <code>getView</code> method in <code>onCreateView</code> for using <code>findViewById</code>, for example:</p>\n\n<pre><code>TextView tv = (TextView) getView().findViewById(R.id.mtTextview);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1089, "user_id": 3845798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbttl.jpg?s=128&g=1", "display_name": "Arpit", "link": "https://stackoverflow.com/users/3845798/arpit"}, "is_accepted": true, "score": 0, "last_activity_date": 1502319393, "last_edit_date": 1502319393, "creation_date": 1497110326, "answer_id": 44475341, "question_id": 44469009, "link": "https://stackoverflow.com/questions/44469009/getpreferences-not-working-in-fragment/44475341#44475341", "title": "Getpreferences not working in fragment", "body": "<p>Thou concept wise the above answer (<a href=\"https://stackoverflow.com/a/44469679/3845798\">https://stackoverflow.com/a/44469679/3845798</a>) is correct, but there it needs to be in Kotlin. Like <code>getActivity()</code>, <code>getView()</code> will be access like a property.\nAlso, its <code>val</code> not <code>Val</code>.</p>\n\n<p>Here is simple example of how to use <code>findViewById()</code>, <code>getSharedPreferences()</code> inside the activity.</p>\n\n<p><strong>MainActivity Code -</strong> </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setBaseFragment()\n    }\n\n\n    private fun setBaseFragment() {\n        val fragment = MainFragment.newInstance()\n        supportFragmentManager\n                .beginTransaction()\n                .replace(R.id.fragment_container, fragment)\n                .commit()\n    }\n}\n</code></pre>\n\n<p><strong>And this is my fragment Class</strong> </p>\n\n<pre><code>class MainFragment : Fragment() {\n\n    lateinit var show: Button\n    lateinit var save: Button\n    lateinit var text: TextView\n\n    var prefs: SharedPreferences? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        return inflater!!.inflate(R.layout.fragment_main, container, false)\n    }\n\n    override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        show = view?.findViewById(R.id.showButton) as Button\n        save = view?.findViewById(R.id.saveButton) as Button\n        text = view?.findViewById(R.id.textResult) as TextView\n\n        prefs =    activity.getSharedPreferences(\"FUN\",MODE_PRIVATE)\n\n\n        save.setOnClickListener {\n            val editor = prefs!!.edit()\n            editor.putString(\"Saving\", \"This is saveValueFromSharedPref\")\n            editor.apply()\n        }\n\n        show.setOnClickListener {\n            text.setText(prefs?.getString(\"Saving\",\"NotSaved\"))\n        }\n    }\n\n    companion object {\n        fun newInstance(): MainFragment {\n            val fragment = MainFragment()\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p>It's a simple example with a text and two button.</p>\n\n<p>First you have to save and show.</p>\n\n<p>Also, for your app crash you can check <a href=\"https://stackoverflow.com/a/18896666/3845798\">this solution</a>.</p>\n"}], "owner": {"reputation": 2130, "user_id": 8134703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/OXW5y.jpg?s=128&g=1", "display_name": "Paramjeet Singh", "link": "https://stackoverflow.com/users/8134703/paramjeet-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 44475341, "answer_count": 2, "score": 2, "last_activity_date": 1502319393, "creation_date": 1497062591, "last_edit_date": 1497105577, "question_id": 44469009, "link": "https://stackoverflow.com/questions/44469009/getpreferences-not-working-in-fragment", "title": "Getpreferences not working in fragment", "body": "<p>Commands like <code>findViewById</code> ,  <code>getSharedPreferences</code> are not working inside <code>Fragment</code>\nI am using kotlin and my code is as follow</p>\n\n<pre><code>fun update (v:View){\nVal sharedpref = getSharedPreferences(\"logindata\",Context.MODE_PRIVATE)}\n</code></pre>\n\n<p>LOG</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.techno.app, PID: 25691\njava.lang.IllegalStateException: Could not find method update(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.support.v7.widget.AppCompatButton\nat android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:327)\nat android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:284)\nat android.view.View.performClick(View.java:5721)\nat android.widget.TextView.performClick(TextView.java:10936)\nat android.view.View$PerformClick.run(View.java:22620)\nat android.os.Handler.handleCallback(Handler.java:739)\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1497047340, "post_id": 44467345, "comment_id": 75931665, "body": "Well, taking variable from other activity is generally bad idea because other activity could be destroyed in the meantime. If you have variable that you want to share across activities then declare it in Application class and get them through (YourApplicationClass)getApplicationContext()."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497074384, "post_id": 44467345, "comment_id": 75936091, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\">How do I pass data between Activities in Android application?</a>"}, {"owner": {"reputation": 3, "user_id": 8139463, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IDAtdPYrUE4/AAAAAAAAAAI/AAAAAAAAAlc/C8lp-MeTkNo/photo.jpg?sz=128", "display_name": "Mohammad Salah", "link": "https://stackoverflow.com/users/8139463/mohammad-salah"}, "edited": false, "score": 0, "creation_date": 1497152733, "post_id": 44467345, "comment_id": 75955108, "body": "Thanks! it worked!"}], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 4780750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OPmoM.jpg?s=128&g=1", "display_name": "Nathan Reline", "link": "https://stackoverflow.com/users/4780750/nathan-reline"}, "is_accepted": true, "score": 3, "last_activity_date": 1497050167, "creation_date": 1497050167, "answer_id": 44467855, "question_id": 44467345, "link": "https://stackoverflow.com/questions/44467345/using-variable-from-another-file-kotlin/44467855#44467855", "title": "Using variable from another file Kotlin", "body": "<p>If the value of your variable doesn't change after you start your second activity, you can use extras to pass the value between them.</p>\n\n<pre><code>class FirstActivity : Activity() {\n\n    var myVariable: Boolean = false\n\n    fun gotoSecondActivity() {\n        val intent = Intent(this, SecondActivity::class.java)\n        intent.putExtra(\"MyVariable\", myVariable)\n        startActivity(intent)\n    }\n}\n\nclass SecondActivity: Activity() {\n    fun getMyVariable(): Boolean {\n        if (intent != null) {\n            if (intent.extras != null) {\n                return intent.extras.getBoolean(\"MyVariable\")\n            }\n        }\n        return false // default\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8139463, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IDAtdPYrUE4/AAAAAAAAAAI/AAAAAAAAAlc/C8lp-MeTkNo/photo.jpg?sz=128", "display_name": "Mohammad Salah", "link": "https://stackoverflow.com/users/8139463/mohammad-salah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2249, "favorite_count": 1, "accepted_answer_id": 44467855, "answer_count": 1, "score": -1, "last_activity_date": 1497050167, "creation_date": 1497046225, "question_id": 44467345, "link": "https://stackoverflow.com/questions/44467345/using-variable-from-another-file-kotlin", "title": "Using variable from another file Kotlin", "body": "<p>if I have 2 Activities and I want to add if condition from a variable on the another activity How can I do that?\nlike if i have the variable that contains 9 numbers in the first layout(first activity) and i want to set if condition in the another one using the x variable that is the question.\nI am using Android Studio with kotlin.</p>\n"}, {"tags": ["kotlin", "recursive-type"], "comments": [{"owner": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "edited": false, "score": 1, "creation_date": 1497045748, "post_id": 44466716, "comment_id": 75931255, "body": "<a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/type-aliases.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/proposals/type-aliases.md</a> Not according to this, at least not using a typealias"}, {"owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1497069578, "post_id": 44466716, "comment_id": 75935214, "body": "Is there a compelling reason that a Step function needs to know the next step?  Another approach would be to have a Step function that returns a Condition, combined with a graph of Step function references.  Each node in the graph contains the step function to be called and then a Map&lt;Condition, Step&gt; of what to call next depending on the Condition that is returned.  There would then be an executor that could traverse this graph."}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1497076169, "post_id": 44466716, "comment_id": 75936424, "body": "@roobyroo What is the benefit to the <code>Map&lt;Condition, Step&gt;</code> approach over the <code>StepWrapper</code> approach described in the question?"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "edited": false, "score": 0, "creation_date": 1497078060, "post_id": 44466716, "comment_id": 75936843, "body": "@Novaterata Yeah, I didn&#39;t expect that it would be possible with <code>typealias</code>, given that it explicitly points out recursive types as being a problem."}, {"owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1497290356, "post_id": 44466716, "comment_id": 76005071, "body": "@LaurenceGonsalves Here&#39;s a simplified example where each function has only one next step:      <code>data class Node(val step: () -&gt; Unit, val nextNode: Node?)      fun step1(): Unit {         println(&quot;step 1&quot;)     }      fun step2(): Unit {         println(&quot;step 2&quot;)     }      val node2 : Node = Node(::step2, null)     val node1 : Node = Node(::step1, node2)     var curNode: Node? = node1          while (curNode != null) {         curNode.step.invoke()         curNode = curNode.nextNode     }</code>  If a function can conditionally return more than one step then the Map is needed."}], "answers": [{"comments": [{"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1497077948, "post_id": 44467739, "comment_id": 75936813, "body": "Interesting! I didn&#39;t know that Kotlin would let you extend a function type with an interface. This at least solves the wrapper object problem, though it&#39;s too bad that a class is necessary to actually implement this interface."}], "tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": true, "score": 1, "last_activity_date": 1497049245, "creation_date": 1497049245, "answer_id": 44467739, "question_id": 44466716, "link": "https://stackoverflow.com/questions/44466716/is-it-possible-to-create-a-recursive-function-type-in-kotlin/44467739#44467739", "title": "Is it possible to create a recursive function type in Kotlin?", "body": "<p>You can define it by using some generic interface:</p>\n\n<pre><code>interface StepW&lt;out T&gt; : ()-&gt;T?\n\ninterface Step : StepW&lt;Step&gt;\n\n\nclass Step1 : Step {\n    override fun invoke(): Step? = Step2()\n}\n\nclass Step2 : Step {\n    override fun invoke(): Step? = null\n}\n</code></pre>\n\n<p>Where <code>Step</code> is your recursive function type.</p>\n"}, {"comments": [{"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1497284884, "post_id": 44475349, "comment_id": 76002183, "body": "This wouldn&#39;t work, as I need all steps to have the same type. Also, a given step does not always have the same following step, or same number of subsequent steps (depending on input), but this approach encodes the entire length of the process in the type."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 0, "last_activity_date": 1497110383, "creation_date": 1497110383, "answer_id": 44475349, "question_id": 44466716, "link": "https://stackoverflow.com/questions/44466716/is-it-possible-to-create-a-recursive-function-type-in-kotlin/44475349#44475349", "title": "Is it possible to create a recursive function type in Kotlin?", "body": "<p>Here's how you can make it work though I'm really not sure what you're trying to achieve with it:</p>\n\n<pre><code>typealias Fun&lt;T&gt; = () -&gt; T\ntypealias Step&lt;T&gt; = () -&gt; (T)\n\ntypealias Step1 = Step&lt;Fun&lt;Step2&gt;&gt;\ntypealias Step2 = Step&lt;Fun&lt;Step3&gt;&gt;\ntypealias Step3 = Step&lt;Unit&gt;\n\nfun step1(): Step1 {\n    return {\n        println(\"step 1\")\n        ::step2\n    }\n}\n\nfun step2(): Step2 {\n    return {\n        println(\"step 2\")\n        ::step3\n    }\n}\n\nfun step3(): Step3 {\n    return { println(\"done\") }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1497306712, "creation_date": 1497306712, "answer_id": 44509675, "question_id": 44466716, "link": "https://stackoverflow.com/questions/44466716/is-it-possible-to-create-a-recursive-function-type-in-kotlin/44509675#44509675", "title": "Is it possible to create a recursive function type in Kotlin?", "body": "<p>Use an <strong>Enum</strong> to implement the state pattern with finite states and prefer returning non-null values. An enum can inherit from a function.</p>\n\n<pre><code>enum class Step : () -&gt; Step {\n    Step1 {\n        override fun invoke() = Step2\n    },\n    Step2 {\n        override fun invoke() = End\n    },\n    End {\n        override fun invoke() = this\n    }\n}\n\nfun work() {\n    var step = Step.Step1\n    while (step !== Step.End) {\n        step = step()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 44467739, "answer_count": 3, "score": 6, "last_activity_date": 1497306712, "creation_date": 1497042519, "last_edit_date": 1497284728, "question_id": 44466716, "link": "https://stackoverflow.com/questions/44466716/is-it-possible-to-create-a-recursive-function-type-in-kotlin", "title": "Is it possible to create a recursive function type in Kotlin?", "body": "<p>I have functions that represent steps in a process. Each function also knows the next step, if there is one. I'd like to be able to do something like:</p>\n\n<pre><code>fun fooStep() : Step? {\n    ... do something ...\n    return ::barStep // the next step is barStep\n}\n</code></pre>\n\n<p>These functions are called from a central dispatching function, which contains code a bit like this:</p>\n\n<pre><code>var step = startStep\nwhile (step != null) {\n    step = step()\n}\n</code></pre>\n\n<p>Note that the logic in a particular step also determines the next step, if there even is one.</p>\n\n<p>I thought I could define <code>Step</code> as:</p>\n\n<pre><code>typealias Step = () -&gt; Step?\n</code></pre>\n\n<p>So a <code>Step</code> is a function that returns another <code>Step</code>, or null. However, this fails to compile with:</p>\n\n<pre><code>Kotlin: Recursive type alias in expansion: Step\n</code></pre>\n\n<p>I can work around this by wrapping the function in an object. eg:</p>\n\n<pre><code>data class StepWrapper(val step: () -&gt; StepWrapper?)\n</code></pre>\n\n<p>and changing my function signatures accordingly.</p>\n\n<p>Unfortunately, this means that I cannot just use function literals (eg: <code>::barStep</code>), but instead have to wrap them in a <code>StepWrapper</code>:</p>\n\n<pre><code>fun fooStep() : StepWrapper? {\n    ... do something ...\n    return StepWrapper(::barStep)\n}\n</code></pre>\n\n<p>(I also have to change my dispatch loop, accordingly.)</p>\n\n<p>I'd like to avoid the need to create these wrapper objects, if possible. Is there any way to do this in Kotlin?</p>\n"}, {"tags": ["java", "android", "kotlin", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 6492010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/vzwC1.png?s=128&g=1", "display_name": "MikeB", "link": "https://stackoverflow.com/users/6492010/mikeb"}, "edited": false, "score": 1, "creation_date": 1497035213, "post_id": 44464973, "comment_id": 75926927, "body": "So then there&#39;s no needs for secondary constructors with different number of arguments?"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 247, "user_id": 6492010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/vzwC1.png?s=128&g=1", "display_name": "MikeB", "link": "https://stackoverflow.com/users/6492010/mikeb"}, "edited": false, "score": 1, "creation_date": 1497035328, "post_id": 44464973, "comment_id": 75926976, "body": "No, you must pass required parameters(none of them in this case) and the rest is optional and will be initialized to default values. If you want to have custom value for only one two parameters you can specify them by name(as described in my answer)"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 3, "creation_date": 1497035464, "post_id": 44464973, "comment_id": 75927054, "body": "Note that if you want the different constructors accessible from Java code, you&#39;ll need to add the <code>@JvmOverloads</code> annotation to the constructor. <a href=\"https://stackoverflow.com/questions/35748906/jvmoverloads-annotation-for-class-primary-constructor\" title=\"jvmoverloads annotation for class primary constructor\">stackoverflow.com/questions/35748906/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": false, "score": 6, "last_activity_date": 1497174897, "last_edit_date": 1497174897, "creation_date": 1497034659, "answer_id": 44464973, "question_id": 44464916, "link": "https://stackoverflow.com/questions/44464916/how-to-transition-java-class-to-kotlin-data-class/44464973#44464973", "title": "How to transition Java class to Kotlin Data Class", "body": "<p>Kotlin introduces default values for parameters in constructor. You can use them to create data class with only one constructor using Kotlin.\nIt would look like this</p>\n\n<pre><code>data class Task(    \n    @SerializedName(\"_id\") var id: String? = null,\n    @SerializedName(\"text\") var taskTitle: String? = null,\n    @SerializedName(\"completed\") var isCompleted: Boolean? = null\n)\n</code></pre>\n\n<p>So you can use your data class with any number of arguments for example:</p>\n\n<pre><code>var task = Task(taskTitle = \"title\")\nvar task = Task(\"id\", \"title\", false)\nvar task = Task(id = \"id\", isCompleted = true)\n</code></pre>\n\n<p>You can even replace argument order</p>\n\n<pre><code>var task = Task(taskTitle = \"title\", isCompleted = false, id = \"id\")\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 6492010, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/vzwC1.png?s=128&g=1", "display_name": "MikeB", "link": "https://stackoverflow.com/users/6492010/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497174897, "creation_date": 1497034425, "last_edit_date": 1497034698, "question_id": 44464916, "link": "https://stackoverflow.com/questions/44464916/how-to-transition-java-class-to-kotlin-data-class", "title": "How to transition Java class to Kotlin Data Class", "body": "<p>I used Android studio's Kotlin plugin to convert my Java class to Kotlin. The thing is it's not Kotlin style still. I want to have Kotlin Data Class instead. But whenever I create it with a primary and secondary constructors it won't work. What would be the correct DATA Class implementation in my case?</p>\n\n<pre><code>class Task {\n\n    @SerializedName(\"_id\")\n    var id: String? = null\n    @SerializedName(\"text\")\n    var taskTitle: String? = null\n    @SerializedName(\"completed\")\n    var isCompleted: Boolean? = null\n\n    constructor(taskTitle: String) {\n        this.taskTitle = taskTitle\n    }\n\n    constructor(taskTitle: String, completed: Boolean?) {\n        this.taskTitle = taskTitle\n        this.isCompleted = completed\n    }\n\n    constructor(id: String, taskTitle: String, isCompleted: Boolean?) {\n        this.id = id\n        this.taskTitle = taskTitle\n        this.isCompleted = isCompleted\n    }\n\n}\n</code></pre>\n"}]