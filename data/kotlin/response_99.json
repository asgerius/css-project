[{"tags": ["intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6645977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f65234c4e37cc0e777d09f3de8d542?s=128&d=identicon&r=PG&f=1", "display_name": "Zocp", "link": "https://stackoverflow.com/users/6645977/zocp"}, "edited": false, "score": 0, "creation_date": 1480655059, "post_id": 40905823, "comment_id": 69061670, "body": "Thanks for the serialver suggestion. I&#39;ll file a issue soon."}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 2, "last_activity_date": 1480580982, "last_edit_date": 1592644375, "creation_date": 1480580982, "answer_id": 40905823, "question_id": 40899573, "link": "https://stackoverflow.com/questions/40899573/generate-serialversionuid-for-kotlin-classes-in-intellij/40905823#40905823", "title": "Generate SerialVersionUID for Kotlin classes in IntelliJ", "body": "<p>You are right. This inspection does not work for Kotlin classes. Maybe you could file an issue to Jetbrains so that they could fix it.</p>\n<p>For generation of SerialVersionUID you can use JDK's build-in command <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/serialver.html\" rel=\"nofollow noreferrer\">serialver</a>.</p>\n<blockquote>\n<p>E:\\workspace\\target\\classes&gt;serialver Address</p>\n<p>Address:    static final long serialVersionUID = -687991492884005033L;</p>\n</blockquote>\n<p>Other usage <a href=\"http://www.codejava.net/java-core/tools/using-serialver-command-examples\" rel=\"nofollow noreferrer\">examples</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 0, "last_activity_date": 1480584114, "creation_date": 1480584114, "answer_id": 40906726, "question_id": 40899573, "link": "https://stackoverflow.com/questions/40899573/generate-serialversionuid-for-kotlin-classes-in-intellij/40906726#40906726", "title": "Generate SerialVersionUID for Kotlin classes in IntelliJ", "body": "<p>I doesn't found such issue in Kotlin's youtrack, so please create it.</p>\n\n<p>If you use Idea, you can create Live Template for this purpose. </p>\n\n<p>Valid <code>serialVersionUID</code> should looks like:</p>\n\n<pre><code>class Test : Serializable {\n    companion object {\n        @JvmStatic private val serialVersionUID = 1\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9454607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxwRS.jpg?s=128&g=1", "display_name": "Scott Smith", "link": "https://stackoverflow.com/users/9454607/scott-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1576336814, "creation_date": 1576336814, "answer_id": 59336408, "question_id": 40899573, "link": "https://stackoverflow.com/questions/40899573/generate-serialversionuid-for-kotlin-classes-in-intellij/59336408#59336408", "title": "Generate SerialVersionUID for Kotlin classes in IntelliJ", "body": "<p>Now it can be generated with plugins!</p>\n\n<p>I just released a plugin, <a href=\"https://plugins.jetbrains.com/plugin/13497-generateserialversionuid\" rel=\"nofollow noreferrer\">click here</a> to download and install, or search <code>GenerateSerialVersionUID</code> in IDEA/Android Studio to find the installation whose author is <code>Ouyangfeng</code>. If you don't know how to use it, please click here: <a href=\"https://github.com/yuanhoujun/intellij-generate-serial-version-uid-plugin\" rel=\"nofollow noreferrer\">https://github.com/yuanhoujun/intellij-generate-serial-version-uid-plugin</a>.</p>\n\n<p>If you encounter any problems during use, please submit issues on Github, appreciate it</p>\n"}], "owner": {"reputation": 57, "user_id": 6645977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f65234c4e37cc0e777d09f3de8d542?s=128&d=identicon&r=PG&f=1", "display_name": "Zocp", "link": "https://stackoverflow.com/users/6645977/zocp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2025, "favorite_count": 0, "accepted_answer_id": 40905823, "answer_count": 3, "score": 2, "last_activity_date": 1576336814, "creation_date": 1480545594, "question_id": 40899573, "link": "https://stackoverflow.com/questions/40899573/generate-serialversionuid-for-kotlin-classes-in-intellij", "title": "Generate SerialVersionUID for Kotlin classes in IntelliJ", "body": "<p>On Intellij, how would you be able to generate a SerialVersionUID for classes that are written in Kotlin?</p>\n\n<p>I've enabled the inspection in Intellij that does this:</p>\n\n<blockquote>\n  <p>Reports any Serializable classes which do not provide a serialVersionUID field. Without a serialVersionUID field, any change to a class will make previously serialized versions unreadable. </p>\n</blockquote>\n\n<p>But this only works with Java classes</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 3, "last_activity_date": 1480600462, "last_edit_date": 1480600462, "creation_date": 1480585057, "answer_id": 40907036, "question_id": 40899138, "link": "https://stackoverflow.com/questions/40899138/tracking-thread-failures/40907036#40907036", "title": "Tracking thread failures", "body": "<p>You can use <code>CompletableFuture</code> for this purpose, example:</p>\n\n<pre><code>val future1: CompletableFuture&lt;String&gt; = CompletableFuture.supplyAsync {\n    println(\"This is your thread 1 code\")\n    \"&lt;html&gt;&lt;head&gt;&lt;title&gt;\"\n}\n\nval future2: CompletableFuture&lt;String&gt; = CompletableFuture.supplyAsync {\n    println(\"This is your thread 2 code\")\n    if (Random().nextBoolean()) throw RuntimeException(\"Failed\")\n    \"Title!&lt;/title&gt;&lt;/html&gt;&lt;/head&gt;\"\n}\n\nfuture1.thenCombine(future2, {result1, result2 -&gt; result1 + result2}).whenComplete { s, throwable -&gt;\n    if (throwable != null) {\n        println(\"failed\")\n    } else {\n        println(\"done with $s\")\n    }\n}\n</code></pre>\n\n<p>And in Kotlin 1.1 you will be able write this code in more readable way:</p>\n\n<pre><code>async {\n    try {\n        val s1 = await(future1)\n        val s2 = await(future2)\n        println(s1 + s2)\n    } catch (e: Exception) {\n        println(\"failed\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 40907036, "answer_count": 1, "score": 1, "last_activity_date": 1480600462, "creation_date": 1480543718, "last_edit_date": 1480583163, "question_id": 40899138, "link": "https://stackoverflow.com/questions/40899138/tracking-thread-failures", "title": "Tracking thread failures", "body": "<p>I have an HTML which is output (displaying the results of the threads) and displayed after all threads complete (I wait for completion using a join)</p>\n\n<p>Sometimes individual threads can have exceptions.</p>\n\n<ul>\n<li>If I don't have any exceptions in any threads, i want to display the HTML in my browser.</li>\n<li>If I do have an exception in all threads then I want to NOT display the HTML</li>\n<li>If I have an exception in some but not all threads then I want TO display the HTML</li>\n</ul>\n\n<p>What's the easiest way (least amount of code) to implement something that can track if a thread has failed or not?</p>\n"}, {"tags": ["kotlin", "type-inference"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1480583069, "post_id": 40898994, "comment_id": 69025340, "body": "Does you read <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a> ? In second case latest expression in map block (lambda) is return value. In first case you have so called &quot;non-local return&quot; <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1480597546, "post_id": 40898994, "comment_id": 69034991, "body": "I am unable to refactor your code without specifying all the types and functions. How about publishing a link to you code base?"}, {"owner": {"reputation": 12592, "user_id": 780694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da46d3d12af35a4f70339ac6aba7f9c8?s=128&d=identicon&r=PG", "display_name": "Saad Farooq", "link": "https://stackoverflow.com/users/780694/saad-farooq"}, "edited": false, "score": 0, "creation_date": 1480610497, "post_id": 40898994, "comment_id": 69043976, "body": "Unfortunately no, I can not share the code base. I&#39;ll try to write up the relevant code in a self-contained class when I have time."}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 2, "last_activity_date": 1480688762, "last_edit_date": 1480688762, "creation_date": 1480636912, "answer_id": 40922592, "question_id": 40898994, "link": "https://stackoverflow.com/questions/40898994/type-inference-with-functional-builders/40922592#40922592", "title": "Type inference with functional builders", "body": "<p><code>return</code> in the <code>map</code> lambda is a non-local return. It tries to return from the closest <code>fun</code> function, which happens to be <code>parseFileData</code>.</p>\n\n<p>Non-local returns are only allowed from inline functions, whose lambda parameters are inlined at the call site, and the <code>map</code> extension for <code>Sequence</code> is not an inline function.</p>\n\n<p>If you want to return a value from the lambda itself, use <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">qualified return</a> <code>return@map ...</code>, or omit it completely: then the last expression in the block will be returned as the result.</p>\n"}], "owner": {"reputation": 12592, "user_id": 780694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da46d3d12af35a4f70339ac6aba7f9c8?s=128&d=identicon&r=PG", "display_name": "Saad Farooq", "link": "https://stackoverflow.com/users/780694/saad-farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480688762, "creation_date": 1480543177, "question_id": 40898994, "link": "https://stackoverflow.com/questions/40898994/type-inference-with-functional-builders", "title": "Type inference with functional builders", "body": "<p>I'm using Kotlin <a href=\"http://levelmoney.github.io/kbuilders/\" rel=\"nofollow noreferrer\">KBuilders</a> with some protobuffs and have run into a situation that is confusing me.</p>\n\n<p>To start off, I have a function that takes a file name and list of serialized JSON and deserialized that JSON to a protobuff.</p>\n\n<pre><code>fun parseFileData(fileName: String, lines: List&lt;String&gt;): Data.Builder.() -&gt; Unit = when (fileName) {\n        SOME_FILE_NAME -&gt; deserializeLinesToModel(lines, DataModel::class.java)\n                .let {\n                    return {\n                        dataMeasurement = buildDataMeasurement {\n                            property1 = it.reduce { acc, n -&gt; acc + n }\n                            measurementMsec = it.map { it.measurementMsec }\n                        }\n                    }\n                }\n        else -&gt; throw UnsupportedOperationException()\n</code></pre>\n\n<p>The first thing I didn't understand was why I needed the return inside the let block. But it worked so I moved on.</p>\n\n<p>I later decided to refactor some stuff to make code elsewhere simpler and ended up with something like this:</p>\n\n<pre><code>fun parseFileData(fileName: String, factory: DataFactory): Sequence&lt;Data.Builder.() -&gt; Unit&gt; = when (fileName) {\n        SOME_FILE_NAME -&gt; factory.getSomeFileSequence() // returns Sequence&lt;Model&gt;\n                                .batch(1000) // process data in batches of 1000 to reduce memory footprint and payload size \n                                .map { return {\n                                            dataMeasurement = buildDataMeasurement {\n                                            property1 = it.reduce { acc, n -&gt; acc + n }\n                                            measurementMsec = it.map { it.measurementMsec }\n                                    }\n                                }\n        else -&gt; throw UnsupportedOperationException()\n</code></pre>\n\n<p>So basically, instead of processes each batch as a list, I read the sequence from the factory, batch it into a sequence of lists and try to map each list to a <code>Data.Builder.() -&gt; Unit</code>. However, this time I get <code>return is not allowed here</code>. I've tried multiple variations, with and without return and map and let and whatnot. The closest I've gotten to is a return type of Sequence&lt;() -> Unit> which fails type inference.</p>\n\n<p>Can anyone explain what's going on here? And why this type cannot be inferred?</p>\n"}, {"tags": ["android", "database", "realm", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1480521305, "post_id": 40891961, "comment_id": 68999242, "body": "Is this on a UI thread? Have you checked if closing the realm in onsuccess/onerror callback works?"}, {"owner": {"reputation": 175, "user_id": 5740851, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/028ca1819e0ba73cbf774215dd482e72?s=128&d=identicon&r=PG&f=1", "display_name": "MediaPortal", "link": "https://stackoverflow.com/users/5740851/mediaportal"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1480521714, "post_id": 40891961, "comment_id": 68999529, "body": "Its onCreate of Application class. I put Log.d to CallBacks(onSuccess, onError). But Logcat is clear."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1480523467, "post_id": 40891961, "comment_id": 69000761, "body": "Are you sure you added the custom application class to the AndroidManifest.xml"}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 5740851, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/028ca1819e0ba73cbf774215dd482e72?s=128&d=identicon&r=PG&f=1", "display_name": "MediaPortal", "link": "https://stackoverflow.com/users/5740851/mediaportal"}, "is_accepted": false, "score": -1, "last_activity_date": 1480524166, "creation_date": 1480524166, "answer_id": 40893686, "question_id": 40891961, "link": "https://stackoverflow.com/questions/40891961/realm-executetransactionasync-dont-write-data-to-db/40893686#40893686", "title": "Realm executeTransactionAsync dont write data to DB", "body": "<p>I had an error:</p>\n\n<pre><code>Realm objects can only be accessed on the thread they were created\n</code></pre>\n\n<p>I fix it with:</p>\n\n<pre><code>   Thread({\n        Realm.getDefaultInstance().use {\n                val skillsList = ArrayList&lt;Skill&gt;()\n                val inputSkills = assets.open(\"skills.json\")\n                val size = inputSkills.available()\n                val buffer = ByteArray(size)\n                inputSkills.read(buffer)\n                inputSkills.close()\n                val json: JSONObject = JSONObject(String(buffer))\n                val skillsArray = json.getJSONArray(\"skills\")\n                (0..skillsArray.length() - 1)\n                        .map { skillsArray.getJSONObject(it) }\n                        .forEach { skillsList.add(Skill(skillsList.size.toLong(), it.getString(\"title\"), it.getString(\"subtitle\"), it.getInt(\"rating\"))) }\n                it.beginTransaction()\n                it.copyToRealm(skillsList)\n                it.commitTransaction()\n            Log.d(\"REALM\",\"LOOOOG\")\n        }\n    }).start()\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 5740851, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/028ca1819e0ba73cbf774215dd482e72?s=128&d=identicon&r=PG&f=1", "display_name": "MediaPortal", "link": "https://stackoverflow.com/users/5740851/mediaportal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1480524166, "creation_date": 1480519169, "last_edit_date": 1480519720, "question_id": 40891961, "link": "https://stackoverflow.com/questions/40891961/realm-executetransactionasync-dont-write-data-to-db", "title": "Realm executeTransactionAsync dont write data to DB", "body": "<p>I use realm db in my project. I want to write some data from JSON in my assets folder to realm when app lauch first time. I use Kotlin. \nI init my realm: </p>\n\n<pre><code>  Realm.init(this)\n    val config = RealmConfiguration.Builder()\n            .rxFactory(RealmObservableFactory())\n            .build()\n    Realm.setDefaultConfiguration(config)\n</code></pre>\n\n<p>Than i want async-write <code>List&lt;Data&gt;</code> to my db:</p>\n\n<pre><code>val realm = Realm.getDefaultInstance()\nrealm.executeTransactionAsync {\n    realm.copyToRealm(skillsList)\n}\nrealm.close()\n</code></pre>\n\n<p>But my realm db is empty. After <code>realm.copyToRealm(skillsList)</code> I have empty table. What is wrong? I check table with Stetho, its realy empty. How i can fix it? </p>\n"}, {"tags": ["android", "click", "fragment", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 2, "creation_date": 1480500471, "post_id": 40885426, "comment_id": 68984920, "body": "<i>Kotlin in xml onClick not work</i> ... it would not work in Java, too ... <i>in a parent or ancestor Context</i> ... is Fragment a Context?"}, {"owner": {"reputation": 621, "user_id": 6708989, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ffc7213d4eb7b705a320008250b51dae?s=128&d=identicon&r=PG&f=1", "display_name": "g71132", "link": "https://stackoverflow.com/users/6708989/g71132"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1480500910, "post_id": 40885426, "comment_id": 68985235, "body": "i understood, tanks!"}, {"owner": {"reputation": 471, "user_id": 1905534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6f03644e3ffd2de983e7787268c16a9?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1905534/jacob"}, "edited": false, "score": 1, "creation_date": 1480902909, "post_id": 40885426, "comment_id": 69141617, "body": "<a href=\"http://stackoverflow.com/questions/14139774/android-app-crashing-fragment-and-xml-onclick\">http://stackoverflow.com/questions/14139774/android-app-cras&zwnj;&#8203;hing-fragment-and-xm&zwnj;&#8203;l-onclick</a> ref this link said."}], "answers": [{"comments": [{"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 1, "creation_date": 1520388984, "post_id": 44672596, "comment_id": 85291661, "body": "I still get this problem with the latest version of everything as of 3-6-18, but I don&#39;t see it in Android Studio -- I see it when building with ./gradlew on the command line.  I have the plugins, the import, the Manifest.xml tools:context line, all of it.  The weird thing is I still get an .apk in my output folder even though lint is telling me it failed.  There&#39;s some disconnect perhaps in the lint realm? Since lint doesn&#39;t really happen when building in Android Studio..."}], "tags": [], "owner": {"reputation": 382, "user_id": 2658551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzVok.jpg?s=128&g=1", "display_name": "Dian", "link": "https://stackoverflow.com/users/2658551/dian"}, "is_accepted": false, "score": 1, "last_activity_date": 1498038484, "creation_date": 1498038484, "answer_id": 44672596, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work/44672596#44672596", "title": "Kotlin in xml onClick not work", "body": "<p>Try to use Kotlin Extensions plugin, it should work.</p>\n\n<p>in build.gradle (app) add <code>apply plugin: 'kotlin-android-extensions'</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>then import it in MainActivity.kt</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1055, "user_id": 7345808, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNepDXQ6wXk/AAAAAAAAAAI/AAAAAAAAAAc/7uz4Hf8A_IA/photo.jpg?sz=128", "display_name": "Tarun konda", "link": "https://stackoverflow.com/users/7345808/tarun-konda"}, "is_accepted": false, "score": 1, "last_activity_date": 1498741698, "creation_date": 1498741698, "answer_id": 44826059, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work/44826059#44826059", "title": "Kotlin in xml onClick not work", "body": "<p>apply plugin: 'kotlin-android-extensions'\nmust use kotlin extenstion Then it will work</p>\n"}, {"comments": [{"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1520388970, "post_id": 44918060, "comment_id": 85291655, "body": "I still get this problem with the latest version of everything as of 3-6-18, but I don&#39;t see it in Android Studio -- I see it when building with ./gradlew on the command line.  I have the plugins, the import, the Manifest.xml tools:context line, all of it.  The weird thing is I still get an .apk in my output folder even though lint is telling me it failed.  There&#39;s some disconnect perhaps in the lint realm? Since lint doesn&#39;t really happen when building in Android Studio..."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1499234453, "creation_date": 1499234453, "answer_id": 44918060, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work/44918060#44918060", "title": "Kotlin in xml onClick not work", "body": "<p>In Gradle file add</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>then activity add</p>\n\n<pre><code>   import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5210985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mfAoz5fMEeE/AAAAAAAAAAI/AAAAAAAAAnI/4Ukm73UBr1o/photo.jpg?sz=128", "display_name": "Jonas Hansson", "link": "https://stackoverflow.com/users/5210985/jonas-hansson"}, "is_accepted": false, "score": 1, "last_activity_date": 1499243366, "creation_date": 1499243366, "answer_id": 44920861, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work/44920861#44920861", "title": "Kotlin in xml onClick not work", "body": "<p>As mentioned above it's a good idea to add the Kotlin extensions, additionally you could set an onClickListener on the <code>ImageView</code> directly in your code instead of declaring the method in your xml files: <code>onClick</code>: </p>\n\n<p><code>aries.setOnClickListener { doSomething() }</code></p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 2281448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DKv07.jpg?s=128&g=1", "display_name": "Vinu", "link": "https://stackoverflow.com/users/2281448/vinu"}, "is_accepted": false, "score": 0, "last_activity_date": 1538472476, "creation_date": 1538472476, "answer_id": 52605621, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work/52605621#52605621", "title": "Kotlin in xml onClick not work", "body": "<p>Based on the above answers and comments posting the full solution here so that it would be helpful for others. </p>\n\n<p>First remove <code>android:onClick</code> attribute from the xml code of ImageView.</p>\n\n<p>Then change the fragment code as below:</p>\n\n<pre><code>class ChooseYourHoroscope : Fragment(){\n  override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n      val view = inflater.inflate(R.layout.fragment_welcome_old, container, false)\n      val aries = view.findViewById&lt;ImageView&gt;(R.id.aries)\n      aries.setOnClickListener{\n          //Write ur action here\n      }\n\n      return view;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 6708989, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ffc7213d4eb7b705a320008250b51dae?s=128&d=identicon&r=PG&f=1", "display_name": "g71132", "link": "https://stackoverflow.com/users/6708989/g71132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9698, "favorite_count": 0, "answer_count": 5, "score": 5, "last_activity_date": 1538472476, "creation_date": 1480500359, "question_id": 40885426, "link": "https://stackoverflow.com/questions/40885426/kotlin-in-xml-onclick-not-work", "title": "Kotlin in xml onClick not work", "body": "<p>I learning kotlin, and now for me not cearly some moment. I have xml</p>\n\n<pre><code>&lt;ImageView\n                    android:id=\"@+id/aries\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:padding=\"10dp\"\n                    android:tag=\"1\"\n                    android:onClick=\"clickItemHoro\"\n                    android:src=\"@drawable/aries\" /&gt;\n</code></pre>\n\n<p>and fragment </p>\n\n<pre><code>class ChooseYourHoroscope : Fragment(){\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_welcome_old, container, false)\n\n        return view;\n    }\n\n    fun clickItemHoro(v: View?){\n        Log.e(\"clickItemHoro\", v!!.tag.toString())\n    }\n\n}\n</code></pre>\n\n<p>when i click button i have error:</p>\n\n<blockquote>\n  <p>Could not find method clickItemHoro(View) in a parent or ancestor\n  Context for android:onClick attribute defined on view class\n  android.support.v7.widget.AppCompatImageView with id 'aries'</p>\n</blockquote>\n\n<p>why it happen? Code vary simple, but it not work, i cant understand why</p>\n"}, {"tags": ["android", "android-manifest", "kotlin", "android-permissions"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1480437732, "post_id": 40871122, "comment_id": 68957885, "body": "&quot;when I go to the windows (programmatically with this code), I can&#39;t grant the access&quot; -- what does this mean? Does your app request the appropriate permission in the manifest?"}, {"owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1480438661, "post_id": 40871122, "comment_id": 68958509, "body": "Thanks, I went to check the manifest and found that I forgot the permission..."}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 1, "creation_date": 1480662658, "post_id": 40871122, "comment_id": 69064674, "body": "You can add an answer to your question and mark it. It would be more usuful than reading whole post."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1480662667, "post_id": 40871122, "comment_id": 69064678, "body": "You should answer the question below, not update the question with your solution."}], "owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 822, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1480662703, "creation_date": 1480437593, "last_edit_date": 1480662703, "question_id": 40871122, "link": "https://stackoverflow.com/questions/40871122/cant-allow-my-app-to-use-draw-over-other-apps-permission", "title": "Can&#39;t allow my app to use draw over other apps permission", "body": "<p>I forgot to add the permission in the manifest.</p>\n\n<p>Solved</p>\n\n<hr>\n\n<p><strong>Original Question</strong></p>\n\n<p>I'm developing a little app which allows UX testers to get informations from user's input in android.</p>\n\n<p>For this, I need to create a transparent view in top of all others.\nI try to get the permission this way : </p>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n\n\n    val REQUEST_CODE = 10101\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if (checkDrawOverlayPermission()) {\n            //startService(Intent(this, TrackService::class.java))\n        }\n    }\n\n    fun checkDrawOverlayPermission(): Boolean {\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.M) {\n            return true\n        }\n        if (!Settings.canDrawOverlays(this)) {\n            val intent = Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n                    Uri.parse(\"package:\" + packageName))\n            startActivityForResult(intent, REQUEST_CODE)\n            return false\n        } else {\n            return true\n        }\n    }\n\n    @TargetApi(Build.VERSION_CODES.M)\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n        if (requestCode == REQUEST_CODE) {\n            if (Settings.canDrawOverlays(this)) {\n                //startService(Intent(this, TrackService::class.java))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But, when I go to the windows (programmatically with this code), I can't grant the access.</p>\n\n<p>Do someone got this problem, or as a fix?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1480426804, "post_id": 40862568, "comment_id": 68949997, "body": "Your code&#39;s formatting is off. Please fix"}, {"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1480426939, "post_id": 40862568, "comment_id": 68950080, "body": "Check <a href=\"http://stackoverflow.com/a/19414593/2392960\">stackoverflow.com/a/19414593/2392960</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1480427114, "creation_date": 1480427114, "answer_id": 40867480, "question_id": 40862568, "link": "https://stackoverflow.com/questions/40862568/how-to-get-checked-ids-at-listview-via-kotlin/40867480#40867480", "title": "How to get checked ids at ListView via Kotlin?", "body": "<blockquote>\n  <p>i understand, Kotlin can not iterate over <code>SparseBooleanArray</code></p>\n</blockquote>\n\n<p>Kotlin's <code>for</code> can iterate through anything, if it provides <code>iterator()</code>, be it a method or an extension function. Here are the <a href=\"http://kotlinlang.org/docs/reference/control-flow.html#for-loops\" rel=\"nofollow noreferrer\">details</a>.</p>\n\n<p>You can implement <code>SparseBooleanArray#iterator</code> as an extension function and have you code working.</p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1480451571, "post_id": 40868018, "comment_id": 68965580, "body": "you forgot the <code>size - 1</code>"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 3, "last_activity_date": 1490623661, "last_edit_date": 1490623661, "creation_date": 1480428764, "answer_id": 40868018, "question_id": 40862568, "link": "https://stackoverflow.com/questions/40862568/how-to-get-checked-ids-at-listview-via-kotlin/40868018#40868018", "title": "How to get checked ids at ListView via Kotlin?", "body": "<p>You can iterate over the array by its index with:</p>\n\n<pre><code>for (i in 0..a.size()-1) {\n    //access to a[i]\n}\n</code></pre>\n\n<p>See also <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">ranges</a> and <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#for-loops\" rel=\"nofollow noreferrer\">for loop</a></p>\n\n<p><strong>Edited 27th March 2017:</strong></p>\n\n<p>You can use also <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#for-loops\" rel=\"nofollow noreferrer\">Collection&lt;*>.indices</a> that is the equivalent</p>\n\n<pre><code>for (i in a.indices) {\n    //access to a[i]\n}\n</code></pre>\n"}], "owner": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1490623661, "creation_date": 1480412836, "last_edit_date": 1495541417, "question_id": 40862568, "link": "https://stackoverflow.com/questions/40862568/how-to-get-checked-ids-at-listview-via-kotlin", "title": "How to get checked ids at ListView via Kotlin?", "body": "<p>I try to get checked items from my ListView:</p>\n\n<pre><code> val lvPlayers = findViewById(R.id.ListViewAllPlayers) as ListView;\n    lvPlayers.choiceMode = ListView.CHOICE_MODE_MULTIPLE;\n    lvPlayers.adapter = adapter\n\n    lvPlayers.setOnItemClickListener { \n            adapterView: AdapterView&lt;*&gt;, view1: View, i: Int, l: Long -&gt;\n        Toast.makeText(applicationContext,lvPlayers.checkedItemCount.toString(),\n                Toast.LENGTH_SHORT).show();\n        var checked = lvPlayers.checkedItemIds;\n        SharedData.SelectedPlayers.clear();\n        for (ch in checked) {\n            SharedData.SelectedPlayers.add(players.get(ch.toInt()));\n        }\n    }\n</code></pre>\n\n<p>But it does not work for me.<br>\nI tried to use the code from <a href=\"https://stackoverflow.com/questions/8726272/get-checked-items-from-listview-in-android\">this question</a>, but as I understand, Kotlin can not iterate over <code>SparseBooleanArray</code>.</p>\n\n<p>So, can you help me to get checked ids of ListView?<br>\nShould I somehow create an extension method to iterate over <code>SparseBooleanArray</code>?\nOr, maybe some other way?</p>\n"}, {"tags": ["java", "kotlin", "tostring"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1480412036, "post_id": 40862207, "comment_id": 68940052, "body": "Lombok might still work, no?"}, {"owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1480412406, "post_id": 40862207, "comment_id": 68940301, "body": "Lombok annotations don&#39;t work, explanation: <a href=\"http://stackoverflow.com/questions/35517325/kotlin-doesnt-see-java-lombok-accessors\" title=\"kotlin doesnt see java lombok accessors\">stackoverflow.com/questions/35517325/&hellip;</a>"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1480426215, "post_id": 40862207, "comment_id": 68949576, "body": "I recommend challenging the need for a <code>lateinint var</code> and a &quot;data&quot; <code>toString()</code> in the same class. Without understanding more of how <code>ConfirmRequest</code> is used it is hard to make a recommendation but <code>data class ConfirmRequest(var playerId: String? = null)</code> seems to work fine to me. If you knew it was never going to be used while <code>playerId == null</code> then you could make the data member private and expose a public non-null property for convenience."}, {"owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "edited": false, "score": 0, "creation_date": 1480431451, "post_id": 40862207, "comment_id": 68953429, "body": "This class is deserialized from JSON and requires having empty consrtuctor"}, {"owner": {"reputation": 1629, "user_id": 700848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f335ffa8a58df3a2ab208b04002fba?s=128&d=identicon&r=PG&f=1", "display_name": "M Platvoet", "link": "https://stackoverflow.com/users/700848/m-platvoet"}, "edited": false, "score": 0, "creation_date": 1483870340, "post_id": 40862207, "comment_id": 70268360, "body": "Depending on the Json library used you actually don&#39;t always need a default constructor, Jackson for instance doesn&#39;t require it."}, {"owner": {"reputation": 2205, "user_id": 3290623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/92ac216026ab4480156041a4fb68bff6?s=128&d=identicon&r=PG", "display_name": "Martin Mlostek", "link": "https://stackoverflow.com/users/3290623/martin-mlostek"}, "edited": false, "score": 0, "creation_date": 1510255576, "post_id": 40862207, "comment_id": 81369126, "body": "did you find a satisfying solution for automatic toStrings?"}], "answers": [{"comments": [{"owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "edited": false, "score": 0, "creation_date": 1480580888, "post_id": 40862313, "comment_id": 69024149, "body": "Ok, will have to generate it with IDE"}, {"owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "edited": false, "score": 3, "creation_date": 1481560466, "post_id": 40862313, "comment_id": 69414791, "body": "Finally decided to use <code>jackson-module-kotlin</code> which allows to use argument constructors, so data classes now suit my needs:  <code>data class ConfirmRequest(var playerId: String)</code>"}, {"owner": {"reputation": 1850, "user_id": 42418, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/194c1de09ca48f9ceaf2306eb5cbbe04?s=128&d=identicon&r=PG", "display_name": "Alexander Vasiljev", "link": "https://stackoverflow.com/users/42418/alexander-vasiljev"}, "reply_to_user": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "edited": false, "score": 0, "creation_date": 1544592648, "post_id": 40862313, "comment_id": 94326124, "body": "@awfun, does <code>jackson-module-kotlin</code> support <code>data class ConfirmRequest(val playerId: String)</code>?"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 15, "last_activity_date": 1480412200, "creation_date": 1480412200, "answer_id": 40862313, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/40862313#40862313", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>The recommended way is to write <code>toString</code> manually (or generate by IDE) and hope that you don't have too many of such classes.</p>\n\n<p>The purpose of <code>data class</code> is to accommodate the most common cases of 85%, which leaves 15% to other solutions.</p>\n"}, {"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1505193330, "post_id": 41529857, "comment_id": 79298734, "body": "great tip on that lombok for java, wish I&#39;d know earlier :("}, {"owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "edited": false, "score": 0, "creation_date": 1576632757, "post_id": 41529857, "comment_id": 104960393, "body": "Yeah at the time I was focused on performance. Looking back i&#39;d probably add it for convenience."}], "tags": [], "owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "is_accepted": false, "score": 11, "last_activity_date": 1596135880, "last_edit_date": 1596135880, "creation_date": 1483854133, "answer_id": 41529857, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/41529857#41529857", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>Like you, I was used to using lombok for <code>toString()</code> and <code>equals()</code> in Java, so was a bit disappointed that non-data classes in Kotlin required all of the standard boilerplate.</p>\n<p>So I created <a href=\"https://github.com/consoleau/kassava\" rel=\"nofollow noreferrer\">Kassava</a>, an open source library that lets you implement <code>toString()</code> and <code>equals()</code> without any boilerplate - just supply the list of properties and you're done!</p>\n<p>e.g.</p>\n<pre><code>// 1. Import extension functions\nimport au.com.console.kassava.kotlinEquals\nimport au.com.console.kassava.kotlinToString\n\nimport java.util.Objects\n\nclass Employee(val name: String, val age: Int? = null) {\n\n    // 2. Optionally define your properties for equals()/toString() in a  companion\n    //    object (Kotlin will generate less KProperty classes, and you won't have\n    //    array creation for every method call)\n    companion object {\n        private val properties = arrayOf(Employee::name, Employee::age)\n    }\n\n    // 3. Implement equals() by supplying the list of properties to be included\n    override fun equals(other: Any?) = kotlinEquals(\n        other = other, \n        properties = properties\n    )\n\n    // 4. Implement toString() by supplying the list of properties to be included\n    override fun toString() = kotlinToString(properties = properties)\n\n    // 5. Implement hashCode() because you're awesome and know what you're doing ;)\n    override fun hashCode() = Objects.hash(name, age)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 2581592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAtJS.jpg?s=128&g=1", "display_name": "Jaroslav", "link": "https://stackoverflow.com/users/2581592/jaroslav"}, "edited": false, "score": 0, "creation_date": 1532977535, "post_id": 44653046, "comment_id": 90167488, "body": "plain solution, but gut enough when one cannot use a data class"}, {"owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "edited": false, "score": 0, "creation_date": 1542627806, "post_id": 44653046, "comment_id": 93623540, "body": "Works fine except for <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> -- you will get your string representation as <code>Bean=[property1$delegate={}, property2$delegate={}, property3$delegate={}]</code>."}], "tags": [], "owner": {"reputation": 101, "user_id": 8188526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93a4c00a16404fc7b2751f82823dc56?s=128&d=identicon&r=PG&f=1", "display_name": "junique", "link": "https://stackoverflow.com/users/8188526/junique"}, "is_accepted": false, "score": 10, "last_activity_date": 1497961545, "creation_date": 1497961545, "answer_id": 44653046, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/44653046#44653046", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>I find Apache Commons Lang's <code>ToStringBuilder</code> with reflection useful, but it calls <code>hashCode()</code> and other methods when I don't need that (and one called <code>hashCode()</code> from a 3rd-party lib generates an NPE).</p>\n\n<p>So I just go with:</p>\n\n<pre><code>// class myClass\n    override fun toString() = MiscUtils.reflectionToString(this)\n\n// class MiscUTils\nfun reflectionToString(obj: Any): String {\n    val s = LinkedList&lt;String&gt;()\n    var clazz: Class&lt;in Any&gt;? = obj.javaClass\n    while (clazz != null) {\n        for (prop in clazz.declaredFields.filterNot { Modifier.isStatic(it.modifiers) }) {\n            prop.isAccessible = true\n            s += \"${prop.name}=\" + prop.get(obj)?.toString()?.trim()\n        }\n        clazz = clazz.superclass\n    }\n    return \"${obj.javaClass.simpleName}=[${s.joinToString(\", \")}]\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "is_accepted": false, "score": 1, "last_activity_date": 1507498852, "creation_date": 1507498852, "answer_id": 46636340, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/46636340#46636340", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>You can define a data class that contains the data that you want to use and implement methods by delegating to that.</p>\n\n<p><a href=\"https://stackoverflow.com/a/46247234/97777\">https://stackoverflow.com/a/46247234/97777</a></p>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 333274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e5cfbdb8b08d3a1a5a022bb14a03ed?s=128&d=identicon&r=PG", "display_name": "vukis", "link": "https://stackoverflow.com/users/333274/vukis"}, "is_accepted": false, "score": 0, "last_activity_date": 1568194293, "last_edit_date": 1568194293, "creation_date": 1568192133, "answer_id": 57885532, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/57885532#57885532", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>What about using Kotlin reflection? I am into Kotlin for a few days, so apologies, if I misunderstood question, or wrote \"Kotlin inefficient\" example.</p>\n\n\n\n<pre><code>override fun toString() : String{\n    var ret : String = \"\"\n    for (memberProperty in this.javaClass.kotlin.memberProperties){\n        ret += (\"Property:${memberProperty.name} value:${memberProperty.get(this).toString()}\\n\");\n    }\n    return ret\n}\n</code></pre>\n\n<p>This can also could be implemented in newly created interface for example ToString2Interface as fun toString2. Then all classes which implements ToString2Interface would have toString2()</p>\n"}, {"comments": [{"owner": {"reputation": 977, "user_id": 301230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b67522e8a391edf2b5d65433d5dde?s=128&d=identicon&r=PG", "display_name": "traneHead", "link": "https://stackoverflow.com/users/301230/tranehead"}, "edited": false, "score": 0, "creation_date": 1586532791, "post_id": 59914470, "comment_id": 108168812, "body": "However cool this is, using reflection is discouraged. As stated in the Kotlin Documentation: &quot;This is called reflection, and it&#39;s not very performant, so avoid it unless you really need it&quot; (<a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/member-references-and-reflection.html#obtaining-member-references-from-a-class-reference\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/kotlin-for-py/&hellip;</a>)"}, {"owner": {"reputation": 179, "user_id": 11348708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ce59c4536216cb91c19f02579346ce?s=128&d=identicon&r=PG&f=1", "display_name": "realfire", "link": "https://stackoverflow.com/users/11348708/realfire"}, "reply_to_user": {"reputation": 977, "user_id": 301230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7b67522e8a391edf2b5d65433d5dde?s=128&d=identicon&r=PG", "display_name": "traneHead", "link": "https://stackoverflow.com/users/301230/tranehead"}, "edited": false, "score": 0, "creation_date": 1586554526, "post_id": 59914470, "comment_id": 108178626, "body": "@traneHead agree in general about reflection being slow. If that is not a constraint for your usecase, then this approach is quick way to add toString."}], "tags": [], "owner": {"reputation": 179, "user_id": 11348708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ce59c4536216cb91c19f02579346ce?s=128&d=identicon&r=PG&f=1", "display_name": "realfire", "link": "https://stackoverflow.com/users/11348708/realfire"}, "is_accepted": false, "score": 1, "last_activity_date": 1579997088, "creation_date": 1579997088, "answer_id": 59914470, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class/59914470#59914470", "title": "Kotlin - generate toString() for a non-data class", "body": "<p>This is what I endup doing.</p>\n\n<p>Create extension function on <code>Any</code> class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>fun Any.toStringByReflection(exclude: List&lt;String&gt; = listOf(), mask: List&lt;String&gt; = listOf()): String {\n    val propsString = this::class.memberProperties\n            .filter { exclude.isEmpty() || !exclude.contains(it.name) }\n            .joinToString(\", \") {\n                val value = if (!mask.isEmpty() &amp;&amp; mask.contains(it.name)) \"****\" else it.getter.call(this).toString()\n                \"${it.name}=${value}\"\n            };\n\n    return \"${this::class.simpleName} [${propsString}]\"\n}\n</code></pre>\n\n<p>Then you can call this method from individual type.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>override fun toString(): String {\n    return this.toStringByReflection()\n}\n</code></pre>\n\n<p>It generates string below</p>\n\n<pre><code>Table [colums=[], name=pg_aggregate_fnoid_index, schema=pg_catalog, type=SYSTEM INDEX]\n</code></pre>\n\n<p>With name field masked:</p>\n\n<pre><code>override fun toString(): String {\n    return this.toStringByReflection(mask= listOf(\"name\"))\n}\n</code></pre>\n\n<p>It generates,</p>\n\n<pre><code>Table [colums=[], name=****, schema=pg_catalog, type=SYSTEM INDEX]\n</code></pre>\n"}], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16579, "favorite_count": 2, "accepted_answer_id": 40862313, "answer_count": 6, "score": 36, "last_activity_date": 1596135880, "creation_date": 1480411872, "last_edit_date": 1542334715, "question_id": 40862207, "link": "https://stackoverflow.com/questions/40862207/kotlin-generate-tostring-for-a-non-data-class", "title": "Kotlin - generate toString() for a non-data class", "body": "<p><strong>Situation:</strong></p>\n\n<p>I have a class with <code>lateinit</code> fields, so they are not present in the constructor:</p>\n\n<pre><code>class ConfirmRequest() {\n    lateinit var playerId: String\n}\n</code></pre>\n\n<p>I'd like to have a <code>toString()</code> method with all fields and don't want to write it manually, to avoid boiler print. In Java I'd use the <em>Lombok</em> <code>@ToString</code> annotation for this problem. </p>\n\n<p><strong>Question:</strong></p>\n\n<p>Is there any way to implement it in Kotlin?</p>\n"}, {"tags": ["java", "eclipse", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 2, "creation_date": 1480401315, "post_id": 40859189, "comment_id": 68934253, "body": "How about <code>test.java.MyMainClassKt</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 1452, "user_id": 2631829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/017OJ.jpg?s=128&g=1", "display_name": "Xiao", "link": "https://stackoverflow.com/users/2631829/xiao"}, "is_accepted": false, "score": -1, "last_activity_date": 1480406510, "creation_date": 1480406510, "answer_id": 40860602, "question_id": 40859189, "link": "https://stackoverflow.com/questions/40859189/how-to-provide-kotlin-class-for-eclipse-run-configurations/40860602#40860602", "title": "How to provide kotlin class for eclipse run configurations?", "body": "<p>As @miensol says in a comment, kotlinc adds a 'Kt' suffix to the class name so you would need to use</p>\n\n<p><code>run test.java.MyMainClassKt</code></p>\n"}], "owner": {"reputation": 1121, "user_id": 4447655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2b5e530f93b89775e81f3b66207eba79?s=128&d=identicon&r=PG&f=1", "display_name": "user4447655", "link": "https://stackoverflow.com/users/4447655/user4447655"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480406510, "creation_date": 1480401120, "question_id": 40859189, "link": "https://stackoverflow.com/questions/40859189/how-to-provide-kotlin-class-for-eclipse-run-configurations", "title": "How to provide kotlin class for eclipse run configurations?", "body": "<p>I am trying to create a Run configuration for a kotlin class. I've got the same configuration in Java, and now try to adopt it to kotlin. I need to provide program arguments as \"run this.package.this.class.name other.options\", for example, \"run test.java.MyMainClass blahblahblah\" but now my main class has got an extension .kt, I tried both \"run test.java.MyMainClass.kt\" and \"run test.java.MyMainClass.KClass\" but compiler still says \"ClassNotFoundException\". </p>\n"}, {"tags": ["properties", "kotlin", "getter-setter"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1480691482, "post_id": 40856092, "comment_id": 69081847, "body": "Please consider <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accepting the answer</a> if it fully covers your question or solves the problem and if it helped you. This will let the others see that you approve the solution or explanation, and the question won&#39;t be in the unanswered state anymore."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 13, "last_activity_date": 1480501181, "last_edit_date": 1495542269, "creation_date": 1480382912, "answer_id": 40856343, "question_id": 40856092, "link": "https://stackoverflow.com/questions/40856092/when-creating-an-interface-in-kotlin-does-it-matter-if-properties-have-get-set/40856343#40856343", "title": "When creating an interface in Kotlin, does it matter if properties have get/set?", "body": "<p>The property declarations in your example are identical, <code>get</code> and <code>set</code> can be safely removed from there, because, as you correctly noted, the accessors are generated anyway. The syntax with <code>get</code> and <code>set</code> can, however, be used to provide an accessor implementation or to restrict its visibility.</p>\n\n<ul>\n<li><p>Providing implementation:</p>\n\n<pre><code>interface ExampleInterface {\n    var b: String\n        get() = \"\"\n        set(value) { }\n}\n</code></pre>\n\n<p>This example shows a default implementation of a property declared in an interface. This property can still be overriden inside the interface implementations.</p>\n\n<pre><code>class Example {\n    var b: String = \"\"\n        get() = \"$field$field\"\n}\n</code></pre>\n\n<p>Here, <code>get() = ...</code> overrides the default getter behavior of a property with a backing field, whereas <code>set</code> is not mentioned, thus it behaves normally.</p></li>\n<li><p>Visibility restriction:</p>\n\n<pre><code>class Example {\n     var s: String = \"s\"\n         private set\n}\n</code></pre>\n\n<p>In this example, the setter visibility is <code>private</code>. The visibility of <code>get</code> is always the same to the visibility of the property, so there's no need to specify it separately. Interfaces cannot declare <code>private</code> members.</p>\n\n<pre><code>abstract class Example { \n    abstract var b: String\n        protected set // Restrict visibility\n}\n</code></pre>\n\n<p>The setter of this property is restricted to this class and its subclasses. Interfaces cannot declare <code>protected</code> members.</p></li>\n</ul>\n\n<p>Of course, an accessor implementation can be combined with visibility restriction:</p>\n\n<pre><code>class Example {\n    var s: String = \"abc\"\n        private set(value) { if (value.isNotEmpty()) field = value }\n}\n</code></pre>\n\n<p>See also: </p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">The Kotlin reference article about properties</a></li>\n<li><a href=\"https://stackoverflow.com/a/37906808/2196460\">Properties visibility explanation in another answer</a></li>\n</ul>\n"}], "owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3608, "favorite_count": 0, "accepted_answer_id": 40856343, "answer_count": 1, "score": 10, "last_activity_date": 1480501181, "creation_date": 1480380843, "question_id": 40856092, "link": "https://stackoverflow.com/questions/40856092/when-creating-an-interface-in-kotlin-does-it-matter-if-properties-have-get-set", "title": "When creating an interface in Kotlin, does it matter if properties have get/set?", "body": "<p>In a Kotlin interface, does it matter if properties are declared with empty get/set statements?</p>\n\n<p>For instance...</p>\n\n<pre><code>interface ExampleInterface {\n    // These...\n    val a: String\n        get\n    var b: String\n        get\n        set\n\n    // ...compared to these...\n    val c: String\n    var d: String\n}\n</code></pre>\n\n<p>I'm having a hard time noticing a difference.</p>\n\n<p>When implementing the interface, it doesn't seem to matter if I use getters/setters for the properties, or if I set the value directly.</p>\n\n<p>When accessing these through java, the <code>val</code>'s both have getters, and the <code>var</code>'s both have getters and setters.</p>\n\n<pre><code>public void javaMethod(ExampleInterface e) {\n    e.getA();\n\n    e.getB();\n    e.setB();\n\n    e.getC();\n\n    e.getD();\n    e.setD();\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 1, "creation_date": 1480337669, "post_id": 40842287, "comment_id": 68906424, "body": "Why not to extend <code>_FrameLayout</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "is_accepted": false, "score": 0, "last_activity_date": 1535715990, "creation_date": 1535715990, "answer_id": 52114814, "question_id": 40842287, "link": "https://stackoverflow.com/questions/40842287/kotlin-anko-custom-view-parent-scope/52114814#52114814", "title": "Kotlin Anko Custom View Parent scope", "body": "<p>An old question, but since it is common ... \nApplying the answer from <a href=\"http://anko%20github%20issues\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/issues/267</a></p>\n\n<p>I think you might want something like this:</p>\n\n<pre><code>class FrameLayoutNormal: AnkoComponent&lt;Context&gt; {\n    override fun createView(ui: AnkoContext&lt;Context&gt;): View {\n        return with(ui) {\n            frameLayout {\n                textView(\"Hello\") {\n                }.lparams()\n            }\n        }\n    }\n}\n\ninline fun ViewManager.frameLayoutNormal(theme: Int = 0) = frameLayoutNormal(theme) {}\ninline fun ViewManager.frameLayoutNormal(theme: Int = 0, init: View.(frameLayoutNormal: FrameLayoutNormal) -&gt; Unit): View {\n    val fln = FrameLayoutNormal()\n    return ankoView({ fln.createView(AnkoContext.create(it))}, theme, {init(fln)})\n}\n</code></pre>\n\n<p>This allows the component to be used in the ANKO DSL. One downside to this approach is that the custom component is a View, not a ViewGroup, and thus can not have additional children added outside of its definition. It is challenging/laborious to make a custom component which is a ViewGroup that can be used in ANKO DSL (if I understand correctly). </p>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 599, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535715990, "creation_date": 1480329706, "last_edit_date": 1480342298, "question_id": 40842287, "link": "https://stackoverflow.com/questions/40842287/kotlin-anko-custom-view-parent-scope", "title": "Kotlin Anko Custom View Parent scope", "body": "<p>If we are building a custom View, for example, something like this:</p>\n\n<pre><code>class FrameLayoutNormal: FrameLayout{\nconstructor(context: Context) : this(context, null)\n    constructor(context: Context, attrs: AttributeSet?) : this(context, attrs, 0)\n    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\n\n    textView{\n         lparams(...)\n    }\n}\n</code></pre>\n\n<p>we can't define lparams, because the compiler doesn't know who the parent is. If we wrap the textView inside a FrameLayout it works, and you scan specify a layout parameter. But in a custom view, the parent is itself. So how can we make the children be aware of that so we can use the extension?</p>\n\n<p>Is there any way to get it working, besides extending from: <code>_FrameLayout</code> ?`</p>\n"}, {"tags": ["kotlin", "control-flow"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1480320228, "post_id": 40839544, "comment_id": 68896174, "body": "Yes, it&#39;s possible, unless the if or when is used as an expression. As in <code>val foo = if (someCondition) &quot;bar&quot; else &quot;baz&quot;</code>."}, {"owner": {"reputation": 10230, "user_id": 2427222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4h1qN.png?s=128&g=1", "display_name": "ymonad", "link": "https://stackoverflow.com/users/2427222/ymonad"}, "edited": false, "score": 0, "creation_date": 1480320348, "post_id": 40839544, "comment_id": 68896224, "body": "in the document, it has &quot;<i>If you&#39;re using if as an expression rather than a statement (for example, returning its value or assigning it to a variable), the expression is required to have an else branch.</i>&quot; <a href=\"http://kotlinlang.org/docs/reference/control-flow.html#if-expression\" rel=\"nofollow noreferrer\">doc</a>, so it seems that when you are using <code>if</code> as statement, it won&#39;t require <code>else</code>."}, {"owner": {"reputation": 10230, "user_id": 2427222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4h1qN.png?s=128&g=1", "display_name": "ymonad", "link": "https://stackoverflow.com/users/2427222/ymonad"}, "edited": false, "score": 0, "creation_date": 1480320597, "post_id": 40839544, "comment_id": 68896338, "body": "so maybe &quot;<i>In Kotlin, if is an expression</i>&quot; is wrong, and &quot;<i>In Kotlin, if can be used both as expression and statement</i>&quot; is correct."}, {"owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1480322162, "post_id": 40839544, "comment_id": 68897095, "body": "@JBNizet and ymonad, thanks you all guys, you are right. But I still have some confuse with this issue, so I add my source code to the question, which make me confuse and lead me have to ask this question."}], "answers": [{"tags": [], "owner": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "is_accepted": false, "score": 1, "last_activity_date": 1480323549, "creation_date": 1480323549, "answer_id": 40840411, "question_id": 40839544, "link": "https://stackoverflow.com/questions/40839544/we-have-to-cover-all-branches-with-all-control-flow-expressions-in-kotlin/40840411#40840411", "title": "We have to cover all branches with all Control-Flow expressions in Kotlin?", "body": "<blockquote>\n  <p>So it seems that there is no way to make a Control-Flow expression\n  without covering all branches, Is it right?</p>\n</blockquote>\n\n<p>Yes</p>\n\n<p>In the second case</p>\n\n<pre><code>mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\ncontext!!.unregisterReceiver(this)\n</code></pre>\n\n<p>Is not an expression anymore, the whole <code>if</code> block is a statement. \nHowever, you can also provide <code>else</code> with <code>Unit</code> in a first case if you really need an expression:</p>\n\n<pre><code>if (it.action == MySDK.BROADCAST_ACTION_LOGIN) {\n    mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\n} else if (it.action == MySDK.BROADCAST_ACTION_LOGOUT) {\n    // Occur 'if must have both main and 'else' branches if used as an expression'\n    mListener.get()?.loggedOut(LoggedOutUserInfo())\n} else Unit\n</code></pre>\n\n<p>But it would be better to avoid this code because it is less readable.</p>\n"}, {"comments": [{"owner": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "edited": false, "score": 1, "creation_date": 1480324336, "post_id": 40840460, "comment_id": 68898364, "body": "I would personally avoid <code>?: return</code> because it is much harder to distinguish control flow visually. I had a couple of &quot;happy debugging&quot; hours with it."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "edited": false, "score": 0, "creation_date": 1480325463, "post_id": 40840460, "comment_id": 68899024, "body": "@SerCe really? Could you share your experience (maybe at Slack at #random)? We are kinda in the middle of a fight whether this idiom is appropriate or not."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 10, "last_activity_date": 1480324781, "last_edit_date": 1592644375, "creation_date": 1480323713, "answer_id": 40840460, "question_id": 40839544, "link": "https://stackoverflow.com/questions/40839544/we-have-to-cover-all-branches-with-all-control-flow-expressions-in-kotlin/40840460#40840460", "title": "We have to cover all branches with all Control-Flow expressions in Kotlin?", "body": "<p>The trick here is not to use the <code>if</code> as an expression. My guess is that you placed the <code>if</code> at a <code>let</code> block, which returns its last statement, thus using the &quot;result&quot; of the <code>if</code>, thus treating it as an expression.</p>\n<p>I suggest throwing away the <code>let</code> function (it is useless anyway here):</p>\n<pre><code>override fun onReceive(context: Context?, intent: Intent?) {\n    if(intent != null) {\n        if (intent.action == MySDK.BROADCAST_ACTION_LOGIN) {\n            mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\n        } else if (intent.action == MySDK.BROADCAST_ACTION_LOGOUT) {\n            mListener.get()?.loggedOut(LoggedOutUserInfo())\n        }\n    }\n}\n</code></pre>\n<p>Your second version compiles because <code>context!!.unregisterReceiver(this)</code> has a different type than <code>mListener.get()?.loggedOut(LoggedOutUserInfo())</code>, which makes the types mismatch and prevents using the <code>if</code> as an expression.</p>\n<h3>P.S.</h3>\n<p>Kotlin has quite a few powerful control structures. I personally prefer this version:</p>\n<pre><code>override fun onReceive(context: Context?, intent: Intent?) {\n    intent ?: return\n    when(intent.action) {\n        MySDK.BROADCAST_ACTION_LOGIN -&gt; mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\n        MySDK.BROADCAST_ACTION_LOGOUT -&gt; mListener.get()?.loggedOut(LoggedOutUserInfo())\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3942, "favorite_count": 2, "accepted_answer_id": 40840460, "answer_count": 2, "score": 6, "last_activity_date": 1480324781, "creation_date": 1480320075, "last_edit_date": 1480321764, "question_id": 40839544, "link": "https://stackoverflow.com/questions/40839544/we-have-to-cover-all-branches-with-all-control-flow-expressions-in-kotlin", "title": "We have to cover all branches with all Control-Flow expressions in Kotlin?", "body": "<p>I looked at <a href=\"http://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">the docs</a> from Kotlin website, there are only two Control-Flow expressions: <code>if</code> and <code>when</code>.</p>\n\n<h3>For <code>if</code>:</h3>\n\n<blockquote>\n  <p>the expression is required to have an <code>else</code> branch</p>\n</blockquote>\n\n<h3>For <code>when</code>:</h3>\n\n<blockquote>\n  <p>The <code>else</code> branch is evaluated if none of the other branch conditions are satisfied. If <code>when</code> is used as an expression, the <code>else</code> branch is mandatory, unless the compiler can prove that all possible cases are covered with branch conditions.</p>\n</blockquote>\n\n<h2>Question</h2>\n\n<p>So it seems that there is no way to make a Control-Flow expression without covering all branches, Is it right? If not, Is there any way to make a Control-Flow expression to miss some branches; If so, why?</p>\n\n<hr>\n\n<p>Following code will occur <code>if must have both main and 'else' branches if used as an expression</code></p>\n\n<pre><code>override fun onReceive(context: Context?, intent: Intent?) {\n    intent?.let {\n        if (it.action == MySDK.BROADCAST_ACTION_LOGIN) {\n            mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\n        }else if (it.action == MySDK.BROADCAST_ACTION_LOGOUT) {\n            // Occur 'if must have both main and 'else' branches if used as an expression'\n            mListener.get()?.loggedOut(LoggedOutUserInfo())\n        }\n    }\n}\n</code></pre>\n\n<p>But following code pass compile.....</p>\n\n<pre><code>override fun onReceive(context: Context?, intent: Intent?) {\n    intent?.let {\n        if (it.action == MySDK.BROADCAST_ACTION_LOGIN) {\n            mListener.get()?.loggedOn(LoggedOnUserInfo.IT)\n            context!!.unregisterReceiver(this) // only add this line to test.\n        }else if (it.action == MySDK.BROADCAST_ACTION_LOGOUT) {\n            mListener.get()?.loggedOut(LoggedOutUserInfo())\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["arrays", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 2, "last_activity_date": 1480235678, "creation_date": 1480235678, "answer_id": 40827116, "question_id": 40826449, "link": "https://stackoverflow.com/questions/40826449/safe-calls-in-kotlin-with-array-is-confuse/40827116#40827116", "title": "Safe Calls in Kotlin with Array is confuse", "body": "<p>Inspection is right. You declare your notes variable to be nullable array of not nullable items.</p>\n\n<pre><code>notes: Array&lt;KeyValueNote&gt;? // Can be null, cannot contain nulls.\nnotes: Array&lt;KeyValueNote?&gt; // Cannot be null, can contain nulls.\n</code></pre>\n\n<p>With this in mind, <strong>filterNotNull()?.</strong> is necessary for this array because it is nullable. You can find more information on Kotlin null safety in <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Kotlin documentation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "edited": false, "score": 0, "creation_date": 1480236726, "post_id": 40827127, "comment_id": 68872536, "body": "Thanks so much, I got it now."}, {"owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "edited": false, "score": 0, "creation_date": 1480236937, "post_id": 40827127, "comment_id": 68872578, "body": "But I&#39;m confused  when I provide a <code>notes</code> with some <code>null</code> elements to the method with the <code>Array&lt;KeyValueNote&gt;?</code> parameter, how Kotlin handle this case, crash? or remove all <code>null</code> elements automatically?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "edited": false, "score": 0, "creation_date": 1480239317, "post_id": 40827127, "comment_id": 68873034, "body": "For one thing, you wont be able to do this inside Kotlin itself because of the types. You&#39;ll need to construct that array in Java and pass it to the method. Then Kotlin will crash at the first moment a <code>null</code> is extracted from the array."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1480239376, "last_edit_date": 1480239376, "creation_date": 1480235826, "answer_id": 40827127, "question_id": 40826449, "link": "https://stackoverflow.com/questions/40826449/safe-calls-in-kotlin-with-array-is-confuse/40827127#40827127", "title": "Safe Calls in Kotlin with Array is confuse", "body": "<p>The type of <code>notes</code> is <code>Array&lt;KeyValueNote&gt;?</code>, which means that the elements of the array <strong>can not be null</strong>, but the array itself can. Thus, your code in the \"I want\" section is correct. A shorter alternative for it would be: </p>\n\n<pre><code>notes?.forEach { payloadJson.put(it.key, it.value) }\n</code></pre>\n\n<p>About your alternatives:</p>\n\n<ul>\n<li><p>Alternative 1: Never use <code>let</code> like this. It should be a safe call <code>?.</code> (like in Alternative 2), nothing else. My heart bleeds when I see <code>let</code> in those situations :(</p></li>\n<li><p>Alternative 2: <code>takeWhile</code> and <code>filter</code> are obviously not the same thing. I guess you wanted <code>filterNotNull</code>, like in the Alternative 3</p></li>\n<li><p>Alternative 3: Since the elements of the array can NOT be null (because of their type), <code>filterNotNull</code> is equivalent to <code>toList</code> since it just copies the content</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1480235995, "creation_date": 1480235995, "answer_id": 40827144, "question_id": 40826449, "link": "https://stackoverflow.com/questions/40826449/safe-calls-in-kotlin-with-array-is-confuse/40827144#40827144", "title": "Safe Calls in Kotlin with Array is confuse", "body": "<p>I guess you're confused by <code>it</code> parameter used in different scopes. The first alternative can be rewritten as:</p>\n\n<pre><code>notes?.let { notesSafe:Array&lt;KeyValueNote&gt; -&gt; // notesSafe is not null here\n    notesSafe\n      .takeWhile { item:KeyValueNote -&gt; item != null } // item is already not null by it's type definition\n      .forEach { payloadJson.put(it.key, it.value) }\n}\n</code></pre>\n\n<p>The second alternative is pretty much the same and the compiler note about <code>item:KeyValueNote</code> is true for the same reason: <code>val items:Array&lt;KeyValueNote&gt;?</code> cannot hold <code>null</code> values - but the <code>items</code> itself could be <code>null</code>.</p>\n\n<p>The 3rd alternative has a safe call to <code>filterNotNull</code> which returns source collection with <code>null</code> values removed. However as mentioned <code>Array&lt;KeyValueNote&gt;</code> cannot have <code>null</code> values in it hence the <code>filterNotNull</code> is not required. </p>\n\n<p>In conclusion the expression can be written as:</p>\n\n<pre><code>notes?.forEach { payloadJson.put(it.key, it.value) }\n</code></pre>\n"}], "owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "accepted_answer_id": 40827127, "answer_count": 3, "score": 0, "last_activity_date": 1480239376, "creation_date": 1480229036, "question_id": 40826449, "link": "https://stackoverflow.com/questions/40826449/safe-calls-in-kotlin-with-array-is-confuse", "title": "Safe Calls in Kotlin with Array is confuse", "body": "<p>There is an array: <code>notes: Array&lt;KeyValueNote&gt;?</code> and I use the Kotlin <code>1.0.5-2</code> in the following code.</p>\n\n<h3>I want</h3>\n\n<pre><code>if (notes != null) {\n    for (note in notes) {\n        // Put the note to the payload Json object only if the note is non-null.\n        payloadJson.put(note.key, note.value)\n    }\n}\n</code></pre>\n\n<h3>But there are several alternations</h3>\n\n<pre><code>    // Alternative 1.\n    notes?.let {\n        it.takeWhile { it != null /** Inspection will note The condition 'it != null' is always true' in here**/ }.forEach { payloadJson.put(it.key, it.value) }\n    }\n\n    // Alternative 2.\n    notes?.takeWhile { it != null /** Inspection will note The condition 'it != null' is always true' in here**/ }?.forEach { payloadJson.put(it.key, it.value) }\n\n    // Alternative 3.\n    notes?.filterNotNull()?.forEach { payloadJson.put(it.key, it.value) }\n</code></pre>\n\n<h2>My Question</h2>\n\n<ol>\n<li>You can see there is Inspection Note <code>The condition 'it != null' is always true</code> in the Alternative 1&amp;2, <strong>whether the inspection is right?</strong> because I want to ensure only the non-null item in the <code>notes</code> can be put to the <code>payloadJson</code>.</li>\n<li>In Alternative 3, you can see there is a Safe Call in <code>filterNotNull()?.</code>, <strong>whether the <code>?</code> is needed in here?</strong>, because I review the source code, the result of the <code>filterNotNull()</code> can't be null, but when I remove <code>?</code> in there, the compile is failed.</li>\n</ol>\n"}, {"tags": ["android", "swipe", "kotlin"], "comments": [{"owner": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "edited": false, "score": 2, "creation_date": 1480216910, "post_id": 40823442, "comment_id": 68869400, "body": "please show code of the second activity"}, {"owner": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "reply_to_user": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "edited": false, "score": 0, "creation_date": 1480243112, "post_id": 40823442, "comment_id": 68873923, "body": "@maxost,i do it"}], "answers": [{"comments": [{"owner": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "edited": false, "score": 0, "creation_date": 1480330461, "post_id": 40842411, "comment_id": 68902124, "body": "Thank you! i miss it! My fail!"}, {"owner": {"reputation": 3326, "user_id": 1150795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860d81e03dcd86d1644d0e78b18a5344?s=128&d=identicon&r=PG", "display_name": "Piotr Wittchen", "link": "https://stackoverflow.com/users/1150795/piotr-wittchen"}, "reply_to_user": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "edited": false, "score": 1, "creation_date": 1480330529, "post_id": 40842411, "comment_id": 68902170, "body": "Great! Maybe I&#39;ll think of some kind of generic or exemplary unit tests to avoid such human mistakes in the future."}], "tags": [], "owner": {"reputation": 3326, "user_id": 1150795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860d81e03dcd86d1644d0e78b18a5344?s=128&d=identicon&r=PG", "display_name": "Piotr Wittchen", "link": "https://stackoverflow.com/users/1150795/piotr-wittchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1480330038, "creation_date": 1480330038, "answer_id": 40842411, "question_id": 40823442, "link": "https://stackoverflow.com/questions/40823442/swipe-does-not-work-in-second-activity/40842411#40842411", "title": "Swipe does not work in second activity", "body": "<p>I'm an author of the library you're using.\nAre you sure you're overriding <code>dispatchTouchEvent(event)</code> method and calling a <code>swipe.dispatchTouchEvent(event)</code> method inside it in both activities? You haven't mentioned it in the code snippets, but it's required to make everything work.</p>\n\n<pre><code>  override fun dispatchTouchEvent(event: MotionEvent): Boolean {\n    (swipe as Swipe).dispatchTouchEvent(event)\n    return super.dispatchTouchEvent(event)\n  }\n</code></pre>\n\n<p>3 steps regarding library configuration are described in <code>README.md</code> file on GitHub.</p>\n\n<p>Regards,</p>\n\n<p>Piotr</p>\n"}], "owner": {"reputation": 1912, "user_id": 1405423, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/359a2a40e04a55f478ea16d01d27e1a1?s=128&d=identicon&r=PG", "display_name": "Admiral Land", "link": "https://stackoverflow.com/users/1405423/admiral-land"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 40842411, "answer_count": 1, "score": 0, "last_activity_date": 1480330038, "creation_date": 1480196421, "last_edit_date": 1480242413, "question_id": 40823442, "link": "https://stackoverflow.com/questions/40823442/swipe-does-not-work-in-second-activity", "title": "Swipe does not work in second activity", "body": "<p>Swipe does not work in second activity:\nI create two activities and use <a href=\"https://github.com/pwittchen/swipe\" rel=\"nofollow noreferrer\">swipe library</a>.\nFirst activity swipes well, but second doesn't work.\nHere some piece of code:</p>\n\n<pre><code> private var _swipe: Swipe = Swipe();\n\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_1)\n    _swipe.addListener(object :SwipeListener {\n         override fun onSwipedLeft(event: MotionEvent?) {\n            val intent = Intent(this@FirstActivity,SecondActivity::class.java)\n            startActivity(intent)\n        }\n    }\n}\n</code></pre>\n\n<p>The second activity have the same code, but it named <code>second_activity</code>.\nSwipe in first activity works well, it redirects to second, but then swipe does'n work! Not to left, not to right and so on.</p>\n\n<p>Can you help me?</p>\n\n<p>Second activity:</p>\n\n<pre><code>   public class SecondActivity :  MvpActivity&lt;ISecondView, SecondPresenter&gt;   (),ISecondView  {\n\nprivate var _manager: PlayerManager = PlayerManager();\n/**\n * Instantiate a presenter instance\n\n * @return The [MvpPresenter] for this view\n */\noverride fun createPresenter(): SelectPresenter {\n    return SecondPresenter(_manager);\n}\n\nprivate var _swipe: Swipe = Swipe();\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_select_2)\n\n    val realm = Realm.getDefaultInstance()\n\n    val players = realm.where(Player::class.java).findAll()\n\n\n    val arrayList = ArrayList&lt;String&gt;(players.size)\n    for (player in players) {\n\n            arrayList.add(player.Name);            \n    }\n\n\n    val adapter = ArrayAdapter(applicationContext, android.R.layout.simple_list_item_checked, arrayList)\n\n    val lvArr = findViewById(R.id.ListView) as ListView;\n    lvArr.choiceMode= ListView.CHOICE_MODE_SINGLE;\n    lvArr.adapter = adapter\n\n    lvArr.setOnItemClickListener { adapterView: AdapterView&lt;*&gt;, view1: View, i: Int, l: Long -&gt;\n        //select elem\n    }\n\n    _swipe.addListener(object : SwipeListener {           \n        override fun onSwipedLeft(event: MotionEvent?) {\n            Toast.makeText(applicationContext, \"swiped left\", Toast.LENGTH_SHORT).show();\n            val intent=  Intent(this@SecondfActivity,ThirdActivity::class.java);\n            startActivity(intent);\n        }\n\n        override fun onSwipingLeft(event: MotionEvent?) {\n            Toast.makeText(applicationContext, \"swiping left\", Toast.LENGTH_SHORT).show();\n            val intent=  Intent(this@SecondActivity,ThirdActivity::class.java);\n            startActivity(intent);\n        }\n}\n})\n}\n}\n</code></pre>\n\n<p>I remove some methods implementations. When i try to swipe- nothing happens.</p>\n"}, {"tags": ["spring", "gradle", "kotlin", "build-script"], "answers": [{"comments": [{"owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "edited": false, "score": 0, "creation_date": 1480336184, "post_id": 40835401, "comment_id": 68905500, "body": "Works pretty well for an untested solution. Thank you. ;) Unfortunately I am just Kotlin newbie. But thanks for a tip, I&#39;ll take a better look into the code."}, {"owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "reply_to_user": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "edited": false, "score": 0, "creation_date": 1480365627, "post_id": 40835401, "comment_id": 68922872, "body": "No worries. I&#39;m sure the Spring guides/examples will be updated soon when Gradle Script Kotlin is more mature. Though the better solution would be for Spring to provide some extension functions to make the DSL a bit friendlier (no need for <code>delegateClosureOf()</code>). e.g. <code>fun DependencyManagementExtension.imports(imports: DependencyManagementHandler.() -&gt; Unit){ ...}</code>"}], "tags": [], "owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "is_accepted": true, "score": 13, "last_activity_date": 1509757846, "last_edit_date": 1509757846, "creation_date": 1480291592, "answer_id": 40835401, "question_id": 40818688, "link": "https://stackoverflow.com/questions/40818688/gradle-script-kotlin-and-dependencymanagement/40835401#40835401", "title": "Gradle Script Kotlin and dependencyManagement", "body": "<p>Totally not tested, but I believe it should be something like this:</p>\n\n<pre><code>import io.spring.gradle.dependencymanagement.DependencyManagementExtension\nimport io.spring.gradle.dependencymanagement.ImportsHandler\n\nconfigure&lt;DependencyManagementExtension&gt; {\n    imports(delegateClosureOf&lt;ImportsHandler&gt; {\n        mavenBom(\"org.springframework.cloud:spring-cloud-dependencies:Camden.SR2\")\n    })\n}\n</code></pre>\n\n<p>If you haven't seen it, you should be familiar with gradle script kotlin's <a href=\"https://github.com/gradle/gradle-script-kotlin/blob/master/src/main/kotlin/org/gradle/script/lang/kotlin/ProjectExtensions.kt\" rel=\"noreferrer\">project extensions</a> and <a href=\"https://github.com/gradle/gradle-script-kotlin/blob/master/src/main/kotlin/org/gradle/script/lang/kotlin/GroovyInteroperability.kt\" rel=\"noreferrer\">groovy interop</a> functions. You really have to dig into the source of the groovy plugin you're configuring to see how it expects to use the closure. The examples in the gradle script kotlin project are also a good guide.</p>\n\n<p><strong><em>Edit 19 Dec 2016</em></strong></p>\n\n<p>The latest version of the dependency management plugin is <a href=\"https://spring.io/blog/2016/12/16/dependency-management-plugin-1-0-0-rc1#better-support-for-gradle-script-kotlin\" rel=\"noreferrer\">now more gradle script kotlin friendly</a> and will allow the following:</p>\n\n<pre><code>configure&lt;DependencyManagementExtension&gt; {\n    imports {\n        it.mavenBom(\"io.spring.platform:platform-bom:Camden.SR2\")\n    }\n}\n</code></pre>\n\n<p>It could still benefit from some Kotlin extension functions to remove the need for <code>it</code> (using a receiver instead), but definitely an improvement!</p>\n\n<p><strong><em>Edit 3 Nov 2017</em></strong></p>\n\n<p>It now works without the <code>it</code>, like so:</p>\n\n<pre><code>configure&lt;DependencyManagementExtension&gt; {\n    imports {\n        mavenBom(\"io.spring.platform:platform-bom:Camden.SR2\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7375, "user_id": 390513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0db85dd6e3b1972fafa2c36e6df3abfb?s=128&d=identicon&r=PG", "display_name": "Kane", "link": "https://stackoverflow.com/users/390513/kane"}, "is_accepted": false, "score": 5, "last_activity_date": 1541663322, "creation_date": 1541663322, "answer_id": 53203333, "question_id": 40818688, "link": "https://stackoverflow.com/questions/40818688/gradle-script-kotlin-and-dependencymanagement/53203333#53203333", "title": "Gradle Script Kotlin and dependencyManagement", "body": "<p>Using latest <code>io.spring.dependency-management:1.0.6.RELEASE</code> below simpler snippet also works.</p>\n\n<pre><code>plugins {\n    id(\"io.spring.dependency-management\") version \"1.0.6.RELEASE\"\n}\n\ndependencyManagement {\n    val springCloudVersion = \"Finchley.SR2\"\n    imports {\n        mavenBom(\"org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11161147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/793389f3d65a24e291901908c442d05d?s=128&d=identicon&r=PG&f=1", "display_name": "sgilson", "link": "https://stackoverflow.com/users/11161147/sgilson"}, "is_accepted": false, "score": 3, "last_activity_date": 1608039498, "last_edit_date": 1608039498, "creation_date": 1607828400, "answer_id": 65271960, "question_id": 40818688, "link": "https://stackoverflow.com/questions/40818688/gradle-script-kotlin-and-dependencymanagement/65271960#65271960", "title": "Gradle Script Kotlin and dependencyManagement", "body": "<p>I'm a bit late to the party here, but it appears that Gradle supports importing BOM files in the <code>dependency</code> block in both the Groovy and Kotlin DSLs. The translation of the provided code block would be:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    // note that the BOM coordinates are wrapped with the &quot;platform&quot; keyword\n    implementation(platform(&quot;org.springframework.cloud:spring-cloud-dependencies:Camden.SR2&quot;))\n\n    // declare other dependencies\n}\n</code></pre>\n<p>Reference: <a href=\"https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub::terminology_platform\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub::terminology_platform</a></p>\n"}], "owner": {"reputation": 2750, "user_id": 661598, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVAlk.png?s=128&g=1", "display_name": "wst", "link": "https://stackoverflow.com/users/661598/wst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4277, "favorite_count": 0, "accepted_answer_id": 40835401, "answer_count": 3, "score": 13, "last_activity_date": 1608039498, "creation_date": 1480166104, "last_edit_date": 1480414540, "question_id": 40818688, "link": "https://stackoverflow.com/questions/40818688/gradle-script-kotlin-and-dependencymanagement", "title": "Gradle Script Kotlin and dependencyManagement", "body": "<p>I am trying to port Spring Cloud Stream app build script to Kotlin. So far, so good, except the dependency management block. It's difficult to find anything in the net. Samples don't cover that topic, too.</p>\n\n<p>How do I convert following block to <code>build.gradle.kts</code>? Thanks.</p>\n\n<pre><code>dependencyManagement {\n    imports {\n        mavenBom \"org.springframework.cloud:spring-cloud-dependencies:Camden.SR2\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "rx-java", "kotlin", "rx-android", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "is_accepted": true, "score": 21, "last_activity_date": 1480168548, "creation_date": 1480168548, "answer_id": 40819077, "question_id": 40818410, "link": "https://stackoverflow.com/questions/40818410/how-to-zip-few-observables-in-kotlin-language-with-rxandroid/40819077#40819077", "title": "How to zip few observables in Kotlin language with RxAndroid", "body": "<p>Just replace function reference with lambda:</p>\n\n<pre><code>return Observable.zip(cats, day, top, { c, d, t -&gt; convert(c, d, t) })\n</code></pre>\n\n<p>And don't forget to declare function's return type explicitly:</p>\n\n<pre><code>fun getFrontData(): Observable&lt;FrontDataModel&gt; {\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1979, "user_id": 3914166, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4jU6D.jpg?s=128&g=1", "display_name": "Bachiri Taoufiq Abderrahman", "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"}, "is_accepted": false, "score": 6, "last_activity_date": 1611782298, "last_edit_date": 1611782298, "creation_date": 1555792987, "answer_id": 55777585, "question_id": 40818410, "link": "https://stackoverflow.com/questions/40818410/how-to-zip-few-observables-in-kotlin-language-with-rxandroid/55777585#55777585", "title": "How to zip few observables in Kotlin language with RxAndroid", "body": "<p>You can also explicitly specify the Function3 type in the lambda Like :</p>\n<pre><code>Observable.zip(cats,\n               day,\n               top,\n               Function3&lt;List&lt;Product&gt;, Product, List&lt;Category&gt;, FrontDataModel&gt; \n                         { cats, day, top -&gt; convert(cats, day, top) }\n</code></pre>\n<p>and play with the IntelliJ idea shortcut <a href=\"https://www.jetbrains.com/help/idea/intention-actions.html\" rel=\"nofollow noreferrer\">alt+enter</a> to display more actions and change the displaying format of the high-order function.</p>\n<p><a href=\"https://i.stack.imgur.com/ukbrL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukbrL.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Why Function3?</strong></p>\n<p>Following The Functional Interfaces if it has two Input params it's a <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/functions/BiFunction.html\" rel=\"nofollow noreferrer\">BiFunction</a> and if it has 3 Inputs it's a <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/functions/Function3.html\" rel=\"nofollow noreferrer\">Function3</a> and the list goes on.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 12310376, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157006556723386/picture?type=large", "display_name": "Gilad Raz", "link": "https://stackoverflow.com/users/12310376/gilad-raz"}, "is_accepted": false, "score": -1, "last_activity_date": 1574361732, "creation_date": 1574361732, "answer_id": 58981701, "question_id": 40818410, "link": "https://stackoverflow.com/questions/40818410/how-to-zip-few-observables-in-kotlin-language-with-rxandroid/58981701#58981701", "title": "How to zip few observables in Kotlin language with RxAndroid", "body": "<p>This code worked for me with RXJAVA2 </p>\n\n<pre><code>    for (i in dbCharacters) {\n           // LoadImageToDBS(getApplication&lt;Application&gt;().applicationContext, i, this)\n            //   charList.characterList[i.id!!].imageRawData = dbCharacters[i.id!!].imageRawData\n\n            observable =\n                    fetcher.loadImage(i.url)\n                            .doOnSubscribe {\n                                disposable.add(it)\n                            }\n\n            singleImageList.add(observable)\n\n            observable.subscribe(object : DisposableSingleObserver&lt;Bitmap&gt;() {\n                override fun onSuccess(t: Bitmap) {\n                    Log.d(\"Image\", \"onSuccess\")\n                    i.imageRawData = bitMapToString(t)\n                    updateCharacter(i)\n                }\n\n                override fun onError(e: Throwable) {\n                    Log.d(\"Image Loading Error\",e.message)\n                }\n\n            })\n      }\n\n        Single.zip(singleImageList, { args -&gt; Arrays.asList(args) })\n                .subscribe(\n                        {\n                            Log.d(\"Zip\", \"Zip Success\")\n                            countryLoadError.value = false\n                            loading.value = false\n                        },{\n                    val c = it\n                }\n                )\n</code></pre>\n"}], "owner": {"reputation": 1673, "user_id": 3775934, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/i2TBD.png?s=128&g=1", "display_name": "Scrobot", "link": "https://stackoverflow.com/users/3775934/scrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16623, "favorite_count": 1, "accepted_answer_id": 40819077, "answer_count": 3, "score": 10, "last_activity_date": 1611782298, "creation_date": 1480163982, "last_edit_date": 1570532043, "question_id": 40818410, "link": "https://stackoverflow.com/questions/40818410/how-to-zip-few-observables-in-kotlin-language-with-rxandroid", "title": "How to zip few observables in Kotlin language with RxAndroid", "body": "<p>I have some problem. I'm a beginer in RxJava/RxKotlin/RxAndroid, and dont understand some features. For Example:</p>\n\n<pre><code>import rus.pifpaf.client.data.catalog.models.Category\nimport rus.pifpaf.client.data.main.MainRepository\nimport rus.pifpaf.client.data.main.models.FrontDataModel\nimport rus.pifpaf.client.data.product.models.Product\nimport rx.Observable\nimport rx.Single\nimport rx.lang.kotlin.observable\nimport java.util.*\n\n\nclass MainInteractor {\n\n    private var repository: MainRepository = MainRepository()\n\n    fun getFrontData() {\n\n        val cats = getCategories()\n        val day = getDayProduct()\n        val top = getTopProducts()\n\n        return Observable.zip(cats, day, top, MainInteractor::convert)\n    }\n\n    private fun getTopProducts(): Observable&lt;List&lt;Product&gt;&gt; {\n        return repository.getTop()\n                .toObservable()\n                .onErrorReturn{throwable -&gt; ArrayList() }\n\n    }\n\n    private fun getDayProduct(): Observable&lt;Product&gt; {\n        return repository.getSingleProduct()\n                .toObservable()\n                .onErrorReturn{throwable -&gt; Product()}\n\n    }\n\n    private fun getCategories(): Observable&lt;List&lt;Category&gt;&gt; {\n        return repository.getCategories()\n                .toObservable()\n                .onErrorReturn{throwable -&gt; ArrayList() }\n    }\n\n    private fun convert(cats: List&lt;Category&gt;, product: Product, top: List&lt;Product&gt;): FrontDataModel {\n\n    }\n}\n</code></pre>\n\n<p>Then I'm use <strong>MainInteractor::convert</strong> Android studio tell me next</p>\n\n<p><a href=\"https://i.stack.imgur.com/Caoua.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Caoua.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I tried a lot of variant and tried to understand what does it want, but no success. Help me please... Best Regards.</p>\n"}, {"tags": ["spring", "spring-data", "kotlin", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 28220, "user_id": 1199132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/LR20r.jpg?s=128&g=1", "display_name": "Xtreme Biker", "link": "https://stackoverflow.com/users/1199132/xtreme-biker"}, "edited": false, "score": 0, "creation_date": 1480166444, "post_id": 40817400, "comment_id": 68856806, "body": "That&#39;s usually a jackson related issue. Jackson, Hibernate and other tools that create objects for you need the object to declare a no-arg constructor. Actually it makes sense, since the framework don&#39;t know anything about the values you want to assign in case of arg-constructors. Your question would be better explained with some sample code, by the way."}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1483000749, "post_id": 40817400, "comment_id": 69953486, "body": "A bit late, but show me your data class please. I think you are using default values, aren&#39;t you?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5471521, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7GFbX_bsTjI/AAAAAAAAAAI/AAAAAAAAAE8/4GHhEIF45x0/photo.jpg?sz=128", "display_name": "Nik", "link": "https://stackoverflow.com/users/5471521/nik"}, "is_accepted": false, "score": 3, "last_activity_date": 1495813716, "creation_date": 1495813716, "answer_id": 44205560, "question_id": 40817400, "link": "https://stackoverflow.com/questions/40817400/spring-data-mongodb-and-kotlin/44205560#44205560", "title": "Spring data mongodb and kotlin", "body": "<p>There is now a <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">No-Arg Plugin</a>.\nYou can add this plugin in you Gradle or Maven Build Script and run your Code without Boilerplate or \"Default\" Values for your vars.</p>\n\n<p>Very simple example with Gradle:</p>\n\n<p>add Plugin to build.grade</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.1.2'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.jetbrains.kotlin:kotlin-noarg:${kotlinVersion}\")\n    }\n}\napply plugin: \"kotlin-noarg\" // apply \"kotlin-jpa\" for JPA related annotation\nnoArg {\n    // define annotation, where you need an empty custructor\n    annotation(\"org.springframework.data.mongodb.core.mapping.Document\") \n}\n</code></pre>\n\n<p>Create your Document</p>\n\n<pre><code>@Document(collection = \"simpleDoc\")\nclass SimpleDocument(@Id val id: String, @Field val name: String)\n</code></pre>\n\n<p>Use Spring-Data-REST to create an insert</p>\n\n<pre><code>curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/hal+json' -d '{\"name\":\"awesome\"}' 'http://localhost:8080/docs'\n</code></pre>\n\n<p>Read your doc</p>\n\n<pre><code>curl -X GET --header 'Accept: application/hal+json' 'http://localhost:8080/docs/59284d508bc7ee0b4c8fe293'\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 5477388, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/834fd4bc3204193f94bfe9664b87747c?s=128&d=identicon&r=PG&f=1", "display_name": "Geert Olaerts", "link": "https://stackoverflow.com/users/5477388/geert-olaerts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1702, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1495813716, "creation_date": 1480156412, "question_id": 40817400, "link": "https://stackoverflow.com/questions/40817400/spring-data-mongodb-and-kotlin", "title": "Spring data mongodb and kotlin", "body": "<p>I am running into a problem when using spring data mongodb togheter with kotlin. When i try to read objects from mongodb, i get an error complaining that my data classes don't have a default no-args constructor. I can solve this by giving every field a value in my data class, so the compiler will generate a default no-args constructor. Off course i don't really want to do this.</p>\n\n<p>I know there is a jackson kotlin module and it is included in my maven file. It works for deserializing objects that i get over http, so i know that spring picks it up. It seems however that spring data mongodb doesn't use the jackson objectmapper?</p>\n\n<p>Is there a way i can use the jackson objectmapper in spring data mongodb or fix the problem of not having a non args constructor?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1756, "user_id": 190499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mdAdw.jpg?s=128&g=1", "display_name": "pete23", "link": "https://stackoverflow.com/users/190499/pete23"}, "edited": false, "score": 0, "creation_date": 1480156017, "post_id": 40817001, "comment_id": 68854222, "body": "Welcome to SO. Please can you show a minimal set of your code that reproduces the issue? Also not sure why this is tagged Java and Kotlin."}, {"owner": {"reputation": 3, "user_id": 5563792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I5uW1K9ubKM/AAAAAAAAAAI/AAAAAAAAAsc/76m8NUl05Ps/photo.jpg?sz=128", "display_name": "Peng Huang", "link": "https://stackoverflow.com/users/5563792/peng-huang"}, "reply_to_user": {"reputation": 1756, "user_id": 190499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mdAdw.jpg?s=128&g=1", "display_name": "pete23", "link": "https://stackoverflow.com/users/190499/pete23"}, "edited": false, "score": 0, "creation_date": 1480158519, "post_id": 40817001, "comment_id": 68854852, "body": "Of course . it is Kotlin as below . `class XMenuPopup { // .... internal val mPopup: MenuPopupHelper // ... fun show() {  mPopup.popup  // Error notice is here } } &#39;"}], "answers": [{"tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": true, "score": 0, "last_activity_date": 1480663856, "creation_date": 1480663856, "answer_id": 40926975, "question_id": 40817001, "link": "https://stackoverflow.com/questions/40817001/android-type-menupopup-is-inaccessible-in-this-context-due-to-menupopup/40926975#40926975", "title": "Android: Type MenuPopup is inaccessible in this context due to: MenuPopup", "body": "<p>It seems that class you want to use is private and it's not accessible in this context. Maybe you should try to use inheritance like below</p>\n\n<pre><code>class XMenuPopup : MenuPopup { \n</code></pre>\n\n<p>Check also: <a href=\"http://antonioleiva.com/kotlin-android-custom-views/\" rel=\"nofollow noreferrer\">http://antonioleiva.com/kotlin-android-custom-views/</a></p>\n\n<p>Hope it would help</p>\n"}], "owner": {"reputation": 3, "user_id": 5563792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-I5uW1K9ubKM/AAAAAAAAAAI/AAAAAAAAAsc/76m8NUl05Ps/photo.jpg?sz=128", "display_name": "Peng Huang", "link": "https://stackoverflow.com/users/5563792/peng-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 0, "accepted_answer_id": 40926975, "answer_count": 1, "score": -2, "last_activity_date": 1480663856, "creation_date": 1480153715, "last_edit_date": 1480239368, "question_id": 40817001, "link": "https://stackoverflow.com/questions/40817001/android-type-menupopup-is-inaccessible-in-this-context-due-to-menupopup", "title": "Android: Type MenuPopup is inaccessible in this context due to: MenuPopup", "body": "<p>I want to access <code>MenuPopup</code> instance from my own package namespace . i have no idea about this error, i am tiro :(  ...</p>\n\n<p><a href=\"https://developer.android.com/reference/android/support/v7/widget/PopupMenu.html\" rel=\"nofollow noreferrer\">PopupMenu Doc</a></p>\n\n<p>Code:</p>\n\n<pre><code>class XMenuPopup { \n// .... \ninternal val mPopup: MenuPopupHelper \n\n// ... \nfun show() { \n\n    // Error notice is here \n    // Type MenuPopup is inaccessible in this context due to: MenuPopup \n    mPopup.popup \n  } \n} \n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-plugin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 0, "last_activity_date": 1480144288, "creation_date": 1480144288, "answer_id": 40815925, "question_id": 40812724, "link": "https://stackoverflow.com/questions/40812724/cannot-find-kotlin-classes-when-compiling-intellijbehave/40815925#40815925", "title": "Cannot find Kotlin classes when compiling IntelliJBehave", "body": "<p>The plugin was compiled against an old version of the Kotlin plugin. To compile the plugin, you need to add the Kotlin plugin to the classpath of your IntelliJ IDEA SDK and to update the code of IntelliJBehave so that it references Kotlin classes according to their current names (KtElement, KtAnnotationsIndex etc).</p>\n"}], "owner": {"reputation": 1, "user_id": 7154495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TR2cd.jpg?s=128&g=1", "display_name": "hobbitProg", "link": "https://stackoverflow.com/users/7154495/hobbitprog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480144298, "creation_date": 1480111268, "last_edit_date": 1480144298, "question_id": 40812724, "link": "https://stackoverflow.com/questions/40812724/cannot-find-kotlin-classes-when-compiling-intellijbehave", "title": "Cannot find Kotlin classes when compiling IntelliJBehave", "body": "<p>I am trying to compile IntelliJBehave to add support for scala.  When I compile, I get the following errors:</p>\n\n<pre><code>/home/hobbitProg/devWorkspace/IntelliJBehave/src/com/github/kumaraman21/intellijbehave/kotlin/psi/NavigableKotlinPsiAnnotation.kt\nError:(5, 22) Kotlin: Unresolved reference: kotlin\nError:(12, 21) Kotlin: Unresolved reference: JetElement\n/home/hobbitProg/devWorkspace/IntelliJBehave/src/com/github/kumaraman21/intellijbehave/kotlin/psi/NavigableKotlinPsiElement.kt\nError:(6, 22) Kotlin: Unresolved reference: kotlin\nError:(13, 33) Kotlin: Unresolved reference: JetElement\nError:(22, 34) Kotlin: Unresolved reference: JetElement\n/home/hobbitProg/devWorkspace/IntelliJBehave/src/com/github/kumaraman21/intellijbehave/kotlin/psi/NavigableKotlinPsiMethod.kt\nError:(5, 22) Kotlin: Unresolved reference: kotlin\nError:(12, 21) Kotlin: Unresolved reference: JetElement\n/home/hobbitProg/devWorkspace/IntelliJBehave/src/com/github/kumaraman21/intellijbehave/kotlin/support/services/KotlinAnnotationsLoader.kt\nError:(8, 22) Kotlin: Unresolved reference: kotlin\nError:(9, 22) Kotlin: Unresolved reference: kotlin\nError:(10, 22) Kotlin: Unresolved reference: kotlin\nError:(29, 13) Kotlin: Unresolved reference: JetAnnotationsIndex\nError:(30, 35) Kotlin: Cannot infer a type for this parameter. Please specify it explicitly.\nError:(32, 73) Kotlin: Unresolved reference: JetFunction\nError:(34, 49) Kotlin: Unresolved reference: LightClassUtil\n/home/hobbitProg/devWorkspace/IntelliJBehave/src/com/github/kumaraman21/intellijbehave/kotlin/support/services/KotlinPsiClassesLoader.kt\nError:(4, 22) Kotlin: Unresolved reference: kotlin\nError:(5, 22) Kotlin: Unresolved reference: kotlin\nError:(6, 22) Kotlin: Unresolved reference: kotlin\nError:(21, 58) Kotlin: Unresolved reference: JetFile\nError:(22, 17) Kotlin: Unresolved reference: declarations\nError:(23, 24) Kotlin: Unresolved reference: LightClassUtil\nError:(23, 51) Kotlin: Unresolved reference: it\nError:(23, 58) Kotlin: Unresolved reference: JetClass\n</code></pre>\n\n<p>I realize that the JetElement, JetAnnotationsIndex, LightClassUtil, and JetClass classes are not being found by the Kotlin compiler.  Could someone please let me know where I can find the library that defines these classes?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1480098469, "creation_date": 1480098469, "answer_id": 40810663, "question_id": 40808800, "link": "https://stackoverflow.com/questions/40808800/generic-extension-property-receiver-type-mismatch/40810663#40810663", "title": "Generic Extension Property Receiver Type Mismatch", "body": "<p>Extension properties with multiple receiver types are not supported at this time. You can vote for <a href=\"https://youtrack.jetbrains.com/issue/KT-10468\" rel=\"nofollow noreferrer\">KT-10468</a> to get notified when the issue is fixed.</p>\n"}], "owner": {"reputation": 49, "user_id": 2286903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c656c9a233f4c49d6252da38c144cc?s=128&d=identicon&r=PG", "display_name": "Daniel Douglas Soyka", "link": "https://stackoverflow.com/users/2286903/daniel-douglas-soyka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 40810663, "answer_count": 1, "score": 0, "last_activity_date": 1480098469, "creation_date": 1480089864, "question_id": 40808800, "link": "https://stackoverflow.com/questions/40808800/generic-extension-property-receiver-type-mismatch", "title": "Generic Extension Property Receiver Type Mismatch", "body": "<p>The following code:</p>\n\n<pre><code>package com.gitlab.morality.navigable.support\n\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentActivity\nimport kotlin.reflect.primaryConstructor\n\ninterface Navigable\n\nval &lt;FragmentType&gt; FragmentType.parameters : MutableMap&lt;String, in Any&gt;\n    where FragmentType : Fragment,\n          FragmentType : Navigable\n    by lazy { mutableMapOf&lt;String, Any&gt;() }\n\ninline fun &lt;reified FragmentType&gt;\n    FragmentType.navigate(containerViewId : Int, vararg parameters : Pair&lt;String, Any&gt;)\n    where FragmentType : Fragment,\n          FragmentType : Navigable {\n    val fragment = FragmentType::class.primaryConstructor!!.call()\n    parameters.forEach { fragment.parameters[it.first] = it.second }\n    activity.supportFragmentManager.beginTransaction()\n            .replace(containerViewId, fragment)\n            .commit()\n}\n</code></pre>\n\n<p>Causes the following compiler errors with Kotlin 1.0.5:</p>\n\n<blockquote>\n  <p>Error:(34, 9) Public-API inline function cannot access non-public-API\n  'internal open fun (): [ERROR : ] defined in root package'</p>\n  \n  <p>Error:(34, 18) Unresolved reference. None of the following candidates\n  is applicable because of receiver type mismatch: public val\n   FragmentType#1 (type parameter of\n  com.gitlab.morality.navigable.support.navigate).parameters:\n  MutableMap where FragmentType : Navigable defined in\n  com.gitlab.morality.navigable.support</p>\n</blockquote>\n\n<p>I don't understand what I'm doing wrong here. What do these error messages mean?</p>\n\n<p>I can work around the issue by instead making the <code>parameters</code> property a member of <code>Navigable</code>, but then an implementor is required to implement the property, which takes away from the attraction of this technique which is that an implementing class doesn't need to do anything special beyond being marked as <code>Navigable</code> to make use of <code>Navigable</code> functionality.</p>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1480292469, "post_id": 40806977, "comment_id": 68888283, "body": "<code>kotlin-runtime</code> only bundles 4 annotations: <code>Nullable</code>, <code>NotNull</code>, <code>Mutable</code> and <code>ReadOnly</code>. So if you have other annotations clashing, they might come from another dependency."}, {"owner": {"reputation": 360, "user_id": 4158724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wNz1N.jpg?s=128&g=1", "display_name": "alexfi", "link": "https://stackoverflow.com/users/4158724/alexfi"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1480360556, "post_id": 40806977, "comment_id": 68920222, "body": "Thank for your answer @Ilya. The solution I tried, worked with <code>NotNull</code> and <code>Nullable</code>. After that <code>Flow.class</code> was a duplicate. As I added <code>Flow.class</code> to the list for overriding the annotations.jar, another class was the problem. I think the problem is still with <code>annotations-java5</code>."}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1480664020, "post_id": 40806977, "comment_id": 69065251, "body": "The simple way would be remove <code>compile &#39;org.jetbrains:annotations-java5:15.0&#39;</code> as android-support library provides its own annotations, so try to use them intead of that got from IntelliJ."}, {"owner": {"reputation": 610, "user_id": 4795454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O19d4.jpg?s=128&g=1", "display_name": "Aditay Kaushal", "link": "https://stackoverflow.com/users/4795454/aditay-kaushal"}, "edited": false, "score": 0, "creation_date": 1500472586, "post_id": 40806977, "comment_id": 77352780, "body": "how did you solve please tell. i am also stuck with this problem"}], "answers": [{"comments": [{"owner": {"reputation": 360, "user_id": 4158724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wNz1N.jpg?s=128&g=1", "display_name": "alexfi", "link": "https://stackoverflow.com/users/4158724/alexfi"}, "edited": false, "score": 0, "creation_date": 1480670533, "post_id": 40927084, "comment_id": 69068333, "body": "Thank you for your answer! :) Necessary for me is the NonNls annotation. As I see, it is not included in <code>&#39;com.android.support:support-annotations:+&#39;</code>. The project is too big to refactor all the NonNls annotation usages."}, {"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "reply_to_user": {"reputation": 360, "user_id": 4158724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wNz1N.jpg?s=128&g=1", "display_name": "alexfi", "link": "https://stackoverflow.com/users/4158724/alexfi"}, "edited": false, "score": 0, "creation_date": 1480677236, "post_id": 40927084, "comment_id": 69072638, "body": "remove both dependencies and change import to &#39;javax.annotation.NonNull&#39;"}], "tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": false, "score": 1, "last_activity_date": 1480664335, "creation_date": 1480664335, "answer_id": 40927084, "question_id": 40806977, "link": "https://stackoverflow.com/questions/40806977/kotlin-gradle-build-zipexception-because-of-duplicates/40927084#40927084", "title": "Kotlin gradle.build ZipException because of duplicates", "body": "<p>Try to use instead of:</p>\n\n<pre><code>compile 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n\n<p>this:</p>\n\n<pre><code>compile 'com.android.support:support-annotations:+'\n</code></pre>\n\n<p>Android support libraries by default provides like Kotlin a few most used annotations, so if you use basiscs like <code>@NonNull</code>, <code>@Nullable</code> and <code>@Null</code> annotations  you, remove above dependency.</p>\n"}], "owner": {"reputation": 360, "user_id": 4158724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wNz1N.jpg?s=128&g=1", "display_name": "alexfi", "link": "https://stackoverflow.com/users/4158724/alexfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1480684594, "creation_date": 1480083399, "last_edit_date": 1495542269, "question_id": 40806977, "link": "https://stackoverflow.com/questions/40806977/kotlin-gradle-build-zipexception-because-of-duplicates", "title": "Kotlin gradle.build ZipException because of duplicates", "body": "<p>I add Kotlin to the gradle.build with dependency (Kotlin version 1.0.4):</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p>As I found out it has a conflict with my other dependency:</p>\n\n<pre><code>compile 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n\n<p>After I run the build it crashes with the ZipException:</p>\n\n<pre><code>com.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: org/jetbrains/annotations/Nullable.class\n</code></pre>\n\n<p><strong>What I already tried:</strong></p>\n\n<p>I tried this solution: \n<a href=\"https://stackoverflow.com/questions/39660420/kotlin-java-multidex-dagger-2-butterknife-and-realm-transformclasseswithjarmerg/39660615#39660615\">Kotlin,Java,multidex,Dagger 2,Butterknife and Realm: transformClassesWithJarMergingForDebug: duplicate entry: org/jetbrains/annotations/NotNull.class</a> \nBut it ended up, that not only <em>Nullable.class</em> and <em>NotNull.class</em> were duplicates, but also classes from <em>org/intellij/lang/annotations/</em>. </p>\n\n<p>After I added five classes it still crashed. Is there a better way to get rid of this problem, by not adding every class manually that causes this exception?</p>\n\n<p><strong>UPDATE (02.02.16)</strong></p>\n\n<p>As I worked a bit on the problem, I found out that for my project the relevant annotation classes are <code>NonNls.class</code> and <code>Contract.class</code> that are missing, if I remove <code>org.jetbrains:annotations-java5:15.0</code>. They are not in kotlin-runtime, but in the Jetbrains annotation dependency. How can I add it without adding the Jetbrains annotation dependency again?</p>\n"}, {"tags": ["return", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 5, "last_activity_date": 1480078140, "creation_date": 1480078140, "answer_id": 40805484, "question_id": 40805153, "link": "https://stackoverflow.com/questions/40805153/is-it-good-practice-to-use-run-function-instead-of-return-in-kotlin/40805484#40805484", "title": "Is it good practice to use run function instead of return in Kotlin?", "body": "<p>For more complicated functions the first option will be more readable.\nFor simple functions I would suggest taking a look at <a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">Single-expression function</a> syntax.</p>\n\n<pre><code>fun plus(a: Int, b: Int): Int = a + b\n</code></pre>\n"}], "owner": {"reputation": 727, "user_id": 7108266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2123ca83dfca370821fbac4360a5a27?s=128&d=identicon&r=PG&f=1", "display_name": "mmorihiro", "link": "https://stackoverflow.com/users/7108266/mmorihiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 40805484, "answer_count": 1, "score": 1, "last_activity_date": 1480078140, "creation_date": 1480077047, "question_id": 40805153, "link": "https://stackoverflow.com/questions/40805153/is-it-good-practice-to-use-run-function-instead-of-return-in-kotlin", "title": "Is it good practice to use run function instead of return in Kotlin?", "body": "<p>Kotlin has an extension function <code>run</code>.</p>\n\n<pre><code>/**\n * Calls the specified function [block] and returns its result.\n */\n@kotlin.internal.InlineOnly\npublic inline fun &lt;R&gt; run(block: () -&gt; R): R = block()\n</code></pre>\n\n<p>And <code>run</code> function can be used instead of return.</p>\n\n<pre><code>// an example multi-line method using return\nfun plus(a: Int, b: Int): Int {\n  val sum = a + b\n  return sum\n}\n\n// uses run instead of return\nfun plus(a: Int, b: Int): Int = run {\n  val sum = a + b\n  sum\n}\n</code></pre>\n\n<p>Which style is better?</p>\n"}, {"tags": ["sorting", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 16, "last_activity_date": 1480070404, "creation_date": 1480070404, "answer_id": 40803024, "question_id": 40802047, "link": "https://stackoverflow.com/questions/40802047/kotlin-sorting-nulls-last/40803024#40803024", "title": "Kotlin sorting nulls last", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html#compareby\" rel=\"noreferrer\"><code>compareBy</code></a> and pass <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-last.html#nullslast\" rel=\"noreferrer\"><code>nullsLast</code></a> as comparator like so:</p>\n\n<pre><code>val elements = listOf(SomeObject(\"bbb\"), SomeObject(null), SomeObject(\"aaa\"))\n\nval sorted = elements.sortedWith(compareBy&lt;SomeObject,String?&gt;(nullsLast(), { it.name }))\n\nprintln(sorted) //-&gt; [SomeObject(name=aaa), SomeObject(name=bbb), SomeObject(name=null)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1265, "user_id": 2054500, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0b35d78dbd0ced2cedf7aa32a4e244dc?s=128&d=identicon&r=PG", "display_name": "DoruAdryan", "link": "https://stackoverflow.com/users/2054500/doruadryan"}, "edited": false, "score": 0, "creation_date": 1612523593, "post_id": 40803052, "comment_id": 116799572, "body": "A small addition here, when comparing descending:  <code>compareByDescending(nullsLast&lt;String&gt;(), { it.nullableField })</code> would actually sort the null values on first positions, so maybe it would make more sense, and be clearer to write the code like so:  <code>sortedWith(nullsLast(compareBy { it.nullableField }))</code> or its complementary: <code>sortedWith(nullsLast(compareByDescending { it.nullableField }))</code>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 32, "last_activity_date": 1496832633, "last_edit_date": 1496832633, "creation_date": 1480070504, "answer_id": 40803052, "question_id": 40802047, "link": "https://stackoverflow.com/questions/40802047/kotlin-sorting-nulls-last/40803052#40803052", "title": "Kotlin sorting nulls last", "body": "<p>You can use these functions from the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/index.html\" rel=\"noreferrer\"><code>kotlin.comparisons</code></a> package:</p>\n\n<ul>\n<li><p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-last.html\" rel=\"noreferrer\"><code>fun &lt;T: Comparable&lt;T&gt;&gt; nullsLast(): Comparator&lt;T?&gt;</code></a>, which constructs a comparator of something comparable that just puts <code>null</code>s after all not-null values;</p></li>\n<li><p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html\" rel=\"noreferrer\"><code>fun &lt;T, K&gt; compareBy(comparator: Comparator&lt;in K&gt;, selector: (T) -&gt; K): Comparator&lt;T&gt;</code></a>, which accepts a comparator and a function that provides values for the comparator, combining them into a new comparator;</p></li>\n</ul>\n\n<p>This will let you make a comparator that compares <code>SomeObject</code> by <code>nullableField</code> putting <code>null</code>s last. Then you can simply pass the comparator to <br><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-with.html\" rel=\"noreferrer\"><code>fun &lt;T&gt; Iterable&lt;T&gt;.sortedWith(comparator: Comparator&lt;in T&gt;): List&lt;T&gt;</code></a>, which sorts an iterable into a list using a comparator:</p>\n\n<pre><code>val l = listOf(SomeObject(null), SomeObject(\"a\"))\n\nl.sortedWith(compareBy(nullsLast&lt;String&gt;()) { it.nullableField }))\n// [SomeObject(nullableField=a), SomeObject(nullableField=null)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 7505033, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-621Bt1AGseg/AAAAAAAAAAI/AAAAAAAAAPc/lwrVVFqiXhY/photo.jpg?sz=128", "display_name": "Meysam Hadigheh", "link": "https://stackoverflow.com/users/7505033/meysam-hadigheh"}, "is_accepted": false, "score": 0, "last_activity_date": 1591311215, "creation_date": 1591311215, "answer_id": 62205466, "question_id": 40802047, "link": "https://stackoverflow.com/questions/40802047/kotlin-sorting-nulls-last/62205466#62205466", "title": "Kotlin sorting nulls last", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/nulls-last.html#nullslast\" rel=\"nofollow noreferrer\">nullsLast</a> and pass  <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html#compareby\" rel=\"nofollow noreferrer\">compareBy</a> as comparator like so:</p>\n\n<pre><code>val sortedValues = mutableListOf(1 to \"a\", 2 to null, 7 to \"c\", 6 to \"d\", 5 to \"c\", 6 to \"e\")\n\nsortedValues.sortWith(nullsLast(compareBy { it.second }))\n\nprintln(sortedValues)\n</code></pre>\n"}], "owner": {"reputation": 1802, "user_id": 991894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Euuks.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/991894/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5405, "favorite_count": 1, "accepted_answer_id": 40803052, "answer_count": 3, "score": 30, "last_activity_date": 1591311215, "creation_date": 1480067506, "question_id": 40802047, "link": "https://stackoverflow.com/questions/40802047/kotlin-sorting-nulls-last", "title": "Kotlin sorting nulls last", "body": "<p>What would be a Kotlin way of sorting list of objects by nullable field with nulls last? </p>\n\n<p>Kotlin object to sort:\n</p>\n\n<pre><code>@JsonInclude(NON_NULL)\ndata class SomeObject(\n    val nullableField: String?\n)\n</code></pre>\n\n<p>Analogue to below Java code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void name() {\n    List&lt;SomeObject&gt; sorted = Stream.of(new SomeObject(\"bbb\"), new SomeObject(null), new SomeObject(\"aaa\"))\n            .sorted(Comparator.comparing(SomeObject::getNullableField, Comparator.nullsLast(Comparator.naturalOrder())))\n            .collect(toList());\n\n    assertEquals(\"aaa\", sorted.get(0).getNullableField());\n    assertNull(sorted.get(2).getNullableField());\n}\n\n@Getter\n@AllArgsConstructor\nprivate static class SomeObject {\n    private String nullableField;\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "is_accepted": false, "score": 0, "last_activity_date": 1480034913, "creation_date": 1480034913, "answer_id": 40796262, "question_id": 40796099, "link": "https://stackoverflow.com/questions/40796099/issue-converting-java-bean-with-inheritance-to-kotlin/40796262#40796262", "title": "Issue converting Java bean with inheritance to Kotlin", "body": "<blockquote>\n  <p>do we just create a standard Kotlin class with variables, extends the super class, and manually craft the getter-setters?</p>\n</blockquote>\n\n<p>Pretty much, yeah, although not with <em>variables</em> but with <em>properties</em>. If your <code>SuperClazz</code> doesn't have any fields, then you might be able to convert it to an interface, and data classes can implement interfaces - you'd still have to implement the methods though, but that would enable you to utilize the same architecture (iterate over super-typed parameter collection). There isn't any way to use data class auto-properties in the way you describe.</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 5733033, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84e9391894881d798ae1d7246bbbc40e?s=128&d=identicon&r=PG&f=1", "display_name": "user5733033", "link": "https://stackoverflow.com/users/5733033/user5733033"}, "edited": false, "score": 0, "creation_date": 1480291068, "post_id": 40798660, "comment_id": 68887997, "body": "We decided to do it:    interface HasStuff { val sharedDt:Int }    data class Class1(override val sharedDt:Int, val other:String) : HasStuff    data class Class2(override val sharedDt:Int, val specific:Int) : HasStuff        class Container {        private var items = listOf&lt;HasStuff&gt;()        fun add(a:HasStuff) { items += a }    }"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 1, "last_activity_date": 1480053709, "creation_date": 1480053709, "answer_id": 40798660, "question_id": 40796099, "link": "https://stackoverflow.com/questions/40796099/issue-converting-java-bean-with-inheritance-to-kotlin/40798660#40798660", "title": "Issue converting Java bean with inheritance to Kotlin", "body": "<p>There are typically 2 (not mutual) ways you can kill the need for class inheritance:</p>\n\n<h3>1. Use composition</h3>\n\n<p>Extract the pieces that are common between <code>Clazz1</code> and <code>Clazz2</code> into separate class. i.e</p>\n\n<pre><code>data class SharedStuff(val a:Int, val b:String)\ndata class Class1(val stuff:SharedStuff, val other:String)\ndata class Class2(val stuff:SharedStuff, val specific:Int)\n</code></pre>\n\n<p>Which you can then use in a list for instance</p>\n\n<pre><code>class Container {\n    private var items = listOf&lt;()-&gt;SharedStuff&gt;()\n    fun add(a:Class1) { items += { a.stuff } }\n    fun add(b:Class2) { items += { b.stuff } }\n}\n</code></pre>\n\n<h3>2. Use interfaces</h3>\n\n<p>From the example above it's easy to follow that you can extract an interface to represent the common inside <code>Class1</code> and <code>Class2</code> like so:</p>\n\n<pre><code>interface HasStuff { val stuff:SharedStuff }\n\ndata class SharedStuff(val a:Int, val b:String)\ndata class Class1(override val stuff:SharedStuff, val other:String) : HasStuff\ndata class Class2(override val stuff:SharedStuff, val specific:Int) : HasStuff\n\nclass Container {\n    private var items = listOf&lt;HasStuff&gt;()\n    fun add(a:HasStuff) { items += a }\n}\n</code></pre>\n\n<p>Note that we do not necessarily need the <code>SharedStuff</code> as class. You can also have more members on the shared interface and still achieve brevity <a href=\"https://kotlinlang.org/docs/reference/delegation.html#delegation\" rel=\"nofollow noreferrer\">through Kotlin's delegation</a>. <em>(However it's usually better <a href=\"https://en.wikipedia.org/wiki/Interface_segregation_principle\" rel=\"nofollow noreferrer\">to have \"small\" interfaces</a>)</em></p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 5733033, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84e9391894881d798ae1d7246bbbc40e?s=128&d=identicon&r=PG&f=1", "display_name": "user5733033", "link": "https://stackoverflow.com/users/5733033/user5733033"}, "is_accepted": false, "score": 1, "last_activity_date": 1480291210, "creation_date": 1480291210, "answer_id": 40835360, "question_id": 40796099, "link": "https://stackoverflow.com/questions/40796099/issue-converting-java-bean-with-inheritance-to-kotlin/40835360#40835360", "title": "Issue converting Java bean with inheritance to Kotlin", "body": "<p>We decided to do it:</p>\n\n<pre><code>   interface HasStuff { val sharedDt:Int }\n   data class Class1(override val sharedDt:Int, val other:String) : HasStuff\n   data class Class2(override val sharedDt:Int, val specific:Int) : HasStuff\n\n   class Container {\n       private var items = listOf&lt;HasStuff&gt;()\n       fun add(a:HasStuff) { items += a }\n   }\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 5733033, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/84e9391894881d798ae1d7246bbbc40e?s=128&d=identicon&r=PG&f=1", "display_name": "user5733033", "link": "https://stackoverflow.com/users/5733033/user5733033"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 40798660, "answer_count": 3, "score": 1, "last_activity_date": 1480291210, "creation_date": 1480033281, "question_id": 40796099, "link": "https://stackoverflow.com/questions/40796099/issue-converting-java-bean-with-inheritance-to-kotlin", "title": "Issue converting Java bean with inheritance to Kotlin", "body": "<p>On the current Java class we have 2 Java beans Clazz1 and Clazz2 where both extend super class SuperClazz. We also have a list where we iterate the super class entries which can be Clazz1 or Clazz2:</p>\n\n<pre><code>List&lt;SuperClazz&gt; entries;\n</code></pre>\n\n<p>We now need to convert the code to Kotlin but since <em>data class</em> does not support inheritance we are unsure on the best way to tackle the issue, do we just create a standard Kotlin class with variables, extends the super class, and manually craft the getter-setters? Or, is there any better way of doing this?</p>\n"}, {"tags": ["ant", "kotlin", "patch", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 237043, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jn8kX.jpg?s=128&g=1", "display_name": "John Michelau", "link": "https://stackoverflow.com/users/237043/john-michelau"}, "edited": false, "score": 0, "creation_date": 1590789740, "post_id": 40803340, "comment_id": 109824672, "body": "This was helpful to know how to use the Zip task from Groovy with @CompileStatic as well."}], "tags": [], "owner": {"reputation": 16928, "user_id": 1047788, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xA1rW.png?s=128&g=1", "display_name": "user7610", "link": "https://stackoverflow.com/users/1047788/user7610"}, "is_accepted": true, "score": 2, "last_activity_date": 1513346831, "last_edit_date": 1513346831, "creation_date": 1480071315, "answer_id": 40803340, "question_id": 40791793, "link": "https://stackoverflow.com/questions/40791793/using-ant-tasks-from-gradle-script-kotlin/40803340#40803340", "title": "Using ant tasks from gradle-script-kotlin", "body": "<p>This works for me:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.apache.tools.ant.taskdefs.Patch\n\nval patchConfigTask = task(\"patchConfig\") {\n    dependsOn(unzipTask)    \n\n    doLast {\n        val resources = projectDir.resolve(\"src/main/resources\")\n        val patchFile = resources.resolve(\"config.patch\")\n\n        Patch().apply {\n            setPatchfile(patchFile)\n            setDir(buildDir.resolve(\"config/\"))\n            setStrip(1)  // gets rid of the a/ b/ prefixes\n            execute()\n        }\n    }\n}\n</code></pre>\n\n<p>I am not sure if it's the one-right-way-to-do-it.</p>\n"}, {"tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": false, "score": 3, "last_activity_date": 1513347804, "creation_date": 1513347804, "answer_id": 47834276, "question_id": 40791793, "link": "https://stackoverflow.com/questions/40791793/using-ant-tasks-from-gradle-script-kotlin/47834276#47834276", "title": "Using ant tasks from gradle-script-kotlin", "body": "<p><a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/AntBuilder.html\" rel=\"nofollow noreferrer\"><code>AntBuilder</code></a> extends from Groovy's <a href=\"http://docs.groovy-lang.org/docs/groovy-2.4.12/html/gapi/groovy/util/AntBuilder.html\" rel=\"nofollow noreferrer\"><code>AntBuilder</code></a>. You can translate the dynamic method invocations from groovy like <code>ant.patch()</code> to Kotlin by using <code>invokeMethod</code> and providing the desired task as the first argument and the properties to bind as a map in the second argument.</p>\n\n<p>For example, for your <em>Patch</em> use case (<a href=\"https://ant.apache.org/manual/Tasks/patch.html\" rel=\"nofollow noreferrer\">available properties documentation</a>) the Kotlin could look like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val patchSources by tasks.creating {\n  doLast {\n    ant.invokeMethod(\"patch\", mapOf(\n        \"patchfile\" to patchFile,\n        \"dir\" to configDir,\n        \"strip\" to 1\n    ))\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 16928, "user_id": 1047788, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xA1rW.png?s=128&g=1", "display_name": "user7610", "link": "https://stackoverflow.com/users/1047788/user7610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 1, "accepted_answer_id": 40803340, "answer_count": 2, "score": 3, "last_activity_date": 1513347804, "creation_date": 1480007567, "last_edit_date": 1504920792, "question_id": 40791793, "link": "https://stackoverflow.com/questions/40791793/using-ant-tasks-from-gradle-script-kotlin", "title": "Using ant tasks from gradle-script-kotlin", "body": "<p>How can I access ant tasks from my <code>build.gradle.kts</code> script? In particular, I am interested in the <code>ant.patch</code> task.</p>\n\n<p>Can I extend it, like so?</p>\n\n<pre><code>task(\"patchSources\", Patch::class) {\n</code></pre>\n\n<p>Can I invoke it from other task, like this?</p>\n\n<pre><code>task(\"patchSources\") {\n    doLast {\n        ant.patch(...)\n    }\n}\n</code></pre>\n\n<p>I know how to do it in Groovy: <a href=\"https://stackoverflow.com/questions/17064086/how-do-i-apply-a-patch-file-in-gradle\">How do I apply a patch file in Gradle?</a></p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-library"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1480030499, "post_id": 40791418, "comment_id": 68813571, "body": "Add <code>--debug</code> flag, it can be useful to understand root of the problem. Also, if possible, show content of <code>MapFragmentWrapper</code>  <code>.&#47;gradlew install --debug</code>"}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 2, "creation_date": 1480030712, "post_id": 40791418, "comment_id": 68813620, "body": "Also you can try disable javadoc generation <a href=\"https://github.com/novoda/bintray-release/issues/71#issuecomment-224324120\" rel=\"nofollow noreferrer\">github.com/novoda/bintray-release/issues/&hellip;</a> and use KDoc instead"}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1480032242, "post_id": 40791418, "comment_id": 68813914, "body": "Hey, thanks. I disabled the javadoc and it worked. But I Will try the --debug later"}], "answers": [{"tags": [], "owner": {"reputation": 2932, "user_id": 1203182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9739a1753ea9cea0819df2724beed2fa?s=128&d=identicon&r=PG&f=1", "display_name": "spy", "link": "https://stackoverflow.com/users/1203182/spy"}, "is_accepted": false, "score": 0, "last_activity_date": 1480078937, "creation_date": 1480078937, "answer_id": 40805719, "question_id": 40791418, "link": "https://stackoverflow.com/questions/40791418/gradle-install-error-javadoc/40805719#40805719", "title": "Gradle install error: Javadoc", "body": "<p>Try using gradle-fury's scripts to generate javadoc. It does a different version for each android variant, supports umldocs via graphviz, the doc-html folder structure and more. For both Java and Android</p>\n\n<p>Once the scripts are applied to your setup, make the javadocs via\n<code>gradlew install -Pprofile=javadoc</code></p>\n\n<p><a href=\"https://github.com/gradle-fury/gradle-fury\" rel=\"nofollow noreferrer\">https://github.com/gradle-fury/gradle-fury</a></p>\n"}, {"tags": [], "owner": {"reputation": 1085, "user_id": 3753040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eA42y.png?s=128&g=1", "display_name": "Benny", "link": "https://stackoverflow.com/users/3753040/benny"}, "is_accepted": false, "score": 0, "last_activity_date": 1580867021, "creation_date": 1580867021, "answer_id": 60067930, "question_id": 40791418, "link": "https://stackoverflow.com/questions/40791418/gradle-install-error-javadoc/60067930#60067930", "title": "Gradle install error: Javadoc", "body": "<p>In your main gradle file, add the following lines:</p>\n\n<pre><code>tasks.withType(Javadoc).all {\n   enabled = false\n}\n</code></pre>\n\n<p>Note: this will still normally show the javadocs when you press control + space on top of a class or method.</p>\n\n<p>If you want to read more details check this link: <a href=\"https://github.com/novoda/bintray-release/issues/71\" rel=\"nofollow noreferrer\">https://github.com/novoda/bintray-release/issues/71</a></p>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1003, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1580867021, "creation_date": 1480006059, "question_id": 40791418, "link": "https://stackoverflow.com/questions/40791418/gradle-install-error-javadoc", "title": "Gradle install error: Javadoc", "body": "<p>I am trying to upload a android library automatically into bintray.</p>\n\n<p>I have this app gradle code:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\next {\n    bintrayRepo = 'maven'\n    bintrayName = 'CurrentCenterPositionMap'\n\n    publishedGroupId = 'renatamelo@patriauto.org'\n    libraryName = 'CurrentCenterPositionMap'\n    artifact = 'current-center-position-map'\n\n    libraryDescription = 'A library to mark the center of a map with moveing animations'\n\n    siteUrl = 'https://github.com/leandroBorgesFerreira/CurrentCenterPositionMap'\n    gitUrl = 'https://github.com/leandroBorgesFerreira/CurrentCenterPositionMap.git'\n\n    libraryVersion = '0.8.1'\n\n    developerId = 'leandroBorgesFerreira'\n    developerName = 'Leandro Borges Ferreira'\n    developerEmail = 'lehen01@gmail.com'\n\n    licenseName = 'The Apache Software License, Version 2.0'\n    licenseUrl = 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n    allLicenses = [\"Apache-2.0\"]\n}\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.1\"\n\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n}\n\n// Place it at the end of the file\napply from: 'https://raw.githubusercontent.com/nuuneoi/JCenter/master/installv1.gradle'\napply from: 'https://raw.githubusercontent.com/nuuneoi/JCenter/master/bintrayv1.gradle'\n</code></pre>\n\n<p>And this project gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.0.4'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.2'\n        classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:1.4'\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.4.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>But when I run:</p>\n\n<pre><code>./gradlew install\n</code></pre>\n\n<p>I get this error: </p>\n\n<pre><code>javadoc: error - Illegal package name: \"/Users/hinovamobile/Desktop/Leandro/projetinhos/CurrentCenterPositionMap/mapfragmentwrapper/src/main/java/br/com/simplepass/mapfragmentwrapper/MapFragmentWrapper.kt\"\n1 error\n:mapfragmentwrapper:javadoc FAILED\n</code></pre>\n\n<p>So what I am doing wrong? I'm not sure how to fix this error in the Javadoc...</p>\n"}, {"tags": ["java", "concurrency", "locking", "kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1479993353, "post_id": 40786974, "comment_id": 68797251, "body": "Don&#39;t you know <code>Future</code> has a method called <code>cancel</code>?"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1479993715, "post_id": 40786974, "comment_id": 68797493, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1418033/java-executors-how-can-i-stop-submitted-tasks\">Java Executors: how can I stop submitted tasks?</a>"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1479994507, "post_id": 40786974, "comment_id": 68798015, "body": "I am aware, see my edit"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1479995195, "post_id": 40786974, "comment_id": 68798523, "body": "Isn&#39;t storing all references in a set and calling <code>cancel</code> on each of them good enough? Or are you worrying about the tiny overhead caused?"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1479995588, "post_id": 40786974, "comment_id": 68798809, "body": "How would I do that without potentially cancelling the latest submitted one?"}], "answers": [{"comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1479996991, "post_id": 40788541, "comment_id": 68799654, "body": "No, that would keep all but one <code>RenderableThing</code>, where I only want to remove it if it is the same one. I already tried similar code (but putting it in <code>RenderableThing</code> to solve this issue), but ran into issues since the delayed locking means anything could have happened in the meantime."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1479997962, "post_id": 40788541, "comment_id": 68800243, "body": "Actually, Modifying your code to mix it with what I was doing earlier might just solve my problem. Let me run some tests."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1479999566, "post_id": 40788541, "comment_id": 68801219, "body": "@RuckusT-Boom Updated."}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 0, "last_activity_date": 1479999378, "last_edit_date": 1479999378, "creation_date": 1479996670, "answer_id": 40788541, "question_id": 40786974, "link": "https://stackoverflow.com/questions/40786974/cancel-superseded-task-in-threadpool-in-java-kotlin/40788541#40788541", "title": "Cancel superseded task in ThreadPool in Java/Kotlin", "body": "<p>I'm just wondering if this piece of code works:</p>\n\n<pre><code>//...\nfun doBackgroundStuff(thing: RenderableThing): Future&lt;Stuff&gt; {\n    L.L.get(thing)?.cancel(true)\n    val cache = thing.cache()\n    val f = pool.submit {\n        try {\n            thing.lock()\n            // Do long running I/O task on cache\n        } finally {\n            thing.unlock()\n        }\n    }\n    L.L.put(thing, f)\n    return f\n}\n//...\n\nobject L {\n    val L: IdentityHashMap&lt;RenderableThing, Future&lt;Stuff&gt;&gt;  ? = IdentityHashMap&lt;&gt;()\n}\n</code></pre>\n"}], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 40788541, "answer_count": 1, "score": 0, "last_activity_date": 1479999378, "creation_date": 1479992142, "last_edit_date": 1495540379, "question_id": 40786974, "link": "https://stackoverflow.com/questions/40786974/cancel-superseded-task-in-threadpool-in-java-kotlin", "title": "Cancel superseded task in ThreadPool in Java/Kotlin", "body": "<p>I'm trying to figure out how to cancel a task in a <code>ThreadPool</code> if a new tasks comes along that supersedes it.  I have some classes similar to this:</p>\n\n<pre><code>class RenderableThing {\n    private val lock = ReentrantLock()\n    fun lock(interrupt: Boolean) {\n        if (lock.isLocked &amp;&amp; interrupt) {\n            // How do I interrupt the thread that has the lock?\n        }\n        lock.lock()\n    }\n    fun unlock() = lock.unlock()\n\n    fun cache() = Cached()\n    inner class Cached()\n}\n\nclass BackgroundStuff(threads: Int) {\n    val pool = Executors.newFixedThreadPool(threads)!!\n\n    fun doBackgroundStuff(thing: RenderableThing): Future&lt;Stuff&gt; {\n        val cache = thing.cache()\n        return pool.submit {\n            try {\n                thing.lock()\n                // Do long running I/O task on cache\n            } finally {\n                thing.unlock()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, if the same <code>RenderableThing</code> gets submitted to <code>doBackgroundStuff</code> (a change was made and needs to be saved to disk), I would like to be able to able to cancel the <code>Future</code> of the previous submission (since it's now out of date and will be overwritten, there's no reason to wait for it to finish anymore). The problem is, the locking is taking place inside the future that doesn't exist yet.</p>\n\n<p>I know you're never supposed to force kill a locked thread (I don't even know how since it's a <code>ReentrantLock</code>), so what is the proper way to do this?</p>\n\n<p><strong>Edit</strong>: My question is different from <a href=\"https://stackoverflow.com/questions/1418033/java-executors-how-can-i-stop-submitted-tasks\">this one</a> as I don't have access to the future to cancel it (the lock isn't put in place till the <code>ThreadPool</code> picks it up, and by that point the <code>thing</code> could have been submitted multiple times, and I don't know which would own the lock). If I did it would be a piece of cake (the code to handle interruption is already in place). How should I change my code to get a reference to the future (or even the thread) that owns the lock?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 5, "last_activity_date": 1479988101, "creation_date": 1479988101, "answer_id": 40785627, "question_id": 40785564, "link": "https://stackoverflow.com/questions/40785564/kotlin-extension-property-is-not-recognized-in-string-template/40785627#40785627", "title": "Kotlin extension property is not recognized in string template", "body": "<p>You need to wrap your template-property in curly braces, just like you did with <code>list.last()</code>.</p>\n\n<pre><code>println(\"the last index is ${list.lastIndex}\")\n</code></pre>\n\n<p>Without the curly braces, it only recognizes <code>list</code> as the template-property.</p>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 997912, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YB0AA.jpg?s=128&g=1", "display_name": "lopushen", "link": "https://stackoverflow.com/users/997912/lopushen"}, "edited": false, "score": 1, "creation_date": 1479988884, "post_id": 40785651, "comment_id": 68794241, "body": "Thank you, that worked! upvoted, accepting the earlier answer"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 4, "last_activity_date": 1479988184, "creation_date": 1479988184, "answer_id": 40785651, "question_id": 40785564, "link": "https://stackoverflow.com/questions/40785564/kotlin-extension-property-is-not-recognized-in-string-template/40785651#40785651", "title": "Kotlin extension property is not recognized in string template", "body": "<p>Kotlin compiler needs to interpret the <code>string</code> in some way to build a <a href=\"https://stackoverflow.com/questions/37442198/how-does-string-interpolation-work-in-kotlin\"><code>StringBuilder</code> expression</a>. Since you're using a <code>.</code> the expression needs to be wrapped in <code>${..}</code> for the compiler to know how to interpret it:</p>\n\n<pre><code>println(\"the last index is ${list.lastIndex}\") // the last index is 5\n</code></pre>\n\n<p>The expression:</p>\n\n<pre><code>println(\"the last index is $list.lastIndex\")\n</code></pre>\n\n<p>is equivalent to </p>\n\n<pre><code>println(\"the last index is ${list}.lastIndex\")\n</code></pre>\n\n<p>Hence you see the <code>list.toString()</code> result in console.</p>\n"}], "owner": {"reputation": 907, "user_id": 997912, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/YB0AA.jpg?s=128&g=1", "display_name": "lopushen", "link": "https://stackoverflow.com/users/997912/lopushen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 40785627, "answer_count": 2, "score": 1, "last_activity_date": 1479988184, "creation_date": 1479987905, "question_id": 40785564, "link": "https://stackoverflow.com/questions/40785564/kotlin-extension-property-is-not-recognized-in-string-template", "title": "Kotlin extension property is not recognized in string template", "body": "<p>I've started to try kotlin out and a question has appeared\nI've declared an extension property for a mutable list and tried to use it in the string template this way:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val list = mutableListOf(1,2,3)\n    //  here if use String template the property does not work, list itself is printed\n     println(\"the last index is $list.lastIndex\")\n    // but this works - calling method\n    println(\"the last element is ${list.last()}\")\n    // This way also works, so the extension property works correct\n    println(\"the last index is \" +list.lastIndex)\n}\n\nval &lt;T&gt; List&lt;T&gt;.lastIndex: Int\n    get() = size - 1\n</code></pre>\n\n<p>and I've got the following output</p>\n\n<pre><code>the last index is [1, 2, 3].lastIndex\nthe last element is 3\nthe last index is 2\n</code></pre>\n\n<p>The output of the first println is expected to be the same as the third one. I've tried to get the last element of the list in the template and it worked ok (second output), so is that a bug or I am missing something when using an extension property?</p>\n\n<p>I am using kotlin 1.0.5</p>\n"}, {"tags": ["android", "xml", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1518968941, "post_id": 40784810, "comment_id": 84710420, "body": "I found this answer pointing to more o less the issue: <a href=\"https://stackoverflow.com/questions/24140877/do-string-resource-xml-files-allow-invalid-java-variables-as-name-attributes\" title=\"do string resource xml files allow invalid java variables as name attributes\">stackoverflow.com/questions/24140877/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1480328518, "post_id": 40841282, "comment_id": 68900835, "body": "Ok, but when you launch the app, It works perfect. This is an issue just Android Studio&#39;s design preview mode + kotlin. With Java It works too"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1480329304, "post_id": 40841282, "comment_id": 68901324, "body": "@cgarrido I think, it&#39;s bad idea to use dots, but you are welcome to open bug report (anyway, Kotlin isn&#39;t officially supported)"}], "tags": [], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "is_accepted": true, "score": 3, "last_activity_date": 1480326445, "creation_date": 1480326445, "answer_id": 40841282, "question_id": 40784810, "link": "https://stackoverflow.com/questions/40784810/using-dots-in-xml-ids/40841282#40841282", "title": "Using dots in xml ids", "body": "<p>You can't use dots, because following expression <code>R.id.main.description_container.title</code> will try to find member <code>main</code> which has type <code>Int</code> and then try find property <code>description_container</code>, but <code>Int</code> doesn't have such property</p>\n"}], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 40841282, "answer_count": 1, "score": 0, "last_activity_date": 1480326445, "creation_date": 1479985599, "question_id": 40784810, "link": "https://stackoverflow.com/questions/40784810/using-dots-in-xml-ids", "title": "Using dots in xml ids", "body": "<p>this is my first question</p>\n\n<p><strong>In Java I have never had this problem before.</strong> </p>\n\n<p>I spent two days because I had an issue <strong>just on design mode</strong> on Android studio inflating a CustomView with <strong>kotlin</strong>. I had a findByView = null after the inflate. Running the app, all is right</p>\n\n<pre><code>View.inflate(context, R.layout.widget_navigation_section_button, this) \nmLabel = findViewById(R.id.navigation_section_title)\nmLabel.setText(\"something\")\n</code></pre>\n\n<p>That throws a NPE <em>(for real in kotlin: kotlin.TypeCastException: null cannot be cast to non-null type android.widget.TextView   at ... $mLabel$2.invoke(CustomView.kt:22))</em></p>\n\n<p>Normally, I use a <code>&lt;layout&gt;[.&lt;where_container&gt;].&lt;name&gt;</code> pattern to name ids and string on XMls (ex: <code>android:id=\"@+id/main.description_container.title\"</code>)<br>\nThis is translated automatically in <code>R.id.main_description_container_title</code>(notice dots become underscores) in code</p>\n\n<p>The issue was solved when I replace these dots with underscores manually in the XML</p>\n\n<p>I was looking for name conventions explaining why dots should not used in ids or string naming, but without success. I want to know what is the real issue with this name convention. This should be really avoid it ? </p>\n\n<p>Should I just drop the idea and just user underscores ? Looking at it is an issue just on kotlin, maybe some gradle configuration ther ?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["android", "kotlin", "intentservice", "android-intentservice"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 19, "last_activity_date": 1479975965, "creation_date": 1479975965, "answer_id": 40781250, "question_id": 40781206, "link": "https://stackoverflow.com/questions/40781206/default-constructor-for-intentservice-kotlin/40781250#40781250", "title": "Default constructor for IntentService (kotlin)", "body": "<p>As explained <a href=\"https://stackoverflow.com/questions/11859403/no-empty-constructor-when-create-a-service\">here</a> your service class needs to have parameterless consturctor. Change your implementation to in example: </p>\n\n<pre><code>class MyService : IntentService(\"MyService\") {\n    override fun onCreate() {\n        super.onCreate()\n    }\n\n    override fun onHandleIntent(intent: Intent?) {\n    }\n}\n</code></pre>\n\n<p>The Android documentation on <a href=\"https://developer.android.com/reference/android/app/IntentService.html#IntentService(java.lang.String)\" rel=\"noreferrer\">IntentService</a> states that this name is only used for debugging:</p>\n\n<blockquote>\n  <p><code>name</code>    <code>String</code>: Used to name the worker thread, important only for debugging.</p>\n</blockquote>\n\n<p>While not stated explicitly, on the mentioned documentation page, the framework needs to be able to instantiate your service class and expects there will be a parameterless constructor.</p>\n"}], "owner": {"reputation": 891, "user_id": 6674369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-KutjM-8rSy8/AAAAAAAAAAI/AAAAAAAAAFE/LY4tfl7x0fc/photo.jpg?sz=128", "display_name": "Andriy Antonov", "link": "https://stackoverflow.com/users/6674369/andriy-antonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5780, "favorite_count": 0, "accepted_answer_id": 40781250, "answer_count": 1, "score": 11, "last_activity_date": 1479975965, "creation_date": 1479975833, "question_id": 40781206, "link": "https://stackoverflow.com/questions/40781206/default-constructor-for-intentservice-kotlin", "title": "Default constructor for IntentService (kotlin)", "body": "<p>I am new with Kotlin and little bit stack with intentService. Manifest shows me an error that my service doesn't contain default constructor, but inside service it looks ok and there are no errors.</p>\n\n<p>Here is my intentService:</p>\n\n<pre><code>class MyService : IntentService {\n\n    constructor(name:String?) : super(name) {\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n    }\n\n    override fun onHandleIntent(intent: Intent?) {\n    }\n}\n</code></pre>\n\n<p>I was also try another variant:</p>\n\n<pre><code>class MyService(name: String?) : IntentService(name) {\n</code></pre>\n\n<p>but when I try to run this service I still get an error:</p>\n\n<pre><code>java.lang.Class&lt;com.test.test.MyService&gt; has no zero argument constructor\n</code></pre>\n\n<p>Any ideas how to fix default constructor in Kotlin?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1479974776, "post_id": 40779818, "comment_id": 68784974, "body": "do you use proguard?"}, {"owner": {"reputation": 6775, "user_id": 253315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/09cc2d9e2e471b3a598a5c0b96732b6c?s=128&d=identicon&r=PG", "display_name": "bontoJR", "link": "https://stackoverflow.com/users/253315/bontojr"}, "reply_to_user": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1479975986, "post_id": 40779818, "comment_id": 68785551, "body": "@DimaRostopira no, it&#39;s disabled."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1479976114, "post_id": 40779818, "comment_id": 68785621, "body": "show this class then"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1479976682, "post_id": 40779818, "comment_id": 68785918, "body": "Are you using Instant Run?"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1479978490, "post_id": 40779818, "comment_id": 68786993, "body": "@Kiskae instant run not working with kotlin"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 1, "creation_date": 1479978805, "post_id": 40779818, "comment_id": 68787181, "body": "try moving api from constructor. make it lazy val: <code>private val api by lazy { RestApi()  }</code>"}, {"owner": {"reputation": 6775, "user_id": 253315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/09cc2d9e2e471b3a598a5c0b96732b6c?s=128&d=identicon&r=PG", "display_name": "bontoJR", "link": "https://stackoverflow.com/users/253315/bontojr"}, "reply_to_user": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1481189764, "post_id": 40779818, "comment_id": 69279438, "body": "I solved with removing the cache of Gradle and rebuilding the app from scratch. Instant Run was already off, because as @DimaRostopira said, it doesn&#39;t work with Kotlin. Thanks for the help!"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1481195583, "post_id": 40779818, "comment_id": 69283316, "body": "@bontoJR post this as answer, this might be useful for someone"}], "answers": [{"tags": [], "owner": {"reputation": 6775, "user_id": 253315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/09cc2d9e2e471b3a598a5c0b96732b6c?s=128&d=identicon&r=PG", "display_name": "bontoJR", "link": "https://stackoverflow.com/users/253315/bontojr"}, "is_accepted": true, "score": 5, "last_activity_date": 1481200725, "creation_date": 1481200725, "answer_id": 41039734, "question_id": 40779818, "link": "https://stackoverflow.com/questions/40779818/could-not-find-class-kotlin-jvm-internal-defaultconstructormarker/41039734#41039734", "title": "Could not find class &#39;kotlin.jvm.internal.DefaultConstructorMarker&#39;", "body": "<p>So, as @DimaRostopira said, Kotlin doesn't work with Instant Run, so that was already turned off, but apparently, after the update to a new version of Android Studio, it seems that a build has been completed to support Instant Run, so some of the already present built classes where only partially compiled and cached. </p>\n\n<p>I tried to clean the project, but I had to manually wipe the whole <code>build</code> folder to make the project correctly running again.</p>\n\n<p>So the solutions is to <code>rm -Rf build/</code> in the project folder, open Android Studio and re-built everything from scratch.</p>\n"}], "owner": {"reputation": 6775, "user_id": 253315, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/09cc2d9e2e471b3a598a5c0b96732b6c?s=128&d=identicon&r=PG", "display_name": "bontoJR", "link": "https://stackoverflow.com/users/253315/bontojr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4383, "favorite_count": 0, "accepted_answer_id": 41039734, "answer_count": 1, "score": 5, "last_activity_date": 1481200725, "creation_date": 1479970628, "last_edit_date": 1479976334, "question_id": 40779818, "link": "https://stackoverflow.com/questions/40779818/could-not-find-class-kotlin-jvm-internal-defaultconstructormarker", "title": "Could not find class &#39;kotlin.jvm.internal.DefaultConstructorMarker&#39;", "body": "<p>I am currently working on an Android app which is coded in Kotlin.\nEverything was fine until yesterday, at some point I started to have this error in the logcat and, when this happens, the content of the app is not displayed. Here's the long description:</p>\n\n<pre><code>11-23 17:08:40.819 10472-10472/ch.XXX.XXX W/dalvikvm: DexOpt: resolve class illegal access: Lch/XXX/XXX/commons/features/CouponsManager; -&gt; Lkotlin/jvm/internal/DefaultConstructorMarker;\n11-23 17:08:40.819 10472-10472/ch.XXX.XXX E/dalvikvm: Could not find class 'kotlin.jvm.internal.DefaultConstructorMarker', referenced from method ch.XXX.XXX.commons.features.CouponsManager.&lt;init&gt;\n11-23 17:08:40.819 10472-10472/ch.XXX.XXX W/dalvikvm: VFY: unable to resolve check-cast 3145 (Lkotlin/jvm/internal/DefaultConstructorMarker;) in Lch/XXX/XXX/commons/features/CouponsManager;\n11-23 17:08:40.819 10472-10472/ch.XXX.XXX W/dalvikvm: DexOpt: resolve class illegal access: Lch/XXX/XXX/commons/features/CouponsManager; -&gt; Lkotlin/jvm/internal/DefaultConstructorMarker;\n</code></pre>\n\n<p>The referenced class is written in Kotlin and was not modified before the error started to appear.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>here's the class that causes the issue:</p>\n\n<pre><code>class CouponsManager(private val api: RestApi = RestApi()) {\n\n    fun getAllCoupons(): Observable&lt;CouponDataResponse&gt; {\n        return Observable.create { subscriber -&gt;\n\n            val callResponse = api.getCoupons()\n            val response = callResponse.execute()\n\n            if (response.isSuccessful) {\n                val coupons = response.body()\n\n                subscriber.onNext(coupons)\n                subscriber.onCompleted()\n            } else {\n                subscriber.onError(Throwable(response.message()))\n            }\n\n        }\n    }\n\n    fun getCoupons(): Observable&lt;List&lt;Coupon&gt;&gt; {\n        return getAllCoupons().map {\n            it.Coupons.map {\n                Coupon(it.TopCouponImageUrl, it.BarcodeUrl, it.TopCouponText, it.BottomCouponText, it.BottomCouponImageUrl)\n            }\n        }\n    }\n\n    fun getLoyaltyCards(): Observable&lt;List&lt;Coupon&gt;&gt; {\n        return getAllCoupons().map {\n            it.Loyalty.map {\n                Coupon(it.TopCouponImageUrl, it.BarcodeUrl, it.TopCouponText, it.BottomCouponText, it.BottomCouponImageUrl)\n            }\n        }\n    }\n\n}\n</code></pre>\n"}]