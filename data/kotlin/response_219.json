[{"tags": ["android", "android-activity", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3895, "user_id": 1505074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8cfb7972cb291056f13e031e0b148?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1505074/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1553125789, "creation_date": 1553125789, "answer_id": 55271799, "question_id": 55271699, "link": "https://stackoverflow.com/questions/55271699/how-to-inherit-the-same-implementation-of-an-override-function-in-all-of-my-acti/55271799#55271799", "title": "How to inherit the same implementation of an override function in all of my activities?", "body": "<p>The basic of inheritance is that an inherited class can keep or overwrite the methods of the parent class. In your example it would be as simple as</p>\n\n<pre><code>class MasterActivity extends Activity {\n    public onStart() { // example\n        super.onStart();\n        // do something \n    }\n}\n\nclass SomeActivity extends MasterActivity {\n    // does the same in onStart\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7911, "user_id": 2825864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rwf0I.jpg?s=128&g=1", "display_name": "scottt", "link": "https://stackoverflow.com/users/2825864/scottt"}, "is_accepted": false, "score": 1, "last_activity_date": 1553131627, "creation_date": 1553131627, "answer_id": 55272495, "question_id": 55271699, "link": "https://stackoverflow.com/questions/55271699/how-to-inherit-the-same-implementation-of-an-override-function-in-all-of-my-acti/55272495#55272495", "title": "How to inherit the same implementation of an override function in all of my activities?", "body": "<p>Typically, when you create an activity, it inherits from one of the system provided Activity classes. That's what's meant by the \"extends\" keyword in the class declaration. By doing that, you get to use all the stuff in the system activity class as-is and get to override the methods that you want to customize. But that doesn't change anything in the base class; only your new activity class (and its descendants) will have those changes.</p>\n\n<p>If you want to have the same override in all of your activity classes, you'll first want to create a minimal intermediate activity class that extends the system activity class and only overrides the method(s) that you want to customize. Then use that new class as the parent for all of your full activity classes. Each of those will then automatically use the overridden method(s).</p>\n\n<p>That said, what are you trying to override? If you're just trying to change something appearance related, there are existing ways to accomplish that using themes/styles.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3712311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db4c7e8dbc501f2d9e8d08367e823b72?s=128&d=identicon&r=PG&f=1", "display_name": "Mikel Lopez", "link": "https://stackoverflow.com/users/3712311/mikel-lopez"}, "is_accepted": false, "score": 0, "last_activity_date": 1553161728, "creation_date": 1553161728, "answer_id": 55277627, "question_id": 55271699, "link": "https://stackoverflow.com/questions/55271699/how-to-inherit-the-same-implementation-of-an-override-function-in-all-of-my-acti/55277627#55277627", "title": "How to inherit the same implementation of an override function in all of my activities?", "body": "<p>You need to make a class with the method you want to override. Then inherit that class (that is going to be your parent class) in every class you need to have that method. Without writing it again you would be able to access to the method of the parent class.</p>\n\n<pre><code>class AClass(){\n      fun methodToOverride(){}\n}\n\nclass BClass(): AClass(){\n      override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        methodToOverride()\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5535513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VrhAO11UjXk/AAAAAAAAAAI/AAAAAAAAAHI/M96JGj0v-Hs/photo.jpg?sz=128", "display_name": "Josh Montgomery", "link": "https://stackoverflow.com/users/5535513/josh-montgomery"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1553161728, "creation_date": 1553125202, "question_id": 55271699, "link": "https://stackoverflow.com/questions/55271699/how-to-inherit-the-same-implementation-of-an-override-function-in-all-of-my-acti", "title": "How to inherit the same implementation of an override function in all of my activities?", "body": "<p>I am trying to implement an override method in all of the activities in my application. This override method originates from the app.Activity class. Rather than overriding this method and implementing the same exact code in every single activity one by one, is there a way to abstract this method out and apply it to every activity through inheritance?</p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin", "android-fragmentactivity"], "comments": [{"owner": {"reputation": 1535, "user_id": 931639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T8TU5.jpg?s=128&g=1", "display_name": "Boe-Dev", "link": "https://stackoverflow.com/users/931639/boe-dev"}, "edited": false, "score": 1, "creation_date": 1553122817, "post_id": 55271294, "comment_id": 97273908, "body": "I think you answer it by your self, you view is null, you should find out why. Do you initialize it before in the constructor or something?"}], "answers": [{"tags": [], "owner": {"reputation": 4780, "user_id": 3926506, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ex7wk.jpg?s=128&g=1", "display_name": "XIII-th", "link": "https://stackoverflow.com/users/3926506/xiii-th"}, "is_accepted": true, "score": 1, "last_activity_date": 1553162228, "last_edit_date": 1553162228, "creation_date": 1553161282, "answer_id": 55277489, "question_id": 55271294, "link": "https://stackoverflow.com/questions/55271294/how-to-access-activity-context-from-presenter/55277489#55277489", "title": "How to access activity context from presenter?", "body": "<p>You can deliver calculation result by <code>LiveData</code>. This tool is integrated with activity life cycle and your data will be delivered when activity (and it views) will be in active state.</p>\n\n<p>You can implement your calculator like this:</p>\n\n<pre><code>class Calculator {\n\n    private val resultLiveData = MutableLiveData&lt;String&gt;().apply { value = \"\" }\n    // expose result as live data\n    val result: LiveData&lt;String&gt; = resultLiveData\n\n    fun calculate(input: String) {\n        // calculation in worker thread\n        // ...\n        // return result for live data observers\n        resultLiveData.postValue(\"$input CALCULATED!\")\n    }\n\n    fun cancel() {\n        // depending on background worker\n    }\n}\n</code></pre>\n\n<p>And use it in activity (or fragment)</p>\n\n<pre><code>class MyActivity : Activity() {\n\n    private val calculator = Calculator()\n\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        calculator.result.observe(this::getLifecycle) { result -&gt;\n            // setup result in your view\n            text_view.text = result\n        }\n    }\n\n    override fun onStart() {\n        super.onStart()\n        calculator.calculate(\"Input data\")\n    }\n\n    override fun onStop() {\n        super.onStop()\n        calculator.cancel()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55277489, "answer_count": 1, "score": 0, "last_activity_date": 1553162228, "creation_date": 1553122250, "question_id": 55271294, "link": "https://stackoverflow.com/questions/55271294/how-to-access-activity-context-from-presenter", "title": "How to access activity context from presenter?", "body": "<p>I had an Activity with a calculation and I extracted the functionality of that Activity in MVP pattern, for simplicity:</p>\n\n<ol>\n<li>CalcActivity</li>\n<li>CalcPresenter</li>\n</ol>\n\n<p>Earlier I had all the calculation in one single CalcActivity. There I did some calculations in that activity:</p>\n\n<pre><code>private fun Calculator.doCalculation() {\n    this.complexCalcualtion(intArrayOf(1, 2, 3, 4, 5, 6), object : CalculationCallback {\n        override fun onSuccess(result: String) {\n           runOnUiThread {\n                result_textview.text = result\n           }\n        }\n    })\n}\n</code></pre>\n\n<p>This whole <code>doCalculation()</code> is done on another thread I guess. I moved this method to the presenter and I wanted to forward result to view:</p>\n\n<pre><code>private fun Calculator.doCalculation() {\n    this.complexCalcualtion(intArrayOf(1, 2, 3, 4, 5, 6), object : CalculationCallback {\n        override fun onSuccess(result: String) {\n            view?.showResult(result)\n        }\n    })\n}\n</code></pre>\n\n<p>But view? is never called since it is null in the <code>CalculationCallback.onSuccess()</code> and I cant see <code>view</code> there.</p>\n\n<p>Also I do not have access to activity there, so I can not <code>runOnUiThread</code> there..</p>\n\n<p>How can I forward my result back to view/activity?</p>\n"}, {"tags": ["kotlin", "caching", "kotlin-coroutines", "caffeine"], "answers": [{"comments": [{"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 0, "creation_date": 1553121773, "post_id": 55270950, "comment_id": 97273615, "body": "Thanks for the response and for the clarification about the Caffeine executor. I like the idea of accepting a <code>CoroutineScope</code> in the constructor. If I were to end up passing in a <code>CoroutineScope</code> from the wider application, what kind of benefits could that give me? I imagine that within the <code>AsyncCacheLoader</code> I&#39;d want to override both the <code>Dispatcher</code> (using the provided <code>Executor</code>) and the <code>Job</code> (since it wouldn&#39;t make sense for cache loading failures to propagate outside of the cache). Once that&#39;s done, it seems like there wouldn&#39;t be much of the original context left."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1553178071, "post_id": 55270950, "comment_id": 97294904, "body": "I don&#39;t see what benefits you&#39;d get from a coroutine scope passed in since you&#39;re clearly working outside the coroutine world and your callers don&#39;t have it at hand."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 3, "last_activity_date": 1553120090, "creation_date": 1553120090, "answer_id": 55270950, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines/55270950#55270950", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<blockquote>\n  <p>The cache owns the Executor and the CompletableFuture instances, so it already controls the lifecycle of the loading tasks that way.</p>\n</blockquote>\n\n<p>This is not true, the documentation on <code>Caffeine</code> specifies that it uses a user-provided <code>Executor</code> or <code>ForkJoinPool.commonPool()</code> if none is provided. This means that there is no default lifecycle.</p>\n\n<p>Regardless directly calling <code>GlobalScope</code> seems like the wrong solution because there is no reason to hardcode a choice. Simply provide a <code>CoroutineScope</code> through the constructor and use <code>GlobalScope</code> as an argument while you don't have an explicit lifecycle for the cache to bind to.</p>\n"}, {"tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1595682783, "last_edit_date": 1595682783, "creation_date": 1554021478, "answer_id": 55439143, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines/55439143#55439143", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<p>After some thought I've come up with a much simpler solution that I think uses coroutines more idiomatically.</p>\n<p>The approach works by using <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/AsyncCache.html#get-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>AsyncCache.get(key, mappingFunction)</code></a>, instead of implementing an <code>AsyncCacheLoader</code>. However, it ignores the <code>Executor</code> that the cache is configured to use, following the advice of some of the other answers here.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class SuspendingCache&lt;K, V&gt;(private val asyncCache: AsyncCache&lt;K, V&gt;) {\n    suspend fun get(key: K): V = supervisorScope {\n        getAsync(key).await()\n    }\n\n    private fun CoroutineScope.getAsync(key: K) = asyncCache.get(key) { k, _ -&gt;\n        future { \n            loadValue(k) \n        }\n    }\n\n    private suspend fun loadValue(key: K): V = TODO(&quot;Load the value&quot;)\n}\n</code></pre>\n<p>Note that this depends on <code>kotlinx-coroutines-jdk8</code> for the <code>future</code> coroutine builder and the <code>await()</code> function.</p>\n<p>I think ignoring the <code>Executor</code> is probably the right choice. As @Kiskae points out, the cache will use the <code>ForkJoinPool</code> by default. Choosing to use that rather than the default coroutine dispatcher is probably not useful. However, it would be easy to use it if we wanted to, by changing the <code>getAsync</code> function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun CoroutineScope.getAsync(key: K) = asyncCache.get(key) { k, executor -&gt;\n    future(executor.asCoroutineDispatcher()) { \n        loadValue(k) \n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 1251664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d16b48a62cdbfef261d7c061937a5d?s=128&d=identicon&r=PG", "display_name": "javen", "link": "https://stackoverflow.com/users/1251664/javen"}, "is_accepted": false, "score": 0, "last_activity_date": 1559806506, "last_edit_date": 1559806506, "creation_date": 1559797269, "answer_id": 56471133, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines/56471133#56471133", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<p>Here is my solution:</p>\n\n<p>Define an extension function of <code>CoroutineVerticle</code></p>\n\n<pre><code>fun &lt;K, V&gt; CoroutineVerticle.buildCache(configurator: Caffeine&lt;Any, Any&gt;.() -&gt; Unit = {}, loader: suspend CoroutineScope.(K) -&gt; V) = Caffeine.newBuilder().apply(configurator).buildAsync { key: K, _ -&gt;\n    // do not use cache's executor\n    future {\n        loader(key)\n    }\n}\n</code></pre>\n\n<p>Create our cache within <code>CoroutineVerticle</code></p>\n\n<pre><code>val cache : AsyncLoadingCache&lt;String, String&gt; = buildCache({\n  maximumSize(10_000)\n  expireAfterWrite(10, TimeUnit.MINUTES)\n}) { key -&gt;\n    // load data and return it\n    delay(1000)\n    \"data for key: $key\"\n}\n</code></pre>\n\n<p>Use the cache</p>\n\n<pre><code>suspend fun doSomething() {\n    val data = cache.get('key').await()\n\n    val future = cache.get('key2')\n    val data2 = future.await()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 6180554, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hrvu_iz-_ks/AAAAAAAAAAI/AAAAAAAAAB0/ogWbvUPcaks/photo.jpg?sz=128", "display_name": "lightsing", "link": "https://stackoverflow.com/users/6180554/lightsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1587717298, "creation_date": 1587717298, "answer_id": 61404284, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines/61404284#61404284", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<p>Here's a simple solution. Replace the K, V notation with your type.</p>\n\n<pre><code>    val cache = Caffeine.newBuilder().buildAsync&lt;K, V&gt; { key: K, _ -&gt;\n      val future = CompletableFuture&lt;V&gt;()\n\n      launch {\n        val result = someAwaitOperation(key)\n        future.complete(result)\n      }\n\n      future\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 895, "user_id": 485704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51dba7596fa10776cd51109f148b7da3?s=128&d=identicon&r=PG", "display_name": "Debop", "link": "https://stackoverflow.com/users/485704/debop"}, "is_accepted": false, "score": 0, "last_activity_date": 1601205798, "creation_date": 1601205798, "answer_id": 64087889, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines/64087889#64087889", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<p>Suggest extension method like this</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend inline fun &lt;K: Any, V: Any&gt; Caffeine&lt;Any, Any&gt;.suspendingLoadingCache(\n    crossinline suspendedLoader: suspend (key: K) -&gt; V\n): AsyncLoadingCache&lt;K, V&gt; =\n    buildAsync { key, executor: Executor -&gt;\n        CoroutineScope(executor.asCoroutineDispatcher()).future {\n            suspendedLoader(key)\n        }\n    }\n</code></pre>\n<p>Not recommand <code>GlobalScope</code>, use <code>CoroutineScope(executor.asCoroutineDispatcher())</code></p>\n<p><code>future</code> method is defined in <code>kotlinx-coroutines-jdk8</code> module</p>\n"}], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2153, "favorite_count": 1, "accepted_answer_id": 55439143, "answer_count": 5, "score": 2, "last_activity_date": 1601205798, "creation_date": 1553118741, "last_edit_date": 1582669505, "question_id": 55270732, "link": "https://stackoverflow.com/questions/55270732/how-do-i-use-an-async-cache-with-kotlin-coroutines", "title": "How do I use an async cache with Kotlin coroutines?", "body": "<p>I have a Kotlin JVM server application using coroutines and I need to put a cache in front of a non-blocking network call. I figure I can use a Caffeine <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/AsyncLoadingCache.html\" rel=\"nofollow noreferrer\"><code>AsyncLoadingCache</code></a> to get the non-blocking cache behaviour I need. The <a href=\"https://static.javadoc.io/com.github.ben-manes.caffeine/caffeine/2.7.0/com/github/benmanes/caffeine/cache/AsyncCacheLoader.html\" rel=\"nofollow noreferrer\"><code>AsyncCacheLoader</code></a> interface I would need to implement uses <code>CompletableFuture</code>. Meanwhile, the method I want to call to load the cache entries is a <code>suspend</code> function.</p>\n\n<p>I can bridge the gap like this:</p>\n\n<pre><code>abstract class SuspendingCacheLoader&lt;K, V&gt;: AsyncCacheLoader&lt;K, V&gt; {\n    abstract suspend fun load(key: K): V\n\n    final override fun asyncLoad(key: K, executor: Executor): CompletableFuture&lt;V&gt; {\n        return GlobalScope.async(executor.asCoroutineDispatcher()) {\n            load(key)\n        }.asCompletableFuture()\n    }\n}\n</code></pre>\n\n<p>This will run the <code>load</code> function on the provided <code>Executor</code> (by default, the <code>ForkJoinPool</code>), which from the point of view of Caffeine is the correct behaviour.</p>\n\n<p>However, I know that I should try to <a href=\"https://medium.com/@elizarov/the-reason-to-avoid-globalscope-835337445abc\" rel=\"nofollow noreferrer\">avoid using GlobalScope to launch coroutines</a>.</p>\n\n<p>I considered having my <code>SuspendingCacheLoader</code> implement <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/index.html\" rel=\"nofollow noreferrer\"><code>CoroutineScope</code></a> and manage its own coroutine context. But <code>CoroutineScope</code> is intended to be implemented by objects with a managed lifecycle. Neither the cache nor the <code>AsyncCacheLoader</code> has any lifecycle hooks. The cache owns the <code>Executor</code> and the <code>CompletableFuture</code> instances, so it already controls the lifecycle of the loading tasks that way. I can't see that having the tasks be owned by a coroutine context would add anything, and I'm worried that I wouldn't be able to correctly close the coroutine context after the cache stopped being used.</p>\n\n<p>Writing my own asynchronous caching mechanism would be prohibitively difficult, so I'd like to integrate with the Caffeine implementation if I can.</p>\n\n<p>Is using <code>GlobalScope</code> the right approach to implement <code>AsyncCacheLoader</code>, or is there a better solution?</p>\n"}, {"tags": ["android", "kotlin", "network-programming", "service-discovery", "nsd"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1553152462, "post_id": 55270638, "comment_id": 97281002, "body": "you use the API in a wrong way. There should be only one advertiser and multiple discoverers."}, {"owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1553174185, "post_id": 55270638, "comment_id": 97292352, "body": "Thank you for the hint! I&#39;m a lucky man that I&#39;m using a star topology so I could change it. But the Problem would persist if I would use a net topology. I experienced problems with my pixel while the discovery process beacuse i didn&#39;t aquire a multicast lock. Maybe there is a link between this topics?!"}, {"owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 1, "creation_date": 1553258136, "post_id": 55270638, "comment_id": 97327767, "body": "A short update: The problem persists even after rewriting the application. Now There is only one service, which gets discovered from the other devices. The success of the discovery strongly depends on the type of network. At my home wifi it worked well. Also if all phones are connected with a wifi hotspot created with one phone. But in university (in a local network where multicast is allowed) the discoverer still resolving wrong ips. This time they even resolving ips from the other phone which are just discovering and didn&#39;t register a service."}], "owner": {"reputation": 21, "user_id": 9263710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jD_kjGd7Zpc/AAAAAAAAAAI/AAAAAAAAAB0/UJMP3akmjUc/photo.jpg?sz=128", "display_name": "60pfennig", "link": "https://stackoverflow.com/users/9263710/60pfennig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1553118222, "creation_date": 1553118222, "question_id": 55270638, "link": "https://stackoverflow.com/questions/55270638/network-service-discovery-wrong-ip-resolved", "title": "Network Service Discovery Wrong IP resolved", "body": "<p>I want to connect multiple Android devices via Network Service Discovery. I want to use a star topology. so on device should discover and the others a registering a service which should found by the discoverer. For this I took the NSD Chat (<a href=\"https://github.com/gauravcanon/NsdChat\" rel=\"nofollow noreferrer\">https://github.com/gauravcanon/NsdChat</a> ) NsdHelper and changed it only a bit, so a callback gets called after resolving a service which establish a connection. This works in mostly if I am using three devices. two advertiser and one discoverer. The services getting resolved and a connection estabished. If I get an additional third advertiser it is crashing in 80% of all attempts. The reason is that the serviceInfo which is passed in the <code>onServiceResolved</code> function in the <code>ResolveListener</code> contains the ip address of the resolving phone and not of the advertising one. The port is correct and the servicename also. That is such a strange behaviour, I don't know how to debug this. I'm using the bonjour browser to see all registered services and the registration of all services is fine. All service infos containing the right ip address and port. I also tried the the pure discovering process without establishing a connection. Same failure. Sometimes the ip address of the resolver is in the serviceinfo. It can also happen at the first discovery and the second, but most likely it is on the third one.\nI will post my NsdHelper code below. I made some edits right now because i tried to start the discovery process again after resolving, so there are more differences to the NSD Chat, but the error persists. \nIs someone using the NSD implementation of Android via the NSDManager with multiple devices? Is it working for you? What are you doing different?\nThis topic is related there someone had the same problems ( <a href=\"https://stackoverflow.com/questions/35488850/android-nsd-dns-sd-nsdmanager-unreliable-discovery-and-ip-resolution\">Android, NSD/DNS-SD: NsdManager unreliable discovery and IP resolution</a> ). I cant imagine that this error is still a thing 3 years ago? </p>\n\n<p>I'm thankful for every hint!</p>\n\n<pre><code>    class NsdHelper(private var mContext: Context, private val createClient: (InetAddress, Int)-&gt;Unit, val mHandler: Handler) {\ninternal var mNsdManager: NsdManager = mContext.getSystemService(Context.NSD_SERVICE) as NsdManager\ninternal lateinit var mResolveListener: NsdManager.ResolveListener\nprivate var mDiscoveryListener: NsdManager.DiscoveryListener? = null\nprivate var mRegistrationListener: NsdManager.RegistrationListener? = null\nvar mServiceName = \"Wizard\"\nvar chosenServiceInfo: NsdServiceInfo? = null\n    internal set\nval mServices = mutableListOf&lt;NsdServiceInfo&gt;()\n\nfun initializeNsd() {\n    stopDiscovery()\n    tearDown()\n    initializeResolveListener()\n}\n\n\nfun reset(){\n    initializeResolveListener()\n    discoverServices()\n}\n\nfun initializeDiscoveryListener() {\n    mDiscoveryListener = object : NsdManager.DiscoveryListener {\n        override fun onDiscoveryStarted(regType: String) {\n            Log.d(TAG, \"Service discovery started\")\n        }\n\n        override fun onServiceFound(service: NsdServiceInfo) {\n            Log.d(TAG, \"Service discovery success$service\")\n            when {\n                service.serviceType != SERVICE_TYPE -&gt; Log.d(TAG, \"Unknown Service Type: \" + service.serviceType)\n                service.serviceName == mServiceName -&gt; Log.d(TAG, \"Same machine: $mServiceName\")\n                service.serviceName.contains(\"Verzauberte\") -&gt; {\n                    if (mServices.none { it.serviceName == service.serviceName })\n                    mNsdManager.resolveService(service, mResolveListener)\n                }\n            }\n        }\n\n        override fun onServiceLost(service: NsdServiceInfo) {\n            Log.e(TAG, \"service lost$service\")\n        }\n\n        override fun onDiscoveryStopped(serviceType: String) {\n            Log.i(TAG, \"Discovery stopped: $serviceType\")\n        }\n\n        override fun onStartDiscoveryFailed(serviceType: String, errorCode: Int) {\n            Log.e(TAG, \"Discovery failed: Error code:$errorCode\")\n        }\n\n        override fun onStopDiscoveryFailed(serviceType: String, errorCode: Int) {\n            Log.e(TAG, \"Discovery failed: Error code:$errorCode\")\n        }\n    }\n}\n\nfun initializeResolveListener() {\n    mResolveListener = object : NsdManager.ResolveListener {\n        override fun onResolveFailed(serviceInfo: NsdServiceInfo, errorCode: Int) {\n            Log.e(TAG, \"Resolve failed$errorCode\")\n        }\n\n        override fun onServiceResolved(serviceInfo: NsdServiceInfo) {\n            Log.e(TAG, \"Resolve Succeeded. $serviceInfo\")\n            if (serviceInfo.serviceName == mServiceName) {\n                Log.d(TAG, \"Same IP.\")\n                return\n            }\n            chosenServiceInfo = serviceInfo\n            mHandler.post(Runnable {\n                createClient(\n                    serviceInfo.host,\n                    serviceInfo.port\n                )\n            })\n            mServices.add(serviceInfo)\n            reset()\n        }\n    }\n}\n\nfun initializeRegistrationListener() {\n    mRegistrationListener = object : NsdManager.RegistrationListener {\n        override fun onServiceRegistered(NsdServiceInfo: NsdServiceInfo) {\n            mServiceName = NsdServiceInfo.serviceName\n            Log.d(TAG, \"Service registered: $mServiceName\")\n        }\n\n        override fun onRegistrationFailed(arg0: NsdServiceInfo, arg1: Int) {\n            Log.d(TAG, \"Service registration failed: $arg1\")\n        }\n\n        override fun onServiceUnregistered(arg0: NsdServiceInfo) {\n            Log.d(TAG, \"Service unregistered: \" + arg0.serviceName)\n        }\n\n        override fun onUnregistrationFailed(serviceInfo: NsdServiceInfo, errorCode: Int) {\n            Log.d(TAG, \"Service unregistration failed: $errorCode\")\n        }\n    }\n}\n\nfun registerService(port: Int) {\n    tearDown()  // Cancel any previous registration request\n    initializeRegistrationListener()\n    val serviceInfo = NsdServiceInfo().apply {\n        serviceType = SERVICE_TYPE\n        serviceName = \"Verzauberte[$port]\"\n        setPort(port)\n    }\n    mNsdManager.registerService(\n        serviceInfo, NsdManager.PROTOCOL_DNS_SD, mRegistrationListener\n    )\n}\n\nfun discoverServices() {\n    stopDiscovery()  // Cancel any existing discovery request\n    initializeDiscoveryListener()\n    Log.d(this.toString(), \"Start discovering\")\n    mNsdManager.discoverServices(\n        SERVICE_TYPE, NsdManager.PROTOCOL_DNS_SD, mDiscoveryListener\n    )\n}\n\nfun stopDiscovery() {\n    if (mDiscoveryListener != null) {\n        try {\n            mNsdManager.stopServiceDiscovery(mDiscoveryListener)\n        } finally {\n        }\n        mDiscoveryListener = null\n    }\n}\n\nfun tearDown() {\n    if (mRegistrationListener != null) {\n        try {\n            mNsdManager.unregisterService(mRegistrationListener)\n        } finally {\n        }\n        mRegistrationListener = null\n    }\n}\n\n\n\ncompanion object {\n    val SERVICE_TYPE = \"_votinginteractions._tcp.\"\n    val TAG = \"NsdHelper\"\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "edited": false, "score": 0, "creation_date": 1553118213, "post_id": 55270486, "comment_id": 97272466, "body": "<a href=\"https://stackoverflow.com/questions/45128935/difference-between-setadapter-and-setdropdownviewresource-on-spinner\" title=\"difference between setadapter and setdropdownviewresource on spinner\">stackoverflow.com/questions/45128935/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1553120946, "creation_date": 1553120946, "answer_id": 55271103, "question_id": 55270486, "link": "https://stackoverflow.com/questions/55270486/why-the-layout-file-for-an-arrayadapter-has-to-be-set-twice/55271103#55271103", "title": "Why the layout file for an ArrayAdapter has to be set twice?", "body": "<ul>\n<li>Main List item\n\n<ul>\n<li>Dropdown List item</li>\n<li>Dropdown List item</li>\n</ul></li>\n<li>Main List item</li>\n<li>Main List item</li>\n</ul>\n\n<p>First layout that you set in the constructor is your main list item layout, the 2nd layout is the dropdown item layout. You may want to set them differently.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553120946, "creation_date": 1553117356, "question_id": 55270486, "link": "https://stackoverflow.com/questions/55270486/why-the-layout-file-for-an-arrayadapter-has-to-be-set-twice", "title": "Why the layout file for an ArrayAdapter has to be set twice?", "body": "<p>I'm creating an <code>ArrayAdapter</code> for a <code>Spinner</code> view. </p>\n\n<p>Here's my (working) code:</p>\n\n<pre><code>val spinnerAdaptor = ArrayAdapter&lt;String&gt;(this@PlayerDetails, R.layout.support_simple_spinner_dropdown_item, users)\nspinnerAdaptor.setDropDownViewResource(R.layout.support_simple_spinner_dropdown_item)\nchoose_user?.adapter = spinnerAdaptor\nchoose_user.onItemSelectedListener = this@PlayerDetails\n</code></pre>\n\n<p>When I initialise my <code>spinnerAdaptor</code> I set the layout file for the dropdown in the 2nd parameter. Why is <code>setDropDownViewResource()</code> needed? (it doesn't work when I omit this line).</p>\n"}, {"tags": ["android", "kotlin", "gson", "android-room"], "comments": [{"owner": {"reputation": 1715, "user_id": 2968988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iPgh3.png?s=128&g=1", "display_name": "Mohamed Nageh", "link": "https://stackoverflow.com/users/2968988/mohamed-nageh"}, "edited": false, "score": 0, "creation_date": 1570283277, "post_id": 55270085, "comment_id": 102868441, "body": "did you find solution for it?"}, {"owner": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "edited": false, "score": 0, "creation_date": 1571204016, "post_id": 55270085, "comment_id": 103156902, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46445964/room-not-sure-how-to-convert-a-cursor-to-this-methods-return-type-which-meth\">Room &quot;Not sure how to convert a Cursor to this method&#39;s return type&quot;: which method?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2045, "user_id": 1571605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DN8Ru.png?s=128&g=1", "display_name": "Itamar Kerbel", "link": "https://stackoverflow.com/users/1571605/itamar-kerbel"}, "is_accepted": false, "score": 0, "last_activity_date": 1557046434, "creation_date": 1557046434, "answer_id": 55990300, "question_id": 55270085, "link": "https://stackoverflow.com/questions/55270085/android-room-database-not-sure-how-to-convert-a-cursor-to-this-methods-return/55990300#55990300", "title": "Android room database - Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>The problem that you have is caused by the use of LiveData.\nFrom Android API 28 the support libraries have moved to androidx\nThis means that you have to move EVERYTHING to androidx.\nYour problem lies with a build.gradle file.\nYou probably have the andoidx lifecycle there but Room lib as the old 1.1.1 Room lib.\nYou should update all the support libraries to use androidx like so:</p>\n\n<pre><code>def lifecycle_version = \"2.0.0\"\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.0.0'\n\n// Add RecyclerView dependency; must match SDK version\nimplementation 'androidx.recyclerview:recyclerview:1.0.0'\n\n// Add FAB dependency\nimplementation 'com.google.android.material:material:1.0.0-rc01'\n\ndef room_version = \"2.1.0-alpha07\"\n\nimplementation \"androidx.room:room-runtime:$room_version\"\nannotationProcessor \"androidx.room:room-compiler:$room_version\"\n\nimplementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\nannotationProcessor \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12555770, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/7c8fa24c6b747104c16557c27f1b06a5?s=128&d=identicon&r=PG", "display_name": "Irsyad Purbha", "link": "https://stackoverflow.com/users/12555770/irsyad-purbha"}, "is_accepted": false, "score": 1, "last_activity_date": 1576637263, "last_edit_date": 1576637263, "creation_date": 1576636213, "answer_id": 59384662, "question_id": 55270085, "link": "https://stackoverflow.com/questions/55270085/android-room-database-not-sure-how-to-convert-a-cursor-to-this-methods-return/59384662#59384662", "title": "Android room database - Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>Change <code>ArrayList</code> to <code>List</code>.</p>\n\n<p>It works for me.</p>\n"}], "owner": {"reputation": 767, "user_id": 4751730, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/1079075358787253/picture?type=large", "display_name": "Alen", "link": "https://stackoverflow.com/users/4751730/alen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3809, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1576637263, "creation_date": 1553115541, "question_id": 55270085, "link": "https://stackoverflow.com/questions/55270085/android-room-database-not-sure-how-to-convert-a-cursor-to-this-methods-return", "title": "Android room database - Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>I'm trying to save this object in Room database, I read about Typeconverters for converting complex objects in one filed that can be stored in database. I am getting this error:\n    <strong><em>error: Not sure how to convert a Cursor to this method's return type  (androidx.lifecycle.LiveData>).----\npublic abstract androidx.lifecycle.LiveData> queryQuestions(@org.jetbrains.annotations.NotNull()</em></strong>\nMy code is based on solutions that I found for similar problems with converting objects for room but this isn't working for me.</p>\n\n<p>My question class:</p>\n\n<pre><code>@Entity\n\n    data class Question(@PrimaryKey var questionId: String = \"\",\n                        val uid: String,\n                        val name: String,\n                        val photo: String,\n                        val question: String,\n                        val points: Int,\n                        @ServerTimestamp val timestamp: Date? = null,\n                        val options: ArrayList&lt;Option&gt;){\n        constructor(): this(\"\", \"\", \"\", \"\", \"\", 0, null, ArrayList())\n    }\n\n    data class Option(val optionText: String,\n                      val correct: Boolean,\n                      var votes: Int = 0,\n                      var usersVoted: ArrayList&lt;UserVoted&gt; = ArrayList()){\n        constructor(): this(\"\", false /*,0, ArrayList()*/)\n    }\n\n    data class UserVoted(val name: String,\n                         val photo: String){\n        constructor(): this(\"\", \"\")\n    }\n</code></pre>\n\n<p>My dao class:</p>\n\n<pre><code>@Dao\ninterface QuestionDao {\n    @Insert(onConflict = REPLACE)\n    fun insertQuestions(question: ArrayList&lt;Question&gt;)\n\n    @Query(\"SELECT * FROM question WHERE uid = :userId\")\n    fun queryQuestions(userId: String): LiveData&lt;ArrayList&lt;Question&gt;&gt;\n}\n</code></pre>\n\n<p>My database class:</p>\n\n<pre><code>@Database(entities = [Question::class], version = 1)\n@TypeConverters(Converter::class)\nabstract class AppDatabase : RoomDatabase(){\n    abstract fun questionDao(): QuestionDao\n\n}\n</code></pre>\n\n<p>My converter class:</p>\n\n<pre><code>class Converter {\n\n    @TypeConverter\n    fun fromTimestampToDate(value: Long?): Date? {\n        return value?.let { Date(it) }\n    }\n\n    @TypeConverter\n    fun fromDateToTimestamp(date: Date?): Long? {\n        return date?.time?.toLong()\n    }\n\n    @TypeConverter\n    fun fromStringToArrayList(value: String): ArrayList&lt;Option&gt; {\n        Log.i(\"alengenije\", \"fromStringToArrayList string = $value\")\n        val listType = object:TypeToken&lt;ArrayList&lt;Option&gt;&gt;() {}.type\n        return Gson().fromJson(value, listType)\n    }\n\n    @TypeConverter\n    fun fromArrayLisrToString(list: ArrayList&lt;Option&gt;): String {\n        val gson = Gson()\n        return gson.toJson(list)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1553171450, "post_id": 55270522, "comment_id": 97290669, "body": "you can spare your <code>map</code>/<code>filter</code>/<code>map</code>: <code>text.lines().filter { it.contains(&quot;BEGIN:VCALENDAR&quot;) }</code>. Note also that you created intermediate lists on each <code>filter</code> and <code>map</code> which you basically didn&#39;t want in the first place..."}], "tags": [], "owner": {"reputation": 823, "user_id": 122861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bab6b5c924ce8fefd5774b30ff53b1e?s=128&d=identicon&r=PG", "display_name": "tdelev", "link": "https://stackoverflow.com/users/122861/tdelev"}, "is_accepted": false, "score": 0, "last_activity_date": 1553117569, "creation_date": 1553117569, "answer_id": 55270522, "question_id": 55269247, "link": "https://stackoverflow.com/questions/55269247/find-a-line-in-an-ics-file-using-kotlin/55270522#55270522", "title": "Find a line in an .ics file using Kotlin", "body": "<p>You can use the extension function on <code>String</code>, <code>lines()</code>, something like this:</p>\n\n<pre><code>fun lines() {\n    val text = \"\"\"BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//School of Rochester NY |-ECPv4.8.1//NONSGML v1.0//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nX-WR-CALNAME:School of Rochester NY |\"\"\"\n\n    val foundLines = text.lines().map {\n        it.contains(\"BEGIN:VCALENDAR\") to it\n    }.filter { (contains, _) -&gt; contains }\n     .map { it.second }\n\n    println(foundLines)\n}\n\nfun main() {\n    lines()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1553171338, "creation_date": 1553171338, "answer_id": 55280450, "question_id": 55269247, "link": "https://stackoverflow.com/questions/55269247/find-a-line-in-an-ics-file-using-kotlin/55280450#55280450", "title": "Find a line in an .ics file using Kotlin", "body": "<p>Just looking at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\"><code>BufferedReader</code></a> you have already 4 functions that all give you the lines.</p>\n\n<ol>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/read-lines.html\" rel=\"nofollow noreferrer\"><code>readLines</code></a> gives you a <code>List&lt;String&gt;</code> containing all the lines</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/use-lines.html\" rel=\"nofollow noreferrer\"><code>useLines</code></a> lets you use a sequence of lines which you can then transform and assures that after calling it, the reader is closed</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-buffered-reader/line-sequence.html\" rel=\"nofollow noreferrer\"><code>lineSequence()</code></a> returns a sequence of the lines, but does not close the reader after calling it</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>lines()</code></a> returns a <code>Stream&lt;String&gt;</code> containing the lines and basically comes from the <code>BufferedReader</code> itself. As you are using Kotlin you probably do not want to use this method.</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/use-lines.html\" rel=\"nofollow noreferrer\"><code>useLines</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/read-lines.html\" rel=\"nofollow noreferrer\"><code>readLines</code></a> are also available on <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/index.html\" rel=\"nofollow noreferrer\"><code>File</code></a> itself</li>\n</ol>\n\n<p>As I am not sure what you really want to accomplish I recommend you start with <code>readLines</code> directly. The <code>ics</code>-file is usually rather small and with the lines you can still filter/map whatever you want. The next best candidate then is probably either <code>useLines</code> or <code>lineSequence</code>. It really depends on what you do next.</p>\n"}], "owner": {"reputation": 945, "user_id": 394842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f635789c47f734898a6e8dd16052dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Genevieve", "link": "https://stackoverflow.com/users/394842/genevieve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 55280450, "answer_count": 2, "score": 1, "last_activity_date": 1553171338, "creation_date": 1553112008, "question_id": 55269247, "link": "https://stackoverflow.com/questions/55269247/find-a-line-in-an-ics-file-using-kotlin", "title": "Find a line in an .ics file using Kotlin", "body": "<p>I'm trying to store certain lines from an .ics file to separate strings depending on their contents. I've been able to convert an .ics file to a string, but I am having difficulty searching it line by line to find certain keywords. </p>\n\n<p>The string (and file) contains:</p>\n\n<pre><code>BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//School of Rochester NY |-ECPv4.8.1//NONSGML v1.0//EN\nCALSCALE:GREGORIAN\nMETHOD:PUBLISH\nX-WR-CALNAME:School of Rochester NY | \n</code></pre>\n\n<p>I've been able to display the text in the logcat, but I have not been able to save the lines as separate strings.</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var textView = findViewById&lt;TextView&gt;(R.id.textView)\n\n        val file_name = \"education-1e1a4bdab8e.ics\"\n        val ics_string = application.assets.open(file_name).bufferedReader().use {\n            it.readText()\n        }\n\n        Log.i(\"TAG\", ics_string)\n\n        textView.text = ics_string\n\n        if (ics_string.contains(\"BEGIN:VCALENDAR\", ignoreCase = true))\n        {\n            Log.i(\"TAG\", \"contains event\")\n        }\n\n\n    }\n</code></pre>\n\n<p>The logcat confirms that the text is in the document, but not which line.\nIs there any way to add lines of a text as separate strings?</p>\n"}, {"tags": ["android", "api", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1553165752, "post_id": 55268614, "comment_id": 97287444, "body": "are you using proguard or any other tools to obfuscate your code?"}, {"owner": {"reputation": 53, "user_id": 2810703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GplwA.jpg?s=128&g=1", "display_name": "Deenath Kumar", "link": "https://stackoverflow.com/users/2810703/deenath-kumar"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1553259332, "post_id": 55268614, "comment_id": 97328460, "body": "Nope . I do not use  any tools. My configuration is simple. I am using Android Studio latest with Kotlin language. Above code is associated with khttp (Kotlin http) version 0.1.0"}], "owner": {"reputation": 53, "user_id": 2810703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GplwA.jpg?s=128&g=1", "display_name": "Deenath Kumar", "link": "https://stackoverflow.com/users/2810703/deenath-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1553109420, "creation_date": 1553109420, "question_id": 55268614, "link": "https://stackoverflow.com/questions/55268614/kotlin-error-java-lang-nosuchfieldexception-no-field-host-in-class-ljava-net-u", "title": "Kotlin Error: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL;", "body": "<p>I am getting NoSuchFieldException when I try to make a call to API using Kotlin in Android Studio.\nI googled a lot and could not figure out which field is missing here. Because I need to make a direct call to API without any parameters.</p>\n\n<pre><code>Ex: https://postman-echo.com/get\n</code></pre>\n\n<p>Returns Json</p>\n\n<pre><code>{\n\"args\": {},\n\"headers\": {\n    \"x-forwarded-proto\": \"https\",\n    \"host\": \"postman-echo.com\",\n    \"accept\": \"*/*\",\n    \"accept-encoding\": \"gzip, deflate\",\n    \"cache-control\": \"no-cache\",\n    \"cookie\": \"sails.sid=s%3Apn2OQMhtxox3x5pUbyPEYWTlYO7-xWNU.7FANTaY20nDA3H97CkBoKjEX5TvXVEdYb1hsrWuFnmQ\",\n    \"postman-token\": \"78d38646-9633-43cb-8291-2d00451e79db\",\n    \"user-agent\": \"PostmanRuntime/7.6.1\",\n    \"x-forwarded-port\": \"443\"\n},\n\"url\": \"https://postman-echo.com/get\"\n</code></pre>\n\n<p>}</p>\n\n<p>Below is my source code and stack trace after executing.</p>\n\n<p><strong>Source Code</strong></p>\n\n<pre><code>val response : Response = khttp.get(\"https://postman-echo.com/get\")\n    val obj:JSONObject=response.jsonObject\n    print(obj[\"user-agent\"])\n</code></pre>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.myassessment, PID: 7019\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myassessment/com.example.myassessment.StudentActivity}: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n Caused by: java.lang.NoSuchFieldException: No field host in class Ljava/net/URL; (declaration of 'java.net.URL' appears in /system/framework/core-oj.jar)\n    at java.lang.Class.getDeclaredField(Native Method)\n    at khttp.requests.GenericRequest.toIDN(GenericRequest.kt:193)\n    at khttp.requests.GenericRequest.makeRoute(GenericRequest.kt:198)\n    at khttp.requests.GenericRequest.&lt;init&gt;(GenericRequest.kt:128)\n    at khttp.KHttp.request(KHttp.kt:58)\n    at khttp.KHttp.get(KHttp.kt:28)\n    at khttp.KHttp.get$default(KHttp.kt:27)\n    at com.example.myassessment.StudentActivity.onCreate(StudentActivity.kt:22)\n    at android.app.Activity.performCreate(Activity.java:7136)\n    at android.app.Activity.performCreate(Activity.java:7127)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\u00a0\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\u00a0\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\u00a0\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:106)\u00a0\n    at android.os.Looper.loop(Looper.java:193)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\u00a0at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\u00a0\nI/Process: Sending signal. PID: 7019 SIG: 9\nApplication terminated.\n</code></pre>\n\n<p>FYI, I am using Android 9.0 as SDK. Please let me know the miss here. Spent almost 4 hours only on this.\nAlso let me know if any information is needed.\nThanks in advance.</p>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1553110443, "post_id": 55268195, "comment_id": 97268752, "body": "i tried wrote something like this <code>fetchData(arguments?.getString(&quot;guid&quot;, &quot;&quot;) ?: &quot;&quot;)</code> but <code>fetch data kotlin.Unit</code> and in <code>onDataChange</code> wrote smth like this: ` val userName = dataSnapshot.child(&quot;targets&quot;).value.toString()`  but i think it s wrong("}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1553110987, "post_id": 55268195, "comment_id": 97269003, "body": "@Morozov you dont need to get the child of the snapshot since your grabbing it from the child already, just get the value from it and you can cast that to a Hashmap. Ill update my answer to show that - can&#39;t test it right now because I&#39;m at work but try putting a breakpoint and seeing what the value of the dataSnapshot looks like."}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1553111358, "post_id": 55268195, "comment_id": 97269188, "body": "great! i get my name and description, but i also get <code>fetch data kotlin.Unit</code> i think , I&#39;m passing something wrong as a guid : <code>fetchData(arguments?.getString(&quot;guid&quot;, &quot;&quot;) ?: &quot;&quot;)</code>"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 1, "creation_date": 1553111585, "post_id": 55268195, "comment_id": 97269307, "body": "Your input parameter seems fine (though you may want to just not make the call if guid is null rather than make the call with the empty string). fetchData itself is just giving you kotlin.Unit because it doesn&#39;t return anything. You won&#39;t be able to return it directly since onDataChange is an asynchronous call"}], "tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": true, "score": 3, "last_activity_date": 1553110997, "last_edit_date": 1553110997, "creation_date": 1553107963, "answer_id": 55268195, "question_id": 55267942, "link": "https://stackoverflow.com/questions/55267942/get-data-using-the-id-in-firebase/55268195#55268195", "title": "Get data using the Id in Firebase", "body": "<p>If you know the guid then you can probably do something like</p>\n\n<pre><code>fun fetchData(guid: String) {\n    // Attach a listener to read the data at the target id\n    databaseReference?.child(guid)?.addValueEventListener(object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError) { \n            // handle error\n        }\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            // data here \n            val data = dataSnapshot.value as HashMap&lt;String, String&gt;\n\n            val desc = data[\"description\"]\n\n            val name = data[\"name\"]\n        }\n    })\n}\n</code></pre>\n\n<p>the dataSnapshot will be a hashmap of String -> String with the name and description in it</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 55268195, "answer_count": 1, "score": 0, "last_activity_date": 1553168124, "creation_date": 1553106955, "last_edit_date": 1553168124, "question_id": 55267942, "link": "https://stackoverflow.com/questions/55267942/get-data-using-the-id-in-firebase", "title": "Get data using the Id in Firebase", "body": "<p>I have some list of notes that I have stored in FirebaseRealtime Database and displayed in recyclerView.</p>\n\n<p>By clicking on an item in the list, I open a fragment passing it a \"guid\". But since there are still name, description fields in this element, I want to display them in a fragment.</p>\n\n<p>Q: how can I get the rest of the data from FirebaseRealtime Databse knowing the id?</p>\n\n<pre><code>class TargetEditFragment : Fragment() {\n\nprivate var nameEditText: TextInputEditText? = null\nprivate var descriptionEditText: TextInputEditText? = null\nprivate var button: Button? = null\nprivate var databaseReference: DatabaseReference? = null\nprivate var presenter = TargetEditPresenter()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.getString(\"guid\", \"\")\n    Log.d(\"some\", \"onCreate ${arguments?.getString(\"guid\", \"\")}\")\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_target_add, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    databaseReference = FirebaseDatabase.getInstance().getReference(\"targets\")\n    setupViews()\n    fetchData()\n}\n\nprivate fun setupViews() {\n    nameEditText = view?.findViewById(R.id.nameEditText)\n    descriptionEditText = view?.findViewById(R.id.descriptionEditText)\n\n    button = view?.findViewById(R.id.addNote)\n    button?.setOnClickListener { addTarget() }\n}\n\nprivate fun addTarget() {\n    val name = nameEditText?.text.toString().trim()\n    val description = descriptionEditText?.text.toString().trim()\n\n    if (!TextUtils.isEmpty(name)) {\n        val id: String = databaseReference?.push()?.key.toString()\n        val target = Target(guid = id, name = name, description = description)\n        databaseReference?.child(id)?.setValue(target)\n    } else Log.d(\"some\", \"Enter a name\")\n}\n\n//Here I want to get the data name and decription\nprivate fun fetchData() {\n//        nameEditText?.text = Editable.Factory.getInstance().newEditable(target?.name ?: \"name\")\n//        descriptionEditText?.text = Editable.Factory.getInstance().newEditable(target?.description ?: \"description\")\n    }\n\ncompanion object {\n\n    fun newInstance(guid: String): TargetEditFragment =\n        TargetEditFragment().apply {\n            arguments = Bundle().apply { putString(\"guid\", guid) }\n            Log.d(\"some\", \"argumeeents $arguments\")\n        }\n}\n}\n</code></pre>\n\n<p>Also my Target class: </p>\n\n<pre><code>data class Target(val guid: String = \"\",\n              val name: String = \"\",\n              val description: String= \"\")\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/G9fDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9fDt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 8422138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637153fad19c67e37fc28c1cb797bc0b?s=128&d=identicon&r=PG", "display_name": "Eddiel Lopez", "link": "https://stackoverflow.com/users/8422138/eddiel-lopez"}, "is_accepted": false, "score": 0, "last_activity_date": 1553105632, "creation_date": 1553105632, "answer_id": 55267599, "question_id": 55267500, "link": "https://stackoverflow.com/questions/55267500/how-to-give-back-control-from-fragment-to-activity/55267599#55267599", "title": "How to give back control from Fragment to Activity?", "body": "<p>You can always get the enclosing activity from any fragment (by using <code>getActivity</code>), then cast it to the proper type and use your own <code>setValues</code> method on it. Check out this: <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/fragments/communicating</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 5451645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d182bb6cc5abc683424081debe6bcffb?s=128&d=identicon&r=PG&f=1", "display_name": "Agustin Pazos", "link": "https://stackoverflow.com/users/5451645/agustin-pazos"}, "is_accepted": false, "score": 0, "last_activity_date": 1553110851, "creation_date": 1553110851, "answer_id": 55268972, "question_id": 55267500, "link": "https://stackoverflow.com/questions/55267500/how-to-give-back-control-from-fragment-to-activity/55268972#55268972", "title": "How to give back control from Fragment to Activity?", "body": "<p>You can have the value as a variable in the activity and from the fragment do</p>\n\n<pre><code>CalculatorActivity myActivity = (CalculatorActivity)getActivity()\nmyActivity.setInputValues(fragmentInputValues)\nmyActivity.doSomethingWithTheValues()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "edited": false, "score": 0, "creation_date": 1553153031, "post_id": 55269596, "comment_id": 97281190, "body": "Why you would never do that? Not clean code? Anti-pattern?"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "reply_to_user": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "edited": false, "score": 0, "creation_date": 1553270421, "post_id": 55269596, "comment_id": 97335482, "body": "A few reasons. 1) You are coupling the fragment to an activity, at which point the fragment isn&#39;t really providing the value of separation any longer. It can only be used with that one activity. 2) getActvity() can return null if you are unattached causing a crash in your code. 3) You are assuming the activity that owns it, is in fact that one type of activity (which in your case is probably ok to assume, but not good practice) 4) You have to cast it every single time you touch it."}], "tags": [], "owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1553113477, "creation_date": 1553113477, "answer_id": 55269596, "question_id": 55267500, "link": "https://stackoverflow.com/questions/55267500/how-to-give-back-control-from-fragment-to-activity/55269596#55269596", "title": "How to give back control from Fragment to Activity?", "body": "<p>If you are learning and this is just for fun, then feel free to do the direct cast to activity and access it's public methods. However, I would never do that in real world practice.</p>\n\n<p>Best practice would be to use an interface implementation on the parent activity.</p>\n\n<p>example:\nINTERFACE CLASS</p>\n\n<pre><code>interface IBaseActivityCallback {\n    fun onInputValuesReady(myObjectOfValues: MyObject)\n}\n</code></pre>\n\n<p>ACTIVITY CLASS</p>\n\n<pre><code>class CalculatorActivity : AppCompatActivity(), IBaseActivityCallback {\n     override fun onInputValuesReady(myObjectOfValues: MyObject){\n          //handle inflate or usage of values\n     }\n}\n</code></pre>\n\n<p>FRAGMENT CLASS</p>\n\n<pre><code>lateinit var baseActivityCallback: IBaseActivityCallback\n\noverride fun onAttach(context: Context) {\n     super.onAttach(context)\n     //NOTE* wrap in try/catch if context can be something else\n     baseActivityCallback = context as IBaseActivityCallback\n}\n\nfun someButtonClicked(){\n    baseActivityCallback.onInputValuesReady(myObjectToPass)\n}\n</code></pre>\n\n<p>I figured I don't need to explain creating an object to hold variables or buttons that were clicked etc.. so I just kept that part generic for you.</p>\n"}], "owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1553113477, "creation_date": 1553105230, "question_id": 55267500, "link": "https://stackoverflow.com/questions/55267500/how-to-give-back-control-from-fragment-to-activity", "title": "How to give back control from Fragment to Activity?", "body": "<p>I have a simple <code>CalculatorActivity</code> with consecutively shown Fragments :</p>\n\n<ol>\n<li><code>InputFragment //requests two input values for calclation</code></li>\n<li><code>ResultFragment // show the result of the calculation</code></li>\n</ol>\n\n<p>To keep it simple lets assume, I want to calculate the sum of two numbers. \nI start the <code>CalculatorActivity</code> which immediately loads the <code>InputFragment</code> via:</p>\n\n<pre><code>fun replaceFragment(resId : Int, newFragment : Fragment){\n    this.supportFragmentManager?.beginTransaction()?.replace(resId, newFragment)?.addToBackStack(null)?.commit()\n}\n</code></pre>\n\n<p><code>resId</code> is the resource ID for the container to inflate the fragment in.\n<code>newFragment</code> is the new Fragment to be inflated. Here in this first step I call in <code>CalculatorActivity</code>'s <code>onCreate()</code>:</p>\n\n<p><code>replaceFragment(R.id.container, InputFragment.getInstance())</code></p>\n\n<p>SO FAR this works fine. </p>\n\n<p>But when I enter the required numbers in <code>InputFragment</code>, how can I forward the values from <code>InputFragment</code> back to the calling <code>CalculatorActivity</code>, so that it can continue and inflate the ResultFragment into the very same container to show the result of calculation?</p>\n"}, {"tags": ["linux", "selenium", "web-scraping", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "edited": false, "score": 1, "creation_date": 1553105260, "post_id": 55267358, "comment_id": 97266169, "body": "Where in the gradle.build? Thanks"}, {"owner": {"reputation": 1179, "user_id": 7912416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ3E0.png?s=128&g=1", "display_name": "nologin", "link": "https://stackoverflow.com/users/7912416/nologin"}, "reply_to_user": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "edited": false, "score": 0, "creation_date": 1553105640, "post_id": 55267358, "comment_id": 97266348, "body": "I don&#39;t know exactly. I guess as an separate section under dependencies. So is the configuration in my gradle.build. I use gradle/chromedriver/java/kotlin. I converted some code to kotlin and the gradle.build don&#39;t differs in this case."}, {"owner": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "edited": false, "score": 0, "creation_date": 1553106375, "post_id": 55267358, "comment_id": 97266690, "body": "I get a &quot;Could not find method bootRun() for arguments [build_2xxhsdyepkutmlh7n527jg8dp$_run_closure3@6ecb0f76] on project &#39;:app&#39; of type org.gradle.api.Project.&quot; error"}, {"owner": {"reputation": 1179, "user_id": 7912416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ3E0.png?s=128&g=1", "display_name": "nologin", "link": "https://stackoverflow.com/users/7912416/nologin"}, "reply_to_user": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "edited": false, "score": 0, "creation_date": 1553107659, "post_id": 55267358, "comment_id": 97267381, "body": "The question is how to add the args to gradle.build for an android-app. My example was from a springboot-app. This question does not belong to kotlin only, it&#39;s the same for java. It&#39;s about gradle and chromedriver."}], "tags": [], "owner": {"reputation": 1179, "user_id": 7912416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ3E0.png?s=128&g=1", "display_name": "nologin", "link": "https://stackoverflow.com/users/7912416/nologin"}, "is_accepted": false, "score": 0, "last_activity_date": 1553107440, "last_edit_date": 1553107440, "creation_date": 1553104701, "answer_id": 55267358, "question_id": 55267236, "link": "https://stackoverflow.com/questions/55267236/kotlin-selenium-chromedriver-doesnt-exist/55267358#55267358", "title": "Kotlin Selenium Chromedriver doesn&#39;t exist", "body": "<p>You have to apply the chromedriver directory in gradle.build:</p>\n\n<pre><code> '--webdriver.chrome.driver=/home/nexus/Downloads/chromedriver'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1553380246, "creation_date": 1553380246, "answer_id": 55318974, "question_id": 55267236, "link": "https://stackoverflow.com/questions/55267236/kotlin-selenium-chromedriver-doesnt-exist/55318974#55318974", "title": "Kotlin Selenium Chromedriver doesn&#39;t exist", "body": "<p>The error was caused by using Selenium and not Selendrium</p>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 10562333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccB13.jpg?s=128&g=1", "display_name": "Christian Dr&#228;ger", "link": "https://stackoverflow.com/users/10562333/christian-dr%c3%a4ger"}, "is_accepted": false, "score": 0, "last_activity_date": 1559597069, "creation_date": 1559597069, "answer_id": 56434721, "question_id": 55267236, "link": "https://stackoverflow.com/questions/55267236/kotlin-selenium-chromedriver-doesnt-exist/56434721#56434721", "title": "Kotlin Selenium Chromedriver doesn&#39;t exist", "body": "<p>i would highly recommend to use <a href=\"https://github.com/bonigarcia/webdrivermanager\" rel=\"nofollow noreferrer\">webdriver manager</a> instead of setting up the browser binaries yourself.</p>\n\n<p>to instatiate a new chrome driver i would place a function like this in my code: </p>\n\n<pre><code>fun chrome(): WebDriver {\n    WebDriverManager.chromedriver().setup()\n    return ChromeDriver(chromeOptions())\n}\n</code></pre>\n\n<p>now you can just use this function that will be returning your chrome driver like this:</p>\n\n<pre><code>val driver = chrome()\ndriver.get(\"www.google.com\")\n</code></pre>\n\n<p>webdriver manager will take care about setting up the driver binaries automatically depending on your current operating system.\nFor a more complex example that gives the possibility to dynamically switch between different browser or driver settings and a complete selenium setup please have a look <a href=\"https://github.com/christian-draeger/basic-selenium-project/blob/01c8b74d66b689b6df7841f0a05dee989442c76d/src/test/java/config/driver/DriverFactory.kt\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>because you want to scrape a website i guess the chrome headless mode should be your choice because it's more efficient in terms of browser startup times etc.</p>\n\n<p>In general i would recommend to use <strong><a href=\"https://docs.skrape.it/docs/\" rel=\"nofollow noreferrer\">skrape{it}</a></strong> instead of selenium to do the job (as long as you don't have to click somewhere). it's a library written in kotlin that has been specifically design to scrape websites and supports scraping of javascript rendered websites. For instance you could do something like this and you are done (no selenium overhead needed):</p>\n\n<pre><code>val githubName = skrape {\n    url = \"https://github.com/skrapeit\"\n    mode = Mode.DOM\n    extract {\n        element(\".h-card .p-nickname\").text()\n    }\n}\n</code></pre>\n\n<p>this will also work with more complex data, e.g:</p>\n\n<pre><code>data class MyScrapedData(\n    val userName: String, \n    val repositoryNames: List&lt;String&gt;\n)\n\nfun main() {\n    val githubUserData = skrape {\n        url = \"https://github.com/skrapeit\"\n        mode = Mode.DOM\n\n        extract {\n            MyScrapedData(\n                userName = element(\".h-card .p-nickname\").text(),\n                repositoryNames = elements(\"span.repo\").map { it.text() }\n            )\n        }\n    }\n    println(\"${githubUserData.userName}'s repos are ${githubUserData.repositoryNames}\")\n}\n</code></pre>\n\n<p>for a full example on how to scrape a javascript rendered website with skrape{it} please have a look at their corresponding <a href=\"https://docs.skrape.it/docs/dsl/extract-client-side-rendered-data\" rel=\"nofollow noreferrer\">docs section</a></p>\n"}], "owner": {"reputation": 43, "user_id": 6851358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2e94dba6fec26239cf7acfccef3280?s=128&d=identicon&r=PG&f=1", "display_name": "CrappyCoder", "link": "https://stackoverflow.com/users/6851358/crappycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 55318974, "answer_count": 3, "score": 0, "last_activity_date": 1559597069, "creation_date": 1553104314, "question_id": 55267236, "link": "https://stackoverflow.com/questions/55267236/kotlin-selenium-chromedriver-doesnt-exist", "title": "Kotlin Selenium Chromedriver doesn&#39;t exist", "body": "<p>I'm trying to make a webscraping app with Kotlin. Since the websites I'll be scraping are JS generated I've been trying to make Selenium work but I've been stumped with this error.</p>\n\n<pre><code>java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$3.done(AsyncTask.java:353)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:245)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: java.lang.IllegalStateException: The driver executable does not exist: /home/nexus/Downloads/chromedriver\n</code></pre>\n\n<p>I've already use 'chomd 777' with the driver and tried it also with the AUR verison.</p>\n\n<p>Here's the code from my scraping function</p>\n\n<pre><code>package com.example.nexus.scraper\n\nimport android.os.AsyncTask\nimport org.openqa.selenium.WebDriver\nimport org.openqa.selenium.chrome.ChromeDriver\n\nclass Scrap(): AsyncTask&lt;Void, Void, Void&gt;() {\n    override fun doInBackground(vararg params: Void?): Void? {\n        System.setProperty(\"webdriver.chrome.driver\",\"/home/nexus/Downloads/chromedriver\")\n        var driver: WebDriver = ChromeDriver()\n        driver.get(\"www.google.com\")\n        return null\n    }\n}\n</code></pre>\n\n<p>And here's my build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.example.nexus.scraper\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        packagingOptions {\n            exclude 'META-INF/DEPENDENCIES'\n            exclude 'META-INF/LICENSE'\n            exclude 'META-INF/LICENSE.txt'\n            exclude 'META-INF/license.txt'\n            exclude 'META-INF/NOTICE'\n            exclude 'META-INF/NOTICE.txt'\n            exclude 'META-INF/notice.txt'\n            exclude 'META-INF/ASL2.0'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"    \n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '2.41.0'\n    implementation 'com.android.support:support-annotations:27.1.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 10879695, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oob0DA2fFRE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbE9jtPSqdo6waOlqDPH9eog8X6Yg/mo/photo.jpg?sz=128", "display_name": "Chidinma Ekenne", "link": "https://stackoverflow.com/users/10879695/chidinma-ekenne"}, "is_accepted": false, "score": 0, "last_activity_date": 1553162605, "creation_date": 1553162605, "answer_id": 55277884, "question_id": 55266862, "link": "https://stackoverflow.com/questions/55266862/cannot-draw-route-line-in-google-map/55277884#55277884", "title": "Cannot Draw Route line in Google Map", "body": "<p>I finally got the solution I needed:\nfirst thing is to know that the API KEY gotten from Google is key to draw your route.\nso :</p>\n\n<pre><code> private fun getMapsApiDirectionsUrl(): String {\n        val waypoints = (\"waypoints=optimize:true|\"\n                + LOWER_MANHATTAN.latitude + \",\" + LOWER_MANHATTAN.longitude\n                + \"|\" + \"|\" + WALL_STREET.latitude + \",\" + WALL_STREET.longitude\n                +\"|\" + \"|\" + BROOKLYN_BRIDGE.latitude + \",\" + BROOKLYN_BRIDGE.longitude)\n        val OriDest =\n            \"origin=\" + LOWER_MANHATTAN.latitude + \",\" + LOWER_MANHATTAN.longitude + \"&amp;destination=\" + WALL_STREET.latitude + \",\" + WALL_STREET.longitude\n\n        val sensor = \"sensor=false\"\n        val params = \"$OriDest&amp;%20$waypoints&amp;$sensor\"\n        val output = \"json\"\n        return (\"https://maps.googleapis.com/maps/api/directions/\"\n                + output + \"?\" + params)\n    }\n</code></pre>\n\n<p>the method above provides me the URL that contains my origin and destination as well as other parameters needed by Google to process the info and return the JSON value I need. so at the point where I pass it to my Asyntask call, I append my Google API KEY like so:</p>\n\n<pre><code>val url = getMapsApiDirectionsUrl()+\"&amp;key=API_KEY\"\n        val downloadTask = ReadTask(this)\n        downloadTask.execute(url)\n</code></pre>\n\n<p>And that is it!!!\nso ensure to append your Google API_KEY to your URL before passing it into your Asyntask class.\nHope this helps someone: Am so ecstatic I finally figured this out :) :)</p>\n"}], "owner": {"reputation": 61, "user_id": 10879695, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oob0DA2fFRE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbE9jtPSqdo6waOlqDPH9eog8X6Yg/mo/photo.jpg?sz=128", "display_name": "Chidinma Ekenne", "link": "https://stackoverflow.com/users/10879695/chidinma-ekenne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553174217, "creation_date": 1553102886, "last_edit_date": 1553174217, "question_id": 55266862, "link": "https://stackoverflow.com/questions/55266862/cannot-draw-route-line-in-google-map", "title": "Cannot Draw Route line in Google Map", "body": "<p>am trying to draw a route from a point of origin to destination point, but all am getting is a marker at the locations without any route connection </p>\n\n<p>Here is a picture of what I have</p>\n\n<p><img src=\"https://i.stack.imgur.com/hEbh8.png\" alt=\"here is a picture of what I have\"></p>\n\n<p>please how do I connect my location\nBelow is my code:</p>\n\n<p>MapActivity:</p>\n\n<pre><code>class MapsActivity : AppCompatActivity(), OnMapReadyCallback {\n\n    private lateinit var mMap: GoogleMap\n\n    private val LOWER_MANHATTAN = LatLng(\n        40.722543,\n        -73.998585\n    )\n    private val BROOKLYN_BRIDGE = LatLng(40.7057, -73.9964)\n    private val WALL_STREET = LatLng(40.7064, -74.0094)\n\n    val TAG = \"PathGoogleMapActivity\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_maps)\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        val mapFragment = supportFragmentManager\n            .findFragmentById(R.id.map) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n\n\n    }\n\n    private fun addMarkers() {\n        if (mMap != null){\n            mMap.addMarker(MarkerOptions().position(BROOKLYN_BRIDGE)\n                .title(\"First point\"))\n            mMap.addMarker(MarkerOptions().position(LOWER_MANHATTAN)\n                .title(\"Second point\"))\n            mMap.addMarker(MarkerOptions().position(WALL_STREET)\n                .title(\"Third point\"))\n        }\n    }\n\n/*    fun getMapsApiDirectionsUrl(): String{\n        val waypoints = (\"waypoints=optimize:true|\"\n                + LOWER_MANHATTAN.latitude + \",\" + LOWER_MANHATTAN.longitude\n                + \"|\" + \"|\" + BROOKLYN_BRIDGE.latitude + \",\"\n                + BROOKLYN_BRIDGE.longitude + \"|\" + WALL_STREET.latitude + \",\"\n                + WALL_STREET.longitude)\n\n        val sensor = \"sensor=false\"\n        val params = \"$waypoints&amp;$sensor\"\n        val output = \"json\"\n        return (\"https://maps.googleapis.com/maps/api/directions/\"\n                + output + \"?\" + params)\n    }*/\n\n\n\n    private fun getMapsApiDirectionsUrl(): String {\n        val waypoints = (\"waypoints=optimize:true|\"\n                + LOWER_MANHATTAN.latitude + \",\" + LOWER_MANHATTAN.longitude\n                + \"|\" + \"|\" + WALL_STREET.latitude + \",\"\n                + WALL_STREET.longitude)\n        val OriDest =\n            \"origin=\" + LOWER_MANHATTAN.latitude + \",\" + LOWER_MANHATTAN.longitude + \"&amp;destination=\" + WALL_STREET.latitude + \",\" + WALL_STREET.longitude\n\n        val sensor = \"sensor=false\"\n        val params = \"$OriDest&amp;%20$waypoints&amp;$sensor\"\n        val output = \"json\"\n        return (\"https://maps.googleapis.com/maps/api/directions/\"\n                + output + \"?\" + params)\n    }\n    override fun onMapReady(googleMap: GoogleMap) {\n        mMap = googleMap\n\n // Add a marker in Sydney and move the camera\n         val sydney = LatLng(-34.0, 151.0)\n         mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n         mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n\n\n        val options = MarkerOptions()\n        options.position(LOWER_MANHATTAN)\n        options.position(BROOKLYN_BRIDGE)\n        options.position(WALL_STREET)\n        mMap.addMarker(options)\n\n        val url = getMapsApiDirectionsUrl()\n        val downloadTask = ReadTask(this)\n        downloadTask.execute(url)\n\n        mMap.moveCamera(\n            CameraUpdateFactory.newLatLngZoom(\n                BROOKLYN_BRIDGE,\n                13f\n            )\n        )\n        addMarkers()\n    }\n\n    private class ReadTask(mapsActivity: MapsActivity) : AsyncTask&lt;String,Void,String&gt;(){\n        private val activityReference: WeakReference&lt;MapsActivity&gt; = WeakReference(mapsActivity)\n\n        override fun doInBackground(vararg p0: String?): String {\n            var data = \"\"\n            try {\n                val http = HttpConnection()\n                data = http.readUrl(p0[0])\n            } catch (e: Exception) {\n                Log.d(\"Background Task\", e.toString())\n            }\n\n            return data\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            val activity = activityReference.get()\n            if (activity == null || activity.isFinishing) return\n\n            ParserTask(activity).execute(result)\n        }\n\n    }\n\n    private class ParserTask(context: MapsActivity) : AsyncTask&lt;String,Int, List&lt;List&lt;HashMap&lt;String,String&gt;&gt;&gt;&gt;() {\n        private val activityReference: WeakReference&lt;MapsActivity&gt; = WeakReference(context)\n        override fun doInBackground(vararg p0: String?): List&lt;List&lt;HashMap&lt;String, String&gt;&gt;&gt; {\n            val jObject: JSONObject\n            var routes: List&lt;List&lt;HashMap&lt;String, String&gt;&gt;&gt;? = null\n\n            try {\n                jObject = JSONObject(p0[0])\n                val parser = PathJSONParser()\n                routes = parser.parse(jObject)\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n            return routes!!\n        }\n\n        override fun onPostExecute(routes: List&lt;List&lt;HashMap&lt;String, String&gt;&gt;&gt;?) {\n            super.onPostExecute(routes)\n            val activity = activityReference.get()\n            if (activity == null || activity.isFinishing) return\n            try {\n                var points: ArrayList&lt;LatLng&gt;\n                var polyLineOptions: PolylineOptions? = null\n                // traversing through routes\n                for (i in 0 until routes!!.size) {\n                    points = ArrayList()\n                    polyLineOptions = PolylineOptions()\n                    val path = routes[i]\n\n                    for (j in path.indices) {\n                        val point = path[j]\n\n                        val lat = java.lang.Double.parseDouble(point[\"lat\"]!!)\n                        val lng = java.lang.Double.parseDouble(point[\"lng\"]!!)\n                        val position = LatLng(lat, lng)\n\n                        points.add(position)\n                    }\n\n                    polyLineOptions.addAll(points)\n                    polyLineOptions.width(2f)\n                    polyLineOptions.color(Color.BLUE)\n                }\n                activity.mMap.addPolyline(polyLineOptions)\n            } catch (e: Exception) {\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>PathJSONParser class:</p>\n\n<pre><code>public class PathJSONParser {\n\n    public List&lt;List&lt;HashMap&lt;String, String&gt;&gt;&gt; parse(JSONObject jObject) {\n        List&lt;List&lt;HashMap&lt;String, String&gt;&gt;&gt; routes = new ArrayList&lt;&gt;();\n        JSONArray jRoutes;\n        JSONArray jLegs;\n        JSONArray jSteps;\n        try {\n            jRoutes = jObject.getJSONArray(\"routes\");\n            /* Traversing all routes */\n            for (int i = 0; i &lt; jRoutes.length(); i++) {\n                jLegs = ((JSONObject) jRoutes.get(i)).getJSONArray(\"legs\");\n                List&lt;HashMap&lt;String, String&gt;&gt; path = new ArrayList&lt;&gt;();\n\n                /* Traversing all legs */\n                for (int j = 0; j &lt; jLegs.length(); j++) {\n                    jSteps = ((JSONObject) jLegs.get(j)).getJSONArray(\"steps\");\n\n                    /* Traversing all steps */\n                    for (int k = 0; k &lt; jSteps.length(); k++) {\n                        String polyline = \"\";\n                        polyline = (String) ((JSONObject) ((JSONObject) jSteps\n                                .get(k)).get(\"polyline\")).get(\"points\");\n                        List&lt;LatLng&gt; list = decodePoly(polyline);\n\n                        /* Traversing all points */\n                        for (int l = 0; l &lt; list.size(); l++) {\n                            HashMap&lt;String, String&gt; hm = new HashMap&lt;String, String&gt;();\n                            hm.put(\"lat\",\n                                    Double.toString(list.get(l).latitude));\n                            hm.put(\"lng\",\n                                    Double.toString(list.get(l).longitude));\n                            path.add(hm);\n                        }\n                    }\n                    routes.add(path);\n                }\n            }\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        } catch (Exception ignored) {\n        }\n        return routes;\n    }\n\n    /**\n     * Method Courtesy :\n     * jeffreysambells.com/2010/05/27\n     * /decoding-polylines-from-google-maps-direction-api-with-java\n     * */\n    private List&lt;LatLng&gt; decodePoly(String encoded) {\n\n        List&lt;LatLng&gt; poly = new ArrayList&lt;&gt;();\n        int index = 0, len = encoded.length();\n        int lat = 0, lng = 0;\n\n        while (index &lt; len) {\n            int b, shift = 0, result = 0;\n            do {\n                b = encoded.charAt(index++) - 63;\n                result |= (b &amp; 0x1f) &lt;&lt; shift;\n                shift += 5;\n            } while (b &gt;= 0x20);\n            int dlat = ((result &amp; 1) != 0 ? ~(result &gt;&gt; 1) : (result &gt;&gt; 1));\n            lat += dlat;\n\n            shift = 0;\n            result = 0;\n            do {\n                b = encoded.charAt(index++) - 63;\n                result |= (b &amp; 0x1f) &lt;&lt; shift;\n                shift += 5;\n            } while (b &gt;= 0x20);\n            int dlng = ((result &amp; 1) != 0 ? ~(result &gt;&gt; 1) : (result &gt;&gt; 1));\n            lng += dlng;\n\n            LatLng p = new LatLng((((double) lat / 1E5)),\n                    (((double) lng / 1E5)));\n            poly.add(p);\n        }\n        return poly;\n    }\n}\n</code></pre>\n\n<p>Please i need help to fix this issue, i have been on this all day. Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 0, "creation_date": 1553100770, "post_id": 55266059, "comment_id": 97263669, "body": "And what is your question ?"}, {"owner": {"reputation": 1, "user_id": 5573774, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1n6rx-fc7og/AAAAAAAAAAI/AAAAAAAAARU/rzmSIIa75es/photo.jpg?sz=128", "display_name": "Nevolute", "link": "https://stackoverflow.com/users/5573774/nevolute"}, "reply_to_user": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 0, "creation_date": 1553100891, "post_id": 55266059, "comment_id": 97263751, "body": "I&#39;m not sure how to implement this with the software keyboard within the emulator."}, {"owner": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 1, "creation_date": 1553101079, "post_id": 55266059, "comment_id": 97263864, "body": "Is your code working ? if yes, then you probably want a review, and your question may suite better to <a href=\"https://codereview.stackexchange.com/\">code review</a>. If no, then what is not working ? is it crashing ? what is the error ? in which line ? Is it working but not the way you want ? What is actual behaviour ? the expected one ?  Currently your question is unclear..."}, {"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1553166220, "post_id": 55266059, "comment_id": 97287702, "body": "When you say hardware keyboard im I thought to assume that you mean you ran on your physical device? And the emulator keyboard is the built in on in android studio? If so I&#39;ve heard of this before. If it works on the physical phone that means it&#39;s right and it&#39;s a big in the emulator."}], "owner": {"reputation": 1, "user_id": 5573774, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1n6rx-fc7og/AAAAAAAAAAI/AAAAAAAAARU/rzmSIIa75es/photo.jpg?sz=128", "display_name": "Nevolute", "link": "https://stackoverflow.com/users/5573774/nevolute"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553100796, "creation_date": 1553100393, "last_edit_date": 1553100796, "question_id": 55266059, "link": "https://stackoverflow.com/questions/55266059/kotlin-edittxt-onkeylistener-with-emulator-keyboard", "title": "Kotlin edittxt.onKeyListener with emulator keyboard", "body": "<p>I'm trying to reset a button to become clickable once a key on the keyboard is pressed. It works with the hardware keyboard but not with the emulator keyboard. How would one implement this? </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            val button = findViewById&lt;Button&gt;(R.id.log_in_button)\n            val email = findViewById&lt;EditText&gt;(R.id.email_field)\n\n            button.isClickable = false\n            button.alpha = .5f\n\n            email.setOnKeyListener(object : View.OnKeyListener {\n                override fun onKey(v: View, keyCode: Int, event: KeyEvent): Boolean {\n\n                    if(event.action == KeyEvent.ACTION_DOWN) {\n\n                        button.isClickable = true\n                        button.alpha = 1f\n                        return true\n                    }\n\n                    return false\n                }\n            })\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1553160470, "last_edit_date": 1553160470, "creation_date": 1553160093, "answer_id": 55277136, "question_id": 55265636, "link": "https://stackoverflow.com/questions/55265636/try-to-make-group-tolist-but-looks-questionably-but-got-only-one-subscriber/55277136#55277136", "title": "Try to make group.toList() but looks questionably. But got: Only one subscriber allowed! How to fix the code?", "body": "<p>For some daytime ago i have already found solition via <strong>collect()</strong> operator thru <a href=\"https://stackoverflow.com/a/46291479/6352712\">the post</a></p>\n\n<pre><code>proRepo.loadUser(prefSource.userId)\n                .flatMap { Flowable.fromIterable(it) }\n                .groupBy { it.typePro } // &lt;- group by profile type\n                .flatMap { group -&gt;\n                    group.collect({ ArrayList&lt;ProItem&gt;() }, { profiles, profile -&gt;\n                        profiles.add(profile) //&lt;- get profiles of one type    \n                    }).map { \n                           MyProWrap(type = group.key!!, profiles = it) //&lt;- wrap result\n                       }.toFlowable()\n                }\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({\n                           result = it \n                          },{ \n                            Timber.e(\"Fail to load profiles. ${it.message}\") \n                          })\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 55277136, "answer_count": 1, "score": 0, "last_activity_date": 1553161155, "creation_date": 1553099075, "last_edit_date": 1553161155, "question_id": 55265636, "link": "https://stackoverflow.com/questions/55265636/try-to-make-group-tolist-but-looks-questionably-but-got-only-one-subscriber", "title": "Try to make group.toList() but looks questionably. But got: Only one subscriber allowed! How to fix the code?", "body": "<p>My problem is to load items with different types , then to sort it by types</p>\n\n<p>and return pair results:</p>\n\n<pre><code>type to items (for the type)  \n</code></pre>\n\n<p>wrapping to object: </p>\n\n<pre><code>data class MyProWrap(val type: ProType, val profiles: ArrayList&lt;ProImpl&gt;)\n</code></pre>\n\n<p>so after <strong>groupBy()</strong> i trying get items list via <strong>group.toList()</strong>\nand then extract via <strong>blockingGet()</strong></p>\n\n<p>my code:</p>\n\n<pre><code>proRepo.loadUser(prefSource.userId)\n            .flatMap {\n                Flowable.fromIterable(it)\n            }\n            .groupBy { it.typePro}\n\n             .flatMap { group -&gt;\n                group.map {\n                    group.key to group.toList() //&lt;- try collect result to list\n                }\n            }\n            .map { \n                   MyProWrap(\n                             type = it.first!!, \n                             profiles = ArrayList(it.second.blockingGet()) //&lt;- try extract result from Single via blocking get\n                            ) \n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                result = it\n                }\n            }, {\n                Timber.e(\"Fail to load profiles. ${it.message}\")\n            })\n</code></pre>\n\n<p>but got error: </p>\n\n<pre><code>java.lang.IllegalStateException: Only one subscriber allowed!\n</code></pre>\n\n<p>my wrap class is:</p>\n\n<pre><code>data class MyProWrap(val type: ProType, val profiles: ArrayList&lt;ProItem&gt;)  \n\n  enum class ProType {\n     FIRST_TYPE,\n     SECOND_TYPE,\n     THIRD_TYPE \n}\n</code></pre>\n\n<p>there is the way to fix it?</p>\n"}, {"tags": ["kotlin", "extension-methods", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 5, "last_activity_date": 1553098100, "creation_date": 1553098100, "answer_id": 55265332, "question_id": 55265262, "link": "https://stackoverflow.com/questions/55265262/add-extension-function-in-kotlin-to-all-classes/55265332#55265332", "title": "Add Extension function in kotlin to all classes", "body": "<p>With Kotlin, <code>Any</code> is the super type like <code>Object</code> for Java.</p>\n\n<pre><code>fun Any.myExtensionFunction() {\n    // ...\n}\n</code></pre>\n\n<p>And if you want to support null-receiver too:</p>\n\n<pre><code>fun Any?.myExtensionFunction() {\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1553105306, "creation_date": 1553105306, "answer_id": 55267523, "question_id": 55265262, "link": "https://stackoverflow.com/questions/55265262/add-extension-function-in-kotlin-to-all-classes/55267523#55267523", "title": "Add Extension function in kotlin to all classes", "body": "<p>It depends on whether you want to use the type of the object in the signature (either in another argument, or in the return type). If not, use <code>Any(?)</code> as Kevin Robatel's answer says; but if you do, you need to use generics, e.g. (from the standard library)</p>\n\n<pre><code>inline fun &lt;T, R&gt; T.run(block: T.() -&gt; R): R\n\ninline fun &lt;T&gt; T.takeIf(predicate: (T) -&gt; Boolean): T?\n</code></pre>\n\n<p>etc.</p>\n"}], "owner": {"reputation": 1474, "user_id": 6483824, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3fc10ff38e7bf1b5a7b5e62399016ccb?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6483824/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1553105306, "creation_date": 1553097865, "last_edit_date": 1553098245, "question_id": 55265262, "link": "https://stackoverflow.com/questions/55265262/add-extension-function-in-kotlin-to-all-classes", "title": "Add Extension function in kotlin to all classes", "body": "<p>Is it possible to add extension function to all classes? I was thinking about adding it to some common base class like Object. Is it possible?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "modularization"], "comments": [{"owner": {"reputation": 14501, "user_id": 2003986, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/823f5a30f7e956de05cc4a5b5b30ec0e?s=128&d=identicon&r=PG", "display_name": "ToYonos", "link": "https://stackoverflow.com/users/2003986/toyonos"}, "edited": false, "score": 0, "creation_date": 1553102515, "post_id": 55265210, "comment_id": 97264730, "body": "I am not an Android@Gradle specialist but <code>compileDebugJavaWithJavac</code> is UP-TO-DATE so since you made an ABI compatible change (private method change), it seems normal. Regarding the others task, i can&#39;t tell. Maybe you can share more logs ?"}], "owner": {"reputation": 473, "user_id": 3063048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01e3bcfe87cdecef4ace5c69967801?s=128&d=identicon&r=PG&f=1", "display_name": "Hannibalem", "link": "https://stackoverflow.com/users/3063048/hannibalem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1553097760, "creation_date": 1553097760, "question_id": 55265210, "link": "https://stackoverflow.com/questions/55265210/change-in-private-method-rebuilds-gradle-dependant-module", "title": "Change in private method rebuilds Gradle dependant module", "body": "<p>so I have an Android project with a module App that depends on a module A that depends on a module B (App -> A -> B), in such a way that the gradle file of the module A looks like this:</p>\n\n<pre><code>...\nimplementation project(':feature_B')\n...\n</code></pre>\n\n<p>Then in the B module I have the following class:</p>\n\n<pre><code>public class Whatever() {\n  private void doSomething() {\n    int value = 5;\n  }\n}\n</code></pre>\n\n<p>So the problem is that whenever I change the <code>doSomething()</code> method, for example by setting <code>value</code> with 6 instead of 5, and then I rebuild the project, I get this log:</p>\n\n<pre><code>...\n\n&gt; Task :feature_B:kaptDebugKotlin\n&gt; Task :feature_BcompileDebugKotlin\n&gt; Task :feature_B:javaPreCompileDebug UP-TO-DATE\n&gt; Task :feature_B:compileDebugJavaWithJavac\n...\n&gt; Task :feature_A:kaptDebugKotlin\n&gt; Task :feature_A:compileDebugKotlin\n&gt; Task :feature_A:javaPreCompileDebug\n&gt; Task :feature_A:compileDebugJavaWithJavac UP-TO-DATE\n...\n</code></pre>\n\n<p>When according to this Google IO '17 talk (<a href=\"https://www.youtube.com/watch?v=7ll-rkLCtyk&amp;t=1566s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=7ll-rkLCtyk&amp;t=1566s</a>) the module A shouldn't be rebuilt at all since the only thing that changed in B was the implementation of a private method... Therefore all the tasks for A should be \"UP-TO-DATE\"... </p>\n\n<p>Am I missing something on my module A gradle file? did the guy from Google made it up? </p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["android", "mvvm", "kotlin"], "comments": [{"owner": {"reputation": 146, "user_id": 9087847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8CNPf.jpg?s=128&g=1", "display_name": "Giovanka Bisano", "link": "https://stackoverflow.com/users/9087847/giovanka-bisano"}, "edited": false, "score": 0, "creation_date": 1553097597, "post_id": 55265113, "comment_id": 97261673, "body": "I think, i don&#39;t need to post the code from my Fragment class, because i define my adapter from my fragment class in the most common way <code>recyclerView.adapter = PodAdapter(podList,context!!.applicationContext)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 9087847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8CNPf.jpg?s=128&g=1", "display_name": "Giovanka Bisano", "link": "https://stackoverflow.com/users/9087847/giovanka-bisano"}, "edited": false, "score": 1, "creation_date": 1553128188, "post_id": 55268665, "comment_id": 97275346, "body": "How to do that? i try <code>context.viewModel.listUri.value</code> and it give me error"}], "tags": [], "owner": {"reputation": 1129, "user_id": 11233871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GgPqb.png?s=128&g=1", "display_name": "Happy Singh", "link": "https://stackoverflow.com/users/11233871/happy-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1553109621, "creation_date": 1553109621, "answer_id": 55268665, "question_id": 55265113, "link": "https://stackoverflow.com/questions/55265113/how-to-get-value-from-viewmodel-fromrecyclerview-adapter/55268665#55268665", "title": "How to get value from ViewModel fromRecyclerView Adapter", "body": "<p>you can access your ViewModel from the context which you are getting into the adapter. </p>\n"}, {"tags": [], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "is_accepted": false, "score": -1, "last_activity_date": 1559490723, "creation_date": 1559490723, "answer_id": 56416613, "question_id": 55265113, "link": "https://stackoverflow.com/questions/55265113/how-to-get-value-from-viewmodel-fromrecyclerview-adapter/56416613#56416613", "title": "How to get value from ViewModel fromRecyclerView Adapter", "body": "<p>I guess instead of passing the context in the constructor, pass the ViewModel instead:</p>\n\n<pre><code>class MyAdapter(var items: MutableList&lt;Uri&gt;, val viewModel: MyViewModel) : RecyclerView.Adapter&lt;ViewHolder&gt;()\n</code></pre>\n\n<p>Then instead of:</p>\n\n<pre><code>holder.deleteIcon.setOnClickListener {\n    val viewModel: MyViewModel? = null\n    ....THIS PART....\n    viewModel?.listUri?.value.removeAt(position) \n    ....UNTIL THIS PART....     \n}\n</code></pre>\n\n<p>You can do:</p>\n\n<pre><code>holder.deleteIcon.setOnClickListener {\n    viewModel.listUri.value?.removeAt(position)     \n}\n</code></pre>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 146, "user_id": 9087847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8CNPf.jpg?s=128&g=1", "display_name": "Giovanka Bisano", "link": "https://stackoverflow.com/users/9087847/giovanka-bisano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1124, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1559490723, "creation_date": 1553097493, "last_edit_date": 1553128113, "question_id": 55265113, "link": "https://stackoverflow.com/questions/55265113/how-to-get-value-from-viewmodel-fromrecyclerview-adapter", "title": "How to get value from ViewModel fromRecyclerView Adapter", "body": "<p>I have an Android project in MVVM Structure. In that project, consist RecyclerView. This is my code.</p>\n\n<p>1.MyViewModel.kt</p>\n\n<pre><code>class MyViewModel(context: Application, val myRepository: MyRepository) : AndroidViewModel(context), Observable{\n\n    ... other code ...\n    val listUri: MutableLiveData&lt;MutableList&lt;Uri&gt;&gt; by lazy {\n        MutableLiveData&lt;MutableList&lt;Uri&gt;&gt;().apply {\n            value = mutableListOf()\n        }\n    }\n    ... other code ...\n\n}\n</code></pre>\n\n<p>2.MyAdapter.kt</p>\n\n<pre><code>class MyAdapter(var items: MutableList&lt;Uri&gt;, val context: Context) : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\nvar listItems: ArrayList&lt;Uri&gt; = items as ArrayList&lt;Uri&gt;\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    return ViewHolder(LayoutInflater.from(context).inflate(R.layout.pod_list_item, parent, false))\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.imageIcon.setImageURI(listItems[position])\n\n    holder.deleteIcon.setOnClickListener {\n        val viewModel: MyViewModel? = null\n        ....THIS PART....\n        viewModel?.listUri?.value.removeAt(position) \n        ....UNTIL THIS PART....     \n    }\n}\n\noverride fun getItemCount(): Int {\n    return editedItems.size\n}\n}\n\n\nclass ViewHolder(val view: View) : RecyclerView.ViewHolder(view) {\n    var imageIcon = view.icon_image\n    var deleteIcon = view.icon_delete\n}\n</code></pre>\n\n<p>When user click the delete icon in the recyclerview item, the application suppose to <strong>delete</strong> the selected value of <code>MutableLiveData&lt;MutableList&lt;Uri&gt;&gt;</code> in <code>MyViewModel</code> which name <code>listUri</code>.</p>\n\n<p>In my marked code above, when i debug the code, it return <strong>null</strong> value, even though the variable listUri in ViewModel have value.\nSo i think, my way to access the value of ViewModel from Adapter is wrong.</p>\n\n<p>How to access value of ViewModel from the adapter and then manipulate it?</p>\n\n<p>If can't do that, any suggestion would be nice.</p>\n"}, {"tags": ["android", "regex", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1553098907, "post_id": 55265028, "comment_id": 97262544, "body": "I might&#39;ve misunderstood you, but if you only want to replace one, there&#39;s <code>replaceFirst</code>. Also, your current regex matches any number of digits, followed by any char 8 times. If you&#39;re looking to only replace digits, you&#39;ll need to add a capture group to exclude the the rest. I.e. <code>&quot;&quot;&quot;^\\d*(.{8})&quot;&quot;&quot;</code> replaced with <code>*$1&quot;</code>"}, {"owner": {"reputation": 4079, "user_id": 2754178, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/F7uY9.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2754178/ric"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1553099425, "post_id": 55265028, "comment_id": 97262899, "body": "I want to replace each occurrence of a digit with an * until i have replaced 8 digits, my final string should look like &quot;*** *** *89 0&quot;"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1553100043, "post_id": 55265028, "comment_id": 97263254, "body": "And if there are fewer than 8 digits?"}, {"owner": {"reputation": 4079, "user_id": 2754178, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/F7uY9.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2754178/ric"}, "edited": false, "score": 0, "creation_date": 1553100116, "post_id": 55265028, "comment_id": 97263295, "body": "The string will always have the same size"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1553100360, "post_id": 55265028, "comment_id": 97263420, "body": "You don&#39;t replace 8 digits in the example though, you only replace 7. Either way, <code>(0 until 7).forEach { raw = raw.replaceFirst(&quot;\\\\d&quot;.toRegex(), &quot;*&quot;) }</code> is considerably less prone to error, and supports different formats as well. And might be slightly faster. Unfortunately, the replace method currently doesn&#39;t have a count. I can&#39;t think of any regex off the top of my head that does this accurately when it involves spaces without replacing with the full count manually. But if the string style is always the same, just <code>&quot;*** *** *&quot; + rex.substring(9)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 0, "last_activity_date": 1553104159, "creation_date": 1553104159, "answer_id": 55267195, "question_id": 55265028, "link": "https://stackoverflow.com/questions/55265028/picking-first-x-digits-in-string-and-replace-each-digit-with-character/55267195#55267195", "title": "Picking first X digits in string and replace each digit with Character", "body": "<p>Rather than a regex, you probably just want to iterate <code>n</code> number of times until you've replaced the desired number of characters. Using a functional approach you could do something like:</p>\n\n<pre><code>fun String.redact(numDigits:Int = 8): String {\n    val charArray = toCharArray()\n\n    charArray.withIndex()\n        .filter { (_, char) -&gt; Character.isDigit(char) }\n        .take(numDigits)\n        .forEach { (index, _) -&gt; charArray[index] = '*' }\n\n    return String(charArray)\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>println(\"123 456 789 0\".redact()) // *** *** **9 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1553105448, "last_edit_date": 1553105448, "creation_date": 1553104588, "answer_id": 55267323, "question_id": 55265028, "link": "https://stackoverflow.com/questions/55265028/picking-first-x-digits-in-string-and-replace-each-digit-with-character/55267323#55267323", "title": "Picking first X digits in string and replace each digit with Character", "body": "<p>A readable regex approach  is to match any amount of chars from the start of the string up to the 8th digit and then pass the match to a block and replace the second time with a digit pattern:</p>\n\n<pre><code>val s = \"123 456 789 0\"\nval regex = \"\"\"^(?:\\D*\\d){8}\"\"\".toRegex()\nprintln(s.replace(regex) { it.value.replace(Regex(\"\"\"\\d\"\"\"), \"*\") })\n// =&gt; *** *** **9 0\n</code></pre>\n\n<p>See the <a href=\"https://rextester.com/GBE51563\" rel=\"nofollow noreferrer\">Kotlin demo online</a></p>\n\n<p>The <code>^(?:\\D*\\d){8}</code> regex matches</p>\n\n<ul>\n<li><code>^</code> - string start</li>\n<li><code>(?:\\D*\\d){8}</code> - 8 repetitions of:\n\n<ul>\n<li><code>\\D*</code> - 0  or more chars other than digits</li>\n<li><code>\\d</code> - a digit.</li>\n</ul></li>\n</ul>\n\n<p>Just FYI, you may achieve the same with a hardcoded version with eight capturing groups, <code>s.replace(\"\"\"^(\\D*)\\d(\\D*)\\d(\\D*)\\d(\\D*)\\d(\\D*)\\d(\\D*)\\d(\\D*)\\d(\\D*)\\d\"\"\".toRegex(), \"$1*$2*$3*$4*$5*$6*$7*$8*\")</code> if you always have 8 digits in the input string.</p>\n"}], "owner": {"reputation": 4079, "user_id": 2754178, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/F7uY9.jpg?s=128&g=1", "display_name": "Ric", "link": "https://stackoverflow.com/users/2754178/ric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 55267323, "answer_count": 2, "score": 1, "last_activity_date": 1553105448, "creation_date": 1553097221, "last_edit_date": 1553098162, "question_id": 55265028, "link": "https://stackoverflow.com/questions/55265028/picking-first-x-digits-in-string-and-replace-each-digit-with-character", "title": "Picking first X digits in string and replace each digit with Character", "body": "<p>I'm trying to replace all digits in a string with an *.</p>\n\n<p>Right now i have this</p>\n\n<pre><code>val regex = \"^[\\\\d+].{8}\"\nval pattern = Pattern.compile(regex)\ncode = code.replace(pattern.toRegex(), \"*** *** *\")\n</code></pre>\n\n<p>It kinda works, but i want to have <code>*</code> instead of <code>\"*** *** *\"</code>\nso the idea is to replace single digits instead of a block.</p>\n\n<p>example string: </p>\n\n<blockquote>\n  <p>123 456 789 0</p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 2, "creation_date": 1553093486, "post_id": 55263659, "comment_id": 97258685, "body": "<code>My question is: Why does the method in Kotlin not return anything</code> because there&#39;s no <code>return</code> in you kotlin code?"}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1553093688, "post_id": 55263659, "comment_id": 97258839, "body": "Does the kotlin code compile? Have you used auto-code-conversion? Maybe it&#39;s just a bug in the code converter?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 3, "creation_date": 1553093732, "post_id": 55263659, "comment_id": 97258879, "body": "Your function should be: <code>override fun navigate(destination: Destination,                        args: Bundle?,                        navOptions: NavOptions?,                        navigatorExtras: Extras?): NavDestination</code> and of course you need a return statement inside the function&#39;s block."}, {"owner": {"reputation": 564, "user_id": 4948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJddy.jpg?s=128&g=1", "display_name": "Ryan Godlonton-Shaw", "link": "https://stackoverflow.com/users/4948827/ryan-godlonton-shaw"}, "edited": false, "score": 0, "creation_date": 1553094505, "post_id": 55263659, "comment_id": 97259449, "body": "Simply add a return statement inside the method."}, {"owner": {"reputation": 47, "user_id": 11232176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f2b2c48a1469611aae59e678b64814?s=128&d=identicon&r=PG&f=1", "display_name": "mmaciejow", "link": "https://stackoverflow.com/users/11232176/mmaciejow"}, "edited": false, "score": 0, "creation_date": 1553094773, "post_id": 55263659, "comment_id": 97259654, "body": "Method works. Full code: <a href=\"https://github.com/STAR-ZERO/navigation-dialog-sample/blob/master/app/src/main/java/com/example/navigationdialog/DialogNavigator.kt\" rel=\"nofollow noreferrer\">github.com/STAR-ZERO/navigation-dialog-sample/blob/master/ap&zwnj;&#8203;p/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "is_accepted": true, "score": 2, "last_activity_date": 1553096206, "creation_date": 1553096206, "answer_id": 55264634, "question_id": 55263659, "link": "https://stackoverflow.com/questions/55263659/method-return-in-kotlin-java/55264634#55264634", "title": "Method return in Kotlin &amp; Java", "body": "<p>The link to the documentation you mention links to release <code>1.0.0</code> of the library. But you use version <code>1.0.0-alpha06</code>. There was a change in the method signature from <code>alpha06</code></p>\n\n<pre><code>public abstract void navigate(@NonNull D destination, @Nullable Bundle args, @Nullable NavOptions navOptions, @Nullable Extras navigatorExtras);\n</code></pre>\n\n<p>to <code>1.0.0</code> stable:</p>\n\n<pre><code>public abstract NavDestination navigate(@NonNull D destination, @Nullable Bundle args, @Nullable NavOptions navOptions, @Nullable Extras navigatorExtras);\n</code></pre>\n\n<p>If you change in your build.gradle the following dependencies</p>\n\n<pre><code>implementation \"android.arch.navigation:navigation-fragment-ktx:1.0.0\"\nimplementation \"android.arch.navigation:navigation-ui-ktx:1.0.0\"\n</code></pre>\n\n<p>you'll get a compiler error due to the missing return statement.</p>\n"}], "owner": {"reputation": 47, "user_id": 11232176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86f2b2c48a1469611aae59e678b64814?s=128&d=identicon&r=PG&f=1", "display_name": "mmaciejow", "link": "https://stackoverflow.com/users/11232176/mmaciejow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 55264634, "answer_count": 1, "score": -3, "last_activity_date": 1553096206, "creation_date": 1553093364, "question_id": 55263659, "link": "https://stackoverflow.com/questions/55263659/method-return-in-kotlin-java", "title": "Method return in Kotlin &amp; Java", "body": "<p>I'm learning Kotlin. I have weird a situation.</p>\n\n<p>I have method in java:</p>\n\n<pre><code>@Override\npublic NavDestination navigate(@NonNull Destination destination,\n                               @Nullable Bundle args,\n                               @Nullable NavOptions navOptions,\n                               @Nullable Extras navigatorExtras) {\n\n    ....\n    return navDestination ;\n}\n</code></pre>\n\n<p>and code in Kotlin </p>\n\n<pre><code>override fun navigate(destination: Destination, \n                      args: Bundle?, \n                      navOptions: NavOptions?, \n                      navigatorExtras: Extras?) {\n       ....\n    }\n</code></pre>\n\n<p>My question is: Why does the method in Kotlin not return anything? \nWhen we look for the docs \n<a href=\"https://developer.android.com/reference/androidx/navigation/Navigator.html#navigate(D,%20android.os.Bundle,%20androidx.navigation.NavOptions,%20androidx.navigation.Navigator.Extras)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/navigation/Navigator.html#navigate(D,%20android.os.Bundle,%20androidx.navigation.NavOptions,%20androidx.navigation.Navigator.Extras)</a></p>\n\n<p>You can see that the method returns something.</p>\n\n<p>Thanks for reply.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1553092380, "post_id": 55263176, "comment_id": 97257798, "body": "the reason why you see <code>myReportLocations</code> empty is that the piece of code populating it (i.e. the callback) is executed asynchronously, so that <code>getReportCoordinates</code> gets completed before the callback is executed. In order to have the correct result you could call a function with the appropriate locations from within the callback, for example"}], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553092640, "creation_date": 1553092640, "answer_id": 55263358, "question_id": 55263176, "link": "https://stackoverflow.com/questions/55263176/how-to-access-a-value-stored-in-a-variable-that-is-in-a-block-in-kotlin/55263358#55263358", "title": "How to access a value stored in a variable that is in a block in kotlin", "body": "<p>This is an asynchronous call. So the list will get updated AFTER it has already returned.\nWhat you want to do is convert this to a blocking network call. (Though I'd use another thread otherwise your application will freeze if it does this on the main thread)</p>\n\n<p>Try: </p>\n\n<pre><code>private fun getReportCoordinates(): ArrayList&lt;HashMap&lt;String, String&gt;&gt; {\nvar reportLocations: ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\nvar myReportLocations: ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\n\nval result = Fuel.get(\"http://kite.pythonanywhere.com/api/v1/progress\").header(Headers.COOKIE, cookie).responseJson()\n//incident_count = (count_occurrences('{', response.body().toString()) - 1).toString()\nfor (i in 0..result.third.get().array().length() - 1) {\n    //myReportLat = result.get().array().getJSONObject(i)[\"latitude\"].toString()\n    //myReportLong= result.get().array().getJSONObject(i)[\"longitude\"].toString()\n    var reportCoord: HashMap&lt;String, String&gt; = HashMap()\n\n    //println(\"The coordinates are: \" + myReportLat+ \" : \" + myReportLong)\n    reportCoord.put(\"LocationID\", i.toString())\n    reportCoord.put(\"Latitude\", result.get().array().getJSONObject(i)[\"latitude\"].toString())\n    reportCoord.put(\"Longitude\", result.get().array().getJSONObject(i)[\"longitude\"].toString())\n    reportCoord.put(\"LocationName\", \"Progress Report\")\n    reportLocations.add(reportCoord)\n}\n\nmyReportLocations.addAll(reportLocations)\nreturn myReportLocations\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "is_accepted": true, "score": 1, "last_activity_date": 1553092715, "creation_date": 1553092715, "answer_id": 55263385, "question_id": 55263176, "link": "https://stackoverflow.com/questions/55263176/how-to-access-a-value-stored-in-a-variable-that-is-in-a-block-in-kotlin/55263385#55263385", "title": "How to access a value stored in a variable that is in a block in kotlin", "body": "<p>Here is a solution to your case:</p>\n\n<pre><code>private fun getReportCoordinates(result: (list:ArrayList&lt;HashMap&lt;String, String&gt;&gt; -&gt; Unit) {\n    var reportLocations : ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\n    var myReportLocations : ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\n\n    Fuel.get(\"http://kite.pythonanywhere.com/api/v1/progress\").header(Headers.COOKIE, cookie).responseJson { request: Request, response: Response, result: Result&lt;FuelJson, FuelError&gt; -&gt;\n        //incident_count = (count_occurrences('{', response.body().toString()) - 1).toString()\n        for (i in 0..result.get().array().length() -1){\n            //myReportLat = result.get().array().getJSONObject(i)[\"latitude\"].toString()\n            //myReportLong= result.get().array().getJSONObject(i)[\"longitude\"].toString()\n            var reportCoord: HashMap&lt;String, String&gt; = HashMap()\n\n            //println(\"The coordinates are: \" + myReportLat+ \" : \" + myReportLong)\n            reportCoord.put(\"LocationID\", i.toString())\n            reportCoord.put(\"Latitude\", result.get().array().getJSONObject(i)[\"latitude\"].toString())\n            reportCoord.put(\"Longitude\", result.get().array().getJSONObject(i)[\"longitude\"].toString())\n            reportCoord.put(\"LocationName\", \"Progress Report\")\n            reportLocations.add(reportCoord)\n        }\n\n        /*for (x in 0..reportLocations.size -1){\n            println(\"This is the \" + x + \"th coordinate \" + reportLocations.get(x))\n        }*/\n\n         result(myReportLocations)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 140, "user_id": 5804417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D4w16.jpg?s=128&g=1", "display_name": "Simbarashe Mupfururirwa", "link": "https://stackoverflow.com/users/5804417/simbarashe-mupfururirwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 55263385, "answer_count": 2, "score": 1, "last_activity_date": 1553092715, "creation_date": 1553092107, "question_id": 55263176, "link": "https://stackoverflow.com/questions/55263176/how-to-access-a-value-stored-in-a-variable-that-is-in-a-block-in-kotlin", "title": "How to access a value stored in a variable that is in a block in kotlin", "body": "<p>I have a list that I'm populating using a for loop. I have this code running in inside a method that has this block. I want help on how I can return myReportLocations and its values</p>\n\n<pre><code>private fun getReportCoordinates(): ArrayList&lt;HashMap&lt;String, String&gt;&gt;{\n        var reportLocations : ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\n        var myReportLocations : ArrayList&lt;HashMap&lt;String, String&gt;&gt; = ArrayList()\n\n        Fuel.get(\"http://kite.pythonanywhere.com/api/v1/progress\").header(Headers.COOKIE, cookie).responseJson { request: Request, response: Response, result: Result&lt;FuelJson, FuelError&gt; -&gt;\n            //incident_count = (count_occurrences('{', response.body().toString()) - 1).toString()\n            for (i in 0..result.get().array().length() -1){\n                //myReportLat = result.get().array().getJSONObject(i)[\"latitude\"].toString()\n                //myReportLong= result.get().array().getJSONObject(i)[\"longitude\"].toString()\n                var reportCoord: HashMap&lt;String, String&gt; = HashMap()\n\n                //println(\"The coordinates are: \" + myReportLat+ \" : \" + myReportLong)\n                reportCoord.put(\"LocationID\", i.toString())\n                reportCoord.put(\"Latitude\", result.get().array().getJSONObject(i)[\"latitude\"].toString())\n                reportCoord.put(\"Longitude\", result.get().array().getJSONObject(i)[\"longitude\"].toString())\n                reportCoord.put(\"LocationName\", \"Progress Report\")\n                reportLocations.add(reportCoord)\n            }\n\n            /*for (x in 0..reportLocations.size -1){\n                println(\"This is the \" + x + \"th coordinate \" + reportLocations.get(x))\n            }*/\n\n            myReportLocations.addAll(reportLocations)//everything is stored here\n        }\n        myReportLocations//there nothing stored\n        return myReportLocations\n    }\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "android-gradle-plugin", "build.gradle"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1553093267, "post_id": 55262834, "comment_id": 97258531, "body": "You have <code>-jdk7</code> both for compilation and for runtime, and <code>-jdk8</code> both for compilation and for runtime. Since they are indeed needed for both, what is the problem?"}, {"owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1553094701, "post_id": 55262834, "comment_id": 97259608, "body": "@AlexeyRomanov Didn&#39;t know both were needed. Looks redundant."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1553098411, "post_id": 55262834, "comment_id": 97262224, "body": "Both <code>-jdk7</code> and <code>-jdk8</code> or both compilation and runtime?"}], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 0, "last_activity_date": 1553166588, "creation_date": 1553166588, "answer_id": 55279089, "question_id": 55262834, "link": "https://stackoverflow.com/questions/55262834/do-i-have-kotlin-stdlib-twice/55279089#55279089", "title": "Do I have Kotlin stdlib twice?", "body": "<p>As you can see from <a href=\"https://search.maven.org/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.3.21/jar\" rel=\"nofollow noreferrer\">its pom</a>, <code>-jdk8</code> depends on both <code>-jdk7</code> and <code>kotlin-stdlib</code>, that's why you see both. The <code>-jdk*</code> artefacts only contain JDK 7 and JDK 8 specific features/extensions and do not cause the whole JDK to be imported twice.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">doc</a>:</p>\n\n<blockquote>\n  <p>There are extended versions of the standard library that add support for some of the features of JDK 7 and JDK 8</p>\n</blockquote>\n\n<p>To answer Q2, that dependancy comes from another dependancy. You should be able to find out where it is imported from by running <code>gradle dependencies</code>.</p>\n"}], "owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 55279089, "answer_count": 1, "score": 0, "last_activity_date": 1553166588, "creation_date": 1553091178, "last_edit_date": 1553091585, "question_id": 55262834, "link": "https://stackoverflow.com/questions/55262834/do-i-have-kotlin-stdlib-twice", "title": "Do I have Kotlin stdlib twice?", "body": "<p>In Android Studio 3\ngradle ->  --> Tasks --> android --> androidDependecies:</p>\n\n<pre><code>&gt; Task :app:androidDependencies\ndebug\ndebugCompileClasspath - Dependencies for compilation\n+--- androidx.core:core-ktx:1.0.1@aar\n+--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.21@jar\n+--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.21@jar\n....\n</code></pre>\n\n<p>In my app module build.gradle I have:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n</code></pre>\n\n<p>Furtheron, I also found:</p>\n\n<pre><code>debugRuntimeClasspath - Dependencies for runtime/packaging\n+--- androidx.core:core-ktx:1.0.1@aar\n+--- com.google.android.material:material:1.1.0-alpha04@aar\n+--- androidx.appcompat:appcompat:1.1.0-alpha01@aar\n+--- androidx.constraintlayout:constraintlayout:1.1.3@aar\n+--- org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.21@jar\n+--- :a_lib\n+--- com.github.nisrulz:qreader:2.1.2@aar\n+--- org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.21@jar\n+--- org.jetbrains.kotlin:kotlin-reflect:1.3.20@jar\n...\n</code></pre>\n\n<p>Q1: How can I find out where the second kotlin-stdlib-jdk7 comes from? Possibly from a third party lib?</p>\n\n<p>Q2: As you can see, Kotlin 1.3.21 and 1.3.20 was used. I bet the 1.3.20 comes with another lib and this can cause future problems?</p>\n"}, {"tags": ["unit-testing", "kotlin", "mocking", "mockk"], "comments": [{"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 0, "creation_date": 1553091477, "post_id": 55262713, "comment_id": 97257158, "body": "Strings are not mockable"}, {"owner": {"reputation": 1502, "user_id": 1342086, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vriLv.png?s=128&g=1", "display_name": "rj2700", "link": "https://stackoverflow.com/users/1342086/rj2700"}, "reply_to_user": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 0, "creation_date": 1553092866, "post_id": 55262713, "comment_id": 97258204, "body": "I may be too naiive to realize but I was able to mock the sayHello() properly. Regardless, even if I change the return type for these methods to data classes, it&#39;s still running into the same issue."}, {"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 0, "creation_date": 1553095428, "post_id": 55262713, "comment_id": 97260111, "body": "Weird, can you submit github issue with logback TRACE level enabled logs"}], "owner": {"reputation": 1502, "user_id": 1342086, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vriLv.png?s=128&g=1", "display_name": "rj2700", "link": "https://stackoverflow.com/users/1342086/rj2700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 645, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553091211, "creation_date": 1553090872, "last_edit_date": 1553091211, "question_id": 55262713, "link": "https://stackoverflow.com/questions/55262713/kotlin-mockk-chain-call", "title": "Kotlin-mockk chain call", "body": "<p>I am trying to perform a chain call within my unit test using the mockk library within Kotlin. Below is my code: </p>\n\n<pre><code>@MockK\nlateinit var crypto: Crypto\n\n@Before\nfun setUp() {\n    MockKAnnotations.init(this, relaxUnitFun = true)\n}\n\n@Test\nfun testCryptoFunc() {\n    // Given\n    // When\n    every { crypto.sayHello() } returns \"gg\" // This works\n    every { crypto.sayHelloTwice(\"w\").sayHello() } returns \"gg\" //sayHello() is unresolved\n\n    // Then\n    //val c = crypto.sayHelloTwice(\"ss\")\n    //print(\"rr\")\n}\n</code></pre>\n\n<p>And my implementation code: </p>\n\n<pre><code>fun sayHello(): String {\n    return \"hello\"\n}\n\nfun sayHelloTwice(a: String): String {\n    return sayHello() + a\n}\n</code></pre>\n\n<p>I am trying to stub the inner call (sayHello()) but I am getting unresolved reference error. According to the Mockk documentation for chain calls, it says this should be valid. </p>\n\n<p>I've tried cleaning and rebuilding (but running into the compilation error). Tried restarting the IDE. Tried invalidating caches and restarting. </p>\n\n<p>Is there anything that I'm missing/doing wrong? </p>\n\n<p>References: </p>\n\n<p><a href=\"https://mockk.io/#chained-calls\" rel=\"nofollow noreferrer\">https://mockk.io/#chained-calls</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/54347784/1342086\">https://stackoverflow.com/a/54347784/1342086</a></p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1553090767, "post_id": 55262620, "comment_id": 97256601, "body": "This sounds like it would not behave as you expect."}, {"owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1553092049, "post_id": 55262620, "comment_id": 97257547, "body": "My requirement is to exclude the Pager fragments from Backstack : supportFragmentManager.fragments[supportFragmentManager.back&zwnj;&#8203;StackEntryCount - 1]"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1553096072, "post_id": 55262620, "comment_id": 97260561, "body": "What do you mean? I don&#39;t think you should want to add the fragments inside a PagerAdapter to a backstack. What exactly are you trying to accomplish?"}], "owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553091061, "creation_date": 1553090644, "last_edit_date": 1553091061, "question_id": 55262620, "link": "https://stackoverflow.com/questions/55262620/is-it-possible-to-addtobackstacknull-in-pageradapter", "title": "Is it possible to addtoBackStack(null) in PagerAdapter?", "body": "<p>I have a Pager Adapter to load server images as like below:</p>\n\n<pre><code>class ImagePagerAdapter(var imageList: List&lt;ProductImageModel&gt;, var fragmentManager: FragmentManager) :\n    FragmentPagerAdapter(fragmentManager) {\n\n    override fun getItem(position: Int): Fragment {\n\n        val fragment = ImagePagerFragment()\n        fragment.arguments = Bundle().apply {\n            putString(PAGER_IMAGE_URL, imageList[position].image)\n        }\n        return fragment\n    }\n\n    override fun getCount(): Int {\n        return imageList.size\n    }\n}\n</code></pre>\n\n<p>I want to know any option to addtoBackStack(null) while creating a new Fragment inside the pagerAdapter. </p>\n\n<p>The current code, automatically adding the fragments to the backstack. So it's making a huge issue while the user presses the back button.  I have added another logic to filter the fragments in the back press.</p>\n"}, {"tags": ["android", "ios", "swift", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 1003, "user_id": 2119723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XDfPi.png?s=128&g=1", "display_name": "MD Naseem Ashraf", "link": "https://stackoverflow.com/users/2119723/md-naseem-ashraf"}, "edited": false, "score": 1, "creation_date": 1553089129, "post_id": 55262029, "comment_id": 97255482, "body": "AFAIK, A single Firebase project, like a cloud back-end service, can be shared with iOS, Android and Web."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1553091375, "post_id": 55262029, "comment_id": 97257097, "body": "See <a href=\"https://stackoverflow.com/questions/42731422/same-firebase-instance-for-ios-and-android-app\" title=\"same firebase instance for ios and android app\">stackoverflow.com/questions/42731422/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/41107699/using-same-firebase-app-with-web-and-mobile-app\" title=\"using same firebase app with web and mobile app\">stackoverflow.com/questions/41107699/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/46185098/how-can-i-add-an-android-app-to-an-existing-firebase-project-that-is-already-in\" title=\"how can i add an android app to an existing firebase project that is already in\">stackoverflow.com/questions/46185098/&hellip;</a>"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1553091475, "post_id": 55262029, "comment_id": 97257157, "body": "It&#39;s possible to have multiple apps in different technologies within a single Firebase project. Just keep in mind that all apps within a project use the same databases, the same list of users, etc."}], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 4, "last_activity_date": 1553089122, "creation_date": 1553089122, "answer_id": 55262071, "question_id": 55262029, "link": "https://stackoverflow.com/questions/55262029/using-firebase-for-ios-and-android-apps/55262071#55262071", "title": "Using Firebase for iOS and Android apps", "body": "<p>You should create a single project with two applications, one for iOs and one for Android. There is <strong>no</strong> need to create two projects, one for each platfom.</p>\n\n<p>If you also intend in the future to create a web app, you'll only have to create a new (web) project and that's it!</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 7346189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b519d14a496be42a321b960a95e0488?s=128&d=identicon&r=PG&f=1", "display_name": "Christian De Silva", "link": "https://stackoverflow.com/users/7346189/christian-de-silva"}, "is_accepted": false, "score": 2, "last_activity_date": 1553089383, "creation_date": 1553089383, "answer_id": 55262164, "question_id": 55262029, "link": "https://stackoverflow.com/questions/55262029/using-firebase-for-ios-and-android-apps/55262164#55262164", "title": "Using Firebase for iOS and Android apps", "body": "<p>In Firebase, every projects you created, you can add as many applications as you want.\nAn example below:\n<a href=\"https://i.stack.imgur.com/H9RJ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9RJ8.png\" alt=\"Two Apps in the same project\"></a></p>\n\n<p><strong>Two Apps in the same project</strong></p>\n\n<p>You are given a choice of iOS, Android, UNITY,and Web App to add</p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 8093391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-htiXRQ1kOQ0/AAAAAAAAAAI/AAAAAAAAA0U/rZTWEHXiMc4/photo.jpg?sz=128", "display_name": "Tejas Shukla", "link": "https://stackoverflow.com/users/8093391/tejas-shukla"}, "is_accepted": false, "score": 2, "last_activity_date": 1553090284, "last_edit_date": 1553090284, "creation_date": 1553089512, "answer_id": 55262226, "question_id": 55262029, "link": "https://stackoverflow.com/questions/55262029/using-firebase-for-ios-and-android-apps/55262226#55262226", "title": "Using Firebase for iOS and Android apps", "body": "<p><a href=\"https://firebase.google.com/docs/analytics/\" rel=\"nofollow noreferrer\">Please see the Google firebase doc you can find the setup for both platforms </a></p>\n\n<blockquote>\n  <p>You dont need to create seprate project you can manage both in one project.</p>\n</blockquote>\n"}], "owner": {"reputation": 99, "user_id": 8441694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-XbVOM5SSLDM/AAAAAAAAAAI/AAAAAAAAABc/z6k7HuliJqs/photo.jpg?sz=128", "display_name": "Hajar Elkoumikhi", "link": "https://stackoverflow.com/users/8441694/hajar-elkoumikhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1553091480, "accepted_answer_id": 55262071, "answer_count": 3, "score": 0, "last_activity_date": 1553090284, "creation_date": 1553089004, "question_id": 55262029, "link": "https://stackoverflow.com/questions/55262029/using-firebase-for-ios-and-android-apps", "closed_reason": "Duplicate", "title": "Using Firebase for iOS and Android apps", "body": "<p>I'm working on a personal project by developping two native apps, one for iOS (Swift) and the other one for Android (Kotlin). \nBoth apps are for money management and banking. </p>\n\n<p>My question is about firebase, should I create 2 different projects on Firebase and connect each one of my apps to one project at a time, or one Firebase-project can do the job for both apps ? </p>\n\n<p>Any explanations are appreciated. Thank you! </p>\n"}, {"tags": ["c++", "gradle", "kotlin", "protocol-buffers"], "answers": [{"tags": [], "owner": {"reputation": 1557, "user_id": 1156377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0tsJk.jpg?s=128&g=1", "display_name": "Mark K Cowan", "link": "https://stackoverflow.com/users/1156377/mark-k-cowan"}, "is_accepted": true, "score": 4, "last_activity_date": 1553084523, "creation_date": 1553084523, "answer_id": 55260687, "question_id": 55260686, "link": "https://stackoverflow.com/questions/55260686/gradle-java-kotlin-c-protobuf-in-the-same-project/55260687#55260687", "title": "Gradle: Java/Kotlin, C++, ProtoBuf in the same project", "body": "<p>I solved this while I was writing the question.</p>\n\n<p>The gradle configuration files are shown below.  There are a couple redundant blocks which are not needed for this example (or needed at all), however they achieve the objective.</p>\n\n<p>/build.gradle</p>\n\n<pre><code>subprojects {\n        group = 'com.whatever.your.group'\n        version = '0.0.0'\n        repositories {\n                mavenCentral()\n        }\n}\n</code></pre>\n\n<p>/settings.gradle</p>\n\n<pre><code>rootProject.name = 'my-project'\ninclude 'java-app'\ninclude 'cpp-app'\ninclude 'protocol'\n</code></pre>\n\n<p>/java-app/build.gradle</p>\n\n<pre><code>buildscript {\n        repositories {\n                mavenCentral()\n        }\n        dependencies {\n                classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.20\"\n        }\n}\n\nplugins {\n        // Java\n        id 'maven'\n        id 'idea'\n        id 'application'\n        id 'java'\n        id 'org.jetbrains.kotlin.jvm' version '1.3.20'\n\n        // ProtoBuf\n        id 'com.google.protobuf' version '0.8.8'\n}\n\ndescription = \"\"\"\"\"\"\n\nsourceCompatibility = 8\ntargetCompatibility = 8\n\ncompileKotlin {\n        kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n        kotlinOptions.jvmTarget = \"1.8\"\n}\n\nmainClassName = 'my.main.Class'\n\ndependencies {\n        protobuf project(':protocol') // &lt;-- name of protobuf project\n        compile project(':protocol')  // &lt;-- name of protobuf project\n        // We have \"protobuf\" and \"compile\", as \"compile\" brings in transitive dependencies\n\n        testCompile 'junit:junit:4.12'\n\n        implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.20\"\n\n        testImplementation \"org.jetbrains.kotlin:kotlin-test:1.3.20\"\n        testImplementation \"org.jetbrains.kotlin:kotlin-test-junit:1.3.20\"\n}\n\nsourceSets {\n        main {\n                java {\n                        srcDir \"src/main/java\"\n                }\n                kotlin {\n                        srcDir \"src/main/kotlin\"\n                }\n        }\n}\n</code></pre>\n\n<p>/java-app/settings.gradle</p>\n\n<pre><code>rootProject.name = 'java-app'\n</code></pre>\n\n<p>/cpp-app/build.gradle</p>\n\n<pre><code>plugins {\n        id 'maven'\n        id 'cpp'\n}\n\ndescription = \"\"\"\"\"\"\n\nproject.tasks.build.dependsOn 'protocol'  // &lt;-- name of protobuf project\n\nmodel {\n        components {\n                main(NativeExecutableSpec) {\n                        ...\n                }\n        }\n        ...\n}\n</code></pre>\n\n<p>/cpp-app/settings.gradle</p>\n\n<pre><code>rootProject.name = 'cpp-app'\n</code></pre>\n\n<p>/protocol/build.gradle</p>\n\n<pre><code>plugins {\n        id 'maven'\n        id 'java'\n        id 'com.google.protobuf' version '0.8.8'\n}\n\nrepositories {\n        mavenCentral()\n}\n\ndescription = \"\"\"\"\"\"\n\nsourceCompatibility = 8\ntargetCompatibility = 8\n\ndependencies {\n        compile 'com.google.protobuf:protobuf-java:3.7.0'\n        compile 'io.grpc:grpc-stub:1.19.0'\n        compile 'io.grpc:grpc-protobuf:1.19.0'\n}\n\nsourceSets {\n        main {\n                proto {\n                        srcDir \"src/main/proto\"\n                }\n        }\n}\n\nprotobuf {\n        protoc {\n                artifact = \"com.google.protobuf:protoc:3.7.0\"\n        }\n        plugins {\n                grpc_java {\n                        artifact = 'io.grpc:protoc-gen-grpc-java:1.19.0'\n                }\n                grpc_cpp {\n                        path = getPluginPath('cpp')\n                }\n                grpc_python {\n                        path = getPluginPath('python')\n                }\n        }\n        generateProtoTasks {\n                generatedFilesBaseDir = \"${buildDir}/build/generated/src\"\n                all()*.builtins {\n                        java { }\n                        cpp { }\n                        python { }\n                }\n                all()*.plugins {\n                        grpc_java {\n                                outputSubDir = 'java'\n                        }\n                        grpc_cpp {\n                                outputSubDir = 'cpp'\n                        }\n                        grpc_python {\n                                outputSubDir = 'python'\n                        }\n                }\n        }\n}\n\nclean {\n        delete protobuf.generatedFilesBaseDir\n}\n\n// Used to find executables for generating C++ and Java gRPC\nstatic def getPluginPath(name) {\n        def path = \"which grpc_${name}_plugin\".execute()\n        path.waitFor()\n        path = path.in.text.trim()\n        if (!path) {\n                println \"Failed to locate GRPC plugin for ${name}\"\n        } else {\n                println \"Found GRPC plugin for ${name} at ${path}\"\n        }\n        return path\n}\n</code></pre>\n\n<p>/protocol/settings.gradle</p>\n\n<pre><code>rootProject.name = 'protocol'\n</code></pre>\n\n<p>Then in the project root, I can run <code>gradle assemble</code>, and:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ gradle assemble\n\n&gt; Configure project :protocol\nFound GRPC plugin for cpp at /usr/bin/grpc_cpp_plugin\nFound GRPC plugin for python at /usr/bin/grpc_python_plugin\n\n&gt; Task :cpp-app:linkMainExecutable NO-SOURCE\n&gt; Task :cpp-app:mainExecutable UP-TO-DATE\n&gt; Task :cpp-app:assemble UP-TO-DATE\n&gt; Task :protocol:extractIncludeProto\n&gt; Task :protocol:extractProto\n&gt; Task :protocol:generateProto\n&gt; Task :protocol:compileJava\n&gt; Task :protocol:processResources\n&gt; Task :protocol:classes\n&gt; Task :protocol:jar\n&gt; Task :protocol:assemble\n&gt; Task :java-app:extractIncludeProto\n&gt; Task :java-app:extractProto\n&gt; Task :java-app:generateProto\n&gt; Task :java-app:compileKotlin\n&gt; Task :java-app:compileJava\n&gt; Task :java-app:processResources\n&gt; Task :java-app:classes\n&gt; Task :java-app:inspectClassesForKotlinIC\n&gt; Task :java-app:jar\n&gt; Task :java-app:startScripts\n&gt; Task :java-app:distTar\n&gt; Task :java-app:distZip\n&gt; Task :java-app:assemble\n\nBUILD SUCCESSFUL in 10s\n17 actionable tasks: 17 executed\n</code></pre>\n"}], "owner": {"reputation": 1557, "user_id": 1156377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0tsJk.jpg?s=128&g=1", "display_name": "Mark K Cowan", "link": "https://stackoverflow.com/users/1156377/mark-k-cowan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 1, "accepted_answer_id": 55260687, "answer_count": 1, "score": 5, "last_activity_date": 1553084523, "creation_date": 1553084523, "question_id": 55260686, "link": "https://stackoverflow.com/questions/55260686/gradle-java-kotlin-c-protobuf-in-the-same-project", "title": "Gradle: Java/Kotlin, C++, ProtoBuf in the same project", "body": "<p>I have a Java+Kotlin application, building with Gradle.</p>\n\n<p>Some of its low-level functionality is provided by a separate C++ application.</p>\n\n<p>The two applications communicate via a socket or pipe, using Protocol Buffers and gRPC.</p>\n\n<p>Initially, I'd hoped to build all three (ProtoBuf generated code, Java application, C++ application) in one project, however the <code>cpp-application</code> and <code>java</code> conflict over certain tasks (compile/implementation/test?).</p>\n\n<p>I've since split this into three projects:</p>\n\n<pre><code>/\n build.gradle\n settings.gradle\n cpp-app/\n         build.gradle\n         settings.gradle\n         ...\n java-app/\n          build.gradle\n          settings.gradle\n          ...\n protocol/\n          build.gradle\n          settings.gradle\n          build/generated/source/proto/main/java/...   &lt;-- Java generated code\n          build/generated/source/proto/main/cpp/...    &lt;-- C++ generated code\n          ...\n</code></pre>\n\n<p>I have the <code>protocol</code> project successfully generating C++ and Java implementations.</p>\n\n<p>How do I get the C++ and Java application projects to resolve and to use these outputs in their builds?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 486, "user_id": 7522720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4LHp6.jpg?s=128&g=1", "display_name": "007", "link": "https://stackoverflow.com/users/7522720/007"}, "edited": false, "score": 0, "creation_date": 1553083748, "post_id": 55260350, "comment_id": 97252088, "body": "share some code"}, {"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1553084452, "post_id": 55260350, "comment_id": 97252559, "body": "please  share your code with the question"}], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553085142, "post_id": 55260508, "comment_id": 97253013, "body": "But then how do I know when user wants to finish?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553085273, "post_id": 55260508, "comment_id": 97253101, "body": "Depends on your UI, you can add a button or see it on some eventListener, or add event on exit button. On event just take items marked isSelected = true"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553092299, "post_id": 55260508, "comment_id": 97257730, "body": "I need to know how to do like adding a toolbar icon or something so I can tab and get the selected items, is that hard to do?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553093500, "post_id": 55260508, "comment_id": 97258699, "body": "If it is not important just add button anywhere outside ViewHolder and thats it"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553093822, "post_id": 55260508, "comment_id": 97258961, "body": "Ok, I can do it, but how do I get the list when I click the button?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1553094409, "post_id": 55260508, "comment_id": 97259384, "body": "you have adapter, adapter has list. Just filter out items from that list which isSelected = true. It is hard to tell when there is no code"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1553099719, "post_id": 55260508, "comment_id": 97263073, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190379/discussion-between-stuartdto-and-antonis-radz\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": true, "score": 1, "last_activity_date": 1553083962, "creation_date": 1553083962, "answer_id": 55260508, "question_id": 55260350, "link": "https://stackoverflow.com/questions/55260350/how-to-select-multiple-items-in-recyclerview-and-put-them-into-a-list/55260508#55260508", "title": "How to select multiple items in RecyclerView and put them into a List", "body": "<p>Add <code>Boolean isSelected = false;</code> state variable to your fruit model, and mark it on view has been selected as <code>true</code>. Then you can see which fruits needs to be taken to list</p>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 55260508, "answer_count": 1, "score": 0, "last_activity_date": 1553084897, "creation_date": 1553083456, "last_edit_date": 1553084897, "question_id": 55260350, "link": "https://stackoverflow.com/questions/55260350/how-to-select-multiple-items-in-recyclerview-and-put-them-into-a-list", "title": "How to select multiple items in RecyclerView and put them into a List", "body": "<p>I have a list of <code>Objects</code> and those are populated in my <code>RecyclerView</code>, what I want to do is, I need to grab many of them to convert them into a <code>List</code>.</p>\n\n<p>For example :</p>\n\n<p>List of fruits : \nGreen Apple\nPear\nOrange\nCherry\nCherymoya\nKiwi</p>\n\n<p>And then user wants to grab only the green ones, so he can select for example : Pear, Cherymoya, Green Apple.</p>\n\n<p>So then I want all of those <code>Fruit</code> objects, create like a <code>List&lt;Fruit&gt;</code> and add them into it, is there an easy way to do that?</p>\n"}, {"tags": ["android", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 937, "user_id": 1759099, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/pTdoP.jpg?s=128&g=1", "display_name": "PHP Developer", "link": "https://stackoverflow.com/users/1759099/php-developer"}, "edited": false, "score": 0, "creation_date": 1568338105, "post_id": 55260254, "comment_id": 102251006, "body": "You had any luck with this? The solution provided below isn&#39;t working for me. Thank you"}, {"owner": {"reputation": 116, "user_id": 11515554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-V6D6C-wDuPo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpyDPfY_Mp6fHgZE6xQcFE_rOEzQ/mo/photo.jpg?sz=128", "display_name": "Bilz", "link": "https://stackoverflow.com/users/11515554/bilz"}, "edited": false, "score": 0, "creation_date": 1572611016, "post_id": 55260254, "comment_id": 103621413, "body": "transferablenode.setOnTapListener() it serve the purpose for use. ypu dont have to do anything other than this"}], "answers": [{"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1553675282, "creation_date": 1553675282, "answer_id": 55372690, "question_id": 55260254, "link": "https://stackoverflow.com/questions/55260254/arcore-anchornode-setontaplistener/55372690#55372690", "title": "ARCore AnchorNode.setOnTapListener", "body": "<p>Try a slightly different approach, like this:</p>\n\n<pre><code>private var grid = Array(ROW_NUM) { \n    arrayOfNulls&lt;TranslatableNode&gt;(COL_NUM) \n}\n\nval anchorNode = AnchorNode(hitResult.createAnchor())\nanchorNode.setParent(arFragment.arSceneView.scene)\n\ngrid.matrixIndices { col, row -&gt;\n    val renderableModel = droidRenderable?.makeCopy() ?: return@matrixIndices\n    TranslatableNode().apply {\n        setParent(anchorNode)\n        renderable = renderableModel\n        addOffset(x = row * spacing, z = col * spacing)\n        grid[col][row] = this\n        this.setOnTapListener { _, _ -&gt;\n            // button.text = \"asdasd\"\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 9535858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692146914156865/picture?type=large", "display_name": "Tobias", "link": "https://stackoverflow.com/users/9535858/tobias"}, "is_accepted": false, "score": 0, "last_activity_date": 1568460677, "creation_date": 1568460677, "answer_id": 57935078, "question_id": 55260254, "link": "https://stackoverflow.com/questions/55260254/arcore-anchornode-setontaplistener/57935078#57935078", "title": "ARCore AnchorNode.setOnTapListener", "body": "<p>to make it works you shold do following : </p>\n\n<pre><code>    private fun addNodeToScene(fragment: ArFragment, createAnchor: Anchor, renderable: ModelRenderable) {\n    val anchorNode = AnchorNode(createAnchor)\n\n    val transformableNode = TransformableNode(fragment.transformationSystem).apply {\n        setOnTapListener { _, _ -&gt;\n            //TODO your action\n            }\n\n        }\n        transformableNode.localPosition = Vector3(0f,0.3f,0f)\n        transformableNode.renderable = renderable\n        transformableNode.setParent(anchorNode)\n        fragment.arSceneView.scene.addChild(anchorNode)\n        transformableNode.select()\n    }\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 9535858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692146914156865/picture?type=large", "display_name": "Tobias", "link": "https://stackoverflow.com/users/9535858/tobias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1568460677, "creation_date": 1553083123, "last_edit_date": 1556339335, "question_id": 55260254, "link": "https://stackoverflow.com/questions/55260254/arcore-anchornode-setontaplistener", "title": "ARCore AnchorNode.setOnTapListener", "body": "<p>I am trying to add <code>onTapListener</code> to a node, but a code inside of it is never being called. Can someone spot a mistake I am doing?</p>\n\n<pre><code>private fun addNodeToScene(fragment: ArFragment, createAnchor: Anchor, renderable: ModelRenderable) {\n    val anchorNode = AnchorNode(createAnchor)\n    anchorNode.setOnTapListener{_,_ -&gt;\n        buttonasd.text = \"asdasd\" // this line is never called\n    }\n\n    val transformableNode = TransformableNode(fragment.transformationSystem)\n    transformableNode.renderable = renderable\n    transformableNode.setParent(anchorNode)\n    fragment.arSceneView.scene.addChild(anchorNode)\n    transformableNode.select()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1553083887, "post_id": 55260175, "comment_id": 97252179, "body": "do you really need the index value? wouldn&#39;t the object itself already suffice?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1553084041, "post_id": 55260175, "comment_id": 97252274, "body": "Here&#39;s a concise expression: <code>flights.withIndex().minBy { (_, f) -&gt; f.duration }?.index</code>. But I think it will allocate O(n) temporary objects."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1553109993, "post_id": 55260175, "comment_id": 97268537, "body": "@MarkoTopolnik Why didn&#39;t you post that as an answer? This is the best approach!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1553115701, "post_id": 55260175, "comment_id": 97271377, "body": "@WilliMentzel It&#39;s concise but I don&#39;t think it&#39;s the best at efficiency. The approach in one of the answers, with two scans and <code>equals</code> matching to find the item, might even beat it in performance because it doesn&#39;t create GC pressure."}], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 6, "last_activity_date": 1553085004, "last_edit_date": 1553085004, "creation_date": 1553083566, "answer_id": 55260387, "question_id": 55260175, "link": "https://stackoverflow.com/questions/55260175/kotlin-the-most-effective-way-to-find-first-index-of-minimum-element-in-some-li/55260387#55260387", "title": "Kotlin: the most effective way to find first index of minimum element in some list of some objects", "body": "<p>With <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-by.html\" rel=\"noreferrer\">minBy()</a> to get the list item with the minimum duration <br/>\nand then <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/index-of.html\" rel=\"noreferrer\">indexOf()</a> to get its index:</p>\n\n<pre><code>val index = flights.indexOf(flights.minBy { it.duration })\n</code></pre>\n\n<p>For just 1 scan of the list, you can do a classic loop:</p>\n\n<pre><code>var index = if (flights.isEmpty()) -1 else 0\nflights.forEachIndexed { i, flight -&gt;\n    if (flight.duration &lt; flights[index].duration) index = i\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1553086348, "post_id": 55260640, "comment_id": 97253779, "body": "I think this is the recommended approach \u2013 and more &quot;kotlin-y&quot; \u2013 because of its time efficiency, as <code>withIndex()</code> returns a lazy iterable"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1553115875, "post_id": 55260640, "comment_id": 97271471, "body": "Whether lazy or not, it has the potential to create GC pressure. To get around it, one would need to do &quot;manual&quot; indexed iteration and manual bookkeeping to find the minimum. So it would be much more code."}, {"owner": {"reputation": 895, "user_id": 10082337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0iDy.jpg?s=128&g=1", "display_name": "grolegor", "link": "https://stackoverflow.com/users/10082337/grolegor"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1553169576, "post_id": 55260640, "comment_id": 97289612, "body": "I think your answer is the best, thank you! @MarkoTopolnik thanks for your comments, can you explain please why second approach has potential to create GC pressure? You think that first approach is more effective than second, right?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1553172466, "post_id": 55260640, "comment_id": 97291252, "body": "Both approaches are the same in this respect. As soon as you use <code>withIndex()</code>, you get a sequence of newly-created instances that hold both the item and its index. Check <a href=\"https://stackoverflow.com/a/55260387/1103872\">forpas</a>&#39;s second solution to see what I meant with &quot;much more code&quot; to get a zero-garbage solution. If I&#39;m not allowed to assume anything about the size of the input, that&#39;s the solution i&#39;d go with. But as soon as I can assume a small number of items and the code not being involved in a hot loop, I&#39;d go with the more compact variants."}, {"owner": {"reputation": 143, "user_id": 1157452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063562595b02fab8db45db8793dcaa2d?s=128&d=identicon&r=PG", "display_name": "royalstream", "link": "https://stackoverflow.com/users/1157452/royalstream"}, "edited": false, "score": 0, "creation_date": 1604883466, "post_id": 55260640, "comment_id": 114474646, "body": "I disagree with lazy iterables being more efficient as an absolute truth. Lazy iterables are more efficient only when there&#39;s a chance they won&#39;t be used (or used partially). But if you know the whole sequence is going to be used right away, laziness offers no advantage whatsoever. If anything it just adds more objects for the GC to collect. That said, I would expect the overhead to be minimal."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 9, "last_activity_date": 1553084360, "creation_date": 1553084360, "answer_id": 55260640, "question_id": 55260175, "link": "https://stackoverflow.com/questions/55260175/kotlin-the-most-effective-way-to-find-first-index-of-minimum-element-in-some-li/55260640#55260640", "title": "Kotlin: the most effective way to find first index of minimum element in some list of some objects", "body": "<p>Something like this would be \"most efficient\", I guess:</p>\n\n<pre><code>var min: Pair&lt;Int, Flight&gt;? = null\nfor (f in flights.withIndex()) {\n    if (min == null || min.second.duration &gt; f.value.duration) min = f.index to f.value\n}\n</code></pre>\n\n<p>And this one does basically the same and looks much better:</p>\n\n<pre><code>flights.withIndex().minBy { (_, f) -&gt; f.duration }?.index\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1553085289, "creation_date": 1553085289, "answer_id": 55260909, "question_id": 55260175, "link": "https://stackoverflow.com/questions/55260175/kotlin-the-most-effective-way-to-find-first-index-of-minimum-element-in-some-li/55260909#55260909", "title": "Kotlin: the most effective way to find first index of minimum element in some list of some objects", "body": "<p>Try</p>\n\n<pre><code>val index = flights.minBy { it.duration }?.let { flights.indexOf(it) }\n</code></pre>\n"}], "owner": {"reputation": 895, "user_id": 10082337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0iDy.jpg?s=128&g=1", "display_name": "grolegor", "link": "https://stackoverflow.com/users/10082337/grolegor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2560, "favorite_count": 1, "accepted_answer_id": 55260640, "answer_count": 3, "score": 7, "last_activity_date": 1553085289, "creation_date": 1553082878, "question_id": 55260175, "link": "https://stackoverflow.com/questions/55260175/kotlin-the-most-effective-way-to-find-first-index-of-minimum-element-in-some-li", "title": "Kotlin: the most effective way to find first index of minimum element in some list of some objects", "body": "<p>I have some list of instances of some custom class:</p>\n\n<pre><code>data class Flight(val duration: Int)\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>val flights = listOf(Flight(10), Flight(5), Flight(5), Flight(15), Flight(20))\n</code></pre>\n\n<p>How to most effectively find first index of the minimum element in this list? In that case the first index of min element is 1, because flights[1].duration = 5.</p>\n"}, {"tags": ["android", "sockets", "kotlin", "android-asynctask", "python-sockets"], "comments": [{"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1553100698, "post_id": 55260152, "comment_id": 97263623, "body": "WireShark is your friend. Also, you should add some log output to this question, from both server and client."}], "owner": {"reputation": 300, "user_id": 2412909, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/169c41908cb4debc71ec0fdf08ba325b?s=128&d=identicon&r=PG", "display_name": "Mael Elvis Fosso", "link": "https://stackoverflow.com/users/2412909/mael-elvis-fosso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1553082801, "creation_date": 1553082801, "question_id": 55260152, "link": "https://stackoverflow.com/questions/55260152/sending-audio-files-every-60s-from-android-to-python-server-through-socket", "title": "Sending audio files every 60s from Android to python server through socket", "body": "<p>I get stuck on sending an audio file, recorded, from an android app, every 60s on a Python server through socket.</p>\n\n<p>I succeed in sending a file from a python client to a python server. If a send a file of 60s from a python client, the python server will receive it and save it as one file.</p>\n\n<p>Here are the code. </p>\n\n<p><strong>Client.py</strong></p>\n\n<pre><code>#!/usr/bin/env python\n\nimport logging\nimport socket\nimport pyaudio\nimport time\nimport wave\nimport os\n\n# Initialize logging\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\n\nlogger = logging.getLogger('Humm - Client')\nlogger.setLevel(logging.DEBUG)\n\nch = logging.StreamHandler()\nch.setLevel(logging.DEBUG)\nch.setFormatter(formatter)\n\nlogger.addHandler(ch)\n\n\n# Create the socket\nlogger.info('Client Socket Initialisation')\nclient_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nclient_socket.connect(('127.0.0.1', 4444))\nlogger.info('Client Socket Initiliazed')\n\n\n# Audio Initialisation\nlogger.info('Audio Initialisation')\n\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 44100\nCHUNK = 4096\nRECORD_SECONDS = 60\n\naudio = pyaudio.PyAudio()\nstream = audio.open(format=FORMAT, channels=CHANNELS, rate=RATE, input=True, frames_per_buffer=CHUNK)\nlogger.info('Audio Initialized')\n\n# Will contain RECORD_SECOND of what the user has said\n# The content will then be sent to the server\nframes = bytearray()\n# frames = []\n\ntry:\n    while True:\n        for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)) :\n            # if i%50 == 0:\n            #     print(i)\n            data = stream.read(CHUNK)\n            frames.extend(data)\n\n        current_time = int(round(time.time() * 1000))\n        waveFile = wave.open(os.path.join('client', str(current_time)), 'wb')\n        waveFile.setnchannels(CHANNELS)\n        waveFile.setsampwidth(audio.get_sample_size(FORMAT))\n        waveFile.setframerate(RATE)\n        waveFile.writeframes(frames) # (b''.join(data))\n        waveFile.close()\n\n\n        frames.clear()\n\n        print(current_time)\n        print(\"***\"*50)\n        print()\n        print()\n\n        logging.debug('File %s has been created', os.path.join('server', str(current_time)))\n        # stream.write(data)\n        client_socket.send(frames)\nexcept KeyboardInterrupt:\n    pass\n\nlogger.info('Client Shutting down')\nclient_socket.close()\nstream.stop_stream()\nstream.close()\naudio.terminate()\n</code></pre>\n\n<p><strong>Server.py</strong></p>\n\n<pre><code>#!/usr/bin/env python\n\nimport logging\nimport pyaudio\nimport socket\nimport select\nimport wave\nimport time\nimport os\nimport threading\n\nlogging.basicConfig(level=logging.DEBUG)\n\n# Logging initiliasation\nformatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\n\nlogger = logging.getLogger('Humm_Server')\nlogger.setLevel(logging.DEBUG)\n\n# fh = logging.FileHandler('humm_server.log')\n# fh.setLevel(logging.DEBUG)\n\nch = logging.StreamHandler()\nch.setLevel(logging.DEBUG)\n\n# fh.setFormatter(formatter)\nch.setFormatter(formatter)\n\n# logger.addHandler(fh)\nlogger.addHandler(ch)\n\n# Audio Initialisation\nFORMAT = pyaudio.paInt16\nCHANNELS = 1\nRATE = 44100\nCHUNK = 4096\nRECORD_SECONDS = 60\naudio = pyaudio.PyAudio()\n\n# Socket Initialisation\nlogging.info('Socket Initialisation')\n\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind(('', 4444))\nserver_socket.listen(5)\nlogging.info('Socket Initialized')\n\nclass ClientThread(threading.Thread):\n\n    def __init__(self, ip, port, socket):\n\n        threading.Thread.__init__(self)\n\n        self.ip = ip\n        self.port = port\n        self.socket = socket\n\n        logging.info(\"[+] Nouveau thread  pour %s %s\" %(self.ip, self.port))\n\n    def run(self):\n        logging.info(\"ClientThread Run - Connection de %s %s\" %(self.ip, self.port))\n\n        while True:\n            frames = bytearray()\n            # data = self.socket.recv(CHUNK * int(RATE/CHUNK * RECORD_SECONDS))\n            data = self.socket.recv(CHUNK * 1293)\n            if not data:\n                logging.debug(\"END.... DIRECT DATA\");\n                self.socket.close()\n                break\n\n            current_time = int(round(time.time() * 1000))\n\n            waveFile = wave.open(os.path.join('server', str(current_time)), 'wb')\n            waveFile.setnchannels(CHANNELS)\n            waveFile.setsampwidth(audio.get_sample_size(FORMAT))\n            waveFile.setframerate(RATE)\n            waveFile.writeframes(frames) # (data) # (b''.join(data))\n            waveFile.close()\n\n            end = time.time()\n            logging.debug('File %s has been created', os.path.join('server', str(current_time)))\n            # logging.debug('Execution time %s', (end - start))\n\n\nthreads = []\n\ntry:\n    while True:\n        (client_socket, (ip, port)) = server_socket.accept()\n\n        logging.debug(\"Got connection from %s - %s\" %(ip, port))\n\n        newthread = ClientThread(ip, port, client_socket)\n        newthread.start()\n        threads.append(newthread)\n\nexcept KeyboardInterrupt:\n    pass\n\nserver_socket.close()\n</code></pre>\n\n<p>Python - Python is working well! \nThe problem occurs when I send au audio from Android to the same Python server. For one file send from Android, The python server save many many files, almost hundred file. I don't understand why.</p>\n\n<p>Here is the Android code in charge of sending the file. I'm using <strong>AsynTask</strong></p>\n\n<pre><code>class SocketCommunicationTask(_handler:SocketCommunicationHandler): AsyncTask&lt;String, Unit, Unit&gt;() {\n\n    private val Log:AnkoLogger = AnkoLogger(this.javaClass)\n\n    var handler: SocketCommunicationHandler\n\n    lateinit var inReader:BufferedInputStream // BufferedReader\n    lateinit var outWritter:DataOutputStream // BufferedWriter\n\n    init {\n\n\n        this.handler = _handler\n    }\n\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n\n        logger.debug { \"onPreExecute()\" }\n//        this.outWritter = BufferedWriter(OutputStreamWriter(MainApplication.instance!!.getSocket().getOutputStream()))\n        this.outWritter = DataOutputStream(MainApplication.instance!!.getSocket().getOutputStream())\n    }\n\n    override fun doInBackground(vararg p0: String?) {\n        logger.debug { \"doInBackground()\" }\n        var paramFile: File = File(p0[0])\n        val file: FileInputStream = FileInputStream(paramFile)\n        logger.info { \"DoInBackground() --- FILE.... ${paramFile.absolutePath}\" }\n        try {\n//            this.inReader = BufferedReader(InputStreamReader(MainApplication.instance!!.getSocket().getInputStream()))\n            this.inReader = BufferedInputStream(file)\n//            this.outWritter = BufferedWriter(OutputStreamWriter(MainApplication.instance!!.getSocket().getOutputStream()))\n//            this.outWritter = DataOutputStream(MainApplication.instance!!.getSocket().getOutputStream())\n\n            logger.info { \"File LENGTH : ${paramFile.length()} -- ${paramFile.length().toInt()}\" }\n            var fileBytes: ByteArray = kotlin.ByteArray(paramFile.length().toInt()) // (2646016) // (\n            inReader.read(fileBytes)\n            logger.info { \"FILE BYTES SIZE ${fileBytes.size}\"}\n\n            outWritter.write(fileBytes) // fileBytes.single()\n\n        } catch (ex:UnknownHostException) {\n            error(ex.toString())\n            this.handler.didDisconnect(ex)\n        } catch (ex: IOException) {\n            // error(\"IOException - \" + ex.toString())\n            logger.error(ex) { \"IOException ...\"}\n            this.handler.didDisconnect(ex)\n        } catch (ex:Exception) {\n            // error(\"EXception - \" + ex.toString())\n            logger.error(ex) { \"Exception...\" }\n//            this.handler.didDisconnect(ex)\n        } finally {\n            try {\n//                this.handler.didDisconnect(null)\n            } catch (ex:Exception) {\n                // error(\"Exception - \" + ex.toString())\n                logger.error(ex) { \"Exception...\" }\n            }\n        }\n    }\n\n    override fun onProgressUpdate(vararg values: Unit?) {\n        super.onProgressUpdate(*values)\n\n        logger.debug { \"onProgressUpdate()\" }\n    }\n\n    override fun onPostExecute(result: Unit?) {\n        super.onPostExecute(result)\n\n        logger.debug { \"onPostExecute\" +\n                \".+3()\" }\n    }\n\n}\n</code></pre>\n\n<p>When I noticed the problem, I change the part of the code sending the file. I tried this one, but still the same problem.</p>\n\n<pre><code>        var buffer: ByteArray = kotlin.ByteArray(4096)\n        var outBuffer: ByteArray = kotlin.ByteArray(646*4096)\n        var bytesRead = inReader.read(buffer)\n        var count: Int = 0;\n        logger.info { \"BYTES READ..: ${bytesRead}\"}\n        while (bytesRead != -1) {\n            // outBuffer. Push bytesRead into outBuffer\n            outBuffer += buffer\n            count++\n            bytesRead = inReader.read(buffer)\n        }\n        logger.info { \"NUMBER COUNTED : ${count} ---- LENGTH : ${outBuffer.size}\"}\n        outWritter.write(outBuffer)\n</code></pre>\n\n<p>Here is where I call the task </p>\n\n<pre><code>timer.schedule(60000, 60000) {\n    step++\n    val _file: String? = recorder?.saveReconding(filename, step)\n    logger.info { \"TIMER... FILE... ${_file}\" }\n\n    val mSocketCommunicationTask:SocketCommunicationTask = SocketCommunicationTask(this@StartActivity)\n    mSocketCommunicationTask.execute(_file)\n    Thread.sleep(5000)\n}\n</code></pre>\n\n<p>Does anyone know how I can do to solve this problem, please ?</p>\n"}, {"tags": ["android", "kotlin", "watermark", "video-recording"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1553084260, "post_id": 55260121, "comment_id": 97252423, "body": "AFAIK, there is nothing in Android for this. You would need to post-process the video, such as using the FFMpeg library that you cited. Or, add the watermark on your server."}, {"owner": {"reputation": 251, "user_id": 10178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20593204df8edf65dec2e9eb365b8f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullah Nagori", "link": "https://stackoverflow.com/users/10178487/abdullah-nagori"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1553085545, "post_id": 55260121, "comment_id": 97253265, "body": "@CommonsWare so can you please tell me how can I do it with simple code?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1553086252, "post_id": 55260121, "comment_id": 97253710, "body": "I have not researched how to use FFMpeg on Android. There are a number of sample apps and wrapper libraries <a href=\"https://android-arsenal.com/search?q=ffmpeg\" rel=\"nofollow noreferrer\">on the Android Arsenal</a>, though."}, {"owner": {"reputation": 251, "user_id": 10178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20593204df8edf65dec2e9eb365b8f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullah Nagori", "link": "https://stackoverflow.com/users/10178487/abdullah-nagori"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1553123545, "post_id": 55260121, "comment_id": 97274134, "body": "can anyone please tell me the code how to do it with a simple manner I tried to use FFmpeg but the code is too confusing please help. Thanks"}, {"owner": {"reputation": 251, "user_id": 10178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20593204df8edf65dec2e9eb365b8f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullah Nagori", "link": "https://stackoverflow.com/users/10178487/abdullah-nagori"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1553167535, "post_id": 55260121, "comment_id": 97288497, "body": "@CommonsWareI want to use --enable-libfreetype this library of FFmpeg in my project but I can&#39;t use it please help I search a lot about this but can&#39;t get the solution to please, please help"}], "owner": {"reputation": 251, "user_id": 10178487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20593204df8edf65dec2e9eb365b8f3d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullah Nagori", "link": "https://stackoverflow.com/users/10178487/abdullah-nagori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1553082677, "creation_date": 1553082677, "question_id": 55260121, "link": "https://stackoverflow.com/questions/55260121/how-might-i-add-a-watermark-in-a-capture-video-in-android-kotlin", "title": "How might i add a watermark in a capture video in android/Kotlin", "body": "<p>Here is my simple code basically I want to capture a video using the watermark without FFmpeg I want to do it in a simple way, please help</p>\n\n<pre><code>video_button.setOnClickListener {\n\n        Intent(MediaStore.ACTION_VIDEO_CAPTURE).also { takeVideoIntent -&gt;\n            takeVideoIntent.resolveActivity(packageManager)?.also {\n                startActivityForResult(takeVideoIntent, REQUEST_VIDEO_CAPTURE)\n            }\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "junit"], "answers": [{"comments": [{"owner": {"reputation": 493, "user_id": 5050619, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/41fc3a470811973d74ded13840e136fe?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/5050619/shah"}, "edited": false, "score": 0, "creation_date": 1601594607, "post_id": 55259592, "comment_id": 113463744, "body": "@ MatPag this is really nice explanation. can you also suggest how we can create multiple test methods in the same class to run against parameterized data."}], "tags": [], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "is_accepted": true, "score": 9, "last_activity_date": 1553082759, "last_edit_date": 1553082759, "creation_date": 1553080930, "answer_id": 55259592, "question_id": 55259591, "link": "https://stackoverflow.com/questions/55259591/how-to-create-parametrized-test-cases-in-junit-4-and-kotlin-for-android/55259592#55259592", "title": "How to create parametrized test cases in JUnit 4 and Kotlin for Android?", "body": "<p>Following <a href=\"https://springframework.guru/unit-testing-junit-part-4-parameterized-theories/\" rel=\"noreferrer\">this amazing</a> tutorial, we can implement it in Kotlin language in this way:</p>\n\n<p>First of all convert the <code>EmailIdUtility</code> class into Kotlin:</p>\n\n<pre><code>object EmailIdUtility {\n    fun isValid(email: String): Boolean {\n        val regex =\n            \"^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$\"\n        val pattern = Pattern.compile(regex)\n        val m = pattern.matcher(email)\n        return m.matches()\n    }\n}\n</code></pre>\n\n<p>Then convert the <code>EmailIdValidatorTest</code> into Kotlin</p>\n\n<pre><code>@RunWith(value = Parameterized::class)\nclass EmailIdValidatorTest(\n    private val email: String,\n    private val expected: Boolean)\n{\n    @Test\n    fun testIsValidEmailId() {\n        val actual = EmailIdUtility.isValid(email)\n        assertEquals(expected, actual)\n    }\n\n    companion object {\n        @JvmStatic\n        @Parameterized.Parameters(name = \"{index}: isValid({0})={1}\")\n        fun data(): Iterable&lt;Array&lt;Any&gt;&gt; {\n            return arrayListOf(\n                arrayOf(\"mary@testdomain.com\", true),\n                arrayOf(\"mary.smith@testdomain.com\", true),\n                arrayOf(\"mary_smith123@testdomain.com\", true),\n                arrayOf(\"mary@testdomaindotcom\", false),\n                arrayOf(\"mary-smith@testdomain\", false),\n                arrayOf(\"testdomain.com\", false)\n            ).toList()\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Remember to add <code>@JvmStatic</code> in the <code>data()</code> method, otherwise you will get the error: java.lang.Exception: No public static parameters method on class com.example.testapp.dev.EmailIdValidatorTest</p>\n</blockquote>\n\n<hr>\n\n<p><strong>EASIER WAY</strong></p>\n\n<p>If you can use another library (working in Android too) I suggest you to add <a href=\"https://github.com/Pragmatists/JUnitParams\" rel=\"noreferrer\">JUnitParams</a> to your test dependencies, in Android it could be:</p>\n\n<pre><code>testImplementation  \"pl.pragmatists:JUnitParams:1.1.1\"\n</code></pre>\n\n<p>Then you could convert the above class in this way:</p>\n\n<pre><code>@RunWith(JUnitParamsRunner::class)\nclass EmailIdValidatorTest {\n\n    @Test\n    @Parameters(value = [\n        \"mary@testdomain.com, true\",\n        \"mary.smith@testdomain.com, true\",\n        \"mary_smith123@testdomain.com, true\",\n        \"mary@testdomaindotcom, false\",\n        \"mary-smith@testdomain, false\",\n        \"testdomain.com, false\"\n    ])\n    fun testIsValidEmailId(email: String, expected: Boolean) {\n        val actual = EmailIdUtility.isValid(email)\n        assertEquals(expected, actual)\n    }\n}\n</code></pre>\n\n<p>which for me is a lot easier than the <code>JUnit</code> way.</p>\n\n<p>For more examples on how to use JUnitParams you can check the link.</p>\n\n<blockquote>\n  <p>With JUnit 5 this is a <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"noreferrer\">lot easier</a>\n  but currently JUnit 5 is not supported for Android tests if you don't\n  use <a href=\"https://github.com/mannodermaus/android-junit5\" rel=\"noreferrer\">Android-JUnit 5</a> too.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1553082591, "post_id": 55260000, "comment_id": 97251363, "body": "This is a nice addition, thank you (even if currently JUnit 5 is not directly supported on Android)"}], "tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": false, "score": 6, "last_activity_date": 1553082706, "last_edit_date": 1553082706, "creation_date": 1553082288, "answer_id": 55260000, "question_id": 55259591, "link": "https://stackoverflow.com/questions/55259591/how-to-create-parametrized-test-cases-in-junit-4-and-kotlin-for-android/55260000#55260000", "title": "How to create parametrized test cases in JUnit 4 and Kotlin for Android?", "body": "<p>I know you're using JUnit 4, but if you consider to update to JUnit 5, you can use <code>@TestFactory</code> annotation to execute parametrized unit test.</p>\n\n<p>In your case that would result in a test class like this:</p>\n\n<pre><code>import org.junit.jupiter.api.DynamicTest\nimport org.junit.jupiter.api.TestFactory\n\ninternal class EmailIdValidatorTest {\n\n    @TestFactory\n    fun `test email id validity`() =\n        listOf(\n            \"mary@testdomain.com\" to true,\n            \"mary.smith@testdomain.com\" to true,\n            \"mary_smith123@testdomain.com\" to true,\n            \"mary@testdomaindotcom\" to false,\n            \"mary-smith@testdomain\" to false,\n            \"testdomain.com\" to false\n        ).map {\n            dynamicTest(\"email ${it.first} should be ${if (it.second) \"valid\" else \"not valid\" }\") {\n                val actual = EmailIdUtility.isValid(it.first)\n                assertEquals(expected, actual)\n            }\n        }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5243, "favorite_count": 1, "accepted_answer_id": 55259592, "answer_count": 2, "score": 9, "last_activity_date": 1553097041, "creation_date": 1553080930, "last_edit_date": 1553097041, "question_id": 55259591, "link": "https://stackoverflow.com/questions/55259591/how-to-create-parametrized-test-cases-in-junit-4-and-kotlin-for-android", "title": "How to create parametrized test cases in JUnit 4 and Kotlin for Android?", "body": "<p>I need something similar to C# NUnit <a href=\"http://dotnetpattern.com/nunit-testcase-example\" rel=\"noreferrer\">TestCase</a> scenario with fixed expected results.</p>\n\n<p>I've already found this <a href=\"https://stackoverflow.com/questions/752521/running-the-same-junit-test-case-multiple-time-with-different-data\">question</a> on SO which has great solutions but they are for Java only and as suggested in some of the answers I followed <a href=\"https://springframework.guru/unit-testing-junit-part-4-parameterized-theories/\" rel=\"noreferrer\">this tutorial</a>, but simply converting it to Kotlin doesn't work.</p>\n\n<pre><code>@RunWith(value = Parameterized.class)\npublic class EmailIdValidatorTest {\n\n    private String emailId;\n    private boolean expected;\n\n    public EmailIdValidatorTest(String emailId, boolean expected) {\n        this.emailId = emailId;\n        this.expected = expected;\n    }\n    @Parameterized.Parameters(name= \"{index}: isValid({0})={1}\")\n    public static Iterable&lt;Object[]&gt; data() {\n        return Arrays.asList(new Object[][]{\n                        {\"mary@testdomain.com\", true},\n                        {\"mary.smith@testdomain.com\", true},\n                        {\"mary_smith123@testdomain.com\", true},\n                        {\"mary@testdomaindotcom\", false},\n                        {\"mary-smith@testdomain\", false},\n                        {\"testdomain.com\", false}\n                }\n        );\n    }\n    @Test\n    public void testIsValidEmailId() throws Exception {\n        boolean actual= EmailIdUtility.isValid(emailId);\n        assertThat(actual, is(equalTo(expected)));\n    }\n}\n</code></pre>\n\n<p>So what is the correct way to write Kotlin parametrized unit tests with JUnit?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553079215, "post_id": 55258997, "comment_id": 97249357, "body": "thanks dear but how can i it? i am amateur and really need your help. can you send to me code with my above codes? please"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553079241, "post_id": 55258997, "comment_id": 97249369, "body": "actually, <code>ViewHolder</code> is not destroyed - this is the whole idea to keep few <code>ViewHolder</code>s during the scrolls so the <code>View</code>s <code>ViewHolder</code> holds are reused"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1553079354, "post_id": 55258997, "comment_id": 97249431, "body": "I think best way would be store value in data model that you are actually displaying in ViewHolder"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1553079415, "post_id": 55258997, "comment_id": 97249471, "body": "@pskink, can you send to me code with my above codes? please. because i am amateur and help me. please"}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553079060, "creation_date": 1553079060, "answer_id": 55258997, "question_id": 55258904, "link": "https://stackoverflow.com/questions/55258904/how-to-use-multiple-countdowntimer-into-recyclerview-on-android/55258997#55258997", "title": "How to use multiple countDownTimer into recyclerView on Android", "body": "<p>ViewHolder is destroyed after you scroll it down or up (making not visible). You should store timer value when it is destroyed and restore value when it is visible again. </p>\n"}, {"comments": [{"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553079675, "post_id": 55259166, "comment_id": 97249623, "body": "thanks dear but how can i it? i am amateur and really need your help. can you send to me code with my above codes? please"}, {"owner": {"reputation": 1462, "user_id": 10470378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b042d284ca2d8c83a6ee597b976841?s=128&d=identicon&r=PG&f=1", "display_name": "ronginat", "link": "https://stackoverflow.com/users/10470378/ronginat"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553083094, "post_id": 55259166, "comment_id": 97251685, "body": "still here, need more help?"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553083594, "post_id": 55259166, "comment_id": 97251989, "body": "can you send to me code with my above codes? because i am amateur and really need your help. please dear friend"}, {"owner": {"reputation": 1462, "user_id": 10470378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b042d284ca2d8c83a6ee597b976841?s=128&d=identicon&r=PG&f=1", "display_name": "ronginat", "link": "https://stackoverflow.com/users/10470378/ronginat"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553083746, "post_id": 55259166, "comment_id": 97252085, "body": "This is too much, i told you where to put each piece of code. And i&#39;m not so good at kotlin."}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553084165, "post_id": 55259166, "comment_id": 97252358, "body": "i used your code. but not work me! when scrolling start again timer. do you have TeamViewer for connect to my system?!"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553084670, "post_id": 55259166, "comment_id": 97252714, "body": "Do you have free time? i send you my adapter change codes! for see this"}], "tags": [], "owner": {"reputation": 1462, "user_id": 10470378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b042d284ca2d8c83a6ee597b976841?s=128&d=identicon&r=PG&f=1", "display_name": "ronginat", "link": "https://stackoverflow.com/users/10470378/ronginat"}, "is_accepted": false, "score": 0, "last_activity_date": 1553080693, "last_edit_date": 1553080693, "creation_date": 1553079596, "answer_id": 55259166, "question_id": 55258904, "link": "https://stackoverflow.com/questions/55258904/how-to-use-multiple-countdowntimer-into-recyclerview-on-android/55259166#55259166", "title": "How to use multiple countDownTimer into recyclerView on Android", "body": "<p>Welcome to the recyclerview architecture!<br/><br/>\nFirst of all you ought to understand that <code>onBindViewHolder</code> can be called multiple times when a view is scrolled out and in from your screen, and you are starting a timer in every call. <br/>\nWhat you should do is to save the timer remaining millis in <code>onTick</code> in the viewHolder data and start a timer with this remaining time.</p>\n\n<h3>Update:</h3>\n\n<p>In your viewHolder class, use a long variable that represents how much time left for coutDown, lets call it <code>timeLeft</code>. In <code>onTick</code> method type <code>holder.timeLeft = millisUntilFinished</code> and in <code>onFinish</code> method type <code>holder.timeLeft = -1</code> . <br/>\nNow, when initiating a new timer, after checking the timer is not null check, </p>\n\n<pre><code>if (holder.leftTime &gt; 0) {\n    holder.newCountDownTimer = object : CountDownTimer(holder.timeLeft, 1000) {\n        ...\n    }\n}\n</code></pre>\n\n<p>If the timeLeft is -1, decide what to do with the timer.</p>\n\n<p>Also, you might need to change the ticking from every 1000 millis to smaller number, like 100 millis, for better accurate timing when saving <code>holder.timeLeft</code>.</p>\n\n<p>Hope this will answer your question.</p>\n"}], "owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553080693, "creation_date": 1553078771, "question_id": 55258904, "link": "https://stackoverflow.com/questions/55258904/how-to-use-multiple-countdowntimer-into-recyclerview-on-android", "title": "How to use multiple countDownTimer into recyclerView on Android", "body": "<p>In my application i want use multiple <code>CountDownerTimer</code> for show offer times into <code>RecyclerView</code>.<br>\nFor write this application i used <strong>Kotlin</strong> language.<br>\nI write below codes, but when scrolling on <code>recyclerView</code>'s items start again this <strong>timer</strong>!<br></p>\n\n<p>My mean is, timer started from <strong>4:19</strong>sec, when scrolling on items and after <strong>10sec</strong> show me <strong>4:19</strong> again instead of <strong>4:09</strong>!</p>\n\n<p><strong>Activity codes:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var apisList: ApisList\n    private lateinit var retrofit: Retrofit\n    private lateinit var todayAdapter: AuctionsTodayAdapter\n    private val todayModel: MutableList&lt;Today&gt; = mutableListOf()\n    private lateinit var layoutManager: RecyclerView.LayoutManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //Initialize\n        retrofit = ApiClient.instance\n        apisList = retrofit.create(ApisList::class.java)\n        todayAdapter = AuctionsTodayAdapter(themedContext, todayModel)\n        layoutManager = LinearLayoutManager(themedContext)\n        //RecyclerView\n        main_list.setHasFixedSize(true)\n        main_list.layoutManager = layoutManager\n        main_list.adapter = todayAdapter\n\n        if (isNetworkAvailable()) getData(1, 10)\n    }\n\n    private fun getData(page: Int, limit: Int) {\n        main_loader.visibility = View.VISIBLE\n        val call = apisList.getAuctionsToday(page, limit)\n        call.let {\n            it.enqueue(object : Callback&lt;AuctionsTodayResponse&gt; {\n                override fun onFailure(call: Call&lt;AuctionsTodayResponse&gt;, t: Throwable) {\n                    main_loader.visibility = View.GONE\n                    Log.e(\"auctionsTodayList\", t.message)\n                }\n\n                override fun onResponse(call: Call&lt;AuctionsTodayResponse&gt;, response: Response&lt;AuctionsTodayResponse&gt;) {\n                    if (response.isSuccessful) {\n                        response.body()?.let { itBody -&gt;\n                            main_loader.visibility = View.GONE\n                            if (itBody.toString().isNotEmpty()) {\n                                todayModel.clear()\n                                todayModel.addAll(itBody.res.today)\n                                todayAdapter.notifyDataSetChanged()\n                            }\n                        }\n                    }\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Adapter codes:</strong></p>\n\n<pre><code>class AuctionsTodayAdapter(val context: Context, val model: MutableList&lt;Today&gt;) :\n    RecyclerView.Adapter&lt;AuctionsTodayAdapter.MyHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.row_main_list, parent, false)\n        val holder = MyHolder(view)\n\n        //holder.setIsRecyclable(false)\n\n        return holder\n    }\n\n    override fun getItemCount(): Int {\n        return model.size\n    }\n\n    override fun onBindViewHolder(holder: MyHolder, position: Int) {\n        val modelUse = model[position]\n        holder.setData(modelUse)\n\n\n\n        if (holder.newCountDownTimer != null) {\n            holder.newCountDownTimer!!.cancel()\n        }\n        var timer = modelUse.calculateEnd\n\n        timer = timer * 1000\n\n        holder.newCountDownTimer = object : CountDownTimer(timer, 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n                var seconds = (millisUntilFinished / 1000).toInt()\n                val hours = seconds / (60 * 60)\n                val tempMint = seconds - hours * 60 * 60\n                val minutes = tempMint / 60\n                seconds = tempMint - minutes * 60\n                holder.rowMain_timer.rowMain_timer.text =\n                    String.format(\"%02d\", hours) + \":\" + String.format(\n                        \"%02d\",\n                        minutes\n                    ) + \":\" + String.format(\"%02d\", seconds)\n            }\n\n            override fun onFinish() {\n                holder.rowMain_timer.text = \"00:00:00\"\n            }\n        }.start()\n\n    }\n\n    inner class MyHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var newCountDownTimer: CountDownTimer? = null\n\n        lateinit var rowMain_timer: TextView\n\n        init {\n            rowMain_timer = itemView.findViewById(R.id.rowMain_timer)\n        }\n\n        fun setData(model: Today) {\n            model.image.let {\n                Glide.with(context)\n                    .load(Constants.MAIN_BASE_URL + it)\n                    .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.RESOURCE))\n                    .into(itemView.rowMain_img)\n            }\n            model.title.let { itemView.rowMain_title.text = it }\n        }\n}\n</code></pre>\n\n<p>How can I fix it?</p>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["android", "ionic-framework", "kotlin", "android-gradle-plugin", "ionic4"], "comments": [{"owner": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1553105135, "post_id": 55258660, "comment_id": 97266115, "body": "Share your app build.gradle"}, {"owner": {"reputation": 438, "user_id": 9452280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/508a2117779b62567212040ea53a51bc?s=128&d=identicon&r=PG&f=1", "display_name": "Kathrine Hanson", "link": "https://stackoverflow.com/users/9452280/kathrine-hanson"}, "reply_to_user": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1553115910, "post_id": 55258660, "comment_id": 97271485, "body": "@RanjanKumar done!"}, {"owner": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1553236719, "post_id": 55258660, "comment_id": 97316702, "body": "I don&#39;t see you including kotlin plugin in your build.gradle"}, {"owner": {"reputation": 438, "user_id": 9452280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/508a2117779b62567212040ea53a51bc?s=128&d=identicon&r=PG&f=1", "display_name": "Kathrine Hanson", "link": "https://stackoverflow.com/users/9452280/kathrine-hanson"}, "reply_to_user": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1553499393, "post_id": 55258660, "comment_id": 97391390, "body": "@RanjanKumar how to include it?"}], "answers": [{"tags": [], "owner": {"reputation": 1041, "user_id": 4181904, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6rkytT4VZ9U/AAAAAAAAAAI/AAAAAAAAAAA/RWUAd2uco8M/photo.jpg?sz=128", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/4181904/ranjan-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1553777419, "creation_date": 1553777419, "answer_id": 55398104, "question_id": 55258660, "link": "https://stackoverflow.com/questions/55258660/ionic-issue-could-not-resolve-org-jetbrains-kotlinkotlin-stdlib1-1-3-2/55398104#55398104", "title": "IONIC ISSUE Could not resolve org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2", "body": "<pre><code>Example to include kotlin plugin.\n\napp/build.gradle\n-----------------\napply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.myapplication\"\n        minSdkVersion 25\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-beta01'\n    implementation 'androidx.core:core-ktx:1.1.0-alpha05'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-beta01'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n}\n\n\nbuild.gradle\n------------\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.20'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 9452280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/508a2117779b62567212040ea53a51bc?s=128&d=identicon&r=PG&f=1", "display_name": "Kathrine Hanson", "link": "https://stackoverflow.com/users/9452280/kathrine-hanson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 1, "accepted_answer_id": 55398104, "answer_count": 1, "score": 0, "last_activity_date": 1553777419, "creation_date": 1553078000, "last_edit_date": 1553115900, "question_id": 55258660, "link": "https://stackoverflow.com/questions/55258660/ionic-issue-could-not-resolve-org-jetbrains-kotlinkotlin-stdlib1-1-3-2", "title": "IONIC ISSUE Could not resolve org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2", "body": "<p>I am trying to build and emulate an android app using IONIC framework, but I am facing some issues after running ionic cordova build android.\nHere are all the versions listed:</p>\n\n<ul>\n<li>OS: Windows 10 x64 </li>\n<li>Ionic: 4.12.0 </li>\n<li>Cordova: 8.1.2</li>\n<li>Gradle: 4.10.1</li>\n</ul>\n\n<p>I also create a gradle.properties file in [project_name]\\platforms\\android where I specify the http and https settings for my proxy. The same I did in the gradle-wrapper.properties file. </p>\n\n<blockquote>\n  <blockquote>\n    <p>ionic-v1 build [11:26:25] Invoking sass gulp task.\n    cordova build android Android Studio project detected Running command: \"C:\\Program Files\\nodejs\\node.exe\"\n    C:\\Users\\KAA1WA3\\Desktop\\ionic\\todo\\hooks\\after_prepare\\010_add_platform_class.js\n    C:\\Users\\KAA1WA3\\Desktop\\ionic\\todo\n    ANDROID_HOME=C:\\Users\\KAA1WA3\\Desktop\\androidSDK\\androidSDK\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_181 studio Starting a Gradle\n    Daemon, 2 stopped Daemons could not be reused, use --status for\n    details\n    Task :wrapper</p>\n  </blockquote>\n  \n  <p>BUILD SUCCESSFUL in 4s 1 actionable task: 1 executed Subproject Path:\n  CordovaLib Subproject Path: app</p>\n  \n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li>What went wrong: A problem occurred configuring root project 'android'.\n  \n  <blockquote>\n    <p>Could not resolve all files for configuration ':classpath'.\n    Could not resolve org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2.\n     Required by:\n         project : > com.android.tools.build:gradle:3.0.1 > com.android.tools.build:gradle-core:3.0.1\n         project : > com.android.tools.build:gradle:3.0.1 > com.android.tools.build:gradle-core:3.0.1 >\n    com.android.tools.build:builder:3.0.1\n         project : > com.android.tools.build:gradle:3.0.1 > com.android.tools.build:gradle-core:3.0.1 >\n    com.android.tools.lint:lint:26.0.1\n         project : > com.android.tools.build:gradle:3.0.1 > com.android.tools.build:gradle-core:3.0.1 ></p>\n  </blockquote></li>\n  </ul>\n</blockquote>\n\n<p>My build.gradle file:</p>\n\n<pre><code>/* Licensed to the Apache Software Foundation (ASF) under one\n   or more contributor license agreements.  See the NOTICE file\n   distributed with this work for additional information\n   regarding copyright ownership.  The ASF licenses this file\n   to you under the Apache License, Version 2.0 (the\n   \"License\"); you may not use this file except in compliance\n   with the License.  You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing,\n   software distributed under the License is distributed on an\n   \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n   KIND, either express or implied.  See the License for the\n   specific language governing permissions and limitations\n   under the License.\n*/\n\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        google()\n        jcenter{url \"http://jcenter.bintray.com/\"}\n    }\n    dependencies {\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.android.tools.build:gradle:3.0.1'\n    }\n}\n\nallprojects {\n    repositories {\n        maven {\n            url \"https://maven.google.com\"\n        }\n        jcenter{url \"http://jcenter.bintray.com/\"}\n    }\n    //This replaces project.properties w.r.t. build settings\n    project.ext {\n      defaultBuildToolsVersion=\"27.0.1\" //String\n      defaultMinSdkVersion=19 //Integer - Minimum requirement is Android 4.4\n      defaultTargetSdkVersion=27 //Integer - We ALWAYS target the latest by default\n      defaultCompileSdkVersion=27 //Integer - We ALWAYS compile with the latest by default\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1553078238, "post_id": 55258650, "comment_id": 97248765, "body": "try moving private var mediaPlayer: MediaPlayer? = MediaPlayer.create(context, R.raw.workout_music) in to onCreate also"}], "answers": [{"tags": [], "owner": {"reputation": 2060, "user_id": 313870, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eeb6068005e32b9bc1c57051ac3e2fa5?s=128&d=identicon&r=PG", "display_name": "Demonick", "link": "https://stackoverflow.com/users/313870/demonick"}, "is_accepted": false, "score": 1, "last_activity_date": 1553078324, "creation_date": 1553078324, "answer_id": 55258755, "question_id": 55258650, "link": "https://stackoverflow.com/questions/55258650/fragmentinstantiationexception-kotlin-mediaplayer/55258755#55258755", "title": "Fragment$InstantiationException Kotlin MediaPlayer", "body": "<p><code>context</code> is <code>null</code>, because the constructor is called outside of the lifecycle, in field declaration, where <code>context</code> is not yet made. So that is why it can crash.</p>\n\n<p>Making <code>mediaPlayer</code> a <code>lateinit</code> variable would remove the need for nullability. <code>private lateinit var mediaPlayer: MediaPlayer</code>\nthen in <code>onCreateView</code> it could be initialised like <code>mediaPlayer = MediaPlayer.create(context, R.raw.workout_music)</code>.</p>\n"}], "owner": {"reputation": 91, "user_id": 11231427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tZJepX0ZVrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reByRhfSjfqe2-j0JAc_o72JElJ_Q/mo/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/11231427/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553078324, "creation_date": 1553077978, "question_id": 55258650, "link": "https://stackoverflow.com/questions/55258650/fragmentinstantiationexception-kotlin-mediaplayer", "title": "Fragment$InstantiationException Kotlin MediaPlayer", "body": "<p>I'm pretty new to Kotlin and I'm trying to create some exercise application in Android Studio. Now, I am using the Fragment Architecture for my app. I have a problem while trying to play a particular song on a fragment when I press a button to activate it.</p>\n\n<pre><code>private var mediaPlayer: MediaPlayer? = MediaPlayer.create(context, R.raw.workout_music)\n</code></pre>\n\n<p>and then in my onCreateView function:</p>\n\n<pre><code>mediaPlayer?.start()\n</code></pre>\n\n<p>and getting this error: </p>\n\n<pre><code>android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.example.bitamirshafiee.fitnessapp.ExerciseFragment: calling Fragment constructor caused an exception\n        at android.support.v4.app.Fragment.instantiate(Fragment.java:465)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "interface"], "comments": [{"owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "edited": false, "score": 0, "creation_date": 1562612279, "post_id": 55257930, "comment_id": 100422132, "body": "Could you please add <code>RecyclerAdapter</code> code?"}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 8997057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf1aed5999715d22a49d1f8f3a23db0?s=128&d=identicon&r=PG&f=1", "display_name": "\u0421\u0435\u0440\u0433\u0435\u0439 \u0421\u0435\u0440\u043f\u0438\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/8997057/%d0%a1%d0%b5%d1%80%d0%b3%d0%b5%d0%b9-%d0%a1%d0%b5%d1%80%d0%bf%d0%b8%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "is_accepted": false, "score": 0, "last_activity_date": 1553085216, "creation_date": 1553085216, "answer_id": 55260889, "question_id": 55257930, "link": "https://stackoverflow.com/questions/55257930/kotlin-transferring-data-between-classes-using-interface/55260889#55260889", "title": "Kotlin - transferring data between classes using interface", "body": "<p>use lambda and remove static. See <a href=\"https://dev.to/onmyway133/communication-between-fragment-and-activity-o60\" rel=\"nofollow noreferrer\">https://dev.to/onmyway133/communication-between-fragment-and-activity-o60</a></p>\n"}], "owner": {"reputation": 105, "user_id": 10487799, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eHAQ6weViyI/AAAAAAAAAAI/AAAAAAAAAn4/LbMT5NG3Syk/photo.jpg?sz=128", "display_name": "Emek Cohen", "link": "https://stackoverflow.com/users/10487799/emek-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562605355, "creation_date": 1553075618, "last_edit_date": 1562605355, "question_id": 55257930, "link": "https://stackoverflow.com/questions/55257930/kotlin-transferring-data-between-classes-using-interface", "title": "Kotlin - transferring data between classes using interface", "body": "<p>I've been working on something in kotlin that includes a checkbox with a recycler view, now I want to add a 'check all' button, but I'm having problems with implementing it.</p>\n\n<p>Here is some code:</p>\n\n<p>MainActivity.kt (Where the menu item 'check all' is): </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val binding: ActivityMainBinding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n\n        val fragmentList: List&lt;Fragment&gt; = listOf(\n                HomeFragment.newInstance(),\n                DataFragment.newInstance()\n        )\n\n        binding.viewPager.adapter = ViewPagerAdapter(supportFragmentManager, fragmentList)\n    }\n\n    // Options Menu\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        val inflater = menuInflater\n        inflater.inflate(R.menu.main_menu, menu)\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n        return when (item?.itemId) {\n            R.id.action_selectAll -&gt; true\n\n            else -&gt; super.onOptionsItemSelected(item)\n        }\n    // Options menu end\n    }\n\n    interface UpdateList {\n        fun updateCheckList(list: MutableList&lt;String&gt;)\n    }\n\n}\n</code></pre>\n\n<p>HomeFragment.kt , the fragment I wish to perform the action:</p>\n\n<pre><code>class HomeFragment : Fragment(), FragmentPresenterConstructor.View, RecyclerAdapter.RecyclerAdapterClickListener, MainActivity.UpdateList {\n    companion object {\n\n        fun newInstance() = HomeFragment()\n    }\n\n    private lateinit var pm: PackageManager\n    private lateinit var recyclerAdapter: RecyclerAdapter\n\n    private val presenter = FragmentPresenter(this)\n    private val appList = mutableListOf&lt;AppData&gt;()\n    private val checkBoxList = mutableListOf&lt;String&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        recyclerAdapter = RecyclerAdapter(activity!!, appList, this)\n        pm = activity!!.packageManager\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view: View = inflater.inflate(R.layout.home_fragment, container, false)\n\n        val recyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.recyclerView)\n        recyclerView.layoutManager = LinearLayoutManager(activity)\n        recyclerView.adapter = recyclerAdapter\n\n        return view\n    }\n\n    override fun onResume() {\n        super.onResume()\n\n        presenter.getData(pm)\n    }\n\n    override fun updateUI(data: List&lt;AppData&gt;) {\n        appList.clear()\n\n        appList.addAll(data)\n        recyclerAdapter.notifyDataSetChanged()\n    }\n\n    override fun onItemClicked(isChecked: Boolean, packageName: String) {\n        if (isChecked) {\n            checkBoxList.add(packageName)\n        } else {\n            checkBoxList.remove(packageName)\n        }\n    }\n\n    override fun updateCheckList(list: MutableList&lt;String&gt;) {\n        checkBoxList.clear()\n\n        checkBoxList.addAll(list)\n    }\n}\n</code></pre>\n\n<p>Now, I've tried to make an interface between those two, But I couldn't figure it out, how do I make it happen?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1553073625, "post_id": 55257199, "comment_id": 97245977, "body": "remove ? from context"}], "answers": [{"tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": false, "score": 2, "last_activity_date": 1553073509, "creation_date": 1553073509, "answer_id": 55257256, "question_id": 55257199, "link": "https://stackoverflow.com/questions/55257199/type-mismatch-inferred-type-is-context-but-context-was-expected-kotlin/55257256#55257256", "title": "Type mismatch: inferred type is Context? but Context was expected - Kotlin", "body": "<p>The signature is wrong. Context can't be null to create the view, while <code>AttributeSet</code> can. Change it like</p>\n\n<pre><code> public class SequenceLayout(context: Context, attrs: AttributeSet?, defStyleAttr: Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1553073899, "creation_date": 1553073899, "answer_id": 55257377, "question_id": 55257199, "link": "https://stackoverflow.com/questions/55257199/type-mismatch-inferred-type-is-context-but-context-was-expected-kotlin/55257377#55257377", "title": "Type mismatch: inferred type is Context? but Context was expected - Kotlin", "body": "<p>In Kotlin <code>Type</code> is different type than <code>Type?</code>. The second one is Nullable. To first one you cannot assign <code>null</code> value.</p>\n\n<p>Whenever you expect <code>Type?</code> you can use <code>Type</code>, but there is no way to use it in opposite way.</p>\n\n<p>This way Kotlin ensure null safety. More you can read here:\n<a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a></p>\n\n<p>So, how to solve your problem?:</p>\n\n<ul>\n<li><p>Use <code>!!</code> operator - this operator will convert nullable type to notnullable, but, if value is null you'll get <code>NullPointerException</code></p></li>\n<li><p>Change signature of your function to use compatible types. In your case this looks like proper way.</p></li>\n</ul>\n"}], "owner": {"reputation": 268, "user_id": 8609394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-q5Py-2VJWz0/AAAAAAAAAAI/AAAAAAAAALg/4tCNv4fvM2A/photo.jpg?sz=128", "display_name": "Saranya Subramanian", "link": "https://stackoverflow.com/users/8609394/saranya-subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2954, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1553073899, "creation_date": 1553073336, "question_id": 55257199, "link": "https://stackoverflow.com/questions/55257199/type-mismatch-inferred-type-is-context-but-context-was-expected-kotlin", "title": "Type mismatch: inferred type is Context? but Context was expected - Kotlin", "body": "<p>I am getting above mentioned issue after updating kotlin version to 1.3.0</p>\n\n<p>Below is the code,</p>\n\n<pre><code>     public class SequenceLayout(context: Context?, attrs: AttributeSet?, defStyleAttr: Int)\n: FrameLayout(context, attrs, defStyleAttr), ViewTreeObserver.OnGlobalLayoutListener {\n</code></pre>\n\n<p>}</p>\n\n<p>First line I am getting that. issue . Pls help me to solve this.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 4338478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae7d247dbb8cda0d14b60d4c4e3c9402?s=128&d=identicon&r=PG&f=1", "display_name": "blastervla", "link": "https://stackoverflow.com/users/4338478/blastervla"}, "is_accepted": true, "score": 1, "last_activity_date": 1555526556, "creation_date": 1555526556, "answer_id": 55734096, "question_id": 55257186, "link": "https://stackoverflow.com/questions/55257186/how-do-you-make-an-alert-with-rounded-corners-using-anko-without-using-xml/55734096#55734096", "title": "How do you make an alert with rounded corners using Anko without using XML?", "body": "<p>You can do the following:</p>\n\n<pre><code>val alertDialog: Dialog = alert {\n    customView {\n        /* Your custom view DSL */\n    }\n}.build() as Dialog // You can use conditional as? syntax for extra safety\n\n// This right here does the trick\nalertDialog.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\nalertDialog.show()\n</code></pre>\n\n<p>Note that by doing this, you'll need to set titles and buttons by yourself inside the contentView, as they'll appear over the transparent background otherwise. If you need a dismiss button, you can do the following change in the dialog declaration:</p>\n\n<pre><code>var alertDialog: Dialog? = null\nalertDialog = alert { \n    customView {\n        /* ... */ \n        button {\n            text = \"Cancel\"\n            setOnClickListener {\n                alertDialog?.dismiss()\n            }\n        }\n    }\n}.build()\n/* ... */\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5172836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9279f70c846d7ec46a3de5ac2faa601?s=128&d=identicon&r=PG&f=1", "display_name": "radthemad4", "link": "https://stackoverflow.com/users/5172836/radthemad4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 55734096, "answer_count": 1, "score": 1, "last_activity_date": 1556017582, "creation_date": 1553073304, "last_edit_date": 1556017582, "question_id": 55257186, "link": "https://stackoverflow.com/questions/55257186/how-do-you-make-an-alert-with-rounded-corners-using-anko-without-using-xml", "title": "How do you make an alert with rounded corners using Anko without using XML?", "body": "<p>I'd like to make an alert with rounded corners using anko, without using any XML. I've pasted my current attempt below. Is there any way to make the alert's custom view completely transparent, or to make it rounded and change its background color?</p>\n\n<p><a href=\"https://i.stack.imgur.com/iK3Qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iK3Qd.png\" alt=\"White corners\"></a></p>\n\n<pre><code>class TestActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        alert {\n            customView {\n                verticalLayout {\n                    backgroundDrawable = GradientDrawable().apply {\n                        shape = GradientDrawable.RECTANGLE\n                        cornerRadius = 15f\n                        setColor(Color.BLACK)\n                    }\n                    for(i in 0..5){\n                        textView(\"Hello World\") {\n                            textColor = Color.WHITE\n                            gravity = Gravity.CENTER\n                        }.lparams(matchParent,dip(50))\n                    }\n                }\n            }\n        }.show()\n    }\n\n}\n</code></pre>\n\n<p>Dependencies</p>\n\n<pre><code>ext.kotlin_version = '1.3.21'\next.anko_version='0.10.8'\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0-alpha03'\nimplementation 'androidx.core:core-ktx:1.1.0-alpha05'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:runner:1.1.2-alpha02'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0-alpha02'\n\n// Anko Commons\nimplementation \"org.jetbrains.anko:anko-commons:$anko_version\"\n\n// Anko Layouts\nimplementation \"org.jetbrains.anko:anko-sdk15:$anko_version\"\n// sdk15, sdk19, sdk21, sdk23 are also available\nimplementation \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>    var alertDialog: Dialog? = null\n    alertDialog = alert {\n        customView {\n            verticalLayout {\n                backgroundDrawable = GradientDrawable().apply {\n                    shape = GradientDrawable.RECTANGLE\n                    cornerRadius = 15f\n                    setColor(Color.BLACK)\n                }\n                for(i in 0..5){\n                    textView(\"Hello World\") {\n                        textColor = Color.WHITE\n                        gravity = Gravity.CENTER\n                    }.lparams(matchParent,dip(50))\n                }\n                button {\n                    text = \"Cancel\"\n                    setOnClickListener {\n                        alertDialog?.dismiss()\n                    }\n                }\n            }\n        }\n    }.show() as? Dialog\n\n    // This right here does the trick\n    alertDialog?.window?.setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n    alertDialog?.show()\n</code></pre>\n\n<p>does what I want. Thanks, blastervla</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 957, "user_id": 558880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X4Jdf.jpg?s=128&g=1", "display_name": "Karol Lewandowski", "link": "https://stackoverflow.com/users/558880/karol-lewandowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1553072256, "creation_date": 1553072256, "answer_id": 55256867, "question_id": 55255783, "link": "https://stackoverflow.com/questions/55255783/passing-vargs-values-to-another-function-with-multiple-parameters-in-kotlin/55256867#55256867", "title": "Passing vargs values to another function with multiple parameters in Kotlin?", "body": "<p>Any parameters that come after <code>vararg</code> have to be passed as a named parameter. Try it:</p>\n\n<pre><code>fun SomeClass.fooBuilder(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result.Builder = TODO()\nfun SomeClass.foo(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result = fooBuilder(*x, fn = fn).build() // here I used named param\n\n// it should work now:\nSomeClass().foo(\"x\") { str -&gt; println(\"Hello $str\") }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 2, "last_activity_date": 1553072271, "creation_date": 1553072271, "answer_id": 55256873, "question_id": 55255783, "link": "https://stackoverflow.com/questions/55255783/passing-vargs-values-to-another-function-with-multiple-parameters-in-kotlin/55256873#55256873", "title": "Passing vargs values to another function with multiple parameters in Kotlin?", "body": "<p>You have two options:</p>\n\n<p>1) vararg should be last argument (but then you won't be able to use simplified lambda call)</p>\n\n<p>2) use named params:</p>\n\n<pre><code>fun SomeClass.fooBuilder(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result.Builder = TODO()\nfun SomeClass.foo(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result = fooBuilder(x = *x, fn = fn).build()\n</code></pre>\n\n<p>Error you got is very logical - how compiler can know when passing vararg argumnets is finished?</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1553074648, "creation_date": 1553074648, "answer_id": 55257619, "question_id": 55255783, "link": "https://stackoverflow.com/questions/55255783/passing-vargs-values-to-another-function-with-multiple-parameters-in-kotlin/55257619#55257619", "title": "Passing vargs values to another function with multiple parameters in Kotlin?", "body": "<p>Here's another option \u2014 it's not as clear, short, or efficient as using a named param, but I include it for completeness.</p>\n\n<p>It's to pass <code>fn</code> outside the parens, just like the caller has to do.\u00a0 I don't think you can do that directly, but you can wrap the call to <code>fn</code> like this:</p>\n\n<pre><code>fun SomeClass.foo(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result\n    = fooBuilder(*x){ fn?.invoke(it) }.build()\n</code></pre>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 496, "favorite_count": 0, "accepted_answer_id": 55256873, "answer_count": 3, "score": 0, "last_activity_date": 1553074648, "creation_date": 1553068024, "question_id": 55255783, "link": "https://stackoverflow.com/questions/55255783/passing-vargs-values-to-another-function-with-multiple-parameters-in-kotlin", "title": "Passing vargs values to another function with multiple parameters in Kotlin?", "body": "<p>I have two extension functions declared in Kotin (1.3):</p>\n\n<pre><code>fun SomeClass.fooBuilder(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result.Builder = TODO()\nfun SomeClass.foo(vararg x: String, fn: ((String) -&gt; Unit)? = null): Result = fooBuilder(*x, fn).build()\n</code></pre>\n\n<p>What I want to do is to call <code>fooBuilder</code> from <code>foo</code> and simply call <code>build()</code> on the result returned from <code>fooBuilder</code>. </p>\n\n<p>Unfortunately the code above doesn't compile since the call to <code>fooBuilder(*x, fn).build()</code> fails with:</p>\n\n<pre><code>Error:(28, 143) Kotlin: Type mismatch: inferred type is ((String) -&gt; Unit)? but String was expected\n</code></pre>\n\n<p>I.e. the compiler seem to think that I want to pass additional string (<code>x</code>) arguments but what I actually want to pass is the function.</p>\n\n<p>How can I resolve this and while retaining the option to use to omit the parentheses when specifying <code>fn</code> as in this example:</p>\n\n<pre><code>SomeClass().foo(\"x\") { str -&gt; println(\"Hello $str\") }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 22254, "user_id": 4758255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBvf3.jpg?s=128&g=1", "display_name": "\u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da", "link": "https://stackoverflow.com/users/4758255/%d7%99%d7%a9%d7%95-%d7%90%d7%95%d7%94%d7%91-%d7%90%d7%95%d7%aa%d7%9a"}, "edited": false, "score": 0, "creation_date": 1553066951, "post_id": 55255452, "comment_id": 97242757, "body": "You need to move the CountDownTimer at least to the Adapter or to the Activity. From there, you need to maintain a list of CountDownTimer paired with your model. Don&#39;t pollute your model with CountDownTimer."}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "reply_to_user": {"reputation": 22254, "user_id": 4758255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBvf3.jpg?s=128&g=1", "display_name": "\u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da", "link": "https://stackoverflow.com/users/4758255/%d7%99%d7%a9%d7%95-%d7%90%d7%95%d7%94%d7%91-%d7%90%d7%95%d7%aa%d7%9a"}, "edited": false, "score": 0, "creation_date": 1553067065, "post_id": 55255452, "comment_id": 97242809, "body": "@\u05d9\u05e9\u05d5\u05d0\u05d5\u05d4\u05d1\u05d0\u05d5\u05ea\u05da , when use countDownTimer into adapter when scrolling items timer has reset!"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553067473, "post_id": 55255452, "comment_id": 97242977, "body": "you should add it in your activity"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "reply_to_user": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553067531, "post_id": 55255452, "comment_id": 97243003, "body": "@Praveen, how can i it? can you help me and send to me code? please"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553067723, "post_id": 55255452, "comment_id": 97243105, "body": "show your acivity class and could you please specify your question"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "reply_to_user": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553067840, "post_id": 55255452, "comment_id": 97243155, "body": "@Praveen, show me update post"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "reply_to_user": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553069932, "post_id": 55255452, "comment_id": 97244065, "body": "@Praveen can you help me?"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "edited": false, "score": 0, "creation_date": 1553071401, "post_id": 55255452, "comment_id": 97244749, "body": "i don&#39;t understand your question, why you using CountDown timer ? is that for  calling notifyItemChanged ?"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553072353, "post_id": 55255452, "comment_id": 97245238, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190353/discussion-between-praveen-and-jake-warton\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11230138"}, "is_accepted": false, "score": 0, "last_activity_date": 1553067209, "creation_date": 1553067209, "answer_id": 55255594, "question_id": 55255452, "link": "https://stackoverflow.com/questions/55255452/how-to-pass-adapter-to-model-class-in-android/55255594#55255594", "title": "How to pass Adapter to Model class in android", "body": "<p>You can either build an interface in model class (which needs to be initialized in your activity) and use it to send information by implementing it in adapter. Another way is to make your own callback and listener. Follow these links; <a href=\"https://en.wikibooks.org/wiki/Java_Programming/Interfaces\" rel=\"nofollow noreferrer\">Java Interfaces</a> , <a href=\"https://stackoverflow.com/questions/1476170/how-to-implement-callbacks-in-java/1477229#1477229\">Callback &amp; Listeners</a>.</p>\n\n<p>You can see more guides and examples here: <a href=\"https://github.com/codepath/android_guides/wiki/Beginning-Android-Resources\" rel=\"nofollow noreferrer\">Beginning Android Resources</a></p>\n"}, {"comments": [{"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553085725, "post_id": 55260902, "comment_id": 97253386, "body": "you say use timer into activity? i want change items UI with timer. then i should use this into adapter"}, {"owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553085885, "post_id": 55260902, "comment_id": 97253483, "body": "move above code to a method and you can call it from adapter"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553086038, "post_id": 55260902, "comment_id": 97253575, "body": "how can i it? can you send code with my above codes ? please"}], "tags": [], "owner": {"reputation": 926, "user_id": 9060917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ff9052f91c7e5893cace91dd3c90ab?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/9060917/praveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1553086414, "last_edit_date": 1553086414, "creation_date": 1553085264, "answer_id": 55260902, "question_id": 55255452, "link": "https://stackoverflow.com/questions/55255452/how-to-pass-adapter-to-model-class-in-android/55260902#55260902", "title": "How to pass Adapter to Model class in android", "body": "<p><strong>call this method from   onResponse(..)</strong></p>\n\n<pre><code>  fun recyclerScroll(){\n\n recyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n                    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n                        super.onScrolled(recyclerView, dx, dy)\n\n                        if (dy &gt; 0) {\n\n                           // recyclerview is scrolling up\n                          // your code for  cancel timer\n\n                        } else if(layoutManager.findFirstCompletelyVisibleItemPosition() == 0){\n\n                            // recyclerview is not scrolling \n                          // start timer\n\n                        }\n                     else{\n                         // recyclerview is scrolling down\n                          // your code for cancel timer\n                        }\n\n                    }\n\n                    override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int) {\n                        super.onScrollStateChanged(recyclerView, newState)\n                        mSwipeRefreshLayout.isEnabled = gridLayoutManager.findFirstCompletelyVisibleItemPosition() == 0\n                    }\n\n                })\n\n }\n</code></pre>\n\n<p>and call it from adapter </p>\n\n<pre><code>(context as Your_Activity_Name).recyclerScroll()\n</code></pre>\n"}], "owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1553086414, "creation_date": 1553066649, "last_edit_date": 1553067812, "question_id": 55255452, "link": "https://stackoverflow.com/questions/55255452/how-to-pass-adapter-to-model-class-in-android", "title": "How to pass Adapter to Model class in android", "body": "<p>In my application i want use <strong>multiple</strong> <strong>timer</strong> into <code>recyclerview</code>.<br>\nFor not reset timer when scrolling on <code>recyclerview</code>'s items i write <strong>CountDown</strong> timer into model class.<br></p>\n\n<p>For this i should call <code>notifyItemChanged</code> into <strong>model class</strong>.<br>\nBut i don't know how can i send adapter to model class!<br></p>\n\n<p><strong>My model class :</strong></p>\n\n<pre><code>data class Today(\n    @SerializedName(\"auction_status\")\n    val auctionStatus: String = \"\", // accept\n    @SerializedName(\"base_price\")\n    val basePrice: Int = 0, // 48000\n    @SerializedName(\"bid_number\")\n    val bidNumber: String = \"\", // 1\n    @SerializedName(\"calculate_end\")\n    val calculateEnd: Long = 0, // -4458\n    @SerializedName(\"can_offer_before\")\n    val canOfferBefore: Int = 0, // 1\n    @SerializedName(\"capacity\")\n    val capacity: Int = 0, // 15\n    @SerializedName(\"current_price\")\n    val currentPrice: Int = 0, // 112000\n    @SerializedName(\"discount\")\n    val discount: Int = 0, // 160000\n    @SerializedName(\"end\")\n\n    var countDownTimer: CountDownTimer? = null,\n    var currentVal: String\n\n) {\n    init {\n        countDownTimer = object : CountDownTimer(calculateEnd * 1000, 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n                var seconds = (millisUntilFinished / 1000).toInt()\n                val hours = seconds / (60 * 60)\n                val tempMint = seconds - hours * 60 * 60\n                val minutes = tempMint / 60\n                seconds = tempMint - minutes * 60\n                currentVal =\n                    String.format(\"%02d\", hours) + \":\" + String.format(\n                        \"%02d\",\n                        minutes\n                    ) + \":\" + String.format(\"%02d\", seconds)\n                // call adapter.notifyItemChanged(..) here\n            }\n\n            override fun onFinish() {\n                //here  you should call the adapter.notifyItemChanged(..) function with the position of this model in the model list\n            }\n        }.start()\n    }\n}\n</code></pre>\n\n<p><strong>Adapter codes</strong>:</p>\n\n<pre><code>class AuctionsTodayAdapter(val context: Context, val model: MutableList&lt;Today&gt;) :\n    RecyclerView.Adapter&lt;AuctionsTodayAdapter.MyHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.row_main_list, parent, false)\n        val holder = MyHolder(view)\n\n        //holder.setIsRecyclable(false)\n\n        return holder\n    }\n\n    override fun getItemCount(): Int {\n        return model.size\n    }\n\n    override fun onBindViewHolder(holder: MyHolder, position: Int) {\n\n    }\n\noverride fun onViewAttachedToWindow(holder: MyHolder) {\n    var position = holder.adapterPosition\n    val modelUse = model[position]\n    holder.setData(modelUse)\n}\n\noverride fun onViewDetachedFromWindow(holder: MyHolder) {\n    if (holder.countTimer != null) {\n        holder.countTimer.cancel()\n    }\n}\n\n    inner class MyHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var newCountDownTimer: CountDownTimer? = null\n\n        lateinit var rowMain_timer: TextView\n\n        init {\n            rowMain_timer = itemView.findViewById(R.id.rowMain_timer)\n        }\n\n        fun setData(model: Today) {\n            model.image.let {\n                Glide.with(context)\n                    .load(Constants.MAIN_BASE_URL + it)\n                    .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.RESOURCE))\n                    .into(itemView.rowMain_img)\n            }\n            model.title.let { itemView.rowMain_title.text = it }\n        }\n}\n</code></pre>\n\n<p><strong>Activity codes:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var apisList: ApisList\n    private lateinit var retrofit: Retrofit\n    private lateinit var todayAdapter: AuctionsTodayAdapter\n    private val todayModel: MutableList&lt;Today&gt; = mutableListOf()\n    private lateinit var layoutManager: RecyclerView.LayoutManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //Initialize\n        retrofit = ApiClient.instance\n        apisList = retrofit.create(ApisList::class.java)\n        todayAdapter = AuctionsTodayAdapter(themedContext, todayModel)\n        layoutManager = LinearLayoutManager(themedContext)\n        //RecyclerView\n        main_list.setHasFixedSize(true)\n        main_list.layoutManager = layoutManager\n        main_list.adapter = todayAdapter\n\n        if (isNetworkAvailable()) getData(1, 10)\n    }\n\n    private fun getData(page: Int, limit: Int) {\n        main_loader.visibility = View.VISIBLE\n        val call = apisList.getAuctionsToday(page, limit)\n        call.let {\n            it.enqueue(object : Callback&lt;AuctionsTodayResponse&gt; {\n                override fun onFailure(call: Call&lt;AuctionsTodayResponse&gt;, t: Throwable) {\n                    main_loader.visibility = View.GONE\n                    Log.e(\"auctionsTodayList\", t.message)\n                }\n\n                override fun onResponse(call: Call&lt;AuctionsTodayResponse&gt;, response: Response&lt;AuctionsTodayResponse&gt;) {\n                    if (response.isSuccessful) {\n                        response.body()?.let { itBody -&gt;\n                            main_loader.visibility = View.GONE\n                            if (itBody.toString().isNotEmpty()) {\n                                todayModel.clear()\n                                todayModel.addAll(itBody.res.today)\n                                todayAdapter.notifyDataSetChanged()\n                            }\n                        }\n                    }\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>How can i it? </p>\n"}, {"tags": ["android", "design-patterns", "android-activity", "kotlin", "firebase-ab-testing"], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 10572429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/004f131afb1fd39409b9ad2d38cd2561?s=128&d=identicon&r=PG&f=1", "display_name": "jhayjhay", "link": "https://stackoverflow.com/users/10572429/jhayjhay"}, "is_accepted": false, "score": -1, "last_activity_date": 1553065054, "creation_date": 1553065054, "answer_id": 55255095, "question_id": 55254695, "link": "https://stackoverflow.com/questions/55254695/what-is-the-best-choice-to-implement-new-screen-for-a-b-testing/55255095#55255095", "title": "What is the best choice to implement new screen for A/B testing", "body": "<p>use same xml file.</p>\n\n<p>but if you intent put some validation. for example</p>\n\n<pre><code>    abtn= findViewById(R.id.abtn);\n    abtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(Main.this, a.class);\n            intent.putExtra(\"xmltype\",1);\n            startActivity(intent);\n\n        }\n    });\n\n    bBTN= findViewById(R.id.bBTN);\n    bBTN.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(Main.this, a.class);\n            intent.putExtra(\"xmltype\",2);\n            startActivity(intent);\n</code></pre>\n\n<p>In you a.class:</p>\n\n<pre><code>Bundle extras = getIntent().getExtras();\nif(extras != null){\n    xmltype= extras.getInt(\"xmltype\",-1);\n    System.out.println(\"ticketType::::\"+xmltype);\n}\nif(xmltype== 1){\n  //show all fields\n  //hide all feilds that dont needed by using Fields.SetVisibility(View.GOne)\n}else{\n              //show all fields\n  //hide all feilds that dont needed by using Fields.SetVisibility(View.GOne)\n}\n</code></pre>\n"}], "owner": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553065054, "creation_date": 1553063097, "question_id": 55254695, "link": "https://stackoverflow.com/questions/55254695/what-is-the-best-choice-to-implement-new-screen-for-a-b-testing", "title": "What is the best choice to implement new screen for A/B testing", "body": "<h2>Description:</h2>\n\n<p>I have a register screen. \nIn order to make it easier for inputting info , I'm planing to renewal this screen by decrease input field.  I also want to collect user feedback by doing A/B test.\nTherefore , I have to keep current register screen and make new one. </p>\n\n<p><strong>I suppose the current register screen has 10 input fields.<br>\nAnd a new one I will make has 4 input fields + a little change about style.</strong> </p>\n\n<h2>Confusing:</h2>\n\n<p>So,I'm wondering about the best way implementation:  </p>\n\n<ul>\n<li>Should I use same RegisterActivity and just separate XML layout ?</li>\n<li>Or I will make a new Activity like RenewalRegisterActivity ( of course new XML layout is created ?</li>\n</ul>\n\n<p>Project structure looks like that :<br>\nCase 1:   </p>\n\n<pre><code>RegisterActivity.kt   \n    regsiter_activity.xml  \n    renewal_register_activity.xml\n</code></pre>\n\n<p>Case 2:  </p>\n\n<pre><code>RegsiterActivity.kt  \n    register_activity.xml\n\nRenewalRegsiterActivity.kt  \n    renewal_register_activity.xml\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1553056873, "post_id": 55252712, "comment_id": 97239457, "body": "&quot;total height and width of the device&quot; - Do you mean screen?"}, {"owner": {"reputation": 2060, "user_id": 313870, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eeb6068005e32b9bc1c57051ac3e2fa5?s=128&d=identicon&r=PG", "display_name": "Demonick", "link": "https://stackoverflow.com/users/313870/demonick"}, "edited": false, "score": 0, "creation_date": 1553071295, "post_id": 55252712, "comment_id": 97244687, "body": "Try this: <a href=\"https://stackoverflow.com/a/14342326/313870\">stackoverflow.com/a/14342326/313870</a>"}, {"owner": {"reputation": 227, "user_id": 764493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ed596804b465d4b99355f4b215754a?s=128&d=identicon&r=PG", "display_name": "sirajnadwar", "link": "https://stackoverflow.com/users/764493/sirajnadwar"}, "edited": false, "score": 0, "creation_date": 1553298037, "post_id": 55252712, "comment_id": 97346321, "body": "Nope that doesn&#39;t give the bezel size included. According to google docs the actual device resolution is more then the one returned by the above api and the actual can be obtained through display.getmode.getPhysicalheight/width. However doing so still fails on my Samsung S9 which has 3 display modes but when I change to any of those yet only the highest resolution mode gets returned"}], "owner": {"reputation": 227, "user_id": 764493, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ed596804b465d4b99355f4b215754a?s=128&d=identicon&r=PG", "display_name": "sirajnadwar", "link": "https://stackoverflow.com/users/764493/sirajnadwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553049087, "creation_date": 1553049087, "question_id": 55252712, "link": "https://stackoverflow.com/questions/55252712/how-can-i-get-bezel-height-and-width-on-android-programatically", "title": "How can I get bezel height and width on Android programatically", "body": "<p>If there is no api to get that, can I get the total height and width of the device which includes the bezel information?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "arcore", "sceneform"], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 10517706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab38954e5bdc7ba4bfe636b74b73deb1?s=128&d=identicon&r=PG&f=1", "display_name": "radekdob", "link": "https://stackoverflow.com/users/10517706/radekdob"}, "is_accepted": false, "score": 2, "last_activity_date": 1553116031, "creation_date": 1553116031, "answer_id": 55270210, "question_id": 55252288, "link": "https://stackoverflow.com/questions/55252288/crashing-app-after-implementation-sceneform/55270210#55270210", "title": "Crashing app after implementation Sceneform", "body": "<p>SOLVED, </p>\n\n<p>My min SDK was set to 26. </p>\n\n<p>Just add this to your <strong>app gradle</strong>, even when documentation says that is necessary in min SDK lower than 26.</p>\n\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 10517706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab38954e5bdc7ba4bfe636b74b73deb1?s=128&d=identicon&r=PG&f=1", "display_name": "radekdob", "link": "https://stackoverflow.com/users/10517706/radekdob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553116031, "creation_date": 1553045235, "last_edit_date": 1553071049, "question_id": 55252288, "link": "https://stackoverflow.com/questions/55252288/crashing-app-after-implementation-sceneform", "title": "Crashing app after implementation Sceneform", "body": "<p>I'm struggling with a strange issue.\nI tried everything to find a solution to why my app crashes. </p>\n\n<p><strong>The reason is \"implementation 'com.google.ar.sceneform.ux:sceneform-ux:1.7.0' \".</strong></p>\n\n<p><strong>When I add this implementation I get error:</strong> </p>\n\n<pre><code>java.lang.RuntimeException: Unable to instantiate activity\n ComponentInfo{com.example.myarcore/com.example.myarcore.MainActivity}:\n java.lang.ClassNotFoundException: Didn't find class\n \"com.example.myarcore.MainActivity\" on path: DexPathList[[zip file\n \"/data/app/com.example.myarcore-Aw\n</code></pre>\n\n<p><strong>This is my app gradle code:</strong></p>\n\n<pre><code> apply plugin: 'com.android.application'\napply plugin: 'com.google.ar.sceneform.plugin'\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.myarcore\"\n        minSdkVersion 26\n        targetSdkVersion 28\n        multiDexEnabled true\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n\n<p>According to MultiDex documentation if app min sdk is higher than 21 then to enable MultiDex all I need is to put  <strong>multiDexEnabled true</strong> as I did.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1553041677, "post_id": 55251502, "comment_id": 97236269, "body": "User needs to grant permission to &quot;draw over other apps&quot; per application basis. It&#39;s up to ROM implementation to put in exceptions like granting it to Messenger by default. You can quickly check if it&#39;s granted for your app by using <a href=\"https://developer.android.com/reference/android/provider/Settings#canDrawOverlays(android.content.Context)\" rel=\"nofollow noreferrer\"><code>Settings.canDrawOverlays()</code></a>."}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1553786268, "post_id": 55251502, "comment_id": 97522808, "body": "@ManojPerumarath 28"}, {"owner": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553787162, "post_id": 55251502, "comment_id": 97523506, "body": "Duplicate: <a href=\"https://stackoverflow.com/questions/46208897/android-permission-denied-for-window-type-2038-using-type-application-overlay\" title=\"android permission denied for window type 2038 using type application overlay\">stackoverflow.com/questions/46208897/&hellip;</a>"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1553829638, "post_id": 55251502, "comment_id": 97540119, "body": "Hey, try my updated answer"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "reply_to_user": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1553853501, "post_id": 55251502, "comment_id": 97548517, "body": "@Maxouille I&#39;m not getting the &quot;permission denied&quot; error, nor any error, it&#39;s not the same question as that."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1553859477, "post_id": 55251502, "comment_id": 97552076, "body": "Is this issue happening on specific devices only? <code>canDrawOverlays </code> should be enabled, if possible share a GitHub of that specific portion"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1553879930, "post_id": 55251502, "comment_id": 97564192, "body": "@ManojPerumarath will try your updated solution later today! I&#39;ve tried on my device and on 2 emulators, I wouldn&#39;t think it&#39;s device specific."}], "answers": [{"comments": [{"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1553802581, "post_id": 55401752, "comment_id": 97532181, "body": "Tried this on API 28 and it doesn&#39;t work, i.e. it gets dismissed when pressing <code>Home</code>"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1553809547, "post_id": 55401752, "comment_id": 97535137, "body": "I tried this on Oreo and Pie, still works for me. Please post your code"}, {"owner": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "edited": false, "score": 0, "creation_date": 1553891539, "post_id": 55401752, "comment_id": 97569284, "body": "This does not work for soft home button. For example pixel devices."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 8424, "user_id": 2511882, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/14b27314457e78023d62224bc508a5c0?s=128&d=identicon&r=PG", "display_name": "user2511882", "link": "https://stackoverflow.com/users/2511882/user2511882"}, "edited": false, "score": 0, "creation_date": 1553914114, "post_id": 55401752, "comment_id": 97574200, "body": "@user2511882  I had tested it on Pixel and POCO F1, still working"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1553945222, "post_id": 55401752, "comment_id": 97579723, "body": "Adding <code>android:enabled=&quot;true&quot;</code> and <code>android:exported=&quot;false&quot;</code> to the service doesn&#39;t work"}], "tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 0, "last_activity_date": 1553829617, "last_edit_date": 1553829617, "creation_date": 1553787917, "answer_id": 55401752, "question_id": 55251502, "link": "https://stackoverflow.com/questions/55251502/sticky-overlay-without-windowmanager-layoutparams-type-phone/55401752#55401752", "title": "Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE", "body": "<p>In <code>Manifest</code> add permission</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n</code></pre>\n\n<p>In the launcher activity you should ask for <code>canDrawOverlays</code> Permissions`</p>\n\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; \n !Settings.canDrawOverlays(this)) {\n\n\n        //If the draw over permission is not available open the settings screen\n        //to grant the permission.\n        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\n                Uri.parse(\"package:\" + getPackageName()));\n        startActivityForResult(intent, CODE_DRAW_OVER_OTHER_APP_PERMISSION);\n    } else {\n        initializeView();\n    }\n</code></pre>\n\n<p>Then inside your service </p>\n\n<pre><code> //Inflate the floating view layout\n    mFloatingView = \n    LayoutInflater.from(this).inflate(R.layout.layout_floating_widget, null);\n\n    int LAYOUT_TYPE;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY;\n    } else {\n        LAYOUT_TYPE = WindowManager.LayoutParams.TYPE_PHONE;\n    }\n    //Add the view to the window.\n    final WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            LAYOUT_FLAG ,\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n            PixelFormat.TRANSLUCENT);\n\n    //Specify the view position\n    params.gravity = Gravity.TOP | Gravity.LEFT;        //Initially view will be added to top-left corner\n    params.x = 0;\n    params.y = 100;\n\n    //Add the view to the window\n    mWindowManager = (WindowManager) getSystemService(WINDOW_SERVICE);\n    mWindowManager.addView(mFloatingView, params);\n</code></pre>\n\n<p>This won't get dismissed as the user press <code>Home</code> Key.</p>\n\n<p>Make sure that your floating widget is defined as <code>service</code> otherwise it can't survive when there is memory low/ configuration change kind of issues.\nAlso register the service inside the manifest</p>\n\n<pre><code>   &lt;service\n            android:name=\".MyWidget\"\n            android:enabled=\"true\"\n            android:exported=\"false\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1553978674, "post_id": 55402151, "comment_id": 97588367, "body": "This isn&#39;t different from what I have."}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554095319, "post_id": 55402151, "comment_id": 97611243, "body": "@JohnSardinha did you tried this code ? and if its not working let me see bcz i have an application which is runnning on playstore with this code"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554129834, "post_id": 55402151, "comment_id": 97628453, "body": "I tried it, it didn&#39;t work, what sdk version are you targeting?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554129926, "post_id": 55402151, "comment_id": 97628513, "body": "<code>compileSdkVersion 28 minSdkVersion 19         targetSdkVersion 28 </code>"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554130022, "post_id": 55402151, "comment_id": 97628565, "body": "When you have your overlay being displayed, and you press the home button, it doesn&#39;t close your overlay?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554130063, "post_id": 55402151, "comment_id": 97628586, "body": "i using service for adding widget on screen"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554130067, "post_id": 55402151, "comment_id": 97628588, "body": "<a href=\"https://play.google.com/store/apps/details?id=com.gauravkhannamarketeer.spideronmyscreen\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554130293, "post_id": 55402151, "comment_id": 97628718, "body": "@JohnSardinha first time i followed this example <a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">journaldev.com/14673/android-floating-widget</a> then i modified as ovr requiment"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554130633, "post_id": 55402151, "comment_id": 97628927, "body": "Yes your app works well, also how do you get permission to draw over other apps by default?"}, {"owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "reply_to_user": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554131043, "post_id": 55402151, "comment_id": 97629170, "body": "currently i dont have source code becoz i am at home so i will suggest you use this <a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">journaldev.com/14673/android-floating-widget</a> example and modify as your use remove deprecated code"}, {"owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "edited": false, "score": 0, "creation_date": 1554369202, "post_id": 55402151, "comment_id": 97729148, "body": "I have tried your code and it didn&#39;t work, I might be able to spot what&#39;s different from the full code? If you&#39;ve open sourced it of course"}], "tags": [], "owner": {"reputation": 3609, "user_id": 9909365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaxPd.jpg?s=128&g=1", "display_name": "Ashvin solanki", "link": "https://stackoverflow.com/users/9909365/ashvin-solanki"}, "is_accepted": false, "score": 2, "last_activity_date": 1554131539, "last_edit_date": 1554131539, "creation_date": 1553789096, "answer_id": 55402151, "question_id": 55251502, "link": "https://stackoverflow.com/questions/55251502/sticky-overlay-without-windowmanager-layoutparams-type-phone/55402151#55402151", "title": "Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE", "body": "<p>Ref : <a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html</a></p>\n\n<h2><a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_PHONE\" rel=\"nofollow noreferrer\"><strong><code>TYPE_PHONE</code></strong></a></h2>\n\n<pre><code>public static final int TYPE_APPLICATION_OVERLAY\n</code></pre>\n\n<p>This constant was <strong>deprecated in API level 26</strong>.</p>\n\n<p>for non-system apps. Use TYPE_APPLICATION_OVERLAY instead.</p>\n\n<p>Window type: phone. <code>These are non-application windows providing user interaction with the phone</code> (in particular incoming calls). These windows are normally placed above all applications, but behind the status bar. In multiuser systems shows on all users' windows.</p>\n\n<h2><a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_APPLICATION_OVERLAY\" rel=\"nofollow noreferrer\"><strong><code>TYPE_APPLICATION_OVERLAY</code></strong></a></h2>\n\n<pre><code>public static final int TYPE_APPLICATION_OVERLAY\n</code></pre>\n\n<p>Window type: Application overlay windows are displayed above all activity windows (types between <code>FIRST_APPLICATION_WINDOW</code> and <code>LAST_APPLICATION_WINDOW</code>) but below critical system windows like the status bar or IME.</p>\n\n<p>The system may change the position, size, or visibility of these windows at anytime to reduce visual clutter to the user and also manage resources.</p>\n\n<p>Requires <code>Manifest.permission.SYSTEM_ALERT_WINDOW</code> permission.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n</code></pre>\n\n<p>The system will adjust the importance of processes with this window type to reduce the chance of the low-memory-killer killing them.</p>\n\n<p>In multi-user systems shows only on the owning user's screen.</p>\n\n<p>we have to use TYPE APPLICATION OVERLAY on device Oreo or later\nwe have already example as <strong>Manoj Perumarath</strong> gived</p>\n\n<p>you need to defined windowlayout params like this </p>\n\n<pre><code>//if device is Oreo or latter if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\nfinal WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,\n        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n        PixelFormat.TRANSLUCENT);\n\n//or else\nfinal WindowManager.LayoutParams params = new WindowManager.LayoutParams(\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.WRAP_CONTENT,\n        WindowManager.LayoutParams.TYPE_PHONE,\n        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n        PixelFormat.TRANSLUCENT);\n</code></pre>\n\n<p><strong><code>Manifest.xml</code></strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n//...other stuff\n&lt;service\nandroid:name=\".serviceClass\"\nandroid:enabled=\"true\"\nandroid:exported=\"false\"/&gt;\n</code></pre>\n\n<p><strong><code>MainActivity</code></strong></p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; !Settings.canDrawOverlays(this)) {\nIntent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION,\nUri.parse(\"package:\" + getPackageName()));\nstartActivityForResult(intent, APP_PERMISSION_REQUEST);\n}\nelse\n{\n //start service\n}\n</code></pre>\n\n<p>Read once </p>\n\n<ul>\n<li><a href=\"https://www.spaceotechnologies.com/android-floating-widget-tutorial/\" rel=\"nofollow noreferrer\">https://www.spaceotechnologies.com/android-floating-widget-tutorial/</a></li>\n<li><a href=\"https://www.journaldev.com/14673/android-floating-widget\" rel=\"nofollow noreferrer\">https://www.journaldev.com/14673/android-floating-widget</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "is_accepted": true, "score": 0, "last_activity_date": 1554570937, "creation_date": 1554570937, "answer_id": 55551552, "question_id": 55251502, "link": "https://stackoverflow.com/questions/55251502/sticky-overlay-without-windowmanager-layoutparams-type-phone/55551552#55551552", "title": "Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE", "body": "<p><strong>Solution:</strong> Don't inflate your overlay directly over other apps.</p>\n\n<p>Normally, using <code>TYPE_APPLICATION_OVERLAY</code> still behaves as <code>TYPE_PHONE</code>, the issue with my case was that I was displaying my view (<code>windowManager.addView(rootView, params)</code>) when an activity from another app was in the foreground, and Android attaches the view to the current foreground activity, so when the user exits that activity (by pressing the home button for example), the system also kills the overlay from my app. A solution for me was very specific, I don't have a general solution but with this information should help people finding one.</p>\n"}], "owner": {"reputation": 3039, "user_id": 5905035, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/NfHmK.png?s=128&g=1", "display_name": "John Sardinha", "link": "https://stackoverflow.com/users/5905035/john-sardinha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2582, "favorite_count": 0, "accepted_answer_id": 55551552, "answer_count": 3, "score": 8, "last_activity_date": 1554570937, "creation_date": 1553038635, "last_edit_date": 1553813763, "question_id": 55251502, "link": "https://stackoverflow.com/questions/55251502/sticky-overlay-without-windowmanager-layoutparams-type-phone", "title": "Sticky overlay without WindowManager.LayoutParams.TYPE_PHONE", "body": "<p>By sticky I mean a window that doesn't get closed by calling the launcher intent (<code>intent.addCategory(Intent.CATEGORY_HOME</code>).</p>\n\n<p>Previously this was done with <code>WindowManager.LayoutParams.TYPE_PHONE</code>, but this type is now deprecated and throws an exception on api 28:</p>\n\n<blockquote>\n  <p>WindowManager$BadTokenException ... permission denied for window type 2002</p>\n</blockquote>\n\n<p>The behavious is still possible since Facebook's Messenger does it with its chat \"Heads\", based on the assumption that facebook doesn't get system app permissions since it's pre-installed on a lot of roms.</p>\n\n<p>Using <code>WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY</code> doesn't work (i.e. pressing the home button also hides the overlay window).</p>\n\n<p><strong>Edit</strong>: The question is how to have an overlay window that doesn't get removed when user clicks the home button / calling the launcher intent. It's not the case for <code>TYPE_APPLICATION_OVERLAY</code>, it was the case for <code>TYPE_PHONE</code> but that's deprecated.</p>\n\n<p><strong>Edit 2:</strong> Apparently this does work for some people, this is the code I'm running:</p>\n\n<pre><code>class MyClass {\n\n    var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n                WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n            else WindowManager.LayoutParams.TYPE_SYSTEM_DIALOG,\n            WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,\n            PixelFormat.TRANSLUCENT\n    ).apply {\n        windowAnimations = android.R.style.Animation_Dialog\n        gravity = Gravity.CENTER or Gravity.CENTER\n        x = 0\n        y = 0\n    }\n    var windowManager: WindowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\n\n    init {\n        val layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        rootView = layoutInflater.inflate(R.layout.view_overlay, null)\n        windowManager.addView(rootView, params)\n    }\n\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "angular", "kotlin"], "comments": [{"owner": {"reputation": 91, "user_id": 2228895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a93b6ab1892c8eceb5209c7ade491a?s=128&d=identicon&r=PG", "display_name": "user2228895", "link": "https://stackoverflow.com/users/2228895/user2228895"}, "edited": false, "score": 0, "creation_date": 1578572844, "post_id": 55251062, "comment_id": 105486851, "body": "The @JsName annotation should solve your immediate issue. However there are many other issues, as described in my blog post <a href=\"https://medium.com/@dr.david.h.akehurst/building-applications-with-kotlin-and-typescript-8a165e76252c\" rel=\"nofollow noreferrer\">building-applications-with-kotlin-and-typescript</a>. such as: - using kotlin types - generating .d.ts files - getting the kotlin generated code into the node_modules directory (or assets)  I would be interested how you solved those issues yourself?"}], "answers": [{"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": false, "score": 2, "last_activity_date": 1553063206, "creation_date": 1553063206, "answer_id": 55254709, "question_id": 55251062, "link": "https://stackoverflow.com/questions/55251062/using-kotlin-code-transpiled-to-javascript-in-an-angular-client-side-project/55254709#55254709", "title": "Using Kotlin code transpiled to JavaScript in an Angular/client-side project", "body": "<p>The name of the compiled method in Javascript can be set using the <code>@JSName(...)</code> annotation.</p>\n\n<p>In this case:</p>\n\n<pre><code>class SomeKotlinClass {\n    @JsName(\"someMethod\")\n    fun someMethod(name: String): String {\n        return \"Happy Birthday, \" + name;\n    }\n}\n</code></pre>\n\n<p>Which then is compiled to:</p>\n\n<pre><code>SomeKotlinClass.prototype.someMethod = function (name) {\n   return 'Happy Birthday, ' + name;\n};\n</code></pre>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553063206, "creation_date": 1553035576, "question_id": 55251062, "link": "https://stackoverflow.com/questions/55251062/using-kotlin-code-transpiled-to-javascript-in-an-angular-client-side-project", "title": "Using Kotlin code transpiled to JavaScript in an Angular/client-side project", "body": "<p>We have a Kotlin project for which some classes are intended to be shared with the client-side, and as a result have configured our <code>kotlin-maven-plugin</code> to spit out certain Kotlin classes as JavaScript:</p>\n\n<pre><code>    &lt;configuration&gt;\n        &lt;outputFile&gt;${project.basedir}/angular/src/assets/kotlin_classes.js&lt;/outputFile&gt;\n        &lt;moduleKind&gt;commonjs&lt;/moduleKind&gt;\n    &lt;/configuration&gt;\n</code></pre>\n\n<p>With a Kotlin class that looks like:</p>\n\n<pre><code>class SomeKotlinClass {\n    fun someMethod(name: String): String {\n        return \"Happy Birthday, \" + name;\n    }\n}\n</code></pre>\n\n<p>The problem that we're encountering is that no matter what <code>moduleKind</code> we use (we've tried <code>plain</code>, <code>umd</code>, <code>amd</code>), our method names seem to have an odd/garbled suffix in the JavaScript file:</p>\n\n<pre><code>  SomeKotlinClass.prototype.someMethod_6q3v0v$ = function (name) {\n    return 'Happy Birthday, ' + name\n  };\n</code></pre>\n\n<p>This means that our calls in Angular/TypeScript can't be to <code>someMethod()</code>, they have to be to <code>someMethod_6q3v0v$()</code>, which doesn't work for us.</p>\n\n<p>Am I doing something wrong with my plugin configuration, or with the way I'm including this JavaScript file in our project? We're 99% of the way there, but this last (strange) hurdle is holding us up.</p>\n"}, {"tags": ["android", "arrays", "kotlin", "byte"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 15, "last_activity_date": 1553034076, "creation_date": 1553034076, "answer_id": 55250827, "question_id": 55250751, "link": "https://stackoverflow.com/questions/55250751/how-to-append-bytes-to-bytearray-in-kotlin/55250827#55250827", "title": "How to Append Bytes to ByteArray in Kotlin", "body": "<p><code>ByteArray</code> overloads the <code>plus</code> operator, so you can just add to the previous value directly, or assign to a new array. For example:</p>\n\n<pre><code>val startArray = byteArrayOf(0x1, 0x2, 0x3)\nval newArray = startArray + 0x4.toByte()\n</code></pre>\n\n<p>Or if you want to keep the mutable <code>var</code>, you can just plus-assign it:</p>\n\n<pre><code>var array = byteArrayOf(0x1, 0x2, 0x3)\narray += 0x4.toByte()\n</code></pre>\n"}], "owner": {"reputation": 406, "user_id": 2804981, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/3hGsG.jpg?s=128&g=1", "display_name": "denizen", "link": "https://stackoverflow.com/users/2804981/denizen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5102, "favorite_count": 0, "accepted_answer_id": 55250827, "answer_count": 1, "score": 5, "last_activity_date": 1553034076, "creation_date": 1553033658, "question_id": 55250751, "link": "https://stackoverflow.com/questions/55250751/how-to-append-bytes-to-bytearray-in-kotlin", "title": "How to Append Bytes to ByteArray in Kotlin", "body": "<p>I am a beginner in Kotlin and I was trying to append bytes at the end of a <code>ByteArray</code>. How can I do that ?</p>\n\n<p>Here is one way I tried. Does it look right?</p>\n\n<pre><code>var someByteArray = byteArrayOf(*payload, 0x01.toByte())\n</code></pre>\n\n<p>where <code>payload</code> is a <code>ByteArray</code></p>\n\n<p>Your help is much appreciated </p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1553033172, "creation_date": 1553033172, "answer_id": 55250671, "question_id": 55250354, "link": "https://stackoverflow.com/questions/55250354/retrieve-all-values-of-a-field-in-a-cloud-firestore-query/55250671#55250671", "title": "Retrieve all values of a field in a Cloud Firestore query", "body": "<p>You will have to iterate the documents in the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QuerySnapshot\" rel=\"nofollow noreferrer\">QuerySnapshot</a> that your listener receives (your QuerySnapshot variable is <code>result</code> here).  That QuerySnapshot contains a DocumentSnapshot for each document in the results.  QuerySnapshot implements Iterable, so you can just write a <code>for</code> loop to process each snapshot in order.  Or you can use some Kotlin convenience methods:</p>\n\n<pre><code>val names = result!!.map { snapshot -&gt;\n    snapshot[\"name\"].toString()\n}\n</code></pre>\n\n<p><code>names</code> here will be a <code>List&lt;String&gt;</code>.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553053258, "creation_date": 1553031378, "last_edit_date": 1553053258, "question_id": 55250354, "link": "https://stackoverflow.com/questions/55250354/retrieve-all-values-of-a-field-in-a-cloud-firestore-query", "title": "Retrieve all values of a field in a Cloud Firestore query", "body": "<p>Each <code>user</code> in my <code>users</code> collection has three fields: <code>name</code>, <code>age</code> and <code>gender</code>. </p>\n\n<p>I simply want to create a <code>List</code> of all names (the names are <code>String</code>s). How can I do this?</p>\n\n<pre><code>db.collection(\"phones\").document(applicationID)\n    .collection(\"users\")\n    .get()\n    .addOnSuccessListener { result -&gt;\n        // something\n        val users: List&lt;String&gt; = result.document.data(\"name\").values // this is obviously the wrong syntax \n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "edited": false, "score": 1, "creation_date": 1553032018, "post_id": 55250408, "comment_id": 97233457, "body": "So there is no way to do that in &quot;for&quot; loop?"}, {"owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "reply_to_user": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "edited": false, "score": 0, "creation_date": 1553032163, "post_id": 55250408, "comment_id": 97233517, "body": "I didn&#39;t say that. Just that this is a way to achieve your goal. I wouldn&#39;t know if it is possible off the top of my head."}], "tags": [], "owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "is_accepted": true, "score": 1, "last_activity_date": 1553031666, "creation_date": 1553031666, "answer_id": 55250408, "question_id": 55250342, "link": "https://stackoverflow.com/questions/55250342/kotlin-skip-next-iterations-inside-for-loop/55250408#55250408", "title": "Kotlin skip next iteration(s) inside for loop", "body": "<p>This might be a simple solution but you could always use a <code>while</code> loop and do the incrementing yourself.</p>\n\n<pre><code>var x = 0\nwhile (x &lt; xArr.size) {\n    ...\n    x++\n}\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1289421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2fcfe4bee6403a991be4cf792b65cc?s=128&d=identicon&r=PG", "display_name": "Raskilas", "link": "https://stackoverflow.com/users/1289421/raskilas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "closed_date": 1553033419, "accepted_answer_id": 55250408, "answer_count": 1, "score": 1, "last_activity_date": 1553031666, "creation_date": 1553031338, "question_id": 55250342, "link": "https://stackoverflow.com/questions/55250342/kotlin-skip-next-iterations-inside-for-loop", "closed_reason": "Duplicate", "title": "Kotlin skip next iteration(s) inside for loop", "body": "<p>I need to estimate some portions of data inside loop and I need to skip next portion(s) if first one doesn't meet conditions:</p>\n\n<pre><code>val padding = 25\nval threshold = 0.1\nfor (y in 0 until yArr.size) {\n    for (x in 0 until xArr.size) {\n        val xVal = xArr[x]\n        val yVal = yArr[y]\n        val subMat = getSubmatrix(yVal - padding, yVal + padding, \n                                  xVal - padding, xVal + padding)\n\n        var out = processSubMatrix(subMat)\n\n        if (x%2 == 1) {\n        // do some stuff with array\n        } else {\n            if(out.max() &lt; threshold) {\n                x+=2 // cannot do that because x is immutable\n                continue\n             } else {\n              // do some stuff with array\n             }\n        }\n    }\n}\n</code></pre>\n\n<p>In java I can do that with simple construction:</p>\n\n<pre><code>for(int x = 0; x &lt; xArr.size; x++) {\n    if(someRunTimeCondition) {\n        x+=2;\n        continue;\n    } else { ... }\n}\n</code></pre>\n\n<p>So I cannot deside to skip some of iterations on Range initialization step (before I come inside loop). Anyone know how to do that?</p>\n"}, {"tags": ["java", "kotlin", "reference", "equality", "structural-equality"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 3, "creation_date": 1553031226, "post_id": 55250277, "comment_id": 97233191, "body": "If you don&#39;t look at it as just &quot;transitioning from Java,&quot; and you see it as its own language, then the question becomes &quot;why would you do anything else?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1553034097, "post_id": 55250771, "comment_id": 97234188, "body": "That quote being in a book written by members of the team is a great reference. And good call on the null safety. Seems authoritative enough for me!"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1553035959, "post_id": 55250771, "comment_id": 97234766, "body": "TY!  (It&#39;s a great book, BTW; I learned the language by reading it through three times.)  I couldn&#39;t find anything more obvious in the book or on the web site, so that may be the most authoritative source \u2014 unless anyone from JetBrains wants to comment, of course!"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 10, "last_activity_date": 1553039637, "last_edit_date": 1553039637, "creation_date": 1553033770, "answer_id": 55250771, "question_id": 55250277, "link": "https://stackoverflow.com/questions/55250277/why-does-kotlin-use-for-structural-equality-and-introduce-for-referential/55250771#55250771", "title": "Why does Kotlin use == for structural equality and introduce === for referential equality", "body": "<p>The major reason is probably that <strong>object equality is checked much more often than object identity, so it should be at least as easy.</strong></p>\n\n<p>I haven't seen a definitive statement on this.\u00a0 But there's a pointer in the book <a href=\"https://manning.com/books/kotlin-in-action\" rel=\"noreferrer\">Kotlin In Action</a>, by members of the Kotlin team.\u00a0 Section 4.3.1, introducing the <code>==</code> operator, first describes Java's comparisons and says that:</p>\n\n<blockquote>\n  <p>in Java, there's the well-known practice of always calling <code>equals</code>, and there's the well-known problem of forgetting to do so.</p>\n</blockquote>\n\n<p>In Java, checking object identity is easy:</p>\n\n<pre><code>if (firstObj == secondObj)\n</code></pre>\n\n<p>But checking object equality is longer and rather less clear:</p>\n\n<pre><code>if (firstObj.equals(secondObj))\n</code></pre>\n\n<p>\u2014 or rather, if you don't want to risk a NullPointerException:</p>\n\n<pre><code>if ((firstObj == null) ? (secondObj == null) : firstObj.equals(secondObj))\n</code></pre>\n\n<p>You can see how much more of a pain that is to type, and to get right.\u00a0 (Especially when one of those objects is an expression with side-effects\u2026)</p>\n\n<p>So it's easy to forget the difference, or not be bothered, and use <code>==</code> instead.\u00a0 (Which is likely to cause bugs that are subtle, hard to spot, and bite intermittently.)</p>\n\n<p>Kotlin, however, makes the most common operation the easier one: its <code>==</code> operator checks object equality using <code>equals()</code>, and takes care of null-checking too.\u00a0 This fixes Java's \u2018problem of forgetting to do so\u2019.</p>\n\n<p>(And although interoperability with Java code was clearly a major goal, JetBrains didn't restrict themselves to trying to <em>look</em> like Java; Kotlin borrows from Java where possible, but isn't afraid to change things for the better.\u00a0 You can see that in the use of <code>val</code> and <code>var</code> and trailing types for declarations, the different defaults for scoping and openness, the different ways variance is handled, &amp;c.)</p>\n\n<p>One of Kotlin's motivations was to fix many of the problems in Java.\u00a0 (In fact, JetBrains' <a href=\"https://kotlinlang.org/docs/reference/comparison-to-java.html\" rel=\"noreferrer\">comparison</a> of the languages starts by listing \u2018Some Java issues addressed in Kotlin\u2019.)\u00a0 So it seems likely that this is a major reason behind the change.</p>\n"}, {"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1553273015, "post_id": 55253830, "comment_id": 97336943, "body": "\u2018Programming In Scala\u2019 is one of the best technical books I&#39;ve ever read \u2014 this is just one of the many things it explains really well.  And yes, it does seem very likely that JetBrains either borrowed <code>==</code> directly from Scala, or at least used it for the same reasons."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1553058005, "last_edit_date": 1592644375, "creation_date": 1553058005, "answer_id": 55253830, "question_id": 55250277, "link": "https://stackoverflow.com/questions/55250277/why-does-kotlin-use-for-structural-equality-and-introduce-for-referential/55253830#55253830", "title": "Why does Kotlin use == for structural equality and introduce === for referential equality", "body": "<p>In addition to gidds' excellent answer, there are other languages than Java which strongly influenced Kotlin. In particular, Scala and C#. A quote from <a href=\"https://www.infoworld.com/article/2622405/jetbrains-readies-jvm-based-language.html\" rel=\"nofollow noreferrer\">Dmitry Jemerov</a> (the link is to InfoWorld, which I don't much like, but that's the best source I've found):</p>\n<blockquote>\n<p>We've looked at all of the existing JVM languages, and none of them meet our needs. Scala has the right features, but its most obvious deficiency is very slow compilation.</p>\n</blockquote>\n<p>Clearly <code>==</code> was one of those features they felt Scala got right, because it works exactly the same (up to the name for reference equality, which is <code>eq</code> in Scala).</p>\n<p>And you can find <a href=\"https://www.artima.com/pins1ed/object-equality.html\" rel=\"nofollow noreferrer\">an explanation for Scala's design</a> in the Programming in Scala book, which has Martin Odersky as one of the authors:</p>\n<blockquote>\n<p>As mentioned in Section 11.2, the definition of equality is different in Scala and Java. Java has two equality comparisons: the == operator, which is the natural equality for value types and object identity for reference types, and the equals method, which is (user-defined) canonical equality for reference types. This convention is problematic, because the more natural symbol, ==, does not always correspond to the natural notion of equality. When programming in Java, a common pitfall for beginners is to compare objects with == when they should have been compared with equals. For instance, comparing two strings x and y using &quot;x == y&quot; might well yield false in Java, even if x and y have exactly the same characters in the same order.</p>\n<p>Scala also has an equality method signifying object identity, but it is not used much. That kind of equality, written &quot;x eq y&quot;, is true if x and y reference the same object. The == equality is reserved in Scala for the &quot;natural&quot; equality of each type. For value types, == is value comparison, just like in Java. For reference types, == is the same as equals in Scala. You can redefine the behavior of == for new types by overriding the equals method, which is always inherited from class Any...</p>\n</blockquote>\n<p>On the other hand, C# allowed overloading <code>==</code> separately from <code>Equals</code>, and they ended up with one of language designers <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/04/09/double-your-dispatch-double-your-fun/\" rel=\"nofollow noreferrer\">saying</a></p>\n<blockquote>\n<p>The long answer is that the whole thing is weird and neither works the way it ideally ought to.</p>\n</blockquote>\n"}], "owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 55250771, "answer_count": 2, "score": 3, "last_activity_date": 1553086858, "creation_date": 1553030962, "last_edit_date": 1553086858, "question_id": 55250277, "link": "https://stackoverflow.com/questions/55250277/why-does-kotlin-use-for-structural-equality-and-introduce-for-referential", "title": "Why does Kotlin use == for structural equality and introduce === for referential equality", "body": "<p>In general every design decision in Kotlin feels like it's both great in its own right and offers a nice transition from Java. As a Java developer you can start coding in it thinking of Kotlin as a more concise Java with less boilerplate, then smoothly move into more advanced aspects like functional programming.</p>\n\n<p>The one thing I'm wondering about however is why its designers decided to make <code>==</code> behave identically to <code>equals</code> and then introduce <code>===</code> for the referential equality check. I can imagine trying to bring other Java developers into the fold, having them see your Kotlin code and thinking \"oh no, there are reference checks all over the place where it should be an equals call!\"</p>\n\n<p>What's the thought process for moving away from the Java convention here? Just to make it clear, I understand perfectly well what the difference is between <code>==</code> or <code>equals</code> and <code>===</code> in Kotlin, I'm just wondering why.</p>\n"}, {"tags": ["lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 1, "last_activity_date": 1553029966, "creation_date": 1553029966, "answer_id": 55250068, "question_id": 55250021, "link": "https://stackoverflow.com/questions/55250021/calling-an-anonymous-lambda-function-as-a-result-to-the-get-method-of-a-proper/55250068#55250068", "title": "Calling an anonymous/lambda function as a result to the get() method of a property", "body": "<p>Yes, <code>get()</code> is a function with the implied return type, so you can just inline the rest of the code as needed. For example:</p>\n\n<pre><code>class Test {\n  val testProperty: Int\n    get() {\n      // some fun with numbers\n      return result\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 2375413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fdac17f96451e6fd08507c8bceafac6?s=128&d=identicon&r=PG", "display_name": "kulukimaki", "link": "https://stackoverflow.com/users/2375413/kulukimaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13, "favorite_count": 0, "accepted_answer_id": 55250068, "answer_count": 1, "score": 0, "last_activity_date": 1553029966, "creation_date": 1553029731, "question_id": 55250021, "link": "https://stackoverflow.com/questions/55250021/calling-an-anonymous-lambda-function-as-a-result-to-the-get-method-of-a-proper", "title": "Calling an anonymous/lambda function as a result to the get() method of a property", "body": "<p>Assuming we have a class \"Test\" that has a property \"testProperty\" that implements a get() method, we can easily assign the get() method the result of a helper method:</p>\n\n<pre><code>class Test {\n    val testProperty: Int\n        get() = testFun()\n\n    private fun testFun() : Int {\n        // Some fun with numbers\n        return result\n    }\n}\n</code></pre>\n\n<p>Since this is a method that is only created for the way of returning the result in the get() method, is there a way to make it anonymous somewhat as follows?</p>\n\n<pre><code>get() = {() -&gt; \n        // Some fun with numbers\n        result\n    }()\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1863, "user_id": 564606, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff8d7e16c3801f7459f88b2c64acc9b1?s=128&d=identicon&r=PG", "display_name": "ciferkey", "link": "https://stackoverflow.com/users/564606/ciferkey"}, "edited": false, "score": 0, "creation_date": 1553117068, "post_id": 55250343, "comment_id": 97272007, "body": "Yes this works for me. In my case I there are setters as well so I changed val to var and supplied set(value) as described in this <a href=\"https://stackoverflow.com/questions/41440750/kotlin-why-do-i-need-to-initialize-a-var-with-custom-getter/41441530\">post</a>.  Curious if there&#39;s a way to pass a method reference for the setter."}], "tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": false, "score": 4, "last_activity_date": 1553031341, "creation_date": 1553031341, "answer_id": 55250343, "question_id": 55249653, "link": "https://stackoverflow.com/questions/55249653/kotlin-infer-properties-on-java-classes-that-do-not-follow-normal-getter-setter/55250343#55250343", "title": "Kotlin Infer Properties on Java Classes that do not follow normal getter/setter conventions?", "body": "<p>You can make extension <em>properties,</em> just like extension methods.</p>\n\n<pre><code>val Foo.bar: Bar\n  get() = someOtherWayOfGettingBar()\n</code></pre>\n"}], "owner": {"reputation": 1863, "user_id": 564606, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff8d7e16c3801f7459f88b2c64acc9b1?s=128&d=identicon&r=PG", "display_name": "ciferkey", "link": "https://stackoverflow.com/users/564606/ciferkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553031341, "creation_date": 1553028134, "question_id": 55249653, "link": "https://stackoverflow.com/questions/55249653/kotlin-infer-properties-on-java-classes-that-do-not-follow-normal-getter-setter", "title": "Kotlin Infer Properties on Java Classes that do not follow normal getter/setter conventions?", "body": "<p>I'm looking to create a Kotlin wrapper around a Java library with some poor design decisions. One problem I'm facing is none of the POJOs in the library follow normal Java Bean conventions for getters and setter.</p>\n\n<p>Kotlin can infer properties on Java objects that follow normal getter/setter conventions:</p>\n\n<blockquote>\n  <p>Methods that follow the Java conventions for getters and setters (no-argument methods with names starting with get and single-argument methods with names starting with set) are represented as properties in Kotlin. Boolean accessor methods (where the name of the getter starts with is and the name of the setter starts with set) are represented as properties which have the same name as the getter method.</p>\n</blockquote>\n\n<p>(See <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>But in the case of this library all the POJOs have getters and setters that are just the name of the field rather than getField/setField so Kotlin can not infer the properties access syntax.</p>\n\n<p><strong>What would be the cleanest way to wrap these objects and use normal Kotlin conventions?</strong></p>\n\n<p>It seems like implementing proper getters and setters with extension methods does not enable property access syntax (I'm guessing this is because under the hood extension methods are turned into static utility classes and the extended class is not actually modified).</p>\n\n<p>What alternatives are available?</p>\n"}, {"tags": ["kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1553028667, "post_id": 55249331, "comment_id": 97232243, "body": "You have quoted out of context, the full line is: &quot;For structs (and typedefs to structs) this representation is the main one and has the same name as the struct itself, for Kotlin enums it is named ${type}Var, for CPointer&lt;T&gt; it is CPointerVar&lt;T&gt;, and for most other types it is ${type}Var.&quot; yes, it talks about regular kotkin enzyme. No, Byte is not an enum but most other types also follow the ${type}Var pattern."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1553029364, "post_id": 55249735, "comment_id": 97232521, "body": "&quot;The main distinguish is that lvalues can be set to some value, while rvalues can&#39;t be changed after the initialization.&quot; I wouldn&#39;t say so, because <code>x</code> in <code>const int x = 0</code> is still very much an lvalue."}], "tags": [], "owner": {"reputation": 957, "user_id": 9632774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zP3nO.png?s=128&g=1", "display_name": "CrafterKolyan", "link": "https://stackoverflow.com/users/9632774/crafterkolyan"}, "is_accepted": false, "score": 2, "last_activity_date": 1553028444, "last_edit_date": 1592644375, "creation_date": 1553028444, "answer_id": 55249735, "question_id": 55249331, "link": "https://stackoverflow.com/questions/55249331/what-is-typevar-in-kotlin-native/55249735#55249735", "title": "What is ${type}Var in Kotlin/Native?", "body": "<p>You should read the whole paragraph again carefully.</p>\n<blockquote>\n<p>All the supported C types have corresponding representations in Kotlin:</p>\n<ul>\n<li>Enums can be mapped to Kotlin enum</li>\n</ul>\n</blockquote>\n<p>Also in C there are lvalues and rvalues (In C++ the equivivalent is <code>Type &amp;</code> for lvalues and <code>Type</code> for rvalues). The main distinguish is that lvalues can be set to some value, while rvalues can't be changed after the initialization. So for each type in C you need it's own Kotlin type for lvalue and for rvalue.</p>\n<p>In the topic</p>\n<blockquote>\n<p>All the supported C types have corresponding representations in Kotlin:</p>\n</blockquote>\n<p>only rvalues are considered.\nBut for lvalues the only thing you need to add is <code>Var</code> to end of type. The only exception is</p>\n<blockquote>\n<p>For structs (and typedefs to structs) this representation is the main one and has the same name as the struct itself</p>\n</blockquote>\n<p>Now let's return to enums. The regular Kotlin enums are mapped to the regular C enums. So actually <code>FIRST</code> and <code>SECOND</code> have type <code>MyEnum</code> in both languages. But what if you want to create a variable containing <code>MyEnum</code> for example:</p>\n<pre><code>// This is C Code\nMyEnum a = FIRST;\n</code></pre>\n<p><code>a</code> has type <code>MyEnum</code> in C, but it's lvalue (in C++ that's <code>MyEnum &amp;</code>), so in Kotlin <code>a</code> will have type <code>MyEnumVar</code> because that's exactly what is said in documentation: <code>${type}Var</code>, where <code>${type} = MyEnum</code>.</p>\n<p>To the next questions:</p>\n<blockquote>\n<p>The type argument T of CPointer must be one of the &quot;lvalue&quot; types</p>\n</blockquote>\n<p>So for <code>struct S*</code> it should be <code>CPointer&lt;SVar&gt;</code>, but remember that <code>struct</code>s are exceptions and we shouldn't add <code>Var</code>, so that's just <code>CPointer&lt;S&gt;</code>.</p>\n<ul>\n<li><code>int8_t*</code> is <code>CPointer&lt;int_8tVar&gt;</code> - no exception here.</li>\n<li><code>char*</code> is <code>CPointer&lt;ByteVar&gt;</code> - again no exception (only lvalue types, except for structs).</li>\n<li><code>char**</code> is <code>CPointer&lt;CPointerVar&lt;ByteVar&gt;&gt;</code> as we need lvalue for <code>CPointer&lt;ByteVar&gt;</code> and that's exactly <code>CPointerVar&lt;ByteVar&gt;</code>.</li>\n</ul>\n<p>Finally:\n<code>IntVar</code>, <code>LongVar</code>, <code>CPointerVar&lt;T&gt;</code> and other things are lvalues of types <code>int</code>, <code>long</code>, <code>CPointer</code>. That may be needed if you want to change the object in the function. Something like <code>Ref&lt;${type}&gt;</code> in Java.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1553031178, "last_edit_date": 1553031178, "creation_date": 1553028870, "answer_id": 55249818, "question_id": 55249331, "link": "https://stackoverflow.com/questions/55249331/what-is-typevar-in-kotlin-native/55249818#55249818", "title": "What is ${type}Var in Kotlin/Native?", "body": "<blockquote>\n  <p>what is <code>IntVar</code>, <code>LongVar</code>, <code>CPointerVar&lt;T&gt;</code> and other things like <code>${type}Var</code>?</p>\n</blockquote>\n\n<p>That's in the beginning of the sentence the end of which you quoted:</p>\n\n<blockquote>\n  <blockquote>\n    <p>the Kotlin type representing the lvalue of this type, i.e., the value located in memory rather than a simple immutable self-contained value</p>\n  </blockquote>\n</blockquote>\n\n<p>\"located in memory\" means that you can take their address (using <code>&amp;</code> operator in C, or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlinx.cinterop/ptr.html\" rel=\"nofollow noreferrer\"><code>.ptr</code></a> in Kotlin).</p>\n\n<blockquote>\n  <p>wat?! What is Kotlin enums? Regular Kotlin enums?</p>\n</blockquote>\n\n<p>Yes, so when Kotlin/Native sees <code>MyEnum</code>, it also generates <code>MyEnumVar</code>.</p>\n\n<blockquote>\n  <p>Why is <code>char**</code> mapped to <code>CPointer&lt;CPointerVar&lt;ByteVar&gt;&gt;</code> but not to <code>CPointer&lt;CPointer&lt;Byte&gt;&gt;</code>?</p>\n</blockquote>\n\n<p><code>CPointer&lt;CPointer&lt;Byte&gt;&gt;</code> is illegal: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlinx.cinterop/-c-pointer/index.html#cpointer\" rel=\"nofollow noreferrer\"><code>CPointer</code>'s type parameter must extend <code>CPointed</code></a>, and <code>Byte</code> and <code>CPointer&lt;T&gt;</code> don't. And the reason they need to extend <code>CPointed</code> is because dereferencing a pointer gives an lvalue: something that has an address!</p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/cpp/c-language/l-value-and-r-value-expressions\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/cpp/c-language/l-value-and-r-value-expressions</a> or <a href=\"https://eli.thegreenplace.net/2011/12/15/understanding-lvalues-and-rvalues-in-c-and-c/\" rel=\"nofollow noreferrer\">https://eli.thegreenplace.net/2011/12/15/understanding-lvalues-and-rvalues-in-c-and-c/</a> for more about lvalues in C (and C++).</p>\n"}], "owner": {"reputation": 370, "user_id": 4359679, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-72o0vzuMxa4/AAAAAAAAAAI/AAAAAAAAAKA/vOOUcgY5TuI/photo.jpg?sz=128", "display_name": "Nikita Bobko", "link": "https://stackoverflow.com/users/4359679/nikita-bobko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1553031178, "creation_date": 1553026678, "question_id": 55249331, "link": "https://stackoverflow.com/questions/55249331/what-is-typevar-in-kotlin-native", "title": "What is ${type}Var in Kotlin/Native?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/native/c_interop.html#using-bindings\" rel=\"nofollow noreferrer\">This documentation</a> is very unclear for me when it tries to say what is <code>${type}Var</code>. </p>\n\n<blockquote>\n  <p>...for Kotlin enums it is named  <code>${type}Var</code></p>\n</blockquote>\n\n<p>wat?! What is Kotlin enums? Regular Kotlin enums?</p>\n\n<pre><code>enum class MyEnum {\n    FIRST, SECOND\n}\n</code></pre>\n\n<p>I don't think it implied.</p>\n\n<p>Okay, Let's look at the examples in this documentation:</p>\n\n<blockquote>\n  <p><code>struct S*</code>  is mapped to  <code>CPointer&lt;S&gt;</code> ,  <code>int8_t*</code>  is mapped to  <code>CPointer&lt;int_8tVar&gt;</code></p>\n</blockquote>\n\n<p>Okay, it's clear</p>\n\n<blockquote>\n  <p><code>char**</code>  is mapped to  <code>CPointer&lt;CPointerVar&lt;ByteVar&gt;&gt;</code></p>\n</blockquote>\n\n<p>Why is <code>char**</code> mapped to <code>CPointer&lt;CPointerVar&lt;ByteVar&gt;&gt;</code> but not to <code>CPointer&lt;CPointer&lt;Byte&gt;&gt;</code>?</p>\n\n<p>So finally the question is: what is <code>IntVar</code>, <code>LongVar</code>, <code>CPointerVar&lt;T&gt;</code> and other things like <code>${type}Var</code>?</p>\n"}, {"tags": ["android", "kotlin", "database-migration", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 7469737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6YroYjWU38E/AAAAAAAAAAI/AAAAAAAAAxY/QMrw20O3nXY/photo.jpg?sz=128", "display_name": "Yosh Five", "link": "https://stackoverflow.com/users/7469737/yosh-five"}, "is_accepted": true, "score": 1, "last_activity_date": 1553103039, "creation_date": 1553103039, "answer_id": 55266902, "question_id": 55248804, "link": "https://stackoverflow.com/questions/55248804/android-room-wrong-column-name-column-is-not-nullable/55266902#55266902", "title": "Android Room, wrong column name &amp; column is not nullable", "body": "<p>Fixed: \n\"Expected\" means that Room expected the table to contains those columns,\n\"Found\" are the columns in the database file.</p>\n"}], "owner": {"reputation": 37, "user_id": 7469737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6YroYjWU38E/AAAAAAAAAAI/AAAAAAAAAxY/QMrw20O3nXY/photo.jpg?sz=128", "display_name": "Yosh Five", "link": "https://stackoverflow.com/users/7469737/yosh-five"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 55266902, "answer_count": 1, "score": 2, "last_activity_date": 1553103039, "creation_date": 1553024146, "question_id": 55248804, "link": "https://stackoverflow.com/questions/55248804/android-room-wrong-column-name-column-is-not-nullable", "title": "Android Room, wrong column name &amp; column is not nullable", "body": "<p>I\u00b4m using Room instead of classic sqlite statements now, and I\u00b4m having the following problems. \nWhen I open my \"tags\" Table, I\u00b4m getting the following error.</p>\n\n<pre><code>java.lang.IllegalStateException: Migration didn't properly handle tags(de.yochyo.ybooru.database.entities.Tag).\n     Expected:\n    TableInfo{name='tags', columns={name=Column{name='name', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=1}, type=Column{name='type', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, creation=Column{name='creation', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0}, isFavorite=Column{name='isFavorite', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}}, foreignKeys=[], indices=[]}\n     Found:\n    TableInfo{name='tags', columns={name=Column{name='name', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=1}, type=Column{name='type', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, Date=Column{name='Date', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}, isFavorite=Column{name='isFavorite', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}}, foreignKeys=[], indices=[]}\n        at de.yochyo.ybooru.database.Database_Impl$1.validateMigration(Database_Impl.java:81)\n        at android.arch.persistence.room.RoomOpenHelper.onUpgrade(RoomOpenHelper.java:87)\n        at android.arch.persistence.db.framework.FrameworkSQLiteOpenHelper$OpenHelper.onUpgrade(FrameworkSQLiteOpenHelper.java:133)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:398)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:298)\n        at android.arch.persistence.db.framework.FrameworkSQLiteOpenHelper$OpenHelper.getWritableSupportDatabase(FrameworkSQLiteOpenHelper.java:96)\n        at android.arch.persistence.db.framework.FrameworkSQLiteOpenHelper.getWritableDatabase(FrameworkSQLiteOpenHelper.java:54)\n        at android.arch.persistence.room.RoomDatabase.query(RoomDatabase.java:233)\n        at de.yochyo.ybooru.database.entities.TagDao_Impl.getAllTags(TagDao_Impl.java:142)\n        at de.yochyo.ybooru.database.Database$tags$1$job$1.invokeSuspend(Database.kt:41)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:233)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:742)\n</code></pre>\n\n<p>The difference between what is expected and what was found is this</p>\n\n<pre><code>Expected:\ncreation=Column{name='creation', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0}\nFound:\nDate=Column{name='Date', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}\n</code></pre>\n\n<p>This is what my Tag class looks like.</p>\n\n<pre><code>@Entity(tableName = \"tags\")\nclass Tag(@PrimaryKey val name: String, val type: Int, var isFavorite: Boolean = false,@ColumnInfo(name = \"creation\") val creation: Date? = null)\n</code></pre>\n\n<p>There are two problems. The column-name (which should be \"creation\") is Date and my date column cannot contain <code>null</code>.</p>\n\n<p>Does anyone know why this is happening?</p>\n"}, {"tags": ["android", "xml", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 2655, "user_id": 2294985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2d36P.jpg?s=128&g=1", "display_name": "Omar HossamEldin", "link": "https://stackoverflow.com/users/2294985/omar-hossameldin"}, "edited": false, "score": 0, "creation_date": 1553023009, "post_id": 55248388, "comment_id": 97229674, "body": "What do you want to do? Do you have 2 <code>TextView</code>s one in the <code>Activity</code> and one in the <code>Fragment</code>, or do you want to update the text in <code>Activity</code> from the <code>Fragment</code>"}, {"owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "edited": false, "score": 0, "creation_date": 1553098562, "post_id": 55248388, "comment_id": 97262313, "body": "I want to make my text linkable in HomeFragment.kt. My Text = &quot;Fiction&quot;  Text Id=&quot;fiction&quot;. This text will be linked to another Fragment called Fiction,kt"}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "edited": false, "score": 0, "creation_date": 1553098453, "post_id": 55258988, "comment_id": 97262256, "body": "Thanx but, var click = Intent(HomeFragment(), Fiction :: class.java) has an error in Intent telling &quot;None of the fuctions can be called as the argument supplied&quot;"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "edited": false, "score": 0, "creation_date": 1553123251, "post_id": 55258988, "comment_id": 97274048, "body": "Just use <code>var click = Intent(requireActivity(), Fiction :: class.java)</code>."}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 0, "last_activity_date": 1553079034, "creation_date": 1553079034, "answer_id": 55258988, "question_id": 55248388, "link": "https://stackoverflow.com/questions/55248388/linking-text-on-fragments/55258988#55258988", "title": "Linking Text on Fragments", "body": "<p>Suppose that in <code>fragment_home.xml</code> you have a TextView with id <code>textLink</code>. Here is code how to \"link\" text on the <code>HomeFragment</code>.</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\n    var text: TextView? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_home, container, false)\n        text = view.findViewById(R.id.textLink)\n        text?.setOnClickListener {\n            var click = Intent(requireActivity(), LinkText::class.java)\n            startActivity(click)\n        }\n        return view\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 10848423, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aD2dapUSl1c/AAAAAAAAAAI/AAAAAAAAAA0/GDk1bXvyl_8/photo.jpg?sz=128", "display_name": "Lenin Bakhara", "link": "https://stackoverflow.com/users/10848423/lenin-bakhara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55258988, "answer_count": 1, "score": 0, "last_activity_date": 1553079034, "creation_date": 1553022476, "last_edit_date": 1553022545, "question_id": 55248388, "link": "https://stackoverflow.com/questions/55248388/linking-text-on-fragments", "title": "Linking Text on Fragments", "body": "<p>Its easy to link texts on MainActivity.kt file but I can't figure  out how to link the same on a Fragment.kt file cause the functions are different. \nThis is the code for MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    var text: TextView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        text = findViewById(R.id.textLink)\n        text?.setOnClickListener({\n            var click = Intent (this@MainActivity, LinkText:: class.java)\n            startActivity(click)\n        })\n\n    }\n}\n</code></pre>\n\n<p>I want to link the text in HomeFragment.kt which looks like this</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        return inflater.inflate(R.layout.fragment_home, null)\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>I need the code for the same.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 3, "creation_date": 1553021671, "post_id": 55248169, "comment_id": 97228983, "body": "<code>context: this</code> isn&#39;t valid syntax. If the class is in Kotlin, you can do <code>context = this</code>. If it&#39;s written in Java, you can&#39;t use explicit names"}, {"owner": {"reputation": 564, "user_id": 4948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJddy.jpg?s=128&g=1", "display_name": "Ryan Godlonton-Shaw", "link": "https://stackoverflow.com/users/4948827/ryan-godlonton-shaw"}, "edited": false, "score": 2, "creation_date": 1553021955, "post_id": 55248169, "comment_id": 97229145, "body": "remove context and just use this."}, {"owner": {"reputation": 31, "user_id": 11228204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6f2d7beb6438ea6b30d9abd2d021215?s=128&d=identicon&r=PG&f=1", "display_name": "Rybecki", "link": "https://stackoverflow.com/users/11228204/rybecki"}, "edited": false, "score": 0, "creation_date": 1553022080, "post_id": 55248169, "comment_id": 97229214, "body": "Thank you for the answer. You&#39;re right, I&#39;ve tried to make it like this. but I thought it will not give me the same result. So in Kotlin I should avoid colon in properties and use equal sign instead?"}, {"owner": {"reputation": 1414, "user_id": 5136131, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7bJadRwdb-Y/AAAAAAAAAAI/AAAAAAAAAEA/ZvsBMQdJlgA/photo.jpg?sz=128", "display_name": "Positive Navid", "link": "https://stackoverflow.com/users/5136131/positive-navid"}, "edited": false, "score": 2, "creation_date": 1577408022, "post_id": 55248169, "comment_id": 105163663, "body": "@Rybecki You CAN use the equal sign but you don&#39;t HAVE TO :) I&#39;m following the same tutorial (PluralSight, Android Apps with Kotlin, Section 4, last demo) and know where you are coming from. This is one of the interesting cases in which the IDE (Android Studio) is smarter than us :) When you type &quot;this,&quot; (without &quot;context: &quot;), Android Studio looks at the definition of ArrayAdapter and figures out that the first argument is context and might inform you about it (depending on your settings). Consequently, you can either remove &quot;context: &quot; (as Ryan said) or write &quot;context = this&quot; (as Zoe said)."}], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1553026049, "creation_date": 1553026049, "answer_id": 55249206, "question_id": 55248169, "link": "https://stackoverflow.com/questions/55248169/android-studio-kotlin-unresolved-referencecontext/55249206#55249206", "title": "Android Studio &amp; Kotlin: unresolved reference:context", "body": "<p>The column in Kotlin is used for some things, but not when passing named arguments. The syntax for passing a named parameter is <code>parameterName = parameterValue</code>.</p>\n\n<p>When you write <code>context = this</code>, while passing a parameter, you are simply referring to the parameter <code>context</code> of the function you are calling, explicitly saying that <code>this</code> has to correspond to that <code>context</code> parameter. This is not very useful in this case unless you want to be very explicit.</p>\n\n<p>The usefulness of using named arguments arise when you are dealing with optional parameters or when you are passing the parameters out of order.<br>\nE.g.</p>\n\n<pre><code>// DECLARATION of function abc\nfun abc(s: String = \"\", i: Int = 0)\n\n// USAGE of function abc passing only an Int\nabc(i = 314)\n</code></pre>\n\n<p>The function <code>abc</code> has two parameters and they have a default value. In this case, you can avoid passing any parameter if you are fine with the defaults.\n<strong>But</strong> if you only want to pass <code>i</code>, you can do it by specifying its name, as done in the example.</p>\n\n<p>Similarly, you can choose to pass parameters out of order, in that case, you'll do:</p>\n\n<pre><code>abc(i = 314, s = \"something\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12839291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18713b3749d6cac989326cd51c11c69f?s=128&d=identicon&r=PG&f=1", "display_name": "V Chapman", "link": "https://stackoverflow.com/users/12839291/v-chapman"}, "is_accepted": false, "score": 2, "last_activity_date": 1581358604, "last_edit_date": 1581358604, "creation_date": 1581352457, "answer_id": 60154599, "question_id": 55248169, "link": "https://stackoverflow.com/questions/55248169/android-studio-kotlin-unresolved-referencecontext/60154599#60154599", "title": "Android Studio &amp; Kotlin: unresolved reference:context", "body": "<p>I had a similar error message because I didn't import the <code>Context</code>.\nIf you haven't explicitly imported <code>Context</code>, try adding this to your import list near the start of your <code>Activity</code> file:</p>\n\n<pre><code> import android.content.Context          \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11228204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6f2d7beb6438ea6b30d9abd2d021215?s=128&d=identicon&r=PG&f=1", "display_name": "Rybecki", "link": "https://stackoverflow.com/users/11228204/rybecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3719, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1581358604, "creation_date": 1553021593, "last_edit_date": 1553021830, "question_id": 55248169, "link": "https://stackoverflow.com/questions/55248169/android-studio-kotlin-unresolved-referencecontext", "title": "Android Studio &amp; Kotlin: unresolved reference:context", "body": "<p>I've tried hundreds of ways to resolve this reference problem:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        val dm = DataManager()\n        val adapterCourses = ArrayAdapter&lt;CourseInfo&gt;(context:  this,\n                    android.R.layout)\n</code></pre>\n\n<p>but in <code>ArrayAdapter&lt;CourseInfo&gt;(context: this, android.R.layout)</code> I get <strong>unresolved reference: context</strong> and I have no idea why.</p>\n\n<p>Android Studio version: 3.3.2\nKotlin version: 1.3.21</p>\n\n<p>Could anyone help me?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1553020278, "post_id": 55247740, "comment_id": 97228305, "body": "Could you please expand the usage example? How do you expect it to work if the handler is clicked multiple times?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1553078338, "post_id": 55247740, "comment_id": 97248850, "body": "You can replace the <code>OnClickListener</code> reference to the one you need afterwards, and only then resume the continuation"}, {"owner": {"reputation": 104, "user_id": 3571610, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002744670128/picture?type=large", "display_name": "felipe.rce", "link": "https://stackoverflow.com/users/3571610/felipe-rce"}, "edited": false, "score": 0, "creation_date": 1553114840, "post_id": 55247740, "comment_id": 97270965, "body": "but when I tri to call resume, the coroutine trow an error that I can call resume only a time"}], "answers": [{"comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1553031430, "post_id": 55250152, "comment_id": 97233275, "body": "<code>suspendedClickFunctions.forEach </code> may yeild ConcurrentModificationException if a new listener is added from a callback"}], "tags": [], "owner": {"reputation": 343, "user_id": 9401943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVPqk.png?s=128&g=1", "display_name": "birneee", "link": "https://stackoverflow.com/users/9401943/birneee"}, "is_accepted": false, "score": 0, "last_activity_date": 1553030368, "creation_date": 1553030368, "answer_id": 55250152, "question_id": 55247740, "link": "https://stackoverflow.com/questions/55247740/replace-callbacks-by-kotlin-coroutine-on-android/55250152#55250152", "title": "Replace callbacks by Kotlin Coroutine on Android", "body": "<p>the problem is that calling setOnClickListener overwrites the old listener.</p>\n\n<p>you can use something like this to collect the suspended functions:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    button.setOnClickListener(this::resumeSuspendedClickFunctions)\n}\n\nprivate val suspendedClickFunctions = LinkedList&lt;View.OnClickListener&gt;()\n\nprivate fun resumeSuspendedClickFunctions(view: View){\n    suspendedClickFunctions.forEach {\n        it.onClick(view)\n    }\n    suspendedClickFunctions.clear()\n}\n\nsuspend fun waitForButtonClick() = suspendCoroutine&lt;String&gt; { continuation -&gt;\n    val listener = View.OnClickListener {\n        continuation.resume(\"My Data\")\n    }\n    suspendedClickFunctions.add(listener)\n}\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 3571610, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002744670128/picture?type=large", "display_name": "felipe.rce", "link": "https://stackoverflow.com/users/3571610/felipe-rce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1222, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1553030368, "creation_date": 1553019986, "question_id": 55247740, "link": "https://stackoverflow.com/questions/55247740/replace-callbacks-by-kotlin-coroutine-on-android", "title": "Replace callbacks by Kotlin Coroutine on Android", "body": "<p>How can I replace my callbacks with coroutine? It's possible?\nI tried to replace my onclick event of adapter item using suspendCoroutine:</p>\n\n<pre><code>suspend fun waitForButtonClick() = suspendCoroutine&lt;String&gt; { continuation -&gt;\n    button.setOnClickListener {\n        continuation.resume(\"My Data\")\n    }\n}\n</code></pre>\n\n<p>And on activity:</p>\n\n<pre><code>GlobalScope.launch {\n  val callbackResult = adapter.waitForButtonClick()\n}\n</code></pre>\n\n<p>The problem is that I can call waitForButtonClick only one time, because resume can be executed only one time.\nHow to replace the onClickCallback with Kotlin coroutine? </p>\n"}, {"tags": ["kotlin", "android-phone-call"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11086307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d55a5befae93eac6f6f45dde6c8263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11086307/emmanuel"}, "edited": false, "score": 0, "creation_date": 1553114337, "post_id": 55248612, "comment_id": 97270701, "body": "This is what i get when I try to use CALL_PRIVILEGED: Permissions with the protection level signature, privileged or signatureOrSystem are only granted to system apps. If an app is a regular non-system app, it will never be able to use these permissions."}, {"owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "reply_to_user": {"reputation": 21, "user_id": 11086307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d55a5befae93eac6f6f45dde6c8263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11086307/emmanuel"}, "edited": false, "score": 0, "creation_date": 1553121276, "post_id": 55248612, "comment_id": 97273479, "body": "<a href=\"https://stackoverflow.com/questions/13801984/permission-is-only-granted-to-system-app\" title=\"permission is only granted to system app\">stackoverflow.com/questions/13801984/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 11086307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d55a5befae93eac6f6f45dde6c8263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11086307/emmanuel"}, "edited": false, "score": 0, "creation_date": 1553187816, "post_id": 55248612, "comment_id": 97301201, "body": "Do you know if I have to add the CALL_PRIVILEGED as a &quot;uses-permission&quot; label? Because I have done that and my call button  does not do anything. Also, I checked the &quot;Permission is only granted to system app&quot; and I did that, but It is not working."}], "tags": [], "owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "is_accepted": false, "score": 1, "last_activity_date": 1553023461, "creation_date": 1553023461, "answer_id": 55248612, "question_id": 55247680, "link": "https://stackoverflow.com/questions/55247680/making-a-phone-call-with-kotlin-android-studio/55248612#55248612", "title": "Making a phone call with Kotlin Android Studio", "body": "<p>You need <code>CALL_PRIVILEGED</code> permission to call emergency numbers.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/Manifest.permission.html#CALL_PRIVILEGED\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/Manifest.permission.html#CALL_PRIVILEGED</a></p>\n\n<blockquote>\n  <p>Allows an application to call any phone number, including emergency\n  numbers, without going through the Dialer user interface for the user\n  to confirm the call being placed.</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 11086307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d55a5befae93eac6f6f45dde6c8263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11086307/emmanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2096, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553023461, "creation_date": 1553019763, "question_id": 55247680, "link": "https://stackoverflow.com/questions/55247680/making-a-phone-call-with-kotlin-android-studio", "title": "Making a phone call with Kotlin Android Studio", "body": "<p>I am trying to make a phone call in Android Studio with Kotlin; the objetive is to call the emergency telephone number \"911\" in Mexico. When I press the call button the app only show me the telephone number (\"911\" in the native app of the cellphone) instead of calling automatically. At the beginning I thought It was because of the \"Intent\", then I changed the number using \"+\" or \"(52)44..\" and It worked! I don\u00b4t know what could be the problem.</p>\n\n<p>Permissions: \n<code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\"/&gt;</code></p>\n\n<p>Code:</p>\n\n<pre><code>imageLlamada.setOnClickListener({\n\n                makePhoneCall(\"911\")\n\n\n            })\n\n    fun makePhoneCall(number: String) : Boolean {\n    try {\n        val intent = Intent(Intent.ACTION_CALL)\n        intent.setData(Uri.parse(\"tel:$number\"))\n        startActivity(intent)\n        return true\n    } catch (e: Exception) {\n        e.printStackTrace()\n        return false\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "edited": false, "score": 0, "creation_date": 1553016092, "post_id": 55246476, "comment_id": 97226177, "body": "Thanks for great explanation!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1553015194, "creation_date": 1553015194, "answer_id": 55246476, "question_id": 55246422, "link": "https://stackoverflow.com/questions/55246422/init-block-in-kotlin-with-2-constructors/55246476#55246476", "title": "init block in Kotlin with 2+ constructors", "body": "<p>You can't do this, since the <code>init</code> blocks are essentially the body of the primary constructor (and so are any inline property initializers). This means that it will run when you call into the primary from the secondary with <code>this(context)</code>, and only then can you run the code in your secondary constructor.</p>\n\n<p>Having ran the primary constructor first ensures that your instance is already in a valid, constructed state for when the primary constructor's body runs - for example, non-nullable properties have a non-null value, etc.</p>\n"}], "owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55246476, "answer_count": 1, "score": 1, "last_activity_date": 1553015194, "creation_date": 1553014999, "question_id": 55246422, "link": "https://stackoverflow.com/questions/55246422/init-block-in-kotlin-with-2-constructors", "title": "init block in Kotlin with 2+ constructors", "body": "<p>Found that <code>init {}</code> block is executed before secondary constructor.</p>\n\n<p>So basically i have two constructors (<code>primary</code> and <code>secondary</code>). Primary is used just for initializing simple view. Secondary - trying to populate editViews with data. After <code>secondary</code> constructor im expecting that <code>init</code> block will be executed. </p>\n\n<p>Is there a way to make it happen? </p>\n\n<pre><code>class EditView(val context: Context){\n    constructor(context: Context, title: String): this(context) {\n        // Executes after init block\n    }\n\n    init {\n        // Ran before secondary constructor\n        // Code for initializing my view\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "micrometer", "spring-micrometer"], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 2, "last_activity_date": 1553018338, "last_edit_date": 1553018338, "creation_date": 1553012618, "answer_id": 55245685, "question_id": 55245237, "link": "https://stackoverflow.com/questions/55245237/why-does-cloudwatchconfig-interface-expect-a-string-of-step-duration/55245685#55245685", "title": "Why does CloudWatchConfig interface expect a String of step duration", "body": "<p>To create the equivalent of an anonymous class in Java, the syntax is a bit different. You need to use the <code>object</code> keyword, and also include the <code>override</code> keywords for the interface methods. e.g. </p>\n\n<pre><code>val cloudWatchConfig = object : CloudWatchConfig {\n    override fun get(key: String) = \"my-service-metrics\"\n    override fun enabled() = true\n    override fun step() = Duration.ofSeconds(30)\n    override fun batchSize() = CloudWatchConfig.MAX_BATCH_SIZE\n}\n</code></pre>\n"}], "owner": {"reputation": 1242, "user_id": 211560, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1a36612786c959d96dbc0163bb286991?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/211560/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 55245685, "answer_count": 1, "score": 0, "last_activity_date": 1553018338, "creation_date": 1553011209, "question_id": 55245237, "link": "https://stackoverflow.com/questions/55245237/why-does-cloudwatchconfig-interface-expect-a-string-of-step-duration", "title": "Why does CloudWatchConfig interface expect a String of step duration", "body": "<p>I am using Micrometer Cloudwatch 1.1.3, brought in with Gradle as <code>compile 'io.micrometer:micrometer-registry-cloudwatch:1.1.3'</code></p>\n\n<p>In Java, I can create a <code>CloudWatchConfig</code> by doing the following:</p>\n\n<pre><code>    CloudWatchConfig cloudWatchConfig = new CloudWatchConfig() {\n        @Override\n        public String get(String s) {\n            return \"my-service-metrics\";\n        }\n\n        @Override\n        public boolean enabled() {\n            return true;\n        }\n\n        @Override\n        public Duration step() {\n            return Duration.ofSeconds(30);\n        }\n\n        @Override\n        public int batchSize() {\n            return CloudWatchConfig.MAX_BATCH_SIZE;\n        }\n    };\n</code></pre>\n\n<p>The equivalent in Kotlin, I think should be:</p>\n\n<pre><code>   val cloudWatchConfig = CloudWatchConfig {\n        fun get(s:String) = \"my-service-metrics\"\n        fun enabled() = true\n        fun step() = Duration.ofSeconds(30)\n        fun batchSize() = CloudWatchConfig.MAX_BATCH_SIZE\n   }\n</code></pre>\n\n<p>The Koltin compiler fails this, pointing out the last line in the block: <code>fun batchSize() = CloudWatchConfig.MAX_BATCH_SIZE</code> saying that it expected a value of type String?</p>\n\n<p>After much debugging, I was able to fix this by returning the toString of the step function.  You can't just pass any String through as it will be parsed as if it is generated by Duration.  My Kotlin code now works and looks like the following:</p>\n\n<pre><code>    val cloudWatchConfig = CloudWatchConfig {\n        fun get(s:String) = \"my-service-metrics\"\n        fun enabled() = true\n        fun step() = Duration.ofSeconds(30)\n        fun batchSize() = CloudWatchConfig.MAX_BATCH_SIZE\n        step().toString()\n    }\n</code></pre>\n\n<p>After looking through the CloudWatchConfig, StepRegisteryConfig and MeterRegistryConfig interfaces I can't work out why this is the case.  Why does Koltin do this, and why is it expecting the toString of a Duration?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553011899, "post_id": 55245098, "comment_id": 97223880, "body": "can you send to me code with my codes? because i am amateur and really need your help. please"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553012977, "post_id": 55245098, "comment_id": 97224485, "body": "thanks, i really need your help. please help me tomorrow and don&#39;t forget this. please"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553065304, "post_id": 55245098, "comment_id": 97242122, "body": "are you here my friend? i wait you for help me"}], "tags": [], "owner": {"reputation": 241, "user_id": 10775846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AvDiuifRnCQ/AAAAAAAAAAI/AAAAAAAAAYs/CSiNpPEWDZA/photo.jpg?sz=128", "display_name": "Rajiv Reddy", "link": "https://stackoverflow.com/users/10775846/rajiv-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1553010809, "creation_date": 1553010809, "answer_id": 55245098, "question_id": 55244858, "link": "https://stackoverflow.com/questions/55244858/how-to-use-multiple-timer-into-recyclerview-on-android/55245098#55245098", "title": "How to use multiple timer into recyclerView on Android", "body": "<p>have you tried making use of \n1.<code>onSaveInstanceState(Bundle state)</code>\n2.Restore state in the <code>onRestoreInstanceState()</code>\n3. and <code>onResume()</code>. </p>\n\n<p>this way you can keep track on your RecyclerList data.</p>\n"}, {"comments": [{"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553011910, "post_id": 55245382, "comment_id": 97223888, "body": "can you send to me code with my codes? because i am amateur and really need your help. please"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553015796, "post_id": 55245382, "comment_id": 97226039, "body": "hey are you here my friend? can you help me?"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553027958, "post_id": 55245382, "comment_id": 97231915, "body": "what kind of help?"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553059195, "post_id": 55245382, "comment_id": 97240043, "body": "Can you send to me code with my above codes? please. because i am amateur and really need your help. please"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553062239, "post_id": 55245382, "comment_id": 97240970, "body": "I tried to explain with required code snippet based on your given codes. Check and let me know."}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553062415, "post_id": 55245382, "comment_id": 97241030, "body": "thanks dear, but you use this <code>newCountDownTimer</code> into <code>Today</code> model class? in Model class how can i use <code>holder.rowMain_timer.rowMain_timer.text = ...</code> ?!!!"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553062608, "post_id": 55245382, "comment_id": 97241098, "body": "Ahh!! I copied that block from your old code....corrected it. now check"}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553062725, "post_id": 55245382, "comment_id": 97241149, "body": "thanks fro your help! i check it but not changed :D , and when use this countDownTimer into model class, how can i change my UI views in some times?! for example when receive to 10sec i want change textView color!"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553063268, "post_id": 55245382, "comment_id": 97241321, "body": "now updated. then instead of keeping currentVal inside Today class, you keep hours, minutes, seconds inside today class. and prepare the currentVal inside Holder setData(..) function. there you can check for your condition and have access to your UI view there."}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553064114, "post_id": 55245382, "comment_id": 97241620, "body": "thanks my friend, but you used adapter.notifyItemChanged(..) into model class. can you send to me code for this? because i am amateur and need your help. thanks . I&#39;m sorry to take your time"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553064378, "post_id": 55245382, "comment_id": 97241729, "body": "pass the adapter object to the Today object as a constructor parameter like Today(..., adapter). You haven&#39;t posted those codes so I don&#39;t know how you are handling list preparation."}, {"owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553064647, "post_id": 55245382, "comment_id": 97241841, "body": "i used this code but not work me again :( do you have team viewer for connect to my system and see why not work? please"}, {"owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "reply_to_user": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "edited": false, "score": 0, "creation_date": 1553090648, "post_id": 55245382, "comment_id": 97256512, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190371/discussion-between-abu-faisal-and-jake-warton\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 388, "user_id": 5466171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fq2Dd.png?s=128&g=1", "display_name": "Abu Faisal", "link": "https://stackoverflow.com/users/5466171/abu-faisal"}, "is_accepted": false, "score": 1, "last_activity_date": 1553063319, "last_edit_date": 1553063319, "creation_date": 1553011624, "answer_id": 55245382, "question_id": 55244858, "link": "https://stackoverflow.com/questions/55244858/how-to-use-multiple-timer-into-recyclerview-on-android/55245382#55245382", "title": "How to use multiple timer into recyclerView on Android", "body": "<p>Because your code is written that way.</p>\n\n<p><code>onBindViewHolder(..)</code> is called whenever you scroll up/down and the view goes outside of visible area. Then that view is recycled and bound again to new list item (from model list). That's how it got the name <code>RecyclerView</code>.</p>\n\n<p>To solve your problem, you need to put your countdown timer initialization codes inside model list item initialization (e.g. <code>Today</code> constructor).</p>\n\n<p>Then the countdown timer will start and remain running within the Today object\nand inside <code>onBindViewHolder(..)</code> just grab the remaining time value from that <code>Today</code> object.</p>\n\n<p>Hope this helps!!</p>\n\n<blockquote>\n  <p><strong>Update</strong>\n  I am not experienced in kotlin. So you may need to modify it according\n  to kotlin. At some point you have <code>MutableList&lt;Today&gt;</code> preparation code\n  right?</p>\n  \n  <p>while creating a Today object, pass the adapter object as a constructor parameter.</p>\n  \n  <p>The following block should be inside your <code>Today</code> class.</p>\n\n<pre><code>var newCountDownTimer : CountDownTimer\nvar currentVal : String\n\ninit {\n    newCountDownTimer = object : CountDownTimer(timer, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n            var seconds = (millisUntilFinished / 1000).toInt()\n            val hours = seconds / (60 * 60)\n            val tempMint = seconds - hours * 60 * 60\n            val minutes = tempMint / 60\n            seconds = tempMint - minutes * 60\n            currentVal =\n                    String.format(\"%02d\", hours) + \":\" + String.format(\n                        \"%02d\",\n                        minutes\n                    ) + \":\" + String.format(\"%02d\", seconds)\n            // call adapter.notifyItemChanged(..) here\n        }\n\n        override fun onFinish() {\n            //here  you should call the adapter.notifyItemChanged(..) function with the position of this model in the model list\n        }\n    }.start()\n}\n</code></pre>\n  \n  <p>your <code>onBindViewHolder</code> should look like this:</p>\n\n<pre><code>override fun onBindViewHolder(holder: MyHolder, position: Int) {\n    val modelUse = model[position]\n    holder.setData(modelUse)\n}\n</code></pre>\n  \n  <p>inside <code>Holder.setData(..)</code> function add this code</p>\n\n<pre><code>rowMain_timer.text = model.currentVal\n</code></pre>\n  \n  <p>Let me know if it helps.</p>\n</blockquote>\n"}], "owner": {"reputation": 1093, "user_id": 10790407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a66ee3212c9428f500c952bca8c89ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Jake warton", "link": "https://stackoverflow.com/users/10790407/jake-warton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553066169, "creation_date": 1553010140, "last_edit_date": 1553066169, "question_id": 55244858, "link": "https://stackoverflow.com/questions/55244858/how-to-use-multiple-timer-into-recyclerview-on-android", "title": "How to use multiple timer into recyclerView on Android", "body": "<p>In my application i want use multiple <code>CountDownerTimer</code> for show offer times into <code>RecyclerView</code>.<br>\nFor write this application i used <strong>Kotlin</strong> language.<br>\nI write below codes, but when scrolling on <code>recyclerView</code>'s items start again this <strong>timer</strong>!<br></p>\n\n<p>My mean is, timer started from <strong>4:19</strong>sec, when scrolling on items and after <strong>10sec</strong> show me <strong>4:19</strong> again instead of <strong>4:09</strong>!</p>\n\n<p>Activity codes:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var apisList: ApisList\n    private lateinit var retrofit: Retrofit\n    private lateinit var todayAdapter: AuctionsTodayAdapter\n    private val todayModel: MutableList&lt;Today&gt; = mutableListOf()\n    private lateinit var layoutManager: RecyclerView.LayoutManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //Initialize\n        retrofit = ApiClient.instance\n        apisList = retrofit.create(ApisList::class.java)\n        todayAdapter = AuctionsTodayAdapter(themedContext, todayModel)\n        layoutManager = LinearLayoutManager(themedContext)\n        //RecyclerView\n        main_list.setHasFixedSize(true)\n        main_list.layoutManager = layoutManager\n        main_list.adapter = todayAdapter\n\n        if (isNetworkAvailable()) getData(1, 10)\n    }\n\n    private fun getData(page: Int, limit: Int) {\n        main_loader.visibility = View.VISIBLE\n        val call = apisList.getAuctionsToday(page, limit)\n        call.let {\n            it.enqueue(object : Callback&lt;AuctionsTodayResponse&gt; {\n                override fun onFailure(call: Call&lt;AuctionsTodayResponse&gt;, t: Throwable) {\n                    main_loader.visibility = View.GONE\n                    Log.e(\"auctionsTodayList\", t.message)\n                }\n\n                override fun onResponse(call: Call&lt;AuctionsTodayResponse&gt;, response: Response&lt;AuctionsTodayResponse&gt;) {\n                    if (response.isSuccessful) {\n                        response.body()?.let { itBody -&gt;\n                            main_loader.visibility = View.GONE\n                            if (itBody.toString().isNotEmpty()) {\n                                todayModel.clear()\n                                todayModel.addAll(itBody.res.today)\n                                todayAdapter.notifyDataSetChanged()\n                            }\n                        }\n                    }\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>Adapter codes:</p>\n\n<pre><code>class AuctionsTodayAdapter(val context: Context, val model: MutableList&lt;Today&gt;) :\n    RecyclerView.Adapter&lt;AuctionsTodayAdapter.MyHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.row_main_list, parent, false)\n        val holder = MyHolder(view)\n\n        //holder.setIsRecyclable(false)\n\n        return holder\n    }\n\n    override fun getItemCount(): Int {\n        return model.size\n    }\n\n    override fun onBindViewHolder(holder: MyHolder, position: Int) {\n        val modelUse = model[position]\n        holder.setData(modelUse)\n\n\n\n        if (holder.newCountDownTimer != null) {\n            holder.newCountDownTimer!!.cancel()\n        }\n        var timer = modelUse.calculateEnd\n\n        timer = timer * 1000\n\n        holder.newCountDownTimer = object : CountDownTimer(timer, 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n                var seconds = (millisUntilFinished / 1000).toInt()\n                val hours = seconds / (60 * 60)\n                val tempMint = seconds - hours * 60 * 60\n                val minutes = tempMint / 60\n                seconds = tempMint - minutes * 60\n                holder.rowMain_timer.rowMain_timer.text =\n                    String.format(\"%02d\", hours) + \":\" + String.format(\n                        \"%02d\",\n                        minutes\n                    ) + \":\" + String.format(\"%02d\", seconds)\n            }\n\n            override fun onFinish() {\n                holder.rowMain_timer.text = \"00:00:00\"\n            }\n        }.start()\n\n    }\n\n    inner class MyHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var newCountDownTimer: CountDownTimer? = null\n\n        lateinit var rowMain_timer: TextView\n\n        init {\n            rowMain_timer = itemView.findViewById(R.id.rowMain_timer)\n        }\n\n        fun setData(model: Today) {\n            model.image.let {\n                Glide.with(context)\n                    .load(Constants.MAIN_BASE_URL + it)\n                    .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.RESOURCE))\n                    .into(itemView.rowMain_img)\n            }\n            model.title.let { itemView.rowMain_title.text = it }\n        }\n}\n</code></pre>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["kotlin", "kotlin-extension", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1553009621, "creation_date": 1553009621, "answer_id": 55244674, "question_id": 55244285, "link": "https://stackoverflow.com/questions/55244285/kotlin-pass-function-as-a-parameter-vs-lambda-implementation/55244674#55244674", "title": "Kotlin pass function as a parameter vs lambda implementation", "body": "<p>The <code>subscribeBy</code> method has the advantage of named parameters, which would resolve all the issues.</p>\n\n<p>You can observe, that using the lambda notation sets the last unnamed parameter, while setting the parameter directly sets the first unnamed parameter.</p>\n\n<p>If you name one of the parameters, you'll not be able to use the lambda notation anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 0, "creation_date": 1563179106, "post_id": 55244679, "comment_id": 100600040, "body": "I&#39;ve used <code>subscribeBy</code> before, but I didn&#39;t get what is the benefit(s) of this extension function in comparison with the <code>subscribe</code> itself?!"}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 7, "last_activity_date": 1553009641, "creation_date": 1553009641, "answer_id": 55244679, "question_id": 55244285, "link": "https://stackoverflow.com/questions/55244285/kotlin-pass-function-as-a-parameter-vs-lambda-implementation/55244679#55244679", "title": "Kotlin pass function as a parameter vs lambda implementation", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"noreferrer\">Higher-Order Functions and Lambdas</a>:</p>\n\n<blockquote>\n  <p>In Kotlin, there is a convention that if the last parameter of a function accepts a function, a lambda expression that is passed as the corresponding argument can be placed outside the parentheses:</p>\n</blockquote>\n\n<p>So in your case, you have a function that takes three optional parameters. In the first implementation:</p>\n\n<pre><code>myObservable.subscribeBy { str -&gt; }\n</code></pre>\n\n<p>You're using this feature to omit parentheses for the <em>last</em> lambda paramter (which is <code>onNext</code>). However, when you use the second implementation:</p>\n\n<pre><code>myObservable.subscribeBy({ throwable -&gt; })\n</code></pre>\n\n<p>Since it's within the parentheses, it must be the first parameter, unless you were to explicitly name it as the last parameter, e.g.:</p>\n\n<pre><code>myObservable.subscribeBy(onNext = { str -&gt; })\n</code></pre>\n"}], "owner": {"reputation": 1603, "user_id": 4409815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kpgup.png?s=128&g=1", "display_name": "CookieMonster", "link": "https://stackoverflow.com/users/4409815/cookiemonster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "accepted_answer_id": 55244679, "answer_count": 2, "score": 0, "last_activity_date": 1553009641, "creation_date": 1553008398, "question_id": 55244285, "link": "https://stackoverflow.com/questions/55244285/kotlin-pass-function-as-a-parameter-vs-lambda-implementation", "title": "Kotlin pass function as a parameter vs lambda implementation", "body": "<p>I'm using the <code>io.reactivex.rxkotlin</code> extension function: </p>\n\n<pre><code>fun &lt;T : Any&gt; Observable&lt;T&gt;.subscribeBy(\n        onError: (Throwable) -&gt; Unit = onErrorStub,\n        onComplete: () -&gt; Unit = onCompleteStub,\n        onNext: (T) -&gt; Unit = onNextStub\n        ): Disposable\n</code></pre>\n\n<p>And when I use this extension there is a difference if I choose to send a parameter or if I use lambda.\nFor example</p>\n\n<p><strong>first implementation:</strong></p>\n\n<pre><code>myObservable.subscribeBy { str -&gt;\n    // onNext\n}\n</code></pre>\n\n<p><strong>Second implementation:</strong></p>\n\n<pre><code>myObservable.subscribeBy({ throwable -&gt;\n    // onError\n})\n</code></pre>\n\n<ul>\n<li>in the <strong>first implementation</strong> the function is the <code>onNext</code></li>\n<li>and in the <strong>second implementation</strong> the function is the <code>onError</code></li>\n</ul>\n\n<p>And I'm not sure why.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1553006747, "post_id": 55243578, "comment_id": 97220375, "body": "I think you won\u2019t have a problem having it coded in Kotlin"}, {"owner": {"reputation": 4229, "user_id": 9363973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cbbp7.png?s=128&g=1", "display_name": "MindSwipe", "link": "https://stackoverflow.com/users/9363973/mindswipe"}, "edited": false, "score": 0, "creation_date": 1553006762, "post_id": 55243578, "comment_id": 97220382, "body": "Using IntelliJ or Android Studio IDE <a href=\"https://stackoverflow.com/q/34957430/9363973\">this</a> question and it&#39;s answer may help you. Otherwise there is an <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Introduction/Java%20to%20Kotlin%20conversion/Task.kt\" rel=\"nofollow noreferrer\">online tool</a> from kotlinlang itself to help you do this"}], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 6382484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-WeuQ98-xtxk/AAAAAAAAAAI/AAAAAAAAABc/cugEXnf1jwY/photo.jpg?sz=128", "display_name": "Steven Waterman", "link": "https://stackoverflow.com/users/6382484/steven-waterman"}, "is_accepted": true, "score": 0, "last_activity_date": 1553015955, "creation_date": 1553015955, "answer_id": 55246670, "question_id": 55243578, "link": "https://stackoverflow.com/questions/55243578/code-addon-with-kotlin-and-convert-the-code-to-java/55246670#55246670", "title": "Code addon with kotlin and convert the code to java", "body": "<p>Once compiled, kotlin bytecode is identical to java bytecode. Any application that uses compiled programs/addons for the JVM will work with java, kotlin, and any other JVM language.</p>\n"}], "owner": {"reputation": 3, "user_id": 11191275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S5oMS30-gQQ/AAAAAAAAAAI/AAAAAAAAClY/YyjSm7crIVo/photo.jpg?sz=128", "display_name": "Aimane Abiri", "link": "https://stackoverflow.com/users/11191275/aimane-abiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55246670, "answer_count": 1, "score": -4, "last_activity_date": 1553015955, "creation_date": 1553006381, "question_id": 55243578, "link": "https://stackoverflow.com/questions/55243578/code-addon-with-kotlin-and-convert-the-code-to-java", "title": "Code addon with kotlin and convert the code to java", "body": "<p>Please i have a question \nKokotime(media center like kodi) addons are coded in Java\n i want to ask if i can code the addon with kotlin and convert the code to java ?\nps : i'm still learning kotlin (beginner)</p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1553009622, "post_id": 55242807, "comment_id": 97222337, "body": "Use <code>map</code> to chain Observables"}], "answers": [{"tags": [], "owner": {"reputation": 973, "user_id": 4597766, "user_type": "registered", "profile_image": "https://graph.facebook.com/838776412850949/picture?type=large", "display_name": "borichellow", "link": "https://stackoverflow.com/users/4597766/borichellow"}, "is_accepted": false, "score": 1, "last_activity_date": 1553016503, "creation_date": 1553016503, "answer_id": 55246819, "question_id": 55242807, "link": "https://stackoverflow.com/questions/55242807/how-to-wait-until-one-list-of-calls-are-done-to-call-the-following-ones/55246819#55246819", "title": "How to wait until one list of calls are done to call the following ones", "body": "<p>i think you need to do something like:</p>\n\n<pre><code>val disposable = Flowable.fromArray(answerListCreated)\n    .flatMap {\n        questionService.addAnswerToQuestion(\n            questionId,\n            it.id,\n            MyUtils.getAccessTokenFromLocalStorage(context = mContext!!)\n        )\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n    }\n    .toList()\n    .subscribe {\n        addCorrectsAnswersToQuestion(questionId)\n    }\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553016503, "creation_date": 1553004051, "question_id": 55242807, "link": "https://stackoverflow.com/questions/55242807/how-to-wait-until-one-list-of-calls-are-done-to-call-the-following-ones", "title": "How to wait until one list of calls are done to call the following ones", "body": "<p>I'm using <code>rxJava</code> and I want to do a <code>forEach</code> of a list, and for every item, make a call, and then once those calls are finished, call another one.</p>\n\n<p>This is my code </p>\n\n<pre><code>val flowableList = answerListCreated.map {\n        questionService.addAnswerToQuestion(\n            questionId,\n            it.id,\n            MyUtils.getAccessTokenFromLocalStorage(context = mContext!!)\n        )\n    }\n    disposable = Flowable.concat(flowableList)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe {\n            addCorrectsAnswersToQuestion(questionId)\n        }\n</code></pre>\n\n<p>But it's joining in the <code>subscribe</code> twice, and it should join in the subscribe once.</p>\n\n<p>What I'm missing? I thought concat should be a good option because I've read that it does first the first job, and then when job1 is finished it starts the job2.</p>\n\n<p>Well, also if necessary I can return <code>Observable&lt;T&gt;</code>, from now in my service I'm returning <code>Flowable&lt;T&gt;</code> to test this. </p>\n"}, {"tags": ["android", "generics", "kotlin", "gson", "classcastexception"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1553014330, "post_id": 55242542, "comment_id": 97225265, "body": "You may try <code>java.util.List</code> or <code>MutableList</code> - will it work?"}, {"owner": {"reputation": 109, "user_id": 5058703, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/P0m1O.jpg?s=128&g=1", "display_name": "Wimps", "link": "https://stackoverflow.com/users/5058703/wimps"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1553119375, "post_id": 55242542, "comment_id": 97272846, "body": "Already tried that, no luck"}], "owner": {"reputation": 109, "user_id": 5058703, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/P0m1O.jpg?s=128&g=1", "display_name": "Wimps", "link": "https://stackoverflow.com/users/5058703/wimps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553003204, "creation_date": 1553003204, "question_id": 55242542, "link": "https://stackoverflow.com/questions/55242542/gson-deserialization-classcastexception", "title": "GSON Deserialization ClassCastException", "body": "<p>I'm trying to build a class that save any object to a file and I can't figure out what I'm doing wrong.</p>\n\n<p>Basically, I have 2 functions to serialize and deserialize the content as follow: </p>\n\n<pre><code>inline fun &lt;reified T&gt; writeInCache(content: T, file: File) {\n    val stream = ObjectOutputStream(FileOutputStream(file))\n    stream.writeObject(Gson().toJson(content, object : TypeToken&lt;T&gt;() {}.type))\n    stream.close()\n}\n\ninline fun &lt;reified T&gt; readFromCache(file: File): T? {\n    val stream = ObjectInputStream(FileInputStream(file))\n    val streamObject= stream.readObject() as String\n    stream.close()\n    return Gson().fromJson(streamObject, object : TypeToken&lt;T&gt;() {}.type) as? T\n}\n</code></pre>\n\n<p>So far, this works in a lot of cases, for example with <code>MyClass</code> or <code>List&lt;MyClass&gt;</code> as content. </p>\n\n<p>But when I try to send content with the type <code>List&lt;List&lt;MyClass&gt;&gt;</code> as follow something very strange happens.</p>\n\n<pre><code>val list: List&lt;List&lt;MyClass&gt;&gt; = readFromCache(file) ?: emptyList()\n</code></pre>\n\n<p>Inside the <code>readFromCache</code>, the class of the generic is correctly read (<code>java.util.List&lt;? extends java.util.List&lt;? extends com.project.entity.MyClass&gt;&gt;</code>) and the function returns a value but when I try to access it (<code>list.first().first()</code> which should be of type MyClass) I get a classCastException :</p>\n\n<blockquote>\n  <p>ava.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to com.project.entity.MyClass</p>\n</blockquote>\n\n<p>I don't understand why it fails to deserialize correctly as the type seems to be known and I particularly don't understand why the exception happens at this point and not on the function <code>readFromCache</code> where the content is cast into the required type.</p>\n\n<p>I looked all over the similar issues on stack but nothing seems to fix my issue.</p>\n"}, {"tags": ["java", "android", "kotlin", "cryptography", "aes-gcm"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1553006984, "post_id": 55242047, "comment_id": 97220545, "body": "<i>&quot;I believe encryption is working because I&#39;m getting a file with the same size as original file&quot;</i> How can they be the same size if the output file also contains the IV, the IV size, and the authentication tag?"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1553018631, "post_id": 55242047, "comment_id": 97227498, "body": "@Michael: exactly, that&#39;s proof that it <i>isn&#39;t</i> working!"}, {"owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "edited": false, "score": 0, "creation_date": 1553109780, "post_id": 55242047, "comment_id": 97268428, "body": "Where and how to you store the AES key after generation?"}], "owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553001590, "creation_date": 1553001590, "question_id": 55242047, "link": "https://stackoverflow.com/questions/55242047/aes-gcm-issue-with-decrypting-files-in-android", "title": "AES-GCM issue with decrypting files in Android", "body": "<p>I have a requirement in my project to download and store the files encrypted. After a research, I came to know AES with GCM meets my requirements. I made a demo application as a proof of concept. My code works fine when I try to encrypt and decrypt strings. I believe encryption is working because I'm getting a file with the same size as original file. The problem is when I decrypt the encrypted file, its shows exception as  </p>\n\n<blockquote>\n  <p>javax.crypto.AEADBadTagException: error:1e000065:Cipher\n  functions:OPENSSL_internal:BAD_DECRYPT</p>\n</blockquote>\n\n<p>Here is my code</p>\n\n<p>encryption</p>\n\n<pre><code>    fun encrypt(data : ByteArray, iv : ByteArray, secretKey : SecretKey) : ByteArray{\n\n    val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n    val parameterSpec = GCMParameterSpec(128, iv)\n    cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec)\n    val encrypted = cipher.doFinal(data)\n\n\n    val byteBuffer = ByteBuffer.allocate(4 + iv.size + encrypted.size)\n    byteBuffer.putInt(iv.size)\n    byteBuffer.put(iv)\n    byteBuffer.put(encrypted)\n    val cipherMessage = byteBuffer.array()\n\n    return cipherMessage\n}\n</code></pre>\n\n<p>decryption</p>\n\n<pre><code>fun decrypt(cipherMessage : ByteArray, key : SecretKey) : ByteArray{\n\n        val byteBuffer = ByteBuffer.wrap(cipherMessage)\n        val ivLength = byteBuffer.int\n        if (ivLength &lt; 12 || ivLength &gt;= 16) { \n            throw IllegalArgumentException(\"invalid iv length\")\n        }\n        val iv = ByteArray(ivLength)\n        byteBuffer.get(iv)\n        val cipherText = ByteArray(byteBuffer.remaining())\n        byteBuffer.get(cipherText)\n\n        val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n        cipher.init(Cipher.DECRYPT_MODE, key, GCMParameterSpec(128, iv))\n        val plainText = cipher.doFinal(cipherText)\n        return plainText\n    }\n</code></pre>\n\n<p>Key generation</p>\n\n<pre><code>val secureRandom = SecureRandom()\n        val key = ByteArray(16)\n        secureRandom.nextBytes(key)\n        val secretKey = SecretKeySpec(key, \"AES\")\n        val iv = ByteArray(12) \n        secureRandom.nextBytes(iv)\n</code></pre>\n\n<p>and I'm using the following code to read and write file into disk, for the sake of simplicity I'm omitting irrelevant codes.</p>\n\n<p>Read ,encrypt and write</p>\n\n<pre><code>do {\n           count = input.read(data)\n           if (count == -1)\n               break\n\n           total += count\n           output.write(encrypt(data, iv, secretKey), 0, count)\n        } while (true)\n</code></pre>\n\n<p>Read, Decrypt and write</p>\n\n<pre><code>do {\n            count = input2.read(data)\n            Log.e(\"Worker\", \"Count:$count\")\n            if (count == -1)\n                break\n\n            total += count\n            output2.write(decrypt(data, secretKey), 0, count)\n        } while (true)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 2, "creation_date": 1552997909, "post_id": 55240734, "comment_id": 97214459, "body": "Remove <code>ListView.OnItemClickListener,</code> from your class declaration"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553066350, "post_id": 55240734, "comment_id": 97242526, "body": "after removing it,showing runtime error on :- mDrawerLayout!!.setDrawerListener(mDrawerToggle),becoz,i am using navigation drawer"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553074630, "post_id": 55240734, "comment_id": 97246549, "body": "can you add you error log?"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153300, "post_id": 55240734, "comment_id": 97281282, "body": "03-21 12:56:40.765 27165-27165/? E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.oditek.accnew, PID: 27165     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.oditek.accnew/com.oditek.accnew.MainActivi&zwnj;&#8203;ty}: kotlin.UninitializedPropertyAccessException: lateinit property mDrawerToggle has not been initialized         at android.app.ActivityThread.performLaunchActivity(ActivityThr&zwnj;&#8203;ead.java:3160)         at android.app.ActivityThread.handleLaunchActivity(ActivityThre&zwnj;&#8203;ad.java:3275)"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153481, "post_id": 55240734, "comment_id": 97281351, "body": "at android.app.ActivityThread.access$1000(ActivityThread.java:2&zwnj;&#8203;18)         at android.app.ActivityThread$H.handleMessage(ActivityThread.ja&zwnj;&#8203;va:1744)         at android.os.Handler.dispatchMessage(Handler.java:102)         at android.os.Looper.loop(Looper.java:145)         at android.app.ActivityThread.main(ActivityThread.java:7007)         at java.lang.reflect.Method.invoke(Native Method)         at java.lang.reflect.Method.invoke(Method.java:372)         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(Z&zwnj;&#8203;ygoteInit.java:1404)"}, {"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153507, "post_id": 55240734, "comment_id": 97281356, "body": "you are not initialized <code>mDrawerToggle</code> properly. chek it"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153552, "post_id": 55240734, "comment_id": 97281368, "body": "at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1199&zwnj;&#8203;)      Caused by: kotlin.UninitializedPropertyAccessException: lateinit property mDrawerToggle has not been initialized         at com.oditek.accnew.MainActivity.onCreate(MainActivity.kt:81)"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153596, "post_id": 55240734, "comment_id": 97281385, "body": "at android.app.Activity.performCreate(Activity.java:6609)         at android.app.Instrumentation.callActivityOnCreate(Instrumenta&zwnj;&#8203;tion.java:1134)         at android.app.ActivityThread.performLaunchActivity(ActivityThr&zwnj;&#8203;ead.java:3113)         at android.app.ActivityThread.handleLaunchActivity(ActivityThre&zwnj;&#8203;ad.java:3275)          at android.app.ActivityThread.access$1000(ActivityThread.java:2&zwnj;&#8203;18)          at android.app.ActivityThread$H.handleMessage(ActivityThread.ja&zwnj;&#8203;va:1744)          at android.os.Handler.dispatchMessage(Handler.java:102)          at android.os.Looper.loop(Lo"}, {"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "reply_to_user": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1553153724, "post_id": 55240734, "comment_id": 97281429, "body": "have a look on above  the complete logcat for the error"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "edited": false, "score": 0, "creation_date": 1553065926, "post_id": 55241946, "comment_id": 97242364, "body": "after removing it,showing runtime error on :- mDrawerLayout!!.setDrawerListener(mDrawerToggle),becoz,i am using navigation drawer."}], "tags": [], "owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1553001228, "creation_date": 1553001228, "answer_id": 55241946, "question_id": 55240734, "link": "https://stackoverflow.com/questions/55240734/android-using-kotlin/55241946#55241946", "title": "Android using Kotlin", "body": "<p>ListView doesn't have <code>OnItemClickListener</code>, \nso remove it, and let only <code>AdapterView.OnItemClickListener</code> </p>\n"}], "owner": {"reputation": 17, "user_id": 7431999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRv2M.jpg?s=128&g=1", "display_name": "PRAVAS DAS", "link": "https://stackoverflow.com/users/7431999/pravas-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1553001228, "creation_date": 1552997304, "last_edit_date": 1552997437, "question_id": 55240734, "link": "https://stackoverflow.com/questions/55240734/android-using-kotlin", "title": "Android using Kotlin", "body": "<p>I converted my existing Java project to kotlin, but I get an error. </p>\n\n<blockquote>\n  <p>Error on OnItemClickListener:- private inner class\n  DrawerItemClickListener() : ListView.OnItemClickListener,\n  AdapterView.OnItemClickListener {</p>\n</blockquote>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate var mNavigationDrawerItemTitles: Array&lt;String&gt;? = null\n    private var mDrawerLayout: DrawerLayout? = null\n    private var mDrawerList: ListView? = null\n    private var DrawerLinear: LinearLayout? = null\n    internal lateinit var toolbar: Toolbar\n    private var mDrawerTitle: CharSequence? = null\n    private var mTitle: CharSequence? = null\n    internal lateinit var mDrawerToggle: android.support.v7.app.ActionBarDrawerToggle\n    internal lateinit var menuRight: ImageView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mDrawerTitle = title\n        mTitle = mDrawerTitle\n        mNavigationDrawerItemTitles = resources.getStringArray(R.array.navigation_drawer_items_array)\n        mDrawerLayout = findViewById(R.id.drawer_layout)\n        mDrawerList = findViewById(R.id.right_drawer)\n        DrawerLinear = findViewById(R.id.DrawerLinear)\n        menuRight = findViewById(R.id.menuRight)\n\n        val containers = findViewById&lt;ShimmerFrameLayout&gt;(R.id.shimmer_view_container)\n        containers.startShimmer()\n\n        val menuLeft = findViewById&lt;ImageView&gt;(R.id.menuLeft)\n        menuLeft.visibility = View.GONE\n\n        val fragment = HomeDashboardFragment()\n        val ft = supportFragmentManager.beginTransaction()\n        ft.replace(R.id.content_frame, fragment)\n        ft.commit()\n\n        setupToolbar()\n\n        val drawerItem = arrayOfNulls&lt;DataModel&gt;(10)\n\n        drawerItem[0] = DataModel(R.mipmap.home, \"HOME\")\n        drawerItem[1] = DataModel(R.mipmap.profile, \"MY PROFILE\")\n        drawerItem[2] = DataModel(R.mipmap.my_reward, \"MY REWARDS\")\n        drawerItem[3] = DataModel(R.mipmap.observation, \"OBSERVATION\")\n        drawerItem[4] = DataModel(R.mipmap.learning, \"LEARNING\")\n        drawerItem[5] = DataModel(R.mipmap.medical, \"MEDICAL EMERGENCY\")\n        drawerItem[6] = DataModel(R.mipmap.training_feedback, \"TRAINING FEEDBACK\")\n        drawerItem[7] = DataModel(R.mipmap.employee, \"EMPLOYEE ENGAGEMENT\")\n        drawerItem[8] = DataModel(R.mipmap.contact, \"CONTACT\")\n        drawerItem[9] = DataModel(R.mipmap.logout, \"LOGOUT\")\n        supportActionBar!!.setDisplayHomeAsUpEnabled(false)\n        supportActionBar!!.setHomeButtonEnabled(true)\n\n        val adapter = DrawerItemCustomAdapter(this, R.layout.listview_item, drawerItem)\n        mDrawerList!!.adapter = adapter\n        mDrawerList!!.setOnItemClickListener(DrawerItemClickListener())\n        mDrawerLayout = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n        mDrawerLayout!!.setDrawerListener(mDrawerToggle)\n        setupDrawerToggle()\n\n        menuRight.setOnClickListener {\n            if (mDrawerLayout!!.isDrawerOpen(GravityCompat.END)) {\n                mDrawerLayout!!.closeDrawer(GravityCompat.END)\n            } else {\n                mDrawerLayout!!.openDrawer(GravityCompat.END)\n            }\n        }\n\n    }\n\n    private inner class DrawerItemClickListener() : ListView.OnItemClickListener, AdapterView.OnItemClickListener {//Error here On **OnItemClickListener**\n\n        override fun onItemClick(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n            selectItem(position)\n        }\n\n    }\n\n    private fun selectItem(position: Int) {\n\n        var fragment: Fragment? = null\n\n        when (position) {\n            0 -&gt; fragment = HomeDashboardFragment()\n            1 -&gt; fragment = MyProfileFragment()\n            2 -&gt; fragment = MyRewardsFragment()\n            3 -&gt; fragment = HomeDashboardFragment()\n            4 -&gt; fragment = LearningModuleFragment()\n            5 -&gt; fragment = MedicalEmergencyModuleFragment()\n            6 -&gt; fragment = EmployeeEngagementFragment()\n            7 -&gt; fragment = EmployeeEngagementFragment()\n            8 -&gt; fragment = HomeDashboardFragment()\n            9 -&gt; fragment = HomeDashboardFragment()\n\n            else -&gt; {\n            }\n        }\n\n        if (fragment != null) {\n            val fragmentManager = supportFragmentManager\n            fragmentManager.beginTransaction().replace(R.id.content_frame, fragment).commit()\n\n            mDrawerList!!.setItemChecked(position, true)\n            mDrawerList!!.setSelection(position)\n            setTitle(mNavigationDrawerItemTitles!![position])\n            mDrawerLayout!!.closeDrawer(DrawerLinear!!)\n\n        } else {\n            Log.e(\"MainActivity\", \"Error in creating fragment\")\n        }\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n\n        return if (mDrawerToggle.onOptionsItemSelected(item)) {\n            true\n        } else super.onOptionsItemSelected(item)\n\n    }\n\n    override fun setTitle(title: CharSequence) {\n        mTitle = title\n        supportActionBar!!.setTitle(mTitle)\n    }\n\n    override fun onPostCreate(savedInstanceState: Bundle?) {\n        super.onPostCreate(savedInstanceState)\n        mDrawerToggle.syncState()\n    }\n\n    internal fun setupToolbar() {\n        toolbar = findViewById&lt;View&gt;(R.id.toolbar) as Toolbar\n        setSupportActionBar(toolbar)\n        supportActionBar!!.setDisplayShowHomeEnabled(true)\n    }\n\n    internal fun setupDrawerToggle() {\n        mDrawerToggle = android.support.v7.app.ActionBarDrawerToggle(this, mDrawerLayout, R.string.app_name, R.string.app_name)\n        //This is necessary to change the icon of the Drawer Toggle upon state change.\n        mDrawerToggle.syncState()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553005380, "post_id": 55240693, "comment_id": 97219490, "body": "If you want to display 1st , st as superscripts"}, {"owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "reply_to_user": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553006165, "post_id": 55240693, "comment_id": 97220020, "body": "@vimukthi actually I want to add superscripts for each no like for 21st, 22nd, 11th, 13th, random numbers .. etc till 500 approx"}, {"owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "reply_to_user": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553006273, "post_id": 55240693, "comment_id": 97220086, "body": "@vimukthiI I have to concat each no with its superscript"}, {"owner": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553007180, "post_id": 55240693, "comment_id": 97220683, "body": "How do you set the text?"}, {"owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "reply_to_user": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553007819, "post_id": 55240693, "comment_id": 97221133, "body": "yes i have to concat st,nd,rd and th with random no&#39;s according to their pairs."}, {"owner": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "edited": false, "score": 0, "creation_date": 1553008041, "post_id": 55240693, "comment_id": 97221288, "body": "If you set String like this &quot;21st, 22nd, 11th, 13th&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "edited": false, "score": 0, "creation_date": 1553164878, "post_id": 55244373, "comment_id": 97286954, "body": "I appreciate your efforts but this is not what I wanted, I have given you the example only &quot;21st, 22nd, 11th, 13th&quot; that I wanted to add superscripts for random numbers, so only those no&#39;s will not be there every time, No&#39;s can be in the range of 1 till 999"}], "tags": [], "owner": {"reputation": 227, "user_id": 9599874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fed33a66afcae32da68ce3dda37fa0?s=128&d=identicon&r=PG&f=1", "display_name": "vimukthi", "link": "https://stackoverflow.com/users/9599874/vimukthi"}, "is_accepted": false, "score": 1, "last_activity_date": 1553008672, "creation_date": 1553008672, "answer_id": 55244373, "question_id": 55240693, "link": "https://stackoverflow.com/questions/55240693/want-to-add-superscripts-with-textview-numbers-using-stringbuilder/55244373#55244373", "title": "Want to add Superscripts with TextView numbers using StringBuilder", "body": "<p>In above code there  You have to set the text in your Activity class or .xml file in layout folder.</p>\n\n<pre><code>textView.setText( \"21st, 22nd, 11th, 13th\");\n</code></pre>\n\n<p>or xml file textview</p>\n\n<pre><code>android:text= \"21st, 22nd, 11th, 13th\"\n</code></pre>\n\n<p>like this there are no auto put superscript in there.</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553164445, "creation_date": 1553164445, "answer_id": 55278458, "question_id": 55240693, "link": "https://stackoverflow.com/questions/55240693/want-to-add-superscripts-with-textview-numbers-using-stringbuilder/55278458#55278458", "title": "Want to add Superscripts with TextView numbers using StringBuilder", "body": "<p>i have written my own logic for adding superscript with numbers.\nHere i am working on RecyclerView adapter using kotlin, i am sharing code for onBindViewHolder .</p>\n\n<pre><code>    var stringBuilder: SpannableStringBuilder = SpannableStringBuilder()\n\n\n  override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    // for 1 till 9\n    if (yourNo  in 1..9) {\n        if (yourNo  == 1)\n            changeSuperScripts(1, 3, yourNo + \"st\", holder.textView)\n        else if (contestStandingItem.rank == 2)\n            changeSuperScripts(1, 3, yourNo + \"nd\", holder.textView)\n        else if (contestStandingItem.rank == 3) {\n            changeSuperScripts(1, 3, yourNo + \"rd\", holder.textView)\n        } else\n            changeSuperScripts(1, 3, yourNo + \"th\", holder.textView)\n    }\n\n    // for 10 till 19\n    else if (yourNo  in 10..19)\n        changeSuperScripts(2, 4, yourNo  + \"th\", holder.textView)\n\n\n    // for 20 till 99\n    else if(yourNo  in 20..99) {\n         if (yourNo  % 10 == 0)\n            changeSuperScripts(2, 4, yourNo  + \"th\", holder.textView)\n        else if (yourNo  % 10 == 1)\n            changeSuperScripts(2, 4, yourNo  + \"st\", holder.textView)\n        else if (yourNo  % 10 == 2)\n            changeSuperScripts(2, 4, yourNo  + \"nd\", holder.textView)\n        else if (yourNo  % 10 == 3)\n            changeSuperScripts(2, 4, yourNo  + \"rd\", holder.textView)\n        else\n            changeSuperScripts(2, 4, yourNo  + \"th\", holder.textView)\n    }\n\n    // for 100 till 999\n    else if (yourNo  in 100..999){\n        if (yourNo  % 10 == 0)\n            changeSuperScripts(3, 5, yourNo  + \"th\", holder.textView)\n        else if (yourNo  % 10 == 1)\n            changeSuperScripts(3, 5, yourNo  + \"st\", holder.textView)\n        else if (yourNo  % 10 == 2)\n            changeSuperScripts(3, 5, yourNo  + \"nd\", holder.textView)\n        else if (yourNo  % 10 == 3)\n            changeSuperScripts(3, 5, yourNo  + \"rd\", holder.textView)\n        else\n            changeSuperScripts(3, 5, yourNo  + \"th\", holder.textView)\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>// start and end are the indexes from where superscrpits starts and stops</p>\n\n<pre><code>     fun changeSuperScripts(start: Int, end: Int, text: String, textView: TextView) {\n    stringBuilder.clear()\n    stringBuilder.append(text)\n    val formatter = OrdinalSuperscriptFormatter.getInstance(stringBuilder)\n    formatter.createSuperscriptSpan(start, end, textView)\n}\n</code></pre>\n\n<p>// this is a separate class written in java for converting text into superscript, i have made it singleton for using same object everytime(for performance only)</p>\n\n<p>public class OrdinalSuperscriptFormatter {</p>\n\n<pre><code>public static OrdinalSuperscriptFormatter ordinalSuperscriptFormatter;\n\nprivate static final String SUPERSCRIPT_REGEX = \"(?&lt;=\\\\b\\\\d{0,10})(st|nd|rd|th)(?=\\\\b)\";\nprivate static final Pattern PATTERN = Pattern.compile(SUPERSCRIPT_REGEX);\nprivate static final float PROPORTION = 0.5f;\nSuperscriptSpan superscript = new SuperscriptSpan();\nRelativeSizeSpan size = new RelativeSizeSpan(PROPORTION);\n\nprivate final SpannableStringBuilder stringBuilder;\n\npublic static OrdinalSuperscriptFormatter getInstance(SpannableStringBuilder stringBuilder){\n    if (ordinalSuperscriptFormatter == null) {\n        ordinalSuperscriptFormatter = new OrdinalSuperscriptFormatter(stringBuilder);\n        return  ordinalSuperscriptFormatter;\n    }\n    else\n        return  ordinalSuperscriptFormatter;\n}\n\npublic static void refreshInstance(){\n    ordinalSuperscriptFormatter = null;\n}\n\nprivate OrdinalSuperscriptFormatter(@NonNull SpannableStringBuilder stringBuilder) {\n    this.stringBuilder = stringBuilder;\n}\n\npublic void createSuperscriptSpan(int start, int end,TextView textView) {\n    stringBuilder.setSpan(superscript, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    stringBuilder.setSpan(size, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    textView.setText(stringBuilder);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>// refreshInstance will call when you are starting your activity or fragmnet again for refreshing your list</p>\n\n<pre><code>   override fun onResume() {\n    super.onResume()\n    OrdinalSuperscriptFormatter.refreshInstance() // must be referesh singleton instance for each history standings\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10419518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ff9cf65f39ab23f2a0ac24ede46005?s=128&d=identicon&r=PG&f=1", "display_name": "Babar Shamsi", "link": "https://stackoverflow.com/users/10419518/babar-shamsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558516887, "creation_date": 1552997197, "last_edit_date": 1558516887, "question_id": 55240693, "link": "https://stackoverflow.com/questions/55240693/want-to-add-superscripts-with-textview-numbers-using-stringbuilder", "title": "Want to add Superscripts with TextView numbers using StringBuilder", "body": "<pre class=\"lang-java prettyprint-override\"><code>public class SuperscriptFormatter {\n    private static final String SUPERSCRIPT_REGEX = \"(?&lt;=\\\\b\\\\d{0,10})(st|nd|rd|th)(?=\\\\b)\";\n    private static final Pattern PATTERN = Pattern.compile(SUPERSCRIPT_REGEX);\n    private static final float PROPORTION = 0.5f;\n\n    private final SpannableStringBuilder stringBuilder;\n\n    public SuperscriptFormatter (@NonNull SpannableStringBuilder stringBuilder) {\n        this.stringBuilder = stringBuilder;\n    }\n\n    public void format(TextView textView) {\n        CharSequence text = textView.getText();\n        Matcher matcher = PATTERN.matcher(text);\n        stringBuilder.clear();\n        stringBuilder.append(text);\n        while (matcher.find()) {\n            int start = matcher.start();\n            int end = matcher.end();\n            createSuperscriptSpan(start, end);\n        }\n        textView.setText(stringBuilder);\n    }\n\n    private void createSuperscriptSpan(int start, int end) {\n        SuperscriptSpan superscript = new SuperscriptSpan();\n        RelativeSizeSpan size = new RelativeSizeSpan(PROPORTION);\n        stringBuilder.setSpan(superscript, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        stringBuilder.setSpan(size, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    }\n}\n</code></pre>\n\n<p>The problem is that I am unable to get those superscripts with a number.\nI  am passing \"1\", \"2\" as text and <code>matcher.find()</code> returning false every time, I don't know what is going on either with the pattern or with my text.\nI want 1st,2nd 3rd ... etc as text</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1552996537, "post_id": 55240472, "comment_id": 97213522, "body": "IIRC <code>= &quot;&quot;</code> in the primary constructor generates several constructors pointing to that. Decompile the file to verify though. If it does, you should have 4 constructors (empty, username, username and password, username, password, and mobile data)."}, {"owner": {"reputation": 511, "user_id": 6625804, "user_type": "registered", "profile_image": "https://graph.facebook.com/1206674012717729/picture?type=large", "display_name": "Hrant Nurijanyan", "link": "https://stackoverflow.com/users/6625804/hrant-nurijanyan"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1552996733, "post_id": 55240472, "comment_id": 97213668, "body": "@Zoe Thanks. I removed default value for properties and it worked."}], "answers": [{"comments": [{"owner": {"reputation": 2511, "user_id": 1580500, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fd636dcbdbb986e43fb4df6b3cac0957?s=128&d=identicon&r=PG", "display_name": "fernandospr", "link": "https://stackoverflow.com/users/1580500/fernandospr"}, "edited": false, "score": 0, "creation_date": 1606844882, "post_id": 55240752, "comment_id": 115083319, "body": "Can you please provide an example of the second option, creating additional constructors to support the use case of default values?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 2511, "user_id": 1580500, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/fd636dcbdbb986e43fb4df6b3cac0957?s=128&d=identicon&r=PG", "display_name": "fernandospr", "link": "https://stackoverflow.com/users/1580500/fernandospr"}, "edited": false, "score": 0, "creation_date": 1606851705, "post_id": 55240752, "comment_id": 115086479, "body": "@fernandospr done."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 23, "last_activity_date": 1606851697, "last_edit_date": 1606851697, "creation_date": 1552997345, "answer_id": 55240752, "question_id": 55240472, "link": "https://stackoverflow.com/questions/55240472/types-may-only-contain-one-inject-constructor/55240752#55240752", "title": "Types may only contain one @Inject constructor", "body": "<p>Moving my comment to an answer:</p>\n<p>If you have a constructor with default arguments, Kotlin actually generates additional constructors. In your case, you have a 3 arg constructor where all are optional, which generates a total of 4 constructors. Kotlin apparently associates any annotations on the primary constructor with all the generated ones as well, which means you ended up with 4 <code>@Inject</code> constructors.</p>\n<p>You have two options:</p>\n<p>The first, as you mentioned yourself, remove all the default values. If there are no default values, only one constructor is generated with the annotation.</p>\n<p>Alternatively, you can also create additional constructors yourself and point it to the primary. This would also let you manually specify only one to have the <code>@Inject</code> annotation, while the others don't. Basically:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class AuthDataModel @Inject constructor(\n                   var username: String,\n                   var password: String,\n                   var mobileData: String) {\n    constructor(username: String) : this(username, &quot;&quot;, &quot;&quot;) {}\n    constructor(username: String, password: String) : this(username, password, &quot;&quot;) {}\n}\n</code></pre>\n<p>Not using default values prevents multiple @Inject constructors from being generated, and the secondary constructors should<sup>1</sup> keep everything functioning as expected. This is basically overloading the constructor, and it's equivalent to what you'd do in Java when certain variables are optional. Should therefore be fine.</p>\n<p><sup>1: I haven't done Android in a while, and I've never used @Inject. If option 2 doesn't work (as in @Inject doesn't allow it, or doesn't work as expected, etc.), that only leaves option 1, and requires every parameter to be explicitly passed. The secondary constructors calling the primary constructor should be enough to keep everything working, though.</sup></p>\n"}], "owner": {"reputation": 511, "user_id": 6625804, "user_type": "registered", "profile_image": "https://graph.facebook.com/1206674012717729/picture?type=large", "display_name": "Hrant Nurijanyan", "link": "https://stackoverflow.com/users/6625804/hrant-nurijanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1331, "favorite_count": 1, "accepted_answer_id": 55240752, "answer_count": 1, "score": 12, "last_activity_date": 1606851697, "creation_date": 1552996494, "question_id": 55240472, "link": "https://stackoverflow.com/questions/55240472/types-may-only-contain-one-inject-constructor", "title": "Types may only contain one @Inject constructor", "body": "<h2>Data Model</h2>\n\n<pre><code>data class AuthDataModel @Inject constructor(\n                   var username: String = \"\",\n                   var password: String = \"\",\n                   var mobileData: String = \"\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>I am trying to inject authentication data model to authentication view model in kotlin, but it does not compile with message(\"Types may only contain one @Inject constructor)</p>\n"}, {"tags": ["android", "kotlin", "textwatcher", "android-textwatcher"], "answers": [{"tags": [], "owner": {"reputation": 1462, "user_id": 10470378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b042d284ca2d8c83a6ee597b976841?s=128&d=identicon&r=PG&f=1", "display_name": "ronginat", "link": "https://stackoverflow.com/users/10470378/ronginat"}, "is_accepted": true, "score": 2, "last_activity_date": 1552993509, "creation_date": 1552993509, "answer_id": 55239506, "question_id": 55239310, "link": "https://stackoverflow.com/questions/55239310/text-watcher-auto-complete-only-works-for-first-character-typed-and-then-stops/55239506#55239506", "title": "Text watcher auto complete only works for first character typed and then stops", "body": "<p>You Need to <strong>clear</strong> the <code>tagsFiltredAdapter</code> in each call of <code>onTextChanged</code>.<br/>\nCurrently, when typing the first character, your filtered list contains the right results, and when typing more characters, the list's size should decrease to match the new characters. Instead, you just adding items to the list.</p>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 55239506, "answer_count": 1, "score": 0, "last_activity_date": 1552993509, "creation_date": 1552992915, "question_id": 55239310, "link": "https://stackoverflow.com/questions/55239310/text-watcher-auto-complete-only-works-for-first-character-typed-and-then-stops", "title": "Text watcher auto complete only works for first character typed and then stops", "body": "<p>So I'm using a text watcher to show the user suggestions for tags.\nCurrently I am using a dummy list of tags. When the user starts typing, the code should create a another list of tags that is just the objects of the first list filtered based on whether they contain the character sequence the user is currently typing.</p>\n\n<p>It works great for the first character, but as the user keeps typing the list doesn't change anymore.</p>\n\n<p>This is my code:</p>\n\n<pre><code> val tags = listOf(\n        \"John Smith\",\n        \"Kate Eckhart\",\n        \"Emily Sun\",\n        \"Frodo Baggins\",\n        \"Yanay Zabary\",\n        \"Sze Lok Ho\",\n        \"Jesse Albright\",\n        \"Shayna something\",\n        \"Makena Lawrence\"\n    )\n\n        questionTagsInput.addTextChangedListener(object : TextWatcher {\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n\n            val userInput = s.toString()\n\n            if (userInput == \"\") {\n                tagSuggestionRecycler.visibility = View.GONE\n                tagsFiltredAdapter.clear()\n\n\n            } else {\n                val relevantTags: List&lt;String&gt; = tags.filter { it.contains(userInput) }\n\n                for (t in relevantTags) {\n                    tagSuggestionRecycler.visibility = View.VISIBLE\n                    tagsFiltredAdapter.add(SingleTagSuggestion(t))\n                }\n\n            }\n\n        }\n\n\n        override fun afterTextChanged(s: Editable?) {\n        }\n\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n        }\n\n    })\n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 1, "last_activity_date": 1552997532, "creation_date": 1552997532, "answer_id": 55240809, "question_id": 55239208, "link": "https://stackoverflow.com/questions/55239208/tornadofx-tabpane-side-left-and-label-rotate-style/55240809#55240809", "title": "TornadoFx TabPane - Side = left and label rotate style", "body": "<p>TornadoFX doesn't make any changes to the TabPane container, so exactly the same CSS and properties would work for a TornadoFX application. I think you meant .tab-pane instead of .tab-container though. If you want to write the same using type safe CSS, it would be:</p>\n\n<pre><code>tabPane {\n    backgroundColor += Color.TRANSPARENT\n    rotate = 90.deg\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 820569, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/RYxta.jpg?s=128&g=1", "display_name": "Siva", "link": "https://stackoverflow.com/users/820569/siva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552997532, "creation_date": 1552992640, "question_id": 55239208, "link": "https://stackoverflow.com/questions/55239208/tornadofx-tabpane-side-left-and-label-rotate-style", "title": "TornadoFx TabPane - Side = left and label rotate style", "body": "<ul>\n<li>.tab-container {\n      -fx-background-color: transparent;\n      -fx-rotate: 90;    }</li>\n</ul>\n\n<p>how do convert to tornadofx? My Tab header label need to be aligned when side.Left.Please help on this</p>\n"}, {"tags": ["java", "android", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1552994267, "post_id": 55238235, "comment_id": 97212060, "body": "Great job, but in case you already found answer for this problem remove answer from question and put it as answer below. It will be much easier to find it."}, {"owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1553054411, "post_id": 55238235, "comment_id": 97238939, "body": "@Micha\u0142Ziober updated. Actually, it&#39;s not an answer - it&#39;s a workaround. It looks weird and hacky. Moreover, it works differently on different devices and it&#39;s kinda weird. That&#39;s why my &quot;answer&quot; will not be marked as correct one and I&#39;ll wait for fasterxml team to fix it or explain how to use this feature correctly"}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1553054208, "creation_date": 1553054208, "answer_id": 55253379, "question_id": 55238235, "link": "https://stackoverflow.com/questions/55238235/jackson-android-npe-when-use-mixin/55253379#55253379", "title": "Jackson android NPE when use MixIn", "body": "<p>after some amount of time wasted on research I found that in <code>AnnotatedFieldCollector#_findFields</code> there is <code>for</code> block which calls <code>JavaType.getRawClass().getDeclaredFields()</code> and if it returns an empty array, all the <code>for</code> block is skipped, map <code>_fields</code> is not initialized and stays <code>null</code> when <code>_addFieldMixIns</code> is called. </p>\n\n<p>This happens because properties are not fields in kotlin and parent class does not have one.</p>\n\n<p>This issue can be workarounded by adding <code>@JvmField</code> annotated property to <code>NotificationEvent</code> class like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sealed class NotificationEvent {\n\n  @Suppress(\"unused\")\n  @JvmField val stub: Int = 0\n\n  data class SomeUsefulEvent(val eventData: String): NotificationEvent()\n\n}\n</code></pre>\n\n<p>and everything works fine!</p>\n\n<p>I hope this question will help somebody and I encourage Jackson team to fix this bug</p>\n"}], "owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553054208, "creation_date": 1552989737, "last_edit_date": 1553054175, "question_id": 55238235, "link": "https://stackoverflow.com/questions/55238235/jackson-android-npe-when-use-mixin", "title": "Jackson android NPE when use MixIn", "body": "<p>My server api uses polymorphic objects of different types. For example, I have a json:</p>\n\n<pre><code>{\n  \"eventType\": \"FirstType\",\n  \"eventData\": \"some-useful-object\"\n}\n</code></pre>\n\n<p>and kotlin class for it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sealed class NotificationEvent {\n\n  data class SomeUsefulEvent(val eventData: String): NotificationEvent()\n\n}\n</code></pre>\n\n<p>and mixin class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(\n    use = JsonTypeInfo.Id.NAME,\n    include = JsonTypeInfo.As.PROPERTY,\n    property = \"eventType\"\n)\n@JsonSubTypes(\n    JsonSubTypes.Type(\n        value = NotificationEvent.SomeUsefulEvent::class,\n        name = \"FirstType\"\n    )\n)\nabstract class NotificationEventMixIn\n</code></pre>\n\n<p>when I call from client side</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>jsonMapper.readValue&lt;NotificationEvent&gt;(event.data)\n</code></pre>\n\n<p>the application crashes with NPE:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke interface method\n  'java.lang.Object java.util.Map.get(java.lang.Object)' on a null\n  object reference\n          at com.fasterxml.jackson.databind.introspect.AnnotatedFieldCollector._addFieldMixIns(AnnotatedFieldCollector.java:110)\n          at com.fasterxml.jackson.databind.introspect.AnnotatedFieldCollector._findFields(AnnotatedFieldCollector.java:87)\n          at com.fasterxml.jackson.databind.introspect.AnnotatedFieldCollector.collect(AnnotatedFieldCollector.java:41)\n          at com.fasterxml.jackson.databind.introspect.AnnotatedFieldCollector.collectFields(AnnotatedFieldCollector.java:36)\n          at com.fasterxml.jackson.databind.introspect.AnnotatedClass._fields(AnnotatedClass.java:349)\n          at com.fasterxml.jackson.databind.introspect.AnnotatedClass.fields(AnnotatedClass.java:321)\n          at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector._addFields(POJOPropertiesCollector.java:379)\n          at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.collectAll(POJOPropertiesCollector.java:308)\n          at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getPropertyMap(POJOPropertiesCollector.java:287)\n          at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getProperties(POJOPropertiesCollector.java:170)\n          at com.fasterxml.jackson.databind.introspect.BasicBeanDescription._properties(BasicBeanDescription.java:164)\n          at com.fasterxml.jackson.databind.introspect.BasicBeanDescription.findProperties(BasicBeanDescription.java:239)\n          at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._findCreatorsFromProperties(BasicDeserializerFactory.java:346)\n          at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:330)\n          at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:255)\n          at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:214)\n          at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:137)\n          at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:411)\n          at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:349)\n          at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n          at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n          at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n          at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:477)\n          at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4178)\n          at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3997)\n          at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3011)</p>\n</blockquote>\n\n<p>how can I avoid this crash?</p>\n"}, {"tags": ["hibernate", "spring-boot", "jpa", "kotlin", "spring-data-jpa"], "answers": [{"comments": [{"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "edited": false, "score": 0, "creation_date": 1552988827, "post_id": 55237751, "comment_id": 97208815, "body": "Thanks for the quick answer, but <code>findAllByFooInAndBarIn</code> also returns an empty list. Also, I&#39;d like the query to not cover <code>Thing(1, 4)</code>. Just edited my question accordingly."}], "tags": [], "owner": {"reputation": 2794, "user_id": 1856087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99wGZ.jpg?s=128&g=1", "display_name": "Selindek", "link": "https://stackoverflow.com/users/1856087/selindek"}, "is_accepted": false, "score": 1, "last_activity_date": 1552988310, "creation_date": 1552988310, "answer_id": 55237751, "question_id": 55237632, "link": "https://stackoverflow.com/questions/55237632/how-to-use-findallby-with-multiple-fields-in-a-jparepository/55237751#55237751", "title": "How to use FindAllBy with multiple fields in a JpaRepository?", "body": "<pre><code>fun findAllByFooInAndBarIn(foos: Iterable&lt;Long&gt;, bars: Iterable&lt;Long&gt;): Iterable&lt;Thing&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "is_accepted": true, "score": 0, "last_activity_date": 1553440421, "last_edit_date": 1553440421, "creation_date": 1553365863, "answer_id": 55317082, "question_id": 55237632, "link": "https://stackoverflow.com/questions/55237632/how-to-use-findallby-with-multiple-fields-in-a-jparepository/55317082#55317082", "title": "How to use FindAllBy with multiple fields in a JpaRepository?", "body": "<p>One (not very nice) solution is to manually create a query and use an <code>EntityManager</code> to send it:</p>\n\n<pre><code>@Repository\nclass SecondThingRepository(private val entityManager: EntityManager) {\n    fun selectByFoosAndBars(foosAndBars: Iterable&lt;Pair&lt;Long, Long&gt;&gt;): Iterable&lt;Thing&gt; {\n        val pairsRepr = foosAndBars.joinToString(prefix = \"(\", postfix = \")\") { \"(${it.first}, '${it.second}')\" }\n        val query: TypedQuery&lt;Thing&gt; = entityManager.createQuery(\"SELECT t FROM Thing t WHERE (t.foo, t.bar) IN $pairsRepr\", Thing::class.java)\n        return query.resultList\n    }\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>repo2: SecondThingRepository\n...\nassertThat(repo2.selectByFoosAndBars(listOf(Pair(1L, 2L), Pair(3L, 4L)))).hasSize(2)\n</code></pre>\n"}], "owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1000, "favorite_count": 1, "accepted_answer_id": 55317082, "answer_count": 2, "score": 0, "last_activity_date": 1553440421, "creation_date": 1552987965, "last_edit_date": 1553355605, "question_id": 55237632, "link": "https://stackoverflow.com/questions/55237632/how-to-use-findallby-with-multiple-fields-in-a-jparepository", "title": "How to use FindAllBy with multiple fields in a JpaRepository?", "body": "<p>Below you can find a minimal example showing my problem:</p>\n\n<p><code>src/main/kotlin/com/mytest/findallbytest/Application.kt</code>:</p>\n\n<pre><code>package com.mytest.findallbytest\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass MyTestApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;MyTestApplication&gt;(*args)\n}\n</code></pre>\n\n<p><code>src/main/kotlin/com/mytest/findallbytest/model/Thing.kt</code>:</p>\n\n<pre><code>package com.mytest.findallbytest.model\n\nimport org.springframework.data.jpa.domain.AbstractPersistable\nimport javax.persistence.Entity\nimport javax.persistence.Table\n\n@Entity\n@Table(name = \"things\")\nclass Thing(\n        val foo: Long,\n        val bar: Long\n) : AbstractPersistable&lt;Long&gt;()\n</code></pre>\n\n<p><code>src/main/kotlin/com/mytest/findallbytest/repository/ThingRepository.kt</code>:</p>\n\n<pre><code>package com.mytest.findallbytest.repository\n\nimport com.mytest.findallbytest.model.Thing\nimport org.springframework.data.jpa.repository.JpaRepository\n\ninterface ThingRepository : JpaRepository&lt;Thing, Long&gt; {\n    fun findAllByFooAndBar(foos: Iterable&lt;Long&gt;, bars: Iterable&lt;Long&gt;): Iterable&lt;Thing&gt;\n}\n</code></pre>\n\n<p><code>src/main/resources/application.yml</code>:</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:db;MODE=PostgreSQL\n</code></pre>\n\n<p><code>src/main/resources/db/migration/V1__things.sql</code>:</p>\n\n<pre><code>CREATE SEQUENCE HIBERNATE_SEQUENCE;\n\nCREATE TABLE things (\n    id      BIGINT PRIMARY KEY NOT NULL,\n    foo     BIGINT NOT NULL,\n    bar     BIGINT NOT NULL\n);\n</code></pre>\n\n<p><code>src/test/kotlin/com/mytest/findallbytest/FullTest.kt</code>:</p>\n\n<pre><code>package com.mytest.findallbytest\n\nimport com.mytest.findallbytest.model.Thing\nimport com.mytest.findallbytest.repository.ThingRepository\nimport org.assertj.core.api.Assertions.assertThat\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.junit.jupiter.SpringExtension\n\n@ExtendWith(SpringExtension::class)\n@SpringBootTest\nclass FullTest {\n\n    @Autowired\n    lateinit var repo: ThingRepository\n\n    @Test\n    fun `basic entity checks`() {\n        repo.save(Thing(1, 2))\n        repo.save(Thing(3, 4))\n        repo.save(Thing(1, 4))\n        assertThat(repo.findAll()).hasSize(3)\n\n        // ERROR: Expected size:&lt;2&gt; but was:&lt;0&gt;\n        assertThat(repo.findAllByFooAndBar(listOf(1L, 3L), listOf(2L, 4L))).hasSize(2)\n    }\n}\n</code></pre>\n\n<p>The issue is, <code>findAllByFooAndBar</code> returns an empty list. However I expect it so return the first two of the three saved entities.</p>\n\n<p>What am I doing wrong, and how can my goal or querying multiple entities, matching on multiple fields, be accomplished?</p>\n"}, {"tags": ["java", "spring-boot", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 614, "user_id": 9456918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZxjLzF64-Lk/AAAAAAAAAAI/AAAAAAAAALQ/8ZScuOU8kxY/photo.jpg?sz=128", "display_name": "Paul Janssens", "link": "https://stackoverflow.com/users/9456918/paul-janssens"}, "edited": false, "score": 0, "creation_date": 1553010471, "post_id": 55237535, "comment_id": 97222895, "body": "have you tried     compile project(&#39;:common&#39;) instead of     implementation project(&#39;:common&#39;) ?"}, {"owner": {"reputation": 123, "user_id": 6804563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cbbc8c338cb7a00f6bb1a59f1fc9ddc?s=128&d=identicon&r=PG&f=1", "display_name": "Nayan Kurude", "link": "https://stackoverflow.com/users/6804563/nayan-kurude"}, "reply_to_user": {"reputation": 614, "user_id": 9456918, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZxjLzF64-Lk/AAAAAAAAAAI/AAAAAAAAALQ/8ZScuOU8kxY/photo.jpg?sz=128", "display_name": "Paul Janssens", "link": "https://stackoverflow.com/users/9456918/paul-janssens"}, "edited": false, "score": 0, "creation_date": 1553160273, "post_id": 55237535, "comment_id": 97284427, "body": "yes i did that.. no luck."}], "owner": {"reputation": 123, "user_id": 6804563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cbbc8c338cb7a00f6bb1a59f1fc9ddc?s=128&d=identicon&r=PG&f=1", "display_name": "Nayan Kurude", "link": "https://stackoverflow.com/users/6804563/nayan-kurude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552987649, "creation_date": 1552987649, "question_id": 55237535, "link": "https://stackoverflow.com/questions/55237535/classnotfound-exception-on-classloader-loadclass-method-when-the-class-is-in-dif", "title": "ClassNotFound exception on ClassLoader.loadClass method when the class is in different module", "body": "<p>I get ClassNotFound Exception in UserServiceApplication.kt file.</p>\n\n<p>Below is my project structure.</p>\n\n<pre><code>Root Project\n     |\n     |---settings.gradle\n     |\n     |---common (library module) (Spring boot project)\n     |      |\n     |      |--build.gradle\n     |      |--src/main/kotlin/com/simbalarry/common/util/StringValidator.kt\n     |      |--src/main/kotlin/com/simbalarry/common/MainApp.kt\n     |      |\n     |---user-manager (Spring boot project) (uses common)\n     |      |--build.gradle\n     |      |--src/main/kotlin/somepackage/UserServiceApplication.kt\n</code></pre>\n\n<p>Contents of all files\nRootProject/settings.gradle</p>\n\n<pre><code>include ':common', ':user-manager'\nrootProject.name = 'home-cuisine'\n</code></pre>\n\n<p>common/build.gradle</p>\n\n<pre><code>plugins {\n    id 'java-library'\n    id 'org.springframework.boot' version '2.1.3.RELEASE'\n    id 'org.jetbrains.kotlin.jvm' version '1.2.71'\n    id 'org.jetbrains.kotlin.plugin.spring' version '1.2.71'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.simbalarry'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\next['kotlin.version'] = '1.2.71'\n\ndependencies {\n    implementation 'org.jetbrains.kotlin:kotlin-reflect'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n}\n\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = ['-Xjsr305=strict']\n        jvmTarget = '1.8'\n    }\n}\n</code></pre>\n\n<p>common/com/simbalarry/common/util/StringValidator.kt</p>\n\n<pre><code>package com.simbalarry.common.util\n\nclass StringValidator {\n  fun hello(): String {\n    return \"Bye\"\n  }\n}\n</code></pre>\n\n<p>common/com/simbalarry/common/MainApp.kt</p>\n\n<pre><code>package com.simbalarry.common\n\nclass MainApp\n\nfun main(args: Array&lt;String&gt;) {\n}\n</code></pre>\n\n<p>user-manager/build.gradle</p>\n\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.3.RELEASE'\n    id 'org.jetbrains.kotlin.jvm' version '1.2.71'\n    id 'org.jetbrains.kotlin.plugin.spring' version '1.2.71'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.simbalarry'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\ntest {\n    useJUnitPlatform()\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/snapshot' }\n    maven { url 'https://repo.spring.io/milestone' }\n}\n\ndependencies {\n    implementation project(':common')\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.jetbrains.kotlin:kotlin-reflect'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n}\n\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = ['-Xjsr305=strict']\n        jvmTarget = '1.8'\n    }\n}\n</code></pre>\n\n<p>user-manager/UserServiceApplication.kt</p>\n\n<pre><code>package com.simbalarry.usermanager\n\nimport com.simbalarry.common.util.StringValidator\n\nclass UserServiceApplication\n\nfun main(args: Array&lt;String&gt;) {\n  println(\"Hieex\")\n  val stringValidator = StringValidator()\n}\n</code></pre>\n\n<p>When I do gradle bootRun on the user-manager package, I get the following exception</p>\n\n<pre><code>E:\\Repos\\HC7\\user-manager&gt;gradle bootRun\n\n&gt; Task :user-manager:bootRun FAILED\nHieex\nException in thread \"main\" java.lang.NoClassDefFoundError: com/simbalarry/common/util/StringValidator\n        at com.simbalarry.usermanager.UserServiceApplicationKt.main(UserServiceApplication.kt:9)\nCaused by: java.lang.ClassNotFoundException: com.simbalarry.common.util.StringValidator\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':user-manager:bootRun'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_181\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.2.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n4 actionable tasks: 1 executed, 3 up-to-date\n</code></pre>\n\n<p>Can anyone guide me what is going wrong with this project. I had this problem in bigger project but I have pasted the narrowed down problem here.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-manifest", "intentfilter"], "answers": [{"comments": [{"owner": {"reputation": 1931, "user_id": 8160563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180392262065252/picture?type=large", "display_name": "Marvin Klar", "link": "https://stackoverflow.com/users/8160563/marvin-klar"}, "edited": false, "score": 0, "creation_date": 1552990043, "post_id": 55238198, "comment_id": 97209609, "body": "Thanks for your answer. I know that I have to add the intent filters to the android manifest, as I already mentioned. I was looking for the mime types to specify the functionality of the applications, so they are selectable. And how would I set the app as default with root access?"}], "tags": [], "owner": {"reputation": 115, "user_id": 7506825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1gOp.png?s=128&g=1", "display_name": "David3103", "link": "https://stackoverflow.com/users/7506825/david3103"}, "is_accepted": false, "score": 5, "last_activity_date": 1572392322, "last_edit_date": 1572392322, "creation_date": 1552989605, "answer_id": 55238198, "question_id": 55237504, "link": "https://stackoverflow.com/questions/55237504/how-to-set-apps-as-default-or-let-the-user-select-the-app/55238198#55238198", "title": "How to set apps as default or let the user select the app?", "body": "<p>You need to register an Intent Filter for the file types, actions, or categories for which you want your app to be the default app. The user will then be able to choose your app as the default app if they want to.</p>\n\n<p>Look <a href=\"https://developer.android.com/guide/components/intents-filters.html\" rel=\"nofollow noreferrer\">here</a> for more information on Intents and Intent Filters.</p>\n\n<p>Forcing your app as the default app for something is only possible with root access.</p>\n"}, {"comments": [{"owner": {"reputation": 1931, "user_id": 8160563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180392262065252/picture?type=large", "display_name": "Marvin Klar", "link": "https://stackoverflow.com/users/8160563/marvin-klar"}, "edited": false, "score": 0, "creation_date": 1552999015, "post_id": 55240209, "comment_id": 97215187, "body": "Thanks for your answer. But this is not exactly what I was looking for, since the chooser will popup every time. And this does not affect other applications than mine (e.g. if I click on a link/url in another application, this will not open my internet browser app)"}], "tags": [], "owner": {"reputation": 109, "user_id": 9229521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3060ec8a11cd5054bed11ffae98c26b?s=128&d=identicon&r=PG&f=1", "display_name": "Kalpesh Kulye", "link": "https://stackoverflow.com/users/9229521/kalpesh-kulye"}, "is_accepted": false, "score": 2, "last_activity_date": 1553845349, "last_edit_date": 1553845349, "creation_date": 1552995672, "answer_id": 55240209, "question_id": 55237504, "link": "https://stackoverflow.com/questions/55237504/how-to-set-apps-as-default-or-let-the-user-select-the-app/55240209#55240209", "title": "How to set apps as default or let the user select the app?", "body": "<p>I am not sure but using <code>Intent.createChooser()</code> you will get the solution\n<a href=\"https://stackoverflow.com/questions/3804233/what-is-the-purpose-of-using-intent-createchooser-in-startactivity-while-sen\">click here</a></p>\n"}, {"tags": [], "owner": {"reputation": 4717, "user_id": 4133301, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yKdIm.jpg?s=128&g=1", "display_name": "GensaGames", "link": "https://stackoverflow.com/users/4133301/gensagames"}, "is_accepted": true, "score": 4, "last_activity_date": 1553889880, "last_edit_date": 1553889880, "creation_date": 1553888999, "answer_id": 55424624, "question_id": 55237504, "link": "https://stackoverflow.com/questions/55237504/how-to-set-apps-as-default-or-let-the-user-select-the-app/55424624#55424624", "title": "How to set apps as default or let the user select the app?", "body": "<blockquote>\n  <p>So my question is, what mime types I have to add to the intent filters in the android manifest file?</p>\n</blockquote>\n\n<p><code>mimetype</code> it's just standard of describing content, and it's next processing. This is not something new in Android, you can check more information about Media Types <a href=\"https://en.wikipedia.org/wiki/Media_type\" rel=\"nofollow noreferrer\">Wiki page</a>. This information about <code>mimetype</code> attribute in the the <a href=\"https://developer.android.com/guide/topics/manifest/data-element\" rel=\"nofollow noreferrer\">Android Documentation</a>:</p>\n\n<blockquote>\n  <p>android:mimeType - A MIME media type, such as image/jpeg or audio/mpeg4-generic. The subtype can be the asterisk wildcard to indicate that any subtype matches</p>\n</blockquote>\n\n<p>However as you can see the <code>vnd</code> prefix on a MIME type is a \"vendor prefix\", meaning that it <strong>is not</strong> an official IETF MIME type. So you will need to check this type for each application. Just some examples, what we have below. </p>\n\n<p>Note! In order to set default application, you need to specify <code>android.intent.action</code> first. Because it's main flags between process interaction, so Launcher (for ex.) won't have <code>mimetype</code>, and only <strong>intent actions</strong> <code>android.intent.action.MAIN</code>, <code>android.intent.action.SET_WALLPAPER</code>.</p>\n\n<hr>\n\n<p>Camera: </p>\n\n<pre><code>&lt;data android:mimeType=\"vnd.android.cursor.dir/image\" /&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.dir/video\" /&gt;\n</code></pre>\n\n<p>Image/Video/Audio:</p>\n\n<pre><code>&lt;data android:mimeType=\"video/*\" /&gt;\n&lt;data android:mimeType=\"video/mpeg4\" /&gt;\n&lt;data android:mimeType=\"video/mp4\" /&gt;\n&lt;data android:mimeType=\"video/3gp\" /&gt;\n......\n&lt;data android:mimeType=\"image/*\" /&gt;\n&lt;data android:mimeType=\"application/sdp\" /&gt;\n......\n&lt;data android:mimeType=\"audio/x-mpegurl\" /&gt;\n&lt;data android:mimeType=\"audio/mpegurl\" /&gt;\n&lt;data android:mimeType=\"application/vnd.apple.mpegurl\" /&gt;\n&lt;data android:mimeType=\"application/x-mpegurl\" /&gt;\n....\n</code></pre>\n\n<p>Contacts:</p>\n\n<pre><code>&lt;data android:mimeType=\"vnd.android.cursor.item/phone\" /&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.item/person\" /&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.dir/calls\" /&gt;\n</code></pre>\n\n<p>Browser:</p>\n\n<pre><code>&lt;data android:mimeType=\"application/xhtml+xml\"/&gt;\n&lt;data android:mimeType=\"application/vnd.wap.xhtml+xml\"/&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.item/postal-address\" /&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.dir/bookmark\"/&gt;\n&lt;data android:mimeType=\"vnd.android.cursor.item/download\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1931, "user_id": 8160563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1180392262065252/picture?type=large", "display_name": "Marvin Klar", "link": "https://stackoverflow.com/users/8160563/marvin-klar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2346, "favorite_count": 3, "accepted_answer_id": 55424624, "answer_count": 3, "score": 8, "last_activity_date": 1572392322, "creation_date": 1552987572, "last_edit_date": 1554240058, "question_id": 55237504, "link": "https://stackoverflow.com/questions/55237504/how-to-set-apps-as-default-or-let-the-user-select-the-app", "title": "How to set apps as default or let the user select the app?", "body": "<p>Currently I'm trying to create a bunch of simple Android apps to replace the default apps with them.</p>\n\n<p>I already saw in <a href=\"https://stackoverflow.com/questions/32885948/how-to-set-an-sms-app-as-default-app-in-android-programmatically\">this post</a> how to set the SMS app as default:</p>\n\n<pre><code>&lt;intent-filter&gt;\n  &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n  &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n  &lt;data android:mimeType=\"vnd.android-dir/mms-sms\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>But I was wondering how to achieve the same for these apps:</p>\n\n<ul>\n<li>Camera application (To take pictures)</li>\n<li>Gallery/Photo application (To select and view images)</li>\n<li>Contact application (To view, edit, delete and call contacts)</li>\n<li>Telephone application (To call contacts/telephone numbers and receive incoming calls)</li>\n<li>Internet browser application (To browse the internet)</li>\n<li>Keyboard application (To write text like in the default keyboard)</li>\n<li>Launcher application (To display all installed apps on the home screen)</li>\n</ul>\n\n<p>I already noticed that it's nearly impossible to set the app as default app programmatically without the user's interaction. This would be the main goal, but it would be also okay if the user can choose which application they want to use as the default application. But I want to be sure that the apps which I listed above are selectable. So my question is, what mime types do I have to add to the intent filters in the android manifest file?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1552987660, "post_id": 55237267, "comment_id": 97208058, "body": "If you&#39;re on the JVM, you could just use a parallell stream. Something like <code>list.parallelStream().filter(predicate).collect(Collectors.t&zwnj;&#8203;oList())</code>."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1552994686, "post_id": 55237267, "comment_id": 97212315, "body": "If you&#39;re going to be doing lots of searches, wouldn&#39;t it be much more efficient to sort the collection (and/or add one or more indexes), to avoid having to scan the whole collection each time?"}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1552987611, "creation_date": 1552987611, "answer_id": 55237522, "question_id": 55237267, "link": "https://stackoverflow.com/questions/55237267/how-many-coroutines-is-too-many/55237522#55237522", "title": "How many coroutines is too many?", "body": "<p>According the <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html#coroutines-are-light-weight\" rel=\"nofollow noreferrer\">kotlin coroutine starter guide</a>, the example launches 100K coroutines. I believe what you intend to do is exactly what kotlin coroutine is designed for.</p>\n"}, {"comments": [{"owner": {"reputation": 984, "user_id": 4094167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLMEW.png?s=128&g=1", "display_name": "Aleksander Stelmaczonek", "link": "https://stackoverflow.com/users/4094167/aleksander-stelmaczonek"}, "edited": false, "score": 0, "creation_date": 1553000208, "post_id": 55238658, "comment_id": 97215977, "body": "Thanks, this doesn&#39;t answer directly my question but provides the actual information I needed."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 6, "last_activity_date": 1553018592, "last_edit_date": 1553018592, "creation_date": 1552990979, "answer_id": 55238658, "question_id": 55237267, "link": "https://stackoverflow.com/questions/55237267/how-many-coroutines-is-too-many/55238658#55238658", "title": "How many coroutines is too many?", "body": "<p>The memory weight of a coroutine scales with the depth of the call trace from the coroutine builder block to the suspension point. Each <code>suspend fun</code> call adds another <code>Continuation</code> object to a linked list and this is retained while the coroutine is suspended. A rough figure for one <code>Continuation</code> instance is 100 bytes.</p>\n\n<p>So, if you have a call trace depth of, say, 5, that amounts to 500 bytes per item. A million items is 500 MB.</p>\n\n<p>However, unless your search code involves blocking operations that would leave a thread idle, you aren't gaining anything from coroutines. Your task looks more like an instance of <em>data paralellism</em> and you can solve it very efficiently using the <code>java.util.stream</code> API (as noted by user <a href=\"https://stackoverflow.com/users/4137489\">marstran</a> in the comment).</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 10784903, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--6Y2n1HB2Jo/AAAAAAAAAAI/AAAAAAAAAB0/jJKKIk_Pm6g/photo.jpg?sz=128", "display_name": "Blackd", "link": "https://stackoverflow.com/users/10784903/blackd"}, "is_accepted": false, "score": 0, "last_activity_date": 1553066844, "last_edit_date": 1553066844, "creation_date": 1553009407, "answer_id": 55244599, "question_id": 55237267, "link": "https://stackoverflow.com/questions/55237267/how-many-coroutines-is-too-many/55244599#55244599", "title": "How many coroutines is too many?", "body": "<p>If you will not do many modifications over your collection then just store it in a HashMap,\nelse store it in a TreeMap. Then just search items there. I believe the search methods implemented there are optimized enough to handle a million items in a blink. I would not use coroutines in this case.</p>\n\n<p>Documentation (for Kotlin):</p>\n\n<p>HashMap: <a href=\"https://developer.android.com/reference/kotlin/java/util/HashMap\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/java/util/HashMap</a></p>\n\n<p>TreeMap: <a href=\"https://developer.android.com/reference/kotlin/java/util/TreeMap\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/java/util/TreeMap</a></p>\n"}], "owner": {"reputation": 984, "user_id": 4094167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zLMEW.png?s=128&g=1", "display_name": "Aleksander Stelmaczonek", "link": "https://stackoverflow.com/users/4094167/aleksander-stelmaczonek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 55238658, "answer_count": 3, "score": 3, "last_activity_date": 1553066844, "creation_date": 1552986894, "question_id": 55237267, "link": "https://stackoverflow.com/questions/55237267/how-many-coroutines-is-too-many", "title": "How many coroutines is too many?", "body": "<p>I need to speed up a search over some collection with millions of elements. \nSearch predicate needs to be passed as argument.</p>\n\n<p>I have been wondering wether the simplest solution(at least for now) wouldn't be just using coroutines for the task. </p>\n\n<p>The question I am facing right now is how many coroutines can I actually create at once. :D As a side note there might be more than one such search running concurrently. </p>\n\n<p>Can I make millions of coroutines(one for every item) for every such search? Should I decide on some workload per coroutine(for example 1000 items per coroutine)? Should I also decide on some cap for coroutines amount?</p>\n\n<p>I have rough understanding of coroutines and how they actually work, however, I have no idea what are the performance limitations of this feature.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "dagger-2", "android-databinding", "androidx", "kapt"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1552986256, "post_id": 55237055, "comment_id": 97207284, "body": "<code>Caused by: org.gradle.api.GradleException: Internal compiler error. See log for more details</code> have you checked the log for more details?"}, {"owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1552986402, "post_id": 55237055, "comment_id": 97207355, "body": "@EpicPandaForce Please check more logs."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1552986687, "post_id": 55237055, "comment_id": 97207493, "body": "Woah, very interesting. What JDK version are you using? Are you using the one bundled with Android Studio?"}, {"owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1552986991, "post_id": 55237055, "comment_id": 97207679, "body": "@EpicPandaForce 1.8"}], "answers": [{"comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1571684498, "post_id": 55246405, "comment_id": 103315172, "body": "Is it the newest Gradle version?"}, {"owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1571726490, "post_id": 55246405, "comment_id": 103325804, "body": "@IgorGanapolsky No, the latest is <code>3.5.1</code> <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/gradle-plugin</a>"}], "tags": [], "owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "is_accepted": false, "score": -1, "last_activity_date": 1612304260, "last_edit_date": 1612304260, "creation_date": 1553014952, "answer_id": 55246405, "question_id": 55237055, "link": "https://stackoverflow.com/questions/55237055/databinding-fails-with-jaxb-class-not-found-exception-during-compilation-using/55246405#55246405", "title": "Databinding fails with JAXB class not found exception during compilation (using kapt)", "body": "<p>After changing gradle version latest one, the compiler showed different errors which helped to solve the issue. In my case, the issue occured due to <strong>Dagger</strong> version <code>2.17</code>, so downgrading to <code>2.16</code> solved the issue.</p>\n<p>Reference: <a href=\"https://github.com/google/dagger/issues/1245\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/1245</a></p>\n"}], "owner": {"reputation": 3424, "user_id": 3134462, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BVlZp.jpg?s=128&g=1", "display_name": "Shahzeb", "link": "https://stackoverflow.com/users/3134462/shahzeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 998, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1612304260, "creation_date": 1552986156, "last_edit_date": 1552987693, "question_id": 55237055, "link": "https://stackoverflow.com/questions/55237055/databinding-fails-with-jaxb-class-not-found-exception-during-compilation-using", "title": "Databinding fails with JAXB class not found exception during compilation (using kapt)", "body": "<p>I am following <a href=\"https://github.com/googlesamples/android-architecture-components/tree/master/GithubBrowserSample\" rel=\"nofollow noreferrer\">GithubBrowserSample</a>. The only change I have made is not to use <code>NavHostFragment</code>. I am adding fragment at runtime but the code is not compiling and there is no such helpful error log</p>\n\n<p><strong>Application</strong></p>\n\n<pre><code>open class SCApp : Application(), HasActivityInjector, HasServiceInjector {\n\n    @Inject\n    protected lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    @Inject\n    protected lateinit var dispatchingServiceInjector: DispatchingAndroidInjector&lt;Service&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n\n        AppInjector.init(this)\n    }\n\n    override fun activityInjector() = dispatchingAndroidInjector\n\n    override fun serviceInjector() = dispatchingServiceInjector\n}\n</code></pre>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>class IncomingLeadActivity : AppCompatActivity(), HasSupportFragmentInjector {\n\n    lateinit var binding: ActivityIncomingLeadBinding\n\n    private lateinit var incomingLeadViewModel: IncomingLeadViewModel\n\n    @Inject\n    lateinit var viewModelFactory: ViewModelProvider.Factory\n\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_incoming_lead)\n        incomingLeadViewModel = ViewModelProviders.of(this, viewModelFactory).get(IncomingLeadViewModel::class.java)\n\n        binding.viewModel = incomingLeadViewModel\n        binding.setLifecycleOwner(this)\n\n        supportFragmentManager\n            .beginTransaction()\n            .replace(android.R.id.content, LeadReceiverFragment.newInstance(), \"\")\n            .commit()\n    }\n\n    override fun supportFragmentInjector() = dispatchingAndroidInjector\n}\n</code></pre>\n\n<p><strong>Fragment</strong></p>\n\n<pre><code>class LeadReceiverFragment : Fragment(), Injectable {\n\n    lateinit var binding: LeadReceiverFragmentBinding\n\n    @Inject\n    lateinit var viewModelFactory: ViewModelProvider.Factory\n\n    private lateinit var leadReceiverViewModel: LeadReceiverViewModel\n\n    companion object {\n        fun newInstance() = LeadReceiverFragment()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        binding = DataBindingUtil.inflate(\n            inflater,\n            R.layout.lead_receiver_fragment,\n            container,\n            false\n        )\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        leadReceiverViewModel = ViewModelProviders.of(this, viewModelFactory).get(LeadReceiverViewModel::class.java)\n        binding.setLifecycleOwner(viewLifecycleOwner)\n\n        binding.viewModel = leadReceiverViewModel\n    }\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptDebugKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n        at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: Internal compiler error. See log for more details\n        at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:15)\n        at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:135)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:152)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:147)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompilerAsync(GradleKotlinCompilerRunner.kt:87)\n        at org.jetbrains.kotlin.gradle.internal.KaptWithKotlincTask.compile(KaptWithKotlincTask.kt:72)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:768)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n        ... 31 more\n</code></pre>\n\n<p><strong>Detailed Log</strong></p>\n\n<pre><code>            ^\ne: java.lang.IllegalStateException: failed to analyze: java.lang.reflect.InvocationTargetException\n        at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:56)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:128)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:159)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:442)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:102)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1013)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1055)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1012)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:441)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:844)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n        at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:55)\n        at org.jetbrains.kotlin.kapt3.base.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:31)\n        at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:223)\n        at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:187)\n        at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:98)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\n        at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:123)\n        ... 30 more\nCaused by: com.sun.tools.javac.processing.AnnotationProcessingError: java.lang.ExceptionInInitializerError\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:976)\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:881)\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.access$2100(JavacProcessingEnvironment.java:110)\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1202)\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1311)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1250)\n        at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1149)\n        ... 47 more\nCaused by: java.lang.ExceptionInInitializerError\n        at android.databinding.annotationprocessor.ProcessExpressions$IntermediateV2.appendTo(ProcessExpressions.java:326)\n        at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:117)\n        at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:212)\n        at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:197)\n        at android.databinding.annotationprocessor.ProcessDataBinding.doProcess(ProcessDataBinding.java:98)\n        at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:73)\n        at org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:106)\n        at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:964)\n        ... 53 more\nCaused by: java.lang.RuntimeException: Cannot create the xml marshaller\n        at android.databinding.tool.store.ResourceBundle$LayoutFileBundle.&lt;clinit&gt;(ResourceBundle.java:730)\n        ... 61 more\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n        at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n        at android.databinding.tool.store.ResourceBundle$LayoutFileBundle.&lt;clinit&gt;(ResourceBundle.java:725)\n        ... 61 more\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499)\n        at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n        at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n        at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\n        ... 65 more\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit2", "json-deserialization"], "comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1552987289, "post_id": 55236963, "comment_id": 97207843, "body": "Are you asking how to parse both the response with one class?"}, {"owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1552987510, "post_id": 55236963, "comment_id": 97207982, "body": "Yes, i need a unique parser for both responses (this is an example, but in my real project i have more that two responses)."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1552987654, "post_id": 55236963, "comment_id": 97208053, "body": "` &quot;anothertext&quot; = &quot;b text: ` is not a valid JSON"}, {"owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1552988001, "post_id": 55236963, "comment_id": 97208289, "body": "typing error, edited my post."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1552988035, "post_id": 55236963, "comment_id": 97208318, "body": "@ Check my updated answer"}], "answers": [{"comments": [{"owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "edited": false, "score": 0, "creation_date": 1552988063, "post_id": 55237599, "comment_id": 97208342, "body": "i need ti keep separate classes, and i need the parser for do some data manupulation while parsing data. And my json example is about two differend api response"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "edited": false, "score": 0, "creation_date": 1552988346, "post_id": 55237599, "comment_id": 97208518, "body": "@giozh You can access the variables from the genericresponse, you don&#39;t need any parse libraries for that purpose"}, {"owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "edited": false, "score": 0, "creation_date": 1552988844, "post_id": 55237599, "comment_id": 97208832, "body": "As i told in my previous comment, my code is a very simplified example. In my real app i must have a different object (so not a GenericResponse instance) for each api response, so i need a deserializer/parser too."}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "edited": false, "score": 0, "creation_date": 1552989035, "post_id": 55237599, "comment_id": 97208940, "body": "GenericResponse class is to hold the base response, you need to add seperate classes for other json reponses, and you should keep those objects inside your genericresponse class then only you can parse it."}], "tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": -2, "last_activity_date": 1552988311, "last_edit_date": 1552988311, "creation_date": 1552987859, "answer_id": 55237599, "question_id": 55236963, "link": "https://stackoverflow.com/questions/55236963/gson-custom-deserializer-for-multiple-classes/55237599#55237599", "title": "GSON, custom deserializer for multiple classes", "body": "<p>For your JSON response</p>\n\n<pre><code>{\n\"res\": {\n    \"status\": {\n        \"code\": 0,\n        \"message\": \"some message\"\n    }\n},\n\"somedata\": {\n    \"someid\": \"12345\",\n    \"sometext\": \"a text\"\n},\n\"anotherdata\": {\n    \"anotherid\": \"54321\",\n    \"anothertext\": \"b text\"\n}\n}\n</code></pre>\n\n<p>The data model classes can be\nSomedata</p>\n\n<pre><code>data class Somedata(\nval someid: String,\nval sometext: String\n)\n</code></pre>\n\n<p>Status</p>\n\n<pre><code>data class Status(\nval code: Int,\nval message: String\n)\n</code></pre>\n\n<p>Anotherdata</p>\n\n<pre><code>data class Anotherdata(\nval anotherid: String,\nval anothertext: String\n)\n</code></pre>\n\n<p>These classes can be combined to parse the entire response\nGenericResponse</p>\n\n<pre><code>data class GenericResponse(\nval anotherdata: Anotherdata,\nval res: Res,\nval somedata: Somedata\n)\n</code></pre>\n\n<p>In retrofit use like</p>\n\n<pre><code>@POST(\"url\")\nfun callingMethod(@Field(\"username\") username: String, @Field(\"password\") \npassword: String): GenericResponse\n</code></pre>\n"}], "owner": {"reputation": 8708, "user_id": 1246746, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2a76d4174d0f059eed245367dd1ca097?s=128&d=identicon&r=PG", "display_name": "giozh", "link": "https://stackoverflow.com/users/1246746/giozh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1552988311, "creation_date": 1552985883, "last_edit_date": 1552988098, "question_id": 55236963, "link": "https://stackoverflow.com/questions/55236963/gson-custom-deserializer-for-multiple-classes", "title": "GSON, custom deserializer for multiple classes", "body": "<p>I need to implement a custom GSON deserializer (with Retrofit2) for my Android application in kotlin. This is how an example of how api gives me result:</p>\n\n<p>example1:</p>\n\n<pre><code> {\n     \"res\": {\n          \"status\": {\n              \"code\": 0,\n              \"message\": \"some message\",\n          }\n     },\n     \"somedata\": {\n         \"someid\" = \"12345\",\n         \"sometext\" = \"a text\" \n     }\n }\n</code></pre>\n\n<p>example2:</p>\n\n<pre><code>{\n     \"res\": {\n          \"status\": {\n              \"code\": 0,\n              \"message\": \"another message\",\n          }\n     },\n     \"anotherdata\": {\n         \"anotherid\" = \"54321\",\n         \"anothertext\" = \"b text\" \n     }\n }\n</code></pre>\n\n<p>this is relative kotlin classes for mapping data (i would use deserializer for extract data inside \"res\" object):</p>\n\n<pre><code>abstract class GenericResponse() {\n    //abstract class for common fields\n    constructor(status: Status?) : this()\n}\n\nclass Status(\n    val code: Int,\n    val message: String\n)\n</code></pre>\n\n<p>and this is specific response classes:</p>\n\n<pre><code>data class SomeData(\n    val status: Status,\n    val someid : String,\n    val sometext : String\n): GenericResponse(status)\n\n\ndata class AnotherData(\n    val status: Status,\n    val anotherid : String,\n    val anothertext : String\n): GenericResponse(status)\n</code></pre>\n\n<p>i've tryed to create a custom deserializer class  that implements JsonDeserializer, something like:</p>\n\n<pre><code>class CustomDeserializer : JsonDeserializer&lt;GenericResponse&gt; {\n    override fun deserialize(\n        json: JsonElement?,\n        typeOfT: Type?,\n        context: JsonDeserializationContext?\n    ): GenericResponse {\n\n    val rootElement = json!!.asJsonObject.getAsJsonObject(\"res\")\n    //further implementation, should return SomeData or AnotherData object\n}\n</code></pre>\n\n<p>but it doesn't work. How can i do?</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1552985142, "post_id": 55236670, "comment_id": 97206639, "body": "@StefanGolubovi\u0107, of course. I showed an example, that <code>getValue()</code> is accessible, but raises error. If I invoke nonexistent method (<code>getValue2()</code>), it raises another error. Sorry, I changed a source code to remove <code>getValue2()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": true, "score": 4, "last_activity_date": 1552985451, "creation_date": 1552985451, "answer_id": 55236818, "question_id": 55236670, "link": "https://stackoverflow.com/questions/55236670/cannot-use-lambda-inside-onclick-method-of-a-custom-class-in-kotlin/55236818#55236818", "title": "Cannot use lambda inside `onClick` method of a custom class in Kotlin", "body": "<p>Declare <code>getValue()</code> and <code>setValue()</code> as properties:</p>\n\n<pre><code>private class ClickListener(\n    val setValue: (Int) -&gt; Unit,\n    val getValue: () -&gt; Int\n) : View.OnClickListener {\n</code></pre>\n"}], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 55236818, "answer_count": 1, "score": 0, "last_activity_date": 1552985451, "creation_date": 1552984954, "last_edit_date": 1552985061, "question_id": 55236670, "link": "https://stackoverflow.com/questions/55236670/cannot-use-lambda-inside-onclick-method-of-a-custom-class-in-kotlin", "title": "Cannot use lambda inside `onClick` method of a custom class in Kotlin", "body": "<p>I want to create a series of click listeners for <code>TextView</code>s.</p>\n\n<pre><code>private class ClickListener(setValue: (Int) -&gt; (Unit), getValue: () -&gt; (Int)) : View.OnClickListener {\n\n    override fun onClick(v: View?) {\n            val oldValue = getValue()\n            val newValue = v?.text.toString().toInt()\n            if (newValue != oldValue) {\n                if (oldValue != 0) {\n                    v?.isSelected = false\n                    v?.clearFocus()\n                } else {\n                    v?.isSelected = true\n                    v?.requestFocus()\n                    setValue(newValue)\n                }\n            }\n    }\n}\n</code></pre>\n\n<p>Here I create a custom click listener with lambdas (setter and getter). I create lambdas in Fragment, where I set click listeners to <code>TextView</code>s.</p>\n\n<p>I can call <code>setValue()</code> and <code>getValue()</code> inside a constructor (<code>init</code>), but cannot use it inside <code>onClick()</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yWg7M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yWg7M.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I call <code>getValue2()</code>, I will get another error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eJioI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJioI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "onactivityresult"], "comments": [{"owner": {"reputation": 537, "user_id": 7255999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46a8be2d26e0985bc2a5102e6a404f50?s=128&d=identicon&r=PG", "display_name": "Muhammad Muzammil Sharif", "link": "https://stackoverflow.com/users/7255999/muhammad-muzammil-sharif"}, "edited": false, "score": 1, "creation_date": 1552983657, "post_id": 55236295, "comment_id": 97205870, "body": "call  <code>getActivity().startActivityForResult(intent, READ_REQUEST_CODE);</code>"}, {"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1552983794, "post_id": 55236295, "comment_id": 97205943, "body": "Does <code>PersonalInformationActivity</code> contain any Fragment?"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 537, "user_id": 7255999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46a8be2d26e0985bc2a5102e6a404f50?s=128&d=identicon&r=PG", "display_name": "Muhammad Muzammil Sharif", "link": "https://stackoverflow.com/users/7255999/muhammad-muzammil-sharif"}, "edited": false, "score": 0, "creation_date": 1552984035, "post_id": 55236295, "comment_id": 97206068, "body": "@MuhammadMuzammilSharif I called this.startActivityForResult(intent, READ_REQUEST_CODE) but it doesn&#39;t works"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1552984081, "post_id": 55236295, "comment_id": 97206097, "body": "@BachVu not at all, it&#39;s a very simple activity."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1552984088, "post_id": 55236295, "comment_id": 97206102, "body": "Check result code <code>resultCode == activity.RESULT_OK</code>. It should be <code>resultCode == Activity.RESULT_OK</code>"}, {"owner": {"reputation": 3122, "user_id": 5529263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e629acbc6aea3d6a8980721336438fc4?s=128&d=identicon&r=PG", "display_name": "Boken", "link": "https://stackoverflow.com/users/5529263/boken"}, "edited": false, "score": 0, "creation_date": 1552984138, "post_id": 55236295, "comment_id": 97206133, "body": "Did you try to set breakpoint in first line of <code>onActivityResult</code>?"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1552984176, "post_id": 55236295, "comment_id": 97206157, "body": "It&#39;s already like that in my code @Piyush. By the way onActivityResult isn&#39;t called so it&#39;s not related."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1552984232, "post_id": 55236295, "comment_id": 97206184, "body": "Have you gone through <i>Log</i>?"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 3122, "user_id": 5529263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e629acbc6aea3d6a8980721336438fc4?s=128&d=identicon&r=PG", "display_name": "Boken", "link": "https://stackoverflow.com/users/5529263/boken"}, "edited": false, "score": 0, "creation_date": 1552984270, "post_id": 55236295, "comment_id": 97206207, "body": "Yes @Boken. I have set breakpoint before startActivityForResult and another one first line onActivityResult. it doesn&#39;t stop in onActivityResult. it doesn&#39;t not enter."}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1552984584, "post_id": 55236295, "comment_id": 97206358, "body": "@Piyush I tried to put a Log.d yes but I didn&#39;t find any character from logcat about my Log.d so it confirms that it doesn&#39;t enter in onActivityForResult"}, {"owner": {"reputation": 620, "user_id": 4923046, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-t3LDa9cf8Aw/AAAAAAAAAAI/AAAAAAAAAJE/JVM06yAXyhY/photo.jpg?sz=128", "display_name": "Vasudev Vyas", "link": "https://stackoverflow.com/users/4923046/vasudev-vyas"}, "edited": false, "score": 0, "creation_date": 1552984691, "post_id": 55236295, "comment_id": 97206406, "body": "Open your Activity class and check onActivityResult() and log request code"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 620, "user_id": 4923046, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-t3LDa9cf8Aw/AAAAAAAAAAI/AAAAAAAAAJE/JVM06yAXyhY/photo.jpg?sz=128", "display_name": "Vasudev Vyas", "link": "https://stackoverflow.com/users/4923046/vasudev-vyas"}, "edited": false, "score": 0, "creation_date": 1552984750, "post_id": 55236295, "comment_id": 97206431, "body": "what do you mean ? @VasudevVyas"}, {"owner": {"reputation": 620, "user_id": 4923046, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-t3LDa9cf8Aw/AAAAAAAAAAI/AAAAAAAAAJE/JVM06yAXyhY/photo.jpg?sz=128", "display_name": "Vasudev Vyas", "link": "https://stackoverflow.com/users/4923046/vasudev-vyas"}, "edited": false, "score": 0, "creation_date": 1552984932, "post_id": 55236295, "comment_id": 97206520, "body": "Open your activity class where your  fragment define. override OnActivityResult() method in your activity and test response over there. like Log.e(&quot;TEST&quot;, recuestCode +&quot;&quot;); or  print any value."}, {"owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "edited": false, "score": 0, "creation_date": 1552985488, "post_id": 55236295, "comment_id": 97206827, "body": "Use different request code in fragment. That works for me"}, {"owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "edited": false, "score": 0, "creation_date": 1553057619, "post_id": 55236295, "comment_id": 97239618, "body": "Are you selecting any image? Permission check is done?"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1553063301, "post_id": 55236295, "comment_id": 97241327, "body": "Yes after selected a picture, activityOnResult is not called, permission is done"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "edited": false, "score": 0, "creation_date": 1553063348, "post_id": 55236295, "comment_id": 97241343, "body": "If you can upvote my question I will appreciate it @Athira"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "reply_to_user": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "edited": false, "score": 0, "creation_date": 1553065157, "post_id": 55236295, "comment_id": 97242058, "body": "I tried to refactor my Kotlin code into Java code and now it&#39;s working... @Athira"}], "answers": [{"comments": [{"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552987945, "post_id": 55236857, "comment_id": 97208266, "body": "Finally it doesn&#39;t work. It worked one time only. I also tried on 2 emulators it doesn&#39;t work. I tried with request codes 101, 102, 10003..."}, {"owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552988316, "post_id": 55236857, "comment_id": 97208504, "body": "You tried 101 for activity request and 102 for fragment?"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552996401, "post_id": 55236857, "comment_id": 97213424, "body": "I just tried right now, 101 for my activity and 102 for my fragment. It doesn&#39;t work"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552996737, "post_id": 55236857, "comment_id": 97213670, "body": "I tried on another physical device (huawei) also doesn&#39;t work. On Which API did you try ?"}, {"owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552997970, "post_id": 55236857, "comment_id": 97214512, "body": "Lollipop, micromax"}, {"owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552998121, "post_id": 55236857, "comment_id": 97214612, "body": "Before doing anything you try to print something in log"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1552999688, "post_id": 55236857, "comment_id": 97215623, "body": "I&#39;m already printing something in the logcat just before calling startActivityForResult(). My SDK project is 23 minimum (Marshmallow) so it&#39;s working for you because it&#39;s old I think."}], "tags": [], "owner": {"reputation": 1050, "user_id": 8375325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sCm0.jpg?s=128&g=1", "display_name": "Athira", "link": "https://stackoverflow.com/users/8375325/athira"}, "is_accepted": false, "score": 1, "last_activity_date": 1552985565, "creation_date": 1552985565, "answer_id": 55236857, "question_id": 55236295, "link": "https://stackoverflow.com/questions/55236295/onactivityforresult-doesnt-get-called/55236857#55236857", "title": "onActivityForResult doesn&#39;t get called", "body": "<p>Use different REQUEST_CODES for activity and fragment. I tried your code and tried different request codes 101 and 102, i got the result.</p>\n"}, {"tags": [], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "is_accepted": true, "score": 0, "last_activity_date": 1554300201, "creation_date": 1554300201, "answer_id": 55497068, "question_id": 55236295, "link": "https://stackoverflow.com/questions/55236295/onactivityforresult-doesnt-get-called/55497068#55497068", "title": "onActivityForResult doesn&#39;t get called", "body": "<p>It's not a real way to solve but I refactor this from Kotlin to Java (exactly the same code) and it works as well...</p>\n"}], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 55497068, "answer_count": 2, "score": -1, "last_activity_date": 1556970645, "creation_date": 1552983490, "last_edit_date": 1556970645, "question_id": 55236295, "link": "https://stackoverflow.com/questions/55236295/onactivityforresult-doesnt-get-called", "title": "onActivityForResult doesn&#39;t get called", "body": "<p>In this code, <code>onActivityForResult</code> is never called.</p>\n\n<p>My Activity :</p>\n\n<pre><code>class PersonalInformationActivity : AppCompatActivity(), View.OnClickListener {\n\n    private val READ_REQUEST_CODE = 2\n\n    lateinit var user: User\n    lateinit var email: EditText\n    lateinit var phoneNumber: EditText\n    lateinit var username: EditText\n    lateinit var profilePicture: ImageView\n    lateinit var photoURI: Uri\n\n //someCode\n\n    override fun onClick(v: View) {\n        when (v.id) {\n            R.id.profilePicture -&gt; {\n                importPicture()\n                if (photoURI != null) {\n                    try {\n                        val file = FileUtil.from(this, photoURI)\n                        RequestAddUserProfilePicture.MakeRequestTask(this, this).execute(user.token, file, photoURI.path!!.substring(photoURI.path!!.lastIndexOf(\"/\") + 1))\n                        Log.d(\"file\", \"File...:::: uti - \" + file.path + \" file -\" + file + \" : \" + file.exists())\n\n                    } catch (e: IOException) {\n                        e.printStackTrace()\n                    }\n\n                } else {\n                    Toast.makeText(this, \"need pic\", Toast.LENGTH_LONG).show()\n                }\n            }\n        }\n    }\n\n    private fun importPicture() {\n\n        val intent = Intent(Intent.ACTION_PICK,\n                android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n\n        setResult(Activity.RESULT_OK)\n        startActivityForResult(intent, READ_REQUEST_CODE)\n    }\n\n    public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == READ_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            if (data != null) {\n                photoURI = data.data\n                Log.d(\"URI\", \"Uri:\" + photoURI.toString())\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I have read this answer: <a href=\"https://stackoverflow.com/a/19546302/7937498\">https://stackoverflow.com/a/19546302/7937498</a>\nand tried trick but didn't solve my problem.</p>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "edited": false, "score": 2, "creation_date": 1553004633, "post_id": 55236111, "comment_id": 97218969, "body": "<code>.orderBy(UserDataTable.timestamp to false)</code> is deprecated in favor to <code>.orderBy(UserDataTable.timestamp to SortOrder.DESC)</code>. I will update the wiki page."}, {"owner": {"reputation": 267, "user_id": 7453591, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/13a71889ca01da1938f9aced1a9bdb1a?s=128&d=identicon&r=PG", "display_name": "\u0418\u043b\u044c\u044f \u0411\u0435\u043b\u0435\u0439\u0447\u0435\u0432", "link": "https://stackoverflow.com/users/7453591/%d0%98%d0%bb%d1%8c%d1%8f-%d0%91%d0%b5%d0%bb%d0%b5%d0%b9%d1%87%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1553062669, "post_id": 55236111, "comment_id": 97241128, "body": "My problem was in outdated version of exposed (0.11). It does not contain  orderBy method. May be this info will help someone"}], "tags": [], "owner": {"reputation": 1293, "user_id": 3666539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA7IS.jpg?s=128&g=1", "display_name": "noiaverbale", "link": "https://stackoverflow.com/users/3666539/noiaverbale"}, "is_accepted": true, "score": 4, "last_activity_date": 1553005930, "last_edit_date": 1553005930, "creation_date": 1552982750, "answer_id": 55236111, "question_id": 55235690, "link": "https://stackoverflow.com/questions/55235690/how-does-sorting-work-with-limit-in-kotlin-exposed-model/55236111#55236111", "title": "How does sorting work with limit in kotlin exposed model?", "body": "<p>You're sorting the results <strong>after</strong> query has been executed.</p>\n\n<p>You need to use <code>orderBy</code> method as described in <a href=\"https://github.com/JetBrains/Exposed/wiki/DSL#order-by\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<pre><code>UserDataModel\n  .find {\n    UserDataTable.type eq type and (UserDataTable.userId eq userId)\n  }\n  .limit(count)\n  .orderBy(UserDataTable.timestamp to SortOrder.DESC)\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 7453591, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/13a71889ca01da1938f9aced1a9bdb1a?s=128&d=identicon&r=PG", "display_name": "\u0418\u043b\u044c\u044f \u0411\u0435\u043b\u0435\u0439\u0447\u0435\u0432", "link": "https://stackoverflow.com/users/7453591/%d0%98%d0%bb%d1%8c%d1%8f-%d0%91%d0%b5%d0%bb%d0%b5%d0%b9%d1%87%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 55236111, "answer_count": 1, "score": 1, "last_activity_date": 1553005930, "creation_date": 1552980925, "question_id": 55235690, "link": "https://stackoverflow.com/questions/55235690/how-does-sorting-work-with-limit-in-kotlin-exposed-model", "title": "How does sorting work with limit in kotlin exposed model?", "body": "<p>I have following snippet of code:</p>\n\n<pre><code>UserDataModel\n                .find {\n                    UserDataTable.type eq type and (\n                            UserDataTable.userId eq userId\n                            )\n                }\n                .limit(count)\n                .sortedByDescending { it.timestamp }\n</code></pre>\n\n<p><code>sortedByDescending</code> is a part of kotlin collections API. The my main concern is: how does exposed lib return <strong><em>top</em></strong> (according to timestamp) <code>count</code> rows from table if select query looks like this and does not contain ORDER BY clause?</p>\n\n<pre><code>SELECT USERDATA.ID, USERDATA.USER_ID, USERDATA.TYPE,\nUSERDATA.PAYLOAD, USERDATA.\"TIMESTAMP\"\nFROM USERDATA \nWHERE USERDATA.TYPE = 'testType'\nand USERDATA.USER_ID = 'mockUser'\nLIMIT 4\n</code></pre>\n\n<p>And is it possible that sometimes or somehow returned result would be different for the same data?</p>\n\n<p>Really struggled here. Thank you in advance.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 2, "creation_date": 1552976570, "post_id": 55234777, "comment_id": 97202958, "body": "You can use <code>Any</code> type, it is equivalent to <b>Object</b> type in java."}, {"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1552977819, "post_id": 55234777, "comment_id": 97203411, "body": "okay, i will try and let you know and working or not ? Thanks!"}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1552977890, "post_id": 55234777, "comment_id": 97203446, "body": "Have you considered to use generics for that problem?"}, {"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1552978400, "post_id": 55234777, "comment_id": 97203608, "body": "@JeelVankhede can u post answer this one"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1552979474, "post_id": 55234777, "comment_id": 97204007, "body": "@NajibPuthawala can you show me the scenario for which you&#39;re having String &amp; Data type, it&#39;ll help me improve answer."}], "answers": [{"comments": [{"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011102, "post_id": 55235344, "comment_id": 97223316, "body": "Data object value is not come and coming null. So how to come data ?"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011175, "post_id": 55235344, "comment_id": 97223373, "body": "Can you provide your API response?"}, {"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011198, "post_id": 55235344, "comment_id": 97223391, "body": "see this response :  {&quot;status&quot;:true,&quot;message&quot;:&quot;OK&quot;,&quot;result&quot;:{&quot;id&quot;:&quot;39&quot;,&quot;name&quot;:&quot;te&zwnj;&#8203;st sixe&quot;},&quot;errors&quot;:&quot;&quot;}"}, {"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011232, "post_id": 55235344, "comment_id": 97223417, "body": "if status false like this :  {&quot;status&quot;:true,&quot;message&quot;:&quot;OK&quot;,&quot;result&quot;:,&quot;No data.&quot;errors&quot;:&quot;&quot;}"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011400, "post_id": 55235344, "comment_id": 97223527, "body": "Okay.. if you use <b>GSON</b> for serialisation and deserialisation the use <code>@serializedName(&quot;result&quot;)</code> or rename <b>data</b> variable to <b>result</b>."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "edited": false, "score": 0, "creation_date": 1553011456, "post_id": 55235344, "comment_id": 97223564, "body": "Also, you&#39;ll need to change your <code>Data</code> class accordingly."}, {"owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1553011475, "post_id": 55235344, "comment_id": 97223582, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190314/discussion-between-najib-puthawala-and-jeel-vankhede\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 1, "last_activity_date": 1553234491, "last_edit_date": 1553234491, "creation_date": 1552979249, "answer_id": 55235344, "question_id": 55234777, "link": "https://stackoverflow.com/questions/55234777/is-it-possible-to-same-key-with-differ-class-and-data-type-in-data-class-kotlin/55235344#55235344", "title": "Is it possible to same key with differ class and data type in data class kotlin android?", "body": "<p>When having multiple type for same variable, we can use <code>Any</code> type which is equivalent to <code>Object</code> type in java. So solution is like below :</p>\n\n<pre><code>class CMSRespTemp {\n\n    data class CMSRespApi(\n        val status: Boolean = false,\n        val message: String = \"\",\n        var data: Any? = null // changed it to var from val, so that we can change it's type runtime if required\n    )\n\n    data class Data(\n        val cms_id: String = \"\",\n        val cms_content: String = \"\"\n    )\n}\n</code></pre>\n\n<p>And when accessing that variable, one can simply cast like below :</p>\n\n<pre><code>val apiResponse : CMSRespApi //= some API response here from network call\nwhen (apiResponse.data) {\n    is String -&gt; {\n        // apiResponse.data will be smart-casted to String here\n    }\n    else -&gt; {\n        val responseData = Gson().fromJson&lt;CMSRespApi.Data&gt;(\n            Gson().toJsonTree(apiResponse.data),\n            CMSRespApi.Data::class.java\n        )\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1553069103, "creation_date": 1553069103, "answer_id": 55256059, "question_id": 55234777, "link": "https://stackoverflow.com/questions/55234777/is-it-possible-to-same-key-with-differ-class-and-data-type-in-data-class-kotlin/55256059#55256059", "title": "Is it possible to same key with differ class and data type in data class kotlin android?", "body": "<p>After 12 Hrs spend and got the solution my self,</p>\n\n<pre><code> val getResultCon = getSerCont.result // response Any\n val gson = Gson()\n val jsonElement = gson.toJsonTree(getResultCon)\n val resultData = gson.fromJson(jsonElement, SearchContactApi.Result::class.java)\n</code></pre>\n\n<p>Convert your data string to toJsonTree and fromJson with model class then got result.</p>\n"}], "owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 1, "accepted_answer_id": 55235344, "answer_count": 2, "score": 1, "last_activity_date": 1553234491, "creation_date": 1552976457, "last_edit_date": 1552982568, "question_id": 55234777, "link": "https://stackoverflow.com/questions/55234777/is-it-possible-to-same-key-with-differ-class-and-data-type-in-data-class-kotlin", "title": "Is it possible to same key with differ class and data type in data class kotlin android?", "body": "<p>I have one issue about code <strong>data class</strong> kotlin android.</p>\n\n<p>How to implement server response? sometimes I get <code>String</code> value or sometime get <code>Object</code> class.</p>\n\n<pre><code>class CMSRespTemp {\n\n    data class CMSRespApi(\n        val status: Boolean = false,\n        val message: String = \"\",\n        val data: String as Data\n    )\n\n    data class Data(\n        val cms_id: String = \"\",\n        val cms_content: String = \"\"\n    )\n}\n</code></pre>\n\n<p>When I implement only <code>Data</code> class it works, like this <code>val data: Data</code> or <code>val data: String</code>. But I need together <code>Data</code> and <code>String</code> with key only data.</p>\n\n<p>Is it possible?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "owner": {"reputation": 492, "user_id": 8427587, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/R81O1.jpg?s=128&g=1", "display_name": "Fadel Trivandi Dipantara", "link": "https://stackoverflow.com/users/8427587/fadel-trivandi-dipantara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1552976325, "creation_date": 1552976325, "question_id": 55234752, "link": "https://stackoverflow.com/questions/55234752/unable-to-resolve-dependency-for-featuredebug-compileclasspath-could-not-re", "title": "Unable to resolve dependency for &#39;:feature@debug/compileClasspath&#39;: Could not resolve Gradle Plugin 3.3", "body": "<p>I'm developing app with multiple <a href=\"https://developer.android.com/studio/projects/dynamic-delivery\" rel=\"nofollow noreferrer\">dynamic feature module</a>. But when I tried to update gradle plugin to version <code>3.3.2</code> it always fail.</p>\n\n<p>With a lot of error message like this <code>ERROR: Unable to resolve dependency for ':feature_name@debug/compileClasspath': Could not resolve ...</code> or <code>ERROR: Unable to resolve dependency for ':feature_name@release/compileClasspath': Could not resolve ...</code></p>\n\n<p>It works fine with gradle plugin <code>3.2.1</code>.</p>\n\n<p>This is my gradle plugin in my project <code>build.gradle</code></p>\n\n<pre><code>dependencies {\n    classpath 'com.gradle:build-scan-plugin:1.11'\n    classpath 'com.android.tools.build:gradle:3.3.2'\n}\n</code></pre>\n\n<p>I use gradle wrapper 4.10.2 <code>gradle-wrapper.properties</code></p>\n\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.2-all.zip</code></p>\n\n<p>This is my feature <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.dynamic-feature'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion builds.compileSdk\n    buildToolsVersion builds.buildTools\n\n    defaultConfig {\n        versionCode builds.versionCode\n        versionName builds.versionName\n        minSdkVersion builds.minSdk\n        targetSdkVersion builds.compileSdk\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.11'\n\n    // lifecycle\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    implementation 'android.arch.lifecycle:common-java8:1.1.1'\n\n    implementation 'com.google.android:flexbox:0.3.0'\n\n    implementation project(':app')\n    implementation project(':lib_component')\n}\n</code></pre>\n\n<p>I've tried <code>clean</code> project, <code>invalidate caches &amp; restart</code>, and delete <code>.idea</code> and <code>.gradle</code> directory, and also, <strong>Offline Work</strong> already <strong>unchecked</strong>. The errors still happen.\n<a href=\"https://i.stack.imgur.com/9Lcrk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Lcrk.png\" alt=\"not offline\"></a>.</p>\n\n<p>What can I do to update my gradle plugin version?</p>\n"}, {"tags": ["arrays", "multidimensional-array", "kotlin"], "comments": [{"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 1, "creation_date": 1552974306, "post_id": 55234085, "comment_id": 97202235, "body": "Could your give an example of what the output should look like?"}, {"owner": {"reputation": 25, "user_id": 11110533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d18f0d39c7fa075b2067fe90c1292349?s=128&d=identicon&r=PG&f=1", "display_name": "ntrix", "link": "https://stackoverflow.com/users/11110533/ntrix"}, "reply_to_user": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1552974532, "post_id": 55234085, "comment_id": 97202306, "body": "Of course. Lets say arr = [1,2] [3,4]. The output should be 1,4 since 1 is at index[0][0] and 4 is at index[3][4]"}, {"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1552976996, "post_id": 55234085, "comment_id": 97203096, "body": "Don&#39;t you mean <code>4</code> is at <code>[1][1]</code>?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1552981662, "post_id": 55234085, "comment_id": 97204931, "body": "So is this question about finding the <i>diagonal</i> of a square array?"}, {"owner": {"reputation": 25, "user_id": 11110533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d18f0d39c7fa075b2067fe90c1292349?s=128&d=identicon&r=PG&f=1", "display_name": "ntrix", "link": "https://stackoverflow.com/users/11110533/ntrix"}, "reply_to_user": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1553015276, "post_id": 55234085, "comment_id": 97225763, "body": "I did mean 4 is at [1][1]. The question is not about finding the diagonal of a square array. I understand that <code>if(i &lt; j)</code> then all of the elements below the main diagonal would be printed out. The solution that @andras stated showed me that there is a <code>.size</code> function to get the entire length of the array and that was my missing piece to my problem."}], "answers": [{"tags": [], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "is_accepted": true, "score": 1, "last_activity_date": 1552977232, "creation_date": 1552977232, "answer_id": 55234945, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array/55234945#55234945", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>Here is one way with <code>foreach</code>. The key is that you either iterate by indices, or you iterate by mapping the existing value with an index.</p>\n\n<p>3 ways to solve this:</p>\n\n<p>Any programming language styled:</p>\n\n<pre><code>    for(rowIndex in 0 until arr.size) {\n        for(colIndex in 0 until arr[rowIndex].size) {\n            if(colIndex == rowIndex) {\n                println(\"[$rowIndex, $colIndex]: ${arr[rowIndex][colIndex]}\")\n            }\n        }\n    }\n</code></pre>\n\n<p>Python styled: (and using destructuring syntax)</p>\n\n<pre><code>    for ((rowIndex, row) in arr.withIndex()) {\n        for ((colIndex, value) in row.withIndex()) {\n            if(colIndex == rowIndex) {\n                println(\"[$rowIndex, $colIndex]: $value\")\n            }\n        }\n    }\n</code></pre>\n\n<p>Same as previous, but using lambdas: </p>\n\n<pre><code>   arr.withIndex().forEach {\n        (rowIndex, row) -&gt;\n        row.withIndex().forEach { (colIndex, value) -&gt;\n            if(colIndex == rowIndex) {\n                println(\"[$rowIndex, $colIndex]: $value\")\n            }\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1552988913, "post_id": 55235497, "comment_id": 97208877, "body": "I would prefer <code>for</code> because of <a href=\"https://stackoverflow.com/questions/52904923/slow-range-foreach-in-kotlin\" title=\"slow range foreach in kotlin\">stackoverflow.com/questions/52904923/&hellip;</a> (it doesn&#39;t seem to have changed since then)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1552980001, "creation_date": 1552980001, "answer_id": 55235497, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array/55235497#55235497", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>I'd probably do something like this:</p>\n\n<pre><code>arr.indices.forEach { i -&gt;\n    arr[i].indices.forEach { j -&gt;\n        if (i == j) println(\"arr[$i][$j]==${arr[i][j]}\")\n    }\n}\n</code></pre>\n\n<p>The <code>indices</code> extension is just one way but since you're mostly interested in them I think it's a good solution.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1552988797, "creation_date": 1552988797, "answer_id": 55237902, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array/55237902#55237902", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>If there is only one element in an array you want, and you know its index, there is absolutely no reason to iterate over the array. So I would suggest</p>\n\n<pre><code>for (i in arr.indices) {\n    if (i &lt; arr[i].size) {\n        println(\"arr[$i][$i]==${arr[i][i]}\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1552989481, "creation_date": 1552989481, "answer_id": 55238150, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array/55238150#55238150", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>You can see following function</p>\n\n<pre><code>fun printDiagonalElements(){\n    val row1 = intArrayOf(1,2,3)\n    val row2 = intArrayOf(4,5,6)\n    val row3 = intArrayOf(7,8,9)\n    val row4 = intArrayOf(10,5,6,16)\n    val array : Array&lt;IntArray&gt; = arrayOf(row1,row2,row3,row4)\n\n    for(i in 0 .. array.size-1){\n        val row = array[i]\n        for (j in 0 .. row.size-1){\n            if(i == j){\n                println(array[i][j])\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1553018407, "creation_date": 1553018407, "answer_id": 55247296, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array/55247296#55247296", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>I'm not sure why every proposed solution here iterates the elements inner array if only one its value is required.</p>\n\n<p>Here is a way to print numbers in the main diagonal of a square 2D array with <em>one</em> loop:</p>\n\n<pre><code>arr.forEachIndexed { index, row -&gt; \n    println(\"value at [$index, $index]: ${row[index]}\")\n}\n</code></pre>\n\n<p>Note however that this will throw if there are more rows than columns in this array, i.e. if the array is not square. You can add a check to ensure that there's a column with the row index in each row array:</p>\n\n<pre><code>arr.forEachIndexed { index, row -&gt; \n    if (index in row.indices) {\n        println(\"value at [$index, $index]: ${row[index]}\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11110533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d18f0d39c7fa075b2067fe90c1292349?s=128&d=identicon&r=PG&f=1", "display_name": "ntrix", "link": "https://stackoverflow.com/users/11110533/ntrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 55234945, "answer_count": 5, "score": 0, "last_activity_date": 1553018407, "creation_date": 1552972623, "question_id": 55234085, "link": "https://stackoverflow.com/questions/55234085/convert-arrayint-to-int-kotlin-2d-array", "title": "Convert Array&lt;Int&gt; to Int kotlin 2D Array", "body": "<p>Is there a way to convert an <code>Array&lt;Int&gt;</code> to an Int in Kotlin? I am messing with 2D arrays and am trying to print the elements whose indexes are equal to each other. Here is my loop that tries to accomplish this:</p>\n\n<pre><code>     for (rows in arr) {\n         for (elements in rows) {\n--------&gt;    if (rows == elements) {\n                 print(elements)\n             }\n         }\n         print(\"\\n\")\n     }\n</code></pre>\n\n<p><code>rows</code> is type <code>Array&lt;Int&gt;</code> and <code>elements</code> is type <code>Int</code>. I have already tried using the StringBuilder method and that does not work. Is there a function or other method that allows this? Any tips for me to do further research is appreciated.</p>\n"}, {"tags": ["java", "maven", "kotlin", "flyway", "quarkus"], "comments": [{"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 1, "creation_date": 1552979784, "post_id": 55233662, "comment_id": 97204139, "body": "As far as I know flyway has never been tested with Quarkus and native execution. Your best bet would be to ask the Quarkus mailing list for some pointers on the problem"}, {"owner": {"reputation": 716, "user_id": 1135510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5821f68934899e5ed3fe816bb3a615d5?s=128&d=identicon&r=PG", "display_name": "cristhiank", "link": "https://stackoverflow.com/users/1135510/cristhiank"}, "reply_to_user": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1552995654, "post_id": 55233662, "comment_id": 97212922, "body": "Thanks for your advice. I created a simple project to test this issue <a href=\"https://github.com/cristhiank/quarkus-flyway-bug.git\" rel=\"nofollow noreferrer\">github.com/cristhiank/quarkus-flyway-bug.git</a>"}, {"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 1, "creation_date": 1553003502, "post_id": 55233662, "comment_id": 97218229, "body": "Thanks for moving this forward :)"}], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 1135510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5821f68934899e5ed3fe816bb3a615d5?s=128&d=identicon&r=PG", "display_name": "cristhiank", "link": "https://stackoverflow.com/users/1135510/cristhiank"}, "is_accepted": true, "score": 1, "last_activity_date": 1553304860, "creation_date": 1553304860, "answer_id": 55309786, "question_id": 55233662, "link": "https://stackoverflow.com/questions/55233662/how-add-flyway-dependency-and-build-native-image-quarkus-java-lang-classnotfound/55309786#55309786", "title": "How add Flyway dependency and build native image Quarkus java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFileFilter", "body": "<p>Quarkus supports Flyway without issues when executing in JVM mode, so you can use it as always.</p>\n\n<p>Quarkus native applications with Flyway are not supported yet. \nSome work to support it is in progress here: <a href=\"https://github.com/quarkusio/quarkus/issues/1575\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/1575</a></p>\n"}], "owner": {"reputation": 716, "user_id": 1135510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5821f68934899e5ed3fe816bb3a615d5?s=128&d=identicon&r=PG", "display_name": "cristhiank", "link": "https://stackoverflow.com/users/1135510/cristhiank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 55309786, "answer_count": 1, "score": 4, "last_activity_date": 1553304860, "creation_date": 1552969661, "question_id": 55233662, "link": "https://stackoverflow.com/questions/55233662/how-add-flyway-dependency-and-build-native-image-quarkus-java-lang-classnotfound", "title": "How add Flyway dependency and build native image Quarkus java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFileFilter", "body": "<p>I'm building an app using quarkus, kotlin and flyway.\nEverything works fine with the JVM execution, but it fails when we try to build a native image.\nAfter some debugging I found that the way Quarkus builds the native image is trying to load some dependencies from Flyway that we are not using like jboss-vfs or the Android SDK.</p>\n\n<p>This is the output from the <code>mvn package -Pnative -Dnative-image.docker-build=true</code> command:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z3P34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3P34.png\" alt=\"enter image description here\"></a></p>\n\n<p>The inner exception message is </p>\n\n<blockquote>\n  <p>java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFileFilter</p>\n</blockquote>\n\n<p>What's the \"right way\" to add Flyway as a dependency and being able to compile a native image without adding all the unused/optional dependencies?</p>\n"}, {"tags": ["android", "kotlin", "dnsjava"], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 5420880, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4HBBtQjuM2E/AAAAAAAAAAI/AAAAAAAAEHQ/pzwRNuq4T4U/photo.jpg?sz=128", "display_name": "Kenny Ingle", "link": "https://stackoverflow.com/users/5420880/kenny-ingle"}, "is_accepted": false, "score": 0, "last_activity_date": 1558593152, "creation_date": 1558593152, "answer_id": 56269262, "question_id": 55232740, "link": "https://stackoverflow.com/questions/55232740/dnsjava-returns-network-error-on-lookup-run/56269262#56269262", "title": "dnsjava returns network error on lookup.run()", "body": "<p>I'm assuming you're using Oreo?  Android made a change and no longer exposes dns through getprop, which is what dnsjava uses.  Alternatives can be found here: <a href=\"https://stackoverflow.com/questions/3070144/how-do-you-get-the-current-dns-servers-for-android\">How do you get the current DNS servers for Android?</a></p>\n"}], "owner": {"reputation": 366, "user_id": 3137910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38afbd6e7529d20c6eefe364a52dba3c?s=128&d=identicon&r=PG&f=1", "display_name": "pingOfDoom", "link": "https://stackoverflow.com/users/3137910/pingofdoom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558593152, "creation_date": 1552962131, "last_edit_date": 1555003377, "question_id": 55232740, "link": "https://stackoverflow.com/questions/55232740/dnsjava-returns-network-error-on-lookup-run", "title": "dnsjava returns network error on lookup.run()", "body": "<p>I'm using dnsjava in my android app to retrieve a txt file on the first time the app starts up. </p>\n\n<pre><code>val lookup = Lookup(domain, Type.TXT)\n\nlookup.setResolver(SimpleResolver())\n\nval records = lookup.run()\nif (lookup.result == Lookup.SUCCESSFUL)\n       //Do things\n</code></pre>\n\n<p>I'm not able to do the retrieval and doing some debugging I find that after doing the .run(), the result on the lookup object is Lookup.Try_Again, returning a network error as the string returned when I drill into .run(). Not sure why this is occuring when the device that's being run on has perfect internet connectivity otherwise. Looking a little deeper I find that the nameserver used by the Resolver is just localhost. The url from which I'm retrieving from is public facing. How do I fix my error and what should I change the nameserver to such that this works?</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1552960943, "post_id": 55232453, "comment_id": 97199285, "body": "Why not just use merge and remove each independent subscribe?"}], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": true, "score": 1, "last_activity_date": 1552964979, "creation_date": 1552964979, "answer_id": 55233065, "question_id": 55232453, "link": "https://stackoverflow.com/questions/55232453/rxjava-subscribe-multiple-observables-separately-and-together/55233065#55233065", "title": "RxJava subscribe multiple observables separately and together", "body": "<p>You can try using <code>doOnSuccess</code></p>\n\n<pre><code>postDetail = getPostDetail(postId).doOnSuccess { showPostDetails(it) }\ngetComments = getComments(postId).doOnSuccess { showComments(it) }\n</code></pre>\n\n<p>Then just merge them</p>\n\n<pre><code>Single.merge(postDetail, getComments)\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .doOnSubscribe {\n        showLoadingScreen()\n    }\n    .doOnTerminate {\n        hideLoadingScreen()\n    }\n    .subscribe()\n\n</code></pre>\n"}], "owner": {"reputation": 828, "user_id": 7778434, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PBQES9OndZM/AAAAAAAAAAI/AAAAAAAAG5M/5_uvln9idzk/photo.jpg?sz=128", "display_name": "Tura", "link": "https://stackoverflow.com/users/7778434/tura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 55233065, "answer_count": 1, "score": 1, "last_activity_date": 1552964979, "creation_date": 1552959343, "question_id": 55232453, "link": "https://stackoverflow.com/questions/55232453/rxjava-subscribe-multiple-observables-separately-and-together", "title": "RxJava subscribe multiple observables separately and together", "body": "<p>I have two network requests.</p>\n\n<pre><code>fun getPostDetail(postId: Int): Single&lt;Post&gt;\nfun getComments(postId: Int): Single&lt;List&lt;Post&gt;&gt;\n</code></pre>\n\n<p>What I want to do is...</p>\n\n<ol>\n<li>Show loading screen when it starts. those two requests should work independently.</li>\n<li>As each request completes, the showing results updated.</li>\n<li>Hide the loading screen when all the requests terminate.</li>\n</ol>\n\n<p>I have functions that handle the loading page:</p>\n\n<pre><code>fun showLoadingScreen()\nfun hideLoadingScreen()\n</code></pre>\n\n<p>and manipulate the view:</p>\n\n<pre><code>fun showPostDetails(post)\nfun showComments(comments)\n</code></pre>\n\n<p>I've tried this way - subscribe each, and also subscribe merged one:</p>\n\n<pre><code>postDetail = getPostDetail(postId)\ngetComments = getComments(postId)\n\npostDetail.subscribe()\ngetComments.subscribe()\n\nSingle.merge(postDetail, getComments).subscribe()\n</code></pre>\n\n<p>In this case, it makes multiple requests rather than once.</p>\n\n<p>What's the best approach to this kind of problem? I can use <code>CountDownLatch</code> for counting the completion of each request, but is there any other descent solution to this in RxJava?</p>\n"}, {"tags": ["javascript", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 3, "last_activity_date": 1552984786, "last_edit_date": 1552984786, "creation_date": 1552983765, "answer_id": 55236369, "question_id": 55232286, "link": "https://stackoverflow.com/questions/55232286/idiomatic-kotlin2js-gradle-setup/55236369#55236369", "title": "Idiomatic Kotlin2JS Gradle setup", "body": "<p>Webpack can be used in order to create a single JS containing all dependencies.</p>\n\n<p><a href=\"https://github.com/eggeral/kotlin-single-js-file-lib\" rel=\"nofollow noreferrer\">https://github.com/eggeral/kotlin-single-js-file-lib</a> shows a complete example</p>\n\n<ol>\n<li><p>Make sure the KotlinJS compiler uses as module system which is understood by webpack.</p>\n\n<pre><code>tasks.withType&lt;Kotlin2JsCompile&gt; {\n    kotlinOptions {\n        moduleKind = \"umd\"\n    }\n}\n</code></pre></li>\n<li><p>Copy all dependencies to the some place in the build directory</p>\n\n<pre><code>task&lt;Copy&gt;(\"assembleJsLib\") {\n    configurations.compile.get().resolve().forEach { file: File -&gt;\n        from(zipTree(file.absolutePath), {\n            includeEmptyDirs = false\n            include { fileTreeElement -&gt;\n                val path = fileTreeElement.path\n                (path.endsWith(\".js\") || path.endsWith(\".js.map\")) &amp;&amp; (path.startsWith(\"META-INF/resources/\") ||\n                        !path.startsWith(\"META-INF/\"))\n            }\n        })\n    }\n    from(tasks.withType&lt;ProcessResources&gt;().map { it.destinationDir })\n    into(\"$buildDir/js\")\n\n    dependsOn(\"classes\")\n}\n</code></pre></li>\n<li><p>Use the <code>com.moowork.node</code> plugin to run Webpack.</p>\n\n<pre><code>import com.moowork.gradle.node.task.NodeTask\n\nplugins {\n    id(\"kotlin2js\") version \"1.3.21\"\n    id(\"com.moowork.node\") version \"1.2.0\"\n}\n\nnode {\n    download = true\n}\n\ntask&lt;NodeTask&gt;(\"webpack\") {\n    dependsOn(\"npm_install\")\n    setScript(File(\"$projectDir/node_modules/webpack/bin/webpack\"))\n}\n</code></pre></li>\n<li><p>Make sure everthing is executed on <code>gradle build</code></p>\n\n<pre><code>tasks {\n    named(\"webpack\") { dependsOn(\"assembleJsLib\") }\n    assemble { dependsOn(\"webpack\") }\n}\n</code></pre></li>\n<li><p>Create a minimal <code>package.json</code>for Npm.</p>\n\n<pre><code>{\n    \"devDependencies\": {\n        \"webpack\": \"^4.29.0\",\n        \"webpack-cli\": \"^3.2.1\"\n    }\n}\n</code></pre></li>\n<li><p>Create a minimal <code>webpack.config.js</code></p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    mode: 'development',\n    devtool: 'source-map',\n    entry: path.resolve(__dirname, 'build/classes/kotlin/main/kotlin-lib.js'),\n    resolve: {\n        \"modules\": [\n            path.resolve(__dirname, 'build/js'),\n            \"node_modules\"\n        ]\n    },\n    output: {\n        filename: \"kotlin-lib.js\",\n        libraryTarget: \"umd\",\n        path: path.resolve(__dirname, 'build/webpack'),\n    }\n\n};\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 51182, "user_id": 1468366, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2e313135581cf6ceaad355580af931f8?s=128&d=identicon&r=PG", "display_name": "MvG", "link": "https://stackoverflow.com/users/1468366/mvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 55236369, "answer_count": 1, "score": 1, "last_activity_date": 1552984786, "creation_date": 1552957923, "question_id": 55232286, "link": "https://stackoverflow.com/questions/55232286/idiomatic-kotlin2js-gradle-setup", "title": "Idiomatic Kotlin2JS Gradle setup", "body": "<p>I want to write a JavaScript library in Kotlin, using Gradle as the build tool with Kotlin as the config language for that, too. In the end I'd like to get a single JS file which can be used as a stand-alone library, i.e. with (all required parts of) the Kotlin library bundled into it.</p>\n\n<p>What would a minimal setup to make this work look like? In particular, how do I get the Kotlin libraries bundled in?</p>\n\n<hr>\n\n\n\n<p>Here is what I have so far.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html</a><br>\nonly uses Groovy to configure Gradle. It also uses the <code>buildscript</code> in combination with the <code>apply plugin</code> statement, where I was under the general impression that this is considered a legacy approach and the <code>plugins</code> section would be the preferred way.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#targeting-javascript\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#targeting-javascript</a><br>\nhas Kotlin scripts. The code snippet for <code>settings.gradle</code> doesn't have a switch between Groovy and Kotlin, but it appears to work without modification in my <code>settings.gradle.kts</code>. That will create a file <code>js/build/classes/kotlin/main/${project.name}.js</code> which looks like this (with <code>moduleKind = \"commonjs\"</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function (_, Kotlin) { \u2026 }(module.exports, require('kotlin')));\n</code></pre>\n\n<p>So I can see it containing the transpiled version of my source code, but it won't run on its own; it will need a copy of the standard library. I can add that as a dependency with</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-js\")\n    testImplementation(\"org.jetbrains.kotlin:kotlin-test-js\")\n}\n</code></pre>\n\n<p>but that alone is not enough to make the standard library end up in the output. I guess I might be able to use the <a href=\"https://www.npmjs.com/package/kotlin\" rel=\"nofollow noreferrer\"><code>kotlin</code> npm package</a>, but I'd prefer to automate combining these sources into one.</p>\n\n<p>I also tried disabling the <code>noStdlib</code> setting using</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;org.jetbrains.kotlin.gradle.dsl.KotlinJsCompile&gt; {\n    kotlinOptions {\n        noStdlib = false\n    }\n}\n</code></pre>\n\n<p>which contains a fair bit of guesswork since the examples which do things of this kind tend to use Groovy notation and a <code>compileKotlin2Js</code> block which leads to a syntax error if my build script is in Kotlin. So with the above I get a compiler error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>w: Unable to find kotlin-stdlib-js.jar in the Kotlin home directory.\nPass either '-no-stdlib' to prevent adding it to the classpath, or\nthe correct '-kotlin-home'\n</code></pre>\n\n<p>So how do I get that one to use the standard library provided as a dependency? Is this even the right approach?</p>\n\n<p><a href=\"https://blog.kotlin-academy.com/kotlin-js-configuration-made-simple-ef0e361fcd4\" rel=\"nofollow noreferrer\">https://blog.kotlin-academy.com/kotlin-js-configuration-made-simple-ef0e361fcd4</a> and the <a href=\"https://github.com/Kotlin/kotlin-frontend-plugin\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-frontend-plugin</a> it references describe another kind of plugin to help web development, but again all the examples are Groovy only and I couldn't even get the plugin to resolve. I tried things like</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(\"org.jetbrains.kotlin.frontend\").version(\"0.0.45\")\n}\n\nrepositories {\n    jcenter()\n    maven {\n        url = java.net.URI(\"https://dl.bintray.com/kotlin/kotlin-eap\")\n    }\n}\n</code></pre>\n\n<p><a href=\"https://medium.com/@czuckie/experimenting-with-kotlin2js-and-qunit-gradle-ab2164af695\" rel=\"nofollow noreferrer\">Another blog post</a> suggests some <a href=\"https://gist.github.com/ElFeesho/617cc58979b1172c7add31c2986fd8c0\" rel=\"nofollow noreferrer\">Gist</a> with commands that allegedly would extract the JavaScript files from dependencies and put them into my output directory. I can imagine this would work, but I'm not yet willing to accept that this would be the best way to address things, that there is no more stream-lined way of achieving this result.</p>\n"}, {"tags": ["kotlin", "stdin"], "comments": [{"owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "edited": false, "score": 1, "creation_date": 1552957857, "post_id": 55231826, "comment_id": 97198626, "body": "<a href=\"https://stackoverflow.com/questions/53575064/clean-way-of-reading-all-input-lines-in-kotlin/53575400#53575400\" title=\"clean way of reading all input lines in kotlin\">stackoverflow.com/questions/53575064/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29866, "user_id": 647053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FyZJb.png?s=128&g=1", "display_name": "Ram Ghadiyaram", "link": "https://stackoverflow.com/users/647053/ram-ghadiyaram"}, "edited": false, "score": 2, "creation_date": 1552961651, "post_id": 55232382, "comment_id": 97199411, "body": "some explanation pls"}], "tags": [], "owner": {"reputation": 1072, "user_id": 1585041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3eace17f2577f3168360548aecfb7aec?s=128&d=identicon&r=PG", "display_name": "Artenes Nogueira", "link": "https://stackoverflow.com/users/1585041/artenes-nogueira"}, "is_accepted": true, "score": 3, "last_activity_date": 1553128663, "last_edit_date": 1553128663, "creation_date": 1552958693, "answer_id": 55232382, "question_id": 55231826, "link": "https://stackoverflow.com/questions/55231826/how-to-read-all-lines-from-stdin-in-kotlin/55232382#55232382", "title": "How to read all lines from stdin in kotlin?", "body": "<pre><code>val input = generateSequence(::readLine).joinToString(\"\\n\")\nprint(input)\n</code></pre>\n\n<p>The first line gets the multi-line input from stdin and put it into a variable.</p>\n\n<p>The <code>generateSequence</code> is a function from kotlin standard library, <code>kotlin.sequences</code> package, that takes another function and calls it until it returns null. In the end it will return an instance of Sequence, that is a sequence of elements that can be iterated over.</p>\n\n<p>The <code>::readLine</code> part is a way to pass the <code>readLine</code> function, that it is used to read from stdin, to the <code>generateSequence</code> function. Just calling <code>readLine()</code> without <code>::</code> will cause a compiler error since <code>generateSequence</code> expects for a lambda, not a string.</p>\n\n<p>The joinToString method belongs to the Sequence class. It will iterate over its elements and join them using the given separator, which, in this case, is a new line (\\n).</p>\n\n<p>Finnaly at the second line we just print the result to the stdout.</p>\n"}], "owner": {"reputation": 1072, "user_id": 1585041, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3eace17f2577f3168360548aecfb7aec?s=128&d=identicon&r=PG", "display_name": "Artenes Nogueira", "link": "https://stackoverflow.com/users/1585041/artenes-nogueira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "accepted_answer_id": 55232382, "answer_count": 1, "score": 2, "last_activity_date": 1553128663, "creation_date": 1552953894, "question_id": 55231826, "link": "https://stackoverflow.com/questions/55231826/how-to-read-all-lines-from-stdin-in-kotlin", "title": "How to read all lines from stdin in kotlin?", "body": "<p>I know it is possible to use a while loop to fetch a multi-line input from stdin using the readLine function. </p>\n\n<p>Is there a function in kotlin to retrieve all lines at once from stdin without using a JVM api?</p>\n"}, {"tags": ["kotlin", "mocking", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1583198907, "creation_date": 1583198907, "answer_id": 60498852, "question_id": 55231374, "link": "https://stackoverflow.com/questions/55231374/kotlin-mockito-nullpointerexception-thrown-when-stubbing/60498852#60498852", "title": "Kotlin + Mockito + NullPointerException thrown when stubbing", "body": "<p>You should use the onBlocking method to properly mock the suspend function</p>\n\n<p>Please try the following code:</p>\n\n<pre><code>    @Test\n    fun demoTest() {\n        val implMock = mock&lt;ITestInterface&gt; {\n            onBlocking {\n                returnSomeString()\n            } doReturn \"Hello\"\n\n            onBlocking {\n                returnBoolean()\n            } doReturn false\n        }\n\n        runBlocking {\n            // Execute your code here\n            assertThat(implMock.returnSomeString()).isEqualTo(\"Hello\")\n            assertThat(implMock.returnBoolean()).isEqualTo(false)\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 3018608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oFkdl.jpg?s=128&g=1", "display_name": "Markward Schubert", "link": "https://stackoverflow.com/users/3018608/markward-schubert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1583198907, "creation_date": 1552950526, "question_id": 55231374, "link": "https://stackoverflow.com/questions/55231374/kotlin-mockito-nullpointerexception-thrown-when-stubbing", "title": "Kotlin + Mockito + NullPointerException thrown when stubbing", "body": "<p>Today I stumbled across a situation which I do not understand, possibly because of lack of insight into how mockito and mockito-kotlin work internally.</p>\n\n<p>Given the code below, from my Kotlin beginner perspective, I have two pretty similar interface-methods. One returns Boolean, one String. Both are suspend functions in my example as in my real world situation my functions are too. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    class ITestInterface {\n        suspend fun returnBoolean(): Boolean {\n            return true\n        }\n\n        suspend fun returnSomeString() :  String {\n            return \"String\"\n        }\n    }\n\n\n    @Test\n    fun demoTest() {\n        val implMock = mock&lt;ITestInterface&gt; {\n            on {\n                runBlocking {\n                    returnSomeString()\n                }\n            } doReturn \"Hello\"\n\n            on {\n                runBlocking {\n                    returnBoolean()\n                }\n            } doReturn false\n        }\n    }\n</code></pre>\n\n<p>My observation is, when I run the test, like depicted above, I get the following error Message</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>com.nhaarman.mockitokotlin2.MockitoKotlinException: NullPointerException thrown when stubbing.\nThis may be due to two reasons:\n    - The method you're trying to stub threw an NPE: look at the stack trace below;\n    - You're trying to stub a generic method: try `onGeneric` instead.\n\n    at com.nhaarman.mockitokotlin2.KStubbing.on(KStubbing.kt:72)\n    at com.rewedigital.fulfillment.picking.components.substitute.DemoTest.demoTest(DemoTest.kt:30)\n</code></pre>\n\n<p>[...]</p>\n\n<p>Experiments showed that </p>\n\n<ul>\n<li>the behavior is <strong>only</strong> shown by the Boolean returning function, not by returnSomeString()</li>\n<li>removing the suspend keyword fro the returnBoolean function makes the error go away</li>\n<li>using onGeneric as suggested in the error message also makes the error go away</li>\n</ul>\n\n<p>Could anybody explain why this is happening? To what extend do we have to do with generics here? And what would be the correct way of solving the issue in our real application? Having a bunch of on {} and some onGeneric {} ?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "edited": false, "score": 0, "creation_date": 1553205746, "post_id": 55234959, "comment_id": 97309051, "body": "That&#39;s not working. The error is the same. Could you post the full code for the presenter?"}, {"owner": {"reputation": 1031, "user_id": 4531772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/917c51994f23ff695fce2f15d8ccadc5?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Patel", "link": "https://stackoverflow.com/users/4531772/prashant-patel"}, "reply_to_user": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "edited": false, "score": 0, "creation_date": 1553576735, "post_id": 55234959, "comment_id": 97424456, "body": "Have updated the answer, hope this time it works for you. Though, you can also refer <a href=\"https://github.com/MindorksOpenSource/android-mvp-architecture/tree/master/app/src/main/java/com/mindorks/framework/mvp\" rel=\"nofollow noreferrer\">github.com/MindorksOpenSource/android-mvp-architecture/tree/&zwnj;&#8203;&hellip;</a>, for a more generic MVP structure."}, {"owner": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "edited": false, "score": 0, "creation_date": 1553586932, "post_id": 55234959, "comment_id": 97428256, "body": "Thanks for your comments, I found the solution."}], "tags": [], "owner": {"reputation": 1031, "user_id": 4531772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/917c51994f23ff695fce2f15d8ccadc5?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Patel", "link": "https://stackoverflow.com/users/4531772/prashant-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1553576620, "last_edit_date": 1553576620, "creation_date": 1552977306, "answer_id": 55234959, "question_id": 55231015, "link": "https://stackoverflow.com/questions/55231015/wrong-graph-in-dagger-2-with-kotlin/55234959#55234959", "title": "Wrong graph in Dagger 2 with kotlin", "body": "<p>Define HomePresenter variable as a function parameter, as below:</p>\n\n<pre><code>@Module\nclass HomeFragmentModule {\n\n    @Provides\n    fun provideHomePresenter(homePresenter: HomePresenter): HomeContract.Presenter {\n            return homePresenter\n    }\n}\n</code></pre>\n\n<p>Modify your <code>HomePresenter</code> class as below:</p>\n\n<pre><code>class HomePresenter @Inject constructor(val databaseManager: DatabaseManager) :\nBasePresenter&lt;HomeContract.View&gt;(), HomeContract.Presenter {\n   ....\n}\n</code></pre>\n\n<p>Also, you can use <code>DatabaseManager</code> instance from the constructor directly by marking it as <code>val</code>, there is no need to define it separately.</p>\n\n<p>In <code>AppComponent</code>, try using <code>AndroidInjectionModule::class</code> if you are not using support Fragments.</p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidInjectionModule::class,\n                    AppModule::class,\n                    ActivityBuilder::class])\n    interface AppComponent {\n        ....\n    }\n</code></pre>\n\n<p>Hope this will resolve your issue!</p>\n"}, {"tags": [], "owner": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "is_accepted": true, "score": 0, "last_activity_date": 1553586902, "creation_date": 1553586902, "answer_id": 55352227, "question_id": 55231015, "link": "https://stackoverflow.com/questions/55231015/wrong-graph-in-dagger-2-with-kotlin/55352227#55352227", "title": "Wrong graph in Dagger 2 with kotlin", "body": "<p>I came up with the problem. If I change the injection in the HomeFragment from <code>@Inject lateinit var mPresenter: HomeContract.Presenter</code> to <code>@Inject lateinit var mPresenter: HomePresenter</code> everything works fine.</p>\n"}], "owner": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 55352227, "answer_count": 2, "score": 0, "last_activity_date": 1553588894, "creation_date": 1552948207, "last_edit_date": 1553588894, "question_id": 55231015, "link": "https://stackoverflow.com/questions/55231015/wrong-graph-in-dagger-2-with-kotlin", "title": "Wrong graph in Dagger 2 with kotlin", "body": "<p>I am trying to use Dagger 2 with Kotlin and I am missing something. The problem comes when I try to inject an MVP presenter into the <code>Fragment</code>.</p>\n\n<p>These are my files:</p>\n\n<p><strong>AppClass</strong></p>\n\n<pre><code>class AppClass : Application(), HasActivityInjector {\n\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerAppComponent.builder()\n            .application(this)\n            .build()\n            .inject(this)\n    }\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = dispatchingAndroidInjector\n\n    companion object {\n        lateinit var instance: AppClass private set\n    }\n}\n</code></pre>\n\n<p><strong>AppComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = [AndroidSupportInjectionModule::class,\n                    AppModule::class,\n                    ActivityBuilder::class])\ninterface AppComponent {\n\n    fun inject(appClass: AppClass)\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(appClass: AppClass): Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Provides\n    @Singleton\n    fun provideContext(app : AppClass) = app\n\n    @Provides\n    @Singleton\n    fun provideDatabaseManager() = DatabaseManager()\n}\n</code></pre>\n\n<p><strong>ActivityBuilder</strong></p>\n\n<pre><code>@Module\nabstract class ActivityBuilder {\n\n    @ContributesAndroidInjector(modules = [ActivityModule::class, HomeFragmentProvider::class])\n    internal abstract fun bindHomeActivity(): HomeActivity\n}\n</code></pre>\n\n<p><strong>HomeFragmentProvider</strong></p>\n\n<pre><code>@Module\npublic abstract class HomeFragmentProvider {\n\n    @ContributesAndroidInjector(modules = HomeFragmentModule.class)\n    abstract HomeFragment provideHomeFragmentFactory();\n}\n</code></pre>\n\n<p><strong>HomeFragmentModule</strong></p>\n\n<pre><code>@Module\nclass HomeFragmentModule {\n\n    @Provides\n    fun provideHomePresenter(databaseManager: DatabaseManager): HomeContract.Presenter {\n        return HomePresenter(databaseManager)\n    }\n}\n</code></pre>\n\n<p><strong>HomeFragment</strong></p>\n\n<pre><code>class HomeFragment : HomeContract.View {\n\n    @Inject lateinit var mPresenter: HomeContract.Presenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidSupportInjection.inject(this)\n        super.onCreate(savedInstanceState)\n\n        if (arguments != null) {\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val view = inflater.inflate(R.layout.fragment_home, container, false)\n\n        return view\n    }\n\n    companion object {\n\n        private val STARTING_PAGE_INDEX = 0\n\n        fun newInstance(): HomeFragment {\n            val fragment = HomeFragment()\n            val args = Bundle()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Log</strong></p>\n\n<pre><code>...app/build/tmp/kapt3/stubs/debug/.../di/component/FragmentComponent.java:9: error: [Dagger/MissingBinding] ....HomeContract.Presenter cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>I try to inject the <code>DatabaseManager</code> in the Activity and works fine so I suppose that my problem is related to the <code>Fragment</code> dependencies.</p>\n\n<p>Any help is appreciated.</p>\n\n<p><strong>UPDATE</strong>\n<strong>HomePresenter</strong></p>\n\n<pre><code>class HomePresenter() :\nBasePresenter&lt;HomeContract.View&gt;(), HomeContract.Presenter {\n\nprivate lateinit var mDatabaseManager : DatabaseManager\n\n@Inject constructor(databaseManager: DatabaseManager) : this() {\n    this.mDatabaseManager = databaseManager\n}\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-plugin", "spring-restdocs"], "answers": [{"tags": [], "owner": {"reputation": 1735, "user_id": 1999083, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f90d942609fbf3c575d75498a1af4fa?s=128&d=identicon&r=PG", "display_name": "Liang Zhou", "link": "https://stackoverflow.com/users/1999083/liang-zhou"}, "is_accepted": false, "score": 1, "last_activity_date": 1552953498, "creation_date": 1552953498, "answer_id": 55231791, "question_id": 55230558, "link": "https://stackoverflow.com/questions/55230558/how-to-modify-the-gradle-task-openapi3s-dependson-the-gradle-plugin-is-written/55231791#55231791", "title": "How to modify the gradle task openapi3&#39;s dependsOn. The gradle plugin is written in kotlin", "body": "<p>Found a simple solution to my own question above. It turns out I can just run openapi3 with -x to skip certain tasks. So something like the following would work the way I wanted:</p>\n\n<pre><code>gradle myCustomTest openapi3 -x check\n</code></pre>\n\n<p>No need to modify gradle build script.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11506030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a272b5c872f979af626d8dcef215a2?s=128&d=identicon&r=PG", "display_name": "Dorin", "link": "https://stackoverflow.com/users/11506030/dorin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557946165, "creation_date": 1557946165, "answer_id": 56155899, "question_id": 55230558, "link": "https://stackoverflow.com/questions/55230558/how-to-modify-the-gradle-task-openapi3s-dependson-the-gradle-plugin-is-written/56155899#56155899", "title": "How to modify the gradle task openapi3&#39;s dependsOn. The gradle plugin is written in kotlin", "body": "<p>Due to the fact that openapi3 is registered as an Extension and after evaluate the task is registered with the same name, you cannot statically declare it, thus use the dynamic mode:</p>\n\n<pre><code> myCustomTest.finalizedBy {\n       tasks.findAll {task -&gt; task.name.startsWith('openapi3')}\n }\n</code></pre>\n"}], "owner": {"reputation": 1735, "user_id": 1999083, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f90d942609fbf3c575d75498a1af4fa?s=128&d=identicon&r=PG", "display_name": "Liang Zhou", "link": "https://stackoverflow.com/users/1999083/liang-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557946165, "creation_date": 1552945922, "question_id": 55230558, "link": "https://stackoverflow.com/questions/55230558/how-to-modify-the-gradle-task-openapi3s-dependson-the-gradle-plugin-is-written", "title": "How to modify the gradle task openapi3&#39;s dependsOn. The gradle plugin is written in kotlin", "body": "<p>I added a gradle plugin <code>com.epages:restdocs-api-spec-gradle-plugin:0.9.0</code> which exposes a gradle task <code>openapi3</code>. This task <code>dependsOn</code> <code>check</code> task which run all my tests. I'd like to have this task depends on <code>myCustomTest</code> task which only run a subset of my tests. How would I go about doing that?</p>\n\n<p>So far I can't seem to even add a <code>dependsOn</code> to it, even though adding <code>dependsOn</code> might not be the solution. I got the following error:</p>\n\n<pre><code>Could not find method dependsOn() for arguments [task ':myCustomTest'] on object of type com.epages.restdocs.apispec.gradle.OpenApi3Extension\n</code></pre>\n\n<p>when I try to do any of the following:</p>\n\n<ul>\n<li><code>openapi3.dependsOn myCustomTest</code></li>\n<li><code>openapi3 { dependsOn myCustomTest }</code></li>\n</ul>\n\n<p>One thing special about this plugin is that it is written in kotlin, here is the source: <a href=\"https://github.com/ePages-de/restdocs-api-spec/tree/master/restdocs-api-spec-gradle-plugin\" rel=\"nofollow noreferrer\">https://github.com/ePages-de/restdocs-api-spec/tree/master/restdocs-api-spec-gradle-plugin</a></p>\n"}, {"tags": ["android", "kotlin", "nullpointerexception"], "answers": [{"tags": [], "owner": {"reputation": 1690, "user_id": 473902, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/bf781028e9a8edc6873f6ddd22264509?s=128&d=identicon&r=PG", "display_name": "Ge3ng", "link": "https://stackoverflow.com/users/473902/ge3ng"}, "is_accepted": false, "score": 0, "last_activity_date": 1552944668, "creation_date": 1552944668, "answer_id": 55230325, "question_id": 55230301, "link": "https://stackoverflow.com/questions/55230301/nullpointerexception-on-this-getpreferences/55230325#55230325", "title": "NullPointerException on this.getPreferences()", "body": "<p>The safest place to call this is after <code>super.onCreate(savedInstnaceState)</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1552945216, "post_id": 55230379, "comment_id": 97195240, "body": "I don&#39;t want to move it inside onCreate as I want it to be accessible by other functions inside my activity"}, {"owner": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1552945576, "post_id": 55230379, "comment_id": 97195377, "body": "@Zorgan make prefs as class variable and then use this.getSharedPreferences() inside onCreate()"}, {"owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1552945607, "post_id": 55230379, "comment_id": 97195391, "body": "@Zorgan Pls refere updated code. You can refer &quot;prefs&quot; anywhere in your activity"}], "tags": [], "owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1552945557, "last_edit_date": 1552945557, "creation_date": 1552944933, "answer_id": 55230379, "question_id": 55230301, "link": "https://stackoverflow.com/questions/55230301/nullpointerexception-on-this-getpreferences/55230379#55230379", "title": "NullPointerException on this.getPreferences()", "body": "<p>Move the line inside onCreate after super.onCreate</p>\n\n<pre><code>val PREFS_NAME = \"com.teamtreehouse.colorsarefun.prefs\"\nvar prefs: SharedPreferences? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            prefs =  = this.getSharedPreferences(PREFS_FILENAME, 0)\n            binding = DataBindingUtil.setContentView(this, R.layout.activity_player_details)\n            ...\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1649, "user_id": 8370559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEKe9.jpg?s=128&g=1", "display_name": "ikerfah", "link": "https://stackoverflow.com/users/8370559/ikerfah"}, "is_accepted": false, "score": 0, "last_activity_date": 1552947360, "creation_date": 1552947360, "answer_id": 55230875, "question_id": 55230301, "link": "https://stackoverflow.com/questions/55230301/nullpointerexception-on-this-getpreferences/55230875#55230875", "title": "NullPointerException on this.getPreferences()", "body": "<p>By doing this.getPreferences(Context.MODE_PRIVATE) you called inherit method from  AppCompatActivity , Since onCreate is the first callback when activity launched , so things are not set up yet.</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1552962309, "post_id": 55230946, "comment_id": 97199547, "body": "Thanks. However what if I want to refer to the <code>sharedPref</code> val before <code>onCreate()</code>? (I&#39;ve updated my code if you&#39;d like to look). Because I want <code>applicationID</code> to be a public variable to the whole class."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1552971832, "post_id": 55230946, "comment_id": 97201548, "body": "applicationID` must be initialized only after sharedPref` is initialized."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 2, "last_activity_date": 1552947790, "creation_date": 1552947790, "answer_id": 55230946, "question_id": 55230301, "link": "https://stackoverflow.com/questions/55230301/nullpointerexception-on-this-getpreferences/55230946#55230946", "title": "NullPointerException on this.getPreferences()", "body": "<blockquote>\n  <p>It's not associated with the UI so it doesn't need to be called after\n  setContentView()</p>\n</blockquote>\n\n<p>Right, but it must be called after:</p>\n\n<pre><code>super.onCreate(savedInstanceState)\n</code></pre>\n\n<p>because <code>this</code> refers to the activity's <code>Context</code> and this <code>Context</code> is only valid after this call.<br/>\nSo what you can do is change the declaration to: </p>\n\n<pre><code>val sharedPref: SharedPreferences? by lazy { this.getPreferences(Context.MODE_PRIVATE) }\n</code></pre>\n\n<p>this way <code>sharedPref</code> will be initialized the first time it will be used, after the call to <code>super.onCreate(savedInstanceState)</code>.<br/>\nRead more about <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">lazy</a>.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 55230946, "answer_count": 4, "score": 0, "last_activity_date": 1552962194, "creation_date": 1552944504, "last_edit_date": 1552962194, "question_id": 55230301, "link": "https://stackoverflow.com/questions/55230301/nullpointerexception-on-this-getpreferences", "title": "NullPointerException on this.getPreferences()", "body": "<pre><code>class PlayerDetails : AppCompatActivity(), View.OnClickListener, TextWatcher {\n\n    val sharedPref = this.getPreferences(Context.MODE_PRIVATE) // NPE\n    var applicationID = sharedPref.getString(\"applicationID\", null)\n\n    private lateinit var binding: ActivityPlayerDetailsBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_player_details)\n        ...\n    }\n...\n</code></pre>\n\n<p>I'm attempting to create a reference to the default Shared Preferences file of my activity by called <code>this.getPreferences()</code>. </p>\n\n<p>The results is giving me a <code>NullPointerException</code> - why is this? It's not associated with the UI so it doesn't need to be called after <code>setContentView()</code>. Why would the activity be <code>null</code> at this point?</p>\n"}, {"tags": ["android", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1552946732, "post_id": 55230284, "comment_id": 97195774, "body": "What does logcat say? Any errors?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1552985462, "post_id": 55230284, "comment_id": 97206815, "body": "Is any of those messages displayed? Please responde with @"}, {"owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "edited": false, "score": 0, "creation_date": 1553296564, "post_id": 55230284, "comment_id": 97345976, "body": "no errors are displayed, I&#39;m able to login, and create users in the auth, but I&#39;m not able to add data to the database"}], "answers": [{"tags": [], "owner": {"reputation": 1649, "user_id": 8370559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEKe9.jpg?s=128&g=1", "display_name": "ikerfah", "link": "https://stackoverflow.com/users/8370559/ikerfah"}, "is_accepted": false, "score": 0, "last_activity_date": 1552946612, "creation_date": 1552946612, "answer_id": 55230706, "question_id": 55230284, "link": "https://stackoverflow.com/questions/55230284/adding-data-to-realtime-database/55230706#55230706", "title": "Adding data to Realtime Database", "body": "<p>Do you cave write permissions ? try to use this code inside your <strong><em>Project -> Database -> Rules</em></strong> and then paste this code </p>\n\n<pre><code>{\n  \"rules\": {\n    \".read\": false,\n    \".write\": false\n  }\n}\n</code></pre>\n\n<p>Visit <a href=\"https://firebase.google.com/docs/database/security\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/security</a> to learn more about security rules.</p>\n"}], "owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552946679, "creation_date": 1552944428, "last_edit_date": 1552946679, "question_id": 55230284, "link": "https://stackoverflow.com/questions/55230284/adding-data-to-realtime-database", "title": "Adding data to Realtime Database", "body": "<p>I'm trying to add a user to firebase storage from my android app, I created a User class :</p>\n\n<pre><code>class User {\n    var userId:String = \"\"\n    var firstName: String = \"\"\n    var lastName :String = \"\"\n    var address: String = \"\"\n    var phoneNumber:String = \"\"\n    var email:String = \"\"\n    var password :String = \"\"\n    constructor(fName:String,lName:String,address:String,userId:String,phoneNumber:String,email:String,password:String) {\n        this.userId = userId\n        this.firstName = fName\n        this.lastName = lName\n        this.address = address\n        this.phoneNumber = phoneNumber\n        this.email = email\n        this.password = password\n    }\n}\n</code></pre>\n\n<p>then I created the user ,after creating the user successfully, I wanted to save the user in the storage, the code below:</p>\n\n<pre><code>authRef!!.createUserWithEmailAndPassword(email,password).addOnCompleteListener(this) {  task -&gt;\n                if(task.isSuccessful){\n                    val userId = authRef!!.currentUser!!.uid\n                    val user:User = User(firstName,lastName,address,userId,phoneNumber,email,password)\n                    databaseRef!!.child(userId).setValue(user).addOnCompleteListener{\n                        if(it.isSuccessful){\n                            println(\"success\")\n                            Toast.makeText(this,\"successs\",Toast.LENGTH_LONG).show()\n                        }else {\n                            Toast.makeText(this,\"error\",Toast.LENGTH_LONG).show()\n                            println(\"error\")\n                        }\n  }\n</code></pre>\n\n<p>but the data isn't been saved, any idea what wrong?\n<a href=\"https://i.stack.imgur.com/bfp1P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bfp1P.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6xa7L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xa7L.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "navigation"], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 1, "last_activity_date": 1552942125, "creation_date": 1552942125, "answer_id": 55229829, "question_id": 55229622, "link": "https://stackoverflow.com/questions/55229622/kotlin-navigation-back-button-not-working/55229829#55229829", "title": "Kotlin Navigation - Back Button not working", "body": "<p><code>AppCompatActivity</code> has a separate <a href=\"https://developer.android.com/reference/androidx/appcompat/app/AppCompatActivity?hl=en#onSupportNavigateUp()\" rel=\"nofollow noreferrer\"><code>onSupportNavigateUp()</code></a> method, which should be used instead of <code>onNavigateUp()</code> as per the <a href=\"https://developer.android.com/guide/navigation/navigation-ui#action_bar\" rel=\"nofollow noreferrer\">Navigation Action Bar documentation</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 11109875, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UTFQQVJrMoc/AAAAAAAAAAI/AAAAAAAAHrQ/wJpfl0Re1rE/photo.jpg?sz=128", "display_name": "Samuel Wittlinger", "link": "https://stackoverflow.com/users/11109875/samuel-wittlinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1782, "favorite_count": 0, "accepted_answer_id": 55229829, "answer_count": 1, "score": 0, "last_activity_date": 1552942125, "creation_date": 1552941199, "question_id": 55229622, "link": "https://stackoverflow.com/questions/55229622/kotlin-navigation-back-button-not-working", "title": "Kotlin Navigation - Back Button not working", "body": "<p>I have the following code in Kotlin </p>\n\n<pre><code>package com.example.android.navigation\n    import android.os.Bundle\n    import androidx.appcompat.app.AppCompatActivity\n    import androidx.databinding.DataBindingUtil\n    import androidx.navigation.findNavController\n    import androidx.navigation.ui.NavigationUI\n    import com.example.android.navigation.databinding.ActivityMainBinding\n\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n        val navcon = this.findNavController(R.id.NavFragment)\n        NavigationUI.setupActionBarWithNavController(this, navcon)\n\n    }\n\n    override fun onNavigateUp(): Boolean {\n        val navcon = this.findNavController(R.id.NavFragment)\n        return navcon.navigateUp()\n    }\n\n}\n</code></pre>\n\n<p>The code is supposed to implement the back button and make it work correctly (navigate up the back stack). However, when I run the application and click on the generated back button, nothing happens (the button doesn't work, but also no error is produced when clicked). Does anyone have any idea as to why it doesn't work / how to make it work properly?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 5, "creation_date": 1552941558, "post_id": 55229374, "comment_id": 97193839, "body": "The fact that you can reference <code>SubClass.Interface</code> in Java is considered to have been a bug (similar to being able to access static members via a reference variable), but for backward-compatibility it wasn&#39;t banned."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1552943054, "post_id": 55229374, "comment_id": 97194479, "body": "@chrylis Neat! You should post that as an answer. Do you happen to recall any YouTrack or GitHub issue that called that out explicitly?"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1552950729, "post_id": 55229374, "comment_id": 97197048, "body": "I don&#39;t have a citation to the subtype thing, but see <a href=\"https://stackoverflow.com/a/34709162/1189885\">stackoverflow.com/a/34709162/1189885</a>"}, {"owner": {"reputation": 9086, "user_id": 51292, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dzOzG.jpg?s=128&g=1", "display_name": "Ray Tayek", "link": "https://stackoverflow.com/users/51292/ray-tayek"}, "edited": false, "score": 0, "creation_date": 1552955352, "post_id": 55229374, "comment_id": 97198155, "body": "what is the visibility of SubClass.MyInterface?"}, {"owner": {"reputation": 9086, "user_id": 51292, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/dzOzG.jpg?s=128&g=1", "display_name": "Ray Tayek", "link": "https://stackoverflow.com/users/51292/ray-tayek"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1552955442, "post_id": 55229374, "comment_id": 97198170, "body": "@chrylis do you have any pointers to why it&#39;s considered a bug?"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1552956721, "post_id": 55229374, "comment_id": 97198427, "body": "Because in both cases it&#39;s not <i>really</i> referring to that thing--it&#39;s accidentally referring to it indirectly. In particular, code changes could break the Java examples (by introducing a real <code>SubClass.MyInterface</code>, for example)."}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552940096, "creation_date": 1552940096, "question_id": 55229374, "link": "https://stackoverflow.com/questions/55229374/why-dont-sub-classes-have-access-to-nested-interfaces-in-kotlin", "title": "Why don&#39;t sub classes have access to nested interfaces in Kotlin?", "body": "<p>In Java, I can define an interface nested inside <code>MainClass</code>, and I can still reference that interface via any <code>SubClass</code>, like this:</p>\n\n<pre><code>public class MainClass {\n  interface MyInterface {\n    public void printName();\n  }\n}\n\npublic class SubClass extends MainClass {\n}\n\n// Notice here that I use `SubClass.MyInterface` so the client doesn't know MainClass exists.\npublic void handleInterface(SubClass.MyInterface implementation) {\n}\n</code></pre>\n\n<p>However, if I try to do the same in Kotlin, it does not work:</p>\n\n<pre><code>open class MainClass {\n  interface MyInterface {\n    fun printName()\n  }\n}\n\nclass SubClass : MainClass()\n\n// This will not compile unless I do `MainClass.MyInterface`. See the Java notes about why I might want that.\nfun handleInterface(implementation: SubClass.MyInterface) {\n}\n</code></pre>\n\n<p>I have already had the debate that we don't need <code>SubClass.MyInterface</code> and can just reference it from the base class where it was defined, but I really am curious why Kotlin doesn't support this but Java seems to allow it. </p>\n"}, {"tags": ["java", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1552938469, "post_id": 55228910, "comment_id": 97192509, "body": "You shouldn&#39;t use data classes for entities: the toString/hashCode/equals don&#39;t fit for entities, and entities should be open to support lazy-loading based on dynamic proxies."}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1553849853, "post_id": 55228910, "comment_id": 97546485, "body": "What&#39;s the status of the question @Guilherme Torres Castro?"}, {"owner": {"reputation": 13322, "user_id": 1107651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/939ca2785b6433f7a73992ae2ff6d736?s=128&d=identicon&r=PG", "display_name": "Guilherme Torres Castro", "link": "https://stackoverflow.com/users/1107651/guilherme-torres-castro"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1554487931, "post_id": 55228910, "comment_id": 97785657, "body": "@Skizo-oz\u1d09\u029eS Sorry for the delay. I made a mistake and pasted the wrong plugin <code>kotlin.jvm</code> Instead of <code>kotlin jpa</code>. I edit the question to reflect that I&#39;m already using the kotlin jpa plugin, but the no-arg constructors are not being generated."}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1554656570, "post_id": 55228910, "comment_id": 97822841, "body": "You need to define an empty constructor, can you please add a default constructor for your class and try it again?"}, {"owner": {"reputation": 13322, "user_id": 1107651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/939ca2785b6433f7a73992ae2ff6d736?s=128&d=identicon&r=PG", "display_name": "Guilherme Torres Castro", "link": "https://stackoverflow.com/users/1107651/guilherme-torres-castro"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1554739664, "post_id": 55228910, "comment_id": 97853825, "body": "@Skizo-oz\u1d09\u029eS But that what the kotlin-jpa is supposed to do"}], "answers": [{"tags": [], "owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "is_accepted": false, "score": 0, "last_activity_date": 1563792046, "creation_date": 1563792046, "answer_id": 57144242, "question_id": 55228910, "link": "https://stackoverflow.com/questions/55228910/kotlin-jpa-plugin-not-generating-default-constructor/57144242#57144242", "title": "kotlin-jpa plugin not generating default constructor", "body": "<p>I had a very similar issue.  While the advice of not using data classes may or may not be a useful one I found that it was the version of the jpa plugin that was at issue try using version 1.3.41</p>\n\n<p><code>id \"org.jetbrains.kotlin.plugin.jpa\" version \"1.3.41\"</code></p>\n"}], "owner": {"reputation": 13322, "user_id": 1107651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/939ca2785b6433f7a73992ae2ff6d736?s=128&d=identicon&r=PG", "display_name": "Guilherme Torres Castro", "link": "https://stackoverflow.com/users/1107651/guilherme-torres-castro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1501, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1563792046, "creation_date": 1552937928, "last_edit_date": 1554487710, "question_id": 55228910, "link": "https://stackoverflow.com/questions/55228910/kotlin-jpa-plugin-not-generating-default-constructor", "title": "kotlin-jpa plugin not generating default constructor", "body": "<p>I am using kotlin-jpa to generate default constructor to my kotlin entity, however, does are not being generated:</p>\n\n<p>I just used: </p>\n\n<p><code>id(\"org.jetbrains.kotlin.plugin.jpa\") version \"1.3.21\"</code></p>\n\n<hr>\n\n<pre><code>@Entity\ndata class PlanSubscription(@Id ...\n</code></pre>\n\n<p>But event with the kotlin-jpa plugin the constructor is not generated:</p>\n\n<p><code>No default (no-argument) constructor for class</code></p>\n"}, {"tags": ["kotlin", "android-uiautomator"], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 472681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dfd68a056eeb1a6c92d581bb4e2cd2c?s=128&d=identicon&r=PG", "display_name": "Leo2705", "link": "https://stackoverflow.com/users/472681/leo2705"}, "is_accepted": true, "score": 0, "last_activity_date": 1553103431, "creation_date": 1553103431, "answer_id": 55267009, "question_id": 55228705, "link": "https://stackoverflow.com/questions/55228705/custom-uiobject2condition-in-kotlin/55267009#55267009", "title": "Custom UiObject2Condition in Kotlin", "body": "<p>Creating <code>androidx.test.uiautomator</code> package and adding class into it works fine.</p>\n\n<pre><code>package androidx.test.uiautomator\n\nclass NoChildCondition: UiObject2Condition&lt;Boolean&gt;() {\n    override fun apply(obj: UiObject2?): Boolean {\n        return obj?.childCount == 0\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 472681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dfd68a056eeb1a6c92d581bb4e2cd2c?s=128&d=identicon&r=PG", "display_name": "Leo2705", "link": "https://stackoverflow.com/users/472681/leo2705"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 55267009, "answer_count": 1, "score": 1, "last_activity_date": 1553103431, "creation_date": 1552937168, "question_id": 55228705, "link": "https://stackoverflow.com/questions/55228705/custom-uiobject2condition-in-kotlin", "title": "Custom UiObject2Condition in Kotlin", "body": "<p>Is it possible to extend public abstract class <a href=\"https://developer.android.com/reference/androidx/test/uiautomator/UiObject2Condition\" rel=\"nofollow noreferrer\">UiObject2Condition</a>?</p>\n\n<p>Doing in this way </p>\n\n<pre><code>class NoChildCondition: UiObject2Condition&lt;Boolean&gt;() {\n    override fun apply(obj: UiObject2?): Boolean {\n        return obj?.childCount == 0\n    }\n}\n</code></pre>\n\n<p>causes an error: <code>public open fun apply(obj: UiObject2?): Boolean defined in circlecomplete.ciom.uitests.NoChildCondition' has no access to 'public/*package*/ abstract fun apply(p0: UiObject2!): Boolean! defined in androidx.test.uiautomator.UiObject2Condition', so it cannot override it</code>.</p>\n\n<p>Note that <code>UiObject2Condition</code> is an empty subclass of <code>androidx.test.uiautomator.Condition&lt;UiObject2, R&gt;</code> and <code>Condition</code> is not public.</p>\n\n<p>Implementing <code>apply</code> method causes a compilation error. Not implementing it compiles but causes a runtime error.</p>\n\n<p>UIAutomator version: 2.2.0</p>\n\n<p>UiObject2Condition decompilation:</p>\n\n<pre><code>package androidx.test.uiautomator;\n\npublic abstract class UiObject2Condition&lt;R&gt; extends Condition&lt;UiObject2, R&gt; {\n    public UiObject2Condition() {\n    }\n}\n</code></pre>\n\n<p>Condition decompilation:</p>\n\n<pre><code>package androidx.test.uiautomator;\n\nabstract class Condition&lt;T, R&gt; {\n    Condition() {\n    }\n\n    abstract R apply(T var1);\n}\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "resttemplate"], "comments": [{"owner": {"reputation": 855, "user_id": 2065799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXPSE.jpg?s=128&g=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/2065799/vivek"}, "edited": false, "score": 0, "creation_date": 1552942297, "post_id": 55228396, "comment_id": 97194138, "body": "Which <i>jackson</i> version you&#39;re using and did you checked this :  <a href=\"https://stackoverflow.com/questions/45110371/no-string-argument-constructor-factory-method-to-deserialize-from-string-value\" title=\"no string argument constructor factory method to deserialize from string value\">stackoverflow.com/questions/45110371/&hellip;</a>"}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "reply_to_user": {"reputation": 855, "user_id": 2065799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXPSE.jpg?s=128&g=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/2065799/vivek"}, "edited": false, "score": 0, "creation_date": 1552942901, "post_id": 55228396, "comment_id": 97194404, "body": "hm i use the spring boot 2.1.3 delivered jackson"}, {"owner": {"reputation": 3231, "user_id": 5285908, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207475916725945/picture?type=large", "display_name": "Amith Kumar", "link": "https://stackoverflow.com/users/5285908/amith-kumar"}, "edited": false, "score": 1, "creation_date": 1552971198, "post_id": 55228396, "comment_id": 97201378, "body": "It looks like your api response is coming as String but not well formed json ? Did you try to consume the api using postman &amp; check result ? What is the <code>accept</code> header tag: <code>application&#47;json</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "is_accepted": true, "score": 0, "last_activity_date": 1615769527, "last_edit_date": 1615769527, "creation_date": 1552971708, "answer_id": 55233940, "question_id": 55228396, "link": "https://stackoverflow.com/questions/55228396/calling-rest-endpoint-with-resttemplate-and-kotlin-data-class/55233940#55233940", "title": "Calling Rest Endpoint with RestTemplate and Kotlin Data Class", "body": "<p>As Your API response is started with {, It's a JSON object. But you are trying to convert it as List as a result Exception occured.</p>\n<p>First Parse it as JSON object and then get list from its result.</p>\n"}], "owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3121, "favorite_count": 0, "accepted_answer_id": 55233940, "answer_count": 1, "score": 1, "last_activity_date": 1615769527, "creation_date": 1552935775, "question_id": 55228396, "link": "https://stackoverflow.com/questions/55228396/calling-rest-endpoint-with-resttemplate-and-kotlin-data-class", "title": "Calling Rest Endpoint with RestTemplate and Kotlin Data Class", "body": "<p>trying to call a rest endpoint which returns a simple json but i fail all the time. </p>\n\n<p>The Result looks like that:</p>\n\n<pre><code>{\n  \"Products\": [\n    {\n      \"Name\": \"ABC\",\n      \"Guid\": \"4711\"\n    },\n    {\n      \"Name\": \"DEF\",\n      \"Guid\": \"9876\"\n    },\n    {\n      \"Name\": \"HGT\",\n      \"Guid\": \"159\"\n    }\n  ]\n}\n</code></pre>\n\n<p>My Code like that:</p>\n\n<pre><code>override fun getProductMetaList(): List&lt;BestProductMetaInfo&gt; {\n    val url = \"https://$baseUrl/api/meta\"\n    return this.getForObject(url, GetProductMetaListResult::class.java)?.Products ?: emptyList()\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class GetProductMetaListResult(\n        @JsonProperty(\"Products\")\n        var Products: List&lt;ProductMetaInfo&gt; = emptyList()\n)\n\n@JsonIgnoreProperties(ignoreUnknown = true)\ndata class ProductMetaInfo(\n        @JsonProperty(\"Guid\")\n        var Guid: String = \"\",\n        @JsonProperty(\"Name\")\n        var Name: String = \"\"\n)\n</code></pre>\n\n<p>And the result always:</p>\n\n<blockquote>\n  <p>nested exception is\n  com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\n  construct instance of\n  <code>GetProductMetaListResult</code>\n  (although at least one Creator exists): no String-argument\n  constructor/factory method to deserialize from String value </p>\n</blockquote>\n\n<p>I tried using default values and nullable value, but everything results the same.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11216478, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4_IIenW-46k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf3f8lTsuOa_XVGXtUWpT9F_VZsyQ/mo/photo.jpg?sz=128", "display_name": "Mohamadhassan Ebrahimi", "link": "https://stackoverflow.com/users/11216478/mohamadhassan-ebrahimi"}, "edited": false, "score": 0, "creation_date": 1553030465, "post_id": 55228787, "comment_id": 97232926, "body": "Yes. You are right. But my question was not about how to get a Not Null value for specific key. Based on Kotlin Contracts Proposal, wrote by Dmitry Savvinov:  <i>In the end, all issues above are about one and the same thing: compiler doesn&#39;t know something that programmer does.</i> Here we know that if our call to <code>&quot;A&quot; in map.keys</code> returns true, then its safe to cast <code>map[&quot;A&quot;]</code> to <code>String</code> (in your example) instead of <code>String?</code>."}, {"owner": {"reputation": 33, "user_id": 11216478, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4_IIenW-46k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf3f8lTsuOa_XVGXtUWpT9F_VZsyQ/mo/photo.jpg?sz=128", "display_name": "Mohamadhassan Ebrahimi", "link": "https://stackoverflow.com/users/11216478/mohamadhassan-ebrahimi"}, "edited": false, "score": 0, "creation_date": 1553030705, "post_id": 55228787, "comment_id": 97233006, "body": "Yet another (perhaps) useful use-case is to smartcast the <code>map[&quot;A&quot;]</code> to <code>String</code>, just after putting the value for key &quot;A&quot; (<code>map[&quot;A&quot;] = &quot;B&quot;</code>)."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1552938160, "last_edit_date": 1552938160, "creation_date": 1552937481, "answer_id": 55228787, "question_id": 55228282, "link": "https://stackoverflow.com/questions/55228282/kotlin-contracts-effect-on-another-property-function/55228787#55228787", "title": "Kotlin Contracts effect on another property/function", "body": "<p>You cannot do this with contracts currently (side note: I'd be surprised if they cover this case). However, the standard library has you covered a couple of different ways!</p>\n\n<p>Assuming you have a <code>Map</code>, you can call <code>containsKey</code> on it (sort if like you have now). Knowing that \"A\" in this case is not null, we can use <code>.getValue(\"A\")</code> to get a non-null value from the map.</p>\n\n<pre><code>val map = mapOf(\"A\" to \"B\")\nif(map.containsKey(\"A\")) {\n    println(map.getValue(\"A\").toLowerCase())\n}\n</code></pre>\n\n<p>Note that if you call <code>.getValue()</code> with a value that is actually null, you will get a <code>NoSuchElementException</code>.</p>\n\n<p>Another more idiomatic way to do this is to use <a href=\"https://kotlinlang.org/docs/reference/idioms.html#execute-if-not-null\" rel=\"nofollow noreferrer\"><code>let</code></a>, which will only execute the block if the value is not null:</p>\n\n<pre><code>map[\"A\"]?.let { \n    println(it.toLowerCase())\n}\n</code></pre>\n\n<p>In this example we could replace <code>[\"A\"]</code> with <code>.get(\"A\")</code> if you'd prefer.</p>\n"}], "owner": {"reputation": 33, "user_id": 11216478, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4_IIenW-46k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf3f8lTsuOa_XVGXtUWpT9F_VZsyQ/mo/photo.jpg?sz=128", "display_name": "Mohamadhassan Ebrahimi", "link": "https://stackoverflow.com/users/11216478/mohamadhassan-ebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552938160, "creation_date": 1552935350, "last_edit_date": 1552935658, "question_id": 55228282, "link": "https://stackoverflow.com/questions/55228282/kotlin-contracts-effect-on-another-property-function", "title": "Kotlin Contracts effect on another property/function", "body": "<p>Is it possible with Kotlin Contract to make this smartcast possible?<br>\nAssuming I have following Extension function for Maps  </p>\n\n<pre><code>fun&lt;K, V&gt; Maps&lt;K, V&gt;.contains(k : K) : Boolean\n{\n    //simply check for map containing key\n}\n</code></pre>\n\n<p>And after calling that method, I want this call to be casted to NotNull:  </p>\n\n<pre><code>if(map.contains(key))\n{\n    map.get(key).callAnyMethod()\n    //smartcast get(key) to not null\n}\n</code></pre>\n"}, {"tags": ["class", "oop", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3122, "user_id": 5529263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e629acbc6aea3d6a8980721336438fc4?s=128&d=identicon&r=PG", "display_name": "Boken", "link": "https://stackoverflow.com/users/5529263/boken"}, "is_accepted": false, "score": 0, "last_activity_date": 1552947566, "creation_date": 1552947566, "answer_id": 55230903, "question_id": 55227439, "link": "https://stackoverflow.com/questions/55227439/how-to-fill-an-array-of-objects-in-kotlin/55230903#55230903", "title": "how to fill an array of objects in kotlin?", "body": "<p>You forget to add brakcets in <code>for</code> loop:</p>\n\n<pre><code>fun main() {\n    println(\" give the size\")\n    val nbr = readLine()?.toInt() ?: 0\n\n    val tab = arrayOfNulls&lt;Athlete&gt;(nbr)\n\n    for (i in 0 until nbr) {\n        val athlete = Athlete()\n        val time = Time()\n\n        println(\"give the name of  ${i + 1} athlete\")\n        athlete.name = readLine()\n\n        println(\"give the nombre of the athlete\")\n        athlete.nombre = readLine()?.toInt()\n\n        println(\"give the hours\")\n        time.hour = readLine()?.toInt()\n\n        println(\"give the minute\")\n        time.minute = readLine()?.toInt()\n\n        println(\"give the seconds\")\n        time.second = readLine()?.toInt()\n\n        athlete.result = time\n\n        tab[i] = athlete\n    }\n}\n\nclass Time {\n    var hour: Int? = null\n    var minute: Int? = null\n    var second: Int? = null\n}\n\nclass Athlete {\n    var name: String? = null\n    var nombre: Int? = null\n    var result: Time? = null\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1557657067, "last_edit_date": 1557657067, "creation_date": 1557396152, "answer_id": 56056960, "question_id": 55227439, "link": "https://stackoverflow.com/questions/55227439/how-to-fill-an-array-of-objects-in-kotlin/56056960#56056960", "title": "how to fill an array of objects in kotlin?", "body": "<p>You need to use class properties instead of parameters.</p>\n\n<p>Here's how your code should look like:</p>\n\n<pre><code>class Time {\n    var hour: Int = 0\n    var minute: Int = 0\n    var seconde: Int = 0\n}  \nclass Athlete {\n    var name: String = \" \"\n    var nombre: Int = 0\n    var result = Time()\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    println(\"Give the size\")\n    var nbr: Int = readLine()!!.toInt()\n    var tab1 = arrayOfNulls&lt;Athlete&gt;(50)\n    var tab2 = arrayOfNulls&lt;Time&gt;(50)\n\n    for (i in 0 until nbr) {\n\n        println(\"Give the name of ${i+1} athlete\")\n        tab1[i]?.name = readLine()!!\n\n        println(\"Give the nombre of the athelte\")\n        tab1[i]?.nombre = readLine()!!.toInt() \n\n        println(\"Give the hours\")\n        tab2[i]?.hour = readLine()!!.toInt()\n\n        println(\"Give the minute\")\n        tab2[i]?.minute = readLine()!!.toInt() \n\n        println(\"Give the seconds\")\n        tab2[i]?.seconde = readLine()!!.toInt()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10945616, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7isVvO22Bs/AAAAAAAAAAI/AAAAAAAAKpE/xnyPZ8jyG0I/photo.jpg?sz=128", "display_name": "karim", "link": "https://stackoverflow.com/users/10945616/karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1557657067, "creation_date": 1552931949, "last_edit_date": 1552947766, "question_id": 55227439, "link": "https://stackoverflow.com/questions/55227439/how-to-fill-an-array-of-objects-in-kotlin", "title": "how to fill an array of objects in kotlin?", "body": "<p>i get an error when i start filling my array and here the code </p>\n\n<pre><code>fun main(args :Array&lt;String&gt;){\nprintln(\" give the size\")\nvar nbr=readLine()!!.toInt()\n    class time(var hour:Int,var minute:Int,var seconde:Int)\nclass athlete(var name:String,var nombre:Int, var result:time)\nvar tab=arrayOfNulls&lt;athlete&gt;(50)\nfor(i in 0 until nbr)\n    println(\"give the name of  ${i+1} athlete\")\ntab[i].name=readLine()!!\nprintln(\"give the nombre of the athelte\")\ntab[i].nombre=readLine()!!.toInt() \nprintln(\"give the hours\")\n tab[i].time.hour=readLine()!!.toInt()\nprintln(\"give the minute\")\ntab[i].time.minute=readLine()!!.toInt()   \nprintln(\"give the seconds\")\ntab[i].time.seconde=readLine()!!.toInt()\n</code></pre>\n\n<p>the errors are in the readLine when i start filling the arrays </p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1552971696, "post_id": 55227630, "comment_id": 97201510, "body": "His problem is that he doesn&#39;t want to repeat <code>.str</code> and your answer suggests repeating <code>.str(3)</code> instead."}], "tags": [], "owner": {"reputation": 1101, "user_id": 9450729, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Slava Glushenkov", "link": "https://stackoverflow.com/users/9450729/slava-glushenkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1552932708, "creation_date": 1552932708, "answer_id": 55227630, "question_id": 55227197, "link": "https://stackoverflow.com/questions/55227197/possible-to-kotlin-extend-override-double-tostring-to-produce-less-decimal-place/55227630#55227630", "title": "Possible to Kotlin extend/override Double.toString to produce less decimal places?", "body": "<p>Seems class extension function will help:</p>\n\n<pre><code>fun Double.str(decPlaces: Int): String = \"%.${decPlaces}f\".format(this)\n</code></pre>\n\n<p>and use it like</p>\n\n<pre><code>LOG.info { \"It went ${distance.str(3)}\" }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1552971965, "last_edit_date": 1552971965, "creation_date": 1552971592, "answer_id": 55233928, "question_id": 55227197, "link": "https://stackoverflow.com/questions/55227197/possible-to-kotlin-extend-override-double-tostring-to-produce-less-decimal-place/55233928#55233928", "title": "Possible to Kotlin extend/override Double.toString to produce less decimal places?", "body": "<p>No, there's no way to do so. Instead, you could redefine your <code>LOG</code> methods, but they'll likely need to take parts as separate parameters (i.e. <code>LOG.info(\"It went {}\", distance)</code> or <code>LOG.info { myformat(\"It went {}\", distance) }</code>). You'd need to decide if that's a trade-off you want.</p>\n\n<p>The only way I can see for <code>LOG.info { \"It went ${distance}\" }</code> to work is to find numbers in the interpolated string using regular expressions and replace them. Which is a pretty ugly hack and relatively slow.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 55233928, "answer_count": 2, "score": 0, "last_activity_date": 1552971965, "creation_date": 1552931053, "question_id": 55227197, "link": "https://stackoverflow.com/questions/55227197/possible-to-kotlin-extend-override-double-tostring-to-produce-less-decimal-place", "title": "Possible to Kotlin extend/override Double.toString to produce less decimal places?", "body": "<p>I already have a hack:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>/** Shorter round for the logs */\nval Double.str: String\n    get() = \"%.3f\".format(this)\n</code></pre>\n\n<p>But that has to be manually inserted into all of my <code>LOG.info { \"It went ${distance.str}\" }</code> statements.  I'd prefer to be able to set the (float and decimal) significant digits globally.  Is there any way to make this happen?</p>\n"}]