[{"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1571264118, "post_id": 58422148, "comment_id": 103186946, "body": "The <code>Pair</code> has a <i>reference to</i> the list; it doesn&#39;t have a <i>copy of</i> the list.  If you keep modifying the list, the pair will show that modification, and so will a list containing the pair, and so on."}, {"owner": {"reputation": 3, "user_id": 12229143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD6L4Hs-TJ5aXbLpKGuwWWW41mOlXa9oJlt3DiIpA=k-s128", "display_name": "Dani Miszori", "link": "https://stackoverflow.com/users/12229143/dani-miszori"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1571264846, "post_id": 58422148, "comment_id": 103187132, "body": "yes its true, maybe, i tried this   val y= ArrayList&lt;Long&gt;() val testNumber : Long = 5   y.add(testNumber )  val d= y log--&gt; not empty y.clear() log-&gt; empty   so the bugbear is ArrayList(), but your answear is correct thx."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1571266232, "post_id": 58422148, "comment_id": 103187487, "body": "It&#39;s not <code>ArrayList</code>, really.  It&#39;s fundamental to the language.  If it were any other type that could be modified, the same thing would happen.  If you want to do modifications that aren&#39;t propagated, you have to do a <i>copy</i> when you put it in another type."}], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 2412106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a9cf62798d96402cb2756060a88e29?s=128&d=identicon&r=PG", "display_name": "vs.thaakur", "link": "https://stackoverflow.com/users/2412106/vs-thaakur"}, "is_accepted": true, "score": 0, "last_activity_date": 1571279662, "last_edit_date": 1571279662, "creation_date": 1571279359, "answer_id": 58424038, "question_id": 58422148, "link": "https://stackoverflow.com/questions/58422148/android-mutablelistofpairk-v-pair-value-empty-if-i-clear-variable-but-i-a/58424038#58424038", "title": "Android mutableListof(pair(k,v) --&gt; pair value empty if I clear variable but I add mutableListof before clear()... why will be empty?", "body": "<p>First of all the code you entered should not compile because pair accepts the ArrayList and you are putting long.\n Now considerig this is a typo and in your code you entered y instead of testNumber in your pair in x,  You have added a reference to the Arraylist in your pair. And y and your reference in your pair points to same object at same memory location. so when you clear the y the data at that memory location gets cleared. And since your pair also point to same memory location which is already been cleared and hence you get the empty data. Its just like calling a person with his official name and nick name as both points to same person.</p>\n\n<p>The solution should be to make a copy of the y before adding it to pair and add that copy to the pair. \ntry </p>\n\n<pre><code>x.add(Pair(\"testString\",ArrayList(y))\n</code></pre>\n\n<p>or you can manually make deepCopy of y and then enter it in x</p>\n"}], "owner": {"reputation": 3, "user_id": 12229143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD6L4Hs-TJ5aXbLpKGuwWWW41mOlXa9oJlt3DiIpA=k-s128", "display_name": "Dani Miszori", "link": "https://stackoverflow.com/users/12229143/dani-miszori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58424038, "answer_count": 1, "score": 0, "last_activity_date": 1571292222, "creation_date": 1571262763, "last_edit_date": 1571292222, "question_id": 58422148, "link": "https://stackoverflow.com/questions/58422148/android-mutablelistofpairk-v-pair-value-empty-if-i-clear-variable-but-i-a", "title": "Android mutableListof(pair(k,v) --&gt; pair value empty if I clear variable but I add mutableListof before clear()... why will be empty?", "body": "<p>I am using mutableListOf with pair() but I don't understand how and why it works.</p>\n\n<pre><code>var x = mutableListOf&lt;Pair&lt;String, ArrayList&lt;Long&gt;&gt;&gt;()\nval y= ArrayList&lt;Long&gt;()\nval testNumber : Long = 5  \ny.add(testNumber )\n\nx.add(Pair(\"testString\",testNumber))\nLog.i(TAG, \"$x\")  //--&gt; x = [testString,[5]]\n\ny.clear()\n\nLog.i(TAG, \"$x\")  // --&gt; x = [testString,[]]  so my testNumber value is empty\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-toolbar"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1571276018, "post_id": 58422136, "comment_id": 103189466, "body": "It depends on your Activity&#39;s layout. Toolbars and Fragments are both types of views that can be in a layout. For your case, it sounds like you could create a layout for your activity that has a Toolbar in it, as well as a FrameLayout that you can place fragments in. When you make fragment transactions, you would pass the FrameLayout to the <code>replace</code> function as the &quot;container&quot;."}, {"owner": {"reputation": 95, "user_id": 7474078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00dccfb0e90902661a259eec9f437b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Humble Hermit", "link": "https://stackoverflow.com/users/7474078/humble-hermit"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1571284335, "post_id": 58422136, "comment_id": 103191144, "body": "@Tenfour04 thank you so much! So if I understand it right: if I <code>replace</code> as the <code>container</code> in the fragment transaction, it doesn&#39;t matter if it&#39;s from the activity to the base fragment, or from the base fragment to later fragments, I will be able to keep it? Sorry for the redundancy, I&#39;m new to all this!"}, {"owner": {"reputation": 659, "user_id": 2606290, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5fPLm.jpg?s=128&g=1", "display_name": "Fernando Prieto", "link": "https://stackoverflow.com/users/2606290/fernando-prieto"}, "edited": false, "score": 1, "creation_date": 1571353819, "post_id": 58422136, "comment_id": 103223093, "body": "I would suggest to use Navigation. <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/navigation</a>  That way you can have an Activity which hosts the fragments and you can manage the toolbar easily within the navigation. That will solve the need of using either back button or close button. And it&#39;s the most updated Android standard"}, {"owner": {"reputation": 95, "user_id": 7474078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00dccfb0e90902661a259eec9f437b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Humble Hermit", "link": "https://stackoverflow.com/users/7474078/humble-hermit"}, "reply_to_user": {"reputation": 659, "user_id": 2606290, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5fPLm.jpg?s=128&g=1", "display_name": "Fernando Prieto", "link": "https://stackoverflow.com/users/2606290/fernando-prieto"}, "edited": false, "score": 0, "creation_date": 1571365234, "post_id": 58422136, "comment_id": 103225350, "body": "@FernandoPrieto Thank you! I did a lot of trial and errors, and it worked! I just checked my build.gradle app, and it&#39;s in there so I think I&#39;m safe!"}], "owner": {"reputation": 95, "user_id": 7474078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00dccfb0e90902661a259eec9f437b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Humble Hermit", "link": "https://stackoverflow.com/users/7474078/humble-hermit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571262679, "creation_date": 1571262679, "question_id": 58422136, "link": "https://stackoverflow.com/questions/58422136/android-toolbar-with-activities-and-fragments", "title": "Android Toolbar with activities and fragments", "body": "<p>So I have a grocery project to work on, and it is required that I have to have a toolbar all. Just a toolbar that includes the <code>name</code> of the current Activity/Fragment, and a <code>back button</code>.</p>\n\n<p>I searched on Stackoverflow, and all the answers were either 'use ViewPager' or 'use Tabs'. There was an answer here that was very close, but it was <code>toolbar in multiple activities</code>.\n(<a href=\"https://stackoverflow.com/questions/35942653/android-reusable-toolbar-for-navigation-where-to-put-code\">Android, reusable toolbar for navigation - where to put code?</a>)</p>\n\n<p>So, I have to have the main Activity that contains a static fragment, and different category buttons (for the products) that lead to different fragments that contain the product. </p>\n\n<p><strong>My question is</strong>: If I put the Toolbar code in the Main Activity, will it automatically appear in the fragments I call from it, and the fragments from those fragments? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1505, "user_id": 8903497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebdf3cc66b70436f31fd867ec4c1e7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Shaw", "link": "https://stackoverflow.com/users/8903497/chris-shaw"}, "edited": false, "score": 0, "creation_date": 1571262356, "post_id": 58422052, "comment_id": 103186403, "body": "Something is looking for <code>linearLoyout</code>. Find your xml layout file for the first activity, check it. Include it in the question if you&#39;re sure it&#39;s correct."}, {"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1571272454, "post_id": 58422052, "comment_id": 103188785, "body": "this is where your error is SecondActivity.kt:10. Line 10 of your SecondActivity"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 12222955, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCRoAjYXF8VuUP3AWmpBNE7t3lUQN35kUfbO_pm=k-s128", "display_name": "Robotic Reaper", "link": "https://stackoverflow.com/users/12222955/robotic-reaper"}, "is_accepted": false, "score": 2, "last_activity_date": 1571262335, "creation_date": 1571262335, "answer_id": 58422083, "question_id": 58422052, "link": "https://stackoverflow.com/questions/58422052/my-android-app-in-kotlin-keeps-on-crashing-and-it-has-been-showing-me-this-in-t/58422083#58422083", "title": "my android app in kotlin keeps on crashing, and it has been showing me this in the log", "body": "<p>On line 17, \"android.view.linearLoyout\", it seems like you typed the wrong letter? I think you meant linearLayout not linear Loyout. If you changed that then it may work properly.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 9411421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ad4b86b241bd9016069e59dd2a3a23?s=128&d=identicon&r=PG&f=1", "display_name": "jameseronious", "link": "https://stackoverflow.com/users/9411421/jameseronious"}, "is_accepted": false, "score": 0, "last_activity_date": 1571265504, "creation_date": 1571265504, "answer_id": 58422563, "question_id": 58422052, "link": "https://stackoverflow.com/questions/58422052/my-android-app-in-kotlin-keeps-on-crashing-and-it-has-been-showing-me-this-in-t/58422563#58422563", "title": "my android app in kotlin keeps on crashing, and it has been showing me this in the log", "body": "<p>You can usually find your error at the top of the crash log. In your case its found with the following line:</p>\n\n<pre><code>Binary XML file line #2: Binary XML file line #2: Error inflating class linearLoyout at\n</code></pre>\n\n<p>The line state that the crash happened because the class <code>LinearLoyout</code> could not be inflated. The class will be located on line 2 of the XML file. </p>\n\n<p>read up on crashes and how to read the logs here: <a href=\"https://developer.android.com/topic/performance/vitals/crash\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/vitals/crash</a></p>\n\n<p>Like Robotic Reaper said, \"LinearLoyout\" should be \"LinearLayout\". </p>\n"}], "owner": {"reputation": 1, "user_id": 12229175, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2PKIMbR_HZE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxHM7yy1jxXKOP4BeWAkaxku61cQ/photo.jpg?sz=128", "display_name": "Hanna Kahehu TU01_IC211_0446_2", "link": "https://stackoverflow.com/users/12229175/hanna-kahehu-tu01-ic211-0446-2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1571265504, "creation_date": 1571262147, "question_id": 58422052, "link": "https://stackoverflow.com/questions/58422052/my-android-app-in-kotlin-keeps-on-crashing-and-it-has-been-showing-me-this-in-t", "title": "my android app in kotlin keeps on crashing, and it has been showing me this in the log", "body": "<p>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.h2, PID: 13228\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.h2/com.example.h2.SecondActivity}: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class linearLoyout\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2805)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\n     Caused by: android.view.InflateException: Binary XML file line #2: Binary XML file line #2: Error inflating class linearLoyout\n     Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class linearLoyout\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.view.linearLoyout\" on path: DexPathList[[zip file \"/data/app/com.example.h2-LZ1S58avR3GXvrmItkNZrg==/base.apk\"],nativeLibraryDirectories=[/data/app/com.example.h2-LZ1S58avR3GXvrmItkNZrg==/lib/arm, /system/lib, /vendor/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:606)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:703)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:68)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:720)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:788)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at android.support.v7.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)\n        at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\n        at com.example.h2.SecondActivity.onCreate(SecondActivity.kt:10)\n        at android.app.Activity.performCreate(Activity.java:7023)\n        at android.app.Activity.performCreate(Activity.java:7014)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "data-binding"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "edited": false, "score": 0, "creation_date": 1571263250, "post_id": 58422141, "comment_id": 103186685, "body": "Ah, yes, it&#39;s always something silly. I was over-reliant on this (<a href=\"https://stackoverflow.com/questions/40995071/get-values-other-views-when-onclick-databinding\" title=\"get values other views when onclick databinding\">stackoverflow.com/questions/40995071/&hellip;</a>) answer, which contains the getEditText()-call. It seems to work now, though I have other compilation errors to deal with before being certain. Thank you."}], "tags": [], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "is_accepted": true, "score": 1, "last_activity_date": 1571262733, "creation_date": 1571262733, "answer_id": 58422141, "question_id": 58422003, "link": "https://stackoverflow.com/questions/58422003/android-kotlin-calling-viewmodel-function-from-view-with-parameters/58422141#58422141", "title": "Android Kotlin Calling ViewModel function from View with Parameters", "body": "<p><code>getEditText()</code> method doesn't exist and you can remove it. </p>\n\n<p>instead of;</p>\n\n<pre><code>relationNameEditText.getEditText().getText().toString()\n</code></pre>\n\n<p>you can do </p>\n\n<pre><code>relationNameEditText.getText().toString()` \n</code></pre>\n\n<p>i.e.\n<a href=\"https://github.com/dgngulcan/droid-feed/blob/e0d0d5f4af07c5375d42b74e42c55b793319a937/app/src/main/res/layout/fragment_newsletter.xml#L120\" rel=\"nofollow noreferrer\">https://github.com/dgngulcan/droid-feed/blob/e0d0d5f4af07c5375d42b74e42c55b793319a937/app/src/main/res/layout/fragment_newsletter.xml#L120</a></p>\n"}], "owner": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "accepted_answer_id": 58422141, "answer_count": 1, "score": 0, "last_activity_date": 1571262733, "creation_date": 1571261800, "question_id": 58422003, "link": "https://stackoverflow.com/questions/58422003/android-kotlin-calling-viewmodel-function-from-view-with-parameters", "title": "Android Kotlin Calling ViewModel function from View with Parameters", "body": "<p>I am building an Android app.</p>\n\n<p>I have a layout that contains a button 'saveButton'. When the user clicks the button, the onClick should call a function in my ViewModel, onSave(). This function requires 2 parameters: the text contents of 2 EditText views that are also present in the same layout.</p>\n\n<p>Basically, the user has edited the name and/or the synopsis and now wants to have the ViewModel update the object's data in the database.</p>\n\n<p>(Part of) my UI (.xml fragment layout):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\".ui.CreateEditRelationFragment\"&gt;\n\n&lt;data&gt;\n    &lt;variable\n        name=\"createEditRelationViewModel\"\n        type=\"be.pjvandamme.farfiled.viewmodels.CreateEditRelationViewModel\" /&gt;\n&lt;/data&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/saveButton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/saveText\"\n        android:onClick=\"@{() -&gt; createEditRelationViewModel.onSave(relationNameEditText.getEditText().getText().toString(), relationSynopsisEditText.getEditText().getText().toString())}\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/cancelButton\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"32dp\"\n        android:text=\"@string/cancelText\"\n        android:onClick=\"@{() -&gt; createEditRelationViewModel.onCancel()}\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/relationSynopsisEditText\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:gravity=\"start|top\"\n        android:inputType=\"textMultiLine\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/relationNameEditText\"\n        android:layout_width=\"@dimen/relationNameEditWidth\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:text=\"Name\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>(Part of) the ViewModel:</p>\n\n<pre><code>class CreateEditRelationViewModel (\n    private val relationKey: Long?,\n    val database: RelationDao,\n    application: Application\n): AndroidViewModel(application){\nprivate var viewModelJob = Job()\n\nprivate val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\nprivate var relation = MutableLiveData&lt;Relation?&gt;()\n\nprivate var _navigateToRelationDetail = MutableLiveData&lt;Boolean&gt;()\nval navigateToRelationDetail: LiveData&lt;Boolean&gt;\n    get() = _navigateToRelationDetail\n\nfun onSave(name: String, synopsis: String){\n    Timber.i(\"Got name: \" + name + \" and synopsis: \" + synopsis)\n    if(relationKey == null){\n        uiScope.launch{\n            relation.value = Relation(0, name, synopsis, false)\n            insert(relation.value!!)\n        }\n    }\n    else{\n        uiScope.launch{\n            relation.value?.name = name\n            relation.value?.synopsis = synopsis\n            update(relation.value)\n        }\n    }\n    _navigateToRelationDetail.value = true\n}\n\nprivate suspend fun insert(newRelation: Relation){\n    withContext(Dispatchers.IO){\n        database.insert(newRelation)\n    }\n}\n\nprivate suspend fun update(relation: Relation?){\n    if(relation != null) {\n        withContext(Dispatchers.IO) {\n            database.update(relation)\n        }\n    }\n}\n}\n</code></pre>\n\n<p>I would want this thing to compile so that the onSave() function is called and the contents of the EditTexts passed as parameters.</p>\n\n<p>I cannot manage to pass the text contents of these EditTexts. The compiler throws this error:</p>\n\n<pre><code>[databinding] {\"msg\":\"cannot find method getEditText() in class android.widget.EditText\",\"file\":\"D:\\\\ etc.\n</code></pre>\n\n<p>It does the same thing when I try to access using the .text property directly.\nDoes anyone know what I'm doing wrong? I'm tearing my hair out.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 1205504, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fd163d622c3b3a0eb758eeda15b53245?s=128&d=identicon&r=PG", "display_name": "Hiny", "link": "https://stackoverflow.com/users/1205504/hiny"}, "edited": false, "score": 0, "creation_date": 1571292267, "post_id": 58422356, "comment_id": 103193249, "body": "Hmm, yes, the timeout was just an example. What is happening is that I&#39;ve defined several layouts and use the &quot;.setContentView(this)&quot; to change between them. Maybe I need to embed several different Views in one big then, but that is what I&#39;m trying to avoid."}, {"owner": {"reputation": 30326, "user_id": 384306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZED8P.jpg?s=128&g=1", "display_name": "Nathan Schwermann", "link": "https://stackoverflow.com/users/384306/nathan-schwermann"}, "reply_to_user": {"reputation": 193, "user_id": 1205504, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fd163d622c3b3a0eb758eeda15b53245?s=128&d=identicon&r=PG", "display_name": "Hiny", "link": "https://stackoverflow.com/users/1205504/hiny"}, "edited": false, "score": 1, "creation_date": 1571323652, "post_id": 58422356, "comment_id": 103210905, "body": "@Hiny you can just have the one parent view and call view.add/remove to switch between them. Also consider the navigation component <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/&hellip;</a> You can preload your webview and then call setContentView on a fragment once the navigation component loads it."}], "tags": [], "owner": {"reputation": 30326, "user_id": 384306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZED8P.jpg?s=128&g=1", "display_name": "Nathan Schwermann", "link": "https://stackoverflow.com/users/384306/nathan-schwermann"}, "is_accepted": false, "score": 0, "last_activity_date": 1571264145, "creation_date": 1571264145, "answer_id": 58422356, "question_id": 58421281, "link": "https://stackoverflow.com/questions/58421281/android-anko-kotlin-preload-views/58422356#58422356", "title": "Android Anko Kotlin - Preload Views", "body": "<p>To answer your question exactly you could just keep a reference to the parent view and call addView to it and pass the webview in. However you might consider just setting the visibility to View.GONE/View.INVISIBLE I am not sure exactly what your goal here is. Also consider using the callback that determines the page finished loading rather than a generic 5 seconds. Hope this helps. </p>\n"}], "owner": {"reputation": 193, "user_id": 1205504, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fd163d622c3b3a0eb758eeda15b53245?s=128&d=identicon&r=PG", "display_name": "Hiny", "link": "https://stackoverflow.com/users/1205504/hiny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571264145, "creation_date": 1571257951, "question_id": 58421281, "link": "https://stackoverflow.com/questions/58421281/android-anko-kotlin-preload-views", "title": "Android Anko Kotlin - Preload Views", "body": "<p>I'm a bit new to Kotlin in Android, I've noticed that the Anko library supplies a nice tool for layout creation, for swiping the active view and defining the views with code.</p>\n\n<p>I'm trying to use the Anko to define different template views to show async, but before showing a new View, I would like to preload it, for example a webpage or remote image etc.</p>\n\n<p>I've not been able to find any info on if this is doable or not. </p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        MyActivityUI().load(\"http://some.address.ip\")\n        val handler = Handler()\n        handler.postDelayed({\n            MyActivityUI().setContentView(this)\n        }, 5000)\n    }\n}\n\nclass MyActivityUI : AnkoComponent&lt;MyActivity&gt; {\n    lateinit var wv: WebView\n\n    override fun createView(ui: AnkoContext&lt;MyActivity&gt;) = with(ui) {\n        verticalLayout {\n            wv = webView {\n                webViewClient = WebViewClient()\n            }.lparams(width = matchParent, height = matchParent)\n        }\n    }\n}\n</code></pre>\n\n<p>This is partial but shown what I intend to do, so when the 5s timer is done, the webpage is already loaded to the View, instead of it starts to load</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["android", "kotlin", "firebase-realtime-database", "firebase-security"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1571260853, "post_id": 58421213, "comment_id": 103185892, "body": "Please edit the question to show the code that doesn&#39;t work the way you expect.  Please explain in detail the contents of any variables used in that code."}, {"owner": {"reputation": 182, "user_id": 10668506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DEZw7K1sx8g/AAAAAAAAAAI/AAAAAAAAREw/0YMDWFHwEH0/photo.jpg?sz=128", "display_name": "L. Busekrus", "link": "https://stackoverflow.com/users/10668506/l-busekrus"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1571300001, "post_id": 58421213, "comment_id": 103196873, "body": "Okay, I hope it is better to understand now."}], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 0, "last_activity_date": 1571300490, "creation_date": 1571300490, "answer_id": 58428020, "question_id": 58421213, "link": "https://stackoverflow.com/questions/58421213/i-dont-understand-whats-wrong-with-my-rules/58428020#58428020", "title": "I don&#39;t understand what&#39;s wrong with my rules", "body": "<p>If the <code>Path</code> variable in your code sample is <code>user/uid/info</code>, then the rules don't allow access to that location.  The rules only allow per-user access to <code>posts/uid</code>.  The path in your rules needs to match the path in your code in order for access to be allowed.</p>\n"}], "owner": {"reputation": 182, "user_id": 10668506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DEZw7K1sx8g/AAAAAAAAAAI/AAAAAAAAREw/0YMDWFHwEH0/photo.jpg?sz=128", "display_name": "L. Busekrus", "link": "https://stackoverflow.com/users/10668506/l-busekrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58428020, "answer_count": 1, "score": 0, "last_activity_date": 1571303389, "creation_date": 1571257559, "last_edit_date": 1571303389, "question_id": 58421213, "link": "https://stackoverflow.com/questions/58421213/i-dont-understand-whats-wrong-with-my-rules", "title": "I don&#39;t understand what&#39;s wrong with my rules", "body": "<p>I had setup my rules in the RealtimeDatabase so that only people who created the content can read or updated it, but unfortunately the rules don't work like that. </p>\n\n<p>I also tried various other rules with less security so the issue doesn't lie in my app. </p>\n\n<p><strong>These are my rules which don't let me read my own data.</strong></p>\n\n<pre><code> {\n    \"rules\": {\n    \"posts\": {\n       \"$uid\": {\n         \".read\": \"$uid == auth.uid\",\n         \".write\": \"$uid == auth.uid\"\n       }\n     }\n   }\n}\n</code></pre>\n\n<p><strong>Code in my app.</strong></p>\n\n<p>Path: user/uid/info\nValue: imageUrl</p>\n\n<pre><code>fun getFireBaseValue(Path: String, Value: String): String {\n        FirebaseDatabase.getInstance().getReference(Path).child(Value)\n            .addValueEventListener(object : ValueEventListener {\n                override fun onDataChange(p0: DataSnapshot) {\n                    val fetchedValue = p0.value.toString()\n                }\n\n                override fun onCancelled(p0: DatabaseError) {\n                }\n            })\n    }\n</code></pre>\n\n<p>I expected a URL i wrote earlier. But instead I get an error: \"<strong>DatabaseError: Permission denied</strong>\". \nAs far as I understand the rules, I should be allowed to read my own  data.</p>\n"}, {"tags": ["android", "api", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 644874, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ab2475e4068ef6dac033176f1e1f7d9d?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/644874/yoyo"}, "is_accepted": true, "score": 0, "last_activity_date": 1571486549, "creation_date": 1571486549, "answer_id": 58463468, "question_id": 58420497, "link": "https://stackoverflow.com/questions/58420497/trakt-api-using-different-time-for-watched-status-one-hour-ahead/58463468#58463468", "title": "Trakt API using different time for watched status (one hour ahead)", "body": "<p>I decided the best approach to solving this problem is just to take an hour off the time user input, as Trakt will just add another hour anyway:</p>\n\n<pre><code>\nvar time = LocalDateTime.of(year, month+1, day, hourOfDay, minutes, 0, 0)\n\n// Trakt time hack, Trakt will automatically add +1 hour for all history syncs, so take one hour to off set this\nvar timeHack = time.minusHours(1)\nvar date = OffsetDateTime.of(timeHack, ZoneOffset.UTC)\n</code></pre>\n\n<p>I still don't understand why Trakt adds one hour to the supplied time..</p>\n"}], "owner": {"reputation": 35, "user_id": 644874, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ab2475e4068ef6dac033176f1e1f7d9d?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/644874/yoyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58463468, "answer_count": 1, "score": 0, "last_activity_date": 1571486549, "creation_date": 1571254293, "question_id": 58420497, "link": "https://stackoverflow.com/questions/58420497/trakt-api-using-different-time-for-watched-status-one-hour-ahead", "title": "Trakt API using different time for watched status (one hour ahead)", "body": "<p>I am creating an Android app to manage Trakt account using the Trakt API.</p>\n\n<p>I am using a Retrofit library for accessing this API.</p>\n\n<p>I have a problem where Trakt is adding one hour ahead of the value I am passing.</p>\n\n<p>For example, I am passing a UTC timestamp of:\n2019-10-16T19:54Z</p>\n\n<p>I would expect a time of 19:54. Trakt will instead add an hour making it 20:54.\nI am using the org.threeten.bp OffSetDateTime library.</p>\n\n<p>I setup the OkHttp class interceptor to check the JSON payload being passed to Trakt API. I am passing correct timestamp (watched_at):\nD/OkHttp: {\"movies\":[{\"ids\":{\"trakt\":265470},\"watched_at\":\"2019-10-16T19:54Z\"}]}</p>\n\n<p>I have a method (below) which will first display a DatePickerDialog then display TimePickerDialog to capture the Date/Time user selected.</p>\n\n<p>This data is then used to create LocalDateTime object which is then used to build OffsetDateTime for UTC timestamp.</p>\n\n<p>This value is passed to Trakt API:\n<a href=\"https://trakt.docs.apiary.io/#reference/sync/add-to-history\" rel=\"nofollow noreferrer\">https://trakt.docs.apiary.io/#reference/sync/add-to-history</a></p>\n\n<p>Code:</p>\n\n<pre><code>        var datePickerFragment =\n            DatePickerFragment(DatePickerDialog.OnDateSetListener { datePicker, year, month, day -&gt;\n\n                var timePickerFragment =\n                    TimePickerFragment(TimePickerDialog.OnTimeSetListener { timePicker, hourOfDay, minutes -&gt;\n\n                        // Make a LocalDateTime object based on values passed from Android DatePickerDialog and TimePickerDialog\n                        var time = LocalDateTime.of(year, month+1, day, hourOfDay, minutes, 0, 0)\n\n                        // Trakt API requires UTC datetime stamp\n                        // https://trakt.docs.apiary.io/#reference/sync/add-to-history\n                        var date = OffsetDateTime.of(time, ZoneOffset.UTC)\n\n                        // Create a new SyncMovie instance\n                        var syncMovie = SyncMovie().id(MovieIds.trakt(movie!!.ids.trakt))\n\n                        // Set the watched date\n                        syncMovie.watched_at = date\n\n                        var checkInRequest = traktApi.sync().addItemsToWatchedHistory(SyncItems().movies(syncMovie))\n\n                        checkInRequest.enqueue(object: Callback&lt;SyncResponse&gt; {\n                            override fun onFailure(call: Call&lt;SyncResponse&gt;, t: Throwable) {\n                                Log.e(TAG, \"Failed to checking movie ${movie!!.title}\")\n                                Log.e(TAG, t.message)\n                                activity?.runOnUiThread {\n                                    Toast.makeText(context, \"Failed to checkin movie ${movie!!.title}\", Toast.LENGTH_LONG).show()\n                                }\n                            }\n\n                            override fun onResponse(call: Call&lt;SyncResponse&gt;, response: Response&lt;SyncResponse&gt;) {\n                                activity?.runOnUiThread {\n                                    Toast.makeText(context, \"Successful checking for movie ${movie!!.title}! You wanted on ${date.format(\n                                        DateTimeFormatter.ofPattern(\"dd/MM/YYYY hh:mm\"))}\", Toast.LENGTH_LONG).show()\n                                }\n                            }\n                        })\n\n\n                    })\n\n                timePickerFragment.show(fragmentManager!!, \"Time Picker\")\n            })\n\n        datePickerFragment.show(fragmentManager!!, \"Date Picker\")\n</code></pre>\n\n<p>I expect I'm missing something straightforward here. I did write a simple Java program to test the results of using the above (Java.time* libraries and not org.threeten*) and couldn't reproduce the problem:</p>\n\n<pre><code>LocalDateTime date = LocalDateTime.of(2019, 10, 16, 18, 35, 0);\n\nOffsetDateTime offsetTime = OffsetDateTime.of(date, ZoneOffset.UTC);\n\n       System.out.println(\"Time before offset \"+date.toString());\n       System.out.println(\"Time post offset \"+offsetTime.toString());\n\n       DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd/MM/yyyy HH::mm\");\n\n       System.out.println(\"Time formatted before offset - \"+date.format(formatter));\n       System.out.println(\"Time formatted post offset - \"+offsetTime.format(formatter));\n</code></pre>\n\n<p>The result of above being:</p>\n\n<pre><code>Time before offset 2019-10-16T18:35\nTime post offset 2019-10-16T18:35Z\nTime formatted before offset - 16/10/2019 18::35\nTime formatted post offset - 16/10/2019 18::35\n</code></pre>\n"}, {"tags": ["kotlin", "detekt", "intellij-platform-psi"], "answers": [{"tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 1, "last_activity_date": 1592659134, "creation_date": 1592659134, "answer_id": 62486326, "question_id": 58420303, "link": "https://stackoverflow.com/questions/58420303/how-do-a-get-a-fully-qualified-domain-name-of-class-in-kotlin-psi/62486326#62486326", "title": "How do a get a fully qualified domain name of class in Kotlin PSI?", "body": "<p><code>KtClass</code> implemenents the <code>KtNamedDeclaration</code> interface which provides the <code>fqName</code> method.</p>\n<p><code>FqName getFqName();</code></p>\n<p>Which will give you what you want. So:</p>\n<p><code>klass.fqName.asString()</code></p>\n"}], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 1, "accepted_answer_id": 62486326, "answer_count": 1, "score": 3, "last_activity_date": 1592659134, "creation_date": 1571253447, "question_id": 58420303, "link": "https://stackoverflow.com/questions/58420303/how-do-a-get-a-fully-qualified-domain-name-of-class-in-kotlin-psi", "title": "How do a get a fully qualified domain name of class in Kotlin PSI?", "body": "<p>I have a Kotlin data class:</p>\n\n<pre><code>package a.b.c\n\ndata class Example(\n    \u2026\n)\n</code></pre>\n\n<p>I am analyzing it with <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> which provides access to the <a href=\"https://www.jetbrains.org/intellij/sdk/docs/basics/architectural_overview/psi.html\" rel=\"nofollow noreferrer\">Kotlin PSI</a>.</p>\n\n<p>I'm trying to get the FQDN of my class:</p>\n\n<pre><code>println(klass.nameAsName?.identifier)\n</code></pre>\n\n<p>where, <code>klass</code> has a type of <code>KtClass</code> from Kotlin PSI. But that code prints just a short name of my class, like <code>Example</code>, whereas I want to get <code>a.b.c.Example</code>.</p>\n\n<p>How do a get a fully qualified domain name of class in Kotlin PSI?</p>\n"}, {"tags": ["kotlin", "detekt", "intellij-platform-psi"], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 1, "last_activity_date": 1591016704, "creation_date": 1591016704, "answer_id": 62132902, "question_id": 58420211, "link": "https://stackoverflow.com/questions/58420211/annotations-vs-annotationentries-in-intellij-kotlin-psi/62132902#62132902", "title": "annotations vs annotationEntries in IntelliJ / Kotlin PSI", "body": "<p><a href=\"https://github.com/JetBrains/kotlin/blob/ba6da7c40a6cc502508faf6e04fa105b96bc7777/compiler/psi/src/org/jetbrains/kotlin/psi/KtAnnotation.java\" rel=\"nofollow noreferrer\">Annotation</a> is a declaration (<code>annotation class</code>).</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/ba6da7c40a6cc502508faf6e04fa105b96bc7777/compiler/psi/src/org/jetbrains/kotlin/psi/KtAnnotationEntry.java\" rel=\"nofollow noreferrer\">Annotation Entry</a> is an application of annotation (<code>@</code>).</p>\n"}], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 62132902, "answer_count": 1, "score": 3, "last_activity_date": 1591016704, "creation_date": 1571253081, "question_id": 58420211, "link": "https://stackoverflow.com/questions/58420211/annotations-vs-annotationentries-in-intellij-kotlin-psi", "title": "annotations vs annotationEntries in IntelliJ / Kotlin PSI", "body": "<p>I have a Kotlin annotation:</p>\n\n<pre><code>@Retention(AnnotationRetention.SOURCE)\n@Target(AnnotationTarget.CLASS)\nannotation class Type(\n    val type: String\n)\n</code></pre>\n\n<p>It can be used on the Kotlin classes:</p>\n\n<pre><code>@Type(type = \"type\")\ndata class Annotated(\n    \u2026\n)\n</code></pre>\n\n<p>I am analyzing this source code with <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> which provides access to the <a href=\"https://www.jetbrains.org/intellij/sdk/docs/basics/architectural_overview/psi.html\" rel=\"nofollow noreferrer\">Kotlin PSI</a>. To get the annotation I use the code like:</p>\n\n<pre><code>val annotation = klass\n    .annotationEntries\n    .find {\n        \"Type\" == it?.shortName?.asString()\n    }\n</code></pre>\n\n<p>where, <code>klass</code> has a type of <code>KtClass</code> from Kotlin PSI. I've noticed, that <code>KtClass</code> has two properties: <code>annotations</code> and <code>annotationEntries</code> and that <code>annotations</code> is empty for the annotated class above.</p>\n\n<p>What is the difference between <code>annotations</code> and <code>annotationEntries</code> and when should I use what?</p>\n"}, {"tags": ["kotlin", "abstract-syntax-tree", "detekt", "intellij-platform-psi"], "comments": [{"owner": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1586964524, "post_id": 58420014, "comment_id": 108324451, "body": "Have you figured out a solution for this? Please update. Many thanks"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 1187, "user_id": 2057782, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/a1WaU.jpg?s=128&g=1", "display_name": "AouledIssa", "link": "https://stackoverflow.com/users/2057782/aouledissa"}, "edited": false, "score": 0, "creation_date": 1587024693, "post_id": 58420014, "comment_id": 108347512, "body": "@MohamedAouledIssa, unfortunately, no. The question is still open."}, {"owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "edited": false, "score": 0, "creation_date": 1596547177, "post_id": 58420014, "comment_id": 111841027, "body": "@madhead Can you check code with PSIviewer plugin? So you will get how elements organized, what is the type."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "edited": false, "score": 0, "creation_date": 1596572745, "post_id": 58420014, "comment_id": 111853289, "body": "@Godwin, I have this plugin installed. It doesn&#39;t help in this case."}], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1571252641, "creation_date": 1571252268, "last_edit_date": 1571252641, "question_id": 58420014, "link": "https://stackoverflow.com/questions/58420014/acquire-annotation-parameters-or-annotation-instance-from-kotlin-psi", "title": "Acquire annotation parameters (or annotation instance) from Kotlin PSI", "body": "<p>I have a Kotlin annotation:</p>\n\n<pre><code>@Retention(AnnotationRetention.SOURCE)\n@Target(AnnotationTarget.CLASS)\nannotation class Type(\n    val type: String\n)\n</code></pre>\n\n<p>It can be used on the Kotlin classes in two ways: using the named parameter syntax, or using the positional parameter syntax:</p>\n\n<pre><code>@Type(type = \"named\")\ndata class Named(\n    \u2026\n)\n\n@Type(\"positional\")\ndata class Positional\n    \u2026\n)\n</code></pre>\n\n<p>I use this annotation in my custom <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> rules for some extra checks. I need to extract the value of the <code>type</code> parameter to perform some check based on it. I do that like:</p>\n\n<pre><code>private fun getType(klass: KtClass): String? {\n    val annotation = klass\n        .annotationEntries\n        .find {\n            \"Type\" == it?.shortName?.asString()\n        }\n    val type = (annotation\n        ?.valueArguments\n        ?.find {\n            it.getArgumentName()?.asName?.asString() == \"type\"\n        }\n        ?.getArgumentExpression() as? KtStringTemplateExpression)\n        ?.takeUnless { it.hasInterpolation() }\n        ?.plainContent\n\n    return type\n}\n</code></pre>\n\n<p>But this code works only with \"named\" parameters syntax, and fails for the positional one. Is there any way to get the value of an annotation parameter no matter what syntax was used? It would be perfect if I could acquire my <code>Type</code> annotation instance directly from PSI / AST / <code>KtElement</code>s and use it like usually. Is it possible to instantiate an annotation from the PSI tree?</p>\n"}, {"tags": ["asynchronous", "kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571257797, "post_id": 58418653, "comment_id": 103184700, "body": "Yes, a typo here"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1571251225, "post_id": 58419639, "comment_id": 103181842, "body": "Ok, that makes sense. So what is the approach to be taken? Should i always handle exception within the job itself and never allow it to propagate no matter if i use <code>coroutineScope</code> or <code>supervisorScope</code> or is there more idiomatic way to handle this?"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "reply_to_user": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1571251611, "post_id": 58419639, "comment_id": 103182005, "body": "I don&#39;t see why you need <code>coroutineScope</code> at all in this case. Keep doing what you do, i.e. catch exceptions in failing child jobs and make them return 0, then just sum them like you already do. Just remove your current <code>coroutineScope</code> and move everything up directly under <code>runBlocking</code> and you&#39;re done. (You might want to add some helper functions to reduce code duplication, of course. And you shouldn&#39;t use <code>runBlocking</code> in your real code either, of course, but I suspect you don&#39;t.)"}, {"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1571251950, "post_id": 58419639, "comment_id": 103182155, "body": "Yes, this is just a sample code i came up with but the idea is similar, I just create async coroutines in a loop hence why i created a coroutineScope around them all. And yes, I dont use runBlocking in my code"}], "tags": [], "owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "is_accepted": false, "score": 1, "last_activity_date": 1571323833, "last_edit_date": 1571323833, "creation_date": 1571250660, "answer_id": 58419639, "question_id": 58418653, "link": "https://stackoverflow.com/questions/58418653/parallel-decomposition-of-independent-async-tasks-with-kotlin-coroutines/58419639#58419639", "title": "Parallel decomposition of independent async tasks with kotlin coroutines", "body": "<p>The reason all coroutines run to completion is that you <code>catch</code> the exception thrown by job 2 within job 2 itself, so it never propagates up the hierarchy of <code>Job</code>s, so nothing happens.</p>\n\n<p>However, if you remove that <code>catch</code> clause in job2, job[1-5] will always be canceled, independent of if you use <code>coroutineScope</code> or <code>supervisorScope</code>.</p>\n\n<p>This is because <code>job2.await()</code> will throw the exception instead. Since this happens within the parent job of job[1-5] (i.e. within the top <code>coroutineScope</code>/<code>supervisorScope</code>), and since a failed/cancelled parent job always cancel child jobs, job[1-5] will also be cancelled.</p>\n\n<p><strong>A1</strong>: Use none of <code>coroutineScope</code> or <code>supervisorScope</code>, remove <code>coroutineScope</code> and put things directly under <code>runBlocking</code>.</p>\n\n<p><strong>A2</strong>: It certainly is allowed to catch exceptions within <code>async { }</code> to make sure it doesn't happen in <code>.await()</code> if it fits your use case.</p>\n"}], "owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1571323833, "creation_date": 1571246520, "last_edit_date": 1571297571, "question_id": 58418653, "link": "https://stackoverflow.com/questions/58418653/parallel-decomposition-of-independent-async-tasks-with-kotlin-coroutines", "title": "Parallel decomposition of independent async tasks with kotlin coroutines", "body": "<p>I am trying to run multiple tasks in parallel, but the tasks are independent so if one of children coroutine fails, I do not want its siblings or parent to fail too. In the code below I have used coroutineScope to create a new scope in which these tasks run and launched 5 async tasks each on sending its id and the delay time it should wait. The second coroutine throws an exception. In this case the code does what i want it to do, it calculates the sum of the jobs that successfully finished and the ones that failed return 0.</p>\n\n<p>However, I am reading that there is also supervisorScope in the kotlinx library which should be preferred instead of coroutineScope (which cancels parent/siblings if exception is not handled) for tasks are not dependent on others. I am not sure why I should be changing to use supervisorScope as I am getting the result I want with coroutineScope.</p>\n\n<p><strong>Q1</strong>: If i were to change to supervisorScope should something change in my async blocks?</p>\n\n<p><strong>Q2</strong>: Is it accepted to catch any exception inside the async block and dont let anything be propagated to its parent? I know you can also catch exceptions during .await() phase but is that the way it should be done?</p>\n\n<pre><code>runBlocking {\n    coroutineScope {\n            val job1 = async&lt;Int&gt; {\n                try {\n                    request(1, 1000)\n                } catch (e: Exception) {\n                    println(\"Job 1 failed with $e\")\n                    0\n                }\n            }\n\n            val job2 = async&lt;Int&gt; {\n                try {\n                    request(2, 2000)\n                    throw Exception(\"cancelling Job 2\")\n                } catch (e: Exception) {\n                    println(\"Job 2 failed: $e\")\n                    0\n                }\n            }\n\n            val job3 = async {\n                try {\n                    request(3, 3000)\n                } catch (e: Exception) {\n                    println(\"Job 3 failed with $e\")\n                    0\n                }\n            }\n\n            val job4 = async {\n                try {\n                    request(4, 4000)\n                } catch (e: Exception) {\n                    println(\"Job 4 failed with $e\")\n                    0\n                }\n            }\n\n            val job5 = async {\n                try {\n                    request(5, 5000)\n                } catch (e: Exception) {\n                    println(\"Job 5 failed with $e\")\n                    0\n                }\n            }\n\n            val result = job1.await() + job2.await() + job3.await() + job4.await() + job5.await()\n            println(result.toString())\n        }\n\n        println(\"Finished\")\n}\n\n</code></pre>\n\n<pre><code>suspend fun request(id: Int, time: Long): Int {\n    println(\"Job $id started\")\n    delay(time)\n    println(\"Job $id finished\")\n    return id\n}\n</code></pre>\n"}, {"tags": ["java", "javafx", "kotlin"], "comments": [{"owner": {"reputation": 2359, "user_id": 5699679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gdMRw.png?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/5699679/avi"}, "edited": false, "score": 0, "creation_date": 1571245319, "post_id": 58418282, "comment_id": 103179213, "body": "You can try setting the graphic of the cell by calling <code>setCellFactory</code> and overriding <code>updateItem</code> instead? It would be pretty tricky, though."}, {"owner": {"reputation": 5973, "user_id": 4185959, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7cfcf34fe9158b62d7980842ea72c512?s=128&d=identicon&r=PG&f=1", "display_name": "Itai", "link": "https://stackoverflow.com/users/4185959/itai"}, "reply_to_user": {"reputation": 2359, "user_id": 5699679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gdMRw.png?s=128&g=1", "display_name": "Avi", "link": "https://stackoverflow.com/users/5699679/avi"}, "edited": false, "score": 2, "creation_date": 1571246221, "post_id": 58418282, "comment_id": 103179610, "body": "You should probably decouple the cell value from the value presentation - it is OK and probably desirable that the cell <i>value</i> is the actual map. As @Avi suggested, you should look into using a custom cell factory - the simplest approach would probably be to use a <code>TextFieldTableCell</code> with a custom formatter that does the actual conversion."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "edited": false, "score": 0, "creation_date": 1571250582, "post_id": 58419553, "comment_id": 103181510, "body": "Thanks, exactly what I was looking for!"}, {"owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "edited": false, "score": 0, "creation_date": 1571934427, "post_id": 58419553, "comment_id": 103412173, "body": "Sorry but I don&#39;t get the concept completely. What do I have to do, if I want an output like key1: value1\\n key2: value2\\n"}, {"owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "edited": false, "score": 0, "creation_date": 1571940137, "post_id": 58419553, "comment_id": 103414632, "body": "Nvmd found out a workaround by overriding the toString of the data class"}], "tags": [], "owner": {"reputation": 362, "user_id": 12203568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35543c7deaeff03051608f2ab2243f1?s=128&d=identicon&r=PG&f=1", "display_name": "SephB", "link": "https://stackoverflow.com/users/12203568/sephb"}, "is_accepted": true, "score": 3, "last_activity_date": 1571250292, "creation_date": 1571250292, "answer_id": 58419553, "question_id": 58418282, "link": "https://stackoverflow.com/questions/58418282/how-to-customize-the-functionality-of-setcellvaluefactory-in-javafxs-tableview/58419553#58419553", "title": "How to customize the functionality of setCellValueFactory in JavaFX&#39;s TableView", "body": "<p>You can put any String value you want in a cell by wrapping it in a ReadOnlyStringWrapper created within setCellValueFactory. It is a better option all around than PropertyValueFactory as it does not use reflection so is type safe.</p>\n\n<p>For instance, the code below would give you all of the values in the map separated by newlines.</p>\n\n<pre><code>tableColumnDC_comp.setCellValueFactory(data -&gt; new ReadOnlyStringWrapper(data.getValue().getMap().values().stream().collect(Collectors.joining(\"\\n\")));\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 58419553, "answer_count": 1, "score": 0, "last_activity_date": 1571250292, "creation_date": 1571245114, "question_id": 58418282, "link": "https://stackoverflow.com/questions/58418282/how-to-customize-the-functionality-of-setcellvaluefactory-in-javafxs-tableview", "title": "How to customize the functionality of setCellValueFactory in JavaFX&#39;s TableView", "body": "<p>I have a Kotlin data class:</p>\n\n<pre><code>data class DataContainer(var descriptor: String = \"\",\n                         var amount: Double = 0.0,\n                         val composition: MutableMap&lt;String, Double&gt; = mutableMapOf(),\n                         var date: LocalDate = now())\n</code></pre>\n\n<p>Instances of this should be added as entries in a JavaFX TableView.\nAdding everything, except the composition, works with TableColumn's standard</p>\n\n<pre><code>.setCellValueFactory(new PropertyValueFactory&lt;&gt;())\n</code></pre>\n\n<p>with the related types within &lt;> and the names within () of the PropertyValueFactory, e.g.:</p>\n\n<pre><code>tableColumnDC_date.setCellValueFactory(new PropertyValueFactory&lt;DataContainer, LocalDate&gt;(\"date\"));\n</code></pre>\n\n<p>Unfortunately, things are a little bit more complicated with the composition (Hash)Map.\nI get very ugly output to the related column just using the above mentioned standard procedure like</p>\n\n<pre><code>tableColumnDC_comp.setCellValueFactory(new PropertyValueFactory&lt;DataContainer, HashMap&lt;String, Double&gt;&gt;(\"composition\"));\n</code></pre>\n\n<p>That's why I would like to customize the setCellValueFactory method.</p>\n\n<p>I would like to produce a customized output string, since Strings containing \"\\n\" are the simplest way to neatly organize output in a single row.\nAny suggestions?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": true, "score": 3, "last_activity_date": 1571245007, "creation_date": 1571245007, "answer_id": 58418254, "question_id": 58418077, "link": "https://stackoverflow.com/questions/58418077/cannot-call-a-function-from-a-child-type-from-a-constructor/58418254#58418254", "title": "Cannot call a function from a child type from a constructor", "body": "<p>Your property is declared in the base Animal class (as AnimalType). The constructor param in Dog doesn't exist by the time you call doSomething.</p>\n\n<p>You could try something like this:</p>\n\n<pre><code>abstract class Animal&lt;T: AnimalType&gt;(val animalType: T)\n\nclass Dog(animalType: DogType) : Animal&lt;DogType&gt;(animalType) {\n    fun doSomething() {\n        animalType.runDogTypeFunction()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 4952942, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5a1aad75ab358f34a37157f7374397e2?s=128&d=identicon&r=PG&f=1", "display_name": "Patres", "link": "https://stackoverflow.com/users/4952942/patres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58418254, "answer_count": 1, "score": 1, "last_activity_date": 1571245007, "creation_date": 1571244280, "question_id": 58418077, "link": "https://stackoverflow.com/questions/58418077/cannot-call-a-function-from-a-child-type-from-a-constructor", "title": "Cannot call a function from a child type from a constructor", "body": "<p>Is it possible to call a function from a child type from a constructor? Please take a look at the example</p>\n\n<pre><code>class Dog(animalType: DogType) : Animal(animalType) {\n    fun doSomething() {\n        animalType.runDogTypeFunction() // error but animalType is always DogType\n    }\n}\n\nabstract class Animal(val animalType: AnimalType)\ninterface AnimalType\n\nenum class DogType() : AnimalType {\n    DOG1, DOG2;\n    fun runDogTypeFunction() {}\n}\n\nenum class CatType() : AnimalType {\n    CAT1, CAT2;\n    fun runCatTypeFunction() {}\n}\n\n</code></pre>\n\n<p>animalType is const (val) so it always is DogType. I do not understand why I cannot call a method from the DogType class.\nI tried to override val but I received NPE</p>\n"}, {"tags": ["android", "kotlin", "garbage-collection"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 1, "creation_date": 1571241424, "post_id": 58416926, "comment_id": 103177431, "body": "Unclear if you read: <a href=\"https://developer.android.com/training/articles/perf-tips\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/perf-tips</a> What you describe is somewhat similar to gaming so <a href=\"https://developer.android.com/games/optimize\" rel=\"nofollow noreferrer\">developer.android.com/games/optimize</a> may be appropriate."}, {"owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1571242808, "post_id": 58416926, "comment_id": 103178061, "body": "Thanks, I will definitely read those."}], "answers": [{"comments": [{"owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "edited": false, "score": 0, "creation_date": 1571242762, "post_id": 58417691, "comment_id": 103178039, "body": "Ohh, so basically what this does is creating as minimal of objects as possible and instead changes the properties of already created ones? That&#39;s genius!"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "edited": false, "score": 1, "creation_date": 1571243128, "post_id": 58417691, "comment_id": 103178196, "body": "Yep. Care does need to be taken that you don&#39;t accidentally continue using an object after freeing it, or you&#39;ll have subtle bugs. The <code>reset</code> function is optional. For something like a vector, you can omit it and just don&#39;t assume you&#39;re getting a zero-length vector from the pool."}, {"owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "edited": false, "score": 0, "creation_date": 1571250678, "post_id": 58417691, "comment_id": 103181553, "body": "I just implemented it and nothings works. And it is just ugly to look at. Man I hate Android"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 1, "last_activity_date": 1571242897, "last_edit_date": 1571242897, "creation_date": 1571242589, "answer_id": 58417691, "question_id": 58416926, "link": "https://stackoverflow.com/questions/58416926/android-garbage-collector-takes-too-much-time/58417691#58417691", "title": "Android Garbage Collector takes too much time", "body": "<p><a href=\"http://gameprogrammingpatterns.com/object-pool.html\" rel=\"nofollow noreferrer\">Pools are typically used for minimizing object instantiation and collection.</a> You can create a base pool class like this:</p>\n\n<pre><code>abstract class Pool&lt;T&gt; {\n    private val objects = Stack&lt;T&gt;()\n\n    protected abstract fun instantiate(): T\n    protected abstract fun reset(obj: T)\n\n    fun obtain(): T {\n        return try {\n            objects.pop()\n        } catch (e: EmptyStackException){\n            instantiate()\n        }\n    }\n\n    fun free(obj: T){\n        reset(obj)\n        objects.push(obj)\n    }\n\n}\n</code></pre>\n\n<p>Then create an implementation for the type of object you're creating:</p>\n\n<pre><code>class Vec3DPool : Pool&lt;Vec3D&gt;() {\n    override fun instantiate(): Vec3D = Vec3D()\n\n    override fun reset(obj: Vec3D) {\n        obj.apply {\n            x = 0.0\n            y = 0.0\n            z = 0.0\n        }\n    }\n}\n</code></pre>\n\n<p>Then, whenever you need a new object, call <code>pool.obtain()</code> instead of instantiating a new one. Whenever you're done with an object, return it to the pool with <code>pool.free()</code> before its reference is lost. The pool will hang onto it so the GC won't be triggered.</p>\n"}], "owner": {"reputation": 1247, "user_id": 2826018, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/N9AZK.gif?s=128&g=1", "display_name": "binaryBigInt", "link": "https://stackoverflow.com/users/2826018/binarybigint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571242897, "creation_date": 1571239937, "question_id": 58416926, "link": "https://stackoverflow.com/questions/58416926/android-garbage-collector-takes-too-much-time", "title": "Android Garbage Collector takes too much time", "body": "<p>I am working on an Android App in the area of Computer Graphics right now. As you probably know, CG is all about pixels and vectors (in 3D).</p>\n\n<p>My problem currently is that I have to calculate multiple vectors for each pixel (usually around Full-HD: 1920 x 1080) multiple times a second. That leaves me with ... alot of <code>Vec3D</code>-Objects (32-Byte each). It is not that much memory ( &lt; 100 MB) but somehow the Android Garbage Collector can't live without cleaning up which takes around 100ms (crazy long).</p>\n\n<p>Initially I thought all those objects would be optimized by the <code>Kotlin</code>-Compiler so I didn't worry about it while developing - but it seems like that's not the case!</p>\n\n<p>As you can imagine, most of the time the GC is running instead of my App. I already thought about a <code>Vec3D-Factory</code> which only creates a <code>Vec3D</code>-Object once but because <code>Vec3D</code> is using three <code>double</code> variables I don't think this would change too much.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "kotlin", "fonts", "android-studio-3.5"], "comments": [{"owner": {"reputation": 672, "user_id": 9854554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/btJHz.jpg?s=128&g=1", "display_name": "Naresh NK", "link": "https://stackoverflow.com/users/9854554/naresh-nk"}, "edited": false, "score": 0, "creation_date": 1571241016, "post_id": 58416809, "comment_id": 103177226, "body": "don&#39;t use custom fonts in any of your views or style and you&#39;r good to go."}, {"owner": {"reputation": 150, "user_id": 12204281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsB72.png?s=128&g=1", "display_name": "LCZ", "link": "https://stackoverflow.com/users/12204281/lcz"}, "reply_to_user": {"reputation": 672, "user_id": 9854554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/btJHz.jpg?s=128&g=1", "display_name": "Naresh NK", "link": "https://stackoverflow.com/users/9854554/naresh-nk"}, "edited": false, "score": 0, "creation_date": 1571499022, "post_id": 58416809, "comment_id": 103265349, "body": "Thanks. &quot;don&#39;t use custom fonts&quot; means use the default <code>sans-serif</code> in Android Studio, right?"}], "answers": [{"tags": [], "owner": {"reputation": 672, "user_id": 9854554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/btJHz.jpg?s=128&g=1", "display_name": "Naresh NK", "link": "https://stackoverflow.com/users/9854554/naresh-nk"}, "is_accepted": false, "score": 0, "last_activity_date": 1571500202, "creation_date": 1571500202, "answer_id": 58465378, "question_id": 58416809, "link": "https://stackoverflow.com/questions/58416809/how-to-use-system-custom-fonts-in-android-studio/58465378#58465378", "title": "How to use system custom fonts in Android Studio", "body": "<p>Don't use custom fonts in your views like -</p>\n\n<pre><code>&lt;TextView\n    ....\n    android:fontFamily=\"@fonts/Arial\"\n    ....\n /&gt;\n</code></pre>\n\n<p>or by <code>TypeFace</code> or by style like -</p>\n\n<pre><code>&lt;style name=\"Regular\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/dancing_script&lt;/item&gt;\n &lt;/style&gt;\n</code></pre>\n\n<p>If you set a custom font manually than your app will use that custom font in every device.\nBut if you don't use a custom font than device's font is applied on your views.</p>\n"}], "owner": {"reputation": 150, "user_id": 12204281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsB72.png?s=128&g=1", "display_name": "LCZ", "link": "https://stackoverflow.com/users/12204281/lcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571500202, "creation_date": 1571239526, "question_id": 58416809, "link": "https://stackoverflow.com/questions/58416809/how-to-use-system-custom-fonts-in-android-studio", "title": "How to use system custom fonts in Android Studio", "body": "<p>In some devices, there is a option to customize the font in the device settings. Also, some devices may not use the <code>Roboto</code> font. How can I ensure that my app can use the system font, instead of a fixed font in my app? I am using Kotlin 1.3 on Android Studio 3.5.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-viewpager2"], "comments": [{"owner": {"reputation": 460, "user_id": 1859777, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8c3896d23ecf81152500de351278e924?s=128&d=identicon&r=PG", "display_name": "blaffie", "link": "https://stackoverflow.com/users/1859777/blaffie"}, "edited": false, "score": 0, "creation_date": 1571239670, "post_id": 58415985, "comment_id": 103176514, "body": "Try to put your RecyclerView inside a <code>&lt;androidx.core.widget.NestedScrollView&gt;</code> <a href=\"https://developer.android.com/reference/android/support/v4/widget/NestedScrollView\" rel=\"nofollow noreferrer\">NestedScrollView</a>"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 2, "creation_date": 1571241157, "post_id": 58415985, "comment_id": 103177299, "body": "^ However, keep in mind that in doing so, your RecyclerView can no longer recycler views and will resort to a mere widget inflating all its content at once, for it no longer has control over the dimensions and it must delegate this to the NestedScrollView, which knows nothing about recycling a view."}], "answers": [{"tags": [], "owner": {"reputation": 84, "user_id": 12045333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GkA22.jpg?s=128&g=1", "display_name": "vijay_s30", "link": "https://stackoverflow.com/users/12045333/vijay-s30"}, "is_accepted": false, "score": 0, "last_activity_date": 1571246945, "last_edit_date": 1571246945, "creation_date": 1571246430, "answer_id": 58418631, "question_id": 58415985, "link": "https://stackoverflow.com/questions/58415985/scrolling-behaviour-conflicts-with-a-child-recyclerview-and-a-parent-viewpager2/58418631#58418631", "title": "Scrolling behaviour conflicts with a child RecyclerView and a parent Viewpager2", "body": "<p>Put your recyclerview inside NestedScrollView and set below property on recyclerview and</p>\n\n<pre><code>android:nestedScrollingEnabled=\"false\"\n</code></pre>\n\n<p>Try this or manage touch event on recyclerview</p>\n"}, {"comments": [{"owner": {"reputation": 2309, "user_id": 5033303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uLul884YV6o/AAAAAAAAAAI/AAAAAAAAAB4/XzPVDX3_Xz0/photo.jpg?sz=128", "display_name": "Ali Zarei", "link": "https://stackoverflow.com/users/5033303/ali-zarei"}, "edited": false, "score": 0, "creation_date": 1585992486, "post_id": 60641468, "comment_id": 107964078, "body": "anybody can provide java version of NestedScrollableHost class?"}, {"owner": {"reputation": 397, "user_id": 7188787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sUwD7.jpg?s=128&g=1", "display_name": "Khaled", "link": "https://stackoverflow.com/users/7188787/khaled"}, "reply_to_user": {"reputation": 2309, "user_id": 5033303, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-uLul884YV6o/AAAAAAAAAAI/AAAAAAAAAB4/XzPVDX3_Xz0/photo.jpg?sz=128", "display_name": "Ali Zarei", "link": "https://stackoverflow.com/users/5033303/ali-zarei"}, "edited": false, "score": 2, "creation_date": 1586703814, "post_id": 60641468, "comment_id": 108219650, "body": "@AliZarei I made a Java version of it, you can find it here <a href=\"https://gist.github.com/KhaledAlharthi/e7e52cdf689295abb76b9437e1e02228\" rel=\"nofollow noreferrer\">gist.github.com/KhaledAlharthi/e7e52cdf689295abb76b9437e1e02&zwnj;&#8203;228</a>"}], "tags": [], "owner": {"reputation": 371, "user_id": 9879359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7U4e8.png?s=128&g=1", "display_name": "Calvin Rai", "link": "https://stackoverflow.com/users/9879359/calvin-rai"}, "is_accepted": false, "score": 5, "last_activity_date": 1583947501, "creation_date": 1583947501, "answer_id": 60641468, "question_id": 58415985, "link": "https://stackoverflow.com/questions/58415985/scrolling-behaviour-conflicts-with-a-child-recyclerview-and-a-parent-viewpager2/60641468#60641468", "title": "Scrolling behaviour conflicts with a child RecyclerView and a parent Viewpager2", "body": "<p>I had a similar issue to yours and I found the answer via the official <a href=\"https://developer.android.com/training/animation/vp2-migration#nested-scrollables\" rel=\"noreferrer\">documentation</a>. </p>\n\n<p>I would suggest NOT to place your RecyclerView within a NestedScrollView simply for the reason <a href=\"https://stackoverflow.com/users/2684/martin-marconcini\">Martin Macroncini</a> answered previously. This causes the RecyclerView to create ViewHolders for every single data item, with no regards to recycling them. That is obviously very inefficient. </p>\n\n<p>Instead, Google provided a solution in their <a href=\"https://github.com/android/views-widgets-samples/tree/master/ViewPager2\" rel=\"noreferrer\">ViewPager2 samples</a> where they created a generic wrapper class called <a href=\"https://github.com/android/views-widgets-samples/blob/master/ViewPager2/app/src/main/java/androidx/viewpager2/integration/testapp/NestedScrollableHost.kt\" rel=\"noreferrer\">NestedScrollableHost</a> that you simply add to your project. Then you can wrap that RecyclerView with it, similar to below, to handle the intercepted touch/swipe events:</p>\n\n<pre><code>&lt;NestedScrollableHost\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/my_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\" /&gt;\n\n    &lt;/NestedScrollableHost&gt;\n</code></pre>\n\n<p>As noted by the documentation, this only works for immediate children of the ViewPager2, which in your case should work just fine.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 41, "user_id": 7949086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1441997939196508/picture?type=large", "display_name": "Victor Oliveira", "link": "https://stackoverflow.com/users/7949086/victor-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2439, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1597322501, "creation_date": 1571236927, "last_edit_date": 1571300700, "question_id": 58415985, "link": "https://stackoverflow.com/questions/58415985/scrolling-behaviour-conflicts-with-a-child-recyclerview-and-a-parent-viewpager2", "title": "Scrolling behaviour conflicts with a child RecyclerView and a parent Viewpager2", "body": "<p>I have a vertical scrolling <code>ViewPager2</code> and the last children contains a <code>RecyclerView</code> scrolling on the same direction.</p>\n\n<p>This is causing a conflicting behaviour, the <code>ViewPager2</code> always steal the scroll event when I am at the page containing this <code>RecyclerView</code>. The only way to make the scroll inside the <code>RecyclerView</code> is if I scroll really slow, if I make it fast, like a swipe event the <code>ViewPager2</code> gets scrolled and changes the page.</p>\n\n<p>Currently I'm doing a fix that involves disabled the user interaction changing the flag <code>isUserInputEnabled</code> to false when the page of the <code>ViewPager2</code> changes to this page that contains the <code>RecyclerView</code>, but a generic solution from the framework would be welcome :)</p>\n"}, {"tags": ["kotlin", "destructuring"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571234556, "post_id": 58415159, "comment_id": 103173170, "body": "It&#39;s a list, not a 9-element tuple."}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 0, "creation_date": 1571234809, "post_id": 58415159, "comment_id": 103173358, "body": "Any particular reason it needs to be on one line?"}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 3, "last_activity_date": 1571234916, "creation_date": 1571234916, "answer_id": 58415354, "question_id": 58415159, "link": "https://stackoverflow.com/questions/58415159/how-can-i-enter-more-than-five-values-on-one-line/58415354#58415354", "title": "How can I enter more than five values on one line?", "body": "<p>Kotlin only defines <code>component1()</code> through <code>component5()</code> on <code>List</code>, which it uses for destructuring, so that limits what you can do with it.</p>\n\n<p>However, thanks to <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extension Functions</a>, we can define our own:</p>\n\n<pre><code>operator fun &lt;T&gt; List&lt;T&gt;.component6(): T = this[5]\noperator fun &lt;T&gt; List&lt;T&gt;.component7(): T = this[6]\noperator fun &lt;T&gt; List&lt;T&gt;.component8(): T = this[7]\noperator fun &lt;T&gt; List&lt;T&gt;.component9(): T = this[8]\n</code></pre>\n\n<p>(And so on...)</p>\n\n<p>And then this should work:</p>\n\n<pre><code>val (x, y, z, f, e, m, s, t, c) = readInts() \n</code></pre>\n\n<p>Note that this will probably fail as written if your components are null.</p>\n"}], "owner": {"reputation": 109, "user_id": 11011125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kSOdb8kVpA/AAAAAAAAAAI/AAAAAAAAS4c/qqfeqNx2Qeg/photo.jpg?sz=128", "display_name": "delet-dis", "link": "https://stackoverflow.com/users/11011125/delet-dis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58415354, "answer_count": 1, "score": 1, "last_activity_date": 1571293220, "creation_date": 1571234374, "last_edit_date": 1571293220, "question_id": 58415159, "link": "https://stackoverflow.com/questions/58415159/how-can-i-enter-more-than-five-values-on-one-line", "title": "How can I enter more than five values on one line?", "body": "<p>I need to enter nine values on one line in Kotlin:</p>\n\n<pre><code>fun readInts() = readLine()!!.split(' ').map { it.toInt() }\n\nfun main(){\n    val (x, y, z, f, e, m, s, t, c) = readInts() \n</code></pre>\n\n<p>but when I try to do this, I get an error:</p>\n\n<pre><code>Error:(5, 30) Kotlin: Destructuring declaration initializer of type List&lt;Int&gt; must have a 'component6()' function\n</code></pre>\n\n<p>Thanks in advance for your help)</p>\n"}, {"tags": ["java", "android", "json", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571234156, "post_id": 58414814, "comment_id": 103172893, "body": "Considering you are parsing the JSON at runtime, your requirements don&#39;t sound plausible?"}, {"owner": {"reputation": 2032, "user_id": 3543940, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/dexI8.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3543940/shubham"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571234288, "post_id": 58414814, "comment_id": 103172990, "body": "@EpicPandaForce json is passed at compile-time, it&#39;s a kind of SDK that I am making"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571745932, "post_id": 58414814, "comment_id": 103336164, "body": "If the JSON is known at compile time you can probably make a Android Studio plug-in for it. I highly suspect there is a better solution to your use case though, that does not involve JSON. If you share us more of the specifics of your problem we might be able to help you out with that."}, {"owner": {"reputation": 2032, "user_id": 3543940, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/dexI8.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3543940/shubham"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571752926, "post_id": 58414814, "comment_id": 103340240, "body": "@Enselic I have edited my question. I hope it is clear now."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1571758052, "post_id": 58414814, "comment_id": 103343189, "body": "Sounds like what you need is a JSON validator at compile time, not a Kotlin/Java solution ;)"}, {"owner": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "edited": false, "score": 0, "creation_date": 1571977019, "post_id": 58414814, "comment_id": 103424507, "body": "I think what you need to write is a custom gradle plugin.  Google and Firebase use this when distributing their processing the json config files.    Haven&#39;t tried it myself, but maybe this can you get started: <a href=\"https://proandroiddev.com/gradlepluginandroidsdk-8a2494cbd238\" rel=\"nofollow noreferrer\">proandroiddev.com/gradlepluginandroidsdk-8a2494cbd238</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": -2, "last_activity_date": 1571246852, "last_edit_date": 1571246852, "creation_date": 1571246536, "answer_id": 58418657, "question_id": 58414814, "link": "https://stackoverflow.com/questions/58414814/compile-time-check-while-passing-values-to-a-function-in-kotlin-android/58418657#58418657", "title": "Compile time check while passing values to a function in Kotlin Android", "body": "<p>No, it's impossible check it in compiler time. It's string handling, as numeric calculation. </p>\n\n<p>In my app, I convert  string to JSON and JSON to string, passing class descriptor. My aim is record JSON string in a text file to load in SQLite database. This code I've run in my desktop computer not in <em>Android</em>. </p>\n\n<pre><code>data class calcDescr (  \n   ...\n)\nval calc = CalcDescr(...)\n\n //    toJson:  internal Kotlin data to JSON\nval content = Gson().toJson(calc)   \n\n  //==================\n  // Testing validity\n  // ================\n\n //    fromJson: JSON to internal Kotlin data. \n // It needs pass the class descriptor. Uses *Java* token, but it's *Kotlin*\nvar testModel = Gson().fromJson(content, CalcDescr::class.java) \n //    toJson:  internal Kotlin data to JSON again\nvar contentAgain = Gson().toJson(testModel)\n//    shoul be equal!\nif (content == contentAgain)  println(\"***ok***\")\n</code></pre>\n\n<p>In my file, I write the variable <code>content</code> in a file</p>\n"}, {"tags": [], "owner": {"reputation": 4717, "user_id": 4133301, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yKdIm.jpg?s=128&g=1", "display_name": "GensaGames", "link": "https://stackoverflow.com/users/4133301/gensagames"}, "is_accepted": false, "score": 1, "last_activity_date": 1571766849, "creation_date": 1571766849, "answer_id": 58509873, "question_id": 58414814, "link": "https://stackoverflow.com/questions/58414814/compile-time-check-while-passing-values-to-a-function-in-kotlin-android/58509873#58509873", "title": "Compile time check while passing values to a function in Kotlin Android", "body": "<p>Sure it's possible to do, but somehow in different way, that you described. First of all, as you already mentioned this behavior could be done easily. For this purpose we have <code>Objects.requireNotNull()</code> or <code>Guava.Preconditions()</code>. At the same way you can define you checking but this will work on runtime only. </p>\n\n<p>To do in compile time, <strong>you need to create Annotation Preprocessor</strong>. The same, as did in different libraries, and one of them, could be <a href=\"https://github.com/rzwitserloot/lombok\" rel=\"nofollow noreferrer\">Lombok</a>, with their <code>NotNull</code> and <code>Nullable</code>. Android annotation just provide mark and bound for IDE warning, but in their case they adding <code>NotNull</code> checking and throw exception for every annotation usage during compile time. </p>\n\n<p>It's not an easy way, but it's what you are looking for. </p>\n"}], "owner": {"reputation": 2032, "user_id": 3543940, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/dexI8.jpg?s=128&g=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/3543940/shubham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1571815740, "creation_date": 1571233365, "last_edit_date": 1571815740, "question_id": 58414814, "link": "https://stackoverflow.com/questions/58414814/compile-time-check-while-passing-values-to-a-function-in-kotlin-android", "title": "Compile time check while passing values to a function in Kotlin Android", "body": "<p>I am taking a <code>JSON</code> file as input for a class and parsing the values using gson through respective data classes. </p>\n\n<p>I want to call a function that takes a <code>String</code> value as an argument. </p>\n\n<p>The string value allowed is decided from the values parsed from <code>JSON</code> file. Can I somehow check for that string value passed to the function at compile-time &amp; give an error at compile-time?</p>\n\n<p>Or If I can allow only certain values in the argument for the function based on the values from JSON</p>\n\n<p><strong>Detailed Explanation of use case:</strong></p>\n\n<p>I am building a SDK in which a the person using sdk inputs json String. The json is standardised and is parsed in my code. </p>\n\n<pre><code>{\n    \"name\": \"Test\",\n    \"objects\": [\n        {\n            \"name\": \"object1\",\n            \"type\": \"object1\"\n         }\n      ]\n}\n</code></pre>\n\n<p>Here name values and other values may vary based on the input by the developer using it but key remains same. But we need to call a function using the value in objects name parameter.</p>\n\n<pre><code>fun testMethod(objectName:String)\n</code></pre>\n\n<p>So developer calls the testMethod as <code>testMethod(object1)</code>. </p>\n\n<p>I need to validate <code>object1</code> parameter based on json but is there any way possible restricting the test method parameter to <code>object1</code> only &amp; give error at compile time if the developer calls <code>testMethod(obj1)</code></p>\n\n<p>Right now I parse JSON &amp; have checks inside the <code>testMethod()</code></p>\n"}, {"tags": ["kotlin", "delegates", "immutability", "mutability"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3622163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c18b6d3d5956cf4262a2aaf979b843?s=128&d=identicon&r=PG&f=1", "display_name": "Jocbe", "link": "https://stackoverflow.com/users/3622163/jocbe"}, "edited": false, "score": 0, "creation_date": 1573833619, "post_id": 58415223, "comment_id": 104028404, "body": "Unfortunately by using your solution the parser ArgParser does not seem to recognize the field as a CLI parameter anymore. It is simply not a valid option anymore, not displayed in the help text. Somehow the parser must get confused by using such a wrapping delegate - do you have any ideas?"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 53, "user_id": 3622163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c18b6d3d5956cf4262a2aaf979b843?s=128&d=identicon&r=PG&f=1", "display_name": "Jocbe", "link": "https://stackoverflow.com/users/3622163/jocbe"}, "edited": false, "score": 0, "creation_date": 1573843594, "post_id": 58415223, "comment_id": 104033230, "body": "@Jocbe I&#39;ve updated my answer. Please check it again. You should use <code>parser.flagging(...).toMutableProvider()</code> instead of <code>parser.flagging(...).toMutableProperty()</code>."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 1, "last_activity_date": 1573844550, "last_edit_date": 1573844550, "creation_date": 1571234542, "answer_id": 58415223, "question_id": 58413500, "link": "https://stackoverflow.com/questions/58413500/create-a-var-using-a-delegate-that-does-not-have-a-setter/58415223#58415223", "title": "Create a var using a delegate that does not have a setter", "body": "<p>Here is how you can wrap a <code>ReadOnlyProperty</code> to make it work the way you want:</p>\n\n<pre><code>class MutableProperty&lt;in R, T&gt;(\n    // `(R, KProperty&lt;*&gt;) -&gt; T` is accepted here instead of `ReadOnlyProperty&lt;R, T&gt;`,\n    // to enable wrapping of properties which are based on extension function and don't\n    // implement `ReadOnlyProperty&lt;R, T&gt;`\n    wrapped: (R, KProperty&lt;*&gt;) -&gt; T\n) : ReadWriteProperty&lt;R, T&gt; {\n    private var wrapped: ((R, KProperty&lt;*&gt;) -&gt; T)? = wrapped // null when field is assigned\n    private var field: T? = null\n\n    @Suppress(\"UNCHECKED_CAST\") // field is T if wrapped is null\n    override fun getValue(thisRef: R, property: KProperty&lt;*&gt;) =\n        if (wrapped == null) field as T\n        else wrapped!!(thisRef, property)\n\n    override fun setValue(thisRef: R, property: KProperty&lt;*&gt;, value: T) {\n        field = value\n        wrapped = null\n    }\n}\n\nfun &lt;R, T&gt; ReadOnlyProperty&lt;R, T&gt;.toMutableProperty() = MutableProperty(this::getValue)\n\nfun &lt;R, T&gt; ((R, KProperty&lt;*&gt;) -&gt; T).toMutableProperty() = MutableProperty(this)\n</code></pre>\n\n<p>Use case:</p>\n\n<pre><code>var lazyVar by lazy { 1 }::getValue.toMutableProperty()\n</code></pre>\n\n<hr>\n\n<p>And here is how you can wrap a property delegate provider:</p>\n\n<pre><code>class MutableProvider&lt;in R, T&gt;(\n    private val provider: (R, KProperty&lt;*&gt;) -&gt; (R, KProperty&lt;*&gt;) -&gt; T\n) {\n    operator fun provideDelegate(thisRef: R, prop: KProperty&lt;*&gt;): MutableProperty&lt;R, T&gt; =\n        provider(thisRef, prop).toMutableProperty()\n}\n\nfun &lt;T&gt; ArgParser.Delegate&lt;T&gt;.toMutableProvider() = MutableProvider { thisRef: Any?, prop -&gt;\n    provideDelegate(thisRef, prop)::getValue\n}\n</code></pre>\n\n<p>Use case:</p>\n\n<pre><code>var flagging by parser.flagging(\n    \"--my-param\",\n    help = \"helptext\"\n).toMutableProvider()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1571236827, "post_id": 58415607, "comment_id": 103174714, "body": "Not sure how your library works, so maybe it would choke on this?"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1571237725, "post_id": 58415607, "comment_id": 103175325, "body": "Your solution doesn&#39;t work correctly if I reassign property to <code>null</code>. The following code fails: <code>var param: Boolean? by DefaultDelegate(parser.flagging(&quot;--my-param&quot;, help = &quot;helptext&quot;)); param = null; param shouldEql null</code>."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1571237974, "post_id": 58415607, "comment_id": 103175479, "body": "I didn&#39;t know you needed nullability. See updated version."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1571238092, "post_id": 58415607, "comment_id": 103175561, "body": "Wait a sec...you aren&#39;t the OP."}, {"owner": {"reputation": 53, "user_id": 3622163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c18b6d3d5956cf4262a2aaf979b843?s=128&d=identicon&r=PG&f=1", "display_name": "Jocbe", "link": "https://stackoverflow.com/users/3622163/jocbe"}, "edited": false, "score": 0, "creation_date": 1573833941, "post_id": 58415607, "comment_id": 104028599, "body": "I had similar issues with your solution as with the other one: Unfortunately by using your solution the parser ArgParser does not seem to recognize the field as a CLI parameter anymore. It is simply not a valid option anymore, not displayed in the help text. Somehow the parser must get confused by using such a wrapping delegate - do you have any ideas?  Also, I had to change the type of <code>thisRef</code> in <code>setValue</code> to <code>Any?</code> to get it to compile - is that correct?"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1571237961, "last_edit_date": 1571237961, "creation_date": 1571235780, "answer_id": 58415607, "question_id": 58413500, "link": "https://stackoverflow.com/questions/58413500/create-a-var-using-a-delegate-that-does-not-have-a-setter/58415607#58415607", "title": "Create a var using a delegate that does not have a setter", "body": "<p>You could wrap your delegate with a class like this: </p>\n\n<pre><code>class DefaultDelegate&lt;T&gt;(private val default: Delegate&lt;T&gt;){\n    private var _value: T? = null\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T? = \n        _value?: default.value\n\n    operator fun setValue(thisRef: Nothing?, property: KProperty&lt;*&gt;, value: T?) {\n        _value = value\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>class Foo(parser: ArgParser) {\n    var myParameter: Boolean? by DefaultDelegate(parser.flagging(\n        \"--my-param\",\n        help = \"helptext\"\n    ))\n}\n</code></pre>\n\n<p>If you need nullability:</p>\n\n<pre><code>class DefaultDelegate&lt;T&gt;(private val default: Delegate&lt;T&gt;){\n    private var modified = false\n    private var _value: T? = null\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T? = \n        if (modified) _value else default.value\n\n    operator fun setValue(thisRef: Nothing?, property: KProperty&lt;*&gt;, value: T?) {\n        _value = value\n        modified = true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3622163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c18b6d3d5956cf4262a2aaf979b843?s=128&d=identicon&r=PG&f=1", "display_name": "Jocbe", "link": "https://stackoverflow.com/users/3622163/jocbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "accepted_answer_id": 58415223, "answer_count": 2, "score": 0, "last_activity_date": 1573844550, "creation_date": 1571229434, "last_edit_date": 1571229945, "question_id": 58413500, "link": "https://stackoverflow.com/questions/58413500/create-a-var-using-a-delegate-that-does-not-have-a-setter", "title": "Create a var using a delegate that does not have a setter", "body": "<p>I am trying to create delegate var properties with a delegate that does not provide a <code>setValue(...)</code> method. In other words, I need a property that I can reassign but that should get its value via the delegate as long as it hasn't been reassigned. </p>\n\n<p>I am using the <a href=\"https://github.com/xenomachina/kotlin-argparser\" rel=\"nofollow noreferrer\">xenomachina CLI arguments parser</a> library, which uses delegates. This works well as long as I have <code>val</code> properties. In some cases I need to be able to change those properties dynamically at runtime, though, requiring a mutable <code>var</code>. I can't simply use a <code>var</code> here, as the library does not provide a <code>setValue(...)</code> method in its delegate responsible for the argument parsing.</p>\n\n<p>Ideally, I'd like something like this:</p>\n\n<pre><code>class Foo(parser: ArgParser) {\n    var myParameter by parser.flagging(\n        \"--my-param\",\n        help = \"helptext\"\n    )\n}\n</code></pre>\n\n<p>which doesn't work due to the missing setter.</p>\n\n<p>So far, I've tried extending the <code>Delegate</code> class with a setter extension function, but internally it also uses a <code>val</code>, so I can't change that. I've tried wrapping the delegate into another delegate but when I do that then the library doesn't recognize the options I've wrapped anymore. Although I may have missed something there. \nI can't just re-assign the value to a new var as follows:</p>\n\n<pre><code>private val _myParameter by parser.flagging(...)\nvar myParameter = _myParameter\n</code></pre>\n\n<p>since that seems to confuse the parser and it stops evaluating the rest of the parameters as soon as the first delegate property is accessed. Besides, it is not particularly pretty.</p>\n\n<p>How do you use delegates that don't include a setter in combination with a <code>var</code> property?</p>\n"}, {"tags": ["java", "android", "kotlin", "epg"], "owner": {"reputation": 147, "user_id": 9639731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93df033cd7d120b9c96559f6c889888?s=128&d=identicon&r=PG&f=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/9639731/aravind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571228041, "creation_date": 1571228041, "question_id": 58413062, "link": "https://stackoverflow.com/questions/58413062/android-epg-view-in-android-mobile-ott-application", "title": "Android EPG view in android Mobile (OTT Application)", "body": "<p>Android EPG view in android mobile. I am working on OTT application and I need to show the EPG in my application. I am getting the EPG data from the server.</p>\n\n<p>I got the sample project from the github [<a href=\"https://github.com/korre/android-tv-epg]\" rel=\"nofollow noreferrer\">https://github.com/korre/android-tv-epg]</a>. I tried implementing this project and I am stuck in loading EPG data from the server. I am using retrofit to retrieve data from the server. </p>\n\n<pre><code>fun GetChnlEPG( map: HashMap&lt;String, String&gt;){\n    val Call = apiInterface.GetChnlEPG(map)\n    Call.enqueue(object : Callback&lt;EPGResponseList&gt;{\n        override fun onResponse(\n            call: Call&lt;EPGResponseList&gt;,\n            response: Response&lt;EPGResponseList&gt;\n        ) {\n            if (response.isSuccessful()){\n                ChnlDetails = response.body()!!.channelDetails as ArrayList&lt;ChannelDetail&gt;\n\n                for (i in 0 until ChnlDetails.size){\n\n                    var EPGResponse: ArrayList&lt;EpgReponse&gt;\n                    EPGResponse = ChnlDetails.get(i).epg as ArrayList&lt;EpgReponse&gt;\n\n                    for (j in 0 until EPGResponse.size){\n\n                        if (EPGResponse.get(j).epgAvailable.toString().equals(\"YES\")){\n\n                            ChnlEpgDetails = EPGResponse.get(j).epgDetails as ArrayList&lt;EpgDetailResponse&gt;\n\n                            for (k in 0 until ChnlEpgDetails.size){\n\n                                val ProgDuration = ChnlEpgDetails.get(k).programName\n\n                                Log.d(\"epgDetails\", ProgDuration.toString())\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        override fun onFailure(call: Call&lt;EPGResponseList&gt;, t: Throwable) {\n            Log.d(\"EPGResponseList\", t.message)\n        }\n    })\n}\n\n//The sample project loads the EPG data as follows \n\n\n\npublic class MockDataService {\n\nprivate static Random rand = new Random();\n\nprivate static ArrayList&lt;Integer&gt; availableEventLength = new ArrayList&lt;&gt;(Arrays.asList(\n        1000*60*15,  // 15 minutes\n        1000*60*30,  // 30 minutes\n        1000*60*45,  // 45 minutes\n        1000*60*60,  // 60 minutes\n        1000*60*120  // 120 minutes\n));\n\nprivate static List&lt;String&gt; availableEventTitles = new ArrayList&lt;&gt;(Arrays.asList(\n        \"Avengers\",\n        \"How I Met Your Mother\",\n        \"Silicon Valley\",\n        \"Late Night with Jimmy Fallon\",\n        \"The Big Bang Theory\",\n        \"Leon\",\n        \"Die Hard\"\n));\n\nprivate static List&lt;String&gt; availableChannelLogos = new ArrayList&lt;&gt;(Arrays.asList(\n        \"http://tineye.com/images/widgets/mona.jpg\",\n        \"https://homepages.cae.wisc.edu/~ece533/images/airplane.png\",\n        \"https://homepages.cae.wisc.edu/~ece533/images/baboon.png\",\n        \"https://homepages.cae.wisc.edu/~ece533/images/fruits.png\",\n        \"https://homepages.cae.wisc.edu/~ece533/images/pool.png\"\n));\n\npublic static Map&lt;EPGChannel, List&lt;EPGEvent&gt;&gt; getMockData() {\n    HashMap&lt;EPGChannel, List&lt;EPGEvent&gt;&gt; result = new HashMap&lt;&gt;();\n\n    long nowMillis = System.currentTimeMillis();\n\n    for (int i=0 ; i &lt; availableChannelLogos.size() ; i++) {\n        EPGChannel epgChannel = new EPGChannel(availableChannelLogos.get(i),\n                \"Channel \" + (i+1), Integer.toString(i));\n\n        result.put(epgChannel, createEvents(epgChannel, nowMillis));\n    }\n\n    return result;\n}\n\nprivate static List&lt;EPGEvent&gt; createEvents(EPGChannel epgChannel, long nowMillis) {\n    ArrayList&lt;EPGEvent&gt; result = new ArrayList&lt;&gt;();\n\n    long epgStart = nowMillis - EPG.DAYS_BACK_MILLIS;\n    long epgEnd = nowMillis + EPG.DAYS_FORWARD_MILLIS;\n\n    long currentTime = epgStart;\n\n    while (currentTime &lt;= epgEnd) {\n        long eventEnd = getEventEnd(currentTime);\n        EPGEvent epgEvent = new EPGEvent(currentTime, eventEnd, availableEventTitles.get(randomBetween(0, 6)));\n        result.add(epgEvent);\n        currentTime = eventEnd;\n    }\n\n    return result;\n}\n\nprivate static long getEventEnd(long eventStartMillis) {\n    long length = availableEventLength.get(randomBetween(0,4));\n    return eventStartMillis + length;\n}\n\nprivate static int randomBetween(int start, int end) {\n    return start + rand.nextInt((end - start) + 1);\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mobile-application"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1571226904, "post_id": 58412656, "comment_id": 103168393, "body": "Please post the code you have tried so we can help"}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1571227055, "post_id": 58412656, "comment_id": 103168491, "body": "Difficult to help without seeing your code"}, {"owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 2, "creation_date": 1571227082, "post_id": 58412656, "comment_id": 103168504, "body": "Welcome to Stack Overflow! We would love to help you, but there are some problems in the current format/content of your question that makes it hard for some of us to help. If you haven&#39;t done so already, please <a href=\"https://stackoverflow.com/tour\">take the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;How do I ask a good question?&quot;</a> so it will be easier for us to help you. This may also be helpful: <a href=\"https://meta.stackexchange.com/questions/10647/how-do-i-write-a-good-title\">How do I write a good title?</a>"}, {"owner": {"reputation": 274, "user_id": 11901386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YY7ym98QHlE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcp_dixmnvLawtUPlGq7fJ1mXqp-Q/photo.jpg?sz=128", "display_name": "Ruben Meiring", "link": "https://stackoverflow.com/users/11901386/ruben-meiring"}, "edited": false, "score": 0, "creation_date": 1571227548, "post_id": 58412656, "comment_id": 103168782, "body": "We are here to help , just post your code so we can help you and show you where the mistake is ec."}], "answers": [{"tags": [], "owner": {"reputation": 475, "user_id": 11877776, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-T_0LiJG5n8k/AAAAAAAAAAI/AAAAAAAAABM/GHoMFEU_6hk/photo.jpg?sz=128", "display_name": "Duy Khanh Nguyen", "link": "https://stackoverflow.com/users/11877776/duy-khanh-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1571247203, "creation_date": 1571247203, "answer_id": 58418814, "question_id": 58412656, "link": "https://stackoverflow.com/questions/58412656/issue-with-onclicklistener/58418814#58418814", "title": "Issue with OnClickListener", "body": "<p>Make sure that you use braces {} instead of brackets after \"view.setOnClickListener\"</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 9411421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ad4b86b241bd9016069e59dd2a3a23?s=128&d=identicon&r=PG&f=1", "display_name": "jameseronious", "link": "https://stackoverflow.com/users/9411421/jameseronious"}, "is_accepted": false, "score": 0, "last_activity_date": 1571266880, "creation_date": 1571266880, "answer_id": 58422728, "question_id": 58412656, "link": "https://stackoverflow.com/questions/58412656/issue-with-onclicklistener/58422728#58422728", "title": "Issue with OnClickListener", "body": "<p>You can implement OnClickListeners a few different ways.</p>\n\n<p>For a simple implementation you can do the following: </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    button.setOnClickListener {\n        // do something when the user clicks the button\n    }\n}\n</code></pre>\n\n<p>Or you can have your activity handle it like so:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), View.OnClickListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n\n       &lt;yourButton&gt;.setOnClickListener(this)\n    }\n\n\n    override fun onClick(v: View?) {\n      when (v) {\n        (&lt;yourButton&gt;) -&gt; {\n\n           // do something when the user clicks the button\n        }\n        else -&gt; return\n      }\n    }\n\n}\n</code></pre>\n\n<p>Here is a decent source if you want to read more. \n<a href=\"https://antonioleiva.com/lambdas-kotlin-android/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/lambdas-kotlin-android/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11719184, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xCGC2DQj_5M/AAAAAAAAAAI/AAAAAAAAAFs/MqzaOd5vZkw/photo.jpg?sz=128", "display_name": "Piotr Jagie\u0142\u0142o", "link": "https://stackoverflow.com/users/11719184/piotr-jagie%c5%82%c5%82o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1571266880, "creation_date": 1571226804, "last_edit_date": 1571232324, "question_id": 58412656, "link": "https://stackoverflow.com/questions/58412656/issue-with-onclicklistener", "title": "Issue with OnClickListener", "body": "<p>I got an issue with SetOnClickListener in mine mobile kotlin app on AndroidStudio.\nI created menu with this tutorial <a href=\"https://www.youtube.com/watch?v=sZWMPYIkNd8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sZWMPYIkNd8</a></p>\n\n<p>Its ok! works fine on HAXM emulator but i can't manage to make mine button interactive..Tutorial guide tells me to initialize Button with SetOnClickListener</p>\n\n<p>Android studio keeps asking me for more arguments and editors displays <code>not-enough-information-to-infer-parameter-t-with-kotlin-and-android</code> which makes me stuck.</p>\n\n<p>I'm learning this language but resolving this problem is kinda out of mine range...what i need to know to properly implement OnClickListener?</p>\n\n<p>Guy on youtube video doesnt put any extra phrase in brackets. so what i should do?</p>\n"}, {"tags": ["loops", "kotlin", "collections"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 0, "last_activity_date": 1571229951, "creation_date": 1571229951, "answer_id": 58413661, "question_id": 58412536, "link": "https://stackoverflow.com/questions/58412536/how-to-iterate-through-an-collection-that-has-been-chunked/58413661#58413661", "title": "How to iterate through an collection that has been chunked", "body": "<p>You can merge this list back with <code>flatten</code> which will be relatively slow but readable. Or you can just use nested loops. It will be fast but less readable</p>\n\n<pre><code>val chunkedList = (1..20).toList().chunked(6)\n\nchunkedList.flatten().forEach { println(it) }\n\n//or\n\nfor (list in chunkedList) {\n    for (i in list) {\n        println(i)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5668480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25abd1d65309603b529798baf36f1476?s=128&d=identicon&r=PG&f=1", "display_name": "whack", "link": "https://stackoverflow.com/users/5668480/whack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58413661, "answer_count": 1, "score": 0, "last_activity_date": 1571229951, "creation_date": 1571226360, "question_id": 58412536, "link": "https://stackoverflow.com/questions/58412536/how-to-iterate-through-an-collection-that-has-been-chunked", "title": "How to iterate through an collection that has been chunked", "body": "<p>Im trying to iterate through an list that has been chunked into 6. What will be a good way to do this </p>\n\n<pre><code>fun listSplit(listOfEanItems: ArrayList&lt;String?&gt;) {\n    val newList = listOfEanItems.chunked(6)\n    ItemsViewFragment().getChunkedEanList(newList)\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "variadic-functions"], "answers": [{"tags": [], "owner": {"reputation": 12461, "user_id": 902358, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/xNaWy.jpg?s=128&g=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/902358/terry"}, "is_accepted": false, "score": 2, "last_activity_date": 1571224261, "creation_date": 1571224261, "answer_id": 58411940, "question_id": 58411939, "link": "https://stackoverflow.com/questions/58411939/how-to-convert-vararg-to-list/58411940#58411940", "title": "How to convert vararg to list?", "body": "<p>The vararg param needs to be spread with the spread <code>*</code> operator.</p>\n\n<pre><code>fun insertMissingEntities(vararg entities: Entity) {\n  val list = listOf(*entities)\n  passMissingEntities(list)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 4928318, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BNPKxlHTYDk/AAAAAAAAAAI/AAAAAAAABZM/kq6OIhQgoa8/photo.jpg?sz=128", "display_name": "ArpitA", "link": "https://stackoverflow.com/users/4928318/arpita"}, "is_accepted": false, "score": 0, "last_activity_date": 1571225703, "creation_date": 1571225703, "answer_id": 58412326, "question_id": 58411939, "link": "https://stackoverflow.com/questions/58411939/how-to-convert-vararg-to-list/58412326#58412326", "title": "How to convert vararg to list?", "body": "<p><strong>Koltin</strong> (varang a:Entity) ~= <strong>Java</strong> (a:Entity ... a)</p>\n\n<p>Which means the you can pass <strong>multiple params of type Entity</strong> not the entire array/list</p>\n\n<p>When we call a vararg-function, we can pass arguments one-by-one, e.g. asList(1, 2, 3), or, if we already have an array and want to pass its contents to the function, we use the spread operator . (prefix the array with *):</p>\n\n<pre><code>    fun insertMissingEntities(vararg entities: Entity) {\n      val list = listOf(entities)  // Here entities is already a list of entity so you are doing listOf(listOf(entity)).. Hence , the error\n\n//passMissingEntities(list) -&gt; WRONG// Type mismatch. \n                                    // Required: List&lt;Entity&gt;\n                                    // Found: List&lt;Array&lt;out Entity&gt;&gt;\n\n\n passMissingEntities(entities) // Just pass the entities instead of converting it to list again\n    }\n</code></pre>\n\n<p>Also read : <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs</a></p>\n"}, {"comments": [{"owner": {"reputation": 12461, "user_id": 902358, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/xNaWy.jpg?s=128&g=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/902358/terry"}, "edited": false, "score": 0, "creation_date": 1571749353, "post_id": 58420161, "comment_id": 103338140, "body": "This really is the simpler solution."}, {"owner": {"reputation": 1032, "user_id": 5330578, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J5MvP.jpg?s=128&g=1", "display_name": "notes-jj", "link": "https://stackoverflow.com/users/5330578/notes-jj"}, "edited": false, "score": 0, "creation_date": 1618699659, "post_id": 58420161, "comment_id": 118682353, "body": "It is <code>toList()</code> not <code>asList</code>"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "reply_to_user": {"reputation": 1032, "user_id": 5330578, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/J5MvP.jpg?s=128&g=1", "display_name": "notes-jj", "link": "https://stackoverflow.com/users/5330578/notes-jj"}, "edited": false, "score": 0, "creation_date": 1618703072, "post_id": 58420161, "comment_id": 118682877, "body": "@notes-jj: Those are two different things, and I meant <code>asList()</code>.  I did <i>not</i> mean <code>toList</code>."}], "tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": true, "score": 9, "last_activity_date": 1571252880, "creation_date": 1571252880, "answer_id": 58420161, "question_id": 58411939, "link": "https://stackoverflow.com/questions/58411939/how-to-convert-vararg-to-list/58420161#58420161", "title": "How to convert vararg to list?", "body": "<p>You can use the extension function <code>.asList()</code>, which does no added copying (unlike <code>listOf</code> with the spread operator).</p>\n\n<pre><code>fun insertMissingEntities(vararg entities: Entity) {\n  passMissingEntities(entities.asList())\n}\n</code></pre>\n"}], "owner": {"reputation": 12461, "user_id": 902358, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/xNaWy.jpg?s=128&g=1", "display_name": "Terry", "link": "https://stackoverflow.com/users/902358/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1900, "favorite_count": 0, "accepted_answer_id": 58420161, "answer_count": 3, "score": 8, "last_activity_date": 1571286502, "creation_date": 1571224261, "last_edit_date": 1571286502, "question_id": 58411939, "link": "https://stackoverflow.com/questions/58411939/how-to-convert-vararg-to-list", "title": "How to convert vararg to list?", "body": "<p>I have a function with a vararg parameter. This vararg parameter needs to be passed to another function as a list.</p>\n\n<p>How do I convert the vararg param into a list? <code>listOf()</code> gave me an error.</p>\n\n<pre><code>fun insertMissingEntities(vararg entities: Entity) {\n  val list = listOf(entities)\n  passMissingEntities(list) // Type mismatch. \n                            // Required: List&lt;Entity&gt;\n                            // Found: List&lt;Array&lt;out Entity&gt;&gt;\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "generic-type-argument"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7900040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d9f86815386e888a54fc02a864f9b3?s=128&d=identicon&r=PG&f=1", "display_name": "hadi dhd", "link": "https://stackoverflow.com/users/7900040/hadi-dhd"}, "edited": false, "score": 0, "creation_date": 1571224918, "post_id": 58411788, "comment_id": 103167267, "body": "That&#39;s right. I had used EntityStorage instead of EntityModule and got the &quot;type argument is not within its bound&quot; error when I didn&#39;t use the &quot;out&quot; keyword."}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 0, "last_activity_date": 1571223765, "creation_date": 1571223765, "answer_id": 58411788, "question_id": 58411189, "link": "https://stackoverflow.com/questions/58411189/extend-a-java-class-with-t-extends-someclass-generic-type-in-kotlin/58411788#58411788", "title": "Extend a java class with &lt;T extends SomeClass&gt; generic type in kotlin", "body": "<p>You shouldn't use <code>out</code> keyword in this case. You can just write </p>\n\n<pre><code>open class WidthChangeNotifierFragment&lt;T : EntityModule&gt;(t: T, root: Boolean) : EntityFragment&lt;T&gt;(t, root)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7900040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d9f86815386e888a54fc02a864f9b3?s=128&d=identicon&r=PG&f=1", "display_name": "hadi dhd", "link": "https://stackoverflow.com/users/7900040/hadi-dhd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 58411788, "answer_count": 1, "score": 0, "last_activity_date": 1571226565, "creation_date": 1571221786, "last_edit_date": 1571226565, "question_id": 58411189, "link": "https://stackoverflow.com/questions/58411189/extend-a-java-class-with-t-extends-someclass-generic-type-in-kotlin", "title": "Extend a java class with &lt;T extends SomeClass&gt; generic type in kotlin", "body": "<p>I have a class in java that accepts a generic type that extends another class\nHow can I extend the first class in Kotlin?</p>\n\n<p>I've already tried using out keyword but it's no good.</p>\n\n<p><strong>EntityFragment.java</strong></p>\n\n<pre><code>public abstract class EntityFragment&lt;T extends EntityModule&gt; extends BaseFragment {\n\npublic EntityFragment(T module, boolean root) {\n        //some code\n}\n\n</code></pre>\n\n<p>My kotlin class that I'm trying to write is as below:</p>\n\n<pre><code>open class WidthChangeNotifierFragment&lt;out T : EntityStorage&gt;(t: T, root: Boolean) : EntityFragment&lt;T&gt;(t, root) {\n</code></pre>\n"}, {"tags": ["android", "kotlin", "firebase-realtime-database", "pojo", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1571224227, "post_id": 58411509, "comment_id": 103166913, "body": "Given all the properties have default values, it&#39;s not required that they be nullable (I imagine they&#39;d only be marked nullable if null is the desired default)."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1571224456, "post_id": 58411509, "comment_id": 103167039, "body": "Yes, since you have initialized all of them in the costructor it will work just fine."}, {"owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "edited": false, "score": 0, "creation_date": 1571306558, "post_id": 58411509, "comment_id": 103200625, "body": "Alex, thanks for the support. Certainly, appreciates the effort. Lemme get back on this."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1571306994, "post_id": 58411509, "comment_id": 103200893, "body": "Ok, keep me posted."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1571563210, "post_id": 58411509, "comment_id": 103276592, "body": "Knowing that it worked, I will ask you now to accept my answer by clicking the checkmark (\u2714\ufe0f) on the left side under the vote arrows. Should change the color in green. I&#39;d really appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1571222845, "creation_date": 1571222845, "answer_id": 58411509, "question_id": 58410886, "link": "https://stackoverflow.com/questions/58410886/best-practices-to-convert-firebase-database-having-dynamic-values-to-kotlin-data/58411509#58411509", "title": "Best practices to convert Firebase database having dynamic values to kotlin data classes", "body": "<p>As long as you have each field of the data class a nullable <code>var</code>, your class will work perfectly fine. It doesn't matter what is the key of your node. It could be a custom string as it is in your case or even a random id that is generated by the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference.html#push()\" rel=\"nofollow noreferrer\">push()</a> method.</p>\n\n<p>But remember, using those custom names for your keys may work for small data sets but in case of larger applications it might not scale. So it's better to use those random keys provided by the <code>push()</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "is_accepted": true, "score": 0, "last_activity_date": 1572340926, "creation_date": 1572340926, "answer_id": 58604455, "question_id": 58410886, "link": "https://stackoverflow.com/questions/58410886/best-practices-to-convert-firebase-database-having-dynamic-values-to-kotlin-data/58604455#58604455", "title": "Best practices to convert Firebase database having dynamic values to kotlin data classes", "body": "<p>Finally, solved the issue with Map (instead of List) as the data receives from the Firebase as Map.</p>\n\n<pre><code>var services: Map&lt;String, Services&gt; \n</code></pre>\n\n<p>Folks, thank you all for support.</p>\n"}], "owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 58604455, "answer_count": 2, "score": 1, "last_activity_date": 1572340926, "creation_date": 1571220800, "last_edit_date": 1571223019, "question_id": 58410886, "link": "https://stackoverflow.com/questions/58410886/best-practices-to-convert-firebase-database-having-dynamic-values-to-kotlin-data", "title": "Best practices to convert Firebase database having dynamic values to kotlin data classes", "body": "<p>My firebase realtime database has dynamic values for nodes(under services such as Beard - Trim, Facial, Hair coloring etc.). </p>\n\n<p>What would be the best practices to convert it to Kotlin data class(Java POJO)?</p>\n\n<p><a href=\"https://i.stack.imgur.com/VlCGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VlCGW.png\" alt=\"\"></a></p>\n\n<pre><code>\ndata class User constructor(\n    var services: List&lt;Services&gt;\n)\n\ndata class Services constructor(\n    var description: String = \"\",\n    var duration: String = \"\",\n    var name: String = \"\",\n    var picture: String = \"\",\n    var picture_url: String = \"\",\n    var price: String = \"\",\n    var thumbnail: String = \"\",\n    var thumbnail_url: String = \"\"\n)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "localization"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3434561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31c316f629f1c6c8ef0c16b7f3c52089?s=128&d=identicon&r=PG&f=1", "display_name": "Gurupriyan", "link": "https://stackoverflow.com/users/3434561/gurupriyan"}, "edited": false, "score": 0, "creation_date": 1593419859, "post_id": 62493542, "comment_id": 110764118, "body": "Thanks, I already solved this by modifying Restring library."}, {"owner": {"reputation": 342, "user_id": 11480856, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fkp0waD_aCI/AAAAAAAAAAI/AAAAAAAAABk/9ckJwkCp8ig/photo.jpg?sz=128", "display_name": "Mert DEMIRKIRAN", "link": "https://stackoverflow.com/users/11480856/mert-demirkiran"}, "reply_to_user": {"reputation": 43, "user_id": 3434561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31c316f629f1c6c8ef0c16b7f3c52089?s=128&d=identicon&r=PG&f=1", "display_name": "Gurupriyan", "link": "https://stackoverflow.com/users/3434561/gurupriyan"}, "edited": false, "score": 0, "creation_date": 1610619792, "post_id": 62493542, "comment_id": 116192108, "body": "@Gurupriyan Can you explain what modify in library ? Can you share it for us ?"}], "tags": [], "owner": {"reputation": 26, "user_id": 11683769, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U0lgS0kaYfQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBnnClwKABHCICLWEi0o-HPC8m1w/mo/photo.jpg?sz=128", "display_name": "Sylvain", "link": "https://stackoverflow.com/users/11683769/sylvain"}, "is_accepted": false, "score": 1, "last_activity_date": 1592716669, "last_edit_date": 1592716669, "creation_date": 1592703279, "answer_id": 62493542, "question_id": 58410313, "link": "https://stackoverflow.com/questions/58410313/change-android-app-language-with-out-restarting-the-app-using-restring-library/62493542#62493542", "title": "Change Android app language with out restarting the app using Restring library", "body": "<p>You can use a new version of Restring (based on the one you are using) from here:\n<a href=\"https://github.com/B3nedikt/restring\" rel=\"nofollow noreferrer\">https://github.com/B3nedikt/restring</a></p>\n<p>It includes a method to update your activity without any restart.\nRestring.reword(rootView) will look into all child views of &quot;rootView&quot; and update strings</p>\n<pre><code>   Restring.setLocale(Locale.FRENCH);\n\n   // The layout containing the views you want to localize\n\n   final View rootView = getWindow().getDecorView().findViewById(android.R.id.content);\n\n   Restring.reword(rootView);\n</code></pre>\n<p>It also explains how to make sure each activity will get the desired strings when created:\nin all activities, add:</p>\n<pre><code>@Override\nprotected void attachBaseContext(Context newBase) {\n  super.attachBaseContext(ViewPumpContextWrapper.wrap(Restring.wrapContext(newBase)));    \n}\n\n@Override\npublic Resources getResources() {\n  return Restring.wrapContext(getBaseContext()).getResources();    \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 11003259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zXPhKRJZwRQ/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO6--J0bTKyhJGnrp52ksXsB_7Msw/mo/photo.jpg?sz=128", "display_name": "chhayank harjai", "link": "https://stackoverflow.com/users/11003259/chhayank-harjai"}, "is_accepted": false, "score": 1, "last_activity_date": 1592706246, "creation_date": 1592706246, "answer_id": 62493771, "question_id": 58410313, "link": "https://stackoverflow.com/questions/58410313/change-android-app-language-with-out-restarting-the-app-using-restring-library/62493771#62493771", "title": "Change Android app language with out restarting the app using Restring library", "body": "<p>I would recommend applying View-Model in your android app architecture, A View-Model's major role is to survive configuration changes (which includes but are not limited to orientation changes from landscape to portrait and vice-versa, surviving drastic changes in app's performance stats like power-drain and many more) so you will not need to restart yoour app + additionally use live-Data which is Activity/Fragment aware so it will only update your data of the app when it is in foreground.</p>\n<p>There are many YouTube videos specifically teaching these things, I would recommend watching &quot;coding in flow&quot; YouTube channel's MVVM architecture.</p>\n<p>It will definitely give you an idea how to continue with your app, it is only 10 videos long but for your requirement first 5 are enough.</p>\n"}], "owner": {"reputation": 43, "user_id": 3434561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/31c316f629f1c6c8ef0c16b7f3c52089?s=128&d=identicon&r=PG&f=1", "display_name": "Gurupriyan", "link": "https://stackoverflow.com/users/3434561/gurupriyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1592716669, "creation_date": 1571218933, "question_id": 58410313, "link": "https://stackoverflow.com/questions/58410313/change-android-app-language-with-out-restarting-the-app-using-restring-library", "title": "Change Android app language with out restarting the app using Restring library", "body": "<p>I am using <a href=\"https://github.com/hamidness/restring\" rel=\"nofollow noreferrer\">Restring</a> library to load localized strings on my app. And I am able to load localized strings from the api and display it on the app, with out any issues. But the pitfall is every time the language is switched, I have to restart the app, then only the language is updated on the app. But I need to achieve it without restarting the app. Any help is appreciated. I already referred some links, which I am providing below, </p>\n\n<p><a href=\"https://proandroiddev.com/change-language-programmatically-at-runtime-on-android-5e6bc15c758\" rel=\"nofollow noreferrer\">https://proandroiddev.com/change-language-programmatically-at-runtime-on-android-5e6bc15c758</a></p>\n\n<p><a href=\"https://medium.com/@hamidgh/dynamically-change-bundled-strings-a24b97bfd306\" rel=\"nofollow noreferrer\">https://medium.com/@hamidgh/dynamically-change-bundled-strings-a24b97bfd306</a> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/2900023/change-app-language-programmatically-in-android\">Change app language programmatically in Android</a></p>\n\n<blockquote>\n  <p>Note: Restring uses SharedPreferences as the String Repository, so\n  when ever getString(id) method is invoked, it'll provide the string\n  matching the id from its SharedPrefernces repository.</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "export-to-csv"], "answers": [{"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1571217613, "last_edit_date": 1571217613, "creation_date": 1571217242, "answer_id": 58409803, "question_id": 58409757, "link": "https://stackoverflow.com/questions/58409757/no-activitynotfoundexception-when-device-with-no-csv-viewer-installed-in-it/58409803#58409803", "title": "No ActivityNotFoundException when device with no csv viewer installed in it", "body": "<p>Toast showing length is wrong:</p>\n\n<pre><code>Toast.makeText(getActivity(), \"There is no CSV viewer installed\", Toast.LENGTH_SHORT).show();\n</code></pre>\n\n<p>You have to use <strong>Toast.LENGTH_SHORT</strong> instead of <strong>Toast.short</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "is_accepted": false, "score": 0, "last_activity_date": 1571218046, "creation_date": 1571218046, "answer_id": 58410038, "question_id": 58409757, "link": "https://stackoverflow.com/questions/58409757/no-activitynotfoundexception-when-device-with-no-csv-viewer-installed-in-it/58410038#58410038", "title": "No ActivityNotFoundException when device with no csv viewer installed in it", "body": "<p>You can open intent chooser which contains an application that handles CSV files.</p>\n\n<pre><code>startActivity(Intent.createChooser(intent, \"Select Application\"));\n</code></pre>\n\n<p>if there is no application installed which handles CSV file it will show no application installed.</p>\n"}, {"comments": [{"owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "reply_to_user": {"reputation": 93, "user_id": 1062287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c944a11e97374f9ac3771ae62cc50de3?s=128&d=identicon&r=PG", "display_name": "Ananth", "link": "https://stackoverflow.com/users/1062287/ananth"}, "edited": false, "score": 0, "creation_date": 1571729961, "post_id": 58410185, "comment_id": 103327434, "body": "glad to help :)"}], "tags": [], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "is_accepted": true, "score": 1, "last_activity_date": 1571218484, "creation_date": 1571218484, "answer_id": 58410185, "question_id": 58409757, "link": "https://stackoverflow.com/questions/58409757/no-activitynotfoundexception-when-device-with-no-csv-viewer-installed-in-it/58410185#58410185", "title": "No ActivityNotFoundException when device with no csv viewer installed in it", "body": "<p>using <a href=\"https://stackoverflow.com/a/28533880/3339597\">this SO answer</a>, you can go through a different behaviour:</p>\n\n<p>Instead of trying to start the activity and catching the ANF exception (which could be problematic, as there are flows that won't throw that exception), you can check ahead if the intent will be handled.</p>\n\n<p>use this Java code: (assuming <code>this</code> inherit from <code>Activity</code>)</p>\n\n<pre><code>Activity activity = this; // change this line if calling from other places (a fragment etc)\nUri uri = Uri.parse(pdfUrl);\nintent = new Intent(Intent.ACTION_VIEW);\nintent.setDataAndType(uri, \"text/csv\");\nintent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n\nif (intent.resolveActivity(activity.getPackageManager()) == null) {\n    // No Activity found that can handle this intent.\n    Toast.makeText(activity, \"There is no CSV viewer installed\", Toast.LENGTH_SHORT).show();\n}\nelse{\n    // There is an activity which can handle this intent.\n    activity.startActivity(intent);\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 1062287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c944a11e97374f9ac3771ae62cc50de3?s=128&d=identicon&r=PG", "display_name": "Ananth", "link": "https://stackoverflow.com/users/1062287/ananth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58410185, "answer_count": 3, "score": 0, "last_activity_date": 1571218484, "creation_date": 1571217095, "last_edit_date": 1571217747, "question_id": 58409757, "link": "https://stackoverflow.com/questions/58409757/no-activitynotfoundexception-when-device-with-no-csv-viewer-installed-in-it", "title": "No ActivityNotFoundException when device with no csv viewer installed in it", "body": "<p>I want to show csv file in a viewer when a csv viewer installed in phone. otherwise I need to show a toast message \"There is no CSV viewer installed\". </p>\n\n<p>In my case, when I test below code in a device with no csv viewer installed in it.</p>\n\n<p>I am not getting ActivityNotFoundException. as a result, my toast message was not shown. could you please help</p>\n\n<pre><code>            Uri uri = Uri.parse(pdfUrl);\n            intent = new Intent(Intent.ACTION_VIEW);\n            intent.setDataAndType(uri, \"text/csv\");\n            intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n            try {\n                startActivity(intent);\n            } catch (ActivityNotFoundException e) {\n                Toast.makeText(getActivity(), \"There is no CSV viewer installed\", Toast.LENGTH_SHORT).show();\n            }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 3209132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pye1s.jpg?s=128&g=1", "display_name": "Pramod Garg", "link": "https://stackoverflow.com/users/3209132/pramod-garg"}, "edited": false, "score": 4, "creation_date": 1592466255, "post_id": 58408924, "comment_id": 110436516, "body": "Is there any way to generate warning or any lint rule to detect usage of such methods at compile time?"}, {"owner": {"reputation": 2022, "user_id": 8400475, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cmEnr.jpg?s=128&g=1", "display_name": "Gel", "link": "https://stackoverflow.com/users/8400475/gel"}, "edited": false, "score": 0, "creation_date": 1603935173, "post_id": 58408924, "comment_id": 114196378, "body": "so what to do? any suggestions here?"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 7, "last_activity_date": 1571364851, "last_edit_date": 1571364851, "creation_date": 1571214483, "answer_id": 58408924, "question_id": 58408832, "link": "https://stackoverflow.com/questions/58408832/nosuchmethoderror-no-interface-method-getordefaultljava-lang-objectljava-lang/58408924#58408924", "title": "NoSuchMethodError: No interface method getOrDefault(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Ljava/util/Map;", "body": "<p>The <strong><code>getOrDefault</code></strong> method was added in API level 24 and runtimes below API level 24 don't have that method. Thats why it's not working in Android API level 21.</p>\n"}], "owner": {"reputation": 123, "user_id": 5049781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13bb804668616fd67eb724ffdc8320c5?s=128&d=identicon&r=PG&f=1", "display_name": "Bohdan Samusko", "link": "https://stackoverflow.com/users/5049781/bohdan-samusko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 1, "accepted_answer_id": 58408924, "answer_count": 1, "score": 5, "last_activity_date": 1618294008, "creation_date": 1571214127, "question_id": 58408832, "link": "https://stackoverflow.com/questions/58408832/nosuchmethoderror-no-interface-method-getordefaultljava-lang-objectljava-lang", "title": "NoSuchMethodError: No interface method getOrDefault(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Ljava/util/Map;", "body": "<p>I've got the crash on Meizu device with Android 5.0. This crash doesn't appear on most of the devices.</p>\n\n<p>The error is: <code>java.lang.NoSuchMethodError: No interface method getOrDefault(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; in class Ljava/util/Map; or its super classes (declaration of 'java.util.Map' appears in /system/framework/core-libart.jar)</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/piP78.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/piP78.png\" alt=\"enter image description here\"></a></p>\n\n<p>Did someone experience something similar? </p>\n"}, {"tags": ["android", "kotlin", "google-play-services", "synthetic"], "comments": [{"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1571218129, "post_id": 58408458, "comment_id": 103163680, "body": "do you use it in a <code>ViewHolder</code>?"}, {"owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1571299598, "post_id": 58408458, "comment_id": 103196672, "body": "<code>initAds</code> method called by <code>onChanged</code> method of <code>ViewHolder</code> if there is no data. If there is data, it is called by <code>onActivityCreated</code> in a <code>Fragment</code>"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1571305183, "post_id": 58408458, "comment_id": 103199810, "body": "Do your <code>ViewHolder</code> implements <code>LayoutContainer</code>?"}, {"owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1571395721, "post_id": 58408458, "comment_id": 103236381, "body": "Sorry I mixed your question by seeing <code>ViewHolder</code> as <code>ViewModel</code>. This code is in a <code>Fragment</code> which is a <code>ViewPager</code> item, so it does&#39;t use <code>ViewHolder</code>. Hence, <code>initAds</code> method called by <code>onChanged</code> method of <code>ViewModel</code> if there is no data in <code>LiveData</code>. If there is data, it is directly called by <code>onActivityCreated</code>."}], "owner": {"reputation": 1074, "user_id": 778246, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ee06d8064239aaeea68eaeb9cdf54ad2?s=128&d=identicon&r=PG", "display_name": "Egemen Hamut&#231;u", "link": "https://stackoverflow.com/users/778246/egemen-hamut%c3%a7u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571212821, "creation_date": 1571212821, "question_id": 58408458, "link": "https://stackoverflow.com/questions/58408458/publisheradview-becomes-null-after-onadloaded-onadfailed", "title": "PublisherAdView becomes null after onAdLoaded &amp; onAdFailed", "body": "<p>The code:</p>\n\n<pre><code>private fun initAds() {\n    val adRequest = PublisherAdRequest.Builder().build()\n    pavDetail.loadAd(adRequest)\n    pavDetail.adListener = object : AdListener() {\n        override fun onAdLoaded() {\n            super.onAdLoaded()\n            pavDetail.visibility = View.VISIBLE\n        }\n\n        override fun onAdFailedToLoad(i: Int) {\n            pavDetail.visibility = View.GONE\n            super.onAdFailedToLoad(i)\n        }\n    }\n}\n</code></pre>\n\n<p><code>pavDetail</code> is <code>com.google.android.gms.ads.doubleclick.PublisherAdView</code> and I get it by kotlinx synthetic from XML layout.</p>\n\n<p>This code sometimes throws <code>IllegalStateException</code> because <code>pavDetail</code> mysteriously becomes null in <code>onAdLoaded</code> &amp; <code>onAdFailedToLoad</code>.</p>\n\n<p>I made it <code>pavDetail?.visibility</code> to prevent the crash but I am not sure this will work because I am suspicuous that calling <code>pavDetail</code> itself may throw that exception. Remember this is not <code>NullPointerException</code> this is a <code>IllegalStateException</code>\u00a0giving message <code>pavDetail must not be null</code>.</p>\n\n<p>Hence, I ask why <code>pavDetail</code> becomes null and how to prevent the crash.</p>\n"}, {"tags": ["android", "kotlin", "release", "android-multidex"], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 3733985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ulgSV.jpg?s=128&g=1", "display_name": "maryam", "link": "https://stackoverflow.com/users/3733985/maryam"}, "edited": false, "score": 0, "creation_date": 1589962908, "post_id": 58411129, "comment_id": 109497703, "body": "<a href=\"https://r8.googlesource.com/r8/+/refs/heads/master/compatibility-faq.md\" rel=\"nofollow noreferrer\">r8.googlesource.com/r8/+/refs/heads/master/compatibility-faq&zwnj;&#8203;.md</a>"}], "tags": [], "owner": {"reputation": 1295, "user_id": 9183189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abbbaf52d750efa62c91b52b29319129?s=128&d=identicon&r=PG&f=1", "display_name": "Pradip Tilala", "link": "https://stackoverflow.com/users/9183189/pradip-tilala"}, "is_accepted": true, "score": 1, "last_activity_date": 1571221601, "creation_date": 1571221601, "answer_id": 58411129, "question_id": 58407879, "link": "https://stackoverflow.com/questions/58407879/didnt-find-class-com-jambod-user-model-processmodel-on-path-dexpathlist-erro/58411129#58411129", "title": "Didn&#39;t find class &quot;com.jambod.user.model.ProcessModel&quot; on path: DexPathList error just in release apk", "body": "<p>As you are using <code>\"minifyEnabled true\"</code> and proguard. <strong>\"minifyEnabled true\"</strong> will some time remove the model classes that you have used in your app. Add below line in <strong>Gradle scripts -> proguard-rules.pro</strong> file. Below line will keep the class and its members to your final APK. </p>\n\n<pre><code>-keepclasseswithmembernames  class  com.jambod.user.model.ProcessModel.** { *; }\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3733985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ulgSV.jpg?s=128&g=1", "display_name": "maryam", "link": "https://stackoverflow.com/users/3733985/maryam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 58411129, "answer_count": 1, "score": 0, "last_activity_date": 1571221601, "creation_date": 1571210588, "question_id": 58407879, "link": "https://stackoverflow.com/questions/58407879/didnt-find-class-com-jambod-user-model-processmodel-on-path-dexpathlist-erro", "title": "Didn&#39;t find class &quot;com.jambod.user.model.ProcessModel&quot; on path: DexPathList error just in release apk", "body": "<p>I write an application and I use <code>dagger-android</code> and navigation component on it.For reduce size of <code>apk</code> I enable <code>minifyEnabled</code> and <code>shrinkResources</code>. But When i generate apk and open app, the app is crashed.I traced the logcat and the error was <code>Caused by java.lang.ClassNotFoundException\nDidn't find class \"com.jambod.user.model.ProcessModel\" on path: DexPathList</code>. This is code of <code>ProcessModel</code>:</p>\n\n<pre><code>    data class ProcessModel(\n    var id: String,\n    var state: String ,\n    var originLat: Double,\n    var originLon: Double,\n    var originAddress: String,\n    var city: String ,\n    var client: User ,\n    var broker: Broker,\n    var handover: HandOver ,\n    var startTime: Long ,\n    var endTime: Long ,\n    var clientScore: Int,\n    var role:String,\n    var isFirstFinishedProcess:Boolean\n\n) : Serializable {\n}\n</code></pre>\n\n<p>And This is my Application class:</p>\n\n<pre><code>    class MyApplication : DaggerApplication() {\n\n    val TAG=\"MyApplication\"\n    @Inject\n    lateinit var mapboxMap: CedarMaps\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n\n        Log.e(TAG,\"applicationInjector\")\n        return DaggerAppComponent.builder().application(this).build()\n\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        Log.e(TAG,\"onCreate\")\n        setMapview()\n    }\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        Log.e(TAG,\"attachBaseContext\")\n        MultiDex.install(this)\n    }\n\n    private fun setMapview() {\n        mapboxMap.setClientID(\"jambod-3804728105994932624\")\n                .setClientSecret(\"b37qDGphbWJvZLqxi8hCuQhrjCXtqKs9V536SyiAAHQP01FzTg3G0iat\")\n                .setContext(this)\n    }\n\n}\n</code></pre>\n\n<p>And this part of code mobile-navigation file that in the logcat has error:</p>\n\n<pre><code>  &lt;fragment android:id=\"@+id/detailProcessFragment\" android:name=\"com.jambod.user.ui.DetailProcessFragment\"\n          android:label=\"fragment_detail_process\" tools:layout=\"@layout/fragment_detail_process\"&gt;\n    &lt;argument android:name=\"KEY_PROCESS\"\n        app:argType=\"com.jambod.user.model.ProcessModel\"\n        app:nullable=\"true\"\n        android:defaultValue=\"@null\"/&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>According the <a href=\"https://developer.android.com/studio/build/multidex#keep\" rel=\"nofollow noreferrer\">document</a> I create a <code>multidex-config.txt</code> file and add it on <code>build.gradle</code> But the problem did not solve.This is <code>build.gradle</code> file:</p>\n\n<pre><code> defaultConfig {\n    applicationId \"com.jambod.user\"\n    minSdkVersion 16\n    targetSdkVersion 29\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        multiDexKeepFile file('multidex-config.txt')\n        minifyEnabled true\n        shrinkResources true\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 12203568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35543c7deaeff03051608f2ab2243f1?s=128&d=identicon&r=PG&f=1", "display_name": "SephB", "link": "https://stackoverflow.com/users/12203568/sephb"}, "is_accepted": false, "score": 2, "last_activity_date": 1571269190, "creation_date": 1571269190, "answer_id": 58422992, "question_id": 58407463, "link": "https://stackoverflow.com/questions/58407463/binding-longproperty-to-internal-changes-of-listproperty/58422992#58422992", "title": "Binding LongProperty to internal changes of ListProperty", "body": "<p>I don't know kotlin, but the answer should be easy to translate.</p>\n\n<p>You need to use an 'extractor' to handle this, using:</p>\n\n<pre><code>FXCollections#observableArrayList(Callback&lt;E, Observable[]&gt; extractor)\n</code></pre>\n\n<p>Like:</p>\n\n<pre><code>ObservableList&lt;A&gt; list = FXCollections.observableArrayList(item -&gt; new Observable[] {item.durationProperty});\n\nlist.addListener((InvalidationListener) observable -&gt; {\n    //Update you sum here\n});\n</code></pre>\n\n<p>The extractor causes any changes to the given observable array of each item in the list to trigger both the InvalidationListener and ListChangeListener of the list to be fired.</p>\n"}, {"comments": [{"owner": {"reputation": 49227, "user_id": 203657, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ayujB.jpg?s=128&g=1", "display_name": "kleopatra", "link": "https://stackoverflow.com/users/203657/kleopatra"}, "edited": false, "score": 0, "creation_date": 1571313560, "post_id": 58430782, "comment_id": 103204719, "body": "this is more a comment than an answer - please consider to move it as comment under the other answer :)"}], "tags": [], "owner": {"reputation": 113, "user_id": 9034910, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zuDWD4XyTYA/AAAAAAAAAAI/AAAAAAAABz4/DMV6AEGoiRQ/photo.jpg?sz=128", "display_name": "pjoter", "link": "https://stackoverflow.com/users/9034910/pjoter"}, "is_accepted": false, "score": 0, "last_activity_date": 1571309230, "creation_date": 1571309230, "answer_id": 58430782, "question_id": 58407463, "link": "https://stackoverflow.com/questions/58407463/binding-longproperty-to-internal-changes-of-listproperty/58430782#58430782", "title": "Binding LongProperty to internal changes of ListProperty", "body": "<p>SephB's solution is correct, but finally I used one from t<a href=\"https://stackoverflow.com/questions/16918887/javafx-how-to-bind-multiple-properties-in-a-list\">here</a>. I found it a little bit more elastic even though there is a lot of boilerplate.</p>\n"}], "owner": {"reputation": 113, "user_id": 9034910, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zuDWD4XyTYA/AAAAAAAAAAI/AAAAAAAABz4/DMV6AEGoiRQ/photo.jpg?sz=128", "display_name": "pjoter", "link": "https://stackoverflow.com/users/9034910/pjoter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571309230, "creation_date": 1571209132, "question_id": 58407463, "link": "https://stackoverflow.com/questions/58407463/binding-longproperty-to-internal-changes-of-listproperty", "title": "Binding LongProperty to internal changes of ListProperty", "body": "<p>I have got three classes:</p>\n\n<pre><code>class A { \n    //Duration in seconds\n    private val durationProperty = SimpleLongProperty(300)\n    var duration by durationProperty\n}\n</code></pre>\n\n<pre><code>class B(list: List&lt;A&gt;) {\n    private val aClassesProperty = SimpleListProperty(list.observable())\n    val aClasses by aClassesProperty\n}\n</code></pre>\n\n<pre><code>class C(classB: B, repetitions: Int){\n    private val bClassProperty = SimpleObjectProperty(classB)\n\n    private val repetitionsProperty = SimpleIntProperty(repetitions)\n    val repetitions by repetitionsProperty\n}\n</code></pre>\n\n<p>Now I would like, to create and bind <code>durationProperty</code> inside <code>class B</code> as sum of <code>class A</code> <code>durationProperty</code> (which will be sensitive to adding new <code>class A</code> instance into list and changing any duration of already present instance) and similarly in <code>class C</code> - <code>durationProperty</code> as duration of <code>classB</code> multiplied by <code>repetitions</code>.</p>\n"}, {"tags": ["kotlin", "arraylist"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571204489, "post_id": 58406253, "comment_id": 103157074, "body": "What should the element type be of resulting ArrayList be?"}, {"owner": {"reputation": 315, "user_id": 11560467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q1nwPe4JWJA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6tp1zNb2bwnzflS9voC4IAbU6SA/mo/photo.jpg?sz=128", "display_name": "Mahesh Babariya", "link": "https://stackoverflow.com/users/11560467/mahesh-babariya"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571204787, "post_id": 58406253, "comment_id": 103157176, "body": "Your answer helped me"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571204929, "post_id": 58406253, "comment_id": 103157223, "body": "I had to delete it since I didn&#39;t read your question carefully enough at first :)"}, {"owner": {"reputation": 315, "user_id": 11560467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q1nwPe4JWJA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6tp1zNb2bwnzflS9voC4IAbU6SA/mo/photo.jpg?sz=128", "display_name": "Mahesh Babariya", "link": "https://stackoverflow.com/users/11560467/mahesh-babariya"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571205151, "post_id": 58406253, "comment_id": 103157307, "body": "Can you post it again so that I can accept it as an answer"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571206612, "post_id": 58406253, "comment_id": 103157839, "body": "Ok I added it back with a qualified guess of the type of the resulting ArrayList."}], "answers": [{"tags": [], "owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "is_accepted": true, "score": 0, "last_activity_date": 1571206572, "last_edit_date": 1571206572, "creation_date": 1571204013, "answer_id": 58406341, "question_id": 58406253, "link": "https://stackoverflow.com/questions/58406253/create-a-new-arraylist-from-existing-arraylists-with-some-conditions/58406341#58406341", "title": "Create a new ArrayList from existing ArrayLists with some conditions", "body": "<p>You will find good use of <code>forEachIndexed(action: (index: Int, T) -&gt; Unit): Unit</code> and the modulus operator (<code>%</code>) in this case. You can do like this:</p>\n\n<pre><code>val mList = arrayListOf(\n    \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\"\n)\n\nval aList = arrayListOf(\n    \"1\", \"2\", \"3\", \"4\", \"5\"\n)\n\nfun main() {\n    val arrayList = arrayListOf&lt;ArrayList&lt;String&gt;&gt;()\n    mList.forEachIndexed { index, s -&gt; arrayList.add(arrayListOf(s, aList[index % aList.size])) }\n    println(arrayList) // [[a, 1], [b, 2], [c, 3], [d, 4], [e, 5], [f, 1], [g, 2], [h, 3], [i, 4], [j, 5], [k, 1]]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "is_accepted": false, "score": 0, "last_activity_date": 1571219560, "creation_date": 1571219560, "answer_id": 58410508, "question_id": 58406253, "link": "https://stackoverflow.com/questions/58406253/create-a-new-arraylist-from-existing-arraylists-with-some-conditions/58410508#58410508", "title": "Create a new ArrayList from existing ArrayLists with some conditions", "body": "<p>The accepted answer will work <strong>only if the first list is bigger</strong>. </p>\n\n<p>A different approach, indifferent to the sizes will be to use the modulo on both lists:</p>\n\n<pre><code>val mList = arrayListOf(\n    \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\"\n)\n\nval aList = arrayListOf(\n    \"1\", \"2\", \"3\", \"4\", \"5\"\n)\n\nfun main() {\n    val combinedList: List&lt;Pair&lt;String, String&gt;&gt; = \n        (0 until max(mList.size, aList.size)) // generate indices\n            .map { index -&gt; mList[index % mList.size] to aList[index % aList.size] } // convert indices to actual pairs\n\n    // use the combined-list like this:\n    val pair = combined[0]\n    println(pair.first) // \"a\"\n    println(pair.second) // \"1\"\n\n    // or this:\n    combined.forEach {\n        println(\"${it.first}, ${it.second}\")\n    }    \n\n    // if you want a mutable list (for adding\\removing pairs yourslef), you can type:\n    val mutableCombinedList: MutableList&lt;Pair&lt;String, String&gt;&gt; = combinedList.toMutableList()\n    // and then you can add\\remove pairs:\n    mutableCombinedList += (\"r\" to \"99\")\n    mutableCombinedList -= (\"a\" to \"1\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1571268182, "creation_date": 1571268182, "answer_id": 58422874, "question_id": 58406253, "link": "https://stackoverflow.com/questions/58406253/create-a-new-arraylist-from-existing-arraylists-with-some-conditions/58422874#58422874", "title": "Create a new ArrayList from existing ArrayLists with some conditions", "body": "<p>For completeness, another option is using <code>mapIndexed</code> function:</p>\n\n<pre><code>val combined = mList.mapIndexed { index, value -&gt; value to aList[index % aList.size] }\nprintln(combined) \n// output: [(a, 1), (b, 2), (c, 3), (d, 4), (e, 5), (f, 1), (g, 2), (h, 3), (i, 4), (j, 5), (k, 1)]\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 11560467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q1nwPe4JWJA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6tp1zNb2bwnzflS9voC4IAbU6SA/mo/photo.jpg?sz=128", "display_name": "Mahesh Babariya", "link": "https://stackoverflow.com/users/11560467/mahesh-babariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58406341, "answer_count": 3, "score": 1, "last_activity_date": 1571268182, "creation_date": 1571203455, "last_edit_date": 1571203593, "question_id": 58406253, "link": "https://stackoverflow.com/questions/58406253/create-a-new-arraylist-from-existing-arraylists-with-some-conditions", "title": "Create a new ArrayList from existing ArrayLists with some conditions", "body": "<p>I have an ArrayList with some characters and another array with some numbers.\nI want to create a new ArrayList by joining them.</p>\n\n<pre><code>val mList = arrayListOf(\n    \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\"\n)\n\nval aList = arrayListOf(\n    \"1\", \"2\", \"3\", \"4\", \"5\"\n)\n</code></pre>\n\n<p>I want below output after combining</p>\n\n<blockquote>\n  <p>[\"a\", \"1\"], [\"b\", \"2\"], [\"c\", \"3\"], [\"d\", \"4\"], [\"e\", \"5\"], [\"f\", \"1\"], [\"g\", \"2\"], [\"h\", \"3\"], [\"i\", \"4\"], [\"j\", \"5\"], [\"k\", \"1\"]</p>\n</blockquote>\n\n<p>Please help</p>\n"}, {"tags": ["kotlin", "constructor", "extends"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 9399292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C9zSB.jpg?s=128&g=1", "display_name": "HarrisonQi", "link": "https://stackoverflow.com/users/9399292/harrisonqi"}, "edited": false, "score": 0, "creation_date": 1571204088, "post_id": 58406165, "comment_id": 103156924, "body": "but there&#39;s too many classes like &#39;Son&#39;, this way make so many duplicate code...."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1571213893, "post_id": 58406165, "comment_id": 103161314, "body": "Why do you need to override <code>name</code> in <code>Son</code>?  It should work (more simply) without the <code>override val</code>, simply passing the parameter up to the superclass constructor."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1571202943, "creation_date": 1571202943, "answer_id": 58406165, "question_id": 58406051, "link": "https://stackoverflow.com/questions/58406051/kotlin-data-class-cannot-init-attribute-of-parent-class/58406165#58406165", "title": "Kotlin data class cannot init attribute of Parent class", "body": "<p>It should be </p>\n\n<pre><code>open class Father(open val name: String=\"\")\n\ndata class Son(val age: Int = 1,\noverride val name: String    ) : Father(name)\n\nfun main(args: Array&lt;String&gt;) {\nval son = Son(name = \"\",age = 10)\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 9399292, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C9zSB.jpg?s=128&g=1", "display_name": "HarrisonQi", "link": "https://stackoverflow.com/users/9399292/harrisonqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571289168, "creation_date": 1571202228, "last_edit_date": 1571289168, "question_id": 58406051, "link": "https://stackoverflow.com/questions/58406051/kotlin-data-class-cannot-init-attribute-of-parent-class", "title": "Kotlin data class cannot init attribute of Parent class", "body": "<p>like this:</p>\n\n<pre><code>open class Father(\n        val name:String = \"\"\n)\n\ndata class Son(\n        val age:Int = 1\n):Father()\n\nfun main(args: Array&lt;String&gt;) {\n    val son = Son(\n            name = \"\",\n            age = 10\n    )\n}\n\n</code></pre>\n\n<p>I cannot init \"<strong>name</strong>\" attribute of Son because of it is from Parent Class Father. \nHow can I fix this?</p>\n"}, {"tags": ["kotlin", "kotlin-script"], "comments": [{"owner": {"reputation": 3137, "user_id": 4267015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8N5O.jpg?s=128&g=1", "display_name": "Naor Tedgi", "link": "https://stackoverflow.com/users/4267015/naor-tedgi"}, "edited": false, "score": 0, "creation_date": 1571216250, "post_id": 58405880, "comment_id": 103162657, "body": "please specify java and kotlinc version"}, {"owner": {"reputation": 3137, "user_id": 4267015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8N5O.jpg?s=128&g=1", "display_name": "Naor Tedgi", "link": "https://stackoverflow.com/users/4267015/naor-tedgi"}, "edited": false, "score": 0, "creation_date": 1571216277, "post_id": 58405880, "comment_id": 103162680, "body": "by the way the script works for : openjdk version &quot;1.8.0_212&quot; OpenJDK Runtime Environment (Zulu 8.38.0.13-CA-linux64) (build 1.8.0_212-b04) OpenJDK 64-Bit Server VM (Zulu 8.38.0.13-CA-linux64) (build 25.212-b04, mixed mode)    , kotlinc-jvm 1.3.41 (JRE 1.8.0_212-b04)"}], "answers": [{"tags": [], "owner": {"reputation": 1920, "user_id": 4261472, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Rhz3p.jpg?s=128&g=1", "display_name": "Sergei Voitovich", "link": "https://stackoverflow.com/users/4261472/sergei-voitovich"}, "is_accepted": true, "score": 3, "last_activity_date": 1571300046, "last_edit_date": 1571300046, "creation_date": 1571217237, "answer_id": 58409801, "question_id": 58405880, "link": "https://stackoverflow.com/questions/58405880/kotlin-script-unable-to-instantiate-class/58409801#58409801", "title": "Kotlin script unable to instantiate class", "body": "<p>In order to work, <code>println(...)</code> needs a kotlin runtime which has to be added manually.</p>\n\n<p>This issue is described here <a href=\"https://discuss.kotlinlang.org/t/possible-kts-bug/10162\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/possible-kts-bug/10162</a></p>\n\n<blockquote>\n  <p>..., it (script) takes dependencies from the module, so you need to include kotlin-script-runtime to the module dependencies explicitly.\n  (...) Unfortunately, it is not very obvious. We\u2019re thinking about possible solutions.</p>\n</blockquote>\n\n<p>This seems to be improved in the upcoming <strong>Kotlin 1.3.60</strong> release \n<a href=\"https://youtrack.jetbrains.com/issue/KT-33529\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-33529</a></p>\n\n<p>As as a work-around, use:</p>\n\n<pre><code>$ sdk use kotlin 1.3.41\n</code></pre>\n"}], "owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 58409801, "answer_count": 1, "score": 1, "last_activity_date": 1571300046, "creation_date": 1571200923, "last_edit_date": 1571268582, "question_id": 58405880, "link": "https://stackoverflow.com/questions/58405880/kotlin-script-unable-to-instantiate-class", "title": "Kotlin script unable to instantiate class", "body": "<p>Attempt at <a href=\"https://www.oreilly.com/library/view/kotlin-cookbook/9781492046660/ch01.html\" rel=\"nofollow noreferrer\">Kotlin Cookbook by Ken Kousen -- 1.5 Executing a Kotlin Script</a> produces 'unable to instantiate class' error.</p>\n\n<pre><code>$ cat southpole.kts                                                                            \nimport java.time.*                                                                                                                   \nval instant = Instant.now()\nval southPole = instant.atZone(ZoneId.of(\"Antarctica/South_Pole\"))\nval dst = southPole.zone.rules.isDaylightSavings(instant)\nprintln(\"It is ${southPole.toLocalTime()} (UTC${southPole.offset}) at the South Pole\")\nprintln(\"The South Pole ${if (dst) \"is\" else \"is not\"} on Daylight Savings Time\")\n$ kotlinc -script southpole.kts\nOpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nerror: unable to instantiate class Southpole (southpole.kts): java.lang.NoClassDefFoundError: kotlin/script/templates/standard/ScriptTemplateWithArgs\n</code></pre>\n\n<p><code>kotlin version 1.3.50</code></p>\n"}, {"tags": ["android", "firebase", "kotlin", "android-recyclerview", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 6042039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15faa3ad4bca835ce994e9e592519c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Max xaM", "link": "https://stackoverflow.com/users/6042039/max-xam"}, "edited": false, "score": 0, "creation_date": 1571200411, "post_id": 58405285, "comment_id": 103156001, "body": "Hi I get an error at &lt;adapter.add(FarmItem(farm))&gt; saying type mismatch found &#39;farm&#39; requires &#39;farmItem&#39;. Also can you please be more specific about where to put the addItems method? is that in the FarmItem class? Added this class to the question body."}, {"owner": {"reputation": 348, "user_id": 6042039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15faa3ad4bca835ce994e9e592519c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Max xaM", "link": "https://stackoverflow.com/users/6042039/max-xam"}, "edited": false, "score": 0, "creation_date": 1571201288, "post_id": 58405285, "comment_id": 103156168, "body": "Thank you again, that error is fixed, but I still don&#39;t understand where to put the addItems function and also now there is no reference to the FarmItem class?"}], "tags": [], "owner": {"reputation": 1738, "user_id": 5340526, "user_type": "registered", "profile_image": "https://graph.facebook.com/889987371091687/picture?type=large", "display_name": "Nguy\u1ec5n Trung Hi\u1ebfu", "link": "https://stackoverflow.com/users/5340526/nguy%e1%bb%85n-trung-hi%e1%ba%bfu"}, "is_accepted": false, "score": 0, "last_activity_date": 1571200570, "last_edit_date": 1571200570, "creation_date": 1571196169, "answer_id": 58405285, "question_id": 58405138, "link": "https://stackoverflow.com/questions/58405138/firebase-firestore-recycler-view-adapter-duplicates-the-list-for-every-document/58405285#58405285", "title": "Firebase Firestore recycler view adapter duplicates the list for every document", "body": "<p>Try it.</p>\n\n<pre><code>private fun fetchFarms() {\nval farmList = mutableListOf&lt;Farm&gt;()\nval db = FirebaseFirestore.getInstance()\nval adapter = GroupAdapter&lt;GroupieViewHolder&gt;()\nrecyclerview_switchfarm.adapter = adapter\ndb.collection(\"farms\").get().addOnSuccessListener { result -&gt;\n    for (document in result) {\n        result.forEach {\n        Log.d(\"SwitchFarmActivity\",\"Loaded document: ${document.id} =&gt; ${document.data}\")\n        val farm = it.toObject(Farm::class.java)\n        farmList.add(farm)\n            }\n        }\n\n}\nadapter.addItems(farmList)\n}\n</code></pre>\n\n<p>in GroupAdapter create method <strong>addItems</strong></p>\n\n<pre><code>    fun addItems(list: List&lt;Farm&gt;) {\n    itemList.addAll(list)\n    notifyDataSetChanged()\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 348, "user_id": 6042039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15faa3ad4bca835ce994e9e592519c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Max xaM", "link": "https://stackoverflow.com/users/6042039/max-xam"}, "is_accepted": true, "score": 0, "last_activity_date": 1571443159, "creation_date": 1571443159, "answer_id": 58459405, "question_id": 58405138, "link": "https://stackoverflow.com/questions/58405138/firebase-firestore-recycler-view-adapter-duplicates-the-list-for-every-document/58459405#58459405", "title": "Firebase Firestore recycler view adapter duplicates the list for every document", "body": "<p>Ok I think I have a solution, thanks to Nguy\u1ec5n for pointing me in the right direction.</p>\n\n<pre><code>    private fun fetchFarms() {\n    Log.d(\"SwitchFarmActivity\",\"fetchFarms function called\")\n    val db = FirebaseFirestore.getInstance()\n    val adapter = GroupAdapter&lt;GroupieViewHolder&gt;()\n    recyclerview_switchfarm.adapter = adapter\n    db.collection(\"farms\").get().addOnSuccessListener { result -&gt;\n        val farmList = result.toObjects(Farm::class.java)\n        farmList.forEach {\n            Log.d(\"SwitchFarmActivity\",\"Loaded document: $it\")\n            adapter.add(FarmItem(it))\n        }\n\n    }\n}\n</code></pre>\n\n<p>If anyone has refactoring suggestions please share. I still don't quite understand why (for document in result) was getting run 36 times instead of 6.</p>\n"}], "owner": {"reputation": 348, "user_id": 6042039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15faa3ad4bca835ce994e9e592519c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Max xaM", "link": "https://stackoverflow.com/users/6042039/max-xam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 1, "accepted_answer_id": 58459405, "answer_count": 2, "score": 1, "last_activity_date": 1571443159, "creation_date": 1571194849, "last_edit_date": 1571200449, "question_id": 58405138, "link": "https://stackoverflow.com/questions/58405138/firebase-firestore-recycler-view-adapter-duplicates-the-list-for-every-document", "title": "Firebase Firestore recycler view adapter duplicates the list for every document", "body": "<p>I'm learning to code and trying to follow the Kotlin messenger series on YT 'lets build that app'.</p>\n\n<p>I am stuck at implementing a recycler view using Groupie and can't copy the code exactly as the series uses the older firebase database and I'm using firestore. </p>\n\n<p>I am nearly there, but my list of 'farms' for my 'switch farm view' is duplicating each item 6 times, which is the number of documents in the collection (i.e. I get 6 copies of each farm name rather than just 1).</p>\n\n<p>I think this must be an easy fix but I can't figure it out.</p>\n\n<p>The problem I think is in here:</p>\n\n<pre><code>    private fun fetchFarms() {\n    val db = FirebaseFirestore.getInstance()\n    val adapter = GroupAdapter&lt;GroupieViewHolder&gt;()\n    db.collection(\"farms\").get().addOnSuccessListener { result -&gt;\n        for (document in result) {\n            result.forEach {\n            Log.d(\"SwitchFarmActivity\",\"Loaded document: ${document.id} =&gt; ${document.data}\")\n            val farm = it.toObject(Farm::class.java)\n            adapter.add(FarmItem(farm))\n                }\n            }\n        recyclerview_switchfarm.adapter = adapter\n    }\n}\n</code></pre>\n\n<p>The Log print out is actually returning two of each item, followed by a whole series of \n'ViewPostIme pointer 0'\n'ViewPostIme pointer 1'\n'ViewPostIme pointer 0'\n'ViewPostIme pointer 1'.. etc</p>\n\n<p>The 'Farm' class that gets generated is very basic:</p>\n\n<pre><code>data class Farm(val farmId: String, val farmName: String, val ownerId: String) {\nconstructor():this(\"\",\"\",\"\")\n</code></pre>\n\n<p>}</p>\n\n<p>This is the FarmItem class:</p>\n\n<pre><code>class FarmItem(val farm: Farm): Item&lt;GroupieViewHolder&gt;() {\noverride fun bind(viewHolder: GroupieViewHolder, position: Int) {\n    viewHolder.itemView.farmName_textView_switchFarm.text = farm.farmName\n}\noverride fun getLayout(): Int {\n    return R.layout.farm_row_switch_farm\n}\n</code></pre>\n"}, {"tags": ["android", "date", "kotlin", "time"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1571191360, "post_id": 58404226, "comment_id": 103154311, "body": "If the time strings strictly follow this format (with 24-hour time format) then simply comparing the strings should be enough."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1571302760, "post_id": 58404226, "comment_id": 103198374, "body": "On Android API level 20 add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your project and use the answers you have found that use java.time, the modern Java date and time API. In this way you can avoid the old and poorly designed <code>Calendar</code> and not least <code>SimpleDateFormat</code>."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1571303090, "post_id": 58404226, "comment_id": 103198574, "body": "Also keeping your start and end times as strings is a poor idea. Keep <code>LocalTime</code> objects instead. Their <code>isBefore</code> and/or <code>isAfter</code> method will be handy."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12190768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pJwSfAe03A0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer0ifvUl4ZCEoqjkBrdXA7aKw__g/photo.jpg?sz=128", "display_name": "karan", "link": "https://stackoverflow.com/users/12190768/karan"}, "edited": false, "score": 0, "creation_date": 1571210450, "post_id": 58406151, "comment_id": 103159613, "body": "Hi, thanks for the solution it really works but I am facing some problem which i have explained in edit. Please look into that"}], "tags": [], "owner": {"reputation": 1131, "user_id": 6284448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/af0Bu.jpg?s=128&g=1", "display_name": "GParekar", "link": "https://stackoverflow.com/users/6284448/gparekar"}, "is_accepted": true, "score": 0, "last_activity_date": 1571202896, "creation_date": 1571202896, "answer_id": 58406151, "question_id": 58404226, "link": "https://stackoverflow.com/questions/58404226/how-to-check-whether-a-given-string-is-between-particular-time-range/58406151#58406151", "title": "how to check whether a given string is between particular time range", "body": "<p>I hope this will work for you.</p>\n\n<p>create method/function like this,</p>\n\n<pre><code>private fun checkCurrentTimeIsBetweenGivenString(s1:String,s2:String): Boolean{\n\n        val simpleDateFormat= SimpleDateFormat(\"dd/MM/yyyy HH:mm\")\n\n        val date1:Date=simpleDateFormat.parse(s1)\n\n        val date2:Date=simpleDateFormat.parse(s2)\n\n        val d= Date()\n\n        val s3=simpleDateFormat.format(d)\n\n        val date3=simpleDateFormat.parse(s3)\n\n        return  date3 &gt;= date1  &amp;&amp;  date3 &lt;= date2\n    }\n</code></pre>\n\n<p>Use Like This,</p>\n\n<pre><code>if(checkCurrentTimeIsBetweenGivenString(\"16/10/2019 10:00\",\"16/10/2019 12:00\")){\n            Log.e(\"output\",\"Current time is between this range\")\n        }else{\n            Log.e(\"output\",\"Current time is not between this range\")\n        }\n</code></pre>\n\n<p>if the current time is between a given string then if the part will work, if not else part will work.</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 12045333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GkA22.jpg?s=128&g=1", "display_name": "vijay_s30", "link": "https://stackoverflow.com/users/12045333/vijay-s30"}, "is_accepted": false, "score": 1, "last_activity_date": 1571248004, "creation_date": 1571248004, "answer_id": 58418993, "question_id": 58404226, "link": "https://stackoverflow.com/questions/58404226/how-to-check-whether-a-given-string-is-between-particular-time-range/58418993#58418993", "title": "how to check whether a given string is between particular time range", "body": "<p>i thing this will work </p>\n\n<pre><code> private fun checkDate(startDate: String, endDate: String): Boolean {\n    val simpleDateFormat = SimpleDateFormat(\"dd/MM/yyyy\")\n    val dateStart: Date = simpleDateFormat.parse(startDate)\n    val dateEnd: Date = simpleDateFormat.parse(endDate)\n    val currentDate = Date()\n    return currentDate.after(dateStart) &amp;&amp; currentDate.before(dateEnd)\n }\n</code></pre>\n\n<p>example :</p>\n\n<pre><code>if (checkDate(\"16/10/2019 05:13\", \"16/12/2019 09:12\")) {\n     //Date is between range\n} else {\n     //Date is not between range\n}\n</code></pre>\n\n<p>if current time is between range return true otherwise return false, Please check</p>\n"}], "owner": {"reputation": 3, "user_id": 12190768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pJwSfAe03A0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rer0ifvUl4ZCEoqjkBrdXA7aKw__g/photo.jpg?sz=128", "display_name": "karan", "link": "https://stackoverflow.com/users/12190768/karan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 58406151, "answer_count": 2, "score": 0, "last_activity_date": 1571248004, "creation_date": 1571186099, "last_edit_date": 1571217532, "question_id": 58404226, "link": "https://stackoverflow.com/questions/58404226/how-to-check-whether-a-given-string-is-between-particular-time-range", "title": "how to check whether a given string is between particular time range", "body": "<p>Given start string like \"09:00\" and end string like \"10:00\" how do i check whether current time is between this range or not. I have searched a lot but most of them requires a higher API level and my minimum android target version is 20. Please suggest some code in Kotlin.</p>\n\n<pre><code>fun Date.toString(format: String, locale: Locale = Locale.getDefault()): String {\n        val formatter = SimpleDateFormat(format, locale)\n        return formatter.format(this)\n    }\n\n    fun getCurrentDateTime(): Date {\n        return Calendar.getInstance().time\n    }\n\n    val date = getCurrentDateTime()\n    val currentDate = date.toString(\"dd/MM/yyyy\")\n    val currentTime: String = date.toString(\"HH:mm\")\n</code></pre>\n\n<p>this is how i have managed to get date and time</p>\n"}, {"tags": ["android", "security", "kotlin", "mobile", "safetynet"], "answers": [{"tags": [], "owner": {"reputation": 543, "user_id": 610837, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5d704c9e7aea3a7acff32339412c74c8?s=128&d=identicon&r=PG", "display_name": "sb_269", "link": "https://stackoverflow.com/users/610837/sb-269"}, "is_accepted": false, "score": 0, "last_activity_date": 1571189962, "creation_date": 1571189962, "answer_id": 58404600, "question_id": 58403739, "link": "https://stackoverflow.com/questions/58403739/safety-net-api-error-when-downloaded-from-play-store/58404600#58404600", "title": "Safety net Api Error when downloaded from play store", "body": "<p>Found my issue!</p>\n\n<p>For anyone using 'App signing by Google Play', make sure you add the SHA-1 provided by Google Play to the API restrictions in the API Console.</p>\n\n<p>You should find this in 'App Signing' in the app on the Play Developer Console.</p>\n"}], "owner": {"reputation": 543, "user_id": 610837, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5d704c9e7aea3a7acff32339412c74c8?s=128&d=identicon&r=PG", "display_name": "sb_269", "link": "https://stackoverflow.com/users/610837/sb-269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571189962, "creation_date": 1571181604, "question_id": 58403739, "link": "https://stackoverflow.com/questions/58403739/safety-net-api-error-when-downloaded-from-play-store", "title": "Safety net Api Error when downloaded from play store", "body": "<p>I have implemented a SafetyNet attest check when launching the app. It works fine when I run the release version from Android studio and detects (for eg.) the emulator from the device correctly. However when I download the same version from the Play store, it fires the failure listener every time, on a lot of legit devices. </p>\n\n<p>It is a restricted API and works fine when run locally on those same devices.</p>\n\n<p>If you check the image, the 33.75% error rate is when I have used this from the play store.\n<img src=\"https://i.stack.imgur.com/qkUyu.png\" alt=\"Screenshot\">\nAny idea what could be happening different with the same code when running in app downloaded from the Play store? </p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1875, "user_id": 4465373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Z3oCj.jpg?s=128&g=1", "display_name": "Farruh Habibullaev", "link": "https://stackoverflow.com/users/4465373/farruh-habibullaev"}, "is_accepted": true, "score": 0, "last_activity_date": 1571183340, "creation_date": 1571183340, "answer_id": 58403953, "question_id": 58403728, "link": "https://stackoverflow.com/questions/58403728/how-to-pass-mapstring-any-as-parameter-using-retrofit2/58403953#58403953", "title": "How to pass Map&lt;String, Any&gt; as parameter using Retrofit2?", "body": "<p>Your JSON structure looks weird and inconsistent. You pass structure for Retrofit you need to define clear consistent structure. In your case, it looks like your map key is always String but the value part of map is sometimes Json object and sometimes an array/list or whatever. Not consistent which makes it impossible to exact structured value.</p>\n\n<p>You can't surely post/put <code>Map&lt;String, Any</code> because ? is illegal argument.</p>\n\n<p>You can structure and send <code>Map&lt;String, JsonObject&gt;</code>, creation of JsonObject is not hard if you use Gson library. All you do is to extract the string (value part of the Json object) and give it to Gson library and then it generates the JsonObject model for you to pass.</p>\n\n<p>Or you may send <code>Map&lt;String, String&gt;</code>, from parsing side, you <code>parse()</code> and <code>stringify(</code>) of Json value, </p>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 7110268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0fd20743ffe123191131a80939eee2a2?s=128&d=identicon&r=PG&f=1", "display_name": "coldembrace", "link": "https://stackoverflow.com/users/7110268/coldembrace"}, "is_accepted": false, "score": 0, "last_activity_date": 1587391907, "creation_date": 1587391907, "answer_id": 61324566, "question_id": 58403728, "link": "https://stackoverflow.com/questions/58403728/how-to-pass-mapstring-any-as-parameter-using-retrofit2/61324566#61324566", "title": "How to pass Map&lt;String, Any&gt; as parameter using Retrofit2?", "body": "<p>I've faced the same problem recently, and I found probably the easiest solution.\nYou can check my full answer to the similar question here: <a href=\"https://stackoverflow.com/a/61324340/7110268\">https://stackoverflow.com/a/61324340/7110268</a></p>\n\n<p>In your particular case you can try this:</p>\n\n<pre><code>val body = mutableMapOf&lt;String, String&gt;()\n\nbody[\"user[lastname]\"] = \"Smith\"\nbody[\"user[name]\"] = \"John\"\n\nbody[\"foreign_language_keys[0]\"] = \"eng\"\nbody[\"foreign_language_keys[1]\"] = \"fr\"\n\n// and so on\n</code></pre>\n\n<p>If you need to pass a huge dynamic list, you can easily fill your map in a <code>for</code> loop, for example. </p>\n"}], "owner": {"reputation": 68, "user_id": 8705119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0bb9dc4b3cfdfb572b23622a3f59ab?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/8705119/maxim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 58403953, "answer_count": 2, "score": 0, "last_activity_date": 1587391907, "creation_date": 1571181495, "question_id": 58403728, "link": "https://stackoverflow.com/questions/58403728/how-to-pass-mapstring-any-as-parameter-using-retrofit2", "title": "How to pass Map&lt;String, Any&gt; as parameter using Retrofit2?", "body": "<p>I need to pass <code>Map&lt;String, Any&gt;</code> as parameter for PUT request. Json (made from Map) looks like this:</p>\n\n<pre><code>{\n  \"user\": {\n    \"lastname\": \"Smith\",\n    \"name\": \"John\",\n    ...\n  },\n  \"foreign_language_keys\": [\n    \"eng\",\n    \"fr\"\n  ],\n  \"tachograph_cards\": [\n    {\n      \"tachograph_key\": \"estr\",\n      \"tachograph_card_num\":\n      .....\n</code></pre>\n\n<p>If I pass <code>Map&lt;String, String&gt;</code> as parameter - it works fine:</p>\n\n<pre><code>@FormUrlEncoded\n@Headers(\"Content-Type: application/json\")\n@PUT(\"api/authorization/user/driver/{user_id}\")\nfun editUser(@Path(\"user_id\") userId: String, @FieldMap body: Map&lt;String, String&gt;): Single&lt;UserModel&gt;\n</code></pre>\n\n<p>But if I need to pass <code>Map&lt;String, Any&gt;</code> as parameter - I get runtime error \"java.lang.IllegalArgumentException: Parameter type must not include a type variable or wildcard: java.util.Map (parameter #2)\"</p>\n\n<p>Adding @JvmSuppressWildcards annotation (<code>@FieldMap body: Map&lt;String, @JvmSuppressWildcards Any&gt;)</code>) does not help (I get another error \"Undefined index\" from server for one of necessary fields in Json, because server does not see this field in my request).</p>\n\n<p>The working solution is to make com.google.gson.JsonObject by mapping all fields from my model (instead of passing <code>Map&lt;String, Any&gt;</code>), but it is too difficult. I am sure it must work without converting my model to Json, but I could not find the easy solution.\nCan anyone help with this?</p>\n"}, {"tags": ["android", "kotlin", "viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "is_accepted": false, "score": 0, "last_activity_date": 1571210740, "creation_date": 1571210740, "answer_id": 58407937, "question_id": 58403501, "link": "https://stackoverflow.com/questions/58403501/get-view-and-viewmodel-to-communicate-using-a-common-protocol/58407937#58407937", "title": "Get View and ViewModel to communicate using a common Protocol", "body": "<p>I would say you dont need the Interface, but to give your MutableLiveData a value, you need to do it like this:</p>\n\n<pre><code>_navigateToSection1.value = true\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 6820089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bc1bf1916323a974a2ce0d25cba8b4f?s=128&d=identicon&r=PG&f=1", "display_name": "0x29a", "link": "https://stackoverflow.com/users/6820089/0x29a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571210740, "creation_date": 1571179444, "question_id": 58403501, "link": "https://stackoverflow.com/questions/58403501/get-view-and-viewmodel-to-communicate-using-a-common-protocol", "title": "Get View and ViewModel to communicate using a common Protocol", "body": "<p>I'm trying to tell the View that it needs to navigate to ether one of the two destinations using the LiveData: </p>\n\n<pre><code>class IntroFragment : Fragment()\n{\n    private lateinit var introViewModel : IntroViewModel\n\n    override fun onCreateView( inflater : LayoutInflater,\n                               container : ViewGroup?,\n                               savedInstanceState : Bundle?): View? \n    {\n        introViewModel = ViewModelProviders.of( this ).get( IntroViewModel::class.java )\n        return inflater.inflate( R.layout.fragment_Intro, container, false )\n    }\n\n    override\n\n    fun onViewCreated( view: View, savedInstanceState: Bundle? )\n    {\n        introViewModel.navigateToSection1.observe(this, Observer {\n            Navigation.findNavController( view ).navigate( R.id.action_showSection1 )\n        });\n\n        introViewModel.navigateToSection2.observe(this, Observer {\n            Navigation.findNavController( view ).navigate( R.id.action_showSection2 )\n        });\n    }\n}\n</code></pre>\n\n<p>IntroViewModel:</p>\n\n<pre><code>class IntroViewModel : ViewModel()\n{\n    private val _navigateToSection1 = MutableLiveData&lt;Boolean&gt;()\n    val navigateToNotificationSettings: LiveData&lt;Boolean&gt;\n        get() = _navigateToSection1\n\n    private val _navigateToSection2 = MutableLiveData&lt;Boolean&gt;()\n    val navigateToSection2: LiveData&lt;Boolean&gt;\n        get() = _navigateToSection2\n\n    init\n    {\n        _navigateToSection1 = true\n    }\n}\n</code></pre>\n\n<p>The problem is that I would need to give at least 5 commands from the ViewModel to View. One of the solutions I was thinking is to define an interface:</p>\n\n<pre><code>interface IntroProtocol\n{\n    fun navigateToSection1()\n    fun navigateToSection2()\n}\n</code></pre>\n\n<p>And then pass the interfaces method as an argument back to the view like this:</p>\n\n<p>IntroViewModel:</p>\n\n<pre><code>class IntroViewModel : ViewModel()\n{\n    private val _navigateTo = MutableLiveData&lt;IntroProtocol&gt;()\n    val navigateTo: LiveData&lt;IntroProtocol&gt;\n        get() = _navigateTo\n\n    init\n    {\n        _navigateTo = IntroProtocol.navigateToSection1() // I get \"Unresolved reference navigateToSection1\"\n    }\n}\n</code></pre>\n\n<p>And then I could implement the same IntroProtocol in the View like this:</p>\n\n<pre><code>class IntroFragment : Fragment(), IntroProtocol\n{\n    private lateinit var introViewModel : IntroViewModel\n\n    override fun onCreateView( inflater           : LayoutInflater,\n                               container          : ViewGroup?,\n                               savedInstanceState : Bundle?         ): View?\n    {\n        introViewModel = ViewModelProviders.of( this ).get( IntroViewModel::class.java )\n        return inflater.inflate( R.layout.fragment_Intro, container, false )\n    }\n\n\n    override fun onViewCreated( view: View, savedInstanceState: Bundle? )\n    {\n        introViewModel.navigateTo.observe( this, Observer {\n            callLocalMethodByName( this ) // not sure how call the local method by name dynamically\n        });\n    }\n\n\n    override fun navigateToSection1()\n    {\n        Navigation.findNavController( view ).navigate( R.id.action_showSection1 )\n    }\n\n\n    override fun navigateToSection2()\n    {\n        Navigation.findNavController( view ).navigate( R.id.action_showSection2 )\n    }\n}\n</code></pre>\n\n<p>But I don't understand how to do this and if it's even possible. The reason I want to pass the interfaces method is because it would be very convenient to have a single clean definition/protocol of which methods the ViewModel knows it can call on the view and the view would inherit them which would result in nice structure. Is this possible? If not, what would be an alternative?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571234627, "post_id": 58403400, "comment_id": 103173217, "body": "<code>private val loginRepositoryImpl: LoginRepositoryImpl,</code> well that sounds like the opposite of what you should be doing."}, {"owner": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571235374, "post_id": 58403400, "comment_id": 103173732, "body": "Because of the actual implementation and not the interface? In that case yes, I need to change it, I just started to learn about DI concepts. Can you please help me with the question from the title, I&#39;m still struggling with it"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "edited": false, "score": 0, "creation_date": 1571228884, "post_id": 58405578, "comment_id": 103169586, "body": "But still if I dont want to provide an alternate implementation to <code>LoginRepositoryImpl</code> I&#39;ll still need to inject it for testing purposes like mocking its result"}, {"owner": {"reputation": 475, "user_id": 1898873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a17f2100e50eab06cdbb769b42e5cf?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1898873/jeremy"}, "reply_to_user": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "edited": false, "score": 0, "creation_date": 1571277294, "post_id": 58405578, "comment_id": 103189728, "body": "If using Kotlin you can also just use default constructor params and provide mocks into constructor for tests."}, {"owner": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "edited": false, "score": 0, "creation_date": 1571314868, "post_id": 58405578, "comment_id": 103205504, "body": "I&#39;ve found a nice <a href=\"http://misko.hevery.com/2008/09/30/to-new-or-not-to-new/\" rel=\"nofollow noreferrer\">post</a> by Misko Hevery that explains my situation"}], "tags": [], "owner": {"reputation": 475, "user_id": 1898873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a17f2100e50eab06cdbb769b42e5cf?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1898873/jeremy"}, "is_accepted": false, "score": 0, "last_activity_date": 1571198410, "creation_date": 1571198410, "answer_id": 58405578, "question_id": 58403400, "link": "https://stackoverflow.com/questions/58403400/dagger-2-what-to-inject-and-what-not/58405578#58405578", "title": "Dagger 2 what to inject and what not", "body": "<p>Depends why you are using Dagger. Say you want to test the following code. loginRepositoryImpl could be accessing an authentication service over network so you'd want to provide an alternate implementation. User is just a data class, there is no value in providing a mock implementation.</p>\n\n<pre><code>    fun processLogin(username: String, password: String): Boolean {\n        val user = User(username, password)\n        val isValidLogin = loginRepositoryImpl.login(user)\n        return isValidLogin\n        ...\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "edited": false, "score": 0, "creation_date": 1571227753, "post_id": 58408330, "comment_id": 103168934, "body": "Can you please explain why I dont need to inject it? Also why injecting application class doesnt sound right? You can have a reference to application class by extending <code>AndroidViewModel</code> if you&#39;re not using dagger for example"}], "tags": [], "owner": {"reputation": 21, "user_id": 4233272, "user_type": "registered", "profile_image": "https://graph.facebook.com/1108653502/picture?type=large", "display_name": "Joe Mobarak", "link": "https://stackoverflow.com/users/4233272/joe-mobarak"}, "is_accepted": false, "score": 0, "last_activity_date": 1571212226, "creation_date": 1571212226, "answer_id": 58408330, "question_id": 58403400, "link": "https://stackoverflow.com/questions/58403400/dagger-2-what-to-inject-and-what-not/58408330#58408330", "title": "Dagger 2 what to inject and what not", "body": "<p>well mate no you don't need to inject your user data and why are you injecting your base application doesn't sound right</p>\n"}], "owner": {"reputation": 119, "user_id": 3862823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25384124c192fd04ba403ad73553f7f?s=128&d=identicon&r=PG&f=1", "display_name": "danielctf", "link": "https://stackoverflow.com/users/3862823/danielctf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571229001, "creation_date": 1571178628, "last_edit_date": 1571229001, "question_id": 58403400, "link": "https://stackoverflow.com/questions/58403400/dagger-2-what-to-inject-and-what-not", "title": "Dagger 2 what to inject and what not", "body": "<p>I've been reading for a few hours but I can't find an answer. What things should I inject and what things not?</p>\n\n<p>I have my <code>LoginViewModel</code> with a few injected dependencies but I'm not sure if I have to inject for example my <code>User</code> data class (among other data classes) or just instantiate it.</p>\n\n<p>LoginViewModel.kt</p>\n\n<pre><code>class LoginViewModel @Inject constructor(\n    private val loginRepositoryImpl: LoginRepositoryImpl,\n    private val baseApplication: BaseApplication,\n    private val networkUtils: NetworkUtils,\n    private val sharedPreferences: SharedPreferences) : ViewModel() {\n\n    fun processLogin(username: String, password: String) {\n        val user = User(username, password)\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>User.kt</p>\n\n<pre><code>data class User (\n    @SerializedName(\"usuario\")\n    var user: String,\n    @SerializedName(\"clave\")\n    var password: String = \"\",\n    @SerializedName(\"nombre\")\n    var name: String = \"\"\n)\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "textview"], "answers": [{"tags": [], "owner": {"reputation": 82, "user_id": 6900675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8170d5295f22656e9c30e64d671bd50e?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Brown", "link": "https://stackoverflow.com/users/6900675/mark-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1571171780, "creation_date": 1571171780, "answer_id": 58402304, "question_id": 58402205, "link": "https://stackoverflow.com/questions/58402205/update-textview-inside-a-function/58402304#58402304", "title": "Update textview inside a function", "body": "<p>onCreate is executed on the ui-thread, as is the case for permutation1() and permutation2().  The ui won't actually refresh until onCreate completes and ui can then refresh/redraw the screen, so that's why you don't see any incremental text updates until the end.</p>\n\n<p>If you would like to see it update in real time, you may want to look into <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">AsyncTask</a>.  In your particular example, you aren't really performing a long running task, so I'm not sure if you'll be able to see the incremental additions to your TextView even if you use AsyncTask.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 12222698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe63851d813dc19d34c5301a13cd97e?s=128&d=identicon&r=PG&f=1", "display_name": "Nounet", "link": "https://stackoverflow.com/users/12222698/nounet"}, "edited": false, "score": 0, "creation_date": 1571173991, "post_id": 58402588, "comment_id": 103150380, "body": "Thank you Kishan ! But when I try your code the app open and close directly without crash... But maybe your code will help me ! I will try to analyze it !"}, {"owner": {"reputation": 53, "user_id": 12222698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe63851d813dc19d34c5301a13cd97e?s=128&d=identicon&r=PG&f=1", "display_name": "Nounet", "link": "https://stackoverflow.com/users/12222698/nounet"}, "edited": false, "score": 0, "creation_date": 1571258471, "post_id": 58402588, "comment_id": 103184978, "body": "E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1     Process: com.example.testpermutation, PID: 27087     java.lang.RuntimeException: An error occurred while executing doInBackground()"}, {"owner": {"reputation": 53, "user_id": 12222698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe63851d813dc19d34c5301a13cd97e?s=128&d=identicon&r=PG&f=1", "display_name": "Nounet", "link": "https://stackoverflow.com/users/12222698/nounet"}, "edited": false, "score": 0, "creation_date": 1571258902, "post_id": 58402588, "comment_id": 103185159, "body": "Caused by: android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views."}], "tags": [], "owner": {"reputation": 2836, "user_id": 8007341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IbCY-UgNEuA/AAAAAAAAAAI/AAAAAAAAAac/1BHnkNdpfu0/photo.jpg?sz=128", "display_name": "Kishan Maurya", "link": "https://stackoverflow.com/users/8007341/kishan-maurya"}, "is_accepted": true, "score": 1, "last_activity_date": 1571173300, "creation_date": 1571173300, "answer_id": 58402588, "question_id": 58402205, "link": "https://stackoverflow.com/questions/58402205/update-textview-inside-a-function/58402588#58402588", "title": "Update textview inside a function", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        permutation2(\"abcdefgh\", 8)\n    }\n\n\n    private fun permutation2(text: String, k: Int) {\n        MyCal().execute(text)\n    }\n\n    inner class MyCal : AsyncTask&lt;String ,String, String&gt;(){\n        override fun onProgressUpdate(vararg values: String?) {\n            super.onProgressUpdate(*values)\n            zoneTexte.text = values[0]\n\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            zoneTexte.text = result\n        }\n\n        override fun doInBackground(vararg p0: String?): String {\n            return permutation1(p0[0]!!, \"\", p0[0]!!.length?.minus(1), 8)\n        }\n\n        fun permutation1(text: String, prefix: String, n: Int, k: Int): String {\n            if (k == 0) {\n            } else\n                for (i in 0..n) {\n                    val newprefix = prefix + text[i]\n                    if (newprefix.length &gt;= text.length) {\n                        onProgressUpdate(newprefix)\n                        return newprefix\n                    }\n                    permutation1(text, newprefix, n, k - 1)\n                }\n            return \"Erreur\"\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 12222698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe63851d813dc19d34c5301a13cd97e?s=128&d=identicon&r=PG&f=1", "display_name": "Nounet", "link": "https://stackoverflow.com/users/12222698/nounet"}, "is_accepted": false, "score": 0, "last_activity_date": 1571259550, "creation_date": 1571259550, "answer_id": 58421634, "question_id": 58402205, "link": "https://stackoverflow.com/questions/58402205/update-textview-inside-a-function/58421634#58421634", "title": "Update textview inside a function", "body": "<p>After the help from Mark and Kishan I find the solution ! Thank you guys !</p>\n\n<p>Here is the code :</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    permutation2(\"abcdefgh\", 8)\n\n}\n\n\nprivate fun permutation2(text: String, k: Int) {\n    MyCal().execute(text)\n}\n\ninner class MyCal : AsyncTask&lt;String ,String, String&gt;(){\n    override fun onProgressUpdate(vararg values: String?) {\n        super.onProgressUpdate(*values)\n        runOnUiThread(Runnable { zoneTexte.text = values[0] })\n\n    }\n\n    override fun onPostExecute(result: String?) {\n        super.onPostExecute(result)\n        runOnUiThread(Runnable { zoneTexte.text = result })\n    }\n\n    override fun doInBackground(vararg p0: String?): String {\n        return permutation1(p0[0]!!, \"\", p0[0]!!.length?.minus(1), 8)\n    }\n\n    fun permutation1(text: String, prefix: String, n: Int, k: Int): String {\n        if (k == 0) {\n        } else\n            for (i in 0..n) {\n                val newprefix = prefix + text[i]\n                if (newprefix.length &gt;= text.length) {\n                    onProgressUpdate(newprefix)\n                    return newprefix\n                }\n                permutation1(text, newprefix, n, k - 1)\n            }\n        return \"Erreur\"\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 53, "user_id": 12222698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fe63851d813dc19d34c5301a13cd97e?s=128&d=identicon&r=PG&f=1", "display_name": "Nounet", "link": "https://stackoverflow.com/users/12222698/nounet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58402588, "answer_count": 3, "score": 0, "last_activity_date": 1571259790, "creation_date": 1571171244, "last_edit_date": 1571259790, "question_id": 58402205, "link": "https://stackoverflow.com/questions/58402205/update-textview-inside-a-function", "title": "Update textview inside a function", "body": "<p>I'm new here and this is my first post!\nI try to learn Android app development and I'm stuck with this problem :</p>\n\n<p>How can I update a textview inside a function? I code a small app which generates all the permutation with repetitions and write it in a textview.</p>\n\n<p>It works, but the textview updates only at the end of all the permutations... Don't understand why...</p>\n\n<p>Sorry if my English is bad, I'm French ;)</p>\n\n<p>I try to use Thread, the app doesn't crash, it seems to work but the app goes directly in the background...</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        permutation2(\"abcdefgh\", 8)\n    }\n\n    private fun permutation1(text: String, prefix: String, n: Int, k: Int): String {\n\n        if (k == 0) {\n        } else\n            for (i in 0..n) {\n                val newprefix = prefix + text[i]\n                if (newprefix.length &gt;= text.length) {\n                    zoneTexte.text = newprefix\n                }\n                permutation1(text, newprefix, n, k - 1)\n            }\n        return \"Erreur\"\n    }\n\n    private fun permutation2(text: String, k: Int) {\n        permutation1(text, \"\", text.length - 1, k)\n    }\n}\n</code></pre>\n\n<p>Functions for permutations work well but the textview update only at the end (with the last permutation \"hhhhhhhh\") and I would like to update it for each permutation.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "robolectric"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1571172293, "post_id": 58402202, "comment_id": 103149764, "body": "The hint is buried in changelog: <a href=\"https://github.com/robolectric/robolectric/releases/tag/robolectric-4.3.1\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/releases/tag/&hellip;</a> Change the test Run Configuration in Android Studio to use Java 13 as its JRE."}, {"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1571175250, "post_id": 58402202, "comment_id": 103150797, "body": "I specified my jdk13 for module &quot;app&quot; and &quot;Android JUnit&quot; template, but I&#39;m still getting the error. Perhaps it&#39;s because of my <code>compileOptions</code>? <code>compileOptions {         sourceCompatibility JavaVersion.VERSION_1_8         targetCompatibility JavaVersion.VERSION_1_8     }</code>"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1571177288, "post_id": 58402202, "comment_id": 103151403, "body": "I honestly don&#39;t know. One more thing, have you tried with JDK 9? If Android 10 is compioed with Java 9 and Robolectric insists on Java 9 to match Android 10... Maybe they really want Java 9, not 9+."}, {"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1571207995, "post_id": 58402202, "comment_id": 103158381, "body": "Well, in the changelog, they say Java 9+, but I&#39;ll try, thanks!"}, {"owner": {"reputation": 2792, "user_id": 1862760, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlJ1v.jpg?s=128&g=1", "display_name": "Yashdeep Patel", "link": "https://stackoverflow.com/users/1862760/yashdeep-patel"}, "edited": false, "score": 0, "creation_date": 1573589353, "post_id": 58402202, "comment_id": 103928524, "body": "@the_dani Did you find any solution?"}, {"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "edited": false, "score": 0, "creation_date": 1573589796, "post_id": 58402202, "comment_id": 103928705, "body": "Unfortunately not, it seems like current Gradle does not support JDK 13 (is a feature of Gradle 6.0), and I think thats why I&#39;m getting an error when building with JDK 13. My current solution is to only test against API 28 (Pie)."}], "answers": [{"tags": [], "owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "is_accepted": true, "score": 1, "last_activity_date": 1575329088, "creation_date": 1575329088, "answer_id": 59148114, "question_id": 58402202, "link": "https://stackoverflow.com/questions/58402202/robolectric-4-3-1-fails-with-message-android-29-requires-java-9-have-java-1/59148114#59148114", "title": "Robolectric 4.3.1 fails with message: Android 29 requires Java 9 (have Java 1)", "body": "<p>Robolectric currently only recognizes JDKs with a version string in a proper format (X.XX.XX):\n<a href=\"https://github.com/robolectric/robolectric/issues/5303#issuecomment-547029317\" rel=\"nofollow noreferrer\">https://github.com/robolectric/robolectric/issues/5303#issuecomment-547029317</a>.</p>\n\n<p>Furthermore, building with JDK 13 is only supported from Gradle 6.0 up.</p>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 7839518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b148c4e97cd7cf211d4b0c417a0e436a?s=128&d=identicon&r=PG", "display_name": "Tonnie", "link": "https://stackoverflow.com/users/7839518/tonnie"}, "is_accepted": false, "score": 1, "last_activity_date": 1613671275, "creation_date": 1613671275, "answer_id": 66265578, "question_id": 58402202, "link": "https://stackoverflow.com/questions/58402202/robolectric-4-3-1-fails-with-message-android-29-requires-java-9-have-java-1/66265578#66265578", "title": "Robolectric 4.3.1 fails with message: Android 29 requires Java 9 (have Java 1)", "body": "<p>There is an issue will order versions of Robolectric specifically 4.3.1. Simply upgrade the Robolectric Version to 4.5.1 or later.</p>\n<pre><code> implementation &quot;org.robolectric:robolectric:4.5.1&quot;\n</code></pre>\n<p>Thanks.</p>\n"}], "owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3047, "favorite_count": 0, "accepted_answer_id": 59148114, "answer_count": 2, "score": 5, "last_activity_date": 1613671275, "creation_date": 1571171240, "question_id": 58402202, "link": "https://stackoverflow.com/questions/58402202/robolectric-4-3-1-fails-with-message-android-29-requires-java-9-have-java-1", "title": "Robolectric 4.3.1 fails with message: Android 29 requires Java 9 (have Java 1)", "body": "<p>I'm trying to run my android tests via robolectric, but it get the following error message:</p>\n\n<pre><code>at.guger.moneybook.data.repository.AccountsRepositoryTest STANDARD_ERROR\n    [Robolectric] WARN: Android SDK 16 requires Java 8 (have Java 1). Tests won't be run on SDK 16 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 17 requires Java 8 (have Java 1). Tests won't be run on SDK 17 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 18 requires Java 8 (have Java 1). Tests won't be run on SDK 18 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 19 requires Java 8 (have Java 1). Tests won't be run on SDK 19 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 21 requires Java 8 (have Java 1). Tests won't be run on SDK 21 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 22 requires Java 8 (have Java 1). Tests won't be run on SDK 22 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 23 requires Java 8 (have Java 1). Tests won't be run on SDK 23 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 24 requires Java 8 (have Java 1). Tests won't be run on SDK 24 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 25 requires Java 8 (have Java 1). Tests won't be run on SDK 25 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 26 requires Java 8 (have Java 1). Tests won't be run on SDK 26 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 27 requires Java 8 (have Java 1). Tests won't be run on SDK 27 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 28 requires Java 8 (have Java 1). Tests won't be run on SDK 28 unless explicitly requested.\n    [Robolectric] WARN: Android SDK 29 requires Java 9 (have Java 1). Tests won't be run on SDK 29 unless explicitly requested.\n\nat.guger.moneybook.data.repository.AccountsRepositoryTest &gt; testUpdateAccount FAILED\n    java.lang.UnsupportedOperationException: Failed to create a Robolectric sandbox: Android SDK 29 requires Java 9 (have Java 1)\n...\n</code></pre>\n\n<p>My installed JDK version is 13.</p>\n\n<p>I've added <code>android.enableUnitTestBinaryResources=true</code> to gradle.properties and configured <code>testOptions.unitTests.includeAndroidResources = true</code> in build.gradle.</p>\n\n<p>My test runner is <code>AndroidJUnit4::class</code> as specified in the Robolectric 4.x docs.</p>\n"}, {"tags": ["android", "asynchronous", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1612040254, "post_id": 58402108, "comment_id": 116644553, "body": "Isn&#39;t there a shorter version of this? Even AsyncTask is shorter..."}, {"owner": {"reputation": 197, "user_id": 6672928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3db636d2242f134f54233bd00d26223e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Khovanskiy", "link": "https://stackoverflow.com/users/6672928/victor-khovanskiy"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 1, "creation_date": 1612133274, "post_id": 58402108, "comment_id": 116664883, "body": "@androiddeveloper, I have added an example with a new function <code>runInterruptible</code>."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1612135950, "post_id": 58402108, "comment_id": 116665475, "body": "I see. Say, about runInterruptible, what if I want to store some field for it? Using AsyncTask, we could extend from it. Now we need to wrap what we get from it?"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1612136718, "post_id": 58402108, "comment_id": 116665602, "body": "And also how can I handle cancellation back on the UI thread?"}], "tags": [], "owner": {"reputation": 197, "user_id": 6672928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3db636d2242f134f54233bd00d26223e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Khovanskiy", "link": "https://stackoverflow.com/users/6672928/victor-khovanskiy"}, "is_accepted": true, "score": 4, "last_activity_date": 1612133199, "last_edit_date": 1612133199, "creation_date": 1571170787, "answer_id": 58402108, "question_id": 58402107, "link": "https://stackoverflow.com/questions/58402107/how-to-cancel-the-blocking-code-in-the-coroutines/58402108#58402108", "title": "How to cancel the blocking code in the coroutines", "body": "<p>The main idea is to use the out of coroutines context thread pool with JVM threads that can be interrupted in the old style and subscribe to the cancellation event from the coroutine execution. When the event is caught by <code>invokeOnCancellation</code>, we can interrupt the current thread.</p>\n<p>The implementation:</p>\n<pre><code>val externalThreadPool = Executors.newCachedThreadPool()\nsuspend fun &lt;T&gt; withTimeoutOrInterrupt(timeMillis: Long, block: () -&gt; T) {\n    withTimeout(timeMillis) {\n        suspendCancellableCoroutine&lt;Unit&gt; { cont -&gt;\n            val future = externalThreadPool.submit {\n                try {\n                    block()\n                    cont.resumeWith(Result.success(Unit))\n                } catch (e: InterruptedException) {\n                    cont.resumeWithException(CancellationException())\n                } catch (e: Throwable) {\n                    cont.resumeWithException(e);\n                }\n            }\n            cont.invokeOnCancellation {\n                future.cancel(true)\n            }\n        }\n    }\n}\n</code></pre>\n<p>It provides a similar behaviour like usual <code>withTimeout</code>, but it additionally supports running a code with blockings.</p>\n<p>Note: It should be called only when you know, that the inner code use blockings and can correctly process a thrown <code>InterruptedException</code>. In most cases, the <code>withTimeout</code> function is preferred.</p>\n<p><strong>UPDATE:</strong> Since the coroutines version 1.3.7, there has been a new function <code>runInterruptible</code>, which provides the same behaviour. So this code can be simplified:</p>\n<pre><code>suspend fun &lt;T&gt; withTimeoutOrInterrupt(timeMillis: Long, block: () -&gt; T) {\n    withTimeout(timeMillis) {\n        runInterruptible(Dispatchers.IO) {\n            block()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 6672928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3db636d2242f134f54233bd00d26223e?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Khovanskiy", "link": "https://stackoverflow.com/users/6672928/victor-khovanskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 58402108, "answer_count": 1, "score": 1, "last_activity_date": 1612133199, "creation_date": 1571170787, "last_edit_date": 1571218514, "question_id": 58402107, "link": "https://stackoverflow.com/questions/58402107/how-to-cancel-the-blocking-code-in-the-coroutines", "title": "How to cancel the blocking code in the coroutines", "body": "<p>I have the following code structure:</p>\n\n<pre><code> @Throws(InterruptedException::class)\n fun method() {\n     // do some blocking operations like Thread.sleep(...)\n }\n var job = launch {\n     method()\n }\n job.cancelAndJoin()\n</code></pre>\n\n<p>The <code>method</code> is provided by the external library and I can't control its behaviour. It can take a lot of time for execution, so in some cases it should be canceled by timeout.</p>\n\n<p>I can use the <code>withTimeout</code> function provided by the kotlin coroutines library, but it can't cancel a code with blockings due to the coroutines design. It there some workaround to do it?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "edited": false, "score": 3, "creation_date": 1571325050, "post_id": 58435559, "comment_id": 103211711, "body": "i dont wanna add badge on bottomNavigation, i want add badge to buttons or cardviews"}], "tags": [], "owner": {"reputation": 127, "user_id": 5339100, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AICf5gfEjUg/AAAAAAAAAAI/AAAAAAAAAA8/-FMkbjjDUKk/photo.jpg?sz=128", "display_name": "Osvaldo Bringaz", "link": "https://stackoverflow.com/users/5339100/osvaldo-bringaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1571324443, "creation_date": 1571324443, "answer_id": 58435559, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing/58435559#58435559", "title": "Badge Drawable not showing", "body": "<p>verify the version that are you using, I am using:</p>\n\n<blockquote>\n  <p>com.google.android.material:material: 1.1.0-beta01</p>\n</blockquote>\n\n<p>and try with this:</p>\n\n<pre><code>bottomNavigationView.getOrCreateBadge(R.id.menu_item_notifications).apply {\n            backgroundColor = resources.getColor(R.color.red)\n            badgeTextColor = resources.getColor(R.color.white)\n            maxCharacterCount = 3\n            number = 10 //should be change\n            isVisible = true\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "edited": false, "score": 0, "creation_date": 1577448750, "post_id": 59495128, "comment_id": 105173615, "body": "What are <code>iconParent</code> and <code>iconContainer</code>?"}, {"owner": {"reputation": 114, "user_id": 11270882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qsAbFP9ygLE/AAAAAAAAAAI/AAAAAAAAATk/xU9aBfMkXmQ/photo.jpg?sz=128", "display_name": "\u5c39\u528d\u5e73", "link": "https://stackoverflow.com/users/11270882/%e5%b0%b9%e5%8a%8d%e5%b9%b3"}, "reply_to_user": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "edited": false, "score": 0, "creation_date": 1577670815, "post_id": 59495128, "comment_id": 105220723, "body": "Sorry for Typo. iconParent is a FrameLayout that sets BadgeDrawable to its foreground."}, {"owner": {"reputation": 162, "user_id": 5046642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ASAji1Hdci4/AAAAAAAAAAI/AAAAAAAAMq0/2xln0GaZtPg/photo.jpg?sz=128", "display_name": "Princeps Polycap", "link": "https://stackoverflow.com/users/5046642/princeps-polycap"}, "reply_to_user": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "edited": false, "score": 0, "creation_date": 1580494436, "post_id": 59495128, "comment_id": 106128835, "body": "@Mindgamer did any of these solutions work for you ?"}, {"owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "reply_to_user": {"reputation": 162, "user_id": 5046642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ASAji1Hdci4/AAAAAAAAAAI/AAAAAAAAMq0/2xln0GaZtPg/photo.jpg?sz=128", "display_name": "Princeps Polycap", "link": "https://stackoverflow.com/users/5046642/princeps-polycap"}, "edited": false, "score": 0, "creation_date": 1580682390, "post_id": 59495128, "comment_id": 106167264, "body": "@PrincepsPolycap no, nothing helped"}, {"owner": {"reputation": 162, "user_id": 5046642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ASAji1Hdci4/AAAAAAAAAAI/AAAAAAAAMq0/2xln0GaZtPg/photo.jpg?sz=128", "display_name": "Princeps Polycap", "link": "https://stackoverflow.com/users/5046642/princeps-polycap"}, "edited": false, "score": 0, "creation_date": 1580741649, "post_id": 59495128, "comment_id": 106186981, "body": "Here is a link to the solution someone posted for me that ended up working <a href=\"https://stackoverflow.com/questions/60009600/does-badgedrawable-not-work-for-views-within-a-framelayout-such-as-buttons-imag\" title=\"does badgedrawable not work for views within a framelayout such as buttons imag\">stackoverflow.com/questions/60009600/&hellip;</a>"}], "tags": [], "owner": {"reputation": 114, "user_id": 11270882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qsAbFP9ygLE/AAAAAAAAAAI/AAAAAAAAATk/xU9aBfMkXmQ/photo.jpg?sz=128", "display_name": "\u5c39\u528d\u5e73", "link": "https://stackoverflow.com/users/11270882/%e5%b0%b9%e5%8a%8d%e5%b9%b3"}, "is_accepted": false, "score": 0, "last_activity_date": 1577675932, "last_edit_date": 1577675932, "creation_date": 1577410960, "answer_id": 59495128, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing/59495128#59495128", "title": "Badge Drawable not showing", "body": "<p>I encountered the same problem.\nIt may be a bug in the Badge library.\nThis's work:</p>\n\n<pre><code>        badgeDrawable = BadgeDrawable.create(frameLayoutContainer.getContext());\n        frameLayoutContainer.setForeground(badgeDrawable);\n        frameLayoutContainer.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n            //\n            badgeDrawable.updateBadgeCoordinates(frameLayoutContainer, frameLayoutContainer);\n        });\n</code></pre>\n\n<p>frameLayoutContainer is a FrameLayout that sets BadgeDrawable to its foreground.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 5046642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ASAji1Hdci4/AAAAAAAAAAI/AAAAAAAAMq0/2xln0GaZtPg/photo.jpg?sz=128", "display_name": "Princeps Polycap", "link": "https://stackoverflow.com/users/5046642/princeps-polycap"}, "is_accepted": true, "score": 1, "last_activity_date": 1580742361, "creation_date": 1580742361, "answer_id": 60041900, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing/60041900#60041900", "title": "Badge Drawable not showing", "body": "<p>Here is the <a href=\"https://stackoverflow.com/a/60010998/5046642\">solution</a> posted by <a href=\"https://stackoverflow.com/users/5015207/0x0nosugar\">@0X0nosugar</a> on my <a href=\"https://stackoverflow.com/questions/60009600/does-badgedrawable-not-work-for-views-within-a-framelayout-such-as-buttons-imag\">question</a> so please go check out his answer and give him a thumbs up. Links placed above, thank you!</p>\n\n<p><code>BottomNavigationView.getOrCreateBadge()</code> does not only assign the <code>BadgeDrawable</code> as foreground Drawable, but it also sets the drawable bounds. Without this step, they stay at (0,0,0,0), so there is nothing to draw.</p>\n\n<p>In order to set the bounds, let's introduce an extension function for <code>BadgeDrawable</code></p>\n\n<pre><code>/**\n * Inspired by BadgeUtils in com.google.android.material library\n *\n * Sets the bounds of a BadgeDrawable \n */\nprivate fun BadgeDrawable.setBoundsFor(@NonNull anchor: View, @NonNull parent: FrameLayout){\n    val rect = Rect()\n    parent.getDrawingRect(rect)\n    this.setBounds(rect)\n    this.updateBadgeCoordinates(anchor, parent)\n}\n</code></pre>\n\n<p>Use this function with your BadgeDrawable for FrameLayout:</p>\n\n<pre><code>private fun setFindShiftBadge(state: HomeState) {\n    val findShiftsBadge = BadgeDrawable.create(this)\n    // configure the badge drawable\n    findShiftsBadge.badgeGravity = BadgeDrawable.TOP_END\n    findShiftsBadge.backgroundColor = resources.getColor(R.color.colorWhite)\n    findShiftsBadge.badgeTextColor = resources.getColor(R.color.colorPrimary)\n    findShiftsBadge.number = state.availableShifts.size\n    // set bounds inside which it will be drawn\n    findShiftsBadge.setBoundsFor(btn_badge, home_framelayout)\n    // assign as foreground drawable\n    home_framelayout.foreground = findShiftsBadge\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4eqqv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4eqqv.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 8185831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21357b93a438acb7fb6768f75c642147?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Yuan", "link": "https://stackoverflow.com/users/8185831/kevin-yuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1584597966, "creation_date": 1584597966, "answer_id": 60751730, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing/60751730#60751730", "title": "Badge Drawable not showing", "body": "<pre><code>    BadgeDrawable badgeDrawable = BadgeDrawable.create(this);\n    badgeDrawable.setNumber(15);\n\n    FrameLayout frameLayout = findViewById(R.id.framelayout);\n\n    ImageView imageView = findViewById(R.id.iv_center);\n\n    //core code\n    frameLayout.setForeground(badgeDrawable);\n    frameLayout.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n\n\n        //either of the following two lines of code  work\n        //badgeDrawable.updateBadgeCoordinates(imageView, frameLayout);\n        BadgeUtils.attachBadgeDrawable(badgeDrawable, imageView, frameLayout);\n    });\n\n\n\n\n\n    &lt;FrameLayout\n        android:id=\"@+id/framelayout\"\n        android:layout_width=\"150dp\"\n        android:layout_height=\"150dp\"&gt;\n\n        &lt;ImageView\n            android:layout_gravity=\"center\"\n            android:id=\"@+id/iv_center\"\n            android:layout_width=\"50dp\"\n            android:layout_height=\"50dp\"\n            android:scaleType=\"fitXY\"\n            android:src=\"@drawable/ic_beard\" /&gt;\n    &lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1595514273, "creation_date": 1595514273, "answer_id": 63056562, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing/63056562#63056562", "title": "Badge Drawable not showing", "body": "<p>You can apply the <code>BadgeDrawable</code> to a <code>MaterialCardView</code> or a <code>MaterialButton</code> using a layout as:</p>\n<pre><code>&lt;FrameLayout\n    android:id=&quot;@+id/layout&quot;\n    android:clipChildren=&quot;false&quot;\n    android:clipToPadding=&quot;false&quot;\n    ..&gt;\n\n        &lt;com.google.android.material.card.MaterialCardView\n            android:id=&quot;@+id/card&quot;\n            .../&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Then just use the method <strong><code>BadgeUtils.attachBadgeDrawable</code></strong>.</p>\n<p>For example with a <strong><code>CardView</code></strong>:</p>\n<pre><code>    MaterialCardView cardview = findViewById(R.id.card);\n    cardview.setClipToOutline(false);  //Important with a CardView\n\n    cardview.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            BadgeDrawable badgeDrawable = BadgeDrawable.create(MainActivity.this);\n            badgeDrawable.setNumber(15);\n            BadgeUtils.attachBadgeDrawable(badgeDrawable, cardview, findViewById(R.id.layout));\n\n            cardview.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n        }\n    });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tPheR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPheR.png\" alt=\"enter image description here\" /></a></p>\n<p>For a <strong><code>Button</code></strong>:</p>\n<pre><code>&lt;FrameLayout\n    android:id=&quot;@+id/layout&quot;\n    android:clipChildren=&quot;false&quot;\n    android:clipToPadding=&quot;false&quot;&gt;\n\n  &lt;com.google.android.material.button.MaterialButton\n      android:id=&quot;@+id/button&quot;\n      ../&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>and then a similar code:</p>\n<pre><code>    button.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            BadgeDrawable badgeDrawable = BadgeDrawable.create(MainActivity.this);\n            badgeDrawable.setNumber(7);\n            badgeDrawable.setBackgroundColor(......);\n            badgeDrawable.setVerticalOffset(20);\n            badgeDrawable.setHorizontalOffset(15);\n\n            BadgeUtils.attachBadgeDrawable(badgeDrawable, button, findViewById(R.id.layout));\n\n            button.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n        }\n    });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HQIaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQIaf.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2663, "favorite_count": 2, "accepted_answer_id": 60041900, "answer_count": 5, "score": 6, "last_activity_date": 1595514273, "creation_date": 1571170429, "last_edit_date": 1571170760, "question_id": 58402039, "link": "https://stackoverflow.com/questions/58402039/badge-drawable-not-showing", "title": "Badge Drawable not showing", "body": "<p>Why <a href=\"https://developer.android.com/reference/com/google/android/material/badge/BadgeDrawable\" rel=\"noreferrer\">BadgeDrawable</a> is not displayed anywhere? I'm trying to add on <code>MaterialCardView</code>, <code>MaterialButton</code> etc. It's not showing. Anyone have ideas how to fix this? Or have the same library that replacing this?</p>\n\n<p>Here's code:</p>\n\n<pre><code>val badgeDrawable = BadgeDrawable.create(holder.itemView.context)\nbadgeDrawable.number = 10\nbadgeDrawable.badgeGravity = BadgeDrawable.TOP_END\nbadgeDrawable.backgroundColor = holder.itemView.context.getColor(R.color.colorAccent)\nholder.itemView.home_cardview.overlay.add(badgeDrawable)\nbadgeDrawable.updateBadgeCoordinates(holder.itemView.home_cardview, null)\n</code></pre>\n\n<p>This method not working too: </p>\n\n<pre><code>BadgeUtils.attachBadgeDrawable(badgeDrawable, anchor, null);\n</code></pre>\n\n<p>By the way in new version compatBadgeParent is required field</p>\n"}, {"tags": ["kotlin", "functional-programming", "purely-functional", "prefix-sum"], "comments": [{"owner": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1571190255, "post_id": 58400452, "comment_id": 103154102, "body": "The helper function you&#39;d be looking for is often called <a href=\"https://hackage.haskell.org/package/base-4.12.0.0/docs/Data-List.html#v:scanl\" rel=\"nofollow noreferrer\">a <code>scan</code></a>, but does&#39;t appear to be available in Kotlin. You can emulate it though by building a linked list in a <code>fold</code> operation and reversing it afterwards (or doing <code>foldRight</code>)."}, {"owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "reply_to_user": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1588749409, "post_id": 58400452, "comment_id": 109014433, "body": "Update: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/scan.html\" rel=\"nofollow noreferrer\">scan</a> is available in Kotlin now, though it&#39;s temporarily experimental."}], "answers": [{"comments": [{"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 2, "creation_date": 1571170355, "post_id": 58401865, "comment_id": 103148976, "body": "It runs in <i>O(n^2)</i> because of the list connection running in <i>O(n)</i>."}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 1, "creation_date": 1571172052, "post_id": 58401865, "comment_id": 103149675, "body": "@Bananon Yes you are right, but this is only a problem of this list implementation. I could use Vavr or some other persistent list."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1571173450, "post_id": 58401865, "comment_id": 103150191, "body": "Could it be argued <code>fold</code> violates the definition of purely functional the OP gave? It basically provides a mutable variable to use alongside your function."}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 4, "creation_date": 1571174162, "post_id": 58401865, "comment_id": 103150436, "body": "@Tenfour04 <code>fold</code> doesn&#39;t provide a mutable variable, it only guarantees that it will give you the value which was returned at the previous step. You can even implement <code>fold</code> without using <code>var</code> keyword: <code>tailrec fun &lt;R&gt; IntArray.fold(initial: R, start: Int = 0, operation: (acc: R, Int) -&gt; R): R = if (start &lt; size) fold(operation(initial, this[start]), start + 1, operation) else initial</code>."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 1, "last_activity_date": 1571169581, "creation_date": 1571169581, "answer_id": 58401865, "question_id": 58400452, "link": "https://stackoverflow.com/questions/58400452/compute-all-prefix-sums-in-purely-functional-programming-style-in-on-time-in-k/58401865#58401865", "title": "Compute all prefix sums in purely functional programming style in O(n) time in Kotlin", "body": "<p>This solution meets all your requirements, for a functional style:</p>\n\n<pre><code>fun prefixSumsFunctional(numbers: IntArray): IntArray =\n    numbers.fold(listOf&lt;Int&gt;()) { result, el -&gt;\n        if (result.isEmpty()) {\n            result + el\n        } else {\n            result + (result.last() + el)\n        }\n    }.toIntArray()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "edited": false, "score": 2, "creation_date": 1571208068, "post_id": 58402404, "comment_id": 103158415, "body": "You could use <code>generateSequence</code> instead of <code>Stream.iterate</code>."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 1, "last_activity_date": 1571225404, "last_edit_date": 1571225404, "creation_date": 1571172256, "answer_id": 58402404, "question_id": 58400452, "link": "https://stackoverflow.com/questions/58400452/compute-all-prefix-sums-in-purely-functional-programming-style-in-on-time-in-k/58402404#58402404", "title": "Compute all prefix sums in purely functional programming style in O(n) time in Kotlin", "body": "<p>Unfortunately, solving this problem requires persistent stack, which is not presented in standard Kotlin library. But stack can be imitated with pairs:</p>\n\n<pre><code>fun prefixSumsFunctionalPuzzler(numbers: IntArray): IntArray =\n    generateSequence(numbers.fold(Any() to 0) { stack, value -&gt;\n        stack to stack.second + value\n    }) { it.first as Pair&lt;Any, Int&gt; }\n        .map { it.second }\n        .take(numbers.size)\n        .toList().asReversed().toIntArray()\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 5082913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2643625611a7dda0fe37cf1dc9513f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Shreck Ye", "link": "https://stackoverflow.com/users/5082913/shreck-ye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "accepted_answer_id": 58402404, "answer_count": 2, "score": 4, "last_activity_date": 1571225404, "creation_date": 1571163160, "question_id": 58400452, "link": "https://stackoverflow.com/questions/58400452/compute-all-prefix-sums-in-purely-functional-programming-style-in-on-time-in-k", "title": "Compute all prefix sums in purely functional programming style in O(n) time in Kotlin", "body": "<p>Is it possible to compute all prefix sums for an array of numbers in <a href=\"https://en.wikipedia.org/wiki/Purely_functional_programming\" rel=\"nofollow noreferrer\">purely functional programming</a> style in O(n) time in Kotlin?</p>\n\n<p>What I mean by purely functional programming is allowing using functional programming extension functions for collections only, such as <code>map</code>, <code>reduce</code>, <code>fold</code>, <code>sum</code>, etc. in <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/common/src/generated/_Collections.kt\" rel=\"nofollow noreferrer\">_Collections,kt</a>, while traditional imperative programming methods involving changing state and mutable data such as ordinary loops, mutable variables aka <code>var</code>s, and mutable arrays are not allowed. (I think this conforms to the definition on Wikipedia)</p>\n\n<p>To be more specific, here are one example of what I want to achieve written in imperative programming that runs in O(n) time, and another in functional programming that runs in O(n^2) time.</p>\n\n<pre><code>fun prefixSumsImperative(numbers: IntArray): IntArray {\n    val prefixSums = IntArray(numbers.size)\n    var prefixSum = 0\n    for ((i, number) in numbers.withIndex()) {\n        prefixSum += number\n        prefixSums[i] = prefixSum\n    }\n    return prefixSums\n}\n\nfun prefixSumsFunctionalONSquared(numbers: IntArray): IntArray =\n    (0 until numbers.size).map { numbers.take(it).sum() }.toIntArray()\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1571160397, "post_id": 58399752, "comment_id": 103144955, "body": "Remove &#39;val&#39; from val recyclerView = viewOfLayout. ... Inside onCreateView"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 4700700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/brSg6.jpg?s=128&g=1", "display_name": "mlthlschr", "link": "https://stackoverflow.com/users/4700700/mlthlschr"}, "is_accepted": true, "score": 1, "last_activity_date": 1593187753, "last_edit_date": 1593187753, "creation_date": 1571162804, "answer_id": 58400375, "question_id": 58399752, "link": "https://stackoverflow.com/questions/58399752/kotlin-recyclerview-on-fragment/58400375#58400375", "title": "Kotlin recyclerview on Fragment", "body": "<p>I guess it is connected to the fact, that you are inflating your view twice. First of all you inflate it within <code>onCreateView</code> to <code>viewOfLayout</code>, then you are returning <code>inflater.inflate(R.layout.fragment_tareas_generales, container, false)</code>. I guess all your changes within <code>onCreateView</code> are null and void as soon as you are returning a newly inflated view.</p>\n<ul>\n<li>Why are you not using the kotlin view binding? It is quite convenient.</li>\n<li>if you would, you could simply use the ids of your recyclerView as stated in the layout you are using (<code>R.layout.fragment_tareas_generales</code>)</li>\n<li>maybe you should try to do all the view layout and adapter stuff in <code>onViewCreated</code></li>\n</ul>\n"}], "owner": {"reputation": 55, "user_id": 9115487, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659906697408708/picture?type=large", "display_name": "Paul Guerrero", "link": "https://stackoverflow.com/users/9115487/paul-guerrero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 0, "accepted_answer_id": 58400375, "answer_count": 1, "score": 0, "last_activity_date": 1593187753, "creation_date": 1571160026, "question_id": 58399752, "link": "https://stackoverflow.com/questions/58399752/kotlin-recyclerview-on-fragment", "title": "Kotlin recyclerview on Fragment", "body": "<p>Im trying to show a recyclerview of a list that is fed by a volley api request on  a fragment but cant and everytime it returns this error \"lateinit property tareas view has not been initialized fragment\", </p>\n\n<p>I tried using findviewbyid  to declare the recyclerview it results in \"unresolved reference\"</p>\n\n<p>Here is the code of the fragment: </p>\n\n<pre><code>private lateinit var prefs: SharedPreferences\n//private lateinit var tareaAdapter: TareaAdapter\nprivate lateinit var viewOfLayout: View\nprivate var listener: OnFragmentInteractionListener? = null\nprivate lateinit  var recyclerView: RecyclerView\nprivate lateinit var tareas: ArrayList&lt;Tarea&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    viewOfLayout = inflater!!.inflate(R.layout.fragment_tareas_generales, container, false)\n    prefs = PreferenceManager.getDefaultSharedPreferences(activity!!.applicationContext)\n\n    val recyclerView = viewOfLayout.findViewById&lt;RecyclerView&gt;(R.id.rvGeneralTareas)\n    recyclerView.layoutManager = androidx.recyclerview.widget.LinearLayoutManager(\n        this@TareasGeneralesFragment.context!!,\n        LinearLayout.VERTICAL,\n        false\n    )\n    getTareaGenerales()\n    val adapter = TareaAdapter(tareas)\n    recyclerView.adapter = adapter\n    return inflater.inflate(R.layout.fragment_tareas_generales, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n}\n\nprivate fun getTareaGenerales() {\n    val recyclerView = viewOfLayout.findViewById&lt;RecyclerView&gt;(R.id.rvGeneralTareas)\n    if (!NetworkUtils.isConnected(this@TareasGeneralesFragment.context!!)) {\n        Toast.makeText(this@TareasGeneralesFragment.context!!, R.string.error_internet2, \n     Toast.LENGTH_LONG).show()\n    } else {\n        val queue = Volley.newRequestQueue(this@TareasGeneralesFragment.context!!)\n        val URL = \"${Utils.URL_SERVER}guardias/tareas\"\n        val stringRequest = object : StringRequest(Method.GET, URL, Response.Listener&lt;String&gt; { \n           response -&gt;\n            try {\n                var strResp = response.toString()\n                val jsonObj: JSONObject = JSONObject(strResp)\n                val jsonArray = jsonObj.getJSONArray(\"tareas\")\n\n                Log.d(\"paso\",\"Connected to tareas generales $strResp\")\n\n                for (i in 0 until jsonArray.length()) {\n                    var jsonInner: JSONObject = jsonArray.getJSONObject(i)\n                    val id_tarea = jsonInner.get(\"id_tarea\").toString().toInt()\n                    val descripcion = jsonInner.get(\"descripcion\").toString()\n                    Log.d(\"add\",\"$id_tarea,$descripcion\")\n                    tareas.add(Tarea(id_tarea,descripcion))\n                }\n                val adapter = TareaAdapter(tareas)\n                recyclerView.adapter = adapter\n            } catch (e: Exception) {\n                e.printStackTrace()\n                Toast.makeText(this@TareasGeneralesFragment.context!!, resources.getString(R.string.error_general), Toast.LENGTH_LONG).show()\n            }\n        }, Response.ErrorListener { error -&gt;\n            try {\n                error.printStackTrace()\n                Toast.makeText(this@TareasGeneralesFragment.context!!, JSONObject(String(error.networkResponse.data)).getString(\"message\"), Toast.LENGTH_LONG).show()\n            } catch (e: Exception) {\n                Toast.makeText(this@TareasGeneralesFragment.context!!, resources.getString(R.string.error_general), Toast.LENGTH_LONG).show()\n            }\n        }) {\n            override fun getHeaders(): MutableMap&lt;String, String&gt; {\n                val headers = HashMap&lt;String, String&gt;()\n                headers.put(\"token\", prefs.getString(\"api_key\", \"\")!!)\n                return headers\n            }\n        }\n        stringRequest.retryPolicy = DefaultRetryPolicy(180000, 1, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT)\n        queue.add(stringRequest)\n    }\n}\n\ncompanion object {\n    fun newInstance(): TareasGeneralesFragment {\n        return TareasGeneralesFragment()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "scope", "singleton"], "owner": {"reputation": 11, "user_id": 12221860, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCcBqvQV_afu-VtVXxvwcuUNUG1elCjXxJ7OuSiqw=k-s128", "display_name": "Shashwat Sharma", "link": "https://stackoverflow.com/users/12221860/shashwat-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571158346, "creation_date": 1571158346, "question_id": 58399382, "link": "https://stackoverflow.com/questions/58399382/kodein-scoped-singleton-do-not-persists-when-injected-from-multiple-classes", "title": "Kodein scoped singleton do not persists when injected from multiple classes", "body": "<p>I am trying to inject the singleton dependencies of config manager in different modules for which I c created a Scope and Context containing StandardScopeRegistry. But it doesn't work. Following is the sample code: </p>\n\n<p><strong>Approach 1</strong></p>\n\n<p>class A.kt</p>\n\n<pre><code>import org.kodein.di.bindings.Scope\nimport org.kodein.di.bindings.ScopeRegistry\nimport org.kodein.di.bindings.StandardScopeRegistry\n\nobject SingletonScope : Scope&lt;GlobalKodeinContext&gt; {\n\n    override fun getRegistry(context: GlobalKodeinContext): ScopeRegistry =\n            context.standardScopeRegistry as? ScopeRegistry\n                    ?: StandardScopeRegistry().also { context.standardScopeRegistry = it }\n\n}\n\nclass GlobalKodeinContext {\n\n    var standardScopeRegistry = StandardScopeRegistry()\n\n}\n\n</code></pre>\n\n<p>Bindings.kt</p>\n\n<pre><code>val deploymentConfigManagerBinding = Kodein.Module(\"deployment_config_manager\", false) {\n      bind&lt;IConfigManager&gt;() with scoped(SingletonScope).singleton { ConfigManager() }\n}\n\n</code></pre>\n\n<p>class B.kt</p>\n\n<pre><code>private val configManager: IConfigManager by kodein.on(context = GlobalKodeinContext()).instance&lt;IConfigManager&gt;()\n\nconfigManager.initializeConfigs(values)\n</code></pre>\n\n<p>class C.kt</p>\n\n<pre><code>private val configManager: IConfigManager by kodein.on(context = GlobalKodeinContext()).instance&lt;IConfigManager&gt;()\n\nconfigManager.getConfigs()\n</code></pre>\n\n<p><strong>Approach 2</strong> <em>I do not prefer static context objects, but tried anyway as nothing works</em></p>\n\n<p>GlobalKodeinContext.kt</p>\n\n<pre><code>class GlobalKodeinContext {\n    companion object {\n        var appContext: Application? = null //Setting this in MainApplication with `this`\n    }\n}\n</code></pre>\n\n<p>Bindings.kt</p>\n\n<pre><code>val deploymentConfigManagerBinding = Kodein.Module(\"deployment_config_manager\", false) {\n    bind&lt;IConfigManager&gt;() with scoped(WeakContextScope.of&lt;Application&gt;()).singleton { ConfigManager() }\n\n    registerContextTranslator { context: Application -&gt; context.applicationContext }\n}\n\n</code></pre>\n\n<p>A.kt</p>\n\n<pre><code>override val kodeinContext = kcontext(GlobalKodeinContext.appContext)\n\nprivate val configManager: IConfigManager by instance()\n\nconfigManager.initializeConfigs(values)\n</code></pre>\n\n<p>B.kt</p>\n\n<pre><code>override val kodeinContext = kcontext(GlobalKodeinContext.appContext)\n\nprivate val configManager: IConfigManager by instance()\n\nconfigManager.getConfigs()\n</code></pre>\n\n<p>configManager.getConfigs() gives null pointer exception in both approaches as the configurations are not initialized for the singleton object injected in class C.</p>\n\n<p>I believe the context creation is incorrect. Please help. Thank you!</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2751, "user_id": 691626, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8d2a2d3c0af7616f6dc8878ff060ac39?s=128&d=identicon&r=PG", "display_name": "Dino Tw", "link": "https://stackoverflow.com/users/691626/dino-tw"}, "reply_to_user": {"reputation": 11, "user_id": 12209261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDIUo3nGHOVUCO4lvdf9YqCt9OX9Jv-WpmaIYU6dQ=k-s128", "display_name": "ScreaMY", "link": "https://stackoverflow.com/users/12209261/screamy"}, "edited": false, "score": 0, "creation_date": 1571164787, "post_id": 58399796, "comment_id": 103146809, "body": "Did you instantiate the Fragment like this <code>MyFragment.newInstance(123)</code>?"}, {"owner": {"reputation": 11, "user_id": 12209261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDIUo3nGHOVUCO4lvdf9YqCt9OX9Jv-WpmaIYU6dQ=k-s128", "display_name": "ScreaMY", "link": "https://stackoverflow.com/users/12209261/screamy"}, "edited": false, "score": 0, "creation_date": 1571164981, "post_id": 58399796, "comment_id": 103146898, "body": "Yes, in OnCreate() in the Activity"}], "tags": [], "owner": {"reputation": 2751, "user_id": 691626, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8d2a2d3c0af7616f6dc8878ff060ac39?s=128&d=identicon&r=PG", "display_name": "Dino Tw", "link": "https://stackoverflow.com/users/691626/dino-tw"}, "is_accepted": false, "score": 1, "last_activity_date": 1571160239, "creation_date": 1571160239, "answer_id": 58399796, "question_id": 58399103, "link": "https://stackoverflow.com/questions/58399103/i-need-to-output-data-from-activity-to-a-fragment/58399796#58399796", "title": "I need to output data from activity to a fragment", "body": "<p>You have <code>putInt</code> in assignment but you do <code>getString</code> when trying to retrieve the value.</p>\n"}], "owner": {"reputation": 11, "user_id": 12209261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDIUo3nGHOVUCO4lvdf9YqCt9OX9Jv-WpmaIYU6dQ=k-s128", "display_name": "ScreaMY", "link": "https://stackoverflow.com/users/12209261/screamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571162037, "creation_date": 1571157141, "last_edit_date": 1571162037, "question_id": 58399103, "link": "https://stackoverflow.com/questions/58399103/i-need-to-output-data-from-activity-to-a-fragment", "title": "I need to output data from activity to a fragment", "body": "<p>When the application starts, null is displayed.</p>\n\n<p>I think that I am not correctly assigning a value to the TextView.</p>\n\n<pre><code>class MyFragment : Fragment() {\n    private lateinit var textView: TextView\n\n    companion object {\n        private val TEXT_FIELD = \"text_field\"\n        @JvmStatic\n        fun newInstance(text_field: Int) = MyFragment().apply {\n                        arguments = Bundle().apply {\n                            putInt(TEXT_FIELD, text_field)\n                        }\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_my, container, false)\n\n        textView = view!!.findViewById(R.id.text_view)\n        textView.text = \"${arguments?.getInt(TEXT_FIELD)}\"\n\n        return view\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "illegalargumentexception", "non-nullable"], "comments": [{"owner": {"reputation": 2458, "user_id": 3027124, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/FAY1V.jpg?s=128&g=1", "display_name": "Mustansar Saeed", "link": "https://stackoverflow.com/users/3027124/mustansar-saeed"}, "edited": false, "score": 0, "creation_date": 1571157420, "post_id": 58398703, "comment_id": 103143736, "body": "Have you checked <code>data.getData()</code> is returning the <code>Uri</code>. Secondly, On which OS you are running?"}, {"owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "reply_to_user": {"reputation": 2458, "user_id": 3027124, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/FAY1V.jpg?s=128&g=1", "display_name": "Mustansar Saeed", "link": "https://stackoverflow.com/users/3027124/mustansar-saeed"}, "edited": false, "score": 0, "creation_date": 1571157697, "post_id": 58398703, "comment_id": 103143855, "body": "@MustansarSaeed Yes I toasted the Uri. Its showing the proper location. I am currently using this on oreo."}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 0, "creation_date": 1571158077, "post_id": 58398957, "comment_id": 103144027, "body": "Is there a way to resolve this in the code itself? Because the library has been dead past year"}, {"owner": {"reputation": 1383, "user_id": 3103067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73734922ce42fbe157ad4d5fa145915e?s=128&d=identicon&r=PG&f=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/3103067/jannik"}, "reply_to_user": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 1, "creation_date": 1571158248, "post_id": 58398957, "comment_id": 103144098, "body": "One workaround would probably be to do the same things the library does and call the lib function only if your checks succeeded. But that&#39;s not really the most elegant solution. Alternatively you could fork the library and just fix it yourself. I don&#39;t really know of any other good approached to the problem."}, {"owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 0, "creation_date": 1571158488, "post_id": 58398957, "comment_id": 103144186, "body": "I tried using this <a href=\"https://stackoverflow.com/a/10564727/11428585\">stackoverflow.com/a/10564727/11428585</a> . Is this the correct way? Because now its not throwing errors"}, {"owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 0, "creation_date": 1571163379, "post_id": 58398957, "comment_id": 103146230, "body": "But the image is not visible in the view! :("}, {"owner": {"reputation": 1383, "user_id": 3103067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73734922ce42fbe157ad4d5fa145915e?s=128&d=identicon&r=PG&f=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/3103067/jannik"}, "reply_to_user": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 0, "creation_date": 1571166201, "post_id": 58398957, "comment_id": 103147422, "body": "The answer by Jitendra ramoliya looks somewhat similar to the getUriPath function in the library example. But i can&#39;t help you with that because I&#39;ve never used the library. You could try to translate the example code to Java, test if it works and then integrate it in your app"}, {"owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "edited": false, "score": 0, "creation_date": 1571167074, "post_id": 58398957, "comment_id": 103147743, "body": "Ok i will try it!"}], "tags": [], "owner": {"reputation": 1383, "user_id": 3103067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73734922ce42fbe157ad4d5fa145915e?s=128&d=identicon&r=PG&f=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/3103067/jannik"}, "is_accepted": false, "score": 0, "last_activity_date": 1571157284, "last_edit_date": 1571157284, "creation_date": 1571156527, "answer_id": 58398957, "question_id": 58398703, "link": "https://stackoverflow.com/questions/58398703/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-erro/58398957#58398957", "title": "java.lang.IllegalArgumentException: Parameter specified as non-null is null error in Java code", "body": "<p>After closer inspection of the stack trace you'll notice that the error arises in <code>KfilterMediaFile</code>. The following is the relevant section:</p>\n\n<pre><code>val extension = path.split(\".\").last()\nval mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension)\n\nwhen {\n    mimeType.startsWith(\"video\") -&gt; processAsVideo() // the error arises here\n    mimeType.startsWith(\"image\") -&gt; processAsImage()\n    else -&gt; error = MediaError.ERROR_INVALID_FILE_TYPE\n}\n</code></pre>\n\n<p>The <code>mimeType</code> is null if the <code>MimeTypeMap</code> could not map the file extension to a mime type. Therefore I'd recommend that you check that the type of your file is correct. If it is you could ask the library maintainer about the problem, such that this case is handled more gracefully.</p>\n"}], "owner": {"reputation": 317, "user_id": 11443555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da0b0187a8f741b5adc4629a0ffa64c?s=128&d=identicon&r=PG&f=1", "display_name": "raghhav", "link": "https://stackoverflow.com/users/11443555/raghhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571162045, "creation_date": 1571155493, "last_edit_date": 1571162045, "question_id": 58398703, "link": "https://stackoverflow.com/questions/58398703/java-lang-illegalargumentexception-parameter-specified-as-non-null-is-null-erro", "title": "java.lang.IllegalArgumentException: Parameter specified as non-null is null error in Java code", "body": "<p>I am using <a href=\"https://github.com/isaac-udy/Kfilter\" rel=\"nofollow noreferrer\">this Kfilter library</a> for adding filters in my code written in JAVA.</p>\n\n<p>I am getting this error <code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull</code> while adding the image to the Imageview.</p>\n\n<p>This is my code:</p>\n\n<pre><code>    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if(requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK){\n            if (data == null) {\n                showMessage(\"Failed to open picture!\");\n                return;\n            }\n            else\n                {\n                resultUri = data.getData();\n\n                kfilter.setContentPath(resultUri.toString()); //Error occurs here\n                kfilter.setFilters(filter);\n\n\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code> java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { dat=content://com.google.android.apps.photos.contentprovider/0/1/content://media/external/images/media/120425/ORIGINAL/NONE/916748167 flg=0x1 clip={text/uri-list U:content://com.google.android.apps.photos.contentprovider/0/1/content%3A%2F%2Fmedia%2Fexternal%2Fimages%2Fmedia%2F120425/ORIGINAL/NONE/916748167} }} to activity {com.unit.helloworld/com.unit.helloworld.CompetitionPackage.AddNewPhotoAcivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter $this$startsWith\n        at android.app.ActivityThread.deliverResults(ActivityThread.java:4596)\n        at android.app.ActivityThread.handleSendResult(ActivityThread.java:4638)\n        at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1976)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6912)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:860)\n     Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter $this$startsWith\n        at kotlin.text.StringsKt__StringsJVMKt.startsWith(Unknown Source:2)\n        at kotlin.text.StringsKt__StringsJVMKt.startsWith$default(StringsJVM.kt:332)\n        at com.isaacudy.kfilter.KfilterMediaFile.&lt;init&gt;(KfilterMediaFile.kt:32)\n        at com.isaacudy.kfilter.KfilterView.setContentPath(KfilterView.kt:98)\n        at com.unit.helloworld.CompetitionPackage.AddNewPhotoAcivity.onActivityResult(AddNewPhotoAcivity.java:208)\n        at android.app.Activity.dispatchActivityResult(Activity.java:7468)\n</code></pre>\n\n<p>All I can find is to add <code>?</code> to the code. But I have written in Java and the library is developed in kotlin.\nHow to solve this?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-pagetransformer", "android-viewpager2"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1571201620, "post_id": 58398356, "comment_id": 103156240, "body": "Please share the code of your <code>ZoomOutPageTransformer</code> class, meanwhile check this  <a href=\"https://stackoverflow.com/a/58056129/7666442\">stackoverflow.com/a/58056129/7666442</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12221228"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1571213839, "post_id": 58398356, "comment_id": 103161281, "body": "I used the same class in the doc <a href=\"https://developer.android.com/training/animation/screen-slide-2#zoom-out\" rel=\"nofollow noreferrer\">developer.android.com/training/animation/&hellip;</a> The problem is when call notifyDataSetChanged, the views get placed every where"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1571214622, "post_id": 58398356, "comment_id": 103161714, "body": "Have you checked this solution <a href=\"https://stackoverflow.com/a/58056129/7666442\">stackoverflow.com/a/58056129/7666442</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12221228"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1571226103, "post_id": 58398356, "comment_id": 103167928, "body": "I tested this solution, the same problem appears"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 9170741, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FGuXV3DvO4I/AAAAAAAAAAI/AAAAAAABBSc/DsDCCXgbifM/photo.jpg?sz=128", "display_name": "Z.J Hung", "link": "https://stackoverflow.com/users/9170741/z-j-hung"}, "is_accepted": false, "score": 4, "last_activity_date": 1589530361, "creation_date": 1589530361, "answer_id": 61814693, "question_id": 58398356, "link": "https://stackoverflow.com/questions/58398356/why-notifydatasetchanged-blow-up-pagertransformer-in-viewpager2/61814693#61814693", "title": "Why notifyDataSetChanged blow up PagerTransformer in ViewPager2?", "body": "<p>did you find any solution?</p>\n\n<p>For me, I have to call <code>ViewPager2</code>'s <code>requestTransform()</code> function.\nBut I need to <code>post</code> the function call after adatper.<code>notifyDataSetChanged()</code>.</p>\n\n<pre><code>...\nadapter.notifyDataSetChanged()\nvb.viewpager.post {\n    // I am using Fragment, and I get some crashes while I am switching tabs/fragments,\n    // so here I reference the `nullable` _vb property\n    _vb?.viewpager?.requestTransformation()\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 314, "user_id": 6445611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZtvY8loIWjE/AAAAAAAAAAI/AAAAAAAAAXE/Ul2cnfvo_II/photo.jpg?sz=128", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0443\u043d\u0434\u0440\u044e\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/6445611/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%9a%d1%83%d0%bd%d0%b4%d1%80%d1%8e%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 1, "last_activity_date": 1606747160, "creation_date": 1606747160, "answer_id": 65075596, "question_id": 58398356, "link": "https://stackoverflow.com/questions/58398356/why-notifydatasetchanged-blow-up-pagertransformer-in-viewpager2/65075596#65075596", "title": "Why notifyDataSetChanged blow up PagerTransformer in ViewPager2?", "body": "<p>You should to read the api doc:</p>\n<pre><code> /**\n * Sets a {@link PageTransformer} that will be called for each attached page whenever the\n * scroll position is changed. This allows the application to apply custom property\n * transformations to each page, overriding the default sliding behavior.\n * &lt;p&gt;\n * Note: setting a {@link PageTransformer} disables data-set change animations to prevent\n * conflicts between the two animation systems. Setting a {@code null} transformer will restore\n * data-set change animations.\n * ...\n */\npublic void setPageTransformer(@Nullable PageTransformer transformer) {}\n</code></pre>\n<p>To fix it try to reset Page Transformer:</p>\n<pre><code>pager.setPageTransformer(null)\nadapter.notifyDataSetChanged()\npager.setPageTransformer(myPageTransformer)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12221228"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1606747160, "creation_date": 1571154121, "question_id": 58398356, "link": "https://stackoverflow.com/questions/58398356/why-notifydatasetchanged-blow-up-pagertransformer-in-viewpager2", "title": "Why notifyDataSetChanged blow up PagerTransformer in ViewPager2?", "body": "<p>I am using <a href=\"https://developer.android.com/jetpack/androidx/releases/viewpager2\" rel=\"noreferrer\">ViewPager2</a> version 1.0.0-beta05, with a RecyclerView.Adapter, and <a href=\"https://developer.android.com/training/animation/screen-slide-2\" rel=\"noreferrer\">ZoomOutPageTransformer</a>, I found that when we call notifyDataSetChanged, the ViewPager view blow up.</p>\n\n<p>In Version 1.0.0-alpha01, they said that notifyDataSetChanged fully functional (VP1 bugs addressed)</p>\n\n<p><a href=\"https://i.stack.imgur.com/qCgGm.png\" rel=\"noreferrer\">Blowed view</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HUu0I.png\" rel=\"noreferrer\">Normal behavior</a></p>\n\n<pre><code>        pagerAdapter?.clickListener = this\n        with(pager) {\n            clipToPadding = false\n            clipChildren = false\n            offscreenPageLimit = 3\n        }\n        pager.adapter = pagerAdapter\n        pager.setPageTransformer(ZoomOutPageTransformer())\n\n\n        GlobalScope.launch(Dispatchers.Main) {\n            // launch a new coroutine in background and continue\n            repeat(15) {\n                delay(5000L) // non-blocking delay for 1 second (default time unit is ms)\n                Log.e(\"hello\", \"notify\")\n                pagerAdapter?.notifyDataSetChanged()\n            }\n        }\n</code></pre>\n\n<p>I didn't change the datasource, I just made this small test and the problem still persist, the view get been resized ugly randomly after each call of notifyDataSetChanged.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1571153769, "post_id": 58398181, "comment_id": 103141907, "body": "Contracts are basically hints for the compiler. See <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#contracts\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/whatsnew13.html#contracts</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "edited": false, "score": 0, "creation_date": 1571212185, "post_id": 58398368, "comment_id": 103160438, "body": "The whole idea of architecture samples is to showcase best practices. But when adding contracts where they don&#39;t have a clear use case makes things only unnecessary complex because in this example you don&#39;t initialize a val. If I understand you correctly, in the same project in the DefaultTasksRepositoryTest.kt there is a line: val completedTask = task1.copy().apply { isCompleted = true }. This would be a valid use case, to initialize a var on a object?"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "edited": false, "score": 0, "creation_date": 1571237162, "post_id": 58398368, "comment_id": 103174931, "body": "They aren&#39;t using <code>apply</code> here because <code>apply</code> has a contract. For all I know, this code in the library predates Kotlin 1.3. They are most likely using <code>apply</code> here because it is a Kotlin convention to initialize an object and then immediately configure it with <code>apply</code>. Personally, I think it&#39;s questionable to use it if the configuration is only one line, but that&#39;s a style choice."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "edited": false, "score": 0, "creation_date": 1571237459, "post_id": 58398368, "comment_id": 103175132, "body": "The primary purpose of <code>apply</code> is configuring an object without repeating the name of its variable. It also lets you create and configure an object to pass to a nullable property without doing null checks. The contract that was added later lets you do additional stuff with <code>apply</code> that is probably uncommon."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 2, "last_activity_date": 1571155798, "last_edit_date": 1571155798, "creation_date": 1571154149, "answer_id": 58398368, "question_id": 58398181, "link": "https://stackoverflow.com/questions/58398181/what-is-the-use-case-for-kotlin-contracts-in-android-development/58398368#58398368", "title": "What is the use case for Kotlin contracts in Android development", "body": "<p>Contracts were added in Kotlin 1.3, but <code>apply</code> has been around forever. The contracts are only compiler hints, and allow functions like <code>apply</code> to have additional use cases (like the ability to initialize a <code>val</code>). </p>\n\n<p><code>apply</code> is more commonly used for code conciseness. Your example is an edge case where it's debatable whether the code is cleaner with it. If you're calling a series of set-up functions on an object, it's more obviously helpful for clarity and conciseness.</p>\n"}], "owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571155798, "creation_date": 1571153487, "question_id": 58398181, "link": "https://stackoverflow.com/questions/58398181/what-is-the-use-case-for-kotlin-contracts-in-android-development", "title": "What is the use case for Kotlin contracts in Android development", "body": "<p>I've been investigating Google's Architecture samples. </p>\n\n<p><a href=\"https://github.com/android/architecture-samples/tree/master\" rel=\"nofollow noreferrer\">https://github.com/android/architecture-samples/tree/master</a></p>\n\n<p>And what I noticed is a lot of use of <code>contracts</code></p>\n\n<p>For example: in <code>TasksActivity</code> we find this code:</p>\n\n<pre><code>private fun setupNavigationDrawer() {\n    drawerLayout = (findViewById&lt;DrawerLayout&gt;(R.id.drawer_layout))\n        .apply {\n            setStatusBarBackground(R.color.colorPrimaryDark)\n        }\n}\n</code></pre>\n\n<p>and before <code>contracts</code> we would write it like this:</p>\n\n<pre><code>private fun setupNavigationDrawer() {\n    drawerLayout = (findViewById(R.id.drawer_layout))\n    drawerLayout.setStatusBarBackground(R.color.colorPrimaryDark)\n}\n</code></pre>\n\n<p>When clicking <code>apply</code> we see <code>InvocationKind.EXACTLY_ONCE</code> which appears that this contract makes sure that the <code>setStatusBarBackground</code> method is only called once.</p>\n\n<p>What is the practical benefit of this checking and when should it be used? Because it is more code and less readable in my opinion.</p>\n"}, {"tags": ["java", "android", "kotlin", "nullable"], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 4928318, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BNPKxlHTYDk/AAAAAAAAAAI/AAAAAAAABZM/kq6OIhQgoa8/photo.jpg?sz=128", "display_name": "ArpitA", "link": "https://stackoverflow.com/users/4928318/arpita"}, "is_accepted": false, "score": 2, "last_activity_date": 1571223249, "last_edit_date": 1571223249, "creation_date": 1571168850, "answer_id": 58401710, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58401710#58401710", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<p>Unlike Kotlin , Java objects by default can accept null values </p>\n\n<p><strong>@Nullable</strong> annotation is just used for operations like code analysers (for eg. if the @Nullable parameter is not handled inside the method then it will show warning)</p>\n\n<p><strong>@NonNull</strong> annotation is used to specify that the value received can't/won't be null </p>\n\n<pre><code>if(@NonNull){\n      can omit ? check\n}else if(@Nullable){\n     Mandatory to put ? check\n}else(No annotation){\n     Not mandatory but put on safer side .\n     Passing null from Java into Kotlin fun without ? will lead to NPE\n    if(putting ? check){\n     java equivalent Kotlin param  (@Nullable Webview view)\n    } else{\n     java equivalent Kotlin param (@NonNull Webview view)\n    }\n\n}\n</code></pre>\n\n<p>Also Refer this : <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#null-safety\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#null-safety</a></p>\n"}, {"tags": [], "owner": {"reputation": 1795, "user_id": 7160898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LGfPx.jpg?s=128&g=1", "display_name": "Jimale Abdi", "link": "https://stackoverflow.com/users/7160898/jimale-abdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1571335236, "creation_date": 1571335236, "answer_id": 58438352, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58438352#58438352", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<blockquote>\n  <p>They are not specified as nullable annotation in the Java code.</p>\n</blockquote>\n\n<p>If that's true note that you risk throwing a <code>NullPointerException</code> if not specified as nullable annotation in the Java code and assign a null value. \nso remove the nullability from the overridden method if not specified as nullable annotation in the Java code.</p>\n\n<p>For more detail read <a href=\"https://developer.android.com/kotlin/common-patterns\" rel=\"nofollow noreferrer\">this</a> also <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">this</a></p>\n"}, {"tags": [], "owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "is_accepted": true, "score": 8, "last_activity_date": 1571385839, "last_edit_date": 1571385839, "creation_date": 1571350997, "answer_id": 58441467, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58441467#58441467", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<p>The source of this issue comes from <strong>Interoperability between Java and Kotlin</strong>. There are some basic language level differences between <code>Java</code> and <code>Kotlin</code> which causes interoperability issues. Android Studio provides some <code>Lint</code> checks to warn them, such as <code>Unknown Nullness</code>. (<a href=\"https://developer.android.com/kotlin/interop#supported_checks\" rel=\"noreferrer\">reference</a>)</p>\n\n<p><br/>\n<a href=\"https://i.stack.imgur.com/MdWn0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MdWn0.png\" alt=\"enter image description here\"></a></p>\n\n<p>By taking a look at details of <code>Unknown nullness</code> Lint check from <a href=\"http://tools.android.com/tips/lint-checks\" rel=\"noreferrer\">android.com</a>, we see that:</p>\n\n<blockquote>\n  <p>To improve referencing code from <code>Kotlin</code>, consider adding\n  explicit nullness information here with either <code>@NonNull</code> or <code>@Nullable</code>.</p>\n</blockquote>\n\n<p><br/>\nand on <a href=\"https://developer.android.com/kotlin/common-patterns#platform-types\" rel=\"noreferrer\">developer.android.com</a>:</p>\n\n<blockquote>\n  <p>If you use <code>Kotlin</code> to reference an unannotated name member that is defined in a <code>Java</code> class (<em>e.g.</em> a <code>String</code>), the compiler doesn't know whether the <code>String</code> maps to a <code>String</code> or a <code>String?</code> in <code>Kotlin</code>. This ambiguity is represented via a <strong>platform type</strong>, <code>String!</code>.</p>\n</blockquote>\n\n<p><br/>\nand on <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">kotlinlang.org</a>:</p>\n\n<blockquote>\n  <p>Any reference in <code>Java</code> may be <strong>null</strong>, which makes <code>Kotlin</code>'s requirements of strict null-safety impractical for objects coming from <code>Java</code>. Types of <code>Java</code> declarations are treated specially in <code>Kotlin</code> and called <strong>platform types</strong>.</p>\n</blockquote>\n\n<p><br/>\nTherefore, when we override a <code>Java</code> method that its arguments are not annotated with nullity annotations, the IDE adds nullable sign (<code>?</code>) for arguments in <code>Kotlin</code> class. It leads to <strong>avoid throwing</strong> <code>NullPointerException</code> when the method is called in <code>Java</code> by passing a <code>null</code> value for one of the arguments.</p>\n\n<pre><code>webview.webViewClient = object : WebViewClient() {\n    override fun shouldOverrideUrlLoading(\n        view: WebView, // &lt;- potential to throw NPE before executing the function block!\n        request: WebResourceRequest // &lt;- as well!\n    ): Boolean {\n        return super.shouldOverrideUrlLoading(view, request)\n    }\n}\n</code></pre>\n\n<p><br/>\nIn a nutshell, we <strong>SHOULD NOT</strong> remove <strong><code>?</code></strong> sign from function arguments, when the overridden method is defined in a <code>Java</code> class.</p>\n"}, {"tags": [], "owner": {"reputation": 4717, "user_id": 4133301, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yKdIm.jpg?s=128&g=1", "display_name": "GensaGames", "link": "https://stackoverflow.com/users/4133301/gensagames"}, "is_accepted": false, "score": 1, "last_activity_date": 1571850978, "last_edit_date": 1571850978, "creation_date": 1571433301, "answer_id": 58458291, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58458291#58458291", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<p>Null reference is pretty obvious exception for everybody now because for everything has started with native development on C/C++. Reference to the objects in memory might be missing or cleaned by different reasons. <strong>Java was designed in way of those native languages</strong>, which assume null pointers everywhere. </p>\n\n<p>Managing all mutable states are getting fun with thousand of microservices. <strong>This cause a lot of workaround for Nullable reference.</strong> - <code>Optional</code> Objects - Mock of <code>Null Object</code> - <code>Wrappers</code> around references - <code>Annotations</code>, etc. And all this for avoiding changing state of somewhere allocated object. </p>\n\n<p>Finally, Kotlin is not first here. Scala, with immutable states had excellent experience in usage and supporting application. <strong>So answering this question and summarize</strong> Java was designed in this way from its parent C++, and you should expect null values everywhere. We still checking reference for null, even it's not annotated <code>@Nullable</code>, because of this reason. And in the same way Kotlin handles Java usage, and that is why you need to handle null values in overridden methods. </p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 2, "last_activity_date": 1571627120, "last_edit_date": 1571627120, "creation_date": 1571528228, "answer_id": 58468889, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58468889#58468889", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<p>If a virtual method in Java doesn't specify nullability of its parameters somehow, for example with the <code>@Nullable</code>/<code>@NotNull</code> annotations, you are free to choose the nullability either way when overriding that method in Kotlin.</p>\n\n<p>But <em>how</em> should you choose?</p>\n\n<ul>\n<li><p>First, you can consult the method documentation and check the method contract. Does it specify that the method can be called with nulls, and what would these nulls mean when passed to the method? </p>\n\n<p>In this particular case,\n<a href=\"https://developer.android.com/reference/android/webkit/WebViewClient#shouldOverrideUrlLoading(android.webkit.WebView,%20android.webkit.WebResourceRequest)\" rel=\"nofollow noreferrer\">WebViewClient.shouldOverrideUrlLoading</a>\nmethod doc page doesn't say anything about nulls, so it can be taken as\nan evidence that its parameters are supposed to be <em>non-nullable</em>.</p></li>\n<li>Second, if you are still unsure about the nullability after consulting the docs, you can consider what would you do with the null parameter value, if you receive one. If the only reasonable thing in this situation is to throw an exception, you can delegate that check to the parameter checking code generated by Kotlin\u2014by declaring parameters as non-nullable.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1571532057, "last_edit_date": 1571532057, "creation_date": 1571531329, "answer_id": 58469107, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with/58469107#58469107", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<p>On the language-level, this can be generalized:</p>\n\n<blockquote>\n  <p>For proper Java interoperability, the Kotlin code should reflect the annotations of the Java code.</p>\n</blockquote>\n\n<p>The linter only complains about lacking annotations in the other direction, for Kotlin interoperability.</p>\n\n<p>See this recent article on <a href=\"https://medium.com/androiddevelopers/how-to-write-java-friendly-kotlin-code-333f32ad0df3\" rel=\"nofollow noreferrer\">How to write Java friendly Kotlin code?</a></p>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 1, "accepted_answer_id": 58441467, "answer_count": 6, "score": 6, "last_activity_date": 1571850978, "creation_date": 1571152897, "last_edit_date": 1571531962, "question_id": 58398030, "link": "https://stackoverflow.com/questions/58398030/should-i-remove-the-nullability-of-overriden-methods-that-are-not-annotated-with", "title": "Should I remove the nullability of overriden methods that are not annotated with nullable in an inherited class", "body": "<pre><code>Android 3.5.1\n</code></pre>\n\n<p>I was using the WebView and I noticed that when I override some of the methods all the parameters are nullable types:</p>\n\n<pre><code>webview.webViewClient = object : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n         return super.shouldOverrideUrlLoading(view, request)\n    }\n}\n</code></pre>\n\n<p>Which means I have to use the <code>safe call</code> operator to use them. However, when I looked at the <code>WebViewClient</code> class that I have overridden the method from they are not specified as <code>nullable</code> annotation in the Java code.</p>\n\n<pre><code>public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n    return shouldOverrideUrlLoading(view, request.getUrl().toString());\n}\n</code></pre>\n\n<p>So I am left thinking do I remove the nullability from the overridden method or keep them?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1571162477, "post_id": 58397974, "comment_id": 103145815, "body": "Ideally movie = networkCall.result should be movie.value = networkCall.result"}, {"owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "reply_to_user": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1571165585, "post_id": 58397974, "comment_id": 103147170, "body": "<code>movie.value = networkCall.result</code> doesn&#39;t work either. Since <code>movie</code> works as a pointer for the value to be presented on screen it should work. I think that something is holding the value from being returned from the abstraction."}, {"owner": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1571166858, "post_id": 58397974, "comment_id": 103147667, "body": "Try returning a live data at getDetails in the repository. From the ViewModel, observe to this live data. And publish the status to the Mutablelive data in the ViewModel."}, {"owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "reply_to_user": {"reputation": 810, "user_id": 9266283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788af174dcb871790dc21141a6490328?s=128&d=identicon&r=PG&f=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/9266283/dinesh"}, "edited": false, "score": 0, "creation_date": 1571254550, "post_id": 58397974, "comment_id": 103183296, "body": "Isn&#39;t it a bad practice to observe a <code>livedata</code> from the <code>viewmodel</code>? A got it working by doing something that I also think is not a good practice: I moved the <code>makeCall</code> to the <code>viewmodel</code>. But I why does it works now?"}], "owner": {"reputation": 432, "user_id": 8070641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/081e7313e1d4407372d0dcabcd8332d5?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Grecco Lacourt", "link": "https://stackoverflow.com/users/8070641/igor-grecco-lacourt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571152705, "creation_date": 1571152705, "last_edit_date": 1592644375, "question_id": 58397974, "link": "https://stackoverflow.com/questions/58397974/retrofit-call-using-abstraction-with-kotlin-is-not-calling-onchange", "title": "Retrofit call using abstraction with kotlin is not calling onChange", "body": "<p>I want to abstract the retrofit call, so I don't need to write the same boiler plate code when I need a request.</p>\n<h3>The abstraction</h3>\n<pre><code>open class NetworkCall&lt;T&gt; {\n    lateinit var call: Call&lt;T&gt;\n    var result: MutableLiveData&lt;Resource&lt;T&gt;&gt; = MutableLiveData()\n\n    fun makeCall(call: Call&lt;T&gt;) {\n        this.call = call\n        val callBackKt = CallBackKt&lt;T&gt;()\n        callBackKt.result.value = Resource.loading(null)\n        this.call.enqueue(callBackKt)\n        result = callBackKt.result\n    }\n\n    class CallBackKt&lt;T&gt; : Callback&lt;T&gt; {\n        var result: MutableLiveData&lt;Resource&lt;T&gt;&gt; = MutableLiveData()\n\n        override fun onFailure(call: Call&lt;T&gt;, t: Throwable) {\n            result.value = Resource.error()//APIError()\n            t.printStackTrace()\n        }\n\n        override fun onResponse(call: Call&lt;T&gt;, response: Response&lt;T&gt;) {\n            if (response.isSuccessful) {\n                result.value = Resource.success(response.body())\n            }\n            else {\n                result.value = Resource.error()\n            }\n        }\n    }\n}\n</code></pre>\n<h3>Repository</h3>\n<pre><code>class DetailsRepository(val application: Application) {\n    private val myListDao =\n        AppDatabase.getDatabase(application)?.MyListDao()\n    var movie: MutableLiveData&lt;Resource&lt;DetailsDTO&gt;&gt; = MutableLiveData()\n\n    fun getDetails(id: Int) {\n        val networkCall = NetworkCall&lt;DetailsDTO&gt;()\n        networkCall.makeCall(Apifactory.tmdbApi.getDetails(id))\n        movie = networkCall.result\n    }\n}\n</code></pre>\n<h3>ViewModel</h3>\n<pre><code>class DetailsViewModel(application: Application) : AndroidViewModel(application) {\n    private val repository: DetailsRepository = DetailsRepository(application)\n    internal var movie: LiveData&lt;Resource&lt;DetailsDTO&gt;&gt; = repository.movie\n\n    fun insert(myListItem: MyListItem) {\n        repository.insert(myListItem)\n    }\n\n    fun fetchDetails(id: Int) {\n        repository.getDetails(id)\n    }\n\n}\n</code></pre>\n<h3>Activity</h3>\n<pre><code> viewModel.movie.observe(this, Observer {\n            it?.apply {\n                detail_title.text = data?.title\n            }\n        })\n</code></pre>\n<h3>Log with in every method says it's being called in right order and that the request is working fine. Althoght onChange is not being called.</h3>\n<pre><code>fetchDetails called\ngetDetails called\nmakeCall called\nonResponse successful, result.value.data = DetailsDTO(adult=false, backdrop_path=/y8lEIjYZCi2VFP4ixtHSn2klpth.jpg, ... \n...\n</code></pre>\n<p>What would be done wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "navigation", "rotation"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 6288587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V9aDKSTDgHE/AAAAAAAAAAI/AAAAAAAACl0/r7CPjiLtImQ/photo.jpg?sz=128", "display_name": "joghm", "link": "https://stackoverflow.com/users/6288587/joghm"}, "edited": false, "score": 0, "creation_date": 1571152606, "post_id": 58397746, "comment_id": 103141235, "body": "it is not helping what i am trying to achieve"}], "tags": [], "owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "is_accepted": false, "score": -1, "last_activity_date": 1571152021, "creation_date": 1571152021, "answer_id": 58397746, "question_id": 58397628, "link": "https://stackoverflow.com/questions/58397628/recyclerview-lose-position-on-screen-rotation/58397746#58397746", "title": "Recyclerview lose position on screen rotation", "body": "<p>Add <code>android:configChanges=\"orientation|keyboardHidden\"</code> to your activity tag in <code>manifest</code> like so:</p>\n\n<pre><code>&lt;activity\n        android:name=\".activity.MainActivity\"\n        android:configChanges=\"orientation|keyboardHidden\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n\n&lt;/activity&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 9620329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bfda10f6e7fe93726e48f8a27f8b8c6?s=128&d=identicon&r=PG", "display_name": "Anand", "link": "https://stackoverflow.com/users/9620329/anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1571164215, "creation_date": 1571164215, "answer_id": 58400691, "question_id": 58397628, "link": "https://stackoverflow.com/questions/58397628/recyclerview-lose-position-on-screen-rotation/58400691#58400691", "title": "Recyclerview lose position on screen rotation", "body": "<p><a href=\"https://stackoverflow.com/questions/42514011/how-to-retain-recyclerviews-position-after-orientation-change-while-using-fire\">Take a look at this stackoverflow link</a></p>\n\n<p>You need to store the position of the recycler view in the saved instance state and once the configuration is changed you must scroll the recycler view to the stored position</p>\n"}], "owner": {"reputation": 381, "user_id": 6288587, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V9aDKSTDgHE/AAAAAAAAAAI/AAAAAAAACl0/r7CPjiLtImQ/photo.jpg?sz=128", "display_name": "joghm", "link": "https://stackoverflow.com/users/6288587/joghm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571164215, "creation_date": 1571151631, "question_id": 58397628, "link": "https://stackoverflow.com/questions/58397628/recyclerview-lose-position-on-screen-rotation", "title": "Recyclerview lose position on screen rotation", "body": "<p>even though i am using viewmodel for data ,the recyclerview keeps scrolling to the top every screen orientation change.</p>\n\n<pre><code>   override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    (activity as AppCompatActivity).setSupportActionBar(binding?.toolbar)\n\n\n    val host: NavHostFragment = activity?.supportFragmentManager\n        ?.findFragmentById(R.id.nav_host_fragment) as NavHostFragment?\n        ?: return\n\n    // Set up Action Bar\n    val navController = host.navController\n\n    // Setup bottom navigation view\n    binding?.bottomNav?.setupWithNavController(navController)\n\n}\n\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n     binding = DataBindingUtil.inflate(inflater , com.angelstudio.newsapp.R.layout.fragment_feed,container , false)\n    myView= binding.root\n\n    return myView\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    viewModel =ViewModelProviders.of(this,viewModelFactory).get(FeedFragmentViewModel::class.java)\n\n    bindUi()\n    (activity as? AppCompatActivity)?.supportActionBar?.title = getString(R.string.Naws_App)\n    (activity as? AppCompatActivity)?.supportActionBar?.subtitle = getString(R.string.Feed)\n\n    binding.mySwiperefresh.setOnRefreshListener {\n        refresh()\n        mySwiperefresh.setRefreshing(false)\n    }\n}\n\n\n private fun bindUi()=launch {\n    val topHeadline =viewModel.topHeadline.await()\n    val naviagte =viewModel.navigateToDetail.await()\n\n    topHeadline.observe(this@FeedFragment, Observer {\n        if(it == null || it.isEmpty()) return@Observer\n\n      binding.recyclerView.apply {\n            showShimmerAdapter()\n            topHeadlineAdapter = TopHeadlineAdapter(TopHeadlineListener { \n                url -&gt;  viewModel.onTopHeadlineClicked(url)\n            })\n            adapter = topHeadlineAdapter\n            topHeadlineAdapter.submitList(it)\n            hideShimmerAdapter()\n        }\n    })\n</code></pre>\n\n<p>here is my code on the fragment, i can't find what i am doing wrong, is there something to handle recyclerview position state on viewmodel ?</p>\n"}, {"tags": ["android", "kotlin", "google-play-games"], "comments": [{"owner": {"reputation": 3780, "user_id": 8244632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x3DFy.jpg?s=128&g=1", "display_name": "Lalit Fauzdar", "link": "https://stackoverflow.com/users/8244632/lalit-fauzdar"}, "edited": false, "score": 1, "creation_date": 1571152451, "post_id": 58397513, "comment_id": 103141145, "body": "Look <a href=\"https://stackoverflow.com/a/52272518/8244632\">here</a> and <a href=\"https://stackoverflow.com/a/54371463/8244632\">here</a>."}, {"owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "reply_to_user": {"reputation": 3780, "user_id": 8244632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x3DFy.jpg?s=128&g=1", "display_name": "Lalit Fauzdar", "link": "https://stackoverflow.com/users/8244632/lalit-fauzdar"}, "edited": false, "score": 0, "creation_date": 1571152525, "post_id": 58397513, "comment_id": 103141183, "body": "Thanks, so do I take it the ID changes as it went from debug to production but it will now stay the same?"}, {"owner": {"reputation": 3780, "user_id": 8244632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x3DFy.jpg?s=128&g=1", "display_name": "Lalit Fauzdar", "link": "https://stackoverflow.com/users/8244632/lalit-fauzdar"}, "edited": false, "score": 1, "creation_date": 1571152849, "post_id": 58397513, "comment_id": 103141384, "body": "As this is mentioned in the official documentation, <code>You should create two client IDs, one with the release certificate fingerprint and another with the debug certificate fingerprint. Make sure to use the same package name for both. This allows Google Play games services to recognize calls from your linked APKs that are signed with either certificate.</code>, IDs are expected to differ while in testing and live production."}], "owner": {"reputation": 421, "user_id": 1503249, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3a63adf20ee508a7ae0d1175670ea24c?s=128&d=identicon&r=PG", "display_name": "Maff", "link": "https://stackoverflow.com/users/1503249/maff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571152040, "creation_date": 1571151293, "last_edit_date": 1571152040, "question_id": 58397513, "link": "https://stackoverflow.com/questions/58397513/get-users-unique-identifier-for-backup-data", "title": "Get user&#39;s unique identifier for backup data", "body": "<p>I have a game, but I want to backup the user's data without them having to log in as they already sign in to Google Play Games. I use the below code to sign them in:</p>\n\n<pre><code>val signInOption = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_GAMES_SIGN_IN)\n    .requestId()\n    .requestEmail()\n    .build()\nsignInClient = GoogleSignIn.getClient(this, signInOption)\n\nif (GoogleSignIn.getLastSignedInAccount(/*context*/ this) != null) {\n    showButtons()\n} else {\n    hideButtons()\n}\n</code></pre>\n\n<p>I know I can get some sort of ID using \n<code>GoogleSignIn.getLastSignedInAccount(this)</code>\nbut this ID changes, I was using it during testing, but now the app is in production the IDs of all users have changed.\nMy question is, if I use </p>\n\n<pre><code>.requestId()\n.requestEmail()\n</code></pre>\n\n<p>how can I access either the ID or the email to use those to store the user's data? (obviously I'd prefer non-identifiable data like ID)</p>\n"}, {"tags": ["generics", "kotlin", "properties"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1571153580, "post_id": 58397484, "comment_id": 103141789, "body": "Can you explain in more detail? I don&#39;t see how it would make sense for a property to need to define a type since you don&#39;t ever pass something to a getter, and if you have a generic parameter, you put the type definition in the class line."}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 1, "creation_date": 1571154887, "post_id": 58397484, "comment_id": 103142494, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44090011/kotlin-generic-property\">Kotlin Generic Property</a>"}, {"owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "reply_to_user": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1571342316, "post_id": 58397484, "comment_id": 103219479, "body": "@Bananon: That isn&#39;t applicable for my use case, since I don&#39;t need the <code>where</code> for generics sake, I want it so that I can create a type without an explicit interface that inherits from multiple other types."}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "edited": false, "score": 0, "creation_date": 1571346255, "post_id": 58397484, "comment_id": 103221058, "body": "@XDR Sorry for misunderstanding you. I&#39;ve posted an answer which explains when you can use generic type as a return type of the property."}], "answers": [{"comments": [{"owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "edited": false, "score": 0, "creation_date": 1571341745, "post_id": 58404153, "comment_id": 103219226, "body": "I need to use the where clause for the return type of the property.  I&#39;ll update my question\u2026"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1571185420, "creation_date": 1571185420, "answer_id": 58404153, "question_id": 58397484, "link": "https://stackoverflow.com/questions/58397484/using-kotlin-generics-where-clause-for-return-type-of-property/58404153#58404153", "title": "Using Kotlin generics where clause for return type of property", "body": "<p>You can put <code>where</code> clause after the property type specification:</p>\n\n<pre><code>val &lt;T&gt; T.size: Int where T : CharSequence\n    get() = this.length\n</code></pre>\n\n<p>Note that a property can only declare generic type that is inferred from its receiver because there is no syntax to call such property specifying type argument explicitly. Therefore, properties with generic parameters can be extension properties only.</p>\n"}, {"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": false, "score": 0, "last_activity_date": 1571346125, "creation_date": 1571346125, "answer_id": 58440694, "question_id": 58397484, "link": "https://stackoverflow.com/questions/58397484/using-kotlin-generics-where-clause-for-return-type-of-property/58440694#58440694", "title": "Using Kotlin generics where clause for return type of property", "body": "<p>It is possible to use the Kotlin generics <code>where</code> clause for the return type of property only if a type parameter can be inferred from the receiver type. Otherwise, there will be no way to specify the generic type on property use.</p>\n\n<p>Examples:</p>\n\n<ol>\n<li><code>T</code> is inferred from Iterable type:</li>\n</ol>\n\n<pre><code>val &lt;T&gt; Iterable&lt;T&gt;.firstNotEmpty: T where T : CharSequence?\n    get() = first { !it.isNullOrEmpty() }\n</code></pre>\n\n<ol start=\"2\">\n<li>Compile error - <em>type parameter of a property must be used in its receiver type</em>:</li>\n</ol>\n\n<pre><code>inline val &lt;reified T&gt; Iterable&lt;*&gt;.firstIntsanceOf: T where T : Any\n    get() = first { it is T } as T\n</code></pre>\n"}], "owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1571346125, "creation_date": 1571151229, "last_edit_date": 1571341789, "question_id": 58397484, "link": "https://stackoverflow.com/questions/58397484/using-kotlin-generics-where-clause-for-return-type-of-property", "title": "Using Kotlin generics where clause for return type of property", "body": "<p>Is it possible to use the Kotlin generics <code>where</code> clause for the return type of a property?</p>\n\n<p>If so, how?</p>\n\n<p>I've used it for return types of functions, but can't seem to get it to work for properties, which leads me to assume it won't work with properties.</p>\n\n<p>I need this because I have multiple hierarchies that my properties of my objects must implement.  I implement them using <code>&lt;interface&gt; by &lt;class&gt;</code> delegation composition in the class extends / implements clause.</p>\n\n<p>The problem is that I want to expose a limited API of the implementation classes to certain code (rather than the full API), which I would like to do via limited interfaces.  The only problem is that, while I can use delegation composition for actual <code>object:</code>s, I can't seem to use it for just interfaces.</p>\n"}, {"tags": ["kotlin", "expandablelistview", "multi-level"], "owner": {"reputation": 11, "user_id": 12221093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb273e2b596897249e0ddad646967477?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/12221093/blackjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1571150525, "creation_date": 1571150525, "question_id": 58397243, "link": "https://stackoverflow.com/questions/58397243/expandablelistview-multilevel-in-kotlin-groupsposition-of-firstchild-always-0", "title": "ExpandableListView Multilevel in Kotlin groupsPosition of firstChild always 0", "body": "<p>i'm new in Kotlin and learning this Coding-Language right now.\nAt the moment i get stuck on the Problem that in my Multi-Level expandablelistview in secondlevel the groupPosition is always \"0\".\nThe view shows always 3 times the same objects, but it must be 3 different objects.</p>\n\n<p>The Data comes from a local running SQL-Lite Database and the Databasequery works fine.</p>\n\n<p>Here is my code, I hope you can help me!</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class pflegeRabGru :AppCompatActivity(){\n    val ctx:Context = this\n    internal var expandableListView: ExpandableListView?=null\n    internal var listAdapter: ExpandableListAdapter?=null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_pflege_rabgru)\n        expandableListView= findViewById(R.id.expRabListView)\n\n        if (expandableListView !=null){\n            listAdapter=adapter_RabGruKat(this)\n            expandableListView!!.setAdapter(listAdapter)\n        }\n\n    }\n</code></pre>\n\n<p>The First Adapter\nadapter_RabGruKat</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class adapter_RabGruKat internal constructor(private val context: Context):BaseExpandableListAdapter() {\n    val lclDb=lclDBHelper(context)\n    val listRabgru = ArrayList&lt;ArtRabGru&gt;()\n    val listRabFields = ArrayList&lt;RabGruFields&gt;()\n    val listCats = ArrayList&lt;Categorys&gt;()\n    val listReadedRabgru= getRabForGroups()\n    val listReadedRabKats = getKatsForGroups()\n\n\n    override fun getChild(groupPosition: Int, childPosition: Int):Int{\n        return childPosition\n    }\n\n    override fun getChildId(groupPosition: Int, childPosition: Int): Long{\n            return childPosition.toLong()\n    }\n\n    override fun getChildView(groupPosition: Int, childPosition: Int, isLastChild: Boolean, convertView: View?, parent:ViewGroup):View{\n        var convertView = convertView\n        var subObjects = ExpandableListView(context)\n\n        subObjects!!.setAdapter(adapter_RabGruKatChilds(context,childPosition.toLong(),getGroup(groupPosition).get(groupPosition).WAHID))\n        subObjects!!.setGroupIndicator(null)\n\n        return subObjects\n    }\n\n    override fun getChildrenCount(groupPosition: Int): Int {\n        return listCats.size\n    }\n\n    override fun getGroup(groupPosition: Int):ArrayList&lt;ArtRabGru&gt;{\n        return listRabgru\n    }\n\n    override fun getGroupCount(): Int {\n        return listRabgru.size\n    }\n\n    override fun getGroupId(groupPosition: Int): Long {\n        return groupPosition.toLong()\n    }\n\n    override fun getGroupView(groupPosition: Int,isExpanded: Boolean, convertView: View?, parent: ViewGroup): View {\n        var convertView = convertView\n        val groupTitle = getGroup(groupPosition).get(groupPosition).WAH_RABGRU + \" \" + getGroup(groupPosition).get(groupPosition).WAH_RABGRUTEXT\n        val groupId = getGroup(groupPosition).get(groupPosition).WAHID\n\n        if (convertView==null){\n            val layoutInflater = this.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            convertView = layoutInflater.inflate(R.layout.parent_pflege_rabgru, null)\n        }\n\n        val listRabGruTitle = convertView!!.findViewById&lt;TextView&gt;(R.id.txtRabgruName)\n        val listRabId = convertView!!.findViewById&lt;TextView&gt;(R.id.txtRabGruId)\n\n        listRabGruTitle.text=groupTitle\n        listRabId.text=groupId.toString()\n        return convertView\n    }\n\n    override fun hasStableIds(): Boolean {\n        return true\n    }\n\n    override fun isChildSelectable(groupPosition: Int, childPosition: Int):Boolean {\n        return true\n    }\n\n    fun getRabForGroups():ArrayList&lt;ArtRabGru&gt;{\n        lclDb.readAllArtRabGru().forEach() {\n            listRabgru.add(ArtRabGru(it.WAHID,it.WAH_RABGRU,it.WAH_RABGRUTEXT))\n        }\n        return listRabgru\n    }\n\n    fun getKatsForGroups():ArrayList&lt;Categorys&gt;{\n        lclDb.readAllCategory().forEach {\n            listCats.add(Categorys(it.KATID,it.KATNAME))\n        }\n        return listCats\n    }\n}\n</code></pre>\n\n<p>and the SecondLevelAdapter</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nclass adapter_RabGruKatChilds internal constructor(private val context:Context, private val childPositionOtherAdapter:Long,private val selectedRabgru:Long) : BaseExpandableListAdapter() {\n    val lclDb = lclDBHelper(context)\n    var listCats = ArrayList&lt;Categorys&gt;()\n    val readCats = getKatsForGroups()\n    val rabFields = ArrayList&lt;RabGruFields&gt;()\n    val readRabFields = getFieldRabs()\n\n    override fun getChild(childPosition: Int, groupPosition: Int):RabGruFields {\n        return rabFields.get(childPosition)\n    }\n\n    override fun getChildId(groupPosition:Int, childPosition:Int): Long {\n        return childPosition.toLong()\n    }\n\n    override fun getChildView(groupPosition: Int, childPosition: Int, isLastChild: Boolean, convertView: View?, parent:ViewGroup): View {\n        var convertView = convertView\n        val fieldId= getChild(childPosition,groupPosition).RABFIELDID\n        val fieldName= getChild(childPosition,groupPosition).RABFIELDTEXT\n\n        if (convertView==null){\n            val layoutInflater = this.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            convertView=layoutInflater.inflate(R.layout.pflegefieldsitems, null)\n        }\n\n        val txtfieldId = convertView!!.findViewById&lt;TextView&gt;(R.id.txtFieldId)\n        val txtfieldName = convertView!!.findViewById&lt;TextView&gt;(R.id.txtFieldName)\n\n        txtfieldId.text=fieldId.toString()\n        txtfieldName.text=fieldName\n        return convertView\n    }\n\n    override fun getChildrenCount(groupPosition: Int): Int {\n        return rabFields.size\n    }\n\n    override fun getGroup(groupPosition: Int):Categorys{\n        Log.i(\"INFO\", \"GroupPosition in getGroupt=\"+ groupPosition.toString())\n        return listCats.get(groupPosition)\n    }\n\n    override fun getGroupCount(): Int {\n        return listCats.size\n    }\n\n    override fun getGroupId(groupPosition: Int):Long {\n        return groupPosition.toLong()\n    }\n\n    override fun getGroupView(groupPosition: Int,isExpanded:Boolean, convertView:View?, parent:ViewGroup): View? {\n        var convertView = convertView\n        val groupCatId = getGroup(groupPosition).KATID\n        val groupTitle = getGroup(groupPosition).KATNAME\n\n        if(convertView==null){\n            val layoutInflater = this.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            convertView = layoutInflater.inflate(R.layout.parent_pflege_rabgru, parent,false)\n        }\n        val txtCatId = convertView!!.findViewById&lt;TextView&gt;(R.id.txtRabGruId)\n        val txtCatName = convertView!!.findViewById&lt;TextView&gt;(R.id.txtRabgruName)\n\n        txtCatId.text= groupCatId.toString()\n        txtCatName.text = groupTitle\n\n        Log.i(\"INFO\", \"GroupPosition in getGroupView=\" + groupPosition.toString())\n        return convertView\n    }\n\n    override fun hasStableIds(): Boolean {\n        return true\n    }\n\n    override fun isChildSelectable(groupPosition: Int, childPosition: Int): Boolean {\n        return true\n    }\n\n\n    fun getKatsForGroups():ArrayList&lt;Categorys&gt;{\n        listCats.clear()\n        lclDb.readAllCategory().forEach {\n            listCats.add(Categorys(it.KATID,it.KATNAME))\n        }\n        return listCats\n    }\n\n    fun getFieldRabs(): ArrayList&lt;RabGruFields&gt;{\n        rabFields.clear()\n        lclDb.readAllRabFields(selectedRabgru).forEach{\n            rabFields.add(RabGruFields(it.RABID, it.RABGRUID,it.RABFIELDID,it.RABFIELDMANDATORY,it.RABFIELDSHOW,it.RABFIELDTEXT,it.RABFIELDRANDOMIZE))\n        }\n        return rabFields\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "kotlin", "textview", "android-constraintlayout"], "comments": [{"owner": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 0, "creation_date": 1571151526, "post_id": 58396951, "comment_id": 103140577, "body": "Do you need to know what max <code>char</code> it have or how many <code>char</code> it can fill ?"}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "reply_to_user": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 0, "creation_date": 1571159501, "post_id": 58396951, "comment_id": 103144599, "body": "yes, I want know this @MohammedAlaa"}, {"owner": {"reputation": 2145, "user_id": 5163414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee0403b3636ab76f034e5a76ca98cabc?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Alaa", "link": "https://stackoverflow.com/users/5163414/mohammed-alaa"}, "edited": false, "score": 0, "creation_date": 1571217954, "post_id": 58396951, "comment_id": 103163549, "body": "take a look at <a href=\"https://stackoverflow.com/questions/35815703/get-how-many-characters-a-line-in-textview-can-have\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571209479, "post_id": 58403006, "comment_id": 103159102, "body": "but maybe something like, max chars in 1 line :)"}, {"owner": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571209531, "post_id": 58403006, "comment_id": 103159133, "body": "that is dependent of the width of the view and the screen size"}], "tags": [], "owner": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "is_accepted": false, "score": 0, "last_activity_date": 1571175628, "creation_date": 1571175628, "answer_id": 58403006, "question_id": 58396951, "link": "https://stackoverflow.com/questions/58396951/detecting-max-number-of-char-in-textview-when-app-runnig/58403006#58403006", "title": "Detecting max number of char in TextView when app runnig", "body": "<p>A TextView does not really have a limit of characters when you did not set one.</p>\n"}], "owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571175628, "creation_date": 1571149610, "question_id": 58396951, "link": "https://stackoverflow.com/questions/58396951/detecting-max-number-of-char-in-textview-when-app-runnig", "title": "Detecting max number of char in TextView when app runnig", "body": "<p>Like in topic :)\nIs it possible to detect max number of char in TextView when app is running ?\nI have textView into ConstraintLayout, which have set layout_width as match_constraint(0dp).</p>\n"}, {"tags": ["for-loop", "kotlin", "concurrentmodification"], "comments": [{"owner": {"reputation": 9772, "user_id": 1786065, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/udTpS.png?s=128&g=1", "display_name": "Rogue", "link": "https://stackoverflow.com/users/1786065/rogue"}, "edited": false, "score": 1, "creation_date": 1571147510, "post_id": 58396274, "comment_id": 103138161, "body": "When iterating in this way, you can&#39;t modify the list. This one doesn&#39;t make much sense anyhow, you&#39;re going through each element of <code>firstCar</code>, and then adding to <code>firstCar</code>?"}, {"owner": {"reputation": 3472, "user_id": 1744230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3bf3a7398f2545d8eeb0b50e2770878b?s=128&d=identicon&r=PG", "display_name": "QBrute", "link": "https://stackoverflow.com/users/1744230/qbrute"}, "edited": false, "score": 0, "creation_date": 1571147522, "post_id": 58396274, "comment_id": 103138165, "body": "You cannot iterate over <code>firstCar</code> and at the same time add elements <code>firstCar.add(j)</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1571147762, "post_id": 58396274, "comment_id": 103138325, "body": "if that second <code>k.contains(firstPeople.toString())</code> wouldn&#39;t be redundant, it would have failed already there... your list does not support concurrent modifications, therefore you should not add or remove items while iterating over it... (which you do with <code>firstCar.add(j)</code>)... from what I see I don&#39;t really know how your sort should work, but I am pretty sure this can be solved easier... by the way... you said you tried iterator, but it didn&#39;t work... maybe you should also add what you tried so far and tell what didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 1, "last_activity_date": 1571147545, "creation_date": 1571147545, "answer_id": 58396340, "question_id": 58396274, "link": "https://stackoverflow.com/questions/58396274/i-have-code-with-for-loop-and-i-always-have-got-concurrent-modification-exceptio/58396340#58396340", "title": "I have code with for-loop and I always have got concurrent modification exception and i dont know how to solve it", "body": "<p>Looks like you are using and <code>ArrayList</code>. And you are inserting an item in it while iterating via iterator: (<code>firstCar.add(j)</code>. Here is what <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">its JavaDoc</a> says:</p>\n\n<blockquote>\n  <p>The iterators returned by this class's <code>iterator</code> and <code>listIterator</code> methods are fail-fast: if the list is structurally modified at any time after the iterator is created, in any way except through the iterator's own <code>remove</code> or <code>add</code> methods, the iterator will throw a <code>ConcurrentModificationException</code>. Thus, in the face of concurrent modification, the iterator fails quickly and cleanly, rather than risking arbitrary, non-deterministic behavior at an undetermined time in the future.</p>\n</blockquote>\n\n<p>It means that you may modify the collection only using the iterator methods, and not directly.</p>\n\n<p>Try to avoid list modification, or use iterator's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-\" rel=\"nofollow noreferrer\"><code>add</code></a> method, or use copy on write collections.</p>\n"}], "owner": {"reputation": 5, "user_id": 11238174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03fb49d6c322984b79f4cc0365b37b25?s=128&d=identicon&r=PG&f=1", "display_name": "Stepan", "link": "https://stackoverflow.com/users/11238174/stepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "closed_date": 1571147957, "accepted_answer_id": 58396340, "answer_count": 1, "score": -4, "last_activity_date": 1571565489, "creation_date": 1571147341, "last_edit_date": 1571565489, "question_id": 58396274, "link": "https://stackoverflow.com/questions/58396274/i-have-code-with-for-loop-and-i-always-have-got-concurrent-modification-exceptio", "closed_reason": "Duplicate", "title": "I have code with for-loop and I always have got concurrent modification exception and i dont know how to solve it", "body": "<p>I am programming a sorting system to school that must split some people into two cars, but I am stuck and I don't know how to continue.</p>\n\n<p>When I delete the second when, it was working. But I need it there so I don't know what to do.</p>\n\n<p>I already tried iterators but I am new in kotlin and it didn't work.</p>\n\n<pre><code>for (firstPeople in firstCar){\n                    when {\n                        k.contains(firstPeople.toString()) -&gt; secondCar.add(j)\n                        // println(secondCar)\n                        k.contains(firstPeople.toString()) -&gt; firstCar.add(j)\n                        // println(firstCar)\n                        else -&gt; when {\n                            firstCar.size &gt; secondCar.size -&gt; secondCar.add(j)\n                            firstCar.size &lt; secondCar.size -&gt; firstCar.add(j)\n                            else -&gt; firstCar.add(j)\n                        }\n                    }\n                }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" java.util.ConcurrentModificationException\nat java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\nat java.util.ArrayList$Itr.next(ArrayList.java:859)\nat MainKt.main(Main.kt:65)\nat MainKt.main(Main.kt)\n</code></pre>\n\n<p>Thank you so much for the answer.</p>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 1, "creation_date": 1571147436, "post_id": 58396250, "comment_id": 103138114, "body": "UI code is tested using <a href=\"https://developer.android.com/training/testing/unit-testing/instrumented-unit-tests\" rel=\"nofollow noreferrer\">instrumented unit tests</a>."}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 0, "creation_date": 1571185847, "post_id": 58396250, "comment_id": 103153295, "body": "@Sandi can&#39;t I write unit test for this? Something where I can instantiate var sut = EmailSearchResultPageFragment(), and do sut.someFunctionThatRequiresViewFromOnCreate(view)??"}, {"owner": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 0, "creation_date": 1571187045, "post_id": 58396250, "comment_id": 103153574, "body": "Well, you can refactor your logic to not use the view and into a standalone unit, otherwise you&#39;re pretty much stuck with instrumentation tests because you&#39;re interacting with the UI. You might want to look into <a href=\"http://robolectric.org\" rel=\"nofollow noreferrer\">Robolectric</a> to run Android code as a standalone unit test."}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 0, "creation_date": 1571192529, "post_id": 58396250, "comment_id": 103154556, "body": "@Sandi Do you have more specific advice as to solving this problem? I am aware of Robolectric testing framework as much as I am aware of Espresso and Mockito and so forth."}], "owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571193545, "creation_date": 1571147268, "last_edit_date": 1571193545, "question_id": 58396250, "link": "https://stackoverflow.com/questions/58396250/what-would-be-the-best-practices-to-test-this-fragment", "title": "What would be the best practices to test this Fragment?", "body": "<p>Lets suppose I have a fragment class like this one below named EmailSearchResultPageFragment(). </p>\n\n<pre><code>class EmailSearchResultPageFragment : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        val view = inflater.inflate(R.layout.fragment_email_search_result_page, container, false)\n        someFunctionThatRequiresViewFromOnCreate(view)\n        showPage(fragment)\n        return view\n    }\n\n    fun someFunctionThatRequiresViewFromOnCreate(view: View) {\n        view.DoSomethingWithView(view)\n    }\n     fun showPage(fragment: Fragment) {\n     fragmentManager!!.beginTransaction().addToBackStack(null).replace(R.id.container, fragment).commit()\n\n    }\n}\n\n\n\n\n</code></pre>\n\n<p>If i want to unit test <code>someFunctionThatRequiresViewFromOnCreate(:)</code>, and <code>showPage(:)</code> what would be the best practice ??</p>\n\n<p>How can I possibly mock <code>view</code> and <code>fragment</code> that is being instantiated inside onCreate???!</p>\n"}, {"tags": ["android", "kotlin", "arraylist"], "comments": [{"owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "edited": false, "score": 0, "creation_date": 1571147466, "post_id": 58396117, "comment_id": 103138134, "body": "ok solve with this change.   val byDates = locationList.groupBy { it.time }"}], "answers": [{"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 1, "last_activity_date": 1571147495, "creation_date": 1571147495, "answer_id": 58396324, "question_id": 58396117, "link": "https://stackoverflow.com/questions/58396117/arraylist-i-cant-resolve-this-red-line-code/58396324#58396324", "title": "ArrayList - I can&#39;t resolve this red line code", "body": "<p>It's because in the first (working) example <code>it</code> refers to an instance of <code>HashMap&lt;String, String&gt;</code>, thus calling <code>it[\"time\"]</code> is actually equal to calling <code>it.get(\"time\")</code>.</p>\n\n<p>In the second example however, <code>it</code> refers to Model. In Kotlin, you cannot access properties by \"brackets\" syntax (like in JS for example), thus it shows an error. The correct code would be <code>locationList.groupBy { it.time }</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571147495, "creation_date": 1571146765, "question_id": 58396117, "link": "https://stackoverflow.com/questions/58396117/arraylist-i-cant-resolve-this-red-line-code", "title": "ArrayList - I can&#39;t resolve this red line code", "body": "<p>before the code as follows</p>\n\n<pre><code>class MainAdapter(val locationList: ArrayList&lt;HashMap&lt;String,String&gt;&gt;): RecyclerView.Adapter&lt;MainAdapter.ViewHolder&gt;() {\n\n    val byDates = locationList.groupBy { it[\"time\"] }  //this fine \n\n }\n</code></pre>\n\n<p>after that i change to use model</p>\n\n<pre><code>class MainAdapter(val locationList: ArrayList&lt;Model&gt;): RecyclerView.Adapter&lt;MainAdapter.ViewHolder&gt;() {\n\n   val byDates = locationList.groupBy { it[\"time\"] }  //this red line i cant resolve\n\n}\n</code></pre>\n\n<p>and this my model</p>\n\n<pre><code>data class Model(val name : String?,\n                        val address : String?,\n                        val time : String?)\n</code></pre>\n"}, {"tags": ["kotlin", "android-room", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1135, "user_id": 6167844, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ngLbDdXE968/AAAAAAAAAAI/AAAAAAAAAC8/u-537tKvkvY/photo.jpg?sz=128", "display_name": "Dominic Fischer", "link": "https://stackoverflow.com/users/6167844/dominic-fischer"}, "edited": false, "score": 0, "creation_date": 1571147013, "post_id": 58396053, "comment_id": 103137819, "body": "What is the signature of <code>insert</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": true, "score": 0, "last_activity_date": 1571147754, "creation_date": 1571147754, "answer_id": 58396401, "question_id": 58396053, "link": "https://stackoverflow.com/questions/58396053/how-to-know-when-data-is-inserted-in-table-using-room/58396401#58396401", "title": "How to know when data is inserted in table using room?", "body": "<p>One way would be to create a Content observer on your model entity. You can lookup a tutorials online. Basically, the content observer is what its name suggests, it observes the content and notifies you if there is new \"content\" available (in this case a change in the database).</p>\n\n<p>Other, and, I'd say, preferable way is to utilize LiveData. In your <code>Dao</code>, you just add method with the similar signature:</p>\n\n<pre><code>@Query(/*put your select query here*/)\nfun getAll(): LiveData&lt;List&lt;YourModelClass&gt;&gt;\n</code></pre>\n\n<p>then, in your activity, or wherever you want to observe changes, you call </p>\n\n<pre><code>yourDao.getAll().observe(this, Observer { /* your observer implementation */ })\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8327399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7179116ec3989b53fe282a310e2f58?s=128&d=identicon&r=PG&f=1", "display_name": "dj43", "link": "https://stackoverflow.com/users/8327399/dj43"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58396401, "answer_count": 1, "score": -1, "last_activity_date": 1571147754, "creation_date": 1571146560, "question_id": 58396053, "link": "https://stackoverflow.com/questions/58396053/how-to-know-when-data-is-inserted-in-table-using-room", "title": "How to know when data is inserted in table using room?", "body": "<p>I am using room With kotlin coroutines to manage database. I need to access data stored in database just after storing it in next activity but it is giving a error as data is not stored yet. How to know when data is inserted in table?</p>\n\n<pre><code>wordViewModel.insert(it.body()!!.guests[0])\nval intent = Intent(this, Main2Activity::class.java)\nstartActivity(intent)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571146179, "post_id": 58395776, "comment_id": 103137280, "body": "you need to find <code>.recycle()</code> method in your source code and remove that or move it to more adequate place."}, {"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571146770, "post_id": 58395776, "comment_id": 103137650, "body": "I don&#180;t use recycle()"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571147141, "post_id": 58395776, "comment_id": 103137913, "body": "can you add this check <code>bitmapResource == null || bitmapResource.isRecycled()</code>"}, {"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571149126, "post_id": 58395776, "comment_id": 103139143, "body": "that is not necessary. The doc says GC does this work good after android 3"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571149425, "post_id": 58395776, "comment_id": 103139331, "body": "well I can understand what you are saying but there is one widget (whichever could it be) is recycling your bitmap. It may be widget from android aosp, support or 3rd party library. So you need to check if bitmap is recycled, if yes, than you need to create another bitmap. Or you need to find out which is recycling your bitmap. You can do it by hooking debugger into Bitmap.recycle method."}, {"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "reply_to_user": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1571150159, "post_id": 58395776, "comment_id": 103139772, "body": "I can try to debug but this error is reported by crashlytics and it rarely happens, so  when I debug nothing happen. Maybe I can try with <code>bitmapResource == null || bitmapResource.isRecycled()</code> to next release and waiting if the error persint"}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571148851, "post_id": 58395982, "comment_id": 103138974, "body": "this doesn&#180;t work, return null. The doc says &quot;return The decoded bitmap, or null if the image could not be decoded.&quot;"}, {"owner": {"reputation": 519, "user_id": 10608556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhONPBsQaIA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBpEXiYJIpazIjVSORBU373SYOMuQ/mo/photo.jpg?sz=128", "display_name": "alireza daryani", "link": "https://stackoverflow.com/users/10608556/alireza-daryani"}, "reply_to_user": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571208102, "post_id": 58395982, "comment_id": 103158430, "body": "in this case, try another Drawable image.I think issue in your image"}, {"owner": {"reputation": 519, "user_id": 10608556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhONPBsQaIA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBpEXiYJIpazIjVSORBU373SYOMuQ/mo/photo.jpg?sz=128", "display_name": "alireza daryani", "link": "https://stackoverflow.com/users/10608556/alireza-daryani"}, "reply_to_user": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571208167, "post_id": 58395982, "comment_id": 103158462, "body": "try this and update me if its help, <a href=\"https://stackoverflow.com/a/24389104/10608556\">stackoverflow.com/a/24389104/10608556</a>"}, {"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571213136, "post_id": 58395982, "comment_id": 103160912, "body": "that is what I do, the only different is how I getDrawable, <code>val drawable = AppCompatDrawableManager.get().getDrawable(context, imageResource) </code> do you think this is the problem?"}, {"owner": {"reputation": 519, "user_id": 10608556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhONPBsQaIA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBpEXiYJIpazIjVSORBU373SYOMuQ/mo/photo.jpg?sz=128", "display_name": "alireza daryani", "link": "https://stackoverflow.com/users/10608556/alireza-daryani"}, "reply_to_user": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571213324, "post_id": 58395982, "comment_id": 103161012, "body": "why dont use getResource?"}, {"owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571213495, "post_id": 58395982, "comment_id": 103161094, "body": "the code is old and it&#180;s no mine. do you think is better?? I can change and see if the problem dissapears. But I don&#180;t think the problem is the drawable"}, {"owner": {"reputation": 519, "user_id": 10608556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhONPBsQaIA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBpEXiYJIpazIjVSORBU373SYOMuQ/mo/photo.jpg?sz=128", "display_name": "alireza daryani", "link": "https://stackoverflow.com/users/10608556/alireza-daryani"}, "reply_to_user": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "edited": false, "score": 0, "creation_date": 1571213726, "post_id": 58395982, "comment_id": 103161219, "body": "test it, there is no cost"}], "tags": [], "owner": {"reputation": 519, "user_id": 10608556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WhONPBsQaIA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBpEXiYJIpazIjVSORBU373SYOMuQ/mo/photo.jpg?sz=128", "display_name": "alireza daryani", "link": "https://stackoverflow.com/users/10608556/alireza-daryani"}, "is_accepted": false, "score": 0, "last_activity_date": 1571213451, "last_edit_date": 1571213451, "creation_date": 1571146314, "answer_id": 58395982, "question_id": 58395776, "link": "https://stackoverflow.com/questions/58395776/recycle-bitmap-throw-error-android-8-and-9/58395982#58395982", "title": "Recycle bitmap throw error android 8 and 9", "body": "<p>use this code for your convert</p>\n\n<pre><code>Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.image);\n</code></pre>\n\n<p>you must use </p>\n\n<blockquote>\n  <p>BitmapFactory</p>\n</blockquote>\n\n<p>for your converting.</p>\n\n<p>Edited:\nsame method in java, maybe help</p>\n\n<pre><code>public static Bitmap drawableToBitmap (Drawable drawable) {\n\nif (drawable instanceof BitmapDrawable) {\n    return ((BitmapDrawable)drawable).getBitmap();\n}\n\nBitmap bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), \ndrawable.getIntrinsicHeight(), Config.ARGB_8888);\nCanvas canvas = new Canvas(bitmap); \ndrawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\ndrawable.draw(canvas);\n\nreturn bitmap;\n}\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 8455688, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p26b89cOHWI/AAAAAAAAAAI/AAAAAAAANrA/Z389hq3CjsI/photo.jpg?sz=128", "display_name": "Felipe Pereira Garcia", "link": "https://stackoverflow.com/users/8455688/felipe-pereira-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571213451, "creation_date": 1571145732, "last_edit_date": 1571146727, "question_id": 58395776, "link": "https://stackoverflow.com/questions/58395776/recycle-bitmap-throw-error-android-8-and-9", "title": "Recycle bitmap throw error android 8 and 9", "body": "<p>I\u00b4m trying to solve a bug which it\u00b4s only throw in android 8 and 9. I\u00b4m looking in some post but they are old. I find in android doc solutions to android 3 and newer but I think this error it\u00b4s happening for something new. I\u00b4ve tried to resolve with the docs info but I can\u00b4t import some class, like 'RecyclingBitmapDrawable'</p>\n\n<p>Here de android doc: <a href=\"https://developer.android.com/topic/performance/graphics/manage-memory#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/performance/graphics/manage-memory#kotlin</a></p>\n\n<p>And a post I read:\n<a href=\"https://stackoverflow.com/questions/43756142/canvas-trying-to-use-a-recycled-bitmap-error\">Canvas: Trying to use a recycled bitmap error</a></p>\n\n<p>I\u00b4m trying to control that bitmap error with this code.</p>\n\n<pre><code>companion object {\n    private var bitmapResource: Bitmap? = null\n    fun getCropBitmapResource(context: Context): Bitmap {\n      if (bitmapResource == null) {\n        bitmapResource = drawableResourceToBitmap(context, R.drawable.ic_select)\n      }\n      return bitmapResource!!\n    }\n}\n\nfun drawableResourceToBitmap(context: Context, imageResource: Int): Bitmap {\n      val drawable = AppCompatDrawableManager.get().getDrawable(context, imageResource)\n      val bitmapResource = Bitmap.createBitmap(drawable.intrinsicWidth, drawable.intrinsicHeight, Bitmap.Config.ARGB_8888)\n      val canvas = Canvas(bitmapResource)\n\n      drawable.setBounds(0, 0, canvas.width, canvas.height)\n      drawable.draw(canvas)\n      return bitmapResource\n}\n</code></pre>\n\n<p>Here the error</p>\n\n<pre><code>Canvas: trying to use a recycled bitmap android.graphics.Bitmap@73618ca\nandroid.graphics.BaseCanvas.throwIfCannotDraw (BaseCanvas.java:62)\nandroid.view.DisplayListCanvas.throwIfCannotDraw (DisplayListCanvas.java:226)\nandroid.view.RecordingCanvas.drawBitmap (RecordingCanvas.java:98)\nandroid.graphics.drawable.BitmapDrawable.draw (BitmapDrawable.java:545)\nandroid.widget.ImageView.onDraw (ImageView.java:1360)\nandroid.view.View.draw (View.java:20234)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.draw (View.java:20237)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroidx.constraintlayout.widget.ConstraintLayout.dispatchDraw (ConstraintLayout.java:2023)\nandroid.view.View.updateDisplayListIfDirty (View.java:19100)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.draw (View.java:20237)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.draw (View.java:20237)\nandroidx.viewpager.widget.ViewPager.draw (ViewPager.java:2426)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroidx.constraintlayout.widget.ConstraintLayout.dispatchDraw (ConstraintLayout.java:2023)\nandroid.view.View.draw (View.java:20237)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.updateDisplayListIfDirty (View.java:19100)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.updateDisplayListIfDirty (View.java:19100)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.updateDisplayListIfDirty (View.java:19100)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.updateDisplayListIfDirty (View.java:19100)\nandroid.view.View.draw (View.java:19962)\nandroid.view.ViewGroup.drawChild (ViewGroup.java:4337)\nandroid.view.ViewGroup.dispatchDraw (ViewGroup.java:4114)\nandroid.view.View.draw (View.java:20237)\ncom.android.internal.policy.DecorView.draw (DecorView.java:784)\nandroid.view.View.updateDisplayListIfDirty (View.java:19109)\nandroid.view.ThreadedRenderer.updateViewTreeDisplayList (ThreadedRenderer.java:686)\nandroid.view.ThreadedRenderer.updateRootDisplayList (ThreadedRenderer.java:692)\nandroid.view.ThreadedRenderer.draw (ThreadedRenderer.java:801)\nandroid.view.ViewRootImpl.draw (ViewRootImpl.java:3361)\nandroid.view.ViewRootImpl.performDraw (ViewRootImpl.java:3158)\nandroid.view.ViewRootImpl.performTraversals (ViewRootImpl.java:2527)\nandroid.view.ViewRootImpl.doTraversal (ViewRootImpl.java:1500)\nandroid.view.ViewRootImpl$TraversalRunnable.run (ViewRootImpl.java:7342)\nandroid.view.Choreographer$CallbackRecord.run (Choreographer.java:1036)\nandroid.view.Choreographer.doCallbacks (Choreographer.java:832)\nandroid.view.Choreographer.doFrame (Choreographer.java:767)\nandroid.view.Choreographer$FrameDisplayEventReceiver.run (Choreographer.java:1022)\nandroid.os.Handler.handleCallback (Handler.java:873)\nandroid.os.Handler.dispatchMessage (Handler.java:99)\nandroid.os.Looper.loop (Looper.java:201)\nandroid.app.ActivityThread.main (ActivityThread.java:6810)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:547)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:873)\n</code></pre>\n\n<p>I don\u00b4t call recycle() in any part of my code.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-experimental"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571143889, "post_id": 58395128, "comment_id": 103135802, "body": "You are missing the experimental flag <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#enabling-experimental-features\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1042, "user_id": 2451577, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/494cfec284ea476008514572567d5069?s=128&d=identicon&r=PG", "display_name": "BCarlson", "link": "https://stackoverflow.com/users/2451577/bcarlson"}, "edited": false, "score": 0, "creation_date": 1571144961, "post_id": 58395238, "comment_id": 103136523, "body": "I tried adding it after the plugins, Is that in the correct location?  I haven&#39;t worked with gradle files much, since I most do C# development.  If that&#39;s the correct place, maybe I had a typo or something."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "reply_to_user": {"reputation": 1042, "user_id": 2451577, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/494cfec284ea476008514572567d5069?s=128&d=identicon&r=PG", "display_name": "BCarlson", "link": "https://stackoverflow.com/users/2451577/bcarlson"}, "edited": false, "score": 0, "creation_date": 1571151225, "post_id": 58395238, "comment_id": 103140395, "body": "Add it inside the android{...} Tag"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1571144099, "creation_date": 1571144099, "answer_id": 58395238, "question_id": 58395128, "link": "https://stackoverflow.com/questions/58395128/kotlin-1-3-50-parcelize-unresolved-reference-error/58395238#58395238", "title": "Kotlin 1.3.50 Parcelize unresolved reference error", "body": "<p>You need to add </p>\n\n<pre><code>androidExtensions {\n        experimental = true\n    }\n</code></pre>\n\n<p>In your app's build.gradle</p>\n"}, {"comments": [{"owner": {"reputation": 1042, "user_id": 2451577, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/494cfec284ea476008514572567d5069?s=128&d=identicon&r=PG", "display_name": "BCarlson", "link": "https://stackoverflow.com/users/2451577/bcarlson"}, "edited": false, "score": 0, "creation_date": 1571148815, "post_id": 58395671, "comment_id": 103138961, "body": "Thanks.  I&#39;ll test this in a couple of hours.  This is a personal project I&#39;m working on."}, {"owner": {"reputation": 1042, "user_id": 2451577, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/494cfec284ea476008514572567d5069?s=128&d=identicon&r=PG", "display_name": "BCarlson", "link": "https://stackoverflow.com/users/2451577/bcarlson"}, "edited": false, "score": 0, "creation_date": 1571163739, "post_id": 58395671, "comment_id": 103146367, "body": "I had added the androidExtensions at the root level and not a child of android node.  Additionall, my data class didn&#39;t have : Parcelable at the end."}], "tags": [], "owner": {"reputation": 206, "user_id": 11818651, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LhJyVqCD9ao/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdMc1B-XMq8xTa-1JUaUrhhAsjm1g/photo.jpg?sz=128", "display_name": "Hinal Halvadia", "link": "https://stackoverflow.com/users/11818651/hinal-halvadia"}, "is_accepted": true, "score": 2, "last_activity_date": 1571830030, "last_edit_date": 1571830030, "creation_date": 1571145399, "answer_id": 58395671, "question_id": 58395128, "link": "https://stackoverflow.com/questions/58395128/kotlin-1-3-50-parcelize-unresolved-reference-error/58395671#58395671", "title": "Kotlin 1.3.50 Parcelize unresolved reference error", "body": "<pre><code>android {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n       ....\n    }\n    buildTypes {\n        release {\n            ...\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1042, "user_id": 2451577, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/494cfec284ea476008514572567d5069?s=128&d=identicon&r=PG", "display_name": "BCarlson", "link": "https://stackoverflow.com/users/2451577/bcarlson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 58395671, "answer_count": 2, "score": 1, "last_activity_date": 1571830030, "creation_date": 1571143751, "last_edit_date": 1571213494, "question_id": 58395128, "link": "https://stackoverflow.com/questions/58395128/kotlin-1-3-50-parcelize-unresolved-reference-error", "title": "Kotlin 1.3.50 Parcelize unresolved reference error", "body": "<p>Working my first android app, kotlin 1.3.50. I initially implemented Parcelable, but switched to parcelize and then added the enums.   Here is my data class</p>\n\n<pre><code>package com.igniterobotics.scouting_2019.Models\n\nimport android.os.Parcel\nimport android.os.Parcelable\nimport com.igniterobotics.scouting_2019.Enums.Movement\nimport com.igniterobotics.scouting_2019.Enums.Preload\nimport com.igniterobotics.scouting_2019.Enums.StartingPosition\n\n@Parcelize\ndata class AutonResult(var hatchCount: Int, var cargoCount: Int, \n      var intakeDrop: Int, var itemDrops: Int, var startingPosision: StartingPosition, \n      var preload: Preload, var movement: Movement\n)\n</code></pre>\n\n<p>One question mentioned plugin order in the build.gradle as a source for the issue.  Here's mine</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Any idea why I @Parcelize can't be resolved?</p>\n"}, {"tags": ["android", "kotlin", "butterknife"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 1, "creation_date": 1571143037, "post_id": 58394840, "comment_id": 103135286, "body": "You can use synthetic imports just fine. I&#39;m also using it in favor of ButterKnife. That said, see this <a href=\"https://stackoverflow.com/a/58155708/3999808\">stackoverflow.com/a/58155708/3999808</a>"}, {"owner": {"reputation": 319, "user_id": 5899024, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2104152a9dccf35032b3620cec36874a?s=128&d=identicon&r=PG&f=1", "display_name": "Asad Ali", "link": "https://stackoverflow.com/users/5899024/asad-ali"}, "edited": false, "score": 0, "creation_date": 1571144643, "post_id": 58394840, "comment_id": 103136301, "body": "use DataBinding Its best and also databinding is also used for many other things"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 11368976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f1e88a15a964115b8249084ca447bb?s=128&d=identicon&r=PG&f=1", "display_name": "DevSrSouza", "link": "https://stackoverflow.com/users/11368976/devsrsouza"}, "is_accepted": false, "score": 0, "last_activity_date": 1571144153, "creation_date": 1571144153, "answer_id": 58395249, "question_id": 58394840, "link": "https://stackoverflow.com/questions/58394840/should-we-use-butterknife-or-findviewbyid-with-kotlin-android-project-as-we-ca/58395249#58395249", "title": "Should we use butterknife or findViewById() with Kotlin Android project as we can directly access views by id", "body": "<p>I think you will not use anymore, just if you want? But I believe that is not because of the Synthetic Accessors, it's because of the Data Bindings and the announced this year, <a href=\"https://proandroiddev.com/new-in-android-viewbindings-the-difference-from-databinding-library-bef5945baf5e\" rel=\"nofollow noreferrer\">View Binding</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2067468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a4925dd8ec4a04c3c2922086dfd4a5?s=128&d=identicon&r=PG", "display_name": "Rock", "link": "https://stackoverflow.com/users/2067468/rock"}, "edited": false, "score": 0, "creation_date": 1571748566, "post_id": 58395900, "comment_id": 103337714, "body": "Yes, You are right but Data binding is a bit complicated in the case of CustomView."}, {"owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "reply_to_user": {"reputation": 1, "user_id": 2067468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a4925dd8ec4a04c3c2922086dfd4a5?s=128&d=identicon&r=PG", "display_name": "Rock", "link": "https://stackoverflow.com/users/2067468/rock"}, "edited": false, "score": 0, "creation_date": 1571752032, "post_id": 58395900, "comment_id": 103339648, "body": "What do you mean of CustomView? @Rock"}], "tags": [], "owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "is_accepted": false, "score": 1, "last_activity_date": 1571146100, "creation_date": 1571146100, "answer_id": 58395900, "question_id": 58394840, "link": "https://stackoverflow.com/questions/58394840/should-we-use-butterknife-or-findviewbyid-with-kotlin-android-project-as-we-ca/58395900#58395900", "title": "Should we use butterknife or findViewById() with Kotlin Android project as we can directly access views by id", "body": "<p><code>ButterKnife</code> is an old solution for view binding. It has less boilerplate code than old <code>findviewbyId</code> way but because of <code>annotation processors</code> it impacts build time speed and doesn't provide <code>Null safety</code> and <code>Type safety</code>. A better solution is <code>kotlinx.android.synthetic</code> that you used in your example but it has some problems too. For example, if you set your content view to a layout, then type an id that only exists in a different layout, the IDE lets you autocomplete and add the new import statement. Unless the developer specifically checks to make sure their import statements only import the correct views, there is no safe way to verify that this won\u2019t cause a runtime issue. As everything is global, one has to be careful to make sure that they only use views they are expecting and ignore the autocomplete. <code>DataBinding</code> and <code>ViewBinding</code>  are the best solutions for now. They are similar at first look. Both generate binding classes that you can use to reference views directly with support <code>Null safety</code> and <code>Type safety</code>, but there are differences:</p>\n\n<ul>\n<li><code>DataBinding</code> approach needs you to add <code>&lt;layout&gt;</code> tag to your XML layout in order to enable the data binding process</li>\n<li><code>ViewBinding</code> doesn\u2019t support layout variables or layout expressions, so it can\u2019t be used to bind layouts with data in XML</li>\n</ul>\n\n<p><code>ViewBinding</code> is faster than <code>DataBinding</code> in build time because it does n't use annotation processors.</p>\n"}, {"tags": [], "owner": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "is_accepted": false, "score": 0, "last_activity_date": 1571166377, "creation_date": 1571166377, "answer_id": 58401176, "question_id": 58394840, "link": "https://stackoverflow.com/questions/58394840/should-we-use-butterknife-or-findviewbyid-with-kotlin-android-project-as-we-ca/58401176#58401176", "title": "Should we use butterknife or findViewById() with Kotlin Android project as we can directly access views by id", "body": "<p>Nope, here is the the magic of kotlin. Just use your id from the layout file (xml) and directly use it. Like:\n            <code>button.setOnClickListener {}</code>\nand so on. hope it will help.</p>\n"}], "owner": {"reputation": 1, "user_id": 2067468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a4925dd8ec4a04c3c2922086dfd4a5?s=128&d=identicon&r=PG", "display_name": "Rock", "link": "https://stackoverflow.com/users/2067468/rock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1571166377, "creation_date": 1571142830, "question_id": 58394840, "link": "https://stackoverflow.com/questions/58394840/should-we-use-butterknife-or-findviewbyid-with-kotlin-android-project-as-we-ca", "title": "Should we use butterknife or findViewById() with Kotlin Android project as we can directly access views by id", "body": "<p>I'm able to access my layout views(like button, TextView, EditText etc) directly inside the activity by their ids defined in layout xml file in Kotlin android project.  </p>\n\n<p>So, do we need to use findviewbyId(), or butterknife lib in kotlin android project?</p>\n\n<p>StudentActivity.kt</p>\n\n<pre><code>\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val studentViewModel = getStudentViewModel()\n\n        updateButton.setOnClickListener {\n            val name = nameEditText.text.toString()\n            val age = ageEditText.text.toString()\n            val subject = subjectEditText.text.toString()\n\n                studentViewModel.updateStudentRecord(\n                    Student(\n                        name,\n                        Integer.parseInt(age),\n                        subject\n                    )\n                )\n\n    }\n}\n}```\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "dagger-2", "viewmodelproviders"], "answers": [{"comments": [{"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1571147912, "post_id": 58395950, "comment_id": 103138416, "body": "kotlin configure correctly and issue only comes on Kitkat devices."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1571148099, "post_id": 58395950, "comment_id": 103138530, "body": "Which <code>kotlin-stdlib</code> artifact are you using? Probably KitKat needs <code>kotlin-stdlib</code>, not <code>kotli-stdlib-jdk7</code>"}, {"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1571148529, "post_id": 58395950, "comment_id": 103138774, "body": "I am using kotlin-stdlib-jdk7"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1571146228, "creation_date": 1571146228, "answer_id": 58395950, "question_id": 58393888, "link": "https://stackoverflow.com/questions/58393888/noclassdeffounderror-at-appmodule-provideviewmodelfactoriesappmodule-kt/58395950#58395950", "title": "NoClassDefFoundError at AppModule.provideViewModelFactories(AppModule.kt)", "body": "<p>Make sure that you've <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#targeting-android\" rel=\"nofollow noreferrer\">configured Kotlin in Android project</a> in a right way:</p>\n\n<ol>\n<li><p><code>kotlin-android</code> Gradle plugin is added to the build:</p>\n\n<pre><code>plugins {\n    id(\"com.android.application\")\n    kotlin(\"android\") // This one is important\n    ...\n}\n</code></pre></li>\n<li><p>Standard library dependency is included:</p>\n\n<pre><code>dependencies {\n    ...\n    implementation(kotlin(\"stdlib-jdk7\", KotlinCompilerVersion.VERSION))\n    ...\n}\n</code></pre></li>\n</ol>\n\n<p>Take a look at a sample project in <a href=\"https://github.com/gradle/kotlin-dsl-samples/blob/master/samples/hello-android/app/build.gradle.kts#L29\" rel=\"nofollow noreferrer\">this repo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1571148676, "post_id": 58396656, "comment_id": 103138866, "body": "I have added my Application class . See EDIT section in Question. I have to extend it with Dagger"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1571150644, "post_id": 58396656, "comment_id": 103140050, "body": "@XarEAhmer you need to move <code>MultiDex.install(this)</code> into <code>attachBaseContext</code> instead of calling it after <code>super.onCreate()</code>. Theoretically it would also work if you call <code>MultiDex.install(this)</code> <b><i>before</i></b> <code>super.onCreate()</code>."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1571148555, "creation_date": 1571148555, "answer_id": 58396656, "question_id": 58393888, "link": "https://stackoverflow.com/questions/58393888/noclassdeffounderror-at-appmodule-provideviewmodelfactoriesappmodule-kt/58396656#58396656", "title": "NoClassDefFoundError at AppModule.provideViewModelFactories(AppModule.kt)", "body": "<p>If this happens only on Kitkat, then it's probably a multi-dexing issue.</p>\n\n<p>You should do the following:</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 15 \n        targetSdkVersion 28\n        multiDexEnabled true\n    }\n    ...\n}\n\ndependencies {\n  implementation 'com.android.support:multidex:1.0.3'\n}\n</code></pre>\n\n<p>in AndroidManifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.myapp\"&gt;\n    &lt;application\n            android:name=\"com.acme.myapp.CustomApplication\" &gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>And in CustomApplication:</p>\n\n<pre><code>public class CustomApplication extends Application {\n  @Override\n  protected void attachBaseContext(Context base) {\n     super.attachBaseContext(base);\n     MultiDex.install(this);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 58396656, "answer_count": 2, "score": 3, "last_activity_date": 1571148631, "creation_date": 1571139793, "last_edit_date": 1571148631, "question_id": 58393888, "link": "https://stackoverflow.com/questions/58393888/noclassdeffounderror-at-appmodule-provideviewmodelfactoriesappmodule-kt", "title": "NoClassDefFoundError at AppModule.provideViewModelFactories(AppModule.kt)", "body": "<p>I am facing this crash only on Kitkat device. My logcat is below. Crashed at <code>getViewModel</code> </p>\n\n<pre><code>Fatal Exception: java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics\n       at com.transferhome.di.AppModule.provideViewModelFactories(AppModule.kt)\n       at com.transferhome.di.AppModule_ProvideViewModelFactoriesFactory.provideViewModelFactories(AppModule_ProvideViewModelFactoriesFactory.java:34)\n       at com.transferhome.di.DaggerAppComponent.getViewModelProviderFactory(DaggerAppComponent.java:281)\n       at com.transferhome.di.DaggerAppComponent.access$3500(DaggerAppComponent.java:124)\n       at com.transferhome.di.DaggerAppComponent$SplashActivitySubcomponentImpl.injectSplashActivity(DaggerAppComponent.java:920)\n       at com.transferhome.di.DaggerAppComponent$SplashActivitySubcomponentImpl.inject(DaggerAppComponent.java:916)\n       at com.transferhome.di.DaggerAppComponent$SplashActivitySubcomponentImpl.inject(DaggerAppComponent.java:909)\n       at dagger.android.DispatchingAndroidInjector.maybeInject(DispatchingAndroidInjector.java:113)\n       at dagger.android.DispatchingAndroidInjector.inject(DispatchingAndroidInjector.java:134)\n       at dagger.android.AndroidInjection.inject(AndroidInjection.java:63)\n       at dagger.android.support.DaggerAppCompatActivity.onCreate(DaggerAppCompatActivity.java:41)\n       at com.transferhome.commons.BaseActivity.onCreate(BaseActivity.kt:41)\n       at com.transferhome.splash.SplashActivity.onCreate(SplashActivity.kt:38)\n</code></pre>\n\n<p>where Splash</p>\n\n<pre><code>class SplashActivity : BaseActivity() {\n\n    private lateinit var viewModel: SplashViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        viewModel = getViewModel()\n\n        viewModel.onMoveToNext.listen(this) {\n            Handler().postDelayed({\n                openActivityAndClearTask(it)\n            }, 2000)\n        }\n    }\n}\n</code></pre>\n\n<p>BaseActivity.kt</p>\n\n<pre><code>abstract class BaseActivity : DaggerAppCompatActivity() {\n\n    @Inject\n    lateinit var factories: ViewModelProvider.Factory\n\n    inline fun &lt;reified T : ViewModel&gt; getViewModel(): T {\n        return ViewModelProviders.of(this, factories)[T::class.java]\n    }\n}\n</code></pre>\n\n<p>where AppModule.kt</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Provides\n    fun provideViewModelFactories(viewModels: Map&lt;Class&lt;out ViewModel&gt;,\n            @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;):\n            ViewModelProvider.Factory {\n        return object : ViewModelProvider.Factory {\n            override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n                val factory = viewModels[modelClass]?.get() ?: error(\n                    \"No factory provided against ${modelClass.name}\"\n                )\n                @Suppress(\"UNCHECKED_CAST\")\n                return factory as T\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>class App : DaggerApplication() {\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n        return DaggerAppComponent.builder().addContext(this).build()\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        MultiDex.install(this)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-renderscript"], "comments": [{"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "edited": false, "score": 0, "creation_date": 1571137548, "post_id": 58393025, "comment_id": 103132315, "body": "So I guess the BlurringView is somehow getting obfuscated. Can you check it works or not if you add a keep rule for this class"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1571137867, "post_id": 58393025, "comment_id": 103132473, "body": "add <code>-keep class android.support.v8.renderscript.** { *; }</code> proguard"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1571141686, "post_id": 58393025, "comment_id": 103134494, "body": "@IntelliJAmiya i added, u can check link in solution, which i tried <a href=\"https://github.com/500px/500px-android-blur/issues/15#issuecomment-171693786\" rel=\"nofollow noreferrer\">github.com/500px/500px-android-blur/issues/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1402, "user_id": 3811983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Aam84.png?s=128&g=1", "display_name": "mumayank", "link": "https://stackoverflow.com/users/3811983/mumayank"}, "edited": false, "score": 0, "creation_date": 1571206059, "post_id": 58395970, "comment_id": 103157636, "body": "Great to know you solved it :) @Morozov, please accept your own answer so that others facing the same issue find the right answer quickly. Thanks!"}], "tags": [], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "is_accepted": true, "score": 1, "last_activity_date": 1571146284, "creation_date": 1571146284, "answer_id": 58395970, "question_id": 58393025, "link": "https://stackoverflow.com/questions/58393025/add-blurringview-in-project/58395970#58395970", "title": "Add BlurringView in project", "body": "<p>Solved my problem with next solution:</p>\n\n<p>1) Added in <code>proguard-rules.pro</code>:</p>\n\n<pre><code>-keep class androidx.renderscript.** { *; }\n</code></pre>\n\n<p>2) Modified build.gradle(app):</p>\n\n<pre><code>release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 58395970, "answer_count": 1, "score": 1, "last_activity_date": 1571146284, "creation_date": 1571136926, "last_edit_date": 1571142477, "question_id": 58393025, "link": "https://stackoverflow.com/questions/58393025/add-blurringview-in-project", "title": "Add BlurringView in project", "body": "<p>Added next dependencies:</p>\n\n<pre><code>defaultConfig {\n    renderscriptTargetApi 21\n    renderscriptSupportModeEnabled true\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>implementation 'com.fivehundredpx:blurringview:1.0.0'\n</code></pre>\n\n<p>In repo:</p>\n\n<pre><code>repositories {\n    maven { url 'https://github.com/500px/500px-android-blur/raw/master/releases/' }\n</code></pre>\n\n<p>And get error when tried to inflate:</p>\n\n<pre><code>    init {\n    inflate(context, R.layout.view_authorization_content,this)\n    blurringView?.setBlurredView(blurredView)\n    blurringView?.invalidate()\n}\n</code></pre>\n\n<p>In my code i have:</p>\n\n<pre><code>minifyEnabled true\n</code></pre>\n\n<p>If i change on false, all works fine.\nAlso tried fix with this <a href=\"https://github.com/500px/500px-android-blur/issues/15#issuecomment-171693786\" rel=\"nofollow noreferrer\">solution</a>.</p>\n\n<p>I added in my file <code>proguard-rules.pro</code>:</p>\n\n<pre><code>-keep class android.support.v8.renderscript.** { *; }\n</code></pre>\n\n<p>Also u can check some code from my build(app):</p>\n\n<pre><code>buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n            lintOptions {\n                disable 'MissingTranslation'\n                // google services plugin is causing missing translation issue\n            }\n            testCoverageEnabled false\n            debuggable false\n        }\n        debug {\n            lintOptions {\n                disable 'MissingTranslation'\n                // google services plugin is causing missing translation issue\n            }\n            testCoverageEnabled true\n        }\n    }\n</code></pre>\n\n<p>My error when <code>minifyEnabled</code> is <code>true</code>:</p>\n\n<blockquote>\n  <p>Binary XML file line #122: Binary XML file line #122: Error inflating\n  class com.fivehundredpx.android.blur.BlurringView\n      Caused by: android.view.InflateException: Binary XML file line #122: Error inflating class com.fivehundredpx.android.blur.BlurringView\n      Caused by: java.lang.reflect.InvocationTargetException</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "transactions", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12095818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hipsnNi-MXo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfOuNn72SF93UkivMNuHoro6zCwlQ/photo.jpg?sz=128", "display_name": "\uc11c\ub3d9\ube48", "link": "https://stackoverflow.com/users/12095818/%ec%84%9c%eb%8f%99%eb%b9%88"}, "edited": false, "score": 0, "creation_date": 1571151620, "post_id": 58395381, "comment_id": 103140646, "body": "Thank you!! I&#39;m glad it wasn&#39;t a problem."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 0, "last_activity_date": 1571144550, "creation_date": 1571144550, "answer_id": 58395381, "question_id": 58392980, "link": "https://stackoverflow.com/questions/58392980/is-it-possible-single-document-with-double-transaction-at-firestore/58395381#58395381", "title": "is it possible single document with double transaction at firestore?", "body": "<p>Firestore transactions are optimistic. In your transaction code you first <em>read</em> the document, then you determine the new value, and then you <em>write</em> the document. The Firestore client sends both the value it read <em>and</em> the new value to the server. The server then compares the value you read to the document it has, and only writes your new value if the document was unmodified during your transaction.</p>\n\n<p>All this means is that there's no way for a document to be overwritten incorrectly if all client are using transactions. If you're seeing an incorrect write, you might want to check if you're not using a transaction somewhere.</p>\n"}], "owner": {"reputation": 5, "user_id": 12095818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hipsnNi-MXo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfOuNn72SF93UkivMNuHoro6zCwlQ/photo.jpg?sz=128", "display_name": "\uc11c\ub3d9\ube48", "link": "https://stackoverflow.com/users/12095818/%ec%84%9c%eb%8f%99%eb%b9%88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58395381, "answer_count": 1, "score": 0, "last_activity_date": 1571144550, "creation_date": 1571136780, "last_edit_date": 1571144175, "question_id": 58392980, "link": "https://stackoverflow.com/questions/58392980/is-it-possible-single-document-with-double-transaction-at-firestore", "title": "is it possible single document with double transaction at firestore?", "body": "<p>I am making todolist app. \nwhen I use transaction, I have a question.</p>\n\n<p>I try to change todolist user count using transaction.\nbut It is became that user count is changed from each other two activity for some reason</p>\n\n<p>So, this is that code</p>\n\n<p>add user in todolist</p>\n\n<pre><code>val todoListRef = firestore!!.collection(\"todoList\").document(intent.getStringExtra(\"checkList_name\"))\n\nfirestore?.runTransaction { transaction -&gt;\n    var todoListDTO = transaction.get(todoListRef).toObject(TodoListDTO::class.java)\n    if (todoListDTO == null) {\n        todoListDTO = TodoListDTO()\n        transaction.set(todoListRef, todoListDTO)\n        return@runTransaction\n    }\n\n    if (!todoListDTO.todoListUsers.containsKey(currentUserUid!!)) {\n\n        todoListDTO.todoListUserCount = todoListDTO.todoListUserCount + 1\n        todoListDTO.todoListUsers[currentUserUid!!] = true\n    }\n    transaction.set(todoListRef, todoListDTO)\n    return@runTransaction\n}\n</code></pre>\n\n<p>remove user in todolist</p>\n\n<pre><code>val todoListRef = firestore!!.collection(\"todoList\").document(checkListName!!)\n\nfirestore?.runTransaction { transaction -&gt;\n    val todoListDTO = transaction.get(todoListRef).toObject(TodoListDTO::class.java)\n    todoListDTO!!.todoListUserCount = todoListDTO.todoListUserCount - 1\n    todoListDTO.todoListUsers.remove(currentUserUid!!)\n    transaction.set(todoListRef, todoListDTO)\n\n    return@runTransaction\n}\n\n</code></pre>\n\n<p>I'm worried about crash of transaction.\nIf someone is added todolist user count and at the same time the other someone is removed todolist user count, It cause transaction crush or not reflected the change.\nIs it right? Or can I use double transaction with one document?</p>\n\n<p>If it is problem, How can I change single document data without interrupting the transaction at each other activity?</p>\n\n<p>Always Thank you.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 477, "user_id": 11511226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e4513bdb0f7d113b3b0ca84b53b51b?s=128&d=identicon&r=PG&f=1", "display_name": "B-Schmidt", "link": "https://stackoverflow.com/users/11511226/b-schmidt"}, "is_accepted": false, "score": 0, "last_activity_date": 1571224089, "creation_date": 1571224089, "answer_id": 58411894, "question_id": 58392972, "link": "https://stackoverflow.com/questions/58392972/tornadofx-map-observablelist-to-different-observablelist/58411894#58411894", "title": "TornadoFX map ObservableList to different ObservableList", "body": "<p>What I ended up doing is putting a change listener on the list that updates the chart and puts change listeners on all relevant properties of the <code>Roll</code>s (which also update the chart):</p>\n\n<pre><code>barchart(x = CategoryAxis(), y = NumberAxis()) {\n    animated = true\n    updateData(this)\n    rolls.forEach {\n        it.nameProperty.onChange { updateData(this) }\n        it.results.onChange { updateData(this) }\n    }\n    rolls.onChange {\n        updateData(this)\n        it.addedSubList.forEach {\n            it.nameProperty.onChange { updateData(this) }\n            it.results.onChange { updateData(this) }\n        }\n    }\n}\n</code></pre>\n\n<p>To that end I put the data conversion function I mentioned in my question into a separate function:</p>\n\n<pre><code>fun updateData(chart: BarChart&lt;String, Number&gt;){\n    chart.data = rolls.map { roll -&gt;\n        XYChart.Series&lt;String, Number&gt;(roll.name, roll.results.map { (result, chance) -&gt;\n            XYChart.Data&lt;String, Number&gt;(result.toString(), chance)\n        }.asObservable())\n    }.asObservable()\n}\n</code></pre>\n\n<p>The solution still feels somewhat dirty though, so if anyone knows a cleaner way to do that I would appreciate it.</p>\n"}], "owner": {"reputation": 477, "user_id": 11511226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2e4513bdb0f7d113b3b0ca84b53b51b?s=128&d=identicon&r=PG&f=1", "display_name": "B-Schmidt", "link": "https://stackoverflow.com/users/11511226/b-schmidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571224089, "creation_date": 1571136756, "last_edit_date": 1571138320, "question_id": 58392972, "link": "https://stackoverflow.com/questions/58392972/tornadofx-map-observablelist-to-different-observablelist", "title": "TornadoFX map ObservableList to different ObservableList", "body": "<p>I have an <code>ObservableList</code> containing a number of custom objects (<code>val rolls: ObservableList&lt;Roll&gt;</code>). Each of these objects has a <code>val results: ObservableList&lt;Pair&lt;Int, Double&gt;&gt;</code>. The Pairs represent a possible number and the chance for this result occurring. I would like to visualize these pairs in a <code>BarChart</code>. The <code>Roll</code>s also contain the name for the series. The results, names and the list of rolls can change at a later time (through user input) and that should be reflected in the chart.</p>\n\n<p>A minimal sample of the class <code>Roll</code> looks like this:</p>\n\n<pre><code>class Roll (\n    val results: ObservableList&lt;Pair&lt;Int, Double&gt;&gt;,\n    initialName: String\n){\n    val nameProperty = SimpleStringProperty(initialName)\n    var name by nameProperty\n}\n</code></pre>\n\n<p>What I have tried is the following:</p>\n\n<pre><code>barchart(x = CategoryAxis(), y = NumberAxis()) {\n    data = rolls.map { roll -&gt;\n        XYChart.Series&lt;String, Number&gt;(roll.name, roll.results.map { (result, chance) -&gt;\n            XYChart.Data&lt;String, Number&gt;(result.toString(), chance)\n        }.asObservable())\n    }.asObservable()\n}\n</code></pre>\n\n<p>This successfully maps the data to the correct form and displays it. The problem with this approach is of course that it does not reflect changes to <code>rolls</code> or elements in <code>rolls</code>. Is there a way to achieve that?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "android-junit"], "comments": [{"owner": {"reputation": 873, "user_id": 8301375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9fa79e1b4a2eb5a77c12858f3d9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Traendy", "link": "https://stackoverflow.com/users/8301375/traendy"}, "edited": false, "score": 0, "creation_date": 1571136570, "post_id": 58392878, "comment_id": 103131822, "body": "Maybe you are missing this: <a href=\"https://developer.android.com/training/testing/espresso/setup#set-instrumentation-runner\" rel=\"nofollow noreferrer\">developer.android.com/training/testing/espresso/&hellip;</a>"}, {"owner": {"reputation": 743, "user_id": 3283350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfjEh.jpg?s=128&g=1", "display_name": "ravi", "link": "https://stackoverflow.com/users/3283350/ravi"}, "reply_to_user": {"reputation": 873, "user_id": 8301375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9fa79e1b4a2eb5a77c12858f3d9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Traendy", "link": "https://stackoverflow.com/users/8301375/traendy"}, "edited": false, "score": 0, "creation_date": 1571136709, "post_id": 58392878, "comment_id": 103131895, "body": "@Traendy No I am not. Double checked it. I have other UI Tests running good, so it could not have been the case that I missed <code>testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;</code>"}, {"owner": {"reputation": 873, "user_id": 8301375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb9fa79e1b4a2eb5a77c12858f3d9fa?s=128&d=identicon&r=PG&f=1", "display_name": "Traendy", "link": "https://stackoverflow.com/users/8301375/traendy"}, "edited": false, "score": 1, "creation_date": 1571137120, "post_id": 58392878, "comment_id": 103132089, "body": "Maybe there is confusion because you added two times androidTestImplementation &quot;androidx.test.espresso:espresso-core:$espresso_version&quot;  and  androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;"}], "owner": {"reputation": 743, "user_id": 3283350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hfjEh.jpg?s=128&g=1", "display_name": "ravi", "link": "https://stackoverflow.com/users/3283350/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571136465, "creation_date": 1571136465, "question_id": 58392878, "link": "https://stackoverflow.com/questions/58392878/classnotfoundexception-on-intrumentationregistry-while-running-test", "title": "ClassNotFoundException on IntrumentationRegistry while running Test", "body": "<p>I have a utility class in my application that saves the User data from the server onto the SharedPreferences. I was trying to test the utilty class which is named <code>UserLocalStore.kt</code></p>\n\n<p>I wrote the following test class to do that:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass UserLocalStoreTest {\n\n    lateinit var userLocalStore: UserLocalStore\n    lateinit var context: Context\n    lateinit var user: User\n\n    @Before\n    fun setUp() {\n        context = InstrumentationRegistry.getInstrumentation().context\n        userLocalStore = UserLocalStore(context)\n        userLocalStore.clearUserData()\n        user = User(\n            1,\n            \"test\",\n            \"test@test.com\",\n            \"test_url\",\n            \"9817******\",\n            \"test address\",\n            1,\n            \"yes\",\n            \"2019-02-02\",\n            \"2019-03-03\",\n            1\n        )\n    }\n\n    @Test\n    fun storeUserData() {\n        //get an instance of the editor\n        val userLocalDatabaseEditor = context.getSharedPreferences(\n            Constants.USER_LOCAL_STORE_SHARED_PREF_NAME,\n            Context.MODE_PRIVATE\n        ).edit()\n\n        //use the editor to put the User model into the shared preference\n        userLocalDatabaseEditor.putString(UserLocalStore.SERIALIZED_DATA_KEY, user.serialize())\n\n        //assert that the data has indeed been stored\n        val committed = userLocalDatabaseEditor.commit()\n        assertTrue(committed)\n    }\n</code></pre>\n\n<p>When I run the test method, I get a <code>ClassNotFoundException</code>. What I am doing wrong here?</p>\n\n<p>The full error message is as:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: androidx/test/platform/app/InstrumentationRegistry\n\n    at com.buyraksi.deliveryapp.util.UserLocalStoreTest.setUp(UserLocalStoreTest.kt:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: java.lang.ClassNotFoundException: androidx.test.platform.app.InstrumentationRegistry\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n\n<p>I think I have my dependencies setup correctly as I have the following testing dependencies in my project app level <code>build.gradle</code>:</p>\n\n<pre><code>espresso_version = '3.2.0'\n    /*\n    Testing Dependencies\n     */\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    androidTestImplementation \"androidx.test.espresso:espresso-core:$espresso_version\"\n    androidTestImplementation \"androidx.test.espresso:espresso-intents:$espresso_version\"\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 0, "creation_date": 1571136339, "post_id": 58392643, "comment_id": 103131711, "body": "Why is it called <code>testHandleVerificationCodeResult2</code>? Is there a <code>testHandleVerificationCodeResult</code> in the class as well? If so, you need to post the whole class."}, {"owner": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571136733, "post_id": 58392643, "comment_id": 103131908, "body": "Could you check is there multiple testing framework imported as dependency?"}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571136911, "post_id": 58392643, "comment_id": 103131989, "body": "@AbdullahTellioglu could you be more specific? where can i check that in my build.gradle(app)?"}, {"owner": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571136947, "post_id": 58392643, "comment_id": 103132006, "body": "Yes you should check if there are multiple test frameworks both in implementation and testImplementation"}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571137067, "post_id": 58392643, "comment_id": 103132065, "body": "@AbdullahTellioglu such as      testImplementation &#39;junit:junit:4.12&#39;     testImplementation &#39;org.powermock:powermock-module-junit4:1.7.4&#39;     testImplementation &#39;org.powermock:powermock-api-mockito2:1.7.4&#39;    implementation &#39;androidx.test:core:1.2.0&#39; ??"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571137147, "post_id": 58392643, "comment_id": 103132106, "body": "Can you reproduce this with a dummy fragment? Maybe VerificationCodeFragment contains complex logic that makes this happen, for some reason."}, {"owner": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571137283, "post_id": 58392643, "comment_id": 103132188, "body": "Can you execute test code after removing junit 4.12?"}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 1279, "user_id": 5067276, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9dg5m.jpg?s=128&g=1", "display_name": "Abdullah Tellioglu", "link": "https://stackoverflow.com/users/5067276/abdullah-tellioglu"}, "edited": false, "score": 0, "creation_date": 1571139457, "post_id": 58392643, "comment_id": 103133265, "body": "@AbdullahTellioglu Nope.."}], "owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1571177698, "creation_date": 1571135625, "last_edit_date": 1571177698, "question_id": 58392643, "link": "https://stackoverflow.com/questions/58392643/why-does-my-android-unit-test-runs-twice", "title": "Why does my Android Unit Test runs twice?", "body": "<p>Here is the complete test class for my Kotlin unit tests: </p>\n\n<pre><code>package xyz.hitit.userapplication.unittests.fragmentUnitTests\nimport androidx.fragment.app.testing.FragmentScenario\nimport androidx.fragment.app.testing.launchFragmentInContainer\nimport org.junit.After\nimport org.junit.Before\nimport org.junit.Test\nimport xyz.hitit.userapplication.ui.registrationLogin.VerificationCodeFragment\n\nclass VerificationCodeFragmentUnitTests {\n    var scenario: FragmentScenario&lt;VerificationCodeFragment&gt;? = null\n\n    @Before\n    fun setup() {\n         scenario = launchFragmentInContainer&lt;VerificationCodeFragment&gt;()\n    }\n\n    @Test\n    fun testHandleVerificationCodeResult2() {\n        scenario?.onFragment { sut -&gt;\n            sut.didRun = false\n            var menu = \"NotAnEmailSearch\"\n            sut.handleVerificationCodeResult(menu = menu, userInputVerCode = \"list2\")\n            assert(sut.didRun == true)\n        }\n    }\n\n    @After\n    fun tearDown() {\n        scenario = null\n    }\n}\n</code></pre>\n\n<p>Whenever I run this test class <code>testHandleVerificationCodeResult2()</code>  runs twice and the last one fails. Which process should I take to find the solution??</p>\n"}, {"tags": ["android", "kotlin", "ontouchlistener"], "comments": [{"owner": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "edited": false, "score": 0, "creation_date": 1571294913, "post_id": 58391492, "comment_id": 103194361, "body": "what do you mean by <i>at a time only one function is working.</i>"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 5127648, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/63f6d62238c4648837ffd2e46afaaddd?s=128&d=identicon&r=PG&f=1", "display_name": "Thiyagu", "link": "https://stackoverflow.com/users/5127648/thiyagu"}, "is_accepted": false, "score": 0, "last_activity_date": 1571217268, "creation_date": 1571217268, "answer_id": 58409811, "question_id": 58391492, "link": "https://stackoverflow.com/questions/58391492/how-to-manage-ontouchlistener-return-value-from-action-move-event-like-i-want-t/58409811#58409811", "title": "How to manage onTouchListener Return value from ACTION_MOVE event, like i want to change(true or false) return value while ACTION_MOVE event called", "body": "<p>i think you want to achieve independent scrolling action right? <a href=\"https://github.com/TakuCoder/MultiScrollView.git\" rel=\"nofollow noreferrer\">https://github.com/TakuCoder/MultiScrollView.git</a> follow my github repo</p>\n"}], "owner": {"reputation": 84, "user_id": 12045333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GkA22.jpg?s=128&g=1", "display_name": "vijay_s30", "link": "https://stackoverflow.com/users/12045333/vijay-s30"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 427, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1571246827, "creation_date": 1571131791, "last_edit_date": 1571246827, "question_id": 58391492, "link": "https://stackoverflow.com/questions/58391492/how-to-manage-ontouchlistener-return-value-from-action-move-event-like-i-want-t", "title": "How to manage onTouchListener Return value from ACTION_MOVE event, like i want to change(true or false) return value while ACTION_MOVE event called", "body": "<p>I want create CardStackView with scrolling content but getting some issue with NestedScrollView and onTouchListener.</p>\n\n<p>I'm using CardStackView and i want to add scrolling content inside cardview. after adding NestedScrollView inside row XML file my Swipe not working.</p>\n\n<pre><code>holder.textViewCheck.setOnTouchListener(onTouchListener())\n</code></pre>\n\n<p>in this below code i'm disable scrolling while detect swipe left and right in TouchListener but at a time only one function is working.</p>\n\n<pre><code>private var xDelta: Int = 0\n    private var yDelta: Int = 0\n    private fun onTouchListener(): OnTouchListener {\n        return OnTouchListener { view, event -&gt;\n            val x = event.x.toInt()\n            val y = event.y.toInt()\n            val tAG = \"AppName\"\n\n            when (event.actionMasked) {\n\n                MotionEvent.ACTION_DOWN -&gt; {\n                    cardStackManager.setSwipeableMethod(SwipeableMethod.None)\n\n                    xDelta = x\n                    yDelta = y\n\n                    true\n                }\n\n                MotionEvent.ACTION_UP -&gt; {\n                    cardStackManager.setSwipeableMethod(SwipeableMethod.AutomaticAndManual)\n                    Toast.makeText(mContext, \"thanks for new location!\", Toast.LENGTH_SHORT).show()\n\n                    false\n                }\n\n                MotionEvent.ACTION_MOVE -&gt; {\n                    val finalX = event.x\n                    val finalY = event.y\n\n//                    Log.e(tAG, \"xDelta $xDelta ---------- FinalX $finalX ---------- Final+X ${xDelta + 100}\")\n//                    Log.e(tAG, \"xDelta $xDelta ---------- FinalX $finalX ---------- Final-X ${xDelta - 100}\")\n\n                    when {\n                        finalX &gt; xDelta + 100 -&gt; {\n                            view.parent.requestDisallowInterceptTouchEvent(false)\n                            cardStackManager.setSwipeableMethod(SwipeableMethod.AutomaticAndManual)\n//                            Log.e(tAG, \"Left to Right swipe performed\")\n\n                            true\n                        }\n\n                        finalX &lt; xDelta - 100 -&gt; {\n                            view.parent.requestDisallowInterceptTouchEvent(false)\n                            cardStackManager.setSwipeableMethod(SwipeableMethod.AutomaticAndManual)\n//                            Log.e(tAG, \"Right to Left swipe performed\")\n\n                            true\n                        }\n\n                        yDelta &lt; finalY -&gt; {\n                            view.parent.requestDisallowInterceptTouchEvent(true)\n                            cardStackManager.setSwipeableMethod(SwipeableMethod.None)\n//                            Log.e(tAG, \"Up to Down swipe performed\")\n\n                            false\n                        }\n\n                        yDelta &gt; finalY -&gt; {\n                            view.parent.requestDisallowInterceptTouchEvent(true)\n                            cardStackManager.setSwipeableMethod(SwipeableMethod.None)\n//                            Log.e(tAG, \"Down to Up swipe performed\")\n                            false\n                        }\n                    }\n                }\n            }\n            true\n        }\n    }\n</code></pre>\n\n<p>Below link is for CardStakeView library for check and understand my issue easily.</p>\n\n<p>i'm customise this library</p>\n\n<p><a href=\"https://github.com/yuyakaido/CardStackView\" rel=\"nofollow noreferrer\">https://github.com/yuyakaido/CardStackView</a></p>\n\n<p>Thank you</p>\n"}, {"tags": ["java", "elasticsearch", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "is_accepted": true, "score": 0, "last_activity_date": 1571127357, "creation_date": 1571127357, "answer_id": 58390143, "question_id": 58390088, "link": "https://stackoverflow.com/questions/58390088/elasticsearch-how-to-call-mustnot-the-same-length-as-the-array-java-high-level/58390143#58390143", "title": "Elasticsearch: how to call mustNot the same length as the array Java High Level REST Client", "body": "<p>I would do it like this using a <code>terms</code> query instead so you can simply pass the list in argument:</p>\n\n<pre><code>val q = QueryBuilders.boolQuery()\n    .mustNot(QueryBuilders.termsQuery(\"id\", foreignIdsForMustNot))\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 12151907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f45ec1333813db3db51488e358f9c9?s=128&d=identicon&r=PG&f=1", "display_name": "k7m", "link": "https://stackoverflow.com/users/12151907/k7m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58390143, "answer_count": 1, "score": 0, "last_activity_date": 1571127357, "creation_date": 1571127138, "question_id": 58390088, "link": "https://stackoverflow.com/questions/58390088/elasticsearch-how-to-call-mustnot-the-same-length-as-the-array-java-high-level", "title": "Elasticsearch: how to call mustNot the same length as the array Java High Level REST Client", "body": "<p>How do I make a query like this?</p>\n\n<p><strong>REST API Query</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{ \"query\": { \"must_not\": [ {\"match\": {\"foreignId\": 1}}, {\"match\": {\"foreignId\": 2}}, ...  ] } \n</code></pre>\n\n<p><strong>Kotlin code</strong></p>\n\n<pre><code>fun searchWithExclude(foreignIdsForMustNot: List&lt;Int&gt;) {\n    val q = QueryBuilders.boolQuery()\n        .mustNot(QueryBuilders.matchQuery(\"id\", foreignIdsForMustNot[0]))\n        .mustNot(QueryBuilders.matchQuery(\"id\", foreignIdsForMustNot[1]))\n        ...\n\n}\n\nsearchWithExclude(listOf(1, 2, ...))\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "edited": false, "score": 0, "creation_date": 1571125834, "post_id": 58389530, "comment_id": 103126158, "body": "Have all items timer?"}, {"owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "reply_to_user": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "edited": false, "score": 0, "creation_date": 1571130389, "post_id": 58389530, "comment_id": 103128597, "body": "Yeah. I have timer in all items"}, {"owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "edited": false, "score": 0, "creation_date": 1571130530, "post_id": 58389530, "comment_id": 103128670, "body": "Could you paste your recycler view code?"}], "answers": [{"tags": [], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571131871, "last_edit_date": 1571131871, "creation_date": 1571125453, "answer_id": 58389630, "question_id": 58389530, "link": "https://stackoverflow.com/questions/58389530/get-activity-ondestroy-in-recycler-adapter/58389630#58389630", "title": "Get activity onDestroy() in Recycler Adapter", "body": "<p>As per my knowledge, there is no method on adapter that is called when <code>RecyclerView</code> is detached from activity.</p>\n\n<p>Try creating a timer object or a list of objects in your <code>BaseActivity</code> or <code>Application</code> Class and after pressing onBack run a method that will stop that timer or timers. </p>\n\n<pre><code>//Declare timer\n    CountDownTimer cTimer = null;\n\n    //start timer function\n    void startTimer() {\n        cTimer = new CountDownTimer(30000, 1000) {\n            public void onTick(long millisUntilFinished) {\n            }\n            public void onFinish() {\n            }\n        };\n        cTimer.start();\n    }\n\n\n    //cancel timer\n    void cancelTimer() {\n        if(cTimer!=null)\n            cTimer.cancel();\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "edited": false, "score": 0, "creation_date": 1571135504, "post_id": 58391999, "comment_id": 103131246, "body": "The scope of Handler only is within the ViewHolder"}], "tags": [], "owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "is_accepted": false, "score": 0, "last_activity_date": 1571133495, "creation_date": 1571133495, "answer_id": 58391999, "question_id": 58389530, "link": "https://stackoverflow.com/questions/58389530/get-activity-ondestroy-in-recycler-adapter/58391999#58391999", "title": "Get activity onDestroy() in Recycler Adapter", "body": "<p>You can do it <strong>onDestory()</strong> of activity</p>\n\n<pre><code>handler.removeCallbacksAndMessages(null);\n</code></pre>\n\n<blockquote>\n  <p>Remove any pending posts of callbacks and sent messages whose obj is token. If token is null, all callbacks and messages will be removed.</p>\n</blockquote>\n"}], "owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571133495, "creation_date": 1571125127, "last_edit_date": 1571132751, "question_id": 58389530, "link": "https://stackoverflow.com/questions/58389530/get-activity-ondestroy-in-recycler-adapter", "title": "Get activity onDestroy() in Recycler Adapter", "body": "<p>I am using a Handler to display a timer in <code>RecyclerView</code> list item. When I press back the <code>Activity</code> that hosts the <code>RecyclerView</code> is completely destroyed, the <code>Handler()</code> still running in the background. The handler is created and initiated in <code>ViewHolder</code>. Is there any way to remove the callbacks from handler from <code>ViewHolder</code> itself?</p>\n\n<p>My ViewHolder sample code</p>\n\n<pre><code>class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView), CustomRunnable.CustomRunnableListener{\n\n    private val handler = Handler()\n    lateinit var customRunnable: CustomRunnable //custom runnable for my timer logic\n\n    fun bind(position: Int, listModelClass: ModelClass?){\n\n\n        if(someCondition){\n                customRunnable = CustomRunnable(handler, this, textView, listModelClass)\n                handler.postDelayed(customRunnable, 1000)\n        }\n\n    }\n\n    override fun onTimerFinish(listModelClass: ModelClass) {\n            // I get this call back when the timer finishes\n            handler.removeCallbacks(customRunnable)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["ios", "kotlin", "worker", "kotlin-multiplatform", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 1926, "user_id": 4042468, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jlfMH.jpg?s=128&g=1", "display_name": "kerry", "link": "https://stackoverflow.com/users/4042468/kerry"}, "edited": false, "score": 0, "creation_date": 1571217620, "post_id": 58401777, "comment_id": 103163365, "body": "so basically since the ::performWork is bound to its object (instance of KNDispatchQueue), it tries to free the whole instance?"}, {"owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "reply_to_user": {"reputation": 1926, "user_id": 4042468, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jlfMH.jpg?s=128&g=1", "display_name": "kerry", "link": "https://stackoverflow.com/users/4042468/kerry"}, "edited": false, "score": 0, "creation_date": 1571322244, "post_id": 58401777, "comment_id": 103210112, "body": "Yes. Freeze grabs anything connected to the instance and freezes it. The error message is not great, though. They&#39;re usually a bit more clear."}], "tags": [], "owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "is_accepted": true, "score": 1, "last_activity_date": 1571169143, "creation_date": 1571169143, "answer_id": 58401777, "question_id": 58389350, "link": "https://stackoverflow.com/questions/58389350/kotlin-native-freeze-method-crashing-when-freezing-a-function/58401777#58401777", "title": "kotlin-native freeze() method crashing when freezing a function", "body": "<p>I assume you're referring to this</p>\n\n<pre><code>actual class KNDispatchQueue {\n    @ThreadLocal\n    actual companion object Singleton {\n        actual val sharedInstance: KNDispatchQueue = KNDispatchQueue()\n    }\n\n    private var workQueue: MutableList&lt;KNWork&gt; = mutableListOf()\n\n    init {\n        workQueue.ensureNeverFrozen()\n    }\n\n    actual fun performWorkAsync() {\n        ::performWork.freeze()\n    }\n\n    fun performWork() {\n\n    }\n}\n</code></pre>\n\n<p>The function is part of the class. Assuming it tries to freeze that instance of itself, it's also freezing the rest of the graph. I commented out <code>ensureNeverFrozen</code> and it freezes.</p>\n\n<p>Your syntax <code>::performWork</code> is pointing at the instance ref.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11</a></p>\n"}], "owner": {"reputation": 1926, "user_id": 4042468, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/jlfMH.jpg?s=128&g=1", "display_name": "kerry", "link": "https://stackoverflow.com/users/4042468/kerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 58401777, "answer_count": 1, "score": 0, "last_activity_date": 1571169143, "creation_date": 1571124481, "question_id": 58389350, "link": "https://stackoverflow.com/questions/58389350/kotlin-native-freeze-method-crashing-when-freezing-a-function", "title": "kotlin-native freeze() method crashing when freezing a function", "body": "<p>I am trying to freeze a function to be able to pass to a worker. In the same class as the function I have a variable which is marked with <code>ensureNeverFrozen</code>. This variable is not used in the function I am trying to freeze, in fact, the function does not do anything. </p>\n\n<p>Still, when I try to freeze the function, I get the below error</p>\n\n<p>Minimal crash reproducing <a href=\"https://github.com/kerry/CoreKN/tree/freezing_crash\" rel=\"nofollow noreferrer\">code</a> - </p>\n\n<pre><code>Instances of kotlin.Error, kotlin.RuntimeException and subclasses aren't propagated from Kotlin to Objective-C/Swift.\nOther exceptions can be propagated as NSError if method has or inherits @Throws annotation.\nUncaught Kotlin exception: kotlin.native.concurrent.FreezingException: freezing of function performWork (Kotlin reflection is not available) has failed, first blocker is []\n        at 0   lib                                 0x0000000102502a45 kfun:kotlin.Exception.&lt;init&gt;(kotlin.String?)kotlin.Exception + 85\n        at 1   lib                                 0x0000000102502125 kfun:kotlin.RuntimeException.&lt;init&gt;(kotlin.String?)kotlin.RuntimeException + 85\n        at 2   lib                                 0x00000001025265c1 kfun:kotlin.native.concurrent.FreezingException.&lt;init&gt;(kotlin.Any;kotlin.Any)kotlin.native.concurrent.FreezingException + 641\n        at 3   lib                                 0x0000000102526a2e ThrowFreezingException + 222\n        at 4   lib                                 0x0000000102575833 FreezeSubgraph + 2611\n        at 5   lib                                 0x000000010258bcfb Kotlin_Worker_freezeInternal + 27\n        at 6   lib                                 0x000000010252673b kfun:kotlin.native.concurrent.freeze@#GENERIC.()Generic + 59\n        at 7   lib                                 0x000000010253e310 kfun:com.prateekgrover.lib.KNDispatchQueue.performWorkAsync() + 208\n        at 8   lib                                 0x000000010253de1a kfun:com.prateekgrover.lib.Greeting.start() + 186\n        at 9   lib                                 0x000000010254168d blockCopyHelper + 573\n        at 10  ios_kn_sample                       0x000000010215471d $sIeg_IeyB_TR + 45 (/Users/prateek.grover/Documents/code/KotlinNative/KotlinNativeSample/core_lib_dup/ios_kn_sample/&lt;compiler-generated&gt;:&lt;unknown&gt;)\n        at 11  libdispatch.dylib                   0x0000000104156d7f _dispatch_call_block_and_release + 12\n        at 12  libdispatch.dylib                   0x0000000104157db5 _dispatch_client_callout + 8\n        at 13  libdispatch.dylib                   0x000000010415a7b9 _dispatch_queue_override_invoke + 1022\n        at 14  libdispatch.dylib                   0x0000000104168632 _dispatch_root_queue_drain + 351\n        at 15  libdispatch.dylib                   0x0000000104168fca _dispatch_worker_thread2 + 130\n        at 16  libsystem_pthread.dylib             0x00000001045406b3 _pthread_wqthread + 583\n        at 17  libsystem_pthread.dylib             0x00000001045403fd start_wqthread + 13\n</code></pre>\n\n<p>Any explanation for the above behaviour?</p>\n"}, {"tags": ["android", "kotlin", "exoplayer", "exoplayer2.x"], "comments": [{"owner": {"reputation": 617, "user_id": 4938936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef64686b3112ea0e400b2321414c4c43?s=128&d=identicon&r=PG&f=1", "display_name": "No Body", "link": "https://stackoverflow.com/users/4938936/no-body"}, "edited": false, "score": 0, "creation_date": 1571123189, "post_id": 58388874, "comment_id": 103124772, "body": "If you put whole of class here, it will be easier that we can find out where is the problem."}, {"owner": {"reputation": 306, "user_id": 5120131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jgeDu.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5120131/andy"}, "edited": false, "score": 0, "creation_date": 1593636123, "post_id": 58388874, "comment_id": 110853994, "body": "Please, could you solve the problem? I have the same bug, it reproduces the audio but not the image of the video :("}], "owner": {"reputation": 11, "user_id": 10940903, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dmb8bnKvTnI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbsyQjfUpf7JIDY1Pvdbv5toGw8Rw/mo/photo.jpg?sz=128", "display_name": "Sungjae Bae", "link": "https://stackoverflow.com/users/10940903/sungjae-bae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 820, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1604417901, "creation_date": 1571122640, "last_edit_date": 1604417901, "question_id": 58388874, "link": "https://stackoverflow.com/questions/58388874/why-do-i-get-a-black-screen-using-exoplayer", "title": "Why do I get a black screen using exoplayer?", "body": "<p>I'm using ExoPlayer in my Android app project but I don't know why I get a black screen in my app. When I first run the appm I used <code>this</code> instead of <code>baseContext</code> and the video played very well.</p>\n<p>But now I can only see a black screen. There is no problem with the resource.</p>\n<pre><code>    exoplayer = ExoPlayerFactory.newSimpleInstance(baseContext, \n    DefaultTrackSelector())\n\n    val userAgent = Util.getUserAgent(baseContext, &quot;Exo&quot;)\n    val mediaUri = Uri.parse(&quot;asset:///exerciselv2.mp4&quot;)\n    val mediaSource = ExtractorMediaSource(mediaUri, \n    DefaultDataSourceFactory(baseContext, userAgent), \n    DefaultExtractorsFactory(), null, null)\n\n    exoplayer?.prepare(mediaSource)\n    exoplayer?.playWhenReady = true\n\n    exoplayerView?.player = exoplayer\n</code></pre>\n<p>I can't get any error messages, just on views... Please, help me TT</p>\n"}, {"tags": ["intellij-idea", "kotlin", "jetbrains-ide"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": -1, "last_activity_date": 1571244734, "creation_date": 1571244734, "answer_id": 58418196, "question_id": 58388375, "link": "https://stackoverflow.com/questions/58388375/how-to-extract-parameter-object-with-intellij-in-kotlin-code/58418196#58418196", "title": "How to &quot;Extract Parameter Object&quot; with IntelliJ in Kotlin code?", "body": "<p>The refactoring is not implemented for Kotlin. You can vote for <a href=\"https://youtrack.jetbrains.com/issue/KT-20200\" rel=\"nofollow noreferrer\">this issue</a> to get notified when it is implemented.</p>\n"}], "owner": {"reputation": 631, "user_id": 1990276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa4eab6f2c71685297427a2e4d01aa3?s=128&d=identicon&r=PG&f=1", "display_name": "natschz", "link": "https://stackoverflow.com/users/1990276/natschz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1571244734, "creation_date": 1571120585, "question_id": 58388375, "link": "https://stackoverflow.com/questions/58388375/how-to-extract-parameter-object-with-intellij-in-kotlin-code", "title": "How to &quot;Extract Parameter Object&quot; with IntelliJ in Kotlin code?", "body": "<p>IntelliJ has the option to refactor parameters into a object. (<a href=\"https://www.jetbrains.com/help/idea/extract-parameter-object-dialog.html\" rel=\"nofollow noreferrer\">Extract Parameter Object Dialog</a>)</p>\n\n<p>I tried selecting the parameters, selecting the method and so on, but i don't get the option to extract the parameters into  a object. Trough search everywhere, it is possible to select the action, but then nothing happens. Also under the Refactor menu item, it shows the option, but it is always greyed out.</p>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12017170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4VgHPR-ESF3dnCRKiswFfTgC4BCeea-h8e1Qf=k-s128", "display_name": "Chuob Bunthoeurn", "link": "https://stackoverflow.com/users/12017170/chuob-bunthoeurn"}, "edited": false, "score": 0, "creation_date": 1571120377, "post_id": 58388271, "comment_id": 103123530, "body": "I have tried but got results ERROR: Failed to resolve: com.google.firebase:firebase-core:20.0.0 ."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 13, "user_id": 12017170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4VgHPR-ESF3dnCRKiswFfTgC4BCeea-h8e1Qf=k-s128", "display_name": "Chuob Bunthoeurn", "link": "https://stackoverflow.com/users/12017170/chuob-bunthoeurn"}, "edited": false, "score": 0, "creation_date": 1571121420, "post_id": 58388271, "comment_id": 103123953, "body": "@ChuobBunthoeurn set <code>classpath &#39;com.google.gms:google-services:4.3.2&#39;</code>"}, {"owner": {"reputation": 13, "user_id": 12017170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4VgHPR-ESF3dnCRKiswFfTgC4BCeea-h8e1Qf=k-s128", "display_name": "Chuob Bunthoeurn", "link": "https://stackoverflow.com/users/12017170/chuob-bunthoeurn"}, "edited": false, "score": 0, "creation_date": 1571122153, "post_id": 58388271, "comment_id": 103124260, "body": "Ok, let me try. Thanks so much"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1571120839, "last_edit_date": 1571120839, "creation_date": 1571120117, "answer_id": 58388271, "question_id": 58388223, "link": "https://stackoverflow.com/questions/58388223/running-android-got-error-like-this-unresolved-supertypes-com-google-android-g/58388271#58388271", "title": "Running android got error like this &quot;unresolved supertypes: com.google.android.gms.internal.zzbej&quot;", "body": "<p>Use latest version of those libraries like below and you have replace <code>compile</code> with <code>implementation</code></p>\n\n<pre><code>implementation 'com.google.firebase:firebase-messaging:20.0.0'\nimplementation 'com.google.firebase:firebase-database:19.1.0'\nimplementation \"com.google.firebase:firebase-core:17.2.0\"\nimplementation \"com.google.android.gms:play-services:12.0.1\"\n</code></pre>\n\n<p>You have to update all firebase libraries with Google Play service. This is old enough.</p>\n\n<p>Besides this you should have used only specific google play service instead of bundled one.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12017170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4VgHPR-ESF3dnCRKiswFfTgC4BCeea-h8e1Qf=k-s128", "display_name": "Chuob Bunthoeurn", "link": "https://stackoverflow.com/users/12017170/chuob-bunthoeurn"}, "edited": false, "score": 0, "creation_date": 1571189426, "post_id": 58392915, "comment_id": 103153961, "body": "Could you help me please? Right now I&#39;m about stuck with this issue."}], "tags": [], "owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "is_accepted": false, "score": 0, "last_activity_date": 1571136597, "creation_date": 1571136597, "answer_id": 58392915, "question_id": 58388223, "link": "https://stackoverflow.com/questions/58388223/running-android-got-error-like-this-unresolved-supertypes-com-google-android-g/58392915#58392915", "title": "Running android got error like this &quot;unresolved supertypes: com.google.android.gms.internal.zzbej&quot;", "body": "<p>It could be a ProGuard issue. I can't post a full solution right now, but you can google how to instruct ProGuard to keep Firebase classes. I'll update later if I can.</p>\n"}], "owner": {"reputation": 13, "user_id": 12017170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4VgHPR-ESF3dnCRKiswFfTgC4BCeea-h8e1Qf=k-s128", "display_name": "Chuob Bunthoeurn", "link": "https://stackoverflow.com/users/12017170/chuob-bunthoeurn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 58388271, "answer_count": 2, "score": 0, "last_activity_date": 1571184009, "creation_date": 1571119872, "last_edit_date": 1571184009, "question_id": 58388223, "link": "https://stackoverflow.com/questions/58388223/running-android-got-error-like-this-unresolved-supertypes-com-google-android-g", "title": "Running android got error like this &quot;unresolved supertypes: com.google.android.gms.internal.zzbej&quot;", "body": "<p>Error message after run android kotlin: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class com.google.firebase.messaging.RemoteMessage, unresolved supertypes: com.google.android.gms.internal.zzbej</p>\n\n<p>I use firebase gradle as below</p>\n\n<pre><code>compile 'com.google.firebase:firebase-messaging:11.6.2'\ncompile 'com.google.firebase:firebase-database:11.6.2'\ncompile 'commons-codec:commons-codec:1.9'\ncompile 'com.google.android.gms:play-services:11.6.2'\n</code></pre>\n\n<p>Here my gradle </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: 'realm-android'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"ig.pipayalipayalliance.android\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 20\n        versionName \"1.4.9 UAT\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    buildTypes {\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n    configurations {\n        all {\n            exclude module: 'httpclient'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n    sourceSets {\n        main {\n            java.srcDirs = ['src/main/java', 'src/main/aidl']\n            jniLibs.srcDirs = ['libs']\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    //noinspection GradleCompatible\n    implementation \"com.android.support:appcompat-v7:$supportVersion\"\n    //noinspection GradleCompatible\n    implementation \"com.android.support:design:$supportVersion\"\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    //noinspection GradleCompatible\n    implementation 'com.android.support:support-v4:27.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n    compile('com.squareup.retrofit2:converter-simplexml:2.3.0') {\n        exclude group: 'xpp3', module: 'xpp3'\n        exclude group: 'stax', module: 'stax-api'\n        exclude group: 'stax', module: 'stax'\n    }\n    compile 'com.squareup.okhttp3:logging-interceptor:3.8.1'\n    // Multidex\n    compile 'com.android.support:multidex:1.0.2'\n    // Rx\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    // Data binding\n//    kapt 'com.android.databinding:compiler:3.1.0-alpha05'\n    // Anko Commons\n    compile \"org.jetbrains.anko:anko-commons:$anko_version\"\n    // Network connection\n    compile 'com.github.TuonBondol:NetworkUtil:1.0.2'\n    // Keyboard\n    compile 'com.github.TuonBondol:KeyboardUtil:1.0.1'\n    // Image loading\n    compile 'com.github.bumptech.glide:glide:4.4.0'\n    kapt 'com.github.bumptech.glide:compiler:4.4.0'\n    // Detect keyboard status\n    compile 'net.yslibrary.keyboardvisibilityevent:keyboardvisibilityevent:2.1.0'\n    //noinspection GradleCompatible\n    compile 'com.google.firebase:firebase-messaging:11.6.2'\n    compile 'com.google.firebase:firebase-database:11.6.2'\n    compile 'commons-codec:commons-codec:1.9'\n    compile 'com.google.android.gms:play-services:11.6.2'\n    // Generate qr code\n    compile 'com.github.SumiMakito:AwesomeQRCode-Kotlin:1.0.5'\n    compile files('libs/pushservice20140827.jar')\n    //Round image plugin\n    implementation 'com.makeramen:roundedimageview:2.2.1'\n    implementation 'com.budiyev.android:code-scanner:1.9.2'\n    // infinite scroll\n    compile 'com.github.tuonbondol:Android-RecyclerView-Infinitescroll:1.0.5'\n\n    //load image\n    implementation 'com.squareup.picasso:picasso:2.71828'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "fuel"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12107090, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCFP70Uc6kBGYXHIjJOvRNrsTFgIR1_esxbsHR38Q=k-s128", "display_name": "\u912d\u921e\u701a", "link": "https://stackoverflow.com/users/12107090/%e9%84%ad%e9%88%9e%e7%80%9a"}, "edited": false, "score": 0, "creation_date": 1571120743, "post_id": 58387723, "comment_id": 103123680, "body": "Thanks , it did really work!! Thanks a lot for your advice! However, I also try to show AlertDialog in the onFuelFetched function, but it didn&#39;t show... still discovering where the problem is"}, {"owner": {"reputation": 13, "user_id": 12107090, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCFP70Uc6kBGYXHIjJOvRNrsTFgIR1_esxbsHR38Q=k-s128", "display_name": "\u912d\u921e\u701a", "link": "https://stackoverflow.com/users/12107090/%e9%84%ad%e9%88%9e%e7%80%9a"}, "edited": false, "score": 1, "creation_date": 1571185972, "post_id": 58387723, "comment_id": 103153326, "body": "Thanks!! You&#39;re my GOD!!! You save my life, really appreciate!"}], "tags": [], "owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "is_accepted": true, "score": 0, "last_activity_date": 1571117015, "creation_date": 1571117015, "answer_id": 58387723, "question_id": 58387666, "link": "https://stackoverflow.com/questions/58387666/get-fuel-result-in-uithread/58387723#58387723", "title": "Get Fuel result in uiThread", "body": "<p>You can declare a <code>var</code> outside the response object and set the value</p>\n\n<pre><code>var globalRM : String? = null;\nbutton1.setOnClickListener {\n            val jb = \"{......}\"\n            var rm : String? = null;\n            Fuel.post(\"server_url\")\n                    .header(Headers.CONTENT_TYPE, \"application/json\")\n                    .body(jb)\n                    .response { request, response, result -&gt;\n                        Log.d(\"test\", request.toString())\n                        Log.d(\"test\", response.toString())\n                        val (bytes, error) = result\n                        if (bytes != null) {\n                            val e = JsonParser().parse(String(bytes))\n                            val obj = e.asJsonObject\n                            globalRM = obj.get(\"rm\").asString\n                            rm = obj.get(\"rm\").asString\n                        }\n                    }\n        }\n</code></pre>\n\n<p>You might also want to do something just after you get the values, in that case, create a method and use it:</p>\n\n<pre><code>onCreate(...){\nbutton1.setOnClickListener {\n            val jb = \"{......}\"\n            var rm : String? = null;\n            Fuel.post(\"server_url\")\n                    .header(Headers.CONTENT_TYPE, \"application/json\")\n                    .body(jb)\n                    .response { request, response, result -&gt;\n                        Log.d(\"test\", request.toString())\n                        Log.d(\"test\", response.toString())\n                        val (bytes, error) = result\n                        if (bytes != null) {\n                            val e = JsonParser().parse(String(bytes))\n                            val obj = e.asJsonObject\n                            globalRM = obj.get(\"rm\").asString\n                            rm = obj.get(\"rm\").asString\n                            onFuelFetched(rm)\n                        }\n                    }\n        }\n}\n\nfun onFuelFetched(val rm:String?){\n    // do anything you wish to do with this value here\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12107090, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCFP70Uc6kBGYXHIjJOvRNrsTFgIR1_esxbsHR38Q=k-s128", "display_name": "\u912d\u921e\u701a", "link": "https://stackoverflow.com/users/12107090/%e9%84%ad%e9%88%9e%e7%80%9a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 58387723, "answer_count": 1, "score": 1, "last_activity_date": 1571119279, "creation_date": 1571116620, "last_edit_date": 1571119279, "question_id": 58387666, "link": "https://stackoverflow.com/questions/58387666/get-fuel-result-in-uithread", "title": "Get Fuel result in uiThread", "body": "<p>I use a library called \"Fuel\" to fetch data from the server, and here is my code:</p>\n\n<pre><code>button1.setOnClickListener {\n            val jb = \"{......}\"\n\n            Fuel.post(\"server_url\")\n                    .header(Headers.CONTENT_TYPE, \"application/json\")\n                    .body(jb)\n                    .response { request, response, result -&gt;\n                        Log.d(\"test\", request.toString())\n                        Log.d(\"test\", response.toString())\n                        val (bytes, error) = result\n                        if (bytes != null) {\n                            val e = JsonParser().parse(String(bytes))\n                            val obj = e.asJsonObject\n                            val rm = obj.get(\"rm\").asString\n                        }\n                    }\n        }\n</code></pre>\n\n<p>But here is the problem : how can I get the value of \"rm\"?</p>\n\n<p>It is defined in the Fuel function and I can't get its value outside from Fuel...</p>\n\n<p>Could someone, help me with how to get it?</p>\n"}, {"tags": ["kotlin", "kotlin-companion"], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 9527593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Np0L.png?s=128&g=1", "display_name": "z11i", "link": "https://stackoverflow.com/users/9527593/z11i"}, "edited": false, "score": 0, "creation_date": 1571122694, "post_id": 58387863, "comment_id": 103124557, "body": "Thanks for the explanation. I was using <code>inline</code> so <code>private</code> is not an option. Please see the updated question description. Would <code>Companion.foo</code> be helpful in this case?"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 2, "last_activity_date": 1571157732, "last_edit_date": 1571157732, "creation_date": 1571117919, "answer_id": 58387863, "question_id": 58387435, "link": "https://stackoverflow.com/questions/58387435/what-difference-does-it-make-to-have-companion-foo-in-a-companion-object/58387863#58387863", "title": "What difference does it make to have Companion.foo in a companion object?", "body": "<p>In your example, the definition <code>Companion.foo()</code> is an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#declaring-extensions-as-members\" rel=\"nofollow noreferrer\">extension as a member</a>. In this case you define the extension in the same type <code>A.Companion</code> as the type of the extension. This is not useful.</p>\n\n<p>The next example shows the concept of an extension as member with two different classes. The example is without companions, because  it makes no difference for the concept.</p>\n\n<pre><code>class A \n\nclass B {\n    fun A.foo() {\n        println(\"Extension for A, only visible in B\")\n        println(\"Function has two 'this' references: ${this} and ${this@B}\")\n    }\n\n    fun bar() {\n        val a = A()\n        a.foo() // this function call is only possible in the context of `B`\n    }\n}\n\nfun main() {\n    val a = A()\n    a.foo() // compile error\n}\n</code></pre>\n\n<p>That all said, the two <code>foo()</code> function in your example have different  signatures internally. The normal function <code>foo()</code> is a simple method on the companion object without parameters. The extension function <code>Companion.foo()</code> is a method on the companion object but with an extra parameter for the second <code>this</code> reference.</p>\n\n<p>To encapsulate methods within companions, just put the <code>private</code> modifier before the function. </p>\n\n<p>If you need an inline function, use <code>internal</code> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-published-api/index.html\" rel=\"nofollow noreferrer\"><code>@PublishedApi</code></a> to hide the function from the public API.</p>\n\n<pre><code>class C {\n    companion object {\n        @PublishedApi\n        internal inline fun &lt;reified T&gt; foo() {\n            println(\"hello in A\")\n        }\n\n        inline fun bar() {\n            foo&lt;String&gt;()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 400, "user_id": 9527593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Np0L.png?s=128&g=1", "display_name": "z11i", "link": "https://stackoverflow.com/users/9527593/z11i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571210694, "creation_date": 1571114993, "last_edit_date": 1571210694, "question_id": 58387435, "link": "https://stackoverflow.com/questions/58387435/what-difference-does-it-make-to-have-companion-foo-in-a-companion-object", "title": "What difference does it make to have Companion.foo in a companion object?", "body": "<p>In Kotlin, if I have a function in a companion object with <code>Companion.</code> as the prefix (<code>Companion.foo</code>), what difference will it make compared to a <code>foo</code> inside the companion object?</p>\n\n<p>I noticed that in the following code, <code>Companion.foo</code> will make it invisible to the outside scope, but still visible to functions inside the same companion object.</p>\n\n<p>You can find the code snippet at: <a href=\"https://pl.kotl.in/t6FvM6ni6\" rel=\"nofollow noreferrer\">https://pl.kotl.in/t6FvM6ni6</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>fun main() {\n    A.foo() // compiler complains \"unresolved reference\"\n    A.bar()\n    B.foo()\n}\n\nclass A {\n    companion object {\n        fun Companion.foo() {\n            println(\"hello in A\")\n        }\n\n        fun bar() {\n            foo()\n        }\n    }\n}\n\nclass B {\n    companion object {\n        fun foo() {\n            println(\"hello in B\")\n        }\n    }\n}\n</code></pre>\n\n<p>Are there any other differences? Are <code>A.Companion.foo</code> and <code>A.foo</code> the same apart from the visibility? Is this a way to encapsulate methods in the companion object?</p>\n\n<hr>\n\n<p>Update 1</p>\n\n<p>In my actual project, I'm calling an <code>inline</code> function from another <code>inline</code> function in the companion object, which is why access modifiers can't be used. But I still would like to hide <code>foo</code> if possible.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class C {\n    companion object {\n        inline fun &lt;reified T&gt; Companion.foo() {\n            println(\"hello in A\")\n        }\n\n        inline fun bar() {\n            foo&lt;String&gt;()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "edited": false, "score": 0, "creation_date": 1571119746, "post_id": 58387797, "comment_id": 103123272, "body": "This works beautifully with a minimum code. Thank you so much!"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 3, "last_activity_date": 1571117558, "creation_date": 1571117558, "answer_id": 58387797, "question_id": 58387397, "link": "https://stackoverflow.com/questions/58387397/how-to-instantiate-fragment-class/58387797#58387797", "title": "How to instantiate Fragment class?", "body": "<p>Methods like <code>requireContext()</code> and accessing the Views of a Fragment require the Fragment to be added to a FragmentManager. As per the <a href=\"https://developer.android.com/training/basics/fragments/testing\" rel=\"nofollow noreferrer\">Test your app's fragments documentation</a>, you can use <code>FragmentScenario</code> to write exactly those types of tests:</p>\n\n<pre><code>@Test\nfun testComponents() {\n    val scenario = launchFragmentInContainer&lt;MyFragment&gt;()\n    scenario.onFragment { sut -&gt;\n        val context = sut.requireContext()\n        sut.checkPwdEditTextIsEmpty(text = \"\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 58387797, "answer_count": 1, "score": 0, "last_activity_date": 1571117558, "creation_date": 1571114701, "question_id": 58387397, "link": "https://stackoverflow.com/questions/58387397/how-to-instantiate-fragment-class", "title": "How to instantiate Fragment class?", "body": "<p>I am trying to write a unit test for my Fragment class. \nIs it possible to instantiate \"System Under Test\" this way?</p>\n\n<pre><code>val sut = MyFragment()\n</code></pre>\n\n<p>I understand there are several methods for writing UI tests for testing fragments, but I want to instantiate my Fragment class where I can unit test methods within the fragment. </p>\n\n<p>such as , </p>\n\n<pre><code>@Test\nfun testComponents() {\n    val bundle = Bundle()\n    val context = sut.requireContext()\n    sut.checkPwdEditTextIsEmpty(text = \"\")\n}\n</code></pre>\n\n<p>How can I do this in Kotlin??</p>\n\n<p>Also, how can I write init() and tearDown() in Kotlin test?</p>\n"}, {"tags": ["ios", "swift", "xcode", "kotlin"], "comments": [{"owner": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "edited": false, "score": 0, "creation_date": 1571109260, "post_id": 58386681, "comment_id": 103120718, "body": "If you tell us what your end goal is it will improve your chances of being helped. I don\u2019t think there\u2019s a 1:1 equivalent of what you want, but I\u2019m sure something else can be done to achieve what you want."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8143708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7266d3c2c86f18ed8a1b073dbe02251?s=128&d=identicon&r=PG&f=1", "display_name": "Dongmin Seo", "link": "https://stackoverflow.com/users/8143708/dongmin-seo"}, "edited": false, "score": 0, "creation_date": 1571112224, "post_id": 58386941, "comment_id": 103121323, "body": "Thank you very much! you saved my day :)"}, {"owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "reply_to_user": {"reputation": 15, "user_id": 8143708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7266d3c2c86f18ed8a1b073dbe02251?s=128&d=identicon&r=PG&f=1", "display_name": "Dongmin Seo", "link": "https://stackoverflow.com/users/8143708/dongmin-seo"}, "edited": false, "score": 0, "creation_date": 1571112394, "post_id": 58386941, "comment_id": 103121349, "body": "@SeoDongMin You&#39;re very welcome! You can find me on iOS Developers slack if you ever want to chat about this further."}], "tags": [], "owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "is_accepted": true, "score": 2, "last_activity_date": 1571111431, "last_edit_date": 1571111431, "creation_date": 1571111085, "answer_id": 58386941, "question_id": 58386681, "link": "https://stackoverflow.com/questions/58386681/how-can-i-implement-protocols-in-method-parameters-in-swift/58386941#58386941", "title": "How can I implement protocols in method parameters in swift?", "body": "<p>In your protocol, change the function to a variable of a function.</p>\n\n<pre><code>protocol UIModifyAvailableListener {\n    var taskCompleted : ((result : String) -&gt; Void)? {get set}\n}\n</code></pre>\n\n<p>Then in your HttpConnector class that implements UIModifyAvailableListener, add this:</p>\n\n<pre><code>var taskCompleted : ((result : String) -&gt; Void)?\n</code></pre>\n\n<p>Within HttpConnector class's method(s), you can call taskCompleted like so:</p>\n\n<pre><code>self.taskCompleted?(result)\n</code></pre>\n\n<p>Then in the calling code that wants to be called back with taskCompleted(), simply set the var:</p>\n\n<pre><code>myHttpConnector.taskCompleted = \n{\n    print(\"Done!\")  // note if you want to reference self here, you'll probably want to use weakSelf/strongSelf to avoid a memory leak.\n}\n</code></pre>\n\n<p>BTW, this is an important pattern if you're doing MVVM, so that your ViewModel can call back into the ViewController. Since the ViewModel would never have a reference to its ViewController, all it can do is have callback properties that the ViewController can set with the closure blocks of code it wants called.  And by using a protocol the ViewModel can be mocked when doing unit tests against the ViewController.  :)</p>\n"}], "owner": {"reputation": 15, "user_id": 8143708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7266d3c2c86f18ed8a1b073dbe02251?s=128&d=identicon&r=PG&f=1", "display_name": "Dongmin Seo", "link": "https://stackoverflow.com/users/8143708/dongmin-seo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 58386941, "answer_count": 1, "score": -1, "last_activity_date": 1571111431, "creation_date": 1571108887, "last_edit_date": 1571110786, "question_id": 58386681, "link": "https://stackoverflow.com/questions/58386681/how-can-i-implement-protocols-in-method-parameters-in-swift", "title": "How can I implement protocols in method parameters in swift?", "body": "<p>I'd like to implement protocol methods in the other method parameters.</p>\n\n<p>First, I defined a protocol containing a method,</p>\n\n<pre><code>protocol MyProtocol {\n    func myProtocolFunc();\n}\n</code></pre>\n\n<p>and I made a method taking the protocol as a parameter.</p>\n\n<pre><code>func myFunc(myProtocol : MyProtocol) {\n    . . .\n}\n</code></pre>\n\n<p>and when I using this method, I want to override <code>protocolFunc()</code>.</p>\n\n<pre><code>myFunc( . . . )\n</code></pre>\n\n<p>Where should I override <code>protocolFunc()</code> in my <code>myFunc()</code> method?</p>\n\n<p>p.s. In Kotlin, I made that by doing like this.</p>\n\n<pre><code>interface MyProtocol {\n    fun myProtocolFunc();\n}\n\nfun myFunc(myProtocol : MyProtocol) {\n    . . .\n}\n\nmyFunc(object : MyProtocol {\n    override fun myProtocolFunc() {\n        . . .\n    }\n})\n</code></pre>\n\n<p>I want to do same thing in swift code.</p>\n\n<p>========================================</p>\n\n<p>Edit:</p>\n\n<p>Actually, I'm planning to make Http Request class.</p>\n\n<p>After getting some data from web server, I'd like to do some work in ViewController class. </p>\n\n<p>Because Http Request runs on thread, while fetching some data from web server, next code regarding the data should wait. </p>\n\n<p>Here is my Http Request class,</p>\n\n<pre><code>class HttpConnector {\n\n    static let basicURL = \"http://******\"\n    static func getData(url : String, parameters : String, listener : UIModifyAvailableListener) {\n        if let fullURL = URL(string : \"\\(basicURL)\\(url)\") {\n            var request = URLRequest(url : fullURL)\n            request.httpMethod = \"POST\"\n            request.httpBody = parameters.data(using: .utf8)\n            let task = URLSession.shared.dataTask(with: request, completionHandler: { data, response, error in\n                guard let data = data, error == nil else {\n                    print(\"error = \\(error!)\")\n                    return\n                }\n\n                if let httpStatus = response as? HTTPURLResponse, httpStatus.statusCode != 200 {\n                       print(\"statusCode should be 200, but is \\(httpStatus.statusCode)\")\n                       print(\"response = \\(response!)\")\n                   }\n\n                if let result = String(data: data, encoding: .utf8) {\n                    listener.taskCompleted(result: result)\n                }\n\n            })\n            task.resume()\n        }\n    }\n}\n\nprotocol UIModifyAvailableListener {\n    func taskCompleted(result : String)\n}\n</code></pre>\n\n<p>and this class might be called in ViewController like this</p>\n\n<pre><code>HttpConnector.getData(\"my_url\", \"my_parameter\", [[some codes regarding UIModifyAvailableListener protocol]])\n</code></pre>\n\n<p>If it can't be done in swift, I want to get some alternatives.</p>\n"}, {"tags": ["android", "kotlin", "android-camera2", "firebase-mlkit"], "comments": [{"owner": {"reputation": 6412, "user_id": 860488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cda947b1847d58e3b2bdc037aa8bc8?s=128&d=identicon&r=PG", "display_name": "Morten Holmgaard", "link": "https://stackoverflow.com/users/860488/morten-holmgaard"}, "edited": false, "score": 0, "creation_date": 1574407058, "post_id": 58385958, "comment_id": 104229867, "body": "The image should first be close after it is consumed in <code>FirebaseVisionImage.fromMediaImage(image, 1)</code> so write <code>image.close()</code> after that line and remove the <code>mediaImage.close()</code>"}, {"owner": {"reputation": 624, "user_id": 1982031, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SLTKt.jpg?s=128&g=1", "display_name": "Leevi Graham", "link": "https://stackoverflow.com/users/1982031/leevi-graham"}, "reply_to_user": {"reputation": 6412, "user_id": 860488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cda947b1847d58e3b2bdc037aa8bc8?s=128&d=identicon&r=PG", "display_name": "Morten Holmgaard", "link": "https://stackoverflow.com/users/860488/morten-holmgaard"}, "edited": false, "score": 0, "creation_date": 1578277956, "post_id": 58385958, "comment_id": 105376127, "body": "@MortenHolmgaard calling close immediately still results in really slow processing."}, {"owner": {"reputation": 6412, "user_id": 860488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cda947b1847d58e3b2bdc037aa8bc8?s=128&d=identicon&r=PG", "display_name": "Morten Holmgaard", "link": "https://stackoverflow.com/users/860488/morten-holmgaard"}, "edited": false, "score": 0, "creation_date": 1578294957, "post_id": 58385958, "comment_id": 105379657, "body": "Since I have also played a lot with that and ended up skip using ML-Kit as I just could not get it to perform properly."}, {"owner": {"reputation": 624, "user_id": 1982031, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SLTKt.jpg?s=128&g=1", "display_name": "Leevi Graham", "link": "https://stackoverflow.com/users/1982031/leevi-graham"}, "reply_to_user": {"reputation": 6412, "user_id": 860488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cda947b1847d58e3b2bdc037aa8bc8?s=128&d=identicon&r=PG", "display_name": "Morten Holmgaard", "link": "https://stackoverflow.com/users/860488/morten-holmgaard"}, "edited": false, "score": 1, "creation_date": 1578384186, "post_id": 58385958, "comment_id": 105411127, "body": "I ended up reducing the resolution of the surface and everything was much speedier."}], "answers": [{"comments": [{"owner": {"reputation": 1865, "user_id": 8202132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n0Yfl.png?s=128&g=1", "display_name": "Ananth", "link": "https://stackoverflow.com/users/8202132/ananth"}, "edited": false, "score": 4, "creation_date": 1580797207, "post_id": 60024381, "comment_id": 106205624, "body": "OP askes for a solution using Camera2 API, you gave links which use Camera class, which is not serving the question."}], "tags": [], "owner": {"reputation": 1771, "user_id": 1517126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/x9eaH.png?s=128&g=1", "display_name": "R00We", "link": "https://stackoverflow.com/users/1517126/r00we"}, "is_accepted": false, "score": -3, "last_activity_date": 1580631880, "creation_date": 1580631880, "answer_id": 60024381, "question_id": 58385958, "link": "https://stackoverflow.com/questions/58385958/real-time-barcode-processing-with-android-camera2-api-and-firebase-ml-kit-vision/60024381#60024381", "title": "Real time barcode processing with Android Camera2 API and Firebase ML-Kit Vision", "body": "<p>I'm learning barcode scanning from camera right now and example on github helped me. Maybe will be helpful to you <a href=\"https://github.com/firebase/quickstart-android/tree/master/mlkit\" rel=\"nofollow noreferrer\">https://github.com/firebase/quickstart-android/tree/master/mlkit</a> </p>\n\n<p>Look at the class <code>CameraSource</code> <a href=\"https://github.com/firebase/quickstart-android/blob/master/mlkit/app/src/main/java/com/google/firebase/samples/apps/mlkit/common/CameraSource.java\" rel=\"nofollow noreferrer\">https://github.com/firebase/quickstart-android/blob/master/mlkit/app/src/main/java/com/google/firebase/samples/apps/mlkit/common/CameraSource.java</a></p>\n"}], "owner": {"reputation": 624, "user_id": 1982031, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SLTKt.jpg?s=128&g=1", "display_name": "Leevi Graham", "link": "https://stackoverflow.com/users/1982031/leevi-graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1116, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1580631880, "creation_date": 1571102301, "question_id": 58385958, "link": "https://stackoverflow.com/questions/58385958/real-time-barcode-processing-with-android-camera2-api-and-firebase-ml-kit-vision", "title": "Real time barcode processing with Android Camera2 API and Firebase ML-Kit Vision", "body": "<p>In my app rendering a preview while trying to process barcodes using the ML-Kit Vision library is really choppy. I think this is due to my lack of understanding of background theads and runnables.</p>\n\n<p>I've setup my app following a few of Googles / Firebase quickstart guides and the Camera2 preview works fine.</p>\n\n<p>I've also setup a onImageAvailableListener callback</p>\n\n<pre><code>/**\n * This a callback object for the [ImageReader]. \"onImageAvailable\" will be called when a\n * preview frame is ready to be processed.\n */\nprivate val onImageAvailableListener = ImageReader.OnImageAvailableListener {\n    // Processing code here\n}\n\n</code></pre>\n\n<p>Here's my first attempt. Post to the background handler with the mediaImage and call image.close() in the BarcodeProcessor.</p>\n\n<pre><code>/**\n * This a callback object for the [ImageReader]. \"onImageAvailable\" will be called when a\n * preview frame is ready to be processed.\n */\nprivate val onImageAvailableListener = ImageReader.OnImageAvailableListener {\n\n    val mediaImage = it.acquireNextImage()\n    backgroundHandler?.post(BarcodeProcessor(mediaImage, barcodeDetector))\n}\n\ninternal class BarcodeProcessor(\n    private val image: Image,\n    private val barcodeDetector: FirebaseVisionBarcodeDetector\n) : Runnable {\n\n    override fun run() {\n        Log.d(TAG, \"run\")\n        try {\n            val firebaseVisionImage = FirebaseVisionImage.fromMediaImage(image, 1)\n            // ... more processing\n        } catch (e: IOException) {\n            Log.e(TAG, e.toString())\n        } finally {\n            image.close()\n        }\n    }\n\n    companion object {\n        /**\n         * Tag for the [Log].\n         */\n        private val TAG = \"BarcodeProcessor\"\n    }\n}\n</code></pre>\n\n<p>Problem with this is the onImageAvailableListener posts in multiple images to the backgroundHandler without closing them in time. The <code>val firebaseVisionImage = FirebaseVisionImage.fromMediaImage(image, 1)</code> is really slow which is part of the issue.</p>\n\n<p><strong>Second Attempt</strong></p>\n\n<p>Here I try and close the image immediately after the <code>backgroundHandler</code> has been called. The issue with this approach is the image is already closed inside of the <code>backgroundHandler</code></p>\n\n<pre><code>/**\n * This a callback object for the [ImageReader]. \"onImageAvailable\" will be called when a\n * preview frame is ready to be processed.\n */\nprivate val onImageAvailableListener = ImageReader.OnImageAvailableListener {\n\n    val mediaImage = it.acquireNextImage()\n    backgroundHandler?.post(BarcodeProcessor(mediaImage, barcodeDetector))\n    mediaImage.close()\n}\n\ninternal class BarcodeProcessor(\n    private val image: Image,\n    private val barcodeDetector: FirebaseVisionBarcodeDetector\n) : Runnable {\n\n    override fun run() {\n        Log.d(TAG, \"run\")\n        try {\n            val firebaseVisionImage = FirebaseVisionImage.fromMediaImage(image, 1)\n            // ... more processing\n        } catch (e: IOException) {\n            Log.e(TAG, e.toString())\n        } finally {\n\n        }\n    }\n\n    companion object {\n        /**\n         * Tag for the [Log].\n         */\n        private val TAG = \"BarcodeProcessor\"\n    }\n}\n</code></pre>\n\n<p>Any help / tips / direction would be greatly appreciated.</p>\n"}, {"tags": ["unit-testing", "kotlin", "objectbox", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 227, "user_id": 2828018, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2c043b9733f7a34cdb519731b17f2b90?s=128&d=identicon&r=PG&f=1", "display_name": "Karim Fikani", "link": "https://stackoverflow.com/users/2828018/karim-fikani"}, "edited": false, "score": 0, "creation_date": 1571249604, "post_id": 58385852, "comment_id": 103181083, "body": "I&#39;ve upgraded to 5.6.2 and I got this error &quot;ERROR: Unable to resolve dependency for &#39;:module-A@debugUnitTest/compileClasspath&#39;: Could not resolve project :module-B&quot;"}], "tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 0, "last_activity_date": 1571101400, "creation_date": 1571101400, "answer_id": 58385852, "question_id": 58385251, "link": "https://stackoverflow.com/questions/58385251/blocked-on-writing-unit-tests-to-a-presenter-that-has-boxstore-injected/58385852#58385852", "title": "blocked on writing unit tests to a presenter that has BoxStore injected", "body": "<p>If you're using Gradle, take a look at the <a href=\"https://docs.gradle.org/5.6.2/userguide/java_testing.html#sec:java_test_fixtures\" rel=\"nofollow noreferrer\"><code>java-test-fixtures</code></a> plugin that has been introduced in Gradle 5.6.2. It introduces a new <code>testFixtures</code> source set where you can place various test data for a specific module and new DSL that allows other modules to reference this data in their tests. In your case, I imagine you'd put the test data in module A's <code>testFixtures</code> directory, and reference it from module B:</p>\n\n<pre><code>// module A\ndependencies {\n  testImplementation(testFixtures(project(\":module-B\")))\n}\n</code></pre>\n"}], "owner": {"reputation": 227, "user_id": 2828018, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2c043b9733f7a34cdb519731b17f2b90?s=128&d=identicon&r=PG&f=1", "display_name": "Karim Fikani", "link": "https://stackoverflow.com/users/2828018/karim-fikani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571101400, "creation_date": 1571095788, "question_id": 58385251, "link": "https://stackoverflow.com/questions/58385251/blocked-on-writing-unit-tests-to-a-presenter-that-has-boxstore-injected", "title": "blocked on writing unit tests to a presenter that has BoxStore injected", "body": "<p>So here is the overview of my project:\nmodule A contains:\n- all boxstore data\n- boxstore mock for unit tests in module A</p>\n\n<p>module B contains:\n- presenter that has BoxStore injected\n- presenterTest needs to mock BoxStore</p>\n\n<p>Followed this <a href=\"https://github.com/objectbox/objectbox-examples/blob/master/android-app/src/test/java/io/objectbox/example/AbstractObjectBoxTest.java\" rel=\"nofollow noreferrer\">link</a> to mock BoxStore and it works fine when I wrote unit tests in module A. When it comes to creating the mock in module B I get NoClassDefFoundError which I understand since module B tests don't know about module A test objects.</p>\n\n<p>So I did the following scenarios:</p>\n\n<ol>\n<li>Added in gradle of module B:</li>\n</ol>\n\n<blockquote>\n  <p>sourceSets {   test.java.srcDirs += [etc...] }</p>\n</blockquote>\n\n<p>So that module B would know about mock objects of module A.</p>\n\n<ol start=\"2\">\n<li>Duplicate mock of BoxStore in module B and use it in tests but BoxStore generates a java file under build folder and because of that I'm unable to create my mock since everything depends on MyObjectBox in order to generate a BoxStore.</li>\n</ol>\n\n<p>Both methods failed :(</p>\n\n<p>Any ideas on how I can unblock myself?</p>\n"}, {"tags": ["kotlin", "encapsulation", "getter"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1571089720, "post_id": 58384412, "comment_id": 103116937, "body": "Post. Your. Code."}], "answers": [{"comments": [{"owner": {"reputation": 488, "user_id": 5808465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7be3488163fd78d54e7708ccd26a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Plee", "link": "https://stackoverflow.com/users/5808465/plee"}, "edited": false, "score": 1, "creation_date": 1571091321, "post_id": 58384676, "comment_id": 103117319, "body": "I understand that, but I want outside modules to access a copy of the list, but within the class I want to be able to use the original list."}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 488, "user_id": 5808465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7be3488163fd78d54e7708ccd26a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Plee", "link": "https://stackoverflow.com/users/5808465/plee"}, "edited": false, "score": 1, "creation_date": 1571091383, "post_id": 58384676, "comment_id": 103117339, "body": "Use <code>clients</code> in your class and define a separate read only method like <code>getMutableClients</code> that return a copy for third-party modules. Or even a property, like: <code>clientsMutableView: get() = clients.toMutableList()</code>"}, {"owner": {"reputation": 488, "user_id": 5808465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7be3488163fd78d54e7708ccd26a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Plee", "link": "https://stackoverflow.com/users/5808465/plee"}, "edited": false, "score": 0, "creation_date": 1571091665, "post_id": 58384676, "comment_id": 103117420, "body": "Was hoping kotlin provided a cleaner way to do that, but if that&#39;s the only way then I guess that&#39;s all I can do thanks!"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 1, "last_activity_date": 1571091202, "creation_date": 1571091202, "answer_id": 58384676, "question_id": 58384412, "link": "https://stackoverflow.com/questions/58384412/accessing-kotlin-field-without-running-its-getter/58384676#58384676", "title": "Accessing Kotlin field without running it&#39;s getter", "body": "<p>The problem is this line: <code>get() = field.toMutableList()</code></p>\n\n<p>Look at the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/common/src/generated/_Collections.kt#L1204-L1206\" rel=\"nofollow noreferrer\">definition of <code>toMutableList</code></a>: it creates a new collection. Just return the <code>field</code> or omit the getter at all.</p>\n"}, {"tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": true, "score": 1, "last_activity_date": 1571128147, "last_edit_date": 1571128147, "creation_date": 1571091805, "answer_id": 58384772, "question_id": 58384412, "link": "https://stackoverflow.com/questions/58384412/accessing-kotlin-field-without-running-its-getter/58384772#58384772", "title": "Accessing Kotlin field without running it&#39;s getter", "body": "<p>There doesn't appear to be any convention for accessing an automatically-created backing field. The <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">Kotlin docs on backing fields</a> declare an explicit backing property:</p>\n\n<pre><code>private val _clients = mutableListOf&lt;SocketChannel&gt;()\nval clients: MutableList&lt;SocketChannel&gt;\n        get() = _clients.toMutableList()\n</code></pre>\n\n<p><em>Note: I'm not a fan of this syntax since it obliges you to remember which fields you exposed (to access them via _ prefixed names). I would probably use <code>clientsInternal</code>, so my IDE can recommend it and I can select without backtracking to add the _.</em></p>\n"}, {"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 1, "last_activity_date": 1571106600, "creation_date": 1571106600, "answer_id": 58386421, "question_id": 58384412, "link": "https://stackoverflow.com/questions/58384412/accessing-kotlin-field-without-running-its-getter/58386421#58386421", "title": "Accessing Kotlin field without running it&#39;s getter", "body": "<p>If your access is single-threaded, I think you could avoid creating copies by doing this:</p>\n\n<pre><code>private val clientsList = mutableListOf&lt;SocketChannel&gt;()\n\nval clients: List&lt;out SocketChannel&gt;\n    get() = clientsList as List&lt;out SocketChannel&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 1058993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8066f358095cf5ee019edef8630e94bd?s=128&d=identicon&r=PG", "display_name": "Guilin Sun", "link": "https://stackoverflow.com/users/1058993/guilin-sun"}, "is_accepted": false, "score": 0, "last_activity_date": 1571156256, "creation_date": 1571156256, "answer_id": 58398893, "question_id": 58384412, "link": "https://stackoverflow.com/questions/58384412/accessing-kotlin-field-without-running-its-getter/58398893#58398893", "title": "Accessing Kotlin field without running it&#39;s getter", "body": "<pre><code>@JvmField\nval clients = mutableListOf&lt;SocketChannel&gt;()\n\nfun getClients() = clients.toMutableList()\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 5808465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7be3488163fd78d54e7708ccd26a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Plee", "link": "https://stackoverflow.com/users/5808465/plee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 58384772, "answer_count": 4, "score": 2, "last_activity_date": 1571156256, "creation_date": 1571089337, "last_edit_date": 1571091232, "question_id": 58384412, "link": "https://stackoverflow.com/questions/58384412/accessing-kotlin-field-without-running-its-getter", "title": "Accessing Kotlin field without running it&#39;s getter", "body": "<p>I have a class that holds a MutableList and the class makes changes to that list. I defined a getter to allow outside modules to get a copy of the list. Problem is whenever i access the field within the class, I end up changing the list copy rather than the actual list. How can I access the list without going through the getter inside the defined class? Is this considered bad practice, if so why?</p>\n\n<pre><code>class Server(private val port: Int): Runnable {\n\n    val clients = mutableListOf&lt;SocketChannel&gt;()\n        get() = field.toMutableList()\n\n\n    private val sel = Selector.open()\n    private val serverChannel = NIOServerChannel(port, sel).get()\n    private val engine = ServerEngine(sel, clients)\n\n    private val acceptor = ChannelAcceptor(serverChannel, clients)\n    private val reader = ChannelReader()\n    private val writer = ChannelWriter()\n    private val middleware = Middleware()\n\n    override fun run() {\n        buildEngine()\n        println(\"Starting server on port: $port\")\n        engine.run()\n    }\n\n    fun use(func: (String, Response) -&gt; Unit) = middleware.add(BiConsumer(func))\n\n    private fun buildEngine() {\n        reader.process = middleware.get()\n\n        engine.add(acceptor)\n        engine.add(reader)\n        engine.add(writer)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-activity", "layout"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1571143663, "last_edit_date": 1571143663, "creation_date": 1571117208, "answer_id": 58387744, "question_id": 58383848, "link": "https://stackoverflow.com/questions/58383848/where-is-my-problem-in-start-activity-function/58387744#58387744", "title": "Where is my problem in start activity function", "body": "<p>You've overridden the wrong method in your <code>LoginActivity</code>. It should be:</p>\n\n<pre><code>class LoginActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        setContentView(R.layout.activity_login)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 700, "user_id": 5216062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkesh.jpg?s=128&g=1", "display_name": "Amit Tiwary", "link": "https://stackoverflow.com/users/5216062/amit-tiwary"}, "is_accepted": false, "score": 0, "last_activity_date": 1571321890, "last_edit_date": 1571321890, "creation_date": 1571123223, "answer_id": 58389021, "question_id": 58383848, "link": "https://stackoverflow.com/questions/58383848/where-is-my-problem-in-start-activity-function/58389021#58389021", "title": "Where is my problem in start activity function", "body": "<p>You have to override the correct onCreate method. It should be</p>\n\n<pre><code>class LoginActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_login)\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "is_accepted": false, "score": 0, "last_activity_date": 1571123695, "creation_date": 1571123695, "answer_id": 58389149, "question_id": 58383848, "link": "https://stackoverflow.com/questions/58383848/where-is-my-problem-in-start-activity-function/58389149#58389149", "title": "Where is my problem in start activity function", "body": "<p>You have to override the correct <a href=\"https://developer.android.com/reference/android/app/Activity.html#onCreate(android.os.Bundle)\" rel=\"nofollow noreferrer\"><code>onCreate</code> method</a> without the <code>PersistableBundle</code> as a second argument:</p>\n\n<pre><code>class LoginActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9447218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Arthur Kalman", "link": "https://stackoverflow.com/users/9447218/arthur-kalman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1571321890, "creation_date": 1571085902, "last_edit_date": 1571110654, "question_id": 58383848, "link": "https://stackoverflow.com/questions/58383848/where-is-my-problem-in-start-activity-function", "title": "Where is my problem in start activity function", "body": "<p>I'm new in Kotlin Developement. I'm trying to start a new activity from the <code>main</code> activity but the only thing it displays is a blank message after the toast message. But I really don't understand where the problem comes from.</p>\n\n<p>Here's <code>MainActivity</code>:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private fun replaceFragment(fragment: Fragment){\n        val fragmentTransaction = supportFragmentManager.beginTransaction()\n        fragmentTransaction.replace(R.id.fragment_container, fragment)\n        fragmentTransaction.commit()\n    }\n\n    private val onNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener {\n        item -&gt; when (item.itemId) {\n            R.id.nav_home -&gt; {\n                //replaceFragment(HomeFragment())\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.nav_search -&gt; {\n                replaceFragment(SearchFragment())\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.nav_person -&gt; {\n                replaceFragment(ProfileFragment())\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.nav_favorites -&gt; {\n                replaceFragment(FavoritesFragment())\n                return@OnNavigationItemSelectedListener true\n            }\n\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val navView: BottomNavigationView = findViewById(R.id.bottom_navigation)\n        navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)\n        navView.setSelectedItemId(R.id.nav_home)\n\n        if (!imgurClient.isConnected) {\n            Toast.makeText(applicationContext,\"You are not connected.\",Toast.LENGTH_SHORT).show()\n            val intentToWebView = Intent(this, LoginActivity::class.java)\n            startActivity(intentToWebView)\n        }\n\n    }\n}\n</code></pre>\n\n<p>Here's <code>LoginActivity</code>:</p>\n\n<pre><code>eclass LoginActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        setContentView(R.layout.activity_login)\n    }\n}\n</code></pre>\n\n<p><code>Activity_login.xml</code> contains a <code>textview</code> which displays a text in white and the background is purple.</p>\n\n<p>Can you help me please?</p>\n"}, {"tags": ["firebase", "kotlin", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1571089817, "post_id": 58384431, "comment_id": 103116967, "body": "I think you&#39;re missing an <code>else</code>"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1571098870, "last_edit_date": 1571098870, "creation_date": 1571089467, "answer_id": 58384431, "question_id": 58382149, "link": "https://stackoverflow.com/questions/58382149/check-firebase-child-value-in-kotlin/58384431#58384431", "title": "Check Firebase Child value in kotlin", "body": "<p>If you want to write a value to the database, based on the existing value (or lack thereof) at that same location, you'll need to <a href=\"https://firebase.google.com/docs/database/android/read-and-write#save_data_as_transactions\" rel=\"nofollow noreferrer\">use a Firebase Database transaction</a>.</p>\n\n<p>In your case that'd look something like:</p>\n\n<pre><code>postRef.runTransaction(object : Transaction.Handler {\n    override fun doTransaction(mutableData: MutableData): Transaction.Result {\n        if (mutableData.value == null) {\n            // Set value and report transaction success\n            mutableData.value = Vinyl_piece\n        }\n        return Transaction.success(mutableData)\n    }\n\n    override fun onComplete(\n        databaseError: DatabaseError?,\n        b: Boolean,\n        dataSnapshot: DataSnapshot?\n    ) {\n        // Transaction completed\n        Log.d(TAG, \"runTransaction:onComplete:\" + databaseError!!)\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 12187318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e144dc10e184814739780c55618de123?s=128&d=identicon&r=PG&f=1", "display_name": "Njiua", "link": "https://stackoverflow.com/users/12187318/njiua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571602693, "creation_date": 1571077264, "last_edit_date": 1571602693, "question_id": 58382149, "link": "https://stackoverflow.com/questions/58382149/check-firebase-child-value-in-kotlin", "title": "Check Firebase Child value in kotlin", "body": "<p>I'm trying to set up a database app, but I'm stuck for a bit.</p>\n\n<p>I want everyone to be able to write data into the database, the this is.. If a piece of info already exists the data should not be overwritten.</p>\n\n<p>Example:</p>\n\n<ul>\n<li>Person A adds:  cd-title + BandA</li>\n<li><p>The database will save this info under two children</p>\n\n<pre><code>personA private ---&gt;\n             Cd-title, Band A\n\nDatabase ---&gt;\n      Cd-title, Band A\n</code></pre></li>\n<li><p>Person B adds: cd-title + BandA</p>\n\n<pre><code>personB private ---&gt;\n             Cd-title, Band A\n\nDatabase---&gt;\n     // error child already exists\n</code></pre></li>\n</ul>\n\n<p>Code-wise should be like </p>\n\n<pre><code>get value. child\n       if !=null\n         error child already exists\n       if = null\n         info succesfully saved\n\n   val ref = FirebaseDatabase.getInstance().getReference(\"/Wishlist/$uid/$album\")\n\n        val Vinyl_piece = Albumadd(aAlbum, bBand, nName, gGenre, bBuildyear, SideA1, SideA2, SideA3, SideA4, SideA5)\n\n        ref.setValue(Vinyl_piece)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "layout", "android-constraintlayout"], "comments": [{"owner": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1571076927, "post_id": 58382051, "comment_id": 103112353, "body": "Add your current layout xml to the question"}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "reply_to_user": {"reputation": 40632, "user_id": 4409409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fVAPJ.jpg?s=128&g=1", "display_name": "Daniel Nugent", "link": "https://stackoverflow.com/users/4409409/daniel-nugent"}, "edited": false, "score": 0, "creation_date": 1571077355, "post_id": 58382051, "comment_id": 103112505, "body": "@DanielNugent done"}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 9487152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7fUU.png?s=128&g=1", "display_name": "zedlabs", "link": "https://stackoverflow.com/users/9487152/zedlabs"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571077458, "post_id": 58382097, "comment_id": 103112563, "body": "what is the result after you add these 2 values?"}], "tags": [], "owner": {"reputation": 265, "user_id": 9487152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7fUU.png?s=128&g=1", "display_name": "zedlabs", "link": "https://stackoverflow.com/users/9487152/zedlabs"}, "is_accepted": false, "score": 0, "last_activity_date": 1571076986, "creation_date": 1571076986, "answer_id": 58382097, "question_id": 58382051, "link": "https://stackoverflow.com/questions/58382051/textview-goes-beyound-the-constraintlayout/58382097#58382097", "title": "TextView goes beyound the ConstraintLayout", "body": "<p>Add the following to your text view you want to ellipsize(...)</p>\n\n<pre><code>android:ellipsize=\"end\"\nandroid:singleLine=\"true\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571080438, "post_id": 58382293, "comment_id": 103113693, "body": "your 1st block of code didn&#39;t work :( first textview is on the second textview and nothing to see"}, {"owner": {"reputation": 1482, "user_id": 2168085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PtwwM.jpg?s=128&g=1", "display_name": "CodyEngel", "link": "https://stackoverflow.com/users/2168085/codyengel"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571080636, "post_id": 58382293, "comment_id": 103113768, "body": "@san_francisco you should probably use the last one. Your original code doesn&#39;t have vertical constraints so it will place it on top of the second text view. The first snippet was just an example to solve the issue that your text wasn&#39;t be concatenated."}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571080653, "post_id": 58382293, "comment_id": 103113782, "body": "both text view need to be in this same lane"}, {"owner": {"reputation": 1482, "user_id": 2168085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PtwwM.jpg?s=128&g=1", "display_name": "CodyEngel", "link": "https://stackoverflow.com/users/2168085/codyengel"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571080837, "post_id": 58382293, "comment_id": 103113861, "body": "Can you post a picture of what you are trying to do? Should the first text view have a maximum width? Without a mockup of what you are trying to do it will be difficult to follow through just a written example."}, {"owner": {"reputation": 1482, "user_id": 2168085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PtwwM.jpg?s=128&g=1", "display_name": "CodyEngel", "link": "https://stackoverflow.com/users/2168085/codyengel"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571081308, "post_id": 58382293, "comment_id": 103114034, "body": "@san_francisco I included another solution which allows you to have them on the same line by adding an additional Guideline."}, {"owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571081936, "post_id": 58382293, "comment_id": 103114274, "body": "yea, something like that ;) but if my text in 1st textView has only 1 char, 2nd textView starting still from half size of layout, I would like to assign my 2nd textView to 1st textView (2nd textView always start from end 1st textView), is it possible ?"}, {"owner": {"reputation": 1482, "user_id": 2168085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PtwwM.jpg?s=128&g=1", "display_name": "CodyEngel", "link": "https://stackoverflow.com/users/2168085/codyengel"}, "reply_to_user": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "edited": false, "score": 0, "creation_date": 1571083175, "post_id": 58382293, "comment_id": 103114720, "body": "Just using constraints, no it wouldn&#39;t be possible. Using a <code>LinearLayout</code> with <code>layout_weight</code> also doesn&#39;t appear possible for your use case. The design you&#39;re describing sounds like really strange UX though and would be curious why exactly you need to do this. It seems like you&#39;d have an easier time with just one TextView and making use of a <code>SpannableString</code> for more complicated formatting."}], "tags": [], "owner": {"reputation": 1482, "user_id": 2168085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PtwwM.jpg?s=128&g=1", "display_name": "CodyEngel", "link": "https://stackoverflow.com/users/2168085/codyengel"}, "is_accepted": true, "score": 2, "last_activity_date": 1571081276, "last_edit_date": 1571081276, "creation_date": 1571078010, "answer_id": 58382293, "question_id": 58382051, "link": "https://stackoverflow.com/questions/58382051/textview-goes-beyound-the-constraintlayout/58382293#58382293", "title": "TextView goes beyound the ConstraintLayout", "body": "<p>Your constraints aren't correct as you don't have an end constraint. The following should resolve that issue:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_margin=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_marginTop=\"36dp\"\n        android:background=\"#00D54C4C\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"longTextlongTextlongTextlongTextlongTextlong\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            tools:layout_editor_absoluteY=\"85dp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView3\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"123456789\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            tools:layout_editor_absoluteY=\"85dp\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>That however still leaves you with some fairly gnarly layout code that isn't too great. There is never a good reason to have nested <code>ConstraintLayout</code>s so I'd recommend refactoring it to be something like this (which will still give you same end result):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"longTextlongTextlongTextlongTextlongTextlong\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"123456789\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/textView2\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>The above also includes vertical constraints (<code>constraintTop_...</code>) which will ensure the layout displays correctly at runtime and will also resolve the IDE warning you had with the code previously.</p>\n\n<p>And then from there to get the ellipsize effect you just need to add the following attributes to your <code>TextView</code>: <code>android:ellipsize=\"end\"</code> and <code>android:lines=\"1\"</code></p>\n\n<p>The final XML would look something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"longTextlongTextlongTextlongTextlongTextlonglongTextlongTextlongTextlongTextlongTextlong\"\n        android:ellipsize=\"end\"\n        android:lines=\"1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"123456789\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/textView2\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>One thing to note: this does remove the margin you had previously. Making use of <code>Guideline</code> you are able to add the margins/padding you wanted by adding a start and end <code>Guideline</code> which has a <code>vertical</code> orientation. The final-final version of the layout would look something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineStart\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_begin=\"16dp\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineEnd\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_end=\"16dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"longTextlongTextlongTextlongTextlongTextlonglongTextlongTextlongTextlongTextlongTextlong\"\n        android:ellipsize=\"end\"\n        android:lines=\"1\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineStart\"\n        app:layout_constraintEnd_toEndOf=\"@+id/guidelineEnd\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"123456789\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineStart\"\n        app:layout_constraintEnd_toEndOf=\"@+id/guidelineEnd\"\n        app:layout_constraintTop_toBottomOf=\"@id/textView2\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Having TextViews On Same Line</strong></p>\n\n<p>If you want to have the <code>TextView</code>s on the same line you can use another <code>Guideline</code> to include where the first should stop and the second should begin. In this example the guideline is set at the halfway point using <code>app:layout_constraintGuide_percent=\".5\"</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineStart\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_begin=\"16dp\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineCenter\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_percent=\".5\" /&gt;\n\n    &lt;androidx.constraintlayout.widget.Guideline\n        android:id=\"@+id/guidelineEnd\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_end=\"16dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView2\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"longTextlongTextlong\"\n        android:ellipsize=\"end\"\n        android:lines=\"1\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineStart\"\n        app:layout_constraintEnd_toStartOf=\"@+id/guidelineCenter\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView3\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"123456789\"\n        app:layout_constraintStart_toStartOf=\"@+id/guidelineCenter\"\n        app:layout_constraintEnd_toEndOf=\"@+id/guidelineEnd\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12172988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662a296c9456b9a5712e3f15419d55fa?s=128&d=identicon&r=PG&f=1", "display_name": "san_francisco", "link": "https://stackoverflow.com/users/12172988/san-francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58382293, "answer_count": 2, "score": 0, "last_activity_date": 1571081276, "creation_date": 1571076726, "last_edit_date": 1571080727, "question_id": 58382051, "link": "https://stackoverflow.com/questions/58382051/textview-goes-beyound-the-constraintlayout", "title": "TextView goes beyound the ConstraintLayout", "body": "<p>I would like to get a effect dotted text(ellipsis property) - both textView in this same line, but I have problem with ConstraintLayout.  </p>\n\n<p>In first TextView if I have long text, my second textView going to off screen. \nI would like to block second textView on the end of layout and dotted 1st textView.<br>\nIt is possible ?  </p>\n\n<p>Screens:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kAQxy.png\" rel=\"nofollow noreferrer\">short text</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FQh7M.png\" rel=\"nofollow noreferrer\">long text</a></p>\n\n<p>xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/colorPrimary\"\n    android:padding=\"16dp\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_margin=\"20dp\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_marginTop=\"36dp\"\n        android:background=\"#00D54C4C\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"longTextlongTextlongTextlongTextlongTextlong\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            tools:layout_editor_absoluteY=\"85dp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView3\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"123456789\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toEndOf=\"@+id/textView2\"\n            tools:layout_editor_absoluteY=\"85dp\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-actionbar", "android-appcompat"], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 9565263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a864725106c791298b134e18c5c10c12?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9565263/aaron"}, "edited": false, "score": 0, "creation_date": 1571084950, "post_id": 58381968, "comment_id": 103115362, "body": "Sweet man thanks. That worked perfectly. I am learning Kotlin and android at the same time. What is that behavior called when you:  (activity as AppCompatActivity)?  Is that casting? By the way this worked but don&#39;t stop here everyone, I believe there are better ways to set actionbar titles as other posts have mentioned."}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 38, "user_id": 9565263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a864725106c791298b134e18c5c10c12?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9565263/aaron"}, "edited": false, "score": 0, "creation_date": 1571085851, "post_id": 58381968, "comment_id": 103115700, "body": "Hi @Aaron yes it is a casting."}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": true, "score": 0, "last_activity_date": 1571076289, "creation_date": 1571076289, "answer_id": 58381968, "question_id": 58381831, "link": "https://stackoverflow.com/questions/58381831/how-can-i-access-supportactionbar-from-inside-fragment-name-kt-source-file-with/58381968#58381968", "title": "How Can I access supportActionBar from Inside fragment_name.kt Source File with Kotlin", "body": "<p>You can use something like:</p>\n\n<pre><code>(activity as AppCompatActivity).supportActionBar?.title = \"Ingredient Display\"\n</code></pre>\n\n<p>in the <code>onViewCreated</code> method (not in <code>onCreateView</code>).</p>\n"}], "owner": {"reputation": 38, "user_id": 9565263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a864725106c791298b134e18c5c10c12?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9565263/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 58381968, "answer_count": 1, "score": 1, "last_activity_date": 1571076812, "creation_date": 1571075623, "last_edit_date": 1571076812, "question_id": 58381831, "link": "https://stackoverflow.com/questions/58381831/how-can-i-access-supportactionbar-from-inside-fragment-name-kt-source-file-with", "title": "How Can I access supportActionBar from Inside fragment_name.kt Source File with Kotlin", "body": "<p>In my <code>MainActivity.kt</code> file, I can access <code>supportActionBar.title</code> and set the title.</p>\n\n<p>In <code>TitleScreenFragment.kt</code>, I cannot access:</p>\n\n<pre><code>activity.supportActionBar.title\n</code></pre>\n\n<p>and when I try to just use <code>activity.actionBar.title</code>, that value is null. </p>\n\n<p><strong>How do I access <code>activity.supportActionBar.title</code> from within my fragment code?</strong></p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n\n\n    val binding  = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this,\n        R.layout.activity_main)\n\n    val navController = this.findNavController(R.id.nav_host_fragment)\n\n    NavigationUI.setupActionBarWithNavController(this, navController)\n\n    //THIS WORKS HOW DO I ACCESS THIS FUNCTIONALITY FROM FRAGMENT CODE???\n    supportActionBar?.title = \"Ingredient Display\"\n}\n\noverride fun onSupportNavigateUp(): Boolean {\n    val navController = this.findNavController(R.id.nav_host_fragment)\n    return navController.navigateUp()\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>TitleScreenFragment.kt</strong></p>\n\n<pre><code>    class TitleScreenFragment : Fragment() {\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n\n    // Setup the binding object with the layout and inflate it\n\n    val binding = DataBindingUtil.inflate&lt;FragTitleBinding&gt;(inflater, R.layout.frag_title, container, false)\n\n    // Set navigation action as an onclicklistener for button\n    binding.btnBeginInput.setOnClickListener{\n        view?.findNavController()?.navigate(R.id.action_titleScreenFragment_to_ingredientInputFragment)\n\n    }\n\n    //THIS IS NULL\n    println(activity?.actionBar?.title)\n\n    // return the inflated object in the binding\n\n    return binding.root\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-activity", "android-alertdialog"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1571075581, "post_id": 58381231, "comment_id": 103111826, "body": "This works as designed. See <a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/dialogs</a>: &quot;When the user touches any of the action buttons created with an AlertDialog.Builder, the system dismisses the dialog for you.&quot; I suggest you use a DialogFragment instead."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 10619013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1cfe73e0c9ba245b899a77fbd08eafe?s=128&d=identicon&r=PG&f=1", "display_name": "BBurchfield", "link": "https://stackoverflow.com/users/10619013/bburchfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1571074178, "creation_date": 1571074178, "answer_id": 58381519, "question_id": 58381231, "link": "https://stackoverflow.com/questions/58381231/dont-dismiss-alertdialog-if-edittext-is-empty/58381519#58381519", "title": "Don&#39;t dismiss AlertDialog if EditText is empty", "body": "<p>I'm unsure if there's a way to bypass an alertdialog's buttons' functions. If there is, I've never found it. However, you could go with a much simpler solution. Just create your own \"alert\" view with an editText and buttons. Set the view to view.setVisibility(View.INVISIBLE) or (View.GONE), and any of its children views will be invisible or gone as well. I generally, when this is necessary, do this with a semi-transparent black background behind the view as the parent; and set that view's visibility back and forth. Then, you can customize the functionality of the buttons and the rest of the view in any way you want.</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 11656272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yKIRA94w5Tc/AAAAAAAAAAI/AAAAAAAABYw/XEs1R1YOf9c/photo.jpg?sz=128", "display_name": "mtisset", "link": "https://stackoverflow.com/users/11656272/mtisset"}, "edited": false, "score": 0, "creation_date": 1571079502, "post_id": 58381599, "comment_id": 103113316, "body": "Yeah ! It works ! Thks a lot ! I spent so much time on this issue, cool !"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1571076420, "last_edit_date": 1571076420, "creation_date": 1571074566, "answer_id": 58381599, "question_id": 58381231, "link": "https://stackoverflow.com/questions/58381231/dont-dismiss-alertdialog-if-edittext-is-empty/58381599#58381599", "title": "Don&#39;t dismiss AlertDialog if EditText is empty", "body": "<p>Use <code>onShow</code> to handle this like below:</p>\n\n<pre><code>val dialog = alertDialog.create()\ndialog.setOnShowListener {\n    dialog.getButton(DialogInterface.BUTTON_POSITIVE).setOnClickListener {\n       var isValid = true\n\n       if ( isEmpty(myedittext.text.toString()) ) {\n           isValid = false\n           Toast.makeText(this@MainActivity, \"empty\", Toast.LENGTH_SHORT).show()\n       }\n\n       if ( isValid ) {\n           Toast.makeText(this@MainActivity, \"yeah!\", Toast.LENGTH_SHORT).show()\n           dialog.dismiss()\n       }\n    }\n}\n\ndialog.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 11656272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yKIRA94w5Tc/AAAAAAAAAAI/AAAAAAAABYw/XEs1R1YOf9c/photo.jpg?sz=128", "display_name": "mtisset", "link": "https://stackoverflow.com/users/11656272/mtisset"}, "edited": false, "score": 0, "creation_date": 1571079529, "post_id": 58381923, "comment_id": 103113324, "body": "Yeah ! It works ! Thks a lot ! I spent so much time on this issue, cool !"}], "tags": [], "owner": {"reputation": 71, "user_id": 11649677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4dfaca3cfbdfa1fd1ab6fe4f61f884e?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo Lopez", "link": "https://stackoverflow.com/users/11649677/alfredo-lopez"}, "is_accepted": false, "score": 1, "last_activity_date": 1571076086, "creation_date": 1571076086, "answer_id": 58381923, "question_id": 58381231, "link": "https://stackoverflow.com/questions/58381231/dont-dismiss-alertdialog-if-edittext-is-empty/58381923#58381923", "title": "Don&#39;t dismiss AlertDialog if EditText is empty", "body": "<p>You need to get the positive button to override the method onclick</p>\n\n<p>you can use this code:</p>\n\n<pre><code>private fun showMyEditextDialog() {\n    val alertDialog = AlertDialog.Builder(this)\n\n    val view = layoutInflater.inflate(R.layout.my_layout, null)\n    val myedittext = view.findViewById(R.id.myedittext) as EditText\n\n\n    alertDialog.setTitle(getString(R.string.title))\n    alertDialog.setView(view)\n    alertDialog.setCancelable(false)\n    alertDialog.setPositiveButton(R.string.ok, null)\n    alertDialog.create()\n\n    var dialog = alertDialog.create()\n    dialog.show()\n    dialog.getButton(AlertDialog.BUTTON_POSITIVE).setOnClickListener {\n        var isValid = true\n\n        if ( isEmpty(myedittext.text.toString()) ) {\n            isValid = false\n            Toast.makeText(this, \"empty\", Toast.LENGTH_SHORT).show()\n        }\n\n        if ( isValid ) {\n            Toast.makeText(this, \"yeah!\", Toast.LENGTH_SHORT).show()        }\n\n        if ( isValid ) {\n            dialog.dismiss()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11656272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yKIRA94w5Tc/AAAAAAAAAAI/AAAAAAAABYw/XEs1R1YOf9c/photo.jpg?sz=128", "display_name": "mtisset", "link": "https://stackoverflow.com/users/11656272/mtisset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 58381599, "answer_count": 3, "score": 0, "last_activity_date": 1571134908, "creation_date": 1571072840, "last_edit_date": 1571134908, "question_id": 58381231, "link": "https://stackoverflow.com/questions/58381231/dont-dismiss-alertdialog-if-edittext-is-empty", "title": "Don&#39;t dismiss AlertDialog if EditText is empty", "body": "<p>Despite a lot of searches and trials, I can't avoid my AlertDialog to close if my EditText is empty... I saw that it was a current issue on StackOverflow with a lot of responses but when I try it, it doesn't work...</p>\n\n<p>Here is my Kotlin code, thanks for your help...</p>\n\n<pre><code>import androidx.appcompat.app.AlertDialog\nimport android.content.DialogInterface\n\nprivate fun showMyEditextDialog() {\n    val alertDialog = AlertDialog.Builder(this)\n\n    val view = layoutInflater.inflate(R.layout.my_layout, null)\n    val myedittext = view.findViewById(R.id.myedittext) as EditText\n\n\n    alertDialog.setTitle(getString(R.string.title))\n    alertDialog.setView(view)\n    alertDialog.setCancelable(false)\n    alertDialog.setPositiveButton(R.string.ok, DialogInterface.OnClickListener { dialogInterface, i -&gt;\n        var isValid = true\n\n        if ( isEmpty(myedittext.text.toString()) ) {\n            isValid = false\n            Toast.makeText(this, \"empty\", Toast.LENGHT_SHORT).show()\n        }\n\n        if ( isValid ) {\n            Toast.makeText(this, \"yeah!\", Toast.LENGHT_SHORT).show()        }\n\n        if ( isValid ) {\n            dialogInterface.dismiss()\n        }\n\n    })\n}\n</code></pre>\n\n<p>My xml :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:gravity=\"center\"&gt;\n\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/question\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/myedittext\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:inputType=\"numberDecimal\" /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>If I enter a value, I've got my \"<em>yeah</em>\" message.\nIf I don't enter a value, I've got my \"<em>empty</em>\" message but my dialog dismiss...</p>\n\n<p>Thanks for your help,</p>\n\n<p>MT</p>\n"}, {"tags": ["java", "android", "kotlin", "flutter", "dart"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 8208808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvvaM.jpg?s=128&g=1", "display_name": "MihaiBC", "link": "https://stackoverflow.com/users/8208808/mihaibc"}, "is_accepted": false, "score": 5, "last_activity_date": 1573894184, "creation_date": 1573894184, "answer_id": 58889020, "question_id": 58381039, "link": "https://stackoverflow.com/questions/58381039/im-having-trouble-running-my-flutter-app-in-release-mode-android/58889020#58889020", "title": "I&#39;m having trouble running my Flutter app in release mode - android", "body": "<p>You should try to install the app using <strong>flutter run --release</strong>.\nIn this way, you will see what kind of error the app throws during the crash. </p>\n\n<p>Also, you cand find more info <a href=\"https://flutter.dev/docs/testing/build-modes#release\" rel=\"noreferrer\">here</a> if you haven't already checked the page.</p>\n"}, {"comments": [{"owner": {"reputation": 492, "user_id": 10468555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mc31k.jpg?s=128&g=1", "display_name": "maxpill", "link": "https://stackoverflow.com/users/10468555/maxpill"}, "edited": false, "score": 1, "creation_date": 1613412644, "post_id": 60160364, "comment_id": 117062176, "body": "You saviour, how could I not know about it"}], "tags": [], "owner": {"reputation": 441, "user_id": 9362537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e68bacaa0d5cab53811d7b53be08880?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Ma", "link": "https://stackoverflow.com/users/9362537/leo-ma"}, "is_accepted": false, "score": 3, "last_activity_date": 1581380582, "creation_date": 1581380582, "answer_id": 60160364, "question_id": 58381039, "link": "https://stackoverflow.com/questions/58381039/im-having-trouble-running-my-flutter-app-in-release-mode-android/60160364#60160364", "title": "I&#39;m having trouble running my Flutter app in release mode - android", "body": "<p>you could run your app in <code>--profile</code> mode and get <code>--release</code> like performance and get the logs like in the <code>--debug</code> mode.</p>\n\n<p>you could find the Uncaught Exception then.</p>\n\n<p>provide the logs if needed more help finding the issue.</p>\n\n<p>:hearts</p>\n"}], "owner": {"reputation": 41, "user_id": 10725965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RGWmN.jpg?s=128&g=1", "display_name": "attalli ayoub", "link": "https://stackoverflow.com/users/10725965/attalli-ayoub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4991, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1581380582, "creation_date": 1571071969, "last_edit_date": 1571090032, "question_id": 58381039, "link": "https://stackoverflow.com/questions/58381039/im-having-trouble-running-my-flutter-app-in-release-mode-android", "title": "I&#39;m having trouble running my Flutter app in release mode - android", "body": "<ol>\n<li>I'm having trouble at running my Flutter app in release mode.  I tried to  build with apk and with the bundletool and i got the same error \"unfortunately, Hanoti has stopped\"</li>\n<li>in the debug mode is running normally.</li>\n<li>this is the image:\n<a href=\"https://i.stack.imgur.com/UAcs6.png\" rel=\"nofollow noreferrer\">the image of the issue</a></li>\n<li>in debug mode:\n<a href=\"https://i.stack.imgur.com/XtIFb.png\" rel=\"nofollow noreferrer\">the image in debug mode</a></li>\n<li>my app files: like\n\n<ul>\n<li>android\\build.gradle:</li>\n<li>android\\app\\build.gradle:</li>\n<li>androidManifest.xml:</li>\n<li>main.dart:\n... etc.</li>\n</ul></li>\n</ol>\n\n<p></p>\n\n<ol start=\"6\">\n<li>i did all that, and the logs after i run: \n\n<ul>\n<li>flutter clean</li>\n<li>gradlew cleanBuildCache</li>\n</ul></li>\n</ol>\n\n<p><strong>Target Platform:</strong> Android\n<strong>Target OS version/browser:</strong> minSdkVersion 21 (android 5.0), targetSdkVersion 28 (android 9)\n<strong>Devices:</strong> galaxy_nexus_api_23:5554 => emulator\n<strong>My Develpment machine.</strong>:</p>\n\n<pre><code>OS Name:                   Microsoft Windows 10 Enterprise\nOS Version:                10.0.17763 N/A Build 17763\nOS Manufacturer:           Microsoft Corporation\nOS Configuration:          Standalone Workstation\nOS Build Type:             Multiprocessor Free\nRegistered Owner:          N/A\nRegistered Organization:   N/A\nSystem Type:               x64-based PC\nProcessor(s):              1 Processor(s) Installed.\n                           [01]: Intel64 Family 6 Model 142 Stepping 9 GenuineIntel ~2701 Mhz\nWindows Directory:         C:\\WINDOWS\nSystem Directory:          C:\\WINDOWS\\system32\nBoot Device:               \\Device\\HarddiskVolume1\nSystem Locale:             en-us;English (United States)\nTotal Physical Memory:     8,092 MB\nAvailable Physical Memory: 2,497 MB\nVirtual Memory: Max Size:  13,468 MB\nVirtual Memory: Available: 7,171 MB\nVirtual Memory: In Use:    6,297 MB\n</code></pre>\n\n<h1>Logs</h1>\n\n<h2>flutter run --verbose</h2>\n\n<p><a href=\"https://gist.github.com/AttalliAyoub/c4572d6f80f616b3229789f2ddf32b6a#file-flutter-run-verbose\" rel=\"nofollow noreferrer\">https://gist.github.com/AttalliAyoub/c4572d6f80f616b3229789f2ddf32b6a#file-flutter-run-verbose</a></p>\n\n<h2>flutter build apk --split-per-abi --verbose</h2>\n\n<p><a href=\"https://gist.github.com/AttalliAyoub/c4572d6f80f616b3229789f2ddf32b6a#file-flutter-build-apk-split-per-abi-verbose\" rel=\"nofollow noreferrer\">https://gist.github.com/AttalliAyoub/c4572d6f80f616b3229789f2ddf32b6a#file-flutter-build-apk-split-per-abi-verbose</a></p>\n\n<h2>flutter analyze</h2>\n\n<pre><code>Analyzing hanoti...\n\n   info - Unused import: 'package:hanoti/services/interfaces.dart' - lib\\main.dart:9:8 - unused_import\n   info - This class (or a class which this class inherits from) is marked as '@immutable', but one or\n          more of its instance fields are not final: UserIcon._radius, UserIcon._border -\n          lib\\pages\\chat.dart:155:7 - must_be_immutable\n   info - The left operand uses '?.', so its value can be null - lib\\pages\\chat.dart:228:7 -\n          null_aware_before_operator\n   info - The value of the '?.' operator can be 'null', which isn't appropriate in a condition -\n          lib\\pages\\chat.dart:288:26 - null_aware_in_condition\n   info - This class (or a class which this class inherits from) is marked as '@immutable', but one or\n          more of its instance fields are not final: PickChat._chatService - lib\\pages\\pickChat.dart:14:7\n          - must_be_immutable\n   info - Unused import: 'package:font_awesome_flutter/font_awesome_flutter.dart' -\n          lib\\pages\\pickStore.dart:2:8 - unused_import\n   info - The left operand uses '?.', so its value can be null - lib\\pages\\pickStore.dart:71:27 -\n          null_aware_before_operator\n   info - The left operand uses '?.', so its value can be null - lib\\pages\\products.dart:38:11 -\n          null_aware_before_operator\n   info - Close instances of `dart.core.Sink` - lib\\pages\\searchForStore.dart:32:27 - close_sinks\n   info - The value of the local variable '_current' isn't used - lib\\pages\\showproduct.dart:21:9 -\n          unused_local_variable\n   info - Dead code - lib\\pages\\showproduct.dart:78:31 - dead_code\n   info - Use `;` instead of `{}` for empty constructor bodies - lib\\pages\\storeInfo.dart:6:25 -\n          empty_constructor_bodies\n   info - Prefer using /// for doc comments - lib\\pages\\videoCall.dart:5:1 - slash_for_doc_comments\n   info - Unused import: 'package:hanoti/services/resp.dart' - lib\\pages\\workspace.dart:9:8 -\n          unused_import\n   info - The value of the field '_profile' isn't used - lib\\pages\\workspace.dart:22:8 - unused_field\n   info - The left operand uses '?.', so its value can be null - lib\\pages\\workspace.dart:59:11 -\n          null_aware_before_operator\n   info - The left operand uses '?.', so its value can be null - lib\\pages\\workspace.dart:257:7 -\n          null_aware_before_operator\n   info - Close instances of `dart.core.Sink` - lib\\services\\auth.dart:27:25 - close_sinks\n   info - 'enablePersistence' is deprecated and shouldn't be used - lib\\services\\auth.dart:31:14 -\n          deprecated_member_use\n   info - 'enablePersistence' is deprecated and shouldn't be used - lib\\services\\chat.dart:10:14 -\n          deprecated_member_use\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:22:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:23:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:24:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:25:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:26:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:62:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:65:10 -\n          non_constant_identifier_names\n   info - Name non-constant identifiers using lowerCamelCase - lib\\services\\interfaces.dart:66:10 -\n          non_constant_identifier_names\n   info - 'enablePersistence' is deprecated and shouldn't be used - lib\\services\\products.dart:46:14 -\n          deprecated_member_use\n   info - Close instances of `dart.core.Sink` - lib\\services\\resp.dart:8:25 - close_sinks\n   info - Close instances of `dart.core.Sink` - lib\\services\\resp.dart:9:27 - close_sinks\n   info - Close instances of `dart.core.Sink` - lib\\services\\store.dart:12:26 - close_sinks\n   info - Close instances of `dart.core.Sink` - lib\\services\\store.dart:13:31 - close_sinks\n   info - Close instances of `dart.core.Sink` - lib\\services\\store.dart:15:32 - close_sinks\n   info - 'enablePersistence' is deprecated and shouldn't be used - lib\\services\\store.dart:21:14 -\n          deprecated_member_use\n   info - The value of the '?.' operator can be 'null', which isn't appropriate as an operand of a\n          logical operator - lib\\services\\store.dart:128:28 - null_aware_in_logical_operator\n   info - This class (or a class which this class inherits from) is marked as '@immutable', but one or\n          more of its instance fields are not final: SearchAppBar.actions - lib\\shared\\searchBar.dart:5:7\n          - must_be_immutable\n\n37 issues found. (ran in 66.5s)\n</code></pre>\n\n<h2>flutter doctor -v`</h2>\n\n<pre><code>[\u221a] Flutter (Channel master, v1.10.15-pre.39, on Microsoft Windows [Version 10.0.17763.504], locale\n    en-US)\n    \u2022 Flutter version 1.10.15-pre.39 at C:\\flutter\n    \u2022 Framework revision 2adda80c10 (5 days ago), 2019-10-09 16:58:41 -0700\n    \u2022 Engine revision e693192167\n    \u2022 Dart version 2.6.0 (build 2.6.0-dev.6.0 41d13f0ffe)\n\n\n[\u221a] Android toolchain - develop for Android devices (Android SDK version 29.0.2)\n    \u2022 Android SDK at C:\\Android\\android-sdk\n    \u2022 Android NDK location not configured (optional; useful for native profiling support)\n    \u2022 Platform android-29, build-tools 29.0.2\n    \u2022 ANDROID_HOME = C:\\Android\\android-sdk\n    \u2022 ANDROID_SDK_ROOT = C:\\Android\\android-sdk\n    \u2022 Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n    \u2022 All Android licenses accepted.\n\n[\u221a] Visual Studio - develop for Windows (Visual Studio Community 2019 16.1.2)\n    \u2022 Visual Studio at E:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\n    \u2022 Visual Studio Community 2019 version 16.1.29001.49\n\n[\u221a] Android Studio (version 3.4)\n    \u2022 Android Studio at C:\\Program Files\\Android\\Android Studio\n    \u2022 Flutter plugin version 38.1.1\n    \u2022 Dart plugin version 183.6270\n    \u2022 Java version OpenJDK Runtime Environment (build 1.8.0_152-release-1343-b01)\n\n[\u221a] IntelliJ IDEA Community Edition (version 2019.2)\n    \u2022 IntelliJ at E:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.2.3\n    \u2022 Flutter plugin version 40.0.4\n    \u2022 Dart plugin version 192.6817.14\n\n[\u221a] VS Code (version 1.39.1)\n    \u2022 VS Code at C:\\Users\\snake\\AppData\\Local\\Programs\\Microsoft VS Code\n    \u2022 Flutter extension version 3.5.1\n\n[\u221a] Connected device (2 available)\n    \u2022 SM G355H \u2022 4203e926b406c100 \u2022 android-arm \u2022 Android 4.4.2 (API 19)\n    \u2022 Windows  \u2022 Windows          \u2022 windows-x64 \u2022 Microsoft Windows [Version 10.0.17763.504]\n\n\u2022 No issues found!\n</code></pre>\n"}, {"tags": ["android", "oop", "kotlin", "android-lifecycle"], "comments": [{"owner": {"reputation": 397, "user_id": 2759161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igC9W.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2759161/kevin"}, "edited": false, "score": 0, "creation_date": 1571071635, "post_id": 58380724, "comment_id": 103110215, "body": "<a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html#restore-activity-ui-state-using-saved-instance-state\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>  maybe the official doc can give you a clue of this question."}, {"owner": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 1, "creation_date": 1571071716, "post_id": 58380724, "comment_id": 103110245, "body": "A <code>Bundle</code> is passed to you, you do not really need to know where or how it&#39;s instantiated. From what I&#39;ve gathered the actual creation of <code>savedInstanceState</code> is in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/ActivityThread.java#5329\" rel=\"nofollow noreferrer\"><code>ActivityThread#callActivityOnSaveInstanceState</code></a>, which is an implementation detail."}, {"owner": {"reputation": 143, "user_id": 3772716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8G9lx.png?s=128&g=1", "display_name": "Timothy", "link": "https://stackoverflow.com/users/3772716/timothy"}, "reply_to_user": {"reputation": 1234, "user_id": 6179431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DHO20.jpg?s=128&g=1", "display_name": "Sandi", "link": "https://stackoverflow.com/users/6179431/sandi"}, "edited": false, "score": 0, "creation_date": 1571076846, "post_id": 58380724, "comment_id": 103112323, "body": "@Sandi Thanks you are right, however I needed more information to actually find the expression &gt; r.state = new Bundle() to really convince me. I wanted to see the code to believe it and the answer Enselic gave me did the trick."}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 3772716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8G9lx.png?s=128&g=1", "display_name": "Timothy", "link": "https://stackoverflow.com/users/3772716/timothy"}, "edited": false, "score": 0, "creation_date": 1571076104, "post_id": 58380990, "comment_id": 103112035, "body": "Thanks very much man, this is exactly what I was looking for. I actually found the call &gt; r.state = new Bundle(); inside the function &gt; callCallActivityOnSaveInstanceState(ActivityClientRecord r) which indeed removes the &quot;magic&quot; for me. I am just so happy for finding the <i>new</i> keyword. I can sleep happy now"}], "tags": [], "owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "is_accepted": true, "score": 1, "last_activity_date": 1571071741, "creation_date": 1571071741, "answer_id": 58380990, "question_id": 58380724, "link": "https://stackoverflow.com/questions/58380724/where-is-the-actual-savedinstancestate-object-in-lifecycle-method-oncreate/58380990#58380990", "title": "Where is the actual savedInstanceState object in lifecycle method onCreate()?", "body": "<p>It is instantiated by platform code. More specifically, the main system component responsible for keeping track of Activity states of apps is <a href=\"https://android.googlesource.com/platform/frameworks/base/+/4f868ed/services/core/java/com/android/server/am/ActivityManagerService.java\" rel=\"nofollow noreferrer\">ActivityManagerService</a>. This component forwards information about <code>savedInstanceState</code> to the appropriate application processes.</p>\n\n<p>Once the app process have this information, it runs local code to manage e.g. <code>savedInstanceState</code>.  If you set a breakpoint in your <code>onCreate()</code> you can investigate the stack of calls that lead up to your <code>onCreate()</code> method. It is from that stack of calls that <code>savedInstanceState</code> originates. It can be different for different Android versions, but in my case on Android 10 that stack looks like this:</p>\n\n<pre><code>onCreate:183, MainPagerActivity (com.mydomain.android.activity)\nperformCreate:7802, Activity (android.app)\nperformCreate:7791, Activity (android.app)\ncallActivityOnCreate:1306, Instrumentation (android.app)\nperformLaunchActivity:3245, ActivityThread (android.app)\nhandleLaunchActivity:3409, ActivityThread (android.app)\nexecute:83, LaunchActivityItem (android.app.servertransaction)\nexecuteCallbacks:135, TransactionExecutor (android.app.servertransaction)\nexecute:95, TransactionExecutor (android.app.servertransaction)\nhandleMessage:2016, ActivityThread$H (android.app)\ndispatchMessage:107, Handler (android.os)\nloop:214, Looper (android.os)\nmain:7356, ActivityThread (android.app)\ninvoke:-1, Method (java.lang.reflect)\nrun:492, RuntimeInit$MethodAndArgsCaller (com.android.internal.os)\nmain:930, ZygoteInit (com.android.internal.os)\n</code></pre>\n\n<p>You can for example see that the code in the call chain is this (just move up the stack in the Android Studio debugger):</p>\n\n<pre><code>    private Activity performLaunchActivity(ActivityClientRecord r, Intent customIntent) {\n</code></pre>\n\n<p>and a bit further down:</p>\n\n<pre><code>                activity.mCalled = false;\n                if (r.isPersistable()) {\n                    mInstrumentation.callActivityOnCreate(activity, r.state, r.persistentState);\n                } else {\n                    mInstrumentation.callActivityOnCreate(activity, r.state);\n                }\n</code></pre>\n\n<p>where <code>r.state</code> is the <code>savedInstanceState</code> you are passed. <code>ActivityClientRecord</code> holds lots of state for an <code>Activity</code>.</p>\n\n<p>I could keep adding details to this mechanism, but hopefully it is enough to remove the \"magic\" of how you get a <code>savedInstanceState</code>.</p>\n"}], "owner": {"reputation": 143, "user_id": 3772716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8G9lx.png?s=128&g=1", "display_name": "Timothy", "link": "https://stackoverflow.com/users/3772716/timothy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58380990, "answer_count": 1, "score": 0, "last_activity_date": 1571073552, "creation_date": 1571070588, "last_edit_date": 1571073552, "question_id": 58380724, "link": "https://stackoverflow.com/questions/58380724/where-is-the-actual-savedinstancestate-object-in-lifecycle-method-oncreate", "title": "Where is the actual savedInstanceState object in lifecycle method onCreate()?", "body": "<p>Where is the object savedInstanceState instantiated? Shouldn't it say somewhere, something like this <code>val savedInstance = SavedInstanceState()</code>?\n</p>\n\n<pre><code>MainActivity : AppCompatActivity() {\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       setContentView(R.layout.activity_main)\n   }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 5120, "user_id": 1401164, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/892b23de3c567590676d6ce001d5d854?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/1401164/gustavo"}, "edited": false, "score": 0, "creation_date": 1571111624, "post_id": 58380466, "comment_id": 103121215, "body": "@Gustavo edited the questions with more details"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 2, "creation_date": 1571113215, "post_id": 58380466, "comment_id": 103121518, "body": "<code>doSomeCompletable</code> implementation is missing in this question."}, {"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1571119007, "post_id": 58380466, "comment_id": 103123022, "body": "@SanlokLee thanks for pointing out. I have edited the question now."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571126496, "post_id": 58380466, "comment_id": 103126477, "body": "You are using <code>subscribeOn</code> and <code>observeOn</code> which, when run with standard Schedulers, introduce asynchrony hence the test method will return before the signals reach the observer. What value does <code>executionThread.scheduler</code> have?"}, {"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571127842, "post_id": 58380466, "comment_id": 103127176, "body": "@akarnokd it is using Schedulers.computation()"}, {"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571127916, "post_id": 58380466, "comment_id": 103127220, "body": "@akarnokd If i forget about the unit tests, this is not working for a normal flow"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571128120, "post_id": 58380466, "comment_id": 103127317, "body": "The listed code should work as far as I understand it. Do you have by any chance something like <code>startWith { someObservable }</code> in your actual code? Otherwise it would be more revealing if you posted a project demonstrating the issue."}, {"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571128516, "post_id": 58380466, "comment_id": 103127523, "body": "@akarnokd i am not doing anything else with the Completable instance. Cant put entire project."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1571129469, "post_id": 58380466, "comment_id": 103128077, "body": "Looks like you have to put many <code>doOnSubscribe { println(&quot;OnSubscribe-&quot; + System.currentTimeMillis()) }</code> into the flow in <code>execute</code> to see where things stop. Similarly <code>doOnEvent { println(&quot;OnEvent: &quot; + it + &quot; &quot; + System.currentTimeMillis()) }</code> would reveal where events disappear. <code>System.currentTimeMillis()</code> is required so the logcat doesn&#39;t hide repeating lines."}, {"owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1571131394, "post_id": 58380466, "comment_id": 103129099, "body": "@akarnokd Thanks i will add System.currentTimeMillis() and see how it behaves"}], "owner": {"reputation": 899, "user_id": 1109493, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/47f3f0d38818f5bb5f97a6b9d9d7f305?s=128&d=identicon&r=PG", "display_name": "anshul", "link": "https://stackoverflow.com/users/1109493/anshul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571129041, "creation_date": 1571069502, "last_edit_date": 1571129041, "question_id": 58380466, "link": "https://stackoverflow.com/questions/58380466/completable-of-rxjava-is-not-completing-or-erroring", "title": "Completable of RxJava is not completing or erroring", "body": "<p>I have been using Rxjava for more than a few years but never tried other operators than Observable. \nRecently I have been architecting a new app for which I have gone through few articles on how to make best use of RxJava.\nI have been using MVP for my project and familiar with interactors. \nI have written one base Interactor which does background work for me. Below is the source code for that.</p>\n\n<pre><code>abstract class CompletableInteractor&lt;PARAMS&gt;(\nprivate val executionThread: ExecutionThread,\nprivate val postExecutionThread: PostExecutionThread) {\n\nprivate val disposables = CompositeDisposable()\nprotected abstract fun buildUseCase(params: PARAMS?): Completable\n\nprivate var isInProgress = false\n\nfun execute(observer: CompletableObserver, params: PARAMS? = null) {\n    val subscribeWith = this.buildUseCase(params)\n        .subscribeOn(executionThread.scheduler) //io\n        .observeOn(postExecutionThread.scheduler) // AndroidMainThread\n        .subscribeWith(observer)}\n\n}\n</code></pre>\n\n<p>Now here is my Interactor code which is trying to work with this Completable use case</p>\n\n<pre><code>class ApplicationSearchInteractor @Inject constructor(\nprivate val dataService: DataService,\n@Named(ComputationThread.computation) executionThread: ExecutionThread,\npostExecutionThread: PostExecutionThread) : CompletableInteractor&lt;String&gt;(executionThread, postExecutionThread) {\n\noverride fun buildUseCase(params: String?): Completable {\n    return dataService.doSomeCompletable(params)}}\n</code></pre>\n\n<p>Now here is the implementation of the DataService</p>\n\n<pre><code>class DataUploadRepository @Inject constructor(){\n\noverride fun doSomeCompletable(name: String?): Completable {\n    name?.let {\n        return Completable.complete()\n    } ?: kotlin.run {\n        return Completable.error(NullPointerException())\n        }\n    }   }\n</code></pre>\n\n<p>Now What I am trying to do here is writing test case for the ApplicationSearchInteractor and trying to \nmake the Completable.complete() and Completable.error test cases passed by passing name null and some no null values which do not happen.</p>\n\n<p>Even I have created a test app putting all these things together calling interactor from the presenter. But none of the callbacks of the CompletableObserver are getting called.\nI am completely blank now what are the mistakes I am making as I did the same thing with Observable and everything was great with it.\nPresenter code</p>\n\n<pre><code>class DataUploadPresenter @Inject constructor(private val applicationSearchInteractor: CompletableInteractor&lt;String&gt;) {\n\nfun registerApplications(callingApp: String) {\n    applicationSearchInteractor.execute(applicationFoundObserver, null)\n}\n\n\nprivate val applicationFoundObserver = object : CompletableObserver {\n    override fun onSubscribe(d: Disposable) {\n\n    }\n\n    override fun onComplete() {\n        print(\"hello\")\n    }\n\n    override fun onError(e: Throwable) {\n        print(\"error\")\n        //e.printStackTrace()\n    }\n\n}}\n</code></pre>\n\n<p>When I try to complete or error Completable it doesn't call its respective callbacks of CompletableObserver</p>\n\n<p><strong>EDIT: I observed something strange now. the kotlin's print methods are not getting printed hence it appeared to me that the callbacks are not triggering. My bad but don't know why these prints methods are not printing on an android studio.</strong></p>\n"}, {"tags": ["kotlin", "dagger-2", "androidx", "dagger"], "comments": [{"owner": {"reputation": 109, "user_id": 6390473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1689205994663000/picture?type=large", "display_name": "Alex Huiculescu", "link": "https://stackoverflow.com/users/6390473/alex-huiculescu"}, "edited": false, "score": 0, "creation_date": 1610023150, "post_id": 58379564, "comment_id": 116005076, "body": "Also related to <a href=\"https://stackoverflow.com/questions/57995480/app-crash-on-creating-viewmodel-only-when-minifyenabled-and-with-lifecycle-v-2-1\" title=\"app crash on creating viewmodel only when minifyenabled and with lifecycle v 2 1\">stackoverflow.com/questions/57995480/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 9949373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72680c78e8e034b3515f51f8e5ad8b12?s=128&d=identicon&r=PG&f=1", "display_name": "maw", "link": "https://stackoverflow.com/users/9949373/maw"}, "is_accepted": true, "score": 0, "last_activity_date": 1571226117, "last_edit_date": 1571226117, "creation_date": 1571219972, "answer_id": 58410633, "question_id": 58379564, "link": "https://stackoverflow.com/questions/58379564/java-lang-linkageerror-method-void-gamehistoryviewmodel-a-overrides-final-met/58410633#58410633", "title": "java.lang.LinkageError: Method void GameHistoryViewModel.a() overrides final method in class Landroidx/lifecycle/ViewModel; appears in base.apk)", "body": "<p>I had the same problem recently \u3002 you can check the implementation about androidx.appcompat.xxxxx<code>\u3002 I fixup by replace</code>implementation 'androidx.appcompat:appcompat:1.1.0'<code>to</code>implementation 'androidx.appcompat:appcompat:1.0.2'`</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 2821814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01aa2a92c66f02b71f90b3c79a3f52ad?s=128&d=identicon&r=PG&f=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/2821814/liam"}, "is_accepted": false, "score": 14, "last_activity_date": 1578434989, "last_edit_date": 1578434989, "creation_date": 1578417996, "answer_id": 59633268, "question_id": 58379564, "link": "https://stackoverflow.com/questions/58379564/java-lang-linkageerror-method-void-gamehistoryviewmodel-a-overrides-final-met/59633268#59633268", "title": "java.lang.LinkageError: Method void GameHistoryViewModel.a() overrides final method in class Landroidx/lifecycle/ViewModel; appears in base.apk)", "body": "<p>I think it's because you have a method named <code>clear()</code>, which is a final method of higher version of ViewModel class. If that's the case, you can resolve this issue by changing your method's name.</p>\n"}], "owner": {"reputation": 57, "user_id": 9673648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zOuaxmrBwwI/AAAAAAAAAAI/AAAAAAAADsA/uzMZwTYeYWM/photo.jpg?sz=128", "display_name": "Onur Aydeniz", "link": "https://stackoverflow.com/users/9673648/onur-aydeniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 1, "accepted_answer_id": 58410633, "answer_count": 2, "score": 4, "last_activity_date": 1594372550, "creation_date": 1571065836, "question_id": 58379564, "link": "https://stackoverflow.com/questions/58379564/java-lang-linkageerror-method-void-gamehistoryviewmodel-a-overrides-final-met", "title": "java.lang.LinkageError: Method void GameHistoryViewModel.a() overrides final method in class Landroidx/lifecycle/ViewModel; appears in base.apk)", "body": "<p>When i migrate to Androidx encountered this error only release build.I tried to update depenencies but doesnt work.Its working perfectly before androidx.I didnt understand.Thanks for help.\nWhen i migrate to Androidx encountered this error only release build.I tried to update depenencies but doesnt work.Its working perfectly before androidx.I didnt understand.Thanks for help.</p>\n\n<p>Complete Error</p>\n\n<pre><code>java.lang.LinkageError: Method void com.kaznmx.app.kelime.features.gamehistory.GameHistoryViewModel.a() overrides final method in class Landroidx/lifecycle/ViewModel; (declaration of 'com.kaznmx.app.kelime.features.gamehistory.GameHistoryViewModel' appears in base.apk)\n        at com.kaznmx.app.kelime.WordSearchApp.onCreate(:2)\n        at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1155)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5940)\n        at android.app.ActivityThread.access$1100(ActivityThread.java:201)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1657)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6747)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:495)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n\n</code></pre>\n\n<p>WordSearchApp Class</p>\n\n<pre><code>package com.kaznmx.app.kelime;\n\nimport android.app.Application;\n\nimport com.flurry.android.FlurryAgent;\nimport com.kaznmx.app.kelime.di.component.*;\n\nimport com.kaznmx.app.kelime.di.modules.AppModule;\nimport com.onesignal.OneSignal;\n\n/**\n * Created by abdularis on 18/07/17.\n */\n\npublic class WordSearchApp extends Application {\n\n    AppComponent mAppComponent;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mAppComponent = DaggerAppComponent.builder().appModule(new AppModule(this)).build();\n        OneSignal.startInit(this)\n                .inFocusDisplaying(OneSignal.OSInFocusDisplayOption.Notification)\n                .unsubscribeWhenNotificationsAreDisabled(true)\n                .init();\n        new FlurryAgent.Builder()\n                .withLogEnabled(true)\n                .build(this, \"WJ634G9DD5HTFTHFKVFDZ\");\n    }\n\n    public AppComponent getAppComponent() {\n        return mAppComponent;\n    }\n\n}\n</code></pre>\n\n<p>BuildGradle(App)</p>\n\n<pre><code>apply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\napply plugin: 'com.android.application'\n\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\nbuildscript {\n    repositories {\n        maven { url 'https://plugins.gradle.org/m2/'}\n    }\n    dependencies {\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.12.4, 0.99.99]'\n    }\n}\n\nandroid {\n\n\n\n    defaultConfig {\n        manifestPlaceholders = [\n                onesignal_app_id: '09f73c28-30df-4539-8e50-3da31c027731',\n                // Project number pulled from dashboard, local value is ignored.\n                onesignal_google_project_number: '712447187723'\n        ]\n    }\n\n    signingConfigs {\n\n        test {\n            storePassword 'test1234'\n            keyAlias = 'key0'\n            keyPassword 'test1234'\n            storeFile file('C:\\\\Users\\\\Onur\\\\test1234.jks')\n        }\n    }\n    lintOptions {\n\n        checkReleaseBuilds false\n\n    }\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId \"com.parakazanin.cevirkazangorevyap\"\n        minSdkVersion 22\n        targetSdkVersion 29\n        versionCode 14\n        versionName \"3.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            useProguard false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.test\n        }\n    }\n    compileOptions {\n        sourceCompatibility = '1.8'\n        targetCompatibility = '1.8'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.android.volley:volley:1.1.1'\n    implementation 'com.plattysoft.leonids:LeonidsLib:1.3.2'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.flurry.android:analytics:12.0.0@aar'\n    implementation 'com.github.GrenderG:Toasty:1.4.1'\n    testImplementation 'junit:junit:4.12'\n    implementation 'com.onesignal:OneSignal:[3.11.2, 3.99.99]'\n\n    implementation 'com.jakewharton:butterknife:10.2.0'\n\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.0.0'\n    implementation 'io.reactivex.rxjava2:rxjava:2.1.6'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    implementation 'com.github.abdularis:CircularImageView:v1.2'\n\n    implementation 'de.hdodenhof:circleimageview:3.0.0'\n    implementation 'com.google.android.gms:play-services-ads:18.2.0'\n    androidTestImplementation 'androidx.test:runner:1.1.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.0'\n    implementation \"com.google.dagger:dagger:2.15\"\n    implementation \"com.google.dagger:dagger-android:2.15\"\n    kapt \"com.google.dagger:dagger-compiler:2.15\"\n    kapt \"com.google.dagger:dagger-android-processor:2.15\"\n\n}\n\n\n\n</code></pre>\n\n<p>Mapping.txt</p>\n\n<pre><code>com.kaznmx.app.kelime.features.gamehistory.GameHistoryViewModel -&gt; com.kaznmx.app.kelime.features.gamehistory.GameHistoryViewModel:\n    com.kaznmx.app.kelime.data.GameDataSource mGameDataSource -&gt; a\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-maps-v2"], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571065908, "post_id": 58379469, "comment_id": 103107675, "body": "Where does this go? In <code>mGoogleMap.setOnInfoWindowClickListener</code> or <code>override fun onInfoWindowClick</code>?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571068065, "post_id": 58379469, "comment_id": 103108710, "body": "I&#39;ve just tried your answer and it doesn&#39;t work. Bear in mind that I want the <code>Toast</code> to appear when I click the <code>InfoWindow</code> not the <code>Marker</code>."}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571121890, "post_id": 58379469, "comment_id": 103124141, "body": "look at the edition of onMarkerClick method i made because it was wrong comparaison"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571155756, "post_id": 58379469, "comment_id": 103142946, "body": "It is not a good idea to match the marker&#39;s title in case there are at least 2 markers that have the same name. Can you please show me how to check for the markers <code>position</code>? I already tried <code>if (marker.position == locationA) {...</code> but I get an unresolved reference error."}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571208130, "post_id": 58379469, "comment_id": 103158443, "body": "@MacaronLover i agree with you it&#39;s not a good way to compare markers by name. you can use marker id or tag of marker returned by addMarker method with this: val markerA = mGoogleMap.addMarker(         MarkerOptions()             .position(locationB)             .title(&quot;Location B&quot;)     )"}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1571209161, "post_id": 58379469, "comment_id": 103158945, "body": "@MacaronLover i&#39;ve edited the response with two instance variable for markerA and B, you can also use a list of markers or a map&lt;string, marker&gt; where the key is the marker id."}], "tags": [], "owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "is_accepted": true, "score": 0, "last_activity_date": 1571239272, "last_edit_date": 1571239272, "creation_date": 1571065484, "answer_id": 58379469, "question_id": 58379375, "link": "https://stackoverflow.com/questions/58379375/android-maps-v2-info-window-click-not-working-despite-listener-present/58379469#58379469", "title": "Android Maps v2 - Info Window click not working despite listener present", "body": "<p>you are comparing LatLng with Marker, it cannot works.</p>\n\n<p>you should for example compare the marker titles:</p>\n\n<pre><code>override fun onMapReady(googleMap: GoogleMap) {\n    mGoogleMap = googleMap\n    mGoogleMap.mapType = GoogleMap.MAP_TYPE_NORMAL\n\n\n    val locationA = LatLng(44.862390, -0.550287)\n    // markerA is a variable of your fragment\n    markerA = mGoogleMap.addMarker(\n        MarkerOptions()\n            .position(locationA)\n            .title(\"Location A\")\n    )\n\n    val locationB = LatLng(44.863089, -0.551417)\n    // markerB is a variable of your fragment\n    markerB = mGoogleMap.addMarker(\n        MarkerOptions()\n            .position(locationB)\n            .title(\"Location B\")\n    )\n\n    mGoogleMap.setOnInfoWindowClickListener { marker -&gt;\n        onMarkerClick(marker)\n    }\n\n    val cameraUpdate = CameraUpdateFactory.newLatLngZoom(LatLng(44.862716, -0.550763), 18f)\n}\n\noverride fun onInfoWindowClick(marker: Marker?) {\n    if (marker != null) {\n        onMarkerClick(marker)\n    }\n}\n\nprivate fun onMarkerClick(marker: Marker) {\n        if (marker.id == markerA.id) {\n            Toast.makeText(activity, \"A\", Toast.LENGTH_SHORT).show()\n        } else if (marker.id == markerB.id) {\n            Toast.makeText(activity, \"B\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58379469, "answer_count": 1, "score": 0, "last_activity_date": 1571239272, "creation_date": 1571065148, "question_id": 58379375, "link": "https://stackoverflow.com/questions/58379375/android-maps-v2-info-window-click-not-working-despite-listener-present", "title": "Android Maps v2 - Info Window click not working despite listener present", "body": "<p>I'm trying to get a <code>Toast</code> to appear depending on which <code>InfoWindow</code> was clicked. I've already implemented the click listeners for each <code>InfoWindow</code> but for reason none of them do anything when clicked. I also tried 2 different methods individually (<code>mGoogleMap.setOnInfoWindowClickListener</code>) and (<code>override fun onInfoWindowClick</code>) but still had no success.</p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment(), GoogleMap.OnInfoWindowClickListener, OnMapReadyCallback {\n    private lateinit var mGoogleMap: GoogleMap\n    private lateinit var mMapView: MapView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v = inflater.inflate(R.layout.my_fragment, container, false)\n\n        mMapView = v.map_location\n        mMapView.onCreate(savedInstanceState)\n        mMapView.getMapAsync(this)\n\n        return v\n    }\n\n    override fun onMapReady(googleMap: GoogleMap) {\n        mGoogleMap = googleMap\n        mGoogleMap.mapType = GoogleMap.MAP_TYPE_NORMAL\n\n\n        val locationA = LatLng(44.862390, -0.550287)\n        mGoogleMap.addMarker(\n            MarkerOptions()\n                .position(locationA)\n                .title(\"Location A\")\n        )\n\n        val locationB = LatLng(44.863089, -0.551417)\n        mGoogleMap.addMarker(\n            MarkerOptions()\n                .position(locationB)\n                .title(\"Location B\")\n        )\n\n        mGoogleMap.setOnInfoWindowClickListener { marker -&gt;\n            if (marker.equals(locationA)) {\n                Toast.makeText(activity, \"A\", Toast.LENGTH_SHORT).show()\n            } else if (marker.equals(locationB)) {\n                Toast.makeText(activity, \"B\", Toast.LENGTH_SHORT).show()\n            }\n        }\n\n        val cameraUpdate = CameraUpdateFactory.newLatLngZoom(LatLng(44.862716, -0.550763), 18f)\n    }\n\n    override fun onInfoWindowClick(marker: Marker?) {\n        if (marker != null) {\n            if (marker.id == \"locationA\") {\n                Toast.makeText(activity, \"A\", Toast.LENGTH_SHORT).show()\n            }\n            else if (marker.id == \"locationB\") {\n                Toast.makeText(activity, \"B\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        mMapView.onResume()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        mMapView.onPause()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        mMapView.onDestroy()\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        mMapView.onSaveInstanceState(outState)\n    }\n\n    override fun onLowMemory() {\n        super.onLowMemory()\n        mMapView.onLowMemory()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "sliding"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "edited": false, "score": 0, "creation_date": 1571068200, "post_id": 58379919, "comment_id": 103108781, "body": "Thanks for this response, I applied the suggested code, but it doesn&#39;t change the issue."}, {"owner": {"reputation": 1451, "user_id": 7806873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zt4LlQMwb2I/AAAAAAAAAAI/AAAAAAAAAHw/-4RO616l9J8/photo.jpg?sz=128", "display_name": "Nitin Patel", "link": "https://stackoverflow.com/users/7806873/nitin-patel"}, "reply_to_user": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "edited": false, "score": 0, "creation_date": 1571068553, "post_id": 58379919, "comment_id": 103108931, "body": "Instead of <code>ViewPager2</code> try to use <code>ViewPager</code> only. I have tried and it works."}, {"owner": {"reputation": 1451, "user_id": 7806873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zt4LlQMwb2I/AAAAAAAAAAI/AAAAAAAAAHw/-4RO616l9J8/photo.jpg?sz=128", "display_name": "Nitin Patel", "link": "https://stackoverflow.com/users/7806873/nitin-patel"}, "reply_to_user": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "edited": false, "score": 0, "creation_date": 1571069928, "post_id": 58379919, "comment_id": 103109564, "body": "@Kamenber Have you try like this new way in <code>setOnClickListener</code> as per changed(updated) code?"}, {"owner": {"reputation": 1451, "user_id": 7806873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zt4LlQMwb2I/AAAAAAAAAAI/AAAAAAAAAHw/-4RO616l9J8/photo.jpg?sz=128", "display_name": "Nitin Patel", "link": "https://stackoverflow.com/users/7806873/nitin-patel"}, "reply_to_user": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "edited": false, "score": 0, "creation_date": 1571070385, "post_id": 58379919, "comment_id": 103109746, "body": "@Kamenber      Also you can comment this  <code>viewPager!!.registerOnPageChangeCallback...</code> code and try it."}], "tags": [], "owner": {"reputation": 1451, "user_id": 7806873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zt4LlQMwb2I/AAAAAAAAAAI/AAAAAAAAAHw/-4RO616l9J8/photo.jpg?sz=128", "display_name": "Nitin Patel", "link": "https://stackoverflow.com/users/7806873/nitin-patel"}, "is_accepted": true, "score": 1, "last_activity_date": 1571069866, "last_edit_date": 1571069866, "creation_date": 1571067146, "answer_id": 58379919, "question_id": 58378900, "link": "https://stackoverflow.com/questions/58378900/viewpager2-android-a-next-button-on-the-view-generates-two-slides-to-the-right/58379919#58379919", "title": "Viewpager2 Android : A Next button on the view generates two slides to the right", "body": "<p>Try like this way:-</p>\n\n<ul>\n<li><p>First of all change <code>viewPager</code> variable <code>private</code> to <code>public</code> in Activity like removing <code>private</code> keyword.</p>\n\n<p><code>var viewPager : ViewPager2? = null</code></p></li>\n<li><p>In fragment change <code>setOnClickListener</code> method like below:</p>\n\n<p><code>view.button_continue.setOnClickListener {\n   instance!!.viewPager!!.arrowScroll(View.FOCUS_RIGHT)\n}</code></p></li>\n</ul>\n\n<p>*Suggestion:</p>\n\n<ul>\n<li><p>In fragment, we can get parent activity instance and use this way instead of passing activity instance to each fragment.</p>\n\n<p><code>val instance = ((activity as AppCompatActivity) as ConfigurationActivity)</code></p></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "accepted_answer_id": 58379919, "answer_count": 1, "score": 0, "last_activity_date": 1571069866, "creation_date": 1571063393, "last_edit_date": 1571068356, "question_id": 58378900, "link": "https://stackoverflow.com/questions/58378900/viewpager2-android-a-next-button-on-the-view-generates-two-slides-to-the-right", "title": "Viewpager2 Android : A Next button on the view generates two slides to the right", "body": "<p>I'm stuck on viewpager2 problem on Android.\nI have a viewpager2 creating some fragments depending on the position. Each fragment has a next button to navigate horizontally in the view pager.</p>\n\n<p>But when I asked for the next page from the button, <em>I had the action of sliding twice.</em> It like the method createFragment from the adapter was called twice, due to the preload of the fragment borders...</p>\n\n<p><strong>Activity who manage the view pager:</strong></p>\n\n<pre><code>class ConfigurationActivity : AppCompatActivity() {\n    private var viewPager : ViewPager2? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_configuration)\n\n        viewPager = viewPager2\n        val instance = this\n\n        viewPager!!.apply {\n            isUserInputEnabled = true\n            orientation = ViewPager2.ORIENTATION_HORIZONTAL\n\n            if(viewPager!!.adapter == null)\n                viewPager!!.adapter = ConfigAdapter(supportFragmentManager, lifecycle, instance, 2)\n        }\n\n        viewPager!!.registerOnPageChangeCallback(object : ViewPager2.OnPageChangeCallback() {\n            override fun onPageSelected(position: Int) {\n                super.onPageSelected(position)          \n                currentItem = position\n            }\n        })\n    }\n\n    companion object{\n        private var currentItem : Int = 0\n\n        fun nextPage(instance : ConfigurationActivity, currentPosition : Int?){\n            instance.viewPager!!.currentItem = currentItem + 1\n        }\n    }\n}\n</code></pre>\n\n<p><strong>The FragmentStateAdapter</strong></p>\n\n<pre><code>class ConfigAdapter(fm: FragmentManager, lc : Lifecycle, private val instance : ConfigurationActivity, configSnapshot : ArrayList&lt;Configuration&gt;) : FragmentStateAdapter(fm, lc) {\n    private val configSize = configSnapshot.size\n\n    override fun getItemCount(): Int {\n        val length = configSize + 3\n        instance.pageIndicatorView.count = length\n        return length\n    }\n\n    override fun createFragment(position: Int): Fragment {\n        Timber.d(\"creating fragment at position $position\")\n        return when(position){\n                0 -&gt; WelcomeFragment(instance)\n                in 1..configSize /* position between 1 and configSize (included) */ -&gt; ConfigureFragment(instance, position-1)\n                1 + configSize -&gt; IdentifyFragment(instance)\n                2 + configSize -&gt; EndFragment()\n                else -&gt; Fragment()\n            }\n    }\n}\n</code></pre>\n\n<p><strong>A fragment example:</strong></p>\n\n<pre><code>class ConfigureFragment(private val instance : ConfigurationActivity, private val configPosition: Int) : Fragment() {\n...\n   view.button_continue.setOnClickListener {\n       nextPage(instance, configPosition+1)\n   }\n...\n}\n</code></pre>\n"}, {"tags": ["android", "ios", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1150, "user_id": 2762452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JHX2L.jpg?s=128&g=1", "display_name": "Mauro Banze", "link": "https://stackoverflow.com/users/2762452/mauro-banze"}, "is_accepted": false, "score": 0, "last_activity_date": 1571064238, "creation_date": 1571064238, "answer_id": 58379118, "question_id": 58378805, "link": "https://stackoverflow.com/questions/58378805/using-kotlin-as-restapi-parser-for-android-and-ios/58379118#58379118", "title": "Using Kotlin as RestAPI parser for Android and iOS", "body": "<p>What you are looking for is probably Kotlin MultiPlatform Projects. Check out <a href=\"https://ktor.io\" rel=\"nofollow noreferrer\">https://ktor.io</a>, which allows you to write networking code only once. Also checkout <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization</a> for JSON serialization. </p>\n"}], "owner": {"reputation": 3, "user_id": 5699041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b119a5679ee302a331f1fb6263317a3?s=128&d=identicon&r=PG&f=1", "display_name": "ilbinek", "link": "https://stackoverflow.com/users/5699041/ilbinek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571064238, "creation_date": 1571063059, "question_id": 58378805, "link": "https://stackoverflow.com/questions/58378805/using-kotlin-as-restapi-parser-for-android-and-ios", "title": "Using Kotlin as RestAPI parser for Android and iOS", "body": "<p><br />\nI am currently going to write an Android and iOS app, which is heavily based on communication with RestAPI server.<br />\nMy goal is to write communication, parsing, etc. only once. I've heard about <em>Kotlin shared library</em>, yet wasn't able to get it working yet.<br />\nBefore wasting more time on trying to get that working, is that the way to go?\nWhat other ways would you suggest to me?<br />\n<strong>Thank you</strong></p>\n"}, {"tags": ["android", "kotlin", "localization"], "comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 0, "creation_date": 1571071341, "post_id": 58378435, "comment_id": 103110100, "body": "Please <a href=\"https://stackoverflow.com/posts/58378435/edit\">edit</a> the question to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Without code all we can do is look at the picture and guess how it was coded."}, {"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1571741263, "post_id": 58378435, "comment_id": 103333614, "body": "Replace all the occurrences of layout attributes that contains \u2018left\u2019 and \u2018right\u2019 to \u2018start\u2019 and \u2018end\u2019 respectively. For example, android:paddingLeft should become android:paddingStart"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 9702461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e69b01c245bf7742b6282953ac51382b?s=128&d=identicon&r=PG&f=1", "display_name": "Denathan", "link": "https://stackoverflow.com/users/9702461/denathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1571063310, "creation_date": 1571063310, "answer_id": 58378874, "question_id": 58378435, "link": "https://stackoverflow.com/questions/58378435/issue-in-localization-in-android-app-message-show-in-reverse-in-rtl/58378874#58378874", "title": "Issue in localization in android app message show in reverse in RTL", "body": "<p>If you have already set application to support RTL (<code>android:supportsRtl=\"true\"</code>) then set <code>textAligment</code> at this view inside the <code>xml</code> file.</p>\n\n<pre><code>android:textAlignment=\"viewStart\"\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12101182, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AIStNqGf-l8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrT2lrvRG5fnKYa7LbBs5pOLQz_g/photo.jpg?sz=128", "display_name": "Mohamed Ahmed", "link": "https://stackoverflow.com/users/12101182/mohamed-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571073148, "creation_date": 1571061694, "last_edit_date": 1571073148, "question_id": 58378435, "link": "https://stackoverflow.com/questions/58378435/issue-in-localization-in-android-app-message-show-in-reverse-in-rtl", "title": "Issue in localization in android app message show in reverse in RTL", "body": "<p>IMAGE of error string reverse.  Issue in localization in android app message show in reverse in RTL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sUJnk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUJnk.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 641, "user_id": 5356862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ks8Bh.png?s=128&g=1", "display_name": "majid ghafouri", "link": "https://stackoverflow.com/users/5356862/majid-ghafouri"}, "edited": false, "score": 1, "creation_date": 1571062019, "post_id": 58378280, "comment_id": 103105563, "body": "share your codes please"}, {"owner": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "reply_to_user": {"reputation": 641, "user_id": 5356862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ks8Bh.png?s=128&g=1", "display_name": "majid ghafouri", "link": "https://stackoverflow.com/users/5356862/majid-ghafouri"}, "edited": false, "score": 0, "creation_date": 1571062160, "post_id": 58378280, "comment_id": 103105630, "body": "@majidghafouri done, its changing color but how to stop handler so that cardview go in previous color"}, {"owner": {"reputation": 1970, "user_id": 5646176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lmKVM.jpg?s=128&g=1", "display_name": "RonTLV", "link": "https://stackoverflow.com/users/5646176/rontlv"}, "edited": false, "score": 1, "creation_date": 1571062191, "post_id": 58378280, "comment_id": 103105647, "body": "use timers....."}, {"owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "reply_to_user": {"reputation": 1970, "user_id": 5646176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lmKVM.jpg?s=128&g=1", "display_name": "RonTLV", "link": "https://stackoverflow.com/users/5646176/rontlv"}, "edited": false, "score": 0, "creation_date": 1571062485, "post_id": 58378280, "comment_id": 103105804, "body": "As @RonTLV suggested, Instead of the <code>Handler</code> a Timer is a lot more convenient. Checkout <b><code>CountDownTimer</code></b>."}, {"owner": {"reputation": 641, "user_id": 5356862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ks8Bh.png?s=128&g=1", "display_name": "majid ghafouri", "link": "https://stackoverflow.com/users/5356862/majid-ghafouri"}, "edited": false, "score": 0, "creation_date": 1571062757, "post_id": 58378280, "comment_id": 103105958, "body": "what about second handler for 5 seconds?"}], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 8193607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58091ccefe51692d9b3be50570f3c86?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Martynets", "link": "https://stackoverflow.com/users/8193607/oleksandr-martynets"}, "reply_to_user": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "edited": false, "score": 0, "creation_date": 1571063562, "post_id": 58378707, "comment_id": 103106377, "body": "it is should stop by itself once it finished run operation in runnable."}, {"owner": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "edited": false, "score": 0, "creation_date": 1571063683, "post_id": 58378707, "comment_id": 103106448, "body": "can you please show me the sample code it would be more helpful for me and also optimised"}, {"owner": {"reputation": 126, "user_id": 8193607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58091ccefe51692d9b3be50570f3c86?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Martynets", "link": "https://stackoverflow.com/users/8193607/oleksandr-martynets"}, "reply_to_user": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "edited": false, "score": 1, "creation_date": 1571063916, "post_id": 58378707, "comment_id": 103106592, "body": "Code is above in response. First Handler is &quot;registered&quot; to run your operation in 1 second. Then second Handler is &quot;registered&quot; to run your operation in 6 seconds (5 seconds after first one). After operation in 1-st handler is done - Handler is &quot;unregistered&quot;. The same for second."}], "tags": [], "owner": {"reputation": 126, "user_id": 8193607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c58091ccefe51692d9b3be50570f3c86?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Martynets", "link": "https://stackoverflow.com/users/8193607/oleksandr-martynets"}, "is_accepted": true, "score": 0, "last_activity_date": 1571063588, "last_edit_date": 1571063588, "creation_date": 1571062672, "answer_id": 58378707, "question_id": 58378280, "link": "https://stackoverflow.com/questions/58378280/how-to-change-background-color-of-cardview-for-5-seconds-and-revert-into-its-pre/58378707#58378707", "title": "How to change background color of cardview for 5 seconds and revert into its previous color", "body": "<p>Just change your code to that:</p>\n\n<pre><code>Handler().postDelayed({\n        post_card_view.setCardBackgroundColor(Color.parseColor(\"#E1F2F878\"))\n    }, 1000)\nHandler().postDelayed({\n        post_card_view.setCardBackgroundColor(previous color)\n    }, 6000)\n</code></pre>\n\n<p>or if you dont need delay for first change just:</p>\n\n<pre><code>Handler().post {\n        post_card_view.setCardBackgroundColor(Color.parseColor(\"#E1F2F878\"))\n    }\nHandler().postDelayed({\n        post_card_view.setCardBackgroundColor(previous color)\n    }, 5000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "is_accepted": false, "score": 1, "last_activity_date": 1571064356, "creation_date": 1571064356, "answer_id": 58379154, "question_id": 58378280, "link": "https://stackoverflow.com/questions/58378280/how-to-change-background-color-of-cardview-for-5-seconds-and-revert-into-its-pre/58379154#58379154", "title": "How to change background color of cardview for 5 seconds and revert into its previous color", "body": "<p>You can make use of <strong><code>CountDownTimer</code></strong> class which will perform count-down.</p>\n\n<p>Check-out the <strong>Kotlin</strong> snippet:</p>\n\n<pre><code>private const val COUNT_DOWN_TIME = 5secs   \nprivate const val COUNT_DOWN_TIME = 1sec   \n\n class TimeCounter : CountDownTimer(val COUNT_DOWN_TIME,val COUNT_DOWN_INTERVAL) {\n\n        override fun onFinish() {\n\n          // This method will be called after completion of COUNT_DOWN_TIME\n          // Do your work here once the limit of 5secs is completed.\n\n        }\n\n\n        override fun onTick(timeLeftUntilFinish: Long) {\n\n            //this method is called every COUNT_DOWN_INTERVAL, until the timer is finished\n//So if COUNT_DOWN_INTERVAL = 1sec, this method is called every 1sec till the timer is completed.\n\n        }\n\n    }\n</code></pre>\n\n<p>You can implement it within the parent <code>Activity</code> as an inner class or can declare it independently as per your need.</p>\n\n<p>Since you implemented it, <strong>you are completely responsible for starting the timer</strong> </p>\n\n<p>Starting the <strong><code>CountDownTimer</code></strong> :</p>\n\n<p>param1 :COUNT_DOWN_TIME // the time for which you wanna count-down</p>\n\n<p>param2 :COUNT_DOWN_INTERVAL // the time after every which you get notified until count-down</p>\n\n<pre><code>val mTimer = CountDownTimer(COUNT_DOWN_TIME ,COUNT_DOWN_INTERVAL ) //create Timer Instance\nmTimer.start()  //start the timer\n</code></pre>\n\n<p>However, <strong>stoping the timer has two ways</strong></p>\n\n<ol>\n<li><p>The count-down expires as normal ( you have successfully counted for\n5 secs)</p></li>\n<li><p>You cancel the timer on your own for some reasons.</p></li>\n</ol>\n\n<p>For cancelling the <strong><code>CountDownTimer</code></strong>:</p>\n\n<pre><code>mTimer.cancel() // stops Timer as soon as called, irrespective whether count-down was pending.\n</code></pre>\n\n<p><strong>Note: This goes without saying but still, use the same object for starting and stoping the timer.</strong></p>\n"}], "owner": {"reputation": 65, "user_id": 11840855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91bb0372b165c00dd551a1a2d5db486?s=128&d=identicon&r=PG&f=1", "display_name": "V K", "link": "https://stackoverflow.com/users/11840855/v-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 58378707, "answer_count": 2, "score": 0, "last_activity_date": 1571064356, "creation_date": 1571061135, "last_edit_date": 1571062106, "question_id": 58378280, "link": "https://stackoverflow.com/questions/58378280/how-to-change-background-color-of-cardview-for-5-seconds-and-revert-into-its-pre", "title": "How to change background color of cardview for 5 seconds and revert into its previous color", "body": "<p>I am trying to change background color of card view for 5 seconds when coming from an specific activity. \nIts a cardview of recyclerview.\nBut app getting crash. I tried handler but not able to rid off.</p>\n\n<pre><code> if (intent.hasExtra(\"post_Id\")) {\n        postId = intent.getIntExtra(\"post_Id\", 0)\n\n        Handler().postDelayed({\n            post_card_view.setBackgroundColor(Color.parseColor(\"#E1F2F878\"))\n        }, 1000)\n    }\n</code></pre>\n"}, {"tags": ["unit-testing", "testing", "kotlin", "mockk"], "comments": [{"owner": {"reputation": 192, "user_id": 6078174, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-mSfmR5-qURA/AAAAAAAAAAI/AAAAAAAAAOU/4wPjvIHS-BQ/photo.jpg?sz=128", "display_name": "Raman Preet Singh", "link": "https://stackoverflow.com/users/6078174/raman-preet-singh"}, "edited": false, "score": 0, "creation_date": 1571085991, "post_id": 58377477, "comment_id": 103115756, "body": "<code>verify</code> has a <code>timeout</code> parameter. Check out the function parameter list that <code>verify</code> accepts."}, {"owner": {"reputation": 684, "user_id": 12103573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srltL.png?s=128&g=1", "display_name": "Seydazimov Nurbol", "link": "https://stackoverflow.com/users/12103573/seydazimov-nurbol"}, "reply_to_user": {"reputation": 192, "user_id": 6078174, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-mSfmR5-qURA/AAAAAAAAAAI/AAAAAAAAAOU/4wPjvIHS-BQ/photo.jpg?sz=128", "display_name": "Raman Preet Singh", "link": "https://stackoverflow.com/users/6078174/raman-preet-singh"}, "edited": false, "score": 0, "creation_date": 1571114991, "post_id": 58377477, "comment_id": 103121892, "body": "@RamanPreetSingh I do not mean exactly <code>verify</code> method. Something that does almost the same logic."}], "owner": {"reputation": 684, "user_id": 12103573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srltL.png?s=128&g=1", "display_name": "Seydazimov Nurbol", "link": "https://stackoverflow.com/users/12103573/seydazimov-nurbol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571058226, "creation_date": 1571058226, "question_id": 58377477, "link": "https://stackoverflow.com/questions/58377477/how-to-wait-until-io-mockk-captured-slots-will-be-filled-while-calling-a-method", "title": "How to wait until io.mockk captured slots will be filled while calling a method that contains asynchronous operations? (Unit Test)", "body": "<p>PS: Codes in Kotlin</p>\n\n<p>In my unit test, </p>\n\n<p>I have mutable list of string called slot</p>\n\n<pre><code>val slot = mutableListOf&lt;String&gt;()\n</code></pre>\n\n<p>I captured this slot list </p>\n\n<pre><code>every { someService.whateverMethod(capture(slot)) } just Runs\n</code></pre>\n\n<p>In the end of certain test I check size of slot.</p>\n\n<pre><code>slot.size shouldBe 2\n</code></pre>\n\n<p>A method that I test contains asynchronous operations. Accordingly, I should write <code>Thread.sleep(1000)</code> before checking slot size (<code>slot.size shouldBe 2</code>)</p>\n\n<p>How to refuse <code>Thread.sleep(1000)</code> operation, and make something that will wait for 1 second. Something like <code>verify(timeout = 10000)</code>. </p>\n"}]