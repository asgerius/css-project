[{"tags": ["android", "kotlin", "dependency-injection", "android-room", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1570654981, "post_id": 58311777, "comment_id": 102985586, "body": "<i>But the variable is null.</i> This sounds like you&#39;re creating the object but not injecting it, <a href=\"https://stackoverflow.com/q/50270375/1837367\">see here</a> for some general information. If you can&#39;t figure it out please include more information about your setup in your question"}, {"owner": {"reputation": 65, "user_id": 11720338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FN_lcep1hxM/AAAAAAAAAAI/AAAAAAAAAAs/MhOsKSpii2Y/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0441\u0442\u0430\u0445\u043e\u0432", "link": "https://stackoverflow.com/users/11720338/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d1%81%d1%82%d0%b0%d1%85%d0%be%d0%b2"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1570819104, "post_id": 58311777, "comment_id": 103048630, "body": "I have included more information"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11720338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FN_lcep1hxM/AAAAAAAAAAI/AAAAAAAAAAs/MhOsKSpii2Y/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0441\u0442\u0430\u0445\u043e\u0432", "link": "https://stackoverflow.com/users/11720338/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d1%81%d1%82%d0%b0%d1%85%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1570714914, "post_id": 58321386, "comment_id": 103007265, "body": "The problem is that for this I need an app, which there is only in activity. but I need the database in Interctor class."}], "tags": [], "owner": {"reputation": 1782, "user_id": 4690298, "user_type": "registered", "profile_image": "https://graph.facebook.com/878678598884932/picture?type=large", "display_name": "Amjad Alwareh", "link": "https://stackoverflow.com/users/4690298/amjad-alwareh"}, "is_accepted": false, "score": 1, "last_activity_date": 1570705246, "creation_date": 1570705246, "answer_id": 58321386, "question_id": 58311777, "link": "https://stackoverflow.com/questions/58311777/how-to-inject-room/58321386#58321386", "title": "How to inject Room?", "body": "<p>This code is control about your instance.</p>\n\n<pre><code>@Singleton\n  @Provides\n  internal fun providesRoomDatabase(): LocalDatabase {\n    return localDatabase\n  }\n</code></pre>\n\n<p>to create an instance and make it injectable you should provide it through <code>providesRoomDatabase</code>, like this:</p>\n\n<pre><code>  @Singleton\n  @Provides\n  internal fun providesRoomDatabase(): LocalDatabase {\n     val localDatabase: LocalDatabase = Room\n        .databaseBuilder(app, LocalDatabase::class.java, \"local-db\")\n        .build()\n    return localDatabase\n  }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11720338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FN_lcep1hxM/AAAAAAAAAAI/AAAAAAAAAAs/MhOsKSpii2Y/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0441\u0442\u0430\u0445\u043e\u0432", "link": "https://stackoverflow.com/users/11720338/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d1%81%d1%82%d0%b0%d1%85%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570858599, "creation_date": 1570652683, "last_edit_date": 1570858599, "question_id": 58311777, "link": "https://stackoverflow.com/questions/58311777/how-to-inject-room", "title": "How to inject Room?", "body": "<p>My application has DI. It includes a RoomModule\nand RoomComponent. </p>\n\n<p><strong>RoomModule.kt</strong></p>\n\n<pre><code>@Module\nclass RoomModule(private val app: Application) {\n\n  val localDatabase: LocalDatabase = Room\n        .databaseBuilder(app, LocalDatabase::class.java, \"local-db\")\n        .build()\n\n  @Provides\n  @Singleton\n  internal fun providesApplication(): Application {\n    return app\n  }\n\n  @Singleton\n  @Provides\n  internal fun providesRoomDatabase(): LocalDatabase {\n    return localDatabase\n  }\n\n  @Singleton\n  @Provides\n  internal fun providesUserDao(localDatabase: LocalDatabase): UserDao {\n    return localDatabase.getUserDao()\n  }\n\n  @Singleton\n  @Provides\n  internal fun providesUserRepo(userDao: UserDao): UserRepo {\n    return UserDataSource(userDao)\n  }\n\n}\n</code></pre>\n\n<p><strong>RoomComponent.kt</strong></p>\n\n<pre><code>@Singleton\n@Component(dependencies = [], modules = [RoomModule::class])\ninterface RoomComponent {\n    fun userDao(): UserDao\n\n    fun localDatabase(): LocalDatabase\n\n    fun userRepo(): UserRepo\n}\n</code></pre>\n\n<p>To create a RoomDatabase I need an App\nTherefore, I do the following in my first activity. </p>\n\n<p><strong>MyActivity.java</strong></p>\n\n<pre><code>public class MyActivity extends MvpAppCompatActivity {\n\n  @Inject\n  Interactor interactor;\n\n  @InjectPresenter\n  Presenter presenter;\n\n  @ProvidePresenter\n  Presenter providePresenter(){\n    DaggerAppComponent.builder()\n            .build()\n            .inject(this);\n\n    return new Presenter(interactor);\n  }\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.myactivity);\n\n\n    DaggerRoomComponent.builder()\n            .roomModule(new RoomModule(getApplication()))\n            .build();\n\n    ...\n\n    presenter.someMethod();\n  }\n\n  ...\n</code></pre>\n\n<p>Next, this activity calls the method in Presentor. Presentor calls a method in Interactor, where I want to inject RoomDatabase. </p>\n\n<p><strong>Presentor.kt</strong></p>\n\n<pre><code>@InjectViewState\nclass Presenter(val interactor: \nInteractor): MvpPresenter&lt;MyView&gt;(){\n\nfun someMethod(){\n    if (interactor.getUser() != null) {\n       // TODO smth...\n    }\n}\n...\n</code></pre>\n\n<p><strong>Interactor.kt</strong></p>\n\n<pre><code>@Inject\nlateinit var userRepo: UserRepo  //null\n\noverride fun getUser(): User? {\n    // Using userRepo\n}\n</code></pre>\n\n<p>But the variable is null.</p>\n\n<p>The problem is that in the class where I need the database there is no Context, which is necessary to create it.\n<a href=\"https://i.stack.imgur.com/53Unj.png\" rel=\"nofollow noreferrer\">Look at the visualization of my problem</a></p>\n\n<p>I implemented the code described in this answer <a href=\"https://stackoverflow.com/questions/54815074/dagger2-inject-class-with-parameter-using-room\">Dagger2 Inject class with parameter (using Room)</a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10911927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a664594200b9abf417a73657b39866?s=128&d=identicon&r=PG&f=1", "display_name": "JMC_CMJ", "link": "https://stackoverflow.com/users/10911927/jmc-cmj"}, "edited": false, "score": 0, "creation_date": 1570687678, "post_id": 58312518, "comment_id": 102992882, "body": "Thanks for the info. Guess I&#39;ll stick with BOOT_COMPLETED for the time being. A lot simpler to handle. Fingers crossed the user&#39;s phone doesn&#39;t crash and reboot in the middle of the night!"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1570656259, "creation_date": 1570656259, "answer_id": 58312518, "question_id": 58310964, "link": "https://stackoverflow.com/questions/58310964/android-does-anyone-know-if-androids-room-database-is-credential-encrypted/58312518#58312518", "title": "Android: Does anyone know if Android&#39;s room database is credential encrypted?", "body": "<blockquote>\n  <p>According to Android credential encrypted storage is locked until the user unlocks the phone. But I don't know if that includes an internal room database to the app.</p>\n</blockquote>\n\n<p>If your Room database name is a simple name, then yes. If you supply a fully-qualified path, then it would depend upon where that path is pointing (assuming a path works &mdash; I haven't tried that recently...).</p>\n\n<p>Room stores its databases in the default database location for Android's <code>SQLiteDatabase</code> class. That's on <a href=\"https://commonsware.com/blog/2019/10/06/storage-situation-internal-storage.html\" rel=\"nofollow noreferrer\">internal storage</a>, and it is part of credential-encrypted storage.</p>\n"}], "owner": {"reputation": 33, "user_id": 10911927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a664594200b9abf417a73657b39866?s=128&d=identicon&r=PG&f=1", "display_name": "JMC_CMJ", "link": "https://stackoverflow.com/users/10911927/jmc-cmj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58312518, "answer_count": 1, "score": 1, "last_activity_date": 1570656259, "creation_date": 1570649082, "question_id": 58310964, "link": "https://stackoverflow.com/questions/58310964/android-does-anyone-know-if-androids-room-database-is-credential-encrypted", "title": "Android: Does anyone know if Android&#39;s room database is credential encrypted?", "body": "<p>I currently have a BroadcastReceiver that receives the system action ACTION_LOCKED_BOOT_COMPLETED. This is received when the phone is powered on and the user has not unlocked their phone yet. I have a service that I start in the foreground that then tries to access my room database. Except it fails once hitting the database call. </p>\n\n<p><a href=\"https://developer.android.com/training/articles/direct-boot\" rel=\"nofollow noreferrer\">According to Android</a> credential encrypted storage is locked until the user unlocks the phone. But I don't know if that includes an internal room database to the app.</p>\n\n<p>The only error I can find in the Logcat is this:</p>\n\n<pre><code>--------- beginning of crash\n</code></pre>\n\n<p>Which isn't very helpful. </p>\n\n<p>I can't attach a debugger to it to see what the full error is since when I restart the phone the debugger instance is lost. I've also tried broadcasting the ACTION_LOCKED_BOOT_COMPLETED through ADB but it gives a permission denied since that is a system action. So I'm relying on Logcat print statements in my code.</p>\n\n<p>My app schedules alarms so that is why I'm trying to get their information and set them without the need for a device unlock. I could use BOOT_COMPLETED, but that means I'm relying on the user to unlock their phone.</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "rx-java2", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 1, "creation_date": 1570650887, "post_id": 58310936, "comment_id": 102984031, "body": "if <code>func1</code> returns <code>Single</code> you can just call <code>blockingGet</code> to wait while it completes"}], "answers": [{"tags": [], "owner": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "is_accepted": true, "score": 1, "last_activity_date": 1570652314, "creation_date": 1570652314, "answer_id": 58311680, "question_id": 58310936, "link": "https://stackoverflow.com/questions/58310936/wait-rxjava-response/58311680#58311680", "title": "Wait RxJava response", "body": "<p>Add the library </p>\n\n<p><code>implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-rx2:$coroutine_version\"</code></p>\n\n<p>Then call, </p>\n\n<p><code>func1().await()</code></p>\n\n<p>Read more <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/reactive/kotlinx-coroutines-rx2/README.md\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 834, "user_id": 581365, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d04919e660a865a61c6a6f69c4e825b6?s=128&d=identicon&r=PG", "display_name": "mutkan", "link": "https://stackoverflow.com/users/581365/mutkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58311680, "answer_count": 1, "score": 1, "last_activity_date": 1570652314, "creation_date": 1570648963, "question_id": 58310936, "link": "https://stackoverflow.com/questions/58310936/wait-rxjava-response", "title": "Wait RxJava response", "body": "<p>Think about this func1() is in another java class, you can reach it by callback. My problem is I want to wait the func1 result. How can I do that?</p>\n\n<pre><code>launch{\n    func1()\n\n    func2()\n    func3()\n\n    // I want to catch the data here, so it should wait here but because of using rxjava (another thread), I cannot control it. \n    // I know if I use new retrofit libs, I can use coroutines, but right now, I cannot change old ones. \n\n    //My problem is I want to wait the func1 result here. How can I do that?\n}\n\nsuspend fun func2(){}\nsuspend fun func3(){}\n\n//Another java class\npublic Single&lt;MyData&gt; func1(){\n    apiClient.getMyData()\n    .subscribe(myData -&gt; {\n        // Let's say this takes 5 seconds to get the data\n    }, throwable -&gt; {\n\n    });\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "extension-methods"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1570650240, "post_id": 58310574, "comment_id": 102983781, "body": "&quot;CharacterResponse is an implementation of Character&quot; How? Character is a final class. Did you create your own Character class and the compiler is thinking you mean java.lang.Character?"}, {"owner": {"reputation": 670, "user_id": 3478906, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/4Mbe2.jpg?s=128&g=1", "display_name": "iroyo", "link": "https://stackoverflow.com/users/3478906/iroyo"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570651681, "post_id": 58310574, "comment_id": 102984329, "body": "@Tenfour04 no Character is just an interface with some properties which is then implemented by CharacterResponse. Java.lang.Character has nothing to do with this though I see it could confuse someone."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1570652446, "post_id": 58310574, "comment_id": 102984578, "body": "Since you don&#39;t show <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, we can only guess, but the problem is likely with variance: <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a>"}, {"owner": {"reputation": 670, "user_id": 3478906, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/4Mbe2.jpg?s=128&g=1", "display_name": "iroyo", "link": "https://stackoverflow.com/users/3478906/iroyo"}, "edited": false, "score": 0, "creation_date": 1570710245, "post_id": 58310574, "comment_id": 103004330, "body": "@dyukha I&#39;ve simplified quite a bit the example and added all the needed code to try it. Hope it now gives all information needed"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1570710703, "post_id": 58310574, "comment_id": 103004591, "body": "Replace Output&lt;T&gt; by Output&lt;out T&gt;. <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 670, "user_id": 3478906, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/4Mbe2.jpg?s=128&g=1", "display_name": "iroyo", "link": "https://stackoverflow.com/users/3478906/iroyo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1570711553, "post_id": 58310574, "comment_id": 103005153, "body": "@JBNizet Wow, that simple!! It works. I&#39;ll definitely need to read more about variance and covariance to get why it didn&#39;t work before and why it&#39;s working now. Thanks"}], "owner": {"reputation": 670, "user_id": 3478906, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/4Mbe2.jpg?s=128&g=1", "display_name": "iroyo", "link": "https://stackoverflow.com/users/3478906/iroyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570710170, "creation_date": 1570647508, "last_edit_date": 1570710170, "question_id": 58310574, "link": "https://stackoverflow.com/questions/58310574/type-mismatch-in-a-kotlin-extension-function", "title": "Type mismatch in a Kotlin extension function", "body": "<p>I have this simple Kotlin extension for Wrapper. I'm trying to create <code>Output&lt;T&gt;</code> (a sealed class) from <code>Wrapper&lt;T&gt;</code> but I'm getting a <strong>Type Mismatch</strong> error</p>\n\n<p>Here I add all the code needed </p>\n\n<pre><code>sealed class Output&lt;T&gt; {\n    data class WantedOutput&lt;T&gt;(val value: T): Output&lt;T&gt;()\n    data class UnwantedOutput&lt;T&gt;(val error: Throwable) : Output&lt;T&gt;()\n}\n\ninterface Data {\n    val id: String\n    val name: String?\n    val age: Int?\n}\n\ndata class ResponseData(\n    override val id: String,\n    override val name: String?,\n    override val age: Int?\n) : Data\n\ndata class Wrapper&lt;T&gt;(val result: T)\n\nfun &lt;T&gt; Wrapper&lt;T&gt;.convert() : Output&lt;T&gt; {\n    return Output.WantedOutput(result)\n}\n\ninterface Provider {\n    fun getData(): Wrapper&lt;ResponseData&gt; // THIS MUST BE THE IMPLEMENTATION\n}\n\nclass Test {\n\n    // THE RETURN TYPE MUST BE THE INTERFACE\n    fun test(): Output&lt;Data&gt; {\n        val wrapper = Wrapper(ResponseData(\"ID\", \"ISAAC\", 26))\n        return Output.WantedOutput(wrapper.result)\n    }\n\n    fun test(provider: Provider): Output&lt;Data&gt; {\n        return provider.getData().convert() // THIS FAILS\n    }\n}\n</code></pre>\n\n<p><strong>How can I make this extension conform with the correct type?</strong> The problem is <code>Wrapper&lt;T&gt;</code> is not (exactly) the same type of <code>Output&lt;T&gt;</code>. The T from Output is the interface and the T from Wrapper is an implementation. Is it possible to tell the type system to accept this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/lODqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lODqC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "concurrentmodification"], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570695906, "creation_date": 1570647328, "last_edit_date": 1570695906, "question_id": 58310528, "link": "https://stackoverflow.com/questions/58310528/android-concurrentmodificationexception-error", "title": "Android: ConcurrentModificationException error", "body": "<p>I'm scratching my head here trying to understand why I'm getting a <code>ConcurrentModificationException</code> here...</p>\n\n<p>This is my code: </p>\n\n<pre><code>var adapterCurrentList : PagedList&lt;WorkPackagesQuery.WorkPackage&gt;? = null\nval workPackagesArrayList = arrayListOf&lt;WorkPackagesQuery.WorkPackage&gt;()\n\nfun turnPagedListIntoArrayList(searchString: String) {\n    workPackagesArrayList.clear()\n    val tempCurrentArray = Collections.synchronizedList(adapterCurrentList)\n    synchronized(tempCurrentArray) {\n\n        for ((index, workPackage) in tempCurrentArray.withIndex()) { //exception is thrown here. \n            if (workPackage.id().contains(searchString)) {\n                workPackagesArrayList.add(workPackage)\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>What am I missing?  I am not modifying <code>tempCurrentArray</code> while iterating over it... First time through, with <code>searchString</code>, it runs fine, the second time, with a different <code>searchString</code>, it throws the exception.  </p>\n\n<p>Here is the stacktrace: </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.bechtel.pf.mock, PID: 18686\njava.util.ConcurrentModificationException\n    at java.util.ArrayList$SubList.size(ArrayList.java:1057)\n    at androidx.paging.PagedStorage.get(PagedStorage.java:170)\n    at androidx.paging.PagedList.get(PagedList.java:410)\n    at java.util.AbstractList$Itr.next(AbstractList.java:358)\n    at com.bechtel.pf.ui.workpackages.WorkPackagesViewModel.turnPagedListIntoArrayList(WorkPackagesViewModel.kt:48)\n    at com.bechtel.pf.ui.workpackages.WorkPackagesViewModel.pareDownArrayForSearch(WorkPackagesViewModel.kt:59)\n    at com.bechtel.pf.ui.workpackages.WorkPackagesFragment$onCreateView$$inlined$addTextChangedListener$1.afterTextChanged(TextView.kt:101)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1571178101, "last_edit_date": 1571178101, "creation_date": 1570702422, "answer_id": 58320560, "question_id": 58310086, "link": "https://stackoverflow.com/questions/58310086/android-compound-or-custom-view-with-two-way-binding/58320560#58320560", "title": "Android: Compound or Custom view with two-way binding", "body": "<p>Here is my solution.</p>\n\n<p>I\u00b4ve created an interface to notify that the \"title\" var changed</p>\n\n<pre><code>interface TwoWayBindingListener {\n    fun hasChanged()\n}\n</code></pre>\n\n<p>Then I extended my CustomView class</p>\n\n<pre><code>private var listener: TwoWayBindingListener? = null\n\nfun addListener(twoWayBindingListener: TwoWayBindingListener) {\n    listener = twoWayBindingListener\n}\n</code></pre>\n\n<p>And call the hasChanged method whenever I changed the title inside mit control</p>\n\n<pre><code>listener?.hasChanged()\n</code></pre>\n\n<p>And I add these BindingAdapters</p>\n\n<pre><code>@BindingAdapter(\"title\")\nfun set#String(customView: CustomView, t: String?) {\n    if (t == null) {\n    return\n    }\n    customView.setTitle()\n}\n\n@InverseBindingAdapter(attribute = \"title\", event = \"titleAttrChanged\")\nfun getDateString(customView: CustomView): String {\n    return customView.getTitle()\n}\n\n@BindingAdapter(\"titleAttrChanged\")\nfun setListener(customView: CustomView, listener: InverseBindingListener?) {\n    if (listener != null) {\n    customView.addListener(\n        object : TwoWayBindingListener {\n        override fun hasChanged() {\n            listener.onChange()\n        }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 58320560, "answer_count": 1, "score": 0, "last_activity_date": 1571178101, "creation_date": 1570645222, "question_id": 58310086, "link": "https://stackoverflow.com/questions/58310086/android-compound-or-custom-view-with-two-way-binding", "title": "Android: Compound or Custom view with two-way binding", "body": "<p>I want to create a Custom or Compound View (a combination of several standard components) in Android to which I can bind variables.</p>\n\n<p>Here is a simple shorted example:</p>\n\n<p>The new control (view_custom.xml)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n        &lt;EditVext android:id=\"@+id/edittext_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" android:textStyle=\"bold\"  android:layout_gravity=\"center\" /&gt;\n        &lt;EditVext \n        ...\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I want use the control in my fragment with two-way-binding</p>\n\n<pre><code>&lt;com.test.controls.CustomView\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            app:title=\"@={viewmodel.title}\"\n                            /&gt;\n</code></pre>\n\n<p>I\u00b4ve tried to create attr like this</p>\n\n<pre><code>    &lt;declare-styleable name=\"Custom\"&gt;\n      &lt;attr name=\"title\" format=\"string\" /&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class CustomView(context: Context, attributeSet: AttributeSet?) :\n    LinearLayout(context, attributeSet) {\n          init {\n    val a = context.obtainStyledAttributes(attributeSet, R.styleable.CustomView, 0, 0)\n    val titleText = a.getString(R.styleable.CustomView_titl\n\n    val inflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    inflater.inflate(R.layout.view_custom, this, true)\n\n    edittext_title.text = titleText\n\n    }\n\n  fun setTitle(title String) {\n    edittext_title.text = title\n    }\n\n    fun getTitleText(): String {\n    return edittext_title.text.toString()\n    }\n}\n</code></pre>\n\n<p>The one way binding works but the two-way doesn\u00b4t.</p>\n"}, {"tags": ["android", "kotlin", "colors"], "comments": [{"owner": {"reputation": 2313, "user_id": 1477726, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/eG5lB.png?s=128&g=1", "display_name": "Ziad Akiki", "link": "https://stackoverflow.com/users/1477726/ziad-akiki"}, "edited": false, "score": 0, "creation_date": 1570645257, "post_id": 58309958, "comment_id": 102981659, "body": "Can you share which part of the video are you looking to achieve?"}, {"owner": {"reputation": 1, "user_id": 12190381, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FGaiGIooioY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXM_TnZE50USZ20E-_a-0ghbs8rw/photo.jpg?sz=128", "display_name": "Kacper Koz\u0142owski", "link": "https://stackoverflow.com/users/12190381/kacper-koz%c5%82owski"}, "reply_to_user": {"reputation": 2313, "user_id": 1477726, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/eG5lB.png?s=128&g=1", "display_name": "Ziad Akiki", "link": "https://stackoverflow.com/users/1477726/ziad-akiki"}, "edited": false, "score": 0, "creation_date": 1570646051, "post_id": 58309958, "comment_id": 102982028, "body": "At the very beginning film of the shown the button I  imported to Android Studio  is shown. The default is red, but I&#39;d like to create a smooth (animated) transition to green."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12190381, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FGaiGIooioY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXM_TnZE50USZ20E-_a-0ghbs8rw/photo.jpg?sz=128", "display_name": "Kacper Koz\u0142owski", "link": "https://stackoverflow.com/users/12190381/kacper-koz%c5%82owski"}, "edited": false, "score": 0, "creation_date": 1570816834, "post_id": 58310589, "comment_id": 103047733, "body": "Thank you for the answer, but I would like to set other colors on the button also. I would like to create a function in which I pass a value in the range 0-100, where these values \u200b\u200bcorrespond to the gradient (red-yellow-green). Depending on the value provided, the button will change smoothly to a given color starting from red."}], "tags": [], "owner": {"reputation": 785, "user_id": 8656729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6-GY6Cg_ISg/AAAAAAAAAAI/AAAAAAAAD6Y/iEpN7IuGVlQ/photo.jpg?sz=128", "display_name": "a2krocks", "link": "https://stackoverflow.com/users/8656729/a2krocks"}, "is_accepted": false, "score": 0, "last_activity_date": 1570647599, "creation_date": 1570647599, "answer_id": 58310589, "question_id": 58309958, "link": "https://stackoverflow.com/questions/58309958/how-to-change-element-color-vector-drawable/58310589#58310589", "title": "How to change element color vector drawable?", "body": "<p>You can use Shapeshifter (<a href=\"https://shapeshifter.design/)to\" rel=\"nofollow noreferrer\">https://shapeshifter.design/)to</a> make an animated vector drawable from one colour to another. \nThen On click you can animate it </p>\n\n<pre><code>(someImageView.drawable as AnimatedVectorDrawable).start()\n</code></pre>\n\n<p>For more details check this : </p>\n\n<p><a href=\"https://sourcediving.com/android-recipes-the-easy-path-to-animated-icons-878bffcb0920\" rel=\"nofollow noreferrer\">https://sourcediving.com/android-recipes-the-easy-path-to-animated-icons-878bffcb0920</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12190381, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FGaiGIooioY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXM_TnZE50USZ20E-_a-0ghbs8rw/photo.jpg?sz=128", "display_name": "Kacper Koz\u0142owski", "link": "https://stackoverflow.com/users/12190381/kacper-koz%c5%82owski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570647599, "creation_date": 1570644700, "last_edit_date": 1570646122, "question_id": 58309958, "link": "https://stackoverflow.com/questions/58309958/how-to-change-element-color-vector-drawable", "title": "How to change element color vector drawable?", "body": "<p>I imported svg image to android studio, which is similar to this: <a href=\"https://www.youtube.com/watch?reload=9&amp;v=n0e7z9anHHc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?reload=9&amp;v=n0e7z9anHHc</a>.</p>\n\n<p>I would like to create an smooth change color,  because I'm a beginner, I don't know how from the code level I can set green color e.g Animating this the transition through the gradient within 3 seconds. How can I smooth change the color of a vector graphic element?</p>\n"}, {"tags": ["android", "kotlin", "resolution", "aspect-ratio", "android-camerax"], "comments": [{"owner": {"reputation": 666, "user_id": 1440950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d0f7811e66b35975ee96a6640b2bfb2?s=128&d=identicon&r=PG", "display_name": "Ertyguy", "link": "https://stackoverflow.com/users/1440950/ertyguy"}, "edited": false, "score": 0, "creation_date": 1570643958, "post_id": 58309676, "comment_id": 102981023, "body": "If you check the output of <code>StreamConfigurationMap.getOutputSize(int)</code> does it give you values higher than 1024?"}, {"owner": {"reputation": 5, "user_id": 10604878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f4334b1bfb63d9b21ad98a88ffa0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp", "link": "https://stackoverflow.com/users/10604878/philipp"}, "reply_to_user": {"reputation": 666, "user_id": 1440950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d0f7811e66b35975ee96a6640b2bfb2?s=128&d=identicon&r=PG", "display_name": "Ertyguy", "link": "https://stackoverflow.com/users/1440950/ertyguy"}, "edited": false, "score": 0, "creation_date": 1570652301, "post_id": 58309676, "comment_id": 102984527, "body": "It returns max of 4640x3480."}, {"owner": {"reputation": 2383, "user_id": 444100, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/428d6aad29eca8303ec11fa17172d830?s=128&d=identicon&r=PG", "display_name": "tobltobs", "link": "https://stackoverflow.com/users/444100/tobltobs"}, "edited": false, "score": 0, "creation_date": 1571046378, "post_id": 58309676, "comment_id": 103097508, "body": "You write about image capture, but the linked example is only about preview?"}, {"owner": {"reputation": 1450, "user_id": 8750174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rAgIf.jpg?s=128&g=1", "display_name": "Vikas Acharya", "link": "https://stackoverflow.com/users/8750174/vikas-acharya"}, "reply_to_user": {"reputation": 666, "user_id": 1440950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d0f7811e66b35975ee96a6640b2bfb2?s=128&d=identicon&r=PG", "display_name": "Ertyguy", "link": "https://stackoverflow.com/users/1440950/ertyguy"}, "edited": false, "score": 0, "creation_date": 1606028994, "post_id": 58309676, "comment_id": 114830987, "body": "@Ertyguy kindly tell me how to use <code>StreamConfigurationMap.getOutputSize(int)</code>. for me it is giving compile time error. It is not letting me to run the code. Show some snippets."}], "owner": {"reputation": 5, "user_id": 10604878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6f4334b1bfb63d9b21ad98a88ffa0d2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp", "link": "https://stackoverflow.com/users/10604878/philipp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570643536, "creation_date": 1570643536, "question_id": 58309676, "link": "https://stackoverflow.com/questions/58309676/image-resolution-capped-on-1024x1024-camerax", "title": "Image resolution capped on 1024x1024 CameraX", "body": "<p>I am using CameraX to capture images in my Android app. The problem I have is I cant change image resolution. Or I should say I cant change it to higher than 1024x1024. </p>\n\n<p>I am trying to change capture resolution to 1920x1080, using aspect ratio and resolution, but none of combinations I tried worked. If I for example set ratio to 16:9 I am getting 1024x576 resolution. </p>\n\n<p>I followed <a href=\"https://codelabs.developers.google.com/codelabs/camerax-getting-started/#9\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/camerax-getting-started/#9</a> to setup CameraX, so my code is exactly like that, but with different aspect ratio, and adding </p>\n\n<pre><code>setTargetResolution(Size(1080, 1920))\n</code></pre>\n"}, {"tags": ["android", "file", "kotlin", "hashmap"], "comments": [{"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1570643732, "post_id": 58309353, "comment_id": 102980925, "body": "Not sure if I understand &quot;the second pieces isn&#39;t save&quot; correctly, so please describe the resulting HashMap as well"}], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570643798, "creation_date": 1570643798, "answer_id": 58309742, "question_id": 58309353, "link": "https://stackoverflow.com/questions/58309353/read-txt-and-put-information-in-the-hashmap/58309742#58309742", "title": "Read .txt and put information in the hashMap", "body": "<p>Try to use Kotlin's classes when you operate with Kotlin.</p>\n\n<p>This would solve the problem:</p>\n\n<pre><code>private fun readFile() {\n    val cityToDefn = mutableMapOf&lt;String,String&gt;()\n    val reader = Scanner(resources.openRawResource(R.raw.cities))\n    while (reader.hasNextLine()) {\n        val line = reader.nextLine()\n\n        val left = msg.substringBefore(' ')\n        val right = msg.substringAfter(' ')\n\n        cityToDefn[left] = right\n    }\n    val cities = cityToDefn.keys\n}\n</code></pre>\n\n<p>BTW: The <code>right</code> String will sometimes have some spaces in front, so you maybe want to filter them out.</p>\n"}, {"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 1, "last_activity_date": 1570645177, "creation_date": 1570645177, "answer_id": 58310073, "question_id": 58309353, "link": "https://stackoverflow.com/questions/58309353/read-txt-and-put-information-in-the-hashmap/58310073#58310073", "title": "Read .txt and put information in the hashMap", "body": "<p>You say there's a tab after the cities, but in your example it looks like multiple spaces. So you can use <code>\\\\s+</code> to split on the first group of white space. And add a limit of two, so the description is not broken up:</p>\n\n<pre><code>var pieces = line.split(\"\\\\s+\".toRegex(), 2)\n</code></pre>\n\n<p>What if there are cities with two-word names? Then I think you really need a tab after the city name, and you could split on a tab character, without regex:</p>\n\n<pre><code>var pieces = line.split('\\t')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11240805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58310073, "answer_count": 2, "score": 1, "last_activity_date": 1570645177, "creation_date": 1570642116, "last_edit_date": 1570642490, "question_id": 58309353, "link": "https://stackoverflow.com/questions/58309353/read-txt-and-put-information-in-the-hashmap", "title": "Read .txt and put information in the hashMap", "body": "<p>I have a list of elements, the first element is a name city and second information is about thecity. I want read the file cities.txt and put the information of the list in the hashMap. In the file cities.txt the cities and the elements is separate for one tab. \nBut when i put the pieces in the hashMap the second pieces isn't save.</p>\n\n<pre><code>private fun readFile() {\n    var cityToDefn = java.util.HashMap&lt;String, String&gt;()\n    val cities = ArrayList&lt;String&gt;()\n    val reader = Scanner(resources.openRawResource(R.raw.cities))\n    while (reader.hasNextLine()) {\n        val line = reader.nextLine()\n        var pieces = line.split(\"\\\\s\".toRegex())\n\n        if (pieces.size &gt;= 2) {\n            cities.add(pieces[0])\n            cityToDefn.put(pieces[0], pieces[1])\n        }\n    }\n}\n</code></pre>\n\n<p>cities.txt</p>\n\n<pre><code> lisboa  castelo de s\u00e3o jorge\n porto   torre dos clerigos\n aveiro  ria\n lisboa  terreiro do pa\u00e7o\n porto   avenida dos aliados\n lisboa  marques de pombal\n aveiro  igreja da gl\u00f3ria\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-sqlite", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 1, "last_activity_date": 1616724351, "last_edit_date": 1616724351, "creation_date": 1570687247, "answer_id": 58316326, "question_id": 58309186, "link": "https://stackoverflow.com/questions/58309186/android-room-slow-migration-race-condition/58316326#58316326", "title": "Android Room slow migration race condition", "body": "<p>I believe that your issue is that you should not be trying to close the the database as when the migration is called the database itself has already been opened by Room (hence how it knows the version and whether or not to call the migration).</p>\n<p>Room does not expect the database to be closed when the migration has completed, so it considers that something else has closed/accessed the database.</p>\n<p>Furthermore there is no need to use transactions as Room calls the migrate method within a transaction itself.</p>\n<blockquote>\n<p>This method is already called inside a transaction and that transaction might actually be a composite transaction of all necessary Migrations.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/arch/persistence/room/migration/Migration#migrate\" rel=\"nofollow noreferrer\">Migration</a></p>\n<p>I'd suggest that your migration code should just be :-</p>\n<pre><code>        database.execSQL(&quot;ALTER TABLE DeviceItem ADD COLUMN #### INTEGER NOT NULL DEFAULT 0&quot;)\n        database.execSQL(&quot;ALTER TABLE DeviceItem ADD COLUMN #### TEXT NOT NULL DEFAULT ''&quot;)\n        database.execSQL(&quot;CREATE INDEX IF NOT EXISTS ### ON #### (###, ###)&quot;)\n        //helper method that just creates the table\n        createLocalityTable(database)\n</code></pre>\n<ul>\n<li>The createLocalityTable method should also not close the database.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1741, "user_id": 2445763, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/vps5R.png?s=128&g=1", "display_name": "lasec0203", "link": "https://stackoverflow.com/users/2445763/lasec0203"}, "is_accepted": false, "score": 0, "last_activity_date": 1616722804, "creation_date": 1616722804, "answer_id": 66809901, "question_id": 58309186, "link": "https://stackoverflow.com/questions/58309186/android-room-slow-migration-race-condition/66809901#66809901", "title": "Android Room slow migration race condition", "body": "<p>You can attempt blocking the mainThread until the database is unlocked.</p>\n<p>In your appDatabase singleton, add this function and then call it inside the <code>onCreate()</code> function of your MainActivity above anything else. You may want to do this behind a splash screen.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        /**\n         * Blocks app until Database is not locked or in a transaction.\n         * Should only need to be called once when running a large migration\n         */\n        fun blockUntilDbIsAccessible(context: Context) {\n            //Timber.d(&quot;Accessing Database...&quot;)\n            val dbStartTime = System.currentTimeMillis()\n            runBlocking {\n                val database = getAppDatabase(context)\n                var isLocked = true\n\n                while(isLocked) {\n                    try {\n                        isLocked = database.inTransaction()\n                    } catch(ex: SQLiteDatabaseLockedException) {\n                        delay(500)\n                    }\n                }\n            }\n            val dbEndTime = System.currentTimeMillis()\n            //Timber.d(&quot;Accessing Database took ${dbEndTime - dbStartTime}ms&quot;)\n        }\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 8839856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f620268c951601458f4e4813af19337?s=128&d=identicon&r=PG", "display_name": "atotalnoob", "link": "https://stackoverflow.com/users/8839856/atotalnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 58316326, "answer_count": 2, "score": 1, "last_activity_date": 1616724351, "creation_date": 1570641418, "question_id": 58309186, "link": "https://stackoverflow.com/questions/58309186/android-room-slow-migration-race-condition", "title": "Android Room slow migration race condition", "body": "<p>Room version <code>2.2.0-rc01</code>\nAndroid versions <code>7.1</code>, <code>8.1</code></p>\n\n<p>I have a migration that is a bit large. Adding a couple tables, indices, etc. When it runs, it locks the database. Since it takes a while, it is causing <code>android.database.sqlite.SQLiteDatabaseLockedException: database is locked (code 5)</code> in every other part of the application. </p>\n\n<p>Is there a way to await the migrations finishing before trying to utilize the db?</p>\n\n<p>Abbreviated migration:</p>\n\n<pre><code>  try {\n            // database.beginTransaction()\n\n            database.execSQL(\"ALTER TABLE DeviceItem ADD COLUMN #### INTEGER NOT NULL DEFAULT 0\")\n            database.execSQL(\"ALTER TABLE DeviceItem ADD COLUMN #### TEXT NOT NULL DEFAULT ''\")\n\n            database.execSQL(\"CREATE INDEX IF NOT EXISTS ### ON #### (###, ###)\")\n           //helper method that just creates the table\n            createLocalityTable(database)\n            //database.setTransactionSuccessful()\n\n\n        } catch (e: SQLiteException) {\n            Crashlytics.logException(e)\n            throw e\n        } catch (e: Throwable) {\n            Crashlytics.logException(e)\n            throw e\n        } finally {\n            // database.endTransaction()\n            database.close()\n        }\n</code></pre>\n\n<p>This is my appDatabase singleton</p>\n\n<pre><code>package com.company.app.data\n\nimport android.content.Context\nimport androidx.room.Database\nimport androidx.room.Room\nimport androidx.room.RoomDatabase\nimport androidx.room.TypeConverters\n\n@Database(entities = [someClass::class, otherClass::class, etc::class], version = 3)\n@TypeConverters(Converters::class)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun somethingDao(): somethingDao\n\n    @Synchronized\n    override fun close() {\n        if (INSTANCE != null) {\n            super.close()\n            INSTANCE = null\n        }\n    }\n    companion object {\n        @Volatile\n        private var INSTANCE: AppDatabase? = null\n\n        var canGo = false\n        fun getAppDatabase(context: Context): AppDatabase? {\n            val tempInstance = INSTANCE\n            if (tempInstance != null) {\n                return tempInstance\n            }\n\n            synchronized(this) {\n                val instance = Room.databaseBuilder(\n                        context.applicationContext,\n                        AppDatabase::class.java,\n                        \"myDb\"\n                ).addMigrations(MIGRATION_X_X).build()\n\n                INSTANCE = instance\n                return instance\n                }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "android-recyclerview", "android-toast"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 10435242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7gqh4qnRtY/AAAAAAAAAAI/AAAAAAAAAE8/D63-bPJ_I7k/photo.jpg?sz=128", "display_name": "FY Gamer", "link": "https://stackoverflow.com/users/10435242/fy-gamer"}, "edited": false, "score": 0, "creation_date": 1570637951, "post_id": 58308172, "comment_id": 102978335, "body": "That worked, thanks! Could you explain me why? I have seen Toast working with only &#39;this&#39;."}, {"owner": {"reputation": 125, "user_id": 5955398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Esc5W.jpg?s=128&g=1", "display_name": "Amir Abbas", "link": "https://stackoverflow.com/users/5955398/amir-abbas"}, "reply_to_user": {"reputation": 117, "user_id": 10435242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7gqh4qnRtY/AAAAAAAAAAI/AAAAAAAAAE8/D63-bPJ_I7k/photo.jpg?sz=128", "display_name": "FY Gamer", "link": "https://stackoverflow.com/users/10435242/fy-gamer"}, "edited": false, "score": 0, "creation_date": 1570645533, "post_id": 58308172, "comment_id": 102981789, "body": "when you are setting  addOnItemClickListener in input  you are passing an instance of an abstract class so when you call &quot;this&quot; you are referring to inner class instance ( object : OnItemClickListener ) then you have to say that &quot;this&quot; refer to activity class not OnItemClickListener."}, {"owner": {"reputation": 117, "user_id": 10435242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7gqh4qnRtY/AAAAAAAAAAI/AAAAAAAAAE8/D63-bPJ_I7k/photo.jpg?sz=128", "display_name": "FY Gamer", "link": "https://stackoverflow.com/users/10435242/fy-gamer"}, "edited": false, "score": 0, "creation_date": 1570648151, "post_id": 58308172, "comment_id": 102982887, "body": "Got it. Thank you a lot."}], "tags": [], "owner": {"reputation": 125, "user_id": 5955398, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Esc5W.jpg?s=128&g=1", "display_name": "Amir Abbas", "link": "https://stackoverflow.com/users/5955398/amir-abbas"}, "is_accepted": true, "score": 4, "last_activity_date": 1570637231, "creation_date": 1570637231, "answer_id": 58308172, "question_id": 58308082, "link": "https://stackoverflow.com/questions/58308082/error-none-of-the-following-functions-can-be-called-with-the-arguments-supplied/58308172#58308172", "title": "Error &quot;None of the following functions can be called with the arguments supplied:&quot; with Toast", "body": "<pre><code>Toast.makeText(this@YOUR_ACTIVITY_NAME, \"Clicked on  \" + users.get(position).name, Toast.LENGTH_LONG).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 340, "user_id": 11140751, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DFThwHpc--E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdN7wUscNCQihHuzHVdZcCYQqdVzA/mo/photo.jpg?sz=128", "display_name": "Dharmik Thakkar", "link": "https://stackoverflow.com/users/11140751/dharmik-thakkar"}, "is_accepted": false, "score": 3, "last_activity_date": 1593458416, "creation_date": 1593458416, "answer_id": 62645293, "question_id": 58308082, "link": "https://stackoverflow.com/questions/58308082/error-none-of-the-following-functions-can-be-called-with-the-arguments-supplied/62645293#62645293", "title": "Error &quot;None of the following functions can be called with the arguments supplied:&quot; with Toast", "body": "<pre><code>//In Activity use: \nToast.makeText(this@YOUR_ACTIVITY_NAME, &quot;your message&quot;, Toast.LENGTH_LONG).show()\n    \n//In Fragments use: \nToast.makeText(requireActivity(), &quot;your message&quot;, Toast.LENGTH_LONG).show()\n \nYour problem will be solved...\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10435242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7gqh4qnRtY/AAAAAAAAAAI/AAAAAAAAAE8/D63-bPJ_I7k/photo.jpg?sz=128", "display_name": "FY Gamer", "link": "https://stackoverflow.com/users/10435242/fy-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3260, "favorite_count": 0, "accepted_answer_id": 58308172, "answer_count": 2, "score": 5, "last_activity_date": 1593458416, "creation_date": 1570636916, "last_edit_date": 1592644375, "question_id": 58308082, "link": "https://stackoverflow.com/questions/58308082/error-none-of-the-following-functions-can-be-called-with-the-arguments-supplied", "title": "Error &quot;None of the following functions can be called with the arguments supplied:&quot; with Toast", "body": "<p>I want to create a code to click on items of RecyclerView. I found one from Internet, however it keep getting this error:</p>\n<blockquote>\n<p>None of the following functions can be called with the arguments supplied:</p>\n<p>public open fun makeText(p0: Context!, p1: CharSequence!, p2: Int): Toast! defined in android.widget.Toast</p>\n<p>public open fun makeText(p0: Context!, p1: Int, p2: Int): Toast! defined in android.widget.Toast</p>\n</blockquote>\n<p>Here's my code:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        recyclerView.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n        val users = ArrayList&lt;User&gt;()\n\n        val adapter = CustomAdapter(users)\n\n        recyclerView.adapter = adapter\n\n        recyclerView.addOnItemClickListener(object : OnItemClickListener {\n            override fun onItemClicked(position: Int, view: View) {\n                Toast.makeText(this, &quot;Clicked on  &quot; + users.get(position).name, Toast.LENGTH_LONG).show()\n            }\n        })\n\n\n    }\n\n    interface OnItemClickListener {\n        fun onItemClicked(position: Int, view: View)\n    }\n\n    fun RecyclerView.addOnItemClickListener(onClickListener: OnItemClickListener) {\n        this.addOnChildAttachStateChangeListener(object : RecyclerView.OnChildAttachStateChangeListener {\n            override fun onChildViewDetachedFromWindow(view: View) {\n                view.setOnClickListener(null)\n            }\n\n            override fun onChildViewAttachedToWindow(view: View) {\n                view.setOnClickListener {\n                    val holder = getChildViewHolder(view)\n                    onClickListener.onItemClicked(holder.adapterPosition, view)\n                }\n            }\n        })\n    }\n</code></pre>\n<p>How can I fix that error message?</p>\n"}, {"tags": ["kotlin", "lambda", "sequence", "memory-footprint"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 1637272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a43579cbf6aea51bbd0f9ebfd4f21ba?s=128&d=identicon&r=PG", "display_name": "Maz", "link": "https://stackoverflow.com/users/1637272/maz"}, "edited": false, "score": 0, "creation_date": 1570732643, "post_id": 58313579, "comment_id": 103016419, "body": "Just to be clear, when I&#39;m using sequences, the type is a sequence. CSV lines is kept as a separate object for when I need to randomly access specific columns or rows."}, {"owner": {"reputation": 2772, "user_id": 5771446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d6be6a7599bae9c70427cf2c9565ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/5771446/leroy"}, "reply_to_user": {"reputation": 300, "user_id": 1637272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a43579cbf6aea51bbd0f9ebfd4f21ba?s=128&d=identicon&r=PG", "display_name": "Maz", "link": "https://stackoverflow.com/users/1637272/maz"}, "edited": false, "score": 1, "creation_date": 1570733260, "post_id": 58313579, "comment_id": 103016662, "body": "So you&#39;re saying in step 1 <code>csvLines</code> is of type <code>List&lt;String&gt;</code> and in step 2 a variable of the same name <code>csvLines</code> is of type <code>Sequence&lt;String&gt;</code>?"}, {"owner": {"reputation": 300, "user_id": 1637272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a43579cbf6aea51bbd0f9ebfd4f21ba?s=128&d=identicon&r=PG", "display_name": "Maz", "link": "https://stackoverflow.com/users/1637272/maz"}, "edited": false, "score": 0, "creation_date": 1570736185, "post_id": 58313579, "comment_id": 103017921, "body": "So I keep a version of csvLines as a List and another as a Sequence. I should probably make that more clear.   Anyway, your answer may have been on the right track either way, now that I think about it. If I create a function that extends sequence, is that new function automatically lazily evaluated or do I have to make an inline function to take advantage of the feature?"}, {"owner": {"reputation": 300, "user_id": 1637272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a43579cbf6aea51bbd0f9ebfd4f21ba?s=128&d=identicon&r=PG", "display_name": "Maz", "link": "https://stackoverflow.com/users/1637272/maz"}, "edited": false, "score": 1, "creation_date": 1570736591, "post_id": 58313579, "comment_id": 103018089, "body": "Actually I misunderstood your original comment as well. You&#39;re correct. I thought I was creating a sequence after running csvLines&lt;List&gt;.drop().sequence() as well.  I gave you the checkmark."}], "tags": [], "owner": {"reputation": 2772, "user_id": 5771446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d6be6a7599bae9c70427cf2c9565ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Leroy", "link": "https://stackoverflow.com/users/5771446/leroy"}, "is_accepted": true, "score": 3, "last_activity_date": 1570664628, "creation_date": 1570664628, "answer_id": 58313579, "question_id": 58307743, "link": "https://stackoverflow.com/questions/58307743/how-to-use-kotlins-sequences-and-lambdas-in-a-way-thats-memory-efficient/58313579#58313579", "title": "How to use Kotlin&#39;s sequences and lambdas in a way that&#39;s memory efficient", "body": "<p>To use Kotlin sequences, you need to start with <code>asSequence()</code></p>\n\n<pre><code>csvLines.asSequence()\n    .drop(x)\n    .fold(...)\n    ...\n</code></pre>\n\n<p>If you leave that out, it uses Collection functions instead which creates a new (intermediate) collection after every function.</p>\n"}], "owner": {"reputation": 300, "user_id": 1637272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0a43579cbf6aea51bbd0f9ebfd4f21ba?s=128&d=identicon&r=PG", "display_name": "Maz", "link": "https://stackoverflow.com/users/1637272/maz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 58313579, "answer_count": 1, "score": 0, "last_activity_date": 1570768200, "creation_date": 1570635713, "last_edit_date": 1570768200, "question_id": 58307743, "link": "https://stackoverflow.com/questions/58307743/how-to-use-kotlins-sequences-and-lambdas-in-a-way-thats-memory-efficient", "title": "How to use Kotlin&#39;s sequences and lambdas in a way that&#39;s memory efficient", "body": "<p>So I'm in the process of writing some code that needs to be both memory efficient and fast. I have a working reference in java already, but was rewriting it in kotlin.</p>\n\n<p>I basically need to load a lot of csv files and load them into a tree once and then traverse them repeatedly once they're loaded.</p>\n\n<p>I originally wrote the whole thing using sequences, but found it cause the GC to spike repeatedly.</p>\n\n<p>I can't really share this code, but was wondering if yall know what would cause this to happen.</p>\n\n<p>I'll be happy to add details as you need them, but here's my basic pattern.</p>\n\n<p>step1: <code>inputStream -&gt; csvLines: List&lt;String&gt;</code></p>\n\n<p>step2: <code>csvLines.drop(x).fold(emptySequence()) -&gt; callOtherFunctionWithFold -&gt; callOtherFunctionWithFold -&gt; Sequence&lt;OutputObjects&gt;</code></p>\n\n<p>I keep the csvLines as a seperate list because I'm access specific rows based on the rules I need.</p>\n\n<p>step3: <code>Sequence&lt;OuputObjects&gt; -&gt; nodes</code></p>\n\n<p>The result is functional, but this code is much less memory efficient and less performant than the java equivalent only using arraylists and modifying them in place. </p>\n\n<p>After looking at the visualvm output, I created a ton of kotlin.*.ArrayIterators. It looks like I create one every time I use a lamda.</p>\n\n<p>So what can I do to make this more efficient? I though sequences were supposed to reduce object creation lazily, but it looks like I'm doing things that break its ability to do so.</p>\n\n<p>Do sequences reevaluate after ever GC run or run in general? If so, that would make them unsuitable to use in objects that are loaded at startup, right?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZKTV6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZKTV6.png\" alt=\"visual vm run\"></a></p>\n"}, {"tags": ["kotlin", "native"], "comments": [{"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "edited": false, "score": 1, "creation_date": 1570635220, "post_id": 58307420, "comment_id": 102976936, "body": "If you want to use the command-line compiler, you got to link the klib by <code>-l</code> flag, just as described in the article."}, {"owner": {"reputation": 2333, "user_id": 1300214, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/zZMKL.png?s=128&g=1", "display_name": "Pixel", "link": "https://stackoverflow.com/users/1300214/pixel"}, "edited": false, "score": 0, "creation_date": 1616960237, "post_id": 58307420, "comment_id": 118159897, "body": "@westocl did you ever solve this? I&#39;m at a point where I&#39;ve got Gradle to build my library and the <code>shared-cinterop-mylib.klib</code> and <code>build</code> folders are in the <code>classes&#47;kotlin&#47;androidNativeArm64&#47;main&#47;shared-cinterop-mylib&zwnj;&#8203;.klib-build</code> but my <code>androidApp</code> can&#39;t see the package and just shows red lines on the <code>import</code> line. I added <code>implementation(files(&quot;&#47;home&#47;me&#47;AndroidStudioProjects&#47;MyAppli&zwnj;&#8203;cation&#47;shared&#47;build&#47;&zwnj;&#8203;classes&#47;kotlin&#47;andro&zwnj;&#8203;idNativeArm64&#47;main&#47;s&zwnj;&#8203;hared-cinterop-mylib&zwnj;&#8203;.klib&quot;))</code> to my <code>androidApp</code> Gradle but still no luck."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570707167, "post_id": 58319846, "comment_id": 103002598, "body": "Thanks for the links. I was using the IntelliJ IDE code that wants to consume the library.  One would hope once you use the cinterop tool and now have stubs in kotlin similar to the \u201c.h\u201d file and a klib file you could continue using the IntelliJ idea to develope with the library."}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "reply_to_user": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570710974, "post_id": 58319846, "comment_id": 103004761, "body": "Please provide some details. When you have the <code>.klib</code>, you can add a dependency on this library, and consume it in the code. An example of this approach can be found in <code>samples&#47;curl</code>."}, {"owner": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 1, "creation_date": 1570713280, "post_id": 58319846, "comment_id": 103006213, "body": "I think may be mixing the command line &#39;flow&#39; with the a flow purely driven by build.gradle.kts, so i may be confusing myself. I use the command line cinterop to get the .klib.  In the samples/curl I don&#39;t see any EXPLICIT reference or command that tells the project to link with the KLIB.  I apologize fully if I&#39;m missing it.  The way I think of it, is that once I have a klib and a interop.kt type stub file,  I should be able to use it like one would use a .h and a .so by somehow providing the IDE with the equivalent of -Include and -library flags."}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "reply_to_user": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570714398, "post_id": 58319846, "comment_id": 103006934, "body": "<a href=\"https://github.com/JetBrains/kotlin-native/blob/303f6638f45aaf521b4ab67d09bba66932904950/samples/curl/build.gradle.kts#L43\" rel=\"nofollow noreferrer\">This</a> is the line, where the library was linked. Then in the actual code, we are <a href=\"https://github.com/JetBrains/kotlin-native/blob/303f6638f45aaf521b4ab67d09bba66932904950/samples/curl/src/curlMain/kotlin/main.kt#L8\" rel=\"nofollow noreferrer\">importing</a> the library by its name. Do I understand correctly, that you actually have the script in the project? If so, I can&#39;t see any reasons to make a manual <code>cinterop</code> call."}, {"owner": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570717607, "post_id": 58319846, "comment_id": 103008979, "body": "Are you saying the build time dependency on the .klib is resolved by the configuration commands  in gradle:  souceSets{...implementation(&quot;...libcurl:1.0&quot;)} then add tasks.withType(...){dependsOn(...)} ?  Where in the example &quot;libcurl&quot; full name is &quot;libcurl.klib&quot;.  Then somewhere at runtime the program will look for libcurl.so in OS dependent directories?"}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "reply_to_user": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570718216, "post_id": 58319846, "comment_id": 103009379, "body": "<code>libcurl.klib</code> is not presented in the repository. It would be generated while processing task, written in <code>&#47;samples&#47;libcurl</code>. This is the reason for the <code>tasks.withType(...){dependsOn(...)}</code> existence. So, in your case, you got to write the dependency in the SourceSet, and add the path to your <code>.klib</code> as local Maven repo(see build.gradle.kts of the <code>curl</code> sample)"}, {"owner": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570735394, "post_id": 58319846, "comment_id": 103017599, "body": "I started over from scratch and tried to follow <a href=\"https://play.kotlinlang.org/hands-on/Introduction%20to%20Kotlin%20Native/04_AddingInteropToBuild\" rel=\"nofollow noreferrer\">play.kotlinlang.org/hands-on/&hellip;</a>. I can build artifacts.  The &quot;Stub Kt&quot; file seems to be built under the build directory &quot;classes&quot; and the klib ib built under the &quot;libs&quot; directory.  Both names are prefixed &lt;projectName&gt;-cinterop.  in nested directories kotlin-&gt;linux-&gt; main and I&#39;m stuck again.  Final question.  What exact directory does the sub Kt file go and the Klib file with the KLIb-buld directory? Not sure how to share a screenshot?"}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "reply_to_user": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "edited": false, "score": 0, "creation_date": 1570781023, "post_id": 58319846, "comment_id": 103029918, "body": "I am sorry, but I do not understand. What step of the hands-on tutorial made the problem? If something was unclear, maybe it would be helpful to look at <a href=\"https://github.com/kotlin-hands-on/intro-kotlin-native\" rel=\"nofollow noreferrer\">the code</a>. Also, if one wants to communicate more informal, it would be better to do in the Kotlin (Slack)[<a href=\"http://slack.kotlinlang.org/?_ga=2.104820932.515658589.1570431434-1089074657.1560174812]\" rel=\"nofollow noreferrer\">slack.kotlinlang.org/&hellip;</a> rather than SO answer comment section ;-)"}], "tags": [], "owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "is_accepted": true, "score": 1, "last_activity_date": 1570700130, "creation_date": 1570700130, "answer_id": 58319846, "question_id": 58307420, "link": "https://stackoverflow.com/questions/58307420/kotlin-native-how-to-use-a-c-library-and-klib-file/58319846#58319846", "title": "Kotlin/Native - How to Use a C Library and Klib file?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/native/libraries.html#kotlin-compiler-specifics\" rel=\"nofollow noreferrer\">Here</a> is the part of the official reference, that covers the concept of the Kotlin Library. It also explains, how to use it in the command line.<br>\nAbout the Gradle. In the case of Kotlin/Native, one can write a <a href=\"https://kotlinlang.org/docs/reference/native/gradle_plugin.html#cinterop-support\" rel=\"nofollow noreferrer\">task</a> to generate C wrappers automatically. To make self more familiar with Gradle scripts applied to Kotlin/Native I strongly recommend one to have a look at samples from the compiler's <a href=\"https://github.com/JetBrains/kotlin-native/\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 6034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfe23e2d8c102b75bab06e65adeed86?s=128&d=identicon&r=PG&f=1", "display_name": "westocl", "link": "https://stackoverflow.com/users/6034632/westocl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 2, "accepted_answer_id": 58319846, "answer_count": 1, "score": 2, "last_activity_date": 1570700130, "creation_date": 1570634617, "question_id": 58307420, "link": "https://stackoverflow.com/questions/58307420/kotlin-native-how-to-use-a-c-library-and-klib-file", "title": "Kotlin/Native - How to Use a C Library and Klib file?", "body": "<p>I am new to Kotlin/Native as I assume many others are and wish to use a C library from Kotlin. There is documentation out there and a couple tutotials that get you 85% and just miss the mark. And YES, I tried to read about everything before I asked the question.</p>\n\n<p>The flow to utilize a C library in Kotlin is easy to find.</p>\n\n<p>1) create a .def file  ---Ok!</p>\n\n<p>2) use the tool cinterop on the .def file to create a .klib file -- OK</p>\n\n<p>----NOW HOW DO YOU USE IT??---</p>\n\n<p>Specifically, now that we have a .klib file, call it \"XXX.klib\", how do we import the symbols?</p>\n\n<p>Is one supposed to use gradle and add a dependency of the klib file?\nIs there a default folder structure to put the .Klib in?\nIs one supposed to some how associate the Klib with a package?</p>\n\n<p>The issue I am having with gradle at the time is I really don't understand what is relevant to the thing I am doing vs what you find on the internet.  Somebody just saying...\"Here's my gradle file\" really hurts more than than it helps some times because it does not make you smarter just copying it.</p>\n\n<p>I have looked at the link \n<a href=\"https://medium.com/androidiots/the-magic-of-kotlin-native-part-2-49097c2dea1a\" rel=\"nofollow noreferrer\">https://medium.com/androidiots/the-magic-of-kotlin-native-part-2-49097c2dea1a</a></p>\n\n<p>I have also looked at a very near answer to my question\n<a href=\"https://stackoverflow.com/questions/57170318/adding-a-klib-library-to-kotlin-multiplatform\">Adding a `.klib` library to kotlin multiplatform</a></p>\n\n<p>But the answers fell short.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "answers": [{"comments": [{"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1570638086, "post_id": 58307552, "comment_id": 102978393, "body": "There is just one problem, when I delete one number it keeps adding numbers to the text and crashes"}, {"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1570638367, "post_id": 58307552, "comment_id": 102978533, "body": "Thanks a lot for your time"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1570640756, "last_edit_date": 1570640756, "creation_date": 1570635081, "answer_id": 58307552, "question_id": 58307336, "link": "https://stackoverflow.com/questions/58307336/edittext-replacing-character-after-appending/58307552#58307552", "title": "EditText replacing character after appending", "body": "<p><strong><code>onValueChange</code></strong> should be like this:</p>\n\n<pre><code>var test: StringBuilder = StringBuilder()\nvar lastValue: String = \"\"\n\nfun onValueChange(value: String) {\n\n    if(lastValue.length &gt; value.length) {\n        test.deleteCharAt(test.lastIndex)\n        if(test.length == 3 || test.length == 10) {\n            test.deleteCharAt(test.lastIndex)\n        }\n    } else {\n        test.append(value.last())\n\n        if (test.length == 3) {\n            test.append(\"-\")\n        } else if (test.length == 10) {\n            test.append(\"/\")\n        }\n    }\n\n    lastValue = value\n    textView.text = test\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 10619013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1cfe73e0c9ba245b899a77fbd08eafe?s=128&d=identicon&r=PG&f=1", "display_name": "BBurchfield", "link": "https://stackoverflow.com/users/10619013/bburchfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1570635623, "last_edit_date": 1570635623, "creation_date": 1570635302, "answer_id": 58307616, "question_id": 58307336, "link": "https://stackoverflow.com/questions/58307336/edittext-replacing-character-after-appending/58307616#58307616", "title": "EditText replacing character after appending", "body": "<p>Try this, instead.   </p>\n\n<pre><code>private fun onValueChange(value: String) {\n\n    if (value.length == 3) {\n        mNumberTxtView.text = \"${value}_\"\n    } else if (value.length == 10) {\n        mNumberTxtView.text = \"${value}/\"\n    }\n\n}\n</code></pre>\n\n<p>Let me know if this works.</p>\n\n<p>(The curly brackets around \"value\" in the strings may not be necessary. I'm still getting used to Kotlin's way of handling string concatenation.)</p>\n\n<p>Edited to remove redundant and potentially loop-causing part.</p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 6103179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kv0U.png?s=128&g=1", "display_name": "Stanislav Parkhomenko", "link": "https://stackoverflow.com/users/6103179/stanislav-parkhomenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1570636028, "last_edit_date": 1570636028, "creation_date": 1570635343, "answer_id": 58307627, "question_id": 58307336, "link": "https://stackoverflow.com/questions/58307336/edittext-replacing-character-after-appending/58307627#58307627", "title": "EditText replacing character after appending", "body": "<p>You should not change text in <code>beforeTextChanged</code> and <code>afterTextChanged</code> to prevent re-call of those methods by <code>TextWatcher</code>. Make changes in <code>afterTextChanged</code>.\nBut be careful not to get yourself into an infinite loop, because any changes you make will cause this method to be called again recursively.</p>\n\n<p>So set invoke of <code>onValueChanged</code> into <code>afterTextChanged</code> method</p>\n\n<p>with removal of <code>mNumberTxtView.text = value</code></p>\n"}], "owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 58307552, "answer_count": 3, "score": 0, "last_activity_date": 1570640756, "creation_date": 1570634305, "question_id": 58307336, "link": "https://stackoverflow.com/questions/58307336/edittext-replacing-character-after-appending", "title": "EditText replacing character after appending", "body": "<p>I'm trying to make a number look like this</p>\n\n<p>932-874838/9</p>\n\n<p>I did this with my EditText to append the <code>-</code> and <code>/</code> after some spaces</p>\n\n<pre><code> editText.addTextChangedListener(object : TextWatcher {\n            override fun afterTextChanged(text: Editable?) {\n\n            }\n\n            override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n            override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n                onValueChange(s.toString())\n            }\n        })\n}\nprivate fun onValueChange(value: String) {\n\n        mNumberTxtView.text = value\n\n        if (value.length == 3) {\n            mNumberTxtView.append(\"-\")\n        }\n\n        if (value.length == 10) {\n            mNumberTxtView.append(\"/\")\n        }\n    }\n</code></pre>\n\n<p>When I'm typing like </p>\n\n<blockquote>\n  <p>932</p>\n</blockquote>\n\n<p>it automatically appends the <code>-</code> , and that works, but after it appends the <code>-</code> and if I type another number it replaces the <code>-</code> with that number instead of continuing, so it becomes <code>932-</code> at first but when trying to put another number, </p>\n\n<blockquote>\n  <p>932<strong>8</strong></p>\n</blockquote>\n\n<p>it gets replaced like that removing the appended <code>-</code></p>\n\n<p>I think the problem is inside the <code>onValueChange()</code> method</p>\n"}, {"tags": ["java", "gradle", "kotlin", "gitlab-ci"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570639238, "post_id": 58307274, "comment_id": 102978899, "body": "Do you have any <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/read-line.html\" rel=\"nofollow noreferrer\"><code>readLine</code>s</a> (or <code>System.in</code> or similar) in your test? Or, in general, any kind of interactive logic? Is it possible that under some conditions (missing file or environment config) you go into an infinite loop? Any network requests?"}, {"owner": {"reputation": 31, "user_id": 11558805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da3fdab25c42523053a96bab330f142?s=128&d=identicon&r=PG&f=1", "display_name": "batodev", "link": "https://stackoverflow.com/users/11558805/batodev"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570701111, "post_id": 58307274, "comment_id": 102999420, "body": "I send some http request to a MockServer (istantiated in tests) (<a href=\"http://www.mock-server.com/\" rel=\"nofollow noreferrer\">mock-server.com</a>)"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570704383, "post_id": 58307274, "comment_id": 103001171, "body": "How do you start it? If you start in in the same thread your tests run, your test... would never run as it will occupy it. You should either make sure you start it in a separate thread or use GitLab&#39;s services. The idea is that it should run in parallel with your tests."}, {"owner": {"reputation": 31, "user_id": 11558805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da3fdab25c42523053a96bab330f142?s=128&d=identicon&r=PG&f=1", "display_name": "batodev", "link": "https://stackoverflow.com/users/11558805/batodev"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 1, "creation_date": 1570713589, "post_id": 58307274, "comment_id": 103006418, "body": "I found the pending test suite. It contains 3 test, any of them instances a controller that launch the same <code>start()</code> method. The<code>start()</code> method launch a new thread. If just one test runs it works with successful gitlab-ci termination, if two or more test run it doesn&#39;t and remain in pending state."}, {"owner": {"reputation": 31, "user_id": 11558805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da3fdab25c42523053a96bab330f142?s=128&d=identicon&r=PG&f=1", "display_name": "batodev", "link": "https://stackoverflow.com/users/11558805/batodev"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570718631, "post_id": 58307274, "comment_id": 103009621, "body": "Cleaning gitlab cache with <code>Clear Runner Caches</code> it terminates with success. Sometimes."}], "owner": {"reputation": 31, "user_id": 11558805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2da3fdab25c42523053a96bab330f142?s=128&d=identicon&r=PG&f=1", "display_name": "batodev", "link": "https://stackoverflow.com/users/11558805/batodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570714152, "creation_date": 1570634055, "last_edit_date": 1570714152, "question_id": 58307274, "link": "https://stackoverflow.com/questions/58307274/pending-gitlab-ci-test-job-using-gradle-and-kotlin", "title": "Pending gitlab-ci test job using gradle and kotlin", "body": "<p>I'm trying to build a kotlin library using gradle (wrapped) and gitlab-ci. If i execute commands on my machine everything works fine but gitlab-ci test job doesnt not end and is pending on <code>Task :test</code>.</p>\n\n<p>I'm using basic gitlab-ci inspired by <a href=\"https://gist.github.com/daicham/5ac8461b8b49385244aa0977638c3420\" rel=\"nofollow noreferrer\">this example</a>.</p>\n\n<pre><code>image: gradle:5.6.2-jdk8\n\nstages:\n  - build\n  - test\n\nbefore_script:\n  - export GRADLE_USER_HOME=`pwd`/.gradle\n\ncache:\n  paths:\n    - .gradle/wrapper\n    - .gradle/caches\n\nbuild-latest:\n  stage: build\n\n  script:\n    - ./gradlew assemble\n\n  only:\n    - master\n    - tags\n\ntest:\n  stage: test\n\n  script:\n    - ./gradlew check\n\n</code></pre>\n\n<p>and that's gitlab-ci ( 12.2.5 ) output</p>\n\n<pre><code>Running with gitlab-runner 12.2.0 (a987417a)\n  on autoscale-runner eaccdfe9\nUsing Docker executor with image gradle:5.6.2-jdk8 ...\nPulling docker image gradle:5.6.2-jdk8 ...\nUsing docker image sha256:5eacc675d8626e3db6a6c4030fc817113f536f565ecd23b7f5aec7e5e5bfcc53 for gradle:5.6.2-jdk8 ...\nRunning on runner-eaccdfe9-project-769-concurrent-0 via runner-eaccdfe9-autoscale-1570629641-a91eb9db...\nFetching changes with git depth set to 50...\nReinitialized existing Git repository in /builds/platform/libraries/kafka2rest/.git/\nChecking out 69a3b20e as master...\nRemoving .gradle/\nRemoving build/\n\nSkipping Git submodules setup\nChecking cache for default-1...\nDownloading cache.zip from http://10.164.0.3:9000/runner/runner/eaccdfe9/project/769/default-1 \nSuccessfully extracted cache\n$ export GRADLE_USER_HOME=`pwd`/.gradle\n$ ./gradlew -v\n\nWelcome to Gradle 5.6.2!\n\nHere are the highlights of this release:\n - Incremental Groovy compilation\n - Groovy compile avoidance\n - Test fixtures for Java projects\n - Manage plugin versions via settings script\n\nFor more details see https://docs.gradle.org/5.6.2/release-notes.html\n\n\n------------------------------------------------------------\nGradle 5.6.2\n------------------------------------------------------------\n\nBuild time:   2019-09-05 16:13:54 UTC\nRevision:     55a5e53d855db8fc7b0e494412fc624051a8e781\n\nKotlin:       1.3.41\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.14 compiled on March 12 2019\nJVM:          1.8.0_222 (AdoptOpenJDK 25.222-b10)\nOS:           Linux 4.15.0-1044-gcp amd64\n\n$ java -version\nopenjdk version \"1.8.0_222\"\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_222-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.222-b10, mixed mode)\n$ ./gradlew check\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :compileKotlin\n&gt; Task :compileJava NO-SOURCE\n&gt; Task :processResources\n&gt; Task :classes\n\n&gt; Task :compileTestKotlin\n\n&gt; Task :compileTestJava NO-SOURCE\n&gt; Task :processTestResources NO-SOURCE\n&gt; Task :testClasses UP-TO-DATE\n&gt; Task :test \n</code></pre>\n\n<p>What's wrong with this? Is there any standard or template for building kotlin with gradle and gitlab-ci?</p>\n\n<p><strong>Edit</strong>\nI've found the pending test suite. It contains 3 test, any of them create new instance of controller that has the same <code>start()</code> method. The <code>start()</code> method launch a new thread. If just one test runs it works with successful gitlab-ci termination, if two or more test run it doesn't and it remains in pending state. In tests I use semaphores.\nTests still work locally.</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1570633779, "post_id": 58307150, "comment_id": 102976146, "body": "How should I create <code>createFormData</code>?"}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "reply_to_user": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1570633903, "post_id": 58307150, "comment_id": 102976217, "body": "to build the driver Part --&gt;  MultipartBody.Part.createFormData(&quot;driver&quot;, myDriver.toJson().toString())"}], "tags": [], "owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "is_accepted": true, "score": 1, "last_activity_date": 1570633599, "creation_date": 1570633599, "answer_id": 58307150, "question_id": 58307049, "link": "https://stackoverflow.com/questions/58307049/post-json-multipart-data-with-retofit-android/58307150#58307150", "title": "Post JSON Multipart-Data with retofit android", "body": "<p>your class driver could not be a Part.</p>\n\n<p>you should send a json representing the Driver and the service will be  </p>\n\n<pre><code>@Multipart\n@POST(\"students/driver/signup\")\nfun driverSignUp(\n    @Part licenseImg: MultipartBody.Part, @Part insuranceImg: MultipartBody.Part,\n    @Part vehicleImg: MultipartBody.Part, @Part driver: MultipartBody.Part\n): Call&lt;Void&gt;\n</code></pre>\n\n<p>then you'll have to update your service to accept json for driver instead of 4 string representing it</p>\n"}], "owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58307150, "answer_count": 1, "score": 0, "last_activity_date": 1570633599, "creation_date": 1570633219, "question_id": 58307049, "link": "https://stackoverflow.com/questions/58307049/post-json-multipart-data-with-retofit-android", "title": "Post JSON Multipart-Data with retofit android", "body": "<p>I'm trying to simulate this request as in this picture from my android device. It is working fine with my API if I try it with the postman.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7tyQl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tyQl.png\" alt=\"enter image description here\"></a></p>\n\n<p>This code I'm using which is not working</p>\n\n<pre><code>    @Multipart\n    @POST(\"students/driver/signup\")\n    fun driverSignUp(\n        @Part licenseImg: MultipartBody.Part, @Part insuranceImg: MultipartBody.Part,\n        @Part vehicleImg: MultipartBody.Part, @Part(\"driver\") driver: Driver\n    ): Call&lt;Void&gt;\n</code></pre>\n\n<p>I have <code>Driver</code> model class with <code>SerializedName</code> and <code>Expose</code> annotation.</p>\n\n<p>I'm getting this error when sending request from the android I'm using golang in my backend\n<code>schema: invalid path \"driver</code></p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-jetpack-navigation"], "answers": [{"tags": [], "owner": {"reputation": 911, "user_id": 11166067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/444535f9bbe8ba11c596d7bb3f06c2dd?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Leonov", "link": "https://stackoverflow.com/users/11166067/dmitrii-leonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1570636469, "creation_date": 1570636469, "answer_id": 58307972, "question_id": 58306850, "link": "https://stackoverflow.com/questions/58306850/transmit-data-with-jetpack/58307972#58307972", "title": "Transmit data with Jetpack", "body": "<p>As far as I know there are really only 2 options to pass data using Jetpack Navigation.</p>\n\n<p>1) Using Bundle. Here I find <code>budnleOf(x to y)</code> function really handy</p>\n\n<pre><code>    val targetGuid = adapter.getItem(itemIndex) as Target).guid)\n    val bundle = bundleOf(KEY_TARGET_GUID, targetGuid)\n    findNavController().navigate(R.id.target_edit, bundle)\n</code></pre>\n\n<p>2) By defining arguments of your destination inside your navigation graph. Which will generate code. Assuming you <code>R.id.target_edit</code> is a fragment:</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/target_edit\"\n    android:name=\"com.example.TargetEditFragment\"\n    tools:layout=\"@layout/fragment_target_edit\"&gt;\n    &lt;argument\n        android:name=\"targetGuid\"\n        android:defaultValue=\"@null\"\n        app:argType=\"com.example.Target\"\n        app:nullable=\"true\"/&gt;\n &lt;/fragment&gt;\n</code></pre>\n\n<p>Then in your <code>TargetEditFragment</code></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  val targetGuid =\n    arguments?.let { TargetEditFragmentArgs.fromBundle(it).targetGuid }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "is_accepted": true, "score": 2, "last_activity_date": 1570640361, "last_edit_date": 1570640361, "creation_date": 1570638664, "answer_id": 58308553, "question_id": 58306850, "link": "https://stackoverflow.com/questions/58306850/transmit-data-with-jetpack/58308553#58308553", "title": "Transmit data with Jetpack", "body": "<p>Using Navigation Architecture you can do it as :- \nLet you have declared fragments in your navigation.xml file as :- </p>\n\n<pre><code> &lt;fragment\n    android:id=\"@+id/fragment_a\"\n    android:name=\"com.example.FragmentA\"&gt;\n    &lt;action android:id=\"@+id/action_item_click\"\n        app:destination=\"@id/fragment_b\" /&gt;\n&lt;/fragment&gt;\n\n&lt;fragment\n    android:id=\"@+id/fragment_b\"\n    android:name=\"com.example.fragmentB\"&gt;\n    &lt;argument android:name=\"id\" app:argType=\"string\" android:defaultValue=\"sample data\" /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>Note :-  </p>\n\n<ol>\n<li><strong>A class is created for each destination where an action originates.</strong> The name of this class is the name of the originating\ndestination, appended with the word \"<strong>Directions</strong>\".</li>\n<li><strong>This class has a method for each action defined in the originating destination.</strong></li>\n</ol>\n\n<p>So for <strong>FragmentA</strong> class it will be generated as <strong>FragmentADirections</strong> eg. -</p>\n\n<pre><code>override fun onListItemClick(itemIndex: Int, itemCode: String) {\n    findNavController().navigate(FragmentADirections.actionItemClick(\"Pass YOUR_STRING\"))\n}\n</code></pre>\n\n<p>Note :-</p>\n\n<ol>\n<li><strong>A class is created for the receiving destination</strong>. The name of this class is the name of the destination, appended with the word \"<strong>Args</strong>\". </li>\n</ol>\n\n<p>And for <strong>FragmentB</strong> class it will be generated as you can get data as <strong>FragmentBArgs</strong> eg:- </p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    // do what you want with this id\n    arguments?.let {bundle-&gt;\n       val id = FragmentBArgs.fromBundle(bundle).id\n    }\n              // OR you can do also as\n    // val id = arguments?.getString(\"id\").orEmpty()\n}\n</code></pre>\n\n<p>For more details please take reference of <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/navigation/navigation-pass-data</a></p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58308553, "answer_count": 2, "score": 0, "last_activity_date": 1570640361, "creation_date": 1570632567, "question_id": 58306850, "link": "https://stackoverflow.com/questions/58306850/transmit-data-with-jetpack", "title": "Transmit data with Jetpack", "body": "<p>Looking for a more elegant way to transmit data with Jetpack</p>\n\n<p>Now I am passing the data as follows:</p>\n\n<pre><code>override fun onListItemClick(itemIndex: Int, itemCode: String) {\n        val bundle = Bundle()\n        bundle.putString(KEY_TARGET_GUID, (adapter.getItem(itemIndex) as Target).guid)\n        findNavController().navigate(R.id.target_edit, bundle)\n    }\n</code></pre>\n\n<p>And get it in another fragment smth like this:</p>\n\n<pre><code>private val targetGuid: String\n        get() = arguments?.getString(KEY_TARGET_GUID, \"\") ?: \"\"\n</code></pre>\n\n<p>I watched the guys at google do it in <a href=\"https://codelabs.developers.google.com/codelabs/android-navigation/#7\" rel=\"nofollow noreferrer\">codelab</a>, but in his example they created class <code>FlowStepFragmentArgs</code>, and it is voluminous</p>\n\n<pre><code>data class FlowStepFragmentArgs(val flowStepNumber: Int = 2) : NavArgs {\n    fun toBundle(): Bundle {\n        val result = Bundle()\n        result.putInt(\"flowStepNumber\", this.flowStepNumber)\n        return result\n    }\n\n    companion object {\n        @JvmStatic\n        fun fromBundle(bundle: Bundle): FlowStepFragmentArgs {\n            bundle.setClassLoader(FlowStepFragmentArgs::class.java.classLoader)\n            val __flowStepNumber : Int\n            if (bundle.containsKey(\"flowStepNumber\")) {\n                __flowStepNumber = bundle.getInt(\"flowStepNumber\")\n            } else {\n                __flowStepNumber = 2\n            }\n            return FlowStepFragmentArgs(__flowStepNumber)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Q</strong>: How can I transfer data beautifully in my case</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "button", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570636964, "post_id": 58307429, "comment_id": 102977861, "body": "Oh alright. Well how would you recommend I have the two fragments share the space equally, side by side? Should I have the widths = wrap_content and the rest match parent?"}, {"owner": {"reputation": 356, "user_id": 10619013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1cfe73e0c9ba245b899a77fbd08eafe?s=128&d=identicon&r=PG&f=1", "display_name": "BBurchfield", "link": "https://stackoverflow.com/users/10619013/bburchfield"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570677951, "post_id": 58307429, "comment_id": 102990521, "body": "This is actually pretty simple. There are a few ways to do it. Let&#39;s talk only single axis, here. We&#39;ll go with horizontal and we&#39;ll imagine that your fragments should both match the height of the parent. The way I do it is to set fragment 1 and 2 height to match_parent, set fragment1 and fragment2 width to 0dp (seems odd, but it&#39;s made to work this way), and then fragment1.layout_constraintLeft_toLeftOf=&quot;parent&quot; and fragment1.layout_constraintRight_toLeftOf=&quot;@id/fragment2&quot;. Then, fragment2.layout_constraintLeft_toRightOf=&quot;@id/fragment1&quot; and fragment2.layout_constraintRight_toLeftOf=&quot;parent&quot;"}, {"owner": {"reputation": 356, "user_id": 10619013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1cfe73e0c9ba245b899a77fbd08eafe?s=128&d=identicon&r=PG&f=1", "display_name": "BBurchfield", "link": "https://stackoverflow.com/users/10619013/bburchfield"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570732882, "post_id": 58307429, "comment_id": 103016514, "body": "If that&#39;s all, select a correct answer or what have you!"}], "tags": [], "owner": {"reputation": 356, "user_id": 10619013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1cfe73e0c9ba245b899a77fbd08eafe?s=128&d=identicon&r=PG&f=1", "display_name": "BBurchfield", "link": "https://stackoverflow.com/users/10619013/bburchfield"}, "is_accepted": false, "score": 0, "last_activity_date": 1570634646, "creation_date": 1570634646, "answer_id": 58307429, "question_id": 58306575, "link": "https://stackoverflow.com/questions/58306575/my-buttons-arent-being-placed-on-the-bottom-in-my-app-irregardless-of-my-layou/58307429#58307429", "title": "My buttons aren&#39;t being placed on the bottom in my App, irregardless of my layout or constraints", "body": "<p>So, you used wrap_content as your size for the fragment. That only makes the item as large as it needs to be to fit all the elements in (and, essentially, as small as possible otherwise). When you changed that to match_parent, the fragment stretched to fit the parent (which is, in this instance, the entire safe area). It will cause you issues when you add additional fragments only if you don't change this. You can set it up to share space equally with other fragments if necessary; or put all the fragments in a scroll view if you don't have enough room for all of them. Either way, you'll remove match_parent later.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570642239, "post_id": 58307652, "comment_id": 102980267, "body": "That&#39;s honestly pretty helpful, albeit, for when I want to switch to landscape mode and have two fragments displayed side by side, wouldn&#39;t the linear layout cause me issues there?"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570642847, "post_id": 58307652, "comment_id": 102980523, "body": "@CodingPoding Well that can cause problems. But won&#39;t it better to Create a Landscape Variiation xml if its just two fragments and put the above and the other layout in landscape variation side by side. You can apply weights to both Layout widths in Landscape variation.  ."}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570643584, "post_id": 58307652, "comment_id": 102980864, "body": "Oh yeah, that&#39;s my plan. To have a vertical xml and a landscape variation xml to handle that. I can&#39;t deny that Constraint Layout makes it more annoying to have to use constraints for everything to be laid out"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570643772, "post_id": 58307652, "comment_id": 102980942, "body": "In the landscape variation, put the fragments inside a grid layout with rows:1,cols:2. Then apply row weight and col weight 1 to the two fragments inside."}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570664990, "post_id": 58307652, "comment_id": 102988030, "body": "Oh alright, well that makes sense. Thank you. Erm...I have another question, if you don&#39;t mind me asking. For my functions, should I have them handled in the fragment.kt file or in the MainActivity.kt file? Only asking because I didn&#39;t add anything to my fragment.kt file and just kept everything in my MainActivity.kt file. I&#39;m trying to use ArrayAdapter and it&#39;s &#39;causing my app to crash and I can&#39;t help but feel that it may have to do with how I&#39;m using my fragment and activities"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570674598, "post_id": 58307652, "comment_id": 102989794, "body": "I think, its better to keep the functions where they belong.Like the click listener functions for the above buttons should be placed in the relevant fragment class.  I don&#39;t know why its crashing. Maybe you are not setting the adapter in the fragment&#39;s class and make sure your ArrayAdapter is initialized like this: ListView myList; myList=findViewById(R.id.listViewID); ArrayAdapter myAdapter= new  ArrayAdapter(YourFragmentClass.this,R.layout.support_simple_&zwnj;&#8203;spinner_dropdown_ite&zwnj;&#8203;m,YourDataArray); myList.setAdapter(myAdapter);"}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570719974, "post_id": 58307652, "comment_id": 103010411, "body": "Oh so you&#39;d recommend I move my functions to my fragment class? I just kept everything in my MainActivity class and didn&#39;t add anything to my fragment class"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570731262, "post_id": 58307652, "comment_id": 103015797, "body": "Yes that is the normal way of doing it, keeping the objects in the particular domain. I hope you know how to inflate fragments."}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570731386, "post_id": 58307652, "comment_id": 103015850, "body": "Ahh...so then I shouldn&#39;t have an issue with moving my functions from the activity kotlin file to the fragment kotlin then. I suppose I&#39;d need to just have the activity kotlin file call upon my fragment in that case. On how to inflate fragments, I honestly wouldn&#39;t know much"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570731661, "post_id": 58307652, "comment_id": 103015987, "body": "Yes. Like the click listeners can be easily placed inside the fragment class. And the ArrayAdapter also because they belong there, if not then why creating a separate fragment class. I use java but both kotlin and java use the same logic except syntax."}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570732124, "post_id": 58307652, "comment_id": 103016197, "body": "Well I have a friend who&#39;s just keeping his fragments as they are from when they were created and just putting all of his functions and what have you within his activity files and it seems to be getting the job done for him. I&#39;ll try what you&#39;re doing. Of course, I suppose I should ask if the inputted data, like the contact name, phone number, etc. will be saved, even if I use a fragment"}, {"owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "reply_to_user": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570732425, "post_id": 58307652, "comment_id": 103016319, "body": "Well it depends on how you handle the data using your logic. Like for the ArrayAdapter, you can decide from where to put the data in the list. Thanks!"}, {"owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "edited": false, "score": 0, "creation_date": 1570732694, "post_id": 58307652, "comment_id": 103016437, "body": "Oh I see. Well that&#39;s very helpful, thank you so much!"}], "tags": [], "owner": {"reputation": 303, "user_id": 5890567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SCaw.jpg?s=128&g=1", "display_name": "Adnan Temur", "link": "https://stackoverflow.com/users/5890567/adnan-temur"}, "is_accepted": true, "score": 1, "last_activity_date": 1570635426, "creation_date": 1570635426, "answer_id": 58307652, "question_id": 58306575, "link": "https://stackoverflow.com/questions/58306575/my-buttons-arent-being-placed-on-the-bottom-in-my-app-irregardless-of-my-layou/58307652#58307652", "title": "My buttons aren&#39;t being placed on the bottom in my App, irregardless of my layout or constraints", "body": "<p>Try this linear layout for the fragment. This fits itself on any screen as I have used weights. I usually do not like Consraint Layout as its gets complicated to use all the  constraints for a responsive layout.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\nandroid:gravity=\"center\"\nandroid:background=\"#202020\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;TextView\n    android:layout_marginTop=\"10dp\"\n    android:id=\"@+id/textView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"0dp\"\n    android:text=\"Contacts\"\n    android:layout_weight=\"0.7\"\n    android:textColor=\"#fff\"\n    android:textSize=\"30sp\"/&gt;\n    &lt;ListView\n        android:id=\"@+id/contact_list\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"5\"/&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    android:orientation=\"horizontal\"\n    android:gravity=\"center\"&gt;\n&lt;Button\n    android:id=\"@+id/delete_contacts\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Delete\"\n  /&gt;\n&lt;Button\n    android:id=\"@+id/add_contacts\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:text=\"Add\"\n/&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6182318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c847eae5e6ef3fc3dab4ad0a1366f12?s=128&d=identicon&r=PG&f=1", "display_name": "CodingPoding", "link": "https://stackoverflow.com/users/6182318/codingpoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58307652, "answer_count": 2, "score": 0, "last_activity_date": 1570635426, "creation_date": 1570631692, "last_edit_date": 1570634152, "question_id": 58306575, "link": "https://stackoverflow.com/questions/58306575/my-buttons-arent-being-placed-on-the-bottom-in-my-app-irregardless-of-my-layou", "title": "My buttons aren&#39;t being placed on the bottom in my App, irregardless of my layout or constraints", "body": "<p>I'm trying to have my two buttons, Add and Delete, show up on the bottom of the screen within this particular fragment. Now, I will later use this fragment alongside another to display them side by side, but that's a later problem and I hope that what I solve from here will not cause issues later down the road</p>\n\n<p>I'm using constraintLayout's layout_Constraint to try to place them at the bottom. I previously used FrameLayout, RelativeLayout, and LinearLayout to handle this, to no avail. Is there anything else any of you could recommend?</p>\n\n<p>activity_main.xml:</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;fragment\n    android:id=\"@+id/fragment\"\n    android:name=\"com.example.contactslist.main\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>fragment_main.xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".main\"&gt;\n\n&lt;!-- TODO: Update blank fragment layout --&gt;\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Contacts\"\n    android:textSize=\"30sp\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    &gt;\n&lt;/TextView&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    &gt;\n\n    &lt;ListView\n        android:id=\"@+id/contact_list\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        &gt;\n    &lt;/ListView&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;Button\n    android:id=\"@+id/delete_contacts\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:clickable=\"true\"\n    android:text=\"Delete\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    &gt;\n&lt;/Button&gt;\n\n&lt;Button\n    android:id=\"@+id/add_contacts\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:clickable=\"true\"\n    android:text=\"Add\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    &gt;\n&lt;/Button&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>In my Design Tab, it shows up correctly, with the buttons on the bottom. But not in my actual app, where it shows them on the top, albeit still oriented to the right or left, as they should be. Any and all help would be appreciated</p>\n\n<p>EDIT: I believe I may have fixed the problem with the use of match_parent in my fragment.xml file and sticking with ConstrainLayout. But, I wonder, will that 'cause me problems down the road, such as for when I need to place two fragments side by side or need to transfer information between fragments? I'm honestly not sure how to handle the later</p>\n"}, {"tags": ["kotlin", "code-coverage", "jacoco"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570639826, "post_id": 58306546, "comment_id": 102979152, "body": "I get <code>Type inference failed</code> when trying to make your sample code compile. Would be great if you could provide sample code that works out of the box! For example, <code>taskExecutor</code> and <code>controller</code> are unknowns."}, {"owner": {"reputation": 530, "user_id": 5143000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SxUqM.jpg?s=128&g=1", "display_name": "BKE", "link": "https://stackoverflow.com/users/5143000/bke"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570643040, "post_id": 58306546, "comment_id": 102980615, "body": "@Enselic added small edit to remove distracting errors. I&#39;m not going to expand it further to full fledged code as this should be enough to get the idea across."}, {"owner": {"reputation": 1312, "user_id": 1102322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LiRfT.png?s=128&g=1", "display_name": "PiotrK", "link": "https://stackoverflow.com/users/1102322/piotrk"}, "edited": false, "score": 1, "creation_date": 1582055831, "post_id": 58306546, "comment_id": 106642878, "body": "Looking at how JaCoCo progressively adapts to support Kotlin (see <a href=\"https://github.com/jacoco/jacoco/releases\" rel=\"nofollow noreferrer\">github.com/jacoco/jacoco/releases</a> and search for &quot;added by the Kotlin compiler&quot;), I think this is just another gap that is going to be fixed sooner or later. If you feel serious about topping your coverage, I suggest reporting an issue."}], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "is_accepted": true, "score": 1, "last_activity_date": 1582567801, "creation_date": 1582567801, "answer_id": 60381701, "question_id": 58306546, "link": "https://stackoverflow.com/questions/58306546/how-to-cover-unnecessary-null-check-generated-by-kotlin/60381701#60381701", "title": "How to cover unnecessary null check generated by Kotlin?", "body": "<p>If the return value of <code>someWrapper</code> is only meant to be used as an instance of <code>Supplier</code>, then you can remove the unnecessary null check by explicitly using <code>Supplier</code> as the return type.</p>\n\n<pre><code>fun &lt;U&gt; someWrapper(supplier: () -&gt; U): Supplier&lt;U&gt; {\n    return Supplier { supplier() }\n}\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 5143000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SxUqM.jpg?s=128&g=1", "display_name": "BKE", "link": "https://stackoverflow.com/users/5143000/bke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 2, "accepted_answer_id": 60381701, "answer_count": 1, "score": 9, "last_activity_date": 1582567801, "creation_date": 1570631589, "last_edit_date": 1570679140, "question_id": 58306546, "link": "https://stackoverflow.com/questions/58306546/how-to-cover-unnecessary-null-check-generated-by-kotlin", "title": "How to cover unnecessary null check generated by Kotlin?", "body": "<p>Consider the following minimal Kotlin example:</p>\n\n<pre><code>fun &lt;U&gt; someWrapper(supplier: () -&gt; U): () -&gt; (U) {\n    return { supplier() }\n}\n\nfun foo(taskExecutor: TaskExecutor): Int {\n    val future = CompletableFuture.supplyAsync(someWrapper {\n        42\n    }, taskExecutor::execute)\n    return future.join()\n}\n\n@Test\npublic void shouldFoo() {\n    assertThat(foo(), is(42));\n}\n</code></pre>\n\n<p>I have branch coverage rules in Jacoco, which fail for the code above, saying 1 of 2 branches is not covered on the line of the <code>someWrapper</code> call. Unfortunately, it is not an option for me to exclude all classes from which <code>someWrapper</code> is called.</p>\n\n<p>Looking at the decompiled Java code:</p>\n\n<pre><code>public final int foo(TaskExecutor taskExecutor) {\n    Object var10000 = WrappersKt.someWrapper((Function0)null.INSTANCE);\n    if (var10000 != null) {\n        Object var2 = var10000;\n        var10000 = new Foo$sam$java_util_function_Supplier$0((Function0)var2);\n    }\n\n    Supplier var3 = (Supplier)var10000;\n    Function1 var4 = (Function1)(new Function1(this.taskExecutor) {\n        // $FF: synthetic method\n        // $FF: bridge method\n        public Object invoke(Object var1) {\n        this.invoke((Runnable)var1);\n        return Unit.INSTANCE;\n        }\n\n        public final void invoke(Runnable p1) {\n        ((TaskExecutor)this.receiver).execute(p1);\n        }\n\n        public final KDeclarationContainer getOwner() {\n        return Reflection.getOrCreateKotlinClass(TaskExecutor.class);\n        }\n\n        public final String getName() {\n        return \"execute\";\n        }\n\n        public final String getSignature() {\n        return \"execute(Ljava/lang/Runnable;)V\";\n        }\n    });\n    CompletableFuture future = CompletableFuture.supplyAsync(var3, (Executor)(new Foo$sam$java_util_concurrent_Executor$0(var4)));\n    var10000 = future.join();\n    Intrinsics.checkExpressionValueIsNotNull(var10000, \"future.join()\");\n    return ((Number)var10000).intValue();\n}\n</code></pre>\n\n<p>I think, the problem is the <code>if (var10000 != null)</code> branch, which is even marked by the IDE to be unnecessary (always true).</p>\n\n<p>Is it somehow possible to adjust the code such that it is possible to cover all branches, eg. by making sure the compiler does not generate that extra null check? I can change the code of both <code>foo(..)</code> and <code>someWrapper(..)</code> as long as I am able to supply a decorated lambda.</p>\n\n<p>I use Kotlin 1.3.50 and Jacoco 0.8.4.</p>\n\n<p><strong>EDIT.</strong></p>\n\n<p>One obvious workaround is to extract <code>supplyAsync(someWrapper { ... })</code> to some utils class and exclude that class only, ie.:</p>\n\n<pre><code>fun &lt;U&gt; supplyAsync(supplier: () -&gt; U, executor: TaskExecutor): CompletableFuture&lt;U&gt; {\n    return CompletableFuture.supplyAsync(someWrapper { supplier() }, executor::execute)\n}\n</code></pre>\n\n<p>This would be good enough for me, though I am still curious why the branch is added by Kotlin, where no branch need to be.</p>\n"}, {"tags": ["kotlin", "enum-map"], "comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1570635605, "post_id": 58306415, "comment_id": 102977164, "body": "Your question 2 is misleading because you don&#39;t just want a &quot;regular map&quot; but you want a map with different parameters than the original (you want the key to be of type String instead of RegisteredKey)."}], "answers": [{"comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1570635530, "post_id": 58306812, "comment_id": 102977120, "body": "This is not quite the same; the OP wants a Map&lt;String, String&gt; but you gave them a Map&lt;RegisteredKey, String&gt;. In fairness, the OP misled you by saying they wanted a &quot;normal map&quot; when in fact they wanted a map with different parameters."}, {"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 4, "creation_date": 1570636283, "post_id": 58306812, "comment_id": 102977526, "body": "use <code>.mapKeys {it.key.name}</code> instead of <code>.toMutableMap()</code>"}], "tags": [], "owner": {"reputation": 61, "user_id": 11525062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5fd1d4c5c9c833b0595a2b284efcfe?s=128&d=identicon&r=PG&f=1", "display_name": "Roland S.", "link": "https://stackoverflow.com/users/11525062/roland-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1570632456, "creation_date": 1570632456, "answer_id": 58306812, "question_id": 58306415, "link": "https://stackoverflow.com/questions/58306415/kotlin-how-convert-a-enummap-into-regular-map/58306812#58306812", "title": "kotlin, how convert a EnumMap into regular Map", "body": "<p>Something like this should work for initialization:</p>\n\n<pre><code>EnumMap&lt;RegisteredKey, String&gt;(\n    mapOf(RegisteredKey.NONE to \"0\", RegisteredKey.ZOOM to \"1\")\n)\n</code></pre>\n\n<p>To get a normal map just call <code>.toMutableMap()</code>:</p>\n\n<pre><code>EnumMap&lt;RegisteredKey, String&gt;(\n    mapOf(RegisteredKey.NONE to \"0\", RegisteredKey.ZOOM to \"1\")\n).toMutableMap()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1570635254, "post_id": 58307151, "comment_id": 102976954, "body": "for 1st I mean something like instantiate a regular map it could be done with Map&lt;String, String&gt;() {&quot;a&quot; to &quot;1&quot;, &quot;b&quot; to &quot;2&quot;}"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 1, "creation_date": 1570644642, "post_id": 58307151, "comment_id": 102981380, "body": "Someone commented a better way to convert the map on the other answer. <code>fun doLog(enumParamMap: EnumMap&lt;RegisteredKey, String&gt;) =     api.log(enumParamMap.mapKeys{ it.key.name })</code>"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 2, "last_activity_date": 1570635915, "last_edit_date": 1570635915, "creation_date": 1570633600, "answer_id": 58307151, "question_id": 58306415, "link": "https://stackoverflow.com/questions/58306415/kotlin-how-convert-a-enummap-into-regular-map/58307151#58307151", "title": "kotlin, how convert a EnumMap into regular Map", "body": "<p>I'm not sure I'm interpreting your first question correctly, but if you mean you want to initialize an exhaustive EnumMap where every key has an entry, similar to the Array constructor that takes a lambda, you could write one like this:</p>\n\n<pre><code>inline fun &lt;reified K : Enum&lt;K&gt;, V&gt; exhaustiveEnumMap(init: (key: K) -&gt; V): EnumMap&lt;K, V&gt; {\n    val map = EnumMap&lt;K, V&gt;(K::class.java)\n    for (key in enumValues&lt;K&gt;())\n        map[key] = init(key)\n    return map;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val map = exhaustiveEnumMap&lt;RegisteredKey, String&gt; { key -&gt; key.ordinal.toString() }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val map = exhaustiveEnumMap&lt;RegisteredKey, String&gt; { key -&gt; \n    when (key){\n        RegisteredKey.NONE -&gt; \"0\"\n        RegisteredKey.ZOOM -&gt; \"1\"\n    }\n}\n</code></pre>\n\n<p><strong>Edit based on your comment:</strong> You could do that by wrapping a <code>mapOf</code> call with the EnumMap constructor like this, but it would be instantiating an intermediate throwaway LinkedHashMap:</p>\n\n<pre><code>val map = EnumMap(mapOf(RegisteredKey.NONE to \"0\", RegisteredKey.ZOOM to \"1\"))\n</code></pre>\n\n<p>Instead, you could write a helper function like this: </p>\n\n<pre><code>inline fun &lt;reified K: Enum&lt;K&gt;, V&gt; enumMapOf(vararg pairs: Pair&lt;K, V&gt;): EnumMap&lt;K, V&gt; =\n    pairs.toMap(EnumMap&lt;K, V&gt;(K::class.java))\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var enumParamMap = enumMapOf(RegisteredKey.NONE to \"0\", RegisteredKey.ZOOM to \"1\")\n</code></pre>\n\n<p><strong>-------</strong></p>\n\n<p>For your next question, I'm not sure if this is really any simpler, but you could do:</p>\n\n<pre><code>fun doLog(enumParamMap: EnumMap&lt;RegisteredKey, String&gt;) =\n    api.log(enumParamMap.map{ it.key.name to it.value }.toMap())\n</code></pre>\n\n<p>It's more concise, but you're allocating a list and some pairs that you wouldn't be with your way of doing it.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 58307151, "answer_count": 2, "score": 0, "last_activity_date": 1570635915, "creation_date": 1570631166, "question_id": 58306415, "link": "https://stackoverflow.com/questions/58306415/kotlin-how-convert-a-enummap-into-regular-map", "title": "kotlin, how convert a EnumMap into regular Map", "body": "<p>need to call a api which take <code>Map&lt;String, String&gt;</code></p>\n\n<pre><code>fun api.log(map: Map&lt;string, String&gt;\n</code></pre>\n\n<p>but the key has to be only from the registered ones, so defined a enum for the registered keys:</p>\n\n<pre><code>enum class RegisteredKey {\n    NONE, ZOOM\n}\n</code></pre>\n\n<p>and first build the EnumMap&lt;> to enforce key type:</p>\n\n<pre><code>var enumParamMap: EnumMap&lt;RegisteredKey, String&gt; = EnumMap&lt;RegisteredKey, String&gt;(RegisteredKey::class.java)\n    enumParamMap.put(RegisteredKeys.NONE, \"0\")\n    enumParamMap.put(RegisteredKeys.ZOOM, \"1\")\n\ndoLog(enumParamMap)\n</code></pre>\n\n<p><strong>question 1, is there constructor to build the enumMap directly with data?</strong></p>\n\n<p>and then need to transform the EnumMap into a Map&lt;> so that the api.log() will accept it</p>\n\n<pre><code>fun doLog(enumParamMap: EnumMap&lt;RegisteredKey, String&gt;) {\n\n    val map: MutableMap&lt;String, String&gt; = mutableMapOf()\n\n    for (enum in enumParamMap.entries) {\n        map.put(enum.key.name, enum.value)\n    }\n    api.log(map)\n}\n</code></pre>\n\n<p><strong>question 2:  is there simpler way to map the enumMap to regular map?</strong></p>\n"}, {"tags": ["java", "kotlin", "deserialization", "localdate"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570639577, "post_id": 58306239, "comment_id": 102979057, "body": "Are you using Jackson? Did you configure it&#39;s <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">Kotlin module</a>?"}, {"owner": {"reputation": 812, "user_id": 5047518, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fec4fba3e07c43590b6800638d604f52?s=128&d=identicon&r=PG&f=1", "display_name": "Slagathor", "link": "https://stackoverflow.com/users/5047518/slagathor"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570643162, "post_id": 58306239, "comment_id": 102980663, "body": "@madhead Yeah, in the last code-part I posted I registered the KotlinModule"}], "owner": {"reputation": 812, "user_id": 5047518, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fec4fba3e07c43590b6800638d604f52?s=128&d=identicon&r=PG&f=1", "display_name": "Slagathor", "link": "https://stackoverflow.com/users/5047518/slagathor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570630651, "creation_date": 1570630651, "question_id": 58306239, "link": "https://stackoverflow.com/questions/58306239/how-to-deserialize-json-to-a-kotlin-class-with-localdate-field-in-constructor", "title": "How to deserialize JSON to a Kotlin class with LocalDate field in constructor", "body": "<p>I have a Kotlin class that contains one field which is of type LocalDate. I want this class to be input parameter to a Rest endpoint (spring). When I send a reuqest  to the endpoint, in format \"2000-01-01\" it refuses to be deserilized to my Kotlin class. I get 500 server error instead. MethodArgumentConversionNotSupportedException</p>\n\n<p>Kotlin Class:</p>\n\n<pre><code>class DateInput(@field: DateTimeFormat(iso = DateTimeFormat.ISO.DATE) var date: LocalDate) {\n}\n</code></pre>\n\n<p>Endpoint</p>\n\n<pre><code>@GetMapping(path = [\"/input/{date}\"])\n    fun fetchInsurance(@PathVariable(\"date\") date: DateInput){}\n\n\n</code></pre>\n\n<p>Whats the proper way to deserialize/serialize Dates in Kotlin? </p>\n\n<p>(I also have this config class)</p>\n\n<pre><code>@Configuration\nclass AppConfig{\n    @Bean\n    fun getMapper(): ObjectMapper{\n        val objectMapper = ObjectMapper()\n        objectMapper.registerModule(JavaTimeModule())\n        objectMapper.registerModule(KotlinModule())\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n        return objectMapper\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "nullpointerexception"], "answers": [{"comments": [{"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 1, "creation_date": 1570632715, "post_id": 58306477, "comment_id": 102975575, "body": "I believe the question is asking why it was created if there is not difference."}, {"owner": {"reputation": 3768, "user_id": 848025, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OMtFu.jpg?s=128&g=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/848025/matej"}, "edited": false, "score": 0, "creation_date": 1570696774, "post_id": 58306477, "comment_id": 102997005, "body": "Thanks for the answer, I find it informative. Maybe I didn&#39;t formulate the question properly but I think Ilya&#39;s answer below is the one I was looking for."}], "tags": [], "owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "is_accepted": false, "score": 3, "last_activity_date": 1570631740, "last_edit_date": 1570631740, "creation_date": 1570631336, "answer_id": 58306477, "question_id": 58305697, "link": "https://stackoverflow.com/questions/58305697/whats-the-difference-between-kotlinnullpointerexception-and-javas-nullpointere/58306477#58306477", "title": "What&#39;s the difference between KotlinNullPointerException and Java&#39;s NullPointerException", "body": "<p>There is no real difference between a <code>KotlinNullPointerException</code> and <code>JavaNullPointerException</code>.</p>\n\n<p>Here is how:</p>\n\n<p><code>KotlinNullPointerException</code> is an <code>open</code> class that extends <code>NullPointerException</code> Now this <code>NullPointerException</code> is a <code>typealias</code> of <code>java.lang.NullPointerException</code>.</p>\n\n<pre><code>public open class KotlinNullPointerException : NullPointerException {\n  constructor()\n\n  constructor(message: String?) : super(message)\n}\n</code></pre>\n\n<p>This is a line extracted from <code>TypeAlias.Kt</code></p>\n\n<pre><code>@SinceKotlin(\"1.1\") public actual typealias NullPointerException = java.lang.NullPointerException\n</code></pre>\n\n<p>Now, if we see the declaration of <code>java.lang.NullPointerException</code>, we are taken to a <code>Java.lang</code> class that extends <code>RuntimeException</code>.</p>\n\n<pre><code>public\nclass NullPointerException extends RuntimeException {\n private static final long serialVersionUID = 5162710183389028792L;\n\n /**\n  * Constructs a {@code NullPointerException} with no detail message.\n  */\n public NullPointerException() {\n     super();\n }\n\n /**\n  * Constructs a {@code NullPointerException} with the specified\n  * detail message.\n  *\n  * @param   s   the detail message.\n  */\n public NullPointerException(String s) {\n     super(s);\n }\n}\n</code></pre>\n\n<p>In Kotlin, to make some declaration of nullable type, you have to explicitly allow it by appending <code>?</code> at the end of declaration type. Example:</p>\n\n<pre><code>var nullableString: String? = null\n</code></pre>\n\n<p>This is a simple way of saying that this variable could be null anytime, so if you try to access this variable from any part of your code, it will throw error and will force you to take measures to prevent <code>NPE</code> either using <code>!!</code>(crash if null) or <code>?</code>(skip if null).\nIt's just a way to make it look more like 'Kotlin'.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 2, "last_activity_date": 1570674576, "creation_date": 1570674576, "answer_id": 58314625, "question_id": 58305697, "link": "https://stackoverflow.com/questions/58305697/whats-the-difference-between-kotlinnullpointerexception-and-javas-nullpointere/58314625#58314625", "title": "What&#39;s the difference between KotlinNullPointerException and Java&#39;s NullPointerException", "body": "<p>As of version 1.3, Kotlin throws <code>KotlinNullPointerException</code> only in case of a failed <code>!!</code> operator check. This distinguishes it from the other cases where <code>NullPointerException</code> can be thrown, for example, when accessing non-initialized members during class construction.</p>\n\n<p>Note, however, that there are plans to remove this distinction in Kotlin 1.4: all such failed checks will throw just <code>NullPointerException</code>, so its inheritor <code>KotlinNullPointerException</code> will become unused. You can read more about that in the announce blog post of 1.3.50 version release: <a href=\"https://blog.jetbrains.com/kotlin/2019/08/kotlin-1-3-50-released/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2019/08/kotlin-1-3-50-released/</a> </p>\n"}], "owner": {"reputation": 3768, "user_id": 848025, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OMtFu.jpg?s=128&g=1", "display_name": "Matej", "link": "https://stackoverflow.com/users/848025/matej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 58314625, "answer_count": 2, "score": 5, "last_activity_date": 1570674761, "creation_date": 1570628928, "last_edit_date": 1570674761, "question_id": 58305697, "link": "https://stackoverflow.com/questions/58305697/whats-the-difference-between-kotlinnullpointerexception-and-javas-nullpointere", "title": "What&#39;s the difference between KotlinNullPointerException and Java&#39;s NullPointerException", "body": "<p>As Kotlin doesn't allow for implicit null values/variables, was <code>KotlinNullPointerException</code> introduced to explicitly denote <code>NPE</code> caused by <code>!!</code>? Is that the only purpose of this child class of <code>NullPointerException</code>?</p>\n"}, {"tags": ["android", "object", "kotlin"], "comments": [{"owner": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1570626969, "post_id": 58304942, "comment_id": 102972158, "body": "Your issue is not understandable.  Make it more clear"}, {"owner": {"reputation": 35, "user_id": 12149293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EK4lkFC3UYA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reR1YhRQwBM3nEVGfRWx7XAoCtLaA/photo.jpg?sz=128", "display_name": "Softon", "link": "https://stackoverflow.com/users/12149293/softon"}, "reply_to_user": {"reputation": 46792, "user_id": 1114338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DK6GG.jpg?s=128&g=1", "display_name": "M D", "link": "https://stackoverflow.com/users/1114338/m-d"}, "edited": false, "score": 0, "creation_date": 1570627893, "post_id": 58304942, "comment_id": 102972760, "body": "I edit, I hope it&#39;s more understandable"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12149293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EK4lkFC3UYA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reR1YhRQwBM3nEVGfRWx7XAoCtLaA/photo.jpg?sz=128", "display_name": "Softon", "link": "https://stackoverflow.com/users/12149293/softon"}, "edited": false, "score": 0, "creation_date": 1570631893, "post_id": 58305657, "comment_id": 102975079, "body": "Thank you very much, but i got this problem,  <code>SurfaceViewRenderer</code> need context in param, so I had <code>class SurfaceViewRendererWithFrameListener : SurfaceViewRenderer(context) {</code>  And I think that, is the reason of an new issu when the activity is create at this line <code>setContentView(R.layout.activity_video_cast</code>) :  <code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.production&#47;com.mobizel.activities.VideoCas&zwnj;&#8203;t_Activity.VideoCast&zwnj;&#8203;Activity}: android.view.InflateException: Binary XML file line #21: Binary XML file line #21: Error inflating class</code>"}, {"owner": {"reputation": 35, "user_id": 12149293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EK4lkFC3UYA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reR1YhRQwBM3nEVGfRWx7XAoCtLaA/photo.jpg?sz=128", "display_name": "Softon", "link": "https://stackoverflow.com/users/12149293/softon"}, "edited": false, "score": 0, "creation_date": 1570636739, "post_id": 58305657, "comment_id": 102977750, "body": "Thank you !  all it&#39;s  fix now"}, {"owner": {"reputation": 1334, "user_id": 1333516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/809463dcecf3c6f9962e34aa584730b2?s=128&d=identicon&r=PG", "display_name": "Marco Batista", "link": "https://stackoverflow.com/users/1333516/marco-batista"}, "reply_to_user": {"reputation": 35, "user_id": 12149293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EK4lkFC3UYA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reR1YhRQwBM3nEVGfRWx7XAoCtLaA/photo.jpg?sz=128", "display_name": "Softon", "link": "https://stackoverflow.com/users/12149293/softon"}, "edited": false, "score": 0, "creation_date": 1570700177, "post_id": 58305657, "comment_id": 102998861, "body": "@Softon sorry, I just noticed your comment. Yes, I forgot about the constructor initialisation, but I&#39;m glad you were able to solve your issue."}], "tags": [], "owner": {"reputation": 1334, "user_id": 1333516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/809463dcecf3c6f9962e34aa584730b2?s=128&d=identicon&r=PG", "display_name": "Marco Batista", "link": "https://stackoverflow.com/users/1333516/marco-batista"}, "is_accepted": true, "score": 5, "last_activity_date": 1570628812, "creation_date": 1570628812, "answer_id": 58305657, "question_id": 58304942, "link": "https://stackoverflow.com/questions/58304942/i-have-some-trouble-with-object-in-kotlin/58305657#58305657", "title": "I have some trouble with object in kotlin", "body": "<p>You are creating and instantiating an anonymous class of <code>SurfaceViewRenderer</code> and then you are getting the one on your interface, which is a different object.</p>\n\n<p>To make this work, you would have to create a new class that extends <code>SurfaceViewRenderer</code> and then use it on your layout.</p>\n\n<p>Something like this:</p>\n\n<pre><code>package your.package.name\nclass SurfaceViewRendererWithFrameListener:SurfaceViewRenderer\n{\n    override fun onFrame(frame: VideoFrame?)\n    {\n        Log.d(\"vVideo\", \"onFrame\")\n        super.onFrame(frame)\n    }\n}\n</code></pre>\n\n<p>Then use it on your layout:</p>\n\n<pre><code>&lt;your.package.name.SurfaceViewRendererWithFrameListener\n.../&gt;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 12149293, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EK4lkFC3UYA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reR1YhRQwBM3nEVGfRWx7XAoCtLaA/photo.jpg?sz=128", "display_name": "Softon", "link": "https://stackoverflow.com/users/12149293/softon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 58305657, "answer_count": 1, "score": 0, "last_activity_date": 1570628812, "creation_date": 1570626634, "last_edit_date": 1570628312, "question_id": 58304942, "link": "https://stackoverflow.com/questions/58304942/i-have-some-trouble-with-object-in-kotlin", "title": "I have some trouble with object in kotlin", "body": "<p>I need to create a variable <code>vVideo</code>. This variable is a class type of <code>SurfaceViewRenderer</code>. This class \nextends <code>View</code> and implements another class who get a function <code>onFrame</code>. I need to override this <code>onFrame</code>. </p>\n\n<p>Here is what I tried: </p>\n\n<pre><code>private var vVideo: SurfaceViewRenderer? = null\n\n    fun startConfigurationAudioVideo() {\n\n        vVideo = object : SurfaceViewRenderer(this) {\n            override fun onFrame(frame: VideoFrame?) {\n                Log.d(\"vVideo\", \"onFrame\")\n                super.onFrame(frame)\n            }\n        }\n\n        vVideo = findViewById&lt;SurfaceViewRenderer&gt;(R.id.activity_display_videocast)\n\n...\n</code></pre>\n\n<p>But,\nIf I do this:</p>\n\n<pre><code>vVideo = object : SurfaceViewRenderer(this) {\n            override fun onFrame(frame: VideoFrame?) {\n                Log.d(\"vVideo\", \"onFrame\")\n                super.onFrame(frame)\n            }\n        }\n</code></pre>\n\n<p>before this \n<code>vVideo = findViewById&lt;SurfaceViewRenderer&gt;(R.id.activity_display_videocast)</code>\nI don't have a surfaceRender.\nAnd if I do inverse I don't get the Listener.</p>\n\n<p>The problem is that I don't arrive to declare vVideo with her method onFrame and its surface (its View).\nThe issue is that I can't have both in the same time.</p>\n\n<p>Thanks for help!</p>\n"}, {"tags": ["android", "sorting", "kotlin", "arraylist"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1570626566, "post_id": 58304876, "comment_id": 102971898, "body": "please post your second class as well"}], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 4, "last_activity_date": 1570627758, "last_edit_date": 1570627758, "creation_date": 1570626896, "answer_id": 58305030, "question_id": 58304876, "link": "https://stackoverflow.com/questions/58304876/sort-an-arraylistany-that-contains-two-type-of-data-classes/58305030#58305030", "title": "Sort an ArrayList&lt;Any&gt; that contains two type of data classes", "body": "<p>Preferably you want the two classes to share some super type. For example an interface. You could then have the common properties defined in the interface. Something like this:</p>\n\n<pre><code>interface Message {\n    val date: Date\n}\n\ndata class TextMessage (\n    val content: String,\n    override val date: Date,\n    val type: Int\n) : Message\n\n\ndata class OtherMessage (\n    override val date: Date\n) : Message\n</code></pre>\n\n<p>You could then sort a list of <code>Message</code> by doing this:</p>\n\n<pre><code>val sortedList = listOfMessages.sortedBy { it.date }\n</code></pre>\n\n<p>If you can't change your classes like this, you would have to rely on a check that might throw exceptions. Something like this:</p>\n\n<pre><code>val sortedList = listOfAny.sortedBy {\n    when(it) {\n        is TextMessage -&gt; it.date\n        is OtherMessage -&gt; it.date\n        else -&gt; throw IllegalArgumentException(\"Unknown type for sorting!\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 9402113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea2b06133bca485352c594be717f0a78?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Durante", "link": "https://stackoverflow.com/users/9402113/jo%c3%a3o-durante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58305030, "answer_count": 1, "score": 1, "last_activity_date": 1570627758, "creation_date": 1570626401, "question_id": 58304876, "link": "https://stackoverflow.com/questions/58304876/sort-an-arraylistany-that-contains-two-type-of-data-classes", "title": "Sort an ArrayList&lt;Any&gt; that contains two type of data classes", "body": "<p>so my problem is that I have an ArrayList that contains two types of data. The first one is the following class:</p>\n\n<pre><code>data class TextMessage (\n    val content: String,\n    val date: Date,\n    val type: Int\n)\n</code></pre>\n\n<p>The second class changes only the content type. So I'm creating a list that contains this two types of data and I want to sort it using the date value, that both of the types contains it, but I'm not finding any solution on internet that helps me, actually I don't know if it's possible to do that because I started to learn Kotlin a few days ago.</p>\n\n<p>I hope someone can help me.\nThanks, see ya.</p>\n"}, {"tags": ["android", "kotlin", "android-camera2", "textureview"], "answers": [{"tags": [], "owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "is_accepted": true, "score": 0, "last_activity_date": 1571901698, "creation_date": 1571901698, "answer_id": 58536149, "question_id": 58304318, "link": "https://stackoverflow.com/questions/58304318/rotating-camera-stream-with-textureview-crops-the-image/58536149#58536149", "title": "Rotating camera stream with TextureView crops the image", "body": "<p>This transformation fixed my problem:</p>\n\n<pre><code>    private fun transformTexture() {\n    val adjustment = Matrix()\n    val centerX = textureView.width / 2f\n    val centerY = textureView.height / 2f\n\n    val scalex = textureView.width.toFloat() / textureView.height.toFloat()\n    val scaley = textureView.height.toFloat() / textureView.width.toFloat()\n\n    adjustment.postRotate(90F, centerX, centerY)\n    adjustment.postScale(scalex, scaley, centerX, centerY)\n\n    textureView.setTransform(adjustment)\n}\n</code></pre>\n"}], "owner": {"reputation": 1558, "user_id": 957375, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3XXLZ.jpg?s=128&g=1", "display_name": "Booyaches", "link": "https://stackoverflow.com/users/957375/booyaches"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 58536149, "answer_count": 1, "score": 0, "last_activity_date": 1571901698, "creation_date": 1570624719, "question_id": 58304318, "link": "https://stackoverflow.com/questions/58304318/rotating-camera-stream-with-textureview-crops-the-image", "title": "Rotating camera stream with TextureView crops the image", "body": "<p>The camera in the device that I am using returns rotated image (landscape 16:9). In order to acquire stream I use <a href=\"https://developer.android.com/reference/android/hardware/camera2/package-summary\" rel=\"nofollow noreferrer\">Camera2</a> API and for projection I use <a href=\"https://developer.android.com/reference/android/view/TextureView\" rel=\"nofollow noreferrer\">TextureView</a>. <code>TextureView</code> is fixed size. When I try to rotate it using <code>Matrix</code>it results in cropped image. </p>\n\n<p>Here is what I have before the rotation: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZD0Di.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZD0Di.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Then I rotate it and adjust <code>TextureView</code> size like that:</p>\n\n<pre><code>private fun updateTransform() {\n    val matrix = Matrix()\n    val centerX = textureView.width / 2f\n    val centerY = textureView.height / 2f\n    matrix.postRotate(90.toFloat(), centerX, centerY)\n    textureView.setTransform(matrix)\n    textureView.layoutParams = FrameLayout.LayoutParams(textureView.width, textureView.height)\n}\n</code></pre>\n\n<p>That results in the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AR1UH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AR1UH.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'd like the image to be stretched to fill <code>TextureView</code>. Important to note is that I don't need to consider device rotation because it's always portrait. I am also programming for one device only so I don't need to consider different camera types etc.</p>\n\n<p>How can I rotate the image without cropping it?</p>\n"}, {"tags": ["android", "kotlin", "admob", "native-ads", "groupie"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 7137521, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c2d87b9a3e2c5cba4695b5cfc852df?s=128&d=identicon&r=PG&f=1", "display_name": "just_koala", "link": "https://stackoverflow.com/users/7137521/just-koala"}, "is_accepted": false, "score": 0, "last_activity_date": 1596184836, "last_edit_date": 1596184836, "creation_date": 1596182822, "answer_id": 63188077, "question_id": 58304296, "link": "https://stackoverflow.com/questions/58304296/how-to-integrate-admob-native-ads-in-android-groupie-recyclerview/63188077#63188077", "title": "How to integrate Admob Native Ads in Android Groupie recyclerview", "body": "<p>Just create another Groupie Item with Native Ads implementation and add it to your adapter. First of all, try to create Ads from <a href=\"https://developers.google.com/admob/android/native/templates\" rel=\"nofollow noreferrer\">Native Template</a>. Afterwards, you can create your own Native Ads Template if you need it.</p>\n"}], "owner": {"reputation": 432, "user_id": 744213, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e0d1e2903baadcfb07efc10531208825?s=128&d=identicon&r=PG", "display_name": "ALi", "link": "https://stackoverflow.com/users/744213/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1605107230, "creation_date": 1570624648, "last_edit_date": 1605107230, "question_id": 58304296, "link": "https://stackoverflow.com/questions/58304296/how-to-integrate-admob-native-ads-in-android-groupie-recyclerview", "title": "How to integrate Admob Native Ads in Android Groupie recyclerview", "body": "<p>I am looking for any example to add Native Ads in Groupie.</p>\n<p>My code for adding items in recyclerview is:</p>\n<pre><code>recycler_view_user.apply { layoutManager = LinearLayoutManager(this@UserFragment.context) adapter = GroupAdapter&lt;ViewHolder&gt;().apply { userSection = Section(items) add(userSection) setOnItemClickListener(onItemClick) } }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 4, "creation_date": 1570625010, "post_id": 58304271, "comment_id": 102970977, "body": "AndroidX was announced in 2018. It is a repackaging of the former Android Support Library and Architecture Components. The <code>android.arch.lifecycle</code> artifact is no longer being maintained -- <code>androidx.lifecycle</code> is what developers should be using. &quot;I need the arch version&quot; -- why? &quot;I use both in the gradle file&quot; -- that is not a good idea. My guess is that the Jetifier is attempting to make sense of what you have requested and is trying to standardize you on using <code>androidx</code> artifacts."}, {"owner": {"reputation": 5765, "user_id": 4716694, "user_type": "registered", "accept_rate": 35, "profile_image": "https://lh6.googleusercontent.com/-k2io4vLdTBo/AAAAAAAAAAI/AAAAAAAAACI/3qwLFFha6OE/photo.jpg?sz=128", "display_name": "johnrao07", "link": "https://stackoverflow.com/users/4716694/johnrao07"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1570625256, "post_id": 58304271, "comment_id": 102971130, "body": "Man it&#39;s you still in the android world, I started learning from your resources :) This answers my question, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1539, "user_id": 5213857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TaH5v.jpg?s=128&g=1", "display_name": "Swayangjit", "link": "https://stackoverflow.com/users/5213857/swayangjit"}, "is_accepted": true, "score": 5, "last_activity_date": 1570624994, "creation_date": 1570624994, "answer_id": 58304393, "question_id": 58304271, "link": "https://stackoverflow.com/questions/58304271/androidx-lifecycle-or-android-arch-lifecycle/58304393#58304393", "title": "androidx.lifecycle or android.arch.lifecycle", "body": "<p>\"android.arch\" was a way to add architecture components to projects before androidx. All-new support library development will occur in the androidx library. So the androidx package would contain new improvements and packaging structure.</p>\n\n<p>Better to use the androidx components instead of \"android.arch\" components.</p>\n"}], "owner": {"reputation": 5765, "user_id": 4716694, "user_type": "registered", "accept_rate": 35, "profile_image": "https://lh6.googleusercontent.com/-k2io4vLdTBo/AAAAAAAAAAI/AAAAAAAAACI/3qwLFFha6OE/photo.jpg?sz=128", "display_name": "johnrao07", "link": "https://stackoverflow.com/users/4716694/johnrao07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 58304393, "answer_count": 1, "score": 3, "last_activity_date": 1570624994, "creation_date": 1570624582, "question_id": 58304271, "link": "https://stackoverflow.com/questions/58304271/androidx-lifecycle-or-android-arch-lifecycle", "title": "androidx.lifecycle or android.arch.lifecycle", "body": "<p>What is the difference between </p>\n\n<pre><code>android.arch.lifecycle vs androidx.lifecycle\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>val loading: LiveData&lt;Boolean&gt;\n    get() = webDataSource.loading\n</code></pre>\n\n<p>When I try to auto-import, I need the arch version but it is importing the x version</p>\n\n<p>I use both in the gradle file</p>\n"}, {"tags": ["unit-testing", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 918, "user_id": 2207107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fc83a88f6f39988632437eb7576d45?s=128&d=identicon&r=PG", "display_name": "takharsh", "link": "https://stackoverflow.com/users/2207107/takharsh"}, "edited": false, "score": 2, "creation_date": 1570709358, "post_id": 58304528, "comment_id": 103003844, "body": "It needs mocking of main Thread using Dispatchers.setMain(mainThreadSurrogate). Also need to add kotlinx-coroutines-test as dependency"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 7, "last_activity_date": 1570625401, "creation_date": 1570625401, "answer_id": 58304528, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile/58304528#58304528", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>You don't have access to Dispatchers.Main in unit testing</p>\n\n<p>See <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/\" rel=\"noreferrer\">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/</a></p>\n\n<p><code>Dispatchers.Main Delegation</code> part explains in detail what you need to do.</p>\n"}, {"tags": [], "owner": {"reputation": 708, "user_id": 2719243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQYVa.jpg?s=128&g=1", "display_name": "Vahab Ghadiri", "link": "https://stackoverflow.com/users/2719243/vahab-ghadiri"}, "is_accepted": false, "score": 5, "last_activity_date": 1588431882, "creation_date": 1588431882, "answer_id": 61561497, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile/61561497#61561497", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>now you can add this to your test :</p>\n\n<pre><code>Dispatchers.setMain(Dispatchers.Unconfined)\n</code></pre>\n\n<p>or other dispatcher.. it's <strong>experimental</strong> but it <strong>works</strong>!</p>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 6398014, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209099781709597/picture?type=large", "display_name": "Codigo Morsa", "link": "https://stackoverflow.com/users/6398014/codigo-morsa"}, "edited": false, "score": 1, "creation_date": 1610390909, "post_id": 61667162, "comment_id": 116112859, "body": "Very detailed answer, thanks,"}, {"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 1, "creation_date": 1616950992, "post_id": 61667162, "comment_id": 118157177, "body": "Nice answer, given the context of unit testing, do you think solution 3 is a simple and good enough approach when compared to solution 2?"}], "tags": [], "owner": {"reputation": 2192, "user_id": 5942579, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/o6P12.jpg?s=128&g=1", "display_name": "Emmanuel Mtali", "link": "https://stackoverflow.com/users/5942579/emmanuel-mtali"}, "is_accepted": false, "score": 12, "last_activity_date": 1588884320, "last_edit_date": 1588884320, "creation_date": 1588883327, "answer_id": 61667162, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile/61667162#61667162", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>When running tests e.g for ViewModel that launch coroutines you are most likely to fall into the following exception</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Module with the Main dispatcher had\n  failed to initialize. For tests, Dispatchers.setMain from\n  kotlinx-coroutines-test module can be used</p>\n</blockquote>\n\n<p>The reason behind this is the lack of <code>Looper.getMainLooper()</code> on the testing environment which is present on a real application. To fix this you need to swap the Main dispatcher with <code>TestCoroutineDispatcher</code></p>\n\n<p>Make sure you have a coroutine-test dependency on your Gradle file</p>\n\n<blockquote>\n  <p>\"org.jetbrains.kotlinx:kotlinx-coroutines-test:$coroutine_version\"</p>\n</blockquote>\n\n<p><strong>SOLUTION 1</strong> - Not scalable</p>\n\n<p>Define the following on your test class -> Annotate your class with <code>@ExperimentalCoroutinesApi</code></p>\n\n<pre><code>val dispatcher = TestCoroutineDispatcher()\n\n@Before\nfun setup() {\n    Dispatchers.setMain(dispatcher)\n}\n\n@After\nfun tearDown() {\n    Dispatchers.resetMain()\n}\n</code></pre>\n\n<p>Note: You can also pass <code>Dispatchers.Main</code> as constructor dependency for your repositories as <code>CoroutineDispatcher</code> in case you have one. It is recommended not to hardcode your dispatchers on repositories/viewmodels etc <a href=\"https://www.youtube.com/watch?v=KMb0Fs8rCRs&amp;feature=youtu.be&amp;t=808\" rel=\"noreferrer\">WATCH-THIS</a> PLEASEEEEEEEE</p>\n\n<p>Why not scalable: You will need to copy and paste the same code on each test class </p>\n\n<p><strong>SOLUTION 2</strong> - Scalable [Use This - <em>It is used by Google</em>]</p>\n\n<p>In this solution, you create the custom rule. Add a utility class on your test package </p>\n\n<pre><code>@ExperimentalCoroutinesApi\nclass MainCoroutineRule(\n    private val dispatcher: TestCoroutineDispatcher = TestCoroutineDispatcher()\n) : TestWatcher(), TestCoroutineScope by TestCoroutineScope(dispatcher) {\n    override fun starting(description: Description?) {\n        super.starting(description)\n        Dispatchers.setMain(dispatcher)\n    }\n\n    override fun finished(description: Description?) {\n        super.finished(description)\n        cleanupTestCoroutines()\n        Dispatchers.resetMain()\n    }\n}\n</code></pre>\n\n<p>If you want explanations on the utility class above, refer to this <a href=\"https://codelabs.developers.google.com/codelabs/advanced-android-kotlin-training-testing-survey/#3\" rel=\"noreferrer\">CODE-LAB</a></p>\n\n<p>On your test class just add this the following lines and you will be good to go</p>\n\n<pre><code>@get:Rule\nval coroutineRule = MainCoroutineRule()\n</code></pre>\n\n<p>I think you can see why this is scalable if you have a lot of test classes</p>\n\n<p><strong>SOLUTION 3</strong> [I hope you don't reach here]</p>\n\n<p>You can also use <code>Dispatchers.Unconfined</code> <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-unconfined.html\" rel=\"noreferrer\">LINK</a></p>\n\n<pre><code>A coroutine dispatcher that is not confined to any specific thread. It executes the initial continuation of a coroutine in the current call-frame and lets the coroutine resume in whatever thread that is used by the corresponding suspending function, without mandating any specific threading policy. Nested coroutines launched in this dispatcher form an event-loop to avoid stack overflows\n</code></pre>\n\n<p>You can add it as follows</p>\n\n<pre><code>@Before\nfun setup() {\n    Dispatchers.setMain(Dispatchers.Unconfined)\n}\n\n@After\nfun tearDown() {\n    Dispatchers.resetMain()\n}\n</code></pre>\n\n<p>Happy coding . . . . </p>\n"}, {"tags": [], "owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "is_accepted": false, "score": 4, "last_activity_date": 1595864412, "creation_date": 1595864412, "answer_id": 63118707, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile/63118707#63118707", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>In my case I had set the main coroutines dispatcher for unit testing and still saw some errors of that from time to time.</p>\n<p>I've added to the build.gradle as in <a href=\"http://tools.android.com/tech-docs/unit-testing-support#TOC-Method-...-not-mocked.-\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>android {\n  // ...\n  testOptions { \n    unitTests.returnDefaultValues = true\n  }\n}\n</code></pre>\n<p>and I don't see that error anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 765, "user_id": 2074238, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bg0y5.jpg?s=128&g=1", "display_name": "Tzegenos", "link": "https://stackoverflow.com/users/2074238/tzegenos"}, "edited": false, "score": 0, "creation_date": 1614330021, "post_id": 65112966, "comment_id": 117357878, "body": "The best answer. The only one that worked for me! Thanks!"}], "tags": [], "owner": {"reputation": 333, "user_id": 13834895, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg8Q010y8-yP5_yXDrjFWG22q5Ty94-8ed2s8CU=k-s128", "display_name": "Andrew Chelix", "link": "https://stackoverflow.com/users/13834895/andrew-chelix"}, "is_accepted": false, "score": 1, "last_activity_date": 1606929385, "creation_date": 1606929385, "answer_id": 65112966, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile/65112966#65112966", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>This is thrown because Dispatcher.Main is missing. It is Android based and therefore cannot be used for unit tests. The solution lies in the documentation by the Coroutines team. Below is an example that solved my problem and is included in the documentation.</p>\n<pre><code>class SomeTest {\n    \n    private val mainThreadSurrogate = newSingleThreadContext(&quot;UI thread&quot;)\n\n    @Before\n    fun setUp() {\n        Dispatchers.setMain(mainThreadSurrogate)\n    }\n\n    @After\n    fun tearDown() {\n        Dispatchers.resetMain() // reset main dispatcher to the original Main dispatcher\n        mainThreadSurrogate.close()\n    }\n    \n    @Test\n    fun testSomeUI() = runBlocking {\n        launch(Dispatchers.Main) {  // Will be launched in the mainThreadSurrogate dispatcher\n            // ...\n        }\n    }\n}\n</code></pre>\n<p>What you should note is <code>newSingleThreadContext(&quot;UI Thread&quot;)</code> and <code>Dispatchers.setMain(mainThreadSurrogate)</code> which is called before any tests in order to create a Main Dispatcher.</p>\n"}], "owner": {"reputation": 918, "user_id": 2207107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fc83a88f6f39988632437eb7576d45?s=128&d=identicon&r=PG", "display_name": "takharsh", "link": "https://stackoverflow.com/users/2207107/takharsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6818, "favorite_count": 1, "accepted_answer_id": 58304528, "answer_count": 5, "score": 7, "last_activity_date": 1606929385, "creation_date": 1570623422, "question_id": 58303961, "link": "https://stackoverflow.com/questions/58303961/kotlin-coroutine-unit-test-fails-with-module-with-the-main-dispatcher-had-faile", "title": "Kotlin coroutine unit test fails with &quot;Module with the Main dispatcher had failed to initialize&quot;", "body": "<p>While running unit test for kotlin suspend method which uses <code>withContext(Dispatchers.Main)</code> the test method fails with below exception:</p>\n\n<p>My coroutine lib versions are <strong>kotlinx-coroutines-core:1.1.1</strong> and <strong>kotlinx-coroutines-android:1.1.1</strong></p>\n\n<p>Example:</p>\n\n<pre><code>suspend fun methodToTest() {\n        withContext(Dispatchers.Main) {\n           doSomethingOnMainThread()\n                val data = withContext(Dispatchers.IO) {\n                    doSomethingOnIOThread()\n                }\n        }\n    }\n</code></pre>\n\n<p>Also, when I remove the <code>withContext(Dispatchers.Main)</code> it works fine.</p>\n\n<pre><code>java.lang.IllegalStateException: Module with the Main dispatcher had failed to initialize. For tests Dispatchers.setMain from kotlinx-coroutines-test module can be used\n\nat kotlinx.coroutines.internal.MissingMainCoroutineDispatcher.missing(MainDispatchers.kt:79)\nat kotlinx.coroutines.internal.MissingMainCoroutineDispatcher.isDispatchNeeded(MainDispatchers.kt:54)\nat kotlinx.coroutines.DispatchedKt.resumeCancellable(Dispatched.kt:373)\nat kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:25)\nat kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:152)\nat kotlinx.coroutines.BuildersKt.withContext(Unknown Source)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "keyboard-events"], "comments": [{"owner": {"reputation": 13, "user_id": 12180444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XmAMpn6Csig/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGEDXaS9I8kDDWEsbGXIhtT9R2WQ/photo.jpg?sz=128", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/12180444/alexandr"}, "reply_to_user": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 0, "creation_date": 1570622182, "post_id": 58303424, "comment_id": 102969424, "body": "yes. but onKeyUp doesn&#39;t handle it. It can handle even NumLock but not Enter."}, {"owner": {"reputation": 13, "user_id": 12180444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XmAMpn6Csig/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGEDXaS9I8kDDWEsbGXIhtT9R2WQ/photo.jpg?sz=128", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/12180444/alexandr"}, "reply_to_user": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 0, "creation_date": 1570623650, "post_id": 58303424, "comment_id": 102970237, "body": "added to post onKeyUp"}, {"owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 0, "creation_date": 1570623781, "post_id": 58303424, "comment_id": 102970304, "body": "what if you use <a href=\"https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_ENTER\" rel=\"nofollow noreferrer\">KeyEvent.KEYCODE_ENTER</a>?"}, {"owner": {"reputation": 13, "user_id": 12180444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XmAMpn6Csig/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGEDXaS9I8kDDWEsbGXIhtT9R2WQ/photo.jpg?sz=128", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/12180444/alexandr"}, "reply_to_user": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 1, "creation_date": 1570624212, "post_id": 58303424, "comment_id": 102970516, "body": "I can do it, but it&#39;s not a problem. Problem is  - on Enter  - onKeyUp doesn&#39;t even called on debugging."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12180444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XmAMpn6Csig/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGEDXaS9I8kDDWEsbGXIhtT9R2WQ/photo.jpg?sz=128", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/12180444/alexandr"}, "edited": false, "score": 1, "creation_date": 1570644004, "post_id": 58304401, "comment_id": 102981045, "body": "thanks. thats it. dispatchKeyEvent - handles ALL keyb-events and do it first. <a href=\"https://stackoverflow.com/questions/7846050/difference-between-onkey-onkeydown-and-dispatchkeyevent-methods-provided\" title=\"difference between onkey onkeydown and dispatchkeyevent methods provided\">stackoverflow.com/questions/7846050/&hellip;</a>"}], "tags": [], "owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1570625404, "last_edit_date": 1570625404, "creation_date": 1570625012, "answer_id": 58304401, "question_id": 58303424, "link": "https://stackoverflow.com/questions/58303424/onkeyup-doesnt-handle-enter-from-hard-keyboard/58304401#58304401", "title": "onKeyUp doesn&#39;t handle Enter from hard keyboard", "body": "<p>Use <code>dispatchKeyEvent</code> to handle enter:</p>\n\n<pre><code>override fun dispatchKeyEvent(event:KeyEvent):Boolean {\n   if (event.getAction() === KeyEvent.ACTION_UP)\n   {\n      Toast.makeText(this,event.getKeyCode().toString(),Toast.LENGTH_SHORT).show()\n      return true\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12180444, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XmAMpn6Csig/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGEDXaS9I8kDDWEsbGXIhtT9R2WQ/photo.jpg?sz=128", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/12180444/alexandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 58304401, "answer_count": 1, "score": 1, "last_activity_date": 1570651236, "creation_date": 1570621589, "last_edit_date": 1570651236, "question_id": 58303424, "link": "https://stackoverflow.com/questions/58303424/onkeyup-doesnt-handle-enter-from-hard-keyboard", "title": "onKeyUp doesn&#39;t handle Enter from hard keyboard", "body": "<p>I have an activity with a set of buttons on it, it resembles a NumPad keyboard.</p>\n\n<p><strong>My purpose:</strong> to do some terminal for input data with help of little (hard) \u201cusb NumPad keyboard\u201d \u2013 so interface looks as NumPad \u2013 just a set of Buttons. </p>\n\n<p>I want to handle all the keyboard events to do with them what I need to do (my own function for each button). Overrided functions <code>onKeyUp</code> and <code>onKeyDown</code> \u2013 and they do all that I need, except handling the <strong><em>Enter</em></strong> key. In these two functions it\u2019s not an event at all as I see.\nOn Enter activity opens menu, so Enter is some special function \u2013 not for me, but for system. </p>\n\n<p>All the topics here that I saw (how to handle \u201cEnter\u201d) are about soft keyboard or EditView. I don\u2019t have on my activity any editable, I just want to catch Enter event, or maybe possible link Enter with some of the Buttons on activity.</p>\n\n<pre><code>    override fun onKeyUp(keyCode: Int, event: KeyEvent): Boolean {\n    Toast.makeText(this,keyCode.toString(),Toast.LENGTH_SHORT).show()\n\n    val res: Int = when (keyCode) {\n        KeyEvent.KEYCODE_NUMPAD_0 -&gt; 0\n        KeyEvent.KEYCODE_0 -&gt; 0\n\n        KeyEvent.KEYCODE_NUMPAD_1 -&gt; 1\n        KeyEvent.KEYCODE_1 -&gt; 1\n        KeyEvent.KEYCODE_DPAD_DOWN_LEFT -&gt; 1\n\n        KeyEvent.KEYCODE_NUMPAD_DOT -&gt; 10\n\n        KeyEvent.KEYCODE_NUM_LOCK -&gt; 11\n\n        KeyEvent.KEYCODE_NUMPAD_ENTER -&gt; 16 //never happens\n\n        else -&gt; -1\n    }\n    if (res&gt;=0) doAction(res)\n\n    return if (res == -1) super.onKeyUp(keyCode, event)\n    else true\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "kotlintest", "parameterized-tests"], "answers": [{"tags": [], "owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1575823724, "creation_date": 1575823724, "answer_id": 59237596, "question_id": 58303081, "link": "https://stackoverflow.com/questions/58303081/data-table-tests-in-kotlintest-advanced-method-names-and-spreading-of-test-cas/59237596#59237596", "title": "Data Table tests in Kotlintest - advanced method names and spreading of test cases", "body": "<p>This is possible using the FreeSpec and the minus operator like this:</p>\n\n<pre><code>class AdditionSpec : FreeSpec({\n\n    \"x + y is sum\" - {\n        listOf(\n            row(1, 1, 2),\n            row(50, 50, 100),\n            row(3, 1, 2)\n        ).map { (x: Int, y: Int, sum: Int) -&gt;\n            \"$x + $y should result in $sum\" {\n                (x + y) shouldBe sum\n            }\n        }\n    }\n})\n</code></pre>\n\n<p>This gives this output in Intellij:\n<a href=\"https://i.stack.imgur.com/QTEfe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QTEfe.png\" alt=\"intellij test output\"></a></p>\n\n<p>See the documentation on this <a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "is_accepted": false, "score": 1, "last_activity_date": 1575876048, "creation_date": 1575876048, "answer_id": 59244206, "question_id": 58303081, "link": "https://stackoverflow.com/questions/58303081/data-table-tests-in-kotlintest-advanced-method-names-and-spreading-of-test-cas/59244206#59244206", "title": "Data Table tests in Kotlintest - advanced method names and spreading of test cases", "body": "<p>You can reverse nesting. Instead of having <code>table</code> within <code>test</code>, simply nest <code>test</code> within <code>table</code>.</p>\n\n<pre><code>class AdditionSpec : FunSpec() {\n    init {\n        context(\"x + y is sum\") {\n            table(\n                headers(\"x\", \"y\", \"sum\"),\n                row(1, 1, 2),\n                row(50, 50, 100),\n                row(3, 1, 2)\n            ).forAll { x, y, sum -&gt;\n                test(\"$x + $y should be $sum\") {\n                    x + y shouldBe sum\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 4147445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EQM8P.jpg?s=128&g=1", "display_name": "peach", "link": "https://stackoverflow.com/users/4147445/peach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 1, "accepted_answer_id": 59237596, "answer_count": 2, "score": 2, "last_activity_date": 1575876048, "creation_date": 1570620380, "last_edit_date": 1570709832, "question_id": 58303081, "link": "https://stackoverflow.com/questions/58303081/data-table-tests-in-kotlintest-advanced-method-names-and-spreading-of-test-cas", "title": "Data Table tests in Kotlintest - advanced method names and spreading of test cases", "body": "<p>I am using Kotlintest and data tables to test an application that uses Kotlin, SpringBoot and Gradle because the syntax is way more concise than ParameterizedJunitTests when you have complex data in your tables.</p>\n\n<p>Is there a way to use the parameter names in the method-titles like there is for <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">parameterized tests in JUnit</a>? Moreover, all my test-executions are listed as one test, but I would like to have a row in my test results per data table row. I found neither of the two topics in the <a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#table-driven-testing\" rel=\"nofollow noreferrer\">Documentation</a>. </p>\n\n<p>To make things clearer an example with Kotlintest: </p>\n\n<pre><code>class AdditionSpec : FunSpec() {\n    init {\n\n        test(\"x + y is sum\") {\n            table(\n                    headers(\"x\", \"y\", \"sum\"),\n                    row(1, 1, 2),\n                    row(50, 50, 100),\n                    row(3, 1, 2)\n            ).forAll { x, y, sum -&gt;\n                assertThat(x + y).isEqualTo(sum)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and a corresponding example with JUnit: </p>\n\n<pre><code>@RunWith(Parameterized::class)\nclass AdditionTest {\n\n    @ParameterizedTest(name = \"adding {0} and {1} should result in {2}\")\n    @CsvSource(\"1,1,2\", \"50, 50, 100\", \"3, 1, 5\")\n    fun testAdd(x: Int, y: Int, sum: Int) {\n        assertThat(x + y).isEqualTo(sum);\n    }\n\n}\n</code></pre>\n\n<p>With 1/3 failures: \nKotlintest:\n<a href=\"https://i.stack.imgur.com/IdJNI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IdJNI.png\" alt=\"Kotlintest gradle result with 1/3 failures\"></a>\nJunit:\n<a href=\"https://i.stack.imgur.com/HevCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HevCf.png\" alt=\"Junit gradle result with 1/3 failures\"></a></p>\n\n<p>Is there something similar to <code>@ParameterizedTest(name = \"adding {0} and {1} should result in {2}\")</code> in kotlintest when using data tables?</p>\n"}, {"tags": ["android", "kotlin", "mapbox", "mapbox-android"], "answers": [{"comments": [{"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "edited": false, "score": 0, "creation_date": 1570621522, "post_id": 58303263, "comment_id": 102969074, "body": "Using this line of code ` val response:GeocodingResponse =geoCoding.executeCall().body()!!` then tryint to print <code>response</code> , causes <code>E&#47;AndroidRuntime: FATAL EXCEPTION: main</code>"}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "edited": false, "score": 0, "creation_date": 1570622714, "post_id": 58303263, "comment_id": 102969693, "body": "that is pure Java, aslo after converting to kotlin , a lot of methods are not callable ! this the example in the official documentation which is not working at all, any help on how to achieve this success in kotlin?"}, {"owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "edited": false, "score": 0, "creation_date": 1570624242, "post_id": 58303263, "comment_id": 102970535, "body": "please add the import <code>import retrofit2.Call,  import retrofit2.Callback</code> as it is where my problem was. I was importing the Wrong Callback"}], "tags": [], "owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "is_accepted": true, "score": 2, "last_activity_date": 1570624543, "last_edit_date": 1570624543, "creation_date": 1570621064, "answer_id": 58303263, "question_id": 58302932, "link": "https://stackoverflow.com/questions/58302932/how-to-parse-response-of-mapbox-reverse-geocoding-in-kotlin/58303263#58303263", "title": "How to parse response of Mapbox reverse geocoding in Kotlin", "body": "<p>Since it's not visible from the code... Are you sure you are calling</p>\n\n<pre><code>import retrofit2.Call\nimport retrofit2.Callback\n\n    geoCoding.enqueueCall(object : Callback&lt;GeocodingResponse&gt; {\n        override fun onFailure(call: Call&lt;GeocodingResponse&gt;, t: Throwable) {\n            Log.d(\"FAILURE\", t.toString())\n        }\n\n        override fun onResponse(call: Call&lt;GeocodingResponse&gt;, response: retrofit2.Response&lt;GeocodingResponse&gt;) {\n            Log.d(\"SUCCESS\", response.body().toString())\n        }\n    })\n</code></pre>\n\n<p>after the <code>.build()</code>?</p>\n"}], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 58303263, "answer_count": 1, "score": 0, "last_activity_date": 1570624543, "creation_date": 1570619824, "last_edit_date": 1570620240, "question_id": 58302932, "link": "https://stackoverflow.com/questions/58302932/how-to-parse-response-of-mapbox-reverse-geocoding-in-kotlin", "title": "How to parse response of Mapbox reverse geocoding in Kotlin", "body": "<p>I am using Mapbox in my android <strong>Kotlin</strong> application, I perform a reverse geocoding and expecting to get the full address of the place :</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<pre><code>val geoCoding = MapboxGeocoding.builder()\n  .accessToken(accessToken)\n  .country(\"eg\")\n  .query(Point.fromLngLat(long, lat))\n  .geocodingTypes(GeocodingCriteria.TYPE_PLACE)\n  .build()\nprintln(geoCoding)\n</code></pre>\n\n<p><strong>The response I got from the line <code>println(geoCoding)</code> is:</strong></p>\n\n<pre><code>Geooding{query=31.23944,30.05611, mode=mapbox.places, accessToken=\"My access token are shown here\" , baseUrl=https://api.mapbox.com, country=eg, proximity=null, geocodingTypes=place, autocomplete=null, bbox=null, limit=null, languages=null, reverseMode=null, fuzzyMatch=null, clientAppName=null\n</code></pre>\n\n<p>So , as you see there is no info shown at all , despite that all the info are being shown if I performed the query using a normal api URL in my chrome browser</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "gradle-kotlin-dsl", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 3882613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001816007247/picture?type=large", "display_name": "g0dzax", "link": "https://stackoverflow.com/users/3882613/g0dzax"}, "is_accepted": false, "score": 0, "last_activity_date": 1570623452, "creation_date": 1570623452, "answer_id": 58303971, "question_id": 58302759, "link": "https://stackoverflow.com/questions/58302759/gradle-wrapper-fails-to-find-javafx-on-build-built-in-gradle-works-okay-on-buil/58303971#58303971", "title": "Gradle wrapper fails to find javafx on build, built-in gradle works okay on build", "body": "<p>I have managed to find a way around this issue, however, it's not a proper solution since I still haven't found the cause for why that was happening, but I'll post it in case anyone else will have this issue and maybe it will be helpful.</p>\n\n<p>The solution is (weirdly enough) to specify the jdk version that gradle will use when running the commands through the wrapper:</p>\n\n<pre><code>gradlew.bat build -Dorg.gradle.java.home=---path-to-jdk---\n</code></pre>\n\n<p>I have checked my environment variables and the java home variable already points to that same location, so somehow I believe gradle doesn't find the java home and uses something embedded (which is most likely something above java 8) which produces that error. Running through the Intellij gradle works because it is using the embedded jdk in Intellij which is also java8, so that explains why they were working through the Intellij build button from the Gradle side-window.</p>\n\n<p>If anyone finds the root cause or has some other suggestion, please, feel free to share your knowledge.</p>\n"}], "owner": {"reputation": 131, "user_id": 3882613, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001816007247/picture?type=large", "display_name": "g0dzax", "link": "https://stackoverflow.com/users/3882613/g0dzax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570623452, "creation_date": 1570619137, "last_edit_date": 1570621915, "question_id": 58302759, "link": "https://stackoverflow.com/questions/58302759/gradle-wrapper-fails-to-find-javafx-on-build-built-in-gradle-works-okay-on-buil", "title": "Gradle wrapper fails to find javafx on build, built-in gradle works okay on build", "body": "<p>The issue is that executing gradle commands via the wrapper will cause the compileKotlin step to fail with different mentions that it is unable to find javafx-related classes/packages.</p>\n\n<p>I'm setting up the whole project structure so that all the build system is not dependent on the IDE but rather relies on using the wrapper to execute all the build.</p>\n\n<p>But executing a <code>gradlew.bat</code> build on the command line will fail with the mentioned errors. However, executing a \"build\" via the embedded Gradle in Intellij works. (attached pictures)</p>\n\n<p>A few things to mention:</p>\n\n<ul>\n<li>kotlin version 1.3.50 (latest version)</li>\n<li>gradle version in wrapper properties is 5.6.2</li>\n</ul>\n\n<p>Build failure pic:</p>\n\n<p><img src=\"https://i.ibb.co/TqWd0vh/build-fail.png\" alt=\"Build failure pic\"></p>\n\n<p>Build working with Gradle from Intellij:\n<img src=\"https://i.ibb.co/5rPvcHD/build-okay.png\" alt=\"Build working with Gradle from Intellij\">\nBuild from Intellij button:</p>\n\n<p><img src=\"https://i.ibb.co/5rPvcHD/build-okay.png\" alt=\"Build from Intellij button\"></p>\n\n<p>Gradle config in Intellij:\n<img src=\"https://i.ibb.co/TbkGBXc/build-intellij-2.png\" alt=\"Gradle config in Intellij\"></p>\n\n<p>I have already tried plenty of suggestions mentioned on several topics related to this one (Invalidated caches + Restart, re-importing project, generating the wrapper again, all the usual solutions you will see for this issue). None of them worked, so the issue remains. I tried switching between versions of Gradle and running the wrapper again and that didn't work, it seems that version specified for the wrapper and the Gradle distribution it pulls down does not matter since the build fails with exactly the same error on all versions.</p>\n\n<p>Note that this happened quite recently after an update of Intellij Idea from version 2019.2.2 to 2019.2.3, I really hope this isn't the root issue behind it.</p>\n\n<p>This is not the only project with Gradle kotlin-dsl using javafx that is failing right now: even creating a new empty project via the tornadofx-plugin for Intellij and migrating it to the kotlin-dsl will yield the same results: compileKotlin task will fail. Besides that, several older projects with gradle kotlin-dsl that were building fine from the wrapper suddenly started out giving the same error.</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\nimport edu.sc.seis.launch4j.tasks.DefaultLaunch4jTask\n\nplugins {\n    application\n    id(\"edu.sc.seis.launch4j\") version \"2.4.6\"\n    kotlin(\"jvm\") version \"1.3.50\"\n}\n\ngroup = \"genericdesktopapp\"\nversion = \"1.0-SNAPSHOT\"\n\napplication {\n    mainClassName = \"root/RootKt\"\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\ndependencies {\n    implementation(kotlin(module = \"reflect\", version = \"1.3.50\"))\n    implementation(kotlin(\"stdlib-jdk8\"))\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0-RC\")\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-javafx:1.3.0-RC\")\n    implementation(\"org.slf4j:slf4j-api:1.7.21\")\n    implementation(\"com.lmax:disruptor:3.3.4\")\n    implementation(\"org.apache.logging.log4j:log4j-slf4j-impl:2.6.2\")\n    implementation(\"org.apache.logging.log4j:log4j-api:2.6.2\")\n    implementation(\"org.apache.logging.log4j:log4j-core:2.6.2\")\n    implementation(\"commons-io:commons-io:2.6\")\n    implementation(\"org.apache.commons:commons-text:1.6\")\n    implementation(\"com.github.salomonbrys.kodein:kodein:4.1.0\")\n    implementation(\"commons-validator:commons-validator:1.6\")\n    implementation(\"no.tornado:tornadofx:1.7.17\")\n\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.1.0\")\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine:5.1.0\")\n\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ntasks.withType&lt;DefaultLaunch4jTask&gt; {\n    outfile = \"GenericToolbox.exe\"\n    mainClassName = \"root.Root\"\n    productName = \"GenericToolbox\"\n}\n\n</code></pre>\n\n<p>I expect that when I run in the command line <code>gradlew.bat</code> build or <code>./gradlew</code> build for it to complete normally and find the related classes from <code>javafx</code>, like it happens when using Intellij Gradle build command.</p>\n\n<p>This issue should not even happen since I'm keeping everything at java-8, I know this issue is supposed to happen to versions beyond 8. I'm also seeing in the gradle caches the stdlib-jdk7 from kotlin, I have nowhere nothing related to jdk7 specified in my Intellij configurations or in the build script, so that is also something weird happening. (even cache reset made gradle pull it back in the cache, so I'm thinking it's probably the embedded kotlin compiler from gradle that is that version).</p>\n\n<p>Edit: An easy way of reproducing it (just tested it right now).\nOpen a command line and create a new project with gradle kotlin dsl:</p>\n\n<ul>\n<li>mkdir testproject</li>\n<li>cd testproject</li>\n<li>gradle init --dsl kotlin</li>\n</ul>\n\n<p>On the project that was generated, run the <code>gradlew.bat</code> build or <code>./gradlew</code> build and see the <code>compileKotlin</code> working okay and the build is successful.\nOn the same project, in the generated <code>App.kt</code> file, in the main function, add a simple <code>val stage = Stage()</code> (imported from javafx).\nRun again the <code>gradlew.bat</code> build and see that it now fails since it doesn't find <code>javafx</code>.</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9961084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c5fezfGipaY/AAAAAAAAAAI/AAAAAAAADF4/iB-zl10SaEQ/photo.jpg?sz=128", "display_name": "Karan Kulwal", "link": "https://stackoverflow.com/users/9961084/karan-kulwal"}, "edited": false, "score": 0, "creation_date": 1572425136, "post_id": 58310868, "comment_id": 103551134, "body": "That doesn&#39;t seems to work since the getField returns <code>CriteriaExpression.ColumnPredicaeExpression&lt;Any, String&gt; </code> and thus cannot be accepted in the index val since it narrows down the type."}], "tags": [], "owner": {"reputation": 480, "user_id": 9514208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158721469590341/picture?type=large", "display_name": "Nicholas Rogers", "link": "https://stackoverflow.com/users/9514208/nicholas-rogers"}, "is_accepted": false, "score": 0, "last_activity_date": 1570648666, "creation_date": 1570648666, "answer_id": 58310868, "question_id": 58302508, "link": "https://stackoverflow.com/questions/58302508/corda-custom-query-with-field-name-taken-as-input/58310868#58310868", "title": "Corda Custom Query with field name taken as input", "body": "<p>the issue here has to do with your use of <code>Any</code> in the generics of <code>CriteriaExpression.ColumnPredicaeExpression&lt;Any, String&gt;</code>. As indicated by the error message, instead of using <code>Any</code> you should be using a subtype of <code>StatePersistable</code></p>\n\n<p>According to the docs: <code>net.corda.core.schemas.StatePersistable \nMarker interface to denote a persistable Corda state entity that will always have a transaction id and index</code></p>\n\n<p>Your schema <code>CarSchemaV1.PersistentCar::class.java</code> likely implements PersistentState. Try adding that into your generics.</p>\n\n<p><code>val index: CriteriaExpression.ColumnPredicateExpression&lt;CarSchemaV1.PersistentCar,String&gt; = getField(colN,CarSchemaV1.PersistentCar::class.java).equal(colC)</code></p>\n"}], "owner": {"reputation": 73, "user_id": 9961084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c5fezfGipaY/AAAAAAAAAAI/AAAAAAAADF4/iB-zl10SaEQ/photo.jpg?sz=128", "display_name": "Karan Kulwal", "link": "https://stackoverflow.com/users/9961084/karan-kulwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570648666, "creation_date": 1570618283, "question_id": 58302508, "link": "https://stackoverflow.com/questions/58302508/corda-custom-query-with-field-name-taken-as-input", "title": "Corda Custom Query with field name taken as input", "body": "<p>I am using Corda 4.0 and I want to run a custom query with dynamic column name (colN) and column value (colC). Here is my code for the query building</p>\n\n<pre><code>builder {\n     val index: CriteriaExpression.ColumnPredicateExpression&lt;Any,String&gt; = getField(colN,CarSchemaV1.PersistentCar::class.java).equal(colC)\n     val customCriteria = QueryCriteria.VaultCustomQueryCriteria(index)\n}\n</code></pre>\n\n<p>But I am getting a error in compile time</p>\n\n<pre><code>Type parameter bound for L in constructor VaultCustomQueryCriteria&lt;L: PersistableState&gt;(expression: CriteriaExpression&lt;L,Boolean&gt;,...) is not satisfied: inferred typed Any is not a subtype of StatePersistable\n</code></pre>\n"}, {"tags": ["android", "kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 3, "creation_date": 1570618578, "post_id": 58302456, "comment_id": 102967459, "body": "I recently wrote an answer for this, <a href=\"https://stackoverflow.com/a/57921406/9968399\">take a look</a>."}], "answers": [{"comments": [{"owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "edited": false, "score": 0, "creation_date": 1570618615, "post_id": 58302520, "comment_id": 102967486, "body": "This way I loose my interface, which I don&#39;t want I still want to keep interface. So that my classes can extend from it."}], "tags": [], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "is_accepted": false, "score": 0, "last_activity_date": 1570618314, "creation_date": 1570618314, "answer_id": 58302520, "question_id": 58302456, "link": "https://stackoverflow.com/questions/58302456/kotlin-how-to-achieve-android-setonclicklistener-like-syntax/58302520#58302520", "title": "Kotlin how to achieve android setOnClickListener like syntax", "body": "<p>Use</p>\n\n<pre><code>fun setClickListener(listener: (String) -&gt; Unit)\n</code></pre>\n\n<p>and then call <code>listener(\"some string\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1570619383, "last_edit_date": 1570619383, "creation_date": 1570618656, "answer_id": 58302615, "question_id": 58302456, "link": "https://stackoverflow.com/questions/58302456/kotlin-how-to-achieve-android-setonclicklistener-like-syntax/58302615#58302615", "title": "Kotlin how to achieve android setOnClickListener like syntax", "body": "<p>What I like to do is:</p>\n\n<pre><code>inline fun View.onClick(crossinline clickListener: (View) -&gt; Unit) {\n    this.setOnClickListener {\n        clickListener(this)\n    }\n}\n</code></pre>\n\n<p>Now you can call</p>\n\n<pre><code>button.onClick {\n    // handle click\n}\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong> ah, I misunderstood your question. The answer is</p>\n\n<pre><code>interface OnClickListener {\n    fun onClick(target: Any)\n}\n\nclass Test {\n    private var onClickListener: OnClickListener? = null\n\n    fun setOnClickListener(listener: OnClickListener?) {\n        this.onClickListener = listener\n    }\n\n    fun doClick() {\n        onClickListener?.onClick(this)\n    }\n}\n\ninline fun Test.setOnClickListener(crossinline listener: (Test) -&gt; Unit) {\n    this.setOnClickListener(object: OnClickListener {\n        override fun onClick(target: Any) {\n            listener.invoke(target as Test)\n        }\n    })\n}\n\nfun main() {\n    val test = Test()\n    test.setOnClickListener { t -&gt; \n        println(\"hello\")\n    }\n\n    test.doClick()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 2412106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a9cf62798d96402cb2756060a88e29?s=128&d=identicon&r=PG", "display_name": "vs.thaakur", "link": "https://stackoverflow.com/users/2412106/vs-thaakur"}, "is_accepted": true, "score": 3, "last_activity_date": 1570618897, "creation_date": 1570618897, "answer_id": 58302688, "question_id": 58302456, "link": "https://stackoverflow.com/questions/58302456/kotlin-how-to-achieve-android-setonclicklistener-like-syntax/58302688#58302688", "title": "Kotlin how to achieve android setOnClickListener like syntax", "body": "<p>This is not possible if you are using Kotlin only. You can achieve this by using @FunctionalInterface of JAVA. No matter how inconsistent it seems, its by design in language.</p>\n\n<blockquote>\n  <p>It seems that SAM conversion only works for Java interfaces. According to the forum discussion this is by design: Kotlin has functional types and everyone should just use them. While the argument is perfectly reasonable the restriction does feel a bit inconsistent.</p>\n</blockquote>\n\n<p>Please check this <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "accepted_answer_id": 58302688, "answer_count": 3, "score": 3, "last_activity_date": 1570619383, "creation_date": 1570618132, "last_edit_date": 1570618438, "question_id": 58302456, "link": "https://stackoverflow.com/questions/58302456/kotlin-how-to-achieve-android-setonclicklistener-like-syntax", "title": "Kotlin how to achieve android setOnClickListener like syntax", "body": "<p>In <code>Android</code>+<code>Kotlin</code> both of the following syntaxes are valid </p>\n\n<p><code>view.setOnClickListener(this)</code> and <code>view.setOnClickListener {}</code> I have been trying to achieve this syntax for my custom functional interface without any success. Here is what I have tried so far</p>\n\n<pre><code>interface OnClickListener {\n    fun onClick(str: String)\n}\n\nclass Test {\n    fun setClickListener(listener: OnClickListener) {\n        listener.onClick(\"\")\n    }\n}\n\nfun main() {\n    val test = Test()\n    test.setClickListener { str -&gt; \n\n    }\n}\n</code></pre>\n\n<p>in the above snippet code in <code>main()</code> fails to compile as it needs an anonymous object of <code>OnClickListener</code> class. How can I achieve the same syntax for client code as with the original <code>OnClickListener</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "android-viewpager2"], "comments": [{"owner": {"reputation": 24593, "user_id": 1071320, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dTt5I.jpg?s=128&g=1", "display_name": "Adil Hussain", "link": "https://stackoverflow.com/users/1071320/adil-hussain"}, "edited": false, "score": 0, "creation_date": 1603128834, "post_id": 58301987, "comment_id": 113932568, "body": "This seems like a bug to me. I&#39;ve created a report for this in IssueTracker <a href=\"https://issuetracker.google.com/issues/171180138\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 4726, "user_id": 2877822, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8cc6b42c56040a16af5f0c52d7651ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Long Ranger", "link": "https://stackoverflow.com/users/2877822/long-ranger"}, "edited": false, "score": 0, "creation_date": 1606644262, "post_id": 58301987, "comment_id": 115017907, "body": "It seems like this issue <a href=\"https://issuetracker.google.com/issues/150297771\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/150297771</a>"}], "owner": {"reputation": 119, "user_id": 7017951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ea37d81247af4465b6e2dfa6f0f07a?s=128&d=identicon&r=PG&f=1", "display_name": "little_Friend", "link": "https://stackoverflow.com/users/7017951/little-friend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1769, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1587121545, "creation_date": 1570616431, "last_edit_date": 1570617392, "question_id": 58301987, "link": "https://stackoverflow.com/questions/58301987/offscreenpagelimit-vs-setitemviewcachesize-viewpager2", "title": "Offscreenpagelimit vs setItemViewCacheSize ViewPager2", "body": "<p>I'm using ViewPager2, \nnewest version <code>'androidx.viewpager2:viewpager2:1.0.0-beta04'</code></p>\n\n<p>I have 10 pages and each page is Fragment.</p>\n\n<p>If i set <code>viewpager2.offscreenPageLimit = 1</code>\nI have to scroll to page 5 to make the first page destroy.</p>\n\n<p>What happened???, the first page supposed to be destroyed when I scroll to page 3 right??</p>\n\n<p>Then i try the other way to make it right</p>\n\n<pre><code>(viewpager2.getChildAt(0) as RecyclerView).layoutManager?.isItemPrefetchEnabled = false\n(viewpager2.getChildAt(0) as RecyclerView).setItemViewCacheSize(1)\n</code></pre>\n\n<p>This way, the first page will be destroyed when i scroll to page 3, it's working now </p>\n\n<p>Can anyone explain to me the differences between these 2 attributes, please?</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1570615159, "post_id": 58301541, "comment_id": 102965748, "body": "<a href=\"https://stackoverflow.com/a/52108414/7666442\">stackoverflow.com/a/52108414/7666442</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 1, "last_activity_date": 1570615299, "last_edit_date": 1570615299, "creation_date": 1570614966, "answer_id": 58301569, "question_id": 58301541, "link": "https://stackoverflow.com/questions/58301541/where-are-implementation-version-string-stored-in-android-studio/58301569#58301569", "title": "Where are implementation version string stored in android studio", "body": "<p>These can usually be found in your root <code>build.gradle</code> file as they are variables defined for all modules of your app. you can double-tap shift and type <code>build.gradle</code> to find the root version (it will show as <code>build.gradle(.)</code>)</p>\n\n<p>as a super basic example, it will look something like this : </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.41'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>you can also do cool stuff like this with root versions :</p>\n\n<pre><code>buildscript { \n\next.versions = [\n        'appcompat'           : '1.1.0-rc01',\n        'const_layout'        : '2.0.0-beta2',\n        'arch_comp'           : '1.1.1',\n        'kotlin'              : '1.3.50',\n         ....\n]\n</code></pre>\n\n<p>here, I'm defining an entire range of variables with their versions and then you can simply reference these with :</p>\n\n<p><code>$versions.appcompat</code> as you need them (as an example) </p>\n\n<p>Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 11294696, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tSrQrQ9RXtU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGwJZqrj_vmp-xLNmYAnuG20nZgQ/mo/photo.jpg?sz=128", "display_name": "Kiran Bablani", "link": "https://stackoverflow.com/users/11294696/kiran-bablani"}, "is_accepted": false, "score": 1, "last_activity_date": 1570616958, "creation_date": 1570616958, "answer_id": 58302140, "question_id": 58301541, "link": "https://stackoverflow.com/questions/58301541/where-are-implementation-version-string-stored-in-android-studio/58302140#58302140", "title": "Where are implementation version string stored in android studio", "body": "<p>you can find it in project level build.gradle </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.50'\n</code></pre>\n\n<p>you can define your version  variables in same as</p>\n\n<pre><code>ext {\n\n    minSdkVersion = 16\n    targetSdkVersion = 21\n    compileSdkVersion = 27\n    buildToolsVersion = '27.0.3'\n}\n</code></pre>\n"}], "owner": {"reputation": 5765, "user_id": 4716694, "user_type": "registered", "accept_rate": 35, "profile_image": "https://lh6.googleusercontent.com/-k2io4vLdTBo/AAAAAAAAAAI/AAAAAAAAACI/3qwLFFha6OE/photo.jpg?sz=128", "display_name": "johnrao07", "link": "https://stackoverflow.com/users/4716694/johnrao07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 58301569, "answer_count": 2, "score": 0, "last_activity_date": 1570616958, "creation_date": 1570614857, "last_edit_date": 1570615826, "question_id": 58301541, "link": "https://stackoverflow.com/questions/58301541/where-are-implementation-version-string-stored-in-android-studio", "title": "Where are implementation version string stored in android studio", "body": "<p>In the app-level gradle file</p>\n\n<pre><code> implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p>Where can I find the kotlin_version value?</p>\n\n<p>When I try to add the following dependency</p>\n\n<pre><code>implementation \"com.android.billingclient:billing:$billingVersion\"\n</code></pre>\n\n<p>Error: <code>Could not get unknown property 'billingVersion' for object of type</code></p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "koin"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1570614248, "post_id": 58301220, "comment_id": 102965225, "body": "The best thing to do would be to write an okhttp interceptor and update the base_url for every request. That&#39;s what I&#39;ve done as well"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1570614272, "post_id": 58301220, "comment_id": 102965239, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36498131/set-dynamic-base-url-using-retrofit-2-0-and-dagger-2\">Set dynamic base url using Retrofit 2.0 and Dagger 2</a>"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1570614308, "post_id": 58301220, "comment_id": 102965261, "body": "Look into this: <a href=\"https://gist.github.com/swankjesse/8571a8207a5815cca1fb\" rel=\"nofollow noreferrer\">gist.github.com/swankjesse/8571a8207a5815cca1fb</a>"}, {"owner": {"reputation": 51, "user_id": 12187367, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBASN6qePCYaMOtRAFu98CotObxLRc7SeSUHj66=k-s128", "display_name": "ilia khuzhakhmetov", "link": "https://stackoverflow.com/users/12187367/ilia-khuzhakhmetov"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1570614334, "post_id": 58301220, "comment_id": 102965279, "body": "Dagger 2 it&#39;s not Koin"}, {"owner": {"reputation": 51, "user_id": 12187367, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBASN6qePCYaMOtRAFu98CotObxLRc7SeSUHj66=k-s128", "display_name": "ilia khuzhakhmetov", "link": "https://stackoverflow.com/users/12187367/ilia-khuzhakhmetov"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1570614589, "post_id": 58301220, "comment_id": 102965416, "body": "@sonnet hmm, A good option"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 12187367, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBASN6qePCYaMOtRAFu98CotObxLRc7SeSUHj66=k-s128", "display_name": "ilia khuzhakhmetov", "link": "https://stackoverflow.com/users/12187367/ilia-khuzhakhmetov"}, "is_accepted": true, "score": 0, "last_activity_date": 1570698470, "creation_date": 1570698470, "answer_id": 58319263, "question_id": 58301220, "link": "https://stackoverflow.com/questions/58301220/how-to-change-base-url-using-retrofit2-and-koin-2-0/58319263#58319263", "title": "How to change base URL using retrofit2 and koin 2.0", "body": "<p>I resolve my problem with comment @sonnet \nThis code:</p>\n\n<pre><code>class ChangeableBaseUrlInterceptor : Interceptor {\n    @Volatile\n    private var host: HttpUrl? = null\n\n    fun setHost(host: String) {\n        this.host = host.toHttpUrlOrNull()\n    }\n\n    fun clear() {\n        host = null\n    }\n\n    @Throws(IOException::class)\n    override fun intercept(chain: Interceptor.Chain): okhttp3.Response {\n        var request = chain.request()\n        host?.let {\n            val newUrl = request.url.newBuilder()\n                .scheme(it.scheme)\n                .host(it.toUrl().toURI().host)\n                .port(it.port)\n                .build()\n            request = request.newBuilder().url(newUrl).build()\n        }\n        return chain.proceed(request)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 12187367, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBASN6qePCYaMOtRAFu98CotObxLRc7SeSUHj66=k-s128", "display_name": "ilia khuzhakhmetov", "link": "https://stackoverflow.com/users/12187367/ilia-khuzhakhmetov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 0, "accepted_answer_id": 58319263, "answer_count": 1, "score": 1, "last_activity_date": 1570698470, "creation_date": 1570613837, "last_edit_date": 1570628707, "question_id": 58301220, "link": "https://stackoverflow.com/questions/58301220/how-to-change-base-url-using-retrofit2-and-koin-2-0", "title": "How to change base URL using retrofit2 and koin 2.0", "body": "<p>I have a query that returns a list of servers, and the user can select the server he needs.</p>\n\n<p>Googling did not help, almost no results.</p>\n\n<p>Tell me how to implement basic URL spoofing in real time using Koin and Retrofit? <p>\n<strong>My Modules:</strong></p>\n\n<pre><code>fun createMainModule(context: Context) = module {\n\n    single(named(APP_CONTEXT)) { context }\n\n    single(named(RESOURCES)) { context.resources }\n\n    single(named(REPOSITORY)) {\n        Repository(get(named(RETROFIT)))\n    }\n}\n\nfun createNetworkModule(baseUrl: String) = module(override = true) {\n\n    single(named(TOKEN_INTERCEPTOR)) { createTokenInterceptor(get(named(DATA_PROVIDER))) }\n\n    single(named(OK_HTTP)) { createOkHttpClient(get(named(TOKEN_INTERCEPTOR))) }\n\n    single(named(GSON)) { createGson() }\n\n    single(named(RETROFIT)) {\n        createRetrofit(\n            get(named(RESOURCES)),\n            get(named(LOG_OUT_SUBJECT)),\n            get(named(GSON)),\n            baseUrl,\n            get(named(OK_HTTP))\n        )\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1163, "user_id": 869377, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51e996a9ff96df8f3b977c6519af490d?s=128&d=identicon&r=PG", "display_name": "nepa", "link": "https://stackoverflow.com/users/869377/nepa"}, "edited": false, "score": 0, "creation_date": 1587458546, "post_id": 59220860, "comment_id": 108512198, "body": "replay is something else than share. replay saves up emissions even though nobody is connected (if i&#39;m not wrong here). share just works for stuff from the point when you&#39;re connected. the former doesn&#39;t seem to be catered for coroutine flows..."}, {"owner": {"reputation": 2094, "user_id": 1844330, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fb8cb154462303bd8ed489f661ae05c0?s=128&d=identicon&r=PG&f=1", "display_name": "MightySeal", "link": "https://stackoverflow.com/users/1844330/mightyseal"}, "reply_to_user": {"reputation": 1163, "user_id": 869377, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51e996a9ff96df8f3b977c6519af490d?s=128&d=identicon&r=PG", "display_name": "nepa", "link": "https://stackoverflow.com/users/869377/nepa"}, "edited": false, "score": 1, "creation_date": 1587996110, "post_id": 59220860, "comment_id": 108721243, "body": "@nepa this is a matter of naming. You are correct for Rx, but as I see in kotlin flow they are going to use name <code>share</code> with default argument 0 which means no buffer and ability to specify buffer size. Which looks good to me, language allows this and the behavior is similar, so why not?"}], "tags": [], "owner": {"reputation": 2094, "user_id": 1844330, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fb8cb154462303bd8ed489f661ae05c0?s=128&d=identicon&r=PG&f=1", "display_name": "MightySeal", "link": "https://stackoverflow.com/users/1844330/mightyseal"}, "is_accepted": true, "score": 2, "last_activity_date": 1587995852, "last_edit_date": 1587995852, "creation_date": 1575669766, "answer_id": 59220860, "question_id": 58300873, "link": "https://stackoverflow.com/questions/58300873/kotlin-flow-replay-functionality/59220860#59220860", "title": "Kotlin Flow Replay Functionality", "body": "<p>Maybe a bit late, but still might be useful.\nThere's an <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1261\" rel=\"nofollow noreferrer\">open issue</a> to implement this behavior, so sooner or later we'll have it. Also, there's a discussion about <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1086\" rel=\"nofollow noreferrer\">connectable flow</a>, but I can't see decision of they implementing it or not.</p>\n\n<p>UPD: Looks like KEEP-1261 is outdated and <a href=\"https://github.com/Kotlin/kotlinx.coroutines/pull/1716\" rel=\"nofollow noreferrer\">1716</a> is more relevant now.</p>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 6737970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lybfo.jpg?s=128&g=1", "display_name": "Duc Thang", "link": "https://stackoverflow.com/users/6737970/duc-thang"}, "is_accepted": false, "score": 0, "last_activity_date": 1609043830, "creation_date": 1609043830, "answer_id": 65462899, "question_id": 58300873, "link": "https://stackoverflow.com/questions/58300873/kotlin-flow-replay-functionality/65462899#65462899", "title": "Kotlin Flow Replay Functionality", "body": "<p>Kotlin Flow current support <code>shareIn</code> function to replays the last emitted item to a new collector.\nSnippet code from <a href=\"https://developer.android.com/kotlin/flow/stateflow-and-sharedflow#sharein\" rel=\"nofollow noreferrer\">StateFlow and SharedFlow</a>:</p>\n<pre><code>val latestNews : Flow&lt;List&lt;ArticleHeadline&gt;&gt; = flow {\n    ...\n}.shareIn(\n    externalScope,\n    replay = 1,\n    started = SharingStarted.WhileSubscribed()\n)\n</code></pre>\n"}], "owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 1, "accepted_answer_id": 59220860, "answer_count": 2, "score": 2, "last_activity_date": 1609043830, "creation_date": 1570612695, "question_id": 58300873, "link": "https://stackoverflow.com/questions/58300873/kotlin-flow-replay-functionality", "title": "Kotlin Flow Replay Functionality", "body": "<p>Is there a planned or existing way to replicate RX's replay/refcount functionality in Kotlin Flow?</p>\n\n<p>I need something between a broadcast channel's multicast facility (so consumers don't fight over events), and a regular channel's caching/suspension functionality (so consumers receive some backlog of events).</p>\n"}, {"tags": ["java", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1570618099, "post_id": 58302370, "comment_id": 102967231, "body": "Thanks for the response, is there any way I can avoid use GlobalScope?"}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "reply_to_user": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1570618411, "post_id": 58302370, "comment_id": 102967367, "body": "Added another solution - a little extended to make the case realistic"}], "tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570618383, "last_edit_date": 1570618383, "creation_date": 1570617817, "answer_id": 58302370, "question_id": 58300725, "link": "https://stackoverflow.com/questions/58300725/why-my-coroutine-async-only-works-inside-a-runblocking/58302370#58302370", "title": "why my coroutine async only works inside a runBlocking?", "body": "<p>Don't make your controller function a suspend function. They can only be called from other suspend function or coroutines.</p>\n\n<p>I don't know exactly how your endpoint gets built without errors, but since it is executed - there is <strong>no coroutine context inside - because we didn't define any</strong>! Thats why you get a NPE for the context.</p>\n\n<p>BTW: The code below will have no asyncronous behaviour, because you await immediately - just like normal sequential code:</p>\n\n<pre><code>async {\n    doSomething()\n}.await()\n</code></pre>\n\n<hr>\n\n<p>To fix your problem fast, here how I would rewrite it:</p>\n\n<pre><code>@GET\n@Path(\"/test\")\nfun test() : String {\n    GlobalScope.launch { // Starts \"fire-and-forget\" coroutine\n       doSomething() // It will execute this in separate coroutine \n    }\n    return \"Hello\" // will be returned almost immediately \n}\n</code></pre>\n\n<p>To understand more about context, read <a href=\"https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html\" rel=\"nofollow noreferrer\">this</a>. <strong>TLDR</strong>: Use Kotlin's builders and functions to create a context - like <code>runBlocking</code></p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>To avoid <code>GlobalScope.</code> functions, we can use <code>runBlocking</code></p>\n\n<pre><code>@GET\n@Path(\"/test\")\nfun test() : String = runBlocking {\n    val deferredResult1 = async { doSomething() } // Starts immediately in separate coroutine\n    val deferredResult2 = async { doSomethingElse() } // Starts immediately in separate coroutine\n\n    logger.print(\"We got:${deferredResult1 .await()} and ${deferredResult2 .await()}\")\n\n    \"Hello\" // return value - when both async coroutines finished\n}\n</code></pre>\n"}], "owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570656724, "creation_date": 1570612243, "last_edit_date": 1570656724, "question_id": 58300725, "link": "https://stackoverflow.com/questions/58300725/why-my-coroutine-async-only-works-inside-a-runblocking", "title": "why my coroutine async only works inside a runBlocking?", "body": "<p>I am trying to understand coroutines and seems to be quite more difficult to understand than expected, maybe someone could give me the right approach for this.</p>\n\n<p>I want to have an endpoint (simple hello world) that will call a suspended function.</p>\n\n<p>For that Ive made this:</p>\n\n<pre><code>@GET\n@Path(\"/test\")\nsuspend fun test() : String {\n    coroutineScope {\n        async {\n            doSomething()\n        }.await()\n    }\n    return \"Hello\"\n}\n</code></pre>\n\n<p>and at doSomething() I simple do this</p>\n\n<pre><code>private fun doSomething(){\n   logger.info(\"request\")\n}\n</code></pre>\n\n<p>Seems pretty easy and straighforward, reading about async <a href=\"https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html</a> it needs a coroutine scope <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/async.html\" rel=\"nofollow noreferrer\">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/async.html</a> , so at my code should work.</p>\n\n<p>but then when I call my method I get this:</p>\n\n<pre><code>! kotlin.KotlinNullPointerException: null\n! at kotlin.coroutines.jvm.internal.ContinuationImpl.getContext(ContinuationImpl.kt:105)\n! at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:179)\n</code></pre>\n\n<p>NPE on this</p>\n\n<pre><code> public override val context: CoroutineContext\n        get() = _context!!\n</code></pre>\n\n<p>when moving the <code>coroutineScope</code> for a <code>runBlocking</code> it works. Any idea what Im missing? how can I make this work? (Im trying to avoid using  <code>GlobalScope.async</code>)</p>\n\n<p>I am using dropwizard as framework</p>\n"}, {"tags": ["logging", "kotlin"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1570611138, "post_id": 58300364, "comment_id": 102963462, "body": "It is impossible"}, {"owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "edited": false, "score": 0, "creation_date": 1570611175, "post_id": 58300364, "comment_id": 102963490, "body": "Simply impossible"}, {"owner": {"reputation": 1068, "user_id": 11713280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18efffc9c39e8f1b866b9a70d2179c4d?s=128&d=identicon&r=PG&f=1", "display_name": "pappbence96", "link": "https://stackoverflow.com/users/11713280/pappbence96"}, "edited": false, "score": 2, "creation_date": 1570611277, "post_id": 58300364, "comment_id": 102963551, "body": "It&#39;s most likely that Logcat simply ignores repeating messages. By appending the line number, the lines are no longer identical and so all of them are shown."}], "answers": [{"tags": [], "owner": {"reputation": 833, "user_id": 2798738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d3tCb.png?s=128&g=1", "display_name": "Richard R", "link": "https://stackoverflow.com/users/2798738/richard-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1570611892, "last_edit_date": 1570611892, "creation_date": 1570611544, "answer_id": 58300520, "question_id": 58300364, "link": "https://stackoverflow.com/questions/58300364/kotlin-basics-print-same-string-more-than-twice/58300520#58300520", "title": "Kotlin Basics: print same string more than twice", "body": "<p>So @pappbence96 pointed me in the right direction. This is in fact a 'feature' of Logcat. Repetitive messages will be ignored!? See here for more info:\n<a href=\"https://www.reddit.com/r/androiddev/comments/8ckqdr/psa_logcat_now_hides_repetitive_messages/\" rel=\"nofollow noreferrer\">Reddit: Logcat now hides repetitive messages</a></p>\n"}], "owner": {"reputation": 833, "user_id": 2798738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d3tCb.png?s=128&g=1", "display_name": "Richard R", "link": "https://stackoverflow.com/users/2798738/richard-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1605538397, "creation_date": 1570611037, "last_edit_date": 1605538397, "question_id": 58300364, "link": "https://stackoverflow.com/questions/58300364/kotlin-basics-print-same-string-more-than-twice", "title": "Kotlin Basics: print same string more than twice", "body": "<p>So I recently started with Kotlin and ran into a very basic but yet crazy behavior: Whenever I want to repeat a <code>println</code> more than twice, I only get the first two <code>println</code>s executed. Let me explain:</p>\n\n<pre><code>fun helloWorld() { \n   println(\"Hello World!\")\n   println(\"Hello World!\")\n   println(\"Hello World!\")\n}\n</code></pre>\n\n<p>just prints</p>\n\n<pre><code>Hello World!\nHello World!\n</code></pre>\n\n<p>in the Logcat. So it doesn't execute the last statement. But adding a number like</p>\n\n<pre><code>fun helloWorld() { \n   println(\"Hello World! 1\")\n   println(\"Hello World! 2\")\n   println(\"Hello World! 3\")\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Hello World! 1\nHello World! 2\nHello World! 3\n</code></pre>\n\n<p>as expected. So as I see it, every identical operation is only executed twice?! This is driving me insane. Where's my error?</p>\n"}, {"tags": ["kotlin", "constructor", "super"], "answers": [{"comments": [{"owner": {"reputation": 2201, "user_id": 3142209, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dCJiQ.jpg?s=128&g=1", "display_name": "gutenmorgenuhu", "link": "https://stackoverflow.com/users/3142209/gutenmorgenuhu"}, "edited": false, "score": 0, "creation_date": 1570611252, "post_id": 58300292, "comment_id": 102963537, "body": "But I want the properties (posX, posY,... ) declared in superclass CanvasElement and NOT in the subclass Circle"}, {"owner": {"reputation": 2201, "user_id": 3142209, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dCJiQ.jpg?s=128&g=1", "display_name": "gutenmorgenuhu", "link": "https://stackoverflow.com/users/3142209/gutenmorgenuhu"}, "edited": false, "score": 0, "creation_date": 1570629619, "post_id": 58300292, "comment_id": 102973777, "body": "I edited the original example with java code, so that it might be clearer"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 1, "last_activity_date": 1570610798, "creation_date": 1570610798, "answer_id": 58300292, "question_id": 58300199, "link": "https://stackoverflow.com/questions/58300199/call-superconstructor-from-secondary-constructor/58300292#58300292", "title": "Call SuperConstructor from secondary constructor", "body": "<p>Why not use the defaults like you did in <code>CanvasElement</code>?:</p>\n\n<pre><code>class Circle(\n    var radius : Double = 0.0,\n    var posX : Double = 0.0,\n    var posY: Double = 0.0,\n    var fill : String = \"\",\n    var stroke : String = \"\"\n) : CanvasElement(posX, posY, fill, stroke)\n</code></pre>\n\n<p>This declaration will allow to pass any number of the parameters:</p>\n\n<pre><code>Circle() // Circle(radius = 0.0) + CanvasElement(0.0, 0.0, \"\", \"\")\nCircle(10.0) // Circle(radius = 10.0) + CanvasElement(0.0, 0.0, \"\", \"\")\nCircle(10.0, 1.0, 2.0, \"red\", \"black\") // Circle(radius = 10.0) + CanvasElement(1.0, 2.0, \"red\", \"black\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2201, "user_id": 3142209, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dCJiQ.jpg?s=128&g=1", "display_name": "gutenmorgenuhu", "link": "https://stackoverflow.com/users/3142209/gutenmorgenuhu"}, "edited": false, "score": 0, "creation_date": 1570621219, "post_id": 58300309, "comment_id": 102968900, "body": "The problem with this is, that I need to have knowledge of the properties like posX etc in Circle. But I want them to be declared in the superclass. When I have multiple classes inheriting from CanvasElement I would need to adapt all these classes if CanvasElement gets a new property"}, {"owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "reply_to_user": {"reputation": 2201, "user_id": 3142209, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dCJiQ.jpg?s=128&g=1", "display_name": "gutenmorgenuhu", "link": "https://stackoverflow.com/users/3142209/gutenmorgenuhu"}, "edited": false, "score": 0, "creation_date": 1570644301, "post_id": 58300309, "comment_id": 102981180, "body": "Every property is declared in <code>CanvasElement</code> only radius is declared in <code>Circle</code>. My answer provides the exact code as your updated question (insted of the private modifier in the java code, but it is trivial to modify to have the properties be private)."}], "tags": [], "owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "is_accepted": true, "score": 1, "last_activity_date": 1570610873, "creation_date": 1570610873, "answer_id": 58300309, "question_id": 58300199, "link": "https://stackoverflow.com/questions/58300199/call-superconstructor-from-secondary-constructor/58300309#58300309", "title": "Call SuperConstructor from secondary constructor", "body": "<p>Do you would like to have something like this?</p>\n\n<pre><code>open class CanvasElement(var posX: Double , var posY: Double, var fill: String , var stroke: String)\n\nclass Circle(var radius: Double = 0.0,\n             posX: Double = 0.0,\n             posY: Double = 0.0,\n             fill: String = \"\",\n             stroke: String = \"\") : CanvasElement(posX, posY, fill, stroke)\n</code></pre>\n\n<p>IF I understood you properly you don't want <code>CanvasElement</code> to have deafults and you want to be able to create a <code>Circle</code> by defining only the <code>radius</code> and possibly other properties that <code>CanvasElement</code> has.</p>\n"}], "owner": {"reputation": 2201, "user_id": 3142209, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dCJiQ.jpg?s=128&g=1", "display_name": "gutenmorgenuhu", "link": "https://stackoverflow.com/users/3142209/gutenmorgenuhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58300309, "answer_count": 2, "score": 0, "last_activity_date": 1570696644, "creation_date": 1570610450, "last_edit_date": 1570696644, "question_id": 58300199, "link": "https://stackoverflow.com/questions/58300199/call-superconstructor-from-secondary-constructor", "title": "Call SuperConstructor from secondary constructor", "body": "<p>I have the class <code>Circle</code> which extends <code>CanvasElement</code>. \nI want to be able to create a circle just by giving a radius AND by initializing with the total set of values.\nAt the moment, my code looks clunky, setting each value from the super class one by one. How can I just call the super constructs with all values (posX, posY, etc. passed into the constructor call?</p>\n\n<pre><code>class Circle(var radius : Double = 0.0) : CanvasElement(){\nconstructor(posX : Double,\n        posY : Double,\n        radius : Double,\n        fill : String,\n        stroke : String) : this(radius){\n    this.fill = fill\n    this.stroke = stroke \n\n    this.posX = posX\n    this.posY = posY\n}\n</code></pre>\n\n<p>Class: CanvasElement</p>\n\n<pre><code>open class CanvasElement(\n    var posX : Double = 0.0,\n    var posY: Double = 0.0,\n    var fill : String = \"\",\n    var stroke : String = \"\"){\n}\n</code></pre>\n\n<p>For a better understanding, I have added the java code for what I want to achieve:</p>\n\n<p><strong>Circle</strong></p>\n\n<pre><code>public class Circle extends CanvasElement{\n    private int radius;\n\n    public Circle(int radius){\n        super(0,0);\n        this.radius = radius;\n    }\n}\n</code></pre>\n\n<p><strong>CanvasElement</strong></p>\n\n<pre><code>public class CanvasElement{\n    private double posX;\n    private double posY;\n\n    public CanvasElement(double posX, double posY){\n        this.posX = posX;\n        this.posY = posY;\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-intent", "methods"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1570609746, "post_id": 58299832, "comment_id": 102962718, "body": "you shouldn&#39;t need to have 2 fragment in <code>main_activity.xml</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1570625407, "post_id": 58299832, "comment_id": 102971205, "body": "<code>.observe( this,</code> should be <code>viewLifecycleOwner</code> instead of <code>this</code>"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "edited": false, "score": 0, "creation_date": 1570615428, "post_id": 58300114, "comment_id": 102965881, "body": "Thank you, but it&#39;s not the main issue."}, {"owner": {"reputation": 160, "user_id": 9251549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jqVvwN8KcdA/AAAAAAAAAAI/AAAAAAAAB4o/DT0mcQii4sM/photo.jpg?sz=128", "display_name": "Arsalan Imtiaz", "link": "https://stackoverflow.com/users/9251549/arsalan-imtiaz"}, "reply_to_user": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "edited": false, "score": 0, "creation_date": 1570617949, "post_id": 58300114, "comment_id": 102967154, "body": "have you got the solution?"}, {"owner": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "edited": false, "score": 0, "creation_date": 1570621972, "post_id": 58300114, "comment_id": 102969322, "body": "No i did not bro"}], "tags": [], "owner": {"reputation": 160, "user_id": 9251549, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jqVvwN8KcdA/AAAAAAAAAAI/AAAAAAAAB4o/DT0mcQii4sM/photo.jpg?sz=128", "display_name": "Arsalan Imtiaz", "link": "https://stackoverflow.com/users/9251549/arsalan-imtiaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1570610378, "last_edit_date": 1570610378, "creation_date": 1570610139, "answer_id": 58300114, "question_id": 58299832, "link": "https://stackoverflow.com/questions/58299832/go-to-the-second-fragment-activity-not-working-in-kotlin/58300114#58300114", "title": "Go to the second fragment (activity) not working in kotlin", "body": "<p>You have use <code>onClickListener</code> for one button twice and in first <code>listener</code> you are try below code </p>\n\n<pre><code>trying to call fragment with intent\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        login_id_re.setOnClickListener {\n            performRegister()\n        }\n\n        go_login_page_id.setOnClickListener {\n            var fr = fragmentManager?.beginTransaction()\n            fr?.replace(R.id.ModifyFragment, LoginFragment())\n            fr?.commit()\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "edited": false, "score": 0, "creation_date": 1570700035, "post_id": 58300115, "comment_id": 102998768, "body": "<code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http:&#47;&#47;schemas.android.com&#47;apk&#47;res&#47;android&quot;     xmlns:app=&quot;http:&#47;&#47;schemas.android.com&#47;apk&#47;res-auto&quot;     android:id=&quot;@+id&#47;register_view_id&quot;     android:layout_width=&quot;match_parent&quot;     android:layout_height=&quot;match_parent&quot;&gt;</code> this is my FrameLayout with the id register_view_id but it steel not working in my code."}], "tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1570610142, "creation_date": 1570610142, "answer_id": 58300115, "question_id": 58299832, "link": "https://stackoverflow.com/questions/58299832/go-to-the-second-fragment-activity-not-working-in-kotlin/58300115#58300115", "title": "Go to the second fragment (activity) not working in kotlin", "body": "<p>As you can see from <a href=\"https://developer.android.com/reference/android/app/FragmentTransaction.html#replace(int,%20android.app.Fragment)\" rel=\"nofollow noreferrer\">replace</a> function documentation the first parameter of replace function should be a reference to <strong>view container</strong> such as a <code>FrameLayout</code>. Edit your <code>layout.xml</code> to have a FrameLayout which is supposed to contain the current fragment of your activity, as explained in the <a href=\"https://developer.android.com/training/basics/fragments/fragment-ui\" rel=\"nofollow noreferrer\">documentation page</a>.\nRight now you're passing <code>R.id.ModifyFragment</code> (which is not a valid view container) to replace function, so your app is raising the error \"there was an error unresolved reference <code>ModifyFragment</code>\"</p>\n"}], "owner": {"reputation": 79, "user_id": 4503936, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/rBrAC.jpg?s=128&g=1", "display_name": "Sadiki Ayoub", "link": "https://stackoverflow.com/users/4503936/sadiki-ayoub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570868330, "creation_date": 1570609186, "last_edit_date": 1570868330, "question_id": 58299832, "link": "https://stackoverflow.com/questions/58299832/go-to-the-second-fragment-activity-not-working-in-kotlin", "title": "Go to the second fragment (activity) not working in kotlin", "body": "<p>I want to switch from <code>modifyfragment</code> to the <code>loginfragment</code> by cliquing on the button <code>go_login_page_id</code> so i tried to insert the code below:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        go_login_page_id.setOnClickListener {\n            val intent = Intent(context, ModifyFragment::class.java)\n            startActivity(intent)\n            Log.d(\"MainActivity\", \"Try to show login activity\")\n        }\n        login_id_re.setOnClickListener {\n            performRegister()\n        }\n        go_login_page_id.setOnClickListener {\n            var fr = fragmentManager?.beginTransaction()\n            fr?.replace(R.id.ModifyFragment, LoginFragment())\n            fr?.commit()\n        }\n    }\n</code></pre>\n\n<p>the fragment <strong>register_activity.xml</strong>'s code which shows the fragment contain the main container and the button: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container_view_id\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/register_view_id\"\n        android:layout_width=\"0dp\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"match_parent\"\n        class=\"com.menu.a9dli3.ui.modifyFragment.ModifyFragment\"\n        tools:ignore=\"MissingConstraints\" /&gt;\n    &lt;EditText\n        android:id=\"@+id/surname_id_re\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Surname\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintEnd_toEndOf=\"@+id/name_id\"\n        app:layout_constraintStart_toStartOf=\"@+id/name_id\"\n        app:layout_constraintTop_toBottomOf=\"@+id/name_id\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/phone_id_re\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Phone\"\n        android:inputType=\"phone\"\n        app:layout_constraintEnd_toEndOf=\"@+id/surname_id_re\"\n        app:layout_constraintStart_toStartOf=\"@+id/surname_id_re\"\n        app:layout_constraintTop_toBottomOf=\"@+id/surname_id_re\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/password_id_re\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Password\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"@+id/phone_id_re\"\n        app:layout_constraintStart_toStartOf=\"@+id/phone_id_re\"\n        app:layout_constraintTop_toBottomOf=\"@+id/phone_id_re\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/login_id_re\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"10dp\"\n        android:onClick=\"@string/menu_send\"\n        android:text=\"Loging\"\n        app:layout_constraintEnd_toEndOf=\"@+id/password_id_re\"\n        app:layout_constraintStart_toStartOf=\"@+id/password_id_re\"\n        app:layout_constraintTop_toBottomOf=\"@+id/password_id_re\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/go_login_page_id\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"10dp\"\n        android:text=\"I Have an account\"\n        android:textSize=\"18sp\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_id_re\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_id_re\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_id_re\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/name_id\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:ems=\"10\"\n        android:hint=\"Name\"\n        android:inputType=\"textPersonName\"\n        app:layout_constraintEnd_toEndOf=\"@+id/email_id_re\"\n        app:layout_constraintStart_toStartOf=\"@+id/email_id_re\"\n        app:layout_constraintTop_toBottomOf=\"@+id/email_id_re\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/email_id_re\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"150dp\"\n        android:ems=\"10\"\n        android:hint=\"Email \"\n        android:inputType=\"textEmailAddress\"\n        android:padding=\"12dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>As you can see in the <strong>modifyFragment.kt</strong>'s code:</p>\n\n<pre><code>package com.menu.a9dli3.ui.modifyFragment\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.fragment.app.Fragment\nimport androidx.lifecycle.ViewModelProviders\nimport com.menu.a9dli3.ui.login.LoginFragment\nimport kotlinx.android.synthetic.main.fragment_modify_profile.*\nimport android.R\n\nclass ModifyFragment: Fragment() {\n\n\n    private lateinit var modifyviewmodel: ModifyViewModel\n\n    override fun onCreateView (inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View?\n    {\n        modifyviewmodel = ViewModelProviders.of(this).get(ModifyViewModel::class.java)\n        val root = inflater.inflate(com.menu.a9dli3.R.layout.fragment_modify_profile, container, false)\n        val templatemode: TextView = root.findViewById(com.menu.a9dli3.R.id.text_slidemodify)\n         modifyviewmodel.text.observe( this, androidx.lifecycle.Observer { templatemode.text= it } )\n        return root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        login_id_re.setOnClickListener {\n            performRegister()\n        }\n\n        go_login_page_id.setOnClickListener {\n            var fr = fragmentManager?.beginTransaction()\n            fr?.replace(R.id.ModifyFragment, LoginFragment())\n            fr?.commit()\n        }\n    }\n\n    private fun performRegister() {\n        val email = email_id_re.text.toString()\n        val password = password_id_re.text.toString()\n        val name = surname_id_re.text.toString()\n        val surname = surname_id_re.toString()\n        val phone = phone_id_re.toString()\n\n        if (email.isEmpty() || password.isEmpty() || name.isEmpty() || phone.isEmpty() || surname.isEmpty()) {\n            Toast.makeText(context, \"Please enter all the text fields\", Toast.LENGTH_SHORT ).show()\n            return\n        }\n        Log.d(\"MainActivity\", \"Email is: $email\")\n        Log.d(\"MainActivity\", \"Password: $password\")\n    }\n}\n</code></pre>\n\n<p>there was an error <strong>unresolved reference ModifyFragment</strong>,\nI tried to insert <strong>modify_list</strong> and <strong>login_list</strong> fragments in the <strong>main_activity.xml</strong> in the purpose that the android studio suggests to me these fragments, but steel the same things.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n    &lt;fragment\n        android:id=\"@+id/modify_list\"\n        android:layout_width=\"0dp\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"match_parent\"\n        class=\"com.menu.a9dli3.ui.modifyFragment.ModifyFragment\"\n        /&gt;\n    &lt;fragment\n        android:id=\"@+id/login_list\"\n        android:layout_width=\"0dp\"\n        android:layout_weight=\"1\"\n        android:layout_height=\"match_parent\"\n        class=\"com.menu.a9dli3.ui.login.LoginFragment\"\n        /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>can you explain to me the best practices concerning intents and life cycle for creating methods (onCreate, on viewCreated and onCreateview) in the two cases Activity and fragment.</p>\n"}, {"tags": ["android", "kotlin", "realm"], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "is_accepted": true, "score": 4, "last_activity_date": 1570609052, "creation_date": 1570609052, "answer_id": 58299805, "question_id": 58299653, "link": "https://stackoverflow.com/questions/58299653/initialize-arrayint-from-mutablelistint/58299805#58299805", "title": "Initialize Array&lt;Int&gt; from MutableList&lt;Int&gt;", "body": "<pre><code>val ids : Array&lt;Int&gt; = locations.map { it.locationId!! }.toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 1384, "user_id": 7175708, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/QJYJM.png?s=128&g=1", "display_name": "Lechucico", "link": "https://stackoverflow.com/users/7175708/lechucico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58299805, "answer_count": 1, "score": 4, "last_activity_date": 1570609550, "creation_date": 1570608395, "last_edit_date": 1570609550, "question_id": 58299653, "link": "https://stackoverflow.com/questions/58299653/initialize-arrayint-from-mutablelistint", "title": "Initialize Array&lt;Int&gt; from MutableList&lt;Int&gt;", "body": "<p>I have the following code:</p>\n\n<pre><code>val realm = Realm.getDefaultInstance()\nval items = realm.where(ItemRealm::class.java).equalTo(\"Id\", id).findAll()\nval ids = arrayOf&lt;Int&gt;(locations.map { it.locationId!! })\nreturn realm.where(LocationRealm::class.java).`in`(\"id\", ids).findAll()\n</code></pre>\n\n<p>Got the following error:</p>\n\n<blockquote>\n  <p>Type inference failed. Expected type mismatch: Required Int, Found List</p>\n</blockquote>\n\n<p>I know that this is because the first parameter on Array constructor is Size, but I don't know how to init that array. I need it because the <code>Realm.where.in</code> needs an <code>Array&lt;Int&gt;</code> to work.</p>\n\n<p>There's some other way (more faster) than initializing the following way?</p>\n\n<pre><code>val locations = realm.where(ItemStockLocationsRealm::class.java).equalTo(\"stockId\", id).findAll()\nval ids = arrayOf(locations.size) {0}\nfor (i in locations.indices) { ids[i] = locations[i]?.locationId!! }\n</code></pre>\n"}, {"tags": ["android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1570608154, "post_id": 58299516, "comment_id": 102961930, "body": "go to sdk tools check any updates are required?"}, {"owner": {"reputation": 1, "user_id": 12186149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220584195334189/picture?type=large", "display_name": "Sonsay Racap&#233;", "link": "https://stackoverflow.com/users/12186149/sonsay-racap%c3%a9"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1570609557, "post_id": 58299516, "comment_id": 102962626, "body": "since i updated android studio, i can&#39;t open new projects"}], "owner": {"reputation": 1, "user_id": 12186149, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220584195334189/picture?type=large", "display_name": "Sonsay Racap&#233;", "link": "https://stackoverflow.com/users/12186149/sonsay-racap%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570616219, "creation_date": 1570607841, "last_edit_date": 1570616219, "question_id": 58299516, "link": "https://stackoverflow.com/questions/58299516/gradle-sync-failed-with-exception", "title": "Gradle Sync Failed with Exception", "body": "<p>I\u2019m new developer in kotlin.</p>\n\n<p>I started a new project in android studio, but when the compiler build the project he said Gradle Sync Failed.</p>\n\n<p>so I look on the internet and I am following the instructions (update Gradle) but nothing happens. always the same message \u201cGradle Sync Failed\u201d.</p>\n\n<p>I tried all day yesterday and this morning to fix it. Anyone can help me.</p>\n\n<p>Thank you</p>\n\n<p><a href=\"https://i.stack.imgur.com/VmpOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmpOq.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "gson", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 3, "last_activity_date": 1570610320, "last_edit_date": 1570610320, "creation_date": 1570605824, "answer_id": 58299006, "question_id": 58298847, "link": "https://stackoverflow.com/questions/58298847/ignore-primary-key-when-serialize-using-gson/58299006#58299006", "title": "Ignore Primary key when serialize using Gson", "body": "<p>I see some side effects - transient make filed totally unserializable (for example when is set as <code>argument</code> in bundle, assuming your <code>Item</code> would be <code>Serializable</code>), not only for GSON.</p>\n\n<p>So, one of possibility I see is to add SerializationStrategy for GSON:</p>\n\n<pre><code>import android.arch.persistence.room.PrimaryKey\nimport com.google.gson.FieldAttributes\nimport com.google.gson.ExclusionStrategy\nimport com.google.gson.GsonBuilder\nimport com.google.gson.Gson\n\n\nGsonBuilder()\n    .addSerializationExclusionStrategy(object : ExclusionStrategy {\n        override fun shouldSkipField(f: FieldAttributes): Boolean {\n            return f.annotations.any { it is PrimaryKey }\n        }\n\n        override fun shouldSkipClass(aClass: Class&lt;*&gt;): Boolean {\n            return false\n        }\n    }\n).create()\n</code></pre>\n\n<p>But, it would not serialize every field annotated with <code>@PrimaryClass</code>. The other way would be use <code>@Expose</code> with param <code>serialize = false</code>:</p>\n\n<p><code>@Expose(serializable = false) @PrimaryKey var id: Int = 0</code></p>\n\n<p>Then the filed will be excluded from serialization.\nYou can see docs of <code>Expose</code> here: <a href=\"https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/Expose.html\" rel=\"nofollow noreferrer\">https://static.javadoc.io/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/Expose.html</a></p>\n"}], "owner": {"reputation": 314, "user_id": 575569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f467443193ea5efebfe8d1f2bbf9219?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/575569/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 58299006, "answer_count": 1, "score": 1, "last_activity_date": 1570697511, "creation_date": 1570605163, "last_edit_date": 1570697511, "question_id": 58298847, "link": "https://stackoverflow.com/questions/58298847/ignore-primary-key-when-serialize-using-gson", "title": "Ignore Primary key when serialize using Gson", "body": "<p>I am doing an export/import solution for my app using GSON, and saving on ExternalStorage. I want to serialize all field except the <code>PrimaryKey</code>. When deserializing and adding the Items to db I want the <code>PrimaryKey</code> auto-generated.</p>\n\n<p>The one solution I have found is to use <strong>@Transient</strong> but is that a good solution or does it have any downsides? Any other suggestions?</p>\n\n<pre><code>@Entity(tableName = \"item\")\ndata class Item(\n    @ColumnInfo(name = \"name\") val name: String,\n    @ColumnInfo(name = \"data\", typeAffinity = ColumnInfo.BLOB) val DataItem: FloatArray,\n    @ColumnInfo(name = \"created_at\") var createdAt: Long = System.currentTimeMillis()\n) {\n    @Transient @PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"id\") var id: Int = 0\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 3265, "user_id": 2757664, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2Lap3.jpg?s=128&g=1", "display_name": "Saeed Entezari", "link": "https://stackoverflow.com/users/2757664/saeed-entezari"}, "edited": false, "score": 0, "creation_date": 1570607880, "post_id": 58298820, "comment_id": 102961805, "body": "Hi and welcome to StackOverflow. Do you need to add your dependencies to your jar file so that they are resolved automatically? Are you familiar with the POM files?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570671630, "post_id": 58299478, "comment_id": 102989210, "body": "hello Jaymin thanks for your answer, i did what you said. But it doesn&#39;t work, there is no such path build -&gt; libs -&gt; .jar in the module directory. And i also want to know is there any difference between in this way and build in gradle task?"}, {"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "reply_to_user": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570681655, "post_id": 58299478, "comment_id": 102991318, "body": "There is no difference. You do not have to code if you approach my way. what kind of module are you trying to build the JAR? it should be <b>Java library</b>. You can use the <b>.aar</b> file as well. the same process will generate the <b>.aar</b> file as well."}, {"owner": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570687271, "post_id": 58299478, "comment_id": 102992737, "body": "My module is android library, it doesn&#39;t generate either .jar or .aar. Build directory doesn&#39;t contain lib directory."}, {"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "reply_to_user": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570687808, "post_id": 58299478, "comment_id": 102992943, "body": "It should work. The same thing is working for me. I&#39;ve done this multiple times to generate the jar/aar with the same steps."}, {"owner": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570688852, "post_id": 58299478, "comment_id": 102993380, "body": "ok thanks I&#39;ll try again, but I think it doesn&#39;t solve my question. Maybe you know how to solve it?"}, {"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "reply_to_user": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570688911, "post_id": 58299478, "comment_id": 102993398, "body": "I think this question can help you. <a href=\"https://stackoverflow.com/questions/21712714/how-to-make-a-jar-out-from-an-android-studio-project\" title=\"how to make a jar out from an android studio project\">stackoverflow.com/questions/21712714/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "edited": false, "score": 0, "creation_date": 1570689011, "post_id": 58299478, "comment_id": 102993439, "body": "I can build a jar through gradle task, and the jar contains kotlin-stdlib.jar. When apps written in Kotlin calls my jar, there will be a confliction, because the version of kotlin-stdlib.jar between my jar and the apps is not the same"}], "tags": [], "owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "is_accepted": false, "score": 0, "last_activity_date": 1570607729, "creation_date": 1570607729, "answer_id": 58299478, "question_id": 58298820, "link": "https://stackoverflow.com/questions/58298820/how-can-i-make-a-jar-through-gradle-including-dependency/58299478#58299478", "title": "how can I make a jar through gradle including dependency", "body": "<p>You don't have to write any code for that. just follow the below steps:</p>\n\n<ol>\n<li><p>open the <strong>Gradle projects</strong> pane on the <strong>right side</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dGCSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGCSu.png\" alt=\"Gradle projects pane\"></a></p></li>\n<li><p>Goto the module for which you want to build the jar. Expand the <strong>Tasks node</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PEOgF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PEOgF.png\" alt=\"Task node\"></a></p></li>\n<li><p>Expand the <strong>Build</strong> folder and double click on the <strong>Build action.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/SrTXC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SrTXC.png\" alt=\"build action\"></a></p></li>\n<li><p>The build process will be started. Once the process is completed, JAR/AAr will be generated. </p></li>\n<li><p>Goto the module directory, then follow the path <strong>build -> libs -> .jar</strong></p></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 12186449, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdKsvneFceY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdjRtaTIx5bL78MoHPat7UfKfL26A/photo.jpg?sz=128", "display_name": "huiwen hu", "link": "https://stackoverflow.com/users/12186449/huiwen-hu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570607729, "creation_date": 1570605040, "last_edit_date": 1570607441, "question_id": 58298820, "link": "https://stackoverflow.com/questions/58298820/how-can-i-make-a-jar-through-gradle-including-dependency", "title": "how can I make a jar through gradle including dependency", "body": "<p>i have a module written in kotlin, now i have to make this module into a jar. I have to include kotlin-stlib-1.3.50.jar into my jar, so that it can run successfully in android. But there is a question is that the app which calls my jar is also written in kotlin, and it has a different version of kotlin-stdlib. So how can I solve it?</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\nplugins {\nid('com.android.library')\nid('kotlin-android')\nid('kotlin-android-extensions')\n}\n\n\nandroid {\ncompileSdkVersion 28\ndefaultConfig {\n    minSdkVersion 27\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n\nsourceSets {\n    main {\n        aidl.srcDirs = ['src/main/aidl']\n    }\n}\n\nconfigurations.all {\n    resolutionStrategy.force 'com.android.support:support-annotations:26.1.0'\n}\n\n}\n\ndependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\n//    implementation 'com.android.support:appcompat-v7:28.0.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\nimplementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.41'\nimplementation 'com.squareup.okio:okio:2.2.2'\nimplementation 'androidx.fragment:fragment:1.0.0'\nimplementation 'com.nex3z:notification-badge:1.0.2'\nimplementation files('libs/framework.jar')\nimplementation 'com.nex3z:notification-badge:1.0.2'\nimplementation 'com.android.support:support-annotations:28.0.0'\n}\nrepositories {\nmavenCentral()\n}\n\n\n\ntask createJar(type: Jar){\nprintln(configurations.compile.asPath)\narchiveName 'wifisdkn_7_4_2.jar'\nfrom('build/intermediates/javac/release/compileReleaseJavaWithJavac/classes')\nfrom('build/tmp/kotlin-classes/release')\n\nfrom {\n    (zipTree('/home/mi/.gradle/caches/transforms-2/files-2.1/d6bc0306f3ac2741d6328b688ed7b145/jars/classes.jar'))\n}\n\nfrom {\n    (zipTree('/home/mi/.gradle/caches/modules-2/files-2.1/com.squareup.okio/okio/2.2.2/36f483536153f15339a8b48d508e22be7c9c531a/okio-2.2.2.jar'))\n}\n\n\nfrom{\n    (zipTree('/home/mi/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.41/e24bd38de28a326cce8b1f0d61e809e9a92dad6a/kotlin-stdlib-1.3.41.jar'))\n}\n\ndestinationDir = file('build/libs')\n}\n\ncreateJar.dependsOn(build)\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "prometheus"], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 5058103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91c1845a30ad7ed9264cbb244a9f51a5?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksandr Charkov", "link": "https://stackoverflow.com/users/5058103/aleksandr-charkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1601623201, "creation_date": 1601623201, "answer_id": 64167557, "question_id": 58298391, "link": "https://stackoverflow.com/questions/58298391/how-to-inject-prometheus-metrics-bean-in-spring-boot-application/64167557#64167557", "title": "How to inject Prometheus metrics bean in Spring Boot Application?", "body": "<p>There is already registered <code>PrometheusConfig</code> class, please rename to other name, something like <code>PrometheusConfiguration</code>.</p>\n"}], "owner": {"reputation": 684, "user_id": 12103573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srltL.png?s=128&g=1", "display_name": "Seydazimov Nurbol", "link": "https://stackoverflow.com/users/12103573/seydazimov-nurbol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1601623201, "creation_date": 1570603233, "question_id": 58298391, "link": "https://stackoverflow.com/questions/58298391/how-to-inject-prometheus-metrics-bean-in-spring-boot-application", "title": "How to inject Prometheus metrics bean in Spring Boot Application?", "body": "<p>I have certain classes to which I want to inject bean from Prometheus Config as a constructor parameter.</p>\n\n<pre><code>@Component\nclass Foo(\n    private val counterMetric: Metric\n) {\n\n}\n\n@Component\nclass Bar(\n    private val counterMetric: Metric\n) {\n\n}\n\n</code></pre>\n\n<pre><code>@Configuration\nclass PrometheusConfig {\n\n    @Bean\n    fun counterMetric() = Counter.build()\n            .name(\"invite_requests\")\n            .help(\"Number of invite requests\")\n            .labelNames(\"method\")\n            .register()\n}\n</code></pre>\n\n<p>I can't inject this bean, because Spring Boot has @PrometheusMetricsExportAutoConfiguration annotation. How I can deal with it?</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'prometheusConfig' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/prometheus/PrometheusMetricsExportAutoConfiguration.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.actuate.autoconfigure.metrics.export.prometheus.PrometheusMetricsExportAutoConfiguration; factoryMethodName=prometheusConfig; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/prometheus/PrometheusMetricsExportAutoConfiguration.class]] for bean 'prometheusConfig': There is already [Generic bean: class [kz.btsd.messenger.calls.config.PrometheusConfig]; scope=singleton; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in file [/home/nurbol/BTSDigital/mess-calls/mess-calls-app/build/classes/kotlin/main/kz/btsd/messenger/calls/config/PrometheusConfig.class]] bound.\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:893)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:274)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:141)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:119)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n    ... 73 more\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8327399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7179116ec3989b53fe282a310e2f58?s=128&d=identicon&r=PG&f=1", "display_name": "dj43", "link": "https://stackoverflow.com/users/8327399/dj43"}, "edited": false, "score": 0, "creation_date": 1570603157, "post_id": 58298284, "comment_id": 102959405, "body": "i am sending a constant value 1 from MainViewModel , i need to send a variable that is entered in text box in UI"}, {"owner": {"reputation": 454, "user_id": 3410835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRX1V.jpg?s=128&g=1", "display_name": "K Pradeep Kumar Reddy", "link": "https://stackoverflow.com/users/3410835/k-pradeep-kumar-reddy"}, "edited": false, "score": 0, "creation_date": 1593577097, "post_id": 58298284, "comment_id": 110826499, "body": "How to pass multiple parameters to GET request ?"}, {"owner": {"reputation": 1782, "user_id": 4690298, "user_type": "registered", "profile_image": "https://graph.facebook.com/878678598884932/picture?type=large", "display_name": "Amjad Alwareh", "link": "https://stackoverflow.com/users/4690298/amjad-alwareh"}, "edited": false, "score": 0, "creation_date": 1593593194, "post_id": 58298284, "comment_id": 110832357, "body": "If you are using a query,&lt;br&gt; <code>suspend fun getTodo(@Query(value = &quot;id&quot;) todoId: Int, @Query(&quot;name&quot;) name: String?): Todo </code> and if you are using a path way &lt;br&gt; <code>suspend fun getTodo(@Path(value = &quot;id&quot;) todoId: Int, @Path(&quot;name&quot;) name: String?): Todo </code>"}], "tags": [], "owner": {"reputation": 1782, "user_id": 4690298, "user_type": "registered", "profile_image": "https://graph.facebook.com/878678598884932/picture?type=large", "display_name": "Amjad Alwareh", "link": "https://stackoverflow.com/users/4690298/amjad-alwareh"}, "is_accepted": false, "score": 0, "last_activity_date": 1570602781, "creation_date": 1570602781, "answer_id": 58298284, "question_id": 58298010, "link": "https://stackoverflow.com/questions/58298010/how-to-send-parameters-for-get-request-using-retrofit-and-kotlin-coroutines/58298284#58298284", "title": "How to send parameters for get request using retrofit and kotlin Coroutines.?", "body": "<p>There is a difference between <code>Path</code> and <code>Query</code> in <code>GET</code> request.<br>\nYou can easily pass query string like this: <br>\ninterface Webservice {</p>\n\n<pre><code>@GET(\"/todos/{id}\")\nsuspend fun getTodo(@Path(value = \"id\") todoId: Int, @Query(\"name\") name: String?): Todo\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 8327399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7179116ec3989b53fe282a310e2f58?s=128&d=identicon&r=PG&f=1", "display_name": "dj43", "link": "https://stackoverflow.com/users/8327399/dj43"}, "edited": false, "score": 0, "creation_date": 1570605064, "post_id": 58298485, "comment_id": 102960338, "body": "i did something like this   <code>fun getTodo(arg : String):LiveData&lt;Response&lt;com.example.myapplication.entity.U&zwnj;&#8203;serData&gt;&gt;     {         val result = liveData(Dispatchers.IO) {             val retrivedTodo = repository.getTodo(arg)              emit(retrivedTodo)         }          return result     }</code> Is it a correct way?"}, {"owner": {"reputation": 241, "user_id": 8224232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1a528e93fb563642f95cd508e7bb?s=128&d=identicon&r=PG", "display_name": "m3g4tr0n", "link": "https://stackoverflow.com/users/8224232/m3g4tr0n"}, "reply_to_user": {"reputation": 61, "user_id": 8327399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7179116ec3989b53fe282a310e2f58?s=128&d=identicon&r=PG&f=1", "display_name": "dj43", "link": "https://stackoverflow.com/users/8327399/dj43"}, "edited": false, "score": 0, "creation_date": 1570606373, "post_id": 58298485, "comment_id": 102961006, "body": "If you want to get todo only once then I guess it&#39;s okay....on conditions like todo refresh it&#39;s not okay because you cannot use the live data you just created"}], "tags": [], "owner": {"reputation": 241, "user_id": 8224232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1a528e93fb563642f95cd508e7bb?s=128&d=identicon&r=PG", "display_name": "m3g4tr0n", "link": "https://stackoverflow.com/users/8224232/m3g4tr0n"}, "is_accepted": true, "score": 1, "last_activity_date": 1570603633, "creation_date": 1570603633, "answer_id": 58298485, "question_id": 58298010, "link": "https://stackoverflow.com/questions/58298010/how-to-send-parameters-for-get-request-using-retrofit-and-kotlin-coroutines/58298485#58298485", "title": "How to send parameters for get request using retrofit and kotlin Coroutines.?", "body": "<p>You can change your viewModel code something like this</p>\n\n<pre><code> private val _todo = MutableLiveData&lt;Todo&gt;()\n val todo : LiveData&lt;Todo&gt; get() =_todo\n\n //Call this method from activity\n fun getTodo(arg : Int)\n {\n  val result = //Call Coroutines here\n  _todo.postValue(result)\n }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8327399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d7179116ec3989b53fe282a310e2f58?s=128&d=identicon&r=PG&f=1", "display_name": "dj43", "link": "https://stackoverflow.com/users/8327399/dj43"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 58298485, "answer_count": 2, "score": 0, "last_activity_date": 1570603633, "creation_date": 1570601642, "last_edit_date": 1570602347, "question_id": 58298010, "link": "https://stackoverflow.com/questions/58298010/how-to-send-parameters-for-get-request-using-retrofit-and-kotlin-coroutines", "title": "How to send parameters for get request using retrofit and kotlin Coroutines.?", "body": "<p>I was following the tutorial from \n<a href=\"https://proandroiddev.com/suspend-what-youre-doing-retrofit-has-now-coroutines-support-c65bd09ba067\" rel=\"nofollow noreferrer\">https://proandroiddev.com/suspend-what-youre-doing-retrofit-has-now-coroutines-support-c65bd09ba067</a>.\nI am having difficulty to understand how to send parameters to get request from MainActivity</p>\n\n<p>Webservice.kt </p>\n\n<pre><code>interface Webservice {\n@GET(\"/todos/{id}\")\nsuspend fun getTodo(@Path(value = \"id\") todoId: Int): Todo\n}\n</code></pre>\n\n<p>TodoRepository.kt</p>\n\n<pre><code>class TodoRepository {\nvar client: Webservice = RetrofitClient.webservice\nsuspend fun getTodo(id: Int) = client.getTodo(id)\n}\n</code></pre>\n\n<p>MainViewModel.kt</p>\n\n<pre><code>class MainViewModel : ViewModel() {\nval repository: TodoRepository = TodoRepository()\n\nval firstTodo = liveData(Dispatchers.IO) {\n    val retrivedTodo = repository.getTodo(1)\n\n    emit(retrivedTodo)\n    }\n}\n</code></pre>\n\n<p>MainAcitvity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nlateinit var viewModel: MainViewModel\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    viewModel = ViewModelProviders.of(this).get(MainViewModel::class.java)\n\n    showFirstTodo()\n}\n\nprivate fun showFirstTodo() {\n    viewModel.getFirstTodo().observe(this, Observer {\n        titleTextView.text = it.title\n    })\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "textview", "scrollview", "scale"], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 12102707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD3hCT_nw9uCCGrUVEV6nKeEeHvZmW844lZnWz2JQ=k-s128", "display_name": "tamo", "link": "https://stackoverflow.com/users/12102707/tamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570698135, "creation_date": 1570698135, "answer_id": 58319170, "question_id": 58297695, "link": "https://stackoverflow.com/questions/58297695/how-to-stop-scrollview-on-textview-from-scrolling-to-the-top-while-pinch-zoomi/58319170#58319170", "title": "How to stop ScrollView (on TextView) from scrolling to the top while pinch-zooming", "body": "<p>Okay, this must be a bug in TextView or something on some devices e.g. Amazon Fire HD 10 (api 22).</p>\n\n<p>Other devices of mine look working.</p>\n\n<p>I removed the ScrollViews and set the detector/listener directly to TextView, and it still had the same problem.</p>\n\n<p>I replaced the ScaleGestureDetector / Listener with some handcrafted code (see below), and it still had the same problem.</p>\n\n<p>I will give up and ignore such buggy devices.</p>\n\n<p>reference:</p>\n\n<pre><code>//var scaleFactor = 1f\n//scroll_view.setOnTouchListener(ZoomTouchListener())\n\ninner class ZoomTouchListener : View.OnTouchListener {\n    private val firstFocalPoint = PointF()\n    private var firstSpan = 0f\n    private var firstScaleFactor = 1f\n    private var firstScrollY = 0\n    private var firstScrollX = 0\n    private var isInProgress = false\n\n    @SuppressLint(\"ClickableViewAccessibility\")\n    override fun onTouch(v: View, e: MotionEvent): Boolean {\n        if (e.pointerCount &gt; 1) {\n            when (e.actionMasked) {\n                MotionEvent.ACTION_POINTER_DOWN,\n                MotionEvent.ACTION_DOWN -&gt; {\n                    startZooming(v, e)\n                }\n                MotionEvent.ACTION_POINTER_UP,\n                MotionEvent.ACTION_UP,\n                MotionEvent.ACTION_CANCEL -&gt; {\n                    isInProgress = false\n                }\n                else -&gt; {\n                    if (!isInProgress) {\n                        startZooming(v, e)\n                    } else {\n                        val focalPoint = getFocalPoint(e)\n                        scaleFactor = (firstScaleFactor * getSpan(e, focalPoint) / firstSpan)\n                                .coerceAtMost(10.0f)\n                                .coerceAtLeast(0.1f)\n                        text_view.textSize = defaultTextSize * scaleFactor\n                        v.scrollY =\n                                ((firstScrollY + firstFocalPoint.y) * scaleFactor / firstScaleFactor\n                                        - focalPoint.y).coerceAtLeast(0f).toInt()\n                        horizontal_scroll_view.scrollX =\n                                ((firstScrollX + firstFocalPoint.x) * scaleFactor / firstScaleFactor\n                                        - focalPoint.x).coerceAtLeast(0f).toInt()\n\n                    }\n                }\n            }\n            return true\n        } else\n            return false\n    }\n\n    private fun startZooming(v: View, e: MotionEvent) {\n        firstFocalPoint.set(getFocalPoint(e))\n        firstSpan = getSpan(e, firstFocalPoint)\n        firstScaleFactor = scaleFactor\n        firstScrollX = v.scrollX\n        firstScrollY = v.scrollY\n        isInProgress = true\n    }\n\n    private fun getFocalPoint(e: MotionEvent): PointF {\n        var sumX = 0f\n        var sumY = 0f\n        for (i in 0 until e.pointerCount) {\n            sumX += e.getX(i)\n            sumY += e.getY(i)\n        }\n        val focusX = sumX / e.pointerCount\n        val focusY = sumY / e.pointerCount\n        return PointF(focusX, focusY)\n    }\n\n    private fun getSpan(e: MotionEvent, focalPoint: PointF): Float {\n        var devSumX = 0f\n        var devSumY = 0f\n        for (i in 0 until e.pointerCount) {\n            devSumX += abs(e.getX(i) - focalPoint.x)\n            devSumY += abs(e.getY(i) - focalPoint.y)\n        }\n        val devX = devSumX / e.pointerCount\n        val devY = devSumY / e.pointerCount\n        val spanX = devX * 2\n        val spanY = devY * 2\n        return hypot(spanX, spanY)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 12102707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD3hCT_nw9uCCGrUVEV6nKeEeHvZmW844lZnWz2JQ=k-s128", "display_name": "tamo", "link": "https://stackoverflow.com/users/12102707/tamo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570698135, "creation_date": 1570599612, "question_id": 58297695, "link": "https://stackoverflow.com/questions/58297695/how-to-stop-scrollview-on-textview-from-scrolling-to-the-top-while-pinch-zoomi", "title": "How to stop ScrollView (on TextView) from scrolling to the top while pinch-zooming", "body": "<p>I want to implement pinch-zooming on my scrolling TextView.</p>\n\n<p>The code below always scrolls to the top while I am zooming.</p>\n\n<p>I want to keep its scrollY intact. Please tell me how to do it.</p>\n\n<pre><code>import android.app.Activity\nimport android.os.Bundle\nimport android.view.ScaleGestureDetector\nimport kotlinx.android.synthetic.main.scroll_layout.*\n\nclass ScrollTextActivity : Activity() {\n    private var scaleFactor = 1.0f\n    private val defaultTextSize = 30.0f\n    private val scaleListener = ScaleListener()\n    private val scaleGestureDetector: ScaleGestureDetector by lazy {\n        ScaleGestureDetector(this, scaleListener)\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.scroll_layout)\n        text_view.textSize = defaultTextSize * scaleFactor\n        scroll_view.setOnTouchListener { _, e -&gt;\n            if (e.pointerCount &gt; 1) {\n                scaleGestureDetector.onTouchEvent(e)\n                true\n            } else\n                super.onTouchEvent(e)\n        }\n    }\n\n    private inner class ScaleListener : ScaleGestureDetector.SimpleOnScaleGestureListener() {\n        var oldFocusY = 0f\n        var oldScrollY = 0\n        var oldSize = defaultTextSize\n\n        override fun onScaleBegin(detector: ScaleGestureDetector): Boolean {\n            oldFocusY = detector.focusY\n            oldScrollY = scroll_view.scrollY\n            oldSize = text_view.textSize\n            return true\n        }\n\n        override fun onScale(detector: ScaleGestureDetector): Boolean {\n            scaleFactor = (scaleFactor * detector.scaleFactor)\n                    .coerceAtMost(10.0f)\n                    .coerceAtLeast(0.1f)\n            text_view.textSize = defaultTextSize * scaleFactor\n            scroll_view.scrollTo(0, (\n                    (oldScrollY + oldFocusY) * text_view.textSize / oldSize\n                            - oldFocusY).toInt()\n            )\n            return true\n        }\n\n        override fun onScaleEnd(detector: ScaleGestureDetector) {\n        }\n    }\n}\n</code></pre>\n\n<p>and scroll_text.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/root_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ScrollView\n        android:id=\"@+id/scroll_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;HorizontalScrollView\n            android:id=\"@+id/horizontal_scroll_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/text_view\"\n                style=\"@style/TextAppearance.MaterialComponents.Body1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:gravity=\"start|top\"\n                android:scrollHorizontally=\"true\"\n                android:textIsSelectable=\"true\"\n                android:text=\" Long \\n long \\n long \\n long \\n long \\n long \\n long \\n text...\"/&gt;\n        &lt;/HorizontalScrollView&gt;\n    &lt;/ScrollView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>Moreover, it sometimes scrolls back to the intended position when you</p>\n\n<ol>\n<li>Put your finger on the screen and move it. The text scrolls. Keep it on.</li>\n<li>Put your thumb on the screen and move it. The text zooms. (And the top of text is seen.)</li>\n<li>Lift up only your thumb.</li>\n</ol>\n\n<p>But it does not always happen. More strangely, sometimes it starts to work as expected.</p>\n\n<p>Target APIs are minSdkVersion 19, targetSdkVersion 29.</p>\n"}, {"tags": ["android", "kotlin", "google-play-services", "android-location"], "comments": [{"owner": {"reputation": 11585, "user_id": 2668136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eSSOK.png?s=128&g=1", "display_name": "fllo", "link": "https://stackoverflow.com/users/2668136/fllo"}, "edited": false, "score": 0, "creation_date": 1574865689, "post_id": 58297557, "comment_id": 104383116, "body": "Did you try with a different priority than <code>PRIORITY_HIGH_ACCURACY</code> (<a href=\"https://stackoverflow.com/a/58331118/2668136\">see</a>)?"}, {"owner": {"reputation": 429, "user_id": 6038484, "user_type": "registered", "profile_image": "https://graph.facebook.com/965266793545262/picture?type=large", "display_name": "Jinson Paul", "link": "https://stackoverflow.com/users/6038484/jinson-paul"}, "edited": false, "score": 0, "creation_date": 1574915967, "post_id": 58297557, "comment_id": 104400194, "body": "No, Even the device is in High accuracy mode that is Enable providers are Network and GPS , still this checkLocationSettings returns failure"}, {"owner": {"reputation": 290, "user_id": 12273964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/172d3eeb267c5faddf096e0f56b01638?s=128&d=identicon&r=PG&f=1", "display_name": "Sandhiya", "link": "https://stackoverflow.com/users/12273964/sandhiya"}, "edited": false, "score": 0, "creation_date": 1574945891, "post_id": 58297557, "comment_id": 104413633, "body": "@Mustansar Saeed refer dis ``` <a href=\"https://stackoverflow.com/a/10311891/12273964\">stackoverflow.com/a/10311891/12273964</a> ```"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 6038484, "user_type": "registered", "profile_image": "https://graph.facebook.com/965266793545262/picture?type=large", "display_name": "Jinson Paul", "link": "https://stackoverflow.com/users/6038484/jinson-paul"}, "edited": false, "score": 0, "creation_date": 1575353056, "post_id": 59137365, "comment_id": 104527187, "body": "The problem is even If all conditions for success listener is  satisfied still in some devices onError is Occurring and it is not always,,"}], "tags": [], "owner": {"reputation": 549, "user_id": 5514839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bzMt9.jpg?s=128&g=1", "display_name": "Rahul Goswami", "link": "https://stackoverflow.com/users/5514839/rahul-goswami"}, "is_accepted": false, "score": 2, "last_activity_date": 1575283847, "creation_date": 1575283847, "answer_id": 59137365, "question_id": 58297557, "link": "https://stackoverflow.com/questions/58297557/settingsclient-checksettings-always-fails-with-status-locationsettingsstatuscode/59137365#59137365", "title": "SettingsClient.checkSettings always fails with status LocationSettingsStatusCodes.RESOLUTION_REQUIRED", "body": "<p>Hello follow this code to resolve your problem, I added GPSUtils class with the help of this class you can easily manage GPS.</p>\n\n<p><strong>GpsUtils.Class</strong></p>\n\n<pre><code>import android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.IntentSender;\nimport android.location.LocationManager;\nimport android.support.annotation.NonNull;\nimport android.util.Log;\nimport android.widget.Toast;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.common.api.ResolvableApiException;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\nimport com.google.android.gms.location.LocationSettingsResponse;\nimport com.google.android.gms.location.LocationSettingsStatusCodes;\nimport com.google.android.gms.location.SettingsClient;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport static android.content.ContentValues.TAG;\npublic class GpsUtils {\nprivate Context context;\n    private SettingsClient mSettingsClient;\n    private LocationSettingsRequest mLocationSettingsRequest;\n    private LocationManager locationManager;\n    private LocationRequest locationRequest;\npublic GpsUtils(Context context) {\n        this.context = context;\n        locationManager = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n        mSettingsClient = LocationServices.getSettingsClient(context);\nlocationRequest = LocationRequest.create();\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setInterval(10 * 1000);\n        locationRequest.setFastestInterval(2 * 1000);\n        LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder()\n                .addLocationRequest(locationRequest);\n        mLocationSettingsRequest = builder.build();\n//**************************\n        builder.setAlwaysShow(true); //this is the key ingredient\n        //**************************\n    }\n// method for turn on GPS\n    public void turnGPSOn(onGpsListener onGpsListener) {\nif (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n            if (onGpsListener != null) {\n                onGpsListener.gpsStatus(true);\n            }\n        } else {\n            mSettingsClient\n                    .checkLocationSettings(mLocationSettingsRequest)\n                    .addOnSuccessListener((Activity) context, new OnSuccessListener&lt;LocationSettingsResponse&gt;() {\n                        @SuppressLint(\"MissingPermission\")\n                        @Override\n                        public void onSuccess(LocationSettingsResponse locationSettingsResponse) {\n//  GPS is already enable, callback GPS status through listener\n                            if (onGpsListener != null) {\n                                onGpsListener.gpsStatus(true);\n                            }\n                        }\n                    })\n                    .addOnFailureListener((Activity) context, new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            int statusCode = ((ApiException) e).getStatusCode();\n                            switch (statusCode) {\n                                case LocationSettingsStatusCodes.RESOLUTION_REQUIRED:\ntry {\n                                        // Show the dialog by calling startResolutionForResult(), and check the\n                                        // result in onActivityResult().\n                                        ResolvableApiException rae = (ResolvableApiException) e;\n                                        rae.startResolutionForResult((Activity) context, AppConstants.GPS_REQUEST);\n                                    } catch (IntentSender.SendIntentException sie) {\n                                        Log.i(TAG, \"PendingIntent unable to execute request.\");\n                                    }\n                                    break;\n                                case LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE:\n                                    String errorMessage = \"Location settings are inadequate, and cannot be \" +\n                                            \"fixed here. Fix in Settings.\";\n                                    Log.e(TAG, errorMessage);\nToast.makeText((Activity) context, errorMessage, Toast.LENGTH_LONG).show();\n                            }\n                        }\n                    });\n        }\n    }\npublic interface onGpsListener {\n        void gpsStatus(boolean isGPSEnable);\n    }\n}\n</code></pre>\n\n<p>GPS Dialog will be shown for SettingsClient\u2019s failure callback and it will result in an activity\u2019s onActivityResult(). So basically if the user agrees for turn on GPS, we can enable GPS flag in our activity.</p>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (resultCode == Activity.RESULT_OK) {\n        if (requestCode == AppConstants.GPS_REQUEST) {\n            isGPS = true; // flag maintain before get location\n        }\n    }\n}\n</code></pre>\n\n<p>and now call GpsUtils class before getting a location.</p>\n\n<pre><code>new GpsUtils(this).turnGPSOn(new GpsUtils.onGpsListener() {\n    @Override\n    public void gpsStatus(boolean isGPSEnable) {\n        // turn on GPS\n        isGPS = isGPSEnable;\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 2458, "user_id": 3027124, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/FAY1V.jpg?s=128&g=1", "display_name": "Mustansar Saeed", "link": "https://stackoverflow.com/users/3027124/mustansar-saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1575283847, "creation_date": 1570598683, "last_edit_date": 1570603578, "question_id": 58297557, "link": "https://stackoverflow.com/questions/58297557/settingsclient-checksettings-always-fails-with-status-locationsettingsstatuscode", "title": "SettingsClient.checkSettings always fails with status LocationSettingsStatusCodes.RESOLUTION_REQUIRED", "body": "<p>I am using <code>LocationServices</code> in my application. Before using location services I am trying to verify if Location with required settings is ON but the problem I am facing is that <code>SettingsClient.checkSettings</code> always <code>failing</code>. Please see my <code>LocationRequest</code> and <code>LocationSettingRequest</code> builder:</p>\n\n<p><strong>LocationRequest</strong></p>\n\n<pre><code> mLocationRequest = LocationRequest()\n        mLocationRequest.interval = interval\n        mLocationRequest.fastestInterval = interval\n\n        Log.v(TAG, \"distance =&gt; $distance\")\n        if(distance &gt; 0) {\n            mLocationRequest.smallestDisplacement = distance\n        }\n\n        mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n\n        buildLocationSettingsRequest()\n</code></pre>\n\n<p><strong>LocationSettingRequestBuilder</strong></p>\n\n<pre><code>private fun buildLocationSettingsRequest() {\n        val builder = LocationSettingsRequest.Builder()\n        builder.addLocationRequest(mLocationRequest)\n        mLocationSettingsRequest = builder.build()\n\n        mSettingsClientInit = true\n    }\n</code></pre>\n\n<p>And I am requesting <code>checkSettings</code> as</p>\n\n<pre><code>mSettingsClient.checkLocationSettings(mLocationSettingsRequest)\n                .addOnSuccessListener(this, object : OnSuccessListener&lt;LocationSettingsResponse&gt; {\n\n                    override fun onSuccess(locationSettingsResponse: LocationSettingsResponse) {\n                        Log.i(TAG, \"LocationManager: All location settings are satisfied.\");\n                        mLocationCallback?.let {\n                            fusedLocationClient?.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n                        }\n//                        updateUI();\n                    }\n                })\n                .addOnFailureListener(this, object : OnFailureListener {\n                    override fun onFailure(e: Exception) {\n                        Log.v(TAG, \"Request PErmission failure\");\n                        var statusCode = (e as ApiException).getStatusCode()\n                        when (statusCode) {\n                            LocationSettingsStatusCodes.RESOLUTION_REQUIRED -&gt; {\n                                try {\n                                    // Show the dialog by calling startResolutionForResult(), and check the\n                                    // result in onActivityResult().\n                                    var rae = e as ResolvableApiException;\n                                    rae.startResolutionForResult(this@BaseLocationActivity, REQUEST_CHECK_SETTINGS);\n                                } catch (sie: IntentSender.SendIntentException) {\n                                    Log.v(TAG, \"PendingIntent unable to execute request.\");\n                                }\n                            }\n                            LocationSettingsStatusCodes.SETTINGS_CHANGE_UNAVAILABLE -&gt; {\n                                mRequestingLocationUpdates = false;\n                                Log.v(TAG, \"Settings change unavailable.\");\n                            }\n\n                        }\n                    }\n                }\n                )\n</code></pre>\n\n<p>It is always resulting <code>onFailure</code> of <code>addOnFailureListener</code>. Can anyone please help me what can be the issue? This settings dialog shows OK to enable settings, I press OK, again same dialog appears with onFailure callback. </p>\n\n<blockquote>\n  <p>It is occuring on some devices, not on all devices.</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "fragment", "file-manager"], "comments": [{"owner": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 2, "creation_date": 1570598040, "post_id": 58297432, "comment_id": 102957711, "body": "Post your stack trace"}, {"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "reply_to_user": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 0, "creation_date": 1570598199, "post_id": 58297432, "comment_id": 102957753, "body": "App Orientation: Landscape  Step 1: Open file chooser  step 2: choose file  (File manager open in &quot;Portrait&quot; mode)  after select getting crash"}, {"owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "edited": false, "score": 0, "creation_date": 1570598502, "post_id": 58297432, "comment_id": 102957821, "body": "@BipinBharti post the logs without it no one can understand properly what was the error."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1570598522, "post_id": 58297432, "comment_id": 102957828, "body": "What is crash report?"}, {"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1570599103, "post_id": 58297432, "comment_id": 102957982, "body": "@Piyush Above Error Report"}, {"owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "edited": false, "score": 0, "creation_date": 1570599238, "post_id": 58297432, "comment_id": 102958020, "body": "Checkout this <a href=\"https://stackoverflow.com/a/47413094/6314513\">stackoverflow.com/a/47413094/6314513</a>"}, {"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "reply_to_user": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "edited": false, "score": 0, "creation_date": 1570599483, "post_id": 58297432, "comment_id": 102958094, "body": "@GowthamSubramaniam  my app working fine in both landscape but not working in file manager open in portrait"}, {"owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "edited": false, "score": 0, "creation_date": 1570599854, "post_id": 58297432, "comment_id": 102958212, "body": "@BipinBharti your error log says that your txtTime  is null. You forget to bind it using findViewById. Check that  once."}, {"owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "reply_to_user": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "edited": false, "score": 0, "creation_date": 1570600307, "post_id": 58297432, "comment_id": 102958331, "body": "@BhoomikaPatel yes when I choose file after set text in onActivityResult"}, {"owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "edited": false, "score": 0, "creation_date": 1570600886, "post_id": 58297432, "comment_id": 102958493, "body": "@BipinBharti post  your onCreate code with xml layout designs."}], "owner": {"reputation": 854, "user_id": 5488468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uZFd2.jpg?s=128&g=1", "display_name": "Bipin Bharti", "link": "https://stackoverflow.com/users/5488468/bipin-bharti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570601439, "creation_date": 1570597947, "last_edit_date": 1570601439, "question_id": 58297432, "link": "https://stackoverflow.com/questions/58297432/crash-when-select-file-after", "title": "Crash when select file after", "body": "<p>App getting crashed while selecting file from <code>file manager</code>.\nMy Application <code>Screen orientation=\"Landscape\"</code> and file manager open in \"<strong>portrait</strong>\" after a select file getting crash.</p>\n\n<p>Any idea why? </p>\n\n<blockquote>\n  <p>Error:\" java.lang.IllegalStateException: txtTime must not be null\n          at com.mathsolver.app.fragments.FragMain$setTimerForChangeProblem$1.run(FragMain.kt:77)\n          at android.os.Handler.handleCallback(Handler.java:790)\n          at android.os.Handler.dispatchMessage(Handler.java:99)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.app.ActivityThread.main(ActivityThread.java:6494)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \"\"</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-intent", "android-activity"], "comments": [{"owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "edited": false, "score": 0, "creation_date": 1570597045, "post_id": 58297275, "comment_id": 102957487, "body": "post your <code>logcat</code> pls."}, {"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1570597552, "post_id": 58297275, "comment_id": 102957602, "body": "where is startActivity call ?"}, {"owner": {"reputation": 4346, "user_id": 1292557, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccb0ba86944ca95bd765dfcc1ed3eb32?s=128&d=identicon&r=PG", "display_name": "Abu Yousuf", "link": "https://stackoverflow.com/users/1292557/abu-yousuf"}, "edited": false, "score": 0, "creation_date": 1570597682, "post_id": 58297275, "comment_id": 102957642, "body": "Which line you are getting nullpointer Exception ? Did you implement <code>Parcelable</code> interface on <code>Persona</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": true, "score": 1, "last_activity_date": 1570598066, "last_edit_date": 1570598066, "creation_date": 1570597749, "answer_id": 58297396, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin/58297396#58297396", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>In your activity B to get your list try like the following </p>\n\n<pre><code>var arr = this.getIntent().getParcelableArrayListExtra&lt;Parcelable&gt;(\"Personas\")\n</code></pre>\n\n<p>and make sure your <code>Persona</code> is <code>extend Parcelable</code> like below.</p>\n\n<pre><code>class Persona() : Parcelable {\n   // ....\n   @Override\n   public void writeToParcel(Parcel dest, int flags) {\n       //....\n   }\n\n   private void readFromParcel(Parcel in) {\n      //....\n   }\n   override fun describeContents(): Int {\n      return 0\n   }\n\n   companion object CREATOR : Creator&lt;Persona&gt; {\n    override fun createFromParcel(parcel: Parcel): Persona{\n      return Persona(parcel)\n    }\n\n    override fun newArray(size: Int): Array&lt;Persona?&gt; {\n      return arrayOfNulls(size)\n    }\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86, "user_id": 8352815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRJG6.jpg?s=128&g=1", "display_name": "HasH", "link": "https://stackoverflow.com/users/8352815/hash"}, "edited": false, "score": 0, "creation_date": 1603399863, "post_id": 58297434, "comment_id": 114034069, "body": "Works Like A Charm, plus it&#39;s not experimental anymore ;)"}], "tags": [], "owner": {"reputation": 237, "user_id": 7352715, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/vSTfE.jpg?s=128&g=1", "display_name": "Tushar Pingale", "link": "https://stackoverflow.com/users/7352715/tushar-pingale"}, "is_accepted": false, "score": 1, "last_activity_date": 1570598753, "last_edit_date": 1570598753, "creation_date": 1570597972, "answer_id": 58297434, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin/58297434#58297434", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>In your, Activity A send array list with</p>\n\n<pre><code>intent.putParcelableArrayListExtra(\"Personas\", personas)\n</code></pre>\n\n<p>In your, Activity B get array list with</p>\n\n<pre><code>intent.getParcelableArrayListExtra(\"Personas\")\n</code></pre>\n\n<p>In your app's build.gradle inside android tag add this and sync with gradle -</p>\n\n<pre><code>androidExtensions {\n        experimental = true\n    }\n</code></pre>\n\n<p>Data Class</p>\n\n<pre><code>@Parcelize data class Persona(\n    val name: String,\n    ) : Parcelable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 672, "user_id": 9854554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/btJHz.jpg?s=128&g=1", "display_name": "Naresh NK", "link": "https://stackoverflow.com/users/9854554/naresh-nk"}, "is_accepted": false, "score": 3, "last_activity_date": 1570598237, "creation_date": 1570598237, "answer_id": 58297483, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin/58297483#58297483", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>In your app's build.gradle under android scope add this and sync gradle -</p>\n\n<pre><code>androidExtensions {\n        experimental = true\n    }\n</code></pre>\n\n<p>Then make your object class parceble as follows -</p>\n\n<pre><code>@Parcelize\ndata class Persona() : Parcelable {\n\n}\n</code></pre>\n\n<p>Now you can send and receive Parcelable list by intent.</p>\n\n<p>Note* - Parcelize is experimental feature.</p>\n"}, {"tags": [], "owner": {"reputation": 4346, "user_id": 1292557, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ccb0ba86944ca95bd765dfcc1ed3eb32?s=128&d=identicon&r=PG", "display_name": "Abu Yousuf", "link": "https://stackoverflow.com/users/1292557/abu-yousuf"}, "is_accepted": false, "score": 2, "last_activity_date": 1570601153, "creation_date": 1570601153, "answer_id": 58297932, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin/58297932#58297932", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>To pass List of Data via intent implement <code>Parcelable</code> interface on Model class.</p>\n\n<p><strong>Person Model Class:</strong></p>\n\n<pre><code>import android.os.Parcel\nimport android.os.Parcelable\n\n\ndata class Person(val name: String?, val age: Int) : Parcelable {\n    constructor(source: Parcel) : this(\n        source.readString(),\n        source.readInt()\n    )\n\n    override fun describeContents() = 0\n\n    override fun writeToParcel(dest: Parcel, flags: Int) = with(dest) {\n        writeString(name)\n        writeInt(age)\n    }\n\n    companion object {\n        @JvmField\n        val CREATOR: Parcelable.Creator&lt;Person&gt; = object : Parcelable.Creator&lt;Person&gt; {\n            override fun createFromParcel(source: Parcel): Person = Person(source)\n            override fun newArray(size: Int): Array&lt;Person?&gt; = arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity:</strong> </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    var personList = arrayListOf&lt;Person&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        personList.add(Person(\"Person1\", 31))\n        personList.add(Person(\"Person2\", 32))\n        personList.add(Person(\"Person3\", 33))\n\n        var intent = Intent(this, BActivity::class.java)\n        intent.putParcelableArrayListExtra(\"personList\", personList)\n        Handler().postDelayed( {startActivity(intent)}, 2000)\n    }\n}\n</code></pre>\n\n<p><strong>BActivity:</strong> </p>\n\n<pre><code>class BActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_b)\n\n        val extras = intent.extras\n        val personList = extras?.getParcelableArrayList&lt;Person&gt;(\"personList\")\n\n\n        if (personList != null) {\n\n            personList.forEach { Log.i(\"BActivity\", \"Name: ${it.name} Age: ${it.age}\" ) }\n\n        }else{\n            Log.i(\"BActivity\", \"PersonList in null\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 11294696, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tSrQrQ9RXtU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGwJZqrj_vmp-xLNmYAnuG20nZgQ/mo/photo.jpg?sz=128", "display_name": "Kiran Bablani", "link": "https://stackoverflow.com/users/11294696/kiran-bablani"}, "is_accepted": false, "score": 1, "last_activity_date": 1570614609, "last_edit_date": 1570614609, "creation_date": 1570614261, "answer_id": 58301348, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin/58301348#58301348", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>Step 1. add this in your app build.gradle inside android scope.</p>\n\n<pre><code> androidExtensions {\n        experimental = true\n    }\n</code></pre>\n\n<p>Step 2: Make object class implement Parcelable</p>\n\n<pre><code>@Parcelize\n class Persona():Parcelable {\n}\n</code></pre>\n\n<p>Step 3. In activity A send data via intent:</p>\n\n<pre><code>  val intent = Intent(this, B::class.java)\n            intent.putParcelableArrayListExtra(\"list\", personaArrayList)\n            startActivity(intent)\n</code></pre>\n\n<p>Step 4: In activity B for recieving data: </p>\n\n<pre><code> val list = intent.getParcelableArrayListExtra&lt;Persona&gt;(\"list\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12185885, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Bi-G3wySPT4/AAAAAAAAAAI/AAAAAAAAAvY/6JtRKKIYSp4/photo.jpg?sz=128", "display_name": "Flicker", "link": "https://stackoverflow.com/users/12185885/flicker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3336, "favorite_count": 2, "accepted_answer_id": 58297396, "answer_count": 5, "score": 1, "last_activity_date": 1570614609, "creation_date": 1570596818, "last_edit_date": 1570609463, "question_id": 58297275, "link": "https://stackoverflow.com/questions/58297275/how-to-pass-a-list-of-objects-from-activity-a-to-activity-b-in-kotlin", "title": "How to Pass a List of Objects from activity A to activity B in Kotlin?", "body": "<p>I have 2 Activities, I want to pass an arraylist of an Object and show it on a ListView</p>\n\n<blockquote>\n  <p>Activity A:</p>\n</blockquote>\n\n<pre><code>     btnGuardar.setOnClickListener{\n\n                if(edtNombre.text.toString().equals(\"\") || \n                     edtApellido.text.toString().equals(\"\") || \n                     edtFecha.text.toString().equals(\"\")){\n\n                    Toast.makeText(this@Main2Activity, \"Debes llenar todos los campos!\", Toast.LENGTH_SHORT).show()\n                }else{\n                    var estadoSel : String\n                    estadoSel = estado.onItemSelectedListener.toString()\n                   var per = Persona(edtNombre.text.toString(),edtApellido.text.toString(),estadoSel,edtFecha.text.toString())\n                    personas.add(per)\n                    val intent = Intent(this@Main2Activity,Main3Activity::class.java)\n                    //intent.putExtra(\"Personas\",  personas as Serializable)\n                    intent.putParcelableArrayListExtra(\"Personas\", ArrayList(personas))\n                    edtFecha.text = null\n                    edtApellido.text = null\n                    edtNombre.text = null\n                    estado.setSelection(0)\n                    Toast.makeText(this@Main2Activity, \"Registro Guardado\", Toast.LENGTH_SHORT).show()\n                }\n            }\n</code></pre>\n\n<blockquote>\n  <p>Activity B:</p>\n</blockquote>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main3)\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n        //val intent = Intent()\n        val bundle = getIntent().extras\n        var arr  = bundle?.getParcelableArrayList&lt;Persona&gt;(\"Personas\")!!\n        //var arr : ArrayList&lt;Persona&gt; = (ArrayList&lt;Persona&gt;())intent.getSerializableExtra(\"Personas\")\n        //intent.getSerializableExtra(\"Personas\")\n        //arr = intent.extras!!.get(\"Personas\")\n        val adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, arr)\n        listaPersonas.adapter = adapter\n    }\n</code></pre>\n\n<p>But I'm getting a Null Pointer Exception</p>\n"}, {"tags": ["android", "kotlin", "twitter", "oauth"], "comments": [{"owner": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 1, "creation_date": 1570636917, "post_id": 58296679, "comment_id": 102977841, "body": "One trick to help determine what the headers should look like is using either Twurl or Postman and inspect the request. You should also follow <a href=\"https://developer.twitter.com/en/docs/basics/authentication/guides/authorizing-a-request\" rel=\"nofollow noreferrer\">these instructions</a>. Is this missing the nonce and are you also encoding the url params?"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 0, "creation_date": 1570638783, "post_id": 58296679, "comment_id": 102978724, "body": "@osowskit those are the instructions i followed to get the header i have - not sure what twurl or postman is but i can look into them and see if it will help"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 0, "creation_date": 1570638912, "post_id": 58296679, "comment_id": 102978778, "body": "@osowskit I also do have a nonce, but i guess i had it commented out when i got the logs for this question will update that now"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 0, "creation_date": 1570640239, "post_id": 58296679, "comment_id": 102979324, "body": "@osowskit Okay, so i just downloaded postman, and copied all the auth info i have (my api key/secret and the token secret i get from oauth response) I set the nonce and signature meathod - and then when i choose <code>Add authorization data to - Request Headers</code>, it works!"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 0, "creation_date": 1570640258, "post_id": 58296679, "comment_id": 102979335, "body": "@osowskit so whats the correct way to mimic this postman request in android?"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 4602, "user_id": 1375964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b86c3c6b84ef73a7bd810996e8b9cc?s=128&d=identicon&r=PG", "display_name": "osowskit", "link": "https://stackoverflow.com/users/1375964/osowskit"}, "edited": false, "score": 0, "creation_date": 1570642234, "post_id": 58296679, "comment_id": 102980264, "body": "@osowskit never mind, managed to figure it out by mimicing the postman header - will add an answer soon"}], "answers": [{"tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": true, "score": 3, "last_activity_date": 1570642578, "creation_date": 1570642578, "answer_id": 58309448, "question_id": 58296679, "link": "https://stackoverflow.com/questions/58296679/twitter-api-401s-on-account-verify-credentials/58309448#58309448", "title": "Twitter API 401&#39;s on /account/verify_credentials", "body": "<p>Okay, finally got it working</p>\n\n<p>So using the suggestion in the comments, I downloaded postman and copied all my info into postman - when i made the request there, I got a 200!</p>\n\n<p>So then i looked back and tried to figure out what was different and there were a few things:</p>\n\n<p>First the hmac sign function was missing an <code>&amp;</code></p>\n\n<p>New function (added another <code>&amp;</code> after the url):</p>\n\n<pre><code>    private fun hmacSign(requestType: RequestType, url: String, params: Map&lt;String, String&gt;): String {\n        val type = \"HmacSHA1\"\n        val key = \"$API_SECRET&amp;$tokenSecret\"\n        val value = makeURLSafe(\"${requestType.string}&amp;$url&amp;${getURLString(params.toList().sortedBy { it.first }.toMap())}\")\n\n        val mac = javax.crypto.Mac.getInstance(type)\n        val secret = javax.crypto.spec.SecretKeySpec(key.toByteArray(), type)\n        mac.init(secret)\n        val digest = mac.doFinal(value.toByteArray())\n\n        return makeURLSafe(Base64.encodeToString(digest, NO_WRAP))\n    }\n</code></pre>\n\n<p>Next I noticed my auth header had its params seperated with <code>&amp;</code> but they all should've been replaced with <code>,</code> - i also needed to surround each of my values in <code>\"\"</code></p>\n\n<p>So it looked like: </p>\n\n<pre><code>OAuth oauth_consumer_key=\"****\",oauth_nonce=\"bbmthpoiuq\",oauth_signature=\"*****%3D\",oauth_signature_method=\"HMAC-SHA1\",oauth_timestamp=\"1570586135\",oauth_token=\"*****\",oauth_version=\"1.0\",Host=\"api.twitter.com\"\n</code></pre>\n\n<p>After these changes i started getting 200!</p>\n\n<p>Hopefully this helps someone else (though im sure its unlikely considering how specific these issues were)</p>\n"}], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 58309448, "answer_count": 1, "score": 2, "last_activity_date": 1570642578, "creation_date": 1570591903, "last_edit_date": 1570638966, "question_id": 58296679, "link": "https://stackoverflow.com/questions/58296679/twitter-api-401s-on-account-verify-credentials", "title": "Twitter API 401&#39;s on /account/verify_credentials", "body": "<p>I am trying to make use of the twitter api, and am setting up a handler to deal with twitter api requests.</p>\n\n<p>To do this I am using an <code>HTTPUrlConnection</code> and following the Twitter api docs</p>\n\n<p>I've managed to get authenticated using the 3-legged OAuth process, but am stuck when actually trying to make requests with the oauth token.</p>\n\n<p>Here is an example of what my auth headers look like:</p>\n\n<pre><code>Accept=*/*, \nConnection=close, \nUser-Agent=OAuth gem v0.4.4, \nContent-Type=application/x-www-form-urlencoded, \nAuthorization=\nOAuth oauth_consumer_key=****&amp;\noauth_nonce=bbmthpoiuq&amp;\noauth_signature=*****%3D&amp;\noauth_signature_method=HMAC-SHA1&amp;\noauth_timestamp=1570586135&amp;\noauth_token=*****&amp;\noauth_version=1.0,\nHost=api.twitter.com\n</code></pre>\n\n<p>for each header in the auth header I add it to my HTTP <code>GET</code> call like this:</p>\n\n<pre><code>urlConnection.setRequestProperty(header.key, header.value)\n</code></pre>\n\n<p>Note that <code>Authorization</code> points to one string </p>\n\n<pre><code>OAuth oauth_consumer_key=****&amp;oauth_nonce=bbmthpoiuq&amp;oauth_signature=*****%3Doauth_signature_method=HMAC-SHA1oauth_timestamp=1570586135&amp;oauth_token=*****&amp;oauth_version=1.0,Host=api.twitter.com\n</code></pre>\n\n<p>The following params are collected as follows:</p>\n\n<ul>\n<li><p><code>oauth_consumer_key</code> is my application API key</p></li>\n<li><p><code>oauth_signature</code> is computed by the <code>hmacSign</code> function below</p></li>\n<li><p><code>oauth_token</code> is the \"oauth_token\" received in the response from <code>/oauth/access_token</code></p></li>\n</ul>\n\n<p>The <code>hmacSign</code> function:</p>\n\n<pre><code>    private fun hmacSign(requestType: RequestType, url: String, params: Map&lt;String, String&gt;): String {\n        val type = \"HmacSHA1\"\n        val key = \"$API_SECRET&amp;$tokenSecret\"\n        val value = makeURLSafe(\"${requestType.string}&amp;$url${getURLString(params.toList().sortedBy { it.first }.toMap())}\")\n\n        val mac = javax.crypto.Mac.getInstance(type)\n        val secret = javax.crypto.spec.SecretKeySpec(key.toByteArray(), type)\n        mac.init(secret)\n        val digest = mac.doFinal(value.toByteArray())\n\n        return makeURLSafe(Base64.encodeToString(digest, NO_WRAP))\n    }\n\n    private fun makeURLSafe(url: String) : String {\n        return url.replace(\"/\", \"%2F\")\n            .replace(\",\", \"%2C\")\n            .replace(\"=\", \"%3D\")\n            .replace(\":\", \"%3A\")\n            .replace(\" \", \"%2520\")\n    }\n\n    protected fun getURLString(params: Map&lt;String, Any&gt;) : String {\n        if (params.isEmpty()) return \"\"\n\n        return params.toList().fold(\"?\") { total, current -&gt;\n            var updated = total\n\n            updated += if (total == \"?\")\n                \"${current.first}=${current.second}\"\n            else\n                \"&amp;${current.first}=${current.second}\"\n\n            updated\n        }\n    }\n\n</code></pre>\n\n<p>In the <code>GET</code> call I'm referring to, <code>tokenSecret</code> would be the oauth secret received from <code>/oauth/access_token</code></p>\n\n<p>After i make the call I get a <code>400: Bad Request</code></p>\n\n<p>Is there anything obvious I'm doing wrong?</p>\n\n<hr>\n\n<p>Update: By putting the params at the end of the url like <code>?key=value&amp;key2=value2...</code> instead of a 400 I get a 401. So I'm not sure which is worse, or which is the right way to do it.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-realtime-database", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "edited": false, "score": 0, "creation_date": 1570679766, "post_id": 58296527, "comment_id": 102990935, "body": "Doug, Good catch."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1570590552, "creation_date": 1570590552, "answer_id": 58296527, "question_id": 58296482, "link": "https://stackoverflow.com/questions/58296482/firebase-complex-query-from-android-results-in-error/58296527#58296527", "title": "Firebase complex query from Android results in ERROR", "body": "<p>You forgot to provide an initial value for:</p>\n\n<pre><code>var paymentInfoRequired: String,\n</code></pre>\n\n<p>This prevents Kotlin from creating a no-arg constructor for that data class.</p>\n"}], "owner": {"reputation": 957, "user_id": 2940677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5609a6658bbe04550aaa2a90aafa2fe0?s=128&d=identicon&r=PG&f=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/2940677/faisal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58296527, "answer_count": 1, "score": 0, "last_activity_date": 1570590618, "creation_date": 1570590163, "question_id": 58296482, "link": "https://stackoverflow.com/questions/58296482/firebase-complex-query-from-android-results-in-error", "title": "Firebase complex query from Android results in ERROR", "body": "<p>We have a complex data structure stored in Firebase realtime-database and following Firebase's official way of retrieving the data using MVVM + <a href=\"http://%20https://firebase.googleblog.com/2017/12/using-android-architecture-components.html\" rel=\"nofollow noreferrer\">LiveData</a>. We are trying to map the resulting data snapshot(list of users) into a Kotlin data class but results as <strong> does not define a no-argument constructor</strong>. Complete error below:</p>\n\n<pre><code>  com.google.firebase.database.DatabaseException: Class com.myapp.android.firebase.dto.ProfessionalDetails does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.1.0:552)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@19.1.0:545)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(com.google.firebase:firebase-database@@19.1.0:415)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@19.1.0:214)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-database@@19.1.0:79)\n</code></pre>\n\n<p>The ProfessionalDetails is as below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Keep\r\n@IgnoreExtraProperties\r\ndata class ProfessionalDetails constructor(\r\n    var bookings: Bookings = Bookings(),\r\n    var business_details: BusinessDetails = BusinessDetails(),\r\n    var clientProvider: String = \"\",\r\n    var clientUserId: String = \"\",\r\n    var country: String = \"\",\r\n    var created: String = \"\",\r\n    var device_id: String = \"\",\r\n    var diary: Diary = Diary(),\r\n    var first_name: String = \"\",\r\n    var hide_profile: String = \"\",\r\n    var last_name: String = \"\",\r\n    var mobile_number: String = \"\",\r\n    var paymentInfoRequired: String,\r\n    var payment_info: PaymentInfo = PaymentInfo(\"\", \"\", \"\"),\r\n    var proEmail: String = \"\",\r\n    var proPwd: String = \"\",\r\n    var profile_picture: String = \"\",\r\n    var profile_picture_url: String = \"\",\r\n    var profile_thumbnail: String = \"\",\r\n    var profile_thumbnail_url: String = \"\",\r\n    var service_categories: String = \"\",\r\n    var services: List&lt;ProfessionalServices&gt; = emptyList(),\r\n    var signup_complete: String = \"\",\r\n    var signup_step: String = \"\",\r\n    var terms: String = \"\",\r\n    var user_type: String = \"\"\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you noticed each element of the data class is initialized as per SOF discussions to overcome the above firebase exception. Had no luck, we suspect disparity in the mapping between the data class and the backend structure.</p>\n\n<p>The suspected areas are pasted below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mFwEG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mFwEG.png\" alt=\"Bookings node\"></a></p>\n\n<p>and it's equivalent data class is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Keep\r\n@IgnoreExtraProperties\r\ndata class Bookings constructor(\r\n    var booking_requests: List&lt;BookingRequests&gt; = emptyList()\r\n)\r\n\r\n@Keep\r\ndata class BookingRequests constructor(\r\n    var date: String = \"\",\r\n    var payment_currency: String = \"\",\r\n    var professional_user_id: String = \"\",\r\n    var service_duration: String = \"\",\r\n    var service_name: String = \"\",\r\n    var service_price: String = \"\",\r\n    var status: String = \"\",\r\n    var time: String = \"\"\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/VpDCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VpDCN.png\" alt=\"Diary mode\"></a></p>\n\n<p>and it's equivalent data class is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Keep\r\n@IgnoreExtraProperties\r\ndata class Diary constructor(\r\n    var booking_id: String = \"\",\r\n    var client_first_name: String = \"\",\r\n    var client_last_name: String = \"\",\r\n    var client_user_id: String = \"\",\r\n    var created_by: String = \"\",\r\n    var date: String = \"\",\r\n    var duration: String = \"\",\r\n    var end_time: String = \"\",\r\n    var payment_currency: String = \"\",\r\n    var service_name: String = \"\",\r\n    var service_price: String = \"\",\r\n    var start_time: String = \"\",\r\n    var title: String = \"\"\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>We believe to be a disparity in mapping between data class and database structure, Any lead to convert the dynamic node to data class or suggestions would be highly appreciated. </p>\n\n<p>Thanks in advance for reading such a long write-up.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 6023011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf11d9cbf3bf7b86c0821dc39d34fc?s=128&d=identicon&r=PG&f=1", "display_name": "A. Albrg", "link": "https://stackoverflow.com/users/6023011/a-albrg"}, "edited": false, "score": 0, "creation_date": 1570595387, "post_id": 58296667, "comment_id": 102957133, "body": "Sorry, but I did not understand, which class you mean? If you mean the class that contains this method, the same thing will happen!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12013230"}, "reply_to_user": {"reputation": 133, "user_id": 6023011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf11d9cbf3bf7b86c0821dc39d34fc?s=128&d=identicon&r=PG&f=1", "display_name": "A. Albrg", "link": "https://stackoverflow.com/users/6023011/a-albrg"}, "edited": false, "score": 0, "creation_date": 1570621181, "post_id": 58296667, "comment_id": 102968872, "body": "i think userVisibleHint is a class. for access a property from userVisibleHint class you should use that form.maybe i don&#39;t understand your question."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1570712131, "post_id": 58296667, "comment_id": 103005502, "body": "@Amir No, it&#39;s likely a property name (for <code>Fragment</code>)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12013230"}, "is_accepted": false, "score": 1, "last_activity_date": 1570591806, "creation_date": 1570591806, "answer_id": 58296667, "question_id": 58296452, "link": "https://stackoverflow.com/questions/58296452/getter-and-setter-for-uservisiblehint-is-deprecated-deprecated-in-java/58296667#58296667", "title": "Getter and setter for userVisibleHint is deprecated, Deprecated in Java", "body": "<p>You have to list one \".\" after the name of the class, and then mention the name of the attribute to access it:</p>\n\n<pre><code>getter: class.property\nsetter: class.property = value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 6023011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf11d9cbf3bf7b86c0821dc39d34fc?s=128&d=identicon&r=PG&f=1", "display_name": "A. Albrg", "link": "https://stackoverflow.com/users/6023011/a-albrg"}, "edited": false, "score": 0, "creation_date": 1571563279, "post_id": 58299014, "comment_id": 103276609, "body": "Actually I am using &#39;import androidx.fragment.app.Fragment&#39;"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 133, "user_id": 6023011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf11d9cbf3bf7b86c0821dc39d34fc?s=128&d=identicon&r=PG&f=1", "display_name": "A. Albrg", "link": "https://stackoverflow.com/users/6023011/a-albrg"}, "edited": false, "score": 0, "creation_date": 1571566467, "post_id": 58299014, "comment_id": 103277286, "body": "<a href=\"https://developer.android.com/reference/kotlin/androidx/fragment/app/Fragment.html#getUserVisibleHint()\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/androidx/fragment/app&zwnj;&#8203;/&hellip;</a> says &quot;Deprecated: Use FragmentTransaction#setMaxLifecycle(Fragment, Lifecycle.State) instead.&quot; but it isn&#39;t clear <i>how</i> you are supposed to use it."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1570605886, "creation_date": 1570605886, "answer_id": 58299014, "question_id": 58296452, "link": "https://stackoverflow.com/questions/58296452/getter-and-setter-for-uservisiblehint-is-deprecated-deprecated-in-java/58299014#58299014", "title": "Getter and setter for userVisibleHint is deprecated, Deprecated in Java", "body": "<p><a href=\"https://developer.android.com/reference/android/app/Fragment.html\" rel=\"nofollow noreferrer\">Here</a> you can see that the entire <code>android.app.Fragment</code> class is deprecated and you should switch to <code>android.support.v4.app.Fragment</code>. Its <code>get/setUserVisibleHint</code> methods <a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html#getUserVisibleHint()\" rel=\"nofollow noreferrer\">are not deprecated</a>.</p>\n"}], "owner": {"reputation": 133, "user_id": 6023011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcf11d9cbf3bf7b86c0821dc39d34fc?s=128&d=identicon&r=PG&f=1", "display_name": "A. Albrg", "link": "https://stackoverflow.com/users/6023011/a-albrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 741, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570605886, "creation_date": 1570589951, "question_id": 58296452, "link": "https://stackoverflow.com/questions/58296452/getter-and-setter-for-uservisiblehint-is-deprecated-deprecated-in-java", "title": "Getter and setter for userVisibleHint is deprecated, Deprecated in Java", "body": "<p>Getter and setter for userVisibleHint is deprecated, Deprecated in Java\nHow to fix this ?!</p>\n\n<p>I used this code, but the android studio tells me that 'userVisibleHint' is deprecated.</p>\n\n<pre><code>        val fm = childFragmentManager\n        if (handleBackPressed(fm)) {\n            return true\n        } else if (userVisibleHint &amp;&amp; fm.backStackEntryCount &gt; 0) {\n            fm.popBackStack()\n            return true\n        }\n        return false\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1570588473, "post_id": 58296248, "comment_id": 102955975, "body": "&quot;It&quot; doesn&#39;t work--what? Look up &quot;content type&quot;."}, {"owner": {"reputation": 520, "user_id": 9688781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af76831e968d7ab669a1136808bc8cf6?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/9688781/jake"}, "edited": false, "score": 0, "creation_date": 1570588496, "post_id": 58296248, "comment_id": 102955980, "body": "<a href=\"https://i.imgur.com/ysC4ZzG.jpg\" rel=\"nofollow noreferrer\">i.imgur.com/ysC4ZzG.jpg</a>"}, {"owner": {"reputation": 3, "user_id": 11787844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310634b800ca6d61c5b332b1cdd05ccb?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Marques", "link": "https://stackoverflow.com/users/11787844/carlos-marques"}, "edited": false, "score": 0, "creation_date": 1570590140, "post_id": 58296248, "comment_id": 102956225, "body": "Don&#39;t show imagem on cellphone. Only don&#39;t show and not log."}, {"owner": {"reputation": 3, "user_id": 11787844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310634b800ca6d61c5b332b1cdd05ccb?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Marques", "link": "https://stackoverflow.com/users/11787844/carlos-marques"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1570590667, "post_id": 58296248, "comment_id": 102956315, "body": "@chrylis I update the question. Please look the example on device. Obs: Don&#39;t show log with erros"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 9087847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8CNPf.jpg?s=128&g=1", "display_name": "Giovanka Bisano", "link": "https://stackoverflow.com/users/9087847/giovanka-bisano"}, "edited": false, "score": 0, "creation_date": 1570595627, "post_id": 58296562, "comment_id": 102957168, "body": "And you should add this in the Gradle (app)        <code>implementation &#39;com.github.bumptech.glide:glide:4.9.0&#39; </code>"}], "tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": true, "score": 2, "last_activity_date": 1570595874, "last_edit_date": 1570595874, "creation_date": 1570590874, "answer_id": 58296562, "question_id": 58296248, "link": "https://stackoverflow.com/questions/58296248/how-can-i-load-an-image-from-url-without-extension/58296562#58296562", "title": "How can I load an image from URL without extension", "body": "<p>You can use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\"><strong>Glide</strong></a>.</p>\n\n<p>If your <code>Web server</code> serves an <code>image</code> at that <code>URL</code>, with a valid image <code>MIME type</code>, <code>Glide</code> will handle it. <strong>Glide doesn't care about the extension, it loads the byte stream returned by the server</strong>, it wants a <code>valid URL</code> that supplies a valid image <code>MIME type</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>// For a simple view:\n@Override public void onCreate(Bundle savedInstanceState) {\n  ...\n  ImageView yourImageView = (ImageView) findViewById(R.id.image_view_id);\n\n  Glide.with(this).load(\"image_url\").into(yourImageView);\n}\n</code></pre>\n\n<p>To use Glide in your project see <a href=\"http://bumptech.github.io/glide/doc/download-setup.html\" rel=\"nofollow noreferrer\">download-setup</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 11787844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/310634b800ca6d61c5b332b1cdd05ccb?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Marques", "link": "https://stackoverflow.com/users/11787844/carlos-marques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 58296562, "answer_count": 1, "score": 0, "last_activity_date": 1570595874, "creation_date": 1570588096, "last_edit_date": 1570590457, "question_id": 58296248, "link": "https://stackoverflow.com/questions/58296248/how-can-i-load-an-image-from-url-without-extension", "title": "How can I load an image from URL without extension", "body": "<p>I'd like to load an image from a URL but it doesn't work because the link doesn't have an extension \nCan this be solved??? \nURL example : <a href=\"http://d1s5a4e3za7rni.cloudfront.net/Custom/Content/Products/10/13/1013450_purificador-de-agua-electrolux-pc41x-prata_s4_636822411415208179\" rel=\"nofollow noreferrer\">http://d1s5a4e3za7rni.cloudfront.net/Custom/Content/Products/10/13/1013450_purificador-de-agua-electrolux-pc41x-prata_s4_636822411415208179</a></p>\n\n<p>Example on device :<a href=\"https://i.stack.imgur.com/zoiKX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["android", "kotlin", "google-analytics", "google-play-services", "analytics"], "comments": [{"owner": {"reputation": 306, "user_id": 5120131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jgeDu.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/5120131/andy"}, "edited": false, "score": 0, "creation_date": 1595018142, "post_id": 58296088, "comment_id": 111340389, "body": "Could you resolve this problem?? I have the same requierement but i dont know if it is possible. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2699, "user_id": 1309346, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff00c4728450aea97e78209e5a10b222?s=128&d=identicon&r=PG", "display_name": "Pkmmte", "link": "https://stackoverflow.com/users/1309346/pkmmte"}, "edited": false, "score": 0, "creation_date": 1570634326, "post_id": 58296739, "comment_id": 102976451, "body": "Won&#39;t that just log events rather than page views?"}], "tags": [], "owner": {"reputation": 351, "user_id": 12142021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VoSdH.jpg?s=128&g=1", "display_name": "Praful Korat", "link": "https://stackoverflow.com/users/12142021/praful-korat"}, "is_accepted": false, "score": 0, "last_activity_date": 1570592352, "creation_date": 1570592352, "answer_id": 58296739, "question_id": 58296088, "link": "https://stackoverflow.com/questions/58296088/how-do-you-track-screens-as-pages-on-google-analytics-website-view-using-app-d/58296739#58296739", "title": "How do you track screens as pages on Google Analytics? (website view using app data)", "body": "<p>Add firebase into your project after</p>\n\n<p><strong>App Gradle</strong></p>\n\n<p>add dependency </p>\n\n<pre><code>dependencies {\n    implementation \"com.google.firebase:firebase-analytics:17.1.0\"\n}\n</code></pre>\n\n<p><strong>Project gradle</strong></p>\n\n<p>add this </p>\n\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.0'\n        classpath 'com.google.gms:google-services:4.3.0'\n    }\n}\n\n</code></pre>\n\n<p><strong>Add into your Activity</strong></p>\n\n<pre><code>\npublic class myClass extends AppCompatActivity implements View.OnClickListener {\n\n    public static  FirebaseAnalytics mFirebaseAnalytics;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.myactivity);\n\n\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\n        mFirebaseAnalytics.setAnalyticsCollectionEnabled(true);\n\n\n\n    }\n\n\n @Override\n    public void onClick(View controlView) {\n            switch (controlView.getId()) {\n                case R.id.button1:\n\n                    Bundle bundle = new Bundle();\n                    bundle.putString(\"button1\", \"click\");\n                    mFirebaseAnalytics.logEvent(\"NormalUserclick\", bundle);\n                    break;\n\n                case R.id.button2:\n\n                    Bundle bundle2 = new Bundle();\n                    bundle2.putString(\"button2\", \"click2\");\n                    mFirebaseAnalytics.logEvent(\"BusinessUserclick\", bundle2);\n                    break;\n\n\n            }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 2699, "user_id": 1309346, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff00c4728450aea97e78209e5a10b222?s=128&d=identicon&r=PG", "display_name": "Pkmmte", "link": "https://stackoverflow.com/users/1309346/pkmmte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570592352, "creation_date": 1570586558, "question_id": 58296088, "link": "https://stackoverflow.com/questions/58296088/how-do-you-track-screens-as-pages-on-google-analytics-website-view-using-app-d", "title": "How do you track screens as pages on Google Analytics? (website view using app data)", "body": "<p>We have an Android app we'd like to track pages using Google Analytics with. I've integrated the Google Analytics SDK through Play Services 17.0.0. </p>\n\n<p>However, a requirement is to merge the data with our site data. This means that \"screen views\" must also show up as \"page views\" in our \"All Site Data\" view on our Google Analytics account as well as \"All App Data\". This is because we'd like to see all data combined as one when looking at it, and not have to do double the work in aggregating it each time.</p>\n\n<p>I was able to get page paths to show on our content view by setting <code>tracker.setPage(\"/article/example-slug\")</code> and then sending it as a screen view. </p>\n\n<pre><code>tracker.setPage(page)\ntracker.setScreenName(screen)\ntracker.setTitle(title)\ntracker.send(HitBuilders.ScreenViewBuilder().build())\n</code></pre>\n\n<p>The problem is that it doesn't actually count them as \"page views\". This is what we see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jX8p6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jX8p6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Looking at them in App View works correctly:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7UUbJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7UUbJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Again, we just want to be able to group app page views into site page views.</p>\n\n<p><strong>How can we make sure Google Analytics tracks page views correctly in our native Android app?</strong></p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1570587501, "post_id": 58296084, "comment_id": 102955799, "body": "possible duplicate <a href=\"https://stackoverflow.com/questions/24313539/push-notifications-when-app-is-closed\" title=\"push notifications when app is closed\">stackoverflow.com/questions/24313539/&hellip;</a>"}, {"owner": {"reputation": 351, "user_id": 7834933, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kAAAkx4hSUc/AAAAAAAAAAI/AAAAAAAAqoE/UdciGksbY3A/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/7834933/daniel"}, "edited": false, "score": 0, "creation_date": 1570588647, "post_id": 58296084, "comment_id": 102956005, "body": "Did you follow <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">this</a>? According to it, you only need to handle notifications while in foreground. Background notifications comes for free if everything is configured properly."}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 7172295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf93c35d63a7f9e600ffa107b4c5c01e?s=128&d=identicon&r=PG&f=1", "display_name": "devzeze", "link": "https://stackoverflow.com/users/7172295/devzeze"}, "is_accepted": false, "score": 0, "last_activity_date": 1570823477, "creation_date": 1570823477, "answer_id": 58347656, "question_id": 58296084, "link": "https://stackoverflow.com/questions/58296084/notification-not-receive-when-application-terminated-in-android/58347656#58347656", "title": "Notification not receive when Application terminated in android", "body": "<p>If you're sending data to \n<a href=\"https://fcm.googleapis.com/fcm/send\" rel=\"nofollow noreferrer\">https://fcm.googleapis.com/fcm/send</a>\nyou're using the legacy http protocol as you can see <a href=\"https://firebase.google.com/docs/cloud-messaging/http-server-ref\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>This is not very clear in documentation.</p>\n\n<p>In this protocol to receive the data message when app is in background or closed you should use this payload:</p>\n\n<pre><code>{\n\"to\" : \"token key\",\n\"data\": {\n       \"key1\" : \"value1\",\n       \"key2\" : \"value2\",\n       \"other_key\" : true\n     },\n\"priority\" : 10,\n\"time_to_live\" : 60\n}\n</code></pre>\n\n<p>Test first with maximum priority (10) and then downgrade according t your needs. Also adjust time_to_live in seconds according to your needs.</p>\n"}], "owner": {"reputation": 29, "user_id": 5505694, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xaHlDaRsoCA/AAAAAAAAAAI/AAAAAAAAA0Y/EBuGibSrEEc/photo.jpg?sz=128", "display_name": "BacII", "link": "https://stackoverflow.com/users/5505694/bacii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570823477, "creation_date": 1570586528, "last_edit_date": 1570587852, "question_id": 58296084, "link": "https://stackoverflow.com/questions/58296084/notification-not-receive-when-application-terminated-in-android", "title": "Notification not receive when Application terminated in android", "body": "<p>I use firebase push notification to device token. When app is opening or in foreground I can get notification well. But when app is kill or clear app on current task, I cannot receive notification send. </p>\n\n<p>I have tried on onMessageReceived aleardy at first time work. but now it's not work when killed app. </p>\n\n<ul>\n<li><p>Code  Receive Notification: </p>\n\n<pre><code>class MyFirebaseMessagingService : FirebaseMessagingService() {\n      override fun onMessageReceived(p0: RemoteMessage) {\n          val data = p0!!.data\n          Log.e(\"AAAAAAAAAAAAA: \",\"data \n          111111111111111111111111111111111111111111111111:\" + data[\"key1\"])\n     }\n}\n</code></pre></li>\n<li><p>Post Send notification data:\nSend to:  <a href=\"https://fcm.googleapis.com/fcm/send\" rel=\"nofollow noreferrer\">https://fcm.googleapis.com/fcm/send</a></p></li>\n<li><p>Data   : </p>\n\n<pre><code>{\n\"to\" : \"token key\",\n\"data\": {\n       \"key1\" : \"value1\",\n       \"key2\" : \"value2\",\n       \"other_key\" : true\n     }\n}\n</code></pre></li>\n</ul>\n\n<p>Result, for app is opening, I can receive data well, but when killed I cannot receive data.</p>\n"}, {"tags": ["android", "kotlin", "dialog", "floating-action-button"], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1570587366, "creation_date": 1570587366, "answer_id": 58296177, "question_id": 58296011, "link": "https://stackoverflow.com/questions/58296011/why-dialog-doesnt-show-in-kotlin/58296177#58296177", "title": "why Dialog doesn&#39;t show in Kotlin?", "body": "<p>You forgot to invoke show() on dialog.\ndialog.show()</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 4723116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pirxqs0LURc/AAAAAAAAAAI/AAAAAAAAAk0/i0IxmzzdNBk/photo.jpg?sz=128", "display_name": "Saif", "link": "https://stackoverflow.com/users/4723116/saif"}, "is_accepted": false, "score": 0, "last_activity_date": 1570587970, "creation_date": 1570587970, "answer_id": 58296236, "question_id": 58296011, "link": "https://stackoverflow.com/questions/58296011/why-dialog-doesnt-show-in-kotlin/58296236#58296236", "title": "why Dialog doesn&#39;t show in Kotlin?", "body": "<p>You need to call dialog.show(). Just call it anywhere below dialog.setCancelable(false). </p>\n"}, {"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1570600877, "last_edit_date": 1570600877, "creation_date": 1570592772, "answer_id": 58296781, "question_id": 58296011, "link": "https://stackoverflow.com/questions/58296011/why-dialog-doesnt-show-in-kotlin/58296781#58296781", "title": "why Dialog doesn&#39;t show in Kotlin?", "body": "<p>You have to invoke <code>show()</code> like the following.</p>\n\n<pre><code>//...\ndialog.setTitle(\"Add person\")\ndialog.setCancelable(false)\n// ...\nbtnAdd.setOnClickListener{\n    //...\n}\nbtnCancel.setOnClickListener {\n    dialog.dismiss()\n}\n\n//show dialog adding below line.\ndialog.show();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1570594341, "creation_date": 1570594341, "answer_id": 58296968, "question_id": 58296011, "link": "https://stackoverflow.com/questions/58296011/why-dialog-doesnt-show-in-kotlin/58296968#58296968", "title": "why Dialog doesn&#39;t show in Kotlin?", "body": "<p>After create dialog , we need to call show method to show dialog on screen </p>\n\n<p>Add This line after create dialog <code>dialog.show()</code></p>\n\n<p>Please replace or add this code </p>\n\n<pre><code>recyclerView.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n    val users = ArrayList&lt;User&gt;()\n\n    users.add(User(\"John\", \"USA\"))\n\n    val adapter = CustomAdapter(users)\n\n    recyclerView.adapter = adapter\n\n    fab.setOnClickListener {\n        val dialog = Dialog(this)\n        Toast.makeText(this, \"It's working...\", Toast.LENGTH_LONG).show()\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog.setContentView(R.layout.dialog_add)\n        dialog.setTitle(\"Add person\")\n        dialog.setCancelable(false)\n\n        val nameText = dialog.findViewById(R.id.name) as EditText\n        val addressText = dialog.findViewById(R.id.address) as EditText\n        val btnAdd = dialog.findViewById(R.id.btn_ok) as Button\n        val btnCancel = dialog.findViewById(R.id.btn_cancel) as Button\n\n        btnAdd.setOnClickListener{\n            users.add(User(nameText.text.toString(), addressText.text.toString()))\n            adapter.notifyDataSetChanged()\n            dialog.dismiss()\n        }\n        btnCancel.setOnClickListener {\n            dialog.dismiss()\n        }\n    //add this line \n     //Call show() method to show dialog \n  dialog.show()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10435242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7gqh4qnRtY/AAAAAAAAAAI/AAAAAAAAAE8/D63-bPJ_I7k/photo.jpg?sz=128", "display_name": "FY Gamer", "link": "https://stackoverflow.com/users/10435242/fy-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 58296177, "answer_count": 4, "score": 0, "last_activity_date": 1570627717, "creation_date": 1570585867, "last_edit_date": 1570627717, "question_id": 58296011, "link": "https://stackoverflow.com/questions/58296011/why-dialog-doesnt-show-in-kotlin", "title": "why Dialog doesn&#39;t show in Kotlin?", "body": "<p>I want to create a Dialog window when I click the Floating Action Button. But, when I click the button, just appears the Toast message. </p>\n\n<p>This is what I've tried so far:</p>\n\n<pre><code>    recyclerView.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n    val users = ArrayList&lt;User&gt;()\n\n    users.add(User(\"John\", \"USA\"))\n\n    val adapter = CustomAdapter(users)\n\n    recyclerView.adapter = adapter\n\n    fab.setOnClickListener {\n        val dialog = Dialog(this)\n        Toast.makeText(this, \"It's working...\", Toast.LENGTH_LONG).show()\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog.setContentView(R.layout.dialog_add)\n        dialog.setTitle(\"Add person\")\n        dialog.setCancelable(false)\n\n        val nameText = dialog.findViewById(R.id.name) as EditText\n        val addressText = dialog.findViewById(R.id.address) as EditText\n        val btnAdd = dialog.findViewById(R.id.btn_ok) as Button\n        val btnCancel = dialog.findViewById(R.id.btn_cancel) as Button\n\n        btnAdd.setOnClickListener{\n            users.add(User(nameText.text.toString(), addressText.text.toString()))\n            adapter.notifyDataSetChanged()\n            dialog.dismiss()\n        }\n        btnCancel.setOnClickListener {\n            dialog.dismiss()\n        }\n    }\n}\n</code></pre>\n\n<p>How can I change the code so it show the Dialog Window when I click the FAB?</p>\n\n<p>UPDATE:\nYou guys're right! It worked just fine after I put dialog.show(). Thank you.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp"], "comments": [{"owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "edited": false, "score": 0, "creation_date": 1570594379, "post_id": 58295765, "comment_id": 102956956, "body": "post your <code>getErrorResponse()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1570601952, "post_id": 58297298, "comment_id": 102958887, "body": "why would you need to repeat the status code in the response body, if the http response is already holding it?"}], "tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1570596949, "creation_date": 1570596949, "answer_id": 58297298, "question_id": 58295765, "link": "https://stackoverflow.com/questions/58295765/how-to-handle-error-in-okhttp3-without-crash/58297298#58297298", "title": "how to handle error in okhttp3 without crash", "body": "<p><code>Retrofit 2</code> has a different concept of handling <code>\"successful\"</code> requests than <code>Retrofit 1</code>. In <code>Retrofit 2</code>, all <code>requests</code> that can be executed (sent to the API) and for which you\u2019re receiving a <code>response</code> are seen as <code>\"successful\"</code>. That means, for these <code>requests</code> the <code>onResponse</code> callback is fired and you need to manually check whether the <code>request</code> is actually <code>successful (status 200-299)</code> or <code>erroneous (status 400-599)</code>.</p>\n\n<p>If the request finished <code>successfully</code>, we can use the <code>response object</code> and do whatever we wanted. In case the <code>error</code> actually <code>failed (remember, status 400-599)</code>, we want to show the user appropriate information about the issue.</p>\n\n<p><strong>Example</strong></p>\n\n<p><strong><code>Error Object</code></strong></p>\n\n<p>Let\u2019s assume your API sends a <code>JSON error body</code> like this:</p>\n\n<pre><code>{\n    statusCode: 409,\n    message: \"Email address already registered\"\n}\n</code></pre>\n\n<p><strong>Note:</strong> you can see your <code>JSON error body</code> by printing <code>response.errorBody()</code></p>\n\n<p>To avoid these bad user experiences, we\u2019re mapping the response body to a Java object, represented by the following class.</p>\n\n<pre><code>class APIError {\n  private val statusCode:Int = 0\n  private val message:String\n  fun status():Int {\n    return statusCode\n  }\n  fun message():String {\n    return message\n  }\n}\n</code></pre>\n\n<p><strong><code>Error Handler</code></strong></p>\n\n<pre><code>object ErrorUtils {\n  fun parseError(response:Response&lt;*&gt;):APIError {\n    val converter = ServiceGenerator.retrofit()\n    .responseBodyConverter(APIError::class.java, arrayOfNulls&lt;Annotation&gt;(0))\n    val error:APIError\n    try\n    {\n      error = converter.convert(response.errorBody())\n    }\n    catch (e:IOException) {\n      return APIError()\n    }\n    return error\n  }\n}\n</code></pre>\n\n<p><strong><code>Error Handler in Action</code></strong></p>\n\n<p>Now you can handle <code>error</code> in API <code>response</code> using <code>ErrorUtils</code> like the following.</p>\n\n<pre><code>val call = service.me()\ncall.enqueue(object:Callback&lt;User&gt;() {\n  fun onResponse(call:Call&lt;User&gt;, response:Response&lt;User&gt;) {\n    if (response.isSuccessful())\n    {\n      // use response data and do some fancy stuff :)\n    }\n    else\n    {\n      // parse the response body \u2026\n      val error = ErrorUtils.parseError(response)\n      // \u2026 and use it to show error information\n      // \u2026 or just log the issue like we\u2019re doing :)\n      Log.d(\"error message\", error.message())\n    }\n  }\n  fun onFailure(call:Call&lt;User&gt;, t:Throwable) {\n    // there is more than just a failing request (like: no internet connection)\n  }\n})\n</code></pre>\n\n<p>The complete example with a video is here <a href=\"https://futurestud.io/tutorials/retrofit-2-simple-error-handling\" rel=\"nofollow noreferrer\">retrofit-2-error-handling</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "is_accepted": false, "score": 1, "last_activity_date": 1570633482, "last_edit_date": 1570633482, "creation_date": 1570601578, "answer_id": 58297997, "question_id": 58295765, "link": "https://stackoverflow.com/questions/58295765/how-to-handle-error-in-okhttp3-without-crash/58297997#58297997", "title": "how to handle error in okhttp3 without crash", "body": "<p>You use <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter\" rel=\"nofollow noreferrer\"><strong>retrofit2-kotlin-coroutines-adapter</strong></a> and the exception throwing is by design. Any non-<code>2xx</code> HTTP response such as <code>401</code> will throw an exception. You can see this for yourself in the library <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter/blob/master/src/main/java/com/jakewharton/retrofit2/adapter/kotlin/coroutines/CoroutineCallAdapterFactory.kt\" rel=\"nofollow noreferrer\">source code</a></p>\n\n<pre><code>if (response.isSuccessful) {\n  deferred.complete(response.body()!!)\n} else {\n  deferred.completeExceptionally(HttpException(response))\n}\n</code></pre>\n\n<p>But this is not a problem. You can still access the response and your JSON by doing <code>catch (e: HttpException)</code> and then calling <code>val yourJson = e.response()?.body() as? YourJson</code>.</p>\n\n<p>Note that <strong>retrofit2-kotlin-coroutines-adapter</strong> is <em>deprecated</em> and that you should migrate to <em>Retrofit 2.6.0</em> or newer. Then you can prefix your <em>Retrofit</em> interface functions with <code>suspend</code> so you can write nice idiomatic Kotlin code.</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1570633482, "creation_date": 1570583084, "question_id": 58295765, "link": "https://stackoverflow.com/questions/58295765/how-to-handle-error-in-okhttp3-without-crash", "title": "how to handle error in okhttp3 without crash", "body": "<p>I am using the following method to handle my requests </p>\n\n<pre><code>override fun intercept(chain: Interceptor.Chain): Response = chain.proceed(chain.request())\n        .let { originalResponse -&gt;\n\n            Log.i(\"AMIRA999\", \"code : \" + originalResponse.code())\n\n            when (originalResponse.code()) {\n\n                200 -&gt; {\n                    Log.i(\"AMIRA999\", \"body : \" + getErrorResponse(originalResponse))\n                    originalResponse\n                }\n                401, 404 -&gt; {\n\n\n                    Log.i(\"AMIRA999\", \"body : \" + getErrorResponse(originalResponse))\n                    originalResponse\n\n                    /*return originalResponse.mapToBody(\n                        originalResponse.body()?.contentType(),\n                        getErrorResponse(originalResponse)\n                    )*/\n                }\n                else -&gt; {\n                    Log.i(\"AMIRA999\", \"body : \" + originalResponse.body().toString())\n                    throw BadRequestException()\n                }\n            }\n        }\n</code></pre>\n\n<p>the method work perfect when the code is 200, but it crash if the code is 404 or 401</p>\n\n<p>what I need to keep returning the json comes from server and does not crash to be able to handle it with error message </p>\n\n<p>how can I do that ?</p>\n\n<p>the crash that I got is the following </p>\n\n<pre><code>retrofit2.HttpException: HTTP 401 UNAUTHORIZED\nat com.jakewharton.retrofit2.adapter.kotlin.coroutines.CoroutineCallAdapterFactory$BodyCallAdapter$adapt$2.onResponse(CoroutineCallAdapterFactory.kt:104)\nat retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:129)\nat okhttp3.RealCall$AsyncCall.execute(RealCall.java:206)\nat okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\nat java.lang.Thread.run(Thread.java:764)\n</code></pre>\n"}, {"tags": ["kotlin", "libgdx", "playing-cards"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570651614, "post_id": 58295075, "comment_id": 102984303, "body": "You are missing the native code from the libraries. They must be copied out of the library jar into the appropriate libs directory. You must also call <code>GdxNativesLoader.load();</code> before you load anything. And LibGDX is an OpenGL based game engine. You cannot selectively use components from it like this. You must initialize the game engine. This can be done by extending AndroidApplication instead of AppCompatActivity, and calling <code>initialize()</code>."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570651663, "post_id": 58295075, "comment_id": 102984322, "body": "You will have a very hard time going about it this way. It would be much easier to create a new LibGDX project using your package name and copy your project into the libGDX project. And you will need to read some basic tutorials to be able to use it correctly."}], "owner": {"reputation": 1, "user_id": 5268630, "user_type": "registered", "profile_image": "https://graph.facebook.com/1042968315715446/picture?type=large", "display_name": "Rushabh Khattri", "link": "https://stackoverflow.com/users/5268630/rushabh-khattri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570576175, "creation_date": 1570576175, "question_id": 58295075, "link": "https://stackoverflow.com/questions/58295075/how-do-i-solve-this-error-libgdx-error-stage-creation", "title": "how do I solve this error LibGDX Error Stage creation?", "body": "<p>I created a separate class to call a stage and create it , as advised on a site .\n I have not installed libgdx normally , as I needed to add libgdx to my existing android project , so I have imported the required libraries . \nI created the object of constructor in onCreate method of the AppcompatActivity . \nHow do I solve the error ? Should I import more libraries?\nIs there any other game engine that can be used, basically I want to make a uno cards game in kotlin . Please Help .</p>\n\n<pre><code>//this is the class which creates the stage\nclass HUD {\n    val  stage = Stage(ScreenViewport())\n    constructor(){\n\n\n    }\n     //stage create method\n    fun create(){\n        Gdx.gl.glViewport(0, 0, Gdx.graphics.getWidth(), \n        Gdx.graphics.getHeight())\n        stage.getViewport().update(Gdx.graphics.getWidth(), \n        Gdx.graphics.getHeight(), true);\n        Gdx.input.setInputProcessor(stage);\n\n    }\n    //stage render method\n    fun render() {\n        val delta = Gdx.graphics.deltaTime\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT)\n        stage.act(delta)\n        stage.draw()\n    }\n    //stage disposed method\n    fun dispose() {\n        stage.dispose()\n    }\n}\n\n\n\n\n//inside other AppCOmpatActivity file \n val hud : HUD = HUD()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.uno_main)\n\n//        val hud : HUD = HUD()\n        hud.create()\n        hud.render()\n        hud.dispose()\n    }\n\n\n    java.lang.UnsatisfiedLinkError: No implementation found for \n    java.nio.ByteBuffer com.badlogic.gdx.utils.BufferUtils.newDisposableByteBuffer(int) (tried Java_com_badlogic_gdx_utils_BufferUtils_newDisposableByteBuffer and Java_com_badlogic_gdx_utils_BufferUtils_newDisposableByteBuffer__I)\n        at com.badlogic.gdx.utils.BufferUtils.newDisposableByteBuffer(Native Method)\n        at com.badlogic.gdx.utils.BufferUtils.newUnsafeByteBuffer(BufferUtils.java:517)\n        at com.badlogic.gdx.graphics.glutils.VertexArray.&lt;init&gt;(VertexArray.java:57)\n        at com.badlogic.gdx.graphics.glutils.VertexArray.&lt;init&gt;(VertexArray.java:48)\n        at com.badlogic.gdx.graphics.Mesh.&lt;init&gt;(Mesh.java:171)\n        at com.badlogic.gdx.graphics.g2d.SpriteBatch.&lt;init&gt;(SpriteBatch.java:101)\n        at com.badlogic.gdx.graphics.g2d.SpriteBatch.&lt;init&gt;(SpriteBatch.java:78)\n        at com.badlogic.gdx.scenes.scene2d.Stage.&lt;init&gt;(Stage.java:99)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1570576982, "post_id": 58295038, "comment_id": 102953953, "body": "Given that <a href=\"https://commonsware.com/blog/2019/10/08/storage-situation-external-storage.html\" rel=\"nofollow noreferrer\">you do not have filesystem access to that directory on Android 10+ by default</a>, I recommend that you switch to querying the <code>MediaStore</code> and using a <code>Uri</code> obtained from it."}, {"owner": {"reputation": 3, "user_id": 4225480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ckKXpBg9HLs/AAAAAAAAAAI/AAAAAAAAw0w/ji59i1zkZ4M/photo.jpg?sz=128", "display_name": "Maximilian Montserrat", "link": "https://stackoverflow.com/users/4225480/maximilian-montserrat"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1570631392, "post_id": 58295038, "comment_id": 102974777, "body": "I am facepalming right now. When I was reading the MediaPlayer docs I misread &quot;Internal URI&quot; as &quot;Internal URL&quot; and thought the code given there was another type of streaming (like the External URL example). Thanks for helping out this noob!"}], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 4723116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pirxqs0LURc/AAAAAAAAAAI/AAAAAAAAAk0/i0IxmzzdNBk/photo.jpg?sz=128", "display_name": "Saif", "link": "https://stackoverflow.com/users/4723116/saif"}, "is_accepted": false, "score": 0, "last_activity_date": 1570607508, "last_edit_date": 1570607508, "creation_date": 1570589314, "answer_id": 58296371, "question_id": 58295038, "link": "https://stackoverflow.com/questions/58295038/proper-way-to-handle-playing-mp3-in-external-storage/58296371#58296371", "title": "Proper way to handle playing mp3 in external storage", "body": "<p>You are asking for permission, but you are not waiting for it to be granted. Use this callback method which is automatically called after a permission is granted:</p>\n\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    if(grantResults.size &gt; 0 &amp;&amp; grantResults.get(0) == PackageManager.PERMISSION_GRANTED){\n        // write your media player code here\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4225480, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ckKXpBg9HLs/AAAAAAAAAAI/AAAAAAAAw0w/ji59i1zkZ4M/photo.jpg?sz=128", "display_name": "Maximilian Montserrat", "link": "https://stackoverflow.com/users/4225480/maximilian-montserrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570607508, "creation_date": 1570575838, "question_id": 58295038, "link": "https://stackoverflow.com/questions/58295038/proper-way-to-handle-playing-mp3-in-external-storage", "title": "Proper way to handle playing mp3 in external storage", "body": "<p>Trying to play an mp3 in the emulator's external storage (but not on an sd card). After some Googling I thought I had code that would work and also added the following lines to my app's AndroidManifest.xml file:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>It still fails and I found posts saying that apparently I need to request permission as well. Copied in some code I found that was supposed to do so but then I got a message from Android Studio saying that using it would limit what API level it would work with. Realized then I was way out of my depth on what is the right way to accomplish my goal. Some context for what API level is reasonable or sanity checking of my MediaPlayer code would be greatly appreciated. Thanks.</p>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{\n    private lateinit var mp: MediaPlayer\n    private var totalTime: Int = 0\n\n    override fun onCreate( savedInstanceState: Bundle? )\n    {\n        super.onCreate( savedInstanceState )\n        setContentView( R.layout.activity_main )\n\n        // this is the permission code I get the API level warning about\n        val MY_READ_EXTERNAL_REQUEST : Int = 1\n        if (checkSelfPermission(\n                Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE), MY_READ_EXTERNAL_REQUEST)\n        }\n\n        mp = MediaPlayer()\n        // path and name of mp3 file I'm trying to play\n        mp.setDataSource( \"/storage/emulated/0/Music/Bad Guys Win.mp3\" )\n        mp.prepare()\n        mp.start()\n    }\n}\n</code></pre>\n\n<p>Permission Error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity\n  ComponentInfo{com.example.scratch/com.example.scratch.MainActivity}:\n  java.io.FileNotFoundException: /storage/emulated/0/Music/Bad Guys\n  Win.mp3: open failed: EACCES (Permission denied)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/QeKIf.png\" rel=\"nofollow noreferrer\">Screenshot of API warning from Android Studio</a></p>\n"}, {"tags": ["android", "kotlin", "datetime-conversion"], "comments": [{"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 0, "creation_date": 1570571747, "post_id": 58294478, "comment_id": 102952915, "body": "Ithink, you have problem with your <code>SimpleDateFormat</code> patters, try one of the patterns from this answer (use X in place of &#39;Z&#39;): <a href=\"https://stackoverflow.com/a/37173760/3703819\">stackoverflow.com/a/37173760/3703819</a>"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "reply_to_user": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 0, "creation_date": 1570572411, "post_id": 58294478, "comment_id": 102953072, "body": "@dey thank you very much for your link but I am still getting the same exception"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1570610209, "post_id": 58294478, "comment_id": 102962942, "body": "As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1570611419, "post_id": 58294478, "comment_id": 102963625, "body": "Only now I noticed you are already using <code>LocalDateTime</code> from java.time (whether built-in or through the backport I mentioned). Just stick to java.time and forget everything about the legacy datetime classes like <code>Date</code> and <code>SimpleDateFormat</code>. It will give you simpler code, a benefit for all."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1570611825, "post_id": 58294478, "comment_id": 102963852, "body": "What string does <code>articleList.get(4).publishedAt</code> return? Asking in an attempt to understand what you need your code to do."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1570616817, "post_id": 58294478, "comment_id": 102966598, "body": "@OleV.V Please check my post I have update post"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1570618634, "post_id": 58294478, "comment_id": 102967496, "body": "hi there I followed that answer it did not solve my problem"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1570618767, "post_id": 58294478, "comment_id": 102967581, "body": "please check my question that post your answer"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1571686129, "post_id": 58294478, "comment_id": 103315851, "body": "FYI, the troublesome date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Most <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android (&lt;26) in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a>. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP\u2026</i></a>."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1571686336, "post_id": 58294478, "comment_id": 103315922, "body": "Post <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."}], "answers": [{"tags": [], "owner": {"reputation": 27882, "user_id": 383414, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a0252c97758708e419523490aa848ded?s=128&d=identicon&r=PG", "display_name": "Richard Le Mesurier", "link": "https://stackoverflow.com/users/383414/richard-le-mesurier"}, "is_accepted": true, "score": 2, "last_activity_date": 1570619304, "creation_date": 1570619304, "answer_id": 58302799, "question_id": 58294478, "link": "https://stackoverflow.com/questions/58294478/java-time-format-datetimeparseexception-text-09-10-2019-could-not-be-parsed-a/58302799#58302799", "title": "java.time.format.DateTimeParseException: Text &#39;09/10/2019&#39; could not be parsed at index 0 could not be parsed, unparsed text found at index 19", "body": "<p>Your date you are trying to parse is not in the right format. The required format you give is <code>yyyy-MM-dd'T'HH:mm:ssX</code>.</p>\n\n<p>This format expects a number for the timezone - even if the number is a zero ('0'). </p>\n\n<p>One workaround for this is to create a second <code>SimpleDateFormat</code> that uses a fallback format treating the 'Z' character as a literal and ignoring it. If your first attempt at parsing fails, catch the exception and try parsing with this format - <code>yyyy-MM-dd'T'HH:mm:ss'Z'</code>.</p>\n\n<p>You will also need to override the timezone to force UTC.</p>\n\n<p>Something like:</p>\n\n<pre><code>    try {\n        d = input.parse(articleList[5].publishedAt)\n    }\n    catch (e: ParseException) {\n        try {\n            val fallback = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\n            fallback.timeZone = TimeZone.getTimeZone(\"UTC\")\n            d = fallback.parse(articleList[5].publishedAt)\n        catch (e2: ParseException) {\n            // TODO handle error\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2580925/simpledateformat-parsing-date-with-z-literal/15231574#15231574\">simpledateformat parsing date with &#39;Z&#39; literal</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\">Converting ISO 8601-compliant String to java.util.Date</a></li>\n<li><a href=\"https://stackoverflow.com/questions/36860468/how-to-convert-utc-date-to-locale-gmt-time-on-android\">how to convert UTC date to locale GMT time on android</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "is_accepted": false, "score": 3, "last_activity_date": 1570627081, "creation_date": 1570627081, "answer_id": 58305083, "question_id": 58294478, "link": "https://stackoverflow.com/questions/58294478/java-time-format-datetimeparseexception-text-09-10-2019-could-not-be-parsed-a/58305083#58305083", "title": "java.time.format.DateTimeParseException: Text &#39;09/10/2019&#39; could not be parsed at index 0 could not be parsed, unparsed text found at index 19", "body": "<h2>java.time</h2>\n\n<p>Since you are already using <code>LocalDateTime</code> from java.time (whether built-in or through the backport, ThreeTenABP), just stick to java.time and forget everything about the legacy datetime classes like <code>Date</code> and <code>SimpleDateFormat</code>. It will give you simpler code, a benefit for all.</p>\n\n<p>I am sorry that I can write only Java code. I trust you translate, though.</p>\n\n<pre><code>    String articleList5PublishedAt = \"2019-10-09T09:02:00Z\";\n    Instant timelinePoint = Instant.parse(articleList5PublishedAt);\n    Instant now = Instant.now();\n    Duration elapsedTime = Duration.between(timelinePoint, now);\n\n    System.out.println(timelinePoint);\n    System.out.println(now);\n    System.out.println(elapsedTime.toMinutes());\n</code></pre>\n\n<p>When I ran this code just now, the output was:</p>\n\n<blockquote>\n<pre><code>2019-10-09T09:02:00Z\n2019-10-09T13:17:01.291404Z\n255\n</code></pre>\n</blockquote>\n\n<p>For a point on the timeline the <code>Instant</code> class is the right one to use. <code>LocalDateTime</code> cannot define a point on the timeline. Also the string from your JSON response, <code>2019-10-09T09:02:00Z</code>, parses directly into an <code>Instant</code>, so in this way everything fits nicely together.</p>\n"}], "owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4178, "favorite_count": 1, "accepted_answer_id": 58302799, "answer_count": 2, "score": -2, "last_activity_date": 1570627081, "creation_date": 1570571204, "last_edit_date": 1570617031, "question_id": 58294478, "link": "https://stackoverflow.com/questions/58294478/java-time-format-datetimeparseexception-text-09-10-2019-could-not-be-parsed-a", "title": "java.time.format.DateTimeParseException: Text &#39;09/10/2019&#39; could not be parsed at index 0 could not be parsed, unparsed text found at index 19", "body": "<p>I am developing news app and I have converted elapsed time from now to that date but when I run code I am getting following exception in my adapter class</p>\n\n<p>java.time.format.DateTimeParseException: Text '09/10/2019' could not be parsed at index 0 could not be parsed, unparsed text found at index 19</p>\n\n<p>below my Adapter class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Suppress(\"NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS\")\nclass TopHeadlinesAdapter(val context: Context) : RecyclerView.Adapter&lt;TopHeadlinesAdapter.MyViewHolder&gt;() {\n\n    var articleList : List&lt;Article&gt; = listOf()\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.news_list,parent,false)\n        return MyViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return articleList.size\n    }\n\n    @SuppressLint(\"NewApi\")\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n        holder.articleTitle.text = articleList.get(position).title\n        holder.articleSourceName.text = articleList.get(position).source.name\n        Picasso.get().load(articleList.get(position).urlToImage).into(holder.image)\n\n        val input = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssX\")\n        val output = SimpleDateFormat(\"dd/MM/yyyy\")\n        var d = Date()\n        try\n        {\n            d = input.parse(articleList[5].publishedAt)\n        }\n        catch (e: ParseException) {\n            e.printStackTrace()\n        }\n        val formatted = output.format(d)\n        val timelinePoint = LocalDateTime.parse(formatted)\n        val now = LocalDateTime.now()\n\n        var elapsedTime = Duration.between(timelinePoint, now)\n\n        println(timelinePoint)\n        println(now)\n        elapsedTime.toMinutes()\n\n        holder.articleTime.text = \"${elapsedTime.toMinutes()}\"\n\n    }\n\n    fun setMovieListItems(articleList: List&lt;Article&gt;){\n        this.articleList = articleList\n        notifyDataSetChanged()\n    }\n\n    @SuppressLint(\"NewApi\")\n    fun example( ) {\n    }\n\n    class MyViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!) {\n\n        val image: ImageView = itemView!!.findViewById(R.id.imageView)\n        val articleTitle: TextView = itemView!!.findViewById(R.id.articleTitle)\n        val articleSourceName: TextView = itemView!!.findViewById(R.id.articleSourceName)\n        val imageCategory: ImageView = itemView!!.findViewById(R.id.imageCategory)\n        val articleTime: TextView = itemView!!.findViewById(R.id.articleTime)\n\n    }\n}\n</code></pre>\n\n<p>Below is the JSON response:</p>\n\n<pre><code>&gt; {\n&gt;     \"status\": \"ok\",\n&gt;     \"totalResults\": 38,\n&gt;     \"articles\": [\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"cnn\",\n&gt;                 \"name\": \"CNN\"\n&gt;             },\n&gt;             \"author\": null,\n&gt;             \"title\": \"The latest on the Trump impeachment inquiry: Live updates - CNN\",\n&gt;             \"description\": \"The House is moving forward with its impeachment inquiry into President Donald Trump. Follow here for the\n&gt; latest.\",\n&gt;             \"url\": \"https://www.cnn.com/politics/live-news/impeachment-inquiry-10-09-2019/index.html\",\n&gt;             \"urlToImage\": \"https://cdn.cnn.com/cnnnext/dam/assets/190830133142-trump-file-102019-super-tease.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T09:02:00Z\",\n&gt;             \"content\": \"Donald Trump drove Democrats to the first crucial pivot point of their impeachment confrontation on Tuesday with\n&gt; a defiant declaration that his administration would not cooperate with\n&gt; the investigation.\\r\\nIn a fierce counter-attack after days of failing\n&gt; to con\u2026 [+1326 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Kotaku.com\"\n&gt;             },\n&gt;             \"author\": \"Brian Ashcraft\",\n&gt;             \"title\": \"Overwatch's Mei Is Becoming A Symbol Of The Hong Kong Resistance - Kotaku\",\n&gt;             \"description\": \"After Chung \u201cBlitzchung\u201d Ng Wai called for the liberation of Hong Kong, Blizzard suspended the Hearthstone player\n&gt; and withheld any prize money. The decision has been widely criticized.\n&gt; Fans have now started posting images of Overwatch hero Mei supporting\n&gt; the \u2026\",\n&gt;             \"url\": \"https://kotaku.com/overwatchs-mei-is-becoming-a-symbol-of-the-hong-kong-re-1838899963\",\n&gt;             \"urlToImage\": \"https://i.kinja-img.com/gawker-media/image/upload/s--p_VCwaM0--/c_fill,fl_progressive,g_center,h_900,q_80,w_1600/onlooi9lbhsfq73hv0m6.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T09:00:00Z\",\n&gt;             \"content\": \"After Chung Blitzchung Ng Wai called for the liberation of Hong Kong, Blizzard suspended the Hearthstone player and\n&gt; withheld any prize money. The decision has been widely criticized.\n&gt; Fans have now started posting images of Overwatch hero Mei supporting\n&gt; the Ho\u2026 [+493 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"the-new-york-times\",\n&gt;                 \"name\": \"The New York Times\"\n&gt;             },\n&gt;             \"author\": null,\n&gt;             \"title\": \"California Power Outages: Fire Danger Prompts Utility to Cut Electricity - The New York Times\",\n&gt;             \"description\": \"An intentional shut-off by Pacific Gas &amp; Electric, the largest utility in the state, could affect as many as\n&gt; 800,000 customers.\",\n&gt;             \"url\": \"https://www.nytimes.com/2019/10/09/us/pge-shut-off-power-outage.html\",\n&gt;             \"urlToImage\": \"https://static01.nyt.com/images/2019/10/09/us/09blackout1/09blackout1-facebookJumbo.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T07:00:00Z\",\n&gt;             \"content\": \"Large swaths of central and Northern California were expected to be without electricity on Wednesday as the\n&gt; states largest utility planned to cut power as a safety precaution.\n&gt; The utility, Pacific Gas &amp;amp; Electric, said that around 800,000\n&gt; customers would b\u2026 [+833 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Bbc.com\"\n&gt;             },\n&gt;             \"author\": \"https://www.facebook.com/bbcnews\",\n&gt;             \"title\": \"Johnson &amp; Johnson ordered to pay man $8bn over breast growth - BBC News\",\n&gt;             \"description\": \"A US jury finds Johnson &amp; Johnson guilty of negligence over an anti-psychotic drug.\",\n&gt;             \"url\": \"https://www.bbc.com/news/business-49982237\",\n&gt;             \"urlToImage\": \"https://ichef.bbci.co.uk/news/1024/branded_news/C1BB/production/_109159594_gettyimages-1164571026.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T06:33:31Z\",\n&gt;             \"content\": \"Image copyrightGetty Images\\r\\nUS drug firm Johnson &amp;amp; Johnson has been told to pay $8bn (\u00a36.6bn) in punitive\n&gt; damages to a man over claims he was not warned that an antipsychotic\n&gt; drug could lead to breast growth.\\r\\nA Philadelphia jury made the\n&gt; award to Nichol\u2026 [+1740 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Bbc.com\"\n&gt;             },\n&gt;             \"author\": \"https://www.facebook.com/bbcnews\",\n&gt;             \"title\": \"Ecuador protesters storm parliament as unrest worsens - BBC News\",\n&gt;             \"description\": \"President Len\u00edn Moreno imposes a night curfew near government buildings in response to the unrest.\",\n&gt;             \"url\": \"https://www.bbc.com/news/world-latin-america-49981521\",\n&gt;             \"urlToImage\": \"https://ichef.bbci.co.uk/news/1024/branded_news/E14B/production/_109157675_057168834.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T05:29:17Z\",\n&gt;             \"content\": \"Image copyrightReutersImage caption\\r\\n Protesters who burst into the National Assembly building were driven\n&gt; out with tear gas\\r\\nPresident Len\u00edn Moreno has imposed a night curfew\n&gt; near government buildings after protesters clashed with security\n&gt; forces inside Ecua\u2026 [+3234 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Nypost.com\"\n&gt;             },\n&gt;             \"author\": \"George A. King III\",\n&gt;             \"title\": \"The next Yankees challenge will be so much harder - New York Post \",\n&gt;             \"description\": \"After the Yankees swept the feeble Twins out of the ALDS on Monday night in Minneapolis, Hal Steinbrenner said\n&gt; he and his family were very proud of his club. \u201cBut we are not there\n&gt; yet,\u2019\u2019 Steinbrenn\u2026\",\n&gt;             \"url\": \"https://nypost.com/2019/10/09/the-next-yankees-challenge-will-be-so-much-harder/\",\n&gt;             \"urlToImage\": \"https://thenypost.files.wordpress.com/2019/10/a.j.-hinch-aaron-boone-kevin-cash.jpg?quality=90&amp;strip=all&amp;w=1200\",\n&gt;             \"publishedAt\": \"2019-10-09T04:49:00Z\",\n&gt;             \"content\": \"After the Yankees swept the feeble Twins out of the ALDS on Monday night in Minneapolis, Hal Steinbrenner said he\n&gt; and his family were very proud of his club.\\r\\nBut we are not there\n&gt; yet, Steinbrenner said. This is Step 1.\\r\\nStep 2 will be considerably\n&gt; harder to \u2026 [+3884 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"cnn\",\n&gt;                 \"name\": \"CNN\"\n&gt;             },\n&gt;             \"author\": \"Joshua Berlinger and Isaac Yee, CNN\",\n&gt;             \"title\": \"Houston Rockets fan arrested in China after threatening to burn national flag - CNN\",\n&gt;             \"description\": \"A 25-year-old Houston Rockets fan in China threatened to burn the Chinese flag in protest of the ongoing dispute\n&gt; between Beijing and the NBA team, and told police to \\\"come and arrest\n&gt; him.\\\"\",\n&gt;             \"url\": \"https://www.cnn.com/2019/10/09/asia/houston-rockets-fan-arrested-china-intl-hnk-scli/index.html\",\n&gt;             \"urlToImage\": \"https://cdn.cnn.com/cnnnext/dam/assets/191009103249-china-jersey-fan-burning-flags-super-tease.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T04:45:00Z\",\n&gt;             \"content\": null\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Theathletic.com\"\n&gt;             },\n&gt;             \"author\": \"Jake Ciely\",\n&gt;             \"title\": \"2019 Week 6 fantasy football rankings, sleepers, buy lows, sell highs - The Athletic\",\n&gt;             \"description\": \"Jake Ciely presents his Week 6 fantasy football rankings with sleepers, buy lows, sell highs and more\n&gt; advice\",\n&gt;             \"url\": \"https://theathletic.com/1278721/2019/10/09/2019-week-6-fantasy-football-rankings-sleepers-buy-lows-sell-highs/\",\n&gt;             \"urlToImage\": \"https://cdn.theathletic.com/app/uploads/2019/07/18193559/USATSI_11443357-1024x683.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T04:07:30Z\",\n&gt;             \"content\": \"2019 Fantasy Football Week 6 Rankings and SleepersI don\u2019t have any super-duper special fantasy advice this week.\n&gt; Well, I should say it\u2019s not an overall strategy or deep insight intro\n&gt; this time, as it\u2019s more just about a few league settings I believe\n&gt; everyone \u2026 [+647 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"cnn\",\n&gt;                 \"name\": \"CNN\"\n&gt;             },\n&gt;             \"author\": \"Jacqueline Howard, CNN\",\n&gt;             \"title\": \"STDs on the rise: Cases of 3 common infections reach all-time highs in the US - msnNOW\",\n&gt;             \"description\": \"Combined cases of gonorrhea, chlamydia and syphilis have risen to unprecedented numbers for the fifth consecutive\n&gt; year in the United States, according to a new STD report from the\n&gt; Centers for Disease Control and Prevention.\",\n&gt;             \"url\": \"https://www.cnn.com/2019/10/08/health/std-cases-rising-us-study/index.html\",\n&gt;             \"urlToImage\": \"https://cdn.cnn.com/cnnnext/dam/assets/180221174110-03-couple-bed-sex-stock-super-tease.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T04:00:00Z\",\n&gt;             \"content\": null\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"cbs-news\",\n&gt;                 \"name\": \"CBS News\"\n&gt;             },\n&gt;             \"author\": \"Danielle Garrand\",\n&gt;             \"title\": \"Saturn moons: 20 new moons discovered around Saturn \u2014 and scientists need help naming them - CBS News\",\n&gt;             \"description\": \"The new discovery increases the moons orbiting the \\\"jewel of our solar system\\\" to 82, surpassing Jupiter\",\n&gt;             \"url\": \"https://www.cbsnews.com/news/saturn-moons-20-new-moons-discovered-around-saturn-scientists-need-help-naming-them-2019-10-08/\",\n&gt;             \"urlToImage\": \"https://cbsnews1.cbsistatic.com/hub/i/r/2019/10/09/5a296cfc-1e23-4bce-a83c-471557653aa2/thumbnail/1200x630g6/4a908aea749a2d9b60244c5d3e649e29/17848-pia12797-full.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T03:25:00Z\",\n&gt;             \"content\": \"Twenty new moons have been found to be orbiting Saturn \u2014 and scientists want the public's help in naming\n&gt; them, according to a Carnegie Institution for Science news release.\n&gt; The new discovery brings the total moons around the \\\"jewel of our\n&gt; solar system\\\" to 82.\u2026 [+2978 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Yahoo.com\"\n&gt;             },\n&gt;             \"author\": null,\n&gt;             \"title\": \"Gwen Stefani and Blake Shelton are still fighting: 'I thought you loved me!' - Yahoo Movies\",\n&gt;             \"description\": \"The Voice has fetishized extreme youth for the past few seasons \u2014 two of its most recent champion, Brynn Cartelli\n&gt; and Chevel Shepherd, were still in high school when they won \u2014 but\n&gt; Tuesday\u2019s Blind Auditions episode was surprisingly bookended by\n&gt; stupendous, st\u2026\",\n&gt;             \"url\": \"https://www.yahoo.com/entertainment/gwen-stefani-blake-shelton-still-024712250.html\",\n&gt;             \"urlToImage\": \"https://s.yimg.com/uu/api/res/1.2/7eqSuqOM2bqOfMJfMOSbnA--~B/aD0xMDgwO3c9MTkyMDtzbT0xO2FwcGlkPXl0YWNoeW9u/https://s.yimg.com/os/creatr-uploaded-images/2019-10/02294890-ea3f-11e9-bf57-9d7819cb6a82\",\n&gt;             \"publishedAt\": \"2019-10-09T02:58:31Z\",\n&gt;             \"content\": \"The Voice has fetishized extreme youth for the past few seasons two of its most recent champion, Brynn Cartelli and\n&gt; Chevel Shepherd, were still in high school when they won but Tuesdays\n&gt; Blind Auditions episode was surprisingly bookended by stupendous,\n&gt; standou\u2026 [+2042 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Vulture.com\"\n&gt;             },\n&gt;             \"author\": \"Charu Sinha\",\n&gt;             \"title\": \"Drake Posts Instagram Story About His Father - Vulture\",\n&gt;             \"description\": \"Gather around, Dennis Graham truthers.\",\n&gt;             \"url\": \"http://www.vulture.com/2019/10/drake-posts-instagram-story-about-his-father.html\",\n&gt;             \"urlToImage\": \"https://pixel.nymag.com/imgs/daily/vulture/2019/10/08/drakedad_8.w1200.h630.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T02:04:00Z\",\n&gt;             \"content\": \"Today in celebrities oversharing on social media about conflicts we had no idea were even happening, we have\n&gt; Drake telling the world via Instagram that his father will say\n&gt; anything to anyone thats willing to listen to him and revealing that\n&gt; its sad when famil\u2026 [+1388 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"usa-today\",\n&gt;                 \"name\": \"USA Today\"\n&gt;             },\n&gt;             \"author\": \"Sara MacNeil\",\n&gt;             \"title\": \"\u2018A historic day\u2019: Montgomery, Alabama, elects its first African-American mayor - USA TODAY\",\n&gt;             \"description\": \"Steven Reed, the Montgomery County probate judge, beat TV station owner David Woods and will be sworn in as the\n&gt; city's first black mayor Nov. 12.\",\n&gt;             \"url\": \"https://www.usatoday.com/story/news/nation/2019/10/08/montgomery-elects-steven-reed-its-first-african-american-mayor/3915021002/?utm_source=google&amp;utm_medium=amp&amp;utm_campaign=speakable\",\n&gt;             \"urlToImage\": \"https://www.gannett-cdn.com/presto/2019/08/28/PMOY/d1c2e76b-7bfd-42ba-a572-e5e50ed24d3e-jc_electionnight_9.JPG?crop=2999,1687,x0,y0&amp;width=3200&amp;height=1680&amp;fit=bounds\",\n&gt;             \"publishedAt\": \"2019-10-09T01:50:00Z\",\n&gt;             \"content\": \"Last SlideNext Slide\\r\\nMONTGOMERY, Ala. Montgomery, a city where more than half the population is black and\n&gt; known as the birthplace of the civil rights movement, elected an\n&gt; African American to the highest position in municipal government for\n&gt; the first time in \u2026 [+7031 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Slashgear.com\"\n&gt;             },\n&gt;             \"author\": \"JC Torres\",\n&gt;             \"title\": \"Chuwi UBook Pro takes on the Microsoft Surface with few compromises - SlashGear\",\n&gt;             \"description\": \"Although devices have existed long before, Microsoft has arguably made 2-in-1 computers more fashionable thanks\n&gt; to its Surface line. Even tablets like the Apple iPad Pro and the\n&gt; Samsung Galaxy Tab \u2026\",\n&gt;             \"url\": \"https://www.slashgear.com/chuwi-ubook-pro-takes-on-the-microsoft-surface-with-few-compromises-08594816/\",\n&gt;             \"urlToImage\": \"https://scdn.slashgear.com/wp-content/uploads/2019/10/ubook-pro-1.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T01:18:00Z\",\n&gt;             \"content\": \"Although devices have existed long before, Microsoft has arguably made 2-in-1 computers more fashionable thanks\n&gt; to its Surface line. Even tablets like the Apple iPad Pro and the\n&gt; Samsung Galaxy Tab S have taken on that form factor to give them an\n&gt; air of produc\u2026 [+1927 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"nbc-news\",\n&gt;                 \"name\": \"NBC News\"\n&gt;             },\n&gt;             \"author\": \"Associated Press\",\n&gt;             \"title\": \"Bernie Sanders' daughter-in-law dies of cancer at 46 - NBCNews.com\",\n&gt;             \"description\": \"The daughter-in-law of Democratic presidential candidate Bernie Sanders has died, shortly after being\n&gt; diagnosed with cancer.\",\n&gt;             \"url\": \"https://www.nbcnews.com/politics/2020-election/bernie-sanders-daughter-law-dies-cancer-46-n1064051\",\n&gt;             \"urlToImage\": \"https://media3.s-nbcnews.com/j/newscms/2019_41/3044061/191008-bernie-sanders-campaign-ac-818p_b59f9fa6163cabb3f72eaf6290cdcb08.nbcnews-fp-1200-630.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T01:05:00Z\",\n&gt;             \"content\": \"The daughter-in-law of Democratic presidential candidate Bernie Sanders has died, shortly after being diagnosed with\n&gt; cancer. Rain\u00e8 Riggs was 46.\\r\\nThe Lee &amp;amp; Martin Funeral Home in\n&gt; Burgettstown, Pennsylvania, says Riggs died Saturday, the day Sanders\n&gt; return\u2026 [+632 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"cnn\",\n&gt;                 \"name\": \"CNN\"\n&gt;             },\n&gt;             \"author\": \"Sandra Gonzalez, CNN\",\n&gt;             \"title\": \"'Bachelor' star Peter Weber injured in 'freak accident' but doing OK - CNN\",\n&gt;             \"description\": \"The star of the next edition of \\\"The Bachelor\\\" was involved in what the show's host Chris Harrison called\n&gt; a \\\"freak accident\\\" that left him needing stitches.\",\n&gt;             \"url\": \"https://www.cnn.com/2019/10/08/entertainment/bachelor-peter-weber-accident/index.html\",\n&gt;             \"urlToImage\": \"https://cdn.cnn.com/cnnnext/dam/assets/191008161026-peter-weber-super-tease.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T00:57:00Z\",\n&gt;             \"content\": null\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Wtop.com\"\n&gt;             },\n&gt;             \"author\": \"Dick Uliano\",\n&gt;             \"title\": \"Time to get a flu shot: 11 cases reported in Maryland - WTOP\",\n&gt;             \"description\": \"The Maryland Department of Health is already reporting 11 laboratory-confirmed cases since Sept. 1, and\n&gt; state health officials said the onset of flu only emphasizes the need\n&gt; for a flu shot.\",\n&gt;             \"url\": \"http://wtop.com/health-fitness/2019/10/flu-is-here-no-putting-off-flu-shot/\",\n&gt;             \"urlToImage\": \"https://wtop.com/wp-content/uploads/2018/06/Flu_Vaccine_85329.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T00:56:15Z\",\n&gt;             \"content\": \"Flu season has come early to Maryland.\\r\\nThe Maryland Department of Health is already reporting 11\n&gt; laboratory-confirmed cases since Sept. 1. State health officials said\n&gt; the onset of flu only emphasizes the need for a flu shot.\\r\\n\u201cGet your\n&gt; flu shot now. Don\u2019t pu\u2026 [+2725 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"the-hill\",\n&gt;                 \"name\": \"The Hill\"\n&gt;             },\n&gt;             \"author\": \"Aris Folley\",\n&gt;             \"title\": \"California passes bill making HIV-prevention drugs available without prescription | TheHill - The Hill\",\n&gt;             \"description\": \"California Gov. Gavin Newsom (D) has signed legislation into law that allows pharmacists in the s...\",\n&gt;             \"url\": \"https://thehill.com/homenews/state-watch/464951-california-passes-bill-making-hiv-prevention-drugs-available-without\",\n&gt;             \"urlToImage\": \"https://thehill.com/sites/default/files/newsomgavin_060518getty.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T00:43:31Z\",\n&gt;             \"content\": \"California Gov. Gavin NewsomGavin Christopher NewsomCalifornia creates first toll-free statewide mental health\n&gt; lineCalifornia inspires other states to push to pay college\n&gt; athletesEx-FCC counselor calls for federal consumer privacy lawMORE\n&gt; (D) has signed legis\u2026 [+1770 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": null,\n&gt;                 \"name\": \"Tweaktown.com\"\n&gt;             },\n&gt;             \"author\": \"Anthony Garreffa\",\n&gt;             \"title\": \"Latest PlayStation 5 renders still have awesome V-shaped design - TweakTown\",\n&gt;             \"description\": \"Sony's next-gen PlayStation 5 looks even better in the second round of 3D renders\",\n&gt;             \"url\": \"https://www.tweaktown.com/news/67997/latest-playstation-5-renders-still-awesome-shaped-design/index.html\",\n&gt;             \"urlToImage\": \"https://images.tweaktown.com/news/6/7/67997_02_latest-playstation-5-renders-make-want-ps5-right-now_full.jpg\",\n&gt;             \"publishedAt\": \"2019-10-09T00:25:02Z\",\n&gt;             \"content\": \"The first round of 3D renders of the next-gen (and now confirmed) PlayStation 5 console by the fine folks at\n&gt; LetsGoDigital were amazing... but the team is back with some slick new\n&gt; renders that give us a closer look at what to expect from the\n&gt; PS5.\\r\\nSony confir\u2026 [+1155 chars]\"\n&gt;         },\n&gt;         {\n&gt;             \"source\": {\n&gt;                 \"id\": \"fox-news\",\n&gt;                 \"name\": \"Fox News\"\n&gt;             },\n&gt;             \"author\": \"Mariah Haas\",\n&gt;             \"title\": \"Todd Chrisley, wife Julie settle $2 million Georgia tax-evasion case - Fox News\",\n&gt;             \"description\": \"\\\"Chrisley Knows Best\\\" stars Julie and Todd Chrisley have reached a settlement after allegedly failing to pay\n&gt; hundreds of thousands of dollars in income taxes to the state of\n&gt; Georgia.\",\n&gt;             \"url\": \"https://www.foxnews.com/entertainment/todd-chrisley-wife-julie-cleared-state-tax-evasion-charge\",\n&gt;             \"urlToImage\": \"https://static.foxnews.com/foxnews.com/content/uploads/2019/06/6d97776e9e50c9d74e686f74a588e527w-c0xd-w640_h480_q80.jpg\",\n&gt;             \"publishedAt\": \"2019-10-08T23:45:38Z\",\n&gt;             \"content\": \"\\\"Chrisley Knows Best\\\" stars Julie and Todd Chrisley have reached a settlement after allegedly failing to pay\n&gt; hundreds of thousands of dollars in income taxes to the state of\n&gt; Georgia.\\r\\nA spokesman for the couple, Allan Mayer, announced on\n&gt; Tuesday that the coup\u2026 [+2421 chars]\"\n&gt;         }\n&gt;     ] }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "soundpool"], "answers": [{"tags": [], "owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "is_accepted": true, "score": 2, "last_activity_date": 1570615903, "creation_date": 1570615903, "answer_id": 58301842, "question_id": 58294035, "link": "https://stackoverflow.com/questions/58294035/android-soundpool-is-not-playing-wav-format-sound/58301842#58301842", "title": "Android SoundPool is not playing wav format sound", "body": "<p>It takes time to load the sound file into memory so change <code>val sound1</code> to <code>var sound1</code>, make it global and instantiate it at the end of the <code>onCreate</code> method like so:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    lateinit var soundPool: SoundPool\n    var sound1 : Int = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\n            var audioAttrs: AudioAttributes = AudioAttributes.Builder()\n                    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                    .setUsage(AudioAttributes.USAGE_MEDIA)\n                    .build()\n\n            soundPool = SoundPool.Builder()\n                    .setMaxStreams(2)\n                    .setAudioAttributes(audioAttrs)\n                    .build()\n        }\n\n        else{\n            soundPool = SoundPool(2, AudioManager.STREAM_MUSIC, 0)\n        }\n        sound1 = soundPool.load(this, R.raw.sound1, 1)\n\n    }\n\n    fun playSound1(view: View) {\n        if(sound1 != 0) {\n            soundPool.play(sound1, 1.0f, 1.0f, 1, 0, 1.0f)\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then you could check <code>sound1</code> value and if it's not equal to <code>0</code> so it loaded completely. Also you could use <code>setOnLoadCompleteListener</code> method of <code>SoundPool</code> to check this.</p>\n"}], "owner": {"reputation": 151, "user_id": 10991790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2402bc0fa1f3c49d7f39dbe115825290?s=128&d=identicon&r=PG&f=1", "display_name": "Big Disgrace", "link": "https://stackoverflow.com/users/10991790/big-disgrace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 58301842, "answer_count": 1, "score": 2, "last_activity_date": 1593441838, "creation_date": 1570568499, "last_edit_date": 1570608466, "question_id": 58294035, "link": "https://stackoverflow.com/questions/58294035/android-soundpool-is-not-playing-wav-format-sound", "title": "Android SoundPool is not playing wav format sound", "body": "<p>I'am trying to play .wav format sounds from raw resource file when i click to the button but nothing happens when i click to the button and there is no logcat error.</p>\n\n<p>My MainActivity.kt:</p>\n\n<pre><code> package com.example.exampleofmusicapp\n\n       import android.media.AudioAttributes\n       import android.media.AudioManager\n       import android.media.SoundPool\n       import android.os.Build\n       import androidx.appcompat.app.AppCompatActivity\n       import android.os.Bundle\n       import android.view.View\n\n\n    class MainActivity : AppCompatActivity() {\n\n    lateinit var soundPool: SoundPool\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\n            var audioAttrs: AudioAttributes = AudioAttributes.Builder()\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                .setUsage(AudioAttributes.USAGE_MEDIA)\n                .build()\n\n             soundPool = SoundPool.Builder()\n                .setMaxStreams(2)\n                .setAudioAttributes(audioAttrs)\n                .build()\n        }\n\n        else{\n            soundPool = SoundPool(2, AudioManager.STREAM_MUSIC, 0)\n        }\n\n    }\n\n    fun playSound1(view: View) {\n        val sound1 = soundPool.load(this, R.raw.sound1, 1)\n        soundPool.play(sound1, 1.0f, 1.0f, 1, 0, 1.0f)\n    }\n\n    }\n</code></pre>\n\n<p>Edit: I have tried this in 2 emulator and a real device but it is not working.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-architecture-components", "android-jetpack"], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 9205277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DDrNg.jpg?s=128&g=1", "display_name": "Dimitri de Jesus", "link": "https://stackoverflow.com/users/9205277/dimitri-de-jesus"}, "is_accepted": false, "score": 1, "last_activity_date": 1595194353, "creation_date": 1595194353, "answer_id": 62985929, "question_id": 58293526, "link": "https://stackoverflow.com/questions/58293526/how-to-get-behaviour-like-youtube-bottom-navigation-view-in-android-using-naviga/62985929#62985929", "title": "How to get behaviour like YouTube bottom navigation view in android using Navigation Architecture Component?", "body": "<p>You should use <strong>MVVM Architecture</strong> to accomplish this.\nMVVM keeps your fragments in memory while you navigate among them.\nTry browsing this <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">LINK</a>.\nThis is a long way to run...I should say.</p>\n<p>If you go the way of <strong>HILT</strong> it may be more quickly understandable. <a href=\"https://codelabs.developers.google.com/codelabs/android-dagger-to-hilt/#0\" rel=\"nofollow noreferrer\">LINK</a></p>\n"}], "owner": {"reputation": 305, "user_id": 11890737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/drGMX.jpg?s=128&g=1", "display_name": "Askani", "link": "https://stackoverflow.com/users/11890737/askani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1595194353, "creation_date": 1570565934, "last_edit_date": 1570849488, "question_id": 58293526, "link": "https://stackoverflow.com/questions/58293526/how-to-get-behaviour-like-youtube-bottom-navigation-view-in-android-using-naviga", "title": "How to get behaviour like YouTube bottom navigation view in android using Navigation Architecture Component?", "body": "<p>I am trying to get YouTube like <code>bottom navigation behaviour</code> using <code>architecture navigation component</code>. For example if i have <code>fragments</code> <code>(tail)A &gt; B &gt; C &gt; D &gt; E(top)</code> in <code>back stack</code> and then again i visit <code>B</code> and then <code>C</code>(<code>C</code> is the top fragment now) and then if i would be pressing back button then i should get (<code>First out)C &lt; B &lt; E &lt; D &lt; A(Last out)</code>.</p>\n\n<p><code>B</code> and <code>C</code> should be old fragments, not replace by new fragments<code>(Data should not be destroyed when i revisit any fragment).</code></p>\n\n<p>My code which is posted below is not working(not giving a effect like YouTube).</p>\n\n<blockquote>\n  <p>MainActivity.kt</p>\n</blockquote>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n\n        val binding  = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n        val bottomNavView = binding.appBottomNavView\n        val navController = findNavController(R.id.app_nav_host_fragment)\n        val navBuilder = NavOptions.Builder()\n\n        bottomNavView.setupWithNavController(navController)\n\n        val onNav = BottomNavigationView.OnNavigationItemSelectedListener{ menuItem -&gt;\n            when(menuItem.itemId)\n            {\n                R.id.homeFragment -&gt; {\n                    val navOption = navBuilder.setPopUpTo(R.id.homeFragment, false).build()\n                    navController.navigate(R.id.homeFragment, null, navOption)\n                    true\n                }\n                R.id.searchFragment -&gt; {\n                    val navOption = navBuilder.setPopUpTo(R.id.searchFragment, false).build()\n                    navController.navigate(R.id.searchFragment, null, navOption)\n                    true\n                }\n                R.id.shareFragment -&gt; {\n                    val navOption = navBuilder.setPopUpTo(R.id.shareFragment, false).build()\n                    navController.navigate(R.id.shareFragment, null, navOption)\n                    true\n                }\n                R.id.alertFragment -&gt; {\n                    val navOption = navBuilder.setPopUpTo(R.id.alertFragment, false).build()\n                    navController.navigate(R.id.alertFragment, null, navOption)\n                    true\n                }\n                R.id.profileFragment -&gt; {\n                    val navOption = navBuilder.setPopUpTo(R.id.profileFragment, false).build()\n                    navController.navigate(R.id.profileFragment, null, navOption)\n                    true\n                }\n                else -&gt; {\n                    true\n                }\n\n            }\n        }\n\n        bottomNavView.setOnNavigationItemSelectedListener(onNav)\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Menu.xml</p>\n</blockquote>\n\n<pre><code>  &lt;menu&gt;\n        &lt;item\n            android:id=\"@+id/homeFragment\"\n            android:icon=\"@drawable/ic_house\"\n            android:menuCategory=\"secondary\"\n            android:title=\"\" /&gt;\n\n        &lt;item\n            android:id=\"@+id/searchFragment\"\n            android:icon=\"@drawable/ic_search\"\n            android:menuCategory=\"secondary\"\n            android:title=\"\" /&gt;\n\n        &lt;item\n            ................\n            ................ /&gt;\n\n        &lt;item\n            ................\n            ................ /&gt;\n\n        &lt;item\n            ................\n            ................ /&gt;\n\n    &lt;/menu&gt;\n</code></pre>\n\n<blockquote>\n  <p>navigation.xml</p>\n</blockquote>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/app_nav\"\n    app:startDestination=\"@id/homeFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/homeFragment\"\n        android:name=\"com.example.ui.HomeFragment\"\n        android:label=\"HomeFragment\"\n        tools:layout=\"@layout/fragment_home\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/searchFragment\"\n        android:name=\"com.example.ui.SearchFragment\"\n        android:label=\"SearchFragment\"\n        tools:layout=\"@layout/fragment_search\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/shareFragment\"\n        android:name=\"com.example.ui.ShareFragment\"\n        android:label=\"ShareFragment\"\n        tools:layout=\"@layout/fragment_share\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/alertFragment\"\n        android:name=\"com.example.ui.AlertFragment\"\n        android:label=\"AlertFragment\"\n        tools:layout=\"@layout/fragment_alert\"/&gt;\n    &lt;fragment\n        android:id=\"@+id/profileFragment\"\n        android:name=\"com.example.ui.ProfileFragment\"\n        android:label=\"ProfileFragment\"\n        tools:layout=\"@layout/fragment_profile\"/&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"}, {"tags": ["android", "audio", "kotlin", "sharing"], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 4723116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pirxqs0LURc/AAAAAAAAAAI/AAAAAAAAAk0/i0IxmzzdNBk/photo.jpg?sz=128", "display_name": "Saif", "link": "https://stackoverflow.com/users/4723116/saif"}, "is_accepted": false, "score": 1, "last_activity_date": 1570590363, "creation_date": 1570590363, "answer_id": 58296505, "question_id": 58293296, "link": "https://stackoverflow.com/questions/58293296/kotlin-share-audio-file-from-raw-resource/58296505#58296505", "title": "Kotlin - Share audio file from raw resource", "body": "<p>I think this is the right way means using File.pathSeparator 2 times and not 3 times consecutively:</p>\n\n<pre><code>ContentResolver.SCHEME_ANDROID_RESOURCE\n                + File.pathSeparator + File.separator\n                + packageName\n                + File.separator\n                + R.raw.random_sound\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11109875, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UTFQQVJrMoc/AAAAAAAAAAI/AAAAAAAAHrQ/wJpfl0Re1rE/photo.jpg?sz=128", "display_name": "Samuel Wittlinger", "link": "https://stackoverflow.com/users/11109875/samuel-wittlinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570590363, "creation_date": 1570564842, "question_id": 58293296, "link": "https://stackoverflow.com/questions/58293296/kotlin-share-audio-file-from-raw-resource", "title": "Kotlin - Share audio file from raw resource", "body": "<p>I have a soundboard app for android and am trying to make users be able to share the sounds in the app via messenger, gmail etc. This is the code I've tried to use for that purpose:</p>\n\n<p>Fragment:</p>\n\n<pre><code>val uri = SoundProvider.getUri(4,(activity as MainActivity).packageName)\nval share = Intent(Intent.ACTION_SEND)\nshare.type = \"audio/*\"\nshare.putExtra(Intent.EXTRA_STREAM, uri)\nstartActivity(Intent.createChooser(share, \"Share Sound File\"))\n</code></pre>\n\n<p>getUri function:</p>\n\n<pre><code>fun getUri(id: Int, packageName: String):Uri{\n        val uri = Uri.parse(\n            ContentResolver.SCHEME_ANDROID_RESOURCE\n                    + File.pathSeparator + File.separator + File.separator\n                    + packageName\n                    + File.separator\n                    + R.raw.random_sound\n        )\n        return uri\n    }\n</code></pre>\n\n<p>Unfortunately, this code doesn't seem to work, when I click on one of the share options in the app ( for example gmail), it just opens a blank email with no attachments. Similarly with other apps. Does anyone happen to know how to make this work?</p>\n"}, {"tags": ["kotlin", "retrofit", "rx-java2"], "comments": [{"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1570601070, "post_id": 58292956, "comment_id": 102958579, "body": "what do you want to return from <code>getItemsData</code>? <code>ItemData</code> or <code>ItemDetails</code>? <code>Observable&lt;&gt;</code> or <code>Single&lt;List&lt;&gt;&gt;</code>?"}, {"owner": {"reputation": 2822, "user_id": 6714426, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/1062222783860391/picture?type=large", "display_name": "Prashant Pandey", "link": "https://stackoverflow.com/users/6714426/prashant-pandey"}, "edited": false, "score": 0, "creation_date": 1570605922, "post_id": 58292956, "comment_id": 102960761, "body": "The inner stream in the outer map isn&#39;t even getting subscribed to. This won&#39;t work."}, {"owner": {"reputation": 7, "user_id": 12016756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eoDHdqr8zCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rco5Jrq3WGFR4v9ip0V2L30H6ULPQ/photo.jpg?sz=128", "display_name": "Oleg opopov", "link": "https://stackoverflow.com/users/12016756/oleg-opopov"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1570621552, "post_id": 58292956, "comment_id": 102969096, "body": "@AndreiTanana, Ideally I want to return Observable&lt;ArrayList&lt;ItemDetails&gt;&gt;. I could observe it later in my viewmodel and update the ui accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 1868, "user_id": 10395392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LZkM2.jpg?s=128&g=1", "display_name": "Vishal Arora", "link": "https://stackoverflow.com/users/10395392/vishal-arora"}, "is_accepted": false, "score": 0, "last_activity_date": 1570606087, "creation_date": 1570606087, "answer_id": 58299064, "question_id": 58292956, "link": "https://stackoverflow.com/questions/58292956/how-to-combine-several-api-calls-to-create-single-response-object-using-rxjava/58299064#58299064", "title": "How to combine several API calls to create single response object using RxJava", "body": "<p>You need to map the flat mapped stream to return the desired type -</p>\n\n<pre><code>getItems()\n.flatMap(item -&gt; getItemDetails(item)\n                 .map(itemDetail -&gt; ItemData(item, itemDetail.image))\n.subscribe(itemData -&gt; // your desired type containing the original item and image);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2822, "user_id": 6714426, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/1062222783860391/picture?type=large", "display_name": "Prashant Pandey", "link": "https://stackoverflow.com/users/6714426/prashant-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1570606199, "creation_date": 1570606199, "answer_id": 58299092, "question_id": 58292956, "link": "https://stackoverflow.com/questions/58292956/how-to-combine-several-api-calls-to-create-single-response-object-using-rxjava/58299092#58299092", "title": "How to combine several API calls to create single response object using RxJava", "body": "<p>You're not subscribing to the inner-stream inside the map. Try this:   </p>\n\n<pre><code>val data = ArrayList&lt;ItemDetails&gt;()\n    getItems().flatMap { itemResponse -&gt; Observable.just(itemResponse.message) } //this will give me a list with item names\n            .flatMapIterable { data -&gt; data }//iterating over the list and for every item...\n            .flatmap(itemName -&gt; getItemDetails(itemName).subscribeOn(Schedulers.io())\n            .map(itemDetail -&gt; {//add to the list)})\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n\n    return Observable.fromIterable(data);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 5142382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7a04c77761b18b2e2f55a1daddb794?s=128&d=identicon&r=PG", "display_name": "ctranxuan", "link": "https://stackoverflow.com/users/5142382/ctranxuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570608704, "creation_date": 1570608704, "answer_id": 58299727, "question_id": 58292956, "link": "https://stackoverflow.com/questions/58292956/how-to-combine-several-api-calls-to-create-single-response-object-using-rxjava/58299727#58299727", "title": "How to combine several API calls to create single response object using RxJava", "body": "<p>If you really wish to return an <code>Observable&lt;ArrayList&lt;ItemDetails&gt;&gt;</code>, may be you could use <code>reduce</code>?</p>\n\n<p>Something like that:</p>\n\n<pre><code>fun getItemsData(): Observable&lt;ArrayList&lt;ItemDetails&gt;&gt; {\n   return\n     getItems().flatMap { itemResponse -&gt; Observable.just(itemResponse.message) }\n               .flatMapIterable { data -&gt; data }\n               .flatMap { itemName -&gt; getItemDetails(itemName)  }.subscribeOn(Schedulers.io())\n               .map { imageData -&gt; ItemData(itemName, imageData.message) } }\n               .reduce(ArrayList&lt;ItemDetails&gt;(), (list, item) -&gt; list.add(item))\n               .toObservable()   \n               .subscribeOn(Schedulers.io())\n               .observeOn(AndroidSchedulers.mainThread())\n}\n</code></pre>\n\n<p>I am not sure about the right syntax of <code>reduce</code> in Kotlin...</p>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 12016756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eoDHdqr8zCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rco5Jrq3WGFR4v9ip0V2L30H6ULPQ/photo.jpg?sz=128", "display_name": "Oleg opopov", "link": "https://stackoverflow.com/users/12016756/oleg-opopov"}, "edited": false, "score": 0, "creation_date": 1570622680, "post_id": 58300432, "comment_id": 102969673, "body": "I still have an issue with the return type, which is my return type is now Single&lt;ArrayList&lt;ItemData&gt;&gt; and what the compiler found is Single&lt;(Mutable) List&lt;ItemData!&gt;!&gt;!"}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "reply_to_user": {"reputation": 7, "user_id": 12016756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eoDHdqr8zCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rco5Jrq3WGFR4v9ip0V2L30H6ULPQ/photo.jpg?sz=128", "display_name": "Oleg opopov", "link": "https://stackoverflow.com/users/12016756/oleg-opopov"}, "edited": false, "score": 0, "creation_date": 1570624285, "post_id": 58300432, "comment_id": 102970560, "body": "you can use <code>map { ArrayList(it) }</code> to go from <code>List</code> to <code>ArrayList</code>"}], "tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 0, "last_activity_date": 1570611282, "creation_date": 1570611282, "answer_id": 58300432, "question_id": 58292956, "link": "https://stackoverflow.com/questions/58292956/how-to-combine-several-api-calls-to-create-single-response-object-using-rxjava/58300432#58300432", "title": "How to combine several API calls to create single response object using RxJava", "body": "<p>You don't really need this...</p>\n\n<pre><code>val data = ArrayList&lt;ItemDetails&gt;()\n</code></pre>\n\n<p><code>flatMap</code> is not the right operator here:</p>\n\n<pre><code>flatMap { itemResponse -&gt; Observable.just(itemResponse.message) }\n</code></pre>\n\n<p>you can simplify this by using <code>map</code> instead (the function <code>itemResponse -&gt; itemResponse.message</code> operates on the inner value only).</p>\n\n<pre><code>map { itemResponse -&gt; itemResponse.message }\n</code></pre>\n\n<p>Next:</p>\n\n<pre><code>.flatMapIterable { data -&gt; data } // here we have Observable&lt;Message&gt;\n.flatMap { itemName -&gt;\n     getItemDetails(itemName).map { imageData -&gt;\n        ItemData(itemName, imageData)\n     }\n } // Observable&lt;ItemData&gt;\n.toList() // Single&lt;List&lt;ItemData&gt;&gt; -&gt; you can use toObservable to get an Observable&lt;List&lt;ItemData&gt;&gt;\n</code></pre>\n\n<p>You can use <code>toList()</code> instead of manually creating and populating the <code>ArrayList</code>, it simplifies things.</p>\n"}], "owner": {"reputation": 7, "user_id": 12016756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eoDHdqr8zCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rco5Jrq3WGFR4v9ip0V2L30H6ULPQ/photo.jpg?sz=128", "display_name": "Oleg opopov", "link": "https://stackoverflow.com/users/12016756/oleg-opopov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 58300432, "answer_count": 4, "score": 0, "last_activity_date": 1570611282, "creation_date": 1570563292, "question_id": 58292956, "link": "https://stackoverflow.com/questions/58292956/how-to-combine-several-api-calls-to-create-single-response-object-using-rxjava", "title": "How to combine several API calls to create single response object using RxJava", "body": "<p>I'm building an application which consists of two API calls. I'm still learning RxJava and I'm not sure how to combine properly the two API calls</p>\n\n<ol>\n<li>The first API call is used to retrieve items in form of a list </li>\n<li>The second API call is used to retrieve item image using the item name that I got from the first call.</li>\n</ol>\n\n<p>I need to show all the items with their images. Those are my API calls using retrofit</p>\n\n<pre><code>@GET(\"items/list\")\nfun getItems(): Observable&lt;ItemResult&gt;\n\n@GET(\"item/{name}/images\")\nfun getItemDetails(@Path(\"name\") name: String): Observable&lt;ItemDetails&gt;\n</code></pre>\n\n<p>This is the code that wrote with RxJava:</p>\n\n<pre><code>    fun getItemsData(): Observable&lt;ArrayList&lt;ItemDetails&gt;&gt; {\n\n    val data = ArrayList&lt;ItemDetails&gt;()\ngetItems().flatMap { itemResponse -&gt; Observable.just(itemResponse.message) } //this will give me a list with item names\n        .flatMapIterable { data -&gt; data }//iterating over the list and for every item...\n        .map { itemName -&gt;//calling to get the item image\n            getItemDetails(itemName).map { imageData -&gt;\n                val itemImage = imageData.message\n                data.add(ItemData(itemName, itemImage))//from this point on I'm lost, I'm not sure if it's the right thing to add here the data\n            }.subscribeOn(Schedulers.io())\n        }.subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n\n    return Observable.create(data)// not sure how to create an Observable from the data\n}   \n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1570563651, "creation_date": 1570563651, "answer_id": 58293042, "question_id": 58292921, "link": "https://stackoverflow.com/questions/58292921/unable-to-retrieve-objects-from-firestore/58293042#58293042", "title": "Unable to Retrieve Objects from Firestore", "body": "<p>If you want to use a Kotlin data class with <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot.html#toObject(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\">documentSnapshot.toObject</a>, you're going to have to make each field of the data class a nullable <code>var</code>. The Firestore SDK doesn't know how to map document fields into data class constructor argument.  If the fields are nullable <code>val</code>, then the Kotlin compiler will create getters and setters for each field so they can be discovered and called by the Firestore SDK.</p>\n\n<p>If you want a proper immutable data class with <code>val</code> fields, you're going to have to manually read each field out of the document, and call the data class constructor yourself.</p>\n"}], "owner": {"reputation": 1, "user_id": 9947871, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K1IOi7k4Hu0/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3wWyZZi-ByUfHB7L5JiUfWl1BGMg/mo/photo.jpg?sz=128", "display_name": "Tan Tze Hong", "link": "https://stackoverflow.com/users/9947871/tan-tze-hong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570563651, "creation_date": 1570563150, "last_edit_date": 1570563440, "question_id": 58292921, "link": "https://stackoverflow.com/questions/58292921/unable-to-retrieve-objects-from-firestore", "title": "Unable to Retrieve Objects from Firestore", "body": "<p>I am new to Firebase and Kotlin, and am trying to make an application with it. I have a data class named Announcements, and I had saved the data for Announcements in Firestore. However, when I wanted to retrieve my data from Firestore, it keeps giving me the following error:</p>\n\n<pre><code>2019-10-09 03:14:13.016 14552-14552/com.example.finalyearproject W/Firestore: (21.1.1) [CustomClassMapper]: No setter/field for Content found on class com.example.finalyearproject.Announcement\n2019-10-09 03:14:13.017 14552-14552/com.example.finalyearproject W/Firestore: (21.1.1) [CustomClassMapper]: No setter/field for Title found on class com.example.finalyearproject.Announcement\n2019-10-09 03:14:13.017 14552-14552/com.example.finalyearproject W/Firestore: (21.1.1) [CustomClassMapper]: No setter/field for Id found on class com.example.finalyearproject.Announcement\n2019-10-09 03:14:13.018 14552-14552/com.example.finalyearproject W/Firestore: (21.1.1) [CustomClassMapper]: No setter/field for Date found on class com.example.finalyearproject.Announcement\n</code></pre>\n\n<p>Following is my codes:</p>\n\n<pre><code>val db = FirebaseFirestore.getInstance()\nval announcement = Announcement(_aTitle = \"Hello Everyone\", _aContent = \"A new age begins.\", _aDate = Date())\nannouncement.writeToDatabase()\n\nval mAnnouncements: ArrayList&lt;Announcement&gt; = ArrayList()\n\ndb.collection(Announcement.ANNOUNCEMENT_COLLECTION).get().addOnSuccessListener {\n            mAnnouncements.addAll(it.toObjects(Announcement::class.java))\n}\n</code></pre>\n\n<p>Announcement Class:</p>\n\n<pre><code>class Announcement(_aId: UUID = UUID.randomUUID(), _aTitle: String = \" \", _aContent: String = \" \", _aDate: Date = Date()) {\n\n    var aId = _aId\n    var aTitle = _aTitle\n    var aContent = _aContent\n    var aDate = _aDate\n\n    fun writeToDatabase() {\n\n        val db = FirebaseFirestore.getInstance()\n\n        val write = hashMapOf(\n            ANNOUNCEMENT_ID to this.aId,\n            ANNOUNCEMENT_TITLE to this.aTitle,\n            ANNOUNCEMENT_CONTENT to this.aContent,\n            ANNOUNCEMENT_DATE to this.aDate\n        )\n\n        db.collection(ANNOUNCEMENT_COLLECTION).document(this.aId.toString()).set(write).addOnSuccessListener { Log.d(\"Success\", \"Success\") }\n\n\n    }\n\n    companion object {\n        const val ANNOUNCEMENT_COLLECTION = \"announcement\"\n        const val ANNOUNCEMENT_ID = \"Id\"\n        const val ANNOUNCEMENT_TITLE = \"Title\"\n        const val ANNOUNCEMENT_CONTENT = \"Content\"\n        const val ANNOUNCEMENT_DATE = \"Date\"\n    }\n}\n</code></pre>\n\n<p>I had tried to search for answers, but seems like there is no suitable answer in Kotlin. I had tried to add custom getter and setter for each variable, but still it does not works.</p>\n\n<p>Please help if anyone is able to solve my questions. Thank you in advance!</p>\n"}, {"tags": ["android", "android-studio", "android-layout", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": true, "score": 2, "last_activity_date": 1570562818, "last_edit_date": 1570562818, "creation_date": 1570562173, "answer_id": 58292722, "question_id": 58292548, "link": "https://stackoverflow.com/questions/58292548/options-menu-in-action-bar-displays-option-too-high-up/58292722#58292722", "title": "Options Menu in Action Bar Displays option too high up", "body": "<p>Use <code>actionOverflowMenuStyle</code> and put a custom style inside <code>AppTheme</code> in <code>styles.xml</code> like this, where you'll turn <code>overlapAnchor</code> to <code>false</code> and set an offset for it:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;item name=\"actionOverflowMenuStyle\"&gt;@style/OptionsMenuCustomStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"OptionsMenuCustomStyle\" parent=\"Widget.AppCompat.PopupMenu.Overflow\"&gt;\n    &lt;item name=\"overlapAnchor\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:overlapAnchor\" tools:ignore=\"NewApi\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:dropDownVerticalOffset\"&gt;4.0dip&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>The out would look exactly like your requirement:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ujonw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujonw.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 83, "user_id": 6725622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978b95c482fe25236eb9c85f06aebd31?s=128&d=identicon&r=PG&f=1", "display_name": "biotecher", "link": "https://stackoverflow.com/users/6725622/biotecher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 58292722, "answer_count": 1, "score": 0, "last_activity_date": 1570565073, "creation_date": 1570561344, "last_edit_date": 1570565073, "question_id": 58292548, "link": "https://stackoverflow.com/questions/58292548/options-menu-in-action-bar-displays-option-too-high-up", "title": "Options Menu in Action Bar Displays option too high up", "body": "<p>I want the menu that pops up after clicking the vertical three dots to display the menu starting below the Action bar, not in line with it as shown in this picture. How can I do this?</p>\n\n<p>Default Options Menu:</p>\n\n<p><a href=\"https://i.stack.imgur.com/txU6V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txU6V.png\" alt=\"enter image description here\"></a></p>\n\n<p>Expected positioning of the Options Menu:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1dNYy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dNYy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code in the Activity:</p>\n\n<pre><code>    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.channelmenu, menu)\n        return super.onCreateOptionsMenu(menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        // Handle presses on the action bar menu items\n        when (item.itemId) {\n            R.id.logoutButton -&gt; {\n                logoutClick()\n                return true\n            }\n            else -&gt; {\n                return super.onOptionsItemSelected(item)\n            }\n        }\n    }\n</code></pre>\n\n<p>Code in the Layout:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\ntools:context=\"com.example.treechat.ChannelListActivity\"&gt;\n\n    &lt;item\n        android:id=\"@+id/logoutButton\"\n        android:title=\"Logout\"\n        app:showAsAction=\"collapseActionView\"/&gt;\n\n    &lt;item\n        android:id=\"@+id/item2\"\n        android:title=\"Item 2\"\n        app:showAsAction=\"collapseActionView\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 2, "creation_date": 1570570470, "post_id": 58292542, "comment_id": 102952567, "body": "Any reason you&#39;re using such an old version of kotlin specifically?  Kotlin <code>1.3</code> has been been available for nearly a year already and is required for general coroutine support."}, {"owner": {"reputation": 1651, "user_id": 992380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G7SKc.jpg?s=128&g=1", "display_name": "Alexey Belkov", "link": "https://stackoverflow.com/users/992380/alexey-belkov"}, "edited": false, "score": 0, "creation_date": 1570605076, "post_id": 58292542, "comment_id": 102960345, "body": "I think you&#39;re trying to compile the project with IDEA plugin 1.3.50, and it can&#39;t find some stdlib declaration not available in 1.2.30 stdlib. Please try to compile the project with Gradle (from command line) with kotlin 1.2.30 or better yet, update your stdlib and coroutines to latest stable versions: 1.3.50 and 1.3.2, respectively."}], "owner": {"reputation": 58, "user_id": 5631903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pT0ke.jpg?s=128&g=1", "display_name": "Solrac", "link": "https://stackoverflow.com/users/5631903/solrac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570561309, "creation_date": 1570561309, "question_id": 58292542, "link": "https://stackoverflow.com/questions/58292542/kolitn-error-when-compile-suspend-functions-cannot-access-built-in-declaration", "title": "Kolitn Error when compile suspend functions: Cannot access built-in declaration kotlin.coroutines.SuspendFunction", "body": "<p>I tried to compile an old project and got the next error:</p>\n\n<p><code>Kotlin: Cannot access built-in declaration 'kotlin.coroutines.SuspendFunction1'. Ensure that you have a dependency on the Kotlin standard library</code></p>\n\n<p>I put the kotlin stdlib (<code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.30\"</code>) and the kotlinx core (<code>compile \"org.jetbrains.kotlinx:kotlinx-coroutines-core:0.22.3\"</code>) on the dependencies but the error still continues. </p>\n\n<p>Anyone had this problem and managed to fix it?</p>\n\n<pre><code>The project uses:\n- kotlinx version = 0.22.3 \n- kotlin version = 1.2.30 \n\nThe version of the IntelliJ IDEA is 2019.2.3\n\nThe kotlin plugin version is 1.3.50-release-IJ2019.2-1```\n</code></pre>\n"}, {"tags": ["kotlin", "equals", "data-class"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570562669, "post_id": 58292269, "comment_id": 102949789, "body": "<code>==</code> on doubles could be fine, depending on how you are using the class."}, {"owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570562901, "post_id": 58292269, "comment_id": 102949874, "body": "currently I&#39;m just storing some calculated values in the class. I&#39;m using the compare indirectly in a test case via &quot;assertEquals&quot;"}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1570564777, "post_id": 58292269, "comment_id": 102950615, "body": "This <a href=\"https://medium.com/@agrawalsuneet/equality-in-kotlin-and-equals-d8373ef529f1\" rel=\"nofollow noreferrer\">blog</a> provides a lot of context. But no answer."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1570565101, "post_id": 58292269, "comment_id": 102950750, "body": "The <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#floating-point-numbers-comparison\" rel=\"nofollow noreferrer\">official docs</a> add some context as well."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 6, "creation_date": 1570565859, "post_id": 58292269, "comment_id": 102951040, "body": "Comparing two doubles by <code>==</code> uses the <i>only</i> reasonable definition of <code>==</code> for doubles, even if it&#39;s not a good definition.  Anything else would be <i>worse.</i>"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1570573361, "post_id": 58292269, "comment_id": 102953271, "body": "If you need more than strict equality, you might want to check whether you should be using some other type or representation.  (As Louis indicates, redefining <code>==</code> to do range checks or whatever will lead to tears before cocoa, as it&#39;ll break part of the contract \u2014 probably transitivity.)"}, {"owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "edited": false, "score": 0, "creation_date": 1571244029, "post_id": 58292269, "comment_id": 103178642, "body": "Okay, finally I found the time to reply. Yes the comparison with &quot;==&quot; works, I&#39;ve made another mistake. Sorry!"}], "owner": {"reputation": 67, "user_id": 12091979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7d13dbe2eab7c40d23e40b45eaa3e3?s=128&d=identicon&r=PG&f=1", "display_name": "iffuw", "link": "https://stackoverflow.com/users/12091979/iffuw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1571010164, "creation_date": 1570559998, "last_edit_date": 1571010164, "question_id": 58292269, "link": "https://stackoverflow.com/questions/58292269/compare-kotlin-data-classes-with-double-members", "title": "Compare Kotlin data classes with double members", "body": "<p>In Kotlin you can compare two instances of the same data class just by doing something like</p>\n\n<pre><code>if(dataClassInstance1 == dataClassInstance2) ...\n</code></pre>\n\n<p>which is very nice and handy.\nBut what is the way to go, if the data class contains a member of type \"Double\"(Kotlin).\nComparing two doubles by \"==\" is a big no no, as everyone knows.</p>\n\n<p>Do I have to override the equals() method do realize a working comparison by == ?</p>\n"}, {"tags": ["android", "kotlin", "datetime-conversion"], "comments": [{"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570558757, "post_id": 58291783, "comment_id": 102948204, "body": "thanks for edit suggestion @Enselic"}, {"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570558808, "post_id": 58291783, "comment_id": 102948228, "body": "You&#39;re welcome! And welcome to Stack Overflow!"}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570558888, "post_id": 58291783, "comment_id": 102948267, "body": "@Enselic thank you so much for output I have tried by myself to solve problem but I did not get what I want I hope someone help me here"}, {"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1570560205, "post_id": 58291783, "comment_id": 102948762, "body": "Basically, you can try <code>holder.articleTime.text =  &quot;${elapsedTime.toMinutes()}m&quot;</code>. if it&#39;s longer time, you can work around."}, {"owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "edited": false, "score": 0, "creation_date": 1570570795, "post_id": 58291783, "comment_id": 102952652, "body": "thank you so much but I am getting this exception java.time.format.DateTimeParseException: Text &#39;2019-10-08T14:40:00Z&#39; could not be parsed, unparsed text found at index 19"}], "answers": [{"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1570611032, "creation_date": 1570611032, "answer_id": 58300362, "question_id": 58291783, "link": "https://stackoverflow.com/questions/58291783/how-to-convert-elapsed-time-from-now-to-that-date-and-pass-that-method-to-viewho/58300362#58300362", "title": "how to convert elapsed time from now to that date and pass that method to viewholder in kotlin", "body": "<p>You can use <code>[ChronoUnit][1]</code> class from <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to calculate the elapsed time in minutes:</p>\n\n<p>If your server returns UTC datetime:</p>\n\n<pre><code>val elapsedMinutes = ChronoUnit.MINUTES.between(createdAt, LocalDateTime.now(ZoneOffset.UTC))\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 12183825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa12d59d98a7ab4fa6d9540625389d35?s=128&d=identicon&r=PG&f=1", "display_name": "sashabeliy", "link": "https://stackoverflow.com/users/12183825/sashabeliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570611032, "creation_date": 1570557766, "last_edit_date": 1570558665, "question_id": 58291783, "link": "https://stackoverflow.com/questions/58291783/how-to-convert-elapsed-time-from-now-to-that-date-and-pass-that-method-to-viewho", "title": "how to convert elapsed time from now to that date and pass that method to viewholder in kotlin", "body": "<p>I am developing news app and I want to convert elapsed time from now to that date and pass that logic to viewholder in recyclerviewadapterclass correctly using kotlin </p>\n\n<p>I am getting following time from server \n2019-10-08T15:16:05Z</p>\n\n<p>and I want to achieve time like this below photo\n<a href=\"https://i.stack.imgur.com/DRs59.png\" rel=\"nofollow noreferrer\">time image what I want to get</a></p>\n\n<p>below my adapter class where I have implemented elapsed time from now to that date logic </p>\n\n<pre><code>class TopHeadlinesAdapter(val context: Context) : RecyclerView.Adapter&lt;TopHeadlinesAdapter.MyViewHolder&gt;() {\n\n    var articleList : List&lt;Article&gt; = listOf()\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.news_list,parent,false)\n        return MyViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return articleList.size\n    }\n\n    @SuppressLint(\"NewApi\")\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n        holder.articleTitle.text = articleList.get(position).title\n        holder.articleSourceName.text = articleList.get(position).source.name\n        Picasso.get().load(articleList.get(position).urlToImage).into(holder.image)\n\n        val input = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\n        val output = SimpleDateFormat(\"dd/MM/yyyy\", Locale.US)\n        var d = Date()\n        try\n        {\n            d = input.parse(articleList.get(4).publishedAt)\n        }\n        catch (e: ParseException) {\n            e.printStackTrace()\n        }\n        val formatted = output.format(d)\n        val timelinePoint = LocalDateTime.parse(formatted)\n        val now = LocalDateTime.now()\n\n        var elapsedTime = Duration.between(timelinePoint, now)\n\n        println(timelinePoint)\n        println(now)\n        elapsedTime.toMinutes()\n\n        holder.articleTime.text =  elapsedTime\n    }\n\n    fun setMovieListItems(articleList: List&lt;Article&gt;){\n        this.articleList = articleList\n        notifyDataSetChanged()\n    }\n\n    @SuppressLint(\"NewApi\")\n    fun example( ) {\n    }\n    class MyViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!) {\n\n        val image: ImageView = itemView!!.findViewById(R.id.imageView)\n        val articleTitle: TextView = itemView!!.findViewById(R.id.articleTitle)\n        val articleSourceName: TextView = itemView!!.findViewById(R.id.articleSourceName)\n        val imageCategory: ImageView = itemView!!.findViewById(R.id.imageCategory)\n        val articleTime: TextView = itemView!!.findViewById(R.id.articleTime)\n\n    }\n}\n</code></pre>\n\n<p>below Article.kt model class</p>\n\n<pre><code>data class Article(\n    val author: String,\n    val content: String,\n    val description: String,\n    val publishedAt: String,\n    val source: Source,\n    val title: String,\n    val url: String,\n    val urlToImage: String\n)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "protocol-buffers"], "answers": [{"tags": [], "owner": {"reputation": 1810, "user_id": 426180, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/842588516960b41c058cb11c5d02b1fb?s=128&d=identicon&r=PG&f=1", "display_name": "xarly", "link": "https://stackoverflow.com/users/426180/xarly"}, "is_accepted": false, "score": 1, "last_activity_date": 1570697076, "creation_date": 1570697076, "answer_id": 58318855, "question_id": 58289920, "link": "https://stackoverflow.com/questions/58289920/convert-a-protobuf-generated-by-grpc-to-json-in-android/58318855#58318855", "title": "Convert a protobuf ( generated by grpc ) to JSON in Android", "body": "<p>Ok I think I got it working, this is the solution I got, just if someone gets stack like me:</p>\n\n<pre><code>// GRPC\nimplementation \"io.grpc:grpc-okhttp:${grpcVersion}\" // CURRENT_GRPC_VERSION\nimplementation \"io.grpc:grpc-stub:${grpcVersion}\" // CURRENT_GRPC_VERSION\nimplementation \"io.grpc:grpc-protobuf:$grpcVersion\"\n\n// Protobuf\nimplementation \"com.google.protobuf:protobuf-java:$protobufVersion\"\nimplementation \"com.google.protobuf:protobuf-java-util:$protobufVersion\"\n\n\n\nprotobuf {\n    protoc { artifact = \"com.google.protobuf:protoc:$protobufVersion\" }\n    plugins {\n        grpc {\n            artifact = \"io.grpc:protoc-gen-grpc-java:${grpcVersion}\" // CURRENT_GRPC_VERSION\n        }\n    }\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.builtins {\n                java { }\n            }\n            task.plugins {\n                grpc { }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now I can use the JsonFormat: </p>\n\n<pre><code>val jsonPrinter = JsonFormat.printer().includingDefaultValueFields()\n\n\nreturn jsonPrinter.print(myProtobufObject)\n</code></pre>\n\n<p>sources: </p>\n\n<p><a href=\"https://github.com/google/protobuf-gradle-plugin#protos-in-dependencies\" rel=\"nofollow noreferrer\">https://github.com/google/protobuf-gradle-plugin#protos-in-dependencies</a>\n<a href=\"https://github.com/grpc/grpc-java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java</a>\n<a href=\"https://github.com/protocolbuffers/protobuf/tree/master/java\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/tree/master/java</a></p>\n\n<p><a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat</a></p>\n\n<p>Unfortunately this solution is not compatible with solutions older than Android Oreo:</p>\n\n<p><a href=\"https://github.com/protocolbuffers/protobuf/issues/6718\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/issues/6718</a></p>\n\n<p>Any updates: </p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/protobuf/EC2TtPixCFY\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/protobuf/EC2TtPixCFY</a></p>\n"}], "owner": {"reputation": 1810, "user_id": 426180, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/842588516960b41c058cb11c5d02b1fb?s=128&d=identicon&r=PG&f=1", "display_name": "xarly", "link": "https://stackoverflow.com/users/426180/xarly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1322, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570697076, "creation_date": 1570549936, "last_edit_date": 1570550250, "question_id": 58289920, "link": "https://stackoverflow.com/questions/58289920/convert-a-protobuf-generated-by-grpc-to-json-in-android", "title": "Convert a protobuf ( generated by grpc ) to JSON in Android", "body": "<p>I would like to convert a protobuf ( generated by grpc ) to JSON.</p>\n\n<p>I know with protobuf you can use: <code>JSonFormat</code> ( <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/JsonFormat</a> ) but this is not included in <code>protobuf-lite</code> ( <code>implementation 'com.google.protobuf:protobuf-lite:3.0.0'</code> ) which it's the one used in Android with the <code>protobuf-gradle-plugin</code> ( <a href=\"https://github.com/google/protobuf-gradle-plugin/issues/276\" rel=\"nofollow noreferrer\">https://github.com/google/protobuf-gradle-plugin/issues/276</a> )</p>\n\n<p>Is there any alternative?</p>\n\n<p>I'm using Kotlin, but because the protobuf generated from grpc is in java so I can't use serialisation from Kotlin ( <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/runtime_usage.md#protobuf\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/runtime_usage.md#protobuf</a> )</p>\n\n<p>Any ideas? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1570587707, "creation_date": 1570587707, "answer_id": 58296207, "question_id": 58289682, "link": "https://stackoverflow.com/questions/58289682/group-recyclerview-items-in-cardviews/58296207#58296207", "title": "Group RecyclerView items in CardViews", "body": "<p>You should do create a custom item view layout with cardview as container layout and then inflate the layout in onCreateViewHolder() of adapter and bind the respective fields data in onBindViewHolder() of adaptor.</p>\n"}], "owner": {"reputation": 1780, "user_id": 6207726, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/0d51ccc19dbf7826e4c56991e6a68509?s=128&d=identicon&r=PG&f=1", "display_name": "agiro", "link": "https://stackoverflow.com/users/6207726/agiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570587707, "creation_date": 1570549071, "question_id": 58289682, "link": "https://stackoverflow.com/questions/58289682/group-recyclerview-items-in-cardviews", "title": "Group RecyclerView items in CardViews", "body": "<p>I'm making a blood pressure tracker for practice purposes where the user can store their blood pressure data. I plan to group the values by day (so a card contains measurements for a day). \nI have a <code>RecyclerView</code> setup and I can fill it with seeded data alright. I just have no idea how to group them in <code>CardView</code>s. </p>\n\n<p>From the <code>Fragment</code> I tried this:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        viewModel = ViewModelProviders.of(this).get(DataListViewModel::class.java)\n        bpList = viewModel.data\n        val bpAdapter = BpListAdapter(bpList)\n        bpData.adapter = bpAdapter\n        bpData.layoutManager = LinearLayoutManager(context)\n        val dataByDay = bpList.groupBy { it.date.dayOfYear() }\n        val inflater = LayoutInflater.from(context)\n\n        for (k in dataByDay.keys) {\n            var card = inflater.inflate(R.layout.bp_day_card, bpData, false);\n            for (v in dataByDay[k]!!) {\n                card.findViewById&lt;CardView&gt;(R.id.cw).addView(bpAdapter.itemViews[bpList.indexOf(v)])\n            }\n        }\n    }\n</code></pre>\n\n<p>which resulted in an <code>IndexOutOfBoundsException</code>. </p>\n"}, {"tags": ["kotlin", "unresolved-external"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 2, "creation_date": 1570547290, "post_id": 58289046, "comment_id": 102942910, "body": "Hi! Please copy-paste the code instead of posting a screenshot of it! That makes it much easier to see what code is relevant for the question. Thanks!"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1570549151, "post_id": 58289046, "comment_id": 102943881, "body": "<code>onStrike</code> is a Boolean variable and not a member of the class <code>UnionEmployee</code>."}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1570580689, "creation_date": 1570580689, "answer_id": 58295542, "question_id": 58289046, "link": "https://stackoverflow.com/questions/58289046/kotlin-unresolved-reference/58295542#58295542", "title": "Kotlin - Unresolved Reference", "body": "<p>One possible reason is that your list is not <code>MutableList&lt;UnionEmployee&gt;</code>, but a list of some <code>UnionEmployee</code>'s supertype, for example just <code>MutableList&lt;Employee&gt;</code>. This could explain why you can successfully add a <code>UnionEmployee</code> there and call <code>work</code> method on an item of this list. If this is the case, then you should either declare your list as <code>MutableList&lt;UnionEmployee&gt;</code> or cast the obtained item to <code>UnionEmployee</code> if you're sure it will be of this type:</p>\n\n<pre><code>(list[3] as UnionEmployee).onStrike = true\n</code></pre>\n\n<p>Another explanation depends on whether <code>UnionEmployee</code> is written in Java or in Kotlin. If it's in Java, then <code>getOnStrike</code>/<code>setOnStrike</code> java methods are accessible in Kotlin as a property <code>onStrike</code>. If the class is in Kotlin, then these functions should be called from Kotlin as they were declared -- i.e. as functions. If you want a property in a Kotlin class, you should declare it as a property.</p>\n"}], "owner": {"reputation": 1, "user_id": 12183066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9150e5603c206a5c0976c187e6d873?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/12183066/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570580689, "creation_date": 1570546823, "last_edit_date": 1570561470, "question_id": 58289046, "link": "https://stackoverflow.com/questions/58289046/kotlin-unresolved-reference", "title": "Kotlin - Unresolved Reference", "body": "<p><a href=\"https://i.stack.imgur.com/ll07a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ll07a.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have question regarding about the <code>onStrike</code> variable. I declare <code>onStrike</code> in <code>UnionEmployee</code> as: <code>var onStrike = False</code>. Then, I go to the main function and create an object of <code>UnionEmployee as x</code>, but when I want to set <code>x.onStrike = true</code> it says</p>\n\n<blockquote>\n  <p>unresolved referrence</p>\n</blockquote>\n\n<p>Is there a way to fix this?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "is_accepted": false, "score": 0, "last_activity_date": 1570545018, "creation_date": 1570545018, "answer_id": 58288462, "question_id": 58288177, "link": "https://stackoverflow.com/questions/58288177/get-maximum-value-from-string-map-in-kotlin/58288462#58288462", "title": "Get maximum value from String Map in Kotlin", "body": "<p>If you want to find the max value whatever it is the key or the value, it should be:</p>\n\n<pre><code>myMap.maxBy { max(it.key.toInt(), it.value.toInt()) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": true, "score": 3, "last_activity_date": 1570545471, "last_edit_date": 1570545471, "creation_date": 1570545103, "answer_id": 58288488, "question_id": 58288177, "link": "https://stackoverflow.com/questions/58288177/get-maximum-value-from-string-map-in-kotlin/58288488#58288488", "title": "Get maximum value from String Map in Kotlin", "body": "<p>I think, you forgot to say that your values are of type <code>String</code>, not <code>Int</code> or <code>Long</code>. That's why they are compared as Strings (<code>b &gt; a</code> and <code>b &gt; abcgdf</code>, <code>6 &gt; 1</code> so <code>6 &gt; 10</code> or <code>6 &gt; 1abcgfs</code> and <code>65 &gt; 100</code>). When you want to compare strings as numbers you need to convert them to numbers or write comparator. If you are sure that these strings will be always numbers, just use </p>\n\n<pre><code>myMap.maxBy { it.value.toLong() }\n// or for not very big numbers:\nmyMap.maxBy { it.value.toInt() }\n</code></pre>\n\n<p>or, when you need Int value at the end, maybe you should convert strings to numbers before this operation.</p>\n"}], "owner": {"reputation": 5765, "user_id": 4716694, "user_type": "registered", "accept_rate": 35, "profile_image": "https://lh6.googleusercontent.com/-k2io4vLdTBo/AAAAAAAAAAI/AAAAAAAAACI/3qwLFFha6OE/photo.jpg?sz=128", "display_name": "johnrao07", "link": "https://stackoverflow.com/users/4716694/johnrao07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 58288488, "answer_count": 2, "score": 0, "last_activity_date": 1570545471, "creation_date": 1570544064, "last_edit_date": 1570544507, "question_id": 58288177, "link": "https://stackoverflow.com/questions/58288177/get-maximum-value-from-string-map-in-kotlin", "title": "Get maximum value from String Map in Kotlin", "body": "<p>I am using the following code</p>\n\n<pre><code>val maxEntries = myMap.values.max()?.let {\nmaxValue -&gt; myMap.filterValues { it == maxValue }\n} ?: emptyMap()\n</code></pre>\n\n<p>Working for values under 100, but 100 and above values it is picking the next highest value</p>\n\n<p>Map:    <code>{0=65, 1=2, 2=100, 3=1, 4=11, 5=6, 6=46, 7=31}</code></p>\n\n<p>Max Value Print1: <code>{0=65}</code></p>\n\n<p>Another example:</p>\n\n<p>Map: <code>{0=3, 1=3, 2=3, 3=3, 4=7, 5=6}</code></p>\n\n<p>Max Value Print2: <code>{4=7}</code></p>\n\n<p>I tried it this way too</p>\n\n<pre><code>val maxEntries = myMap.maxBy { it.value }?.value!!.toInt()\n</code></pre>\n\n<p>Print1: 65</p>\n\n<p>Map is <code>HashMap&lt;String, String&gt;</code></p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 2, "creation_date": 1570543697, "post_id": 58288034, "comment_id": 102940859, "body": "<code>fun printAll(values: ArrayList&lt;*&gt;)</code> or <code>fun printAll(values: ArrayList&lt;out Any&gt;)</code> You will not be able to add items to the list in your function, only read them."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 7485947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4c2632d519af6880ee96b48f157e1e3?s=128&d=identicon&r=PG&f=1", "display_name": "Fionn O&#39;Connor", "link": "https://stackoverflow.com/users/7485947/fionn-oconnor"}, "is_accepted": false, "score": 3, "last_activity_date": 1570543888, "creation_date": 1570543888, "answer_id": 58288122, "question_id": 58288034, "link": "https://stackoverflow.com/questions/58288034/accept-different-kinds-of-arraylist-in-function-argument/58288122#58288122", "title": "Accept different kinds of ArrayList in function argument", "body": "<p>This can be solved with prefixing <code>Any</code> with <code>out</code> in the method signature.</p>\n\n<pre><code>fun printAll(values: ArrayList&lt;out Any&gt;){\n    values.forEach{item -&gt;\n        println(item)\n    }\n}\n</code></pre>\n\n<p>Read more:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a> </p>\n\n<p><a href=\"https://kotlinexpertise.com/kotlin-generics-and-variance-vs-java/\" rel=\"nofollow noreferrer\">https://kotlinexpertise.com/kotlin-generics-and-variance-vs-java/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": true, "score": 3, "last_activity_date": 1570543896, "creation_date": 1570543896, "answer_id": 58288129, "question_id": 58288034, "link": "https://stackoverflow.com/questions/58288034/accept-different-kinds-of-arraylist-in-function-argument/58288129#58288129", "title": "Accept different kinds of ArrayList in function argument", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-functions\" rel=\"nofollow noreferrer\">Generic Functions</a>. In your example simply change you function to:</p>\n\n<pre><code>fun &lt;T&gt; printAll(values: ArrayList&lt;T&gt;) {...}\n</code></pre>\n\n<p>and kotlin compiler will change T to any type, you will use. You should read about generics - it's very usefull in Object Oriented programming.</p>\n\n<p>Now you can use your function exactly the same way as before, because compiler will determine type of T for you.</p>\n"}], "owner": {"reputation": 400, "user_id": 10967630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BL5fKh14hBo/AAAAAAAAAAI/AAAAAAAABcI/GkOQ_Z52KW8/photo.jpg?sz=128", "display_name": "SayantanRC", "link": "https://stackoverflow.com/users/10967630/sayantanrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58288129, "answer_count": 2, "score": 1, "last_activity_date": 1570588152, "creation_date": 1570543582, "last_edit_date": 1570588152, "question_id": 58288034, "link": "https://stackoverflow.com/questions/58288034/accept-different-kinds-of-arraylist-in-function-argument", "title": "Accept different kinds of ArrayList in function argument", "body": "<p>I want a function which can accept ArrayList of different types and do some operation with it. For example, I would like to print all the elements of the array. I have tried this:</p>\n\n<pre><code>val numbers by lazy {ArrayList&lt;Int&gt;(0)}\nval texts by lazy {ArrayList&lt;String&gt;(0)}\n\nfun main() {\n    numbers.add(1)\n    numbers.add(2)\n    numbers.add(3)\n    texts.add(\"one\")\n    texts.add(\"two\")\n    texts.add(\"three\")\n    printAll(numbers)    //error here\n    printAll(texts)      //error here\n}\n\nfun printAll(values: ArrayList&lt;Any&gt;){\n    values.forEach{item -&gt;\n        println(item)\n    }\n}\n</code></pre>\n\n<p>However I get this error:</p>\n\n<pre><code>Type mismatch: inferred type is kotlin.collections.ArrayList&lt;Int&gt; /* = java.util.ArrayList&lt;Int&gt; */ but kotlin.collections.ArrayList&lt;Any&gt; /* = java.util.ArrayList&lt;Any&gt; */ was expected\nType mismatch: inferred type is kotlin.collections.ArrayList&lt;String&gt; /* = java.util.ArrayList&lt;String&gt; */ but kotlin.collections.ArrayList&lt;Any&gt; /* = java.util.ArrayList&lt;Any&gt; */ was expected\n</code></pre>\n\n<p>This is a simplified version of what I want to do. In my actual implementation, the argument <code>values</code> is being received from a different callback function, and I need to do more complex things with the elements than just printing.</p>\n\n<p>What should I try in the function argument? Thanks.</p>\n"}, {"tags": ["kotlin", "koin"], "answers": [{"comments": [{"owner": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "edited": false, "score": 0, "creation_date": 1570547175, "post_id": 58288884, "comment_id": 102942850, "body": "Mostly experimenting with Kotllin. Currently I have implemented simplle service in form: <code>class Query : KoinComponent {     private val client: HttpClient by inject()     suspend operator fun invoke(query: String) =         client.post&lt;Response&gt;(url) {             body = query         } } </code> and was wondering if i can do it a bit more simpllified."}, {"owner": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "edited": false, "score": 0, "creation_date": 1571171838, "post_id": 58288884, "comment_id": 103149577, "body": "I&#39;ve just realized that it is a workaround, is there any legit method?"}, {"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "reply_to_user": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "edited": false, "score": 0, "creation_date": 1571173913, "post_id": 58288884, "comment_id": 103150350, "body": "What&#39;s wrong with this code? It works <b>exactly</b> like <code>KoinComponent</code>."}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 1, "last_activity_date": 1570547852, "last_edit_date": 1570547852, "creation_date": 1570546266, "answer_id": 58288884, "question_id": 58287945, "link": "https://stackoverflow.com/questions/58287945/create-function-inheriting-koin-component/58288884#58288884", "title": "Create function inheriting koin component", "body": "<p>Well, it's doable:</p>\n\n<p>First, let's define the service and the implementation:</p>\n\n<pre><code>interface HelloService {\n    fun sayHello()\n}\n\nclass HelloServiceImpl(private val name: String) : HelloService {\n    override fun sayHello() {\n        println(\"Hello, $name!\")\n    }\n}\n</code></pre>\n\n<p>Pretty obvious, the service will say \"Hello\" to the person configured in its constructor.</p>\n\n<p>Now, the <code>koinComponent</code> function:</p>\n\n<pre><code>fun &lt;T&gt; koinComponent(block: Koin.() -&gt; T) {\n    GlobalContext.get().koin.block()\n}\n</code></pre>\n\n<p>Your function:</p>\n\n<pre><code>fun sayHello() = koinComponent {\n    val helloService: HelloServiceImpl by inject()\n\n    helloService.sayHello()\n}\n</code></pre>\n\n<p>And the usage:</p>\n\n<pre><code>fun main() {\n    startKoin {\n        modules(listOf(\n            module {\n                single { HelloServiceImpl(\"majkrzak\") }\n            }\n        ))\n    }\n\n    sayHello()\n}\n</code></pre>\n\n<p>Output: <code>Hello, majkrzak!</code></p>\n\n<p>It's all very simple: in order to be able to use the <a href=\"https://insert-koin.io/docs/2.0/documentation/reference/index.html#_retrieving_definitions_with_get_inject\" rel=\"nofollow noreferrer\"><code>inject</code> delegate</a>, you need a Koin context. Actually, the way <code>KoinComponent</code> works is by using the <code>GlobalContext</code>:</p>\n\n<pre><code>interface KoinComponent {\n    fun getKoin(): Koin = GlobalContext.get().koin\n}\n\ninline fun &lt;reified T&gt; KoinComponent.inject(\n        qualifier: Qualifier? = null,\n        noinline parameters: ParametersDefinition? = null\n): Lazy&lt;T&gt; =\n        getKoin().inject(qualifier, parameters)\n</code></pre>\n\n<p>So, why not do the same? We declare the <code>koinComponent</code> function so that it's <code>block</code> argument is called with a <code>Koin</code> receiver and use that global koin instance implicitly.</p>\n\n<p>We can make it more reusable by using default values:</p>\n\n<pre><code>fun &lt;T&gt; koinComponent(koin: Koin = GlobalContext.get().koin, block: Koin.() -&gt; T) {\n    koin.block()\n}\n</code></pre>\n\n<p>Now I have a question to you: why do you need that?</p>\n"}], "owner": {"reputation": 857, "user_id": 11684473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75d9637ee85de92c304840bea0b9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "majkrzak", "link": "https://stackoverflow.com/users/11684473/majkrzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 58288884, "answer_count": 1, "score": 0, "last_activity_date": 1570547852, "creation_date": 1570543317, "question_id": 58287945, "link": "https://stackoverflow.com/questions/58287945/create-function-inheriting-koin-component", "title": "Create function inheriting koin component", "body": "<p>I'm trying to simplify:</p>\n\n<pre><code>// Tag class with KoinComponent\nclass HelloApp : KoinComponent {\n\n    // lazy inject dependency\n    val helloService: HelloServiceImpl by inject()\n\n    fun sayHello(){\n        helloService.sayHello()\n    }\n}\n</code></pre>\n\n<p>to something like </p>\n\n<pre><code>fun sayHello() = koinComponent {\n    val helloService: HelloServiceImpl by inject()\n    helloService.sayHello()\n}\n</code></pre>\n\n<p>Is it even possible that way, or I'm doomed with making a class with <code>invoke</code> operator?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 126, "user_id": 10110451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14b68ab6a8c213249fce76d572c69cc?s=128&d=identicon&r=PG&f=1", "display_name": "Avilash", "link": "https://stackoverflow.com/users/10110451/avilash"}, "edited": false, "score": 0, "creation_date": 1570544758, "post_id": 58287817, "comment_id": 102941468, "body": "You can setOnClickListener in onBindViewHolder of your adapter.  You can get the item position there."}], "answers": [{"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1570544521, "creation_date": 1570544521, "answer_id": 58288301, "question_id": 58287817, "link": "https://stackoverflow.com/questions/58287817/my-recyclerview-position-always-give-me-1/58288301#58288301", "title": "My Recyclerview position always give me &quot;-1&quot;", "body": "<p><code>viewHolder.adapterPosition</code>is the position on the screen in pixels, not the position in the data list. And it is not always up to date. You should put a <code>var dataPosition</code> in your view holder implementation and set it in <code>onBindView</code>. Then use that in your click listener.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "is_accepted": false, "score": 0, "last_activity_date": 1570544636, "creation_date": 1570544636, "answer_id": 58288344, "question_id": 58287817, "link": "https://stackoverflow.com/questions/58287817/my-recyclerview-position-always-give-me-1/58288344#58288344", "title": "My Recyclerview position always give me &quot;-1&quot;", "body": "<p>You should bind your call to the clickListener in the onBindViewHolder instead of onCreateViewHolder since items can be recycled and the position is given in parameters.</p>\n\n<pre><code>override fun onBindViewHolder(holder: AracModelViewHolder, position: Int) {\n        val oAnolusturulanSatir = modellist.get(position)\n        holder.setData(oAnolusturulanSatir, position)\n        holder.itemView.setOnClickListener {\n               itemClickListener.userItemClick(position)\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570544758, "post_id": 58288356, "comment_id": 102941466, "body": "This would instantiate a new listener every time a view is bound. Shouldn&#39;t be necessary."}], "tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1570544677, "creation_date": 1570544677, "answer_id": 58288356, "question_id": 58287817, "link": "https://stackoverflow.com/questions/58287817/my-recyclerview-position-always-give-me-1/58288356#58288356", "title": "My Recyclerview position always give me &quot;-1&quot;", "body": "<p>You can try like the following.</p>\n\n<pre><code>class ModelAdapter(var modelliste: List&lt;AracModel&gt;, var context: Context) :\n    RecyclerView.Adapter&lt;ModelAdapter.AracModelViewHolder&gt;() {\n    private val itemClickListener = context as MyItemClickListener\n    //var modellist = ArrayList(response.body()!!)\n\n    var modellist = modelliste\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AracModelViewHolder {\n\n        var inflater = LayoutInflater.from(parent.context)\n        var teksatirmodel = inflater.inflate(R.layout.tek_satir_model, parent, false)\n\n        return AracModelViewHolder(teksatirmodel)\n    }\n\n    override fun getItemCount(): Int {\n        return modellist.size\n    }\n\n    override fun onBindViewHolder(holder: AracModelViewHolder, position: Int) {\n        val oAnolusturulanSatir = modellist.get(position)\n        holder.setData(oAnolusturulanSatir, position)\n        // her you can set click listener on your item view\n        holder.itemView.setOnClickListener {\n            itemClickListener.userItemClick(position)\n        }\n    }\n    class AracModelViewHolder(viewGroup: View) : RecyclerView.ViewHolder(viewGroup) {\n        var teksatirliste = itemView as CardView\n        var modeltitle = teksatirliste.tvListeBaslik\n\n        fun setData(modelliste: AracModel, position: Int) {\n\n            modeltitle.text = modelliste.model }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "is_accepted": true, "score": 2, "last_activity_date": 1570544776, "creation_date": 1570544776, "answer_id": 58288390, "question_id": 58287817, "link": "https://stackoverflow.com/questions/58287817/my-recyclerview-position-always-give-me-1/58288390#58288390", "title": "My Recyclerview position always give me &quot;-1&quot;", "body": "<p>Just change this code as below</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AracModelViewHolder {\n        var inflater = LayoutInflater.from(parent.context)\n        var teksatirmodel = inflater.inflate(R.layout.modal_layout, parent, false)\n\n        var opelViewHolder = AracModelViewHolder(teksatirmodel)\n        teksatirmodel.setOnClickListener {\n            itemClickListener.userItemClick(opelViewHolder.adapterPosition)\n        }\n        return opelViewHolder\n    }\n</code></pre>\n\n<p>return <code>opelViewHolder</code> instead <code>AracModelViewHolder(teksatirmodel)</code> new object</p>\n"}], "owner": {"reputation": 131, "user_id": 11758532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0500a395a799eff2f80985824426ae6d?s=128&d=identicon&r=PG&f=1", "display_name": "akiilhan", "link": "https://stackoverflow.com/users/11758532/akiilhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58288390, "answer_count": 4, "score": 0, "last_activity_date": 1570544776, "creation_date": 1570542835, "question_id": 58287817, "link": "https://stackoverflow.com/questions/58287817/my-recyclerview-position-always-give-me-1", "title": "My Recyclerview position always give me &quot;-1&quot;", "body": "<p>I am using retrofit to collect data and print my recyclerview. I just want to, when i click any one of the row, new activity opens. But i saw in logs, position values always \"-1\".I cant find any solution.Do you have any idea about it?\nThis log screenshot:<a href=\"https://i.stack.imgur.com/bkqyp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bkqyp.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my mainactivity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(),MyItemClickListener {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        ApiClient.client?.create(ApiInterface::class.java)?.tumModelleriGetir()\n            ?.enqueue(object : Callback&lt;List&lt;AracModel&gt;&gt; {\n                override fun onFailure(call: Call&lt;List&lt;AracModel&gt;&gt;, t: Throwable) {\n                    Log.e(\"hata\", \"\" + t?.printStackTrace())\n                }\n                override fun onResponse(\n                    call: Call&lt;List&lt;AracModel&gt;&gt;,\n                    response: Response&lt;List&lt;AracModel&gt;&gt;\n                ) {\n                    Log.e(\"ba\u015far\u0131l\u0131\", call?.request().url()?.toString())\n                    var gelenData = response?.body()\n                    var modellist= ArrayList(response.body()!!)\n                    rv.layoutManager=LinearLayoutManager(this@MainActivity,LinearLayoutManager.VERTICAL,false)\n                    rv.adapter=ModelAdapter(modellist,this@MainActivity)\n                    //for (i in 0..response?.body()?.size!! - 1)\n                      //  Log.e(\"ba\u015far\u0131l\u0131\", \"\" + response?.body()?.get(i)?.model.toString())\n                } }) }\n\n    override fun userItemClick(position: Int) {\n\n        Log.e(\"pozisyon\",\"pozisyon: \"+position)\n        when(position){\n\n            3-&gt;{\n                Toast.makeText(this,\"deneme\",Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is my adapter:</p>\n\n<pre><code>class ModelAdapter(var modelliste: List&lt;AracModel&gt;, var context: Context) :\n    RecyclerView.Adapter&lt;ModelAdapter.AracModelViewHolder&gt;() {\n    private val itemClickListener = context as MyItemClickListener\n    //var modellist = ArrayList(response.body()!!)\n\n    var modellist = modelliste\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): AracModelViewHolder {\n\n        var inflater = LayoutInflater.from(parent.context)\n        var teksatirmodel = inflater.inflate(R.layout.tek_satir_model, parent, false)\n\n\n        var opelViewHolder = AracModelViewHolder(teksatirmodel)\n        teksatirmodel.setOnClickListener {\n            itemClickListener.userItemClick(opelViewHolder.adapterPosition)\n        }\n        return AracModelViewHolder(teksatirmodel)\n    }\n\n    override fun getItemCount(): Int {\n        return modellist.size\n    }\n\n    override fun onBindViewHolder(holder: AracModelViewHolder, position: Int) {\n        val oAnolusturulanSatir = modellist.get(position)\n        holder.setData(oAnolusturulanSatir, position)\n    }\n    class AracModelViewHolder(viewGroup: View) : RecyclerView.ViewHolder(viewGroup) {\n        var teksatirliste = itemView as CardView\n        var modeltitle = teksatirliste.tvListeBaslik\n\n        fun setData(modelliste: AracModel, position: Int) {\n\n            modeltitle.text = modelliste.model }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570540964, "post_id": 58287189, "comment_id": 102939203, "body": "if the onTouchListener is useless you must remove it and the onclicklistener will be called every time. Ontouchlistener and onclick at the same time is impossible i think"}, {"owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "reply_to_user": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570541394, "post_id": 58287189, "comment_id": 102939469, "body": "I have added the onTouchListener only for debugging to see if the view got touched or if something else caught the touch instead of my button"}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570541573, "post_id": 58287189, "comment_id": 102939570, "body": "you should post the code of your fragments and your activity because it&#39;s a litlle bit abstract explained like this"}, {"owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "reply_to_user": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570542551, "post_id": 58287189, "comment_id": 102940172, "body": "I added everything I can"}, {"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570543013, "post_id": 58287189, "comment_id": 102940461, "body": "what is your problem now ?"}, {"owner": {"reputation": 12400, "user_id": 9851608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/480f6b25cbf801d5dbdf465d47a46772?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/9851608/zain"}, "edited": false, "score": 0, "creation_date": 1570543035, "post_id": 58287189, "comment_id": 102940469, "body": "What boolean value do you return from onTouchListener?"}, {"owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "reply_to_user": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1570543264, "post_id": 58287189, "comment_id": 102940591, "body": "@SebastienRieu the user_hud_main_button onclick in the UserHUDFragment is not called except sometimes if we spam the button. But each time we try to click on the button, its animation is executed. It happens only for few users."}, {"owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "reply_to_user": {"reputation": 12400, "user_id": 9851608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/480f6b25cbf801d5dbdf465d47a46772?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/9851608/zain"}, "edited": false, "score": 0, "creation_date": 1570543313, "post_id": 58287189, "comment_id": 102940617, "body": "@Zain the onTouchListener is not part of the original code, it is only here to debug but it returns false in the debug code"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "edited": false, "score": 0, "creation_date": 1570541263, "post_id": 58287262, "comment_id": 102939376, "body": "I put the onTouch only for debug purpose, the setOnTouchListener was not in the original source code"}], "tags": [], "owner": {"reputation": 380, "user_id": 9329651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afx0b.jpg?s=128&g=1", "display_name": "RadoVidjen", "link": "https://stackoverflow.com/users/9329651/radovidjen"}, "is_accepted": false, "score": 1, "last_activity_date": 1570540966, "creation_date": 1570540966, "answer_id": 58287262, "question_id": 58287189, "link": "https://stackoverflow.com/questions/58287189/onclick-not-called-while-i-get-ontouch-event/58287262#58287262", "title": "OnClick not called while I get OnTouch event", "body": "<p>It is not allowed to have both onTouch and onClick listener on one view. You can do everything with onTouchListener.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "is_accepted": true, "score": 0, "last_activity_date": 1570623592, "creation_date": 1570623592, "answer_id": 58304008, "question_id": 58287189, "link": "https://stackoverflow.com/questions/58287189/onclick-not-called-while-i-get-ontouch-event/58304008#58304008", "title": "OnClick not called while I get OnTouch event", "body": "<p>Ok the problem was that I had a \"infinite loop\" from my activity asking for a permission when users declined it with \"don't ask again\" option, so every click event was broken</p>\n"}], "owner": {"reputation": 11, "user_id": 12182507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f4cde33c824c1202cb1497af07cbc0?s=128&d=identicon&r=PG&f=1", "display_name": "spaown", "link": "https://stackoverflow.com/users/12182507/spaown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58304008, "answer_count": 2, "score": 0, "last_activity_date": 1570623592, "creation_date": 1570540726, "last_edit_date": 1570542511, "question_id": 58287189, "link": "https://stackoverflow.com/questions/58287189/onclick-not-called-while-i-get-ontouch-event", "title": "OnClick not called while I get OnTouch event", "body": "<p>I have an issue on my app I am trying to solve it from 2 days now but I can't find anything about it.</p>\n\n<p>Almost every single button in a fragment which is added dynamically at my Activity onCreate are not clickable for some users. Nobody in my team experiences the issue so, I reached a user with the bug and made some test with him and here are the results:</p>\n\n<p>If he clicks just once the button doesn't work but if he spams it, the button sometimes trigger.\nI have also placed some debugging in his version and this is what I found:</p>\n\n<pre><code>user_hud_main_button.setOnTouchListener { v, event -&gt;\n            when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; report += \"down;\"\n                MotionEvent.ACTION_UP -&gt; report += \"up;\"\n            }\n            false\n        }\n        user_hud_main_button.setOnClickListener {\n            report += \"click;\"\n            toggleMainButton()\n            Analytics.send(Event.Type.BtnAddMain)\n        }\n</code></pre>\n\n<p>edit: the setOnTouchListener has been added only for debug purpose while working on the problem</p>\n\n<p>while on my test phones I get:</p>\n\n<blockquote>\n  <p>down;up;click;down;up;click;down;up;click;</p>\n</blockquote>\n\n<p>the user get:</p>\n\n<blockquote>\n  <p>down;up;down;up;down;up;down;up;</p>\n</blockquote>\n\n<p>The up and down events are correctly sent but not the onclick. Why does this happen and why only for few users ?</p>\n\n<p>Here is the layout of the activity:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/content\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;fragment\n        android:name=\"com.hulab.mapstr.newArch.MapFragment\"\n        android:id=\"@+id/activity_map_fragment_map\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n\n    ...\n\n    &lt;FrameLayout\n        android:id=\"@+id/activity_map_hud_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;!-- Bottom drawer --&gt;\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n        &lt;include layout=\"@layout/main_bottom_sheet\"&gt;&lt;/include&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>activity code:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n...\n\nsupportFragmentManager.beginTransaction().add(R.id.activity_map_hud_container, UserHUDFragment()).commit()\n...\n\n    }\n</code></pre>\n\n<p>UserHUDFragment:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        ...\n\n        user_hud_main_button.setOnClickListener {\n            toggleMainButton()\n            Analytics.send(Event.Type.BtnAddMain)\n        }\n        ...\n    }\n</code></pre>\n\n<p>UserHUD layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/user_hud\"&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=\"@+id/user_hud_current_map_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n\n            &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n                android:id=\"@+id/user_hud_main_button\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:elevation=\"1dp\"\n                app:fabSize=\"normal\"\n                app:useCompatPadding=\"true\"\n                android:src=\"@drawable/add_fab_button\" /&gt;\n\n...\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n...\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Thanks in advance and sorry for my english</p>\n"}, {"tags": ["java", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12182259, "user_type": "registered", "profile_image": "https://graph.facebook.com/278567652862085/picture?type=large", "display_name": "Zubair Khalid", "link": "https://stackoverflow.com/users/12182259/zubair-khalid"}, "edited": false, "score": 0, "creation_date": 1570540070, "post_id": 58286771, "comment_id": 102938713, "body": "I figured it out already, mistake was simple. I forgot to convert integer days to string to set as text. Anyway thank you very much."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 1, "last_activity_date": 1570539255, "creation_date": 1570539255, "answer_id": 58286771, "question_id": 58286405, "link": "https://stackoverflow.com/questions/58286405/unable-to-implement-custom-calendar-view-library-in-android-java/58286771#58286771", "title": "Unable to implement custom calendar view library in android java", "body": "<p>DayViewContainer should make the TextView a member variable so you can actually access it. You could make a getter for it, but for simple classes like this my personal preference is to make fields <code>public final</code> to simplify it.</p>\n\n<pre><code>class DayViewContainer extends ViewContainer {\n\n    public final TextView calendarDayText;\n\n    public DayViewContainer(View view) {\n        super(view);\n        calendarDayText = view.findViewById(R.id.calendarDayText);\n    }\n}\n</code></pre>\n\n<p>And since you're calling your own Java code, and we made this member field public, you don't need to call a getter for it in your DayBinder:</p>\n\n<pre><code>@Override\npublic void bind(DayViewContainer dayViewContainer, CalendarDay calendarDay) {\n    dayViewContainer.calendarDayText.setText(calendarDay.getDate().getDayOfMonth());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 12182259, "user_type": "registered", "profile_image": "https://graph.facebook.com/278567652862085/picture?type=large", "display_name": "Zubair Khalid", "link": "https://stackoverflow.com/users/12182259/zubair-khalid"}, "is_accepted": true, "score": 1, "last_activity_date": 1570540196, "creation_date": 1570540196, "answer_id": 58287031, "question_id": 58286405, "link": "https://stackoverflow.com/questions/58286405/unable-to-implement-custom-calendar-view-library-in-android-java/58287031#58287031", "title": "Unable to implement custom calendar view library in android java", "body": "<p>Thank you guys for showing some concern here.</p>\n\n<p>I figured it out.</p>\n\n<p>The mistake was that I was not converting integer days to String to use it as text on TextView.\nThe correction is here in following line:</p>\n\n<pre><code>textView.setText(Integer.toString(calendarDay.getDate().getDayOfMonth()));\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 12182259, "user_type": "registered", "profile_image": "https://graph.facebook.com/278567652862085/picture?type=large", "display_name": "Zubair Khalid", "link": "https://stackoverflow.com/users/12182259/zubair-khalid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 58287031, "answer_count": 2, "score": 2, "last_activity_date": 1591515679, "creation_date": 1570537796, "last_edit_date": 1570542467, "question_id": 58286405, "link": "https://stackoverflow.com/questions/58286405/unable-to-implement-custom-calendar-view-library-in-android-java", "title": "Unable to implement custom calendar view library in android java", "body": "<p>I want to use this Calendar view in my android java app.\n<a href=\"https://github.com/kizitonwose/CalendarView\" rel=\"nofollow noreferrer\">https://github.com/kizitonwose/CalendarView</a></p>\n\n<p>I've tried myself first before coming here but I could not implement this in java as documentation is for Kotlin.</p>\n\n<p>Someone please help me, I am stuck on step 2.</p>\n\n<p>Step 2:</p>\n\n<p>Kotlin Code of Documentation:</p>\n\n<pre><code>class DayViewContainer(view: View) : ViewContainer(view) {\n    val textView = view.calendarDayText\n}\n</code></pre>\n\n<p>My Java Equivalent Code:</p>\n\n<pre><code>class DayViewContainer extends ViewContainer {\n\n    public DayViewContainer(View view) {\n        super(view);\n        final TextView calendar_day_text = view.findViewById(R.id.calendarDayText);\n    }\n}\n</code></pre>\n\n<p>Kotlin Code of Documentation:</p>\n\n<pre><code>calendarView.dayBinder = object : DayBinder&lt;DayViewContainer&gt; {\n    // Called only when a new container is needed.\n    override fun create(view: View) = DayViewContainer(view)\n    // Called every time we need to reuse a container.\n    override fun bind(container: DayViewContainer, day: CalendarDay) {\n        container.textView.text = day.date.dayOfMonth.toString()\n    }\n}\n</code></pre>\n\n<p>My Java Equivalent Code:</p>\n\n<pre><code>calendarView.setDayBinder(new DayBinder&lt;DayViewContainer&gt;(){\n\n    @Override\n        public DayViewContainer create(View view) {\n        return new DayViewContainer(view);\n    }\n\n    @Override\n    public void bind(DayViewContainer dayViewContainer, CalendarDay calendarDay) {\n        TextView textView = \n         dayViewContainer.getView().findViewById(R.id.calendarDayText);\n        textView.setText(calendarDay.getDate().getDayOfMonth());\n    }\n});\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-fragments", "exception", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 4, "last_activity_date": 1570535947, "creation_date": 1570535947, "answer_id": 58285934, "question_id": 58285836, "link": "https://stackoverflow.com/questions/58285836/android-fragment-did-not-create-a-view/58285934#58285934", "title": "Android : Fragment did not create a view", "body": "<p>You didn't assign your layout to view inside fragment <strong><code>onCreateView</code></strong>. Should be like this.</p>\n\n<pre><code>val view = inflater.inflate(R.layout.fragment_imageslider, container, false)\nreturn view\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 58285934, "answer_count": 1, "score": -2, "last_activity_date": 1570536666, "creation_date": 1570535571, "question_id": 58285836, "link": "https://stackoverflow.com/questions/58285836/android-fragment-did-not-create-a-view", "title": "Android : Fragment did not create a view", "body": "<p>I have <code>MainActivity</code> in which I am calling a fragmrnt <code>ImagesliderFragment</code> but it throws an exception of <code>Fragment com.example.pickingredients.ImagesliderFragment did not create a view.</code></p>\n\n<p>here are some parts of my code </p>\n\n<p><strong>MainACtivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    if(savedInstanceState==null) {\n        val fragment = ImagesliderFragment()\n        supportFragmentManager.beginTransaction().add(R.id.fragment, fragment).commit()\n    }\n\n}\n</code></pre>\n\n<p><strong>ImagesliderFragment</strong></p>\n\n<pre><code>class ImagesliderFragment : Fragment() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n    }\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    inflater.inflate(R.layout.fragment_imageslider, container, false)\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    val frag_rv = view.findViewById&lt;RecyclerView&gt;(R.id.frag_rv)\n    frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL,\n    false)\n    displayContent()\n}\n\nfun displayContent(){\n    val contentList:ArrayList&lt;Int&gt; = ArrayList()\n    contentList.add(R.drawable.italian)\n    contentList.add(R.drawable.chinese)\n    contentList.add(R.drawable.dessert)\n    contentList.add(R.drawable.sushi)\n    contentList.add(R.drawable.desi)\n    frag_rv.adapter = ViewAdapter(contentList)\n}}\n</code></pre>\n\n<p><strong>XML</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"\n        android:background=\"@color/light_grey\"&gt;\n\n    &lt;TextView\n            android:text=\"@string/what_is_your_mood\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/mood_tv\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"8dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"\n            app:layout_constraintHorizontal_bias=\"0.03\"\n            android:layout_marginTop=\"16dp\" app:layout_constraintTop_toTopOf=\"parent\"\n            android:textSize=\"18sp\"/&gt;\n    &lt;androidx.constraintlayout.widget.Guideline android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n                                                android:id=\"@+id/guideline\" app:layout_constraintGuide_begin=\"16dp\"\n                                                android:orientation=\"vertical\"/&gt;\n    &lt;fragment\n            android:layout_width=\"362dp\"\n            android:layout_height=\"98dp\"\n            android:name=\"com.example.pickingredients.ImagesliderFragment\"\n            android:id=\"@+id/fragment\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\" app:layout_constraintStart_toStartOf=\"@+id/guideline\"\n            android:layout_marginStart=\"8dp\" app:layout_constraintTop_toBottomOf=\"@+id/mood_tv\"\n            android:layout_marginTop=\"16dp\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.pickingredients, PID: 2506\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.pickingredients/com.example.pickingredients.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class fragment\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3114)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3257)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1948)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7050)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:965)\n     Caused by: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class fragment\n     Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class fragment\n     Caused by: java.lang.IllegalStateException: Fragment com.example.pickingredients.ImagesliderFragment did not create a view.\n        at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3778)\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:120)\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:405)\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:387)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\n        at com.example.pickingredients.MainActivity.onCreate(MainActivity.kt:17)\n        at android.app.Activity.performCreate(Activity.java:7327)\n        at android.app.Activity.performCreate(Activity.java:7318)\n</code></pre>\n"}, {"tags": ["kotlin", "datetime-conversion"], "comments": [{"owner": {"reputation": 3305, "user_id": 356629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f563718f19b5aab648973d6e38a9d8af?s=128&d=identicon&r=PG", "display_name": "kenny_k", "link": "https://stackoverflow.com/users/356629/kenny-k"}, "edited": false, "score": 3, "creation_date": 1570535531, "post_id": 58285591, "comment_id": 102936427, "body": "Hi Edgar, your question is getting down-voted because your question does not provide enough information to understand what you&#39;re trying to do. What is the output expect for the server timestamp in your question?  Please read <a href=\"https://stackoverflow.com/help/how-to-ask\"><b>how to ask</b></a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><b>how to create a minimum, reproducible example</b></a> for better results when using the site. Good luck!"}, {"owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "reply_to_user": {"reputation": 3305, "user_id": 356629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f563718f19b5aab648973d6e38a9d8af?s=128&d=identicon&r=PG", "display_name": "kenny_k", "link": "https://stackoverflow.com/users/356629/kenny-k"}, "edited": false, "score": 0, "creation_date": 1570535639, "post_id": 58285591, "comment_id": 102936480, "body": "hi kenny_k I am getting string date time 2019-10-01T02:49:00Z I want to convert to minutes"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 2, "creation_date": 1570536763, "post_id": 58285591, "comment_id": 102937008, "body": "Hi Edgar,  you need to ready kenny_k&#39;s comment again and carefully. What he is telling you is that its difficult to answer your question, not because he doesn&#39;t know the solution, but because your question could mean anything. What is is exactly you are asking?  The headline reads &quot;hours to minutes&quot; and in the question you say you have a date time. Ok. But what exactly do you want to convert to minutes? Whats the exact input ,what computation do you need and what output do you expect? See, your question itself raises many questions, thats why people don&#39;t answer. An example would help a lot."}, {"owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "edited": false, "score": 0, "creation_date": 1570536817, "post_id": 58285591, "comment_id": 102937036, "body": "I have put screenshot what kind of output I want first check my question then comment"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "edited": false, "score": 0, "creation_date": 1570536893, "post_id": 58285591, "comment_id": 102937069, "body": "See, you added the picture but again, its difficult to know what you want exactly. You see, taking the date time you provided, namely &quot;2019-10-01T02:49:00Z&quot;,  I can&#39;t see how the &quot;17 min&quot; of the picture come to be. The date time shows 49 minutes and 2 hours. That would make 169 minutes. But is that what you want?"}, {"owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "edited": false, "score": 0, "creation_date": 1570537180, "post_id": 58285591, "comment_id": 102937210, "body": "yes I want to show minutes like on the picture your approach correct"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570539704, "post_id": 58285591, "comment_id": 102938522, "body": "You still haven&#39;t clarified what you want. A time isn&#39;t minutes. Do you want the number of minutes from now until that time? Or how many minutes past midnight is that time? Or how many minutes since the epoch is that time? etc."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1570539777, "post_id": 58285591, "comment_id": 102938566, "body": "It&#39;s quite obvious that OP wants to see elapsed time, from now to date he get from server (it&#39;s how news like app works)."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1570539893, "post_id": 58285591, "comment_id": 102938622, "body": "gotcha---------"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 2, "creation_date": 1570541631, "post_id": 58285591, "comment_id": 102939609, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35858608/how-to-convert-time-to-time-ago-in-android\">How to convert time to \u201c time ago \u201d in android</a> and/or other questions"}, {"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "reply_to_user": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1570542402, "post_id": 58285591, "comment_id": 102940081, "body": "@Cililing now it&#39;s obvious, but firstly, there was no picture so it wasn&#39;t that obvious"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "edited": false, "score": 0, "creation_date": 1570551854, "post_id": 58286772, "comment_id": 102945110, "body": "Cilling thank you for your answer how can I pass that method to viewholder"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "edited": false, "score": 1, "creation_date": 1570554385, "post_id": 58286772, "comment_id": 102946302, "body": "Please, read how to ask proper questions. What you asking is not connected with your original question, so please, remove that and write another question. This time ask it as it should be asked."}, {"owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "edited": false, "score": 0, "creation_date": 1570554490, "post_id": 58286772, "comment_id": 102946356, "body": "hi Cilling I cant longer ask question from this profile thats why I asked"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 3, "last_activity_date": 1570539258, "creation_date": 1570539258, "answer_id": 58286772, "question_id": 58285591, "link": "https://stackoverflow.com/questions/58285591/how-to-convert-hours-to-minutes-in-kotlin-and-pass-correctly-to-viewholder/58286772#58286772", "title": "how to convert hours to minutes in kotlin and pass correctly to viewholder?", "body": "<p>Time to minutes? What does it mean?</p>\n\n<p>I guess you want to display elapsed time from now to news' publish date. If so, you can use <code>Java Time API</code> from Java8:</p>\n\n<pre><code>import java.time.Duration\nimport java.time.LocalDateTime\n\nfun example() {\n    val timelinePoint = LocalDateTime.parse(\"2019-10-01T02:49:00\")\n    val now = LocalDateTime.now()\n\n    val elapsedTime = Duration.between(timelinePoint, now)\n\n    println(timelinePoint)\n    println(now)\n\n    println(elapsedTime.toMinutes())\n}\n\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 11554408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318f33f8bc6df42c1665a463fb927a72?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar Shvedskiy", "link": "https://stackoverflow.com/users/11554408/edgar-shvedskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "answer_count": 1, "score": -8, "last_activity_date": 1570583049, "creation_date": 1570534587, "last_edit_date": 1570551278, "question_id": 58285591, "link": "https://stackoverflow.com/questions/58285591/how-to-convert-hours-to-minutes-in-kotlin-and-pass-correctly-to-viewholder", "title": "how to convert hours to minutes in kotlin and pass correctly to viewholder?", "body": "<p>I am developing news app and I am getting this kind from server \n <code>2019-10-01T02:49:00Z</code></p>\n\n<p>I want to convert that  time  to minutes like below photo (elapsed time from now to that date) and pass that method to viewholder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UgHfv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UgHfv.png\" alt=\"image\"></a></p>\n\n<p>below my viewholder class\nclass TopHeadlinesAdapter(val context: Context) : RecyclerView.Adapter() {</p>\n\n<pre><code>var articleList : List&lt;Article&gt; = listOf()\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n\n    val view = LayoutInflater.from(parent.context).inflate(R.layout.news_list,parent,false)\n    return MyViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return articleList.size\n}\n\n@SuppressLint(\"NewApi\")\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n    holder.articleTitle.text = articleList.get(position).title\n    holder.articleSourceName.text = articleList.get(position).source.name\n    Picasso.get().load(articleList.get(position).urlToImage).into(holder.image)\n    holder.articleTime.text = articleList.get(position).publishedAt\n\n\n\n}\n\nfun setMovieListItems(articleList: List&lt;Article&gt;){\n    this.articleList = articleList\n    notifyDataSetChanged()\n}\n\n@SuppressLint(\"NewApi\")\nfun example( time:String) {\n\n    val timelinePoint = LocalDateTime.parse(\"2019-10-01T02:49:00\")\n    val now = LocalDateTime.now()\n\n    var elapsedTime = Duration.between(timelinePoint, now)\n\n    println(timelinePoint)\n    println(now)\n\n    println(elapsedTime.toMinutes())\n\n\n\n}\nclass MyViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!) {\n\n    val image: ImageView = itemView!!.findViewById(R.id.imageView)\n    val articleTitle: TextView = itemView!!.findViewById(R.id.articleTitle)\n    val articleSourceName: TextView = itemView!!.findViewById(R.id.articleSourceName)\n    val imageCategory: ImageView = itemView!!.findViewById(R.id.imageCategory)\n    val articleTime: TextView = itemView!!.findViewById(R.id.articleTime)\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "layout-inflater", "android-inflate"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1570532782, "post_id": 58285078, "comment_id": 102935203, "body": "where is your XML?"}], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "edited": false, "score": 0, "creation_date": 1570533643, "post_id": 58285275, "comment_id": 102935591, "body": "After edit this line problem is still there    <code>android:name=&quot;com.example.pickingredients.Signup&quot;</code>"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1570534632, "last_edit_date": 1570534632, "creation_date": 1570533292, "answer_id": 58285275, "question_id": 58285078, "link": "https://stackoverflow.com/questions/58285078/error-binary-xml-file-line-inflating-class-fragment/58285275#58285275", "title": "Error :Binary XML file line : Inflating class fragment", "body": "<p>Problem is here <strong><code>com.example.pickingredients.ImagesliderFragment</code></strong>. Either this fragment not found or having issues on that fragment.</p>\n\n<p>And you should use <code>FrameLayout</code> instead of <code>Fragment</code> in xml.</p>\n\n<p>Moreover your <strong><code>MainActivity</code></strong> should implement <strong><code>OnFragmentInteractionListener</code></strong></p>\n"}, {"comments": [{"owner": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "edited": false, "score": 0, "creation_date": 1570533795, "post_id": 58285388, "comment_id": 102935674, "body": "It also gives an exception on SIgnup.kt that   <code>must implement OnFragmentInteractionListener</code>"}, {"owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "reply_to_user": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "edited": false, "score": 0, "creation_date": 1570533946, "post_id": 58285388, "comment_id": 102935741, "body": "I have seen you code.. OnFragmentInteractionListener is not needed as I understand, so you can remove all things related to that listener."}], "tags": [], "owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "is_accepted": false, "score": 1, "last_activity_date": 1600778235, "last_edit_date": 1600778235, "creation_date": 1570533671, "answer_id": 58285388, "question_id": 58285078, "link": "https://stackoverflow.com/questions/58285078/error-binary-xml-file-line-inflating-class-fragment/58285388#58285388", "title": "Error :Binary XML file line : Inflating class fragment", "body": "<p>Just remove <code>android:name</code> tag from &lt;fragment .../&gt;..</p>\n<p>And use <code>FrameLayout</code> instead of fragment.</p>\n<p>Or you can use below code.</p>\n<pre><code>&lt;FrameLayout\n        android:layout_width=&quot;362dp&quot;\n        android:layout_height=&quot;98dp&quot;\n        android:id=&quot;@+id/sigup_fragment&quot; app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        android:layout_marginEnd=&quot;8dp&quot; app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n        android:layout_marginStart=&quot;8dp&quot; app:layout_constraintTop_toBottomOf=&quot;@+id/mood_tv&quot;\n        android:layout_marginTop=&quot;16dp&quot;/&gt;\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58285275, "answer_count": 2, "score": 1, "last_activity_date": 1600778235, "creation_date": 1570532532, "last_edit_date": 1570533879, "question_id": 58285078, "link": "https://stackoverflow.com/questions/58285078/error-binary-xml-file-line-inflating-class-fragment", "title": "Error :Binary XML file line : Inflating class fragment", "body": "<p>I have an activity <code>MainActivity</code> in which I have and fragment <code>signup_fragment</code> I want to call fragment from an activity but it gives an exception of <code>Binary XML file line #23: Binary XML file line #23: Error inflating class fragment</code> </p>\n\n<p>and <code>Caused by: java.lang.RuntimeException: com.example.pickingredients.MainActivity@d9ff1e7 must implement OnFragmentInteractionListener</code></p>\n\n<p>Below are my code </p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val fragment=Signup()\n            supportFragmentManager.beginTransaction().add(R.id.sigup_fragment,fragment).commit()\n\n    }\n</code></pre>\n\n<p><strong>SignupFragment</strong></p>\n\n<pre><code>class Signup : Fragment() {\n    // TODO: Rename and change types of parameters\n    private var param1: String? = null\n    private var param2: String? = null\n    private var listener: OnFragmentInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            param1 = it.getString(ARG_PARAM1)\n            param2 = it.getString(ARG_PARAM2)\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_signup, container, false)\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    fun onButtonPressed(uri: Uri) {\n        listener?.onFragmentInteraction(uri)\n    }\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n        if (context is OnFragmentInteractionListener) {\n            listener = context\n        } else {\n            throw RuntimeException(context.toString() + \" must implement OnFragmentInteractionListener\")\n        }\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        listener = null\n    } }\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"\n        android:background=\"@color/light_grey\"&gt;\n\n    &lt;TextView\n            android:text=\"@string/what_is_your_mood\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/mood_tv\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"8dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"8dp\"\n            app:layout_constraintHorizontal_bias=\"0.03\"\n            android:layout_marginTop=\"16dp\" app:layout_constraintTop_toTopOf=\"parent\"\n            android:textSize=\"18sp\"/&gt;\n    &lt;androidx.constraintlayout.widget.Guideline android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n                                                android:id=\"@+id/guideline\" app:layout_constraintGuide_begin=\"16dp\"\n                                                android:orientation=\"vertical\"/&gt;\n    &lt;fragment\n            android:layout_width=\"362dp\"\n            android:layout_height=\"98dp\" android:name=\"com.example.pickingredients.ImagesliderFragment\"\n            android:id=\"@+id/sigup_fragment\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"8dp\" app:layout_constraintStart_toStartOf=\"@+id/guideline\"\n            android:layout_marginStart=\"8dp\" app:layout_constraintTop_toBottomOf=\"@+id/mood_tv\"\n            android:layout_marginTop=\"16dp\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>fragment_signup.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".Signup\"&gt;\n\n&lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:text=\"@string/hello_blank_fragment\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "installation", "apk"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1570531631, "post_id": 58284663, "comment_id": 102934698, "body": "did you try fixing the error?"}, {"owner": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570531719, "post_id": 58284663, "comment_id": 102934737, "body": "You need a fileprovider to open a file like this. And for your information you need INSTALL_PACKAGES permission. follow this <a href=\"https://stackoverflow.com/questions/5803999/install-apps-silently-with-granted-install-packages-permission\" title=\"install apps silently with granted install packages permission\">stackoverflow.com/questions/5803999/&hellip;</a>"}, {"owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "edited": false, "score": 0, "creation_date": 1570531725, "post_id": 58284663, "comment_id": 102934741, "body": "yes, but I am not quite sure how to fix it"}, {"owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "reply_to_user": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570531757, "post_id": 58284663, "comment_id": 102934756, "body": "@SanketBhat I have permission... :)"}, {"owner": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570531865, "post_id": 58284663, "comment_id": 102934811, "body": "@Apuna12 then you need file provider <a href=\"https://developer.android.com/reference/android/support/v4/content/FileProvider\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v4/content/&hellip;</a>"}, {"owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "reply_to_user": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570537141, "post_id": 58284663, "comment_id": 102937186, "body": "@SanketBhat I tried this right now... looks like it&#39;s doing the right thing... but now I am getting an error in the phone &quot;There was a problem while parsing the package&quot;... When i click OK and then find the file manually in the smartphone and I try to install it.. it&#39;s working... do you have any suggestions?... Also I&#39;ll add my findings into the question"}, {"owner": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570539429, "post_id": 58284663, "comment_id": 102938383, "body": "@Apuna12 Did you add proper READ permission to that Uri before? like <code>intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code>"}, {"owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "reply_to_user": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570539754, "post_id": 58284663, "comment_id": 102938553, "body": "@SanketBhat Yes I did it 5 minutes ago maybe?... Now I have another type of error... Now I am able to install the app, but it&#39;s showing &quot;App not installed.&quot;"}, {"owner": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 1, "creation_date": 1570540172, "post_id": 58284663, "comment_id": 102938767, "body": "@Apuna12 That is because you are trying to install apps with different signatures. For example you can not install release build when debug build is installed. They have different app signature. If both are of same type and same signature it works without any problem"}, {"owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "reply_to_user": {"reputation": 188, "user_id": 6859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f6a5ee64c18b15738ab39ec2d2580f?s=128&d=identicon&r=PG&f=1", "display_name": "Sanket Bhat", "link": "https://stackoverflow.com/users/6859744/sanket-bhat"}, "edited": false, "score": 0, "creation_date": 1570541511, "post_id": 58284663, "comment_id": 102939529, "body": "@SanketBhat worked like a charm :)... now it&#39;s working :)) Thanks very much for assistance and help :)"}], "owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570559807, "creation_date": 1570530876, "last_edit_date": 1570537389, "question_id": 58284663, "link": "https://stackoverflow.com/questions/58284663/how-to-update-install-application-programmatically", "title": "How to update/install application programmatically", "body": "<p>I decided to make my own updating system and I encountered a problem which I am not sure how to fix.</p>\n\n<p>I already tried several things but every one of them ended the same way</p>\n\n<pre><code>private fun startDownloading() {\n        var networkTask = NetworkTask(this)\n        networkTask.execute()\n\n        val url = \"http://downloadsite.com/myApk.apk\"\n\n        var downloadmanager = getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n        var uri = Uri.parse(url)\n\n        var request = DownloadManager.Request(uri)\n\n        var filename = \"app-release.apk\"\n\n        var fullPath: String =\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() +\n                    \"/\" + filename\n\n\n        val myFile = File(fullPath)\n        if (myFile.exists())\n            myFile.delete()\n\n        request.setTitle(\"My File\")\n        request.setDescription(\"Downloading\")\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setVisibleInDownloadsUi(false)\n        request.setDestinationUri(\n            Uri.parse(\"file://\" + fullPath)\n        )\n\n        downloadmanager.enqueue(request)\n\n        var onComplete:BroadcastReceiver = object:BroadcastReceiver() {\n            override fun onReceive(context:Context, intent:Intent) {\n                val intent = Intent(Intent.ACTION_VIEW)\n                intent.setDataAndType(Uri.fromFile(myFile), \"application/vnd.android.package-archive\")\n                startActivity(intent)\n            }\n        }\n        registerReceiver(onComplete, IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE))\n\n\n    }\n</code></pre>\n\n<p>and I am always getting this error</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: sk.letsdream, PID: 30431\n    java.lang.RuntimeException: Error receiving broadcast Intent { act=android.intent.action.DOWNLOAD_COMPLETE flg=0x10 pkg=sk.letsdream (has extras) } in sk.letsdream.LoginActivity$startDownloading$onComplete$1@e2488a5\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1641)\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\n        at android.os.Handler.handleCallback(Handler.java:888)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:213)\n        at android.app.ActivityThread.main(ActivityThread.java:8108)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\n     Caused by: android.os.FileUriExposedException: file:///storage/emulated/0/Download/app-release.apk exposed beyond app through Intent.getData()\n        at android.os.StrictMode.onFileUriExposed(StrictMode.java:2083)\n        at android.net.Uri.checkFileUriExposed(Uri.java:2393)\n        at android.content.Intent.prepareToLeaveProcess(Intent.java:11014)\n        at android.content.Intent.prepareToLeaveProcess(Intent.java:10967)\n        at android.app.Instrumentation.execStartActivity(Instrumentation.java:1725)\n        at android.app.Activity.startActivityForResult(Activity.java:5326)\n        at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:767)\n        at android.app.Activity.startActivityForResult(Activity.java:5267)\n        at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:754)\n        at android.app.Activity.startActivity(Activity.java:5697)\n        at android.app.Activity.startActivity(Activity.java:5665)\n        at sk.letsdream.LoginActivity$startDownloading$onComplete$1.onReceive(LoginActivity.kt:658)\n        at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1631)\n        at android.app.-$$Lambda$LoadedApk$ReceiverDispatcher$Args$_BumDX2UKsnxLVrE6UJsJZkotuA.run(Unknown Source:2)\u00a0\n        at android.os.Handler.handleCallback(Handler.java:888)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:100)\u00a0\n        at android.os.Looper.loop(Looper.java:213)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:8108)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1100)\u00a0\n</code></pre>\n\n<p>I want to something like this</p>\n\n<ol>\n<li>Start app</li>\n<li>Check if there is a new version of the app on the net</li>\n<li>If there is, just download the apk</li>\n<li>After the download is finished install the new version of the app</li>\n</ol>\n\n<p>Do I have an error in the code ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I tried to do this like <a href=\"https://inthecheesefactory.com/blog/how-to-share-access-to-file-with-fileprovider-on-android-nougat/en\" rel=\"nofollow noreferrer\">this</a>. It seems to be doing it's thing, but I am getting an error \"There was a problem while parsing the package\" in the smartphone.... Here is an additional code I used</p>\n\n<pre><code>var fullPath: String =\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString() +\n                    \"/\" + filename\n\n\n        val myFile = File(fullPath)\n var onComplete:BroadcastReceiver = object:BroadcastReceiver() {\n            override fun onReceive(context:Context, intent:Intent) {\n                val uri = FileProvider.getUriForFile(\n                    this@LoginActivity,\n                    BuildConfig.APPLICATION_ID + \".provider\",\n                    myFile\n                )\n                val intent = Intent(Intent.ACTION_VIEW)\n                intent.setDataAndType(uri, \"application/vnd.android.package-archive\")\n                startActivity(intent)\n                exitProcess(-1)\n            }\n        }\n        registerReceiver(onComplete, IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE))\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "edited": false, "score": 0, "creation_date": 1570530168, "post_id": 58284438, "comment_id": 102933999, "body": "put val before  frag_rv = view.findViewById(R.id.frag_rv) as RecyclerView"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 0, "last_activity_date": 1570530163, "creation_date": 1570530163, "answer_id": 58284476, "question_id": 58284438, "link": "https://stackoverflow.com/questions/58284438/android-problem-using-recycler-view-in-fragment/58284476#58284476", "title": "Android: Problem using recycler view in fragment", "body": "<p>You could change your onCreateView method to:</p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n) = \n    inflater.inflate(R.layout.fragment_imageslider, container, false).apply {\n    frag_rv = findViewById(R.id.frag_rv) as RecyclerView //val frag_rv if it's not declared elsewhere \n    frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, false)\n}\n\n</code></pre>\n\n<p>This way the view is inflated(via inflater.inflate) and you are using it to find the RecyclerView.</p>\n"}, {"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 2, "last_activity_date": 1570530517, "last_edit_date": 1570530517, "creation_date": 1570530170, "answer_id": 58284477, "question_id": 58284438, "link": "https://stackoverflow.com/questions/58284438/android-problem-using-recycler-view-in-fragment/58284477#58284477", "title": "Android: Problem using recycler view in fragment", "body": "<p>Try this</p>\n\n<pre><code>class ImagesliderFragment : Fragment() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n    }\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n\n\n    val myView = inflater.inflate(R.layout.fragment_imageslider, container, false)\n    val frag_rv = myView.findViewById(R.id.frag_rv) as RecyclerView\n    frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, false)\n\n    return myView\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n}\n</code></pre>\n\n<h3><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">Also now  no need to do <code>findViewById()</code></a></h3>\n\n<p>SAMPLE CODE</p>\n\n<pre><code>import android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.LinearLayout\nimport androidx.fragment.app.Fragment\nimport androidx.recyclerview.widget.LinearLayoutManager\n// import here your layout file like this\nimport kotlinx.android.synthetic.main.fragment_imageslider.view.*\n\nclass ImagesliderFragment : Fragment() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n        }\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n\n        val myView = inflater.inflate(R.layout.fragment_imageslider, container, false)\n\n        myView.frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, false)\n\n        return myView\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1570530862, "last_edit_date": 1570530862, "creation_date": 1570530269, "answer_id": 58284500, "question_id": 58284438, "link": "https://stackoverflow.com/questions/58284438/android-problem-using-recycler-view-in-fragment/58284500#58284500", "title": "Android: Problem using recycler view in fragment", "body": "<p>Before you use <code>view.findViewById</code> you have to initialize it, also use <code>val</code> before <code>frag_rv</code> like the following.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n  // here you have to initialize your view\n  View view = inflater.inflate(R.layout.fragment_imageslider, container, false)\n  val frag_rv = view.findViewById(R.id.frag_rv) as RecyclerView\n  frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, false)\n\n  return view\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "is_accepted": false, "score": 0, "last_activity_date": 1570530374, "creation_date": 1570530374, "answer_id": 58284530, "question_id": 58284438, "link": "https://stackoverflow.com/questions/58284438/android-problem-using-recycler-view-in-fragment/58284530#58284530", "title": "Android: Problem using recycler view in fragment", "body": "<p>You should only use the onCreateView method to inflate the view and bind the iew in the onViewCreated method </p>\n\n<pre><code>class ImagesliderFragment : Fragment() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?) = inflater.inflate(R.layout.fragment_imageslider, container, false)!!\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n        val frag_rv = view.findViewById&lt;RecyclerView&gt;(R.id.frag_rv)            frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, \n            false)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 7546450, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6acd997293d11a7e0b4e67f87f72993d?s=128&d=identicon&r=PG&f=1", "display_name": "SFAH", "link": "https://stackoverflow.com/users/7546450/sfah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1570530862, "creation_date": 1570529994, "question_id": 58284438, "link": "https://stackoverflow.com/questions/58284438/android-problem-using-recycler-view-in-fragment", "title": "Android: Problem using recycler view in fragment", "body": "<p>I am using <code>RecyclerView</code> in Fragment <code>ImagesliderFragment</code> First it gives an expection of \"recyclerview must not be null\" so on stackover flow I got an answer that you should intialized your recyclerview by using following line </p>\n\n<pre><code>  frag_rv = view.findViewById(R.id.frag_rv) as RecyclerView\n</code></pre>\n\n<p>But problem is that it gives me error on view. that <code>only safe or non null asserted calls are allowed</code> also my RecyclerView is not resolving can anyone explain me this what is the problem ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/usIyz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usIyz.png\" alt=\"code screenshot\"></a></p>\n\n<p><strong>ImagesliderFragment</strong> </p>\n\n<pre><code>class ImagesliderFragment : Fragment() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n    }\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    inflater.inflate(R.layout.fragment_imageslider, container, false)\n    frag_rv = view.findViewById(R.id.frag_rv) as RecyclerView\n    frag_rv.layoutManager = LinearLayoutManager(context, LinearLayout.HORIZONTAL, false)\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "layout", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "edited": false, "score": 0, "creation_date": 1570529639, "post_id": 58284021, "comment_id": 102933747, "body": "Thank you for your answer, but this modify the dropable view. That I want is to modify the dragged view (the shadow passed in the <code>ViewCompat.startDragAndDrop()</code>"}, {"owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "reply_to_user": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "edited": false, "score": 0, "creation_date": 1570531101, "post_id": 58284021, "comment_id": 102934481, "body": "shadowBuilder.getView().setBackground(shadowDrawable); @Ady"}], "tags": [], "owner": {"reputation": 1725, "user_id": 12175239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meq54.png?s=128&g=1", "display_name": "Squti", "link": "https://stackoverflow.com/users/12175239/squti"}, "is_accepted": false, "score": 0, "last_activity_date": 1570528382, "creation_date": 1570528382, "answer_id": 58284021, "question_id": 58282837, "link": "https://stackoverflow.com/questions/58282837/update-shadow-view-in-drag-and-drop/58284021#58284021", "title": "Update Shadow view in Drag and Drop", "body": "<p>You could change your dropable view background in DragEvent.ACTION_DRAG_ENTERED case like this:</p>\n\n<pre><code>v.setBackgroundDrawable(shadowDrawable);\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570528382, "creation_date": 1570523862, "question_id": 58282837, "link": "https://stackoverflow.com/questions/58282837/update-shadow-view-in-drag-and-drop", "title": "Update Shadow view in Drag and Drop", "body": "<p>I use the drag and drop API in a RecyclerView with a shadow. I wanted to know if is it possible to update the shadow (like height/width or whatever) according to the drag event ?</p>\n\n<p>For exemple, when the drag action is DragEvent.ACTION_DRAG_ENTERED, I want to resize the shadow.</p>\n\n<p>Thank you for your answers !</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 633, "user_id": 12134991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5XfOD.jpg?s=128&g=1", "display_name": "Vitalii Malyi", "link": "https://stackoverflow.com/users/12134991/vitalii-malyi"}, "edited": false, "score": 0, "creation_date": 1570523878, "post_id": 58282581, "comment_id": 102931083, "body": "I&#39;ve just created new project with code that you provided, and it seems to work fine for me, when the keyboard is shown - the dialog moves up. Maybe your dialog not centered due to some Activity/Fragment settings, or root layout."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12181011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12d9c60609c695182464dd61974401c?s=128&d=identicon&r=PG&f=1", "display_name": "xtravanta", "link": "https://stackoverflow.com/users/12181011/xtravanta"}, "edited": false, "score": 0, "creation_date": 1570523645, "post_id": 58282758, "comment_id": 102930977, "body": "Sorry, my bad made a mistake in my example. forgot the window part."}], "tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": false, "score": 0, "last_activity_date": 1570523545, "creation_date": 1570523545, "answer_id": 58282758, "question_id": 58282581, "link": "https://stackoverflow.com/questions/58282581/android-alertdialog-not-centered-when-keyboard-opens/58282758#58282758", "title": "Android alertdialog not centered when keyboard opens", "body": "<p>Try this:</p>\n\n<pre><code>dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 10584549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nieo1.jpg?s=128&g=1", "display_name": "Jawad Malik", "link": "https://stackoverflow.com/users/10584549/jawad-malik"}, "is_accepted": true, "score": 0, "last_activity_date": 1570523642, "creation_date": 1570523642, "answer_id": 58282785, "question_id": 58282581, "link": "https://stackoverflow.com/questions/58282581/android-alertdialog-not-centered-when-keyboard-opens/58282785#58282785", "title": "Android alertdialog not centered when keyboard opens", "body": "<p>The Activity in which the AlertDialog is shown had a translucent status bar theme.</p>\n\n<p>So instead of initializing the builder with the classic AlertDialog.Builder(this) which uses the context's theme, you can use a dialog theme with no translucent status bar to it:</p>\n\n<pre><code>val builder = AlertDialog.Builder(this, android.R.style.Theme_DeviceDefault_Light_Dialog_NoActionBar)\n</code></pre>\n\n<p>This theme ensures compatibility with pre-lollipop devices too, but other ones like <code>android.R.style.Theme_Material_Dialog</code> should do the trick too.</p>\n"}], "owner": {"reputation": 25, "user_id": 12181011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12d9c60609c695182464dd61974401c?s=128&d=identicon&r=PG&f=1", "display_name": "xtravanta", "link": "https://stackoverflow.com/users/12181011/xtravanta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 58282785, "answer_count": 2, "score": 0, "last_activity_date": 1570523642, "creation_date": 1570522754, "last_edit_date": 1570523629, "question_id": 58282581, "link": "https://stackoverflow.com/questions/58282581/android-alertdialog-not-centered-when-keyboard-opens", "title": "Android alertdialog not centered when keyboard opens", "body": "<p>I have a AlertDialog with a custom view that contains two EditText fields. At some point the dialog is show using the following code:</p>\n\n<pre><code>val builder = AlertDialog.Builder(this)\n    builder\n     .setView(R.layout.dialog)\n     .setMessage(\"message\")\n     .setPositiveButton(\"Oke\"){ dialog, id -&gt; println(\"oke\")}\n     .setNegativeButton(\"Cancel\"){ dialog, id -&gt; println(\"cancel\")}\n\nval dialog = builder.create()\n    dialog.show()\n</code></pre>\n\n<p>When the user pressed a EditText the SoftKeyboard show up but the Dialog is not being shifted up. I have tried settings the softinputmode of the dialog.window to SOFT_INPUT_ADJUST_PAN or SOFT_INPUT_ADJUST_RESIZE like this.</p>\n\n<pre><code>dialog.window.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n</code></pre>\n\n<p>but this doesn't seem to do anything.</p>\n"}, {"tags": ["java", "kotlin", "lambda", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 38, "user_id": 12152325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rHZzy8HPWro/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcS-gBRXjj3YhPsEo33pUn5oO_PvA/photo.jpg?sz=128", "display_name": "Yobuligo", "link": "https://stackoverflow.com/users/12152325/yobuligo"}, "edited": false, "score": 1, "creation_date": 1570530312, "post_id": 58282571, "comment_id": 102934083, "body": "@Yobuligo you can find more details in the <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">official documentation</a> too"}], "tags": [], "owner": {"reputation": 40, "user_id": 10451084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LtVm4.png?s=128&g=1", "display_name": "acoria", "link": "https://stackoverflow.com/users/10451084/acoria"}, "is_accepted": true, "score": 1, "last_activity_date": 1570523291, "last_edit_date": 1570523291, "creation_date": 1570522690, "answer_id": 58282571, "question_id": 58282506, "link": "https://stackoverflow.com/questions/58282506/convert-java-to-kotlin-bifunction-containing-code/58282571#58282571", "title": "Convert Java to Kotlin BiFunction containing code", "body": "<p>I had this problem once too, all you have to do is to replace \nreturn text with\nreturn@BiFunction text</p>\n\n<p>For explanations, you can have a look here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40160489/kotlin-whats-does-return-mean\">Kotlin: Whats does &quot;return@&quot; mean?</a></p>\n\n<p><a href=\"https://tutorialwing.com/labeled-return-or-return-in-kotlin-with-example\" rel=\"nofollow noreferrer\">https://tutorialwing.com/labeled-return-or-return-in-kotlin-with-example</a></p>\n"}], "owner": {"reputation": 38, "user_id": 12152325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rHZzy8HPWro/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcS-gBRXjj3YhPsEo33pUn5oO_PvA/photo.jpg?sz=128", "display_name": "Yobuligo", "link": "https://stackoverflow.com/users/12152325/yobuligo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "accepted_answer_id": 58282571, "answer_count": 1, "score": 1, "last_activity_date": 1593030908, "creation_date": 1570522457, "last_edit_date": 1593030908, "question_id": 58282506, "link": "https://stackoverflow.com/questions/58282506/convert-java-to-kotlin-bifunction-containing-code", "title": "Convert Java to Kotlin BiFunction containing code", "body": "<p>I am trying to convert my Java class into Kotlin.\nThis is the Java code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Observable.just(\"Stacey\")\n    .zipWith(Observable.just(6),\n    (name, age) -&gt; {\n        String text;\n        if(age &lt; 18){\n            text = name + \" is a child\";\n        }else{\n            text = name + \"is not a child\";\n        }\n        return text;\n    }\n);\n</code></pre>\n\n<p>And this is what I converted it into:</p>\n\n<pre><code>Observable.just(\"Stacey\")\n.zipWith(Observable.just(6),\n    BiFunction&lt;String, Int, String&gt; {name, age -&gt;\n        var text: String\n        if(age &lt; 18){\n            text = \"$name + is a child\"\n        }else{\n            text = \"$name + is not a child\"\n        }\n        return text\n    }\n)\n</code></pre>\n\n<p>Lambda notation does not seem to work at all or I just cannot figure it out. All examples for BiFunctions in Kotlin that I found return a value directly like this</p>\n\n<blockquote>\n  <p>BiFunction {name, age -> name+age}</p>\n</blockquote>\n\n<p>which is syntactically correct but I need some additional logic before I return something.\nTwo error messages appear:</p>\n\n<ul>\n<li><p>'return' is not allowed here</p></li>\n<li><p>Type mismatch. Required: Unit, Found: String</p></li>\n</ul>\n\n<p>But I do want to return a string and I also explicitly declared it. But where else is there to put the return?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10866685, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TnG19VyPTrM/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ21aXcuNBjOVdcWaf-v0LE-rbl7Q/mo/photo.jpg?sz=128", "display_name": "Aman Agrawal", "link": "https://stackoverflow.com/users/10866685/aman-agrawal"}, "is_accepted": true, "score": 0, "last_activity_date": 1570541897, "creation_date": 1570541897, "answer_id": 58287532, "question_id": 58282386, "link": "https://stackoverflow.com/questions/58282386/null-pointer-exception-on-recycler-view-with-text-clock-as-item/58287532#58287532", "title": "Null pointer exception on Recycler View with Text Clock as Item", "body": "<p>Change the <code>android:layout_height=\"match_parent\"</code> to <code>android:layout_height=\"wrap_content\"</code> inside the <em>item_layout.xml</em> and it should do the job.</p>\n"}], "owner": {"reputation": 73, "user_id": 11625230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IjrPIKHVmVg/AAAAAAAAAAI/AAAAAAAAA28/iIwdIk8bHCc/photo.jpg?sz=128", "display_name": "Andrea Liu", "link": "https://stackoverflow.com/users/11625230/andrea-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 58287532, "answer_count": 1, "score": 1, "last_activity_date": 1570541897, "creation_date": 1570521896, "last_edit_date": 1570525058, "question_id": 58282386, "link": "https://stackoverflow.com/questions/58282386/null-pointer-exception-on-recycler-view-with-text-clock-as-item", "title": "Null pointer exception on Recycler View with Text Clock as Item", "body": "<p>I am trying to build Recycler View where each item consist of TextClock and TextView.</p>\n\n<p>The data for item view will be input as ArrayList when initialize the Recycler View Adapter.</p>\n\n<p>I found that if the input ArrayList size only one the view will be built successfully. As this screenshot shown\n<a href=\"https://i.ibb.co/MskHGL7/Webp-net-resizeimage.png\" rel=\"nofollow noreferrer\">https://i.ibb.co/MskHGL7/Webp-net-resizeimage.png</a></p>\n\n<p>When I increase the ArrayList data to 2, it will create error as I copied bellow.</p>\n\n<pre><code>class ClockFragment : Fragment() {\n\n    val sharedPref = activity?.getSharedPreferences(\n        Constants().PREF_KEY_MANUAL_CLOCK,\n        Context.MODE_PRIVATE\n    )\n    val isAnalogshow = sharedPref?.getBoolean(Constants().PREF_KEY_MANUAL_CLOCK, false)\n\n    lateinit var view: ViewGroup\n\n    private lateinit var recyclerView: RecyclerView\n    private lateinit var viewAdapter: ClockRecyclerViewAdapter\n    private lateinit var viewManager: RecyclerView.LayoutManager\n\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        view = inflater.inflate(R.layout.fragment_clock, container, false) as ViewGroup\n\n        viewManager = LinearLayoutManager(this.context)\n        viewAdapter = ClockRecyclerViewAdapter(getData())\n\n        recyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.clock_rv).apply {\n            setHasFixedSize(true)\n            layoutManager = viewManager\n            adapter = viewAdapter\n        }\n\n        view.clock_switch.setOnCheckedChangeListener { _, isChecked -&gt;\n            if (isChecked) {\n                sharedPref?.edit {\n                    putBoolean(Constants().PREF_KEY_MANUAL_CLOCK, true)\n                    commit()\n                }\n            } else {\n                sharedPref?.edit {\n                    putBoolean(Constants().PREF_KEY_MANUAL_CLOCK, false)\n                    commit()\n                }\n            }\n        }\n        return view\n    }\n\n    override fun onResume() {\n        super.onResume()\n        getData()\n    }\n\n\n    fun getData(): ArrayList&lt;Clock&gt; {\n        val clockList = arrayListOf&lt;Clock&gt;()\n        clockList.add(Clock(Calendar.getInstance()))\n        clockList.add(Clock(Calendar.getInstance()))\n        return clockList\n    }\n}\n</code></pre>\n\n<p>RecyclerView Adapter</p>\n\n<pre><code>class ClockRecyclerViewAdapter(private var clockList: ArrayList&lt;Clock&gt;?) : RecyclerView.Adapter&lt;ClockRecyclerViewAdapter.ClockViewHolder&gt;() {\n\n    class ClockViewHolder(val itemview: View) : RecyclerView.ViewHolder(itemview)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ClockViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_clock, parent, false)\n        return ClockViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: ClockViewHolder, position: Int) {\n        val formattedDate = SimpleDateFormat(\"EEEE, d MMMM\")\n        var calendar = clockList!!.get(position)!!.timezoneCalendar\n        holder.itemview.date_tv.text = formattedDate.format(calendar.time)\n    }\n\n    override fun getItemCount(): Int = clockList?.size ?: 0\n\n    fun setData(data: ArrayList&lt;Clock&gt;) {\n        clockList = data\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>item layout :</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;FrameLayout\n    android:id=\"@+id/clock_frame\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;TextClock\n        android:id=\"@+id/digital_clock_tv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:format12Hour=\"hh:mm:ss a\"\n        android:textSize=\"56sp\"/&gt;\n\n    &lt;com.arbelkilani.clock.Clock\n        android:id=\"@+id/analog_clock\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"24dp\"\n        android:visibility=\"gone\"\n        app:center_inner_color=\"#000000\"\n        app:clock_value_disposition=\"regular\"\n        app:clock_value_step=\"full\"\n        app:show_center=\"true\"\n        app:show_hours_values=\"true\"\n        app:show_seconds_needle=\"true\" /&gt;\n&lt;/FrameLayout&gt;\n\n\n&lt;TextView\n    android:id=\"@+id/date_tv\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"8dp\"\n    android:textAppearance=\"?android:textAppearanceLarge\"\n    app:layout_constraintEnd_toEndOf=\"@+id/clock_frame\"\n    app:layout_constraintStart_toStartOf=\"@+id/clock_frame\"\n    app:layout_constraintTop_toBottomOf=\"@+id/clock_frame\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>Logcat Error Message :</p>\n\n<pre><code>Process: com.andreasgift.myclock, PID: 17909\njava.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.os.Handler.postAtTime(java.lang.Runnable, long)' on a null object reference\n        at android.widget.TextClock$2.run(TextClock.java:191)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1570524672, "post_id": 58282355, "comment_id": 102931422, "body": "you might wanna use <code>Flow</code>s for this case"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1592895363, "post_id": 58282355, "comment_id": 110580314, "body": "this also might help <a href=\"https://stackoverflow.com/a/62327188/1731626\">stackoverflow.com/a/62327188/1731626</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 1, "creation_date": 1570530537, "post_id": 58282972, "comment_id": 102934207, "body": "Additionally: If the function is called inside a controller that starts a new thread with every incoming call, make sure to make <code>searchJob</code> access synchronised."}, {"owner": {"reputation": 1804, "user_id": 5695091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eyHWK.jpg?s=128&g=1", "display_name": "ysfcyln", "link": "https://stackoverflow.com/users/5695091/ysfcyln"}, "edited": false, "score": 1, "creation_date": 1602681557, "post_id": 58282972, "comment_id": 113797174, "body": "It gives me this error some times, <code>kotlinx.coroutines.JobCancellationException: StandaloneCoroutine was cancelled; job=StandaloneCoroutine{Cancelled}</code>"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 7, "last_activity_date": 1570524442, "creation_date": 1570524442, "answer_id": 58282972, "question_id": 58282355, "link": "https://stackoverflow.com/questions/58282355/how-to-cancel-and-replace-kotlin-coroutine-call/58282972#58282972", "title": "How to cancel and replace Kotlin Coroutine Call", "body": "<p>You can store your search job in the view model's field and cancel it on the new search. It will be something like this:</p>\n\n<pre><code>var searchJob: Job? = null\n...\nsearchJob?.cancel()\nsearchJob = viewModelScope.launch {\n  repository.searchAPI(searchString)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 11834065, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xedxTQEx5zU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc4g68ojnWdAQ_OZ0Y2AorKiMft1g/photo.jpg?sz=128", "display_name": "Shivam Sharma", "link": "https://stackoverflow.com/users/11834065/shivam-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1570526956, "creation_date": 1570526956, "answer_id": 58283637, "question_id": 58282355, "link": "https://stackoverflow.com/questions/58282355/how-to-cancel-and-replace-kotlin-coroutine-call/58283637#58283637", "title": "How to cancel and replace Kotlin Coroutine Call", "body": "<p>You can cancel your coroutine call as follow</p>\n\n<pre><code> val job =viewModelScope.launch {\n      repository.searchAPI(searchString)\n    }\njob.cancel() // cancels the job\n</code></pre>\n"}], "owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 58282972, "answer_count": 2, "score": 4, "last_activity_date": 1570526956, "creation_date": 1570521760, "last_edit_date": 1570524062, "question_id": 58282355, "link": "https://stackoverflow.com/questions/58282355/how-to-cancel-and-replace-kotlin-coroutine-call", "title": "How to cancel and replace Kotlin Coroutine Call", "body": "<p>I am experimenting with Kotlin Coroutines in my current Android application.</p>\n\n<p>I have a use case where a user can search for text using a remote RestFul API.</p>\n\n<p>What I would like to achieve is as follows:-</p>\n\n<p>1). The use types \"ABC\" and I start my Remote API within this search string</p>\n\n<pre><code>viewModelScope.launch {\n  repository.searchAPI(searchString)\n}\n</code></pre>\n\n<p>2). The user now types more so that my search string is now \"ABCXYZ\"</p>\n\n<p>I now wish to cancel the initial search of \"ABC\" and replace it with a the new search string of \"ABCXYZ\"</p>\n\n<p>I thought I could use this code...</p>\n\n<pre><code>viewModelScope.launch {\n\n  if (isActive) {\n    this.coroutineContext.cancelChildren()\n  }\n\n  repository.searchAPI(searchString)\n}\n</code></pre>\n\n<p>However this cancels the entire process</p>\n\n<p>How can I achieve the desired result of replacing a currently executing search with the most recent search string?</p>\n"}, {"tags": ["json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 5166, "user_id": 3226466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26338995bd77f4114d8ff12989634f2f?s=128&d=identicon&r=PG", "display_name": "Fantasy Fang", "link": "https://stackoverflow.com/users/3226466/fantasy-fang"}, "edited": false, "score": 1, "creation_date": 1570525254, "post_id": 58282213, "comment_id": 102931697, "body": "Is the id and device structure in mobile to be array type ? Use [ ] to include. Ref :<a href=\"https://www.w3schools.com/js/js_json_arrays.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_json_arrays.asp</a>"}, {"owner": {"reputation": 683, "user_id": 4562870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ajf6ZnU-_I/AAAAAAAAAAI/AAAAAAAAAFU/MspnVrglt0w/photo.jpg?sz=128", "display_name": "Phineas Huang", "link": "https://stackoverflow.com/users/4562870/phineas-huang"}, "edited": false, "score": 1, "creation_date": 1570525693, "post_id": 58282213, "comment_id": 102931913, "body": "Your JSON format is wrong. I think this is correct. ( <a href=\"https://jsonblob.com/9fdaceb0-e9aa-11e9-8fdc-05b2e5068c3a\" rel=\"nofollow noreferrer\">jsonblob.com/9fdaceb0-e9aa-11e9-8fdc-05b2e5068c3a</a> )."}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 0, "creation_date": 1570522746, "post_id": 58282295, "comment_id": 102930566, "body": "hi, already installed and tried. but the problem is, it only returns one device only.  val mobileList = gson?.fromJson(json, PhoneList::class.java)"}, {"owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "reply_to_user": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 0, "creation_date": 1570523064, "post_id": 58282295, "comment_id": 102930715, "body": "@MaChee Neraid, look at pt. 5 (note the [].class)"}, {"owner": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 0, "creation_date": 1570524250, "post_id": 58282295, "comment_id": 102931249, "body": "val mcArray = gson.fromJson(json, Array&lt;Mobile&gt;::class.java)     , but the result this &quot;Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $&quot;"}, {"owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "reply_to_user": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 0, "creation_date": 1570527816, "post_id": 58282295, "comment_id": 102932891, "body": "Yes, because your JSON is not of type List (it&#39;s Object), You need to parse from JSON to object and then you can map the devices out."}], "tags": [], "owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "is_accepted": false, "score": 1, "last_activity_date": 1570528207, "last_edit_date": 1570528207, "creation_date": 1570521474, "answer_id": 58282295, "question_id": 58282213, "link": "https://stackoverflow.com/questions/58282213/how-to-convert-json-data-into-kotlin-object/58282295#58282295", "title": "How to convert JSON data into Kotlin object", "body": "<ol>\n<li>Install this plugin: <a href=\"https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9960-json-to-kotlin-class-jsontokotlinclass-</a></li>\n<li>Restart Android studio</li>\n<li>Right-click on folder where you want your model class and select <code>New</code> > <code>Kotlin data class File from JSON</code></li>\n<li>Past the JSON content and click OK</li>\n<li>Once you have the JSON mapped to model class you can use <code>map</code> to get the list of devices out.\nIt will generate the model class automatically (essential timesaver).</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 0, "creation_date": 1570524136, "post_id": 58282578, "comment_id": 102931204, "body": "it good, though since I am using Gson, it always gets null value"}, {"owner": {"reputation": 683, "user_id": 4562870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ajf6ZnU-_I/AAAAAAAAAAI/AAAAAAAAAFU/MspnVrglt0w/photo.jpg?sz=128", "display_name": "Phineas Huang", "link": "https://stackoverflow.com/users/4562870/phineas-huang"}, "reply_to_user": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "edited": false, "score": 1, "creation_date": 1570524610, "post_id": 58282578, "comment_id": 102931395, "body": "Ok. I just want to share this method. It could be used on any language you want. Not just Android."}], "tags": [], "owner": {"reputation": 683, "user_id": 4562870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ajf6ZnU-_I/AAAAAAAAAAI/AAAAAAAAAFU/MspnVrglt0w/photo.jpg?sz=128", "display_name": "Phineas Huang", "link": "https://stackoverflow.com/users/4562870/phineas-huang"}, "is_accepted": false, "score": 5, "last_activity_date": 1570525775, "last_edit_date": 1570525775, "creation_date": 1570522723, "answer_id": 58282578, "question_id": 58282213, "link": "https://stackoverflow.com/questions/58282213/how-to-convert-json-data-into-kotlin-object/58282578#58282578", "title": "How to convert JSON data into Kotlin object", "body": "<ol>\n<li>Browser the website <a href=\"https://app.quicktype.io/\" rel=\"noreferrer\">https://app.quicktype.io/</a></li>\n<li>Paste your JSON data to left column.</li>\n<li>Select the Source Type -> JSON</li>\n<li>Select the Serialization framework -> Just Types</li>\n<li>Choose your language you want(Kotlin)</li>\n</ol>\n\n<p>You will get the model class type.</p>\n\n<pre><code>class Phone (\n    val mobile: List&lt;Mobile&gt;\n)\n\ndata class Mobile (\n    val id: String,\n    val device: Device\n)\n\ndata class Device (\n    val deviceName: String,\n    val price: String,\n    val rating: String,\n    val category: String,\n    val description: Description\n)\n\ndata class Description (\n    val network: List&lt;String&gt;,\n    val launch: Launch,\n    val body: Body\n)\n\ndata class Body (\n    val dimension: String,\n    val weight: String,\n    val build: String,\n    val network: List&lt;String&gt;,\n    val display: Display\n)\n\ndata class Display (\n    val type: String,\n    val size: String,\n    val resolution: String,\n    val protection: List&lt;String&gt;\n)\n\ndata class Launch (\n    val announcedDate: String,\n    val status: String\n)\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570528207, "creation_date": 1570521109, "last_edit_date": 1570525402, "question_id": 58282213, "link": "https://stackoverflow.com/questions/58282213/how-to-convert-json-data-into-kotlin-object", "title": "How to convert JSON data into Kotlin object", "body": "<p>I have a sample here of an existing json,<br>\nmy issue is i need to convert it into kotlin,<br>\nI'm new in kotlin and been reading a lot of tutorial, but<br>\ni haven't since samples as complicated as this.</p>\n\n<p>here's the JSON</p>\n\n<pre><code>{\n\"mobile\": {\n    \"id\":\"1\",\n    \"Device\": {\n        \"Device Name\": \"Huawei P30 Pro\",\n        \"Price\": \"10000\",\n        \"rating\": \"3.4\",\n        \"phone_img_url\": \"https://fdn2.gsmarena.com/vv/bigpic/huawei-mate30-pro-.jpg\", \n        \"Category\": \"Phablet\",\n        \"Description\": {\n            \"Network\": [\"GSM\", \"HSPA\", \"LTE\"],\n            \"Launch\": {\n                \"Announced Date\": \"2019, September\",\n                \"Status\": \"Available. Released 2019, September\"\n            },\n            \"Body\": {\n                \"Dimension\": \"158.1 x 73.1 x 8.8 mm (6.22 x 2.88 x 0.35 in)\",\n                \"Weight\": \"198 g (6.98 oz)\",\n                \"Build\": \"Front/back glass (Gorilla Glass 6), aluminum frame\",\n                \"Network\": [\n                    \"Single SIM (Nano-SIM) or Hybrid Dual SIM (Nano-SIM, dual stand-by)\", \n                    \"IP68 dust/water resistant (up to 1.5m for 30 mins)\"],\n                \"Display\":{\n                    \"Type\": \"OLED capacitive touchscreen, 16M colors\",\n                    \"Size\": \"6.53 inches, 108.7 cm2 (~94.1% screen-to-body ratio)\",\n                    \"Resolution\": \"1176 x 2400 pixels, 18.5:9 ratio (~409 ppi density)\",\n                    \"Protection\": [\"Corning Gorilla Glass 6\",\n                        \"DCI-P3\",\n                        \"HDR10\"\n                    ]\n                }\n            }\n        }\n    },\n    \"id\":\"2\",\n    \"Device\": {\n        \"Device Name\": \"Xiaomi Redmi Note 8 Pro\",\n        \"Price\": \"15000\",\n        \"rating\": \"3.4\",\n        \"Category\": \"Phablet\",\n        \"Description\": {\n            \"Network\": [\"GSM\", \"HSPA\", \"LTE\"],\n            \"Launch\": {\n                \"Announced Date\": \"2019, August\",\n                \"Status\": \"Available. Released 2019, September\"\n            },\n            \"Body\": {\n                \"Dimension\": \"161.4 x 76.4 x 8.8 mm (6.35 x 3.01 x 0.35 in)\",\n                \"Weight\": \"200 g (7.05 oz)\",\n                \"Build\": \"Front/back glass (Gorilla Glass 5)\",\n                \"Network\": [\n                    \"Hybrid Dual SIM (Nano-SIM, dual stand-by)\"],\n                \"Display\":{\n                    \"Type\": \"IPS LCD capacitive touchscreen, 16M colors\",\n                    \"Size\": \"6.53 inches, 104.7 cm2 (~84.9% screen-to-body ratio)\",\n                    \"Resolution\": \"1080 x 2340 pixels, 19.5:9 ratio (~395 ppi density)\",\n                    \"Protection\": [\"Corning Gorilla Glass 6\",\n                        \"500 nits max brightness\",\n                        \"HDR\"\n                    ]\n                }\n            }\n        }\n    },\n    \"id\":\"3\",\n    \"Device\": {\n        \"Device Name\": \"Huawei P30 Pro\",\n        \"Price\": \"17000\",\n        \"rating\": \"3.4\",\n        \"Category\": \"Phablet\",\n        \"Description\": {\n            \"Network\": [\"GSM\", \"HSPA\", \"LTE\"],\n            \"Launch\": {\n                \"Announced Date\": \"2019, March\",\n                \"Status\": \"Available. Released 2019, March\"\n            },\n            \"Body\": {\n                \"Dimension\": \"158 x 73.4 x 8.4 mm (6.22 x 2.89 x 0.33 in)\",\n                \"Weight\": \"192 g (6.77 oz)\",\n                \"Build\": \"Front/back glass, aluminum frame\",\n                \"Network\": [\n                    \"Single SIM (Nano-SIM) or Hybrid Dual SIM (Nano-SIM, dual stand-by)\", \n                    \"IP68 dust/water resistant (up to 2m for 30 mins)\"],\n                \"Display\":{\n                    \"Type\": \"OLED capacitive touchscreen, 16M colors\",\n                    \"Size\": \"6.47 inches, 102.8 cm2 (~88.6% screen-to-body ratio)\",\n                    \"Resolution\": \"1080 x 2340 pixels, 19.5:9 ratio (~398 ppi density)\",\n                    \"Protection\": [\"DCI-P3\",\n                        \"HDR10\"\n                    ]\n                }\n            }\n        }\n    }           \n}\n</code></pre>\n\n<p>}</p>\n\n<p>currently i do have a simple code but it doesn't return complete list of my \"mobile\"<br>\nhere is my sample object  </p>\n\n<pre><code>class Phone (\nval mobile: PhoneList\n)\n\ndata class PhoneList (\n    val id: String,\n    val device: DeviceInfo?\n)\n\ndata class DeviceInfo (\n    val device_name: String\n)\n</code></pre>\n\n<p>thank you in advance for the help.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570521491, "post_id": 58281306, "comment_id": 102930004, "body": "Hi! Please post the problematic tests and your test settings here. The easier it is for someone else to reproduce, the higher the possibility that you get an answer!"}, {"owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570522840, "post_id": 58281306, "comment_id": 102930610, "body": "Well there is no one problem to pin point to because, as I mentioned above, new 1 or 2 tests are failing every time I rerun the entire test set. Test A fails and Test B, C, D succeeds in one test cycle, and Test B fails and the rest fails in another cycle and so forth."}], "owner": {"reputation": 174, "user_id": 11530917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUZQL_qRK6s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdfFhDLnzJj53CuRaRZ2FWNK9jbMA/mo/photo.jpg?sz=128", "display_name": "Hitit", "link": "https://stackoverflow.com/users/11530917/hitit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570525222, "creation_date": 1570517019, "last_edit_date": 1570525222, "question_id": 58281306, "link": "https://stackoverflow.com/questions/58281306/when-running-kotlin-unit-and-ui-tests-1-or-2-new-tests-are-failing-everything-t", "title": "When running Kotlin Unit and UI tests, 1 or 2 new tests are failing everything time", "body": "<p>I am trying to run both unit and UI testing in Kotlin using Junit and Espresso. \nWhat is really interesting is that everytime I run the entire test, 1 or 2 new tests are failing. \nIt seems that there is a systematic glitch in my test settings. What would be the cause of this issue? Any suggestions where i should begin debugging?</p>\n\n<p>Test Setting:</p>\n\n<pre><code>// Build.gradle\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation \"androidx.recyclerview:recyclerview:1.0.0\"\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.1.0'\n    implementation 'androidx.navigation:navigation-fragment:2.0.0'\n    implementation 'androidx.navigation:navigation-ui:2.0.0'\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.0.0'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.0.0'\n    implementation 'androidx.room:room-runtime:2.1.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.1.0'\n    kapt 'androidx.room:room-compiler:2.1.0'\n\n    // test implementation\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.powermock:powermock-module-junit4:1.7.4'\n    testImplementation 'org.powermock:powermock-api-mockito2:1.7.4'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-contrib:3.2.0'\n\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.squareup.retrofit2:retrofit:2.6.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.6.0'\n}\n</code></pre>\n\n<p>Several types of error message that I am facing in this issue:</p>\n\n<p>type 1: </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: xyz.hitit.userapplication.debug, PID: 11286\n    java.lang.IllegalStateException: pwdEditText must not be null\n        at xyz.hitit.userapplication.ui.registrationLogin.PasswordLoginFragment$onCreateView$1$1$1.run(PasswordLoginFragment.kt:72)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nE/MonitoringInstr: Exception encountered by: Thread[main,5,main]. Dumping thread state to outputs and pining for the fjords.\n    java.lang.IllegalStateException: pwdEditText must not be null\n        at xyz.hitit.userapplication.ui.registrationLogin.PasswordLoginFragment$onCreateView$1$1$1.run(PasswordLoginFragment.kt:72)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n\n<p>type 2: </p>\n\n<pre><code>androidx.test.espresso.NoMatchingViewException: No views in hierarchy found matching: (Child at position 1 in parent (with id: xyz.hitit.userapplication.debug:id/design_navigation_view and Child at position 0 in parent with id: xyz.hitit.userapplication.debug:id/nav_view) and is displayed on the screen to the user)\n\nView Hierarchy:\n+&gt;DecorView{id=-1, visibility=VISIBLE, width=1080, height=2160, has-focus=true, has-focusable=true, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params={(0,0)(fillxfill) ty=BASE_APPLICATION wanim=0x10302fe\nfl=LAYOUT_IN_SCREEN LAYOUT_INSET_DECOR SPLIT_TOUCH HARDWARE_ACCELERATED DRAWS_SYSTEM_BAR_BACKGROUNDS\npfl=FORCE_DRAW_STATUS_BAR_BACKGROUND}, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=2}\n|\n+-&gt;LinearLayout{id=-1, visibility=VISIBLE, width=1080, height=2028, has-focus=true, has-focusable=true, has-window-focus=true, is-clickable=false, is-enabled=true, is-focused=false, is-focusable=false, is-layout-requested=false, is-selected=false, layout-params=android.widget.FrameLayout$LayoutParams@cf89f9f, tag=null, root-is-layout-requested=false, has-input-connection=false, x=0.0, y=0.0, child-count=2}\n(133 more lines...)\n</code></pre>\n\n<p>type 3: </p>\n\n<pre><code>androidx.test.espresso.base.DefaultFailureHandler$AssertionFailedWithCauseError: 'with text: is \"randomTextToShowXButton\"' doesn't match the selected view.\nExpected: with text: is \"randomTextToShowXButton\"\nGot: \"ClearEditText{id=2131230812, res-name=emailEditText, visibility=VISIBLE, width=938, height=132, has-focus=true, has-focusable=true, has-window-focus=true, is-clickable=true, is-enabled=true, is-focused=true, is-focusable=true, is-layout-requested=false, is-selected=false, layout-params=androidx.constraintlayout.widget.ConstraintLayout$LayoutParams@bbfd43f, tag=null, root-is-layout-requested=false, has-input-connection=true, editor-info=[inputType=0x21 imeOptions=0x6 privateImeOptions=null actionLabel=null actionId=0 initialSelStart=19 initialSelEnd=19 initialCapsMode=0x0 hintText=youremail@email.com label=null packageName=null fieldId=0 fieldName=null extras=null hintLocales=null contentMimeTypes=null ], x=71.0, y=572.0, text=randomTextToShowXBu, hint=youremail@email.com, input-type=33, ime-target=true, has-links=false}\"\n\nat dalvik.system.VMStack.getThreadStackTrace(Native Method)\nat java.lang.Thread.getStackTrace(Thread.java:1720)\nat androidx.test.espresso.base.DefaultFailureHandler.getUserFriendlyError(DefaultFailureHandler.java:96)\nat androidx.test.espresso.base.DefaultFailureHandler.handle(DefaultFailureHandler.java:59)\n(51 more lines...)\n</code></pre>\n\n<p>type 4: </p>\n\n<pre><code>java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState\nat androidx.fragment.app.FragmentManagerImpl.checkStateLoss(FragmentManager.java:2080)\nat androidx.fragment.app.FragmentManagerImpl.enqueueAction(FragmentManager.java:2106)\nat androidx.fragment.app.BackStackRecord.commitInternal(BackStackRecord.java:683)\nat androidx.fragment.app.BackStackRecord.commit(BackStackRecord.java:637)\nat xyz.hitit.userapplication.ui.registrationLogin.RegisterLoginActivity$onCreate$1.invoke(RegisterLoginActivity.kt:42)\nat xyz.hitit.userapplication.ui.registrationLogin.RegisterLoginActivity$onCreate$1.invoke(RegisterLoginActivity.kt:14)\nat xyz.hitit.api.methods.OAuth$requestJWTClientCredentials$1.onResponse(OAuth.kt:37)\n(8 more lines...)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "material-design"], "comments": [{"owner": {"reputation": 310, "user_id": 3987745, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005717674931/picture?type=large", "display_name": "Edward Quixote", "link": "https://stackoverflow.com/users/3987745/edward-quixote"}, "edited": false, "score": 0, "creation_date": 1570512168, "post_id": 58280388, "comment_id": 102926813, "body": "Add the <code>NavigationView</code> as a direct descendant of the <code>DrawerLayout</code>"}, {"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "reply_to_user": {"reputation": 310, "user_id": 3987745, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005717674931/picture?type=large", "display_name": "Edward Quixote", "link": "https://stackoverflow.com/users/3987745/edward-quixote"}, "edited": false, "score": 0, "creation_date": 1570545681, "post_id": 58280388, "comment_id": 102942012, "body": "I still get the same issue."}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 1597072, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/H6TP9.png?s=128&g=1", "display_name": "Balwinder SIngh", "link": "https://stackoverflow.com/users/1597072/balwinder-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1570513724, "creation_date": 1570513724, "answer_id": 58280794, "question_id": 58280388, "link": "https://stackoverflow.com/questions/58280388/how-to-create-navigation-view-that-is-always-visible-on-the-side-of-a-fragment/58280794#58280794", "title": "How to create navigation view that is always visible on the side of a fragment?", "body": "<p>have your custom drawer class </p>\n\n<pre><code>public class AppDrawerLayout extends DrawerLayout {\n    private boolean m_disallowIntercept;\n\n    public AppDrawerLayout (Context context) {\n        super(context);\n    }\n\n    @Override\n    public boolean onInterceptTouchEvent(final MotionEvent ev) {\n        // as the drawer intercepts all touches when it is opened\n        // we need this to let the content beneath the drawer to be touchable\n        return !m_disallowIntercept &amp;&amp; super.onInterceptTouchEvent(ev);\n    }\n\n    @Override\n    public void setDrawerLockMode(int lockMode) {\n        super.setDrawerLockMode(lockMode);\n        // if the drawer is locked, then disallow interception\n        m_disallowIntercept = (lockMode == LOCK_MODE_LOCKED_OPEN);\n    }\n}\n\n\n\n&lt;AppDrawerLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;!--We must define left padding for content--&gt;\n    &lt;FrameLayout\n        android:id=\"@+id/content_frame\"\n        android:paddingStart=\"@dimen/content_padding\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:menu=\"@menu/menu_nav\" /&gt;\n\n&lt;/AppDrawerLayout&gt;\n</code></pre>\n\n<p>Handle padding for portrait and landscape:</p>\n\n<p>values/dimens.xml -\n0dp</p>\n\n<p>values-land/dimens.xml -\n300dp</p>\n\n<p>and below is how you can lock the drawer : </p>\n\n<pre><code>   if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        mDrawerLayout.setDrawerLockMode(DrawerLayout.LOCK_MODE_LOCKED_OPEN);\n        mDrawerLayout.setScrimColor(0x00000000); // or Color.TRANSPARENT\n        isDrawerLocked = true;\n    } else if (getResources().getConfiguration().orientation == Configuration.ORIENTATION_PORTRAIT) {\n        mDrawerLayout.setDrawerLockMode(DrawerLayout.LOCK_MODE_UNLOCKED);\n        mDrawerLayout.setScrimColor(0x99000000); // default shadow\n        isDrawerLocked = false;\n    }\n</code></pre>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570513724, "creation_date": 1570510512, "last_edit_date": 1570510762, "question_id": 58280388, "link": "https://stackoverflow.com/questions/58280388/how-to-create-navigation-view-that-is-always-visible-on-the-side-of-a-fragment", "title": "How to create navigation view that is always visible on the side of a fragment?", "body": "<p>I am creating a menu fragment that will have a drawer layout constrained on the left side. I keep getting the error: <code>DrawerLayout must be measured with MeasureSpec.EXACTLY</code>. After reading a lot of information on the web, I found that most answers said to have height and width set to 'match-parent'. After doing so, I still get the same error. </p>\n\n<pre><code>class MenuFragment : BaseFragment() {\n\n\n    private lateinit var drawer: DrawerLayout\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater.inflate(R.layout.fragment_staff_menu_new, container, false)\n        drawer = view.findViewById(R.id.drawer_layout)\n        view.findViewById&lt;NavigationView&gt;(R.id.nav).setupWithNavController(findNavController())\n        val toggle = ActionBarDrawerToggle(requireActivity(), drawer, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n        drawer.addDrawerListener(toggle)\n        toggle.syncState()\n\n        return view\n\n    }\n}\n</code></pre>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;androidx.drawerlayout.widget.DrawerLayout\n        android:id=\"@+id/drawer_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:openDrawer=\"start\"&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;com.google.android.material.navigation.NavigationView\n                android:id=\"@+id/nav\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"match_parent\"\n                android:fitsSystemWindows=\"true\"/&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["sql", "kotlin", "database-migration", "android-room", "fts4"], "owner": {"reputation": 605, "user_id": 9710944, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156378961813035/picture?type=large", "display_name": "Josh Hardman", "link": "https://stackoverflow.com/users/9710944/josh-hardman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570697533, "creation_date": 1570502165, "last_edit_date": 1592644375, "question_id": 58279517, "link": "https://stackoverflow.com/questions/58279517/the-kotlin-androidx-room-fts4-documentation-looks-like-its-written-using-java", "title": "The Kotlin androidx.room.fts4 documentation looks like it&#39;s written using Java! Has anyone implemented an fts4 entity using Kotlin?", "body": "<p>I'm having some difficulty implementing fts4 into my app. My aim is to build an app entirely in Kotlin using the latest jetpack components including the Room database. However, when I looked at <a href=\"https://developer.android.com/reference/kotlin/androidx/room/Fts4.html\" rel=\"nofollow noreferrer\">the documentation</a> for fts4, the examples were written in Java!</p>\n<p>Besides the android docs for related classes and the <a href=\"https://www.sqlite.org/fts3.html\" rel=\"nofollow noreferrer\">sqlite documentation for fts3/4</a> , I've searched through a few different tutorials on this. Notably, <a href=\"https://medium.com/@sienatime/enabling-sqlite-fts-in-room-2-1-75e17d0f0ff8\" rel=\"nofollow noreferrer\">this blog</a> post and <a href=\"https://docs.google.com/presentation/d/1STF5CuuO1SPJqjmav976dHv_QZeg0tPPKbegeoo_kXA/edit#slide=id.g4f32c7be59_0_123\" rel=\"nofollow noreferrer\">these slides</a>. All of the tutorials I've been able to find so far have been written in Java and rely on database migrations to build the virtual table required for fts^(SEE NOTE BELOW). Despite that, I've yet to piece together a working solution.</p>\n<p>Here's the latest iteration of my code:</p>\n<p>Entity:</p>\n<pre><code>\n@Entity(tableName = &quot;items&quot;)\n\ndata class Item(\n    @PrimaryKey \n    @ColumnInfo(name = &quot;rowid&quot;)\n    val rowId: Int,\n    val qualities: String,\n    val itemId: String,\n    val name: String,\n    val description: String,\n    val quantity: Int,\n   \n) {\n    override fun toString() = name\n}\n</code></pre>\n<p>FTS Entity:</p>\n<pre><code>@Entity(tableName = &quot;items_fts&quot;)\n@Fts4(contentEntity = Item::class, tokenizer = FtsOptions.TOKENIZER_PORTER)\n\ndata class ItemFTS(\n    @PrimaryKey\n    @ColumnInfo(name = &quot;rowid&quot;)\n    val id: Int,\n    val qualities: String\n) {\n    override fun toString() = items\n}\n</code></pre>\n<p>Room database:</p>\n<pre><code>@Database(entities = [Item::class, ItemFTS::class], version = 1, exportSchema = false)\n@TypeConverters(Converters::class)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun itemDao(): ItemDao\n\n    companion object {\n\n        // For Singleton instantiation\n        @Volatile private var instance: AppDatabase? = null\n\n        fun getInstance(context: Context): AppDatabase {\n            return instance ?: synchronized(this) {\n                instance ?: buildDatabase(context).also { instance = it }\n            }\n        }\n\n        // Create and pre-populate the database.\n        private fun buildDatabase(context: Context): AppDatabase {\n            return Room.databaseBuilder(context, AppDatabase::class.java, DATABASE_NAME)\n                .addCallback(object : RoomDatabase.Callback() {\n                    override fun onCreate(db: SupportSQLiteDatabase) {\n                        super.onCreate(db)\n                        val request = OneTimeWorkRequestBuilder&lt;SeedDatabaseWorker&gt;().build()\n                        WorkManager.getInstance().enqueue(request)\n                    }\n                })\n// **I tried adding in migrations here based on the blog posts attached to this stack overflow \n// question but didn't seem to work, even when I incremented the database version.**\n                .build()\n        }\n    }\n}\n</code></pre>\n<p>Seed Database Worker:</p>\n<pre><code>class SeedDatabaseWorker(\n    context: Context,\n    workerParams: WorkerParameters\n) : CoroutineWorker(context, workerParams) {\n\n    private val TAG by lazy { SeedDatabaseWorker::class.java.simpleName }\n\n    override suspend fun doWork(): Result = coroutineScope {\n\n        try {\n            applicationContext.assets.open(ITEM_DATA_FILENAME).use { inputStream -&gt;\n                JsonReader(inputStream.reader()).use { jsonReader -&gt;\n                    val itemType = object : TypeToken&lt;List&lt;Item&gt;&gt;() {}.type\n                    val itemList: List&lt;Item&gt; = Gson().fromJson(jsonReader, itemType)\n\n                    val database = AppDatabase.getInstance(applicationContext)\n                    database.itemDao().insertAll(itemList)\n\n                    Result.success()\n                }\n            }\n        } catch (ex: Exception) {\n            Log.e(TAG, &quot;Error seeding database&quot;, ex)\n            Result.failure()\n        }\n    }\n}\n</code></pre>\n<p>Item DAO:</p>\n<pre><code>@Dao\ninterface ItemDao {\n\n    @Query(&quot;SELECT * FROM items ORDER BY name&quot;)\n    fun getItems(): LiveData&lt;List&lt;Item&gt;&gt;\n\n    @Query(&quot;SELECT * FROM items WHERE itemId = :itemId&quot;)\n    fun getItem(itemId: String): LiveData&lt;Item&gt;\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertAll(items: List&lt;Item&gt;)\n\n    @Query(&quot;SELECT * FROM items WHERE rowid IN (SELECT rowid FROM items_fts WHERE qualities MATCH :query) ORDER BY name&quot;)\n    fun searchItems(query: String): LiveData&lt;List&lt;Item&gt;&gt;\n}\n</code></pre>\n<p>Also, incase you were wondering, I made sure to change the % query annotation to *.</p>\n<p>^(NOTE) This isn't something I have any experience with and could possibly be part of the reason why I'm struggling to come up with a working solution. It's a little unclear to me how much of the work Room will do behind the scenes and how much I need to intervene when it comes to generating, populating, indexing and generally managing the fts side of things. Previously my solution made use of a non-fts search query which required no SQL besides the query itself. I'm not very familiar with SQL and I really don't understand the fundamentals of how migrations work. Is it possible to have a database built and then migrate it to a new version without first installing an app and then migrating the database in updated version? If it isn't and if migration is required to create the virtual fts table, how can you possibly ship a new android app with fts ready to go?! I feel like there are some gaping holes in my knowledge here which are preventing me from making any progress. Any good suggestions or proposed solutions would be greatly appreciated!</p>\n"}, {"tags": ["android", "kotlin", "notifications", "wear-os"], "owner": {"reputation": 27, "user_id": 11925770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c927e1f62c89f60a3c3903a08a077a0?s=128&d=identicon&r=PG&f=1", "display_name": "maxphat", "link": "https://stackoverflow.com/users/11925770/maxphat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1570496442, "creation_date": 1570496442, "question_id": 58278908, "link": "https://stackoverflow.com/questions/58278908/custom-expanded-notification-implementation-on-wear-os", "title": "Custom expanded notification implementation on wear os", "body": "<h1>What I need</h1>\n\n<p>I need a wear notification that shows some summary text (which is formatted - so a custom layout here is needed), and when expanded a list of formatted text (another seperate custom layout) will show with actions at the bottom of the screen. I don't want to use any deprecated methods and it should be decorated similarly styling to android.</p>\n\n<h1>What I've tried:</h1>\n\n<h3>Remoteviews and decoratedCustomViewStyle</h3>\n\n<ul>\n<li>This lead to no results, not showing the layout or text that i specified (I later found that this is stated by android too\"\n\n<blockquote>\n  <p>Notifications using RemoteViews\n  are stripped of custom layouts and the wearable only displays the text and icons. However, you can create custom notifications that use custom card layouts by creating a wearable app that runs on the watch.\n  <a href=\"https://developer.android.com/training/wearables/notifications/creating\" rel=\"nofollow noreferrer\">Found here</a></p>\n</blockquote></li>\n</ul>\n\n<h3>setDisplayIntent</h3>\n\n<ul>\n<li>This follows the <a href=\"https://developer.android.com/training/wearables/apps/layouts.html#CustomNotifications\" rel=\"nofollow noreferrer\">developer guidelines</a> for custom notifications on wear. This looks fine and all but I found out it is <a href=\"https://developer.android.com/reference/android/app/Notification.WearableExtender#setDisplayIntent(android.app.PendingIntent)\" rel=\"nofollow noreferrer\">deprecated</a> in API level 29. A combination of setDisplayIntent and addPages would have been perfect.</li>\n</ul>\n\n<h3>setContentIntent</h3>\n\n<ul>\n<li>This allows for a seperate activity to be launched on expand, and this is the kind of functionality I want, however, this is launching the app, and not baked into the android notification itself.</li>\n</ul>\n\n<p>I'm really running out of ideas here, and was wondering if anyone has any up to date ways of making custom notifications like this, as there doesn't seem to be any updated guides.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570500269, "post_id": 58278288, "comment_id": 102924510, "body": "Welcome! Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>, especially \u201cHelp others reproduce the problem\u201c, which is not easy right now. In particular, in what order are the functions above called?"}, {"owner": {"reputation": 81, "user_id": 5053306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1607563876190990/picture?type=large", "display_name": "Graziano Rizzi", "link": "https://stackoverflow.com/users/5053306/graziano-rizzi"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570513774, "post_id": 58278288, "comment_id": 102927211, "body": "OnCreate -&gt; onListFragmentInteraction -&gt; onBackPressed"}], "answers": [{"tags": [], "owner": {"reputation": 745, "user_id": 11880263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcWgF.png?s=128&g=1", "display_name": "CodeInsideCoffee", "link": "https://stackoverflow.com/users/11880263/codeinsidecoffee"}, "is_accepted": false, "score": 1, "last_activity_date": 1570515657, "creation_date": 1570515657, "answer_id": 58281063, "question_id": 58278288, "link": "https://stackoverflow.com/questions/58278288/how-to-go-back-to-first-android-fragment-after-replace/58281063#58281063", "title": "How to go back to first Android Fragment after replace", "body": "<p>At starting i use popbackstack method but in this it iterate loop every time when back button is pressed. So i change my concept instead of popbackstack i maintain constant variable. and using this i manage my fragment. For that Follow Below Steps.</p>\n\n<p><strong>Step 1:</strong> make atleast two Global Variable.</p>\n\n<pre><code>    public static String currentTAG=\"HomeFragment\";\n    public static String AboutUsFragment=\"AboutUsFragment\";\n    public static String HelpfulTipsFragment=\"HelpfulTipsFragment\";\n</code></pre>\n\n<p><strong>Step 2:</strong> Change CurrentTag value when Fragment Open.</p>\n\n<p>In Home Fragment in currentTAG=HomeFragment\nsimilarly for <strong>aboutUsFragment set CurrentTAG=AboutUsFragment;</strong></p>\n\n<p><strong>Step 3:</strong> Then After in Your main Activity Write down Below Code in Onbackpress method.</p>\n\n<pre><code>if (Const.currentTAG.equals(Const.HomeFragment)) {\n            ExitApp();\n        }else{\n         getSupportFragmentManager().beginTransaction().replace(R.id.maincontainer, new HomeFragment()).addToBackStack(null).commit();\n        }\n\n\n      private void ExitApp() {\n    final AlertDialog.Builder builder = new AlertDialog.Builder(context);\n\n    builder.setTitle(R.string.app_name);\n    builder.setMessage(R.string.ask_before_close);\n    builder.setIcon(R.mipmap.ic_launcher);\n    //final AlertDialog dialog = builder.create();\n    builder.setPositiveButton(\"YES\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n\n            finish();\n\n        }\n    });\n    builder.setNegativeButton(\"NO\", new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n\n        }\n    });\n    builder.show();\n}\n</code></pre>\n\n<p>Similarly You Can Manage Multiple Fragment Without Iterating loop and popbackstack. </p>\n\n<p><strong>NOTE:</strong> When You Load Fragment Use Replace instead of add like below Code</p>\n\n<pre><code> getSupportFragmentManager().beginTransaction().replace(R.id.maincontainer, new AboutAppFragment()).addToBackStack(null).commit();\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5053306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1607563876190990/picture?type=large", "display_name": "Graziano Rizzi", "link": "https://stackoverflow.com/users/5053306/graziano-rizzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570515657, "creation_date": 1570490506, "last_edit_date": 1570514439, "question_id": 58278288, "link": "https://stackoverflow.com/questions/58278288/how-to-go-back-to-first-android-fragment-after-replace", "title": "How to go back to first Android Fragment after replace", "body": "<p>I'm trying to get back to the first fragment after replacing it, but supportFragmentManager.popBackStackImmediate() do not work...</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.countries_list_activity)\n        var colonCount = 1\n\n\n        if (savedInstanceState == null) {\n            supportFragmentManager.beginTransaction()\n                .replace(R.id.container, CountriesFragment.newInstance(colonCount))\n                .addToBackStack(null)\n                .commit()\n        }\n    }\n\n    override fun onListFragmentInteraction(item: Country?) {\n        supportFragmentManager.beginTransaction()\n            .replace(R.id.container, CountriesListFragment.newInstance())\n            .commit()\n\n    }\n\n    override fun onBackPressed() {\n        supportFragmentManager.popBackStackImmediate()\n    }\n</code></pre>\n\n<p>The function call order is OnCreate -> onListFragmentInteraction -> onBackPressed \nWhat i'm missing?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570500519, "post_id": 58278274, "comment_id": 102924558, "body": "Hi and welcome! What have you tried so far?"}, {"owner": {"reputation": 25, "user_id": 10660269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c52502391cfd6f04b764e8152ea46a?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo Lopez", "link": "https://stackoverflow.com/users/10660269/gonzalo-lopez"}, "reply_to_user": {"reputation": 2444, "user_id": 287761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZJAT.png?s=128&g=1", "display_name": "Enselic", "link": "https://stackoverflow.com/users/287761/enselic"}, "edited": false, "score": 0, "creation_date": 1570541959, "post_id": 58278274, "comment_id": 102939812, "body": "Hi, I found a library that might work: <a href=\"https://github.com/jacobmoncur/QuiltViewLibrary\" rel=\"nofollow noreferrer\">github.com/jacobmoncur/QuiltViewLibrary</a>"}], "owner": {"reputation": 25, "user_id": 10660269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c52502391cfd6f04b764e8152ea46a?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo Lopez", "link": "https://stackoverflow.com/users/10660269/gonzalo-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570490346, "creation_date": 1570490346, "question_id": 58278274, "link": "https://stackoverflow.com/questions/58278274/how-to-put-buttons-with-different-sizes-side-by-side-programmatically", "title": "How to put buttons with different sizes side by side programmatically?", "body": "<p>With a JSON that returns a dynamic list of buttons with different sizes, I need to show them side by side. Each row of the layout has four positions and each button can occupy 1, 2, 3 or 4 positions. How could I make this possible programmatically? Any suggestions would be very welcome.</p>\n"}, {"tags": ["kotlin", "lambda"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1570495475, "post_id": 58277468, "comment_id": 102923642, "body": "What <i>type</i> do you expect <code>rollDice</code> to have?"}, {"owner": {"reputation": 639, "user_id": 1438303, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac9c8a868139abd23fe5280dfe704786?s=128&d=identicon&r=PG", "display_name": "Mertcan Ekiz", "link": "https://stackoverflow.com/users/1438303/mertcan-ekiz"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1570496151, "post_id": 58277468, "comment_id": 102923741, "body": "I suppose <code>(Int, Int) -&gt; Int</code> although I don&#39;t quite follow how this is related to the question"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1570498792, "post_id": 58277468, "comment_id": 102924244, "body": "That&#39;s correct.  So anyone who <i>calls</i> <code>rollDice</code> just has a function <code>(Int, Int) -&gt; Int</code>.  They don&#39;t know that there are default values, so they <i>have</i> to pass two values.  So even if you specified default values, nobody could <i>use</i> them."}], "answers": [{"comments": [{"owner": {"reputation": 639, "user_id": 1438303, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac9c8a868139abd23fe5280dfe704786?s=128&d=identicon&r=PG", "display_name": "Mertcan Ekiz", "link": "https://stackoverflow.com/users/1438303/mertcan-ekiz"}, "edited": false, "score": 1, "creation_date": 1570541353, "post_id": 58282115, "comment_id": 102939436, "body": "This is a great in depth explanation. Thanks a lot!"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1576751656, "post_id": 58282115, "comment_id": 105003295, "body": "Awesome works for this explanation, really appreciate it and thanks a lot"}], "tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": true, "score": 15, "last_activity_date": 1570521137, "last_edit_date": 1570521137, "creation_date": 1570520719, "answer_id": 58282115, "question_id": 58277468, "link": "https://stackoverflow.com/questions/58277468/default-parameters-in-lambda-expression-in-kotlin/58282115#58282115", "title": "Default parameters in lambda expression in Kotlin", "body": "<p><strong>TLDR:</strong> Lambda expressions cannot have default parameters. If you need them, you should declare a function (can be locally inside another function).</p>\n\n<hr>\n\n<p>To elaborate, let's look at different ways how function-like types can be defined in Kotlin. Intuitively, one would expect them to work the same, but there are subtle discrepancies in their functionality.</p>\n\n<p><strong>1. Overloaded functions</strong></p>\n\n<p>When defining function overloads manually (the Java way), it's possible to not just <em>call</em> the function with any allowed argument number, but also <em>store</em> the function reference in a type using any argument number.</p>\n\n<pre><code>fun overload(min: Int, max: Int) = (min..max).random()\nfun overload(min: Int) = overload(min, 12)\nfun overload() = overload(1, 12)\n\n// Calling is possible with all numbers of arguments, and naming ones at the end\noverload()\noverload(3)\noverload(min=3)\noverload(3, 4)\noverload(3, max=4)\noverload(min=3, max=4)\n\n// Intuitively, all 3 ways of storing work:\nval f: (Int, Int) -&gt; Int = ::overload\nval g: (Int) -&gt; Int = ::overload\nval h: () -&gt; Int = ::overload\n\n// On the other hand, this does NOT compile because of ambiguity:\nval i = ::overload\n</code></pre>\n\n<p><strong>2. Functions with default parameters</strong></p>\n\n<p>More idiomatic in Kotlin is the use of default parameters. While this seems to be mostly equivalent to overloaded functions, it's not. The notable difference is: only a single function is declared, and type inference will consider different argument counts only when <em>calling</em> the function, but not when <em>storing</em> it via function reference.</p>\n\n<pre><code>fun default(min: Int = 1, max: Int = 12) = (min..max).random()\n\n// Calling is possible exactly like overloaded functions\ndefault()\ndefault(3)\ndefault(min=3)\ndefault(3, 4)\ndefault(3, max=4)\ndefault(min=3, max=4)\n\n// No ambiguity, f and g have the same type (all parameters)\nval f = ::default\nval g: (Int, Int) -&gt; Int = ::default\n\n// However, storing in a function type taking fewer arguments is NOT possible\nval h: (Int) -&gt; Int = ::default\nval i: () -&gt; Int = ::default\n</code></pre>\n\n<p><strong>3. Anonymous functions</strong></p>\n\n<p>Anonymous functions allow no default parameters even in the declaration, so there's only one way of calling them. Furthermore, the variable storing them is of function type, which loses information about the parameter names and thus prevents a call with named arguments.</p>\n\n<pre><code>val anonymous = fun(min: Int, max: Int) = (min..max).random()\nval anonymous: (Int, Int) -&gt; Int = fun(min: Int, max: Int) = (min..max).random()\n\n// Only one way to call\nanonymous(3, 4)\n\n// No ambiguity, f and g have the same (full type)\nval f = anonymous\nval g: (Int, Int) -&gt; Int = anonymous\n\n// Mistake, which compiles: this declares h as a *property*,\n// with type KProperty&lt;(Int, Int) -&gt; Int&gt;\nval h = ::anonymous\n\n// Calling with named arguments is NOT possible\nanonymous(3, 4)         // OK\nanonymous(min=3, max=4) // error\n</code></pre>\n\n<p><strong>4. Lambda expressions</strong></p>\n\n<p>Like anonymous functions, lambda expressions allow no default parameters and cannot be called with named arguments. Since they are stored immediately as a function type like <code>(Int, Int) -&gt; Int</code>, they undergo the same restrictions as function types referring to actual functions.</p>\n\n<p>Type inference only works if the parameter types are specified either in the lambda expression, or in the function type to assign to:</p>\n\n<pre><code>// OK:\nval lambda = { min: Int, max: Int -&gt; (min..max).random() }\nval lambda2: (Int, Int) -&gt; Int = { min, max -&gt; (min..max).random() }\n\n// Type inference fails:\nval lambda3 = { min, max -&gt; (min..max).random() }\n</code></pre>\n\n<hr>\n\n<p>The main takeaway here is that these 4 callables, while supporting the same basic functionality, differ in the following points:</p>\n\n<ul>\n<li>Allows <em>declaration and calling</em> of default parameters</li>\n<li>Allows <em>storing</em> via function reference that considers default parameters</li>\n<li>Allows calling with named arguments</li>\n</ul>\n\n<p>By referring to the callables as function types (which is the only option for anonymous functions and lambdas), you lose information that's present in the original declaration.</p>\n"}], "owner": {"reputation": 639, "user_id": 1438303, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac9c8a868139abd23fe5280dfe704786?s=128&d=identicon&r=PG", "display_name": "Mertcan Ekiz", "link": "https://stackoverflow.com/users/1438303/mertcan-ekiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2540, "favorite_count": 2, "accepted_answer_id": 58282115, "answer_count": 1, "score": 8, "last_activity_date": 1570521137, "creation_date": 1570484277, "question_id": 58277468, "link": "https://stackoverflow.com/questions/58277468/default-parameters-in-lambda-expression-in-kotlin", "title": "Default parameters in lambda expression in Kotlin", "body": "<p>I want to create a lambda and assign it to a variable and the following works as expected: </p>\n\n<pre><code>val rollDice = { min: Int, max: Int -&gt; (min..max).random() }\n</code></pre>\n\n<p>However, when I tried to assign default values to the parameters I got an error:</p>\n\n<pre><code>val rollDice = { min: Int = 1, max: Int = 12 -&gt; (min..max).random() }\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nUnexpected tokens (use ';' to separate expressions on the same line)\n</code></pre>\n\n<p>Is it not possible to assign default values to parameters in lambda expressions in Kotlin?</p>\n"}, {"tags": ["java", "spring", "kotlin", "apache-kafka", "spring-kafka"], "answers": [{"comments": [{"owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "edited": false, "score": 0, "creation_date": 1570497735, "post_id": 58278425, "comment_id": 102924037, "body": "where does this configuration go? in application.properties??"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "edited": false, "score": 0, "creation_date": 1570497850, "post_id": 58278425, "comment_id": 102924052, "body": "you can add it in <code>application.properties</code> if you enable auto configuration, show the config @pdeva"}, {"owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "edited": false, "score": 0, "creation_date": 1570498263, "post_id": 58278425, "comment_id": 102924127, "body": "i see. what about the <code>ProducerConfig.COMPRESSION_TYPE_CONFIG</code> (if i dont want to use the application.properties). obviously thats to be added in the java code, but where?"}, {"owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "reply_to_user": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "edited": false, "score": 0, "creation_date": 1570498442, "post_id": 58278425, "comment_id": 102924160, "body": "like this <a href=\"https://github.com/spring-projects/spring-kafka/blob/master/spring-kafka/src/test/kotlin/org/springframework/kafka/listener/EnableKafkaKotlinTests.kt\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-kafka/blob/master/&hellip;</a> @pdeva"}], "tags": [], "owner": {"reputation": 28727, "user_id": 9959152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSjIJ.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/9959152/deadpool"}, "is_accepted": true, "score": 5, "last_activity_date": 1570495984, "last_edit_date": 1570495984, "creation_date": 1570491846, "answer_id": 58278425, "question_id": 58277420, "link": "https://stackoverflow.com/questions/58277420/how-to-compress-data-in-producers-when-using-spring-kafka/58278425#58278425", "title": "how to compress data in producers when using spring kafka", "body": "<p>In apache kafka there is producer config <code>compression.type</code> with valid values</p>\n\n<blockquote>\n  <p>The compression type for all data generated by the producer. The default is none (i.e. no compression). <strong>Valid values are none, gzip, snappy, lz4, or zstd</strong></p>\n</blockquote>\n\n<p>So you can set in producer configs</p>\n\n<pre><code>ProducerConfig.COMPRESSION_TYPE_CONFIG \"snappy\"\n</code></pre>\n\n<p>or by using properties </p>\n\n<pre><code>spring.kafka.producer.compression-type= # Compression type for all data generated by the producer.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 4870176, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8IrfogxX1w4/AAAAAAAAAAI/AAAAAAAAAKc/Soa2fIpnw0s/photo.jpg?sz=128", "display_name": "Asif Malek", "link": "https://stackoverflow.com/users/4870176/asif-malek"}, "is_accepted": false, "score": 0, "last_activity_date": 1581075594, "last_edit_date": 1581075594, "creation_date": 1581071490, "answer_id": 60111617, "question_id": 58277420, "link": "https://stackoverflow.com/questions/58277420/how-to-compress-data-in-producers-when-using-spring-kafka/60111617#60111617", "title": "how to compress data in producers when using spring kafka", "body": "<p><strong>1.) Compression at broker level.</strong></p>\n\n<p>You can start your zookeeper server with --config compression.type=gzip at the end of the command or you can add this property in zookeeper config file. </p>\n\n<p><strong>2.) Compression at producer level</strong></p>\n\n<p>Set the property compression.type = gzip in config/producer.properties of your producer or start your producer with below property </p>\n\n<p>--compression-codec                      'gzip', 'snappy', 'lz4', or 'zstd'.<br>\n                                           If specified without value, then it<br>\n                                           defaults to 'gzip'    </p>\n"}], "owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 0, "accepted_answer_id": 58278425, "answer_count": 2, "score": 2, "last_activity_date": 1581075594, "creation_date": 1570484012, "question_id": 58277420, "link": "https://stackoverflow.com/questions/58277420/how-to-compress-data-in-producers-when-using-spring-kafka", "title": "how to compress data in producers when using spring kafka", "body": "<p>I am currently sending data using spring-kafka like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>val json = objectWriter.writeValueAsString(obj)\nkafkaTemplate.send(topic, json)\n</code></pre>\n\n<p>How do i tell KafkaTemplate to use compress the json using snappy before sending?</p>\n"}]