[{"tags": ["java", "spring", "spring-boot", "kotlin", "spring-rest"], "answers": [{"comments": [{"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1450324471, "post_id": 34324396, "comment_id": 56394609, "body": "Yes, that was it, more or less."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 1, "creation_date": 1450325387, "post_id": 34324396, "comment_id": 56394833, "body": "actually I am not sure that fields must be nullable.  What there must be are default values to allow kotlinc to generate an empty constructor."}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1450327386, "post_id": 34324396, "comment_id": 56395352, "body": "Hmm, I didn&#39;t test, but I&#39;m 99.999% sure you&#39;re right. From memory and it stands to reason."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 3, "last_activity_date": 1450769163, "last_edit_date": 1450769163, "creation_date": 1450310305, "answer_id": 34324396, "question_id": 34311181, "link": "https://stackoverflow.com/questions/34311181/spring-boot-serialize-text-javascript-to-json/34324396#34324396", "title": "Spring Boot serialize text/javascript to JSON", "body": "<p>Not sure about Spring, but Jackson needed me to specify that I worked with a Java Bean. You see, Kotlin <code>data class</code> is exactly the same as a standard Bean on the byte code level.</p>\n\n<p>Do not forget that Java Bean specification implies an empty constructor (without parameters). A nice way to have it auto-generated is to provide default values for all parameters of your primary constructor.</p>\n\n<p>To serialize an object from Jackson to String: </p>\n\n<ul>\n<li>The 'get' portion of Java Beans specification is required. </li>\n</ul>\n\n<p>To read a JSON string to object: </p>\n\n<ul>\n<li>The 'set' portion of the spec is required. </li>\n<li>Additionally the object requires an empty constructor. </li>\n</ul>\n\n<p>Modify the class to include: </p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\ndata public class ITunesArtist(var artistName: String? = null, \n    var artistId: Long = -1L, val amgArtistId: String = \"id\", \n    var artistLinkUrl: URL? = null)\n</code></pre>\n\n<ul>\n<li>Fields provide defaults in order for there to be an empty constructor.</li>\n</ul>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Uses the Kotlin Module from @mhlz's (now accepted) answer removes the need to provide a default constructor.  </p>\n"}, {"tags": [], "owner": {"reputation": 3121, "user_id": 3699808, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f0af2052e664e9f832421cb56590b935?s=128&d=identicon&r=PG", "display_name": "mhlz", "link": "https://stackoverflow.com/users/3699808/mhlz"}, "is_accepted": true, "score": 3, "last_activity_date": 1450711490, "creation_date": 1450711490, "answer_id": 34399074, "question_id": 34311181, "link": "https://stackoverflow.com/questions/34311181/spring-boot-serialize-text-javascript-to-json/34399074#34399074", "title": "Spring Boot serialize text/javascript to JSON", "body": "<p>Instead of providing defaults for all properties in your data class you can also use this: <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow\">https://github.com/FasterXML/jackson-module-kotlin</a></p>\n\n<p>This Jackson module will allow you to serialize and deserialize Kotlin's data classes without having to worry about providing an empty constructor.</p>\n\n<p>In a Spring Boot Application you can register the module with a <code>@Configuration</code> class like so:</p>\n\n<pre><code>@Configuration\nclass KotlinModuleConfiguration {\n    @Bean\n    fun kotlinModule(): KotlinModule {\n        return KotlinModule()\n    }\n}\n</code></pre>\n\n<p>Other than that you can also use the extension functions mentioned in the documentation to register the module with Jackson.</p>\n\n<p>Besides supporting data classes you will also get support for several classes from the Kotlin stdlib, like Pair for example.</p>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1469, "favorite_count": 0, "accepted_answer_id": 34399074, "answer_count": 2, "score": 3, "last_activity_date": 1450769163, "creation_date": 1450266321, "last_edit_date": 1450310620, "question_id": 34311181, "link": "https://stackoverflow.com/questions/34311181/spring-boot-serialize-text-javascript-to-json", "title": "Spring Boot serialize text/javascript to JSON", "body": "<p>I created the following Kotlin data class: </p>\n\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic data class ITunesArtist(val artistName: String, \n    val artistId: Long, val artistLinkUrl: URL)\n</code></pre>\n\n<p><em>(a data class is a Kotlin class that auto-generates equals, hashcode, toString etc at compile time - saves time).</em></p>\n\n<p>Now I've tried populating it using Spring <code>RestTemplate</code>: </p>\n\n<pre><code>@Test\nfun loadArtist()\n{\n    val restTemplate = RestTemplate()\n    val artist = restTemplate.getForObject(\n            \"https://itunes.apple.com/search?term=howlin+wolf&amp;entity=allArtist&amp;limit=1\", ITunesQueryResults::class.java);\n    println(\"Got artist: $artist\")\n}\n</code></pre>\n\n<p>It fails with: </p>\n\n<pre><code>Could not extract response: no suitable HttpMessageConverter found for response type \n[class vampr.api.service.authorization.facebook.ITunesArtist] \nand content type [text/javascript;charset=utf-8]\n</code></pre>\n\n<p>Fair enough - the JSON object mapper was probably expecting mime-type of <code>text/json</code>. Other than telling <code>RestTemplate</code> to map to <code>String::class.java</code>, and then instantiating an instance of <code>JacksonObjectMapper</code> by hand, is there a way to tell my <code>RestTemplate</code> to treat the returned mime type as JSON?</p>\n"}, {"tags": ["java", "inheritance", "language-lawyer", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1450093647, "post_id": 34256029, "comment_id": 56273563, "body": "I suspect the down votes were because of lack of references backing up this answer. e.g. This answer may have been considered more helpful by some if a link to an issue or relevant documentation about <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">calling Java from Kotlin</a> were provided which states/shows that Java Collections are not treated specially in Kotlin."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1450095231, "post_id": 34256029, "comment_id": 56274571, "body": "Personally I appreciate the answer but I wish it referenced a concrete issue or some documentation supporting that it might be a bug."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1450102696, "post_id": 34256029, "comment_id": 56279641, "body": "no need to down vote, the only supporting fact if that&#39;s a bug would be the illogicality of this behavior"}], "tags": [], "owner": {"reputation": 641, "user_id": 5479247, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AC0-V9DmUv4/AAAAAAAAAAI/AAAAAAAAFc0/7D0Qqwhjgbg/photo.jpg?sz=128", "display_name": "Eugene Krivenja", "link": "https://stackoverflow.com/users/5479247/eugene-krivenja"}, "is_accepted": false, "score": 0, "last_activity_date": 1450038952, "creation_date": 1450038952, "answer_id": 34256029, "question_id": 34255329, "link": "https://stackoverflow.com/questions/34255329/does-java-util-hashmap-not-implement-java-util-map-in-kotlin/34256029#34256029", "title": "Does java.util.HashMap not implement java.util.Map in Kotlin?", "body": "<p>I think, it is a bug. You can report it there\n<a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow\">https://youtrack.jetbrains.com/issues/KT</a></p>\n\n<p>But still, <code>putIfAbsent</code> is a Java 8 feature, not yet supported in Kotlin (<code>MutableMap</code> interface missing this method).</p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1450082733, "post_id": 34256109, "comment_id": 56266878, "body": "Are you sure? I thought that <code>kotlin.MutableMap</code> does not exist at runtime?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1450092417, "post_id": 34256109, "comment_id": 56272852, "body": "Correct. That is why I wrote &quot;at compile time&quot; in my answer. Kotlin&#39;s <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> are available at compile-time but then mapped to different types at runtime. More details on platform types <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#notation-for-platform-types\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 14, "last_activity_date": 1478913322, "last_edit_date": 1478913322, "creation_date": 1450039458, "answer_id": 34256109, "question_id": 34255329, "link": "https://stackoverflow.com/questions/34255329/does-java-util-hashmap-not-implement-java-util-map-in-kotlin/34256109#34256109", "title": "Does java.util.HashMap not implement java.util.Map in Kotlin?", "body": "<p>In Kotlin, a <code>java.util.HashMap</code>, at compile time, does not implement <code>java.util.Map</code>, but implements <code>kotlin.collections.MutableMap</code> which extends the read-only <code>kotlin.collections.Map</code>.</p>\n\n<p>This is because of Kotlin's <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a>. See <strong>Collections</strong> in <a href=\"http://blog.jetbrains.com/kotlin/2012/09/kotlin-m3-is-out/\" rel=\"nofollow noreferrer\">Kotlin M3 is Out!</a> for more details.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/\" rel=\"nofollow noreferrer\"><code>MutableMap</code></a> does not define any <code>putIfAbsent</code>, but it has an extension function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/get-or-put.html\" rel=\"nofollow noreferrer\"><code>getOrPut</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "is_accepted": false, "score": 3, "last_activity_date": 1450377321, "last_edit_date": 1450377321, "creation_date": 1450192752, "answer_id": 34292871, "question_id": 34255329, "link": "https://stackoverflow.com/questions/34255329/does-java-util-hashmap-not-implement-java-util-map-in-kotlin/34292871#34292871", "title": "Does java.util.HashMap not implement java.util.Map in Kotlin?", "body": "<p>I created a bug report, primarily for the \"Java to Kotlin\" converter that generates invalid Kotlin code in my original example:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-10400\" rel=\"nofollow\">KT-10400 Java to Kotlin converter: converting Java Code where a java.util.HashMap is accessed through the java.util.Map interface fails</a></p>\n\n<p>I also mentioned that <code>java.util.HashMap</code> does not implement <code>java.util.Map</code> but I leave it to the Kotlin developers to decide whether it is a bug or whether the compiler is right to reject it.</p>\n\n<p><strong>UPDATE:</strong> The bug is marked as solved (commit <a href=\"https://github.com/jetbrains/kotlin/commit/5e231db631865d28146649b0495c457ff5a9c2bf\" rel=\"nofollow\">5e231db6</a>).</p>\n"}], "owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 1, "accepted_answer_id": 34256109, "answer_count": 3, "score": 14, "last_activity_date": 1478913322, "creation_date": 1450034945, "question_id": 34255329, "link": "https://stackoverflow.com/questions/34255329/does-java-util-hashmap-not-implement-java-util-map-in-kotlin", "title": "Does java.util.HashMap not implement java.util.Map in Kotlin?", "body": "<p>I have trouble understanding why a Java <code>HashMap</code> is incompatible with a Java <code>Map</code> in Kotlin:</p>\n\n<pre><code>val map : java.util.Map&lt;Int, Int&gt; = java.util.HashMap&lt;Int, Int&gt;()\n                                    // ERROR: Type mismatch\n</code></pre>\n\n<p><strong>Is this a bug or is it intentionally enforced to be an error in Kotlin?</strong></p>\n\n<hr>\n\n<p>Here is a second example with the Java to Kotlin compiler. Take a look at this Java example file:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        java.util.Map&lt;Integer, Integer&gt; map = new java.util.HashMap&lt;&gt;();\n        insertValue(map);\n    }\n\n    private static void insertValue(java.util.Map&lt;Integer, Integer&gt; map) {\n        map.putIfAbsent(0, 1);\n    }\n}\n</code></pre>\n\n<p>Running \"Convert Java to Kotlin\" results in this file:</p>\n\n<pre><code>object Test {\n    @JvmStatic fun main(args: Array&lt;String&gt;) {\n        val map = java.util.HashMap&lt;Int, Int&gt;()\n        insertValue(map)\n    }\n\n    private fun insertValue(map: Map&lt;Int, Int&gt;) {\n        map.putIfAbsent(0, 1)  // ERROR! Unresolved reference\n    }\n}\n</code></pre>\n\n<p>If I try to modify it to reflect more the original file, where <code>insertValue</code> expected a Java <code>java.util.Map</code>, I get another error:</p>\n\n<pre><code>object Test {\n    @JvmStatic fun main(args: Array&lt;String&gt;) {\n        val map = java.util.HashMap&lt;Int, Int&gt;()\n        insertValue(map)  // ERROR: Type mismatch\n    }\n\n    private fun insertValue(map: java.util.Map&lt;Int, Int&gt;) {\n        map.putIfAbsent(0, 1)  // is now OK\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-syncadapter", "android-authenticator"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1450030130, "post_id": 34254308, "comment_id": 56250499, "body": "if you have your own <code>AbstractAccountAuthenticator</code> probably someone should see its code"}], "answers": [{"tags": [], "owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "is_accepted": true, "score": 9, "last_activity_date": 1450105172, "creation_date": 1450105172, "answer_id": 34270129, "question_id": 34254308, "link": "https://stackoverflow.com/questions/34254308/illegalargumentexception-addaccount-not-supported/34270129#34270129", "title": "IllegalArgumentException: addAccount not supported", "body": "<p>I found my mistake. The <code>addAccount</code> method needs some annotations. Finally it looks like this:</p>\n\n<pre><code>@Throws(NetworkErrorException::class)\noverride fun addAccount(response: AccountAuthenticatorResponse,\n                        accountType: String,\n                        authTokenType: String?,\n                        requiredFeatures: Array&lt;String&gt;?,\n                        options: Bundle?): Bundle? {\n\n    val accountManager = mContext.getSystemService(Context.ACCOUNT_SERVICE) as AccountManager\n    val accounts = accountManager.getAccountsByType(\"example.com\")\n    if (accounts.size == 0) {\n        val newAccount = Account(\"Sync Account\", \"example.com\")\n        accountManager.addAccountExplicitly(newAccount, null, null)\n    }\n\n    val bundle = Bundle()\n    bundle.putString(AccountManager.KEY_ACCOUNT_NAME, \"Sync Account\")\n    bundle.putString(AccountManager.KEY_ACCOUNT_TYPE, \"example.com\")\n\n    return bundle\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "edited": false, "score": 1, "creation_date": 1539373204, "post_id": 51936831, "comment_id": 92493494, "body": "The <a href=\"https://developer.android.com/reference/android/accounts/AbstractAccountAuthenticator.html#addAccount(android.accounts.AccountAuthenticatorResponse,%20java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">documentation</a> states that the <code>response</code> and <code>accountType</code> parameters will never be null."}], "tags": [], "owner": {"reputation": 450, "user_id": 8195926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282a943c37206f60973a8c63f477ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "Sahitya Pasnoor", "link": "https://stackoverflow.com/users/8195926/sahitya-pasnoor"}, "is_accepted": false, "score": 3, "last_activity_date": 1534790908, "creation_date": 1534790908, "answer_id": 51936831, "question_id": 34254308, "link": "https://stackoverflow.com/questions/34254308/illegalargumentexception-addaccount-not-supported/51936831#51936831", "title": "IllegalArgumentException: addAccount not supported", "body": "<p>For Kotlin make sure you have nullable type parameters.</p>\n\n<p>This is wrong:</p>\n\n<pre><code>@Throws(NetworkErrorException::class)\noverride fun addAccount(\nresponse: AccountAuthenticatorResponse, accountType: String, authTokenType: \nString, requiredFeatures: Array&lt;String&gt;, options: Bundle): Bundle {\n\nval bundle = Bundle()\nval intent = Intent(context, LoginActivity::class.java)\nintent.putExtra(SessionConstants.GO_ACCOUNT_TYPE, accountType)\nintent.putExtra(SessionConstants.GO_AUTH_TOKEN_TYPE, authTokenType)\nintent.putExtra(SessionConstants.GO_IS_ADDING_NEW_ACCOUNT, true)\n\nintent.putExtra(AccountManager.KEY_ACCOUNT_AUTHENTICATOR_RESPONSE, response)\nbundle.putParcelable(AccountManager.KEY_INTENT, intent)\nreturn bundle\n}\n</code></pre>\n\n<p>Look at the parameters, they are nonnull in the above code. Which throws</p>\n\n<pre><code>java.lang.IllegalArgumentException: addAccount not supported\nat android.accounts.AccountManager.convertErrorToException(AccountManager.java:2147)\nat android.accounts.AccountManager.-wrap0(AccountManager.java)\nat android.accounts.AccountManager$AmsTask$Response.onError(AccountManager.java:1993)\nat android.accounts.IAccountManagerResponse$Stub.onTransact(IAccountManagerResponse.java:69)\nat android.os.Binder.execTransact(Binder.java:453)\n</code></pre>\n\n<p>Following this the correct method definition:</p>\n\n<pre><code> @Throws(NetworkErrorException::class)\n override fun addAccount(response: AccountAuthenticatorResponse?, \n accountType: String?, authTokenType: String?, p3: Array&lt;out String&gt;?, p4: \n Bundle?): Bundle {\nval bundle = Bundle()\nval intent = Intent(context, LoginActivity::class.java)\nintent.putExtra(SessionConstants.GO_ACCOUNT_TYPE, accountType)\nintent.putExtra(SessionConstants.GO_AUTH_TOKEN_TYPE, authTokenType)\nintent.putExtra(SessionConstants.GO_IS_ADDING_NEW_ACCOUNT, true)\n\nintent.putExtra(AccountManager.KEY_ACCOUNT_AUTHENTICATOR_RESPONSE, response)\nbundle.putParcelable(AccountManager.KEY_INTENT, intent)\nreturn bundle\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 546, "user_id": 10030693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZIG43NDeCwE/AAAAAAAAAAI/AAAAAAAAAVc/QImMCtmMqy8/photo.jpg?sz=128", "display_name": "Gilboot", "link": "https://stackoverflow.com/users/10030693/gilboot"}, "is_accepted": false, "score": 0, "last_activity_date": 1589065181, "creation_date": 1589065181, "answer_id": 61704923, "question_id": 34254308, "link": "https://stackoverflow.com/questions/34254308/illegalargumentexception-addaccount-not-supported/61704923#61704923", "title": "IllegalArgumentException: addAccount not supported", "body": "<p>You can leave out the network exception. But the parameters need to be nullable</p>\n"}], "owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 1, "accepted_answer_id": 34270129, "answer_count": 3, "score": 8, "last_activity_date": 1589065181, "creation_date": 1450029153, "last_edit_date": 1450055405, "question_id": 34254308, "link": "https://stackoverflow.com/questions/34254308/illegalargumentexception-addaccount-not-supported", "title": "IllegalArgumentException: addAccount not supported", "body": "<p>I followed this <a href=\"http://developer.android.com/training/sync-adapters/index.html\" rel=\"noreferrer\">description</a> to add my sync adapter.</p>\n\n<p>But there is a litte bug :-(</p>\n\n<p>When I open Settings -> Account -> Add account and select my account I get this error message</p>\n\n<pre><code>java.lang.IllegalArgumentException: addAccount not supported\n    at android.accounts.AccountManager.convertErrorToException(AccountManager.java:2147)\n    at android.accounts.AccountManager.-wrap0(AccountManager.java)\n    at android.accounts.AccountManager$AmsTask$Response.onError(AccountManager.java:1993)\n    at android.accounts.IAccountManagerResponse$Stub.onTransact(IAccountManagerResponse.java:69)\n    at android.os.Binder.execTransact(Binder.java:453)\n</code></pre>\n\n<p>It looks that this crash comes from converting the <a href=\"http://developer.android.com/training/sync-adapters/creating-authenticator.html#CreateAuthenticator\" rel=\"noreferrer\">Authenticator</a> Java class to a Kotlin class.</p>\n\n<p>The Java class locks like this</p>\n\n<pre><code>public class Authenticator extends AbstractAccountAuthenticator {\n\n    private final Context mContext;\n\n    // Simple constructor\n    public Authenticator(Context context) {\n\n        super(context);\n        mContext = context;\n    }\n\n    // Editing properties is not supported\n    @Override\n    public Bundle editProperties(AccountAuthenticatorResponse response,\n                                 String accountType) {\n\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public Bundle addAccount(AccountAuthenticatorResponse response, String accountType,\n                             String authTokenType, String[] requiredFeatures, Bundle options)\n            throws NetworkErrorException {\n\n        SyncUtilsKt.createSyncAccount(mContext);\n\n        final Bundle bundle = new Bundle();\n        bundle.putString(AccountManager.KEY_ACCOUNT_NAME, ConstantsKt.SYNC_ACCOUNT);\n        bundle.putString(AccountManager.KEY_ACCOUNT_TYPE, BuildConfig.ACCOUNT_TYPE);\n\n        return bundle;\n    }\n\n    // Ignore attempts to confirm credentials\n    @Override\n    public Bundle confirmCredentials(AccountAuthenticatorResponse response,\n                                     Account account, Bundle options)\n            throws NetworkErrorException {\n\n        return null;\n    }\n\n    // Getting an authentication token is not supported\n    @Override\n    public Bundle getAuthToken(AccountAuthenticatorResponse response,\n                               Account account, String authTokenType, Bundle options)\n            throws NetworkErrorException {\n\n        throw new UnsupportedOperationException();\n    }\n\n    // Getting a label for the auth token is not supported\n    @Override\n    public String getAuthTokenLabel(String authTokenType) {\n\n        throw new UnsupportedOperationException();\n    }\n\n    // Updating user credentials is not supported\n    @Override\n    public Bundle updateCredentials(AccountAuthenticatorResponse response,\n                                    Account account, String authTokenType, Bundle options) throws NetworkErrorException {\n\n        throw new UnsupportedOperationException();\n    }\n\n    // Checking features for the account is not supported\n    @Override\n    public Bundle hasFeatures(AccountAuthenticatorResponse response,\n                              Account account, String[] features) throws NetworkErrorException {\n\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n\n<p>After converting it to Kotlin it locks like this:</p>\n\n<pre><code>class Authenticator(private val mContext: Context) : AbstractAccountAuthenticator(mContext) {\n\n    // Editing properties is not supported\n    override fun editProperties(response: AccountAuthenticatorResponse,\n                                accountType: String): Bundle {\n\n        throw UnsupportedOperationException()\n    }\n\n    @Throws(NetworkErrorException::class)\n    override fun addAccount(response: AccountAuthenticatorResponse, accountType: String,\n                            authTokenType: String, requiredFeatures: Array&lt;String&gt;, options: Bundle): Bundle {\n\n        createSyncAccount(mContext)\n\n        val bundle = Bundle()\n        bundle.putString(AccountManager.KEY_ACCOUNT_NAME, SYNC_ACCOUNT)\n        bundle.putString(AccountManager.KEY_ACCOUNT_TYPE, BuildConfig.ACCOUNT_TYPE)\n\n        return bundle\n    }\n\n    // Ignore attempts to confirm credentials\n    @Throws(NetworkErrorException::class)\n    override fun confirmCredentials(response: AccountAuthenticatorResponse,\n                                    account: Account, options: Bundle): Bundle? {\n\n        return null\n    }\n\n    // Getting an authentication token is not supported\n    @Throws(NetworkErrorException::class)\n    override fun getAuthToken(response: AccountAuthenticatorResponse,\n                              account: Account, authTokenType: String, options: Bundle): Bundle {\n\n        throw UnsupportedOperationException()\n    }\n\n    // Getting a label for the auth token is not supported\n    override fun getAuthTokenLabel(authTokenType: String): String {\n\n        throw UnsupportedOperationException()\n    }\n\n    // Updating user credentials is not supported\n    @Throws(NetworkErrorException::class)\n    override fun updateCredentials(response: AccountAuthenticatorResponse,\n                                   account: Account, authTokenType: String, options: Bundle): Bundle {\n\n        throw UnsupportedOperationException()\n    }\n\n    // Checking features for the account is not supported\n    @Throws(NetworkErrorException::class)\n    override fun hasFeatures(response: AccountAuthenticatorResponse,\n                             account: Account, features: Array&lt;String&gt;): Bundle {\n\n        throw UnsupportedOperationException()\n    }\n}\n</code></pre>\n\n<p>I think there is something was wrong converted but what?</p>\n"}, {"tags": ["android", "constructor", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1449993816, "post_id": 34248993, "comment_id": 56239710, "body": "Hey, i am talking about Kotlin. What you are talking about to?"}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1449994815, "post_id": 34248993, "comment_id": 56239924, "body": "I think you&#39;re getting his &quot;overriding <code>onCreate</code>&quot; confused with declaring a constructor"}, {"owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "edited": false, "score": 1, "creation_date": 1449995256, "post_id": 34248993, "comment_id": 56240014, "body": "Then I have no idea what he is asking. The reason the auto complete is adding in the <code>override onCreate</code> is because it saw he had an error in his constructor and decided to over eagerly add in an onCreate override."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451176953, "post_id": 34248993, "comment_id": 56694933, "body": "Correct, the onCreate is unrelated."}], "tags": [], "owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "is_accepted": false, "score": 8, "last_activity_date": 1449994318, "last_edit_date": 1449994318, "creation_date": 1449992433, "answer_id": 34248993, "question_id": 34248490, "link": "https://stackoverflow.com/questions/34248490/this-type-has-a-constructor-and-must-be-initialized-here-kotlin/34248993#34248993", "title": "This type has a constructor and must be initialized here - Kotlin", "body": "<p>You don't need</p>\n\n<pre><code>class SomeApp : Application() {\n   constructor SomeApp(){\n      super();\n    }\n}\n</code></pre>\n\n<p>because this is equivalent. And if the class has a primary constructor, the base type can (and must) be initialized right there, using the parameters of the primary constructor.</p>\n\n<pre><code>class SomeApp : Application() {\n}\n</code></pre>\n\n<p>which is also equivalent in java to</p>\n\n<pre><code>class SomeApp extends Application {\n     public SomeApp(){\n       super();\n     }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450017280, "post_id": 34249613, "comment_id": 56245959, "body": "What you mean? That &#39;s all there is to it"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450023142, "post_id": 34249613, "comment_id": 56247933, "body": "@KrupalShah I edited the answer. Is it what you were asking about?"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 1, "creation_date": 1450028944, "post_id": 34249613, "comment_id": 56250101, "body": "So to my understand, there is no implicit empty constructor. Am i right?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450029096, "post_id": 34249613, "comment_id": 56250147, "body": "@KrupalShah There is an implicit empty constructor if nothing else is specified, but you have to invoke it explicitly"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450029272, "post_id": 34249613, "comment_id": 56250206, "body": "So if an implicit empty constructor exists, why do i need to explicitly say compiler? This looks too weird to me. If you can explain better than please help."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 1, "creation_date": 1450029461, "post_id": 34249613, "comment_id": 56250277, "body": "That&#39;s simple: not like constructor declaration, constructor <b>invocation</b> is an action, which may have side effects. And no side effects might be implicit, that&#39;s the philosophy behind Kotlin"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450029573, "post_id": 34249613, "comment_id": 56250306, "body": "Actually, I personally not that sure that implicit constructor was such a great idea. You are not the first to get confused, and maybe that&#39;s a sign."}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450029700, "post_id": 34249613, "comment_id": 56250353, "body": "Ok thank you very much for helping. One last question: in java I extend Application class, it works well"}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1450029774, "post_id": 34249613, "comment_id": 56250380, "body": "@KrupalShah You mean explicit? There is an <a href=\"http://developer.android.com/reference/android/app/Application.html#Application()\" rel=\"nofollow noreferrer\">explicit public nullary constructor in the Application class.</a>"}, {"owner": {"reputation": 154, "user_id": 5090950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207297425102241/picture?type=large", "display_name": "Donki", "link": "https://stackoverflow.com/users/5090950/donki"}, "edited": false, "score": 0, "creation_date": 1587112874, "post_id": 34249613, "comment_id": 108385533, "body": "@voddan how would I initialize a private constructor"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 56, "last_activity_date": 1514447647, "last_edit_date": 1514447647, "creation_date": 1449998476, "answer_id": 34249613, "question_id": 34248490, "link": "https://stackoverflow.com/questions/34248490/this-type-has-a-constructor-and-must-be-initialized-here-kotlin/34249613#34249613", "title": "This type has a constructor and must be initialized here - Kotlin", "body": "<p>This is not about primary/secondary constructors.</p>\n\n<p>On JVM (and pretty much anywhere else) a constructor of the base class <code>Application</code> is called when you create an instance of <code>SomeApp</code></p>\n\n<p>In Java the syntax is like you said:</p>\n\n<pre><code>class SomeApp : Application {\n    constructor SomeApp(){\n      super();\n    }\n}\n</code></pre>\n\n<p>Here you <strong>must</strong> declare a <code>constructor</code>, and then you <strong>must</strong> call a constructor of the super class.</p>\n\n<p>In Kotlin the concept is <strong>exactly</strong> the same, but the syntax is nicer:</p>\n\n<pre><code>class SomeApp() : Application() {\n    ...\n}\n</code></pre>\n\n<p>Here you declare a constructor <code>SomeApp()</code> without parameters, and say that it calls <code>Application()</code>, without parameters in that case. Here <code>Application()</code> has exact the same effect as <code>super()</code> in the java snippet.</p>\n\n<p>And in some cases some brackets may be omitted:</p>\n\n<pre><code>class SomeApp : Application()\n</code></pre>\n\n<p>The text of the error says: <code>This type has a constructor, and thus must be initialized here</code>. That means that type <code>Application</code> is a class, not an interface. Interfaces don't have constructors, so the syntax for them does not include a constructor invocation (brackets): <code>class A : CharSequence {...}</code>. But <code>Application</code> is a class, so you invoke a constructor (any, if there are several), or \"initialize it here\".</p>\n"}], "owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17080, "favorite_count": 6, "accepted_answer_id": 34249613, "answer_count": 2, "score": 42, "last_activity_date": 1514447647, "creation_date": 1449987028, "last_edit_date": 1450039734, "question_id": 34248490, "link": "https://stackoverflow.com/questions/34248490/this-type-has-a-constructor-and-must-be-initialized-here-kotlin", "title": "This type has a constructor and must be initialized here - Kotlin", "body": "<p>I just get started experimenting Android app using <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">Kotlin</a>. I just wanted to inherit <a href=\"http://developer.android.com/reference/android/app/Application.html\" rel=\"noreferrer\">Application</a> class like this:</p>\n\n<pre><code>class SomeApp : Application {\n\n}\n</code></pre>\n\n<p>But the compiler raises the warning:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tY8C7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tY8C7.png\" alt=\"enter image description here\"></a></p>\n\n<p>and suggestion changes it to:</p>\n\n<pre><code>class SomeApp : Application() {\n    override fun onCreate() {\n        super.onCreate()\n    }\n}\n</code></pre>\n\n<p>I read about <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">primary and secondary constructors in the docs</a>. So if super class has a primary constructor, then is it necessary to write here? like Application class has its own constructor </p>\n\n<pre><code>public Application() {\n    super(null);\n}\n</code></pre>\n\n<p>then it would be necessary to have primary constructor for derived? or  Can't I do something like Java way:</p>\n\n<pre><code>class SomeApp : Application {\n   constructor SomeApp(){\n      super();\n    }\n}\n</code></pre>\n\n<p>or this error suggests something else? Can anyone explain me in detail? I'm very new to the language and this looks weird to me.</p>\n\n<p>Edit: In java I can do the following: <code>class SomeApp extends Application{ }</code></p>\n\n<p>It has implicit constructor, so I do not have to write: <code>class SomeApp extends Application{ public Application(){ super(); } }</code> But in kotlin do I have to define empty constructor like the following:\n<code>class SomeApp:Application(){ }</code>\n?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 6, "creation_date": 1450341283, "post_id": 34248483, "comment_id": 56401314, "body": "I think, there has been some miscommunication here. There&#39;s no such policy as not to use monads anywhere. Some monad-like constructs, such as safe calls for nullable types, are built into the language. We do not support comprehensions at the moment, but this feature is on the table."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1450345866, "post_id": 34248483, "comment_id": 56404319, "body": "As @AndreyBreslav noted, Kotlin does use monadic constructions where it makes sense. What I said in my answer is that there is no goal to use monads in <b>every</b> single language concept"}], "answers": [{"tags": [], "owner": {"reputation": 3283, "user_id": 6659843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b95a817680aa4f8c4f016692c22495?s=128&d=identicon&r=PG&f=1", "display_name": "user1414213562", "link": "https://stackoverflow.com/users/6659843/user1414213562"}, "is_accepted": false, "score": 6, "last_activity_date": 1505852599, "last_edit_date": 1505852599, "creation_date": 1476463878, "answer_id": 40048294, "question_id": 34248483, "link": "https://stackoverflow.com/questions/34248483/does-kotlin-support-monadic-comprehension/40048294#40048294", "title": "Does Kotlin support monadic comprehension?", "body": "<p>In the preview version of Kotlin 1.1 there's universal <code>async</code>/<code>await</code> syntax which can be used for different kinds of monadic comprehensions:</p>\n\n<blockquote>\n  <p>Many languages (starting with C# in 2012) support asynchronous\n  programming through dedicated language constructs such as async/await\n  keywords. In Kotlin, we generalized this concept so that libraries can\n  define their own versions of such constructs, and async is not a\n  keyword, but simply a function.</p>\n  \n  <p>This design allows for integration of different asynchronous APIs:\n  futures/promises, callback-passing, etc. It is also general enough to\n  express lazy generators (yield) and cover some other use cases.</p>\n</blockquote>\n\n<p><sup><a href=\"https://blog.jetbrains.com/kotlin/2016/07/first-glimpse-of-kotlin-1-1-coroutines-type-aliases-and-more/\" rel=\"nofollow noreferrer\">source</a></sup></p>\n"}, {"tags": [], "owner": {"reputation": 653, "user_id": 1001248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9vU5u.jpg?s=128&g=1", "display_name": "fdelsert", "link": "https://stackoverflow.com/users/1001248/fdelsert"}, "is_accepted": true, "score": 3, "last_activity_date": 1562233878, "creation_date": 1562233878, "answer_id": 56885266, "question_id": 34248483, "link": "https://stackoverflow.com/questions/34248483/does-kotlin-support-monadic-comprehension/56885266#56885266", "title": "Does Kotlin support monadic comprehension?", "body": "<p>There is no special keyword (do/for) and so no direct translation to nested flatMap (desugaring) like in other languages. </p>\n\n<p>But monadic comprehension can be implemented with coroutines.</p>\n\n<p>From Arrow documentation : <a href=\"https://arrow-kt.io/docs/patterns/monad_comprehensions/#comprehensions-over-coroutines\" rel=\"nofollow noreferrer\">https://arrow-kt.io/docs/patterns/monad_comprehensions/#comprehensions-over-coroutines</a></p>\n\n<blockquote>\n  <p>Comprehensions over coroutines</p>\n  \n  <p>This feature is known with multiple names: async/await, coroutines, do\n  notation, for comprehensions\u2026each version contains certain unique\n  points but all derive from the same principles. In Kotlin, coroutines\n  (introduced in version 1.1 of the language) make the compiler capable\n  of rewriting seemingly synchronous code into asynchronous sequences.\n  Arrow uses this capability of the compiler to bring you\n  coroutines-like notation to all instances of the Monad typeclass.</p>\n  \n  <p>This means that comprehensions are available for Option, Try, List,\n  Reader, Observable, Flux or IO all the same.</p>\n</blockquote>\n\n<p>For coroutines, see also \"Deep dive into Coroutines on JVM @ KotlinConf 2017\" :  <a href=\"https://www.slideshare.net/elizarov/deep-dive-into-coroutines-on-jvm-kotlinconf-2017?next_slideshow=1\" rel=\"nofollow noreferrer\">https://www.slideshare.net/elizarov/deep-dive-into-coroutines-on-jvm-kotlinconf-2017?next_slideshow=1</a></p>\n"}], "owner": {"reputation": 711, "user_id": 4033886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1187066202/picture?type=large", "display_name": "Winter Young", "link": "https://stackoverflow.com/users/4033886/winter-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4992, "favorite_count": 1, "accepted_answer_id": 56885266, "answer_count": 2, "score": 16, "last_activity_date": 1567043687, "creation_date": 1449986953, "last_edit_date": 1567043687, "question_id": 34248483, "link": "https://stackoverflow.com/questions/34248483/does-kotlin-support-monadic-comprehension", "title": "Does Kotlin support monadic comprehension?", "body": "<p>Like LINQ in C#, for comprehension in Scala, anything similar in Kotlin? If not supported, is it planned?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "is_accepted": true, "score": 8, "last_activity_date": 1449962895, "creation_date": 1449962895, "answer_id": 34246223, "question_id": 34245895, "link": "https://stackoverflow.com/questions/34245895/kotlin-direct-access-to-button-in-android-support-v4-app-fragment-null-object-re/34246223#34246223", "title": "Kotlin direct access to Button in android.support.v4.app.Fragment null object reference", "body": "<p>Here you have two options:</p>\n\n<ol>\n<li><p>Access <code>batteryInstallationButton</code> from <code>onActivityCreated</code> where the view will be already inflated and it will find the button.</p></li>\n<li><p>Use:</p></li>\n</ol>\n\n<blockquote>\n  <p>import kotlinx.android.synthetic.main.fragment_home.view.*</p>\n</blockquote>\n\n<p>see the <code>.view</code> that I added to the synthetic and use it directly from the view that you already inflated:</p>\n\n<pre><code>val rootView = inflater!!.inflate(R.layout.fragment_home, container, false)\n\nrootView.batteryInstallationButton?.setOnClickListener.....\n</code></pre>\n\n<p>Please let me know if this fix your issue. Regards!</p>\n"}], "owner": {"reputation": 1793, "user_id": 3388716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/97PrI.jpg?s=128&g=1", "display_name": "Sloganho", "link": "https://stackoverflow.com/users/3388716/sloganho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2556, "favorite_count": 1, "accepted_answer_id": 34246223, "answer_count": 1, "score": 2, "last_activity_date": 1449962895, "creation_date": 1449960368, "question_id": 34245895, "link": "https://stackoverflow.com/questions/34245895/kotlin-direct-access-to-button-in-android-support-v4-app-fragment-null-object-re", "title": "Kotlin direct access to Button in android.support.v4.app.Fragment null object reference", "body": "<p>I'm trying to get direct access to a button in a fragment (android.support.v4) and this is what it's throwing:  </p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.view.View.findViewById(int)' on a null object reference\nat             \ncom.....fragments.HomeFragment._$_findCachedViewById(HomeFragment.kt)\nat \ncom.....fragments.HomeFragment.onCreateView(HomeFragment.kt:25)\n</code></pre>\n\n<p>This is the button I'm trying to get access to in fragment_home.xml:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/batteryInstallationButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/battery_installation\"\n    android:layout_weight=\"1\"\n    android:textSize=\"12sp\"\n    android:background=\"@drawable/custom_button\"\n    android:textColor=\"@color/white\"\n    android:layout_marginStart=\"5dp\"\n    android:layout_marginEnd=\"5dp\"/&gt;\n</code></pre>\n\n<p>This is the Kotlin code in HomeFragment.kt</p>\n\n<pre><code>import android.content.Context\nimport android.net.Uri\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Toast\n\nimport kotlinx.android.synthetic.main.fragment_home.*\n\nclass HomeFragment : Fragment() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    val rootView = inflater!!.inflate(R.layout.fragment_home, container, false)\n\n    batteryInstallationButton?.setOnClickListener {\n        Toast.makeText(context, \"ehere\", Toast.LENGTH_SHORT).show();\n    }\n\n    return rootView\n}\n\ncompanion object {\n\n    fun newInstance(): HomeFragment {\n        val fragment = HomeFragment()\n        return fragment\n    }\n}\n\n}\n</code></pre>\n\n<p>Anyone know why I can't get the direct access to the Button?</p>\n"}, {"tags": ["serialization", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 1749411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bff2595f8256bd8401392090d4f493a?s=128&d=identicon&r=PG", "display_name": "Pavel \u010cernock&#253;", "link": "https://stackoverflow.com/users/1749411/pavel-%c4%8cernock%c3%bd"}, "edited": false, "score": 6, "creation_date": 1520263711, "post_id": 34242012, "comment_id": 85232631, "body": "It&#39;s not <code>serialVersionUid</code> but <code>serialVersionUID</code>. Better answer: <a href=\"https://stackoverflow.com/a/39539809/1749411\">stackoverflow.com/a/39539809/1749411</a>"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 8, "last_activity_date": 1449936676, "creation_date": 1449936676, "answer_id": 34242012, "question_id": 34241816, "link": "https://stackoverflow.com/questions/34241816/how-to-generate-serialversionuid-for-kotlin-exceptions/34242012#34242012", "title": "How to generate serialVersionUID for kotlin exceptions?", "body": "<p>Yes, you can declare it in the companion object. <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods-and-fields\" rel=\"noreferrer\">The doc</a> says:</p>\n\n<blockquote>\n  <p>Also, public properties defined in objects and companion objects, as well as top-level properties annotated with const, are turned into static fields in Java</p>\n</blockquote>\n\n<p>But that seems to be the case with private properties too:</p>\n\n<pre><code>class MyException: Exception() {\n    companion object {\n        private val serialVersionUid: Long = 1\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>javap -c -p com.ninja_squad.kotlindiscovery.MyException.class</p>\n</blockquote>\n\n<pre><code>Compiled from \"MyException.kt\"\npublic final class com.ninja_squad.kotlindiscovery.MyException extends java.lang.Exception {\n  private static final long serialVersionUid;\n\n  public static final com.ninja_squad.kotlindiscovery.MyException$Companion Companion;\n\n  static {};\n    Code:\n       0: getstatic     #38                 // Field com/ninja_squad/kotlindiscovery/MyException$Companion.INSTANCE:Lcom/ninja_squad/kotlindiscovery/MyException$Companion;\n       3: putstatic     #40                 // Field Companion:Lcom/ninja_squad/kotlindiscovery/MyException$Companion;\n       6: lconst_1      \n       7: putstatic     #21                 // Field serialVersionUid:J\n      10: return        \n\n  public com.ninja_squad.kotlindiscovery.MyException();\n    Code:\n       0: aload_0       \n       1: invokespecial #15                 // Method java/lang/Exception.\"&lt;init&gt;\":()V\n       4: return        \n\n  public static final long access$getSerialVersionUid$cp();\n    Code:\n       0: getstatic     #21                 // Field serialVersionUid:J\n       3: lreturn       \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1474310228, "post_id": 39539809, "comment_id": 66469688, "body": "<code>@JvmStatic</code> has effect on methods only (namely getter and setter of a property) and not on fields. <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1474326186, "post_id": 39539809, "comment_id": 66476616, "body": "Yep, was just noting the different methods and what happens when you use them.  side effect of causing getter/setters, and where those end up."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1474326309, "post_id": 39539809, "comment_id": 66476651, "body": "I added more clarity around that topic."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1474329118, "post_id": 39539809, "comment_id": 66477395, "body": "I mean it&#39;s no matter whether <code>@JvmStatic</code> present or not, to have the field generated, so it&#39;s completely unrelated to the question."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1474330930, "post_id": 39539809, "comment_id": 66477755, "body": "It is a common answer people have given for this problem and I list it under those that have a side effect and what that side effect is, so maybe people will understand they don&#39;t need the other version.  If i omit the other version and don&#39;t say why, they may continue to use it for no reason."}, {"owner": {"reputation": 6712, "user_id": 3212266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KFjJB.jpg?s=128&g=1", "display_name": "Juan Saravia", "link": "https://stackoverflow.com/users/3212266/juan-saravia"}, "edited": false, "score": 0, "creation_date": 1531316880, "post_id": 39539809, "comment_id": 89551829, "body": "You can remove the type and just add the &quot;L&quot; at the number like this: <code>private const val serialVersionUID = 123L</code>"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 16, "last_activity_date": 1506356367, "last_edit_date": 1506356367, "creation_date": 1474058588, "answer_id": 39539809, "question_id": 34241816, "link": "https://stackoverflow.com/questions/34241816/how-to-generate-serialversionuid-for-kotlin-exceptions/39539809#39539809", "title": "How to generate serialVersionUID for kotlin exceptions?", "body": "<p>To create the <code>serialVersionUID</code> for a class in Kotlin you have a few options all involving adding a member to the companion object of the class.  </p>\n\n<p><strong>The most concise bytecode</strong> comes from a <code>private const val</code> which will become a private static variable on the containing class, in this case <code>MySpecialCase</code>:</p>\n\n<pre><code>class MySpecialCase : Serializable {\n    companion object {\n        private const val serialVersionUID: Long = 123\n    }\n}\n</code></pre>\n\n<p>You can also use these forms, <strong>each with a side effect of having getter/setter methods</strong> which are not necessary for serialization...</p>\n\n<pre><code>class MySpecialCase : Serializable {\n    companion object {\n        private val serialVersionUID: Long = 123\n    }\n}\n</code></pre>\n\n<p>This creates the static field but also creates a getter as well <code>getSerialVersionUID</code> on the companion object which is unnecessary.</p>\n\n<pre><code>class MySpecialCase : Serializable {\n    companion object {\n        @JvmStatic private val serialVersionUID: Long = 123\n    }\n}  \n</code></pre>\n\n<p>This creates the static field but also creates a static getter as well <code>getSerialVersionUID</code> on the containing class <code>MySpecialCase</code> which is unnecessary.</p>\n\n<p>But all work as a method of adding the <code>serialVersionUID</code> to a <code>Serializable</code> class.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9454607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxwRS.jpg?s=128&g=1", "display_name": "Scott Smith", "link": "https://stackoverflow.com/users/9454607/scott-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1576337022, "creation_date": 1576337022, "answer_id": 59336438, "question_id": 34241816, "link": "https://stackoverflow.com/questions/34241816/how-to-generate-serialversionuid-for-kotlin-exceptions/59336438#59336438", "title": "How to generate serialVersionUID for kotlin exceptions?", "body": "<p>You can use this plugin <a href=\"https://plugins.jetbrains.com/plugin/13497-generateserialversionuid\" rel=\"nofollow noreferrer\">GenerateSerialVersionUID</a> to automatically generate the serialVersionUID field. </p>\n\n<p>Since Kotlin language does not support static, you need to use the const decoration in the generated companion object (of course, it is also possible to use the <code>@JvmField</code> annotation).</p>\n"}], "owner": {"reputation": 711, "user_id": 4033886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1187066202/picture?type=large", "display_name": "Winter Young", "link": "https://stackoverflow.com/users/4033886/winter-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6498, "favorite_count": 5, "accepted_answer_id": 34242012, "answer_count": 3, "score": 10, "last_activity_date": 1576337022, "creation_date": 1449935587, "last_edit_date": 1550918658, "question_id": 34241816, "link": "https://stackoverflow.com/questions/34241816/how-to-generate-serialversionuid-for-kotlin-exceptions", "title": "How to generate serialVersionUID for kotlin exceptions?", "body": "<p>As kotlin doesn't have static fields, should I define <code>serialVersionUID</code> in companion object? </p>\n"}, {"tags": ["html", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 0, "last_activity_date": 1449924422, "creation_date": 1449924422, "answer_id": 34240006, "question_id": 34238127, "link": "https://stackoverflow.com/questions/34238127/write-raw-html-code-inside-kotlinx-html-dsl/34240006#34240006", "title": "Write raw html code inside kotlinx.html DSL", "body": "<p>Anything inside <code>appendHTML</code> will be encoded. If you want to append raw text you can use <code>appendln</code>.</p>\n\n<p>Example from <a href=\"https://github.com/kotlin/kotlinx.html/wiki/Streaming\" rel=\"nofollow\">Streaming \u00b7 Kotlin/kotlinx.html Wiki \u00b7 GitHub</a>:</p>\n\n<pre><code>val text = StringBuilder {\n    appendln(\"&lt;!DOCTYPE html&gt;\")\n    appendHTML().html {\n        body {\n            a(\"http://kotlinlang.org\") { +\"link\" }\n        }\n    }\n    appendln()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1450223244, "last_edit_date": 1450223244, "creation_date": 1449954336, "answer_id": 34244975, "question_id": 34238127, "link": "https://stackoverflow.com/questions/34238127/write-raw-html-code-inside-kotlinx-html-dsl/34244975#34244975", "title": "Write raw html code inside kotlinx.html DSL", "body": "<p>A (limited) solution would be to hack the DSL and use <code>onTagContentUnsafe</code>:</p>\n\n<pre><code>this.consumer.onTagContentUnsafe { +\"hello\"}\n</code></pre>\n\n<p>Every <code>Tag</code> has a property <code>consumer</code>. This is an object that actually deals with the DOM. In case of HTML generation this object is <code>HTMLStreamBuilder</code>. It has a method <code>onTagContentUnsafe</code> which gives you the access to the stream builder.</p>\n\n<p>I use a helper function:</p>\n\n<pre><code>fun Tag.rawHtml(html: String) {\n    assert(this.consumer is HTMLStreamBuilder)\n    this.consumer.onTagContentUnsafe { +\"$html\\n\"}\n}\n</code></pre>\n\n<p>As @orangy pointed out, this solution works for code generation, but you can't use it for creating JVM DOM, etc. For that there is a ticket: <a href=\"https://github.com/Kotlin/kotlinx.html/issues/8\" rel=\"nofollow\">https://github.com/Kotlin/kotlinx.html/issues/8</a> </p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 7740507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xmtV3D-1yv8/AAAAAAAAAAI/AAAAAAAAAHY/YnRHe1m32wE/photo.jpg?sz=128", "display_name": "Mathias Parger", "link": "https://stackoverflow.com/users/7740507/mathias-parger"}, "is_accepted": true, "score": 14, "last_activity_date": 1490020569, "creation_date": 1490020569, "answer_id": 42906388, "question_id": 34238127, "link": "https://stackoverflow.com/questions/34238127/write-raw-html-code-inside-kotlinx-html-dsl/42906388#42906388", "title": "Write raw html code inside kotlinx.html DSL", "body": "<p>Simply use <code>unsafe</code> inside your tag to prevent HTML encoding.</p>\n\n<pre><code>body {\n    unsafe {\n       +\"\"\"&lt;form class=\"formClass\"/&gt;\"\"\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2711, "favorite_count": 0, "accepted_answer_id": 42906388, "answer_count": 3, "score": 7, "last_activity_date": 1490020569, "creation_date": 1449911127, "question_id": 34238127, "link": "https://stackoverflow.com/questions/34238127/write-raw-html-code-inside-kotlinx-html-dsl", "title": "Write raw html code inside kotlinx.html DSL", "body": "<p>I am using Kotlin's html library <code>kotlinx.html</code> for dynamic html building.</p>\n\n<p>For debugging proposes I want to write a tag as a raw html. But I can't find any method that would do it. Simple text addition replaces characters like <code>&lt;</code> to their codes, so it does not help:</p>\n\n<pre><code>StringBuilder().appendHTML().html {\n    body {\n        +\"\"\"\n        &lt;form action=\"http://courier-voddan.rhcloud.com/customer/new_task\" method=\"get\"&gt;\n            get=form\n            id=3333\n            &lt;button type=\"submit\"&gt;ok&lt;/button&gt;\n        &lt;/form&gt;\n        \"\"\".trimIndent()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "java-8", "compatibility", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 6, "creation_date": 1449855954, "post_id": 34228786, "comment_id": 56202863, "body": "See the subtasks of <a href=\"https://youtrack.jetbrains.com/issue/KT-4778\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-4778</a>"}, {"owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1449857018, "post_id": 34228786, "comment_id": 56203376, "body": "@JBNizet Thanks, your link is very good. I think I&#39;ll convert it to a community answer."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451049332, "post_id": 34228786, "comment_id": 56668068, "body": "This question will always be out of date, the community wiki answer below (and the comment above) are the best places to track this."}], "answers": [{"tags": [], "owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "is_accepted": true, "score": 9, "last_activity_date": 1505852676, "last_edit_date": 1505852676, "creation_date": 1449857118, "answer_id": 34229812, "question_id": 34228786, "link": "https://stackoverflow.com/questions/34228786/kotlin-what-features-of-java-8-are-not-yet-supported/34229812#34229812", "title": "Kotlin: What features of Java 8 are not yet supported?", "body": "<p>Known Java 8 interoperability issues are tracked as subtasks of <a href=\"http://youtrack.jetbrains.com/issue/KT-4778\" rel=\"nofollow noreferrer\">this issue</a></p>\n"}, {"comments": [{"owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "edited": false, "score": 0, "creation_date": 1450035073, "post_id": 34253390, "comment_id": 56252266, "body": "Yes, I just noticed that Map is not java.util.Map. However, if I change my example to java.util.Map, it still fails to compile. I posted it as a separate question: <a href=\"http://stackoverflow.com/q/34255329/783510\">stackoverflow.com/q/34255329/783510</a>"}], "tags": [], "owner": {"reputation": 5827, "user_id": 2235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6ccf1c11e604279c6cfafd490b724f2?s=128&d=identicon&r=PG", "display_name": "user2235698", "link": "https://stackoverflow.com/users/2235698/user2235698"}, "is_accepted": false, "score": 3, "last_activity_date": 1505852733, "last_edit_date": 1505852733, "creation_date": 1450024142, "answer_id": 34253390, "question_id": 34228786, "link": "https://stackoverflow.com/questions/34228786/kotlin-what-features-of-java-8-are-not-yet-supported/34253390#34253390", "title": "Kotlin: What features of Java 8 are not yet supported?", "body": "<p><code>Map</code> is <strong>immutable</strong> and <code>HashMap</code> is <strong>mutable</strong> in Kotlin, that's why you can't put key-value pair in the first case.</p>\n\n<p><a href=\"https://stackoverflow.com/a/33732403/2235698\">More details</a></p>\n"}], "owner": {"reputation": 32156, "user_id": 783510, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fgbAM.png?s=128&g=1", "display_name": "Philipp Cla&#223;en", "link": "https://stackoverflow.com/users/783510/philipp-cla%c3%9fen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 2, "accepted_answer_id": 34229812, "answer_count": 2, "score": 9, "last_activity_date": 1505852733, "creation_date": 1449853439, "last_edit_date": 1592644375, "question_id": 34228786, "link": "https://stackoverflow.com/questions/34228786/kotlin-what-features-of-java-8-are-not-yet-supported", "title": "Kotlin: What features of Java 8 are not yet supported?", "body": "<p>Is there an up-to-date overview of Java 8 features, which are not yet supported in Kotlin?</p>\n<hr />\n<p>For example, calling a default method like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putIfAbsent-K-V-\" rel=\"noreferrer\">Map#putIfAbsent</a> fails to compile (unsupported reference error):</p>\n<pre><code>import java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n    val x : Map&lt;Int, Int&gt; = HashMap&lt;Int, Int&gt;()\n    x.putIfAbsent(1, 2)\n}\n</code></pre>\n<p>If the default method is overridden, it works:</p>\n<pre><code>import java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n    val x : HashMap&lt;Int, Int&gt; = HashMap&lt;Int, Int&gt;()\n    x.putIfAbsent(1, 2)\n}\n</code></pre>\n<p>That is what I found out by experiments, but for deciding whether migrating from a Java 8 code basis to Kotlin is already possible, a systematic overview would be valuable.</p>\n<hr />\n<p><strong>Update:</strong> The code in my example was created by the &quot;Java to Kotlin&quot; converter. As user2235698 pointed out, <code>Map&lt;Int, Int&gt;</code> is a immutable Kotlin map. Still, the example fails to compile when I change it to a <code>java.util.Map</code> map. My claim that it has to do something with default methods, however, is misleading.</p>\n<p>As it is beyond the scope of this question, I opened a follow-up question, here: <a href=\"https://stackoverflow.com/q/34255329/783510\">Does java.util.HashMap not implement java.util.Map in Kotlin?</a></p>\n"}, {"tags": ["android", "kotlin", "google-fit", "google-fit-sdk"], "answers": [{"tags": [], "owner": {"reputation": 10836, "user_id": 341091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77cb2312d5b3b6dcc793510e59226e9d?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/341091/martin"}, "is_accepted": true, "score": 2, "last_activity_date": 1449847269, "creation_date": 1449847269, "answer_id": 34226839, "question_id": 34221277, "link": "https://stackoverflow.com/questions/34221277/how-to-add-multiple-historic-data-to-googlefit/34226839#34226839", "title": "How to add multiple historic data to GoogleFit", "body": "<p>Answering my own questing again: You need to use a <code>com.google.android.gms.fitness.data.Session</code> and <code>com.google.android.gms.fitness.request.SessionInsertRequest</code> to combine the data and then add them with <code>com.google.android.gms.fitness.Fitness.SessionsApi.insertSession</code>.</p>\n\n<p>A rather complex work but you can find a working version in <a href=\"https://github.com/krischik/Fit-Import/blob/master/app/src/main/kotlin/com.krischik/fit_import/GoogleFIT.kt\" rel=\"nofollow\">GoogleFIT.kt</a>. Look for the <code>insertTraining</code> method.</p>\n"}], "owner": {"reputation": 10836, "user_id": 341091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/77cb2312d5b3b6dcc793510e59226e9d?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/341091/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 34226839, "answer_count": 1, "score": 1, "last_activity_date": 1449847269, "creation_date": 1449829622, "last_edit_date": 1449830073, "question_id": 34221277, "link": "https://stackoverflow.com/questions/34221277/how-to-add-multiple-historic-data-to-googlefit", "title": "How to add multiple historic data to GoogleFit", "body": "<p>I want to add historic training data consisting of training type / device, start / end time, power, puls, cycles per min, kilo calories. But all true the google fit history API uses data sets it seems that you can only add one datapoint at a time using <code>com.google.android.gms.fitness.Fitness.HistoryApi.insertData</code>. But that would not add up to a training session.</p>\n\n<p>Is that true or did I misunderstand / overlooked something in the API.</p>\n\n<p>PS: since there is always someone asking for code (even on a theoretical question like this) I committed a snapshot to <a href=\"https://github.com/krischik/Fit-Import\" rel=\"nofollow\">github</a>. The most interesting file would be <a href=\"https://github.com/krischik/Fit-Import/blob/master/app/src/main/kotlin/com.krischik/fit_import/GoogleFIT.kt\" rel=\"nofollow\">GoogleFIT.kt</a>. Of course the source is pretty much work in progress and not written ind Java but Kotlin.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 1, "creation_date": 1449858716, "post_id": 34222242, "comment_id": 56204192, "body": "the lateinit property could be used to keep it non-null as long as you&#39;re sure it&#39;s going to get initialized before it gets used."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 0, "creation_date": 1449949428, "post_id": 34222242, "comment_id": 56230069, "body": "I think that&#39;s the wrong approach for an alert dialog. You  would leak the dialog after it&#39;s closed."}, {"owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 0, "creation_date": 1450037761, "post_id": 34222242, "comment_id": 56253262, "body": "I think the reference can be recycled once the enclosing scope can be recycled. I&#39;m not sure nullability would have anything to do with it unless I&#39;m wrong?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "edited": false, "score": 2, "creation_date": 1450038821, "post_id": 34222242, "comment_id": 56253621, "body": "Are you talking about properties or local variables? Because variables cannot have the <code>lateinit</code> modifier."}, {"owner": {"reputation": 3367, "user_id": 484499, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UBzxD.png?s=128&g=1", "display_name": "MDJ", "link": "https://stackoverflow.com/users/484499/mdj"}, "edited": false, "score": 0, "creation_date": 1539804994, "post_id": 34222242, "comment_id": 92639145, "body": "Good news here: Kotlin supports lateinit on local variables since 1.2 :-)"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 6, "last_activity_date": 1449832474, "creation_date": 1449832474, "answer_id": 34222242, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl/34222242#34222242", "title": "How to reference other views in Anko DSL?", "body": "<p>As I see it there are two ways. The super hacky way would be to declare the positive button within the <code>textInputLayout</code> block. This is possible because you can access all outer scopes from within any nested scope and the <code>positiveButton</code> method is declared in the <code>alert</code> scope:</p>\n\n<pre><code>alert {\n    customView {\n        verticalLayout {\n            textInputLayout {\n                val editText = editText {\n                    hint = \"Name\"\n                }\n\n                positiveButton(\"OK\") { toast(\"${editText.text}\") }\n            }\n        }\n    }\n}.show()\n</code></pre>\n\n<p>The less hacky way would be to declare a variable that can be accessed from both scopes. However you would need to make it nullable since you can't initialize it immediately:</p>\n\n<pre><code>alert {\n    var editText: EditText? = null\n\n    customView {\n        verticalLayout {\n            textInputLayout {\n                editText = editText {\n                    hint = \"Name\"\n                }\n            }\n        }\n    }\n\n    positiveButton(\"OK\") { toast(\"${editText!!.text}\") } \n}.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "edited": false, "score": 0, "creation_date": 1450056521, "post_id": 34258396, "comment_id": 56258477, "body": "I used this method to work around, but it&#39;s a bit overelaborate to define an id in an xml resource then use it in DSL."}, {"owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "edited": false, "score": 5, "creation_date": 1450218810, "post_id": 34258396, "comment_id": 56343412, "body": "yes, but you can generate ids straight in your code   <code>@IdRes val DIALOG_ITEM_TEXT = View.generateViewId()</code>   also, you can use a handy findVIewById shortcut, something like:  <code>inline fun &lt;reified T : View&gt; View.byId(@IdRes id: Int): T = findViewById(id) as T</code>"}, {"owner": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "reply_to_user": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "edited": false, "score": 0, "creation_date": 1510477195, "post_id": 34258396, "comment_id": 81444374, "body": "@AdelNizamutdinov <code>View.generateViewId()</code> needs API 17, while my minimum sdk is 16"}, {"owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "reply_to_user": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "edited": false, "score": 0, "creation_date": 1510564416, "post_id": 34258396, "comment_id": 81472066, "body": "@HendraWD it&#39;s time for minSdk 19 :)  but seriously, make your own function <code>generateViewId()</code> then, that would guarantee unique values"}], "tags": [], "owner": {"reputation": 1805, "user_id": 1270901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FDSJk.png?s=128&g=1", "display_name": "Nevin Chen", "link": "https://stackoverflow.com/users/1270901/nevin-chen"}, "is_accepted": false, "score": 2, "last_activity_date": 1450055920, "last_edit_date": 1450055920, "creation_date": 1450055524, "answer_id": 34258396, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl/34258396#34258396", "title": "How to reference other views in Anko DSL?", "body": "<p>I propose using findViewById()</p>\n\n<pre><code>alert {\n        customView {\n            val vertical = verticalLayout {\n                textView {\n                    text = \"Edit device name\"\n                    textSize = 24F\n                }\n                val input = textInputLayout {\n                    editText {\n                        id = R.id.my_id_resource // put your id here\n                        hint = \"Name\"\n                    }\n                }\n            }\n            positiveButton(\"OK\") { \"${(vertical.findViewById(R.id.my_id_resource) as? EditText)?.text}\" }  \n        }\n    }.show()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "edited": false, "score": 0, "creation_date": 1450083716, "post_id": 34262938, "comment_id": 56267428, "body": "It&#39;s almost perfect, but this way the code structure does not keep the same as the view structure, readability impacted."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "edited": false, "score": 0, "creation_date": 1450084048, "post_id": 34262938, "comment_id": 56267599, "body": "I myself usually brake the code into smaller peaces and put them into global variables. Then combine them somewhere else."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1450083511, "creation_date": 1450083511, "answer_id": 34262938, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl/34262938#34262938", "title": "How to reference other views in Anko DSL?", "body": "<p>You can always elevate a view, passing the context <code>vertical</code> manually:</p>\n\n<pre><code>customView {\n    val vertical = verticalLayout {\n        textView {\n            text = \"Edit device name\"\n            textColor = resources.getColor(R.color.highlight)\n            textSize = 24F\n        }\n    }\n\n    val input = /*here:*/ vertical.textInputLayout {\n        editText {\n            hint = \"Name\"\n            textColor = resources.getColor(R.color.highlight)\n        }\n    }\n\n    positiveButton(\"OK\") { \"${input.editText.text}\" }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "edited": false, "score": 0, "creation_date": 1510477001, "post_id": 38706174, "comment_id": 81444321, "body": "How to solve: <code>Unresolved reference: button_container</code>?"}], "tags": [], "owner": {"reputation": 91, "user_id": 6445816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba1925ab8e2e0c99be6c179247413ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Shayne Fitzgerald", "link": "https://stackoverflow.com/users/6445816/shayne-fitzgerald"}, "is_accepted": false, "score": 0, "last_activity_date": 1470077890, "creation_date": 1470077890, "answer_id": 38706174, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl/38706174#38706174", "title": "How to reference other views in Anko DSL?", "body": "<p>Probably the best way is to use Android IDs for the elements you need to reference later, and the <code>find&lt;T : View&gt;(Int) : T</code> function. This allows you to reference them from anywhere, as long as the view still exists, and you have access to the application/activity scope.</p>\n\n<p>See the <a href=\"https://github.com/Kotlin/anko#supporting-existing-code\" rel=\"nofollow\">Anko Documentation</a> for details</p>\n\n<p>Example case: Dynamically adding buttons to an existing view</p>\n\n<pre><code>verticalLayout {\n  id = R.id.button_container\n}\n//note that the code below here may be executed anywhere after the above in your onCreate function\n//verticalLayout is a Anko subclass of LinearLayout, so using the android class is valid.\nval buttonContainer = find&lt;LinearLayout&gt;(R.id.button_container)\n\nval containerContext = AnkoContext.Companion.create(ctx, buttonContainer)\nval button = ctx.button {\n  text = \"click me\"\n  onClick = { toast(\"created with IDs!\") }\n}\nbuttonContainer.addView(button.createView(containerContext, buttonContainer))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "is_accepted": false, "score": 1, "last_activity_date": 1492590811, "creation_date": 1492590811, "answer_id": 43490489, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl/43490489#43490489", "title": "How to reference other views in Anko DSL?", "body": "<p>I usually declare a view as a property in a class with <code>lateinit</code> modifier; this way it's not nullable and most of views are declared in one place, improving readability:</p>\n\n<pre><code>lateinit var toolbar: Toolbar\n\n...\nappBarLayout {\n    toolbar = toolbar {}.lparams(width = matchParent, height = matchParent)\n             }.lparams(width = matchParent)\n...\nsetSupportActionBar(toolbar)\n</code></pre>\n"}], "owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3123, "favorite_count": 3, "answer_count": 5, "score": 15, "last_activity_date": 1492590811, "creation_date": 1449817091, "question_id": 34217789, "link": "https://stackoverflow.com/questions/34217789/how-to-reference-other-views-in-anko-dsl", "title": "How to reference other views in Anko DSL?", "body": "<p>I'm using Anko in my Android project, but I don't know how can it reference the child views I created in the DSL when the referenced view is not at the same level where I reference it.</p>\n\n<p>The following code works:</p>\n\n<pre><code>alert {\n    customView {\n        val input = textInputLayout {\n            editText {\n                hint = \"Name\"\n                textColor =resources.getColor(R.color.highlight)\n            }\n        }\n\n\n        positiveButton(\"OK\") { \"${input.editText.text}\" }\n    }\n}.show()\n</code></pre>\n\n<p>but the following code does not work:</p>\n\n<pre><code>alert {\n    customView {\n        val vertical = verticalLayout {\n            textView {\n                text = \"Edit device name\"\n                textColor = resources.getColor(R.color.highlight)\n                textSize = 24F\n            }\n            val input = textInputLayout {\n                editText {\n                    hint = \"Name\"\n                    textColor = resources.getColor(R.color.highlight)\n                }\n            }\n        }\n\n        positiveButton(\"OK\") { \"${vertical.input.editText.text}\" }  // Cannot resolve \"input\"\n    }\n}.show()\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "anko"], "answers": [{"comments": [{"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1450044811, "post_id": 34226473, "comment_id": 56255647, "body": "Sorry, I am not ignoring this, I got side tracked overthe weekend.  I did see the section on extending Anko,  and I actually tried to make a toolbar using Anko, but was not able to get io work with the setSupportActionBar() method"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 2, "creation_date": 1450056909, "post_id": 34226473, "comment_id": 56258544, "body": "@nPn, make sure that you use <code>toolbar</code> method from <code>org.jetbrains.anko.appcompat.v7</code> package. IDE messes imports up sometimes, so you might want to write <code>import org.jetbrains.anko.appcompat.v7.toolbar as tbar</code> and use <code>tbar()</code> function instead. That should work with <code>setSupportActionBar()</code>."}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1450145289, "post_id": 34226473, "comment_id": 56301668, "body": "+1 for attempting to help, but sorry,  I am not making progress on this,  I think I really need a good example.  I can get parts of this to work.  I had the most success by putting the UI in a separate class like MyMainUI and then calling MyMainUI().setContentView(this), but ultimately, I can reproduce this simple test case (which is just a blank activity from the android studio template and converted to Kotlin)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 6, "last_activity_date": 1449846201, "creation_date": 1449846201, "answer_id": 34226473, "question_id": 34215129, "link": "https://stackoverflow.com/questions/34215129/convert-mainactivity-with-actionbar-toolbar-and-floatingaction-button-to-anko/34226473#34226473", "title": "Convert MainActivity with actionbar/toolbar and floatingaction button to Anko", "body": "<p>You can use <code>ankoView</code> method to create <code>View</code>s without DSL methods inside DSL context.</p>\n\n<p>For example, to create a <code>NavigationView</code> one can use</p>\n\n<pre><code>ankoView({ NavigationView(it) }) {\n    lparams(width = wrapContent, height = matchParent, gravity = Gravity.START)\n    // more initialization follows\n}\n</code></pre>\n\n<p>This way you can instantiate <code>FloatingActionButton</code> and <code>AppBarLayout</code>, just call their constructors inside <code>ankoView</code>'s first argument function. For your convenience, you can make yourself DSL-like functions like in <a href=\"https://github.com/Kotlin/anko/blob/master/doc/ADVANCED.md#extending-anko\" rel=\"noreferrer\">the manual</a>:</p>\n\n<pre><code>fun floatingActionButton(init: FloatingActionButton.() -&gt; Unit) = ankoView({ FloatingActionButton(it) }, init)\n</code></pre>\n\n<p>Creating a <code>Toolbar</code> is even easier: there is a DSL <code>toolbar</code> method in <code>org.jetbrains.anko.appcompat.v7</code>.</p>\n\n<hr>\n\n<p>When using Anko DSL, to include another layout, as you did with <code>content_main</code>, one can either use Anko <a href=\"https://github.com/Kotlin/anko/blob/master/README.md#include-tag\" rel=\"noreferrer\"><code>include</code></a> function or just write a function which will fill in a <code>ViewGroup</code>. You can use this template:</p>\n\n<pre><code>fun ViewGroup.myLayout() {\n    textView(\"123\")\n    // more DSL code here\n}\n</code></pre>\n\n<p>Then just call <code>myLayout()</code> inside some <code>ViewGroup</code> initializer.</p>\n"}, {"comments": [{"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 0, "creation_date": 1491955169, "post_id": 42684962, "comment_id": 73778854, "body": "Sorry, no I have not been able to get it to work.  I will probably have to start a fresh project and then take a fresh look at it from the Anko template project.  At this point the project I started this on is out of date."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1511455309, "post_id": 42684962, "comment_id": 81874733, "body": "When I do this the overflow button is still black. I think it&#39;s because I&#39;m not setting the <code>theme = R.style.AppTheme.AppBarOverlay</code> property like it does in XML. I can&#39;t figure out how to do this in anko."}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1515961205, "post_id": 42684962, "comment_id": 83490098, "body": "sorry for answering so late, but could you perhaps send me or present MWE? Are you setting <code>android:theme=&quot;@style&#47;AppTheme.NoActionBar&quot;</code> in the manifest?"}], "tags": [], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "is_accepted": false, "score": 3, "last_activity_date": 1489022454, "creation_date": 1489022454, "answer_id": 42684962, "question_id": 34215129, "link": "https://stackoverflow.com/questions/34215129/convert-mainactivity-with-actionbar-toolbar-and-floatingaction-button-to-anko/42684962#42684962", "title": "Convert MainActivity with actionbar/toolbar and floatingaction button to Anko", "body": "<p>I know it's a bit late answer, but I hope it helps someone. I did the layout this way (of course some styling is still needed):</p>\n\n<pre><code>class MainUI(val adapter: MainUIAdapter) : AnkoComponent&lt;MainActivity&gt; {\n\n        override fun createView(ui: AnkoContext&lt;MainActivity&gt;): View = with(ui) {\n        coordinatorLayout {\n            fitsSystemWindows = true\n\n            appBarLayout {\n                toolbar {\n                    setTitleTextColor(Color.WHITE) // so far still needed\n                    id = R.id.toolbar\n                }.lparams(width = matchParent, height = matchParent)\n\n            }.lparams(width = matchParent)\n\n            relativeLayout {\n                id = R.id.container\n                recyclerView { // just an example\n                    id = R.id.recycler_view\n                    adapter = this@MainUI.adapter\n                    layoutManager = LinearLayoutManager(ctx)\n                }\n            }.lparams(width = matchParent, height = matchParent) {\n                behavior = ScrollingViewBehavior()\n            }\n            floatingActionButton {\n                onClick { doSomething() }\n                imageResource = R.drawable.ic_add_white_24dp // the plus sign\n            }.lparams {\n                gravity = Gravity.BOTTOM or Gravity.END\n                margin = dip(16)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and used in MainActivity like that:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    MainUI(MainUIAdapter(people)).setContentView(this)\n\n    toolbar = find&lt;Toolbar&gt;(R.id.toolbar)\n    setSupportActionBar(toolbar)\n}\n</code></pre>\n"}], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5804, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1489022454, "creation_date": 1449800569, "question_id": 34215129, "link": "https://stackoverflow.com/questions/34215129/convert-mainactivity-with-actionbar-toolbar-and-floatingaction-button-to-anko", "title": "Convert MainActivity with actionbar/toolbar and floatingaction button to Anko", "body": "<p>I am trying to learn how to use Kotlin/Anko.</p>\n\n<p>I have gone thru the examples <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow\">here</a> and also cloned the template project and can understand how to do some basic stuff, but as an exercise I wanted to convert this simple activity (generated from a blank activity in Android Studio and converted to Kotlin) to use Anko as well.  There are not a lot of examples around for Anko, most are just copies of what is on the above referenced github page.</p>\n\n<p>Can someone demonstrate how to go about and convert the following into Anko DSL?</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.design.widget.FloatingActionButton\nimport android.support.design.widget.Snackbar\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.Toolbar\nimport android.view.Menu\nimport android.view.MenuItem\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val toolBar = findViewById(R.id.toolbar) as Toolbar\n        setSupportActionBar(toolBar)\n        val fab = findViewById(R.id.fab) as FloatingActionButton\n        fab.setOnClickListener { view -&gt; Snackbar.make(view, \"Replace this with your own action\", Snackbar.LENGTH_LONG).setAction(\"Action\", null).show() }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu_main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == R.id.action_settings) {\n            println(\"settings clicked on \")\n            return true\n        }\n        return super.onOptionsItemSelected(item)\n    }\n} \n</code></pre>\n\n<p>main_activity.xml\n\n</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        android:background=\"?attr/colorPrimary\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;include layout=\"@layout/content_main\" /&gt;\n\n&lt;android.support.design.widget.FloatingActionButton\n    android:id=\"@+id/fab\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"bottom|end\"\n    android:layout_margin=\"@dimen/fab_margin\"\n    android:src=\"@android:drawable/ic_dialog_email\" /&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>content_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\"com.gmail.npnster.mykotlinfirstproject.MainActivity\"\n    tools:showIn=\"@layout/activity_main\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World!\"\n        android:id=\"@+id/hello\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>menu_main.xml</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"com.gmail.npnster.mykotlinfirstproject.MainActivity\"&gt;\n    &lt;item\n        android:id=\"@+id/action_settings\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/action_settings\"\n        app:showAsAction=\"never\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n"}, {"tags": ["performance", "reflection", "collections", "kotlin", "garbage"], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1449801573, "post_id": 34214718, "comment_id": 56175087, "body": "I am only using reflection to retrieve the <code>KClass</code> on a handful of classes (<code>Byte</code>, <code>Short</code>, <code>Int</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>, <code>Boolean</code>, and <code>ByteBuffer</code>). I do refer to these through a reified generic type of a function which is also only passed these types."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1449804329, "post_id": 34214718, "comment_id": 56175789, "body": "As you suggested I was able to remove all of them by replacing all <code>KClass</code> with <code>Class</code> and using reflection to get the Java class via <code>Example::class.java</code> :-)"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 3, "last_activity_date": 1473084416, "last_edit_date": 1473084416, "creation_date": 1449796926, "answer_id": 34214718, "question_id": 34214290, "link": "https://stackoverflow.com/questions/34214290/kotlin-massive-amounts-of-conspstack-how-can-i-avoid/34214718#34214718", "title": "Kotlin: Massive amounts of ConsPStack, how can I avoid?", "body": "<p>UPDATE (2016-09-05): the issue has been <a href=\"https://github.com/JetBrains/kotlin/commit/f4a1aa640eed4b00bbc25f63edffc4acbf956638\" rel=\"nofollow\">fixed</a> and is going to be available in Kotlin 1.0.5.</p>\n\n<p>Kotlin reflection implementation is using <a href=\"https://github.com/pcollections/pcollections\" rel=\"nofollow\">pcollections</a> to cache <code>KClass</code> instances for different classes. Large amount of <code>ConsPStack</code> instances probably means you're using reflection on a lot of <em>different</em> classes. As I mentioned in another answer, reflection implementation is not optimized at all, so issues like this are somewhat expected at the moment.</p>\n\n<p>If this issue is really critical for you, I would recommend to cut down <code>KClass</code> creation by using Java reflection where possible. Also, as an extreme solution, you can try clearing the contents of the described cache at a particular moment. Here's the <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/reflection.jvm/src/kotlin/reflect/jvm/internal/kClassCache.kt\" rel=\"nofollow\">corresponding code in Kotlin project</a>. Since the cache (<code>var K_CLASS_CACHE</code>) is private, you'd need to use Java reflection to get access to it.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 34214718, "answer_count": 1, "score": 2, "last_activity_date": 1473084416, "creation_date": 1449793902, "question_id": 34214290, "link": "https://stackoverflow.com/questions/34214290/kotlin-massive-amounts-of-conspstack-how-can-i-avoid", "title": "Kotlin: Massive amounts of ConsPStack, how can I avoid?", "body": "<p>How can I avoid the massive amount of <code>ConsPStack</code> that are created by my application? When are these created? My application: <a href=\"https://github.com/Jire/Abendigo\" rel=\"nofollow noreferrer\">https://github.com/Jire/Abendigo</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/byTC5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byTC5.png\" alt=\"enter image description here\"></a></p>\n"}]