[{"tags": ["android", "animation", "kotlin", "handler"], "answers": [{"comments": [{"owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "edited": false, "score": 0, "creation_date": 1516853691, "post_id": 48435450, "comment_id": 83862416, "body": "It has to be ended manually because you are starting a <code>TimerTask()</code> which executes periodically and doesn&#39;t end on it&#39;s own. It&#39;s a loop with delays"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "edited": false, "score": 0, "creation_date": 1516853930, "post_id": 48435450, "comment_id": 83862492, "body": "@Napster I called <code>this.cancel()</code> after the first iteration, which effectively ended itself. I waited a while to make sure of that. They didn&#39;t loop, the program just didn&#39;t end by itself."}, {"owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "edited": false, "score": 0, "creation_date": 1516854043, "post_id": 48435450, "comment_id": 83862527, "body": "I know <code>this.cancel()</code> does that, I thought that&#39;s what you meant by script has to be manually ended"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "edited": false, "score": 0, "creation_date": 1516854108, "post_id": 48435450, "comment_id": 83862547, "body": "@Napster I see. I mean that literally IntelliJ has the red box available in the top right corner, and it doesn&#39;t say <code>Process finished with exit code 0</code>."}], "tags": [], "owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "is_accepted": false, "score": 0, "last_activity_date": 1516852830, "creation_date": 1516852830, "answer_id": 48435450, "question_id": 48433145, "link": "https://stackoverflow.com/questions/48433145/how-i-can-set-visibility-for-view-to-some-time/48435450#48435450", "title": "How I can set visibility for view to some time?", "body": "<p>Okay, I've done some experimenting. This seems to work fine:</p>\n\n<pre><code>fixedRateTimer(initialDelay = 1000, period = 1) { println(\"hi\"); this.cancel() }\nfixedRateTimer(initialDelay = 5000, period = 1) { println(\"hi again\"); this.cancel() }\n//anything put here will run immediately, not after the timers\n</code></pre>\n\n<p>Just replace the <code>println()</code> with whatever code you want to execute. I know it's kind of messy, but it works fine.</p>\n\n<p>If the timing isn't exact enough, I probably misunderstood your question, so just modify times appropriately. <strong>Another issue would be that the script has to be manually ended, for some reason. If I figure out why, I'll update this answer.</strong></p>\n"}], "owner": {"reputation": 581, "user_id": 7809349, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-xxj8AcvmCrU/AAAAAAAAAAI/AAAAAAAAF_o/XRDsjNGm0QE/photo.jpg?sz=128", "display_name": "manwhotrycoding", "link": "https://stackoverflow.com/users/7809349/manwhotrycoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516852830, "creation_date": 1516834966, "last_edit_date": 1516845278, "question_id": 48433145, "link": "https://stackoverflow.com/questions/48433145/how-i-can-set-visibility-for-view-to-some-time", "title": "How I can set visibility for view to some time?", "body": "<p>I have an ugly method that could use some fixing. The problem is that I use the handler twice. I have a <code>textViewTitle</code> (<code>visibility = View.GONE</code>) and I should to show my view. With a delay of 1 second and after 5 seconds set <code>visibility = gone</code> back.</p>\n\n<p>How I can do it? This is what I've tried so far:</p>\n\n<pre><code>private fun mechanics() {\n    Handler().postDelayed({\n        textViewTitle.visibility = View.GONE\n    }, 2000)\n    someActions()\n    Handler().postDelayed({\n        textViewTitle.visibility = View.VISIBLE\n        someActions()    \n    ,1100)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1516860795, "post_id": 48431761, "comment_id": 83864589, "body": "I checked, zip does minimally more work (namely range checks). Therefore I would prefer <code>zip()</code>, for safety and readability."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1516870064, "post_id": 48431761, "comment_id": 83868648, "body": "@leoderprofi So the created intermediate zipped list isn\u2019t relevant"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1516968278, "post_id": 48431761, "comment_id": 83914815, "body": "map(), as well as zip() return a new List therefore both have the same overhead for creating an object. In addition I did a small performance test (nothing worthy of sowing) and concluded that the performance of both is equal."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1516830659, "last_edit_date": 1516830659, "creation_date": 1516828773, "answer_id": 48431761, "question_id": 48431672, "link": "https://stackoverflow.com/questions/48431672/how-do-i-get-the-sums-for-all-elements-of-two-lists-in-kotlin/48431761#48431761", "title": "How do I get the sums for all elements of two lists in Kotlin?", "body": "<p>I'd go with a range and <code>map</code>:</p>\n\n<pre><code>val sums = (0 until x.size).map { x[it] + y[it] }\n</code></pre>\n\n<p>It's probably less overhead than <code>zip</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 15, "last_activity_date": 1516860590, "last_edit_date": 1516860590, "creation_date": 1516829177, "answer_id": 48431862, "question_id": 48431672, "link": "https://stackoverflow.com/questions/48431672/how-do-i-get-the-sums-for-all-elements-of-two-lists-in-kotlin/48431862#48431862", "title": "How do I get the sums for all elements of two lists in Kotlin?", "body": "<p>Assuming both list have <strong>the same size</strong>:</p>\n\n<ol>\n<li><p>Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"noreferrer\"><code>zip</code></a></p>\n\n<pre><code>val sum = x.zip(y) { xv, yv -&gt; xv + yv }\n</code></pre></li>\n<li><p>Using simple <code>map</code> and <code>mapIndexed</code></p>\n\n<pre><code>val sum = (0 until x.size).map { x[it] + y[it] }\n// or\nval sum = x.mapIndexed { index, xv -&gt; xv + y[index] }\n</code></pre></li>\n</ol>\n\n<p>When the size <strong>can be different</strong> and you would assume 0 for out of range entries:</p>\n\n<ol>\n<li><p>Using an <code>array</code></p>\n\n<pre><code>val sum = IntArray(maxOf(x.size, y.size)) { \n    x.getOrElse(it, {0}) + y.getOrElse(it, {0}) \n}.toList()\n</code></pre></li>\n<li><p>Using range:</p>\n\n<pre><code>val sum = (0 until maxOf(x.size, y.size)).map { \n    x.getOrElse(it, {0}) + y.getOrElse(it, {0})\n}\n</code></pre></li>\n<li><p>Extending the lists to same size</p>\n\n<pre><code>val xExtended = x + Array(maxOf(0, y.size - x.size), { 0 })\nval yExtended = y + Array(maxOf(0, x.size - y.size), { 0 })\nval sum = xExtended.zip(yExtended) { xv, yv -&gt; xv + yv }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2938, "favorite_count": 3, "accepted_answer_id": 48431862, "answer_count": 2, "score": 6, "last_activity_date": 1516860590, "creation_date": 1516828343, "question_id": 48431672, "link": "https://stackoverflow.com/questions/48431672/how-do-i-get-the-sums-for-all-elements-of-two-lists-in-kotlin", "title": "How do I get the sums for all elements of two lists in Kotlin?", "body": "<p>In Kotlin I have two lists:</p>\n\n<pre><code>val x: List&lt;Int&gt; = listOf(1,2,3,4,5,6)\nval y: List&lt;Int&gt; = listOf(2,3,4,5,6,7)\n</code></pre>\n\n<p>How do I get:</p>\n\n<pre><code>val z: List&lt;Int&gt; = 3,5,7,9,11,13\n</code></pre>\n\n<p>without using loops?</p>\n"}, {"tags": ["android", "listview", "kotlin", "android-widget", "android-pendingintent"], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1527577326, "creation_date": 1527577326, "answer_id": 50578197, "question_id": 48428964, "link": "https://stackoverflow.com/questions/48428964/android-list-widget-and-item-click-not-working/50578197#50578197", "title": "Android list widget and item click not working", "body": "<p>Change android:clickable=\"false\" to <code>android:clickable=\"true\"</code></p>\n"}], "owner": {"reputation": 1119, "user_id": 2263121, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7eaf572e251dcc9febaae9a55de851cb?s=128&d=identicon&r=PG", "display_name": "Quentin Klein", "link": "https://stackoverflow.com/users/2263121/quentin-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1578991317, "creation_date": 1516817188, "last_edit_date": 1578991317, "question_id": 48428964, "link": "https://stackoverflow.com/questions/48428964/android-list-widget-and-item-click-not-working", "title": "Android list widget and item click not working", "body": "<p>I have a home screen widget, a list one, and as usual, I want each item to open the activity when clicked.</p>\n\n<p>I see a lot of answers with toast and broadcasts, but I want it to open an activity. The thing is, the click doesn't work.</p>\n\n<p>Here is what I've done:</p>\n\n<p>The <code>widget_info.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appwidget-provider xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:minHeight=\"50dp\"\n    android:minWidth=\"300dp\"\n    android:previewImage=\"@mipmap/ic_launcher\"\n    android:resizeMode=\"horizontal|vertical\" /&gt;\n</code></pre>\n\n<p>The <code>Provider</code></p>\n\n<pre><code>class StickyWidgetProvider : AppWidgetProvider() {\n\n    override fun onReceive(context: Context, intent: Intent) {\n        super.onReceive(context, intent)\n        if (ACTION_APPWIDGET_UPDATE == intent.action) {\n            updateWidget(context)\n        }\n    }\n\n    override fun onUpdate(context: Context, appWidgetManager: AppWidgetManager, appWidgetIds: IntArray) {\n        for (i in 0 until appWidgetIds.size) {\n            val appWidgetId = appWidgetIds[i]\n\n            val rv = RemoteViews(context.packageName, R.layout.widget_container)\n            rv.setRemoteAdapter(R.id.widget_list, Intent(context, MyWidgetService::class.java))\n\n            val activityIntent = Intent(context, MainActivity::class.java)\n                    .setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_NEW_TASK)\n            val pendingIntent = PendingIntent.getActivity(context, 0, activityIntent, PendingIntent.FLAG_UPDATE_CURRENT)\n            rv.setPendingIntentTemplate(R.id.widget_list, pendingIntent)\n\n            appWidgetManager.notifyAppWidgetViewDataChanged(appWidgetId, R.id.widget_list)\n            appWidgetManager.updateAppWidget(appWidgetId, rv)\n        }\n    }\n\n    private fun updateWidget(context: Context) {\n        val appWidgetManager = AppWidgetManager.getInstance(context)\n        appWidgetManager.notifyAppWidgetViewDataChanged(\n                appWidgetManager.getAppWidgetIds(\n                        ComponentName(context, StickyWidgetProvider::class.java)\n                ),\n                R.id.widget_list)\n    }\n}\n</code></pre>\n\n<p>And the <code>RemoteViewsFactory</code></p>\n\n<pre><code>class StickyWidgetRemoteViewsFactory(private val context: Context) : RemoteViewsService.RemoteViewsFactory {\n\n    private var itemList: List&lt;MyItems&gt;? = null\n\n    private fun updateWidgetListView() {\n        itemList = filled by somrthing\n    }\n\n    override fun onCreate() {\n        updateWidgetListView()\n    }\n\n    override fun onDataSetChanged() {\n        updateWidgetListView()\n    }\n\n    override fun onDestroy() {\n        itemList = null\n    }\n\n    override fun getCount(): Int {\n        return if (itemList != null)\n            itemList!!.size\n        else\n            0\n    }\n\n    override fun getViewAt(position: Int): RemoteViews {\n        val remoteView = RemoteViews(context.packageName, R.layout.widget_row)\n        val item = itemList!![position]\n\n        // fill the view //\n\n        val bundle = Bundle()\n        bundle.putParcelable(MainActivity.EXTRA_ITEM, item)\n        val fillInIntent = Intent().putExtras(bundle)\n        remoteView.setOnClickFillInIntent(R.id.widget_item, fillInIntent)\n\n        return remoteView\n    }\n\n    ...\n}\n</code></pre>\n\n<p>I just can't figure out what I'm doing wrong here. Following the guide <a href=\"https://developer.android.com/guide\" rel=\"nofollow noreferrer\">https://developer.android.com/guide</a> I have the <code>setPendingIntentTemplate</code> in the <code>Provider</code>, filled by the <code>setOnClickFillInIntent</code> in the factory, but the item click does nothing.</p>\n\n<p>For information the widget is a <code>LinearLayout</code> with some <code>TextViews</code> which are <code>android:textIsSelectable=\"false\"</code>, <code>android:clickable=\"false\"</code> and <code>android:focusable=\"false\"</code>.</p>\n\n<p>How can I proceed?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-nestedscrollview"], "comments": [{"owner": {"reputation": 2060, "user_id": 5380981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGQhd.jpg?s=128&g=1", "display_name": "PRATEEK BHARDWAJ", "link": "https://stackoverflow.com/users/5380981/prateek-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1516816640, "post_id": 48428793, "comment_id": 83848143, "body": "set recylcerview.setnestedscrolllingenabled(false);"}, {"owner": {"reputation": 303, "user_id": 4455220, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-m6zPjBKiy1o/AAAAAAAAAAI/AAAAAAAAABo/y0I06Yy7Q9M/photo.jpg?sz=128", "display_name": "Spaci Tron", "link": "https://stackoverflow.com/users/4455220/spaci-tron"}, "reply_to_user": {"reputation": 2060, "user_id": 5380981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGQhd.jpg?s=128&g=1", "display_name": "PRATEEK BHARDWAJ", "link": "https://stackoverflow.com/users/5380981/prateek-bhardwaj"}, "edited": false, "score": 1, "creation_date": 1516817263, "post_id": 48428793, "comment_id": 83848481, "body": "I did that. Makes no difference."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1516817753, "post_id": 48428793, "comment_id": 83848755, "body": "What is the height of your recyclerview?"}, {"owner": {"reputation": 303, "user_id": 4455220, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-m6zPjBKiy1o/AAAAAAAAAAI/AAAAAAAAABo/y0I06Yy7Q9M/photo.jpg?sz=128", "display_name": "Spaci Tron", "link": "https://stackoverflow.com/users/4455220/spaci-tron"}, "edited": false, "score": 0, "creation_date": 1516818532, "post_id": 48428793, "comment_id": 83849180, "body": "I tried both wrap_content and match_parent. First visible item is always the first list item and last is always the last item."}], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1540276525, "post_id": 48430598, "comment_id": 92793408, "body": "So, there is no way to stop recyclerview from inflating all items at a time when it is inside nestedscrollview?"}, {"owner": {"reputation": 3533, "user_id": 5327912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9adeb880603da499a5cb6a04127e8672?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Anjaria", "link": "https://stackoverflow.com/users/5327912/parth-anjaria"}, "edited": false, "score": 0, "creation_date": 1547538871, "post_id": 48430598, "comment_id": 95216285, "body": "what if we want to implement collapsing app bar @David"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "reply_to_user": {"reputation": 3533, "user_id": 5327912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9adeb880603da499a5cb6a04127e8672?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Anjaria", "link": "https://stackoverflow.com/users/5327912/parth-anjaria"}, "edited": false, "score": 0, "creation_date": 1547542745, "post_id": 48430598, "comment_id": 95217859, "body": "@ParthAnjaria then you use a CoordinatorLayout with the AppBarLayout &amp; RecyclerView. There should be plenty of examples online"}, {"owner": {"reputation": 567, "user_id": 9850128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sgowW.jpg?s=128&g=1", "display_name": "Nevil Ghelani", "link": "https://stackoverflow.com/users/9850128/nevil-ghelani"}, "edited": false, "score": 0, "creation_date": 1559379030, "post_id": 48430598, "comment_id": 99408165, "body": "what if I want to add swipe to refresh with recyclerview? @DavidMedenjak"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "reply_to_user": {"reputation": 567, "user_id": 9850128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sgowW.jpg?s=128&g=1", "display_name": "Nevil Ghelani", "link": "https://stackoverflow.com/users/9850128/nevil-ghelani"}, "edited": false, "score": 0, "creation_date": 1559386582, "post_id": 48430598, "comment_id": 99409614, "body": "@NevilGhelani SwipeRefreshLayout doesn&#39;t interfere with RVs recycling"}, {"owner": {"reputation": 567, "user_id": 9850128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sgowW.jpg?s=128&g=1", "display_name": "Nevil Ghelani", "link": "https://stackoverflow.com/users/9850128/nevil-ghelani"}, "edited": false, "score": 0, "creation_date": 1559386696, "post_id": 48430598, "comment_id": 99409643, "body": "@DavidMedenjak You are right but I want to make an app that can refresh recycler view on swipe. Is there any way to do?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "reply_to_user": {"reputation": 567, "user_id": 9850128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sgowW.jpg?s=128&g=1", "display_name": "Nevil Ghelani", "link": "https://stackoverflow.com/users/9850128/nevil-ghelani"}, "edited": false, "score": 0, "creation_date": 1559392297, "post_id": 48430598, "comment_id": 99410766, "body": "@NevilGhelani I&#39;m not sure what you are asking. Just put RV into a SwipeRefreshLayout? <code>&lt;SwipeRefreshLayout&gt;&lt;RecyclerView&#47;&gt;&lt;&#47;SwipeRefreshLayout&gt;</code>"}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 12, "last_activity_date": 1516823594, "creation_date": 1516823594, "answer_id": 48430598, "question_id": 48428793, "link": "https://stackoverflow.com/questions/48428793/recyclerview-inside-nestedscrollview-does-not-give-correct-visible-item-position/48430598#48430598", "title": "RecyclerView inside NestedScrollView does not give correct visible item position", "body": "<p>If you put a <code>RecyclerView</code> inside a scrollable container&mdash;a <code>NestedScrollView</code> in your case&mdash;it will basically become a fancy <code>LinearLayout</code>, inflating and showing all the items at once. You get the first and last item as the first and last one visible because&mdash;to the RecyclerView&mdash;they are. All the items got inflated and added, so all of them are \"visible on screen\" inside the scrollable view.</p>\n\n<p>The easy solution would be to just not nest the RecyclerView inside the NestedScrollView. A RecyclerView can scroll already, so you could just put whatever header or footer you need inside the RecyclerView as well. Nesting scrollable views always has drawbacks and you should try to avoid it whenever possible.</p>\n"}], "owner": {"reputation": 303, "user_id": 4455220, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-m6zPjBKiy1o/AAAAAAAAAAI/AAAAAAAAABo/y0I06Yy7Q9M/photo.jpg?sz=128", "display_name": "Spaci Tron", "link": "https://stackoverflow.com/users/4455220/spaci-tron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2142, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1516823594, "creation_date": 1516816474, "last_edit_date": 1516817304, "question_id": 48428793, "link": "https://stackoverflow.com/questions/48428793/recyclerview-inside-nestedscrollview-does-not-give-correct-visible-item-position", "title": "RecyclerView inside NestedScrollView does not give correct visible item position", "body": "<p>I have a <code>RecyclerView</code> inside a <code>NestedScrollView</code> and I'm trying to get the position of the last visible list item during scroll events using. The following code allows me to reliably detect scroll events:</p>\n\n<pre><code>val recyclerView = nestedScrollView.getChildAt(0) as RecyclerView\n\nnestedScrollView.setOnScrollChangeListener { v: NestedScrollView?, scrollX: Int, scrollY: Int, oldScrollX: Int, oldScrollY: Int -&gt;\n    val layoutManager = recyclerView?.layoutManager as? LinearLayoutManager\n    val lastVisiblePosition = layoutManager?.findLastVisibleItemPosition()\n}\n</code></pre>\n\n<p>The problem however is that here <code>lastVisiblePosition</code> always ends up being the last item in the list whether this is actually on scree or not. Where could I be going wrong?</p>\n"}, {"tags": ["java", "android", "time", "kotlin", "timepicker"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "edited": false, "score": 0, "creation_date": 1516879929, "post_id": 48435587, "comment_id": 83874804, "body": "Thanks for your answer, but unfortunately this does not solve my problem. This is defaulted to true indeed, the problem is  time.setSelectableTimes(arrayOf(Timepoint(10), Timepoint(11))) only let me choose two times and not the interval between them, even enabling minutes to true."}], "tags": [], "owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "is_accepted": false, "score": 0, "last_activity_date": 1516853681, "creation_date": 1516853681, "answer_id": 48435587, "question_id": 48428022, "link": "https://stackoverflow.com/questions/48428022/select-blocks-of-time-with-materialdatetimepicker/48435587#48435587", "title": "Select blocks of time with MaterialDateTimePicker", "body": "<p>I did some digging throught the <a href=\"https://github.com/wdullaer/MaterialDateTimePicker#additional-options\" rel=\"nofollow noreferrer\">\"additional options\"</a> category (the exact one you linked, in fact), and discovered <code>enableMinutes(true)</code>. According to the documentation, this defaults to true, so I'm not sure how it became disabled in your code. If you want to enable choosing seconds as well, use <code>enableSeconds(true)</code>.</p>\n\n<p>Quote from documentation:</p>\n\n<blockquote>\n  <p><code>TimepickerDialog</code> <code>enableSeconds(boolean enableSconds)</code> and <code>enableMinutes(boolean enableMinutes)</code> Allows you to enable or disable a seconds and minutes picker on the <code>TimepickerDialog</code>. Enabling the seconds picker, implies enabling the minutes picker. Disabling the minute picker will disable the seconds picker. The last applied setting will be used. By default <code>enableSeconds = false</code> and <code>enableMinutes = true</code>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "is_accepted": true, "score": 1, "last_activity_date": 1516882720, "creation_date": 1516882720, "answer_id": 48442712, "question_id": 48428022, "link": "https://stackoverflow.com/questions/48428022/select-blocks-of-time-with-materialdatetimepicker/48442712#48442712", "title": "Select blocks of time with MaterialDateTimePicker", "body": "<p>So I decided to create a new method to create an array of TimePoints:</p>\n\n<pre><code>private fun getTimes(array: JSONArray): Array&lt;Timepoint&gt; {\n    val times = arrayListOf&lt;Timepoint&gt;()\n    for (i in 0..array.length().minus(1)) {\n        val format = SimpleDateFormat(\"HH:mm\", Locale.getDefault())\n\n        val start = Calendar.getInstance()\n        start.time = format.parse(array.getJSONObject(i).getString(\"start\"))\n\n        val end = Calendar.getInstance()\n        end.time = format.parse(array.getJSONObject(i).getString(\"end\"))\n\n        while (!start.after(end)) {\n            times.add(Timepoint(start.get(Calendar.HOUR_OF_DAY), start.get(Calendar.MINUTE)))\n            start.add(Calendar.MINUTE, 1)\n        }\n    }\n\n    return times.toArray(arrayOfNulls&lt;Timepoint&gt;(times.size))\n}\n</code></pre>\n\n<p>And I would call him like that:</p>\n\n<pre><code>time.setSelectableTimes(getTimes(array))\n</code></pre>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>By using the method:</p>\n\n<pre><code>time.setSelectableTimes(arrayOf(Timepoint(10), Timepoint(11)))\n</code></pre>\n\n<p>I would only be enable to choose the times of 10:00h and 11:00h respectively, so the solution is to find all the times between 10:00h and 11:00h and add them to an array. Only then with this new array I can call the method above.</p>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 48442712, "answer_count": 2, "score": 0, "last_activity_date": 1516882720, "creation_date": 1516813674, "question_id": 48428022, "link": "https://stackoverflow.com/questions/48428022/select-blocks-of-time-with-materialdatetimepicker", "title": "Select blocks of time with MaterialDateTimePicker", "body": "<p>I want to show a clock where only a selected blocks of times can be selected. For example: I want the clock to only let me select times from 09:00 to 10:00 or from 12:00 to 12:30 or from 14:00 to 18:00. All hours outside those ranges should not me selectable.</p>\n\n<p>Using <a href=\"https://github.com/wdullaer/MaterialDateTimePicker#additional-options\" rel=\"nofollow noreferrer\">MaterialDateTimePicker</a> I was able to set a array of selected times:</p>\n\n<pre><code>val time = TimePickerDialog.newInstance(timeSet, true)\ntime.setSelectableTimes(arrayOf(Timepoint(10), Timepoint(11)))\n</code></pre>\n\n<p>But this only let me select the time of 10:00 and 11:00 and not the interval between them.</p>\n\n<p>Is it possible to do a behaviour like I explained with this library?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 15, "last_activity_date": 1517048948, "last_edit_date": 1517048948, "creation_date": 1516813526, "answer_id": 48427982, "question_id": 48427927, "link": "https://stackoverflow.com/questions/48427927/kotlin-extension-methods-and-null-receiver/48427982#48427982", "title": "kotlin: extension methods and null receiver", "body": "<p>You can call it on a nullable object if you define it to be an extension on a nullable type:</p>\n\n<pre><code>fun Any?.stringOrNull() = ...\n</code></pre>\n\n<p>Otherwise, like with any other method, you'd have to use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call operator</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1580714522, "last_edit_date": 1592644375, "creation_date": 1516819335, "answer_id": 48429534, "question_id": 48427927, "link": "https://stackoverflow.com/questions/48427927/kotlin-extension-methods-and-null-receiver/48429534#48429534", "title": "kotlin: extension methods and null receiver", "body": "<p>You can create extensions on nullable receiver types. In your example, it has to be <code>Any?</code> instead of <code>Any</code> which would not allow null, see the <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p><strong>Nullable Receiver</strong></p>\n<p>Note that extensions can be defined with a nullable receiver type. Such extensions can be called on an object variable even if its value is <code>null</code>, and can check for <code>this == null</code> inside the body. This is what allows you to call <code>toString()</code> in Kotlin without checking for <code>null</code>: the check happens inside the extension function.</p>\n<pre><code>fun Any?.toString(): String {\n    if (this == null) return &quot;null&quot;\n    // after the null check, 'this' is autocast to a non-null type, so the toString() below\n    // resolves to the member function of the Any class\n    return toString()\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4823448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f34d9c429163c44334dd6c9066a723c5?s=128&d=identicon&r=PG&f=1", "display_name": "triyambkam", "link": "https://stackoverflow.com/users/4823448/triyambkam"}, "is_accepted": false, "score": 0, "last_activity_date": 1580718862, "last_edit_date": 1592644375, "creation_date": 1580717813, "answer_id": 60035405, "question_id": 48427927, "link": "https://stackoverflow.com/questions/48427927/kotlin-extension-methods-and-null-receiver/60035405#60035405", "title": "kotlin: extension methods and null receiver", "body": "<blockquote>\n<p>val string: String? = &quot;Hello World!&quot;\nprint(string.length)<br />\n// Compile error: Can't directly access property  of nullable type.\nprint(string?.length)<br />\n// Will print the string's length, or &quot;null&quot; if  the string is null.</p>\n</blockquote>\n<h2><code>?.</code> Safe Call operator for nullable receiver##</h2>\n<p>The safe call operator returns null if the value to the left is null, otherwise continues to evaluate the expression to the right, so in order to call any function on nullable receiver you need to use safe call operator after Any.(Use Any?)\nThen you can check for null value of this(here <code>this object points to receiver</code>) inside function body.This is what allows you to call toString() in Kotlin without checking for null: the check happens inside the extension function.</p>\n<blockquote>\n<pre><code>fun Any?.toString(): String {\n    if (this == null) return &quot;null&quot;\n    // after the null check, 'this' is autocast to a non-null type, so the toString() below\n    // resolves to the member function of the Any class\n    return toString()\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3534, "user_id": 87383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7ZZjW.jpg?s=128&g=1", "display_name": "Oleksandr", "link": "https://stackoverflow.com/users/87383/oleksandr"}, "is_accepted": false, "score": 0, "last_activity_date": 1593700389, "creation_date": 1593700389, "answer_id": 62698766, "question_id": 48427927, "link": "https://stackoverflow.com/questions/48427927/kotlin-extension-methods-and-null-receiver/62698766#62698766", "title": "kotlin: extension methods and null receiver", "body": "<p>Be careful, for:</p>\n<pre><code>fun Any?.toString(): String\n</code></pre>\n<p>following behavior:</p>\n<pre><code>var obj: Any? = null\n\nobj?.toString() // is actually null\nobj.toString() // returns &quot;null&quot; string\n</code></pre>\n<p>just spent 15 very frustrating minutes before realized this...</p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4882, "favorite_count": 0, "accepted_answer_id": 48427982, "answer_count": 4, "score": 8, "last_activity_date": 1593700389, "creation_date": 1516813356, "last_edit_date": 1576658465, "question_id": 48427927, "link": "https://stackoverflow.com/questions/48427927/kotlin-extension-methods-and-null-receiver", "title": "kotlin: extension methods and null receiver", "body": "<p>In lombok extension method <code>obj.method()</code> is a syntax sugar for <code>SomeUtil.method(obj)</code>. It allows for <code>obj</code> be null.</p>\n\n<p>Kotlin extensions methods are resolved statically so I assume it's the same syntactic sugar. But when I wrote</p>\n\n<pre><code>fun Any.stringOrNull() = this?.toString()\n</code></pre>\n\n<p>I got a warning about unnecessary safe call on non-null receiver. Does that mean I can't call extension functions on null objects like with Lombok?</p>\n"}, {"tags": ["android", "opencv", "camera", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 3013206, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/m2eqI.png?s=128&g=1", "display_name": "Spindizzy", "link": "https://stackoverflow.com/users/3013206/spindizzy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516995777, "creation_date": 1516995777, "answer_id": 48468470, "question_id": 48427371, "link": "https://stackoverflow.com/questions/48427371/opencv-multiply-mat-with-scalar-in-kotlin-on-android/48468470#48468470", "title": "OpenCV: multiply Mat with Scalar in Kotlin on Android", "body": "<p>After spending several days on this problem I found a workaround. Unfortunetly I can't really say why the above posted version didn't work.</p>\n\n<p>Even after creating a destination image of the same size and type, the core refused to multiply.</p>\n\n<pre><code>val dest = Mat(src.size(), src.type())\nCore.multiply.(src, scalar, dest) //still raised exception\n</code></pre>\n\n<p>I studied more of the <a href=\"https://docs.opencv.org/java/2.4.9/org/opencv/core/Core.html#multiply(org.opencv.core.Mat,%20org.opencv.core.Scalar,%20org.opencv.core.Mat)\" rel=\"nofollow noreferrer\">javadoc</a> of the core module. One sentence gave me a hint to try it in a another way:</p>\n\n<blockquote>\n  <p>There is also a \"MatrixExpressions\" -friendly variant of the first function. See \"Mat.mul\".</p>\n</blockquote>\n\n<p>So I changed my multiply method:</p>\n\n<pre><code>fun multiply(src: Mat): Mat {\n  val scalar = Scalar(255.0, 255.0, 255.0)\n  val filter = Mat(src.size(), src.type(), scalar)\n  return src.mul(filter)\n}\n</code></pre>\n\n<p>And it worked! This snippet looks even more elegant because it returns the value immedialtely, instead of modyfying a local variable</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11097044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qxYn4.jpg?s=128&g=1", "display_name": "MinhKhang", "link": "https://stackoverflow.com/users/11097044/minhkhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1601893683, "last_edit_date": 1601893683, "creation_date": 1601891585, "answer_id": 64206311, "question_id": 48427371, "link": "https://stackoverflow.com/questions/48427371/opencv-multiply-mat-with-scalar-in-kotlin-on-android/64206311#64206311", "title": "OpenCV: multiply Mat with Scalar in Kotlin on Android", "body": "<p>That means <code>src</code> and <code>dest</code> have difference sizes.</p>\n<p>You need to create <code>dest</code> with:</p>\n<pre><code>val dest = Mat(src.width, src.height)\n</code></pre>\n"}], "owner": {"reputation": 1853, "user_id": 3013206, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/m2eqI.png?s=128&g=1", "display_name": "Spindizzy", "link": "https://stackoverflow.com/users/3013206/spindizzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 885, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601893683, "creation_date": 1516811589, "last_edit_date": 1516993605, "question_id": 48427371, "link": "https://stackoverflow.com/questions/48427371/opencv-multiply-mat-with-scalar-in-kotlin-on-android", "title": "OpenCV: multiply Mat with Scalar in Kotlin on Android", "body": "<p>I'm writing an Android App, using the Camera API 2. It takes 3 pictures in burst mode with different exposure values and merges them with OpenCV (3.0.0). By merging I mean the Mertens algorithm, which is available in the Photo module. In order to save the result as a image on the device, I need to multiply it with a scalar. If I don't do it, then the resulting image is black.</p>\n\n<pre><code>    fun multiply(src: Mat): Mat {\n        val scalar = Scalar(255.0,255.0,255.0)\n        val dest = Mat()\n        Core.multiply(src, scalar, dest)\n        return dest\n    }\n</code></pre>\n\n<p>The source image (src) is of 320x240 CV_32FC3.</p>\n\n<p>But the multiplying fails:</p>\n\n<pre><code>android-pack/opencv/modules/core/src/arithm.cpp:1987: error: (-209) The operation is neither 'array op array' (where arrays have the same size and the same number of channels), nor 'array op scalar', nor 'scalar op array' in function void cv::arithm_op(cv::InputArray, cv::InputArray, cv::OutputArray, cv::InputArray, int, void (**)(const uchar*, size_t, const uchar*, size_t, uchar*, size_t, cv::Size, void*), bool, void*, int)\n</code></pre>\n\n<p>It is strange that this piece of code, written in Java with the old Camera API, works. But I don't think that this is the cause.</p>\n\n<p>So what am I doing wrong here? How can I dive deeper to find the cause?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "edited": false, "score": 0, "creation_date": 1516816145, "post_id": 48426547, "comment_id": 83847857, "body": "Full example below"}], "answers": [{"tags": [], "owner": {"reputation": 288, "user_id": 8412108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KBPOa.jpg?s=128&g=1", "display_name": "Dan Nesfeder", "link": "https://stackoverflow.com/users/8412108/dan-nesfeder"}, "is_accepted": false, "score": 1, "last_activity_date": 1516813625, "creation_date": 1516813625, "answer_id": 48428011, "question_id": 48426547, "link": "https://stackoverflow.com/questions/48426547/android-recyclerview-touch-listener-not-triggered/48428011#48428011", "title": "Android, RecyclerView touch listener not triggered", "body": "<p>This is in Java, but shouldn't you be able to just pass a listener into your <code>ViewHolder</code>s when you create them and use a long click listener to detect the long touch?</p>\n\n<pre><code>class CustomViewHolder extends RecyclerView.ViewHolder implements View.OnLongClickListener {\n\n      private TouchListener listener;\n\n      CustomViewHolder(View itemView, TouchListener listener) {\n        super(itemView);\n        itemView.setOnLongClickListener(this);\n      }\n\n      @Override\n      public boolean onLongClick(View view) {\n        listener.onLongTouch(view, getAdapterPosition());\n        return true;\n      }\n    }\n</code></pre>\n\n<p>You'd also need another callback from your adapter to your <code>Activity</code> but that should be pretty straightforward. </p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "edited": false, "score": 0, "creation_date": 1516815207, "post_id": 48428370, "comment_id": 83847330, "body": "No, I need to place the logic in response to the long touch in the top level in the MainActivity."}, {"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "reply_to_user": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "edited": false, "score": 0, "creation_date": 1516815263, "post_id": 48428370, "comment_id": 83847359, "body": "@PierreDommerc right, i can show you how to do this, but what I am saying is you add a callback in the OnLongClickListener via an interface as per my comment. I will update to paint a clearer picture"}, {"owner": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "edited": false, "score": 0, "creation_date": 1516817556, "post_id": 48428370, "comment_id": 83848651, "body": "Ok, you are right, thank a lot for your code and your time ! I will try this soon. But there is something that bothers me, your code is a diffrent way to do what I expected with mine. Initialy my question was, why my code doesn&#39;t working ? Not how to do that in a diffrent way. Why using RecyclerView.OnItemTouchListener my code doesn&#39;t working ? But thanks anyway ! (If you could answer these questions too, it would be awesome !)"}, {"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "reply_to_user": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "edited": false, "score": 0, "creation_date": 1516819161, "post_id": 48428370, "comment_id": 83849521, "body": "@PierreDommerc i added the solution using your original code as well, but the OnLongClick requires less code so i would stick with that unless you want to intercept all those other gestures."}], "tags": [], "owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "is_accepted": true, "score": 3, "last_activity_date": 1516819071, "last_edit_date": 1516819071, "creation_date": 1516814855, "answer_id": 48428370, "question_id": 48426547, "link": "https://stackoverflow.com/questions/48426547/android-recyclerview-touch-listener-not-triggered/48428370#48428370", "title": "Android, RecyclerView touch listener not triggered", "body": "<p><strong>UPDATE</strong></p>\n\n<p>My first recommendation which I still stick with by would be to build off Dan's answer (but in Kotlin) since you could just add an OnLongClickListener via your bindTask method, but to simplify your code I think your just missing the proper return from <code>onInterceptTouchEvent</code>:</p>\n\n<pre><code>override fun onInterceptTouchEvent(rv: RecyclerView?, e: MotionEvent?): Boolean {\n        return gestureDetector?.onTouchEvent(e) ?: false\n    }\n</code></pre>\n\n<p>returning false here will cause the Touches to not get intercepted.</p>\n\n<p>Example using OnLongClickListener:</p>\n\n<p>First: Update your <code>TaskAdapter code</code> to take in a Listener in the constructor</p>\n\n<pre><code>class TaskAdapter(val taskListener: TaskListener, tasks: MutableList&lt;Task&gt; = ArrayList()) : RecyclerView.Adapter&lt;TaskAdapter.TaskViewHolder&gt;() {\n\n\n    var tasks: MutableList&lt;Task&gt; = tasks\n        set(value) {\n            field = value\n            notifyDataSetChanged()\n        }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): TaskViewHolder {\n        val context = parent?.context\n        val view = LayoutInflater.from(context)?.inflate(R.layout.list_item_task, parent, false)\n        return TaskViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return tasks.size\n    }\n\n    override fun onBindViewHolder(holder: TaskViewHolder?, position: Int) {\n        holder?.bindTask(tasks[position])\n    }\n\n    fun addTask(task: Task) {\n        tasks.add(task)\n        notifyDataSetChanged()\n    }\n\n    fun removeTask(task: Task) {\n        tasks.remove(task)\n        notifyDataSetChanged()\n    }\n\n    inner class TaskViewHolder(view: View?) : RecyclerView.ViewHolder(view) {\n        private val descriptionTextView = view?.findViewById(R.id.task_description) as TextView\n        private val completedCheckBox = view?.findViewById(R.id.task_completed) as CheckBox\n        private val parentView = view\n\n        fun bindTask(task: Task) {\n            descriptionTextView.text = task.description\n            completedCheckBox.isChecked = task.completed\n\n            completedCheckBox.setOnCheckedChangeListener { _, isChecked -&gt;\n                tasks[adapterPosition].completed = isChecked\n            }\n\n            parentView?.setOnLongClickListener({\n                view: View? -&gt;\n                    // the callback to the activity\n                    taskListener.onLongPressed(view, task)\n                true\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>Second: Create the interface to implement in your Activity: </p>\n\n<pre><code>interface TaskListener{\n\n    fun onLongPressed(view: View?, task: Task)\n}\n</code></pre>\n\n<p>Third: Usage</p>\n\n<pre><code> class MainActivity : AppCompatActivity(), TaskListener {\n\n     override fun onCreate(savedInstanceState: Bundle?) {\n         super.onCreate(savedInstanceState)\n         setContentView(R.layout.activity_main)\n\n         adapter = TaskAdapter(this) // 'this' is the TaskListener\n\n         //... other onCreate Code\n\n     }\n\n     // interface method to intercept the long click\n     override fun onLongPressed(view: View?, task: Task) {\n         Log.d(\"TAG\", \"Item longPressed! ${task.description}\")\n    }\n\n }\n</code></pre>\n\n<p>Good Luck and Happy coding!</p>\n"}], "owner": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 0, "accepted_answer_id": 48428370, "answer_count": 2, "score": 1, "last_activity_date": 1516819071, "creation_date": 1516809270, "last_edit_date": 1516811411, "question_id": 48426547, "link": "https://stackoverflow.com/questions/48426547/android-recyclerview-touch-listener-not-triggered", "title": "Android, RecyclerView touch listener not triggered", "body": "<p>In my RecyclerView I need to implement a long touch listener for trigger some logic when a user press on a item of the list.\nI code in Kotlin.</p>\n\n<p>First, to do that I create this interface</p>\n\n<pre><code>    interface TouchListener {\n    fun onLongTouch(view: View, position: Int)\n    }\n</code></pre>\n\n<p>Then I implement the RecyclerView.OnItemTouchListener</p>\n\n<pre><code>class RecyclerTouchListener(context: Context, recycleView: RecyclerView , private val touchListener: TouchListener?) : RecyclerView.OnItemTouchListener {\n    private var gestureDetector: GestureDetectorCompat? = null\n\n    init {\n        gestureDetector = GestureDetectorCompat(context, object : SimpleOnGestureListener() {\n            override fun onDown(event: MotionEvent): Boolean {\n                //this code is never reached\n                Log.i(\"Gestures\", \"onDown !\")\n                return true\n            }\n\n            override fun onLongPress(e: MotionEvent?) {\n                //this code is never reached\n                Log.i(\"Gestures\", \"onLongPress !\")\n                val child = if (e != null) recycleView.findChildViewUnder(e.x, e.y) else return\n                touchListener?.onLongTouch(child, recycleView.getChildAdapterPosition(child))\n            }\n        })\n    }\n\n    override fun onInterceptTouchEvent(rv: RecyclerView?, e: MotionEvent?): Boolean {\n        return false\n    }\n\n    //mandatory implementations\n    override fun onTouchEvent(rv: RecyclerView?, e: MotionEvent?) {}\n    override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n}\n</code></pre>\n\n<p>Here is my RecyclerView's Adapter</p>\n\n<pre><code>class TaskAdapter(tasks: MutableList&lt;Task&gt; = ArrayList()) : RecyclerView.Adapter&lt;TaskAdapter.TaskViewHolder&gt;() {\n\n    var tasks: MutableList&lt;Task&gt; = tasks\n        set(value) {\n            field = value\n            notifyDataSetChanged()\n        }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): TaskViewHolder {\n        val context = parent?.context\n        val view = LayoutInflater.from(context)?.inflate(R.layout.list_item_task, parent, false)\n        return TaskViewHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return tasks.size\n    }\n\n    override fun onBindViewHolder(holder: TaskViewHolder?, position: Int) {\n        holder?.bindTask(tasks[position])\n    }\n\n    fun addTask(task: Task) {\n        tasks.add(task)\n        notifyDataSetChanged()\n    }\n\n    fun removeTask(task: Task) {\n        tasks.remove(task)\n        notifyDataSetChanged()\n    }\n\n    inner class TaskViewHolder(view: View?) : RecyclerView.ViewHolder(view) {\n        private val descriptionTextView = view?.findViewById(R.id.task_description) as TextView\n        private val completedCheckBox = view?.findViewById(R.id.task_completed) as CheckBox\n\n        fun bindTask(task: Task) {\n            descriptionTextView.text = task.description\n            completedCheckBox.isChecked = task.completed\n\n            completedCheckBox.setOnCheckedChangeListener { _, isChecked -&gt;\n                tasks[adapterPosition].completed = isChecked\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So now in my MainActivity I call the <code>recyclerView.addOnItemTouchListener()</code> to set my custom RecyclerTouchListener and implement my own TouchListener interface.</p>\n\n<pre><code> class MainActivity : AppCompatActivity() {\n\n    private var adapter: TaskAdapter? = TaskAdapter()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.task_list)\n        recyclerView.layoutManager = LinearLayoutManager(this)\n        recyclerView.addOnItemTouchListener(RecyclerTouchListener(this, recyclerView, object : TouchListener {\n            override fun onLongTouch(view: View, position: Int) {\n                //again this code is never reached\n                Log.i(\"Gestures\", \"onLongPress !\")\n                Toast.makeText(this@MainActivity, \"Long touch on position        :\"+position,\n                        Toast.LENGTH_SHORT).show()\n            }\n        }))\n        recyclerView.adapter = adapter\n    }\n</code></pre>\n\n<p>The problem is this code compile and run perfectly but the long press listener is never triggered. And I'm totally stuck on it. Where i'm wrong?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-viewmodel"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516802844, "post_id": 48424364, "comment_id": 83838312, "body": "Theoretically the Activity ViewModel is the shared superscoped view model that can share the data to all fragments via LiveData subscription."}, {"owner": {"reputation": 406, "user_id": 5911793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vfSev.png?s=128&g=1", "display_name": "RareNCool", "link": "https://stackoverflow.com/users/5911793/rarencool"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516802939, "post_id": 48424364, "comment_id": 83838386, "body": "@EpicPandaForce That&#39;s what I&#39;m currently doing, but it means that I&#39;ve got potentially <i>thousands</i> of items there that aren&#39;t even being used anymore. That seems really bad."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1516802985, "post_id": 48424364, "comment_id": 83838410, "body": "Paging library will solve this problem, but it&#39;s currently <code>alpha5</code>"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 1, "creation_date": 1516803677, "post_id": 48424364, "comment_id": 83838891, "body": "When dealing with large datasets it is common to use some type of persistent store and then pass the id of the item that is of interest to the next object. That object will then access the repository(persistent store) and retrieve the details for that id."}, {"owner": {"reputation": 406, "user_id": 5911793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vfSev.png?s=128&g=1", "display_name": "RareNCool", "link": "https://stackoverflow.com/users/5911793/rarencool"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1516804971, "post_id": 48424364, "comment_id": 83839935, "body": "@dazza5000 I&#39;d considered doing that. However, it means 1) more network requests for the user and 2) more network requests (i.e. higher charges) for my API. Also I could be wrong, but I don&#39;t think that quite takes care of the issue of what to do when an item is changed or added."}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 5911793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vfSev.png?s=128&g=1", "display_name": "RareNCool", "link": "https://stackoverflow.com/users/5911793/rarencool"}, "edited": false, "score": 0, "creation_date": 1519063299, "post_id": 48870746, "comment_id": 84747186, "body": "I&#39;ll look into RxJava. It sounds like that could be the answer to my problems. Either way you&#39;ve definitely given me useful information here. If you happen to know off the top of your head, would <code>ListFragmentViewModel</code> still receive events even though it&#39;s not attached to the currently active fragment?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 406, "user_id": 5911793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vfSev.png?s=128&g=1", "display_name": "RareNCool", "link": "https://stackoverflow.com/users/5911793/rarencool"}, "edited": false, "score": 2, "creation_date": 1519063838, "post_id": 48870746, "comment_id": 84747483, "body": "@RareNCool: Assuming that you are referring to the official <code>ViewModel</code> implementation from the Architecture Components, I think it should be OK. It dawns on me as I write this that the scenarios where I have used the pattern in my answer, it was with an activity-level <code>ViewModel</code>, not a fragment-level one. However, either your <code>ListFragmentViewModel</code> will still exist in the provider&#39;s cache (in which case, it can remain subscribed to the event stream), or the <code>ListFragmentViewModel</code> gets recreated from scratch (in which case, you don&#39;t have the out-of-date data anyway, as that&#39;s gone)."}, {"owner": {"reputation": 358, "user_id": 12390579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0818c62a550cc45d66393a1bcfdf2fc6?s=128&d=identicon&r=PG&f=1", "display_name": "vrgrg", "link": "https://stackoverflow.com/users/12390579/vrgrg"}, "edited": false, "score": 0, "creation_date": 1589316136, "post_id": 48870746, "comment_id": 109244829, "body": "So the item repository should be a singleton and hold the state? Is it Ok for the repository to be a singleton?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 358, "user_id": 12390579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0818c62a550cc45d66393a1bcfdf2fc6?s=128&d=identicon&r=PG&f=1", "display_name": "vrgrg", "link": "https://stackoverflow.com/users/12390579/vrgrg"}, "edited": false, "score": 1, "creation_date": 1589317654, "post_id": 48870746, "comment_id": 109245548, "body": "@Angelina: Repositories, where used, are almost always singletons. However, ideally, they are managed by a dependency inversion framework (Dagger, Koin, etc.) rather than being ordinary <code>static</code> Java fields, Kotlin <code>object</code>, etc. That way, the consumers of the repositories can use mocks or fakes in testing. The repository itself then often delegates to &quot;data store&quot; objects for saving things to files, databases, the Web service, etc. The repository handles details of converting between models used by the main app and the objects needed by those data stores (e.g., Room entities, Retrofit types)."}, {"owner": {"reputation": 358, "user_id": 12390579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0818c62a550cc45d66393a1bcfdf2fc6?s=128&d=identicon&r=PG&f=1", "display_name": "vrgrg", "link": "https://stackoverflow.com/users/12390579/vrgrg"}, "edited": false, "score": 0, "creation_date": 1589350702, "post_id": 48870746, "comment_id": 109255092, "body": "Thanks for the answer! So you suggest to use DI scope for repository and it is OK? I was worried about keeping a state in a singleton. Because if a repo is used to share data between 2 ViewModels it has to be singleton, i guess."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 358, "user_id": 12390579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0818c62a550cc45d66393a1bcfdf2fc6?s=128&d=identicon&r=PG&f=1", "display_name": "vrgrg", "link": "https://stackoverflow.com/users/12390579/vrgrg"}, "edited": false, "score": 1, "creation_date": 1589366284, "post_id": 48870746, "comment_id": 109262859, "body": "@Angelina: &quot;So you suggest to use DI scope for repository and it is OK?&quot; -- that is a typical solution. &quot;Because if a repo is used to share data between 2 ViewModels it has to be singleton, i guess.&quot; -- correct."}, {"owner": {"reputation": 358, "user_id": 12390579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0818c62a550cc45d66393a1bcfdf2fc6?s=128&d=identicon&r=PG&f=1", "display_name": "vrgrg", "link": "https://stackoverflow.com/users/12390579/vrgrg"}, "edited": false, "score": 0, "creation_date": 1589366350, "post_id": 48870746, "comment_id": 109262903, "body": "@CommonsWare Thanks a lot for explanation!"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 4, "last_activity_date": 1519059401, "creation_date": 1519059401, "answer_id": 48870746, "question_id": 48424364, "link": "https://stackoverflow.com/questions/48424364/pass-data-between-fragment-viewmodels/48870746#48870746", "title": "Pass data between fragment viewmodels", "body": "<blockquote>\n  <p>let's say I add a new item in EditFragment. How do I get that into ListFragmentViewModel's collection of items?</p>\n</blockquote>\n\n<p><code>EditFragment</code> tells your item repository, \"yo! here's a new item!\". The item repository arranges to update your backing store, plus emits an event to interested parties notifying about the data change (e.g., emits an event on an RxJava <code>PublishSubject</code>). The <code>ListFragmentViewModel</code> listens for those events and reacts accordingly.</p>\n\n<blockquote>\n  <p>ListFragment is in the back-stack, so its viewmodel hangs around and doesn't reload the data when it's navigated back to, since it still has the collection from before</p>\n</blockquote>\n\n<p>It should be finding out about the data change from your item repository, and doing whatever makes sense to reflect that data change. That could be simply taking data from the data-change event and updating its in-memory content. That could be re-requesting information from the backing store. In principle, it could be something else.</p>\n"}], "owner": {"reputation": 406, "user_id": 5911793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/vfSev.png?s=128&g=1", "display_name": "RareNCool", "link": "https://stackoverflow.com/users/5911793/rarencool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4280, "favorite_count": 3, "accepted_answer_id": 48870746, "answer_count": 1, "score": 5, "last_activity_date": 1519059401, "creation_date": 1516802660, "question_id": 48424364, "link": "https://stackoverflow.com/questions/48424364/pass-data-between-fragment-viewmodels", "title": "Pass data between fragment viewmodels", "body": "<p>Let me just say up front that this is more of a \"structural\" question, and I'm not asking anybody to write code; I'm just trying to figure out how I should be structuring my application.</p>\n\n<p>I'm using Android's <code>DrawerLayout</code>/<code>NavigationView</code> for my app. This means that <code>MainActivity</code> is the host for all my fragments.</p>\n\n<p>I currently have three fragments (in reality it's many more, but they are more or less exactly like these three fragments, just for different sets of data).</p>\n\n<ul>\n<li>ListFragment</li>\n<li>DetailFragment</li>\n<li>EditFragment (used for both adding and editing)</li>\n</ul>\n\n<p>On my <code>ListFragment</code> I have (surprise!) a list of items. This is a <code>LiveData</code> collection on <code>SharedViewModel</code> (which is tied to <code>MainActivity</code>'s lifecycle). When an item is tapped I pass the event through to <code>MainActivity</code> by means of an interface listener.</p>\n\n<p><code>MainActivity</code> then loads up the <code>DetailFragment</code>. In the same call, I load an instance of <code>SharedViewModel</code> (again tied to <code>MainActivity</code>). I set <code>SharedViewModel.selectedItem</code> to be the tapped item. Then, in <code>DetailFragment</code>'s <code>onCreate</code> function, I get the selected item via <code>ViewModelProviders.of(activity).get(SharedViewModel::class.java).selectedItem</code>.</p>\n\n<p>On the <code>DetailFragment</code>, there's an edit button. This goes through more or less the same routine described above, but loading up the <code>EditFragment</code> instead. When the edited/added item is saved, I add/replace the item in <code>SharedViewModel</code>'s collection through <code>MainActivity</code>'s interface listener.</p>\n\n<p>Obviously this is not optimal for several reasons. For one, it means that I've got at least five large sets of data hanging around for <code>MainActivity</code>'s lifecycle (the entire lifecycle of the app, essentially). Also, <code>MainActivity</code> grows way out of hand as I have to add more and more functions to handle events.</p>\n\n<p>What I <em>want</em> to do is have, for example, my list of items on a <code>ListFragmentViewModel</code> which is tied to <em><code>ListFragment</code>'s lifecycle</em>.  My selected item on a <code>DetailFragmentViewModel</code>, my editing item on an <code>EditFragmentViewModel</code>, etc.</p>\n\n<p>My problem is that I'm not sure how to properly pass the data around in this case. For example, let's say I add a new item in <code>EditFragment</code>. How do I get that into <code>ListFragmentViewModel</code>'s collection of items? <code>ListFragment</code> is in the back-stack, so its viewmodel hangs around and doesn't reload the data when it's navigated back to, since it still has the collection from before. This makes sense and is probably how it <em>should</em> be (after all, who wants to wait for all the data to load when they go to <code>DetailFragment</code> and back to <code>ListFragment</code>?), but it means that I don't get my new item in the collection.</p>\n\n<p>That's just one example, but I'm running into quite a few issues like it (e.g. passing the selected item to <code>DetailFragmentViewModel</code>.)</p>\n\n<p>I'm not quite sure what direction I should even be going here. Can someone more experienced help me out?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 4074312, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qZYoV.jpg?s=128&g=1", "display_name": "Orcun Sevsay", "link": "https://stackoverflow.com/users/4074312/orcun-sevsay"}, "edited": false, "score": 0, "creation_date": 1516814921, "post_id": 48427739, "comment_id": 83847143, "body": "Is there another way to query arrays from fireStore that you know? @SamStern Thanks for the clarifying the issue by the way. I hope Firebase team fix this issue as soon as possible."}, {"owner": {"reputation": 22513, "user_id": 324977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1ea440b30b1a2555983ba2a632012b3b?s=128&d=identicon&r=PG", "display_name": "Sam Stern", "link": "https://stackoverflow.com/users/324977/sam-stern"}, "reply_to_user": {"reputation": 887, "user_id": 4074312, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qZYoV.jpg?s=128&g=1", "display_name": "Orcun Sevsay", "link": "https://stackoverflow.com/users/4074312/orcun-sevsay"}, "edited": false, "score": 0, "creation_date": 1516817724, "post_id": 48427739, "comment_id": 83848741, "body": "@MiloRambaldi right now there is not a workaround that I know of, but I will post here if I find one."}], "tags": [], "owner": {"reputation": 22513, "user_id": 324977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1ea440b30b1a2555983ba2a632012b3b?s=128&d=identicon&r=PG", "display_name": "Sam Stern", "link": "https://stackoverflow.com/users/324977/sam-stern"}, "is_accepted": true, "score": 0, "last_activity_date": 1541611826, "last_edit_date": 1541611826, "creation_date": 1516812750, "answer_id": 48427739, "question_id": 48423804, "link": "https://stackoverflow.com/questions/48423804/firebasefirestoreexception-unimplemented-unsupported-fieldfilter-value-type-9/48427739#48427739", "title": "FirebaseFirestoreException: UNIMPLEMENTED: Unsupported FieldFilter value type: 9", "body": "<p><strong>Update</strong>: Since my original answer, Cloud Firestore has added support for these kinds of queries.  You should not see this error message anymore.</p>\n\n<p>You can now query arrays, as well as do <code>array-contains</code> queries for individual array elements.</p>\n\n<hr />\n\n<p><em>[Firebaser here]</em> You have diagnosed this correctly, the error message you are seeing is because you are doing a <code>whereEqualTo</code> query against an array value.  You would get a similar error message if you passed in a <code>Map&lt;&gt;</code> value to the same clause.</p>\n\n<p>The first thing we will do is improve this error message, and then possibly add support for these queries in the future.</p>\n"}], "owner": {"reputation": 887, "user_id": 4074312, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qZYoV.jpg?s=128&g=1", "display_name": "Orcun Sevsay", "link": "https://stackoverflow.com/users/4074312/orcun-sevsay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 48427739, "answer_count": 1, "score": 0, "last_activity_date": 1541611826, "creation_date": 1516800940, "last_edit_date": 1517061207, "question_id": 48423804, "link": "https://stackoverflow.com/questions/48423804/firebasefirestoreexception-unimplemented-unsupported-fieldfilter-value-type-9", "title": "FirebaseFirestoreException: UNIMPLEMENTED: Unsupported FieldFilter value type: 9", "body": "<p>I'm getting this weird exception from Firebase when I'm trying to query data. This error happens occasionally. Sometimes it works perfectly fine, but sometimes <code>task.isSuccessful</code> returns false. <code>attrs</code> is a String array field which have 2 items in Firestore. Is it happening because of using <code>whereEqualTo</code> on a String array? Or am I missing something else?</p>\n\n<p>I'm using <a href=\"https://firebase.google.com/docs/firestore/query-data/queries?authuser=0#compound_queries\" rel=\"nofollow noreferrer\">this link</a> as a guide. I really want to understand why I'm getting this error. Thanks.</p>\n\n<p>Code: </p>\n\n<pre><code>val queryOrderedAttributeList = attributeList\n                .sortedBy { cardAttribute -&gt; cardAttribute.name }\n                .map { it.name.toLowerCase() }\n\n        val db = FirebaseFirestore.getInstance()\n        val collectionRef = db.collection(\"dbAllCards\")\n        val query = collectionRef.whereEqualTo(\"attrs\", queryOrderedAttributeList)\n\nquery.get().addOnCompleteListener { task -&gt;\n            if (task.isSuccessful) {\n                task.result.forEach { document: DocumentSnapshot? -&gt;\n                    document?.id?.let { cardList.add(it) }\n                    Log.e(\"firebase\", \"${document?.id} -&gt; ${document?.data}\")\n                }\n            } else {\n                Log.d(\"firebase\", \"Error getting documents: \", task.exception)\n            }\n            loadCardPathList(cardList)\n        }\n</code></pre>\n\n<p>Error getting documents: </p>\n\n<pre><code>com.google.firebase.firestore.FirebaseFirestoreException: UNIMPLEMENTED: Unsupported FieldFilter value type: 9\n              at com.google.android.gms.internal.zzevs.zzf(Unknown Source)\n              at com.google.android.gms.internal.zzenb.zza(Unknown Source)\n              at com.google.android.gms.internal.zzeoa.zza(Unknown Source)\n              at com.google.android.gms.internal.zzenf.zza(Unknown Source)\n              at com.google.android.gms.internal.zzett.zza(Unknown Source)\n              at com.google.android.gms.internal.zzett.zza(Unknown Source)\n              at com.google.android.gms.internal.zzetu.zzb(Unknown Source)\n              at com.google.android.gms.internal.zzeup.zzcg(Unknown Source)\n              at com.google.android.gms.internal.zzeth.zzcg(Unknown Source)\n              at com.google.android.gms.internal.zzevi.zzch(Unknown Source)\n              at com.google.android.gms.internal.zzfmg.zzch(Unknown Source)\n              at io.grpc.internal.zzac.zzdep(Unknown Source)\n              at io.grpc.internal.zzaq.run(Unknown Source)\n              at io.grpc.internal.zzeo.run(Unknown Source)\n              at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\n              at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n              at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272)\n              at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n              at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n              at com.google.android.gms.internal.zzeuu$zza.run(Unknown Source)\n              at java.lang.Thread.run(Thread.java:761)\n            Caused by: com.google.adroid.gms.internal.zzfk: UNIMPLEMENTED: nsupported ieldFilter value ype: 9\n              at com.google.android.gms.internal.zzfof.zzddl(Unknown Source)\n              at com.google.android.gms.internal.zzevs.zzf(Unknown Source) \n              at com.google.android.gms.internal.zzenb.zza(Unknown Source) \n              at com.google.android.gms.internal.zzeoa.zza(Unknown Source) \n              at com.google.android.gms.internal.zzenf.zza(Unknown Source) \n              at com.google.android.gms.internal.zzett.zza(Unknown Source) \n              at com.google.android.gms.internal.zzett.zza(Unknown Source) \n              at com.google.android.gms.internal.zzetu.zzb(Unknown Source) \n              at com.google.android.gms.internal.zzeup.zzcg(Unknown Source) \n              at com.google.android.gms.internal.zzeth.zzcg(Unknown Source) \n              at com.google.android.gms.internal.zzevi.zzch(Unknown Source) \n              at com.google.android.gms.internal.zzfmg.zzch(Unknown Source) \n              at io.grpc.internal.zzac.zzdep(Unknown Source) \n              at io.grpc.internal.zzaq.run(Unknown Source) \n              at io.grpc.internal.zzeo.run(Unknown Source) \n              at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428) \n              at java.util.concurrent.FutureTask.run(FutureTask.java:237) \n              at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:272) \n              at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133) \n              at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607) \n              at com.google.android.gms.internal.zzeuu$zza.run(Unknown Source) \n              at java.lang.Thread.run(Thread.java:761) \n</code></pre>\n"}, {"tags": ["object", "java-native-interface", "kotlin", "native"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "edited": false, "score": 0, "creation_date": 1516806770, "post_id": 48424849, "comment_id": 83841308, "body": "my question was not about the difference between JNI and kotlin/native but about how kotlin/native meant to replace jni , for exemple in .net native to replace P/invoke calls the compiler load the dll containing the unmanaged code after this he emit the code in the final execuatable ,is it the same processus for kotlin/native ."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "edited": false, "score": 0, "creation_date": 1516807113, "post_id": 48424849, "comment_id": 83841554, "body": "Kotlin native doesn&#39;t do the same thing as JNI, so it doesn&#39;t need to deal with native calls"}, {"owner": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "edited": false, "score": 0, "creation_date": 1516813457, "post_id": 48424849, "comment_id": 83846213, "body": "if it doesn&#39;t ho will do it, we both now that kotline is built under the java byte code and java byte code have to call native code using jni for doing a lot of things"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "edited": false, "score": 2, "creation_date": 1516817834, "post_id": 48424849, "comment_id": 83848800, "body": "Kotlin/Native does not compile to java byte code, and it can run outside the JVM, so JNI would not be accessible"}, {"owner": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "edited": false, "score": 0, "creation_date": 1516895410, "post_id": 48424849, "comment_id": 83885766, "body": "ok it &#39;s true from the kotline site : Note that we do not intend to make arbitrary Kotlin/JVM programs runnable on Kotlin/Native or Kotlin/JS. It would be equivalent to implementing another JVM, which is both a lot of work and a lot of limitations for the runtime. We are going another way: providing a common language for all platforms while enabling creation of common libraries through seamless interoperability with platform code. thanks man."}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 2, "last_activity_date": 1516804102, "creation_date": 1516804102, "answer_id": 48424849, "question_id": 48423468, "link": "https://stackoverflow.com/questions/48423468/how-does-java-jni-interact-with-kotlin-native-to-find-object-values/48424849#48424849", "title": "How does Java JNI interact with Kotlin/Native to find object values?", "body": "<h1>What is Kotlin native</h1>\n\n<p>Kotlin/Native does not do the same thing as JNI, the site describes Kotlin/Native like this...</p>\n\n<blockquote>\n  <p>Kotlin/Native is a technology for compiling Kotlin to native binaries that run without any VM. It comprises a LLVM-based backend for the Kotlin compiler and a native implementation of the Kotlin runtime library. Kotlin/Native is primarily designed to allow compilation for platforms where virtual machines are not desirable or possible (such as iOS, embedded targets), or where a developer needs to produce a reasonably-sized self-contained program that does not require an additional runtime.\n  [<a href=\"https://kotlinlang.org/docs/reference/native-overview.html\" rel=\"nofollow noreferrer\">Source</a>]</p>\n</blockquote>\n\n<p>JNI lets Java code talk to native code, whereas Kotlin/Native allows you to compile Kotlin code into a native executable that does not require a JVM to run.</p>\n"}], "owner": {"reputation": 75, "user_id": 9262035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6SJ8.png?s=128&g=1", "display_name": "Achrouf Abdenour", "link": "https://stackoverflow.com/users/9262035/achrouf-abdenour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1516804138, "creation_date": 1516799894, "last_edit_date": 1516804138, "question_id": 48423468, "link": "https://stackoverflow.com/questions/48423468/how-does-java-jni-interact-with-kotlin-native-to-find-object-values", "title": "How does Java JNI interact with Kotlin/Native to find object values?", "body": "<p>From JetBrains  site :</p>\n\n<blockquote>\n  <p>Kotlin/Native is a technology for compiling Kotlin to native binaries that run without any VM.</p>\n</blockquote>\n\n<p>But how does Kotlin interact with JNI , in my knowledge if a C/C++ program using JNI wants to access a java field it has to use the <code>GetFieldID</code> function, but the C program needs information from the JVM describing the object and its value. </p>\n\n<p>How does kotlin/Native resolve the value of fields, if Kotlin makes programs that doesn't depend on the VM how can it get the value of Java fields?</p>\n"}, {"tags": ["kotlin", "tableview", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 4, "last_activity_date": 1516799864, "creation_date": 1516799864, "answer_id": 48423460, "question_id": 48423014, "link": "https://stackoverflow.com/questions/48423014/tornadofx-tableview-get-selected-row-value/48423460#48423460", "title": "TornadoFX TableView: get selected row value", "body": "<p>You have already discovered that you got an instance of your <code>Persona</code> class, so the fields are readily available to you. However, TornadoFX has a convenience function to handle double click on a TableRow:</p>\n\n<pre><code>onUserSelect { persona -&gt;\n    println(persona.nome)\n}\n</code></pre>\n\n<p>The <code>onUserSelect</code> function takes an optional parameter to configure how many clicks to react on, default is 2, so it works as a double click callback.</p>\n"}], "owner": {"reputation": 1501, "user_id": 7156713, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/92a37e025104ef2adec392bce783942a?s=128&d=identicon&r=PG&f=1", "display_name": "matteo", "link": "https://stackoverflow.com/users/7156713/matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "accepted_answer_id": 48423460, "answer_count": 1, "score": 1, "last_activity_date": 1516799864, "creation_date": 1516798454, "question_id": 48423014, "link": "https://stackoverflow.com/questions/48423014/tornadofx-tableview-get-selected-row-value", "title": "TornadoFX TableView: get selected row value", "body": "<p>I have this TableView in TornadoFX (Kotlin):</p>\n\n<pre><code>class MainView : View() {\n\n    val persone = listOf(\n            Persona(\"marco\", LocalDate.of(1980, 12, 20)),\n            Persona(\"francesca\", LocalDate.of(1950, 1, 10)),\n            Persona(\"caterina\", LocalDate.of(1973, 5, 3))\n    ).observable()\n\n    var tbl: TableView&lt;Persona&gt; by singleAssign()\n\n    override val root = vbox(10.0)\n\n    init {\n        with(root) {\n            this.setMaxSize(300.0, 300.0)\n            tbl = tableview(persone) {\n                column(\"Nome\", Persona::nome)\n                column(\"Data di nascita\", Persona::birthday)\n                column(\"Et\u00e0\", Persona::eta)\n\n                selectionModel.selectionMode = SelectionMode.SINGLE\n                onDoubleClick {\n                    println(this.selectedItem)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>when I do a double click on a row, I see this result:\ncom.kotlin.test.Persona@581f0ad3</p>\n\n<p>how can I get the value of the fields?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-webflux"], "answers": [{"comments": [{"owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 0, "creation_date": 1525254971, "post_id": 48424166, "comment_id": 87281369, "body": "So what do we need to do if we want to have the strings seperated from each other?"}, {"owner": {"reputation": 2131, "user_id": 8951344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdfbf61395a8ed79dac340aa909c9c8f?s=128&d=identicon&r=PG", "display_name": "MuratOzkan", "link": "https://stackoverflow.com/users/8951344/muratozkan"}, "edited": false, "score": 2, "creation_date": 1525256357, "post_id": 48424166, "comment_id": 87282270, "body": "The answer is clear: You have to wrap it. The answer above works; although you could do it like this as well: <code>fun a() = Flux.just(&quot;Hello&quot;, &quot;World&quot;).collectList()</code>"}, {"owner": {"reputation": 1133, "user_id": 1053629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTb5c.jpg?s=128&g=1", "display_name": "Tires", "link": "https://stackoverflow.com/users/1053629/tires"}, "edited": false, "score": 2, "creation_date": 1551379157, "post_id": 48424166, "comment_id": 96628842, "body": "Converting to a list is loosing reactivness"}, {"owner": {"reputation": 4484, "user_id": 480980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4780f0522e2b4f2ec1969b5bd44ac33f?s=128&d=identicon&r=PG", "display_name": "Rossen Stoyanchev", "link": "https://stackoverflow.com/users/480980/rossen-stoyanchev"}, "edited": false, "score": 1, "creation_date": 1552567025, "post_id": 48424166, "comment_id": 97064288, "body": "Indeed the answer is correct. This is also covered in the docs <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-codecs-jackson\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"}, {"owner": {"reputation": 3053, "user_id": 1660475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZLmhB.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/1660475/sam"}, "edited": false, "score": 0, "creation_date": 1584542539, "post_id": 48424166, "comment_id": 107469137, "body": "It does not loose reactivness since you get a Mono"}], "tags": [], "owner": {"reputation": 165, "user_id": 1053795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ea43670c1baf50ffd6c2bd231817445?s=128&d=identicon&r=PG", "display_name": "Artem Yarulin", "link": "https://stackoverflow.com/users/1053795/artem-yarulin"}, "is_accepted": true, "score": 13, "last_activity_date": 1516802005, "creation_date": 1516802005, "answer_id": 48424166, "question_id": 48421597, "link": "https://stackoverflow.com/questions/48421597/returning-fluxstring-from-spring-webflux-returns-one-string-instead-of-array-o/48424166#48424166", "title": "Returning Flux&lt;String&gt; from Spring WebFlux returns one string instead of array of strings in JSON", "body": "<p>Got an answer from S\u00e9bastien Deleuze (Spring framework committer) in Twitter <a href=\"https://twitter.com/sdeleuze/status/956136517348610048\" rel=\"noreferrer\">https://twitter.com/sdeleuze/status/956136517348610048</a></p>\n\n<blockquote>\n  <p>Indeed when element type is String, the handler method is expected to provide directly well formed JSON String chunks, no serialization with Jackson is involved.</p>\n</blockquote>\n"}], "owner": {"reputation": 165, "user_id": 1053795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ea43670c1baf50ffd6c2bd231817445?s=128&d=identicon&r=PG", "display_name": "Artem Yarulin", "link": "https://stackoverflow.com/users/1053795/artem-yarulin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3527, "favorite_count": 0, "accepted_answer_id": 48424166, "answer_count": 1, "score": 10, "last_activity_date": 1516802005, "creation_date": 1516793881, "question_id": 48421597, "link": "https://stackoverflow.com/questions/48421597/returning-fluxstring-from-spring-webflux-returns-one-string-instead-of-array-o", "title": "Returning Flux&lt;String&gt; from Spring WebFlux returns one string instead of array of strings in JSON", "body": "<p>new to Spring WebFlux, trying to return array of strings in one endpoint and for some reason it returns one concatenated string istead of JSON array. </p>\n\n<p>Wrapping it with some class solves the problem but wonder how to actually return array of strings? Returning for example <code>Array&lt;String&gt;</code> works as expected</p>\n\n<pre><code>class Wrapper(val data: String) {\n\n@RestController\nclass Test() {\n     @RequestMapping(\"/wrapped\") // Returns valid JSON array: [{\"value\":\"Hello\"},{\"value\":\"World\"}]\n     fun b() = Flux.just(Wrapper(\"Hello\"),Wrapper(\"World\"))\n     @RequestMapping(\"/raw\") // Returns not valid JSON with just one concatenated string: HelloWorld\n     fun a() = Flux.just(\"Hello\", \"World\")\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "edited": false, "score": 0, "creation_date": 1516789318, "post_id": 48419935, "comment_id": 83829639, "body": "Nice answer:) But looking for a way in which it can be solved using some language feature. Lilke for eg in scala it can be solved using implicit (I am not sure though)?"}, {"owner": {"reputation": 474, "user_id": 8746860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fZNrW.jpg?s=128&g=1", "display_name": "1resu", "link": "https://stackoverflow.com/users/8746860/1resu"}, "edited": false, "score": 0, "creation_date": 1516789998, "post_id": 48419935, "comment_id": 83830105, "body": "There is no language feature that solves your problem"}, {"owner": {"reputation": 1427, "user_id": 1815052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bed5ab71b8d23d9bf07a5fa12915699c?s=128&d=identicon&r=PG", "display_name": "SqueezyMo", "link": "https://stackoverflow.com/users/1815052/squeezymo"}, "reply_to_user": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "edited": false, "score": 2, "creation_date": 1516791727, "post_id": 48419935, "comment_id": 83831175, "body": "@Ashwin It could be solved with union types which is a regularly requested feature, but language designers are reluctant to add them to Kotlin (they would bring a lot of complexity into the mix). See this <a href=\"https://discuss.kotlinlang.org/t/union-types/77/4\" rel=\"nofollow noreferrer\">discussion</a>."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 2, "last_activity_date": 1516789038, "creation_date": 1516789038, "answer_id": 48419935, "question_id": 48419868, "link": "https://stackoverflow.com/questions/48419868/is-there-a-way-to-extend-a-function-in-kotlin/48419935#48419935", "title": "Is there a way to extend a function in Kotlin?", "body": "<p>Just create class that holds common parameters:</p>\n\n<pre><code>object Helper {\n\n    data class Param(\n        val constParam1: Boolean,\n        val constParam2: String,\n        val constParam3: Float\n    )\n\n    fun getValuesForBlah1(param: Param, varParam : Int)\n\n    fun getValuesForBlah2(param: Param, varParam : SomeClass)\n\n    fun getValuesForBlah3(param: Param, varParam : SomeOtherClass)\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 742, "user_id": 6395022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGTay.jpg?s=128&g=1", "display_name": "Ngima Sherpa", "link": "https://stackoverflow.com/users/6395022/ngima-sherpa"}, "is_accepted": false, "score": 1, "last_activity_date": 1516862919, "last_edit_date": 1516862919, "creation_date": 1516795458, "answer_id": 48422066, "question_id": 48419868, "link": "https://stackoverflow.com/questions/48419868/is-there-a-way-to-extend-a-function-in-kotlin/48422066#48422066", "title": "Is there a way to extend a function in Kotlin?", "body": "<p>You can use Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/\" rel=\"nofollow noreferrer\">Any Class</a>. Any is the root of the Kotlin class hierarchy. Every Kotlin class has Any as a superclass.In your case you can implement your methods like:</p>\n\n<pre><code>object Helper {\n\n    fun getValuesForBlah(constantParam1: Boolean, constantParam2: String, constantParam3: Float, varParam: Any) {\n        if (varParam is Int) {\n\n        } else if (varParam is SomeClass) {\n\n        } else if (varParam is SomeOtherClass) {\n\n        }\n        ....\n        ....\n    }\n}\n</code></pre>\n\n<p>UPDATE:\nIn OOP Approach you can do something like:</p>\n\n<pre><code>object Helper {\n\n    data class Param(\n        val constParam1: Boolean,\n        val constParam2: String,\n        val constParam3: Float,\n        var varParam: Any\n    )\n\n    fun getValuesForBlah(param: Param){\n            if (param.varParam is Int) {\n\n            } else if (param.varParam is SomeClass) {\n\n            } else if (param.varParam is SomeOtherClass) {\n\n            }\n            ....\n            ....\n      }\n\n}\n</code></pre>\n\n<p>Hope it would be helpful for you. :)</p>\n"}], "owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516862919, "creation_date": 1516788872, "last_edit_date": 1516789394, "question_id": 48419868, "link": "https://stackoverflow.com/questions/48419868/is-there-a-way-to-extend-a-function-in-kotlin", "title": "Is there a way to extend a function in Kotlin?", "body": "<p>I will best explain the scenario with code.</p>\n\n<pre><code>  object Helper{\n    fun getValuesForBlah1(constParam1 : Boolean, constParam2 : String, constParam3 : Float, varParam : Int)\n\n    fun getValuesForBlah2(constParam1 : Boolean, constParam2 : String, constParam3 : Float, varParam : SomeClass)\n\n    fun getValuesForBlah3(constParam1 : Boolean, constParam2 : String, constParam3 : Float, varParam : SomeOtherClass)\n...\n....\n    }\n</code></pre>\n\n<p>If you look at all the functions, then have all have a set of common parameters and rest variable parameters. Is there a way to tell abstract out the common parameters so that I don't have to repeat them in all the functions?\n<strong>EDIT</strong><br><br>\n@Google has given a nice answer below.  But I am looking for a way in which it can be solved using some language feature. For eg in scala it can be solved using implicit (I am not sure though)?</p>\n"}, {"tags": ["android", "kotlin", "aes", "jncryptor"], "answers": [{"tags": [], "owner": {"reputation": 583, "user_id": 2648035, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4CiTi.png?s=128&g=1", "display_name": "Alok Omkar", "link": "https://stackoverflow.com/users/2648035/alok-omkar"}, "is_accepted": true, "score": 1, "last_activity_date": 1517814279, "creation_date": 1517814279, "answer_id": 48617335, "question_id": 48419188, "link": "https://stackoverflow.com/questions/48419188/jncryptor-rncryptor-image-file-encryption-decryption/48617335#48617335", "title": "JNCryptor - RNCryptor Image file encryption / decryption", "body": "<p>It was solved by changing the way password is encrypted and used.</p>\n\n<p>Here's what worked :</p>\n\n<pre><code>//Encrypt file\n/**\n *\nvar encryptedData = RNCryptor.encrypt(data: data as Data, withPassword: hashKey.description)\ntry encryptedData.write(to: fileURL)\n fileBytes - 3,1,-54,106\n encrypted - 3,1,71,68\n * */\nfun encryptFile( inputFile : File, privateKey : CharArray ) : File {\n\n    val size = inputFile.length().toInt()\n    val fileBytes = ByteArray(size)\n    val aeS256JNCryptor = AES256JNCryptor()\n    val file = File(Environment.getExternalStorageDirectory().toString() + \"/Encrypted_\" + inputFile.name)\n    try {\n        val buf = BufferedInputStream(FileInputStream(inputFile))\n        buf.read(fileBytes, 0, fileBytes.size)\n\n        val encryptedFileBytes = aeS256JNCryptor.encryptData(fileBytes, privateKey)\n\n        val bufOut = BufferedOutputStream(FileOutputStream(file))\n        bufOut.write(encryptedFileBytes)\n\n        buf.close()\n        bufOut.close()\n\n    } catch (e: FileNotFoundException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    } catch (e: IOException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    }\n\n    return file\n\n}\n\n//Decrypt file\n/**\n *\nlet encryptedData = fileManager.contents(atPath: filePathNormal)\nlet decryptedData = try RNCryptor.decrypt(data: encryptedData!, withPassword: hashKey.description)\nlet selected_image = UIImage.sd_image(with: decryptedData)\nencrypted - 3,1,71,68\ndecrypted Bytes - 3,1,-54,106\n * */\nfun decryptFile( inputFile : File, privateKey: CharArray ) : File {\n\n    val size = inputFile.length().toInt()\n    val fileBytes = ByteArray(size)\n    val aeS256JNCryptor = AES256JNCryptor()\n    val file = File(Environment.getExternalStorageDirectory().toString() + \"/Decrypted_\" + inputFile.name)\n    try {\n        val buf = BufferedInputStream(FileInputStream(inputFile))\n        buf.read(fileBytes, 0, fileBytes.size)\n\n        val decryptedFileBytes = aeS256JNCryptor.decryptData(fileBytes, privateKey)\n\n        if( file.exists() ) file.delete()\n\n        val fileOutputStream = FileOutputStream( file.absolutePath )\n        fileOutputStream.write(decryptedFileBytes)\n\n        buf.close()\n        fileOutputStream.close()\n\n    } catch (e: FileNotFoundException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    } catch (e: IOException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    }\n\n    return file\n}\n</code></pre>\n\n<blockquote>\n  <p>privateKey is a random alphanumeric string of length 16. Once generated, it\n  needs to be reused while encrypting and decrypting file.</p>\n</blockquote>\n"}], "owner": {"reputation": 583, "user_id": 2648035, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4CiTi.png?s=128&g=1", "display_name": "Alok Omkar", "link": "https://stackoverflow.com/users/2648035/alok-omkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 48617335, "answer_count": 1, "score": 6, "last_activity_date": 1517814279, "creation_date": 1516786967, "last_edit_date": 1516787309, "question_id": 48419188, "link": "https://stackoverflow.com/questions/48419188/jncryptor-rncryptor-image-file-encryption-decryption", "title": "JNCryptor - RNCryptor Image file encryption / decryption", "body": "<p>I am trying to get image encryption / decryption working using AES256 implementation of <a href=\"https://github.com/RNCryptor/JNCryptor\" rel=\"noreferrer\">RNCryptor</a> Library.</p>\n\n<p>This is my code so far :</p>\n\n<pre><code>//Encrypt file\n/**\n *\nvar encryptedData = RNCryptor.encrypt(data: data as Data, withPassword: hashKey.description)\ntry encryptedData.write(to: fileURL)\n * */\nfun encryptFile( inputFile : File ) : File {\n\n    val size = inputFile.length().toInt()\n    val fileBytes = ByteArray(size)\n    val aeS256JNCryptor = AES256JNCryptor()\n    val file = File(Environment.getExternalStorageDirectory().toString() + \"/Encrypted_\" + inputFile.name)\n    try {\n        val buf = BufferedInputStream(FileInputStream(inputFile))\n        buf.read(fileBytes, 0, fileBytes.size)\n\n        val encryptedFileBytes = aeS256JNCryptor.encryptData(fileBytes, \"master\".toCharArray())\n\n        val bufOut = BufferedOutputStream(FileOutputStream(file))\n        bufOut.write(encryptedFileBytes)\n\n        buf.close()\n        bufOut.close()\n\n    } catch (e: FileNotFoundException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    } catch (e: IOException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    }\n\n    return file\n\n}\n\n//Decrypt file\n/**\n *\nlet encryptedData = fileManager.contents(atPath: filePathNormal)\nlet decryptedData = try RNCryptor.decrypt(data: encryptedData!, withPassword: hashKey.description)\nlet selected_image = UIImage.sd_image(with: decryptedData)\n * */\nfun decryptFile( inputFile : File ) : File {\n\n    val size = inputFile.length().toInt()\n    val fileBytes = ByteArray(size)\n    val aeS256JNCryptor = AES256JNCryptor()\n    val file = File(Environment.getExternalStorageDirectory().toString() + \"/Decrypted_\" + inputFile.name)\n    try {\n        val buf = BufferedInputStream(FileInputStream(inputFile))\n        buf.read(fileBytes, 0, fileBytes.size)\n\n        val decryptedFileBytes = aeS256JNCryptor.decryptData(fileBytes, \"master\".toCharArray())\n\n        val bufOut = BufferedOutputStream(file.outputStream())\n        bufOut.write(decryptedFileBytes)\n\n        buf.close()\n        bufOut.close()\n\n    } catch (e: FileNotFoundException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    } catch (e: IOException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    }\n\n    return file\n}\n</code></pre>\n\n<p>Post decryption I am unable to load / view the image. I have posted relevant iOS code used in the comments. Please let me know if I am going wrong somewhere.</p>\n\n<p>Here are somethings I've already tried with no success :</p>\n\n<pre><code>fun decryptFile( inputFile : File ) : File {\n\n    val size = inputFile.length().toInt()\n    val fileBytes = ByteArray(size)\n    val aeS256JNCryptor = AES256JNCryptor()\n    val file = File(Environment.getExternalStorageDirectory().toString() + \"/Decrypted_\" + inputFile.name)\n    try {\n        val buf = BufferedInputStream(FileInputStream(inputFile))\n        buf.read(fileBytes, 0, fileBytes.size)\n\n        val decryptedFileBytes = aeS256JNCryptor.decryptData(fileBytes, \"master\".toCharArray())\n\n        if( file.exists() ) file.delete()\n\n        //val bufOut = BufferedOutputStream(file.outputStream())\n        //bufOut.write(decryptedFileBytes)\n\n        val fileOutputStream = FileOutputStream( file.absolutePath )\n        fileOutputStream.write(decryptedFileBytes)\n        buf.close()\n        fileOutputStream.close()\n        //bufOut.close()\n\n    } catch (e: FileNotFoundException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    } catch (e: IOException) {\n        // TODO Auto-generated catch block\n        e.printStackTrace()\n    }\n\n    return file\n}\n</code></pre>\n\n<p>Alternate way to save bitmap :</p>\n\n<pre><code>val fileOutputStream = FileOutputStream( file.absolutePath )\n        //fileOutputStream.write(decryptedFileBytes)\n\nval bitmap = BitmapFactory.decodeByteArray(decryptedFileBytes, 0, decryptedFileBytes.size)\nif( bitmap != null )\n   bitmap.compress(Bitmap.CompressFormat.JPEG, 100, fileOutputStream)\n\n\nbuf.close()\nfileOutputStream.close()\n</code></pre>\n\n<p>I am able to see the decrypted file, the size matches with that of original file, tried debugging byte array conversion to ensure bytes are the same as the original. </p>\n\n<p>I am unable to open file either in Gallery / in app when loading it in an imageview.</p>\n"}, {"tags": ["java", "android", "animation", "kotlin", "mobile-development"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516784172, "post_id": 48418319, "comment_id": 83826276, "body": "the more clean way is <a href=\"https://developer.android.com/training/transitions/index.html\" rel=\"nofollow noreferrer\">Scenes and Transitions</a>"}, {"owner": {"reputation": 1040, "user_id": 805425, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2e0ce50df99062adc00163aee79517ee?s=128&d=identicon&r=PG", "display_name": "Itamar", "link": "https://stackoverflow.com/users/805425/itamar"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516784382, "post_id": 48418319, "comment_id": 83826431, "body": "@pskink what if support for lower APIs (16+) is required?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516784499, "post_id": 48418319, "comment_id": 83826508, "body": "did you read the whole page i posted?"}, {"owner": {"reputation": 1040, "user_id": 805425, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2e0ce50df99062adc00163aee79517ee?s=128&d=identicon&r=PG", "display_name": "Itamar", "link": "https://stackoverflow.com/users/805425/itamar"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516786087, "post_id": 48418319, "comment_id": 83827514, "body": "@pskink Missed the note at the bottom, sorry... I&#39;ll see if it fits my needs and post back for any updates, thanks!"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516786295, "post_id": 48418319, "comment_id": 83827673, "body": "you are welcome..."}, {"owner": {"reputation": 1040, "user_id": 805425, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2e0ce50df99062adc00163aee79517ee?s=128&d=identicon&r=PG", "display_name": "Itamar", "link": "https://stackoverflow.com/users/805425/itamar"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516791905, "post_id": 48418319, "comment_id": 83831298, "body": "@pskink it worked just great, if you could post your comment as an answer I will accept it, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1516795075, "post_id": 48420814, "comment_id": 83833255, "body": "thats why you should use <a href=\"https://developer.android.com/training/transitions/index.html\" rel=\"nofollow noreferrer\">scenes and transitions</a>"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516791583, "creation_date": 1516791583, "answer_id": 48420814, "question_id": 48418319, "link": "https://stackoverflow.com/questions/48418319/animating-layoutparams-vs-translation-and-scale-in-android/48420814#48420814", "title": "Animating LayoutParams vs. Translation and Scale in Android", "body": "<p>If you have more complex layout and try to animate through layoutParams you will quickly see stutter because on every frame it triggers <code>requestLayout()</code> and parent ViewGroup must execute <code>onMeasure()</code> and <code>onLayout()</code> for entire view hierarchy.</p>\n"}, {"comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1516795123, "post_id": 48420886, "comment_id": 83833289, "body": "its nice it worked, support lib is a bit limited but still it gives good results"}], "tags": [], "owner": {"reputation": 1040, "user_id": 805425, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2e0ce50df99062adc00163aee79517ee?s=128&d=identicon&r=PG", "display_name": "Itamar", "link": "https://stackoverflow.com/users/805425/itamar"}, "is_accepted": true, "score": 1, "last_activity_date": 1516791776, "creation_date": 1516791776, "answer_id": 48420886, "question_id": 48418319, "link": "https://stackoverflow.com/questions/48418319/animating-layoutparams-vs-translation-and-scale-in-android/48420886#48420886", "title": "Animating LayoutParams vs. Translation and Scale in Android", "body": "<p>As mentioned by @pskink, a cleaner way to perform transitions and animations inside an activity/fragment/layout is using <a href=\"https://developer.android.com/training/transitions/index.html\" rel=\"nofollow noreferrer\">scenes and transitions</a> which was exactly what I did, and with some adaption worked just perfect!</p>\n"}], "owner": {"reputation": 1040, "user_id": 805425, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2e0ce50df99062adc00163aee79517ee?s=128&d=identicon&r=PG", "display_name": "Itamar", "link": "https://stackoverflow.com/users/805425/itamar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 48420886, "answer_count": 2, "score": 1, "last_activity_date": 1516791776, "creation_date": 1516784004, "question_id": 48418319, "link": "https://stackoverflow.com/questions/48418319/animating-layoutparams-vs-translation-and-scale-in-android", "title": "Animating LayoutParams vs. Translation and Scale in Android", "body": "<p>It seems like the code for animating a view's scale and translation is always much more clean and concise (e.g. using <code>.animate()</code>) than code that animates the view's LayoutParams (i.e. width, height, etc.) which requires the use of animators (<code>ValueAnimator</code>, <code>ObjectAnimator</code>, etc.)</p>\n\n<p>That made me wonder whether animating a certain view's LayoutParams is considered a bad practice, or if it's \"heavier\" than animating the view's translation and scale properties?</p>\n\n<p>Also, couldn't find any answers for this on SO so it would be great if anyone could shed some light on the subject.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1516781035, "post_id": 48417239, "comment_id": 83824585, "body": "Does you function use <code>ConnectivityManager</code> in its logic? If not, what do you need it to be an extension function for?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516782856, "post_id": 48417239, "comment_id": 83825485, "body": "This should be an extension on <code>Context</code>, not <code>ConnectivityManager</code>."}, {"owner": {"reputation": 325, "user_id": 6170814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-kVBq-D5W6EA/AAAAAAAAAAI/AAAAAAAAAAs/zQM44iDkfpU/photo.jpg?sz=128", "display_name": "Atif Rehman", "link": "https://stackoverflow.com/users/6170814/atif-rehman"}, "edited": false, "score": 0, "creation_date": 1516785796, "post_id": 48417239, "comment_id": 83827313, "body": "It can go both ways, we can have context or an object of connectivitymanager extracted from context as argument to this function, what I exactly want to know is that can we use extension function approach on kotlin to kotlin classes for Android built in classes in static way."}, {"owner": {"reputation": 667, "user_id": 5209185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb523e6233de789cd2c9bf757578f30a?s=128&d=identicon&r=PG&f=1", "display_name": "kyay10", "link": "https://stackoverflow.com/users/5209185/kyay10"}, "edited": false, "score": 0, "creation_date": 1560312864, "post_id": 48417239, "comment_id": 99690119, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28210188/static-extension-methods-in-kotlin\">Static extension methods in Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1516780409, "creation_date": 1516780409, "answer_id": 48417350, "question_id": 48417239, "link": "https://stackoverflow.com/questions/48417239/kotlin-static-extension-functions-android/48417350#48417350", "title": "Kotlin Static Extension Functions Android", "body": "<p>This is only possible if your class has a <code>companion</code> object defined:</p>\n\n<pre><code>class MyClass {\n    companion object { } \n}\n\nfun MyClass.Companion.foo() {\n}\n</code></pre>\n\n<p>Just like regular members of the companion object, they can be called using only the <strong>class name as the qualifier:</strong></p>\n\n<pre><code>MyClass.foo()\n</code></pre>\n\n<p>Unfortunately, Java classes do not have such <code>companion</code> objects, which is why you can\u2019t achieve what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 325, "user_id": 6170814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-kVBq-D5W6EA/AAAAAAAAAAI/AAAAAAAAAAs/zQM44iDkfpU/photo.jpg?sz=128", "display_name": "Atif Rehman", "link": "https://stackoverflow.com/users/6170814/atif-rehman"}, "edited": false, "score": 0, "creation_date": 1516785933, "post_id": 48418110, "comment_id": 83827410, "body": "Context or ConectivityManager, can we make this approach to access the function statically. Your answer only replace my ConnectivityManager to Context. What should be done to access this function statically from a kotlin class."}, {"owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "reply_to_user": {"reputation": 325, "user_id": 6170814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-kVBq-D5W6EA/AAAAAAAAAAI/AAAAAAAAAAs/zQM44iDkfpU/photo.jpg?sz=128", "display_name": "Atif Rehman", "link": "https://stackoverflow.com/users/6170814/atif-rehman"}, "edited": false, "score": 0, "creation_date": 1516790521, "post_id": 48418110, "comment_id": 83830420, "body": "In pure Kotlin there&#39;s no such think as a &quot;static calling&quot;, to &quot;emulate&quot; static methods you can use <code>companion object</code>.  Why do you need a &quot;static call&quot; and why top-level function or extension on <code>Context</code> are not sufficient?"}, {"owner": {"reputation": 325, "user_id": 6170814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-kVBq-D5W6EA/AAAAAAAAAAI/AAAAAAAAAAs/zQM44iDkfpU/photo.jpg?sz=128", "display_name": "Atif Rehman", "link": "https://stackoverflow.com/users/6170814/atif-rehman"}, "edited": false, "score": 0, "creation_date": 1516791454, "post_id": 48418110, "comment_id": 83830987, "body": "&quot;In pure Kotlin there&#39;s no such think as a &quot;static calling&quot;&quot; Got my answer here, other approaches are ok too, just wanted to see if it can be done the way I was thinking."}], "tags": [], "owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "is_accepted": true, "score": 3, "last_activity_date": 1516783255, "creation_date": 1516783255, "answer_id": 48418110, "question_id": 48417239, "link": "https://stackoverflow.com/questions/48417239/kotlin-static-extension-functions-android/48418110#48418110", "title": "Kotlin Static Extension Functions Android", "body": "<p>Quite likely this kind of extension function in not what you are looking for. I can see two approaches how you can handle it.</p>\n\n<p>Either create top-level function is separate file (e.g. <code>network.kt</code>).</p>\n\n<pre><code>fun checkInternet(context: Context): Boolean{\n    // perform check here\n}\n</code></pre>\n\n<p>Or create extension method on <strong>Context</strong></p>\n\n<pre><code>fun Context.checkInternet(): Boolean {\n    val manager = this.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    // I've \"kotlinized\" a bit your `if` statement\n    return manager.activeNetworkInfo?.isConnectedOrConnecting ?: false\n}\n</code></pre>\n\n<p>Personally, I'd prefer the approach with extension on <code>Context</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1552, "user_id": 7145855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52f640051a98574cf56e3324ad79ac2?s=128&d=identicon&r=PG&f=1", "display_name": "tolotra", "link": "https://stackoverflow.com/users/7145855/tolotra"}, "is_accepted": false, "score": 0, "last_activity_date": 1516802039, "creation_date": 1516802039, "answer_id": 48424177, "question_id": 48417239, "link": "https://stackoverflow.com/questions/48417239/kotlin-static-extension-functions-android/48424177#48424177", "title": "Kotlin Static Extension Functions Android", "body": "<p>Your function <code>checkInternet</code> is defined as an extension function for your class <code>ConnectivityManager</code>.</p>\n\n<p>If you want to use your function <code>checkInternet</code> like an extension method for any class, you can do this:</p>\n\n<blockquote>\n  <p><code>fun Any.checkInternet(context: Context): Boolean {\n    val manager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val connection = manager.activeNetworkInfo\n    if (connection != null &amp;&amp; connection.isConnectedOrConnecting) {\n      return true\n    }\n    return false\n  }</code></p>\n</blockquote>\n\n<p>and import the <code>checkInternet</code> function where you are using it.</p>\n\n<p>Otherwise, you can make <code>checkInternet</code> as a static member in <code>ConnectivityManager</code> and use it like a static function.</p>\n"}], "owner": {"reputation": 325, "user_id": 6170814, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-kVBq-D5W6EA/AAAAAAAAAAI/AAAAAAAAAAs/zQM44iDkfpU/photo.jpg?sz=128", "display_name": "Atif Rehman", "link": "https://stackoverflow.com/users/6170814/atif-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 48418110, "answer_count": 3, "score": 1, "last_activity_date": 1516824099, "creation_date": 1516779898, "last_edit_date": 1516824099, "question_id": 48417239, "link": "https://stackoverflow.com/questions/48417239/kotlin-static-extension-functions-android", "title": "Kotlin Static Extension Functions Android", "body": "<p>I wanted to create an extension function for Android built in <code>ConnectivityManager</code> class so that it can be used statically by any class in my project. I am using Kotlin only.</p>\n\n<pre><code>fun ConnectivityManager.checkInternet(context: Context): Boolean {\n        val manager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val connection = manager.activeNetworkInfo\n        if (connection != null &amp;&amp; connection.isConnectedOrConnecting) {\n            return true\n        }\n        return false\n    }\n</code></pre>\n\n<p>I can access this function by creating the object of <code>ConnectivityManager</code> but what i want to do is to use it statically. Any possibility?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1516774745, "post_id": 48415943, "comment_id": 83821487, "body": "<a href=\"https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24\" title=\"kotlin extension functions suddenly require api level 24\">stackoverflow.com/questions/44751469/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "is_accepted": false, "score": 3, "last_activity_date": 1516781998, "creation_date": 1516781998, "answer_id": 48417745, "question_id": 48415943, "link": "https://stackoverflow.com/questions/48415943/android-api-version-checking-not-happening-while-kotlin-build/48417745#48417745", "title": "Android API version checking not happening while Kotlin build", "body": "<p>Quite likely this will have to be done by Android Studio/Kotlin team. </p>\n\n<p>Method <code>kotlin.Map.getOrDefault()</code> in theory is valid on any Android API, however its internal implementation (delegating call to <code>java.util.HashMap.getOrDefault()</code>) is valid only on JDK 1.8+.</p>\n\n<p>Moreover method <code>kotlin.Map.getOrDefault()</code> in its docs is marked as <code>@since JDK 1.8</code>. I suppose we need to wait some time for IDE team to implement a warning for methods marked in docs as <code>@since XXX</code></p>\n\n<p>You can also upvote or comment issues on Kotlin's YouTrack</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-20358\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-20358</a></p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-21503\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-21503</a></p>\n"}], "owner": {"reputation": 5297, "user_id": 62889, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32061beacabc18a13479332f5778bbff?s=128&d=identicon&r=PG", "display_name": "Sachin Chavan", "link": "https://stackoverflow.com/users/62889/sachin-chavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "closed_date": 1516798594, "answer_count": 1, "score": 3, "last_activity_date": 1516783040, "creation_date": 1516774653, "last_edit_date": 1516783040, "question_id": 48415943, "link": "https://stackoverflow.com/questions/48415943/android-api-version-checking-not-happening-while-kotlin-build", "closed_reason": "Duplicate", "title": "Android API version checking not happening while Kotlin build", "body": "<p>How to make Kotlin give API level errors at time of coding, instead of at runtime.</p>\n\n<p>App Gradle file:</p>\n\n<pre><code>minSdkVersion 19\ntargetSdkVersion 26\n</code></pre>\n\n<p>Kotlin Code:</p>\n\n<pre><code>//initialisation\nvar data = getSomedata() //the returned type is Map&lt;String, String&gt;\ndata.getOrDefault(\"SomeKey\",\"DefaultValue\")\n</code></pre>\n\n<p>Issue:</p>\n\n<p>Code compiles fine and also able to create signed APK. But when the APK is executed on devices with API 22(Android 5) following error is thrown.</p>\n\n<blockquote>\n  <p>Fatal Exception: java.lang.NoSuchMethodError </p>\n</blockquote>\n\n<p>Expected beheviour: </p>\n\n<p>If I call the function in java file, lint checking will give following error even before compiling.</p>\n\n<blockquote>\n  <p>Call requires API level 24 (current min is 19): java.util.Map#getOrDefault </p>\n</blockquote>\n\n<p><strong>CHECKED DUPLICATE</strong></p>\n\n<p>Already checked <a href=\"https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24\">this question</a>. It is providing reason for the behavior which i have already derived. I need the resolution or work around. As of now I am not sure which all methods would not work at runtime, and users would be reporting those errors which IDE or compiler should have reported.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "progressdialog"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516774413, "post_id": 48415625, "comment_id": 83821342, "body": "it would be quite hard with retrofit. You will have to intersect the requests, and even go deeper after that. But usually te requests are done too fast to display their progress in %. Only place where the % is suitable is uploading\\downloading files."}, {"owner": {"reputation": 309, "user_id": 9140698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sv6s.jpg?s=128&g=1", "display_name": "chandani c patel", "link": "https://stackoverflow.com/users/9140698/chandani-c-patel"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516775413, "post_id": 48415625, "comment_id": 83821795, "body": "can i use that code of showing % while downloading into making an api call ??"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516775463, "post_id": 48415625, "comment_id": 83821823, "body": "<code>while downloading</code> what?"}, {"owner": {"reputation": 309, "user_id": 9140698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sv6s.jpg?s=128&g=1", "display_name": "chandani c patel", "link": "https://stackoverflow.com/users/9140698/chandani-c-patel"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1516775982, "post_id": 48415625, "comment_id": 83822046, "body": "u r saying that % is suitable while downloading files, then can i use that code while making an api call?"}], "answers": [{"tags": [], "owner": {"reputation": 2596, "user_id": 7409774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDIOj.png?s=128&g=1", "display_name": "Milind Mevada", "link": "https://stackoverflow.com/users/7409774/milind-mevada"}, "is_accepted": false, "score": 0, "last_activity_date": 1516789847, "creation_date": 1516789847, "answer_id": 48420235, "question_id": 48415625, "link": "https://stackoverflow.com/questions/48415625/how-to-show-progress-in-percentage-while-api-call-without-using-asynctask-in-kot/48420235#48420235", "title": "How to show Progress in percentage while Api call without using Asynctask in kotlin?", "body": "<p>You need to create custom <code>RequestBody</code> and use it as <code>RequestBody</code> in <code>Retrofit</code>. Here is sample of <code>ProgressRequestBody</code></p>\n\n<p>This will provide you update of porgress. You can customize this as per your need.</p>\n\n<pre><code>open class ProgressRequestBody(private val mFile: File) : RequestBody() {\n\n    private val ignoreFirstNumberOfWriteToCalls: Int = 0\n\n    private var numWriteToCalls = 0\n\n    private val getProgressSubject: PublishSubject&lt;Pair&lt;Float, File&gt;&gt; = PublishSubject.create&lt;Pair&lt;Float, File&gt;&gt;()\n\n    fun getProgressSubject(): Observable&lt;Pair&lt;Float, File&gt;&gt; {\n        return getProgressSubject\n    }\n\n    override fun contentType(): MediaType? {\n        return MediaType.parse(\"application/pdf\")\n    }\n\n    @Throws(IOException::class)\n    override fun contentLength(): Long {\n        return mFile.length()\n    }\n\n    @Throws(IOException::class)\n    override fun writeTo(sink: BufferedSink) {\n        numWriteToCalls++\n\n        val fileLength = mFile.length()\n        val buffer = ByteArray(DEFAULT_BUFFER_SIZE)\n        val `in` = FileInputStream(mFile)\n        var uploaded: Long = 0\n        var lastProgressPercentUpdate = 0f\n        `in`.use { `in` -&gt;\n            var read: Int\n            read = `in`.read(buffer)\n            while (read != -1) {\n\n                uploaded += read.toLong()\n                sink.write(buffer, 0, read)\n                read = `in`.read(buffer)\n                //GLOBAL_PROGRESS.onNext(uploaded)\n                // when using HttpLoggingInterceptor it calls writeTo and passes data into a local buffer just for logging purposes.\n                // the second ic_call to write to is the progress we actually want to track\n                if (numWriteToCalls &gt; ignoreFirstNumberOfWriteToCalls) {\n                    val progress = (uploaded.toFloat() / fileLength.toFloat()) * 100f\n                    //prevent publishing too many updates, which slows upload, by checking if the upload has progressed by at least 1 percent\n                    if (progress - lastProgressPercentUpdate &gt; 1 || progress == 100f) {\n                        // publish progress\n                        getProgressSubject.onNext(Pair(progress, mFile))\n                        lastProgressPercentUpdate = progress\n\n                    }\n                }\n            }\n        }\n    }\n\n    companion object {\n\n        private val DEFAULT_BUFFER_SIZE = 2048\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 9140698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sv6s.jpg?s=128&g=1", "display_name": "chandani c patel", "link": "https://stackoverflow.com/users/9140698/chandani-c-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516802426, "creation_date": 1516772994, "last_edit_date": 1516778185, "question_id": 48415625, "link": "https://stackoverflow.com/questions/48415625/how-to-show-progress-in-percentage-while-api-call-without-using-asynctask-in-kot", "title": "How to show Progress in percentage while Api call without using Asynctask in kotlin?", "body": "<p><strong>Purpose</strong> : I am using <code>progress dialog</code> while making an <code>api</code> call using <code>retrofit</code> library. for that i am using below code :</p>\n\n<pre><code>private var progressDialog: ProgressDialog? = null\n\n        @JvmStatic\n        fun showProgress(message: String?, context: Context?, cancellable: Boolean) {\n            if (context == null)\n                return\n\n            if (checkProgressOpen())\n                return\n            progressDialog = ProgressDialog(context)\n            (progressDialog as ProgressDialog).setProgressStyle(ProgressDialog.STYLE_SPINNER)\n            (progressDialog as ProgressDialog).setMessage(message ?: \"Please wait...\")\n            (progressDialog as ProgressDialog).setCancelable(cancellable)\n            try {\n                (progressDialog as ProgressDialog).show()\n\n\n            } catch (e: Exception) {\n                // catch exception for activity paused and dialog is going to be\n                // show.\n            }\n        }\n\n        @JvmStatic\n        fun checkProgressOpen(): Boolean {\n            if (progressDialog != null &amp;&amp; (progressDialog as ProgressDialog).isShowing())\n                return true\n            else\n                return false\n        }\n\n        @JvmStatic\n        fun cancelProgress() {\n            if (checkProgressOpen()) {\n                try {\n                    (progressDialog as ProgressDialog).dismiss()\n                    (progressDialog as ProgressDialog).cancel()\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                }\n                progressDialog = null\n            }\n        }\n</code></pre>\n\n<p>this code is working fine. It is showing <code>progress dialog</code> , But what i want now is show that <code>progress dialog</code> in percentage.</p>\n\n<p>like when <code>api call</code> starts <code>dialog</code> should start from percentage 0 and it should update percentage at some interval , and when <code>Api call</code> completes <code>dialog</code> should display percentage 100. </p>\n\n<p>I have done R&amp;D on this , but everywhere what i m getting is , using <code>asynctask</code>\nand it's method <code>OnProgressUpdate</code> , but i don't wan to use <code>asynctask</code>. </p>\n\n<p>Can anyone helps me in this ?? Thanks in advance !!</p>\n"}, {"tags": ["java", "maven", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 914, "user_id": 3147640, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2ecdaff9d87a09f205703ea7c1acf2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Sweety Bertilla", "link": "https://stackoverflow.com/users/3147640/sweety-bertilla"}, "edited": false, "score": 0, "creation_date": 1528816166, "post_id": 48414998, "comment_id": 88646151, "body": "So if we move the class to kotlin it worked? I am facing the same issue, I have both java and kotlin classes, n it wouldn&#39;t work in kotlin"}, {"owner": {"reputation": 3909, "user_id": 3067542, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf7e520d66249a250a769cc55effd391?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent F", "link": "https://stackoverflow.com/users/3067542/vincent-f"}, "reply_to_user": {"reputation": 914, "user_id": 3147640, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2ecdaff9d87a09f205703ea7c1acf2d8?s=128&d=identicon&r=PG&f=1", "display_name": "Sweety Bertilla", "link": "https://stackoverflow.com/users/3147640/sweety-bertilla"}, "edited": false, "score": 0, "creation_date": 1528817140, "post_id": 48414998, "comment_id": 88646735, "body": "my issue was only in the case where I package my kotlin/java lib into a jar, and declare the jar as a dependency in another project. The solution is in the way it was packaged, as described in the link provided in the answer"}], "tags": [], "owner": {"reputation": 3909, "user_id": 3067542, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf7e520d66249a250a769cc55effd391?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent F", "link": "https://stackoverflow.com/users/3067542/vincent-f"}, "is_accepted": true, "score": 0, "last_activity_date": 1516856010, "last_edit_date": 1516856010, "creation_date": 1516769248, "answer_id": 48414998, "question_id": 48414997, "link": "https://stackoverflow.com/questions/48414997/java-annotation-not-usable-from-kotlin-project-jar/48414998#48414998", "title": "Java annotation not usable from Kotlin project jar", "body": "<p>Initially, I found that it was working better if the annotation was a Kotlin one instead of a Java one :</p>\n\n<pre><code>@Target(AnnotationTarget.CLASS, AnnotationTarget.FILE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\nannotation class EnableSomeBehavior\n</code></pre>\n\n<p>After rebuilding my library, IntelliJ wouldn't show any error in the project using the annotation. However, compilation would still fail !</p>\n\n<p>I ended up finding that it's not a Kotlin issue at all but a Spring Boot packaging issue : <a href=\"https://stackoverflow.com/questions/48435800/using-kotlin-classes-from-jar-built-with-kotlin-maven-plugin/\">Using Kotlin classes from jar built with kotlin-maven-plugin</a>  </p>\n"}], "owner": {"reputation": 3909, "user_id": 3067542, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf7e520d66249a250a769cc55effd391?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent F", "link": "https://stackoverflow.com/users/3067542/vincent-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 48414998, "answer_count": 1, "score": 1, "last_activity_date": 1516856010, "creation_date": 1516769248, "last_edit_date": 1516781793, "question_id": 48414997, "link": "https://stackoverflow.com/questions/48414997/java-annotation-not-usable-from-kotlin-project-jar", "title": "Java annotation not usable from Kotlin project jar", "body": "<p>I am working on library that I am transferring from Java to Kotlin. Since the projects is still mixed with both languages, I use kotlin-maven-plugin and maven-compiler-plugin as described in <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html</a> . Kotlin version is 1.2.10.</p>\n\n<p>I need to create an annotation in the library, that is going to be used in other projects. The annotation is a standard Java one, and I am able to build my library. </p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface EnableSomeBehavior {\n\n}\n</code></pre>\n\n<p>When I import the library in another project (a Java project), I can see the annotation. The auto-completion in my IDE (IntelliJ) actually proposes me annotation.. but for some reason, is not able to import it : when I validate the auto-completion choice, then I am getting a compilation error \"cannot resolve symbol 'EnableSomeBehavior' \".</p>\n\n<p>This is quite puzzling.. I've rebuilt several times (in case the jar was corrupted), but it didn't change anything.</p>\n\n<p>I suspect it's something that has to do with the way the Kotlin/Java library is compiled and/or packaged..  The Java annotation is there in the jar, I can see it, and to some extent, the IDE can also see it, since it's proposing it. But somehow, it's not able to use it. It's not an IDE issue, because even compile with Maven from command line fails with the same error.     </p>\n\n<p>Any idea of what the problem could be ? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["stream", "kotlin", "reactive-programming", "spring-webflux", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "edited": false, "score": 0, "creation_date": 1516843957, "post_id": 48418684, "comment_id": 83860109, "body": "I understood your point. But my service returns Flux&lt;Resource&gt;. How can I transfer it to JSON files and put all in a result.zip file? Thank you"}], "tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516785270, "creation_date": 1516785270, "answer_id": 48418684, "question_id": 48414894, "link": "https://stackoverflow.com/questions/48414894/response-zip-file-with-webflux/48418684#48418684", "title": "Response zip file with WebFlux", "body": "<p>The <code>headers</code> attribute of the <code>@GetMapping</code> annotation are not headers that should be written to the HTTP response, but mapping headers. This means that your <code>@GetMapping</code> annotation requires the HTTP request to contain the headers you've listed. This is why the request is actually not mapped to your controller handler.</p>\n\n<p>Now your handler return type does not look right - <code>Flux&lt;Resource&gt;</code> means that you intend to return <code>0..*</code> <code>Resource</code> instances and that they should be serialized. In this case, a return type like <code>ResponseEntity&lt;Resource&gt;</code> is probably a better choice since you'll be able to set response headers on the <code>ResponseEntity</code> and set its body with a <code>Resource</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1534676826, "post_id": 48454963, "comment_id": 90783817, "body": "That solution will buffer everything in memory as it does <code>blockLast()</code>"}], "tags": [], "owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "is_accepted": false, "score": 0, "last_activity_date": 1516933507, "creation_date": 1516933507, "answer_id": 48454963, "question_id": 48414894, "link": "https://stackoverflow.com/questions/48414894/response-zip-file-with-webflux/48454963#48454963", "title": "Response zip file with WebFlux", "body": "<p>Is it right, man? I still feel it's not good with this solution at the last line when using blockLast.</p>\n\n<pre><code>@GetMapping(\"/vehicle/gpsevent\", produces = [\"application/octet-stream\"])\nfun streamToZip(): ResponseEntity&lt;FileSystemResource&gt; {\n    val zipFile = FileSystemResource(\"result.zip\")\n    val out = ZipOutputStream(FileOutputStream(zipFile.file))\n    return ResponseEntity\n        .ok().cacheControl(CacheControl.noCache())\n        .header(\"Content-Type\", \"application/octet-stream\")\n        .header(\"Content-Disposition\", \"attachment; filename=result.zip\")\n        .body(ieService.export()\n            .doOnNext { print(it.key.vehicleId) }\n            .doOnNext { it -&gt; out.putNextEntry(ZipEntry(it.key.vehicleId.toString() + \".json\")) }\n            .doOnNext { out.write(it.toJsonString().toByteArray(charset(\"UTF-8\"))) }\n            .doOnNext { out.flush() }\n            .doOnNext { out.closeEntry() }\n            .map { zipFile }\n            .doOnComplete { out.close() }\n            .log()\n            .blockLast()\n        )\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2374, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1516933507, "creation_date": 1516768602, "question_id": 48414894, "link": "https://stackoverflow.com/questions/48414894/response-zip-file-with-webflux", "title": "Response zip file with WebFlux", "body": "<p>I am new in Spring 5 and Reactive Programming. My problem is creating the export feature for the database by a rest API.\nUser hits GET request -> Server reads data and returns data as a zip file. Because zip file is large, so I need to stream these data.\nMy code as below:</p>\n\n<pre><code>    @GetMapping(\n    value = \"/export\",\n    produces = [\"application/octet-stream\"],\n    headers = [\n              \"Content-Disposition: attachment; filename=\\\"result.zip\\\"\",\n              \"Content-Type: application/zip\"])\n    fun streamData(): Flux&lt;Resource&gt; = service.export()\n</code></pre>\n\n<p>I use curl as below:</p>\n\n<pre><code>curl http://localhost/export -H \"Accept: application/octet-stream\"\n</code></pre>\n\n<p>But it always returns 406 Not Acceptable.\nAnyone helps?</p>\n\n<p>Thank you so much</p>\n"}, {"tags": ["spring", "servlets", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 3831478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jhJdG.jpg?s=128&g=1", "display_name": "gary", "link": "https://stackoverflow.com/users/3831478/gary"}, "edited": false, "score": 0, "creation_date": 1516777815, "post_id": 48416098, "comment_id": 83822917, "body": "I had tried all those before. (1)<code>method = [(RequestMethod.GET)])</code> , still same warning; (2)<code>method = [RequestMethod.GET]</code> same as (1); (3) <code>method = RequestMethod.GET</code> can&#39;t, because of build error: <code>Type mismatch: inferred type is RequestMethod but Array&lt;RequestMethod&gt; was expected</code>;  (4) <code>method = *arrayOf(RequestMethod.GET))</code>, also build error: <code>The spread operator (*foo) may only be applied in a vararg position</code>."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1389, "user_id": 3831478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jhJdG.jpg?s=128&g=1", "display_name": "gary", "link": "https://stackoverflow.com/users/3831478/gary"}, "edited": false, "score": 0, "creation_date": 1516801019, "post_id": 48416098, "comment_id": 83837071, "body": "@gary 29th symbol is value of <code>value</code> argument :)"}, {"owner": {"reputation": 1389, "user_id": 3831478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jhJdG.jpg?s=128&g=1", "display_name": "gary", "link": "https://stackoverflow.com/users/3831478/gary"}, "edited": false, "score": 0, "creation_date": 1516843190, "post_id": 48416098, "comment_id": 83859923, "body": "really!  I did ignore that 29:)  so the problem is <code>value=</code> and not <code>method=</code>, I modify it as <code>value=arrayOf</code> and it fix the warning.  Thanks for the useful hint. Please modify the answer then I will accept it."}, {"owner": {"reputation": 2469, "user_id": 2080707, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/B5YgL.jpg?s=128&g=1", "display_name": "velop", "link": "https://stackoverflow.com/users/2080707/velop"}, "edited": false, "score": 0, "creation_date": 1582273913, "post_id": 48416098, "comment_id": 106727787, "body": "I&#39;m new to SprintBoot but could you also use <code>path = &quot;...&quot;</code> instead of <code>value = [&quot;...&quot;]</code>?"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": true, "score": 17, "last_activity_date": 1516856252, "last_edit_date": 1516856252, "creation_date": 1516775291, "answer_id": 48416098, "question_id": 48414883, "link": "https://stackoverflow.com/questions/48414883/how-to-fix-warning-in-kotlin-assigning-single-elements-to-varargs-in-named-form/48416098#48416098", "title": "How to fix warning in Kotlin: Assigning single elements to varargs in named form is deprecated", "body": "<p>I think that not deprecated form is <code>value = [\"/privacy\"], method = [RequestMethod.GET]</code>.</p>\n\n<p>More documentation on how to use annotations in kotlin can be found <a href=\"http://kotlinlang.org/docs/reference/annotations.html#arrays-as-annotation-parameters\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1389, "user_id": 3831478, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jhJdG.jpg?s=128&g=1", "display_name": "gary", "link": "https://stackoverflow.com/users/3831478/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5961, "favorite_count": 2, "accepted_answer_id": 48416098, "answer_count": 1, "score": 16, "last_activity_date": 1516856252, "creation_date": 1516768518, "last_edit_date": 1516769080, "question_id": 48414883, "link": "https://stackoverflow.com/questions/48414883/how-to-fix-warning-in-kotlin-assigning-single-elements-to-varargs-in-named-form", "title": "How to fix warning in Kotlin: Assigning single elements to varargs in named form is deprecated", "body": "<p>After upgrading Kotlin from 1.1.4 to latest 1.2.22, I got a lot of build warnings:</p>\n\n<pre><code>[WARNING] ... (422, 29) Assigning single elements to varargs in named form is deprecated\n</code></pre>\n\n<p>The related code is like this:</p>\n\n<pre><code>422     @RequestMapping(value = \"/privacy\", method = arrayOf(RequestMethod.GET))\n423     fun mainLinkPrivacy(request: HttpServletRequest, model: MutableMap&lt;String, Any&gt;): String {\n424 \n425         var lang = request.getParameter(\"lang\")\n426 \n427         if(lang == null || lang.isEmpty())\n428             lang = \"EN\"\n429 \n430         model.put(\"lang\",lang)\n431 \n432         return \"/mobile/main/mainlink_privacy\"\n433     }\n</code></pre>\n\n<p>And here is the import part:</p>\n\n<pre><code>import org.apache.ibatis.annotations.Param\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.core.env.Environment\nimport org.springframework.stereotype.Controller\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RequestMethod\nimport org.springframework.web.bind.annotation.RequestParam\n\nimport javax.servlet.http.HttpServletRequest\n</code></pre>\n\n<p>And here is my Kotlin version:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.2.21&lt;/kotlin.version&gt;\n    &lt;dokka.version&gt;0.9.15&lt;/dokka.version&gt;\n    &lt;spring.framework.version&gt;4.3.1.RELEASE&lt;/spring.framework.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I think the problem exist in <code>method = arrayOf()</code>, but how to fix this?</p>\n\n<p>I read the Kotlin release note about this <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#deprecation-single-named-argument-for-vararg\" rel=\"noreferrer\">Deprecation: single named argument for vararg</a>, it says:</p>\n\n<hr>\n\n<p>\"For consistency with array literals in annotations, passing a single item for a vararg parameter in the named form (<code>foo(items = i)</code>) has been deprecated. Please use the spread operator with the corresponding array factory functions:</p>\n\n<pre><code>foo(items = *intArrayOf(1))\n</code></pre>\n\n<p>There is an optimization that removes redundant arrays creation in such cases, which prevents performance degradation. The single-argument form produces warnings in Kotlin 1.2 and is to be dropped in Kotlin 1.3.\"</p>\n\n<hr>\n\n<p>But I still don't find hints about how to fix it.</p>\n"}, {"tags": ["android", "kotlin", "singleton", "dagger"], "comments": [{"owner": {"reputation": 1531, "user_id": 1574250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b6c7da23c6c37545aa57cc04d83b04?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sousa", "link": "https://stackoverflow.com/users/1574250/andr%c3%a9-sousa"}, "edited": false, "score": 1, "creation_date": 1564594017, "post_id": 48413780, "comment_id": 101086289, "body": "Did you find any solution?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1570803892, "post_id": 48413780, "comment_id": 103041696, "body": "Sounds like <code>object.init</code> runs sooner than the initialization of your <code>DaggerGraphController</code> thing."}], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 3580922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cdfd92f72c7cc461c15039453356ef?s=128&d=identicon&r=PG&f=1", "display_name": "Nihilanth", "link": "https://stackoverflow.com/users/3580922/nihilanth"}, "edited": false, "score": 2, "creation_date": 1516765638, "post_id": 48414041, "comment_id": 83818840, "body": "this still didnt work, the first time around I got an uninitialized field error...after that, a NoClassDefFoundError  i even tried with @field:Inject, same negative result unfortunately"}, {"owner": {"reputation": 639, "user_id": 5506546, "user_type": "registered", "profile_image": "https://graph.facebook.com/722050721262067/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/5506546/alex"}, "edited": false, "score": 2, "creation_date": 1588861920, "post_id": 48414041, "comment_id": 109068448, "body": "Doen&#39;t work for me. Exception during compilation <code>Caused by: java.lang.IllegalArgumentException \tat com.google.common.base.Preconditions.checkArgument(Precondit&zwnj;&#8203;ions.java:128) \tat dagger.internal.codegen.writing.InjectionMethod.invoke(Injec&zwnj;&#8203;tionMethod.java:112) \tat dagger.internal.codegen.writing.InjectionMethods$InjectionSi&zwnj;&#8203;teMethod.invoke(Inje&zwnj;&#8203;ctionMethods.java:35&zwnj;&#8203;8)</code>"}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": false, "score": 14, "last_activity_date": 1516762540, "last_edit_date": 1516762540, "creation_date": 1516761882, "answer_id": 48414041, "question_id": 48413780, "link": "https://stackoverflow.com/questions/48413780/dagger-injection-not-working-for-object-in-kotlin/48414041#48414041", "title": "Dagger injection not working for &quot;object&quot; in Kotlin", "body": "<p>If you look into kotlin bytecode you'll find that the code you've written is translated into following:</p>\n\n<pre><code>public final class SomeSingleton {\n    public static LProperty; property // &lt;- Notice static field here\n\n    public final getProperty()LProperty\n    ...\n\n    public final setProperty(LProperty)V\n    ...\n}\n</code></pre>\n\n<p>As you can see the actual field is static which makes it uneligible for instance injection. You may try to move <code>@Inject</code> annotation onto setter method by doing so:</p>\n\n<pre><code>object SomeSingleton {\n    @set:Inject\n    lateinit var property: Property\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1463, "user_id": 518076, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a8e1a2018ddc71d75943bb5b35473e1b?s=128&d=identicon&r=PG", "display_name": "Tam&#225;s Barta", "link": "https://stackoverflow.com/users/518076/tam%c3%a1s-barta"}, "reply_to_user": {"reputation": 782, "user_id": 9657183, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OUKg8fgUlSM/AAAAAAAAAAI/AAAAAAAAAN0/LjmhQvBoUsU/photo.jpg?sz=128", "display_name": "Cafer Mert Ceyhan", "link": "https://stackoverflow.com/users/9657183/cafer-mert-ceyhan"}, "edited": false, "score": 0, "creation_date": 1572961020, "post_id": 52738153, "comment_id": 103718340, "body": "@CaferMertCeyhan, what do you mean by doesn&#39;t work? What happens instead?"}, {"owner": {"reputation": 1633, "user_id": 5673746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a05d1252115b17369f88f621856285d?s=128&d=identicon&r=PG&f=1", "display_name": "mco", "link": "https://stackoverflow.com/users/5673746/mco"}, "edited": false, "score": 1, "creation_date": 1590814665, "post_id": 52738153, "comment_id": 109829304, "body": "I just get this error when trying to inject into a kotlin object: <code>Dagger does not support injection into Kotlin objects</code>. This is on Dagger 2.27."}, {"owner": {"reputation": 359, "user_id": 10356855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SqOf9.jpg?s=128&g=1", "display_name": "Jakub Kostka", "link": "https://stackoverflow.com/users/10356855/jakub-kostka"}, "edited": false, "score": 0, "creation_date": 1609929121, "post_id": 52738153, "comment_id": 115971973, "body": "Doesn&#39;t work for me, exception returns: lateinit property [variable] has not been initialized"}], "tags": [], "owner": {"reputation": 1653, "user_id": 4755017, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JXnt4.jpg?s=128&g=1", "display_name": "Dennis Zinkovski", "link": "https://stackoverflow.com/users/4755017/dennis-zinkovski"}, "is_accepted": false, "score": 6, "last_activity_date": 1539167377, "creation_date": 1539167377, "answer_id": 52738153, "question_id": 48413780, "link": "https://stackoverflow.com/questions/48413780/dagger-injection-not-working-for-object-in-kotlin/52738153#52738153", "title": "Dagger injection not working for &quot;object&quot; in Kotlin", "body": "<p>I tried to use <code>dagger.Lazy&lt;YourClass&gt;</code> and it works</p>\n\n<pre><code> @set:Inject\nlateinit var authClient: dagger.Lazy&lt;PlatformAuthClient&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3910, "user_id": 908320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f55dc2708061b576cb287783db087a25?s=128&d=identicon&r=PG&f=1", "display_name": "Nicol&#225;sKittsteiner", "link": "https://stackoverflow.com/users/908320/nicol%c3%a1skittsteiner"}, "is_accepted": false, "score": 0, "last_activity_date": 1576707318, "creation_date": 1576707318, "answer_id": 59400702, "question_id": 48413780, "link": "https://stackoverflow.com/questions/48413780/dagger-injection-not-working-for-object-in-kotlin/59400702#59400702", "title": "Dagger injection not working for &quot;object&quot; in Kotlin", "body": "<p>You may still need the <code>@Singleton</code> decorator on top of your object definition. That decorator doesn't make your class 'singleton', it's just used by Dagger to get all the dependencies in the same spot.</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 11801106, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uqk0IIfyB3U/AAAAAAAAAAI/AAAAAAAAFQU/t9BpzFhU_oM/photo.jpg?sz=128", "display_name": "Vishal Ambre", "link": "https://stackoverflow.com/users/11801106/vishal-ambre"}, "is_accepted": false, "score": 3, "last_activity_date": 1593494555, "creation_date": 1593494555, "answer_id": 62650773, "question_id": 48413780, "link": "https://stackoverflow.com/questions/48413780/dagger-injection-not-working-for-object-in-kotlin/62650773#62650773", "title": "Dagger injection not working for &quot;object&quot; in Kotlin", "body": "<p>A workaround for this can be to extend a BaseClass that consists of the fields to be injected.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object SomeSingleton : BaseClass {\n    ...\n    ...\n}\n\nopen class BaseClass{\n    @Inject\n    lateinit var property: Property\n\n    init{\n        YourDaggerComponent.inject(this)\n    }\n\n}\n</code></pre>\n<p>This does work, although this would leak <code>this</code>, which comes up as an android studio warning, to get rid of that make the Base class abstract and instead inject the fields in your original object class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object SomeSingleton : BaseClass {\n    ...\n    ... \n // Add the init block here instead of the base class\n init{\n        YourDaggerComponent.inject(this)\n    }\n}\n\nabstract class BaseClass{\n    @Inject\n    lateinit var property: Property\n    \n   //Remove the init block from here\n\n}\n</code></pre>\n<p>And you Dagger AppComponent interface can be like, any of those function def should work</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Component{\n    fun inject(someSingleton : SomeSingleton)\n    //OR\n    fun inject(baseClass: BaseClass)\n}\n</code></pre>\n<p>I hope this helps....</p>\n"}], "owner": {"reputation": 291, "user_id": 3580922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cdfd92f72c7cc461c15039453356ef?s=128&d=identicon&r=PG&f=1", "display_name": "Nihilanth", "link": "https://stackoverflow.com/users/3580922/nihilanth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7769, "favorite_count": 4, "answer_count": 4, "score": 27, "last_activity_date": 1593494555, "creation_date": 1516759714, "question_id": 48413780, "link": "https://stackoverflow.com/questions/48413780/dagger-injection-not-working-for-object-in-kotlin", "title": "Dagger injection not working for &quot;object&quot; in Kotlin", "body": "<p>After spending a ludicrous amount of time trying to figure out why my dagger injections weren't working; I realised that the \"object\" type in Kotlin was the problem.</p>\n\n<p>The following did not work, the injected \"property\" was null.</p>\n\n<pre><code>object SomeSingleton {\n\n    @Inject\n    lateinit var property: Property\n\n    init {\n        DaggerGraphController.inject(this)\n    }\n}\n</code></pre>\n\n<p>However, the following DID work just fine:</p>\n\n<pre><code>class NotSingleton {\n\n    @Inject\n    lateinit var property: Property\n\n    init {\n        DaggerGraphController.inject(this)\n    }\n}\n</code></pre>\n\n<p>I tried google, I tried the documentation but I could not pin point the reason behind this. Also note that I havent tried this with JAVA, JAVA doesnt have the concept of singletons built in anyway.</p>\n\n<p>Why is this the case? Why is a kotlin singleton unable to inject members but a regular non-singleton class can?</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": false, "score": 0, "last_activity_date": 1516758538, "creation_date": 1516758538, "answer_id": 48413644, "question_id": 48413546, "link": "https://stackoverflow.com/questions/48413546/recyclerview-no-adapter-attached-skipping-layout-when-setting-onclicklistener/48413644#48413644", "title": "RecyclerView: No adapter attached; skipping layout when setting onClickListener", "body": "<p>It's not because of the <code>onClickListener</code>. It's because you are not attaching the adapter initially. What you need to do is attach an empty adapter <code>MovieAdapter</code> in the <code>onCreate</code> method and then after you fetch the data you can set the data in the adapter and call <code>notifydatasetchanged</code>. So something like <code>rv_poster_list.adapter = MovieAdapter(Homefeed())</code> and then once your data is loaded inside <code>fetchJson()</code> you can call <code>rv_poster_list.adapter.homefeed = &lt;data&gt;</code></p>\n"}], "owner": {"reputation": 1, "user_id": 9259612, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8PiBsTxClfE/AAAAAAAAAAI/AAAAAAAAAO8/fUm7bjLD1X0/photo.jpg?sz=128", "display_name": "Eijaz Allibhai", "link": "https://stackoverflow.com/users/9259612/eijaz-allibhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516966817, "creation_date": 1516757698, "last_edit_date": 1516966817, "question_id": 48413546, "link": "https://stackoverflow.com/questions/48413546/recyclerview-no-adapter-attached-skipping-layout-when-setting-onclicklistener", "title": "RecyclerView: No adapter attached; skipping layout when setting onClickListener", "body": "<p>RecyclerView seems to stop working when I try to implement an onClickListener in the ViewHolder. I can't figure out why.</p>\n\n<p>I've tried using runOnUiThread to set up the adapter. I've also tried setting the adapter to null in onCreate, but neither of those solutions seem to be working. </p>\n\n<p>I've looked on the other stack overflow posts with similar issues, but cannot find the right solution to get this to work.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>package com.example.eijaz.popularmovies\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport java.io.IOException\nimport android.support.v7.widget.LinearLayoutManager\nimport com.google.gson.GsonBuilder\nimport android.support.v7.widget.GridLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport okhttp3.*\nimport java.util.logging.Logger.global\n\n\nclass MainActivity : AppCompatActivity() {\n\n    val URL_MAIN = \"http://api.themoviedb.org/3\"\n    val POPULAR_MOVIES = \"/movie/popular\"\n    val TOP_RATED_MOVIES = \"movie/top_rated\"\n\n    val URL_INDIVIDUAL_MOVIE = \"http://image.tmdb.org/t/p/\"\n    val POSTER_SIZE = \"w185\"\n\n    val ENTER_API_KEY = \"?api_key=\"\n    val API_KEY = \"67bfdc871eabed5845200d39e64ed6e5\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fetchJson()\n\n        rv_poster_list.layoutManager = GridLayoutManager(this, 2)\n    }\n\n    fun fetchJson() {\n        println(\"Attempting to Fetch JSON\")\n\n        val request = Request.Builder().url(URL_MAIN + POPULAR_MOVIES + ENTER_API_KEY + API_KEY).build()\n\n        val client = OkHttpClient()\n        client.newCall(request).enqueue(object: Callback {\n            override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                println(body)\n\n                val gson = GsonBuilder().create()\n\n                val homeFeed = gson.fromJson(body, HomeFeed::class.java)\n\n                runOnUiThread {\n                    rv_poster_list.adapter = MovieAdapter(homeFeed)\n                }\n            }\n\n            override fun onFailure(call: Call?, e: IOException?) {\n                println(\"Failed to execute request\")\n            }\n        })\n    }\n}\n\n\nackage com.example.eijaz.popularmovies\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport java.io.IOException\nimport android.support.v7.widget.LinearLayoutManager\nimport com.google.gson.GsonBuilder\nimport android.support.v7.widget.GridLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport okhttp3.*\nimport java.util.logging.Logger.global\n\n\nclass MainActivity : AppCompatActivity() {\n\n    val URL_MAIN = \"http://api.themoviedb.org/3\"\n    val POPULAR_MOVIES = \"/movie/popular\"\n    val TOP_RATED_MOVIES = \"movie/top_rated\"\n\n    val URL_INDIVIDUAL_MOVIE = \"http://image.tmdb.org/t/p/\"\n    val POSTER_SIZE = \"w185\"\n\n    val ENTER_API_KEY = \"?api_key=\"\n    val API_KEY = \"67bfdc871eabed5845200d39e64ed6e5\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fetchJson()\n\n        rv_poster_list.layoutManager = GridLayoutManager(this, 2)\n    }\n\n    fun fetchJson() {\n        println(\"Attempting to Fetch JSON\")\n\n        val request = Request.Builder().url(URL_MAIN + POPULAR_MOVIES + ENTER_API_KEY + API_KEY).build()\n\n        val client = OkHttpClient()\n        client.newCall(request).enqueue(object: Callback {\n            override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                println(body)\n\n                val gson = GsonBuilder().create()\n\n                val homeFeed = gson.fromJson(body, HomeFeed::class.java)\n\n                runOnUiThread {\n                    rv_poster_list.adapter = MovieAdapter(homeFeed)\n                }\n            }\n\n            override fun onFailure(call: Call?, e: IOException?) {\n                println(\"Failed to execute request\")\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>MovieAdapter.kt</p>\n\n<pre><code>package com.example.eijaz.popularmovies\n\nimport android.content.Intent\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.poster_list_item.view.*\n\n\nclass MovieAdapter(val homeFeed: HomeFeed) : RecyclerView.Adapter&lt;CustomViewHolder&gt;() {\n\n    val URL_MAIN = \"http://api.themoviedb.org/3\"\n    val POPULAR_MOVIES = \"/movie/popular\"\n    val TOP_RATED_MOVIES = \"movie/top_rated\"\n\n    val URL_INDIVIDUAL_MOVIE = \"http://image.tmdb.org/t/p/\"\n    val POSTER_SIZE = \"w185\"\n\n    val ENTER_API_KEY = \"?api_key=\"\n    val API_KEY = \"67bfdc871eabed5845200d39e64ed6e5\"\n\n    override fun getItemCount(): Int {\n        return homeFeed.results.count()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): CustomViewHolder {\n        val layoutInflater = LayoutInflater.from(parent?.context)\n        val cellForRow = layoutInflater.inflate(R.layout.poster_list_item, parent, false)\n        return CustomViewHolder(cellForRow)\n    }\n\n    override fun onBindViewHolder(holder: CustomViewHolder?, position: Int) {\n\n        val posterPath = homeFeed.results.get(position).poster_path\n        val posterUrl = URL_INDIVIDUAL_MOVIE + POSTER_SIZE + posterPath\n\n        val ivMoviePoster = holder?.view?.iv_movie_poster\n        Picasso.with(holder?.view?.context).load(posterUrl).into(ivMoviePoster)\n\n    }\n\n}\n\nclass CustomViewHolder(val view: View): RecyclerView.ViewHolder(view) {\n\n    init {\n        view.setOnClickListener {\n            val intent = Intent(view.context, DetailActivity::class.java)\n\n            view.context.startActivity(intent)\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "database-migration", "create-table", "android-room"], "comments": [{"owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "edited": false, "score": 0, "creation_date": 1518015808, "post_id": 48412601, "comment_id": 84331503, "body": "Hi, did you find the solution?"}, {"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "reply_to_user": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "edited": false, "score": 0, "creation_date": 1518026617, "post_id": 48412601, "comment_id": 84338769, "body": "No, I did not find a way to avoid the implicit duplication."}], "answers": [{"comments": [{"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "edited": false, "score": 5, "creation_date": 1516870232, "post_id": 48413534, "comment_id": 83868736, "body": "That implicitely duplicates the table definition. Once the <code>@Entity</code> model defines it. Once the SQL statement defines it. I don&#39;t want to maintain that."}, {"owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "edited": false, "score": 0, "creation_date": 1524426170, "post_id": 48413534, "comment_id": 86955976, "body": "Yeaa, that kind of sucks... Haven&#39;t found another way still so thanks Joshua !"}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1516757611, "creation_date": 1516757611, "answer_id": 48413534, "question_id": 48412601, "link": "https://stackoverflow.com/questions/48412601/how-to-manually-invoke-create-table-when-using-room/48413534#48413534", "title": "How to manually invoke CREATE TABLE when using Room?", "body": "<p>No, I don't think there is a way to do that. See the <a href=\"https://developer.android.com/training/data-storage/room/migrating-db-versions.html\" rel=\"nofollow noreferrer\">official tutorial</a>.</p>\n\n<pre><code>static final Migration MIGRATION_1_2 = new Migration(1, 2) {\n    @Override\n    public void migrate(SupportSQLiteDatabase database) {\n        database.execSQL(\"CREATE TABLE `Fruit` (`id` INTEGER, \"\n                + \"`name` TEXT, PRIMARY KEY(`id`))\");\n    }\n};\n</code></pre>\n\n<p>It seems that you have to write it yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 7830271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5193ab22ab74bd59994cf000075de05?s=128&d=identicon&r=PG&f=1", "display_name": "sunwei", "link": "https://stackoverflow.com/users/7830271/sunwei"}, "is_accepted": false, "score": 2, "last_activity_date": 1528889979, "creation_date": 1528889979, "answer_id": 50836310, "question_id": 48412601, "link": "https://stackoverflow.com/questions/48412601/how-to-manually-invoke-create-table-when-using-room/50836310#50836310", "title": "How to manually invoke CREATE TABLE when using Room?", "body": "<p>You can find create table SQL from class \"ExamplesDatabase_Impl.java\", there is no CREATE_TABLE_STATEMENT define, only hard code.</p>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5289, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1543850852, "creation_date": 1516750572, "last_edit_date": 1516994832, "question_id": 48412601, "link": "https://stackoverflow.com/questions/48412601/how-to-manually-invoke-create-table-when-using-room", "title": "How to manually invoke CREATE TABLE when using Room?", "body": "<p>Given this custom <code>SQLiteOpenHelper</code> in Java:</p>\n\n<pre><code>public class ExamplesOpenHelper extends SQLiteOpenHelper {\n\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String DATABASE_NAME = \"app.db\";\n\n    private static final String CREATE_TABLE_STATEMENT =\n            \"CREATE TABLE examples (_id INTEGER PRIMARY KEY, NAME TEXT);\";\n\n    public ExamplesOpenHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_TABLE_STATEMENT);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(\"DROP TABLE IF EXISTS examples\");\n        onCreate(db);\n    }\n}\n</code></pre>\n\n<p>I can reference the <code>CREATE_TABLE_STATEMENT</code> in an database migration aka. <code>onUpgrade()</code> without duplicating the SQL code.</p>\n\n<p>I would like to implement the same with <a href=\"https://kotlinlang.org\" rel=\"noreferrer\">Kotlin</a> and <a href=\"https://developer.android.com/topic/libraries/architecture/room.html\" rel=\"noreferrer\">Room</a> as shown here:</p>\n\n<pre><code>@Database(\n        entities = [\n            (Example::class)\n        ],\n        version = 2\n)\nabstract class ExamplesDatabase : RoomDatabase() {\n\n    companion object {\n\n        const val NAME = \"examples\"\n\n        @Volatile\n        private var INSTANCE: ExamplesDatabase? = null\n\n        @JvmStatic\n        fun getInstance(context: Context): ExamplesDatabase =\n                INSTANCE ?: synchronized(this) {\n                    INSTANCE ?: buildDatabase(context).also {\n                        INSTANCE = it\n                    }\n                }\n\n        private fun buildDatabase(context: Context) =\n                Room.databaseBuilder(\n                        context.applicationContext,\n                        ExamplesDatabase::class.java,\n                        NAME)\n                        .addMigrations(MIGRATION_1_2)\n                        .build()\n\n        private val MIGRATION_1_2 = object : Migration(1, 2) {\n            override fun migrate(db: SupportSQLiteDatabase) {\n                // How to invoke CREATE TABLE here?\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>This time the actual table definition is infered from the <code>Example</code> model. How can I infer the <code>CREATE_TABLE_STATEMENT</code> from Room so I can use it in an migration? I want to avoid writing the statement <strong>manually</strong> and thereby defining it <strong>twice</strong>: once in the model, one in the SQL statement.</p>\n"}, {"tags": ["android", "generics", "serialization", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 1089, "user_id": 5766670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v2xDv.jpg?s=128&g=1", "display_name": "Anand Kumar", "link": "https://stackoverflow.com/users/5766670/anand-kumar"}, "edited": false, "score": 0, "creation_date": 1565347510, "post_id": 48412340, "comment_id": 101334746, "body": "Try using Any instead of T."}], "owner": {"reputation": 41, "user_id": 5916007, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6q3_VgDZHk/AAAAAAAAAAI/AAAAAAAAARY/pDSJqhEYOhk/photo.jpg?sz=128", "display_name": "Nicol&#225;s Gonz&#225;lez", "link": "https://stackoverflow.com/users/5916007/nicol%c3%a1s-gonz%c3%a1lez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 876, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516748879, "creation_date": 1516748879, "question_id": 48412340, "link": "https://stackoverflow.com/questions/48412340/cannot-parse-json-to-data-class-using-kotlinx-serialization", "title": "Cannot parse Json to data class using kotlinx.serialization", "body": "<p>In an Android project, I am trying to parse a Json response from a remote endpoint using <strong>kotlinx.serialization</strong> and <strong>Retrofit</strong>. I am using Jake Warthon's <a href=\"https://github.com/JakeWharton/retrofit2-kotlinx-serialization-converter\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/retrofit2-kotlinx-serialization-converter</a> to set the converter when setting up the retrofit instance</p>\n\n<pre><code>Retrofit.Builder()\n    .baseUrl(baseUrl)\n    .addConverterFactory(stringBased(contentType, ::parse, ::stringify))\n    .addCallAdapterFactory(CoroutineCallAdapterFactory())\n    .build()\n</code></pre>\n\n<p>I have the following model annotated with @Serializable, which I want to use to parse the Json response</p>\n\n<pre><code>import kotlinx.serialization.Serializable\n\n@Serializable\ndata class Response&lt;out T&gt;(val groups: List&lt;GroupsResponse&lt;T&gt;&gt;)\n</code></pre>\n\n<p>Note that both the Response and the nested GroupsResponse define a generic type. I've been looking through the <a href=\"https://github.com/Kotlin/kotlinx.serialization/tree/master/docs\" rel=\"nofollow noreferrer\">docs</a> but I haven't been able to understand how generics and <strong>kotlinx.serialization</strong> play together, although it does mention it supports generics and that you should access the serializer for those models using the generated <strong>serializer</strong> methods. I've set up the project to use the right plugins as per the docs on <strong>kotlinx.serialization</strong> and Jake's library, but the problem is that the project is not even compiling as I am getting the following kind of errors when the build process executes the <strong>kaptDebugKotlin</strong> gradle task</p>\n\n<pre><code>e: /Users/nico/Dev/git/edreams/workshops/K-Places/data/build/tmp/kapt3/stubs/debug/com/edreams/android/workshops/kotlin/data/venues/remote/response/Response.java:75: error: non-static type variable T cannot be referenced from a static context\npublic static final class $serializer implements kotlinx.serialization.KSerializer&lt;com.edreams.android.workshops.kotlin.data.venues.remote.response.Response&lt;? extends T&gt;&gt; {\n\ne: /Users/nico/Dev/git/edreams/workshops/K-Places/data/build/tmp/kapt3/stubs/debug/com/edreams/android/workshops/kotlin/data/venues/remote/response/GroupsResponse.java:109: error: cannot find symbol\n    kotlinx.serialization.KSerializer&lt;T0&gt; typeSerial0) {\nsymbol:   class T0\nlocation: class $serializer\n</code></pre>\n\n<p>What am I missing? Any help would be appreciated</p>\n"}, {"tags": ["javascript", "kotlin"], "comments": [{"owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "edited": false, "score": 0, "creation_date": 1516792253, "post_id": 48412162, "comment_id": 83831507, "body": "all I&#39;ve come up with is it concatenate script after build, using gradle. still waiting for proposals"}], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "is_accepted": true, "score": 0, "last_activity_date": 1551983906, "last_edit_date": 1551983906, "creation_date": 1516880299, "answer_id": 48441963, "question_id": 48412162, "link": "https://stackoverflow.com/questions/48412162/how-to-import-kotlin-js-using-jsmodule/48441963#48441963", "title": "how to import kotlin.js using @JsModule", "body": "<p>the answer is already given, its <a href=\"https://discuss.kotlinlang.org/t/import-kotlin-js-file-using-jsmodule-annotation/6360\" rel=\"nofollow noreferrer\"> here</a></p>\n"}], "owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 48441963, "answer_count": 1, "score": 1, "last_activity_date": 1551983906, "creation_date": 1516747900, "question_id": 48412162, "link": "https://stackoverflow.com/questions/48412162/how-to-import-kotlin-js-using-jsmodule", "title": "how to import kotlin.js using @JsModule", "body": "<p>Kotlin2Js generates two files: kotlin.js with all the necessary functions and a script that was translated from kotlin, for example \"script.js\"\nI want to import the kotlin.js file into the \"script.js\" using @JsModule annotation, so as not to connect them separately.</p>\n\n<pre><code>@JsModule(\"kotlin\")\nexternal object kotlin\n</code></pre>\n\n<p>how to do it? this example does not give any results</p>\n"}, {"tags": ["java", "arrays", "list", "reference", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 50, "last_activity_date": 1518780250, "last_edit_date": 1518780250, "creation_date": 1516744566, "answer_id": 48411459, "question_id": 48411392, "link": "https://stackoverflow.com/questions/48411392/how-are-kotlin-arrays-tolist-and-aslist-different/48411459#48411459", "title": "How are Kotlin Array&#39;s toList and asList different?", "body": "<h3>TL;DR</h3>\n\n<p>The list created with <code>asList</code> keeps a reference to the <strong>original</strong> <code>Array</code>.<br>\nThe list created with <code>toList</code>/<code>toMutableList</code> is backed by a <strong>copy</strong> of the original <code>Array</code>.</p>\n\n<h2>Explanation</h2>\n\n<p><strong>asList</strong></p>\n\n<p>The <code>asList</code> function creates a list that <em>reuses</em> the <em>same</em> <code>Array</code> instance, which implies that changes to the original array also have impact on the <code>List</code>:</p>\n\n<pre><code>val arr = arrayOf(1, 2, 3)\nval l1 = arr.asList()\n\narr[0] = 4\nprintln(l1) // [4, 2, 3]\n</code></pre>\n\n<p><strong>toList</strong></p>\n\n<p>This isn't the case for <code>toList</code>/<code>toMutableList</code> since the array is <em>copied</em>:</p>\n\n<pre><code>val arr = arrayOf(1, 2, 3)\nval l2 = arr.toList()\n\narr[0] = 4\nprintln(l2) // [1, 2, 3]\n</code></pre>\n\n<p>The Kotlin source code can be found <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/libraries/stdlib/src/generated/_Arrays.kt\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "is_accepted": false, "score": 10, "last_activity_date": 1516744600, "creation_date": 1516744600, "answer_id": 48411469, "question_id": 48411392, "link": "https://stackoverflow.com/questions/48411392/how-are-kotlin-arrays-tolist-and-aslist-different/48411469#48411469", "title": "How are Kotlin Array&#39;s toList and asList different?", "body": "<p>Basically <code>asList()</code> still maintains a reference to the original <code>Array</code>. That means mutations to that list will also mutate the underlying <code>Array</code>.</p>\n\n<p><code>toList()</code> is simply copying the values of the <code>Array</code> into a new <code>List</code>, but there is no lingering link afterwards.</p>\n\n<p>For most use-cases, they probably are interchangeable. <code>asList()</code> will likely have slightly better performance (since it isn't performing a copy) and <code>toList()</code> will be a \"safe\" copy against unexpected mutations.</p>\n"}], "owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4665, "favorite_count": 7, "accepted_answer_id": 48411459, "answer_count": 2, "score": 24, "last_activity_date": 1518780250, "creation_date": 1516744216, "question_id": 48411392, "link": "https://stackoverflow.com/questions/48411392/how-are-kotlin-arrays-tolist-and-aslist-different", "title": "How are Kotlin Array&#39;s toList and asList different?", "body": "<p>The Kotlin <code>Array</code> class offers <code>asList()</code>, <code>toList()</code>, and <code>toMutableList()</code> methods. The first two methods both return a <code>List</code> and are described in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html\" rel=\"noreferrer\">Kotlin reference</a>  as follows:</p>\n\n<ul>\n<li><code>asList()</code> returns a <code>List</code> that wraps the original <code>Array</code>.</li>\n<li><code>toList()</code> returns a <code>List</code> containing all elements [of the original <code>Array</code>].</li>\n</ul>\n\n<p>These methods <em>appear</em> interchangeable. How do these two methods differ in practice?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-dsl"], "answers": [{"tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": true, "score": 0, "last_activity_date": 1523557336, "creation_date": 1523557336, "answer_id": 49803530, "question_id": 48411169, "link": "https://stackoverflow.com/questions/48411169/how-to-access-environment-properties-in-the-beans-element-of-the-bean-definition/49803530#49803530", "title": "How to access Environment properties in the beans element of the Bean Definition DSL using Spring 5 and Kotlin", "body": "<p>It is not possible with Spring Framework 5.0, but I have just added such support via <a href=\"https://github.com/spring-projects/spring-framework/commit/97ee94f4ca7e1d0c6f7e218e0ba8448940b7ba24\" rel=\"nofollow noreferrer\">this commit</a>, this improvement will be available as of Spring Framework 5.1 / Spring Boot 2.1.</p>\n"}], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 49803530, "answer_count": 1, "score": 1, "last_activity_date": 1523557336, "creation_date": 1516743082, "question_id": 48411169, "link": "https://stackoverflow.com/questions/48411169/how-to-access-environment-properties-in-the-beans-element-of-the-bean-definition", "title": "How to access Environment properties in the beans element of the Bean Definition DSL using Spring 5 and Kotlin", "body": "<p>I want to define some beans depending on the values of some properties from the application.yml file of a Spring Boot Application. For instance with a <code>number-of-beans: 5</code> I build a for loop to create 5 bean instances:</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>number-of-beans: 5\n</code></pre>\n\n<p><strong>BeanDsl.kt</strong></p>\n\n<pre><code>fun beans() = beans {\n    val n = env.getProperty(\"number-of-beans\")\n    for (i in 1..n) {\n        bean&lt;String&gt;(\"string${i}\") { \"string${i}\" }\n    } \n}\n</code></pre>\n\n<p>The problem is how to access the environment at that point since the env variable isn't available there. It's funny it is inside the <code>bean{}</code> element.</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "dsl"], "answers": [{"comments": [{"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "edited": false, "score": 0, "creation_date": 1531126432, "post_id": 48410519, "comment_id": 89461793, "body": "<code>env</code> is not accessible inside bean constructor. only within <code>BeanDefinitionContext</code>"}], "tags": [], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "is_accepted": true, "score": -1, "last_activity_date": 1516740405, "creation_date": 1516740405, "answer_id": 48410519, "question_id": 48410291, "link": "https://stackoverflow.com/questions/48410291/how-to-inject-value-properties-into-beans-defined-using-spring-5-and-kotlin-bea/48410519#48410519", "title": "How to inject @Value properties into beans defined using Spring 5 and Kotlin Bean Definition DSL", "body": "<p>Solved accessing the values through the env variable:</p>\n\n<pre><code>fun beans() = beans {\n    for (i in 1..10) {\n        bean&lt;String&gt;(\"myString${i}\" + env.getProperty(\"myProperty\") { \"myString${i}\" + env.getProperty(\"myProperty\")}\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 48410519, "answer_count": 1, "score": 1, "last_activity_date": 1516740405, "creation_date": 1516739457, "last_edit_date": 1516739874, "question_id": 48410291, "link": "https://stackoverflow.com/questions/48410291/how-to-inject-value-properties-into-beans-defined-using-spring-5-and-kotlin-bea", "title": "How to inject @Value properties into beans defined using Spring 5 and Kotlin Bean Definition DSL", "body": "<p>I am developing a Spring Boot (2.0.0 M7) application using Kotlin, and need to define some beans taking advantage of the new DSL for bean definitions. I cannot come up with a way to inject values coming from @Value properties. Let's consider this simplified example:</p>\n\n<pre><code>fun beans() = beans {\n    for (i in 1..10) {\n        bean&lt;String&gt;(\"myString${i}\" + someProperty) { \"myString${i}\" + someProperty}\n    }\n}\n</code></pre>\n\n<p><code>someProperty</code> should come from something like this:</p>\n\n<pre><code>@Value(\"\\${myProperty}\") someProperty: String\n</code></pre>\n\n<p>How can I make it accessible to the <code>beans {}</code> DSL? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1516734188, "post_id": 48408788, "comment_id": 83807282, "body": "If you want to set a different text color for collapsed and expanded groups: the <a href=\"https://developer.android.com/reference/android/widget/ExpandableListAdapter.html#getGroupView(int,%20boolean,%20android.view.View,%20android.view.ViewGroup)\" rel=\"nofollow noreferrer\">ExpandableListAdapter</a> has a method <code>getGroupView()</code> which takes the collapsed/ expanded state as boolean parameter"}, {"owner": {"reputation": 134, "user_id": 5050681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/634417300027120/picture?type=large", "display_name": "Renato Melo", "link": "https://stackoverflow.com/users/5050681/renato-melo"}, "reply_to_user": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1516734565, "post_id": 48408788, "comment_id": 83807510, "body": "Thank you for the answer, but its not what i want. I want to change the color of a group text after click on one of its childs."}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 2, "creation_date": 1516735167, "post_id": 48408788, "comment_id": 83807875, "body": "Then I think you need to keep track of the states (colored/ not colored) for all the group positions and use this information in the adapter&#39;s getGroupView() implementation. The OnClickListener just needs to call adapter.notifyDatasetChanged(), then getGroupView() will be called and that&#39;s it."}], "answers": [{"tags": [], "owner": {"reputation": 4660, "user_id": 4111447, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/81mmi.png?s=128&g=1", "display_name": "Tomer Shemesh", "link": "https://stackoverflow.com/users/4111447/tomer-shemesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1516735912, "creation_date": 1516735912, "answer_id": 48409449, "question_id": 48408788, "link": "https://stackoverflow.com/questions/48408788/how-to-change-parent-text-color-after-child-click-on-expandablelistview/48409449#48409449", "title": "How to change parent text color after child click on ExpandableListView?", "body": "<p>I think the best way would be to Create a list of parents that need colors changed and update them in get parent view, just like nosugar said</p>\n\n<pre><code>Set&lt;Integer&gt; coloredParents = new HashSet&lt;Integer&gt;();\nval clickListener = ExpandableListView.OnChildClickListener{\n       listView: ExpandableListView?, v: View?\n       , groupPosition: Int, _: Int, _: Long\n       -&gt;\n       listView?.collapseGroup(groupPosition)\n       if(coloredParents.contains(groupPosition))\n       {\n          coloredParents.remove(groupPosition);\n       }\n       else\n       {\n           coloredParents.put(groupPosition);\n       }\n\n\n       true\n}\nexpandable_list_view.setOnChildClickListener(clickListener)\n</code></pre>\n\n<p>//then in groupview </p>\n\n<pre><code>View getGroupView(int groupPosition)\n{\n   if(coloredParents.contains(groupPosition))\n   {\n      //set color here\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 5050681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/634417300027120/picture?type=large", "display_name": "Renato Melo", "link": "https://stackoverflow.com/users/5050681/renato-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 48409449, "answer_count": 1, "score": 0, "last_activity_date": 1516735912, "creation_date": 1516733292, "question_id": 48408788, "link": "https://stackoverflow.com/questions/48408788/how-to-change-parent-text-color-after-child-click-on-expandablelistview", "title": "How to change parent text color after child click on ExpandableListView?", "body": "<p>I already use a onChildClickListener for handle child clicks, but don't know how to change the parent text color:</p>\n\n<pre><code>val clickListener = ExpandableListView.OnChildClickListener{\n       listView: ExpandableListView?, v: View?\n       , groupPosition: Int, _: Int, _: Long\n       -&gt;\n       listView?.collapseGroup(groupPosition)\n       true\n}\nexpandable_list_view.setOnChildClickListener(clickListener)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "android-appcompat", "floating-action-button"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 9165975, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ukel7QjjTEs/AAAAAAAAAAI/AAAAAAAABRE/IpsVIBaysN8/photo.jpg?sz=128", "display_name": "Fernando Camargo", "link": "https://stackoverflow.com/users/9165975/fernando-camargo"}, "edited": false, "score": 0, "creation_date": 1516913116, "post_id": 48408196, "comment_id": 83896129, "body": "It was amazing what you did.  Thank you very much, but where is this information on all these lines of error?  I appreciate if you could teach."}, {"owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "reply_to_user": {"reputation": 131, "user_id": 9165975, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ukel7QjjTEs/AAAAAAAAAAI/AAAAAAAABRE/IpsVIBaysN8/photo.jpg?sz=128", "display_name": "Fernando Camargo", "link": "https://stackoverflow.com/users/9165975/fernando-camargo"}, "edited": false, "score": 0, "creation_date": 1517226740, "post_id": 48408196, "comment_id": 83994479, "body": "Edited the answer so it&#39;s clearer how to find such errors."}, {"owner": {"reputation": 730, "user_id": 4903614, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-j68Kdmm2EHk/AAAAAAAAAAI/AAAAAAAAAEc/RV7EmVbqrWc/photo.jpg?sz=128", "display_name": "Pardeep Kumar", "link": "https://stackoverflow.com/users/4903614/pardeep-kumar"}, "edited": false, "score": 0, "creation_date": 1528873427, "post_id": 48408196, "comment_id": 88666078, "body": "saved me hours of misery"}, {"owner": {"reputation": 121, "user_id": 10376244, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PgD5ioSjYM/AAAAAAAAAAI/AAAAAAAACGM/PGDbd_CpBw4/photo.jpg?sz=128", "display_name": "sankalpvk18", "link": "https://stackoverflow.com/users/10376244/sankalpvk18"}, "edited": false, "score": 0, "creation_date": 1545656482, "post_id": 48408196, "comment_id": 94670873, "body": "Thanks for this awesome answer"}], "tags": [], "owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "is_accepted": false, "score": 20, "last_activity_date": 1517226723, "last_edit_date": 1517226723, "creation_date": 1516730971, "answer_id": 48408196, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob/48408196#48408196", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>You were referencing an attribute \"textColor\", when it should be \"android:textColor\".<br>\nIn app/src/main/res/values/styles.xml replace in line 13 and line 17:<br></p>\n\n<pre><code>&lt;item name=\"textColor\"&gt;...&lt;/item&gt; -&gt; &lt;item name=\"android:textColor\"&gt;...&lt;/item&gt;\n</code></pre>\n\n<p>The how: the error from AAPT stated the following:</p>\n\n<blockquote>\n  <p>error: style attribute 'attr/textColor (aka br.com.conseng.themedesign:attr/textColor)' not found.</p>\n</blockquote>\n\n<p>It points out that you (or your libraries) are using an attribute somewhere that is not recognized. I searched for \"textColor\" in your repository and came up with the two attributes with the name \"textColor\". The widely used attribute is \"android:textColor\" and you didn't define the attribute \"textColor\" anywhere yourself, so it looked like you were missing the \"android:\" prefix.</p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "is_accepted": false, "score": 2, "last_activity_date": 1538545698, "creation_date": 1538545698, "answer_id": 52620436, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob/52620436#52620436", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>I've just deleted my color resourse, but it have been used in my style. So, check if your colors are really not using anywhere by <code>Ctrl+Shift+F</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4643255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Yq0GnjYYttQ/AAAAAAAAAAI/AAAAAAAAAJ4/e0-N_uuRLNc/photo.jpg?sz=128", "display_name": "vaisakh mv", "link": "https://stackoverflow.com/users/4643255/vaisakh-mv"}, "is_accepted": false, "score": 1, "last_activity_date": 1555330466, "last_edit_date": 1555330466, "creation_date": 1554972216, "answer_id": 55628233, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob/55628233#55628233", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>Remove this line from <code>dependencies</code> in gradle build file:</p>\n\n<pre><code>implementation 'com.android.support.constraint:constraint-layout:+'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 1002883, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/pG2Bt.png?s=128&g=1", "display_name": "timyau", "link": "https://stackoverflow.com/users/1002883/timyau"}, "is_accepted": false, "score": 2, "last_activity_date": 1558668473, "creation_date": 1558668473, "answer_id": 56285474, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob/56285474#56285474", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>For my situation, my compileSdkVersion &lt; targetSdkVersion in build.gradle.\nJust change compileSdkVersion >= targetSdkVersion.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7280639, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xBzvKYVJdtc/AAAAAAAAAAI/AAAAAAAACgw/S_q_iYkEZjQ/photo.jpg?sz=128", "display_name": "Rohit Dayani", "link": "https://stackoverflow.com/users/7280639/rohit-dayani"}, "is_accepted": false, "score": 4, "last_activity_date": 1561972542, "last_edit_date": 1561972542, "creation_date": 1561966356, "answer_id": 56831625, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob/56831625#56831625", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>Go to <code>build.gradle(app)</code> and add this in dependency:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'\n</code></pre>\n\n<p>Right now my <code>compileSdkVersion</code> is <code>28</code>, so it is <code>28.0.0</code>.</p>\n\n<p>Try and change according to that.</p>\n"}], "owner": {"reputation": 131, "user_id": 9165975, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ukel7QjjTEs/AAAAAAAAAAI/AAAAAAAABRE/IpsVIBaysN8/photo.jpg?sz=128", "display_name": "Fernando Camargo", "link": "https://stackoverflow.com/users/9165975/fernando-camargo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77931, "favorite_count": 0, "answer_count": 5, "score": 13, "last_activity_date": 1561972542, "creation_date": 1516723916, "last_edit_date": 1558692670, "question_id": 48406186, "link": "https://stackoverflow.com/questions/48406186/error-failed-linking-references-queuedjob", "title": "error: failed linking references. -&gt; QueuedJob", "body": "<p>I was studying the Android Material Design using Kotlin and everything was going fine until I tried to use the android.support.design.widget.FloatingActionButton.  </p>\n\n<p>When I rebuild the project I got the error message below: </p>\n\n<pre><code>Information:Gradle tasks [clean, :app:assembleDebug]\nC:\\Users\\qin\\.gradle\\caches\\transforms-1\\files-1.1\\appcompat-v7-26.1.0.aar\\3d5ddc383685b19d22429a29e09f2aeb\\res\\values\\values.xml\nError:(1419, 5) error: style attribute 'attr/textColor (aka br.com.conseng.themedesign:attr/textColor)' not found.\nError:(1525, 5) error: style attribute 'attr/textColor (aka br.com.conseng.themedesign:attr/textColor)' not found.\n.....\\CursoMaterialDesign\\ThemeDesign\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml\nError:(1843) style attribute 'attr/textColor (aka br.com.conseng.themedesign:attr/textColor)' not found.\nError:(1953) style attribute 'attr/textColor (aka br.com.conseng.themedesign:attr/textColor)' not found.\nError:failed linking references.\nError:java.util.concurrent.ExecutionException: java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\nError:java.util.concurrent.ExecutionException: com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\nError:com.android.tools.aapt2.Aapt2Exception: AAPT2 error: check logs for details\nError:Execution failed for task ':app:processDebugResources'.\n&gt; Failed to execute aapt\nInformation:BUILD FAILED in 15s\nInformation:9 errors\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>I saved the source files on <a href=\"https://github.com/CNSNGopenSourceProjects/FailedLinkingreferencer\" rel=\"noreferrer\" title=\"GitHub\">GitHub</a> and my environment is:</p>\n\n<ul>\n<li>WINDOWS 10 10.03.0.1 (64-bit)</li>\n<li>ANDROID STUDIO Android Studio 3.0.1 - Build #AI-171.4443003</li>\n<li>JRE: 1.8.0_152-release-915-b01 amd64</li>\n<li>JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</li>\n</ul>\n\n<p>I tried:</p>\n\n<ol>\n<li>The FILE->INVALIDATE CACHE/RESTART command, but nothing changed.</li>\n<li>I executed the <strong>gradlew cleanBuildCache</strong> on the terminal, but it could not determine java version from '9.0.1' (?) as shown below.</li>\n</ol>\n\n\n\n<pre><code>gradlew cleanBuildCache --stacktrace --debug\n14:05:14.966 [INFO] [org.gradle.internal.nativeintegration.services.NativeServices] Initialized native services in: C:\\Users\\qin\\.gradle\\native\n14:05:15.038 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n14:05:15.039 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\n14:05:15.039 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n14:05:15.039 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\n14:05:15.042 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Could not determine java version from '9.0.1'.\n14:05:15.042 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n14:05:15.042 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Exception is:\n14:05:15.043 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] java.lang.IllegalArgumentException: Could not determine java version from '9.0.1'.\n14:05:15.043 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.api.JavaVersion.toVersion(JavaVersion.java:72)\n14:05:15.043 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.api.JavaVersion.current(JavaVersion.java:82)\n14:05:15.043 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.internal.jvm.UnsupportedJavaRuntimeException.assertUsingVersion(UnsupportedJavaRuntimeEx\nception.java:29)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:32)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:\n253)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:\n182)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.Main.doAction(Main.java:33)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n14:05:15.044 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.jav\na:43)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n14:05:15.045 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.jav\na:43)\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:30)\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]   at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n14:05:15.046 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1516723218, "post_id": 48405497, "comment_id": 83800592, "body": "Since it is MutableLiveData, I can still perform operations on this dataset, despite not being able to call, for example, repositories.set(...). I could still call repositories.value = &quot;...&quot;. I was hoping I could leave them as val, but make the get() of these return the immutable datatype of LiveData, as indicated currently by the functions"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1516724430, "post_id": 48405497, "comment_id": 83801440, "body": "Mutable <i>object</i> not mutable <i>reference</i>. We need the same <code>MutableLiveData</code> object but change its property."}], "tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": false, "score": -2, "last_activity_date": 1516721808, "creation_date": 1516721808, "answer_id": 48405497, "question_id": 48405101, "link": "https://stackoverflow.com/questions/48405101/kotlin-read-only-access-of-immutable-type-to-an-internal-variable-of-a-mutable/48405497#48405497", "title": "Kotlin: Read Only access of Immutable Type to an Internal Variable of a Mutable Type", "body": "<p>val doesn't have a setter since it's readonly but if you want a var you can do this</p>\n\n<pre><code>var repositories = MutableLiveData&lt;List&lt;String&gt;&gt;()\n    private set\nvar repoLoadError = MutableLiveData&lt;Boolean&gt;()\n    private set\nvar loading = MutableLiveData&lt;Boolean&gt;()\n    private set\n</code></pre>\n\n<p>This will give you a private setter and a public getter</p>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 1, "creation_date": 1516780560, "post_id": 48406416, "comment_id": 83824362, "body": "Thank you for accepting the answer, I still curious if you can avoid the verbosity"}, {"owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "edited": false, "score": 0, "creation_date": 1516819036, "post_id": 48406416, "comment_id": 83849443, "body": "I&#39;ll post something in the Kotlin forums. My thought was that we could set the get() for the MutableData member &quot;= this as Data&quot;"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 6, "last_activity_date": 1516724551, "creation_date": 1516724551, "answer_id": 48406416, "question_id": 48405101, "link": "https://stackoverflow.com/questions/48405101/kotlin-read-only-access-of-immutable-type-to-an-internal-variable-of-a-mutable/48406416#48406416", "title": "Kotlin: Read Only access of Immutable Type to an Internal Variable of a Mutable Type", "body": "<p>I don't know if it is possible to avoid the verbosity. But, I've seen that before and it is usually declared as a property.</p>\n\n<pre><code>private val _repositories = MutableLiveData&lt;List&lt;Repo&gt;&gt;()\nval repositories : LiveData&lt;List&lt;Repo&gt;&gt; \n    get() = _repositories\n</code></pre>\n\n<p>This is the convention, see <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#property-names\" rel=\"noreferrer\">the doc here</a> in <strong>Names for backing properties</strong></p>\n\n<blockquote>\n  <p>If a class has two properties which are conceptually the same but one is part of a public API and another is an implementation detail, use an underscore as the prefix for the name of the private property:</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 616, "user_id": 1402087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc86c4c9afeff21b681d9c254f27b5e?s=128&d=identicon&r=PG", "display_name": "mp501", "link": "https://stackoverflow.com/users/1402087/mp501"}, "is_accepted": false, "score": 1, "last_activity_date": 1541093587, "creation_date": 1541093587, "answer_id": 53106434, "question_id": 48405101, "link": "https://stackoverflow.com/questions/48405101/kotlin-read-only-access-of-immutable-type-to-an-internal-variable-of-a-mutable/53106434#53106434", "title": "Kotlin: Read Only access of Immutable Type to an Internal Variable of a Mutable Type", "body": "<p>I haven't found any elegant solution to this problem however this is how I handle it.</p>\n\n<pre><code>private val selectedPositionLiveData = MutableLiveData&lt;Int&gt;()\nfun getSelectedPosition() = selectedPositionLiveData as LiveData&lt;Int&gt;\n</code></pre>\n\n<p>The <code>View</code> observes via the public getter method and there's no need to define a second member in the <code>ViewModel</code>. I probably favour this approach due to my Java background with explicit getters but this seems to me to be as clean and concise as any of the other workarounds.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6015181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c394369a48eaf012f0b8f9f5a632a8f5?s=128&d=identicon&r=PG&f=1", "display_name": "aviyay", "link": "https://stackoverflow.com/users/6015181/aviyay"}, "is_accepted": false, "score": 2, "last_activity_date": 1547764213, "last_edit_date": 1547764213, "creation_date": 1547763662, "answer_id": 54245105, "question_id": 48405101, "link": "https://stackoverflow.com/questions/48405101/kotlin-read-only-access-of-immutable-type-to-an-internal-variable-of-a-mutable/54245105#54245105", "title": "Kotlin: Read Only access of Immutable Type to an Internal Variable of a Mutable Type", "body": "<p>Following the idea of <a href=\"https://discuss.kotlinlang.org/t/exposing-a-mutable-member-as-immutable/6359/8\" rel=\"nofollow noreferrer\">this post</a>:</p>\n\n<pre><code>class HomeListViewModel: ViewModel(){\n    val repositories: LiveData&lt;List&lt;Repo&gt;&gt; = MutableLiveData()\n\n    init {\n        repositories as MutableLiveData\n        ...//Do some stuff to repositories\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1099, "user_id": 1327957, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/12190abf8ac417e88aee9f229addd09e?s=128&d=identicon&r=PG", "display_name": "Josh Ribeiro", "link": "https://stackoverflow.com/users/1327957/josh-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1841, "favorite_count": 2, "accepted_answer_id": 48406416, "answer_count": 4, "score": 8, "last_activity_date": 1547764213, "creation_date": 1516720717, "last_edit_date": 1516723549, "question_id": 48405101, "link": "https://stackoverflow.com/questions/48405101/kotlin-read-only-access-of-immutable-type-to-an-internal-variable-of-a-mutable", "title": "Kotlin: Read Only access of Immutable Type to an Internal Variable of a Mutable Type", "body": "<p>While learning ViewModels in Android, a problem has arisen that feels like Kotlin was meant to solve. In the code below, we can see that MutableLiveData values are being use to edit values and indicators. However, we do not want these mutable values to be exposed to anything else, specifically members of an Android lifecycle. We DO want Android Lifecycle members to have access to read values but not set them. Therefore, the 3 exposed functions, displayed below, are of the LiveData&lt;> immutable type.</p>\n\n<p><strong>Is there an easier or more concise way to expose read only values that can be edited internally?</strong> This seems like what Kotlin was made to avoid: boilerplate verbosity.</p>\n\n<pre><code>class HomeListViewModel: ViewModel(){\n    //Private mutable data\n    private val repositories = MutableLiveData&lt;List&lt;Repo&gt;&gt;()\n    private val repoLoadError = MutableLiveData&lt;Boolean&gt;()\n    private val loading = MutableLiveData&lt;Boolean&gt;()\n\n\n    //Exposed uneditable LIveData\n    fun getRepositories():LiveData&lt;List&lt;Repo&gt;&gt; = repositories\n    fun getLoadError(): LiveData&lt;Boolean&gt; = repoLoadError\n    fun getLoadingStatuses(): LiveData&lt;Boolean&gt; = loading\n\n    init{...//Do some stuff to MutableLiveData&lt;&gt;\n\n    }\n}\n</code></pre>\n\n<p>A non-Android scenario that might be similar is:</p>\n\n<pre><code>class ImmutableAccessExample{\n\n    private val theThingToBeEditedInternally = mutableListOf&lt;String&gt;()\n\n    fun theThingToBeAccessedPublicly(): List&lt;String&gt; = theThingToBeEditedInternally\n\n    init {\n        theThingToBeEditedInternally.add(0, \"something\")\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "layout", "kotlin"], "owner": {"reputation": 2091, "user_id": 5535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae3b40fe986d590176f7f82eceffae1e?s=128&d=identicon&r=PG&f=1", "display_name": "Kota1921", "link": "https://stackoverflow.com/users/5535096/kota1921"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516718118, "creation_date": 1516717725, "question_id": 48404116, "link": "https://stackoverflow.com/questions/48404116/a-little-complex-message-layout", "title": "A little complex message layout", "body": "<p>I have a very interesting problem. I should make a layout for a text message like in telegram, but only with text. So i should shift timestamp a little bit down if text of message take more than 1 lines. \nI made layout with 2 textViews (one for single line message and other for multiline, you can see my layout in attach)</p>\n\n<p>My problem is that when i show timestamp for multiline case all list a little jump (because height of view change)\nHere my code from my viewHolder (i use kotlin, but it still very obvious).\nThe main question is - how i can calculate line count in textView before render?</p>\n\n<pre><code>   val date = stamp.toString(Constants.DEFAULT_TIME_FORMAT)\n   textViewItemMessageText.text = text\n   textViewItemMessageTimeForSingleLine.show()\n   textViewItemMessageTime.hide()\n   textViewItemMessageTimeForSingleLine.text = date\n   textViewItemMessageText.post {\n   if (textViewItemMessageText.lineCount &gt; 1) {\n       textViewItemMessageTimeForSingleLine.hide()\n       textViewItemMessageTime.show()\n       textViewItemMessageTime.text = date\n   }\n\n\n\n\n&lt;android.support.v7.widget.CardView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"end|center_vertical\"\n    android:layout_marginBottom=\"4dp\"\n    android:layout_marginLeft=\"60dp\"\n    android:layout_marginRight=\"20dp\"\n    android:layout_marginTop=\"4dp\"\n    app:cardBackgroundColor=\"@color/thin_green\"\n    app:cardCornerRadius=\"4dp\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"8dp\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/linearLayout\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewItemMessageText\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:fontFamily=\"sans-serif\"\n                android:textColor=\"@color/black_light_87\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"normal\"\n                tools:text=\"My generation\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewItemMessageTimeForSingleLine\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"8dp\"\n                android:drawableLeft=\"@drawable/ic_read\"\n                android:fontFamily=\"sans-serif\"\n                android:gravity=\"center_vertical\"\n                android:textColor=\"@color/grass_two_54\"\n                android:textSize=\"12sp\"\n                android:textStyle=\"normal\"\n                tools:text=\"16:20\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textViewItemMessageTime\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"end\"\n            android:layout_marginLeft=\"4dp\"\n            android:layout_marginTop=\"2dp\"\n            android:drawableLeft=\"@drawable/ic_read\"\n            android:fontFamily=\"sans-serif\"\n            android:textColor=\"@color/grass_two_54\"\n            android:textSize=\"12sp\"\n            android:textStyle=\"normal\"\n            tools:text=\"16:20\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 3, "last_activity_date": 1516720172, "creation_date": 1516720172, "answer_id": 48404905, "question_id": 48404028, "link": "https://stackoverflow.com/questions/48404028/why-using-kotlin-by-over-anonymous-subclass/48404905#48404905", "title": "Why using Kotlin &quot;by&quot; over anonymous subclass?", "body": "<p>With <code>by</code>, you can <em>reuse</em> the same implementation for multiple class.</p>\n\n<pre><code>class MyListener : TransitionListener by EmptyTransitionListener {\n    override fun onTransitionStart(transition: Transition) {\n        Log.d(\"MyListener\", \"Hi from MyListener!\")\n    }\n}\n\nclass MySecondListener : TransitionListener by EmptyTransitionListener {\n    override fun onTransitionStart(transition: Transition) {\n        Log.d(\"MySecondListener \", \"Hi from MySecondListener!\")\n    }\n}\n\nobject EmptyTransitionListener : TransitionListener {\n    override fun onTransitionEnd(transition: Transition) {}\n    override fun onTransitionResume(transition: Transition) {}\n    override fun onTransitionPause(transition: Transition) {}\n    override fun onTransitionCancel(transition: Transition) {}\n    override fun onTransitionStart(transition: Transition) {}\n}\n\nwindow.sharedElementEnterTransition.addListener(MyListener())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1516721659, "last_edit_date": 1516721659, "creation_date": 1516720493, "answer_id": 48405026, "question_id": 48404028, "link": "https://stackoverflow.com/questions/48404028/why-using-kotlin-by-over-anonymous-subclass/48405026#48405026", "title": "Why using Kotlin &quot;by&quot; over anonymous subclass?", "body": "<h2>Principle: Composition > Inheritance</h2>\n\n<p>It simply follows the principle of <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow noreferrer\">\"Composition over inheritance\"</a>.</p>\n\n<blockquote>\n  <p>Composition over inheritance (or composite reuse principle) in object-oriented programming (OOP) is the principle that classes should achieve polymorphic behavior and code reuse by their composition (<em>by containing instances of other classes that implement the desired functionality</em>) rather than inheritance from a base or parent class. This is an often-stated <strong>principle of OOP</strong> [...].</p>\n</blockquote>\n\n<h3>Kotlin Delegation <code>by</code></h3>\n\n<p>That's exactly what <code>by</code> is, Kotlin's keyword for applying <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">class delegation</a>.</p>\n\n<blockquote>\n  <p>The <strong>Delegation pattern</strong> has proven to be a good alternative to implementation inheritance, and Kotlin supports it natively requiring zero boilerplate code.</p>\n</blockquote>\n\n<h3>Delegation Pattern</h3>\n\n<p>Also, see <a href=\"https://en.wikipedia.org/wiki/Delegation_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Delegation_pattern</a>:</p>\n\n<blockquote>\n  <p>In software engineering, the delegation pattern is an object-oriented design pattern that allows object composition to achieve the same code reuse as inheritance. [...]</p>\n</blockquote>\n\n<h3>Further reading</h3>\n\n<p>Follow this <a href=\"https://stackoverflow.com/a/53354/8073652\">stackoverflow discussion</a> fo further information.</p>\n"}], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 1, "accepted_answer_id": 48405026, "answer_count": 2, "score": 2, "last_activity_date": 1516721659, "creation_date": 1516717447, "question_id": 48404028, "link": "https://stackoverflow.com/questions/48404028/why-using-kotlin-by-over-anonymous-subclass", "title": "Why using Kotlin &quot;by&quot; over anonymous subclass?", "body": "<p>I'm currently watching this <a href=\"https://youtu.be/fPzxfeDJDzY?t=16m50s\" rel=\"nofollow noreferrer\">video</a> from the Google I/O 2017 and came across the <code>by</code> feature of Kotlin. </p>\n\n<p>There is the following example to avoid to implement every single method of an interface when you actually care of only one of them.</p>\n\n<p>With <code>by</code> implementation (from the video):</p>\n\n<pre><code>class MyListener : TransitionListener by EmptyTransitionListener {\n    override fun onTransitionStart(transition: Transition) {\n    }\n}\n\nobject EmptyTransitionListener : TransitionListener {\n    override fun onTransitionEnd(transition: Transition) {}\n    override fun onTransitionResume(transition: Transition) {}\n    override fun onTransitionPause(transition: Transition) {}\n    override fun onTransitionCancel(transition: Transition) {}\n    override fun onTransitionStart(transition: Transition) {}\n}\n\nwindow.sharedElementEnterTransition.addListener(MyListener())\n</code></pre>\n\n<p>Without <code>by</code> implementation (as I'm used to do):</p>\n\n<pre><code>open class EmptyTransitionListener : TransitionListener {\n    override fun onTransitionEnd(transition: Transition) {}\n    override fun onTransitionResume(transition: Transition) {}\n    override fun onTransitionPause(transition: Transition) {}\n    override fun onTransitionCancel(transition: Transition) {}\n    override fun onTransitionStart(transition: Transition) {}\n}\n\nwindow.sharedElementEnterTransition.addListener(object: EmptyTransitionListener() {\n            override fun onTransitionStart(transition: Transition) {\n            }\n        })\n</code></pre>\n\n<p>What are the advantages of one over the other? </p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1437, "user_id": 5353755, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a5058688cd795df29df251d1d91b603e?s=128&d=identicon&r=PG&f=1", "display_name": "Near1999", "link": "https://stackoverflow.com/users/5353755/near1999"}, "edited": false, "score": 0, "creation_date": 1516715767, "post_id": 48403425, "comment_id": 83795139, "body": "Can you explain me why?"}, {"owner": {"reputation": 1437, "user_id": 5353755, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a5058688cd795df29df251d1d91b603e?s=128&d=identicon&r=PG&f=1", "display_name": "Near1999", "link": "https://stackoverflow.com/users/5353755/near1999"}, "edited": false, "score": 0, "creation_date": 1516715880, "post_id": 48403425, "comment_id": 83795209, "body": "And this does not help. Have the same problem"}, {"owner": {"reputation": 1437, "user_id": 5353755, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a5058688cd795df29df251d1d91b603e?s=128&d=identicon&r=PG&f=1", "display_name": "Near1999", "link": "https://stackoverflow.com/users/5353755/near1999"}, "edited": false, "score": 0, "creation_date": 1516716284, "post_id": 48403425, "comment_id": 83795488, "body": "Thanks, I&#39;m understood my problem by myself )) Didn&#39;t see that you write return type"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 0, "last_activity_date": 1516716068, "last_edit_date": 1516716068, "creation_date": 1516715651, "answer_id": 48403425, "question_id": 48403281, "link": "https://stackoverflow.com/questions/48403281/named-annotation-exception/48403425#48403425", "title": "@Named annotation exception", "body": "<p>You have to provide dependencies as following:</p>\n\n<pre><code>@Provides\n@Named(LOGGING_INTERCEPTOR)\nfun provideLoggingInterceptor(): Interceptor = HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BODY }\n</code></pre>\n\n<p>The problem here that you actually provide <code>HttpLogginInterceptor</code> not <code>Interceptor</code> (for Dagger). You have to specify return type in such case explicitly.</p>\n"}], "owner": {"reputation": 1437, "user_id": 5353755, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a5058688cd795df29df251d1d91b603e?s=128&d=identicon&r=PG&f=1", "display_name": "Near1999", "link": "https://stackoverflow.com/users/5353755/near1999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 48403425, "answer_count": 1, "score": 0, "last_activity_date": 1516716068, "creation_date": 1516715178, "question_id": 48403281, "link": "https://stackoverflow.com/questions/48403281/named-annotation-exception", "title": "@Named annotation exception", "body": "<p>I'm getting build exception with <code>Dagger 2</code> and <code>@Named</code> annotation in <code>Kotlin</code> (<code>Java</code> working fine with the same code)</p>\n\n<p><code>Error:[dagger.android.AndroidInjector.inject(T)] @javax.inject.Named(\"LOGGING_INTERCEPTOR\") okhttp3.Interceptor cannot be provided without an @Provides-annotated method.</code></p>\n\n<p>Here is part of my API module code:</p>\n\n<pre><code>  @Provides\n  @Named(LOGGING_INTERCEPTOR)\n  fun provideLoggingInterceptor() = HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BODY }\n\n  @Provides\n  @Named(CONNECTIVITY_INTERCEPTOR)\n  fun provideConnectivityInterceptor(): Interceptor = ConnectivityInterceptor()\n\n  @Singleton\n  @Provides\n  fun provideOkHttpClient(\n      @Named(CONNECTIVITY_INTERCEPTOR) connectivityInterceptor: Interceptor,\n      @Named(LOGGING_INTERCEPTOR) loggingInterceptor: Interceptor\n  ): OkHttpClient = OkHttpClient.Builder()\n    .connectTimeout(CONNECT_TIMEOUT, TimeUnit.SECONDS)\n    .writeTimeout(WRITE_TIMEOUT, TimeUnit.SECONDS)\n    .readTimeout(READ_TIMEOUT, TimeUnit.SECONDS)\n    .addInterceptor(connectivityInterceptor)\n    .apply { if (BuildConfig.DEBUG) addInterceptor(loggingInterceptor) }\n    .build()\n</code></pre>\n\n<p>Can somebody explain me why does this happened and how to fix it? </p>\n"}, {"tags": ["casting", "floating-point", "kotlin", "division"], "comments": [{"owner": {"reputation": 4881, "user_id": 947526, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6a84b61e353299d7f9306e99bfce8854?s=128&d=identicon&r=PG", "display_name": "C-Otto", "link": "https://stackoverflow.com/users/947526/c-otto"}, "edited": false, "score": 2, "creation_date": 1516710777, "post_id": 48401829, "comment_id": 83791696, "body": "Please also consider performance optimizations if you made sure that you need to make the application faster. In this case you won&#39;t notice the difference."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1516711066, "creation_date": 1516711066, "answer_id": 48401966, "question_id": 48401829, "link": "https://stackoverflow.com/questions/48401829/how-to-cast-perforrmantly-when-dividing-float-and-int/48401966#48401966", "title": "How to cast perforrmantly when dividing float and int?", "body": "<p>The only difference between your two snippets is syntax. There is no CPU out there that could natively perform a computation on one FP argument and one integer argument. Integer arguments are always first converted to FP.</p>\n\n<p>If you're worried about the <code>.toFloat()</code> part, that's again just syntax. There is no actual method call going on, it just changes the type of the <code>Int</code> expression to <code>Float</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1516711436, "creation_date": 1516711436, "answer_id": 48402088, "question_id": 48401829, "link": "https://stackoverflow.com/questions/48401829/how-to-cast-perforrmantly-when-dividing-float-and-int/48402088#48402088", "title": "How to cast perforrmantly when dividing float and int?", "body": "<p>Here's the decompiled bytecode of the two snippets, with comments explaining the parts that are different between the two.</p>\n\n<p>First version:</p>\n\n<pre><code>   L1\n    LINENUMBER 16 L1\n    ICONST_2\n    ISTORE 1\n   L2\n    LINENUMBER 17 L2\n    FCONST_1           // create constant float value 1f\n    ILOAD 1            // load value of i\n    I2F                // cast i from int to float\n    FDIV               // perform division\n    FSTORE 0           // write result to f\n</code></pre>\n\n<p>Second version:</p>\n\n<pre><code>   L1\n    LINENUMBER 22 L1\n    ICONST_2\n    ISTORE 1\n   L2\n    LINENUMBER 23 L2\n    ICONST_1           // create constant int value 1\n    I2F                // cast this value from int to float\n    ILOAD 1            // load value of i\n    I2F                // cast i from int to float\n    FDIV               // perform division\n    FSTORE 0           // write result to f\n</code></pre>\n\n<p>Basically, you're saving an int to float cast in the first version, because you're creating a float constant <code>1f</code> immediately. </p>\n\n<p>In reality though, this could be easily optimized by the JVM anyway, and is not worth worrying about at the syntax level - just use whichever code is more expressive for what you're doing. If you're somehow writing code that would benefit from performance improvements this tiny, do profiling on it to see if there's somehow a difference.</p>\n"}], "owner": {"reputation": 3221, "user_id": 2039740, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/060704e1ab08ff2965fc9e1fce19fbeb?s=128&d=identicon&r=PG", "display_name": "unlimited101", "link": "https://stackoverflow.com/users/2039740/unlimited101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48402088, "answer_count": 2, "score": 0, "last_activity_date": 1516711436, "creation_date": 1516710701, "question_id": 48401829, "link": "https://stackoverflow.com/questions/48401829/how-to-cast-perforrmantly-when-dividing-float-and-int", "title": "How to cast perforrmantly when dividing float and int?", "body": "<p>If I divide a float by an integer then I have two possibilities how to cast:</p>\n\n<pre><code>var f : Float\nval i : Int = 2\nf = 1f / i\n</code></pre>\n\n<p>Here I \"cast\" the first parameter by saying it is a float. Then if I correctly understand i is casted implicitly.</p>\n\n<pre><code>var f : Float\nval i : Int = 2\nf = 1 / i.toFloat()\n</code></pre>\n\n<p>Here I cast the second parameter to float. Then if I correctly understand the 1 is casted to float, too.</p>\n\n<p>My Question is if the first of the two possibilities is faster. Or do I have the same performance in both cases?</p>\n"}, {"tags": ["android", "kotlin", "aapt2"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1516707984, "post_id": 48400895, "comment_id": 83789802, "body": "See in the right bottom edge &quot;Gradle Console&quot; tab."}, {"owner": {"reputation": 3166, "user_id": 894701, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/444268ea43a9f69119bc0c2d88af02f5?s=128&d=identicon&r=PG", "display_name": "Eugene Chumak", "link": "https://stackoverflow.com/users/894701/eugene-chumak"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1516708338, "post_id": 48400895, "comment_id": 83790024, "body": "No problem there: <a href=\"https://i.gyazo.com/5112ae4bbefdcf36b861acf341f442c6.png\" rel=\"nofollow noreferrer\">i.gyazo.com/5112ae4bbefdcf36b861acf341f442c6.png</a>   Gradle builds fine. The problem occurs when I try to assemble apk."}, {"owner": {"reputation": 6806, "user_id": 8856784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RH0cU.jpg?s=128&g=1", "display_name": "Izabela Orlowska", "link": "https://stackoverflow.com/users/8856784/izabela-orlowska"}, "edited": false, "score": 0, "creation_date": 1516717333, "post_id": 48400895, "comment_id": 83796199, "body": "@EugeneChumak what do you mean by &#39;trying to assemble the apk&#39;? Whenever you build your project (be it by &#39;Run &#39;app&#39;&#39;, &#39;Make Project&#39;, &#39;Rebuild Project&#39; or &#39;Build APK(s)&#39;) the build happens through Gradle and the output of the build is in the Gradle Console tab like azizbekian mentioned already. If you&#39;re getting an error, this is where the logs and the details will be. If you&#39;re still having trouble go to the project directory and run &quot;./gradlew clean assembleDebug &gt;&gt; out.txt&quot; and post the contents here."}, {"owner": {"reputation": 3166, "user_id": 894701, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/444268ea43a9f69119bc0c2d88af02f5?s=128&d=identicon&r=PG", "display_name": "Eugene Chumak", "link": "https://stackoverflow.com/users/894701/eugene-chumak"}, "edited": false, "score": 0, "creation_date": 1516725556, "post_id": 48400895, "comment_id": 83802213, "body": "By &quot;assemble the apk&quot; I mean Build -&gt; Make Project. It seems, the problem was in wrong run configuration. When I started building, gradle console just didn&#39;t update, so I saw results of the previous build."}], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1559224415, "post_id": 50666881, "comment_id": 99359642, "body": "I&#39;m on AS 3.3 and the button you press does not show in my build window."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 1861, "user_id": 5605365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcaecd20a17e1bd30a208a7a6f15438?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5605365/matt"}, "edited": false, "score": 0, "creation_date": 1559225750, "post_id": 50666881, "comment_id": 99360320, "body": "@MattD updated. They decided to change the icon apparently."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 9, "last_activity_date": 1559225658, "last_edit_date": 1559225658, "creation_date": 1528032197, "answer_id": 50666881, "question_id": 48400895, "link": "https://stackoverflow.com/questions/48400895/where-to-find-aapt2-logs/50666881#50666881", "title": "Where to find aapt2 logs?", "body": "<p><strong><em>NOTE:</em></strong> regarding disabling AAPT2, it's not a good idea. AAPT is now deprecated and will be removed by the end of 2018. Disabling it just delays the problems you'll have to fix either way when AAPT is deprecated and removed.</p>\n\n<hr>\n\n<p>The logs do unfortunately not show up directly in the regular build window. I'm not sure why, or who thought it was a good idea, but that's how it currently works. You'll need to pop into the text-based version. </p>\n\n<p>Using AS 3.1 (possibly 3.0 as well, I'm using 3.1 so I can't test there) or IntelliJ 2018.1, you open the build tab:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wZnvy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wZnvy.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this case I intentionally created a syntax error in some XML code (there are other places you can get AAPT2 errors too, like in the manifest or Kotlin, or somewhere else. This is just for the sake of demonstrating). I've highlighted a button in the image. If you hover over the button it should say \"Switch view\". Click it and you'll enter the text-based version of the build tab:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KxuuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxuuJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this case I set an XML property to a non-existent value. The actual problem is formatted as JSON (see the content of the red circle). Inside the pink one is the actual error message (resource not found), the blue circle contains the file (in this case <code>label_layout.xml</code>) and content of the black circle contains the location (line 4). </p>\n\n<p>What the actual error is will vary from time to time, so I'm not going to add how to solve it, because there's a wide range of different problems that could be the cause. Most of the time it's your code (so far I haven't seen any cases where AAPT2 crashes or has a bug that prevents compiling). Actually solving these issues get a lot easier with decent log output. </p>\n\n<hr>\n\n<p>For reference, the same applies to compilation errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tc4ay.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tc4ay.png\" alt=\"enter image description here\"></a></p>\n\n<p>Though the syntax is slightly different:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KHMiH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHMiH.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>The icon changed in a later version. <strong>I will not be keeping active updates of the icon itself beyond this</strong>. </p>\n\n<p>For future reference: hover over the buttons in the build window until you find one that says \"Toggle view\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/kWm9o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWm9o.png\" alt=\"enter image description here\"></a></p>\n\n<p>That is the button you're looking for, regardless of what icon Google decides to use for it in future versions of Android Studio - at least until they fix the issues.</p>\n"}], "owner": {"reputation": 3166, "user_id": 894701, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/444268ea43a9f69119bc0c2d88af02f5?s=128&d=identicon&r=PG", "display_name": "Eugene Chumak", "link": "https://stackoverflow.com/users/894701/eugene-chumak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2732, "favorite_count": 0, "accepted_answer_id": 50666881, "answer_count": 1, "score": 12, "last_activity_date": 1560072020, "creation_date": 1516707787, "last_edit_date": 1592644375, "question_id": 48400895, "link": "https://stackoverflow.com/questions/48400895/where-to-find-aapt2-logs", "title": "Where to find aapt2 logs?", "body": "<p>When I try to build my project, I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/bwoVY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bwoVY.png\" alt=\"enter image description here\" /></a></p>\n<p>In the end it is stated: &quot;check logs for details&quot;. Where to find those aapt2 logs?</p>\n"}, {"tags": ["java", "android", "unit-testing", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1516784522, "post_id": 48400834, "comment_id": 83826522, "body": "Could you post your app <code>build.gradle</code> file for more insight on the test configuration."}, {"owner": {"reputation": 1780, "user_id": 2078785, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/bbc5e6a79f83d980b9893e663da24c67?s=128&d=identicon&r=PG", "display_name": "roostaamir", "link": "https://stackoverflow.com/users/2078785/roostaamir"}, "reply_to_user": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1516812278, "post_id": 48400834, "comment_id": 83845408, "body": "@ahasbini I have updated my question with the gradle file. Thank you for investigation"}, {"owner": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 1, "creation_date": 1516812635, "post_id": 48400834, "comment_id": 83845659, "body": "Thanks, have you tried removing all of your Run/Debug Configurations for your tests and run them again?"}, {"owner": {"reputation": 1780, "user_id": 2078785, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/bbc5e6a79f83d980b9893e663da24c67?s=128&d=identicon&r=PG", "display_name": "roostaamir", "link": "https://stackoverflow.com/users/2078785/roostaamir"}, "reply_to_user": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1516813471, "post_id": 48400834, "comment_id": 83846226, "body": "I tried removing every configuration in the <code>Run&#47;Debug Configurations</code> menu, but I still have the same problem. As I said, the IDE will use a new self-made configuration for each individual test and tries to run tests with that (I have no idea why). I will upload a picture to demonstrate this behavior better"}, {"owner": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1516826953, "post_id": 48400834, "comment_id": 83853707, "body": "Yes this is weird, this is creating a JUnit Test config instead of an Android Instrumented Test config based on the icon of the config I&#39;m seeing. I&#39;ve created an new Kotlin Project and just ran the test that comes with it, it succeeded on the emulator with me. Just want to note that even though the code is under <code>androidTest</code> source set, I was given the option to run the test as JUnit test instead of Android Instrumented Test. Here&#39;s pic of what I mean: <a href=\"https://imgur.com/a/xRwT5\" rel=\"nofollow noreferrer\">imgur.com/a/xRwT5</a>"}, {"owner": {"reputation": 1780, "user_id": 2078785, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/bbc5e6a79f83d980b9893e663da24c67?s=128&d=identicon&r=PG", "display_name": "roostaamir", "link": "https://stackoverflow.com/users/2078785/roostaamir"}, "reply_to_user": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 0, "creation_date": 1516878723, "post_id": 48400834, "comment_id": 83874056, "body": "My Android Studio won&#39;t give me such option to choose the test runner. Let me reinstall my IDE and check again. Maybe the problem gets fixed that way. I will let you know what happens. Thank you."}, {"owner": {"reputation": 1780, "user_id": 2078785, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/bbc5e6a79f83d980b9893e663da24c67?s=128&d=identicon&r=PG", "display_name": "roostaamir", "link": "https://stackoverflow.com/users/2078785/roostaamir"}, "reply_to_user": {"reputation": 6136, "user_id": 2949966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04f0cdc745e1d4ffd8e75984f02c6eab?s=128&d=identicon&r=PG&f=1", "display_name": "ahasbini", "link": "https://stackoverflow.com/users/2949966/ahasbini"}, "edited": false, "score": 1, "creation_date": 1516912393, "post_id": 48400834, "comment_id": 83895768, "body": "Well, it turns out that after reinstalling android studio the problem was fixed. Thank you for your cooperation @ahasbini"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9192289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4a47c044f50aaff7a9d8067040a725?s=128&d=identicon&r=PG&f=1", "display_name": "Huang Jianan", "link": "https://stackoverflow.com/users/9192289/huang-jianan"}, "is_accepted": false, "score": 0, "last_activity_date": 1516783730, "creation_date": 1516783730, "answer_id": 48418245, "question_id": 48400834, "link": "https://stackoverflow.com/questions/48400834/instrumentation-tests-will-run-as-local-unit-tests-on-android-studio-3-empty-te/48418245#48418245", "title": "Instrumentation Tests will run as Local Unit tests on Android Studio 3 (Empty test suite)", "body": "<pre><code>android {\n        defaultConfig {\n            testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        }\n}\n</code></pre>\n\n<p>Try to add \"testInstrumentationRunner\" in your build.gradle.</p>\n"}], "owner": {"reputation": 1780, "user_id": 2078785, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/bbc5e6a79f83d980b9893e663da24c67?s=128&d=identicon&r=PG", "display_name": "roostaamir", "link": "https://stackoverflow.com/users/2078785/roostaamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1075, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1516912335, "creation_date": 1516707571, "last_edit_date": 1516912335, "question_id": 48400834, "link": "https://stackoverflow.com/questions/48400834/instrumentation-tests-will-run-as-local-unit-tests-on-android-studio-3-empty-te", "title": "Instrumentation Tests will run as Local Unit tests on Android Studio 3 (Empty test suite)", "body": "<p>I am having some problems with running <code>Instrumentation Tests</code> in Android Studio 3.0.1 and Kotlin (I didn't have such problems with previous Android Studios and Java). I created this (very simple) class [<a href=\"https://android.jlelse.eu/building-a-shazam-clone-part-4-tdd-with-kotlin-building-android-apps-series-7007ce4e1b77\" rel=\"nofollow noreferrer\">reference</a>] in <code>androidTest</code> package which looks like this:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\n\n@LargeTest\nclass DiscoverActivityTest {\n\n    @JvmField\n    @Rule\n    val mDiscoverActivityTestRule = ActivityTestRule&lt;DiscoverActivity&gt;(DiscoverActivity::class.java)\n\n    @Test\n    fun onViewLoadedShowDiscoverFragment() {\n        onView(withId(R.id.discoverFragmentView)).check(matches(isDisplayed()))\n    }\n}\n</code></pre>\n\n<p>When I try to run the test, there are two problems. First, it wants to run the test in the console without opening an emulator or deploying the apk package to a device (as it is just a normal local unit test). Additionally, I get this error message as well:</p>\n\n<blockquote>\n  <p>Class not found:\n  \"com.site.application.discover.DiscoverActivityTest\"\n  Empty test suite.</p>\n</blockquote>\n\n<p>I wanted to force an instrumentation runner in the <code>Edit Configuration</code> option (something like <a href=\"https://stackoverflow.com/questions/39282282/class-not-found-empty-test-suite-in-intellij\">this solution</a> for example) but there is no such option in the new Android Studio 3.0.1 (compared to 2.3 for instance)</p>\n\n<p><strong>Update:</strong> </p>\n\n<p>here's my <code>gradle</code> file content:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.site.application\"\n        minSdkVersion 17\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"default\"\n\n    productFlavors {\n\n        dev {\n            dimension \"default\"\n            applicationIdSuffix '.dev'\n            versionNameSuffix \"-dev\" \n            resValue \"string\", \"app_name\", \"Application Dev\"\n            resConfigs \"en\", \"xxhdpi\"\n        }\n\n        mock {\n            dimension \"default\"\n            applicationIdSuffix '.mock'\n            versionNameSuffix \"-mock\"\n            resValue \"string\", \"app_name\", \"Shazam Clone Mock\"\n        }\n\n        prod {\n            dimension \"default\"\n            resValue \"string\", \"app_name\", \"Shazam Clone\"\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    implementation \"com.android.support:appcompat-v7:$rootProject.ext.supportLibraryVersion\"\n    implementation \"com.android.support:cardview-v7:$rootProject.ext.supportLibraryVersion\"\n    implementation \"com.android.support:design:$rootProject.ext.supportLibraryVersion\"\n    implementation \"com.android.support:recyclerview-v7:$rootProject.ext.supportLibraryVersion\"\n    implementation \"com.android.support:support-v4:$rootProject.ext.supportLibraryVersion\"\n    implementation \"com.android.support.test.espresso:espresso-idling-resource:$rootProject.ext.espressoVersion\"\n    implementation \"com.android.support.constraint:constraint-layout:$rootProject.ext.constraintLayoutVersion\"\n\n    implementation \"com.google.code.gson:gson:$rootProject.ext.gsonVersion\"\n    implementation \"com.github.bumptech.glide:glide:$rootProject.ext.glideVersion\"\n    implementation \"com.github.ybq:Android-SpinKit:$rootProject.ext.spinKitVersion\"\n\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation \"junit:junit:$rootProject.ext.junitVersion\"\n    testImplementation \"org.mockito:mockito-core:$rootProject.ext.mockitoVersion\"\n    testImplementation \"com.nhaarman:mockito-kotlin-kt1.1:1.5.0\"\n\n    androidTestImplementation \"com.android.support.test.espresso:espresso-core:$rootProject.ext.espressoVersion\"\n    androidTestImplementation \"com.android.support.test.espresso:espresso-contrib:$rootProject.ext.espressoVersion\"\n    androidTestImplementation \"com.android.support.test.espresso:espresso-intents:$rootProject.ext.espressoVersion\"\n}\n</code></pre>\n\n<p>It is worth mentioning that if I create a new configuration under <code>Android Instrumented Tests</code> in <code>Run/Debug Configurations</code>, select this configuration and run the project using this configuration (Shift + F10), the instrumentation tests will run just fine (All of them together). But when I try to run the tests individually (using the little play icon beside each individual test method or test class), a new configuration of the type <code>Unknown</code> will be created named after the test itself (e.g. <code>DiscoverActivityTest.onViewLoadedShowDiscoverFragment</code> in the code above) and then the IDE tries to use that configuration to run the test; Hence the errors.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nTDJu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nTDJu.jpg\" alt=\"This is the example configuration that the IDE will create by itself\"></a></p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>Final Update:</strong>\nWell after a <a href=\"https://stackoverflow.com/questions/39953495/how-to-completely-uninstall-android-studio-from-windowsv10\">fresh reinstall</a> of Android Studio, the problem was solved. So I guess there was something wrong with the IDE's configuration or something.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516708898, "post_id": 48400793, "comment_id": 83790356, "body": "what kotlin version you are using?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1516709137, "post_id": 48400793, "comment_id": 83790517, "body": "The two calls you have in your examples should have identical results... How did you log the value you&#39;ve mentioned?"}, {"owner": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516709368, "post_id": 48400793, "comment_id": 83790660, "body": "There shouldn&#39;t be any problem I guess. See log carefully"}, {"owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1516778838, "post_id": 48400793, "comment_id": 83823483, "body": "@zsmb13 I log the values like the following: Log.i(TAG, &quot;INPUT: $input&quot;) -&gt; This results to nothing Log.i(TAG, &quot;INPUT: ${edittext_input.text}&quot; -&gt; This show the correct value Log.i(TAG, &quot;INPUT: ${edittext_input.text.toString}&quot; -&gt; No value"}, {"owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "reply_to_user": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516779069, "post_id": 48400793, "comment_id": 83823609, "body": "@Exigente05 Yes thats what I thought to. It should&#39;t have no problem at all. That is why it is really weird."}, {"owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "reply_to_user": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516779096, "post_id": 48400793, "comment_id": 83823628, "body": "@Exigente05 I am using Kotlin v1.2"}, {"owner": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516779358, "post_id": 48400793, "comment_id": 83823775, "body": "I have used same code and tried to figure out testing multiple criteria but it works all time. If you still facing same problem please post code in detail with log printing"}, {"owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "reply_to_user": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "edited": false, "score": 0, "creation_date": 1516779580, "post_id": 48400793, "comment_id": 83823880, "body": "@Exigente05 I provided the actual code I have here with some experiments and tests logs in it."}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "edited": false, "score": 0, "creation_date": 1516783318, "post_id": 48418036, "comment_id": 83825741, "body": "Thanks. Dumb me :("}], "tags": [], "owner": {"reputation": 2058, "user_id": 4310861, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0bcd1009a856e95940622c9f4d38b0e7?s=128&d=identicon&r=PG&f=1", "display_name": "Exigente05", "link": "https://stackoverflow.com/users/4310861/exigente05"}, "is_accepted": false, "score": 3, "last_activity_date": 1516782986, "creation_date": 1516782986, "answer_id": 48418036, "question_id": 48400793, "link": "https://stackoverflow.com/questions/48400793/kotlin-edittext-editable-to-string-returns-nothing/48418036#48418036", "title": "Kotlin edittext editable to string returns nothing", "body": "<p>You are assigning values before onClickListener by,</p>\n\n<pre><code>val inputTestText = (findViewById&lt;EditText&gt;(R.id.edittext_username)).text\nval inputTestTextToString: String = 100.toString()\n\nval userInput: String = edittext_username.text.toString()\nval passInput = \"${edittext_password.text}\"\n</code></pre>\n\n<p>And printing values inside button click listener,</p>\n\n<p>Here, variables get empty values because there is no text initially. After putting something you are clicking on button so its showing empty values. And <code>${edittext_username.text}</code> by this you are getting values from edittext field.</p>\n\n<p>You just need to put assignment lines inside onClickListener.</p>\n\n<p>Final code should be,</p>\n\n<pre><code>findViewById&lt;Button&gt;(R.id.button_login).setOnClickListener {\n\n    val userInput: String = edittext_username.text.toString()\n    val passInput = \"${edittext_password.text}\"\n    //put above two line here\n\n    Log.i(TAG, \"inputTestText is null? ${inputTestText == null}\")\n    Log.i(TAG, \"inputTestTextToString: $inputTestTextToString\")\n\n    Log.i(TAG, \"A user: $userInput password: $passInput\")\n    Log.i(TAG, \"B user: ${edittext_username.text} password: ${edittext_password.text}\")\n\n}\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 5046960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGCFU.jpg?s=128&g=1", "display_name": "Rhusfer", "link": "https://stackoverflow.com/users/5046960/rhusfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3861, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516782986, "creation_date": 1516707403, "last_edit_date": 1516779802, "question_id": 48400793, "link": "https://stackoverflow.com/questions/48400793/kotlin-edittext-editable-to-string-returns-nothing", "title": "Kotlin edittext editable to string returns nothing", "body": "<p>Does anyone experience this?</p>\n\n<p>I am trying to get the input value from an editText. I did the following.</p>\n\n<pre><code>val input = edittext_input.text.toString()\n</code></pre>\n\n<p>However the result is nothing. I tried logging edittext_input.text and it has a value. Do you guys have an idea why is this happening. Is it a bug on kotlin?</p>\n\n<p>One workaround I found is this.</p>\n\n<pre><code>val input = \"${edittext_input.text}\"\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nActual Full Code:</p>\n\n<pre><code>private fun setupUI() {\n\n    val inputTestText = (findViewById&lt;EditText&gt;(R.id.edittext_username)).text\n    val inputTestTextToString: String = 100.toString()\n\n    val userInput: String = edittext_username.text.toString()\n    val passInput = \"${edittext_password.text}\"\n\n    findViewById&lt;Button&gt;(R.id.button_login).setOnClickListener {\n\n        Log.i(TAG, \"inputTestText is null? ${inputTestText == null}\")\n        Log.i(TAG, \"inputTestTextToString: $inputTestTextToString\")\n\n        Log.i(TAG, \"A user: $userInput password: $passInput\")\n        Log.i(TAG, \"B user: ${edittext_username.text} password: ${edittext_password.text}\")\n\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>inputTestText is null? false\ninputTestTextToString: 100\nA user:  password:\nB user: test password: test\n</code></pre>\n"}, {"tags": ["android", "multithreading", "kotlin", "rx-android", "bitmapfactory"], "answers": [{"tags": [], "owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "is_accepted": true, "score": 1, "last_activity_date": 1516702540, "creation_date": 1516702540, "answer_id": 48399163, "question_id": 48398474, "link": "https://stackoverflow.com/questions/48398474/which-scheduler-should-i-use-to-decode-a-bitmap/48399163#48399163", "title": "Which scheduler should I use to decode a bitmap", "body": "<p>I would say <code>Schedulers.io()</code>, as loading the resource is a blocking operation, and in <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/schedulers/Schedulers.html#computation--\" rel=\"nofollow noreferrer\">Schedulers</a> it states that for <code>Schedulers.computation()</code>:</p>\n\n<blockquote>\n  <p>If the <code>RxJavaPlugins.setFailOnNonBlockingScheduler(boolean)</code> is set to <code>true</code>, attempting to execute operators that block while running on this scheduler will throw an <code>IllegalStateException</code>.\"</p>\n</blockquote>\n"}], "owner": {"reputation": 3167, "user_id": 502144, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a14b0afdcd244efec7579d4e8bc64b01?s=128&d=identicon&r=PG", "display_name": "fdermishin", "link": "https://stackoverflow.com/users/502144/fdermishin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 48399163, "answer_count": 1, "score": 0, "last_activity_date": 1516702540, "creation_date": 1516700449, "question_id": 48398474, "link": "https://stackoverflow.com/questions/48398474/which-scheduler-should-i-use-to-decode-a-bitmap", "title": "Which scheduler should I use to decode a bitmap", "body": "<p>I've noticed that loading of bitmap in my appplication takes a lot of time, causing lags in animation if it is run on the main thread, so I moved it to a background thread.</p>\n\n<pre><code>val scheduler = ...\nObservable.fromCallable {\n    BitmapFactory.decodeResource(resources, resourceId)\n}.subscribeOn(scheduler)\n        .observeOn(AndroidSchedulers.mainThread()).subscribe {bitmap -&gt;\n    imageView.setImageBitmap(bitmap)\n}\n</code></pre>\n\n<p>However, there are several schedulers to choose from. On the one hand the bitmap is loaded from disk, so it should be <code>Schedulers.io()</code>, but on the other hand it is also computation intensive, so <code>Schedulers.computation()</code> is another candidate. The bitmap has size of about 1 megapixel, and takes about 50 milliseconds to load.</p>\n\n<p>So how can I decide, which scheduler to choose for this task?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1516698612, "post_id": 48397510, "comment_id": 83783429, "body": "Have you try reflection?"}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 5, "last_activity_date": 1516699962, "creation_date": 1516699962, "answer_id": 48398303, "question_id": 48397510, "link": "https://stackoverflow.com/questions/48397510/getting-class-of-lateinit-property-in-kotlin/48398303#48398303", "title": "Getting class of lateinit property in Kotlin", "body": "<p>Due to type erasure, generic types are not known at runtime. That's just how Java/JVM works, and Kotlin doesn't attempt to magically work around it. (Unlike Scala, which has implicit magic which works magically, except when it doesn't.)</p>\n\n<p>You will have to pass it along from some context where the type is statically determined, e.g.</p>\n\n<pre><code>class Container&lt;T : Any&gt;(private val tClass: Class&lt;T&gt;) {\n    val t: T = tClass.newInstance()\n}\n\nContainer(String::class.java)\n</code></pre>\n\n<p>You can use an inline function with reified types to hide this ugliness,</p>\n\n<pre><code>class Container&lt;T : Any&gt;(private val tClass: Class&lt;T&gt;) {\n    val t: T = tClass.newInstance()\n\n    companion object {\n        inline operator fun &lt;reified T : Any&gt; invoke() = Container(T::class.java)\n    }\n}\n\nContainer&lt;String&gt;()\n</code></pre>\n\n<p>which really compiles to the same thing. (The <code>&lt;String&gt;</code> can be omitted if type inference can determine it from context.)</p>\n\n<p>In your case, it won't be possible to do this trick in the base (abstract) class; it has to be done on the concrete types.</p>\n"}], "owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 48398303, "answer_count": 1, "score": 1, "last_activity_date": 1516765273, "creation_date": 1516697382, "question_id": 48397510, "link": "https://stackoverflow.com/questions/48397510/getting-class-of-lateinit-property-in-kotlin", "title": "Getting class of lateinit property in Kotlin", "body": "<p>Is it somehow possible to get <code>::class.java</code> from Kotlin <code>lateinit</code> property before it is initialized?</p>\n\n<p>Logically it should work - I'm trying to obtain a class not a value, but in reality it fails with uninitialized property access exception.</p>\n\n<p>Note that the property I'm trying to get class of is in generic class and its type is one of generic parameters:</p>\n\n<pre><code>abstract class MVIFragment&lt;\n        out INTERACTOR : MVIInteractor&lt;UINTERFACE&gt;,\n        UINTERFACE : MVIUIInterface,\n        MODEL : MVIViewModel\n        &gt;\n    : Fragment(), MVIUIInterface, KodeinAware {\n\n\nlateinit var viewModel: MODEL\n</code></pre>\n\n<p>I need the class to create an instance of <code>ViewModel</code></p>\n\n<pre><code>        viewModel = ViewModelProviders.of(this).get(viewModel::class.java)\n</code></pre>\n\n<p>Of course I can't do:</p>\n\n<pre><code>        viewModel = ViewModelProviders.of(this).get(MODEL::class.java)\n</code></pre>\n\n<p>Any solution for that?</p>\n"}, {"tags": ["unit-testing", "kotlin", "jacoco", "test-coverage"], "answers": [{"comments": [{"owner": {"reputation": 4747, "user_id": 1263771, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da5cbc1ac0d9829d640b63b3865e090b?s=128&d=identicon&r=PG", "display_name": "tse", "link": "https://stackoverflow.com/users/1263771/tse"}, "edited": false, "score": 0, "creation_date": 1516700901, "post_id": 48397348, "comment_id": 83784960, "body": "Hm. This annotation is never introduced. I didn&#39;t find it in sources also. But, I found filters implementation. But, it has two hardcoded annotations, and also it checks annotation for method only. It means I can not use my or existing annotation because I can not annotate the method because methods are generated. I have no ideas how to use it."}, {"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "reply_to_user": {"reputation": 4747, "user_id": 1263771, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da5cbc1ac0d9829d640b63b3865e090b?s=128&d=identicon&r=PG", "display_name": "tse", "link": "https://stackoverflow.com/users/1263771/tse"}, "edited": false, "score": 0, "creation_date": 1516711783, "post_id": 48397348, "comment_id": 83792376, "body": "You are right. Seems like the wiki is used for planning features only. Maybe you have to be patient then, or implement it yourself and submit a pull request."}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "edited": false, "score": 0, "creation_date": 1529125347, "post_id": 48397348, "comment_id": 88772065, "body": "This should now be the accepted answer, as the mentioned issue is already fixed, and Jacoco no longer considers the auto-generated methods"}], "tags": [], "owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "is_accepted": false, "score": 2, "last_activity_date": 1529939209, "last_edit_date": 1529939209, "creation_date": 1516696786, "answer_id": 48397348, "question_id": 48397032, "link": "https://stackoverflow.com/questions/48397032/how-to-get-test-coverage-or-ignore-by-jacoco-for-kotlin-data-classes/48397348#48397348", "title": "How to get test coverage or ignore by Jacoco for Kotlin data classes", "body": "<p>There is an open issue about it <a href=\"https://github.com/jacoco/jacoco/issues/552\" rel=\"nofollow noreferrer\">here</a>, so automatic coverage filtering seems to be a work in progress.</p>\n\n<p><strong>EDIT</strong> There has been a <a href=\"https://github.com/jacoco/jacoco/pull/689\" rel=\"nofollow noreferrer\">pull request</a> (accepted) introducing filtering for  generated kotlin code. It did not find it's way into a release yet. But people have tested it in the SNAPSHOT version so far and everything seems to work.</p>\n\n<p>Currently your best bet would be using the SNAPSHOT release.</p>\n"}, {"comments": [{"owner": {"reputation": 14375, "user_id": 840669, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/ZwzFL.jpg?s=128&g=1", "display_name": "Rajkiran", "link": "https://stackoverflow.com/users/840669/rajkiran"}, "edited": false, "score": 2, "creation_date": 1576511994, "post_id": 49375758, "comment_id": 104914368, "body": "Though this answers the question, this isn&#39;t fair to do so. E.g. I have a model class Address. I have a method inside it called <code>getFullAddress()</code> which is rudimentarily adding up all the address fields. But if I exclude this, it won&#39;t test this logic."}], "tags": [], "owner": {"reputation": 31626, "user_id": 2614364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQZrZ.jpg?s=128&g=1", "display_name": "Bertrand Martel", "link": "https://stackoverflow.com/users/2614364/bertrand-martel"}, "is_accepted": false, "score": 4, "last_activity_date": 1521515368, "creation_date": 1521515368, "answer_id": 49375758, "question_id": 48397032, "link": "https://stackoverflow.com/questions/48397032/how-to-get-test-coverage-or-ignore-by-jacoco-for-kotlin-data-classes/49375758#49375758", "title": "How to get test coverage or ignore by Jacoco for Kotlin data classes", "body": "<p>If you've put your data class under a specific package or in a specific file, you can exclude them from <code>classDirectories</code>. In the example below, I've put data class under <code>**/model/**</code>: </p>\n\n<pre><code>task kotlinJacocoTestReport(type: JacocoReport, dependsOn: 'test') {\n\n    reports {\n        html.enabled = true\n        html.destination = \"${buildDir}/reports/jacoco\"\n    }\n\n    sourceDirectories = files([\"${project.projectDir}/src/main/kotlin\"])\n    classDirectories = fileTree(dir: \"${buildDir}/classes/kotlin/main\", excludes: ['**/model/**'])\n    executionData = files(\"${buildDir}/jacoco/test.exec\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6251, "user_id": 1087479, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fd0121a27aac567a20015792fb7cd705?s=128&d=identicon&r=PG", "display_name": "sschrass", "link": "https://stackoverflow.com/users/1087479/sschrass"}, "edited": false, "score": 0, "creation_date": 1605804840, "post_id": 51448626, "comment_id": 114770752, "body": "discouraged from use as of the release of jacoco 0.8.2"}], "tags": [], "owner": {"reputation": 6950, "user_id": 3195128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec920c02d0a4c1409b2387773b249fb?s=128&d=identicon&r=PG&f=1", "display_name": "ucsunil", "link": "https://stackoverflow.com/users/3195128/ucsunil"}, "is_accepted": false, "score": 1, "last_activity_date": 1532112049, "creation_date": 1532112049, "answer_id": 51448626, "question_id": 48397032, "link": "https://stackoverflow.com/questions/48397032/how-to-get-test-coverage-or-ignore-by-jacoco-for-kotlin-data-classes/51448626#51448626", "title": "How to get test coverage or ignore by Jacoco for Kotlin data classes", "body": "<p>Use the plugin as documented at: <a href=\"https://github.com/fabianishere/kotlin-plugin-generated\" rel=\"nofollow noreferrer\">Kotlin plugin generated</a></p>\n\n<p>The plugin removes all synthetic Kotlin generated code (automatic getters and setters and that should cleanly cover your data classes wherever they may be) from your code coverage by adding the @lombok.Generated annotation behind the scenes.</p>\n\n<p>Note that you have to use Jacoco 0.8 or greater for it to work.</p>\n"}, {"tags": [], "owner": {"reputation": 574, "user_id": 5038638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db9d7685d2e617db07bcb9eb87320a3?s=128&d=identicon&r=PG", "display_name": "Arpit Rastogi", "link": "https://stackoverflow.com/users/5038638/arpit-rastogi"}, "is_accepted": false, "score": 9, "last_activity_date": 1535889211, "creation_date": 1535889211, "answer_id": 52136767, "question_id": 48397032, "link": "https://stackoverflow.com/questions/48397032/how-to-get-test-coverage-or-ignore-by-jacoco-for-kotlin-data-classes/52136767#52136767", "title": "How to get test coverage or ignore by Jacoco for Kotlin data classes", "body": "<p>I was looking for the solution for same test coverage issue with auto-generated code for data model classes and stumbled upon following :<br>\n<a href=\"https://medium.com/@andrey.fomenkov/kotlin-jacoco-tuning-compiler-to-skip-generated-code-935fcaeaa391\" rel=\"noreferrer\">Kotlin + JaCoCo: Tuning Compiler to Skip Generated Code</a></p>\n\n<p><strong>Solution:</strong> Update JaCoCo plugin to 0.8.2 and your issues is resolved.</p>\n\n<p>JaCoCo has solved this very issue in <strong>0.8.2</strong> release, please read the changelog-</p>\n\n<ul>\n<li>Classes and methods annotated with runtime visible and invisible annotation whose simple name is Generated are filtered out during generation of report (GitHub #731).</li>\n<li>Methods added by the Kotlin compiler that do not have line numbers are filtered out during generation of report. Idea and implementation by Nikolay Krasko (GitHub #689).</li>\n</ul>\n"}], "owner": {"reputation": 4747, "user_id": 1263771, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da5cbc1ac0d9829d640b63b3865e090b?s=128&d=identicon&r=PG", "display_name": "tse", "link": "https://stackoverflow.com/users/1263771/tse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7828, "favorite_count": 2, "answer_count": 4, "score": 7, "last_activity_date": 1535889211, "creation_date": 1516695559, "question_id": 48397032, "link": "https://stackoverflow.com/questions/48397032/how-to-get-test-coverage-or-ignore-by-jacoco-for-kotlin-data-classes", "title": "How to get test coverage or ignore by Jacoco for Kotlin data classes", "body": "<p>Jacoco shows 0% coverage for Kotlin's data classes. How to configure it to measure coverage or ignore data classes at all?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1516696134, "post_id": 48396883, "comment_id": 83781912, "body": "Nice touch with <code>forEach(block)</code>. I didn&#39;t know that <code>T.() -&gt; Unit</code> and <code>(T) -&gt; Unit</code> are equal as far as method references are concerned."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 3, "last_activity_date": 1516695443, "last_edit_date": 1516695443, "creation_date": 1516694952, "answer_id": 48396883, "question_id": 48396720, "link": "https://stackoverflow.com/questions/48396720/kotlin-destructuring-in-loops-not-working-var-not-accessible/48396883#48396883", "title": "Kotlin - Destructuring in loops not working - var not accessible", "body": "<p>Basically, it isn't possible, cause your code is compiled to something like:</p>\n\n<pre><code>for (m in models) {\n    val is_locked = m.component1()\n    ...\n}\n</code></pre>\n\n<p>Which means that you create a local property which cannot be reassigned. But you can do something like this:</p>\n\n<pre><code>for (m in model) {\n    with(m) {\n        is_locked = true\n    }\n}\n</code></pre>\n\n<p>Yep, it isn't perfect, but it can be improved with extension methods:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.forEachApply(block: T.() -&gt; Unit) {\n    forEach(block)\n}\n\nprivate fun initMyModelList(model: MutableList&lt;MyModel&gt;) {\n    model.forEachApply { \n        is_locked = true\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 4, "last_activity_date": 1516695817, "last_edit_date": 1592644375, "creation_date": 1516695361, "answer_id": 48396981, "question_id": 48396720, "link": "https://stackoverflow.com/questions/48396720/kotlin-destructuring-in-loops-not-working-var-not-accessible/48396981#48396981", "title": "Kotlin - Destructuring in loops not working - var not accessible", "body": "<blockquote>\n<p>This syntax is called a destructuring declaration. It creates multiple variables at at the same time.</p>\n</blockquote>\n<p>It doesn't create multiple variables, it captures multiple values. You're working with values, not references, as your source tells further:</p>\n<blockquote>\n<p>A destructuring declaration is compiled down to the following code:</p>\n<pre><code>val name = person.component1()\nval age = person.component2()\n</code></pre>\n</blockquote>\n<p>Closest to what you want would be this custom extension function:</p>\n<pre><code>inline fun &lt;E&gt; Iterable&lt;E&gt;.withEach(block: E.() -&gt; Unit) {\n    forEach {\n        it.block()\n    }\n}\n</code></pre>\n<p>Use like so:</p>\n<pre><code>model.withEach {\n    is_locked = true\n}\n</code></pre>\n<p>Before you ask the obligatory question &quot;why isn't this included in stdlib?&quot; consider that functional style programming typically is about transforming <em>immutable</em> types. Basically, what I did here was encourage a bad habit.</p>\n"}, {"comments": [{"owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1516695583, "post_id": 48397004, "comment_id": 83781597, "body": "@EugenPechanec Ah, yeah, my bad. I guess I just assume immutability when working with data classes so thoroughly I glossed over that part!"}, {"owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "edited": false, "score": 0, "creation_date": 1516725316, "post_id": 48397004, "comment_id": 83802061, "body": "Very good info. Yes I found out there read only today. Thanks"}], "tags": [], "owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "is_accepted": false, "score": 1, "last_activity_date": 1516695697, "last_edit_date": 1516695697, "creation_date": 1516695445, "answer_id": 48397004, "question_id": 48396720, "link": "https://stackoverflow.com/questions/48396720/kotlin-destructuring-in-loops-not-working-var-not-accessible/48397004#48397004", "title": "Kotlin - Destructuring in loops not working - var not accessible", "body": "<p>You can use destructuring in a loop just fine as read-only values.</p>\n\n<pre><code>data class Stuff(val name: String, val other: String)\n\nfun doStuff() {\n    val stuff = Stuff(\"happy\", \"day\")\n    val stuffs = listOf(stuff)\n\n    for ((name) in stuffs) {\n        println(name)\n    }\n}\n</code></pre>\n\n<p>Running that method prints \"happy\" to the console. Baeldung shows an example of using it <a href=\"http://www.baeldung.com/kotlin-destructuring-declarations\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>It's best practice for data classes to be immutable, so I would try to rewrite your data class to be immutable. The <code>.copy</code> function will let you copy your data class but with new, different values.</p>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 48396981, "answer_count": 3, "score": 1, "last_activity_date": 1516697868, "creation_date": 1516694199, "last_edit_date": 1516697868, "question_id": 48396720, "link": "https://stackoverflow.com/questions/48396720/kotlin-destructuring-in-loops-not-working-var-not-accessible", "title": "Kotlin - Destructuring in loops not working - var not accessible", "body": "<p>some <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">background</a>:</p>\n\n<pre><code>val (name, age) = person \n</code></pre>\n\n<p>This syntax is called a destructuring declaration. It creates multiple variables (<em>correction, creates multiple values</em>) at at the same time. </p>\n\n<p>Destructuring declarations also work in for-loops: when you say:</p>\n\n<pre><code>for ((a, b) in collection) { ... }\n</code></pre>\n\n<p>Lets take a look at a list item i have:</p>\n\n<pre><code>    @Parcelize\ndata class MyModel(\n        var name: String = \"\",\n        var is_locked: Boolean = true,\n        var is_one_size: Boolean = false,\n) : Parcelable\n</code></pre>\n\n<p>and now i have obtained a list of \"MyModel\" classes and i am trying to loop over them like this:</p>\n\n<pre><code>private fun initMyModelList(model: MutableList&lt;MyModel&gt;) {\n //i want to access is_locked from here with destruction but i cant ? IDE telling me the type is an int but its clearly defined as a Boolean\n        for((is_locked) in model){\n          //what i want to do in here is access the is_locked var of the model list and change all of them in a loop. im trying to use Destructuring in loop as a conveience. why is it not working ?\n//how can i make the call signature look like this--- &gt; is_locked = true instad of model.is_locked =true \n        }\n}\n</code></pre>\n\n<p>all i want to do is be able to call is_locked = true instead of model.is_locked = true within the loop. how can this be done ?</p>\n"}, {"tags": ["java", "android", "import", "kotlin"], "comments": [{"owner": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "edited": false, "score": 0, "creation_date": 1516693348, "post_id": 48396184, "comment_id": 83780429, "body": "which date you are checking?"}, {"owner": {"reputation": 27, "user_id": 7953867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1475708975805957/picture?type=large", "display_name": "Kamran Ijaz", "link": "https://stackoverflow.com/users/7953867/kamran-ijaz"}, "reply_to_user": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "edited": false, "score": 0, "creation_date": 1516693430, "post_id": 48396184, "comment_id": 83780478, "body": "Fri Jan 26 00:00:00 GMT+05:00 2018"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 7953867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1475708975805957/picture?type=large", "display_name": "Kamran Ijaz", "link": "https://stackoverflow.com/users/7953867/kamran-ijaz"}, "edited": false, "score": 0, "creation_date": 1516700645, "post_id": 48396672, "comment_id": 83784758, "body": "Can you tell How to convert calendar Date into milliseconds??"}, {"owner": {"reputation": 27, "user_id": 7953867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1475708975805957/picture?type=large", "display_name": "Kamran Ijaz", "link": "https://stackoverflow.com/users/7953867/kamran-ijaz"}, "edited": false, "score": 0, "creation_date": 1516704592, "post_id": 48396672, "comment_id": 83787495, "body": "i am using compactCalendarView , how can i get date on click on Calendar date? e,g, if i click on 26 date it toast 26-01-2018. in simple calendarView it is done with OnDatechangelist... but here there is no suggestion."}, {"owner": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "reply_to_user": {"reputation": 27, "user_id": 7953867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1475708975805957/picture?type=large", "display_name": "Kamran Ijaz", "link": "https://stackoverflow.com/users/7953867/kamran-ijaz"}, "edited": false, "score": 0, "creation_date": 1516704827, "post_id": 48396672, "comment_id": 83787638, "body": "did you try compactCalendarView.setListener() if not then check documentation ..."}], "tags": [], "owner": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "is_accepted": true, "score": 1, "last_activity_date": 1516694015, "creation_date": 1516694015, "answer_id": 48396672, "question_id": 48396184, "link": "https://stackoverflow.com/questions/48396184/how-to-set-dot-on-specific-date-on-calendar-in-android/48396672#48396672", "title": "How to Set dot on specific date on calendar in android", "body": "<p>You are setting timestamp <code>1477040400000L</code> here</p>\n\n<pre><code>Event ev1 = new Event(Color.BLACK, 1477040400000L, \"Teachers' Professional Day\");\n        compactCalendar.addEvent(ev1);\n</code></pre>\n\n<p>Timestamp <code>1477040400000L</code> is <code>Friday, 21 October 2016 09:00:00 GMT +5:30</code>\nso check on that date </p>\n\n<p>if you want to set <code>Fri Jan 26 00:00:00 GMT+05:00 2018</code> set</p>\n\n<pre><code>Event ev1 = new Event(Color.BLACK,1516924800000L, \"Teachers' Professional Day\");\n        compactCalendar.addEvent(ev1);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2dHfy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dHfy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 27, "user_id": 7953867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1475708975805957/picture?type=large", "display_name": "Kamran Ijaz", "link": "https://stackoverflow.com/users/7953867/kamran-ijaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2429, "favorite_count": 0, "accepted_answer_id": 48396672, "answer_count": 1, "score": 1, "last_activity_date": 1516698154, "creation_date": 1516692039, "last_edit_date": 1516698154, "question_id": 48396184, "link": "https://stackoverflow.com/questions/48396184/how-to-set-dot-on-specific-date-on-calendar-in-android", "title": "How to Set dot on specific date on calendar in android", "body": "<p>This is code show event on click date but not visible DOT on Event date i have try to do but nothing goes to happened.</p>\n\n<pre><code>package com.example.mis_internee.mycalentest;\n\nimport android.content.Context;\nimport android.graphics.Color;\nimport android.support.v7.app.ActionBar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport com.github.sundeepk.compactcalendarview.CompactCalendarView;\nimport com.github.sundeepk.compactcalendarview.domain.Event;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\nimport static android.graphics.Color.RED;\n\npublic class MainActivity extends AppCompatActivity {\n\n    CompactCalendarView compactCalendar;\n    private SimpleDateFormat dateFormatMonth = new SimpleDateFormat(\"MMMM- yyyy\", Locale.getDefault());\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        final ActionBar actionBar = getSupportActionBar();\n        actionBar.setDisplayHomeAsUpEnabled(true);\n        actionBar.setTitle(null);\n\n        compactCalendar = (CompactCalendarView) findViewById(R.id.compactcalendar_view);\n        compactCalendar.setUseThreeLetterAbbreviation(true);\n        compactCalendar.setEventIndicatorStyle(Color.BLACK);\n        compactCalendar.setCurrentDayBackgroundColor(RED);\n        compactCalendar.getEvents(3223213);\n\n        //Set an event for Teachers' Professional Day 2016 which is 21st of October\n\n        Event ev1 = new Event(Color.BLACK, 1477040400000L, \"Teachers' Professional Day\");\n        compactCalendar.addEvent(ev1);\n\n        compactCalendar.setListener(new CompactCalendarView.CompactCalendarViewListener() {\n            @Override\n            public void onDayClick(Date dateClicked) {\n                Context context = getApplicationContext();\n\n                if (dateClicked.toString().compareTo(\"Fri Jan 26 00:00:00 GMT+05:00 2018\") == 0) {\n                    Toast.makeText(context, \"Teachers' Professional Day\", Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(context, \"No Events Planned for that day\", Toast.LENGTH_SHORT).show();\n                }\n\n\n            }\n\n            @Override\n            public void onMonthScroll(Date firstDayOfNewMonth) {\n                actionBar.setTitle(dateFormatMonth.format(firstDayOfNewMonth));\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>thanks in advance</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 25, "last_activity_date": 1516690771, "creation_date": 1516690771, "answer_id": 48395853, "question_id": 48395619, "link": "https://stackoverflow.com/questions/48395619/how-can-i-combine-two-arrays-into-one-array-in-kotlin/48395853#48395853", "title": "How can I combine two arrays into one array in Kotlin?", "body": "<p>Actually, your exact code works for me. Tried it on multiple Kotlin versions. You can find the <code>operator fun IntArray.plus(elements: IntArray): IntArray</code> function that's being used for this in the docs <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/plus.html\" rel=\"noreferrer\">here</a>, and its source <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/libraries/stdlib/src/generated/_Arrays.kt#L13552\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>var array1 = intArrayOf(1, 2, 3)        // 1, 2, 3\nvar array2 = intArrayOf(4, 5, 6)        // 4, 5 ,6\nvar array3 = array1 + array2            // 1, 2, 3, 4, 5, 6\n</code></pre>\n\n<hr>\n\n<p>Are you perhaps looking to do something different, like add the elements one by one and create a new array of length 3? You can do that like this:</p>\n\n<pre><code>val array4 = array1.zip(array2, Int::plus).toTypedArray()    // 5, 7, 9\n</code></pre>\n\n<p>The extra <code>toTypedArray</code> call is necessary only if you actually need an array, otherwise you can use the <code>List&lt;Int&gt;</code> that the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"noreferrer\"><code>zip</code></a> function returns.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 3, "last_activity_date": 1516775710, "last_edit_date": 1516775710, "creation_date": 1516775031, "answer_id": 48416038, "question_id": 48395619, "link": "https://stackoverflow.com/questions/48395619/how-can-i-combine-two-arrays-into-one-array-in-kotlin/48416038#48416038", "title": "How can I combine two arrays into one array in Kotlin?", "body": "<p>I am adding some other ways to merge two arrays.</p>\n\n<pre><code>var array1 = intArrayOf(1, 2, 3)\nvar array2 = intArrayOf(4, 5, 6)\n</code></pre>\n\n<p><strong>Way 1:</strong></p>\n\n<pre><code>var array3 = array1 + array2\nprint(array3.asList())\n</code></pre>\n\n<p>It will print <code>[1, 2, 3, 4, 5, 6]</code>. This one is given above.</p>\n\n<p>You can replace the <code>+</code> by <code>plus()</code> method.</p>\n\n<pre><code>var array3 = array1.plus(array2)\nprint(array3.asList())\n</code></pre>\n\n<p>It will also work the same. When you are using <code>+</code>, at that time it actually calls the <code>plus()</code> method.</p>\n\n<p><strong>Way 2:</strong></p>\n\n<pre><code>var array3 = array1.union(array2.asList())\nprint(array3)\n</code></pre>\n\n<p>It will print <code>[1, 2, 3, 4, 5, 6]</code>.</p>\n\n<p><code>union()</code> method can take a collection as parameters. It can merge two arrays but it returns a <strong>Set</strong>. So, we will have unique data but it will merge two arrays. </p>\n\n<p><strong>Way 3:</strong></p>\n\n<pre><code>var mergedArraySize = array1.size + array2.size\nvar mergedArray = IntArray(mergedArraySize)\nvar pos = 0;\nfor (value in array1) {\n    mergedArray[pos] = value\n    pos++\n}\nfor (value in array2) {\n    mergedArray[pos] = value\n    pos++\n}\nprint(mergedArray.asList())\n</code></pre>\n\n<p>It will also print <code>[1, 2, 3, 4, 5, 6]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1570003312, "post_id": 48471392, "comment_id": 102773156, "body": "Would <code>arrayOf()</code> be as efficient if I added this to a recursive function with about 1k-5k recursions or should I better use <code>List</code>? The final array size is expected to grow to about 2000-3000 and will store class fields from reflection. It would be nice to hear if you ever had first-hand experience, if not I&#39;ll give it a go on test."}], "tags": [], "owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "is_accepted": false, "score": 16, "last_activity_date": 1517012765, "creation_date": 1517012765, "answer_id": 48471392, "question_id": 48395619, "link": "https://stackoverflow.com/questions/48395619/how-can-i-combine-two-arrays-into-one-array-in-kotlin/48471392#48471392", "title": "How can I combine two arrays into one array in Kotlin?", "body": "<p>Using the spread operator:</p>\n\n<pre><code>var array3 = intArrayOf(*array1, *array2)\n</code></pre>\n\n<p>This could be especially useful when you need to add some custom elements between the arrays, like <code>intArrayOf(7, *array1, 8, 9, *array2, 10, 11)</code>.</p>\n\n<p>Note spreading is much more efficient than <code>plus</code>-ing, because it creates only one resulting array. Using an equivalent plus version of the above spread example may us 5x more space and take 5x more time.</p>\n"}], "owner": {"reputation": 181, "user_id": 9255158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25edda89c9ea85c51172797e888f93ef?s=128&d=identicon&r=PG&f=1", "display_name": "RobotVice2001", "link": "https://stackoverflow.com/users/9255158/robotvice2001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22860, "favorite_count": 2, "answer_count": 3, "score": 18, "last_activity_date": 1588252525, "creation_date": 1516689599, "last_edit_date": 1588252525, "question_id": 48395619, "link": "https://stackoverflow.com/questions/48395619/how-can-i-combine-two-arrays-into-one-array-in-kotlin", "title": "How can I combine two arrays into one array in Kotlin?", "body": "<p>I want to make one array from two arrays.</p>\n\n<p>I tried to do use +:</p>\n\n<pre><code>var array1 = intArrayOf(1,2,3)\nvar array2 = intArrayOf(4,5,6)\nvar array3 = array1 + array2\n</code></pre>\n\n<p>But it is not working unfortunately... How can I combine them?</p>\n"}, {"tags": ["android-studio", "kotlin", "intellij-14"], "answers": [{"comments": [{"owner": {"reputation": 3846, "user_id": 1549818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iCmK7.png?s=128&g=1", "display_name": "grg", "link": "https://stackoverflow.com/users/1549818/grg"}, "edited": false, "score": 2, "creation_date": 1521733135, "post_id": 48395942, "comment_id": 85867310, "body": "How does one undo this intention? The intention disappears when there&#39;s no hints shown any more, and I can&#39;t find anything in preferences."}, {"owner": {"reputation": 3846, "user_id": 1549818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iCmK7.png?s=128&g=1", "display_name": "grg", "link": "https://stackoverflow.com/users/1549818/grg"}, "edited": false, "score": 6, "creation_date": 1521735684, "post_id": 48395942, "comment_id": 85869123, "body": "^ found it: Preferences \u2192 Editor \u2192 General \u2192 Appearance \u2192 Show parameter name hints Configure \u2192 Language: Kotlin \u2192 Show lambda return expression hints"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 14, "last_activity_date": 1516695762, "last_edit_date": 1516695762, "creation_date": 1516691181, "answer_id": 48395942, "question_id": 48395318, "link": "https://stackoverflow.com/questions/48395318/what-are-the-let-annotations-in-android-studio-intellij/48395942#48395942", "title": "What are the `^let` annotations in Android Studio / IntelliJ?", "body": "<p>These do in fact show you that those values are going to be returned from the <code>let</code> expression. If you move to cursor to one of these hints and open intention actions (Alt + Enter), you get the option \"Do not show <em>lambda return expression hints</em>\", which I suppose is the name for this new feature.</p>\n\n<p><a href=\"https://i.stack.imgur.com/U8HWo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/U8HWo.png\" alt=\"The intention action in the IDE\"></a></p>\n\n<p>This change was introduced in Kotlin 1.2.20, see <em>IntelliJ IDEA Plugin Improvements</em> in <a href=\"https://blog.jetbrains.com/kotlin/2018/01/kotlin-1-2-20-is-out/\" rel=\"noreferrer\">this post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1516699877, "creation_date": 1516699877, "answer_id": 48398282, "question_id": 48395318, "link": "https://stackoverflow.com/questions/48395318/what-are-the-let-annotations-in-android-studio-intellij/48398282#48398282", "title": "What are the `^let` annotations in Android Studio / IntelliJ?", "body": "<p>Your screenshot demonstrates two new IDE features that were introduced with <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.20/ChangeLog.md\" rel=\"nofollow noreferrer\">Kotlin Plugin 1.2.20</a>:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issueMobile/KT-20533\" rel=\"nofollow noreferrer\">KT 20533</a> <strong>Show \"this\" and \"it\" type hints in lambdas.</strong></p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issueMobile/KT-20067\" rel=\"nofollow noreferrer\">KT-20067</a> <strong>Return label hints</strong></p>\n\n<p>Here\u2019s the description of KT-20066 that\u2019s  related to the question:</p>\n\n<blockquote>\n  <p>Returns from lambdas can be confusing, especially when lambdas are nested or crossinline. It is often difficult to determine the lambda's return type and where a block is returning to, which may cause subtle compilation errors or runtime bugs. One solution is to always use explicit labeled returns and type signatures, however this can add extra noise to the source code. One suggestion for improving readability is to use IDE hinting (like in parameter hints), for lambda returns in Kotlin.</p>\n</blockquote>\n"}], "owner": {"reputation": 6342, "user_id": 26331, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zJfV7.jpg?s=128&g=1", "display_name": "aaaidan", "link": "https://stackoverflow.com/users/26331/aaaidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 1, "accepted_answer_id": 48395942, "answer_count": 2, "score": 10, "last_activity_date": 1516699877, "creation_date": 1516688025, "question_id": 48395318, "link": "https://stackoverflow.com/questions/48395318/what-are-the-let-annotations-in-android-studio-intellij", "title": "What are the `^let` annotations in Android Studio / IntelliJ?", "body": "<p>In a <code>let</code> block, I sometimes see <code>^let</code> annotations before my statements, and it's not clear to me what they mean or why they are there.</p>\n\n<p>Is it to indicate that a value will be returned as the value of the <code>let</code> call?</p>\n\n<p>Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/koLi8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/koLi8.png\" alt=\"code snippet with ^let annotations\"></a></p>\n"}, {"tags": ["java", "android", "kotlin", "okhttp3"], "comments": [{"owner": {"reputation": 12185, "user_id": 1056359, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88ac92d87200cfaae167062b2af8ad67?s=128&d=identicon&r=PG", "display_name": "thepoosh", "link": "https://stackoverflow.com/users/1056359/thepoosh"}, "edited": false, "score": 0, "creation_date": 1516695197, "post_id": 48395067, "comment_id": 83781414, "body": "what seems to be the issue, it looks like there should be no issue sending the JSON as is"}], "answers": [{"comments": [{"owner": {"reputation": 1701, "user_id": 8128834, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e2d262cc91abcca11890188fd318e69?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ihsan URAL", "link": "https://stackoverflow.com/users/8128834/ali-ihsan-ural"}, "edited": false, "score": 0, "creation_date": 1516703690, "post_id": 48396686, "comment_id": 83786898, "body": "Thank you so much .. The first part works for me. I ll try the second answer in complicated project"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 6, "last_activity_date": 1516694404, "last_edit_date": 1516694404, "creation_date": 1516694088, "answer_id": 48396686, "question_id": 48395067, "link": "https://stackoverflow.com/questions/48395067/okhttp3-requestbody-in-kotlin/48396686#48396686", "title": "okhttp3 RequestBody in Kotlin", "body": "<p>I highly suggest to use <a href=\"https://github.com/square/retrofit\" rel=\"noreferrer\">Retofit</a> for such case, but if you really need to deal with raw <code>Request</code>/<code>Response</code> then your solution looks like:</p>\n\n<pre><code>val json = \"\"\"\n\"email\":{\n    \"emailto\":\"${emailto}\",\n    \"emailfrom\":\"${emailfrom}\",\n    \"emailcc\":\"${emailcc}\",\n    \"emailbcc\":\"${emailbcc}\",\n    \"emailsubject\":\"${emailsubject}\",\n    \"emailtag\":\"${emailtag}\",\n    \"emailtextbody\":\"${emailtextbody}\",\n    \"attachments\":[]\n}\n\"\"\".trimIndent()\n\nval body = RequestBody.create(MediaType.parse(\"application/json; charset=utf-8\"), json)\nval request = Request.Builder()\n        .url(url)\n        .post(body)\n        .build()\n</code></pre>\n\n<p>Just pass parameters in brackets (e.g. <code>${emailto}</code>) to your function.</p>\n\n<p>In case, if you don't want to build json manually, you can use <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Gson</a> library.</p>\n\n<pre><code>data class EmailInfo(\n        val emailto: String,\n        val emailfrom: String,\n        val emailcc: String,\n        val emailbcc: String,\n        val emailsubject: String,\n        val emailtag: String,\n        val emailtextbody: String,\n        val attachments: List&lt;Attachment&gt;\n)\n\ndata class EmailRequest(\n        val email: EmailInfo\n)\n\n...\n\nval emailRequest = EmailRequest(\n        email = EmailInfo(\n                emailto = \"...\",\n                emailfrom = \"...\",\n                emailcc = \"...\",\n                emailbcc = \"...\",\n                emailsubject = \"...\",\n                emailtag = \"...\",\n                emailtextbody = \"...\",\n                attachments = ...\n        )\n)\n\nval json = Gson().toJson(emailRequest)\n\nval body = RequestBody.create(MediaType.parse(\"application/json; charset=utf-8\"), json)\nval request = Request.Builder()\n        .url(url)\n        .post(body)\n        .build()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 931, "user_id": 5153846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c22f755fe80cea8160159bd63bdd990?s=128&d=identicon&r=PG&f=1", "display_name": "Akbolat SSS", "link": "https://stackoverflow.com/users/5153846/akbolat-sss"}, "edited": false, "score": 0, "creation_date": 1577130244, "post_id": 57412793, "comment_id": 105102277, "body": "Are there any pre-defined MediaType constants instead of copy-pasting from project to project? For example this one &quot;application/json; charset=utf-8&quot;"}, {"owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "reply_to_user": {"reputation": 931, "user_id": 5153846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c22f755fe80cea8160159bd63bdd990?s=128&d=identicon&r=PG&f=1", "display_name": "Akbolat SSS", "link": "https://stackoverflow.com/users/5153846/akbolat-sss"}, "edited": false, "score": 0, "creation_date": 1577742905, "post_id": 57412793, "comment_id": 105244333, "body": "I haven&#39;t found a way to do that yet. I think there should be a way. I&#39;ll post here if I find a way."}], "tags": [], "owner": {"reputation": 592, "user_id": 4067774, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Sbf94.jpg?s=128&g=1", "display_name": "Devenom", "link": "https://stackoverflow.com/users/4067774/devenom"}, "is_accepted": false, "score": 9, "last_activity_date": 1570535252, "last_edit_date": 1570535252, "creation_date": 1565267883, "answer_id": 57412793, "question_id": 48395067, "link": "https://stackoverflow.com/questions/48395067/okhttp3-requestbody-in-kotlin/57412793#57412793", "title": "okhttp3 RequestBody in Kotlin", "body": "<p>For more clarity on the answer given above, this is how you can use the extension functions.</p>\n\n<p>If you are using <code>com.squareup.okhttp3:okhttp:4.0.1</code> the older methods of creating objects of <strong>MediaType</strong> and <strong>RequestBody</strong> have been deprecated and cannot be used in <em>Kotlin</em>.</p>\n\n<p>If you want to use the extension functions to get a <strong>MediaType</strong> object and a <strong>ResponseBody</strong> object from your strings, firstly add the following lines to the class in which you expect to use them.</p>\n\n<pre><code>import okhttp3.MediaType.Companion.toMediaType\nimport okhttp3.RequestBody.Companion.toRequestBody\n</code></pre>\n\n<p>You can now directly get an object of <strong>MediaType</strong> this way</p>\n\n<pre><code>val mediaType = \"application/json; charset=utf-8\".toMediaType()\n</code></pre>\n\n<p>To get an object of <strong>RequestBody</strong> first convert the JSONObject you want to send to a string this way. You have to pass the mediaType object to it.</p>\n\n<pre><code>val requestBody = myJSONObject.toString().toRequestBody(mediaType)\n</code></pre>\n"}], "owner": {"reputation": 1701, "user_id": 8128834, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e2d262cc91abcca11890188fd318e69?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ihsan URAL", "link": "https://stackoverflow.com/users/8128834/ali-ihsan-ural"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11716, "favorite_count": 1, "accepted_answer_id": 48396686, "answer_count": 2, "score": 8, "last_activity_date": 1570535252, "creation_date": 1516686764, "last_edit_date": 1516691688, "question_id": 48395067, "link": "https://stackoverflow.com/questions/48395067/okhttp3-requestbody-in-kotlin", "title": "okhttp3 RequestBody in Kotlin", "body": "<p>I want to send a request body like this : </p>\n\n<h2>How I send this ? I will send it as a class ?</h2>\n\n<pre><code>\"email\":{\n    \"emailto\":\"foo@bar.com\",\n    \"emailfrom\":\"foo@bar.com\",\n    \"emailcc\":\"foo@bar.com\",\n    \"emailbcc\":\"foo@bar.com\",\n    \"emailsubject\":\"Subject\",\n    \"emailtag\":\"Information\",\n    \"emailtextbody\":\"---\",\n    \"attachments\":[]\n}\n</code></pre>\n\n<hr>\n\n<pre><code>val formBody = FormBody.Builder()\n    .add(\"email\", \"Your message\")\n    .build()\n\nval request = Request.Builder()\n    .url(url)\n    .post(formBody)\n    .addHeader(\"_Token\",\"\")\n    .addHeader(\"Content-Type\",\"application/json\")\n    .build()\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1516680695, "post_id": 48393786, "comment_id": 83775726, "body": "Pass a string instead of an array. We can&#39;t help you unless you post more code."}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1516680438, "creation_date": 1516680438, "answer_id": 48394063, "question_id": 48393786, "link": "https://stackoverflow.com/questions/48393786/kotlin-variable-parameter-error-when-inherit/48394063#48394063", "title": "kotlin-variable parameter error when inherit", "body": "<p>You need to use spread operator for this </p>\n\n<pre><code>open class A(vararg vars: String)\nclass B(vararg vars: String):A(*vars)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516690978, "creation_date": 1516678372, "last_edit_date": 1516690978, "question_id": 48393786, "link": "https://stackoverflow.com/questions/48393786/kotlin-variable-parameter-error-when-inherit", "title": "kotlin-variable parameter error when inherit", "body": "<pre><code>open class A(vararg vars: String)\nclass B(vararg vars: String):A(vars)\n</code></pre>\n\n<p>Error :</p>\n\n<blockquote>\n  <p>Required:String\n  Found: Array</p>\n</blockquote>\n\n<p>How to solve this problem?</p>\n"}, {"tags": ["mongodb", "kotlin", "morphia"], "comments": [{"owner": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 1, "creation_date": 1516678008, "post_id": 48393471, "comment_id": 83775129, "body": "Show more code about this ."}, {"owner": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "reply_to_user": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 0, "creation_date": 1516700245, "post_id": 48393471, "comment_id": 83784495, "body": "ok i put the entire code"}, {"owner": {"reputation": 77, "user_id": 8292297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f743597a1807ea3f45f59d9ce3100f0?s=128&d=identicon&r=PG&f=1", "display_name": "ASutherland", "link": "https://stackoverflow.com/users/8292297/asutherland"}, "edited": false, "score": 0, "creation_date": 1517178085, "post_id": 48393471, "comment_id": 83977078, "body": "What versions of MongoDB and Morphia are you using?"}], "owner": {"reputation": 1, "user_id": 8711561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qSERJhr8PL4/AAAAAAAAAAI/AAAAAAAAB3Q/cJiEUeWNsas/photo.jpg?sz=128", "display_name": "Sr C", "link": "https://stackoverflow.com/users/8711561/sr-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516700185, "creation_date": 1516676055, "last_edit_date": 1516700185, "question_id": 48393471, "link": "https://stackoverflow.com/questions/48393471/error-while-using-mongodb-and-morphia-with-datastore", "title": "Error while using Mongodb and Morphia with datastore", "body": "<p>I am trying to use Mongodb and Morphia to put a data in a <code>datastore</code> and it  is giving me an error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: clusterListener can not be null\nat com.mongodb.assertions.Assertions.notNull(Assertions.java:37)\nat com.mongodb.connection.ClusterSettings$Builder.addClusterListener(ClusterSettings.java:218)\nat com.mongodb.connection.DefaultClusterFactory.getClusterSettings(DefaultClusterFactory.java:190)\nat com.mongodb.connection.DefaultClusterFactory.create(DefaultClusterFactory.java:117)\nat com.mongodb.Mongo.createCluster(Mongo.java:744)\nat com.mongodb.Mongo.createCluster(Mongo.java:728)\nat com.mongodb.Mongo.&lt;init&gt;(Mongo.java:293)\nat com.mongodb.Mongo.&lt;init&gt;(Mongo.java:288)\nat com.mongodb.Mongo.&lt;init&gt;(Mongo.java:284)\nat com.mongodb.MongoClient.&lt;init&gt;(MongoClient.java:179)\nat com.mongodb.MongoClient.&lt;init&gt;(MongoClient.java:156)\nat com.mongodb.MongoClient.&lt;init&gt;(MongoClient.java:146)\nat me.oao.kaike.App.&lt;init&gt;(App.kt:59)\nat me.oao.kaike.oaolauncher$main$1.invoke(oaolauncher.kt:17)\nat me.oao.kaike.oaolauncher$main$1.invoke(oaolauncher.kt:11)\nat org.jooby.JoobyKt$sam$Supplier$9b5c0843.get(Jooby.kt)\nat org.jooby.Jooby.run(Jooby.java:2094)\nat org.jooby.JoobyKt.run(Jooby.kt:327)\nat me.oao.kaike.oaolauncher.main(oaolauncher.kt:17)\n</code></pre>\n\n<p>Entire code</p>\n\n<pre><code>  companion object {\n    lateinit var client: MongoClient\n    lateinit var morphia: Morphia\n    lateinit var datastore: Datastore\n}\ninit {\n\n\n    client = MongoClient(\"localhost\", 27017)\n    morphia = Morphia()\n    datastore = morphia.createDatastore(client, \"teste\")\n\n}\n</code></pre>\n\n<p>I don't know how I can fix this, can someone please help?</p>\n"}, {"tags": ["javascript", "firebase", "kotlin", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 5, "last_activity_date": 1516666337, "last_edit_date": 1516666337, "creation_date": 1516665081, "answer_id": 48392080, "question_id": 48391944, "link": "https://stackoverflow.com/questions/48391944/kotlin-and-firebase-cloud-functions-update-method/48392080#48392080", "title": "Kotlin and Firebase cloud functions update() method", "body": "<p>Kotlin is apparently making a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-linked-hash-map/index.html\" rel=\"noreferrer\">LinkedHashMap</a> from your call to <code>mutableMapOf</code>.</p>\n\n<p><code>update()</code> takes a JavaScript object whose ordinary, simple properties should be used to update the document.</p>\n\n<p>I'm fairly certain that the implementation of LinkedHashMap in JavaScript has a lot of object properties that are going to violate the stated constraint, as you can see from the error message.</p>\n\n<p>You can't simply pass any kind of object you want to <code>update()</code>.  You need to pass an object that contains only the keys and values you want to <code>update()</code>.  The method simply isn't expecting something complicated like a <code>LinkedHashMap</code>.  Instead, you'll need to write something that compiles down to a simple JavaScript object.</p>\n\n<p>Maybe <a href=\"https://stackoverflow.com/questions/28150124/javascript-anonymous-object-in-kotlin\">this would be helpful to read</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 8189250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6j0K.jpg?s=128&g=1", "display_name": "MalikDe", "link": "https://stackoverflow.com/users/8189250/malikde"}, "is_accepted": true, "score": 4, "last_activity_date": 1516713983, "creation_date": 1516713983, "answer_id": 48402877, "question_id": 48391944, "link": "https://stackoverflow.com/questions/48391944/kotlin-and-firebase-cloud-functions-update-method/48402877#48402877", "title": "Kotlin and Firebase cloud functions update() method", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/a/48392080/8189250\">Doug's answer</a>, I wrote that little snippet to wrap a simple key/value javascript object to a Kotlin typed object:</p>\n\n<pre><code>class JsWrapperMap&lt;K, V&gt; {\n    private val map: dynamic = js(\"({})\")\n\n    operator fun get(key: K): V = map[key]\n    operator fun set(key: K, value: V) {\n        map[key] = value\n    }\n\n    fun toJs(): dynamic = map\n}\n\n/**\n * Returns an empty new [JsWrapperMap]\n */\nfun &lt;K, V&gt; jsMapOf(): JsWrapperMap&lt;K, V&gt; = JsWrapperMap()\n\n/**\n * Returns an empty new [JsWrapperMap] of type &lt;Any, Any&gt;\n */\nfun jsMapOfAny(): JsWrapperMap&lt;Any, Any&gt; = JsWrapperMap()\n</code></pre>\n\n<p>It can be used like this :</p>\n\n<pre><code>val map = jsMapOf&lt;String, Int&gt;()\nmap[\"key_0\"] = 12\nmap[\"key_1\"] = 36\nref.child(\"values\").update(map.toJs()) \n</code></pre>\n\n<p>I am open to any suggestions on that code :)</p>\n"}], "owner": {"reputation": 137, "user_id": 8189250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6j0K.jpg?s=128&g=1", "display_name": "MalikDe", "link": "https://stackoverflow.com/users/8189250/malikde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 1, "accepted_answer_id": 48402877, "answer_count": 2, "score": 2, "last_activity_date": 1516713983, "creation_date": 1516664067, "last_edit_date": 1516664827, "question_id": 48391944, "link": "https://stackoverflow.com/questions/48391944/kotlin-and-firebase-cloud-functions-update-method", "title": "Kotlin and Firebase cloud functions update() method", "body": "<p>I am using Kotlin to generate Javascript code for Firebase cloud function. </p>\n\n<p>I would like to call <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.Reference#update\" rel=\"nofollow noreferrer\">update</a> method, passing some values as arguments. In Kotlin, I have to pass a Map as an argument of update():  </p>\n\n<pre><code>val map = mutableMapOf&lt;String,Int&gt;() //also tried with a Hashmap: same result\n\n//generate some values\nfor(i in 0 until 3){ \n    map.put(\"key$i\", i)\n}\nconsole.log(map.keys.toList().toString()) //log map keys\nconsole.log(map.values.toList().toString()) //log map values\n\nref.child(\"values\").update(map)\n</code></pre>\n\n<p>Kotlin generates that javascript code :  </p>\n\n<pre><code>var LinkedHashMap_init = Kotlin.kotlin.collections.LinkedHashMap_init_q3lmfv$;\nfunction main$lambda(event){\n    var map = LinkedHashMap_init();\n    for (var i = 0; i &lt; 3; i++) {\n      map.put_xwzc9p$('key' + i, i);\n    }\n    console.log(toList(map.keys).toString());\n    console.log(toList(map.values).toString());\n    ref.child('values').update(map);\n}\n</code></pre>\n\n<p>In my Firebase console, here is the result of the 2 logs. It seems to indicate that the map is correct:</p>\n\n<pre><code>[key0, key1, key2]\n[0, 1, 2]\n</code></pre>\n\n<p>But update() is not working: functions logs display that message: </p>\n\n<pre><code>Error: Reference.update failed: First argument  contains an invalid key (this$AbstractMutableMap) in property 'games.test.values._keys_qe2m0n$_0'.  Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"\n    at /user_code/node_modules/firebase-admin/node_modules/@firebase/database/dist/cjs/src/core/util/validation.js:139:27\n    at Object.exports.forEach (/user_code/node_modules/firebase-admin/node_modules/@firebase/util/dist/cjs/src/obj.js:37:13)\n    at Object.exports.validateFirebaseData (/user_code/node_modules/firebase-admin/node_modules/@firebase/database/dist/cjs/src/core/util/validation.js:132:16)\n    at /user_code/node_modules/firebase-admin/node_modules/@firebase/database/dist/cjs/src/core/util/validation.js:223:17\n    at Object.exports.forEach (/user_code/node_modules/firebase-admin/node_modules/@firebase/util/dist/cjs/src/obj.js:37:13)\n    at Object.exports.validateFirebaseMergeDataArg (/user_code/node_modules/firebase-admin/node_modules/@firebase/database/dist/cjs/src/core/util/validation.js:221:12)\n    at Reference.update (/user_code/node_modules/firebase-admin/node_modules/@firebase/database/dist/cjs/src/api/Reference.js:140:22)\n    at main$lambda (/user_code/index.js:87:25)\n    at Object.&lt;anonymous&gt; (/user_code/node_modules/firebase-functions/lib/cloud-functions.js:59:27)\n    at next (native)\n</code></pre>\n\n<p>But finally, if I manually write js code into the function, it works:  </p>\n\n<pre><code>var map = {}\nfor (var i = 0; i &lt; 3; i++) {\n    map[\"key\"+i] = i\n}\nref.child(\"values\").update(map)\n</code></pre>\n\n<p>Regards.</p>\n"}, {"tags": ["android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 34909, "user_id": 793522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f6005637680093ab61e1b3ece79c35b?s=128&d=identicon&r=PG", "display_name": "kabuko", "link": "https://stackoverflow.com/users/793522/kabuko"}, "edited": false, "score": 0, "creation_date": 1516689776, "post_id": 48391902, "comment_id": 83778802, "body": "You may find this useful: <a href=\"https://developer.android.com/guide/topics/ui/how-android-draws.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/how-android-draws.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "edited": false, "score": 0, "creation_date": 1516667096, "post_id": 48392226, "comment_id": 83772552, "body": "I tried to do this but I still get 0. This is the code   override fun onStart() {         super.onStart()          val width = v!!.layout_team1_picker.width.toFloat()          Log.d(&quot;picker&quot;,&quot;widht is $width&quot;)     }"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "edited": false, "score": 0, "creation_date": 1516678425, "post_id": 48392226, "comment_id": 83775219, "body": "Is the view being created and the image (I&#39;m guessing <code>v.image_team1_plus</code> is an image) dynamically added afterwards? Or anything else happening that might cause a 0-sized view to have a size later? It is possible to change the size of a view late in its lifecycle (after onStart), but onStart <i>should</i> be good enough..."}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "edited": false, "score": 0, "creation_date": 1516681014, "post_id": 48392226, "comment_id": 83775814, "body": "No nothing is being added dynamically. Everything is defined in fragment_example.xml"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 0, "last_activity_date": 1516666573, "last_edit_date": 1516666573, "creation_date": 1516666126, "answer_id": 48392226, "question_id": 48391902, "link": "https://stackoverflow.com/questions/48391902/find-the-width-of-a-view-inside-of-a-fragment/48392226#48392226", "title": "Find the width of a view inside of a fragment", "body": "<p>Because in the onClick case, you're running the code when the button is clicked, which is after the view has been packed / rendered. In the onCreateView case, you're running the code when it is created, which is before it is packed / rendered, so it doesn't yet have a size.</p>\n\n<p>If you moved the width-displaying code from <code>onCreateView</code> to <code>onStart</code>, which is called when the fragment is visible, then you should see the desired behaviour.</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 2481783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZKzU.jpg?s=128&g=1", "display_name": "Leonardo Medori", "link": "https://stackoverflow.com/users/2481783/leonardo-medori"}, "is_accepted": false, "score": 0, "last_activity_date": 1516684123, "creation_date": 1516684123, "answer_id": 48394618, "question_id": 48391902, "link": "https://stackoverflow.com/questions/48391902/find-the-width-of-a-view-inside-of-a-fragment/48394618#48394618", "title": "Find the width of a view inside of a fragment", "body": "<p>Override the <code>onViewCreated</code> method and get the width inside.</p>\n"}, {"tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": false, "score": 0, "last_activity_date": 1516704738, "creation_date": 1516704738, "answer_id": 48399887, "question_id": 48391902, "link": "https://stackoverflow.com/questions/48391902/find-the-width-of-a-view-inside-of-a-fragment/48399887#48399887", "title": "Find the width of a view inside of a fragment", "body": "<p>As stated in the other answers, during onCreateView, your views still have no size yet. Another approach would be to add a GlobalLayoutListener, to be aware of when your view has been rendered.</p>\n\n<p>There are different ways of achieving this, here's a nice breakdown of it :\n<a href=\"https://antonioleiva.com/kotlin-ongloballayoutlistener/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/kotlin-ongloballayoutlistener/</a></p>\n\n<p>Basically :</p>\n\n<p>Create an extension function to\n 1. wait for the view to be rendered (by attaching a globalLayoutListener to its viewTreeObserver)\n 2. Call whatever function you want once width/height are known</p>\n\n<pre><code>inline fun &lt;T: View&gt; T.afterMeasured(crossinline f: T.() -&gt; Unit) {\n\n    viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n\n        override fun onGlobalLayout() {\n\n            if (measuredWidth &gt; 0 &amp;&amp; measuredHeight &gt; 0) {\n\n                viewTreeObserver.removeOnGlobalLayoutListener(this)\n\n                f()\n\n            }\n\n        }\n\n    })\n\n}\n</code></pre>\n\n<p>To call it, simply do :</p>\n\n<pre><code>v.layout_team1_picker.afterMeasured {\n\n  Log.d(\"width1\",\"width is $v.layout_team1_picker.width\")\n\n}\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1516704738, "creation_date": 1516663837, "question_id": 48391902, "link": "https://stackoverflow.com/questions/48391902/find-the-width-of-a-view-inside-of-a-fragment", "title": "Find the width of a view inside of a fragment", "body": "<p>I want to find the width of a view inside of a fragment and I've written the following code</p>\n\n<pre><code>class ExampleFragment : Fragment() {\n\nvar team1_value = 0\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val v =  inflater!!.inflate(R.layout.fragment_queens, container, false)\n\n    val width = v.layout_team1_picker.width.toFloat()\n\n    Log.d(\"width1\",\"width is $width\")\n\n\n    return v\n}\n</code></pre>\n\n<p>The answer I get is 0.0. Howerver if I do the same thing inside of a button </p>\n\n<pre><code>class ExampleFragment : Fragment() {\n\nvar team1_value = 0\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val v =  inflater!!.inflate(R.layout.fragment_queens, container, false)\n\n        v.image_team1_plus.setOnClickListener{\n\n        val width = v.layout_team1_picker.width.toFloat()\n\n        Log.d(\"width2\",\"width is $width\")\n    }\n    return v\n}\n</code></pre>\n\n<p>I get a positive 320.0 whenever I press the button. Why is this the case?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 2, "creation_date": 1578957056, "post_id": 48391246, "comment_id": 105601269, "body": "So does order matter, or does the parenthesis take care of which is the parent and which are the interfaces?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1579165950, "post_id": 48391246, "comment_id": 105676686, "body": "I can&#39;t think of a reason why order would matter. Yes, every abstract class will need parens while interfaces work without. The compiler knows whether you&#39;re implementing an interface or extending a super class"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 165, "last_activity_date": 1558950727, "last_edit_date": 1558950727, "creation_date": 1516659882, "answer_id": 48391246, "question_id": 48391217, "link": "https://stackoverflow.com/questions/48391217/extend-and-implement-at-the-same-time-in-kotlin/48391246#48391246", "title": "Extend and implement at the same time in Kotlin", "body": "<p>There's no syntactic difference between <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"noreferrer\">interface implementation</a> and <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"noreferrer\">class inheritance</a>. Simply list all types comma-separated after a colon <code>:</code> as shown here:</p>\n\n<pre><code>abstract class MySuperClass\ninterface MyInterface\n\nclass MyClass : MySuperClass(), MyInterface, Serializable\n</code></pre>\n\n<p>Multiple class inheritance is prohibited while multiple interfaces may be implemented by a single class.</p>\n"}, {"tags": [], "owner": {"reputation": 3311, "user_id": 3593084, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Uq59r.jpg?s=128&g=1", "display_name": "Mr.Q", "link": "https://stackoverflow.com/users/3593084/mr-q"}, "is_accepted": false, "score": 6, "last_activity_date": 1585998099, "creation_date": 1585998099, "answer_id": 61027094, "question_id": 48391217, "link": "https://stackoverflow.com/questions/48391217/extend-and-implement-at-the-same-time-in-kotlin/61027094#61027094", "title": "Extend and implement at the same time in Kotlin", "body": "<p>This is the general syntax to use when a class is  extending (another class) or implementing (one or serveral interfaces):</p>\n\n<pre><code>class Child: InterfaceA, InterfaceB, Parent(), InterfaceZ\n</code></pre>\n\n<p>Note that the order of classes and interfaces does not matter.</p>\n\n<p>Also, notice that for the class which is extended we use parentheses, thee parenthesis refers to the main constructor of the parent class. Therefore, if the main constructor of the parent class takes an argument, then the child class should also pass that argument.</p>\n\n<pre><code>interface InterfaceX {\n   fun test(): String\n}\n\nopen class Parent(val name:String) {\n    //...\n}\n\nclass Child(val toyName:String) : InterfaceX, Parent(\"dummyName\"){\n\n    override fun test(): String {\n        TODO(\"Not yet implemented\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1715, "user_id": 931724, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5115cd1d4f59162373794a865f3b4a0b?s=128&d=identicon&r=PG", "display_name": "chntgomez", "link": "https://stackoverflow.com/users/931724/chntgomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41692, "favorite_count": 6, "accepted_answer_id": 48391246, "answer_count": 2, "score": 104, "last_activity_date": 1585998099, "creation_date": 1516659722, "last_edit_date": 1516659975, "question_id": 48391217, "link": "https://stackoverflow.com/questions/48391217/extend-and-implement-at-the-same-time-in-kotlin", "title": "Extend and implement at the same time in Kotlin", "body": "<p>In Java, you can do such thing as:</p>\n\n<pre><code>class MyClass extends SuperClass implements MyInterface, ...\n</code></pre>\n\n<p>Is it possible to do the same thing in Kotlin? Assuming <code>SuperClass</code> is abstract and does not implement <code>MyInterface</code></p>\n"}, {"tags": ["json", "kotlin", "jupyter-notebook", "klaxon"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516655331, "post_id": 48390172, "comment_id": 83768407, "body": "Re imports: By reading the api documentation or the source code, and/or simply telling the IDE to add the missing imports. Re your question, by reading the docuentation: <a href=\"https://github.com/cbeust/klaxon#lowLevelApi\" rel=\"nofollow noreferrer\">github.com/cbeust/klaxon#lowLevelApi</a>, <a href=\"https://github.com/cbeust/klaxon#objectBindingApi\" rel=\"nofollow noreferrer\">github.com/cbeust/klaxon#objectBindingApi</a>. Reading (documentation, tutorials, readmes) is an essential part of programming."}, {"owner": {"reputation": 783, "user_id": 3381215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f93d43ad32a430f54de2fd67195aece?s=128&d=identicon&r=PG&f=1", "display_name": "Freek", "link": "https://stackoverflow.com/users/3381215/freek"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516656381, "post_id": 48390172, "comment_id": 83768933, "body": "Yes, I realize I have a long way to go. What you are linking to does not really tell me anything, some custom json object is constructed but the values are not read back by their respective key. There is some example code using &quot;parser&quot; however I get &quot;error: unresolved reference: Parser&quot; with no idea how to solve that (try googling that error). I feel that if could just start getting some values from that json I&#39;m starting to get somewhere. I&#39;m writing this after hours of searching and watching howto&#39;s."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1516656746, "post_id": 48390172, "comment_id": 83769108, "body": "<i>the values are not read back by their respective key</i>: yes, they are: <code>println(&quot;Name : ${json.string(&quot;name&quot;)}, Age : ${json.int(&quot;age&quot;)}&quot;)</code>. That reads the string value at the key &quot;name&quot;, and the int value at the key &quot;age&quot;. Re Parser: of course, again, it&#39;s a class that you need to import."}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1516656996, "creation_date": 1516656996, "answer_id": 48390654, "question_id": 48390172, "link": "https://stackoverflow.com/questions/48390172/parsing-json-in-kotlin/48390654#48390654", "title": "Parsing json in Kotlin", "body": "<p>There are many JSON parsers out there. Your example was a Kotlin explicit one and that is not mandatory for Kotlin because there are also many basic Java parsers, which you can use just as fine in Kotlin.</p>\n\n<p>For your imports. Obviously you need to import the classes you want to use and IDE's like <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ</a> handle the imports for you automatically. That means that you won't have to type any <code>import</code> statements, but they are added automatically when referencing those classes.</p>\n\n<p>I think that nowadays some libraries just expect that you do not handle the imports yourself and thus do not assist you on finding the right imports.</p>\n\n<p>My suggestion for a parser is <a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">Fuel</a>.\nThe library is optimized for Kotlin as well. Your problem would be solved with this simple code snippet with the help of <em>Fuel</em>:</p>\n\n<pre><code>\"https://bittrex.com/api/v1.1/public/getmarkets\".httpGet().responseJson { _, response, result -&gt;\n    if (response.responseMessage == \"OK\" &amp;&amp; response.statusCode == 200) {\n        val yourResult = result.get().obj().getBoolean(\"success\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 591, "user_id": 1898348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7fd1cb575799fa7dd88d2b17408f748?s=128&d=identicon&r=PG&f=1", "display_name": "jjoller", "link": "https://stackoverflow.com/users/1898348/jjoller"}, "edited": false, "score": 1, "creation_date": 1558450503, "post_id": 48390778, "comment_id": 99100870, "body": "Gson is a Java library and does therefore not understand non-nullable fields of Kotlin. You will end up with null values in fields that should be non-null. It works fine otherwise."}], "tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": false, "score": 1, "last_activity_date": 1516657650, "creation_date": 1516657650, "answer_id": 48390778, "question_id": 48390172, "link": "https://stackoverflow.com/questions/48390172/parsing-json-in-kotlin/48390778#48390778", "title": "Parsing json in Kotlin", "body": "<p>Something you may or may not know is that Kotlin is 100% compatible with Java, thus all the Java json parsers work well with Kotlin. I highly recommend <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a>. It's small (~200kb), fast, and pretty simple to use.</p>\n\n<p>If this code is running in a server, jackson is pretty standard. It's the most performant json parser for java at the moment, but it's very heavy. It will take some more complicated configuration though, and I think it might require some Kotlin specific modules.</p>\n\n<p>I haven't tried it yet, as it hasn't officially been released, but Kotlin offers a <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">plugin for generating json serialization code</a>. That will probably eventually be the standard way for Kotlin to serialize / deserialize as it should theoretically be the most performant.</p>\n"}, {"tags": [], "owner": {"reputation": 2223, "user_id": 496895, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/tcfXe.jpg?s=128&g=1", "display_name": "Syed Absar", "link": "https://stackoverflow.com/users/496895/syed-absar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554882929, "creation_date": 1554882929, "answer_id": 55607459, "question_id": 48390172, "link": "https://stackoverflow.com/questions/48390172/parsing-json-in-kotlin/55607459#55607459", "title": "Parsing json in Kotlin", "body": "<p>The best and quick practice is instead of manually checking for each key, generate native Kotlin \"data classes\" using tools e.g. <a href=\"https://json2kotlin.com\" rel=\"nofollow noreferrer\">https://json2kotlin.com</a></p>\n\n<p>So your API response turns into the following couple of data classes corresponding to the JSON structure:</p>\n\n<pre><code>data class Json4Kotlin_Base (\n\n    val success : Boolean,\n    val message : String,\n    val result : List&lt;Result&gt;\n)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>data class Result (\n\n    val marketCurrency : String,\n    val baseCurrency : String,\n    val marketCurrencyLong : String,\n    val baseCurrencyLong : String,\n    val minTradeSize : Double,\n    val marketName : String,\n    val isActive : Boolean,\n    val isRestricted : Boolean,\n    val created : String,\n    val notice : String,\n    val isSponsored : String,\n    val logoUrl : String\n)\n</code></pre>\n\n<p>When you get the result, you simple map the JSON response to these data classes. The <a href=\"https://www.youtube.com/watch?v=n46WbgNoEnE\" rel=\"nofollow noreferrer\">video here</a> shows how to do it step by step.</p>\n"}], "owner": {"reputation": 783, "user_id": 3381215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2f93d43ad32a430f54de2fd67195aece?s=128&d=identicon&r=PG&f=1", "display_name": "Freek", "link": "https://stackoverflow.com/users/3381215/freek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6753, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1602484669, "creation_date": 1516654759, "last_edit_date": 1516655063, "question_id": 48390172, "link": "https://stackoverflow.com/questions/48390172/parsing-json-in-kotlin", "title": "Parsing json in Kotlin", "body": "<p>I'm trying to parse Json in Kotlin. I'm having a lot of trouble, it seems that a lot of people learn Kotlin after Java... Not me, I'm a Python guy. I got a Kotlin Jupyter Notebook running fairly quickly (<a href=\"https://github.com/ligee/kotlin-jupyter\" rel=\"nofollow noreferrer\">https://github.com/ligee/kotlin-jupyter</a>), after that I managed to pull information from the bittrex api like so:</p>\n\n<pre><code>import java.net.URL\nval result = URL(\"https://bittrex.com/api/v1.1/public/getmarkets\").readText()\n</code></pre>\n\n<p>It took me a long time to find that I needed to add import java.net.URL, this always seems to be implicit in all code examples. Anyway, this give me a response in json (the \"result parameter\"):</p>\n\n<pre><code>{\"success\":true,\"message\":\"\",\"result\":[{\"MarketCurrency\":\"LTC\",\"BaseCurrency\":\"BTC\",\"MarketCurrencyLong\":\"Litecoin\",\"BaseCurrencyLong\":\"Bitcoin\",\"MinTradeSize\":0.01469482,\"MarketName\":\"BTC-LTC\",\"IsActive\":true,\"Created\":\"2014-02-13T00:00:00\",\"Notice\":null,\"IsSponsored\":null,\"LogoUrl\":\"https://bittrexblobstorage.blob.core.windows.net/public/6defbc41-582d-47a6-bb2e-d0fa88663524.png\"},{\"MarketCurrency\":\"DOGE\",\"BaseCurrency\":\"BTC\",\"MarketCurrencyLong\":\"Dogecoin\",\"BaseCurrencyLong\":\"Bitcoin\",\"MinTradeSize\":274.72527473,\"MarketName\":\"BTC-DOGE\",\"IsActive\":true,\"Created\":\"2014-02-13T00:00:00\",\"Notice\":null,\"IsSponsored\":null,\"LogoUrl\":\"https://bittrexblobstorage.blob.core.windows.net/public/a2b8eaee-2905-4478-a7a0-246f212c64c6.png\"},{\"MarketCurrency ...\n</code></pre>\n\n<p>Now, in Python I'd just add .json() to the \"result\" parameter and I can then address the json fields as a dictionary with multiple levels, like</p>\n\n<pre><code>result[\"success\"]\n</code></pre>\n\n<p>Would give me:</p>\n\n<pre><code>true\n</code></pre>\n\n<p>Is there something like that for Kotlin? I have tried Klaxon <a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">https://github.com/cbeust/klaxon</a>, again it took me a lot of time to realize that I have to do <code>import com.beust.klaxon.string</code>, it is not mentioned on the website for example, so a side question is: How do you know what you need to import when you find code examples? It seems like everybody just knows... But I digress.</p>\n\n<p>My main question is: How can I address the separate fields of the Json and get them into separate variables?</p>\n\n<p>Highest regards.</p>\n"}, {"tags": ["reactjs", "kotlin"], "owner": {"reputation": 804, "user_id": 1856573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f64b59ffafe054f44d5715858e2ef62?s=128&d=identicon&r=PG", "display_name": "lapadets", "link": "https://stackoverflow.com/users/1856573/lapadets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1516644459, "creation_date": 1516644459, "question_id": 48387730, "link": "https://stackoverflow.com/questions/48387730/how-to-render-chartjs-with-kotlin-react-frontend", "title": "How to render ChartJs with Kotlin React Frontend", "body": "<p>I am experimenting with a simple project based with Kotlin and React and I have some data I would like to visualise with ChartJs. \nBut I am not sure how exactly to 'connect the dots'. </p>\n\n<p>I am randomly generating some data in background about some dummy 'customers'. It is a continuous <code>stream</code> of data (technically it goes on forever if I don't stop it) and it looks like this: </p>\n\n<pre><code>data:{\"name\":\"John\",\"age\": 22,\"money\":1088.434131568658585820230655372142791748046875}\ndata:{\"name\":\"Patric\",\"age\": 32,\"money\":9803.739582599226196180097758769989013671875}\ndata:{\"name\":\"Sven\",\"age\": 13,\"money\":6654.2184028105320976465009152889251708984375}\ndata:{\"name\":\"Trevor\",\"age\": 29,\"money\":1818.314185601747112741577439010143280029296875}\ndata:{\"name\":\"John\",\"age\": 30,\"money\":427.240483111973617269541136920452117919921875}\ndata:{\"name\":\"Mark\",\"age\": 15,\"money\":3065.9830877835693172528408467769622802734375}\ndata:{\"name\":\"Daniel\",\"age\": 18,\"money\":5860.1371074951812261133454740047454833984375}\ndata:{\"name\":\"Chris\",\"age\": 28,\"money\":7547.2329861790212817140854895114898681640625}\n</code></pre>\n\n<p>Here is my Model:</p>\n\n<pre><code>data class CustomerData(var name: String, var age: Int, var money: Int)\n</code></pre>\n\n<p>and my Chart Component:</p>\n\n<pre><code>interface CustomerChartProps : RProps {\n    var customerDataList: List&lt;CustomerData&gt;\n}\n\ninterface CustomerChartState : RState {\n    var customerDataList: List&lt;CustomerData&gt;\n}\n\nclass CustomerChart : RComponent&lt;CustomerChartProps, CustomerChartState&gt;() {\n\n    override fun CustomerChartState.init(props: CustomerChartProps) {\n        customerDataList = props.customerDataList\n    }\n\n    override fun RBuilder.render() {\n        canvas() {\n            attrs.id = \"myChart\"\n            attrs.height = \"600\"\n            attrs.width = \"600\"\n            key = \"chart\"\n\n            div {\n                props.customerDataList\n            }\n\n\n        }\n\n        var chart = document.getElementById(\"myChart\")\n    }\n}\n\nfun dummyChartData(data: List&lt;CustomerData&gt;) =\n        listOf(CustomerData(\"John\", 30, 9999))\n\nfun RBuilder.customerChart(customerDataList: List&lt;CustomerData&gt;) = child(CustomerChart::class) {\n    attrs.customerDataList = customerDataList\n}\n</code></pre>\n\n<p>What is not clear is how do I tell the <code>RState</code> that my data is constantly changing. I want to be able to update the chart dynamically, while I get new <code>data</code> from my dummy backend. I am not persisting the data in anyway. </p>\n\n<p>What are your suggestions or recommendations? \nI cannot seem to find a suitable example/tutorial/documentation either. </p>\n\n<p>I know my question is pretty vague, but I hope at least I am the right direction, or that someone can point out how to get there. </p>\n"}, {"tags": ["javafx", "kotlin"], "comments": [{"owner": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1516653407, "post_id": 48387103, "comment_id": 83767432, "body": "When I use <code>appendText</code>, it auto scrolls to the bottom of the <code>TextArea</code>."}, {"owner": {"reputation": 388, "user_id": 4620643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1GhJD.jpg?s=128&g=1", "display_name": "SparkierFlunky", "link": "https://stackoverflow.com/users/4620643/sparkierflunky"}, "reply_to_user": {"reputation": 10057, "user_id": 2423906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rkpYv.jpg?s=128&g=1", "display_name": "Sedrick", "link": "https://stackoverflow.com/users/2423906/sedrick"}, "edited": false, "score": 0, "creation_date": 1516702507, "post_id": 48387103, "comment_id": 83786003, "body": "Well, as you see, it doesn&#39;t for me. I don&#39;t know why, however..."}], "owner": {"reputation": 388, "user_id": 4620643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1GhJD.jpg?s=128&g=1", "display_name": "SparkierFlunky", "link": "https://stackoverflow.com/users/4620643/sparkierflunky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516642077, "creation_date": 1516642077, "question_id": 48387103, "link": "https://stackoverflow.com/questions/48387103/cant-get-textarea-to-scroll-to-bottom", "title": "Can&#39;t get TextArea to scroll to bottom", "body": "<p>I am using Kotlin with JavaFX. In a TextArea which is programmatically appended, I want the scrollbar to always jump to the bottom when text is added.</p>\n\n<p>To test this, I wrote this code:</p>\n\n<pre><code>taConsole.text = \"Running \" + pythonScriptPath\n\n// retrieve output from python script\nval bfr = BufferedReader(InputStreamReader(p.inputStream))\nval lines = bfr.readLines()\nfor (i in 1..10) {\n    for (line in lines) {\n        taConsole.appendText(\"\\n\" + line)\n    }\n}\n</code></pre>\n\n<p>Sadly, I cant get it to scroll to bottom. I already tried:</p>\n\n<pre><code>ta.selectEnd();\nta.deselect();\n\ndataPane.setScrollTop(Double.MAX_VALUE);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>val caret = taConsole.selectPositionCaret(taConsole.length)\n</code></pre>\n\n<p>I inserted them after the:</p>\n\n<pre><code>appendText(\"\\n\" + line)\n</code></pre>\n"}, {"tags": ["dependency-injection", "kotlin", "ejb-3.1"], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516703609, "post_id": 48389998, "comment_id": 83786843, "body": "The code above produces a compiler error &quot;Setter visibility must be less permissive than property visibility&quot;. Seems as you cannot declare the setter or getter public and the field private."}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516703704, "post_id": 48389998, "comment_id": 83786909, "body": "Constructor injection is not permitted here because a REST resource is an EJB and has to have an empty default constructor."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516704384, "post_id": 48389998, "comment_id": 83787377, "body": "@MarcvonRenteln updated my answer with another pattern with backing field. Will that work for you?"}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516709713, "post_id": 48389998, "comment_id": 83790877, "body": "Sadly no, because of another problem that I have discovered after my first post. I have added a description of the problem as 4. and changed the implementation. The second field that you created would be rejected by the container. The solution I created is similar but uses an open function."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516710686, "post_id": 48389998, "comment_id": 83791631, "body": "@MarcvonRenteln what if you add open to get() and set()?"}, {"owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516710790, "post_id": 48389998, "comment_id": 83791701, "body": "The compiler did not allow that... (&quot;Open is not applicable to setter&quot;)"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516718692, "post_id": 48389998, "comment_id": 83797175, "body": "@MarcvonRenteln I&#39;m sorry. Of course <code>var</code> (<code>field</code> in my case) should be open"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "edited": false, "score": 0, "creation_date": 1516728432, "post_id": 48389998, "comment_id": 83804087, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/163735/discussion-between-asm0dey-and-marc-von-renteln\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1516718646, "last_edit_date": 1516718646, "creation_date": 1516654100, "answer_id": 48389998, "question_id": 48386872, "link": "https://stackoverflow.com/questions/48386872/how-to-do-jee-ejb-dependency-injection-with-kotlin/48389998#48389998", "title": "How to do JEE EJB Dependency Injection with Kotlin", "body": "<ol>\n<li>yes</li>\n<li>I don't know background too, but you can workarond that by changing code to smth like</li>\n</ol>\n\n<p><code>open class A {\n     @Context\n     private lateinit var _backing: SecurityContext\n     open protected var field: SecurityContext\n       get() = _backing\n       set(value) { _backing = value }\n}\n</code></p>\n\n<p>Also, you can use constructor injection</p>\n\n<ol start=\"3\">\n<li>You're annotating field there. To annotate getters/setter you can add <code>@get:</code> and <code>@set:</code> to annotations.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "is_accepted": true, "score": 1, "last_activity_date": 1531072337, "last_edit_date": 1531072337, "creation_date": 1517674698, "answer_id": 48599417, "question_id": 48386872, "link": "https://stackoverflow.com/questions/48386872/how-to-do-jee-ejb-dependency-injection-with-kotlin/48599417#48599417", "title": "How to do JEE EJB Dependency Injection with Kotlin", "body": "<p>The best solution I could find is to declare the property as <code>open protected</code>:</p>\n\n<pre><code>@Context\nopen protected lateinit var context: SecurityContext\n</code></pre>\n\n<p>This way the container can override it and tests from java or groovy will see the setter as package protected.</p>\n\n<p>If you want to annotate the setter only (which I would prefer but is more verbose) you can use:</p>\n\n<pre><code>open protected lateinit var context: SecurityContext @Context set\n</code></pre>\n\n<p>or better and shorter:</p>\n\n<pre><code>@set:Context\nopen protected lateinit var context: SecurityContext\n</code></pre>\n\n<p>Unfortunately this will not work with Kotlin tests because <code>protected</code> vars can only be seen by subclasses in Kotlin. Here you have to write a seperate accessor:</p>\n\n<pre><code>@Context\nopen protected lateinit var context: SecurityContext\n\nopen internal fun setTheSecurityContext(context: SecurityContext) ...\n</code></pre>\n\n<p>Or you can use a secondary constructor: </p>\n\n<pre><code>open class MyResource() {\n\nconstructor(context: SecurityContext): this() {\n  this.context = context\n}\n</code></pre>\n\n<p>Note that the primary empty constructor has to be still present.</p>\n\n<p>And here are the separate answers for my questions:</p>\n\n<ol>\n<li>If the dependency injection framework uses proxys <code>open</code> is necessary for the class and every method and property (but <code>private</code> ones).</li>\n<li>No. With <code>lateinit</code> the property has the same visibility as the getters and setters. If you want to do this you have to declare the property as nullable. But then you have to use <code>!!</code> on every access which is awkward.</li>\n<li>The field. As seen above you can write <code>@Context set</code> or <code>@set:Context</code> to annotate the setter.</li>\n<li>As stated in 1 all properties but private ones have to be declared as open.</li>\n</ol>\n\n<p>EDIT: Note that private properties also cause problems (tested with Wildfly). My recommendation is not to use private at all but protected.</p>\n\n<p>EDIT 2: Note that these workarounds are only necessary on an EJB (like a REST-Resource). With simple CDI Beans this is no proplem until they are proxied by an aspect or such. Then this post would also apply.</p>\n"}], "owner": {"reputation": 1069, "user_id": 1242890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3721ddf52058e3ee8162e483c0d8093e?s=128&d=identicon&r=PG", "display_name": "Marc von Renteln", "link": "https://stackoverflow.com/users/1242890/marc-von-renteln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 48599417, "answer_count": 2, "score": 1, "last_activity_date": 1531072337, "creation_date": 1516641116, "last_edit_date": 1531072164, "question_id": 48386872, "link": "https://stackoverflow.com/questions/48386872/how-to-do-jee-ejb-dependency-injection-with-kotlin", "title": "How to do JEE EJB Dependency Injection with Kotlin", "body": "<p>I have converted a REST resource in a JEE application formally written in Java to Kotlin. The application runs in a Wildfly Application Server with Weld as Dependency Injection framework.</p>\n\n<p>This is the final implementation I came up with:</p>\n\n<pre><code>@Path(\"/myResource\")\nopen class MyResource {\n\n  @Context\n  private lateinit var context: SecurityContext\n\n  open protected setSecurityContext(securityContext: SecurityContext) {\n    this.context = securityContext\n  }\n\n  @POST\n  @Path(\"/change\")\n  @Transactional\n  @Consumes(MediaType.APPLICATION_JSON)\n  open internal fun change(data: MyChangeData, @Context uriInfo: UriInfo): Response {\n    // ...\n  }\n}\n</code></pre>\n\n<p>The setter is for testing purposes. With Mockito or other mocking frameworks that can set private fields this is not neccessary.</p>\n\n<p>I had some issues with this implementation:</p>\n\n<ol>\n<li>I had to change the class and all methods to <code>open</code> to allow the CDI Container to create a proxy for this bean. As I understand this topic there is no other way to allow Weld to do its work without allowing subclassing?</li>\n<li>Generally Kotlin generates setters and getters for properties with the given modifier (public/private/protected) backed by a private field. But when using <code>lateinit</code> the field is generated with the same visibility as the getters and setters (Kotlin in Action, p. 146). I don't understand the background for this special behaviour. Using <code>public</code> property causes an error in Weld reporting that public fields are not allowed. How can I declare that the field should be private but the getter and setter is protected (to initialize the Resource in tests)?</li>\n<li>What is annotated in the code above? The field or the generated methods? If it is the field: How can I annotate the setter only?</li>\n<li>Because all methods but private ones have to be <code>open</code> all properties but private ones are rejected by the Weld container: Kotlin creates Getters and Setters with the same visibility and the container tries to proxy the bean proxying all methods for the bean. This does not work because the generated getters and setters are not <code>open</code>. For private properties there simply is no problem because the container does not proxy private methods. As I see there is no possibility to declare a getter/setter as <code>open</code> therefor it is not possible to use protected properties</li>\n</ol>\n\n<p>EDIT: Added Ploblem 4 and changed the Implementation because of this problem to private with a setter.</p>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 2, "creation_date": 1516643776, "post_id": 48386794, "comment_id": 83762564, "body": "Did you try <a href=\"https://stackoverflow.com/a/44994441/1837367\">this</a>? Add <code>@Module</code> to your <code>companion object</code>, but there will still be 2 classes generated."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1580997954, "post_id": 48386794, "comment_id": 106288541, "body": "<b>Note</b>: The behaviour of dagger2 has been modified for <code>companion object</code> in <code>@Module</code> classes , check this answer of mine, <a href=\"https://stackoverflow.com/a/60064965/4936904\">stackoverflow.com/a/60064965/4936904</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1607717318, "post_id": 54592300, "comment_id": 115369953, "body": "Apart from answering the question, is there an advantage to doing this? It seems like doing this adds extra code, which is the opposite of benefits of <code>@Binds</code>. It&#39;s also unusual."}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "reply_to_user": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1607759735, "post_id": 54592300, "comment_id": 115378275, "body": "I&#39;m not sure if I understand your question correctly, the main difference and need for this usage lie under the difference between provides and binds annotations."}, {"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1607767839, "post_id": 54592300, "comment_id": 115379963, "body": "Oh sorry, I meant it seems to be it would be simpler if we just use @Provides for all types, remove the companion object. Sure, the functions with <code>@Binds</code> now need to be, for example <code>fun provideMessagesViewHolderBinder(binder: MessagesViewHolder.MessagesViewHolderBinder) = ViewHolderBinder()</code>, but this way we only have 1 line of code (excluding annotations) for each type."}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "reply_to_user": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1607789058, "post_id": 54592300, "comment_id": 115385675, "body": "actually, this depends on your project. in the project that I use the sample above, I have a map that holds view holder binders and view model factories with the given key. i only use one adapter for all recyclerviews and it gets the factory and binders from the map with the key. so I need that solution."}], "tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": false, "score": 6, "last_activity_date": 1549628200, "creation_date": 1549628200, "answer_id": 54592300, "question_id": 48386794, "link": "https://stackoverflow.com/questions/48386794/provides-and-binds-methods-in-same-class-kotlin/54592300#54592300", "title": "@Provides and @Binds methods in same class Kotlin", "body": "<p>Here's an example code to demonstrate how to use <code>Binds</code> and <code>Provides</code> annotated methods in a single <code>Kotlin class</code>:</p>\n\n<pre><code>@Module\nabstract class MessagesPresentationModule {\n\n    @Module\n    companion object {\n        const val MESSAGES = 0x00\n\n        @JvmStatic\n        @Provides\n        fun provideRecyclerAdapter(\n            itemComparator: DisplayItemComperator,\n            factoryMap: Map&lt;Int, ViewHolderFactory&gt;,\n            binderMap: Map&lt;Int, ViewHolderBinder&gt;,\n            androidPreconditions: AndroidPreconditions\n        ): RecyclerViewAdapter {\n            return RecyclerViewAdapter(\n                itemComperator = itemComparator,\n                viewHolderFactoryMap = factoryMap,\n                viewBinderFactoryMap = binderMap,\n                androidPreconditions = androidPreconditions\n            )\n        }\n    }\n\n    @Binds\n    @IntoMap\n    @IntKey(MESSAGES)\n    internal abstract fun provideMessagesViewModelFactory(factory: MessagesViewHolder.MessageViewHolderFactory): ViewHolderFactory\n\n    @Binds\n    @IntoMap\n    @IntKey(MESSAGES)\n    internal abstract fun provideMessagesViewHolderBinder(binder: MessagesViewHolder.MessagesViewHolderBinder): ViewHolderBinder\n}\n</code></pre>\n"}], "owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4406, "favorite_count": 5, "answer_count": 1, "score": 22, "last_activity_date": 1549628200, "creation_date": 1516640864, "last_edit_date": 1516644975, "question_id": 48386794, "link": "https://stackoverflow.com/questions/48386794/provides-and-binds-methods-in-same-class-kotlin", "title": "@Provides and @Binds methods in same class Kotlin", "body": "<p>After dagger 2.11 we can use a @Binds annotation and mark our Module as abstract in this case which is more efficient than a concrete.</p>\n\n<p>If my Module has both @Provides and @Binds methods, I have two options :</p>\n\n<ol>\n<li><p>Simplest would be to mark your @Provides instance methods as static.</p></li>\n<li><p>If it is necessary to keep them as instance methods, then you can\nsplit your module into two and extract out all the @Binds methods\ninto an abstract Module.</p></li>\n</ol>\n\n<p>The second option works fine in Java and Kotlin but the first option works fine in Java but I don't know how to implement the same in Kotlin. If I move @Provides method to Companion object it throw <code>Error:(30, 1) error: @Provides methods can only be present within a @Module or @ProducerModule</code>.\nHow can do this in Kotlin.</p>\n\n<p><strong>Second Option:</strong>(Working)</p>\n\n<p>ApplicationModule.kt</p>\n\n<pre><code>@Module(includes = [ApplicationModule.Declarations::class])\nabstract class ApplicationModule {\n    @Module\n    internal interface Declarations {\n        @Binds\n        fun bindContext(application: Application): Context\n    }\n\n    @Provides\n    @Singleton\n    fun provideMvpStarterService(): MvpStarterService {\n        return MvpStarterServiceFactory.makeStarterService()\n    }\n}\n</code></pre>\n\n<p><strong>First Option:</strong>(Not working)</p>\n\n<p>ApplicationModule.kt</p>\n\n<pre><code>@Module\nabstract class ApplicationModule {\n    //expose Application as an injectable context\n    @Binds\n    internal abstract fun bindContext(application: Application): Context\n\n    companion object {\n        @JvmStatic\n        @Provides\n        @Singleton\n        fun provideMvpStarterService(): MvpStarterService {\n            return MvpStarterServiceFactory.makeStarterService()\n        }\n    }\n}\n</code></pre>\n\n<p>Generated Java file for first option:</p>\n\n<pre><code>@kotlin.Metadata(mv = {1, 1, 9}, bv = {1, 0, 2}, k = 1, d1 = {\"\\u0000\\u001a\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0002\\b\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\b\\u0003\\b\\'\\u0018\\u0000 \\b2\\u00020\\u0001:\\u0001\\bB\\u0005\\u00a2\\u0006\\u0002\\u0010\\u0002J\\u0015\\u0010\\u0003\\u001a\\u00020\\u00042\\u0006\\u0010\\u0005\\u001a\\u00020\\u0006H!\\u00a2\\u0006\\u0002\\b\\u0007\\u00a8\\u0006\\t\"}, d2 = {\"Lio/mywebsie/di/ApplicationModule;\", \"\", \"()V\", \"bindContext\", \"Landroid/content/Context;\", \"application\", \"Landroid/app/Application;\", \"bindContext$app_debug\", \"Companion\", \"app_debug\"})\n@dagger.Module()\npublic abstract class ApplicationModule {\n    public static final io.mywebsie.di.ApplicationModule.Companion Companion = null;\n\n    @org.jetbrains.annotations.NotNull()\n    @dagger.Binds()\n    public abstract android.content.Context bindContext$app_debug(@org.jetbrains.annotations.NotNull()\n    android.app.Application application);\n\n    public ApplicationModule() {\n        super();\n    }\n\n    @org.jetbrains.annotations.NotNull()\n    @javax.inject.Singleton()\n    @dagger.Provides()\n    public static final io.mywebsie.data.remote.MvpStarterService provideMvpStarterService() {\n        return null;\n    }\n\n    @kotlin.Metadata(mv = {1, 1, 9}, bv = {1, 0, 2}, k = 1, d1 = {\"\\u0000\\u0012\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0002\\b\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\b\\u0086\\u0003\\u0018\\u00002\\u00020\\u0001B\\u0007\\b\\u0002\\u00a2\\u0006\\u0002\\u0010\\u0002J\\b\\u0010\\u0003\\u001a\\u00020\\u0004H\\u0007\\u00a8\\u0006\\u0005\"}, d2 = {\"Lio/mywebsie/di/ApplicationModule$Companion;\", \"\", \"()V\", \"provideMvpStarterService\", \"Lio/mywebsie/data/remote/MvpStarterService;\", \"app_debug\"})\n    public static final class Companion {\n\n        @org.jetbrains.annotations.NotNull()\n        @javax.inject.Singleton()\n        @dagger.Provides()\n        public final io.mywebsie.data.remote.MvpStarterService provideMvpStarterService() {\n            return null;\n        }\n\n        private Companion() {\n            super();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks to <strong>@David Medenjak</strong> the <a href=\"https://stackoverflow.com/a/44994441/1837367\">link</a> you provided in comment made everything clear I came across two ways to achieve the first option.</p>\n\n<p>Updated code:</p>\n\n<p><strong>First Option:</strong>(Working)</p>\n\n<p>ApplicationModule.kt</p>\n\n<pre><code>@Module(includes = [ApplicationModule.AModule::class])\nabstract class ApplicationModule {\n\n    @Binds\n    abstract fun bindContext(application: Application): Context\n\n    @Module\n    object AModule {\n        @JvmStatic\n        @Provides\n        @Singleton\n        fun provideMvpStarterService(): MvpStarterService {\n            return MvpStarterServiceFactory.makeStarterService()\n        }\n    }\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@Module\nabstract class ApplicationModule {\n    @Binds\n    abstract fun bindContext(application: Application): Context\n\n    @Module\n    companion object {\n        @Provides\n        @Singleton\n        fun provideMvpStarterService(): MvpStarterService {\n            return MvpStarterServiceFactory.makeStarterService()\n        }\n    }\n}\n</code></pre>\n\n<p>Both works just fine but for some reason the first option does not look appealing to me so I prefer the second option. </p>\n"}, {"tags": ["android", "kotlin", "android-tablayout", "android-databinding"], "comments": [{"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1531807698, "post_id": 48386039, "comment_id": 89719957, "body": "would be good if you included your layout xml as well."}], "owner": {"reputation": 43, "user_id": 1558481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b177abc82a2ebfdc4f7a5afe957a4c58?s=128&d=identicon&r=PG", "display_name": "Janderson Almeida", "link": "https://stackoverflow.com/users/1558481/janderson-almeida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1182, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1516638116, "creation_date": 1516638116, "last_edit_date": 1592644375, "question_id": 48386039, "link": "https://stackoverflow.com/questions/48386039/how-to-use-tab-layout-with-the-data-binding-library-and-kotlin", "title": "How to use Tab layout with the data binding library and Kotlin", "body": "<p>I'm trying to use Tab Layout + Android Data Binding Library in a Kotlin project, but I'm not succeeding.</p>\n<p>Please tell me what I'm doing wrong?</p>\n<p>This is mine Activity:</p>\n<pre><code>class WoActivity : BaseActivity()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val binding = DataBindingUtil.setContentView(this, R.layout.activity_wo) as ActivityWoBinding\n\n        binding.wo = WorkOrder()\n\n        setSupportActionBar(binding.toolbar)\n        supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n        binding.setHandler(this);\n        binding.setManager(getSupportFragmentManager());\n\n    }\n\n    companion object {\n        @BindingAdapter(&quot;handler&quot;) @JvmStatic\n        fun bindViewPagerAdapter(view: ViewPager, activity: WoActivity) {\n            val adapter = WOPagerAdapter(activity.supportFragmentManager)\n            adapter.addFragment(WoTabWoFragment.newInstance(), view.context.getString(R.string.work_order))\n            adapter.addFragment(WoTabScheFragment.newInstance(), view.context.getString(R.string.scheduling))\n            view.adapter = adapter\n        }\n\n        @BindingAdapter(&quot;pager&quot;) @JvmStatic\n        fun bindViewPagerTabs(view: TabLayout, pagerView: ViewPager) {\n            view.setupWithViewPager(pagerView, true)\n        }\n    }\n}\n</code></pre>\n<p>And this is the final result: A empty tab without touch effects\n<a href=\"https://i.stack.imgur.com/2EaIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2EaIS.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "infinite-scroll"], "answers": [{"comments": [{"owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "edited": false, "score": 0, "creation_date": 1516651684, "post_id": 48385286, "comment_id": 83766589, "body": "where do you define these methods? If I add this into my MainAct. into the onCreate function, <code>get</code>, <code>linearLayoutManager</code>, <code>LOG_TAG</code>, <code>chatRecycler</code>, <code>recycler</code> and <code>scrollListener</code> are either undefined  or cant be resolved. Where are the xml files?"}, {"owner": {"reputation": 331, "user_id": 2481783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZKzU.jpg?s=128&g=1", "display_name": "Leonardo Medori", "link": "https://stackoverflow.com/users/2481783/leonardo-medori"}, "reply_to_user": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "edited": false, "score": 0, "creation_date": 1516683558, "post_id": 48385286, "comment_id": 83776563, "body": "@hansTheFranz I edited my code, sorry for the misprint, chatRecycler and recyler are the same RecyclerView, LOG_TAG is a string for logging purpose, I also added the declaration of scrollListener. linearLayoutManager is the layoutmanager you have to set to the recyclerview and get() is the getter for lastVisibleItemPosition variable."}, {"owner": {"reputation": 198, "user_id": 1769177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f80f2e6dc7de8cde4c9d515e483f819d?s=128&d=identicon&r=PG", "display_name": "Rod", "link": "https://stackoverflow.com/users/1769177/rod"}, "edited": false, "score": 0, "creation_date": 1568388238, "post_id": 48385286, "comment_id": 102270341, "body": "Thanks for this piece of code, @LeonardoMedori.  Can I ask you why you have this next line in your code? <code>recycler.removeOnScrollListener(scrollListener)</code>"}, {"owner": {"reputation": 331, "user_id": 2481783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZKzU.jpg?s=128&g=1", "display_name": "Leonardo Medori", "link": "https://stackoverflow.com/users/2481783/leonardo-medori"}, "reply_to_user": {"reputation": 198, "user_id": 1769177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f80f2e6dc7de8cde4c9d515e483f819d?s=128&d=identicon&r=PG", "display_name": "Rod", "link": "https://stackoverflow.com/users/1769177/rod"}, "edited": false, "score": 0, "creation_date": 1568792588, "post_id": 48385286, "comment_id": 102382873, "body": "@Rod I remove the scrollListener and I add it again after I finished updating the list. If I don&#39;t remove the listener the onScrollStateChanged method is called many times and (totalItemCount == lastVisibleItemPosition + 1) condition can be true more than once. So instead of having a boolean for checking if the list is updated I remove the listener, make a call, update the list and than add the listener again."}], "tags": [], "owner": {"reputation": 331, "user_id": 2481783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZKzU.jpg?s=128&g=1", "display_name": "Leonardo Medori", "link": "https://stackoverflow.com/users/2481783/leonardo-medori"}, "is_accepted": false, "score": 12, "last_activity_date": 1535090206, "last_edit_date": 1535090206, "creation_date": 1516635788, "answer_id": 48385286, "question_id": 48384805, "link": "https://stackoverflow.com/questions/48384805/endless-scroll-kotlin-recycling-view-listview/48385286#48385286", "title": "Endless scroll kotlin recycling view/ListView", "body": "<p>I use this method for adding endless scroll functionality to a recyclerview in Kotlin:</p>\n\n<pre><code>private fun setRecyclerViewScrollListener() {\n    scrollListener = object : RecyclerView.OnScrollListener() {\n        override fun onScrollStateChanged(recyclerView: RecyclerView?, newState: Int) {\n            super.onScrollStateChanged(recyclerView, newState)\n            val totalItemCount = recyclerView!!.layoutManager.itemCount\n            if (totalItemCount == lastVisibleItemPosition + 1) {\n                Log.d(\"MyTAG\", \"Load new list\")\n                recycler.removeOnScrollListener(scrollListener)\n            }\n        }\n    }\n    recycler.addOnScrollListener(scrollListener)\n}\n</code></pre>\n\n<p>the variable lastVisibleItemPosition is declared as follows:</p>\n\n<p><code>private val lastVisibleItemPosition: Int\n        get() = linearLayoutManager.findLastVisibleItemPosition()</code></p>\n\n<pre><code>private lateinit var scrollListener: RecyclerView.OnScrollListener\n</code></pre>\n\n<p>Just call the <code>setRecyclerViewScrollListener()</code> method every time you nedd to add this functionality to the recyclerView.</p>\n\n<p>Hope it helps,</p>\n\n<p>Leonardo</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user14037396"}, "is_accepted": false, "score": 1, "last_activity_date": 1596375008, "creation_date": 1596375008, "answer_id": 63216582, "question_id": 48384805, "link": "https://stackoverflow.com/questions/48384805/endless-scroll-kotlin-recycling-view-listview/63216582#63216582", "title": "Endless scroll kotlin recycling view/ListView", "body": "<p>set in recycler view in scroll listener</p>\n<pre><code> recycler.addOnScrollListener(your listener)\n</code></pre>\n"}], "owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19351, "favorite_count": 4, "answer_count": 2, "score": 8, "last_activity_date": 1596375008, "creation_date": 1516634250, "question_id": 48384805, "link": "https://stackoverflow.com/questions/48384805/endless-scroll-kotlin-recycling-view-listview", "title": "Endless scroll kotlin recycling view/ListView", "body": "<p>I am desperately trying to implement endless scrolling on an android app using kotlin. All the tutorials are either useless since they dont explain things properly. So for example:\n<a href=\"https://github.com/chetdeva/recyclerview-bindings\" rel=\"noreferrer\">https://github.com/chetdeva/recyclerview-bindings</a> </p>\n\n<p>it looks promising but the author uses phrases like \n\"put this in your BindingAdapter\" so i look what this <code>BindingAdapter</code> is, I found a java file but if you insert anything in there I get errors. Its like anything I try fails directly. </p>\n\n<p>The other tutorials are written in java and even with \"translate to kotlin\" option its useless since the translated code throws 100 errors. </p>\n\n<p>I tried things like :</p>\n\n<pre><code>setContentView(R.layout.activity_main)\n    list.layoutManager = LinearLayoutManager(this)\n    list.hasFixedSize()\n    list.adapter = ListAdapter(this, getLists())\n    val list_view: RecyclerView = findViewById(R.id.list)\n    fun setRecyclerViewScrollListener() {\n        list_view.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n            override fun onScrolled(recyclerView: RecyclerView?, dx: Int, dy: Int) {\n                val height = list_view.getHeight()\n\n                val diff = height-dy\n                if (diff &lt; 1000){\n                    /*load next list */\n                }\n            }\n        })\n    }\n    setRecyclerViewScrollListener()\n}\n</code></pre>\n\n<p>or this </p>\n\n<pre><code>val inflater = LayoutInflater.from(this@MainActivity)\nval layout = inflater.inflate(R.layout.append_list, null, false)\nbutton.setOnClickListener{screen.addView(layout)}\n</code></pre>\n\n<p>Is there a bullet proof method where you can simply append elemets like with html and js? I wrote this snippet in 2 min. Is there a similar \"easy\" way in Android/Kotlin? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#next\").click(function(){\r\n  $(\".append_text\").append(\"new text &lt;img src='http://static.webshopapp.com/shops/015426/files/005031634/560x625x2/kek-amsterdam-wandtattoo-hase-forest-friends-braun.jpg'/&gt;\")\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button id=\"next\"&gt;Load&lt;/button&gt;\r\n\r\n&lt;span class=\"append_text\"&gt; &lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In general I recive a lot of errors for choosing the wrong Layout. I tried Listview and contrainlayout and recycling Layout and Vertical Scrolling layout and so on. Is there a simple body tag where you can simply append a xml file?</p>\n\n<p>I think I go the wrong way the whole time because I see everything though the eyes of a Web. Dev. while android does not have the classical DOM. Can anybody explain it to me with an minimal example on how to append a xml file to the main xml file on button click/on scroll?</p>\n"}, {"tags": ["arrays", "string", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 8, "last_activity_date": 1516634426, "last_edit_date": 1516634426, "creation_date": 1516634025, "answer_id": 48384729, "question_id": 48384639, "link": "https://stackoverflow.com/questions/48384639/how-to-reduce-a-string-array-to-int-value-length-of-the-shortest-element/48384729#48384729", "title": "How to reduce a string array to int value (length of the shortest element)", "body": "<p>Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-by.html\" rel=\"nofollow noreferrer\">minBy</a></p>\n\n<pre><code>val a = arrayOf(\"a\", \"abc\", \"b\")\nval s = a.minBy(String::length)?.length ?: 0\n</code></pre>\n\n<p>s will be 1.</p>\n"}, {"tags": [], "owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "is_accepted": false, "score": 4, "last_activity_date": 1516688155, "last_edit_date": 1516688155, "creation_date": 1516634310, "answer_id": 48384823, "question_id": 48384639, "link": "https://stackoverflow.com/questions/48384639/how-to-reduce-a-string-array-to-int-value-length-of-the-shortest-element/48384823#48384823", "title": "How to reduce a string array to int value (length of the shortest element)", "body": "<p>Another approach is to <code>map</code> strings to their <code>length</code> and then choose the smallest number:</p>\n\n<pre><code>val strs = arrayOf(\"abc\", \"ab\", \"ab\")\nval min = strs.map(String::length).min()\n</code></pre>\n"}], "owner": {"reputation": 2652, "user_id": 2564509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee271c732af6e0cfb7ae33d2c277b4d?s=128&d=identicon&r=PG", "display_name": "djm.im", "link": "https://stackoverflow.com/users/2564509/djm-im"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 48384729, "answer_count": 2, "score": 0, "last_activity_date": 1517674531, "creation_date": 1516633740, "last_edit_date": 1517674531, "question_id": 48384639, "link": "https://stackoverflow.com/questions/48384639/how-to-reduce-a-string-array-to-int-value-length-of-the-shortest-element", "title": "How to reduce a string array to int value (length of the shortest element)", "body": "<p>I have a String array and I need to find what is the length of the shortest string. For example, for this string array <code>[\"abc\", \"ab\", \"a\"]</code> I should get value <code>1</code>.</p>\n\n<p>I wrote method that gets a string array and returns int value </p>\n\n<pre><code>val minLength = fun(strs: Array&lt;String&gt;): Int {\n    var minLength = strs[0].length\n    for (index in 1..strs.size - 1) {\n        val elemLen = strs[index].length\n        if (minLength &gt; elemLen) {\n            minLength = elemLen\n        }\n    }\n    return minLength\n}\n</code></pre>\n\n<p>Another approach is to use <code>reduce</code> method</p>\n\n<pre><code>val minLengthReduce = strs.reduce ({\n    str1, str2 -&gt;\n    if (str1.length &lt; str2.length) str1 else str2\n}).length\n</code></pre>\n\n<p>Is it possible to get int value directly from <code>reduce()</code> method instead string value?  </p>\n\n<p>I found this <a href=\"https://stackoverflow.com/questions/44429419/what-is-basic-difference-between-fold-and-reduce-in-kotlin-when-to-use-which/44429568\">question</a> about <code>reduce</code> and <code>fold</code> methods. </p>\n\n<p>Should I use fold method instead reduce?</p>\n"}, {"tags": ["reflection", "types", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4233843, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/54144656dc4e85b771f04080e3cb5904?s=128&d=identicon&r=PG", "display_name": "Allan Ara&#250;jo", "link": "https://stackoverflow.com/users/4233843/allan-ara%c3%bajo"}, "edited": false, "score": 0, "creation_date": 1516630349, "post_id": 48383442, "comment_id": 83753814, "body": "That&#39;s a progress. property.returnType returns me a KType. How can I check, for example if I want to check it againist a String, if that KType is a String, or get the String KType? &#39;is&#39; doesn&#39;t work, equals neither."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1541506226, "post_id": 48383442, "comment_id": 93232866, "body": "Instead of using <code>createType()</code>, you can use <code>property.returnType.classifier as? KClass</code>."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "reply_to_user": {"reputation": 123, "user_id": 4233843, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/54144656dc4e85b771f04080e3cb5904?s=128&d=identicon&r=PG", "display_name": "Allan Ara&#250;jo", "link": "https://stackoverflow.com/users/4233843/allan-ara%c3%bajo"}, "edited": false, "score": 0, "creation_date": 1546371628, "post_id": 48383442, "comment_id": 94833847, "body": "@AllanAra&#250;jo you or others have read this might encounter interesting use case for nullable properties inside your data class.   Since the KType parameter will return not-nullable type, you have to this:   1. <code>property.type == Any::class.[createType()|startProjectedType].withNullability&zwnj;&#8203;(true)</code>   <i><b>Ref</b>:</i> <a href=\"https://discuss.kotlinlang.org/t/getting-the-ktype-of-a-nullable-type/2220\" rel=\"nofollow noreferrer\">nullable KType</a>, or <a href=\"https://stackoverflow.com/a/35946841/3763032\">Build custom method nullable check for ur data class or use javaType</a>"}], "tags": [], "owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "is_accepted": true, "score": 11, "last_activity_date": 1516632209, "last_edit_date": 1516632209, "creation_date": 1516630074, "answer_id": 48383442, "question_id": 48383153, "link": "https://stackoverflow.com/questions/48383153/check-type-of-member-property/48383442#48383442", "title": "Check type of member/property", "body": "<p>Since Kotlin does not have fields but only properties with backing fields, you should check the return type of the property.</p>\n\n<p>Try this:</p>\n\n<pre><code>    class SomeClass(val aThing: String, val otherThing: Double)\n\n    for(property in SomeClass::class.declaredMemberProperties) {\n        println(\"${property.name} ${property.returnType}\")\n    }\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If the class does not use custom getters and/or setters without backing fields, you can get the type of the backing field like this:</p>\n\n<pre><code>property.javaField?.type\n</code></pre>\n\n<p>As a complete example, here is your class with an additional val property called foo with a custom getter (so no backing field is created). You will see that getJavaField() of that property will return null.</p>\n\n<pre><code>    class SomeClass(val aThing: String, val otherThing: Double) {\n        val foo : String\n            get() = \"foo\"\n    }\n\n    for(property in SomeClass::class.declaredMemberProperties) {\n        println(\"${property.name} ${property.returnType} ${property.javaField?.type}\")\n    }\n</code></pre>\n\n<p><strong>UPDATE2:</strong></p>\n\n<p>Using <code>String::class.createType()</code> will return the KType for every KClass, so you can use e.g. <code>property.returnType == String::class.createType()</code> to find out if it's a (kotlin) String.</p>\n"}], "owner": {"reputation": 123, "user_id": 4233843, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/54144656dc4e85b771f04080e3cb5904?s=128&d=identicon&r=PG", "display_name": "Allan Ara&#250;jo", "link": "https://stackoverflow.com/users/4233843/allan-ara%c3%bajo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3101, "favorite_count": 1, "accepted_answer_id": 48383442, "answer_count": 1, "score": 7, "last_activity_date": 1516649380, "creation_date": 1516629099, "last_edit_date": 1516649077, "question_id": 48383153, "link": "https://stackoverflow.com/questions/48383153/check-type-of-member-property", "title": "Check type of member/property", "body": "<p>Let's say i have any class, like this one:</p>\n\n<pre><code>class SomeClass(val aThing: String, val otherThing: Double)\n</code></pre>\n\n<p>Then I use reflection to analyze the fields of this class:</p>\n\n<pre><code>for(field in SomeClass.declaredMemberProperties){\n\n}\n</code></pre>\n\n<p>How can I check the type of each field?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 4, "last_activity_date": 1516627099, "last_edit_date": 1516627099, "creation_date": 1516626700, "answer_id": 48382378, "question_id": 48382270, "link": "https://stackoverflow.com/questions/48382270/is-possible-to-change-dynamically-method-for-an-instance/48382378#48382378", "title": "Is possible to change dynamically method for an instance?", "body": "<h1>What you can do</h1>\n\n<pre><code>class C {\n    var example:()-&gt;String = this::toString\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val c = C()\n    println(c.example())\n    c.example = {\"ABCDEF\"}\n    println(c.example())\n}\n</code></pre>\n\n<h1>Limitations</h1>\n\n<p>Although this works for swapping fields, you cannot use it to override methods. This can be worked around by defining the method to invoke the field.</p>\n\n<pre><code>class C {\n    var example:()-&gt;String = {\"ABC\"}\n\n    override fun toString() = example()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val c = C()\n    println(c)\n    c.example = {\"DEF\"}\n    println(c)\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ABC\nDEF\n</code></pre>\n"}], "owner": {"reputation": 2403, "user_id": 4805412, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/29393e9cd0c3e706af924e3944c75016?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Hanpari", "link": "https://stackoverflow.com/users/4805412/pavel-hanpari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 48382378, "answer_count": 1, "score": 1, "last_activity_date": 1516627099, "creation_date": 1516626337, "question_id": 48382270, "link": "https://stackoverflow.com/questions/48382270/is-possible-to-change-dynamically-method-for-an-instance", "title": "Is possible to change dynamically method for an instance?", "body": "<p>I wrote down this code:</p>\n\n<pre><code>open class Test(){\n    override fun toString(): String {\n        return \"This is test!\"\n    }\n}\n\n\nfun createTestX(): Test {\n    return object : Test() {\n        override fun toString(): String {\n            return super.toString() + \"XXX\"\n        }\n    }\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val x = createTestX()\n    println(x)\n}\n</code></pre>\n\n<p>It works as expected but I am curious whether is it possible to change method of instance using for  example lambda like this:</p>\n\n<pre><code>val x = Test()\nx.toString = () -&gt; x.toString() + \"XXX\"\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1516633266, "creation_date": 1516633266, "answer_id": 48384488, "question_id": 48382101, "link": "https://stackoverflow.com/questions/48382101/extending-datainputstream-in-kotlin/48384488#48384488", "title": "extending DataInputStream in kotlin", "body": "<p>Strictly speaking, you can't, because it's accessible by a <code>protected</code> field which isn't visible to an extension method. But using <code>this</code> instead of <code>inp</code> should work because <code>LittleEndian.read</code> methods will call <code>read</code> on the <code>DataInputStream</code> which will delegate to <code>in.read</code>.</p>\n"}], "owner": {"reputation": 323, "user_id": 856964, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a15576804c4b8776b9324003298178e5?s=128&d=identicon&r=PG", "display_name": "francesc", "link": "https://stackoverflow.com/users/856964/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 48384488, "answer_count": 1, "score": 1, "last_activity_date": 1516633266, "creation_date": 1516625698, "question_id": 48382101, "link": "https://stackoverflow.com/questions/48382101/extending-datainputstream-in-kotlin", "title": "extending DataInputStream in kotlin", "body": "<p>I've subclassed DataInputStream and added little-endian methods. Observe that I add a new <code>inp</code> property that represents the original <code>InputStream</code>. I need to reference this property in the new methods. The following code works fine:</p>\n\n<pre><code>import java.io.*\nimport org.apache.poi.util.*\n\nclass MyDataInputStream(val inp: InputStream) : DataInputStream(inp) {\n\n    fun readShortLittle(): Short {\n        val r: Short\n        try {\n            r = LittleEndian.readShort(inp)\n        } catch (e: LittleEndian.BufferUnderrunException) {\n            throw EOFException()\n        }\n        return r\n    }\n\n    fun readIntLittle(): Int {\n        val r: Int\n        try {\n            r = LittleEndian.readInt(inp)\n        } catch (e: LittleEndian.BufferUnderrunException) {\n            throw EOFException()\n        }\n        return r\n    }\n\n    fun readLongLittle(): Long {\n        val r: Long\n        try {\n            r = LittleEndian.readLong(inp)\n        } catch (e: LittleEndian.BufferUnderrunException) {\n            throw EOFException()\n        }\n        return r\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    var i: Int\n    val inp = MyDataInputStream(System.`in`)\n    while (true) {\n        // llegir int en binari si EOF break\n        try {\n            i = inp.readIntLittle()\n        } catch (e: EOFException) {\n            break\n        }\n        println(i);\n    }\n}\n</code></pre>\n\n<p>However I wonder how to do this with extension methods such as:</p>\n\n<pre><code>fun DataInputStream.readShortLittle(): Short {\n    ...\n}\n\nfun DataInputStream.readIntLittle(): Int {\n    ....\n}\n\nfun DataInputStream.readLongLittle(): Long {\n    ....\n}\n</code></pre>\n\n<p>I've problems when defining the new <code>inp</code> property.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1516625258, "post_id": 48381902, "comment_id": 83750524, "body": "Wait for <code>onServiceConnected</code>?"}, {"owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1516625967, "post_id": 48381902, "comment_id": 83750991, "body": "@Michael I can use Broadcast Receiver and execute <code>service = serviceConnection.serviceBinder?.getService() as BluetoothService</code> when I get an intent but I&#39;m looking for the solutions that make use of coroutines (if that&#39;s possible)."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516629119, "post_id": 48381902, "comment_id": 83752980, "body": "You should integrate coroutines with <code>onServiceConnected()</code>."}, {"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "edited": false, "score": 0, "creation_date": 1564790949, "post_id": 48381902, "comment_id": 101158713, "body": "I made an open source example that binds to a service using coroutines, and handles the edge cases like app being updated, or not installed: <a href=\"https://github.com/Beepiz/beepiz-external-control\" rel=\"nofollow noreferrer\">github.com/Beepiz/beepiz-external-control</a>  It&#39;d make quite a lengthy response. People, feel free to make a proper response from snippets found in that project (licensed under Apache 2, only need to mention it)."}], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 1486541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dff8a2e9d17c318e00590aa66d88c37?s=128&d=identicon&r=PG", "display_name": "lincolnq", "link": "https://stackoverflow.com/users/1486541/lincolnq"}, "is_accepted": true, "score": 5, "last_activity_date": 1539019665, "creation_date": 1539019665, "answer_id": 52707325, "question_id": 48381902, "link": "https://stackoverflow.com/questions/48381902/wait-for-service-to-be-bound-using-coroutines/52707325#52707325", "title": "Wait for service to be bound using coroutines", "body": "<p>I wrote this just now, and haven't tried it, but hopefully something like it could work. The magic is in <code>suspendCoroutine</code>, which pauses the current coroutine and then gives you a continuation thingy you can use to resume it later. In our case we resume it when the onServiceConnected is called.</p>\n\n<pre><code>// helper class which holds data\nclass BoundService(\n        private val context: Context,\n        val name: ComponentName?, \n        val service: IBinder?, \n        val conn: ServiceConnection) {\n    fun unbind() {\n        context.unbindService(conn)\n    }\n}\n\n// call within a coroutine to bind service, waiting for onServiceConnected\n// before the coroutine resumes\nsuspend fun bindServiceAndWait(context: Context, intent: Intent, flags: Int) = suspendCoroutine&lt;BoundService&gt; { continuation -&gt;\n\n\n    val conn = object: ServiceConnection {\n        override fun onServiceConnected(name: ComponentName?, service: IBinder?) {\n            continuation.resume(BoundService(context, name, service, this))\n        }\n        override fun onServiceDisconnected(name: ComponentName?) {\n            // ignore, not much we can do\n        }\n\n    }\n    context.bindService(intent, conn, flags)\n}\n\n// just an example\nsuspend fun exampleUsage() {\n    val bs = bindServiceAndWait(context, intent, Context.BIND_AUTO_CREATE)\n    try {\n        // ...do something with bs.service...\n    } finally {\n        bs.unbind()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7769067, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e546c59fb85eca735f30f6265e18244f?s=128&d=identicon&r=PG&f=1", "display_name": "dawzaw", "link": "https://stackoverflow.com/users/7769067/dawzaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1404, "favorite_count": 1, "accepted_answer_id": 52707325, "answer_count": 1, "score": 5, "last_activity_date": 1539019665, "creation_date": 1516625038, "question_id": 48381902, "link": "https://stackoverflow.com/questions/48381902/wait-for-service-to-be-bound-using-coroutines", "title": "Wait for service to be bound using coroutines", "body": "<p>So I have a method that binds to the service.</p>\n\n<pre><code>fun bindService() {\n        val intent = Intent(this, BluetoothService::class.java)\n        bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE)\n    }\n</code></pre>\n\n<p>Inside onCreate method I use this code:</p>\n\n<pre><code> bindService()\n        launch {\n            delay(500L)\n            service = serviceConnection.serviceBinder?.getService() as BluetoothService\n        }\n</code></pre>\n\n<p>Is there more elegant way to wait for the service to be bound than using <code>delay()</code>? </p>\n"}, {"tags": ["android", "kotlin", "location"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 3, "creation_date": 1516622872, "post_id": 48381155, "comment_id": 83748990, "body": "<i>How come?!</i>  It is obvious ... take a look at source of setExtras in Location class ... then check if Bundle have overrided equals ..."}, {"owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1516713721, "post_id": 48381155, "comment_id": 83793667, "body": "Yeah, silly indeed. Though they ought to document it."}], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "is_accepted": false, "score": 0, "last_activity_date": 1516714436, "creation_date": 1516714436, "answer_id": 48403033, "question_id": 48381155, "link": "https://stackoverflow.com/questions/48381155/android-location-extras-not-set/48403033#48403033", "title": "Android location extras not set", "body": "<p>As @Selvin mentioned, in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/location/java/android/location/Location.java\" rel=\"nofollow noreferrer\">The sources of Location.java</a> </p>\n\n<pre><code>public void setExtras(Bundle extras) {\n    mExtras = (extras == null) ? null : new Bundle(extras);\n}\n</code></pre>\n\n<p>That makes it equivalent to </p>\n\n<pre><code>val l = Location(\"SRC\")\nval x = Bundle(x)\nl.extras = x // means l.extras = Bundle(x) = Bundle(Bundle(x))\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Bundle(x) != x\n</code></pre>\n\n<p>Ought to </p>\n\n<pre><code>Bundle().let{location.extras=it; location.extras}.setBoolean(...)\n</code></pre>\n\n<p>That would retrieve back the right instance to be edited. <em>Be careful with one-liner challenges.</em></p>\n"}], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516714436, "creation_date": 1516622485, "question_id": 48381155, "link": "https://stackoverflow.com/questions/48381155/android-location-extras-not-set", "title": "Android location extras not set", "body": "<p>Strange issue with location bundles:\nAt some point, location.extras not accepting assignments</p>\n\n<pre><code>val l=Location(\"SRC\")\nval x = Bundle()\nl.extras = x\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>l.extras == x \n</code></pre>\n\n<p>returns <strong>false!</strong></p>\n\n<p>How come?! </p>\n\n<p>Consequently, </p>\n\n<pre><code>Bundle().also{location.extras=it}.putBoolean(\"Foo\", false)\n</code></pre>\n\n<p>creates location.extras with an empty bundle.</p>\n\n<p>Why? Any reasonable explanation?</p>\n"}, {"tags": ["java", "spring", "spring-mvc", "kotlin", "tomcat8"], "comments": [{"owner": {"reputation": 4638, "user_id": 2893693, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Uft9O.jpg?s=128&g=1", "display_name": "J J", "link": "https://stackoverflow.com/users/2893693/j-j"}, "edited": false, "score": 0, "creation_date": 1516621609, "post_id": 48380815, "comment_id": 83748176, "body": "Can you provide the application startup logs?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 4638, "user_id": 2893693, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Uft9O.jpg?s=128&g=1", "display_name": "J J", "link": "https://stackoverflow.com/users/2893693/j-j"}, "edited": false, "score": 0, "creation_date": 1516621746, "post_id": 48380815, "comment_id": 83748251, "body": "ok, I have added the log"}, {"owner": {"reputation": 1422, "user_id": 5333879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d49ec5df77fa4adccabaf54d7b8f434?s=128&d=identicon&r=PG&f=1", "display_name": "borino", "link": "https://stackoverflow.com/users/5333879/borino"}, "edited": false, "score": 0, "creation_date": 1516624029, "post_id": 48380815, "comment_id": 83749710, "body": "You configuring Spring by <code>&#47;WEB-INF&#47;applicationContext.xml</code> please attach it."}, {"owner": {"reputation": 1422, "user_id": 5333879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d49ec5df77fa4adccabaf54d7b8f434?s=128&d=identicon&r=PG&f=1", "display_name": "borino", "link": "https://stackoverflow.com/users/5333879/borino"}, "edited": false, "score": 0, "creation_date": 1516624162, "post_id": 48380815, "comment_id": 83749805, "body": "check the answer <a href=\"https://stackoverflow.com/questions/8075790/how-to-register-spring-configuration-annotated-class-instead-of-applicationcont\" title=\"how to register spring configuration annotated class instead of applicationcont\">stackoverflow.com/questions/8075790/&hellip;</a>"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1516624276, "post_id": 48380815, "comment_id": 83749880, "body": "updated and added applicationContext.xml file content, project works as expected for another machine"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5164886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JGw-wppJkJY/AAAAAAAAAAI/AAAAAAAADE8/bcP2cjb8lIc/photo.jpg?sz=128", "display_name": "prem kumar", "link": "https://stackoverflow.com/users/5164886/prem-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1516624274, "creation_date": 1516624274, "answer_id": 48381688, "question_id": 48380815, "link": "https://stackoverflow.com/questions/48380815/controller-not-invoked-in-spring-mvc-application/48381688#48381688", "title": "Controller not invoked in spring-mvc application", "body": "<p>In c turbo compiler first compile the code with zero error which is visible by pressing f9 then press ctrl+f9 for output then press alt+f5 the result will be visible on prompt window.</p>\n"}, {"tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": true, "score": 1, "last_activity_date": 1516868077, "creation_date": 1516868077, "answer_id": 48438332, "question_id": 48380815, "link": "https://stackoverflow.com/questions/48380815/controller-not-invoked-in-spring-mvc-application/48438332#48438332", "title": "Controller not invoked in spring-mvc application", "body": "<p>I have fixed the problem, I just saw my artifacts and I have changed <code>war</code> artifact with <code>exploded</code>, now everything works fine.</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 48438332, "answer_count": 2, "score": 2, "last_activity_date": 1516868077, "creation_date": 1516621391, "last_edit_date": 1516624124, "question_id": 48380815, "link": "https://stackoverflow.com/questions/48380815/controller-not-invoked-in-spring-mvc-application", "title": "Controller not invoked in spring-mvc application", "body": "<p>I have a strange flow, when I'm trying to start the spring-mvc project, everything were building and starting correctly with <code>localhost:8080</code> address, but it shows Apache Tomcat home page only and every request for example <code>localhost:8080/login</code> displays <code>HTTP Status 404 \u2013 Not Found</code> <code>description:The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</code> Strange here is that, when I'm trying to run same project in another machine (Ubuntu) it works perfectly, login page appears correctly and every requests works fine. Strange thing also here is that, this unexpected flow came first time for this machine.</p>\n\n<pre><code>tomcat version is 8.5.24\n</code></pre>\n\n<p>this is my <code>dispatcher-servlet.xml</code></p>\n\n<pre><code> &lt;!DOCTYPE web-app PUBLIC\n \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n \"http://java.sun.com/dtd/web-app_2_3.dtd\" &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>here is <code>applicationContext.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.awesome\"/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And here is my configuration class</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.awesome\")\n@EnableWebMvc\nopen class AppConfig : WebMvcConfigurerAdapter() {\n\n@Bean\nopen fun viewResolver(): InternalResourceViewResolver {\n    val internalResourceViewResolver = InternalResourceViewResolver()\n    internalResourceViewResolver.setSuffix(\".jsp\")\n    internalResourceViewResolver.setPrefix(\"/\")\n    return internalResourceViewResolver\n}\n\noverride fun configureDefaultServletHandling(configurer: DefaultServletHandlerConfigurer?) {\n    configurer?.enable()\n    }\n }\n</code></pre>\n\n<p>And here is controller</p>\n\n<pre><code>@Controller\nclass HomeController {\n\n@RequestMapping(\"/\", method = [(RequestMethod.GET)])\nfun displayLoginPage(): String {\n    return \"login\"\n}\n\n@RequestMapping(\"/login\", method = [(RequestMethod.POST)])\nfun login(@RequestParam user_name:String, @RequestParam password: String, modelMap: ModelMap): String {\n    return \"main\"\n    }\n}\n</code></pre>\n\n<p>and here is startup log</p>\n\n<pre><code>    \"C:\\Program Files\\apache-tomcat-8.5.24\\bin\\catalina.bat\" run\n[2018-01-22 03:18:25,411] Artifact Wall5:war: Waiting for server connection to start artifact deployment...\nUsing CATALINA_BASE:   \"C:\\Users\\dev--\\.IntelliJIdea2017.3\\system\\tomcat\\Unnamed_Wall5\"\nUsing CATALINA_HOME:   \"C:\\Program Files\\apache-tomcat-8.5.24\"\nUsing CATALINA_TMPDIR: \"C:\\Program Files\\apache-tomcat-8.5.24\\temp\"\nUsing JRE_HOME:        \"C:\\Program Files\\Java\\jdk1.8.0_144\"\nUsing CLASSPATH:       \"C:\\Program Files\\apache-tomcat-8.5.24\\bin\\bootstrap.jar;C:\\Program Files\\apache-tomcat-8.5.24\\bin\\tomcat-juli.jar\"\n22-Jan-2018 15:18:26.852 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.5.24\n22-Jan-2018 15:18:26.854 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Nov 27 2017 13:05:30 UTC\n22-Jan-2018 15:18:26.854 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.5.24.0\n22-Jan-2018 15:18:26.854 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Windows 10\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.0\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             C:\\Program Files\\Java\\jdk1.8.0_144\\jre\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_144-b01\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Users\\dev--\\.IntelliJIdea2017.3\\system\\tomcat\\Unnamed_Wall5\n22-Jan-2018 15:18:26.855 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\Program Files\\apache-tomcat-8.5.24\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=C:\\Users\\dev--\\.IntelliJIdea2017.3\\system\\tomcat\\Unnamed_Wall5\\conf\\logging.properties\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.authenticate=false\n22-Jan-2018 15:18:26.857 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Users\\dev--\\.IntelliJIdea2017.3\\system\\tomcat\\Unnamed_Wall5\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\Program Files\\apache-tomcat-8.5.24\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=C:\\Program Files\\apache-tomcat-8.5.24\\temp\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent Loaded APR based Apache Tomcat Native library [1.2.16] using APR version [1.6.3].\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\n22-Jan-2018 15:18:26.858 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]\n22-Jan-2018 15:18:27.854 INFO [main] org.apache.catalina.core.AprLifecycleListener.initializeSSL OpenSSL successfully initialized [OpenSSL 1.0.2m  2 Nov 2017]\n22-Jan-2018 15:18:28.547 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n22-Jan-2018 15:18:28.563 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n22-Jan-2018 15:18:28.569 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"ajp-nio-8009\"]\n22-Jan-2018 15:18:28.571 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n22-Jan-2018 15:18:28.571 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 2114 ms\n22-Jan-2018 15:18:28.596 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n22-Jan-2018 15:18:28.596 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.24\n22-Jan-2018 15:18:28.625 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [\"http-nio-8080\"]\n22-Jan-2018 15:18:28.638 INFO [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [\"ajp-nio-8009\"]\n22-Jan-2018 15:18:28.641 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 69 ms\n</code></pre>\n"}, {"tags": ["java", "gradle", "jar", "kotlin"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1516619723, "post_id": 48380232, "comment_id": 83747114, "body": "it seems you don&#39;t have certain dependencies on the classpath. Is it possible you had these dependencies on the path of your IDE, instead of on that of your machine itself?"}, {"owner": {"reputation": 5634, "user_id": 2517730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Xojng.jpg?s=128&g=1", "display_name": "Yar", "link": "https://stackoverflow.com/users/2517730/yar"}, "edited": false, "score": 0, "creation_date": 1529290130, "post_id": 48380232, "comment_id": 88804087, "body": "Same problem! Did you figure this out?"}], "answers": [{"tags": [], "owner": {"reputation": 575, "user_id": 1111762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AxQQR.jpg?s=128&g=1", "display_name": "Erkut Evirgen", "link": "https://stackoverflow.com/users/1111762/erkut-evirgen"}, "is_accepted": true, "score": 5, "last_activity_date": 1518718600, "creation_date": 1518718600, "answer_id": 48813832, "question_id": 48380232, "link": "https://stackoverflow.com/questions/48380232/cant-run-generated-jar-file-with-gradle-and-kotlin/48813832#48813832", "title": "Can&#39;t run generated JAR file with Gradle and Kotlin", "body": "<p>Just change <code>implementation</code> configurations to <code>compile</code>. (At least for kotlin-stdlib)</p>\n\n<p>The <code>compile</code> configuration is deprecated and should be replaced by <code>implementation</code> or <code>api</code> in Gradle plugin for Android, however for <code>kotlin-gradle-plugin</code>, I think you still need <em>compile</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 5634, "user_id": 2517730, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Xojng.jpg?s=128&g=1", "display_name": "Yar", "link": "https://stackoverflow.com/users/2517730/yar"}, "is_accepted": false, "score": -1, "last_activity_date": 1529291480, "creation_date": 1529291480, "answer_id": 50902255, "question_id": 48380232, "link": "https://stackoverflow.com/questions/48380232/cant-run-generated-jar-file-with-gradle-and-kotlin/50902255#50902255", "title": "Can&#39;t run generated JAR file with Gradle and Kotlin", "body": "<p>Alright I had the same problem and finally figured this out:</p>\n\n<p>My main class name was <code>Main.kt</code> and this is what I had in my <code>build.gradle</code> file when I was getting the same error:</p>\n\n<pre><code>jar {\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    manifest {\n        attributes(\n                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n                'Main-Class': \"play.Main\"\n        )\n    }\n}\n</code></pre>\n\n<p>Although I noticed when I create the <code>jar</code> artifact in Intellij, it uses <code>play.MainKt</code> as my <code>Main-Class</code> name (yeah, weird naming convention), then I changed my <code>build.gradle</code> file to this:</p>\n\n<pre><code>jar {\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n    manifest {\n        attributes(\n                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n                'Main-Class': \"play.MainKt\"\n        )\n    }\n}\n</code></pre>\n\n<p>and now I am not getting that error.</p>\n"}], "owner": {"reputation": 1699, "user_id": 6475656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Lj1dT.png?s=128&g=1", "display_name": "C&#233;sar Alberca", "link": "https://stackoverflow.com/users/6475656/c%c3%a9sar-alberca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1223, "favorite_count": 1, "accepted_answer_id": 48813832, "answer_count": 2, "score": 6, "last_activity_date": 1529291480, "creation_date": 1516619483, "question_id": 48380232, "link": "https://stackoverflow.com/questions/48380232/cant-run-generated-jar-file-with-gradle-and-kotlin", "title": "Can&#39;t run generated JAR file with Gradle and Kotlin", "body": "<p>I have a project configured with Gradle and Kotlin. It's a command line utility and I would like to be able to run the generated jar from my terminal. However I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at com.autentia.impt.MainKt.main(Main.kt)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n\n<p>My gradle configuration is as follows:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.20'\n    ext.junit_platform_version = '1.0.1'\n    ext.junit_version = '5.0.0'\n    ext.moshi_version = '1.5.0'\n    ext.jna_version = '4.5.0'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.junit.platform:junit-platform-gradle-plugin:$junit_platform_version\"\n    }\n}\n\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin'\napply plugin: 'application'\napply plugin: 'org.junit.platform.gradle.plugin'\n\nmainClassName = 'com.autentia.impt.MainKt'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect\"\n    implementation \"com.squareup.moshi:moshi:$moshi_version\"\n    implementation \"com.squareup.moshi:moshi-kotlin:$moshi_version\"\n    implementation \"net.java.dev.jna:jna:$jna_version\"\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:$junit_version\")\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine:$junit_version\")\n}\n\nsourceSets {\n    main.kotlin.srcDirs += 'src/main/kotlin'\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.4.1'\n}\n\njar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>The command I use to generate the jar is <code>./gradlew clean build</code> and the command I use to run the jar is <code>java -jar build/libs/impt-1.0-SNAPSHOT.jar</code>.</p>\n\n<p>I've tried following the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"noreferrer\">official docs</a> and also I've tried with these resources: <a href=\"https://stackoverflow.com/questions/33738304/configuring-gradle-with-kotlin?noredirect=1&amp;lq=1\">1</a>, <a href=\"https://stackoverflow.com/questions/26469365/building-a-self-executable-jar-with-gradle-and-kotlin\">2</a> and <a href=\"https://stackoverflow.com/questions/47766179/kotlin-application-with-gradle-application-plugin\">3</a> without any luck.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1516623040, "post_id": 48380205, "comment_id": 83749091, "body": "Can be closed under: <i>This question was caused by a problem that can no longer be reproduced or a simple typographical error. While similar questions may be on-topic here, this one was resolved in a manner unlikely to help future readers.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 1133, "user_id": 3991071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58796548013174d455cf0f5de0143be5?s=128&d=identicon&r=PG&f=1", "display_name": "\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u0440\u0430\u0441\u0442\u043e\u0432\u0438\u0447", "link": "https://stackoverflow.com/users/3991071/%d0%84%d0%b2%d0%b3%d0%b5%d0%bd-%d0%93%d0%b0%d1%80%d0%b0%d1%81%d1%82%d0%be%d0%b2%d0%b8%d1%87"}, "edited": false, "score": 2, "creation_date": 1523256787, "post_id": 48380414, "comment_id": 86467868, "body": "how did you find the missing import?"}], "tags": [], "owner": {"reputation": 161, "user_id": 8675471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pra4qAJyh6U/AAAAAAAAAAI/AAAAAAAAAD4/ukou7ThJkfo/photo.jpg?sz=128", "display_name": "Raghuveer Singh Bhardwaj", "link": "https://stackoverflow.com/users/8675471/raghuveer-singh-bhardwaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1516623016, "last_edit_date": 1516623016, "creation_date": 1516620077, "answer_id": 48380414, "question_id": 48380205, "link": "https://stackoverflow.com/questions/48380205/org-gradle-api-tasks-taskexecutionexception-execution-failed-for-task-appcom/48380414#48380414", "title": "org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugKotlin&#39;", "body": "<p>Sorry, just after I posted this question I got the answer. I forgot import statement in one of my kotlin class.</p>\n"}], "owner": {"reputation": 161, "user_id": 8675471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pra4qAJyh6U/AAAAAAAAAAI/AAAAAAAAAD4/ukou7ThJkfo/photo.jpg?sz=128", "display_name": "Raghuveer Singh Bhardwaj", "link": "https://stackoverflow.com/users/8675471/raghuveer-singh-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1349, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516623016, "creation_date": 1516619344, "last_edit_date": 1516622979, "question_id": 48380205, "link": "https://stackoverflow.com/questions/48380205/org-gradle-api-tasks-taskexecutionexception-execution-failed-for-task-appcom", "title": "org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugKotlin&#39;", "body": "<p>I started making my app in Kotlin two days before and my app was running smoothly but the second day when I first opened the project and tried to run my app this Gradle error showed <code>Compilation error. See log for more details</code>\nAnd when I saw in Run Tasks I saw this error </p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:8)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:374)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:348)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:242)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:214)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 32 more\n</code></pre>\n\n<p>Here is my build.gradle(module:app):</p>\n\n<pre><code>    apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"raghuveer.singh.bhardwaj.cloudfiledragon\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:1.2.10\"\n    implementation 'com.android.support:appcompat-v7:27.0.2'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.google.firebase:firebase-auth:11.8.0'\n    implementation 'com.google.firebase:firebase-storage:11.8.0'\n    implementation 'com.google.firebase:firebase-firestore:11.8.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n    implementation 'com.android.support:design:27.0.2'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>Here is my build.gradle(project level):</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.10'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0-alpha08'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.10\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 1, "creation_date": 1516618944, "post_id": 48379981, "comment_id": 83746590, "body": "you don&#39;t need semicolon, btw."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 1, "creation_date": 1516619291, "post_id": 48379981, "comment_id": 83746860, "body": "its a java code actually. :P i mentioned that i came up with this solution. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1516619070, "post_id": 48380046, "comment_id": 83746680, "body": "Your assertion is it not true, String.split() can also take a regex, a pattern..."}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "reply_to_user": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1516619188, "post_id": 48380046, "comment_id": 83746780, "body": "Thanks @AlexTa, edited. I failed to scroll down far enough."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1516619851, "post_id": 48380046, "comment_id": 83747179, "body": "No this thing is not working in kotlin, i already tried with this"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "reply_to_user": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1516621190, "post_id": 48380046, "comment_id": 83747934, "body": "@BabulPatel If you say something is &quot;not working&quot;, always provide the code you tried, and the error message and expected and actual output. Paste <code>println(&quot;Hello, world!&quot;.split(&quot; &quot;)[0])</code> into the <code>main</code> function at <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/Examples/Hello,%20world!/&hellip;</a> and see it print <code>Hello,</code> as desired."}, {"owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "edited": false, "score": 0, "creation_date": 1516623727, "post_id": 48380046, "comment_id": 83749501, "body": "this function doen&#39;t split the string. It actually returns the string as it is. @Thomas"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1516631119, "post_id": 48380046, "comment_id": 83754359, "body": "Then I must conclude that the character in your string is not a space."}], "tags": [], "owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "is_accepted": false, "score": 3, "last_activity_date": 1516619124, "last_edit_date": 1516619124, "creation_date": 1516618881, "answer_id": 48380046, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/48380046#48380046", "title": "Split space from string not working in Kotlin", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\"><code>String#split</code></a> (actually <code>CharSequence#split</code>) can take either a regular expression, or just a string which is interpreted literally. So:</p>\n\n<pre><code>value.split(\" \")[0]\n</code></pre>\n\n<p>does what you want.</p>\n\n<p>If you're only using the first element, it's more efficient to also pass <code>limit = 2</code>. Or, even better, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/substring-before.html\" rel=\"nofollow noreferrer\"><code>substringBefore</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3678, "user_id": 3990222, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xVAWT.jpg?s=128&g=1", "display_name": "Edson Menegatti", "link": "https://stackoverflow.com/users/3990222/edson-menegatti"}, "is_accepted": true, "score": 43, "last_activity_date": 1584027466, "last_edit_date": 1584027466, "creation_date": 1516619020, "answer_id": 48380101, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/48380101#48380101", "title": "Split space from string not working in Kotlin", "body": "<p>Here's an issue between the Java and Kotlin implementation of <code>String.split</code>. </p>\n\n<p>While the Java implementation does accept a regex string, the Kotlin one does not. For it to work, you need to provide an actual <code>Regex</code> object.</p>\n\n<p>To do so, you would update your code as follows:</p>\n\n<pre><code>value.split(\"\\\\s\".toRegex())[0]\n</code></pre>\n\n<p>Also, as @Thomas suggested, you can just use the regular space character to split your string with:</p>\n\n<pre><code>value.split(\" \")[0]\n</code></pre>\n\n<p>Final point, if you're only using the first element of the split list, you might want to consider using <code>first()</code> instead of <code>[0]</code> - for better readability - and setting the limit parameter to 2 - for better performance.</p>\n"}, {"tags": [], "owner": {"reputation": 2639, "user_id": 5497874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa7051ee19459010b7ec13ea3e0f08a?s=128&d=identicon&r=PG&f=1", "display_name": "Nikunj", "link": "https://stackoverflow.com/users/5497874/nikunj"}, "is_accepted": false, "score": 10, "last_activity_date": 1549964945, "last_edit_date": 1549964945, "creation_date": 1516619083, "answer_id": 48380120, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/48380120#48380120", "title": "Split space from string not working in Kotlin", "body": "<p>You need to use :</p>\n\n<blockquote>\n  <p>.toRegex()</p>\n</blockquote>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n        val str = \"Kotlin com\"\n\n        val separate1 = str.split(\"\\\\s\".toRegex())[0]\n        println(separate1) // ------------------&gt; Kotlin\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>You can also use <code>.split(\" \")[0]</code> to achieve result. Like</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n            val str = \"Kotlin com\"\n\n            val separate1 = str.split(\" \")[0]\n            println(separate1) // ----------&gt; Kotlin\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1516620773, "last_edit_date": 1516620773, "creation_date": 1516619626, "answer_id": 48380269, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/48380269#48380269", "title": "Split space from string not working in Kotlin", "body": "<p>Kotlin tries to resolve some issues that Java's <code>String</code> library has. For instance, Kotlin tries to be more explicit. </p>\n\n<p>As a result, the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\"><code>split</code></a> method takes a normal <code>String</code> and does not use it as a regex internally:</p>\n\n<pre><code>\"hello world\".split(\"\\\\s\")[0] //no match\n\"hello world\".split(\" \")[0] // =&gt; \"hello\"\n</code></pre>\n\n<p>To explicitly use the overloaded <code>split</code> function that actually takes a regex, the <code>toRegex()</code> extension can be used (<code>inline fun String.toRegex(): Regex (source)</code>):</p>\n\n<pre><code>\"hello world\".split(\"\\\\s\".toRegex())[0]// =&gt; \"hello\"\n</code></pre>\n\n<p>The following shows another example of Kotlin resolving the confusing <code>String::replaceAll</code> method:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7Wl1c.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Wl1c.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Taken from a KotlinConf <a href=\"https://youtu.be/Uizh2WlJtnk\" rel=\"nofollow noreferrer\">presentation of Svetlana Isakova</a>, co-author of \u201cKotlin in Action\u201d</p>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 9617715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf88fd452f56344b35129f952de8b86?s=128&d=identicon&r=PG&f=1", "display_name": "Manikandan", "link": "https://stackoverflow.com/users/9617715/manikandan"}, "is_accepted": false, "score": 1, "last_activity_date": 1582285312, "last_edit_date": 1582285312, "creation_date": 1582284647, "answer_id": 60337798, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/60337798#60337798", "title": "Split space from string not working in Kotlin", "body": "<p>Single delimiter</p>\n\n<pre><code> val splittedStringList = \"123.345-80A\".split(\".\")\n println(splittedStringList[0])\n</code></pre>\n\n<p>Several delimiters</p>\n\n<pre><code> println(\"123.345-80A\".split(\".\", \"-\"))\n</code></pre>\n\n<p>Using regex</p>\n\n<pre><code> println(\"123.345-80A\".split(\"\\\\.|-\".toRegex()))\n</code></pre>\n\n<p>Try Kotlin <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">Online</a></p>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 8871644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/upWv1.jpg?s=128&g=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8871644/roman"}, "is_accepted": false, "score": 0, "last_activity_date": 1582285599, "creation_date": 1582285599, "answer_id": 60338065, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin/60338065#60338065", "title": "Split space from string not working in Kotlin", "body": "<p>Simply use <strong>value.split(\"\\s\".toRegex())</strong></p>\n\n<p>1.Splits and iterates all items</p>\n\n<pre><code>value.split(\"\\\\s\".toRegex()).forEach { item -&gt;\n    //use item \n}\n</code></pre>\n\n<p>2.Spits and use first item </p>\n\n<pre><code>value.split(\"\\\\s\".toRegex()).first()\n</code></pre>\n\n<p>3.Spits and use last item </p>\n\n<pre><code>value.split(\"\\\\s\".toRegex()).last()\n</code></pre>\n"}], "owner": {"reputation": 875, "user_id": 2931489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/T7MIt.jpg?s=128&g=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/2931489/harsh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20212, "favorite_count": 6, "accepted_answer_id": 48380101, "answer_count": 6, "score": 24, "last_activity_date": 1584027466, "creation_date": 1516618651, "last_edit_date": 1516620069, "question_id": 48379981, "link": "https://stackoverflow.com/questions/48379981/split-space-from-string-not-working-in-kotlin", "title": "Split space from string not working in Kotlin", "body": "<p>Anyone wonder this ? Splitting <strong>SPACE (\" \")</strong> in kotlin is not working, i tried with different regex codes but is not working at all.</p>\n\n<p>Tried with this : </p>\n\n<pre><code>value.split(\"\\\\s\")[0];\nvalue.split(\"\\\\s+\")[0];\nvalue.split(\"\\\\s++\")[0];\n</code></pre>\n\n<p>Then i came up with solution -> Create java constant class which contains this function and returns string array to your kotlin class.</p>\n\n<p>Is there any other solution for this problem where we can directly achieve this thing?</p>\n\n<p><strong>Solution :</strong> As @Edson Menegatti said : </p>\n\n<p><strong>KOTLIN Specific : WORKING</strong></p>\n\n<pre><code>values.split(\"\\\\s\".toRegex())[0]\n</code></pre>\n\n<p>Many people suggested this solution :  <strong>NOT WORKING</strong></p>\n\n<pre><code>values.split(\" \")[0] \n</code></pre>\n\n<p>But in my case it's <strong>not working</strong>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1516698951, "last_edit_date": 1516698951, "creation_date": 1516617179, "answer_id": 48379510, "question_id": 48379395, "link": "https://stackoverflow.com/questions/48379395/kotlin-function-types/48379510#48379510", "title": "Kotlin Function Types", "body": "<p>You're almost there, try this one:</p>\n\n<pre><code>Array(5, ::square)\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">Function references</a> use the <code>::</code> operator.</p>\n\n<p>You can also make use of lambdas, which feels more idiomatic:</p>\n\n<pre><code>Array(5, { it * it } )\n</code></pre>\n\n<p>Not that this is equivalent to the following because when a lambda is the last argument passed to a function, it can be lifted out of the parentheses:</p>\n\n<pre><code>Array(5) { it * it }\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 8393861, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/505de02692c8248361fccbedb694cf33?s=128&d=identicon&r=PG&f=1", "display_name": "Goktug", "link": "https://stackoverflow.com/users/8393861/goktug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 48379510, "answer_count": 1, "score": 2, "last_activity_date": 1516698951, "creation_date": 1516616810, "question_id": 48379395, "link": "https://stackoverflow.com/questions/48379395/kotlin-function-types", "title": "Kotlin Function Types", "body": "<p>I am actually new to kotlin language, so this can be basic question, but I cannot find a reasonable answer.</p>\n\n<p>According to resources I read, (Int) -> T is a function type which takes an integer parameter and returns anything; that's why, I defined a function like this :</p>\n\n<pre><code>fun square( arg : Int ) : Int{\n   return (arg * arg)\n}\n</code></pre>\n\n<p>After that, I tried to pass reference of this function to the second argument of the constructor of Array class in kotlin. This attempt results in an error. The error says that there is a type mismatch.</p>\n\n<pre><code>var arr : Array&lt;Int&gt; = Array(5, square)\n</code></pre>\n\n<p>I cannot understand why I faced such an error. Can anyone explain me ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1077, "user_id": 2593148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BbN40.jpg?s=128&g=1", "display_name": "Fran&#231;ois Legrand", "link": "https://stackoverflow.com/users/2593148/fran%c3%a7ois-legrand"}, "edited": false, "score": 0, "creation_date": 1516616755, "post_id": 48379193, "comment_id": 83745282, "body": "Which OS version run on your device ?"}, {"owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "reply_to_user": {"reputation": 1077, "user_id": 2593148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BbN40.jpg?s=128&g=1", "display_name": "Fran&#231;ois Legrand", "link": "https://stackoverflow.com/users/2593148/fran%c3%a7ois-legrand"}, "edited": false, "score": 0, "creation_date": 1516616995, "post_id": 48379193, "comment_id": 83745434, "body": "my device has Marshmello OS"}, {"owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "reply_to_user": {"reputation": 1077, "user_id": 2593148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BbN40.jpg?s=128&g=1", "display_name": "Fran&#231;ois Legrand", "link": "https://stackoverflow.com/users/2593148/fran%c3%a7ois-legrand"}, "edited": false, "score": 0, "creation_date": 1516617029, "post_id": 48379193, "comment_id": 83745461, "body": "i got man its becz of them thanks"}, {"owner": {"reputation": 1077, "user_id": 2593148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BbN40.jpg?s=128&g=1", "display_name": "Fran&#231;ois Legrand", "link": "https://stackoverflow.com/users/2593148/fran%c3%a7ois-legrand"}, "edited": false, "score": 0, "creation_date": 1516617174, "post_id": 48379193, "comment_id": 83745559, "body": "Did you override the dialog theme in your theme resource file (often called style.xml) ?"}, {"owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "reply_to_user": {"reputation": 1077, "user_id": 2593148, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BbN40.jpg?s=128&g=1", "display_name": "Fran&#231;ois Legrand", "link": "https://stackoverflow.com/users/2593148/fran%c3%a7ois-legrand"}, "edited": false, "score": 0, "creation_date": 1516617249, "post_id": 48379193, "comment_id": 83745601, "body": "no man i am not"}], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 1, "last_activity_date": 1516617082, "creation_date": 1516617082, "answer_id": 48379476, "question_id": 48379193, "link": "https://stackoverflow.com/questions/48379193/my-alert-box-adding-unncessory-space-on-top-and-bottom-android/48379476#48379476", "title": "my alert box adding unncessory space on top and bottom android", "body": "<p>Try using <code>android.support.v7.app.AlertDialog</code> with <code>R.style.Theme_AppCompat_Light_Dialog_Alert</code>, this will allow you to skip <code>SDK_INT</code> check and you won't be relying on <code>android.R</code> which is not guaranteed to be uniform across all devices.</p>\n"}], "owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 48379476, "answer_count": 1, "score": 0, "last_activity_date": 1516617082, "creation_date": 1516616207, "last_edit_date": 1516616467, "question_id": 48379193, "link": "https://stackoverflow.com/questions/48379193/my-alert-box-adding-unncessory-space-on-top-and-bottom-android", "title": "my alert box adding unncessory space on top and bottom android", "body": "<pre><code>val builder: AlertDialog.Builder = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                AlertDialog.Builder(this, android.R.style.Theme_Material_Light_Dialog_Alert)\n            } else {\n                AlertDialog.Builder(this)\n            }\n            builder.setTitle(\"Alert\")\n                    .setMessage(message)\n                    .setNegativeButton(\"Ok\") { dialog, which -&gt; }\n                    .setIcon(android.R.drawable.ic_dialog_alert)\n                    .show();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/G33gj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G33gj.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["generics", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 1, "creation_date": 1516617048, "post_id": 48379156, "comment_id": 83745478, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35528261/any-way-to-inherit-from-same-generic-interface-twice-with-separate-types-in-ko\">Any way to inherit from same generic interface twice (with separate types) in Kotlin?</a>"}, {"owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "reply_to_user": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1516618861, "post_id": 48379156, "comment_id": 83746539, "body": "There are some similarities"}, {"owner": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1516618934, "post_id": 48379156, "comment_id": 83746581, "body": "You cannot have two functions f1(t: *) because of type erasure."}, {"owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "reply_to_user": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1516619002, "post_id": 48379156, "comment_id": 83746632, "body": "There are some similarities In java, this is fine <code>interface A1&lt;T&gt;{         void f1(T t);     }     static class B1 implements A1{          @Override         public void f1(Object o) {          }     }     interface A2&lt;T extends String&gt; extends A1&lt;T&gt;{         void f2(T t);     }     static class B2 extends B1 implements A2 {         @Override         public void f2(String s) {          }     }</code>"}, {"owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "reply_to_user": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1516619271, "post_id": 48379156, "comment_id": 83746844, "body": "Sorry, I was wrong, in java, this is not possible too"}, {"owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "reply_to_user": {"reputation": 17170, "user_id": 1671066, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bd4c9461f2d17a884fba66eeed20e320?s=128&d=identicon&r=PG", "display_name": "Micha Wiedenmann", "link": "https://stackoverflow.com/users/1671066/micha-wiedenmann"}, "edited": false, "score": 0, "creation_date": 1516619403, "post_id": 48379156, "comment_id": 83746934, "body": "Is not only re-implementation of the A2 interface can solve this problem"}], "owner": {"reputation": 11, "user_id": 9250908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6362500b28ae4f1f7da1795dfad320?s=128&d=identicon&r=PG&f=1", "display_name": "ooftf", "link": "https://stackoverflow.com/users/9250908/ooftf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516616656, "creation_date": 1516616091, "last_edit_date": 1516616656, "question_id": 48379156, "link": "https://stackoverflow.com/questions/48379156/problems-caused-by-generics-and-inheritance", "title": "Problems caused by generics and inheritance", "body": "<pre><code>interface A1&lt;T&gt; {\n    fun f1(t: T)\n}\nclass B1 : A1&lt;Any&gt; {\n    override fun f1(t: Any) {\n    }\n}\ninterface A2&lt;T: String&gt;: A1&lt;T&gt; {\n    fun f2(t: T)\n}\nclass B2 : B1, A2&lt;String&gt; {\n    override fun f1(t: String) {\n    }\n\n    override fun f2(t: String) {\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>B2 error: Type parameter T of 'A1' has inconsistent values:Any,String</p>\n</blockquote>\n\n<p>How to solve this problem?</p>\n"}, {"tags": ["android", "kotlin", "suspend", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 59, "user_id": 4161597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XHDjiAUz9iE/AAAAAAAAAAI/AAAAAAAAAFQ/c8BWlcEPwzw/photo.jpg?sz=128", "display_name": "Sach", "link": "https://stackoverflow.com/users/4161597/sach"}, "edited": false, "score": 0, "creation_date": 1516620576, "post_id": 48379058, "comment_id": 83747564, "body": "<a href=\"https://stackoverflow.com/questions/44820534/how-to-write-following-code-in-kotlin-for-callback-implementation\" title=\"how to write following code in kotlin for callback implementation\">stackoverflow.com/questions/44820534/&hellip;</a>"}, {"owner": {"reputation": 466, "user_id": 420418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bfdf9b945fa334366ab6981a2284660a?s=128&d=identicon&r=PG", "display_name": "Plokko", "link": "https://stackoverflow.com/users/420418/plokko"}, "reply_to_user": {"reputation": 59, "user_id": 4161597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XHDjiAUz9iE/AAAAAAAAAAI/AAAAAAAAAFQ/c8BWlcEPwzw/photo.jpg?sz=128", "display_name": "Sach", "link": "https://stackoverflow.com/users/4161597/sach"}, "edited": false, "score": 0, "creation_date": 1516621139, "post_id": 48379058, "comment_id": 83747904, "body": "@Sach , that&#39;s NOT what i meant! in the example the code is simply ported from Java to Kotlin; i want to avoid using callback pattern and use a suspended function instead."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 420418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bfdf9b945fa334366ab6981a2284660a?s=128&d=identicon&r=PG", "display_name": "Plokko", "link": "https://stackoverflow.com/users/420418/plokko"}, "edited": false, "score": 0, "creation_date": 1516700642, "post_id": 48398436, "comment_id": 83784757, "body": "Thanks! i knew it was present but i could not find it in any documentation! Is there any way to specify the UI thread like in my example or i should just do a launch(UI) { suspendCoroutin&lt;String&gt;...... } ?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 466, "user_id": 420418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bfdf9b945fa334366ab6981a2284660a?s=128&d=identicon&r=PG", "display_name": "Plokko", "link": "https://stackoverflow.com/users/420418/plokko"}, "edited": false, "score": 1, "creation_date": 1516701194, "post_id": 48398436, "comment_id": 83785184, "body": "You should specify the thread in the coroutine you launch. I&#39;ve corrected the code in my answer."}, {"owner": {"reputation": 466, "user_id": 420418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bfdf9b945fa334366ab6981a2284660a?s=128&d=identicon&r=PG", "display_name": "Plokko", "link": "https://stackoverflow.com/users/420418/plokko"}, "edited": false, "score": 0, "creation_date": 1516727905, "post_id": 48398436, "comment_id": 83803770, "body": "Please @Roman could you also post a  suspendCancellebleCoroutine example, in case of cancellation close the dialog or just add a println."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 10, "last_activity_date": 1516701206, "last_edit_date": 1516701206, "creation_date": 1516700343, "answer_id": 48398436, "question_id": 48379058, "link": "https://stackoverflow.com/questions/48379058/migrate-callback-code-to-suspended-function/48398436#48398436", "title": "Migrate callback code to suspended function", "body": "<p>It looks that you are trying to reinvent <code>suspendCoroutine</code> function. I'd suggest to replace your <code>resolvable</code> function with invocation of <code>suspendCoroutine</code> to get the kind of functionality you are looking for:</p>\n\n<pre><code>    //Actual code...\n    launch(UI) {\n        val value = suspendCoroutine&lt;String&gt; { cont -&gt;\n            //Build a simple popup prompt with AlertDialog\n            val input = EditText(this@MainActivity)\n\n            val builder = AlertDialog.Builder(this@MainActivity)\n                    .setTitle(\"please insert a value\")\n                    .setView(input)\n                    .setPositiveButton(\"Ok\",{ dialog, id -&gt;\n                        cont.resume(input.text.toString()) //!!! Resume here\n                    })\n            val dialog = builder.create()\n            dialog.show()\n        }\n        println(\"Value:\"+ value)\n    }\n</code></pre>\n\n<p>If you perform \"extract function\" refactoring around <code>suspendCoroutine</code> block and name the resulting suspending function <code>prompt</code>, then you can write your code in a style that is very similar to JS.</p>\n\n<p>You can also consider using <code>suspendCancellebleCoroutine</code> instead of a plain <code>suspendCoroutine</code>. This way you can support cancellation of the launched coroutine and install a handler to close your dialog when it is cancelled.</p>\n"}], "owner": {"reputation": 466, "user_id": 420418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bfdf9b945fa334366ab6981a2284660a?s=128&d=identicon&r=PG", "display_name": "Plokko", "link": "https://stackoverflow.com/users/420418/plokko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1678, "favorite_count": 1, "accepted_answer_id": 48398436, "answer_count": 1, "score": 3, "last_activity_date": 1552981941, "creation_date": 1516615829, "last_edit_date": 1552981941, "question_id": 48379058, "link": "https://stackoverflow.com/questions/48379058/migrate-callback-code-to-suspended-function", "title": "Migrate callback code to suspended function", "body": "<p>I'm re-factoring my Android code from Java to Kotlin using coroutines but i did not find an easy way to rewrite callback-based code to suspended functions.</p>\n\n<p>A basic example would be an alert popup that returns a result, in Javascript it would be something like this:</p>\n\n<pre><code>let value = prompt(\"please insert a value\")\nconsole.log(\"Value:\"+value)\n</code></pre>\n\n<p>I would translate in Kotlin to something like:</p>\n\n<pre><code>class MainActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        //Standard activity initialization\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Actual code...\n        launch {\n            val value = resolvable&lt;String&gt;(UI) { success, error -&gt;\n                //Build a simple popup prompt with AlertDialog\n                val input = EditText(this@MainActivity)\n\n                val builder = AlertDialog.Builder(this@MainActivity)\n                        .setTitle(\"please insert a value\")\n                        .setView(input)\n                        .setPositiveButton(\"Ok\",{ dialog, id -&gt;\n                            success(input.text.toString())//This lambda returns the value\n                        })\n                val dialog = builder.create()\n                dialog.show()\n            }\n            println(\"Value:\"+ value)\n        }\n        //...\n    }\n}\n</code></pre>\n\n<p>The <em>resolvable</em> is a custom function i developed for this purpuse, here's the source code:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.DefaultDispatcher\nimport kotlinx.coroutines.experimental.cancelAndJoin\nimport kotlinx.coroutines.experimental.launch\nimport java.util.concurrent.Semaphore\nimport kotlin.coroutines.experimental.CoroutineContext\n\nsuspend fun &lt;T&gt; resolvable(\n        context: CoroutineContext = DefaultDispatcher,\n        block: suspend (success:(T?)-&gt;Unit,error:(Throwable)-&gt;Unit) -&gt; Unit\n):T?{\n    var result:T? = null\n    var exception:Throwable? = null\n    val semaphore = Semaphore(0)\n\n\n    val job = launch(context){\n        block({r:T? -&gt; {\n            result=r\n            semaphore.release()\n        }},{e:Throwable -&gt; {\n            exception=e\n            semaphore.release()\n        }})\n    }\n\n    semaphore.acquire()\n    job.cancelAndJoin()\n\n    if(exception!=null)\n        throw exception!!\n    return result\n}\n</code></pre>\n\n<p>I quickly developed the <em>resolvable</em> function (keep in mind it's a quick draft) using lambdas and semaphores but i don't know if there are any pre-existing function (i could not found any) or can be optimized or has any drawback/problems.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1516625120, "post_id": 48379127, "comment_id": 83750431, "body": "Very clear answer. Thank you. I still need to figure out my JSON query, but your answer cleared it up alot. I was completely misunderstanding what the IDE was asking for."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 0, "last_activity_date": 1516616021, "creation_date": 1516616021, "answer_id": 48379127, "question_id": 48378936, "link": "https://stackoverflow.com/questions/48378936/trouble-with-for-loop-range-must-have-an-iterator-method-and-json-issues/48379127#48379127", "title": "Trouble with &quot;For-Loop range must have an &#39;iterator()&#39; method&quot; and JSON issues", "body": "<p>Your <code>stormInfo</code> is a <code>List</code> which provides the mandatory <code>iterator()</code> and this is what you want to iterate over:</p>\n\n<pre><code>var cycloneList = response?.body()?.currenthurricane?.stormInfo ?: emptyList()\n\nfor (stormInfo in cycloneList) { }\n</code></pre>\n\n<p>Hope it helps...</p>\n"}], "owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 1, "accepted_answer_id": 48379127, "answer_count": 1, "score": -1, "last_activity_date": 1516616021, "creation_date": 1516615493, "question_id": 48378936, "link": "https://stackoverflow.com/questions/48378936/trouble-with-for-loop-range-must-have-an-iterator-method-and-json-issues", "title": "Trouble with &quot;For-Loop range must have an &#39;iterator()&#39; method&quot; and JSON issues", "body": "<p>I am teaching myself Kotlin and android dev. So, i'm sure most of my issue is lack of knowledge, but i've been hung up on this part for day or two. I think my issue is partly my JSON query, and mostly my rookieness.</p>\n\n<p>In my for loop below, I'm getting the following error from the IDE \"For-Loop range must have an 'iterator()' method\". This is in regards to 'cycloneList' in: for(stormInfo in cycloneList)</p>\n\n<p>I've linked my \"dummy\" JSON data I'm using can be found here: <a href=\"https://api.myjson.com/bins/19uurt\" rel=\"nofollow noreferrer\">https://api.myjson.com/bins/19uurt</a> to save a bit of space here in the question.</p>\n\n<p><strong>Problem code</strong></p>\n\n<pre><code>`var cycloneList = response?.body()?.currenthurricane?.stormInfo?.get(0) \n\nif (cycloneList != null) {\n            for (stormInfo in cycloneList) { &lt;&lt;--Problem\n                val newCyclone = \"Name: ${cycloneList.stormName}\"\n                cycloneStrings.add(newCyclone)\n            }\n        }`\n</code></pre>\n\n<p><strong>FULL CODE</strong> </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    //creates a new CycloneRetriever object from CycloneHelp.kt\n    var retriever = CycloneRetriever()\n\n    val callback = object : Callback&lt;Cyclones&gt; {\n\n        override fun onResponse(call: Call&lt;Cyclones&gt;?, response: Response&lt;Cyclones&gt;?) {\n            println(\"Got a response!\")\n\n            var cycloneList = response?.body()?.currenthurricane?.stormInfo?.get(0)\n\n            var cycloneStrings = mutableListOf&lt;String&gt;()\n\n            if (cycloneList != null) {\n                for (stormInfo in cycloneList) { //TODO Figure this out!!\n                    val newCyclone = \"Name: ${cycloneList.stormName}\"\n                    cycloneStrings.add(newCyclone)\n                }\n            }\n\n            var layoutMovieListView = movieListView\n\n            var movieListAdapter = ArrayAdapter(this@MainActivity, android.R.layout.simple_list_item_1,\n                    cycloneStrings)\n\n            layoutMovieListView.adapter = movieListAdapter\n        }\n\n        override fun onFailure(call: Call&lt;Cyclones&gt;?, t: Throwable?) {\n            println(\"The thing, it failed!\")\n        }\n    }\n    retriever.getCyclones(callback)\n}\n</code></pre>\n\n<p>I'm using Retrofit to access/handle JSON data</p>\n\n<p><strong>Retrofit JSON code</strong></p>\n\n<pre><code>interface WeatherWunderGroundAPI {\n    @GET(\"bins/19uurt\")\n\n    fun getCyclones() : Call&lt;Cyclones&gt;\n}\n\nclass Cyclones(val currenthurricane: CurrentHurricane)\nclass CurrentHurricane(val stormInfo: List&lt;StormInfo&gt;)\nclass StormInfo(val stormName: String)\n\nclass CycloneRetriever {\n    val service : WeatherWunderGroundAPI\n\n    init {\n        val = retrofitCyclone \n                Retrofit.Builder().baseUrl(\"https://api.myjson.com/\")\n                .addConverterFactory(GsonConverterFactory.create()).build()\n\n        service = retrofitCyclone.create(WeatherWunderGroundAPI::class.java)\n    }\n\n    fun getCyclones(callback: Callback&lt;Cyclones&gt;) {\n        val call = service.getCyclones()\n        call.enqueue(callback)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 8052863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/341d8d010f5babc487b4cc6264e6936d?s=128&d=identicon&r=PG&f=1", "display_name": "Guruprasath", "link": "https://stackoverflow.com/users/8052863/guruprasath"}, "is_accepted": true, "score": 0, "last_activity_date": 1516698743, "creation_date": 1516698743, "answer_id": 48397922, "question_id": 48378482, "link": "https://stackoverflow.com/questions/48378482/kotlin-dagger-2-11/48397922#48397922", "title": "Kotlin Dagger 2.11", "body": "<p>You can use <strong>AndroidSupportInjection.inject(this)</strong> instead of        AndroidInjection.inject(activity) in OnAttach method of fragment.</p>\n\n<p>Now it should look like </p>\n\n<pre><code>override fun onAttach(context: Context?) {\n       AndroidSupportInjection.inject(this)\n       super.onAttach(context)\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5155761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTP1j.jpg?s=128&g=1", "display_name": "vishal sharma", "link": "https://stackoverflow.com/users/5155761/vishal-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 48397922, "answer_count": 1, "score": -2, "last_activity_date": 1516698743, "creation_date": 1516614042, "last_edit_date": 1516614413, "question_id": 48378482, "link": "https://stackoverflow.com/questions/48378482/kotlin-dagger-2-11", "title": "Kotlin Dagger 2.11", "body": "<p>I am trying to inject Dagger 2.11 Retrofit in Fragment, but i am not able to inject,</p>\n\n<p>1) The issue is  AndroidInjection.inject(this) needs DaggerFragment and i can not change the BaseFragment to DaggerFragment object because it causes issue while replace the fragment</p>\n\n<p>2) I am little confused with dagger architecture too, as i have seen many demo code for dagger 2.11 or above, They are creating Module for each activities. so do i need to create seperate module and component to each activities </p>\n\n<pre><code>open class BaseFragment : Fragment()\n\nclass HomeFragment : BaseFragment() {\n\n    @Inject\n    lateinit var retrofit: Retrofit\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n    }\n\n    override fun onAttach(context: Context?) {\n       AndroidInjection.inject(activity)\n       super.onAttach(context)\n    }\n\n    override fun onAttach(activity: Activity?) {\n       AndroidInjection.inject(this)\n       super.onAttach(activity)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        println(\"----Retrofit----\"+retrofit.baseUrl())\n        return inflater!!.inflate(R.layout.fragment_home, container, false)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5067719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e88f0691df6e31b886425f959881a2?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Leonard", "link": "https://stackoverflow.com/users/5067719/christian-leonard"}, "edited": false, "score": 0, "creation_date": 1516597844, "post_id": 48374814, "comment_id": 83737025, "body": "Sry i missed it, i accidentally delete @Inject when posting it. Suppose to be there &amp; the issue still the same"}, {"owner": {"reputation": 148, "user_id": 6845290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tusM6.jpg?s=128&g=1", "display_name": "tatocaster", "link": "https://stackoverflow.com/users/6845290/tatocaster"}, "reply_to_user": {"reputation": 85, "user_id": 5067719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e88f0691df6e31b886425f959881a2?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Leonard", "link": "https://stackoverflow.com/users/5067719/christian-leonard"}, "edited": false, "score": 0, "creation_date": 1516598380, "post_id": 48374814, "comment_id": 83737176, "body": "Now I&#39;m confused. You built <code>AppModule </code> with the  <code>applicationContext</code> and then inject again in App? Why don&#39;t you just simply use applicationContext across the activities ?"}, {"owner": {"reputation": 85, "user_id": 5067719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e88f0691df6e31b886425f959881a2?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Leonard", "link": "https://stackoverflow.com/users/5067719/christian-leonard"}, "edited": false, "score": 0, "creation_date": 1516599600, "post_id": 48374814, "comment_id": 83737494, "body": "I&#39;m planning to inject not only context later, such as retrofit and other dependencies"}], "tags": [], "owner": {"reputation": 148, "user_id": 6845290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tusM6.jpg?s=128&g=1", "display_name": "tatocaster", "link": "https://stackoverflow.com/users/6845290/tatocaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1516596365, "creation_date": 1516596365, "answer_id": 48374814, "question_id": 48374651, "link": "https://stackoverflow.com/questions/48374651/kotlin-dagger-not-inject/48374814#48374814", "title": "Kotlin Dagger not inject", "body": "<p>It is not a problem with Dagger. The error clearly states that you have declared a property with a <code>lateinit</code> but have not initialized it in Kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 5067719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e88f0691df6e31b886425f959881a2?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Leonard", "link": "https://stackoverflow.com/users/5067719/christian-leonard"}, "edited": false, "score": 0, "creation_date": 1516599868, "post_id": 48375049, "comment_id": 83737566, "body": "Thank you so muchhh, I&#39;ve spend many hours just to find this one"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1516598155, "creation_date": 1516598155, "answer_id": 48375049, "question_id": 48374651, "link": "https://stackoverflow.com/questions/48374651/kotlin-dagger-not-inject/48375049#48375049", "title": "Kotlin Dagger not inject", "body": "<p>The <code>context</code> property is declared in the <code>MyApplication</code> class, but you're injecting the <code>Application</code> base class here:</p>\n\n<pre><code>fun inject(application: Application)\n</code></pre>\n\n<p>... which has no injectable properties. You have to make an <code>inject</code> method in your component for the specific class instead:</p>\n\n<pre><code>fun inject(application: MyApplication)\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/29326023/4465208\">Here's</a> an answer explaining how you can use Dagger with hierarchies in more detail.</p>\n"}], "owner": {"reputation": 85, "user_id": 5067719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e88f0691df6e31b886425f959881a2?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Leonard", "link": "https://stackoverflow.com/users/5067719/christian-leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 48375049, "answer_count": 2, "score": 1, "last_activity_date": 1516599812, "creation_date": 1516595040, "last_edit_date": 1516599812, "question_id": 48374651, "link": "https://stackoverflow.com/questions/48374651/kotlin-dagger-not-inject", "title": "Kotlin Dagger not inject", "body": "<p>I recently move from java to kotlin, and try to implement dagger 2 for dependency injection. </p>\n\n<p>I've add this to my gradle</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nimplementation \"com.google.dagger:dagger:2.11\"\nkapt \"com.google.dagger:dagger-compiler:2.11\"\ncompileOnly 'javax.annotation:jsr250-api:1.0'\n</code></pre>\n\n<p>Here is my module</p>\n\n<pre><code>@Module\nclass AppModule(val context : Context) {\n    @Provides\n    @Singleton\n    fun provideContext() = context\n}\n</code></pre>\n\n<p>Here is my component</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class))\ninterface AppComponent {\n    fun inject(application: Application)\n}\n</code></pre>\n\n<p>Here is my Application</p>\n\n<pre><code>class MyApplication : Application() {\n    @Inject\n    lateinit var context : Context\n\n    lateinit var appComponent : AppComponent\n\n    override fun onCreate() {\n        super.onCreate()\n\n        appComponent = DaggerAppComponent.builder()\n                .appModule(AppModule(this.applicationContext))\n                .build()\n        appComponent.inject(this)\n    }\n}\n</code></pre>\n\n<p>Here is my activity </p>\n\n<pre><code>class SplashActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)\n\n        val context = (applicationContext as MyApplication).context\n    }\n}\n</code></pre>\n\n<p>and i get this error </p>\n\n<pre><code>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property context has not been initialized\n</code></pre>\n\n<p>This code is working in Java, any idea how to solve this?</p>\n"}, {"tags": ["class", "kotlin", "global-variables"], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 5898862, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-Mvb7BMx8ncU/AAAAAAAAAAI/AAAAAAAAABM/90caQlUoU6k/photo.jpg?sz=128", "display_name": "JEGADEESAN S", "link": "https://stackoverflow.com/users/5898862/jegadeesan-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1516605872, "last_edit_date": 1516605872, "creation_date": 1516605010, "answer_id": 48376271, "question_id": 48373905, "link": "https://stackoverflow.com/questions/48373905/unable-to-make-a-class-for-global-variables-in-my-android-app-using-kotlin/48376271#48376271", "title": "Unable to make a class for global variables in my Android app using Kotlin", "body": "<p>You can define a global variable in Kotlin without initializing by using a keyword called <code>lateinit</code></p>\n\n<p>Ex:</p>\n\n<pre><code>lateinit var obj: ClassName\nlateinit var str: String\n</code></pre>\n\n<p>If you try to accesse the global variable before initialization then you will get the following exception.</p>\n\n<blockquote>\n  <p>Caused by: kotlin.UninitializedPropertyAccessException: lateinit\n  property obj/str has not been initialized.</p>\n</blockquote>\n\n<p>To avoid the exception refer <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/is-initialized.html\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>But lateinit is not support primitive types</p>\n\n<pre><code>lateinit var isConnected:Boolean//'lateinit' modifier is not allowed on properties of primitive types\n</code></pre>\n\n<p>Ref : <a href=\"https://stackoverflow.com/a/38769161/5898862\">https://stackoverflow.com/a/38769161/5898862</a></p>\n"}, {"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1516625814, "post_id": 48378298, "comment_id": 83750889, "body": "Thanks...I tried this but how do I access it from other Activities/Fragments I have in the appl..."}], "tags": [], "owner": {"reputation": 575, "user_id": 5901877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc74af4b180a5ab4af2230f2860c6faa?s=128&d=identicon&r=PG", "display_name": "code_x386", "link": "https://stackoverflow.com/users/5901877/code-x386"}, "is_accepted": false, "score": 0, "last_activity_date": 1516613266, "creation_date": 1516613266, "answer_id": 48378298, "question_id": 48373905, "link": "https://stackoverflow.com/questions/48373905/unable-to-make-a-class-for-global-variables-in-my-android-app-using-kotlin/48378298#48378298", "title": "Unable to make a class for global variables in my Android app using Kotlin", "body": "<p>You need to either initialize the variable:\n</p>\n\n<pre><code>class GlobalVars : Application() {\n    var isConnected: Boolean = false\n}\n</code></pre>\n\n<p>or use <code>lateinit</code> as described in answer by JEGADEESAN.</p>\n\n<p>Also, in case you are planning to always have single instance of <code>GlobalVars</code>, I believe you might be interested in object declarations: <a href=\"http://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/object-declarations.html</a></p>\n\n<pre><code>object GlobalVars : Application() {\n    var isConnected: Boolean = false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "is_accepted": false, "score": 1, "last_activity_date": 1516639015, "creation_date": 1516639015, "answer_id": 48386287, "question_id": 48373905, "link": "https://stackoverflow.com/questions/48373905/unable-to-make-a-class-for-global-variables-in-my-android-app-using-kotlin/48386287#48386287", "title": "Unable to make a class for global variables in my Android app using Kotlin", "body": "<p>In the end I was calling the class incorrectly. I was instantiating an instance of the class and not just calling the variable as part of the application level. I'm going to rewrite things to use ViewModels but at this time I'm going to work with this as I need to move forward. </p>\n\n<p>From an Activity I could get and set things with:</p>\n\n<pre><code>(applicationContext as GlobalVars).setSomeVariable(true)\n(applicationContext as GlobalVars).getSomeVariable()\n</code></pre>\n\n<p>From a Fragment\n    (activity.applicationContext as GlobalVars).setSomeVariable(true)\n    (activity.applicationContext as GlobalVars).getSomeVariable()</p>\n\n<p>I also rewrote the GlovalVars class to show the getters and setters:</p>\n\n<pre><code>class GlobalVars:Application() {\n\nprivate var isConnected: Boolean = false\n\nfun getSomeVariable(): Boolean {\n    return isConnected\n}\n\nfun setSomeVariable(someVariable: Boolean) {\n    this.isConnected = someVariable\n}\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2165, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1516639015, "creation_date": 1516587953, "question_id": 48373905, "link": "https://stackoverflow.com/questions/48373905/unable-to-make-a-class-for-global-variables-in-my-android-app-using-kotlin", "title": "Unable to make a class for global variables in my Android app using Kotlin", "body": "<p>I'm trying to define a global variable in my application\nIt is saying that the property must be defined or abstract. \nI've looked and tried to copy some soltuions but can't seem to get it to work</p>\n\n<p>any advice appreciated.</p>\n\n<pre><code>package com.example.app.thisweekintown\n\nimport android.app.Application\n\nclass GlobalVars:Application() {\n\n    var isConnected:Boolean\n\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "interface", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 4, "creation_date": 1516580183, "post_id": 48372917, "comment_id": 83733344, "body": "The return type is <code>Unit</code>, but it compiles to <code>void</code>, so the code is correct. I cannot reproduce it here."}, {"owner": {"reputation": 111, "user_id": 849715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbe11708c15c0eef7c68dd5c3dfc0637?s=128&d=identicon&r=PG", "display_name": "Xiaogegexiao", "link": "https://stackoverflow.com/users/849715/xiaogegexiao"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1516589966, "post_id": 48372917, "comment_id": 83735351, "body": "@nhaarman Thanks for replying. I am actually getting confused as well. I am currently converting my android from java to kotlin during which I got this error. But anyway thank you for your time"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1516617281, "post_id": 48372917, "comment_id": 83745620, "body": "In that case, it might be a caching problem. Try a clean rebuild."}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 1, "last_activity_date": 1516596942, "creation_date": 1516596942, "answer_id": 48374897, "question_id": 48372917, "link": "https://stackoverflow.com/questions/48372917/i-implemented-in-java-code-an-interface-defined-in-kotlin-got-void-type-not-a/48374897#48374897", "title": "I implemented in java code an interface defined in kotlin. Got &#39;void&#39; type not allowed here", "body": "<p>I can't reproduce this. I guess it's a bug of the compiler, you may try switching to a newer version.</p>\n\n<p>In my IDE, my code:</p>\n\n<p><img src=\"https://files.gitter.im/ice1000/Lobby/lQVF/thumb/image.png\" alt=\"\">\n<img src=\"https://files.gitter.im/ice1000/Lobby/v7n3/thumb/image.png\" alt=\"\"></p>\n\n<p>Works fine.</p>\n\n<p>Here I'd like to provide two solutions:</p>\n\n<ul>\n<li>Change <code>void</code> into <code>Unit</code>, and put <code>return Unit.INSTANCE;</code> at the end of the implementation.</li>\n<li>Change <code>fun onCall()</code> into <code>fun onCall(): Void?</code>, and put <code>return null;</code> at the end of the implementation.</li>\n</ul>\n\n<p>I tried more examples, even if I write an anonymous inner class (I use IDE picture instead of code snippets to show you that the code is correct):</p>\n\n<p><img src=\"https://files.gitter.im/ice1000/Lobby/Bjwv/thumb/image.png\" alt=\"\"></p>\n\n<p>Or replace it with a lambda expression:</p>\n\n<p><img src=\"https://files.gitter.im/ice1000/Lobby/3UtK/thumb/image.png\" alt=\"\"></p>\n\n<p>It still works fine.</p>\n\n<p>If you still cannot figure out, simply use another interface provided by the standard library, like <code>java.util.function.Consumer</code>.</p>\n"}], "owner": {"reputation": 111, "user_id": 849715, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dbe11708c15c0eef7c68dd5c3dfc0637?s=128&d=identicon&r=PG", "display_name": "Xiaogegexiao", "link": "https://stackoverflow.com/users/849715/xiaogegexiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516596942, "creation_date": 1516578259, "question_id": 48372917, "link": "https://stackoverflow.com/questions/48372917/i-implemented-in-java-code-an-interface-defined-in-kotlin-got-void-type-not-a", "title": "I implemented in java code an interface defined in kotlin. Got &#39;void&#39; type not allowed here", "body": "<p>I defined a listener interface in kotlin like this</p>\n\n<pre><code>interface FooListener {\n    fun onCall()\n}\n</code></pre>\n\n<p>which I think the return type is actually Unit in kotlin</p>\n\n<p>And then I implemented this interface in java</p>\n\n<pre><code>FooListener l = new FooListener() {\n    @Override\n    public void onCall() {\n    }\n}\n</code></pre>\n\n<p>Here the onCall function implementation is auto generated by IDE</p>\n\n<p>I got an error while compiling which said </p>\n\n<pre><code>Error:(107, 85) error: 'void' type not allowed here\n</code></pre>\n\n<p>Can anyone help me to sort this out? </p>\n"}, {"tags": ["kotlin", "guice"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1516572592, "post_id": 48371583, "comment_id": 83731441, "body": "Note that <code>{ Unit }</code> can be simplified with <code>{}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6162, "user_id": 1672027, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/356de98a7af65cf6dd187d3796ba04fd?s=128&d=identicon&r=PG", "display_name": "Matt Klein", "link": "https://stackoverflow.com/users/1672027/matt-klein"}, "edited": false, "score": 0, "creation_date": 1516650562, "post_id": 48374728, "comment_id": 83766040, "body": "That&#39;s what <code>bind(object : TypeLiteral&lt;Function1&lt;Int, Unit&gt;&gt;() {}).toInstance({})</code> (from my question) does. The error that it generates is shown in the question."}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1516595724, "creation_date": 1516595724, "answer_id": 48374728, "question_id": 48371583, "link": "https://stackoverflow.com/questions/48371583/how-to-bind-a-kotlin-function-in-guice/48374728#48374728", "title": "How to bind a Kotlin Function in Guice", "body": "<p>What if you'll inject <code>Function1&lt;Int,Unit&gt;</code> instead of <code>(Int) -&gt; Unit</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 6162, "user_id": 1672027, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/356de98a7af65cf6dd187d3796ba04fd?s=128&d=identicon&r=PG", "display_name": "Matt Klein", "link": "https://stackoverflow.com/users/1672027/matt-klein"}, "is_accepted": true, "score": 2, "last_activity_date": 1516943305, "last_edit_date": 1516943305, "creation_date": 1516748318, "answer_id": 48412246, "question_id": 48371583, "link": "https://stackoverflow.com/questions/48371583/how-to-bind-a-kotlin-function-in-guice/48412246#48412246", "title": "How to bind a Kotlin Function in Guice", "body": "<p>tl;dr - Use:</p>\n\n<pre><code>bind(object : TypeLiteral&lt;Function1&lt;Int, @JvmSuppressWildcards Unit&gt;&gt;() {})\n    .toInstance({})\n</code></pre>\n\n<hr>\n\n<p>In the class</p>\n\n<pre><code>class MyClass @Inject constructor(val work: (Int) -&gt; Unit)) { ... }\n</code></pre>\n\n<p>the parameter <code>work</code> has a type (as least according to Guice) of:</p>\n\n<pre><code>kotlin.jvm.functions.Function1&lt;? super java.lang.Integer, kotlin.Unit&gt;\n</code></pre>\n\n<p>However,</p>\n\n<pre><code>bind(object : TypeLiteral&lt;Function1&lt;Int, Unit&gt;&gt;() {}).toInstance({})\n</code></pre>\n\n<p>registers a type of <code>kotlin.jvm.functions.Function1&lt;? super java.lang.Integer, **? extends** kotlin.Unit&gt;</code></p>\n\n<p>Changing <code>bind</code> to <code>bind(object : TypeLiteral&lt;Function1&lt;Int, **@JvmSuppressWildcards** Unit&gt;&gt;() {}).toInstance({})</code>\nto remove the variance on the return type allows Guice to properly inject the function.</p>\n"}], "owner": {"reputation": 6162, "user_id": 1672027, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/356de98a7af65cf6dd187d3796ba04fd?s=128&d=identicon&r=PG", "display_name": "Matt Klein", "link": "https://stackoverflow.com/users/1672027/matt-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1117, "favorite_count": 0, "accepted_answer_id": 48412246, "answer_count": 2, "score": 4, "last_activity_date": 1516943305, "creation_date": 1516567759, "last_edit_date": 1516574688, "question_id": 48371583, "link": "https://stackoverflow.com/questions/48371583/how-to-bind-a-kotlin-function-in-guice", "title": "How to bind a Kotlin Function in Guice", "body": "<p>I have a Kotlin class similar to this:</p>\n\n<pre><code>class MyClass @Inject constructor(val work: (Int) -&gt; Unit)) { ... }\n</code></pre>\n\n<p>Neither the <code>bind</code> nor the <code>@Provides</code> is working:</p>\n\n<pre><code>class FunctionModule : AbstractModule() {\n\n    override fun configure() {\n        bind(object : TypeLiteral&lt;Function1&lt;Int, Unit&gt;&gt;() {}).toInstance({})\n    }\n\n    @Provides\n    fun workFunction(): (Int) -&gt; Unit = { Unit }\n    }\n}\n</code></pre>\n\n<p>I keep getting the error:</p>\n\n<blockquote>\n  <p>No implementation for kotlin.jvm.functions.Function1&lt; ? super java.lang.Integer, kotlin.Unit> was bound.</p>\n</blockquote>\n\n<p>How can I inject an implementation for a Kotlin function using Guice?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 2, "creation_date": 1516571570, "post_id": 48371023, "comment_id": 83731161, "body": "Take a look at the answer by &#39;Google&#39; user. This would be the way to do it in Kotlin (or Java with Streams). fun mapReservas can be completed using &#39;groupBy&#39;, so why write it yourself. Your &#39;for(day in dayInferior..daySuperior)` can be done with a filter. Definitely worth looking at, and deserving of &#39;chosen answer&#39;."}, {"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1516588601, "post_id": 48371023, "comment_id": 83735119, "body": "Yes, I made a mistake choosing the answer, I though I was choosing that one, thanks for reminding me. @Mikezx6r"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1516567653, "last_edit_date": 1516567653, "creation_date": 1516565263, "answer_id": 48371201, "question_id": 48371023, "link": "https://stackoverflow.com/questions/48371023/how-can-i-change-this-to-use-for-loop-instead-of-foreach/48371201#48371201", "title": "How can I change this to use &quot;for loop&quot; instead of `forEach`", "body": "<p>If you iterate with a for loop over the <code>Map</code> each element is a <code>Pair</code>. If you write <code>(pair, list)</code> you destructure each Pair which itself consists of a <code>Pair</code> and a <code>List</code>.</p>\n\n<pre><code>fun interval(reservas: List&lt;Reservas&gt;, dayInferior: Int, daySuperior: Int) {\n    val map = mapReservas(reservas)\n\n    for(day in dayInferior..daySuperior) {\n\n        for((pair, list) in map) {\n            val reservasNum = pair.first\n            val reservasDay = pair.second\n            val reservasCount = list.count()\n            // ...\n        }\n    }\n    // ...\n}\n</code></pre>\n\n<p>Maybe this makes it more clear:</p>\n\n<pre><code>for(outerPair in map){\n    val (innerPair, list) = outerPair\n    val reservasNum = innerPair.first\n    val reservasDay = innerPair.second\n    val reservasCount = list.count()\n    // ...\n}\n</code></pre>\n\n<p>I left this function (<code>mapReservas</code>) untouched intentionally, because maybe you are using it somewhere else. But you can improve it right away by using <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">Type aliases</a> (since Kotlin 1.1).</p>\n\n<pre><code>typealias FlightNum = String\ntypealias Day = Int\n\nfun mapReservas(reservas: List&lt;Reservas&gt;): \n                  Map&lt;Pair&lt;FlightNum, Day&gt;, List&lt;Reservas&gt;&gt;  {\n   // ...\n}\n</code></pre>\n\n<p>As you can see the code becomes much more readable if you use the destructure syntax and Type aliases.</p>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1516632881, "post_id": 48371371, "comment_id": 83755668, "body": "I didn&#39;t think this was what the OP wanted, but of course this is the Kotlin-way of doing it. Elegant solution +1"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 3, "last_activity_date": 1516566353, "creation_date": 1516566353, "answer_id": 48371371, "question_id": 48371023, "link": "https://stackoverflow.com/questions/48371023/how-can-i-change-this-to-use-for-loop-instead-of-foreach/48371371#48371371", "title": "How can I change this to use &quot;for loop&quot; instead of `forEach`", "body": "<p>All your code can be replaced only with one function.</p>\n\n<pre><code>fun interval(reservas: List&lt;Reservas&gt;, dayInferior: Int, daySuperior: Int) {\n    reservas.groupBy { reserva -&gt; reserva.day to reserva.numFlight }\n        .filter { (key, _) -&gt; key.first in dayInferior..daySuperior }\n        .forEach { (key, reservas) -&gt;\n            val (reservasNum, reservasDay) = key\n            val reservasCount = reservas.count()\n            println(\"$reservasNum has $reservasCount passengers on day $reservasDay\")\n    }\n    println()\n    println(\"Press Enter\")\n    readLine()\n}\n</code></pre>\n\n<p>Explaining:</p>\n\n<ol>\n<li>As I undestand, at first you trying to group all your <code>Reservas</code> by <code>day</code> and <code>numFlight</code>. It can be done via one function <code>groupBy</code> where you pass pair of <code>day</code> and <code>numFlight</code>.</li>\n<li>Filter all <code>Reservas</code> by day. It can be done by checking if day belongs to range <code>dayInferior..daySuperior</code> (operator <code>in</code>).</li>\n<li>Print all reservas by using <code>forEach</code>. </li>\n</ol>\n\n<p>Other things</p>\n\n<ol>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">Destructing declarations</a></p>\n\n<pre><code>val reservasNum = it.key.first\nval reservasDay = it.key.second\n\nsame as \n\nval (reservasNum, reservasDa) = it.key\n</code></pre></li>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#underscore-for-unused-variables-since-11\" rel=\"nofollow noreferrer\">Omitting one unused parameter in lamda</a>:</p>\n\n<pre><code>.filter { (key, _) -&gt; ... }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 48371371, "answer_count": 2, "score": 3, "last_activity_date": 1516567653, "creation_date": 1516564269, "last_edit_date": 1516567193, "question_id": 48371023, "link": "https://stackoverflow.com/questions/48371023/how-can-i-change-this-to-use-for-loop-instead-of-foreach", "title": "How can I change this to use &quot;for loop&quot; instead of `forEach`", "body": "<p>I'm struggling to change it to use a for loop and still do the same thing.</p>\n\n<p>The program is supposed to read a file with some flights and this specific part of the program needs to read the file using two different days that the user inputs then it needs to show how many passengers there are per flight and each day.</p>\n\n<p>And how it's done now works but I'm trying to change it to use a for loop as I said before but doesn't work because I don't know how to do the same thing as map does but only in the <code>fun interval</code>.</p>\n\n<pre><code>fun interval(reservas: List&lt;Reservas&gt;, dayInferior: Int, daySuperior: Int) {\n    val map = mapReservas(reservas)\n    for(day in dayInferior..daySuperior) {\n        map.forEach {\n            val reservasNum = it.key.first\n            val reservasDay = it.key.second\n            val reservasCount = it.value.count()\n            if (reservasDay == day) {\n                 println(\"$reservasNum has $reservasCount passengers on day $day\")\n            }\n        }\n    }\n    println()\n    println(\"Press Enter\")                                                              \n    readLine()\n}\n\nfun mapReservas(reservas: List&lt;Reservas&gt;): Map&lt;Pair&lt;String, Int&gt;, List&lt;Reservas&gt;&gt; {\n    val map = mutableMapOf&lt;Pair&lt;String, Int&gt;, MutableList&lt;Reservas&gt;&gt;()\n    for (reserva in reservas) {\n        val key = reserva.numFlight to reserva.day\n        val list = map[key] ?: mutableListOf()\n        list.add(reserva)\n        map[key] = list\n    }\n    return map\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "parcelable", "parcel"], "answers": [{"comments": [{"owner": {"reputation": 12722, "user_id": 938845, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yNOAZ.png?s=128&g=1", "display_name": "Panchal Amit", "link": "https://stackoverflow.com/users/938845/panchal-amit"}, "edited": false, "score": 0, "creation_date": 1574346608, "post_id": 48371518, "comment_id": 104207662, "body": "Hi, I have same problem i have followed your way but still getting an error, will you please help me <a href=\"https://stackoverflow.com/questions/58976896/how-to-implement-parcelable-for-listinteger\" title=\"how to implement parcelable for listinteger\">stackoverflow.com/questions/58976896/&hellip;</a>"}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 14, "last_activity_date": 1516568232, "last_edit_date": 1516568232, "creation_date": 1516567381, "answer_id": 48371518, "question_id": 48371013, "link": "https://stackoverflow.com/questions/48371013/how-to-parcel-listint-with-kotlin/48371518#48371518", "title": "How to parcel List&lt;Int&gt; with kotlin", "body": "<p>You can write a list of integers as <code>int[]</code>:</p>\n\n<pre><code>parcel.writeIntArray(files.toIntArray())\n</code></pre>\n\n<p>Make sure you use the same data structure when reading back:</p>\n\n<pre><code>files = parcel.createIntArray().toList()\n</code></pre>\n\n<p>You could make it more efficient using extension functions by skipping the array representation:</p>\n\n<pre><code>parcel.writeIntList(files)\nfiles = parcel.createIntList()\n\nfun Parcel.writeIntList(input:List&lt;Int&gt;) {\n    writeInt(input.size) // Save number of elements.\n    input.forEach(this::writeInt) // Save each element.\n}\n\nfun Parcel.createIntList() : List&lt;Int&gt; {\n    val size = readInt()\n    val output = ArrayList&lt;Int&gt;(size)\n    for (i in 0 until size) {\n        output.add(readInt())\n    }\n    return output\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3826, "user_id": 1803879, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/adc631e70ac262fa5fab8bb81f0db715?s=128&d=identicon&r=PG", "display_name": "Tom Howard", "link": "https://stackoverflow.com/users/1803879/tom-howard"}, "is_accepted": false, "score": 6, "last_activity_date": 1594398870, "creation_date": 1594398870, "answer_id": 62838658, "question_id": 48371013, "link": "https://stackoverflow.com/questions/48371013/how-to-parcel-listint-with-kotlin/62838658#62838658", "title": "How to parcel List&lt;Int&gt; with kotlin", "body": "<p>Kotlin's <code>@Parcelize</code> annotation handles lists; you just need to make sure the list items implement the <code>Parcelable</code> interface as well:</p>\n<pre><code>@Parcelize\ndata class MyDataClass(\n    val items: List&lt;MyListItem&gt;?\n) : Parcelable\n\n@Parcelize\ndata class MyListItem(\n    var type: String?,\n    var itemId: Long = 0\n) : Parcelable\n</code></pre>\n"}], "owner": {"reputation": 1353, "user_id": 865464, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/W8E5S.jpg?s=128&g=1", "display_name": "Mohammad Zare", "link": "https://stackoverflow.com/users/865464/mohammad-zare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6237, "favorite_count": 0, "accepted_answer_id": 48371518, "answer_count": 2, "score": 8, "last_activity_date": 1594398870, "creation_date": 1516564176, "question_id": 48371013, "link": "https://stackoverflow.com/questions/48371013/how-to-parcel-listint-with-kotlin", "title": "How to parcel List&lt;Int&gt; with kotlin", "body": "<p>I want to pass a data class (that contains list of int as a property) to other activity through Bundle and therefore i need to add Parcelable implementation to my data class.\nany idea about how to parcel this property?</p>\n\n<pre><code>data class Test(val id: Long, val files: List&lt;Int&gt;?) : Parcelable {\n\nconstructor(parcel: Parcel) : this(\n        parcel.readLong(),\n        TODO(\"files\"))\n\noverride fun writeToParcel(parcel: Parcel, flags: Int) {\n    parcel.writeLong(id)\n}\n\noverride fun describeContents(): Int {\n    return 0\n}\n\ncompanion object CREATOR : Parcelable.Creator&lt;Test&gt; {\n    override fun createFromParcel(parcel: Parcel): Test {\n        return Test(parcel)\n    }\n\n    override fun newArray(size: Int): Array&lt;Test?&gt; {\n        return arrayOfNulls(size)\n    }\n}\n</code></pre>\n"}, {"tags": ["lambda", "kotlin", "sequence", "peano-numbers"], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 2, "last_activity_date": 1516563333, "last_edit_date": 1516563333, "creation_date": 1516562976, "answer_id": 48370835, "question_id": 48370552, "link": "https://stackoverflow.com/questions/48370552/cant-create-sequence-of-ints-in-kotlin-through-succesor-function-says-type-in/48370835#48370835", "title": "Can&#39;t create sequence of Ints in Kotlin through succesor function. Says &quot;Type Inference failed&quot;", "body": "<p>The problem in your code that your actually calling the constructor of <code>S</code>, rather than <code>invoke()</code>. You should change to following to make it work:</p>\n\n<pre><code>return generateSequence(0){x -&gt; S()(x)}\n</code></pre>\n\n<p>Of course it will be better, if you store <code>S</code> in local variable and reuse it in sequence generator:</p>\n\n<pre><code>fun sequenceOfNumbers(): Sequence&lt;Int&gt; {\n    val s = S()\n    return generateSequence(0){x -&gt; s(x)} //generateSequence(0, s::invoke)\n}\n</code></pre>\n\n<p>Or even better to make <code>S</code> singleton:</p>\n\n<pre><code>fun sequenceOfNumbers(): Sequence&lt;Int&gt; {\n    return generateSequence(0) { x -&gt; S(x)} //generateSequence(0, S::invoke)\n}\n\nobject S: (Int) -&gt; Int {\n    override operator fun invoke(x: Int) = x + 1\n}\n</code></pre>\n\n<p>So in the end your code will look like in your example.</p>\n"}], "owner": {"reputation": 499, "user_id": 1661303, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4706191f336afd8ee7b23d8cb11fcbad?s=128&d=identicon&r=PG", "display_name": "user1661303", "link": "https://stackoverflow.com/users/1661303/user1661303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 48370835, "answer_count": 1, "score": 1, "last_activity_date": 1516565935, "creation_date": 1516561212, "last_edit_date": 1516565935, "question_id": 48370552, "link": "https://stackoverflow.com/questions/48370552/cant-create-sequence-of-ints-in-kotlin-through-succesor-function-says-type-in", "title": "Can&#39;t create sequence of Ints in Kotlin through succesor function. Says &quot;Type Inference failed&quot;", "body": "<p>I'm trying to create a stream/sequence of natural numbers from the number 0 and a successor function S, through the generateSequence function.</p>\n\n<p>Here's what I've got:</p>\n\n<pre><code>package core\n\nfun sequenceOfNumbers(): Sequence&lt;Int&gt; {\n    return generateSequence(0){x -&gt; S(x)}\n}\n\nclass S: (Int) -&gt; Int {\n    override operator fun invoke(x: Int) = x + 1\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(sequenceOfNumbers().take(10).toList())\n}\n</code></pre>\n\n<p>I am aware this may not seem like the best way to solve this, as there already are increment operators, and that there already is a shortcut for generating the first n natural numbers, but I want S to be a class or at least object for some other reasons later.</p>\n\n<p>When I compile it I get the following messages:</p>\n\n<pre><code>Type inference failed: Cannot infer type parameter T in \n\nfun &lt;T : Any&gt; generateSequence(\n   seed: T?,\n   nextFunction: (T) \u2192 T?\n) : Sequence&lt;T&gt;\n\nNone of the following substitutions    \n(S?, (S) \u2192 S?)    \n(Int?, (Int) \u2192 Int?)\n(Any?, (Any) \u2192 Any?)\ncan be applied to    \n(Int, (Int) \u2192 S)\n</code></pre>\n\n<p>and </p>\n\n<blockquote>\n  <p>Too many arguments for public constructor S() defined in core.</p>\n</blockquote>\n\n<p>Other things I've tried is rewriting S as</p>\n\n<pre><code>class S: Function&lt;Int&gt; {\n    operator fun invoke(x: Int) = x + 1\n}\n</code></pre>\n\n<p>or changing the generateSequence function to</p>\n\n<pre><code>fun sequenceOfNumbers(start: Int): Sequence&lt;Int&gt; {\n    return generateSequence(seed = start, nextFunction = (x: Int) -&gt; S(x))\n}\n</code></pre>\n\n<p>which didn't work either. Last function got the compile messages \"Unexpected type specification\" and \"Unexpected tokens (use ';' to separate expressions on the same line\".</p>\n\n<p>Any way to solve this so that the <code>println</code> function prints out the first 10 natural numbers, and still uses the successor class?</p>\n"}, {"tags": ["spring", "sonarqube", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1516571683, "post_id": 48369526, "comment_id": 83731192, "body": "Agree: Adding an @Suppress on the method so Sonarqube doesn&#39;t keep flagging it, and you can add a comment so others don&#39;t wonder why it&#39;s suppressed."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1516556064, "last_edit_date": 1516556064, "creation_date": 1516554982, "answer_id": 48369526, "question_id": 48369495, "link": "https://stackoverflow.com/questions/48369495/kotlin-spread-operator-in-springapplicationbuilder/48369526#48369526", "title": "Kotlin - spread operator in SpringApplicationBuilder", "body": "<p>This method is called once when creating the application, I would ignore this warning.</p>\n\n<p>Essentially, that call is going to get compiled down to something like this (in Java):</p>\n\n<pre><code>Arrays.copyOf(args, args.length));\n</code></pre>\n\n<p>If you were to do this in a loop, or very frequently under load the warning would make sense. But for app-startup and only once at that, I'd just ignore it. </p>\n"}], "owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "accepted_answer_id": 48369526, "answer_count": 1, "score": 1, "last_activity_date": 1516556155, "creation_date": 1516554801, "last_edit_date": 1516556155, "question_id": 48369495, "link": "https://stackoverflow.com/questions/48369495/kotlin-spread-operator-in-springapplicationbuilder", "title": "Kotlin - spread operator in SpringApplicationBuilder", "body": "<p><a href=\"https://i.imgur.com/s1CJdlQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/s1CJdlQ.png\" alt=\"SonarQube error\"></a></p>\n\n<p>Is there any alternative to using a spread operator in such case? Or should I ignore the warning?</p>\n"}, {"tags": ["android", "android-studio", "webview", "kotlin", "android-webview"], "comments": [{"owner": {"reputation": 710, "user_id": 4418990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcDkAknqj0s/AAAAAAAAAAI/AAAAAAAAACI/gD8qrN7ARR8/photo.jpg?sz=128", "display_name": "Vrushali Raut", "link": "https://stackoverflow.com/users/4418990/vrushali-raut"}, "edited": false, "score": 0, "creation_date": 1516549771, "post_id": 48368018, "comment_id": 83723843, "body": "hey @FlatDog have you tried setting the heap size in the manifest?  <a href=\"http://www.b4x.com/android/forum/th...lication-memory-cache-size.33760/#post-197730\" rel=\"nofollow noreferrer\">b4x.com/android/forum/th...lication-memory-cache-size.33760/&zwnj;&#8203;&hellip;</a> Also One more link i got while seraching on the improving webview performance : -  <a href=\"https://stackoverflow.com/questions/21282519/how-to-make-a-webview-load-fast-and-adding-a-progress-bar-to-it\" title=\"how to make a webview load fast and adding a progress bar to it\">stackoverflow.com/questions/21282519/&hellip;</a>"}, {"owner": {"reputation": 2749, "user_id": 2470770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e74a771d32777585c2af8de2f5490593?s=128&d=identicon&r=PG", "display_name": "lib4", "link": "https://stackoverflow.com/users/2470770/lib4"}, "edited": false, "score": 0, "creation_date": 1516550549, "post_id": 48368018, "comment_id": 83724126, "body": "Could u post the entire class, and it could be better Web view loadurl should be called in onresume method instead of oncreate"}, {"owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "edited": false, "score": 0, "creation_date": 1516587683, "post_id": 48368018, "comment_id": 83734942, "body": "I updated the post with the entire class. It doesn&#39;t seem to be any different moving webView loadURL from onResume."}, {"owner": {"reputation": 880, "user_id": 1654690, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f24dfc79b29dab23804693ecf3e88b2?s=128&d=identicon&r=PG", "display_name": "andreich", "link": "https://stackoverflow.com/users/1654690/andreich"}, "edited": false, "score": 0, "creation_date": 1545293269, "post_id": 48368018, "comment_id": 94576654, "body": "@FlatDog Was you solve this problem?"}, {"owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "reply_to_user": {"reputation": 880, "user_id": 1654690, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f24dfc79b29dab23804693ecf3e88b2?s=128&d=identicon&r=PG", "display_name": "andreich", "link": "https://stackoverflow.com/users/1654690/andreich"}, "edited": false, "score": 0, "creation_date": 1545399000, "post_id": 48368018, "comment_id": 94617670, "body": "@andreich, no, just appears to be normal slowness of simulator."}], "owner": {"reputation": 2516, "user_id": 3890041, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/acb0375bb7d035f9b1cda3c0bd8eb36e?s=128&d=identicon&r=PG&f=1", "display_name": "FlatDog", "link": "https://stackoverflow.com/users/3890041/flatdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1516587660, "creation_date": 1516545920, "last_edit_date": 1516587660, "question_id": 48368018, "link": "https://stackoverflow.com/questions/48368018/activity-slow-load-when-there-is-a-webview", "title": "Activity slow load when there is a webView", "body": "<p>I have an activity that contains a button, the button initiates an intent to open another activity and sets some extra data, e.g.:</p>\n\n<pre><code>val intent = Intent(this, ViewOnline::class.java)\nintent.putExtra(URL_TO_SEND_KEY, url)\nthis.startActivity(intent)\n</code></pre>\n\n<p>In the activity that is launched, it simply contains a webView and nothing else. In onCreate I have:</p>\n\n<pre><code>webView.webViewClient = webViewClient\n\nwebView.settings.javaScriptEnabled = true\nwebView.settings.loadWithOverviewMode = true\nwebView.settings.useWideViewPort = true\n\nval url = intent.extras.get(URL_TO_SEND_KEY) as String?\nif (url != null) {\n    webView.loadUrl(url)\n}\n</code></pre>\n\n<p>This all works fine, but, when launching the activity from pressing the button it takes ~5 seconds before the new activity is displayed and I can't work out what it's doing and why it takes so long. Any ideas?</p>\n\n<p>UPDATE: It appears to only be an issue in the emulator. Real device doesn't seem to experience the same problem.</p>\n\n<p>Here is the full class:</p>\n\n<pre><code>import android.annotation.SuppressLint\nimport android.graphics.Bitmap\nimport android.os.Build\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport android.webkit.WebView\nimport android.webkit.WebViewClient\nimport com.google.android.gms.ads.AdListener\nimport com.google.android.gms.ads.AdRequest\nimport com.google.android.gms.ads.MobileAds\nimport kotlinx.android.synthetic.main.resources_online.*\nimport org.jetbrains.anko.indeterminateProgressDialog\n\n@SuppressLint(\"SetJavaScriptEnabled\")\nclass ViewResourcesOnline : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.resources_online)\n\n        setupAdView()\n\n        loadBannerAd()\n\n        val loadingDialogue = indeterminateProgressDialog(\"Loading...\")\n\n        val webViewClient: WebViewClient = object: WebViewClient() {\n            override fun onPageFinished(view: WebView?, url: String?) {\n                super.onPageFinished(view, url)\n                loadingDialogue.dismiss()\n            }\n\n            override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                super.onPageStarted(view, url, favicon)\n                loadingDialogue.show()\n            }\n        }\n\n        button_back_resources_online.setOnClickListener {\n            finish()\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= 19) {\n            webView_resources_online.setLayerType(View.LAYER_TYPE_HARDWARE, null)\n        }\n        else {\n            webView_resources_online.setLayerType(View.LAYER_TYPE_SOFTWARE, null)\n        }\n\n        webView_resources_online.webViewClient = webViewClient\n\n        webView_resources_online.settings.javaScriptEnabled = true\n        webView_resources_online.settings.loadWithOverviewMode = true\n        webView_resources_online.settings.useWideViewPort = true\n\n        val url = intent.extras.get(RESOURCES_KEY) as String?\n\n        when {\n            (url != null) -&gt; {\n                webView_resources_online.loadUrl(url)\n            }\n            else -&gt; {\n                finish()\n            }\n        }\n    }\n\n    private fun setupAdView() {\n        adView_resources_online.adListener = object: AdListener() {\n            override fun onAdLoaded() {\n                adView_resources_online.visibility = View.VISIBLE\n            }\n\n            override fun onAdFailedToLoad(errorCode : Int) {\n                adView_resources_online.visibility = View.GONE\n            }\n\n        }\n    }\n\n    private fun loadBannerAd() {\n        MobileAds.initialize(this, getString(R.string.adMobAppId))\n\n        if (!inAppPurchase) {\n            adView_resources_online.loadAd(AdRequest.Builder().build())\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "java", "android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1516534621, "post_id": 48366304, "comment_id": 83719248, "body": "See here <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/multiplatform.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 871354, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 1, "last_activity_date": 1516535991, "last_edit_date": 1516535991, "creation_date": 1516534717, "answer_id": 48366351, "question_id": 48366304, "link": "https://stackoverflow.com/questions/48366304/writing-code-for-js-and-java/48366351#48366351", "title": "Writing code for JS and Java", "body": "<p>Yes, it's certainly possible to do that. This answer is a generic Java and JavaScript answer; there may also be a Kotlin-specific approach, see <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">the link</a> in <a href=\"https://stackoverflow.com/questions/48366304/writing-code-for-js-and-java/48366351#comment83719248_48366304\">zsmb13's comment</a>. But the generic Java and JavaScript approach would be:</p>\n\n<ol>\n<li>Write your interface around <code>BufferedImage</code> in Java</li>\n<li>Write your interface around <code>canvas</code> in JavaScript</li>\n<li>Write your manipulation code using that interface in JavaScript</li>\n<li>On the browser, your manipulation code would run directly on the browser's JavaScript engine</li>\n<li>In the Java app, you'd run your JavaScript code using <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/script/package-summary.html\" rel=\"nofollow noreferrer\"><code>javax.script</code></a> to run it in Nashorn (or Rhino on older Java environments).</li>\n</ol>\n\n<p>Whether it's the best solution to your problem is something only you can decide, but yes, you <em>can</em> do it.</p>\n"}], "owner": {"reputation": 411, "user_id": 9247087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f67a8c2c2bdb8174040a33c31d5aee?s=128&d=identicon&r=PG&f=1", "display_name": "James B.", "link": "https://stackoverflow.com/users/9247087/james-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 48366351, "answer_count": 1, "score": 1, "last_activity_date": 1516535991, "creation_date": 1516534378, "question_id": 48366304, "link": "https://stackoverflow.com/questions/48366304/writing-code-for-js-and-java", "title": "Writing code for JS and Java", "body": "<p>I'm trying to write a module of code which can be used with Javascript for the client side browser and Kotlin for a Java desktop application and Android app.</p>\n\n<p>The main logic manipulates a bitmap/png file.</p>\n\n<p>Is there a way which I can write an interface to be used and have different implementations of the interface for JS and Kotlin?</p>\n\n<p>For example, write a wrapper class for an image (load from image, set pixels, get pixels) in Java (using BufferedImage) and JS (using Canvas)?</p>\n\n<p>I'm new here so if anything doesn't make sense or needs more clarification, please let me know! </p>\n"}, {"tags": ["android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "edited": false, "score": 0, "creation_date": 1516529720, "post_id": 48365698, "comment_id": 83718036, "body": "Hi this url(&quot;<a href=\"https://www.google.ru/search?client=opera&amp;q=google&amp;sourceid=opera&amp;ie=UTF-8&amp;oe=UTF-8&quot;\" rel=\"nofollow noreferrer\">google.ru/&hellip;</a>) is opening result urls in new tab, that&#39;s why your webview doest&#39;t have any history to goBack"}, {"owner": {"reputation": 11, "user_id": 8678127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b884dc7035bd51cc38b3d95ffe65f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Fehty", "link": "https://stackoverflow.com/users/8678127/fehty"}, "reply_to_user": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "edited": false, "score": 0, "creation_date": 1516534706, "post_id": 48365698, "comment_id": 83719261, "body": "Ok thanks a lot. That case what should I do?"}, {"owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "edited": false, "score": 0, "creation_date": 1516534804, "post_id": 48365698, "comment_id": 83719290, "body": "Hi please hold on, posting a solution for that"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8678127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b884dc7035bd51cc38b3d95ffe65f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Fehty", "link": "https://stackoverflow.com/users/8678127/fehty"}, "edited": false, "score": 0, "creation_date": 1516554514, "post_id": 48366489, "comment_id": 83725476, "body": "Thanks but it didn&#39;t help me("}], "tags": [], "owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1516535795, "creation_date": 1516535795, "answer_id": 48366489, "question_id": 48365698, "link": "https://stackoverflow.com/questions/48365698/webview-go-back/48366489#48366489", "title": "WebView go back", "body": "<p><strong>Android WebView new tab action urls can be handled by extending WebChromeClient.</strong></p>\n\n<p>Please take a look for activity class</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.webkit.*\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    private val changeU: String = \"https://www.google.ru/search?client=opera&amp;q=google&amp;sourceid=opera&amp;ie=UTF-8&amp;oe=UTF-8\"\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        webView.settings.javaScriptEnabled = true\n        webView.settings.cacheMode = WebSettings.LOAD_CACHE_ELSE_NETWORK\n        webView.settings.setSupportZoom(true)\n        webView.settings.builtInZoomControls = true\n        webView.settings.displayZoomControls = false\n        // add multi window support\n        webView.settings.javaScriptCanOpenWindowsAutomatically = true\n        webView.webViewClient = MyWebViewClient()\n        webView.webChromeClient = MyWebChromeClient()\n\n        if (savedInstanceState == null) {\n            webView.loadUrl(changeU)\n        }\n\n    }\n\n    private inner class MyWebChromeClient : WebChromeClient() {\n        // handle new tab action urls if required\n        override fun onShowCustomView(view: View?, callback: CustomViewCallback?) {\n            super.onShowCustomView(view, callback)\n        }\n    }\n\n    private inner class MyWebViewClient : WebViewClient() {\n        override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n            view.loadUrl(url)\n            return true\n        }\n\n        override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n            return super.shouldOverrideUrlLoading(view, request)\n        }\n    }\n    override fun onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack()\n        } else {\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8678127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b884dc7035bd51cc38b3d95ffe65f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Fehty", "link": "https://stackoverflow.com/users/8678127/fehty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516535828, "creation_date": 1516529333, "last_edit_date": 1516535828, "question_id": 48365698, "link": "https://stackoverflow.com/questions/48365698/webview-go-back", "title": "WebView go back", "body": "<p>WebView can go back, forward  and reload on virtual device. When I test it on real device back and forward doesn't work.As for reload it works fine. I know the same question was asked but i didn't find solution for my example.</p>\n\n<pre><code>class Site : android.support.v4.app.Fragment(), OnBackPressedListener {\n\n    var changeU: String = \"https://www.google.ru/search?client=opera&amp;q=google&amp;sourceid=opera&amp;ie=UTF-8&amp;oe=UTF-8\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            return inflater.inflate(R.layout.site, container, false)\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n            super.onSaveInstanceState(outState)\n            webView.saveState(outState)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n            setHasOptionsMenu(true)\n            webView.settings.javaScriptEnabled = true\n            webView.settings.cacheMode = WebSettings.LOAD_CACHE_ELSE_NETWORK\n            if (savedInstanceState == null) {\n                    webView.loadUrl(changeU)\n            }\n            webView.settings.setSupportZoom(true)\n            webView.settings.builtInZoomControls = true\n            webView.settings.displayZoomControls = false\n            webView.webViewClient = MyWebViewClient()\n            super.onViewCreated(view, savedInstanceState)\n    }\n\n    private inner class MyWebViewClient : WebViewClient() {\n            override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n                    view.loadUrl(url)\n                    return true\n            }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n            inflater!!.inflate(R.menu.site_menu, menu)\n            super.onCreateOptionsMenu(menu, inflater)\n    }\n\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            when (item.itemId) {\n                    R.id.backT -&gt; {\n                            if (webView.canGoBack()) {\n                                    webView.goBack()\n                            } else {\n                            }\n                            return true\n                    }\n                    R.id.reloadT -&gt; {\n                            webView.reload()\n                            return true\n                    }\n                    R.id.forwardT -&gt; {\n                            if (webView.canGoForward()) {\n                                    webView.goForward()\n                            }\n                            return true\n                    }\n                    else -&gt; return super.onOptionsItemSelected(item)\n            }\n    }\n\n    override fun onBackPressed() {\n            if (webView.canGoBack()) {\n                    webView.goBack()\n            } else {\n            }\n    }\n}\n</code></pre>\n\n<p>I suppose it's so simple mistake but i can't solve it.</p>\n"}, {"tags": ["bluetooth", "null", "crash", "kotlin"], "comments": [{"owner": {"reputation": 11, "user_id": 6501646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72b3bdae098ada55049ede871b95e525?s=128&d=identicon&r=PG&f=1", "display_name": "Lowkin", "link": "https://stackoverflow.com/users/6501646/lowkin"}, "edited": false, "score": 0, "creation_date": 1516577792, "post_id": 48364380, "comment_id": 83732825, "body": "I got it too work, by using a MutableList&lt;BluetoothDevice?&gt;  I think the problem was in my recyclerView I was referencing potential Null Values from the BluetoothDevice such as name."}], "owner": {"reputation": 11, "user_id": 6501646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72b3bdae098ada55049ede871b95e525?s=128&d=identicon&r=PG&f=1", "display_name": "Lowkin", "link": "https://stackoverflow.com/users/6501646/lowkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516517490, "creation_date": 1516517490, "question_id": 48364380, "link": "https://stackoverflow.com/questions/48364380/kotlin-bluetooth-intent-getparcelableextrabluetooth-extra-device-returns-nu", "title": "Kotlin, Bluetooth - intent.getParcelableExtra(Bluetooth.EXTRA_DEVICE) returns Null and crashes", "body": "<pre><code>    var pairedDevice = mBluetoothAdapter.bondedDevices\n    deviceAdapter = DeviceAdapter(this,pairedDevice)\n    bluetooth_listView.adapter = deviceAdapter\n    layoutManager = LinearLayoutManager(this)\n    bluetooth_listView.layoutManager = layoutManager\n\n     mBroadcastReceiver = object : BroadcastReceiver() {\n        override fun onReceive(context: Context?, intent: Intent?) {\n                    val device = intent?.getParcelableExtra&lt;BluetoothDevice&gt;(BluetoothDevice.EXTRA_DEVICE)\n                    pairedDevice.add(device)\n            }\n        }\n</code></pre>\n\n<p>pairedDevice.add(device) is the line that seems to crash my program, because device is null.\nI have tried checking that it's not null before and it still doesn't fix it.\nI have also tried using </p>\n\n<pre><code>BluetoothDevice selectedDevice = intent.getParcelableExtra(EXTRA_MESSAGE);\n</code></pre>\n\n<p>Which also seems to give me null.</p>\n\n<p>Any help would be appreciated</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "edited": false, "score": 2, "creation_date": 1516516686, "post_id": 48364278, "comment_id": 83715415, "body": "why you need context in Presenter? In MVP logic the presenter should have no concept of the Android Context (or any other Android classes)."}, {"owner": {"reputation": 45, "user_id": 9246430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-diIG93Hmrzg/AAAAAAAAAAI/AAAAAAAAC14/GWbxJdkp38Y/photo.jpg?sz=128", "display_name": "Guillermo Antonio Varela Herre", "link": "https://stackoverflow.com/users/9246430/guillermo-antonio-varela-herre"}, "reply_to_user": {"reputation": 1000, "user_id": 5943968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/799d7feb60abf46e258e6be0d9d9ba11?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Dew", "link": "https://stackoverflow.com/users/5943968/naveen-dew"}, "edited": false, "score": 0, "creation_date": 1516665359, "post_id": 48364278, "comment_id": 83772106, "body": "I&#39;m getting some info from a 3rd party library on an Activity <i>onActivityResult</i> so in order to validate some info, which I think should not be done on the Activity, but in the Presenter instead and to avoid hardcoding values I think it&#39;s better to have them on strings.xml"}], "answers": [{"comments": [{"owner": {"reputation": 6515, "user_id": 272924, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/WYhVU.jpg?s=128&g=1", "display_name": "dark_ruby", "link": "https://stackoverflow.com/users/272924/dark-ruby"}, "edited": false, "score": 0, "creation_date": 1542487538, "post_id": 48365076, "comment_id": 93588403, "body": "I get compolation error <code>This type supports members injection but cannot be implicitly provided.</code> any advice?"}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 4, "last_activity_date": 1516524122, "creation_date": 1516524122, "answer_id": 48365076, "question_id": 48364278, "link": "https://stackoverflow.com/questions/48364278/how-to-inject-context-into-a-presenter-using-dagger-2/48365076#48365076", "title": "How to inject Context into a Presenter using Dagger 2", "body": "<p>You're using <code>CustomApplication</code> with Dagger in your <code>ApplicationComponent</code>, so that's what it knows about. It doesn't try to resolve types on its own, so <code>Application</code> is some class Dagger never heard about.</p>\n\n<p>You can either add another <code>@Provides</code> / <code>@Binds</code> to bind <code>CustomApplication &gt; Application &gt; Context</code> or just go the direct way and change your code to require a <code>CustomApplication</code> instead of <code>Application</code>:</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideContext(application: CustomApplication): Context {\n    return application\n}\n\n  // ... or alternatively ...\n\n@Provides\n@Singleton\nfun provideApplication(application: CustomApplication): Application {\n    return application\n}\n\n@Provides\n@Singleton\nfun provideContext(application: Application): Context {\n    return application\n}\n</code></pre>\n\n<p>Either way your application can then be used as a <code>Context</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 9246430, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-diIG93Hmrzg/AAAAAAAAAAI/AAAAAAAAC14/GWbxJdkp38Y/photo.jpg?sz=128", "display_name": "Guillermo Antonio Varela Herre", "link": "https://stackoverflow.com/users/9246430/guillermo-antonio-varela-herre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3008, "favorite_count": 0, "accepted_answer_id": 48365076, "answer_count": 1, "score": 3, "last_activity_date": 1516524122, "creation_date": 1516516208, "question_id": 48364278, "link": "https://stackoverflow.com/questions/48364278/how-to-inject-context-into-a-presenter-using-dagger-2", "title": "How to inject Context into a Presenter using Dagger 2", "body": "<p>I've been checking recently Dagger 2.14.1 with the new Android injectors.</p>\n\n<p>I'm using MVP and the Presenter is getting inject into the View correctly:</p>\n\n<pre><code>class CustomApplication : Application(), HasActivityInjector {\n\n    @Inject\n    lateinit var activityDispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        DaggerApplicationComponent\n                .builder()\n                .create(this)\n                .inject(this)\n    }\n\n    override fun activityInjector(): DispatchingAndroidInjector&lt;Activity&gt; {\n        return activityDispatchingAndroidInjector\n    }\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>@Singleton\n@Suppress(\"UNUSED\")\n@Component(modules = arrayOf(AndroidInjectionModule::class, ApplicationModule::class, ActivityBuilder::class))\ninterface ApplicationComponent : AndroidInjector&lt;CustomApplication&gt; {\n\n    @Component.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;CustomApplication&gt;()\n\n    override fun inject(application: CustomApplication)\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>@Module\nclass ApplicationModule {\n\n    @Provides\n    @Singleton\n    fun provideContext(application: Application): Context {\n        return application\n    }\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>@Module\n@Suppress(\"UNUSED\")\nabstract class ActivityBuilder {\n    @ContributesAndroidInjector(modules = arrayOf(ActivitiesModule::class))\n    internal abstract fun bindSplashActivity(): SplashActivity\n}\n</code></pre>\n\n<p>--</p>\n\n<pre><code>@Singleton\nclass SplashPresenter @Inject constructor() {\n\n    fun test() {\n        Log.d(\"TAG\", \"this is a test\")\n    }\n}\n</code></pre>\n\n<p>Now, instead of having the logged message harcoded, I would like to get it from string.xml, so I tried this:</p>\n\n<pre><code>@Singleton\nclass SplashPresenter @Inject constructor(private val context: Context) {\n\n    fun test() {\n        Log.d(\"TAG\", context.getString(R.strings.test))\n    }\n}\n</code></pre>\n\n<p>But then I get this error:</p>\n\n<blockquote>\n  <p>Error:(7, 1) error: [dagger.android.AndroidInjector.inject(T)]\n  android.app.Application cannot be provided without an @Inject\n  constructor or from an @Provides-annotated method.</p>\n</blockquote>\n\n<p>Could anyone tell me please how to inject the app context (or the resources) into the presenter?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-cloud", "spring-webflux", "spring-cloud-sleuth"], "answers": [{"tags": [], "owner": {"reputation": 8371, "user_id": 1773866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a384fbfb3e9df1f9f73565863dcd96b8?s=128&d=identicon&r=PG", "display_name": "Marcin Grzejszczak", "link": "https://stackoverflow.com/users/1773866/marcin-grzejszczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1516521396, "creation_date": 1516521396, "answer_id": 48364800, "question_id": 48363905, "link": "https://stackoverflow.com/questions/48363905/implement-spring-cloud-sleuths-tracingwebfillter-in-spring-webflux/48364800#48364800", "title": "Implement Spring Cloud Sleuth&#39;s TracingWebFillter in Spring WebFlux", "body": "<p>Please check out the latest <code>master</code> - we've migrated to Brave. You can write your <code>WebFilter</code> that will delegate to <code>TraceWebFilter</code>. Or you can just copy our <code>TraceWebFilter</code> and alter it in the way you need to.</p>\n"}], "owner": {"reputation": 13, "user_id": 9246300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9b29878aaf29a747561736dc0b77b6?s=128&d=identicon&r=PG&f=1", "display_name": "A Kumar", "link": "https://stackoverflow.com/users/9246300/a-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 48364800, "answer_count": 1, "score": 1, "last_activity_date": 1532499801, "creation_date": 1516511693, "question_id": 48363905, "link": "https://stackoverflow.com/questions/48363905/implement-spring-cloud-sleuths-tracingwebfillter-in-spring-webflux", "title": "Implement Spring Cloud Sleuth&#39;s TracingWebFillter in Spring WebFlux", "body": "<p>I have a Spring Boot Reactive  application using Functional Endpoints ( Kotlin) that uses Spring Cloud Sleuth. I want to customize the response headers to include the trace id. I looked at the manual and saw the section on using the TraceFilter : <a href=\"http://cloud.spring.io/spring-cloud-static/spring-cloud-sleuth/2.0.0.M5/single/spring-cloud-sleuth.html#_tracefilter\" rel=\"nofollow noreferrer\">1</a></p>\n\n<p>I tried to do the same using a TraceWebFilter, but it doesn't expose the constructors. Is there a way to implement this customization when using the Reactive Web Framework.</p>\n\n<p>I am using version 2.0.0.M5 for Spring Cloud Sleuth</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["java", "android", "bluetooth", "kotlin", "android-notifications"], "owner": {"reputation": 1776, "user_id": 9011723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20385cc990720ff64499b9de3b52fc70?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Ghignatti", "link": "https://stackoverflow.com/users/9011723/jo%c3%a3o-ghignatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1516501254, "creation_date": 1516501254, "question_id": 48363070, "link": "https://stackoverflow.com/questions/48363070/android-correct-way-of-notifications-and-a-service", "title": "Android - Correct way of notifications and a Service", "body": "<p>I'm working on an Android APP that has to keep a connection via Bluetooth and listen to incoming calls, if it is running in the foreground or not.<br>\nI was able to get it working by keeping a Service running when I got the Bluetooth connection and stopping it when disconnected. The <code>Service</code>:</p>\n\n<pre><code>public class ConnectionService extends Service {\n\n    private final int NOTIFICATION_ID = 327;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        return START_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        throw new UnsupportedOperationException(\"Not yet implemented\");\n    }\n\n    @Override\n    public void onCreate() {\n        //Creates notification\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);\n        Notification notification = new NotificationCompat.Builder(this)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setContentTitle(\"Title\")\n                .setContentIntent(pendingIntent).build();\n        //Makes service run in foreground\n        startForeground(NOTIFICATION_ID, notification);\n\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        stopForeground(true);\n        super.onDestroy();\n    }\n}\n</code></pre>\n\n<p>My question is: <strong>Considering changes on how notifications work and that I don't really understand how it worked and how it is working now, which is the correct way of creating a notification?<br>\nAnd still, considering what I'm trying to get with this Service, do you have any comment whether it's good or bad?</strong></p>\n\n<p>Thanks to all.\n*The code presented is in Java, but now I'm working with Kotlin, so both languages are accepted.</p>\n"}, {"tags": ["android", "tree", "kotlin", "android-view", "android-custom-view"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 2, "creation_date": 1516508481, "post_id": 48362770, "comment_id": 83714081, "body": "I don&#39;t know much about custom view. But I think you may try to use <code>addView(View)</code> and let the child view to do the drawing itself."}, {"owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1516541602, "post_id": 48362770, "comment_id": 83721184, "body": "@BakaWaii Yes, I am aware that I could use <code>addView</code> but then I would need to extend <code>ViewGroup</code> instead of <code>View</code>. How exactly would my custom view implementation differ if I extended <code>ViewGroup</code> instead? Thanks."}, {"owner": {"reputation": 5383, "user_id": 993416, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e3ab14b848205f799c1471f2d58bf4df?s=128&d=identicon&r=PG", "display_name": "Alex Fu", "link": "https://stackoverflow.com/users/993416/alex-fu"}, "edited": false, "score": 0, "creation_date": 1516640840, "post_id": 48362770, "comment_id": 83761034, "body": "Since you aren&#39;t adding your PersonView as a child to your custom view, I think what you&#39;re missing is calling the measure method on PersonView."}], "owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516497567, "creation_date": 1516497567, "question_id": 48362770, "link": "https://stackoverflow.com/questions/48362770/draw-custom-view-inside-custom-view", "title": "Draw custom view inside custom view", "body": "<p>I am working on a custom view, <code>TreeView</code>, which would display a tree given a root node. I am using the Kotlin language.</p>\n\n<p>Here's what part of it looks like at the moment:</p>\n\n<pre><code>override fun onDraw(canvas: Canvas?) {\n    super.onDraw(canvas)\n\n    drawNodeAndChildren(canvas, rootNode)\n}\n\n/**\n * Draws a representation of a node and its children onto the canvas.\n * ...\n */\nprivate fun drawNodeAndChildren(canvas: Canvas, node: TreeNode&lt;Person&gt;, ...): Int {\n    ...\n\n    // Calculate coordinates of rect\n    val top = ...\n    val bottom = ...\n    val left = ...\n    val right = ...\n\n    // Draw node representation\n    val rect = RectF(left, top, right, bottom)\n    canvas.drawRect(rect, nodePaint)\n\n    // Draw line to connect to parent\n    ...\n\n    // Repeat for children\n    ...\n}\n</code></pre>\n\n<p>This works successfully, and I am able to produce a visual tree with rectangles representing nodes and lines between parents and children.</p>\n\n<p>However, I want to be able to display an image and text of the person. I have written a compound view called <code>PersonView</code> which is able to do this given a <code>Person</code> object. Ideally, in the future, the user would be able to click on these <code>PersonView</code>s in the <code>TreeView</code> to trigger an action.</p>\n\n<p>So essentially, instead of rectangles, <code>PersonView</code>s would be drawn.</p>\n\n<p>I have tried creating the view programmatically and setting its layout params like so:</p>\n\n<pre><code>    ...\n\n    val personView = PersonView(context).apply { person = node.data }\n    val layoutParams = ViewGroup.LayoutParams(\n            (right - left).toInt(), // width\n            (bottom - top).toInt() // height\n    )\n    personView.layoutParams = layoutParams\n    personView.x = left\n    personView.y = top\n    personView.draw(canvas)\n    ...\n</code></pre>\n\n<p>I've also tried:</p>\n\n<pre><code>    ...\n\n    val personView = PersonView(context).apply { person = node.data }\n    personView.layout(left.toInt(), top.toInt(), right.toInt(), bottom.toInt())\n    personView.draw(canvas)\n    ...\n</code></pre>\n\n<p>In both cases, nothing is drawn instead of the rectangles - it's as if the two code samples above has no effect.</p>\n\n<p><em>N.B. the lines between where the rectangles would be (i.e. connections between nodes) is drawn, and this part of the code has not been altered.</em></p>\n\n<p>So my question is <strong>how do I draw a custom view inside another custom view</strong> so that I can get the effect I have described?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3371314, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b2f78b69bb99f33c8c10428bed9316c6?s=128&d=identicon&r=PG&f=1", "display_name": "SirWindfield", "link": "https://stackoverflow.com/users/3371314/sirwindfield"}, "edited": false, "score": 0, "creation_date": 1516625933, "post_id": 48363053, "comment_id": 83750964, "body": "The parser just scans at runtime for all public fields. A post-processing methods sounds the most viable one to be honest. I find it kind of strange that we cannot add annotations to the instance field. Kotlin gives quite a lot of freedom by default."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1516501030, "creation_date": 1516501030, "answer_id": 48363053, "question_id": 48362766, "link": "https://stackoverflow.com/questions/48362766/is-there-a-way-to-annotate-the-instance-field-of-kotlin-objects/48363053#48363053", "title": "Is there a way to annotate the INSTANCE field of kotlin objects?", "body": "<p>Basically, the answer is no, Kotlin does not allow annotating or altering the <code>INSTANCE</code> fields in any other way. If you believe this could be a useful feature, please file a feature request at <a href=\"https://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>.</p>\n\n<p>The valid solutions to this problem are:</p>\n\n<ul>\n<li><p>Make the bytecode analyzing tool Kotlin-aware, i.e. make it behave correctly with Kotlin declarations. Though this requires non-trivial job to be done and does not seem possible in your case, it could be a valuable time investment.</p></li>\n<li><p>Create another ad-hoc tool that post-processes the classes produced by the Kotlin compiler and adds the annotations you need, then include that tool into your build.</p></li>\n</ul>\n"}], "owner": {"reputation": 79, "user_id": 3227779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3192c7adf4f00084d511c228cce08adb?s=128&d=identicon&r=PG&f=1", "display_name": "Sven", "link": "https://stackoverflow.com/users/3227779/sven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516501030, "creation_date": 1516497532, "question_id": 48362766, "link": "https://stackoverflow.com/questions/48362766/is-there-a-way-to-annotate-the-instance-field-of-kotlin-objects", "title": "Is there a way to annotate the INSTANCE field of kotlin objects?", "body": "<p>I have a Kotlin object that has several fields exposed as static <code>@JvmFields</code>. The parser that I use (which I cannot edit or change) looks for <code>public static</code> fields and creates a configuration file based on those. Since the <code>INSTANCE</code> field is public too, the parser generates a new category called <code>instance</code>. Is there a way to add actual annotations to the <code>INSTANCE</code> field? I would want to add the @Ingore annotation to it so the parser does not use the <code>INSTANCE</code> field.</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1516527836, "post_id": 48361134, "comment_id": 83717606, "body": "You won&#39;t be able to use the static <code>setUniform</code> overloads, instead you&#39;ll have to pass in a type tag (the class of the value). You can hold the values in a <i>heterogeneous map</i> (published in Effective Java). In Kotlin some of the boilerplate may be reduced if you&#39;re able to apply the <i>reified type parameters</i>."}, {"owner": {"reputation": 604, "user_id": 1541150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6eec6d2426c8bb3fc2204d688541d9f?s=128&d=identicon&r=PG", "display_name": "realh", "link": "https://stackoverflow.com/users/1541150/realh"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1516561900, "post_id": 48361134, "comment_id": 83728000, "body": "I&#39;ve never taken the time to learn much about reflection in Java or Kotlin, but it doesn&#39;t look like it would help here. Kotlin uses <code>KClass</code> instead of <code>java.lang.Class</code> (although you can obtain the latter from the former), and <code>KClass</code> is itself generic."}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": -1, "last_activity_date": 1516484831, "creation_date": 1516484831, "answer_id": 48361437, "question_id": 48361134, "link": "https://stackoverflow.com/questions/48361134/is-there-a-way-around-javas-inability-to-forward-generic-arguments-to-non-gener/48361437#48361437", "title": "Is there a way around Java&#39;s inability to forward generic arguments to non-generic types?", "body": "<p>Looks like that's not possible. Types are being erased in Java and there is no templates.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1516551835, "creation_date": 1516551835, "answer_id": 48368970, "question_id": 48361134, "link": "https://stackoverflow.com/questions/48361134/is-there-a-way-around-javas-inability-to-forward-generic-arguments-to-non-gener/48368970#48368970", "title": "Is there a way around Java&#39;s inability to forward generic arguments to non-generic types?", "body": "<p>The basic reason is not really type erasure: it's because C++ templates are typechecked after instantiation and Java (and Kotlin and most other languages with this feature) typecheck the generic code itself. So you'd need a <em>constraint</em> requiring <code>T</code> to have a static method and neither Kotlin nor Java support those. The only language I know of which does is <a href=\"https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/generics/constraints\" rel=\"nofollow noreferrer\">F#</a>, which isn't available on JVM. Scala has a very nice and general workaround called typeclass pattern which isn't yet supported in Kotlin. </p>\n"}], "owner": {"reputation": 604, "user_id": 1541150, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6eec6d2426c8bb3fc2204d688541d9f?s=128&d=identicon&r=PG", "display_name": "realh", "link": "https://stackoverflow.com/users/1541150/realh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516551835, "creation_date": 1516482603, "question_id": 48361134, "link": "https://stackoverflow.com/questions/48361134/is-there-a-way-around-javas-inability-to-forward-generic-arguments-to-non-gener", "title": "Is there a way around Java&#39;s inability to forward generic arguments to non-generic types?", "body": "<p>In C++ I can write code like this:</p>\n\n<pre><code>class Shader {\n    ...\n    void setUniform(GLuint handle, int value);\n    void setUniform(GLuint handle, float value);\n    void setUniform(GLuint handle, const std::vector&lt;float&gt; &amp;value);\n    ...\n};\n\nclass UniformValueBase {\n    ...\n    GLuint handle;\n    Shader &amp;shader;\n    virtual void apply() = 0;\n};\n\ntemplate&lt;typename T&gt; class UniformValue: public UniformValueBase {\n    ...\n    T value;\n    virtual void apply() override {\n        shader.setUniform(handle, value);\n};\n</code></pre>\n\n<p>and it will work when <code>T</code> is any type which has a <code>setUniform</code> method in <code>Shader</code>, and fail to compile if I try to use an unsupported <code>T</code>, which is exactly the behaviour I want.</p>\n\n<p>Unfortunately the equivalent doesn't work in Java or Kotlin because generics are based on type erasure, meaning <code>UniformValue</code> is implemented only once with <code>T</code> as <code>Object</code>/<code>Any</code>.</p>\n\n<p>I only need to support about half a dozen different types, so using non-generic subclasses of <code>UniformValueBase</code> instead of generics is workable, but is there an elegant and scalable idiom for this, either using a feature Kotlin has that Java doesn't, or one that works in both languages?</p>\n"}, {"tags": ["android", "sockets", "kotlin"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516698095, "post_id": 48361058, "comment_id": 83783079, "body": "<code>if (BluetoothService.send(b)</code>. My god.. Dont send the whole buffer. There are only numBytes in it. The buffer probably is not filled. Cant you read? Look at my loop. There is clearly `   <code>int nsend = BluetoothService.send(b, 0, numRead);</code>."}, {"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516698802, "post_id": 48361058, "comment_id": 83783550, "body": "@greenapps Ok. But look at the write function. The old version. It didn&#39;t make sense. It sent the whole buffer. It didn&#39;t use write(byte[], int, int), it used write(byte[]). So send(b) is the same as send(b, 0, numRead) because the second and third params have not been used. My mistake. I will update write function."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516699151, "post_id": 48361058, "comment_id": 83783789, "body": "Your old function does the same as your new function. Both send the whole buffer. And the old version has two extra parameters which are not used for writing. So you have to write a better write() function yet."}, {"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516749998, "post_id": 48361058, "comment_id": 83814858, "body": "@greenapps i posted update to my loop, send and write functions. also i posted a note at the bottom about the file size. Size of file being sent is 5.05 MB and size of same file when received is 526MB."}, {"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516750010, "post_id": 48361058, "comment_id": 83814864, "body": "@greenapps i posted update to my loop, send and write functions. also i posted a note at the bottom about the file size. Size of file being sent is 5.05 MB and size of same file when received is 526MB. Still having same problem."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516790678, "post_id": 48361058, "comment_id": 83830516, "body": "<code>The size of photo being sent is 5.05MB and when received it show as being 526 MB.</code> ?????? A hundred times as big? But indeed its a good idea to look at the amount of bytes you send and the amount of bytes received. You better test your function with files of less than 100Kb as then tests are much quicker done."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1516791134, "post_id": 48361058, "comment_id": 83830784, "body": "The write() function now looks ok. Be it that you dont use the offset parameter."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516564564, "post_id": 48361342, "comment_id": 83728916, "body": "My BluetoothService.send() funtion returns a boolean. What should it return as an Int? the number of bytes written?"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516565417, "post_id": 48361342, "comment_id": 83729231, "body": "Ok. Then i&#39;m mistaken. It returns true or false. If it returns true that means that all numRead bytes are written. So then you can stay in the loop."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516565766, "post_id": 48361342, "comment_id": 83729372, "body": "A buffer of <code>1000000</code> is not needed. <code>10000</code> would be enough. Hardcoded sizes is no good. Cant you replace that number by b.size() or b.length or b.length() or so ?"}, {"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516602245, "post_id": 48361342, "comment_id": 83738346, "body": "I will update buffer size. And yes Boolean is returned by send indicating if bytes have been sent. Would you say it&#39;s likely my problem is in the way I increase my <code>off</code> variable. The one I use for the offset in my call to <code>inStream.read()</code>? You can see it in the first section of my post. I marked it with a comment."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516637237, "post_id": 48361342, "comment_id": 83758811, "body": "You should not use that off variable anymore. I showed you how to do it. Thats all you need. Look at my loop. Pleae show your new lop in an extra code block."}, {"owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516693703, "post_id": 48361342, "comment_id": 83780644, "body": "i updated my buffer size to be b.size, also i posted my updated loop and updated ConnectedThread.write() function. however i am still having the same problem. the only difference i see between my new loop and your example is the way that i handle my exception. if <code>send()</code> returns false it indicates an error so <code>if(BluetoothService.send(b)){&#47;*update progress here*&#47;}else{BluetoothService.log(&quot;Error sending data&quot;, BluetoothException())}</code> is sort of mimicking a try catch block. Also i would like to note that the topmost portion of the photos received is not jumbled."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516791410, "post_id": 48361342, "comment_id": 83830965, "body": "But is you receive a hundred times more bytes? The amount should be equal. Not one byte more or less. I&#39;m pretty confused now by all the code. Could you just post the code as you have now. And remove all old stuffplease."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "edited": false, "score": 0, "creation_date": 1516791535, "post_id": 48361342, "comment_id": 83831036, "body": "And you can throw an exception. But does that happen? Dus the whole send loop end normally and totalsend == length at the end? Just always take the same small file while testing So you know its size exactly. Every byte counts."}], "tags": [], "owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "is_accepted": false, "score": 0, "last_activity_date": 1516637177, "last_edit_date": 1516637177, "creation_date": 1516484172, "answer_id": 48361342, "question_id": 48361058, "link": "https://stackoverflow.com/questions/48361058/data-received-over-bluetoothsocket-is-corrupted/48361342#48361342", "title": "Data received over BluetoothSocket is corrupted", "body": "<p>It should me more a loop like</p>\n\n<pre><code>while ( totalRead &lt; length ) \n   {\n   int numRead = inStream.read(b, 0, 1000000)\n\n   if ( numread &lt;= 0 )\n       break;\n\n   totalRead += numRead;\n\n   int nsend = BluetoothService.send(b, 0, numRead);\n\n   if ( nsend != numRead ) \n       well then you should make another loop here to send all\n   }\n</code></pre>\n\n<p>And if a boolean is returned it is more like</p>\n\n<pre><code>if (!BluetoothService.send(b, 0, numRead) )\n{\n // handle error\n\n break;\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9200346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f83b9dd26908f5cb392a66f65bd71?s=128&d=identicon&r=PG&f=1", "display_name": "mox_mox", "link": "https://stackoverflow.com/users/9200346/mox-mox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516749822, "creation_date": 1516482055, "last_edit_date": 1516749822, "question_id": 48361058, "link": "https://stackoverflow.com/questions/48361058/data-received-over-bluetoothsocket-is-corrupted", "title": "Data received over BluetoothSocket is corrupted", "body": "<p>I have been writing an app that is supposed to send files over Bluetooth to another device that is running the same application. I had it sending files successfully but with one big problem... when I sent a file that was too large I got an out of memory exception.</p>\n\n<p>So in an effort to find a workaround I began to load and send chunks of the file. It seemed to be working the way that I wanted it too until I went ahead and opened up the received files. One of the first received photos looked like this <a href=\"https://drive.google.com/file/d/1LBS5sFAjddcS-wfxCGwazZ2_wWlTY6NB/view?usp=sharing\" rel=\"nofollow noreferrer\">corrupted image</a>. But most of the other photos, or APK files (whatever misc. \"large\" files) simply don't open at all. I Believe that the problem is somewhere in the logic of my loop that is sending data chunks. Possibly I am missing something simple and just sending the same chunk of data repeatedly?</p>\n\n<p>Please have a look at my code below and let me know if you can spot the mistake that I am making. This is the thread that starts the sending: </p>\n\n<pre><code>thread {\n    val file = fileManager.select(fileName)\n    val inStream = file.inputStream(\n    val length = file.length()\n\n    val b = ByteArray(1000000)\n\n    var count = 0 //used to keep track of progress through file\n    var off = 0\n    var numRead = 0\n\n    val notificationManager = activity.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    val notificationBuilder = NotificationCompat.Builder(activity)\n    notificationBuilder.setContentTitle(\"File Transfer\")\n            .setSmallIcon(R.drawable.abc_btn_radio_material)\n            .setContentText(\"Sending $fileName...\")\n            .setOngoing(true)\n            .setProgress(length.toInt(), 0, false)\n    notificationManager.notify(BTS_Constants.NOTIFICATION_ID, notificationBuilder.build())\n\n    val header = \"${BTS_Constants.START_MARKER}$fileName:$length:\".toByteArray()\n    BluetoothService.send(header, header.size.toLong(), header.size)\n\n    while (count &lt; length){\n            try {\n                numRead = inStream.read(b, off, 1000000)\n                off+=numRead // is problem here?\n                count+=numRead\n                if (!(numRead&gt;=0))break\n                off = 0\n            }catch (ae:ArrayIndexOutOfBoundsException) {\n                BluetoothService.log(\"end of file reached\", ae)\n            }\n        if (BluetoothService.send(b, length, count)){\n            Log.d(TAG, \"count: $count\\nlength: ${length.toInt()}\")\n            notificationBuilder.setProgress(length.toInt(), count, false)\n            notificationManager.notify(BTS_Constants.NOTIFICATION_ID, notificationBuilder.build())\n        }\n    }\n    notificationBuilder.setProgress(0, 0, false)\n            .setOngoing(false)\n            .setContentText(\"Finished sending\")\n    notificationManager.notify(BTS_Constants.NOTIFICATION_ID, notificationBuilder.build())\n}\n</code></pre>\n\n<p>In the a chunk of the file is read int memory, given a header and sent using the <code>BluetoothService.send()</code> function. If <code>send()</code> returns true, progress is updated. Here is <code>BluetoothService.send()</code>:</p>\n\n<pre><code>@Synchronized fun send(bytes:ByteArray, fileLength:Long, progress:Int):Boolean{\n    var synThread:ConnectedThread? = null\n    synchronized(this@BluetoothService){\n        synThread = mConnectedThread\n    }\n\n    var success:Boolean\n\n    try {\n        synThread?.write(bytes, progress, fileLength.toInt())\n        success = true\n    }catch (e:Exception){\n        success = false\n    }\n\n    return success\n}\n</code></pre>\n\n<p>The send function calls synThread's <code>write()</code> function. <code>synThread</code> is a <code>ConnectedThread</code>? object. Here is the definition for <code>ConnectedThread</code> containing the write function definition:</p>\n\n<pre><code>class ConnectedThread(val socket: BluetoothSocket) : Thread(){\n    var fileName:String = \"\"\n    var fileLength:Int = 0\n\n    val inStream:InputStream\n    val outStream:OutputStream\n    val outBuffer:ByteArray\n    var inBuffer:ByteArray\n    var fOut:FileOutputStream? = null\n    var bytes:Int = 0\n    var active = true\n    val notifyManager = BluetoothService.context?.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    var notifyBuilder:NotificationCompat.Builder? = null\n\n    init {\n        inStream = socket.inputStream\n        outStream = socket.outputStream\n        outBuffer = ByteArray(1000000)\n        inBuffer = ByteArray(1024)\n        notifyBuilder = NotificationCompat.Builder(BluetoothService.context)\n        notifyBuilder?.setSmallIcon(R.drawable.abc_btn_radio_material)\n                ?.setContentTitle(\"Downloading\")\n    }\n\n    override fun run() {\n        BluetoothService.log(\"$this waiting to read . . .\")\n        while (active){\n            try {\n                bytes += inStream.read(inBuffer)\n                var header = String(inBuffer)\n                if (header.startsWith(BTS_Constants.START_MARKER)){\n                    this.fileName = header.substringAfter(BTS_Constants.START_MARKER).substringBefore(\":\")\n                    this.fileLength = (header.substringAfter(\":\").substringBeforeLast(\":\")).toInt()\n                    val path = \"${Environment.DIRECTORY_DOWNLOADS}/$fileName\"\n                    val outFile = File(Environment.getExternalStoragePublicDirectory(path).toURI())\n                    if (outFile.exists()){\n                        BluetoothService.log(\"file already exists\")\n                    }else{\n                        outFile.createNewFile()\n                    }\n                    fOut = outFile.outputStream()\n                    inBuffer = ByteArray(1000000)\n                    bytes = 0\n                    notifyBuilder!!.setContentText(\"file: $fileName\")\n                            .setProgress(0, 0, true)\n                            .setOngoing(true)\n                            .setVibrate(LongArray(1){\n                                10000L\n                            })\n                    notifyManager.notify(BTS_Constants.NOTIFICATION_ID, notifyBuilder!!.build())\n                    BluetoothService.log(\"name = $fileName, length = $fileLength\")\n                }else if(bytes&gt;=fileLength){\n                    notifyBuilder!!.setProgress(0, 0, false)\n                            .setContentText(\"Download complete\")\n                            .setOngoing(false)\n                    notifyManager.notify(BTS_Constants.NOTIFICATION_ID, notifyBuilder!!.build())\n                    //possibly save last bytes of file here\n                }else{\n                    BluetoothService.log(\"bytes: $bytes read: $inBuffer\")\n                    fOut?.write(inBuffer)\n                }\n                BluetoothService.log(\"read $bytes bytes: $inBuffer\")\n            }catch (ioe:IOException){\n                BluetoothService.log(\"failed to read from $socket\", ioe)\n                cancel()\n            }\n        }\n    }\n\n    //WRITE FUNCTION\n    fun write(bytes:ByteArray, progress: Int, length:Int){\n        BluetoothService.log(\"writing bytes from $this\")\n        outStream.write(bytes)\n        outStream.flush()\n        BluetoothService.log(\"bytes written\")\n    }\n\n    fun cancel(){\n        BluetoothService.log(\"closing socket, read may fail - this is expected\")\n        active = false\n        socket.close()\n    }\n}\n</code></pre>\n\n<p>So once again I believe this is a mistake being made somewhere in my loop logic, but I can not see it. Please help me to find this problem and a solution. Thank you.</p>\n\n<p>Updated loop:</p>\n\n<pre><code>while (totalRead &lt; length){\n    try {\n    numRead = inStream.read(b, 0, b.size)\n    if (numRead&lt;=0)break\n    totalRead+=numRead\n         }catch (ae:ArrayIndexOutOfBoundsException) {\n    BluetoothService.log(\"end of file reached\", ae)\n             }\n    if (BluetoothService.send(b, 0, numRead)){\n    Log.d(TAG, \"totalRead: $totalRead\\nlength: ${length.toInt()}\")\n    notificationBuilder.setProgress(length.toInt(), totalRead, false)\n    notificationManager.notify(BTS_Constants.NOTIFICATION_ID, notificationBuilder.build())\n       }else{\n    BluetoothService.log(\"Error sending data\", BluetoothServiceException())\n                 }\n                }\n</code></pre>\n\n<p>And updated send function:</p>\n\n<pre><code>@Synchronized fun send(bytes: ByteArray, offset: Int, length: Int):Boolean{\n    var synThread:ConnectedThread? = null\n    synchronized(this@BluetoothService){\n        synThread = mConnectedThread\n    }\n\n    var success:Boolean\n\n    try {\n        synThread?.write(bytes, 0, length)\n        success = true\n    }catch (e:Exception){\n        success = false\n    }\n\n    return success\n}\n</code></pre>\n\n<p>And updated write function:</p>\n\n<pre><code>fun write(bytes: ByteArray, offset: Int, length: Int){\n    BluetoothService.log(\"writing bytes from $this\")\n    outStream.write(bytes, offset, length)\n    outStream.flush()\n    BluetoothService.log(\"bytes written\")\n}\n</code></pre>\n\n<p>I've noticed something interesting in the properties of received photos. The size of file before being sent, and the size of file once received. The size of photo being sent is 5.05MB and when received it show as being 526 MB.</p>\n"}, {"tags": ["intellij-idea", "kotlin", "h2", "kotlin-exposed"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1516470331, "creation_date": 1516470331, "answer_id": 48359240, "question_id": 48359087, "link": "https://stackoverflow.com/questions/48359087/kotlin-exposeds-own-example-on-their-wiki-does-not-work/48359240#48359240", "title": "Kotlin-Exposed&#39;s own example on their wiki does not work", "body": "<p>I think the create statement is missing from their example. The DAO example <a href=\"https://github.com/JetBrains/Exposed#dao-sample\" rel=\"noreferrer\">on the project's GitHub page</a> seems to have a few statements that the example you point to does not. </p>\n\n<p>Try adding a create statement:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Database.connect(\"jdbc:h2:mem:test\", driver = \"org.h2.Driver\")\n\n    transaction {\n        logger.addLogger(StdOutSqlLogger)\n\n        // ADD THIS - Create tables\n        create (Cities)\n\n        val stPeteId = Cities.insert {\n            it[name] = \"St. Petersburg\"\n        } get Cities.id\n\n        println(\"Cities: ${Cities.selectAll()}\")\n    }\n}\n</code></pre>\n\n<p>And if that works, I bet they would accept a PR for their documentation.</p>\n"}], "owner": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2457, "favorite_count": 0, "accepted_answer_id": 48359240, "answer_count": 1, "score": 0, "last_activity_date": 1516470331, "creation_date": 1516469425, "question_id": 48359087, "link": "https://stackoverflow.com/questions/48359087/kotlin-exposeds-own-example-on-their-wiki-does-not-work", "title": "Kotlin-Exposed&#39;s own example on their wiki does not work", "body": "<p>This code is pulled directly off of the <a href=\"https://github.com/JetBrains/Exposed/wiki/Getting-Started\" rel=\"nofollow noreferrer\">Kotlin-Exposed Wiki</a> yet does not work. Strange and frustrating that I cannot get it to work since I have an idea for a cool project which requires using a RDBMS. What am I missing? Is it broken?</p>\n\n<pre><code>import org.jetbrains.exposed.sql.StdOutSqlLogger\nimport org.jetbrains.exposed.sql.Database\nimport org.jetbrains.exposed.sql.Table\nimport org.jetbrains.exposed.sql.insert\nimport org.jetbrains.exposed.sql.transactions.transaction\nimport org.jetbrains.exposed.sql.selectAll\n\nfun main(args: Array&lt;String&gt;) {\n    Database.connect(\"jdbc:h2:mem:test\", driver = \"org.h2.Driver\")\n\n    transaction {\n        logger.addLogger(StdOutSqlLogger)\n\n        val stPeteId = Cities.insert {\n            it[name] = \"St. Petersburg\"\n        } get Cities.id\n\n        println(\"Cities: ${Cities.selectAll()}\")\n    }\n}\n\n// Table definition\nobject Cities : Table() {\n    val id = integer(\"id\").autoIncrement().primaryKey()\n    val name = varchar(\"name\", 50)\n}\n// Entity definition\ndata class City(\n        val id: Int,\n        val name: String\n)\n</code></pre>\n\n<p>When run in Intellij, I recieve this error message:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" org.h2.jdbc.JdbcSQLException: Table \"CITIES\" not found; SQL statement:\nINSERT INTO CITIES (NAME) VALUES (?) [42102-196]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\n    at org.h2.message.DbException.get(DbException.java:179)\n    at org.h2.message.DbException.get(DbException.java:155)\n    at org.h2.command.Parser.readTableOrView(Parser.java:5552)\n    at org.h2.command.Parser.readTableOrView(Parser.java:5529)\n    at org.h2.command.Parser.parseInsert(Parser.java:1062)\n    at org.h2.command.Parser.parsePrepared(Parser.java:417)\n    at org.h2.command.Parser.parse(Parser.java:321)\n    at org.h2.command.Parser.parse(Parser.java:293)\n    at org.h2.command.Parser.prepareCommand(Parser.java:258)\n    at org.h2.engine.Session.prepareLocal(Session.java:578)\n    at org.h2.engine.Session.prepareCommand(Session.java:519)\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1204)\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:73)\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288)\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1188)\n    at org.jetbrains.exposed.sql.statements.InsertStatement.prepared(InsertStatement.kt:58)\n    at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed(Statement.kt:46)\n    at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:103)\n    at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:97)\n    at org.jetbrains.exposed.sql.statements.Statement.execute(Statement.kt:27)\n    at org.jetbrains.exposed.sql.QueriesKt.insert(Queries.kt:43)\n    at MainKt$main$1.invoke(Main.kt:14)\n    at MainKt$main$1.invoke(Main.kt)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:92)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:64)\n    at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:55)\n    at MainKt.main(Main.kt:11)\n\nProcess finished with exit code 1\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "edited": false, "score": 0, "creation_date": 1516468453, "post_id": 48358894, "comment_id": 83704515, "body": "I have tried that but then reserve.numFlight doesn&#180;t work because there is no reserve. @Todd"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1516468287, "creation_date": 1516468287, "answer_id": 48358894, "question_id": 48358809, "link": "https://stackoverflow.com/questions/48358809/how-do-i-make-this-not-repeat-the-same-thing/48358894#48358894", "title": "How do I make this not repeat the same thing", "body": "<p>I think you are looping over <code>reserves</code> <em>and</em> the map you create. Drop the <code>for</code> loop and it should print the contents of the map only.</p>\n\n<pre><code>fun analiseEconomica(reserves: List&lt;Reserves&gt;) {\n    val map = mapReserves(reserves)\n    map.forEach {\n       // Same logic here\n    }\n}\n</code></pre>\n\n<p>By having that extra for loop, you are saying you want to print out each of the values in the <code>map</code> once for each <code>Reserves</code> object in the list, that's why you get so many repeats.</p>\n\n<p>FYI, there are more idiomatic ways to do what you are doing, but in the interest of answering your question directly I will leave it at this.</p>\n"}], "owner": {"reputation": 1155, "user_id": 9206630, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87e29f21eb4ef4f935796bcd78aa1da0?s=128&d=identicon&r=PG", "display_name": "Jocas", "link": "https://stackoverflow.com/users/9206630/jocas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516468376, "creation_date": 1516467861, "last_edit_date": 1516468376, "question_id": 48358809, "link": "https://stackoverflow.com/questions/48358809/how-do-i-make-this-not-repeat-the-same-thing", "title": "How do I make this not repeat the same thing", "body": "<p>I need this to print for each flight a number of \"#\" but its repeating it and  I can\u00b4t fix it.\nThis is the current output:</p>\n\n<blockquote>\n  <p>TP23       ##############################</p>\n  \n  <p>TP23       #########</p>\n  \n  <p>TP1971     ############</p>\n  \n  <p>VN453      #####</p>\n  \n  <p>TP23       ##############################</p>\n  \n  <p>TP23       #########</p>\n  \n  <p>TP1971     ############</p>\n  \n  <p>TP23       ##############################</p>\n  \n  <p>TP23       #########</p>\n  \n  <p>VN453      #####</p>\n  \n  <p>TP1971     ############</p>\n</blockquote>\n\n<p>This is the expected output: </p>\n\n<blockquote>\n  <p>TP23       ##############################</p>\n  \n  <p>TP23       #########</p>\n  \n  <p>TP1971     ############</p>\n  \n  <p>VN453      #####</p>\n</blockquote>\n\n<pre><code>fun mapReservas(reservas: List&lt;Reservas&gt;): Map&lt;Pair&lt;String, Int&gt;, List&lt;Reservas&gt;&gt; {\n    val map = mutableMapOf&lt;Pair&lt;String, Int&gt;, MutableList&lt;Reservas&gt;&gt;()\n    for (reserva in reservas) {\n        val key = reserva.numVoo to reserva.day\n        val list = map[key] ?: mutableListOf()\n        list.add(reserva)\n        map[key] = list\n    }\n    return map\n}\n\n\nfun analiseEconomica(reserves: List&lt;Reserves&gt;) {\n    val map = mapReserves(reserves)\n    for (reserve in reserves) {\n        map.forEach {\n            val reservesNum = it.key.first\n            val reservesDay = it.key.second\n            val reservesCount = it.value.count()\n            if (reservesNum == reserva.numFLight) {\n                val conversion : Double = reservasCount * 1.5\n                conversion!!.toInt()\n                var count = 0\n                val space = 10 - reservesNum.length\n                print(\"$reservesNum\")\n                for (i in 0..space) {\n                    print(\" \")\n                }\n                while (count &lt; conversion) {\n                    print(\"#\")\n                    count++\n                }\n                println()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "edited": false, "score": 0, "creation_date": 1520529346, "post_id": 48358492, "comment_id": 85363022, "body": "sorry i forgot to say thank you that&#39;s helped me alot"}], "tags": [], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "is_accepted": true, "score": 2, "last_activity_date": 1516465933, "creation_date": 1516465933, "answer_id": 48358492, "question_id": 48358325, "link": "https://stackoverflow.com/questions/48358325/i-cant-make-a-contact-between-the-activities-in-kotlin/48358492#48358492", "title": "i can&#39;t make a contact between the activities in Kotlin", "body": "<p>There are many different ways to send information back to an Activity:  </p>\n\n<ol>\n<li>onActivityResult(), </li>\n<li>having a singleton class, </li>\n<li>use Shared Preferences, </li>\n<li>headless fragments, </li>\n<li>sqlite database, </li>\n<li>store the information in a file.</li>\n<li>Intents</li>\n<li>receivers</li>\n</ol>\n\n<p>You need to determine which will be the best solution for you.  Whether it's kotlin or java, the methodology will be the same.   </p>\n"}], "owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 48358492, "answer_count": 1, "score": -1, "last_activity_date": 1516466021, "creation_date": 1516465108, "last_edit_date": 1516466021, "question_id": 48358325, "link": "https://stackoverflow.com/questions/48358325/i-cant-make-a-contact-between-the-activities-in-kotlin", "title": "i can&#39;t make a contact between the activities in Kotlin", "body": "<p>Hello this is my first app with kotlin i am trying to make annual rate calculation app the problem is i have 4 activities every activity own button and edit's texts\ni wan't when The User click the button, the program get the numbers from Edit's texts and only make the calculation and save it somewhere and same work for the activity 2 and 3.\nbut when he click the last button of the last activity i want to call all the results and show it in ViewText</p>\n\n<p><strong>The Question is:How to save data Every time somewhere and call when i need it?</strong> </p>\n\n<p>First Activity</p>\n\n<pre><code>      class st {\n     var int_P: Double? = null\n     var ctl_P: Double? = null\n\n\n     public constructor(int_P: Any, ctl_P: Any) {\n         this.int_P = int_P.toString().toDouble()  //Physique\n         this.ctl_P = ctl_P.toString().toDouble()\n\n\n\n     public fun GetMP(): Double {\n         return (this.int_P!! + (this.ctl_P!! * 2)) / 3\n     }\n\n }\n\n             Btn_Next1.setOnClickListener ({\n            var int_P = java.lang.Double.parseDouble(edit_IP.text.toString()) //Physique\n            var ctl_P = java.lang.Double.parseDouble(edit_CP.text.toString())\n\n\n            var ss = st(int_P,ctl_P)\n\n            val ic = Intent(this, Sec_Act::class.java)\n            startActivity(ic)\n\n        })\n</code></pre>\n\n<p>(Secend and Third Activity Same)</p>\n\n<p>Activity 4</p>\n\n<pre><code>    btn1.setOnClickListener ({\n\n        var act1 = MainActivity.st().GetMC()\n        Textv.text = act1.toString()\n    })\n</code></pre>\n\n<p>With this method i got problem (no value passed for parameter int_P , ctl_P)</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "edited": false, "score": 0, "creation_date": 1516460611, "post_id": 48357571, "comment_id": 83701848, "body": "I added the .jar file to the library, so it should be in the classpath. I have also never used Gradle before, so I think it is a gradle problem."}, {"owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "reply_to_user": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "edited": false, "score": 0, "creation_date": 1516460678, "post_id": 48357571, "comment_id": 83701872, "body": "If you&#39;re using IntelliJ try to add the jar in the module settings as a library."}, {"owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "reply_to_user": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "edited": false, "score": 0, "creation_date": 1516460744, "post_id": 48357571, "comment_id": 83701893, "body": "As in: Click on the Project -&gt; Press F4 -&gt; Modules/&lt;Project&gt;/Dependencies -&gt; +"}, {"owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "reply_to_user": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "edited": false, "score": 0, "creation_date": 1516460791, "post_id": 48357571, "comment_id": 83701906, "body": "If you want to do it using the gradle file check this answer: <a href=\"https://stackoverflow.com/a/20700183/2232127\">stackoverflow.com/a/20700183/2232127</a>"}, {"owner": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "edited": false, "score": 0, "creation_date": 1516465662, "post_id": 48357571, "comment_id": 83703521, "body": "Thanks! I added <code>compile &quot;com.h2database:h2.1.4.196&quot;</code> to the dependencies section of my Gradle file and it works."}], "tags": [], "owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "is_accepted": true, "score": 2, "last_activity_date": 1516460437, "creation_date": 1516460437, "answer_id": 48357571, "question_id": 48357523, "link": "https://stackoverflow.com/questions/48357523/how-to-use-kotlin-with-h2-and-sqlite-in-intellij/48357571#48357571", "title": "How to use Kotlin with H2 and SQLite in Intellij", "body": "<p>You actually need the h2 driver, wether you're in java or kotlin.\nAdd the com.h2database:h2 dependency to your gradle file and add the maven central if needed.</p>\n\n<p>By the way, there's nothing wrong with your kotlin code. This would also not work if called from java like this, since you're missing the dependencies.</p>\n"}], "owner": {"reputation": 934, "user_id": 1136236, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c4f2b250d57a1ebf233426012487539?s=128&d=identicon&r=PG", "display_name": "Jonathan Dewein", "link": "https://stackoverflow.com/users/1136236/jonathan-dewein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2826, "favorite_count": 0, "accepted_answer_id": 48357571, "answer_count": 1, "score": 0, "last_activity_date": 1516460437, "creation_date": 1516460022, "question_id": 48357523, "link": "https://stackoverflow.com/questions/48357523/how-to-use-kotlin-with-h2-and-sqlite-in-intellij", "title": "How to use Kotlin with H2 and SQLite in Intellij", "body": "<p>When I try to use Kotlin in Intellij with either SQLite or H2, Intellij gives me this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: org.h2.Driver\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at org.jetbrains.exposed.sql.Database$Companion.connect(Database.kt:91)\n    at org.jetbrains.exposed.sql.Database$Companion.connect$default(Database.kt:90)\n    at MainKt.main(main.kt:9)\n</code></pre>\n\n<p>This is my Gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.20'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.h2.Driver\"\n    }\n}\n\ngroup '1'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n    maven {\n        url  \"https://dl.bintray.com/kotlin/exposed\"\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile 'org.jetbrains.exposed:exposed:0.9.1'\n\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>This is my Kotlin file, where I try to use <a href=\"https://github.com/JetBrains/Exposed/wiki\" rel=\"nofollow noreferrer\">Exposed</a> to interface with H2e some data persistence with Kotlin:</p>\n\n<pre><code>import org.jetbrains.exposed.sql.StdOutSqlLogger\nimport org.jetbrains.exposed.sql.Database\nimport org.jetbrains.exposed.sql.Table\nimport org.jetbrains.exposed.sql.insert\nimport org.jetbrains.exposed.sql.transactions.transaction\nimport org.jetbrains.exposed.sql.selectAll\n\nfun main(args: Array&lt;String&gt;) {\n    Database.connect(\"jdbc:h2:mem:test\", driver = \"org.h2.Driver\")\n\n    transaction {\n        logger.addLogger(StdOutSqlLogger)\n\n        val stPeteId = Cities.insert {\n            it[name] = \"St. Petersburg\"\n        } get Cities.id\n\n        println(\"Cities: ${Cities.selectAll()}\")\n    }\n}\n\nobject Cities : Table() {\n    val id = integer(\"id\").autoIncrement().primaryKey()\n    val name = varchar(\"name\", 50)\n}\n\ndata class City(val id: Int, val name: String)\n</code></pre>\n\n<p>How do I use Kotlin with a database? This is not for Android; just a personal project in Intellij that I want to use eventually on a PC.</p>\n"}, {"tags": ["dependency-injection", "kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "edited": false, "score": 0, "creation_date": 1516614097, "post_id": 48356535, "comment_id": 83743679, "body": "Can you share what was a reason for this design decision to ignore subclass / interface polymorphism in Kodein?"}, {"owner": {"reputation": 977, "user_id": 1671672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e955d0ec41e5633e1fc26360f5a34d?s=128&d=identicon&r=PG", "display_name": "Udit", "link": "https://stackoverflow.com/users/1671672/udit"}, "edited": false, "score": 0, "creation_date": 1536836899, "post_id": 48356535, "comment_id": 91571683, "body": "was this shipped in v5?"}], "tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": false, "score": 2, "last_activity_date": 1516453816, "creation_date": 1516453816, "answer_id": 48356535, "question_id": 48355559, "link": "https://stackoverflow.com/questions/48355559/how-to-get-a-list-of-bound-singleton-instances-of-one-type/48356535#48356535", "title": "How to get a list of bound singleton instances of one type?", "body": "<p>There is no way in Kodein 4 to do that other than what you just did.\nCan you open a ticket on Kodein's GitHub ?\nI may have time to squeeze that into Kodein 5 ;)</p>\n"}], "owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516453816, "creation_date": 1516447580, "last_edit_date": 1516448020, "question_id": 48355559, "link": "https://stackoverflow.com/questions/48355559/how-to-get-a-list-of-bound-singleton-instances-of-one-type", "title": "How to get a list of bound singleton instances of one type?", "body": "<p>Given a kodein instance:</p>\n\n<pre><code>interface SharedInterface {}\n\nclass A : SharedInterface\nclass B : SharedInterface\nclass C : SharedInterface\nclass D\n\nfun main(args: Array&lt;String&gt;) {\n\n    val kodein = Kodein {\n       bind&lt;A&gt;() with singleton { A() }\n       bind&lt;B&gt;() with singleton { B() }\n       bind&lt;C&gt;() with singleton { C() }\n       bind&lt;D&gt;() with singleton { D() }\n    }\n}\n</code></pre>\n\n<p>Is there a way to get instances of A, B, C but not D from kodein?</p>\n\n<p>The closest I got was:</p>\n\n<pre><code>val singletonBindings = kodein.container.bindings.filterValues { it is SingletonBinding&lt;*&gt; }\nval singletonInstances = singletonBindings.map { it.value.getInstance(???, ???, Unit) }\n</code></pre>\n\n<p>Set binding was of little help as I was not able to bind single instance as set-enabled-type and the type I want it to be bound as:</p>\n\n<pre><code>interface SharedInterface {}\n\nclass A : SharedInterface\nclass B : SharedInterface\nclass C : SharedInterface\nclass D\n\nfun main(args: Array&lt;String&gt;) {\n\n    val kodein = Kodein {\n        bind() from setBinding&lt;SharedInterface&gt;()\n\n        bind&lt;A&gt;().inSet() with singleton { A() }\n        bind&lt;B&gt;().inSet() with singleton { B() }\n        bind&lt;C&gt;().inSet() with singleton { C() }\n        bind&lt;D&gt;().inSet() with singleton { D() }\n    }\n\n    val shared = kodein.instance&lt;Set&lt;SharedInterface&gt;&gt;()\n}\n</code></pre>\n\n<p>Causes <code>Exception in thread \"main\" java.lang.IllegalStateException: No set binding to bind&lt;Set&lt;out A&gt;&gt;() with ? { ? }</code></p>\n\n<p>This fixes the issue but is ugly:</p>\n\n<pre><code>  val kodein = Kodein {\n        bind() from setBinding&lt;SharedInterface&gt;()\n\n        bind&lt;SharedInterface&gt;().inSet() with singleton { instance&lt;A&gt;() }\n        bind&lt;SharedInterface&gt;().inSet() with singleton { instance&lt;B&gt;() }\n        bind&lt;SharedInterface&gt;().inSet() with singleton { instance&lt;C&gt;() }\n\n        bind&lt;A&gt;() with singleton { A() }\n        bind&lt;B&gt;() with singleton { B() }\n        bind&lt;C&gt;() with singleton { C() }\n        bind&lt;D&gt;() with singleton { D() }\n    }\n\n    val shared = kodein.instance&lt;Set&lt;SharedInterface&gt;&gt;()\n</code></pre>\n"}]