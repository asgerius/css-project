[{"tags": ["android", "xml", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 3637559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1047daab4ae1275875b547d494baa248?s=128&d=identicon&r=PG&f=1", "display_name": "Artem", "link": "https://stackoverflow.com/users/3637559/artem"}, "is_accepted": true, "score": 0, "last_activity_date": 1536796633, "creation_date": 1536796633, "answer_id": 52304897, "question_id": 52304820, "link": "https://stackoverflow.com/questions/52304820/how-to-design-an-info-screen-filled-with-detailed-informations-about-an-object/52304897#52304897", "title": "How to design an Info-Screen filled with detailed informations about an object", "body": "<p>Use RecyclerView and objects to fill it instead fixed LinearLayout</p>\n\n<p>Some data could be absent, so you will get empty rows....  </p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1536907923, "creation_date": 1536907923, "answer_id": 52326388, "question_id": 52304820, "link": "https://stackoverflow.com/questions/52304820/how-to-design-an-info-screen-filled-with-detailed-informations-about-an-object/52326388#52326388", "title": "How to design an Info-Screen filled with detailed informations about an object", "body": "<p>As Artem stated a Recyclerview would be beneficial here. Also I would suggest placing info within Cardviews depending on how you want the info displayed you can make some really clean looking info/details layouts. If you do it right the recyclerview will be much more appetizing than the scroll view. </p>\n"}], "owner": {"reputation": 21, "user_id": 10355698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16d5a3085dff8c7edf0f6716b6b8c458?s=128&d=identicon&r=PG&f=1", "display_name": "damjanprvc", "link": "https://stackoverflow.com/users/10355698/damjanprvc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 52304897, "answer_count": 2, "score": 0, "last_activity_date": 1536907980, "creation_date": 1536795819, "last_edit_date": 1536907980, "question_id": 52304820, "link": "https://stackoverflow.com/questions/52304820/how-to-design-an-info-screen-filled-with-detailed-informations-about-an-object", "title": "How to design an Info-Screen filled with detailed informations about an object", "body": "<p>How can I redesign this infoscreen from an Android Food Deliver App in an efficient and clean way? (especially the \"ALLGEMEINE INFO\" part)</p>\n\n<p><img src=\"https://i.stack.imgur.com/Woi46.jpg\" alt=\"Infoscreen (Goal)\"></p>\n\n<p>Currently I am doing it with a ScrollView, filled with a Main LinearLayout (orientation=vertical). Within are more interleaved Linearlayouts, which make the whole thing complex and not clean. </p>\n\n<p>Here my current Code:</p>\n\n<pre><code>&lt;ScrollView\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:srcCompat=\"@drawable/food_1\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView3\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Restaurant\"\n            android:textAlignment=\"center\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Large\" /&gt;\n\n        &lt;me.zhanghai.android.materialratingbar.MaterialRatingBar\n            style=\"@style/Widget.MaterialRatingBar.RatingBar.Indicator.Small\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_below=\"@+id/restaurant_item_num_ratings\"\n            android:layout_alignLeft=\"@+id/restaurant_item_num_ratings\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_gravity=\"center_horizontal\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView4\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center_horizontal\"\n            android:text=\"32 Bewertungen\"\n            android:textAlignment=\"center\" /&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"ALLGEMEINE INFO\"\n            android:layout_marginTop=\"@dimen/activity_vertical_margin\"\n            android:layout_marginBottom=\"@dimen/activity_vertical_margin\"\n            android:layout_marginStart=\"8dp\"/&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:src=\"@drawable/ic_settings_black_24dp\"\n                android:layout_marginStart=\"@dimen/activity_horizontal_margin\"\n                android:layout_marginEnd=\"@dimen/activity_horizontal_margin\"/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"11:00 - 23:00\"\n                    android:textStyle=\"bold\" /&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"\u00d6ffnungszeiten\" /&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            android:layout_marginTop=\"4dp\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:src=\"@drawable/ic_map_black_24dp\"\n                android:layout_marginStart=\"@dimen/activity_horizontal_margin\"\n                android:layout_marginEnd=\"@dimen/activity_horizontal_margin\"/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Some Restaurant\"\n                    android:textStyle=\"bold\" /&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Firmenname\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>And the Design Preview of it: </p>\n\n<p><img src=\"https://i.stack.imgur.com/Gmbfl.png\" alt=\"My current design (preview)\"></p>\n\n<p>Is there a \"cleaner\" way to design it? With a RecyclerView, etc., or somthing else?\nBtw, the individual elements will be loaded from a Database. </p>\n"}, {"tags": ["android", "json", "kotlin", "gson", "retrofit"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10355758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5bb29fdf44b815432c8f36bffaaa95?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/10355758/sebastian"}, "edited": false, "score": 0, "creation_date": 1536797139, "post_id": 52304893, "comment_id": 91557384, "body": "I though about that as well. The problem is that in order to register a type adapter (which deserializes) I have to give it a type. But that type would change from e.g. Data to Address. So I&#39;m afraid, that might not work (or I misunderstood your suggestion)."}, {"owner": {"reputation": 364, "user_id": 9343548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d3a9d1754ba3319633ec1f90dd70d5?s=128&d=identicon&r=PG&f=1", "display_name": "sbso", "link": "https://stackoverflow.com/users/9343548/sbso"}, "reply_to_user": {"reputation": 21, "user_id": 10355758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5bb29fdf44b815432c8f36bffaaa95?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/10355758/sebastian"}, "edited": false, "score": 0, "creation_date": 1536797573, "post_id": 52304893, "comment_id": 91557451, "body": "Maybe I misunderstood the question. My assumption is you have corresponding models that match how you want to parse the data. For example, you would have an Address adapter, which would parse that specifically how you want. Then an adapter for any other fields you want."}, {"owner": {"reputation": 21, "user_id": 10355758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5bb29fdf44b815432c8f36bffaaa95?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/10355758/sebastian"}, "edited": false, "score": 0, "creation_date": 1536798024, "post_id": 52304893, "comment_id": 91557548, "body": "You are right, that would be one way. Unfortunately, my data model is nested pretty deep so I would have to write a lot of custom adapters where I really want to &quot;get rid&quot; of those data fields and use the value inside them directly."}], "tags": [], "owner": {"reputation": 364, "user_id": 9343548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d3a9d1754ba3319633ec1f90dd70d5?s=128&d=identicon&r=PG&f=1", "display_name": "sbso", "link": "https://stackoverflow.com/users/9343548/sbso"}, "is_accepted": false, "score": 0, "last_activity_date": 1536796600, "creation_date": 1536796600, "answer_id": 52304893, "question_id": 52304730, "link": "https://stackoverflow.com/questions/52304730/ignore-meta-information-in-json/52304893#52304893", "title": "Ignore meta information in json", "body": "<p>To achieve what you're looking for, the best route would be writing a Gson deserializer.</p>\n"}], "owner": {"reputation": 21, "user_id": 10355758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5bb29fdf44b815432c8f36bffaaa95?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/10355758/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536800439, "creation_date": 1536794733, "last_edit_date": 1536800439, "question_id": 52304730, "link": "https://stackoverflow.com/questions/52304730/ignore-meta-information-in-json", "title": "Ignore meta information in json", "body": "<p>I'm using Retrofit (on Android) with the GsonConverterFactory. The json that I get back from the endpoint has <a href=\"http://jsonapi.org/format/#document-meta\" rel=\"nofollow noreferrer\">json meta information</a> in it. For example, a response would look like this:</p>\n\n<pre><code>{\n    meta:{\"some meta information\"},\n    data:{\n        address:{\n            meta:{\"some other meta information\"},\n            data:{\n                street: \"Main Street\",\n                zip: \"99999\",\n                state: \"CA\",\n            },\n        ...\n    }\n}\n</code></pre>\n\n<p>Using Gson (through the GsonConverterFactory), my data model would need to look like this (in Kotlin):</p>\n\n<pre><code>class Response(val data: Data1)\nclass Data1(val address: Address)\nclass Address(val Data2)\nclass Data2(val street: String, val zip: String, val state: String)\n</code></pre>\n\n<p>As you can see, if it's not a primitive type, objects are wrapped inside of data members. However, I don't want to include those data objects everywhere in my data model classes.</p>\n\n<p>Is there an easy way, to \"jump over\" those data tags? I don't want to exclude them, just directly include what's inside of them. For example, the data model would look something like this:</p>\n\n<pre><code>class Response(val address: Address)\nclass Address(val street: String, val zip: String, val state: String)\n</code></pre>\n\n<p>The equivalent json would look like this:</p>\n\n<pre><code>{\n    address:{\n        street: \"Main Street\",\n        zip: \"99999\",\n        state: \"CA\",\n    },\n    ...\n}\n</code></pre>\n\n<p>Unfortunately, that's not the way the endpoint delivers the json.</p>\n\n<p>Is there any way to achieve this with Gson, Jackson, or some other json parser that can run on Android?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1536843951, "post_id": 52304123, "comment_id": 91575899, "body": "In the example the <code>mylist</code> contains only one element - <code>current</code>. So there is nothing to sort"}], "answers": [{"comments": [{"owner": {"reputation": 3871, "user_id": 889053, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3e26b08aa9c9bff40d6dab7b98680bf4?s=128&d=identicon&r=PG", "display_name": "Christian Bongiorno", "link": "https://stackoverflow.com/users/889053/christian-bongiorno"}, "edited": false, "score": 1, "creation_date": 1536796139, "post_id": 52304209, "comment_id": 91557190, "body": "Looks right. Here&#39;s the repl: <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/Examples/Hello,%20world!/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1536790565, "creation_date": 1536790565, "answer_id": 52304209, "question_id": 52304123, "link": "https://stackoverflow.com/questions/52304123/how-to-sort-an-arraylistmapstring-any-with-kotlin/52304209#52304209", "title": "how to sort an ArrayList&lt;Map&lt;String, Any&gt;&gt;() with kotlin", "body": "<pre><code>val sortedList = mylist.sortedWith(compareBy({ it.get(\"label\") }))\n</code></pre>\n\n<p>I <em>think</em> that should do it. I don't have Kotlin installed on my current machine, so I can't give it a test. Regardless, it's certainly the general idea.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10288427, "user_type": "registered", "profile_image": "https://graph.facebook.com/1991485100914577/picture?type=large", "display_name": "Vorawut Manawmoo", "link": "https://stackoverflow.com/users/10288427/vorawut-manawmoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1536824595, "creation_date": 1536824595, "answer_id": 52308883, "question_id": 52304123, "link": "https://stackoverflow.com/questions/52304123/how-to-sort-an-arraylistmapstring-any-with-kotlin/52308883#52308883", "title": "how to sort an ArrayList&lt;Map&lt;String, Any&gt;&gt;() with kotlin", "body": "<p>try:</p>\n\n<pre><code>mylist.sortBy{ it[\"label\"] }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 3127177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03966e5b8fd46188ecec29c86ad8d06d?s=128&d=identicon&r=PG", "display_name": "Erhy", "link": "https://stackoverflow.com/users/3127177/erhy"}, "is_accepted": false, "score": 0, "last_activity_date": 1536851324, "creation_date": 1536851324, "answer_id": 52316673, "question_id": 52304123, "link": "https://stackoverflow.com/questions/52304123/how-to-sort-an-arraylistmapstring-any-with-kotlin/52316673#52316673", "title": "how to sort an ArrayList&lt;Map&lt;String, Any&gt;&gt;() with kotlin", "body": "<p>because this was developing a flutter plugin</p>\n\n<p>and I failed in kotlin</p>\n\n<p>I transfered the sorting to dart where the solution was very simple:</p>\n\n<pre><code>allApps.sort((a, b) {\n        return a['label'].toLowerCase().compareTo(b['label'].toLowerCase());\n});\n</code></pre>\n"}], "owner": {"reputation": 76, "user_id": 3127177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03966e5b8fd46188ecec29c86ad8d06d?s=128&d=identicon&r=PG", "display_name": "Erhy", "link": "https://stackoverflow.com/users/3127177/erhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1536851324, "creation_date": 1536789966, "question_id": 52304123, "link": "https://stackoverflow.com/questions/52304123/how-to-sort-an-arraylistmapstring-any-with-kotlin", "title": "how to sort an ArrayList&lt;Map&lt;String, Any&gt;&gt;() with kotlin", "body": "<p>I tried to sort the ArrayList declared with</p>\n\n<pre><code>val mylist = ArrayList&lt;Map&lt;String, Any&gt;&gt;()\n\nval current = HashMap&lt;String, Any&gt;()\n\ncurrent.put(\"label\", \"MyLabel\")\n\ncurrent.put(\"pack\", \"MyPackage\")\n\ncurrent.put(\"icon\", iconData)\n\nmylist.add(current)\n</code></pre>\n\n<p>And I want sort mylist according the item \"label\"</p>\n\n<p>Thank you for your comments</p>\n\n<p>Erhy</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 0, "creation_date": 1536789773, "post_id": 52304030, "comment_id": 91555738, "body": "Doesn&#39;t work. The above code still calls the constructor"}, {"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "reply_to_user": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 0, "creation_date": 1536790051, "post_id": 52304030, "comment_id": 91555815, "body": "Firebase SDK will call your default no-argument constructor. Define another constructor (i.e. with some arguments), which will not be called."}], "tags": [], "owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "is_accepted": false, "score": 0, "last_activity_date": 1536789383, "creation_date": 1536789383, "answer_id": 52304030, "question_id": 52303965, "link": "https://stackoverflow.com/questions/52303965/kotlin-firebase-parsing-duplication/52304030#52304030", "title": "Kotlin Firebase Parsing Duplication", "body": "<p>Move your init code to a constructor, which you can call when you're creating an instance of your Game class and you want it to upload the game object.</p>\n"}, {"comments": [{"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 1, "creation_date": 1536791437, "post_id": 52304208, "comment_id": 91556186, "body": "Yes. I just created a GameGenerator class that now deals with all the code. Much cleaner and it works. Thanks!"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 3, "last_activity_date": 1536790553, "creation_date": 1536790553, "answer_id": 52304208, "question_id": 52303965, "link": "https://stackoverflow.com/questions/52303965/kotlin-firebase-parsing-duplication/52304208#52304208", "title": "Kotlin Firebase Parsing Duplication", "body": "<p>When you use automatic field mapping like this, the convention is that you should use a class definition that contains <em>only</em> the fields you want to map, and nothing else.  Objects that have only getters and setters for properties are called JavaBeans, and their sole purpose is to store data.  These objects must define a default no-arg constructor.</p>\n\n<p>If you have additional logic that works with your Game object, that should go in a different class. It's better design to keep your data separate from the logic that works with the data (as you have discovered).</p>\n"}], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 52304208, "answer_count": 2, "score": 0, "last_activity_date": 1536790553, "creation_date": 1536788944, "question_id": 52303965, "link": "https://stackoverflow.com/questions/52303965/kotlin-firebase-parsing-duplication", "title": "Kotlin Firebase Parsing Duplication", "body": "<p>So I have a Game object that has an init block where I setup the object and upload to the Firebase Firestore. Then when I'm listening for changes in that object I have to convert the DocumentSnapshot to a Game object. </p>\n\n<pre><code>game = snapshot.toObject(Game::class.java)\n</code></pre>\n\n<p>Pretty simple. The problem is is that this calls the init block of my Game class and uploads another game object. Is there a way I can avoid calling the init block while doing this? Thanks!</p>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": true, "score": 1, "last_activity_date": 1536792383, "creation_date": 1536792383, "answer_id": 52304447, "question_id": 52303830, "link": "https://stackoverflow.com/questions/52303830/how-to-combine-data-from-api-into-domain-objects-using-rxjava2/52304447#52304447", "title": "How to combine data from api into domain objects using RxJava2?", "body": "<p>If you want to load your users from the API and for each user load their posts then you could do something like the following.</p>\n\n<p><code>flattenAsFlowable</code> allows you to iterate each UserTO from your api response. With this you can extract their postIds and map to the User object.</p>\n\n<p><code>Flowable.fromIterable</code> allows you to iterate over the postIds collection and perform the api call for each post.</p>\n\n<pre><code>class MyRepository(private val api: UsersApi) {\n\n    fun getUsers(): Single&lt;List&lt;User&gt;&gt; {\n        return api.getUsers()\n            .flattenAsFlowable { it }\n            .flatMapSingle { loadUserPosts(it) }\n            .toList()\n    }\n\n    private fun loadUserPosts(user: UserTO): Single&lt;User&gt; {\n        return loadPosts(user.postIds)\n            .map { User(name = user.name, posts = it) }\n    }\n\n    private fun loadPosts(postIds: List&lt;String&gt;): Single&lt;List&lt;Post&gt;&gt; {\n        return Flowable.fromIterable(postIds)\n            .flatMapSingle { api.getPosts(it) }\n            .map { Post(title = it.title, content = it.content) }\n            .toList()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10355501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e485b3e2097b9cd1cc55e90c69a7a3?s=128&d=identicon&r=PG&f=1", "display_name": "A. Student", "link": "https://stackoverflow.com/users/10355501/a-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 52304447, "answer_count": 1, "score": 1, "last_activity_date": 1536792383, "creation_date": 1536788271, "last_edit_date": 1536788649, "question_id": 52303830, "link": "https://stackoverflow.com/questions/52303830/how-to-combine-data-from-api-into-domain-objects-using-rxjava2", "title": "How to combine data from api into domain objects using RxJava2?", "body": "<p>I have the following code:</p>\n\n<pre><code>interface UsersApi {\n  fun getUsers() : Single&lt;List&lt;UserTO&gt;&gt;\n  fun getPosts(postId: String) : Single&lt;PostTO&gt;\n}\ndata class UserTO(val name: String, postIds: List&lt;String&gt;)\ndata class PostTO(val title: String, val content: String)\ndata class User(val name: String, val posts: List&lt;Post&gt;)\ndata class Post(val title: String, content: String)\n</code></pre>\n\n<p>I am trying to write a repository class with a method that returns </p>\n\n<pre><code>Single&lt;List&lt;User&gt;&gt;\n</code></pre>\n\n<p>But I have no idea how to do it, since I need access to earlier objects in the stream and also the <code>Single</code> is confusing things.</p>\n\n<p>I am pretty sure I have to start with a call to <code>getUsers</code> followed by a flatmap, but then the things get confusing.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "edited": false, "score": 0, "creation_date": 1536823544, "post_id": 52308502, "comment_id": 91564265, "body": "Thanks that cleared it up... can I fill a bug report or feature suggestion too.. if so where?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "edited": false, "score": 0, "creation_date": 1536833889, "post_id": 52308502, "comment_id": 91570131, "body": "This issue is already reported, there is no need to report this again."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 0, "last_activity_date": 1536823222, "creation_date": 1536823222, "answer_id": 52308502, "question_id": 52303409, "link": "https://stackoverflow.com/questions/52303409/android-studio-kotlin-code-suggestion-ide-fatal-error/52308502#52308502", "title": "Android Studio Kotlin code suggestion IDE fatal error", "body": "<p>This is an unsupported feature in the Kotlin plugin for IntelliJ IDEA; there's nothing you can do to fix it on your side. I've filed a <a href=\"https://youtrack.jetbrains.com/issue/KT-26785\" rel=\"nofollow noreferrer\">bug report</a> in our issue tracker.</p>\n"}], "owner": {"reputation": 104, "user_id": 2318948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ef4105f7e05ed49002bb617e1e01d9?s=128&d=identicon&r=PG", "display_name": "Deepan", "link": "https://stackoverflow.com/users/2318948/deepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 52308502, "answer_count": 1, "score": 0, "last_activity_date": 1536823222, "creation_date": 1536785967, "question_id": 52303409, "link": "https://stackoverflow.com/questions/52303409/android-studio-kotlin-code-suggestion-ide-fatal-error", "title": "Android Studio Kotlin code suggestion IDE fatal error", "body": "<p>Code suggestion in Android Studio 3.1.4 for Kotlin produces fatal error..</p>\n\n<p>The example app is as follows (everything else is at default values):</p>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout ...&gt;\n    &lt;TextView .../&gt;\n    &lt;Button ...\n        android:onClick=\"clr\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>MainActivity.kt ((just the default))</p>\n\n<p>and so the onClick at the xml shows suggestion 'create clr(View) in MainActivity'. But on clicking the suggestion IDE Fatal Error pops up</p>\n\n<pre><code>org.jetbrains.kotlin.asJava.classes.KtLightClassImpl\ncom.intellij.util.IncorrectOperationException: org.jetbrains.kotlin.asJava.classes.KtLightClassImpl\n    at com.intellij.psi.impl.light.LightElement.add(LightElement.java:139)\n    at org.jetbrains.android.dom.AndroidCreateOnClickHandlerAction.addHandlerMethod(AndroidCreateOnClickHandlerAction.java:152)\n    at org.jetbrains.android.dom.AndroidCreateOnClickHandlerAction.lambda$addHandlerMethodAndNavigate$2(AndroidCreateOnClickHandlerAction.java:170)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1003)\n    at org.jetbrains.android.dom.AndroidCreateOnClickHandlerAction.addHandlerMethodAndNavigate(AndroidCreateOnClickHandlerAction.java:169)\n    at org.jetbrains.android.inspections.AndroidMissingOnClickHandlerInspection$MyQuickFix.invoke(AndroidMissingOnClickHandlerInspection.java:284)\n    at com.intellij.codeInsight.intention.impl.IntentionActionWithTextCaching$MyIntentionAction.invoke(IntentionActionWithTextCaching.java:181)\n    at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$invokeIntention$3(ShowIntentionActionsHandler.java:209)\n    at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.invokeIntention(ShowIntentionActionsHandler.java:213)\n    at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$null$1(ShowIntentionActionsHandler.java:186)\n    at com.intellij.openapi.application.TransactionGuardImpl.runSyncTransaction(TransactionGuardImpl.java:88)\n    at com.intellij.openapi.application.TransactionGuardImpl.submitTransactionAndWait(TransactionGuardImpl.java:153)\n    at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.lambda$chooseActionAndInvoke$2(ShowIntentionActionsHandler.java:185)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:149)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:109)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:99)\n    at com.intellij.openapi.command.impl.CoreCommandProcessor.executeCommand(CoreCommandProcessor.java:85)\n    at com.intellij.codeInsight.intention.impl.ShowIntentionActionsHandler.chooseActionAndInvoke(ShowIntentionActionsHandler.java:184)\n    at com.intellij.codeInsight.intention.impl.IntentionListStep.lambda$applyAction$1(IntentionListStep.java:293)\n    at com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:195)\n    at com.intellij.ui.popup.AbstractPopup.lambda$null$7(AbstractPopup.java:1431)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:762)\n    at java.awt.EventQueue.access$500(EventQueue.java:98)\n    at java.awt.EventQueue$3.run(EventQueue.java:715)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:732)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:822)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:650)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:366)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p>For now creating on click functions manually in the MainActivity.kt. Hope there is a fix to this problem though</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1536782363, "post_id": 52302399, "comment_id": 91552991, "body": "I&#39;ve posted a link to your question on the gradle kotlin-dsl slack channel."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1536951792, "post_id": 52302399, "comment_id": 91623030, "body": "You should post a bug on JetBrain&#39;s bug tracker: <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 483, "user_id": 2808520, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/n7Fe6.jpg?s=128&g=1", "display_name": "Simon L", "link": "https://stackoverflow.com/users/2808520/simon-l"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1537000713, "post_id": 52302399, "comment_id": 91632265, "body": "I&#39;ve opened an issue on the gradle/kotlin-dsl github page: <a href=\"https://github.com/gradle/kotlin-dsl/issues/1115\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/issues/1115</a>"}], "owner": {"reputation": 483, "user_id": 2808520, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/n7Fe6.jpg?s=128&g=1", "display_name": "Simon L", "link": "https://stackoverflow.com/users/2808520/simon-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1537421036, "creation_date": 1536781638, "last_edit_date": 1537421036, "question_id": 52302399, "link": "https://stackoverflow.com/questions/52302399/why-does-this-gradle-buildscript-kotlin-dsl-fail-to-compile-when-i-introduce", "title": "Why does this gradle buildscript (kotlin dsl) fail to compile, when I introduce an unrelated custom task?", "body": "<p>So I've been playing around with gradle's kotlin dsl and my buildscript has grown to a point where I wanted to introduce custom tasks for better organization.</p>\n\n<p>Here's a <a href=\"https://en.wikipedia.org/wiki/Minimal_working_example\" rel=\"nofollow noreferrer\">MWE</a> of my <code>build.gradle.kts</code>:</p>\n\n<pre><code>open class CustomTask : DefaultTask() {\n  var dir = File(\".\")\n\n  @TaskAction\n  fun action() {\n    println(\"CustomTask.dir: ${dir.absolutePath}\")\n  }\n}\ntasks.create&lt;CustomTask&gt;(\"debug\") {\n  //dir = File(\".gradle\") // Script compilation fails if I uncomment this line\n}\n\ntasks.create(\"traverseDir\") {\n  doLast {\n    traverseDir(File(\"gradle/wrapper/gradle-wrapper.jar\"))\n  }\n}\nfun traverseDir(file: File) {\n  var dir: File? = file.parentFile\n  while (dir != null) {\n    println(dir)\n\n    dir = dir.parentFile\n  }\n}\n</code></pre>\n\n<p>Output of <code>./gradlew debug traverseDir</code> without task configuration (meaning commented dir assignment):</p>\n\n<pre><code>&gt; Task :debug\nCustomTask.dir: /home/.../gradle-kotlin_dsl-smart_cast_error/.\n\n&gt; Task :traverseDir\ngradle/wrapper\ngradle\n\nBUILD SUCCESSFUL in 0s\n2 actionable tasks: 2 executed\n</code></pre>\n\n<p>Output of <code>./gradlew debug traverseDir</code> with task configuration (meaning uncommented dir assignment):</p>\n\n<pre><code>&gt; Configure project :\ne: /home/.../gradle-kotlin_dsl-smart_cast_error/build.gradle.kts:32:11: Smart cast to 'File' is impossible, because 'dir' is a local variable that is captured by a changing closure\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/.../gradle-kotlin_dsl-smart_cast_error/build.gradle.kts' line: 32\n\n* What went wrong:\nScript compilation error:\n\n  Line 32:     dir = dir.parentFile\n                     ^ Smart cast to 'File' is impossible, because 'dir' is a local variable that is captured by a changing closure\n\n1 error\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 0s\n</code></pre>\n\n<p>Those two tasks have no connection to each other (other than them being defined in the same buildscript file), yet when I try to configure an instance of my custom task (i.e. uncomment the <code>dir = ...</code> line) the build fails because of a script compilation error in the - seemingly unrelated - traverseDir function.</p>\n\n<p>Further weirdness:</p>\n\n<ul>\n<li>The error does not occur if I rename either of the <code>dir</code> variables (i.e. to <code>dir_</code>) - then the build succeeds.</li>\n<li>Changing the line <code>dir = dir.parentFile</code> to <code>dir = dir?.parentFile</code> makes the build succeed.</li>\n</ul>\n\n<p>Why does this happen?</p>\n\n<hr>\n\n<p>Output of <code>./gradlew --version</code>:</p>\n\n<pre><code>------------------------------------------------------------\nGradle 4.10\n------------------------------------------------------------\n\nBuild time:   2018-08-27 18:35:06 UTC\nRevision:     ee3751ed9f2034effc1f0072c2b2ee74b5dce67d\n\nKotlin DSL:   1.0-rc-3\nKotlin:       1.2.60\nGroovy:       2.4.15\nAnt:          Apache Ant(TM) version 1.9.11 compiled on March 23 2018\nJVM:          1.8.0_181 (Oracle Corporation 25.181-b13)\nOS:           Linux 4.15.0-33-generic amd64\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong>:</p>\n\n<p>This seems to be a bug, I've created issues on:</p>\n\n<ul>\n<li>gradle/kotlin-dsl: <a href=\"https://github.com/gradle/kotlin-dsl/issues/1115\" rel=\"nofollow noreferrer\">https://github.com/gradle/kotlin-dsl/issues/1115</a></li>\n<li>jetbrains/kotlin: <a href=\"https://youtrack.jetbrains.com/issue/KT-26983\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-26983</a></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "floating-action-button", "android-snackbar", "material-components-android"], "comments": [{"owner": {"reputation": 476, "user_id": 5065312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f77cad3f3081a18d4645f5579a9f1e?s=128&d=identicon&r=PG&f=1", "display_name": "VasileM", "link": "https://stackoverflow.com/users/5065312/vasilem"}, "edited": false, "score": 0, "creation_date": 1552486659, "post_id": 52302340, "comment_id": 97028518, "body": "You should update the Material library version: <a href=\"https://stackoverflow.com/a/55143710/5065312\">stackoverflow.com/a/55143710/5065312</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 2869749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9e6bf0c161920d3eca2ad8c0338505?s=128&d=identicon&r=PG&f=1", "display_name": "rexar5", "link": "https://stackoverflow.com/users/2869749/rexar5"}, "is_accepted": false, "score": 3, "last_activity_date": 1536784055, "creation_date": 1536784055, "answer_id": 52302975, "question_id": 52302340, "link": "https://stackoverflow.com/questions/52302340/show-snack-bar-above-fab-in-androidx/52302975#52302975", "title": "Show snack bar above FAB in androidx", "body": "<p>So the issue you're running into is that Google still hasn't updated the FAB behavior to be consistent with the new design.  Since your FAB lives in a coordinator layout and you're using that to launch your snackbar, the FAB moves up to accommodate (old behavior)</p>\n\n<p>A few solutions:</p>\n\n<ol>\n<li>Move the FAB out of the coordinator layout and just overlay it on\ntop of the bottom app bar and its parent coordinator layout\n\n<ul>\n<li>This might mess up any interaction the FAB has with the bottom app bar.  It is probably not a good long term solution, as putting the FAB in the coordinator is generally a good idea</li>\n</ul></li>\n<li><p>Remove the FAB behavior</p>\n\n<ul>\n<li>This will remove any behavior the FAB was doing.  Same disadvantage as removing it from the coordinator except that it's much easier to reverse.  I'd prefer this solution over the first for that reason</li>\n<li><p>You can do this in XML using:</p>\n\n<pre><code>app.layout_behavior=\"\"\n</code></pre></li>\n<li><p>Or do it in code by using:</p>\n\n<pre><code>CoordinatorLayout.LayoutParams params = \n                (CoordinatorLayout.LayoutParams) \nyourView.getLayoutParams();\nparams.setBehavior(new AppBarLayout.ScrollingViewBehavior());\nyourView.requestLayout();\n</code></pre></li>\n</ul></li>\n</ol>\n\n<p>It looks like Google is still updating the behavior source.  After they finish, you probably want to remove this so it can use its default behavior: </p>\n\n<p><a href=\"https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/floatingactionbutton/FloatingActionButton.java\" rel=\"nofollow noreferrer\">https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/floatingactionbutton/FloatingActionButton.java</a></p>\n"}, {"tags": [], "owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "is_accepted": false, "score": 2, "last_activity_date": 1546263731, "creation_date": 1546263731, "answer_id": 53988150, "question_id": 52302340, "link": "https://stackoverflow.com/questions/52302340/show-snack-bar-above-fab-in-androidx/53988150#53988150", "title": "Show snack bar above FAB in androidx", "body": "<p>Seems like Google updated the guidelines, but didn't update the SDK, as well as its own apps (like Gmail).</p>\n\n<p>I've reported about this here:</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/122163315\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/122163315</a></p>\n"}, {"tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 12, "last_activity_date": 1568496107, "last_edit_date": 1568496107, "creation_date": 1568494556, "answer_id": 57939199, "question_id": 52302340, "link": "https://stackoverflow.com/questions/52302340/show-snack-bar-above-fab-in-androidx/57939199#57939199", "title": "Show snack bar above FAB in androidx", "body": "<p>Use the <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/Snackbar.md\" rel=\"noreferrer\">Snackbar</a> in material components library and use the <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/Snackbar.md#anchoring-a-snackbar\" rel=\"noreferrer\"><strong><code>setAnchorView</code></strong></a> method to make a <code>Snackbar</code> appear above a specific view.</p>\n\n<p>In your case you can use:</p>\n\n<pre><code>FloatingActionButton fab = findViewById(R.id.photoFab);\nSnackbar snackbar = Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG);\nsnackbar.setAnchorView(fab);\n</code></pre>\n"}], "owner": {"reputation": 210, "user_id": 6107009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bcc6155ec86ee35c5479864ceaca5e?s=128&d=identicon&r=PG&f=1", "display_name": "newakkoff", "link": "https://stackoverflow.com/users/6107009/newakkoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2753, "favorite_count": 0, "answer_count": 3, "score": 7, "last_activity_date": 1568496107, "creation_date": 1536781397, "last_edit_date": 1568494610, "question_id": 52302340, "link": "https://stackoverflow.com/questions/52302340/show-snack-bar-above-fab-in-androidx", "title": "Show snack bar above FAB in androidx", "body": "<p>trying create app using androidx.\nmy layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".ui.photo.PhotoFragment\"&gt;\n\n\n    &lt;ProgressBar\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recyclerPhoto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_anchorGravity=\"top|center\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:itemCount=\"48\"\n        tools:layoutManager=\"GridLayoutManager\"\n        tools:listitem=\"@layout/recycler_photo_item\"\n        tools:spanCount=\"3\" /&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/photoCoordinator\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        &gt;\n\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\n            android:id=\"@+id/mainBottomAppBar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom\"\n            app:fabAlignmentMode=\"center\"\n            android:backgroundTint=\"@color/colorPrimary\"\n            app:fabCradleMargin=\"@dimen/cradle_margin\"\n            app:fabCradleRoundedCornerRadius=\"@dimen/corner_radius\"\n            app:hideOnScroll=\"true\"\n            app:navigationIcon=\"@drawable/ic_menu_24px\" /&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/photoFab\"\n            style=\"@style/Widget.MaterialComponents.FloatingActionButton\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/ic_camera_alt_24px\"\n            app:layout_anchor=\"@id/mainBottomAppBar\" /&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>and its looks like that <a href=\"https://i.stack.imgur.com/2mjlg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2mjlg.png\" alt=\"enter image description here\"></a>\nwhen i showing snackbar its looks like this <a href=\"https://i.stack.imgur.com/wDHeC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wDHeC.png\" alt=\"enter image description here\"></a>\ngoogle says that snackbar should showing above bottom app bar and fab but i cant when trying to show snack bar with bottom margin </p>\n\n<pre><code>val snackbarView = snackbar.view\n    val params = snackbarView.layoutParams as CoordinatorLayout.LayoutParams\n\n    params.setMargins(\n            params.leftMargin + marginSide,\n            params.topMargin,\n            params.rightMargin + marginSide,\n            params.bottomMargin + marginBottom\n    )\n\n    snackbarView.layoutParams = params\n</code></pre>\n\n<p>fab ups to!\nhow can i show snackbar above fab and bottom app bar?\nsorry for my engllish!</p>\n"}, {"tags": ["junit", "kotlin", "junit4"], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1536855722, "creation_date": 1536776957, "last_edit_date": 1536855722, "question_id": 52301404, "link": "https://stackoverflow.com/questions/52301404/how-can-i-fail-a-junit-test-from-within-a-test-rule", "title": "How can I fail a JUnit Test from within a test rule", "body": "<p>I have some async code that may throw an exception that JUnit misses (so the test passes).</p>\n\n<p>I've created a <code>TestRule</code> to collect those exceptions into a list. After any test has finished, an assertion runs over the list and fails the test if the exception list is non-empty.</p>\n\n<p>Instead of failing <em>after</em> the test finishes, I would like to fail the test <strong>immediately</strong> when the exception occurs. Is this possible to do this with a <code>TestRule</code>?</p>\n\n<p><strong>My <code>TestRule</code></strong></p>\n\n<pre><code>/**\n * Coroutines can throw exceptions that can go unnoticed by the JUnit Test Runner which will pass \n * a test that should have failed. This rule will ensure the test fails, provided that you use the \n * [CoroutineContext] provided by [dispatcher].\n */\nclass CoroutineExceptionRule : TestWatcher(), TestRule {\n\n    private val exceptions = Collections.synchronizedList(mutableListOf&lt;Throwable&gt;())\n\n    val dispatcher: CoroutineContext\n        get() = Unconfined + CoroutineExceptionHandler { _, throwable -&gt;\n            // I want to hook into test lifecycle and fail test immediately here\n            exceptions.add(throwable)\n            // this throw will not always fail the test. this does print the stacktrace at least\n            throw throwable\n        }\n\n    override fun starting(description: Description) {\n        exceptions.clear()\n    }\n\n    override fun finished(description: Description) {\n        // instead of waiting for test to finish to fail it\n        exceptions.forEach { throw AssertionError(it) }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536771398, "post_id": 52300140, "comment_id": 91547942, "body": "Soooooo are you getting the object from Realm?"}, {"owner": {"reputation": 1, "user_id": 7572555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38298c4ceda1728f3c29fede75256?s=128&d=identicon&r=PG&f=1", "display_name": "rahi", "link": "https://stackoverflow.com/users/7572555/rahi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536771584, "post_id": 52300140, "comment_id": 91548028, "body": "after inserting the hole object ficheX in realm and when I try to get etapes  with:  StepDataStore.getObject().query { equalTo(&quot;parent.id&quot;, id, Case.INSENSITIVE) } } the linking obj always null"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536777217, "post_id": 52300140, "comment_id": 91550694, "body": "What is <code>.query {</code>? This is not code from Realm"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536795794, "post_id": 52300140, "comment_id": 91557128, "body": "Oh, so it&#39;s from that unofficial <a href=\"https://github.com/vicpinm/Kotlin-Realm-Extensions/blob/f05d18395e9c6fcf40c52fe76ecc159cd31dc6dd/library-base/src/main/java/com/vicpin/krealmextensions/RealmExtensions.kt#L24\" rel=\"nofollow noreferrer\">&quot;Kotlin Realm Extension&quot; thing</a> that actually uses <code>copyFromRealm</code> for every single query, and you&#39;re left with unmanaged objects without even realizing it. Of course you get <code>null</code> from that. Use Realm&#39;s API instead."}, {"owner": {"reputation": 1, "user_id": 7572555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38298c4ceda1728f3c29fede75256?s=128&d=identicon&r=PG&f=1", "display_name": "rahi", "link": "https://stackoverflow.com/users/7572555/rahi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536818002, "post_id": 52300140, "comment_id": 91561962, "body": "ok thnx i will use  Realm&#39;s API"}], "owner": {"reputation": 1, "user_id": 7572555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f38298c4ceda1728f3c29fede75256?s=128&d=identicon&r=PG&f=1", "display_name": "rahi", "link": "https://stackoverflow.com/users/7572555/rahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536771324, "creation_date": 1536771324, "question_id": 52300140, "link": "https://stackoverflow.com/questions/52300140/android-realm-linkingobject-return-always-null", "title": "android realm @linkingObject return always null", "body": "<p>i want to get the parent of specific object \ni have implemented this code</p>\n\n<pre><code>open class FicheX() : RealmObject(){\n  var steps: RealmList&lt;Etapex&gt;? =RealmList()}\n</code></pre>\n\n<p>and in Etapex</p>\n\n<pre><code>@LinkingObjects(\"steps\")\n    val parent: RealmResults&lt;FicheX&gt;? = null\n</code></pre>\n\n<p>but I always get null inside parentFileOfSteps</p>\n"}, {"tags": ["kotlin", "tornadofx"], "owner": {"reputation": 73, "user_id": 1158918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39536cf1f5902932bcb1497e191fc57?s=128&d=identicon&r=PG", "display_name": "mXaln", "link": "https://stackoverflow.com/users/1158918/mxaln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536768651, "creation_date": 1536768651, "question_id": 52299468, "link": "https://stackoverflow.com/questions/52299468/tornadofx-combobox-selectionmodel-selectfirst-on-event", "title": "TornadoFX Combobox selectionModel.selectFirst on event", "body": "<p>in tornadoFX components there are methods like disableWhen, enableWhen an so on. Where I can put some binding expression and it will change the component state. But I need a similar action for combobox selectFirst. And it should be triggered only once as soon as customers are not empty. For example:</p>\n\n<pre><code>combobox {\n    disableWhen {\n        Bindings.isEmpty(viewModel.customers)\n    }\n\n    selectionModel.selectFirst {\n        Bindings.isNotEmpty(viewModel.customers)\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "kotlin", "spring-webflux", "project-reactor"], "comments": [{"owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1536823807, "post_id": 52298069, "comment_id": 91564392, "body": "what is that longRunningMethod doing? How is your application supposed to behave if it fails (is the response status still valid)? Is that longRunningMethod reading the request in any form?"}, {"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "reply_to_user": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "edited": false, "score": 0, "creation_date": 1536848344, "post_id": 52298069, "comment_id": 91578746, "body": "It  doesn&#39;t really read anything from the request (other than a queryParam). Anything to read out will be read and sent in to <code>longRunningMethod()</code> as parameters before sending the response. It is essentially a report that takes a long time to generate. Subsequent different requests would have to deal with retrieving the generated data. A <code>200</code> in this case simply means it was initiated."}], "answers": [{"tags": [], "owner": {"reputation": 46241, "user_id": 22982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d1d5b668ad4b1fccb1a80e6789d11b5?s=128&d=identicon&r=PG", "display_name": "Brian Clozel", "link": "https://stackoverflow.com/users/22982/brian-clozel"}, "is_accepted": false, "score": 0, "last_activity_date": 1536934720, "creation_date": 1536934720, "answer_id": 52333882, "question_id": 52298069, "link": "https://stackoverflow.com/questions/52298069/webflux-mono-keep-running-to-completion/52333882#52333882", "title": "Webflux Mono - Keep running to completion", "body": "<p>It's hard to say for sure, because we're missing a lot of context here.</p>\n\n<p>But I think that task (which seems to be generating a report) is not strictly linked with the Controller and this might not belong here. Instead, you could send an application event from your controller and let the event listener process it.</p>\n\n<p>By default, events are handled in the current thread, so you have to make sure to configure an <code>Executor</code> with that <code>ApplicationEventMulticaster</code>. In the end, it doesn't seem to matter if the report is produced or not, from the HTTP perspective, so you can decouple them completely.</p>\n\n<p>In theory, you could do <code>longRunningMethod().subscribe()</code>, but it doesn't feel right to have that side effect running from the controller, with no checks. And it would also be harder to test.</p>\n"}], "owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536934720, "creation_date": 1536763938, "question_id": 52298069, "link": "https://stackoverflow.com/questions/52298069/webflux-mono-keep-running-to-completion", "title": "Webflux Mono - Keep running to completion", "body": "<p>I have a function which does a bunch of stuff and ultimately returns a <code>Mono</code>.</p>\n\n<p>If I have a handler like this:</p>\n\n<pre><code>fun handleSomething(request: ServerRequest): Mono&lt;ServerResponse&gt; {\n  return longRunningMethod().flatMap {\n    ServerResponse.ok.build()\n  }\n}\n</code></pre>\n\n<p>That will work, but it won't return the response until it finishes the long running method.</p>\n\n<p>What I would like to do instead is kick off the long running method, but return a response immediately, something like this:</p>\n\n<pre><code>fun handleSomething(request: ServerRequest): Mono&lt;ServerResponse&gt; {\n  longRunningMethod()\n\n  return ServerResponse.ok.build()\n}\n</code></pre>\n\n<p>Problem with this, is as soon as the response is sent (which is basically immediately), it seems like it just aborts the <code>longRunningMethod()</code>.</p>\n\n<p>Is there a way to keep the <code>longRunningMethod()</code> running until it actually completes, even if the request as finished?</p>\n"}, {"tags": ["java", "hibernate", "docker", "kotlin", "hazelcast"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1536855229, "post_id": 52303527, "comment_id": 91582903, "body": "Hi Terry, i&#39;ve updated my question with a snippet of code that successfully connects to Hazelcast, stores data and retrieves it again after the application is restarted which means Hazelcast works correctly (all the above is me trying to get Hazelcast + Hibernate working on my dev machine)"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1536862176, "post_id": 52303527, "comment_id": 91586322, "body": "Making progress, Hazelcast itself is failing now, seems like there&#39;s a missing class or something."}, {"owner": {"reputation": 2455, "user_id": 5759723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6gq4P.png?s=128&g=1", "display_name": "Neil Stevenson", "link": "https://stackoverflow.com/users/5759723/neil-stevenson"}, "edited": false, "score": 0, "creation_date": 1536870616, "post_id": 52303527, "comment_id": 91590316, "body": "If you run <code>docker pull hazelcast&#47;hazelcast:3.10.4</code> that&#39;ll be the basic Hazelcast server, with the hazelcast.jar and the hazelcast.xml (so group name &quot;dev&quot; password &quot;dev-pass&quot;).. It won&#39;t contain the Hibernate jar which the exception suggests needs to be present on the server side."}], "tags": [], "owner": {"reputation": 186, "user_id": 7243149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K6KdOYrPI_0/AAAAAAAAAAI/AAAAAAAAAAo/BQetPg21Dak/photo.jpg?sz=128", "display_name": "Terry Walters", "link": "https://stackoverflow.com/users/7243149/terry-walters"}, "is_accepted": false, "score": 1, "last_activity_date": 1536786635, "creation_date": 1536786635, "answer_id": 52303527, "question_id": 52297731, "link": "https://stackoverflow.com/questions/52297731/getting-hazelcast-native-client-working-with-hibernate-5-2-x/52303527#52303527", "title": "Getting Hazelcast Native Client working with Hibernate 5.2.x", "body": "<p>Looks like you are attempting to use the loop back address from another sever and outside of the docker network. \nYou may want to try bridged to eliminate the docker network address translation. \nAlso since 0.0.0.0 is bonded thus all ip addresses should have Hazelcast listeners installed. \nI would simplify and first validate Hazelcast. If you have enterprise then use the console application otherwise write a simple start server java main. And then attemp to connect with a client using a real IP address.  Once this works then work on hibernate configuration. </p>\n"}, {"comments": [{"owner": {"reputation": 879, "user_id": 637409, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d133bab847d9a7523ffc112bc178f8df?s=128&d=identicon&r=PG", "display_name": "Gaucho", "link": "https://stackoverflow.com/users/637409/gaucho"}, "edited": false, "score": 0, "creation_date": 1589786289, "post_id": 52326385, "comment_id": 109420308, "body": "Hello Jan. Just by chance: have you tried to integrate this into a webapp and deploy to tomcat? I am trying it <a href=\"https://github.com/lurodrig/hazle-demo\" rel=\"nofollow noreferrer\">github.com/lurodrig/hazle-demo</a> but I must be missing something. Perhaps it deserves another question and link it to yours"}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "reply_to_user": {"reputation": 879, "user_id": 637409, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d133bab847d9a7523ffc112bc178f8df?s=128&d=identicon&r=PG", "display_name": "Gaucho", "link": "https://stackoverflow.com/users/637409/gaucho"}, "edited": false, "score": 0, "creation_date": 1589799160, "post_id": 52326385, "comment_id": 109426591, "body": "Probably best to ask it in a different question. I&#39;ve not used Tomcat / Jetty for years, been building everything as fat jars and it&#39;s likely that Tomcat could be interfering as well depending on your setup, especially if it&#39;s a TomcatEE setup"}], "tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 0, "last_activity_date": 1536907906, "creation_date": 1536907906, "answer_id": 52326385, "question_id": 52297731, "link": "https://stackoverflow.com/questions/52297731/getting-hazelcast-native-client-working-with-hibernate-5-2-x/52326385#52326385", "title": "Getting Hazelcast Native Client working with Hibernate 5.2.x", "body": "<p>Finally got it working, here's what was needed:</p>\n\n<p>1: Make sure you have all three these dependencies, initially i was missing the first one, but for some reason, wasn't getting a ClassNotFound exception as expected. It doesn't seem to be a transitive dependency of either <code>hazelcast-client</code> or <code>hazelcast-hibernate52</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;${hazelcast.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-hibernate52&lt;/artifactId&gt;\n        &lt;version&gt;${hazelcast-hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-client&lt;/artifactId&gt;\n        &lt;version&gt;${hazelcast.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>2: If your dev instance of Hazelcast doesn't have a password, don't specify the password. 127.0.0.1 works fine, no need to run on an external server while dev-ing.</p>\n\n<pre><code>paramsDefault.add(\"hibernate.cache.use_query_cache=true\")\nparamsDefault.add(\"hibernate.cache.use_second_level_cache=true\")\nparamsDefault.add(\"hibernate.cache.region.factory_class=com.hazelcast.hibernate.HazelcastCacheRegionFactory\")\nparamsDefault.add(\"hibernate.cache.hazelcast.use_native_client=true\")\nparamsDefault.add(\"hibernate.cache.hazelcast.native_client_address=127.0.0.1\")\n//  paramsDefault.add(\"hibernate.cache.hazelcast.native_client_group=$ENV\")\n//  paramsDefault.add(\"hibernate.cache.hazelcast.native_client_password=dev-pass\")\n</code></pre>\n\n<p>3: Get rid of <code>hazelcast.xml</code> - after removing that <code>hazelcast.xml</code> file, Hibernate actually started up even though my <code>hazelcast.xml</code> file just had a one-liner in it saying use default config.</p>\n\n<p>4: Make sure all entities are marked with Serializable, otherwise entities won't cache and cause an exception on the Hazelcast server itself.</p>\n\n<pre><code>@Table\n@Entity\n@BatchSize(size = 50)\n@PersistenceContext(unitName = \"default\")\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE, region = \"Tag\")\nclass Tag(\n    name: String,\n) : Serializable {\n</code></pre>\n\n<p>5: If your entity has <code>@OneToMany</code>, <code>@ManyToOne</code> or other entities inside of it, make sure those entities are <code>Serializable</code> as well.</p>\n\n<p>6: Write a little script to ensure that your entities are caching:</p>\n\n<pre><code>import com.hazelcast.client.HazelcastClient\nimport com.hazelcast.client.config.ClientConfig\n\nfun main(args: Array&lt;String&gt;) {\n\n    val config = ClientConfig()\n    config.getNetworkConfig().addAddress(\"127.0.0.1:5701\")\n    val hazelcastInstance = HazelcastClient.newHazelcastClient(config)\n\n    val map = hazelcastInstance.getMap&lt;Any, Any&gt;(\"Tag\")\n\n    println(\"=================\")\n    map.forEach { t, u -&gt;\n        println(\" $t -&gt; $u \")\n    }\n    println(\"=================\")\n\n    hazelcastInstance.shutdown()\n\n}\n</code></pre>\n\n<p>The above script will <code>println</code> all Tag entities currently in the cache</p>\n\n<p>7: When starting up the Docker instance, make sure you've exposed the port, without the <code>-p</code> option, nothing will work.</p>\n\n<pre><code>docker run --name=hazelcast -d=true -p 5701:5701 -e JAVA_OPTS=\"-Dhazelcast.local.publicAddress=127.0.0.1:5701\" hazelcast/hazelcast:3.10.4\n</code></pre>\n\n<p>8: Check the Hazelcast logs to see if your Java / Kotlin client is connecting:</p>\n\n<pre><code>docker logs -f hazelcast\n</code></pre>\n\n<p>You should see something like this when there's a connection:</p>\n\n<pre><code>Sep 13, 2018 9:05:06 PM com.hazelcast.client.ClientEndpointManager\nINFO: [127.0.0.1]:5701 [dev] [3.10.4] Destroying ClientEndpoint{connection=Connection[id=32, /172.17.0.2:5701-&gt;/172.17.0.1:56574, endpoint=[172.17.0.1]:56574, alive=false, type=JAVA_CLIENT], principal='ClientPrincipal{uuid='99cbf1b4-d11c-462d-bd87-4c069bc9b2ef', ownerUuid='2fb66fa1-a17f-49fe-ba2b-bf585d43906d'}, ownerConnection=true, authenticated=true, clientVersion=3.10.4, creationTime=1536872631771, latest statistics=null}\nSep 13, 2018 9:05:19 PM com.hazelcast.nio.tcp.TcpIpAcceptor\nINFO: [127.0.0.1]:5701 [dev] [3.10.4] Accepting socket connection from /172.17.0.1:56576\nSep 13, 2018 9:05:19 PM com.hazelcast.nio.tcp.TcpIpConnectionManager\nINFO: [127.0.0.1]:5701 [dev] [3.10.4] Established socket connection between /172.17.0.2:5701 and /172.17.0.1:56576\nSep 13, 2018 9:05:19 PM com.hazelcast.client.impl.protocol.task.AuthenticationMessageTask\nINFO: [127.0.0.1]:5701 [dev] [3.10.4] Received auth from Connection[id=33, /172.17.0.2:5701-&gt;/172.17.0.1:56576, endpoint=null, alive=true, type=JAVA_CLIENT], successfully authenticated, principal: ClientPrincipal{uuid='ff51de39-fd9c-4ecf-bdd4-bbdb6ec6c79e', ownerUuid='2fb66fa1-a17f-49fe-ba2b-bf585d43906d'}, owner connection: true, client version: 3.10.4\n</code></pre>\n\n<p>These seems to be the crux of getting hazelcast hibernate working.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 52326385, "answer_count": 2, "score": 4, "last_activity_date": 1536907906, "creation_date": 1536762960, "last_edit_date": 1536862024, "question_id": 52297731, "link": "https://stackoverflow.com/questions/52297731/getting-hazelcast-native-client-working-with-hibernate-5-2-x", "title": "Getting Hazelcast Native Client working with Hibernate 5.2.x", "body": "<p>I'm trying to get Hazelcast working with Hibernate, but unless i use the <code>super_client</code> option, it doesn't start up.</p>\n\n<p>According to the docs, Super Client should only be used if your app is on the same RAC or data center. For local, this will be the case, for production, they will most definitely be separated, so Native Client is the only option that will work for us.</p>\n\n<blockquote>\n  <p>Super Client is a member of the cluster, it has socket connection to\n  every member in the cluster and it knows where the data is so it will\n  get to the data much faster. But Super Client has the clustering\n  overhead and it must be on the same data center even on the same RAC.\n  However Native client is not member and relies on one of the cluster\n  members. Native Clients can be anywhere in the LAN or WAN. It scales\n  much better and overhead is quite less. So if your clients are less\n  than Hazelcast nodes then Super client can be an option; otherwise\n  definitely try Native Client. As a rule of thumb: Try Native client\n  first, if it doesn't perform well enough for you, then consider Super\n  client.</p>\n</blockquote>\n\n<p>The best option for starting up Hazelcast seems to be using Docker:</p>\n\n<pre><code>docker pull hazelcast/hazelcast:3.10.4\ndocker run --name=hazelcast -d=true -p 5701:5701 hazelcast/hazelcast:3.10.4\n</code></pre>\n\n<p>And this is what it looks like once it is up and running, i double checked that the Hazelcast port, 5701, is exposed which it clearly is.</p>\n\n<pre><code>CONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS              PORTS                    NAMES\n77a5a0bed5eb        hazelcast/hazelcast:3.10.4   \"bash -c 'set -euo p\u2026\"   3 days ago          Up 6 hours          0.0.0.0:5701-&gt;5701/tcp   hazelcast\n</code></pre>\n\n<p>The docker hub docs also mentions how to pass in JAVA_OPTS, i'm not sure if this is required or optional and what its purpose is, but this didn't help me get up and running:</p>\n\n<blockquote>\n  <p>-e JAVA_OPTS=\"-Dhazelcast.local.publicAddress=127.0.0.1:5701\"</p>\n</blockquote>\n\n<p><code>telnet 127.0.0.1 5701</code> successfully connects to <code>localhost:5701</code>, so i know the port is open. The docker docs doesn't mention what the default password is for this running Hazelcast instance, my assumption is that it's empty or that the password is <code>dev-pass</code> as mentioned in several older tutorials.</p>\n\n<p>I'm using Hibernate <code>5.2.13.Final</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;cglib&lt;/groupId&gt;\n                &lt;artifactId&gt;cglib&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-validator.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>For Hazelcast, according to the docs, two dependencies are required,</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;3.10.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-hibernate52&lt;/artifactId&gt;\n        &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-client&lt;/artifactId&gt;\n        &lt;version&gt;3.10.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The docs show the following links:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2N7iD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2N7iD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Clicking Hibernate 5 shows that <code>hazelcast-hibernate52</code> is the correct dependency</p>\n\n<p><a href=\"https://i.stack.imgur.com/FDuLT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDuLT.png\" alt=\"enter image description here\"></a></p>\n\n<p>When i click <code>See here</code> for details, i'm greeted with docs that look somewhat outdated:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VONsK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VONsK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Assuming there's only a typo, i go through to the <a href=\"https://github.com/hazelcast/hazelcast-code-samples/tree/master/hazelcast-integration/hibernate-2ndlevel-cache\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration SYSTEM \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_query_cache\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_minimal_puts\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.region.factory_class\"&gt;com.hazelcast.hibernate.HazelcastCacheRegionFactory&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.hazelcast.use_native_client\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.hazelcast.native_client_hosts\"&gt;127.0.0.1&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.hazelcast.native_client_group\"&gt;hibernate&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.hazelcast.native_client_password\"&gt;password&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;org.apache.derby.jdbc.EmbeddedDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:derby:hibernateDB&lt;/property&gt;\n        &lt;mapping resource=\"Employee.hbm.xml\"/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>In the example, Use Native Client is set to false, yet it is being configured, is this a typo or is this the correct configuration? </p>\n\n<p>I'm trying out these settings on a standard Hibernate Postgres with C3P0 setup, here's my <code>persistence.xml</code></p>\n\n<pre><code>        &lt;properties&gt;\n\n            &lt;!-- Hibernate Config --&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.PostgreSQL95Dialect\" /&gt;\n            &lt;property name=\"hibernate.generate_statistics\" value=\"false\" /&gt;\n\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\"/&gt;\n\n            &lt;property name=\"hibernate.physical_naming_strategy\" value=\"za.co.convirt.util.CustomApplicationNamingStrategy\"/&gt;\n\n            &lt;property name=\"hibernate.connection.charSet\" value=\"UTF-8\"/&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"false\" /&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"false\"/&gt;\n            &lt;property name=\"hibernate.use_sql_comments\" value=\"false\"/&gt;\n\n            &lt;!-- JDBC Config --&gt;\n            &lt;property name=\"javax.persistence.jdbc.driver\" value=\"org.postgresql.Driver\" /&gt;\n\n            &lt;property name=\"javax.persistence.jdbc.time_zone\" value=\"UTC\" /&gt;\n            &lt;property name=\"hibernate.jdbc.time_zone\" value=\"UTC\"/&gt;\n\n            &lt;!-- Connection Pool --&gt;\n            &lt;property name=\"hibernate.connection.provider_class\" value=\"org.hibernate.connection.C3P0ConnectionProvider\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_size\" value=\"5\" /&gt;\n            &lt;property name=\"hibernate.c3p0.min_size\" value=\"1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.acquire_increment\" value=\"1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"300\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_statements\" value=\"0\" /&gt;\n            &lt;property name=\"hibernate.c3p0.timeout\" value=\"100\" /&gt;\n\n            &lt;!-- Batch writing --&gt;\n            &lt;property name=\"hibernate.jdbc.batch_size\" value = \"50\"/&gt;\n            &lt;property name=\"hibernate.order_updates\" value = \"true\"/&gt;\n            &lt;property name=\"hibernate.jdbc.batch_versioned_data\" value = \"true\"/&gt;\n\n        &lt;/properties&gt;\n</code></pre>\n\n<p>Some params are entered programmatically via (this has been in use for ages, so i know it works, but adding it here just in case it helps make the code more clear)</p>\n\n<pre><code>fun paramsFromArgs(args: Array&lt;String&gt;): Map&lt;String, String&gt; {\n    val hibernateMap = mutableMapOf&lt;String, String&gt;()\n    args.forEach {\n        if (it.isNotBlank()) {\n            if (it.startsWith(\"hibernate\") || it.startsWith(\"javax.persistence\")) {\n                val split = it.split(\"=\", limit = 2)\n                hibernateMap.put(split.get(0), split.get(1))\n            }\n        }\n    }\n    return hibernateMap\n}\n</code></pre>\n\n<p>Now when i setup Second Level cache with Hazelcast:</p>\n\n<pre><code>paramsDefault.add(\"hibernate.cache.use_query_cache=true\")\nparamsDefault.add(\"hibernate.cache.use_second_level_cache=true\")\nparamsDefault.add(\"hibernate.cache.region.factory_class=com.hazelcast.hibernate.HazelcastCacheRegionFactory\")\nparamsDefault.add(\"hibernate.cache.provider_configuration_file_resource_path=hazelcast.xml\")\nparamsDefault.add(\"hibernate.cache.hazelcast.use_native_client=false\")\nparamsDefault.add(\"hibernate.cache.hazelcast.native_client_address=127.0.0.1\")\nparamsDefault.add(\"hibernate.cache.hazelcast.native_client_group=dev\")\nparamsDefault.add(\"hibernate.cache.hazelcast.native_client_password=dev-pass22222asfasdf\")\nparamsDefault.add(\"hibernate.cache.hazelcast.client.statistics.enabled=true\")\n\nDatabase.setupEntityManagerFactory(\"default\",\n                Database.paramsFromArgs(paramsDefault.toTypedArray()))\n</code></pre>\n\n<p>Setting <code>use_native_client</code> to false like in the example doesn't seem to do anything, with the logs in debug mode, i'm not seeing anything Hazelcast related.</p>\n\n<p>Switching it to <code>true</code> (which makes more sense considering it's being configured to have a password and IP address, it bombs out on startup.</p>\n\n<blockquote>\n  <p>hibernate.cache.hazelcast.use_native_client=true\n  hibernate.cache.hazelcast.native_client_address=127.0.0.1\n  hibernate.cache.hazelcast.native_client_group=dev\n  hibernate.cache.hazelcast.native_client_password=dev-pass</p>\n</blockquote>\n\n<pre><code>DEB [16:18:26.531] setup org.hibernate.jpa.internal.util.LogHelper PersistenceUnitInfo [\n    name: default\n    persistence provider classname: org.hibernate.jpa.HibernatePersistenceProvider\n    classloader: null\n    excludeUnlistedClasses: false\n    JTA datasource: null\n    Non JTA datasource: null\n    Transaction type: RESOURCE_LOCAL\n    PU root URL: file:/Users/vlad/Code/.../...\n    Shared Cache Mode: null\n    Validation Mode: null\n    Jar files URLs []\n    Managed classes names []\n    Mapping files names []\n    Properties [\n        ...  \n        hibernate.jdbc.time_zone: UTC\n        javax.persistence.jdbc.password: \n        hibernate.cache.region.factory_class: com.hazelcast.hibernate.HazelcastCacheRegionFactory\n        hibernate.c3p0.idle_test_period: 300\n        hibernate.cache.hazelcast.use_native_client: true\n        ...         \n        hibernate.cache.hazelcast.native_client_group: dev\n        ...\n        javax.persistence.jdbc.driver: org.postgresql.Driver\n        hibernate.use_sql_comments: false\n        hibernate.cache.hazelcast.native_client_address: 127.0.0.1\n        ...\n        hibernate.cache.hazelcast.client.statistics.enabled: true\n        hibernate.dialect: org.hibernate.dialect.PostgreSQL95Dialect\n        hibernate.cache.provider_configuration_file_resource_path: hazelcast.xml]\n</code></pre>\n\n<p>HazelcastCacheRegionFactory is being used according to the logs:</p>\n\n<pre><code>    DEB [16:18:26.884] setup org.hibernate.cache.internal.RegionFactoryInitiator \nCache region factory : com.hazelcast.hibernate.HazelcastCacheRegionFactory\n</code></pre>\n\n<p>Followed by two log entries that doesn't follow my logging standard (i'm guessing it's not using SLF4j?):</p>\n\n<pre><code>Sep 12, 2018 2:18:29 PM com.hazelcast.hibernate.HazelcastCacheRegionFactory\nINFO: Starting up HazelcastCacheRegionFactory\n</code></pre>\n\n<p>... and then Unable to build Hibernate Session Factory:</p>\n\n<pre><code>ERR [16:18:29.802] setup ApplicationApi [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException (EntityManagerFactoryBuilderImpl.java:970)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build (EntityManagerFactoryBuilderImpl.java:895)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory (HibernatePersistenceProvider.java:58)\n    at javax.persistence.Persistence.createEntityManagerFactory (Persistence.java:55)\n    at za.co.convirt.util.Database.setupEntityManagerFactory (Database.kt:20)\n    at za.co.convirt.util.Database.setupEntityManagerFactory$default (Database.kt:19)\n    at ApplicationApi$main$hibernateThread$1.invoke (ApplicationApi.kt:171)\n    at ApplicationApi$main$hibernateThread$1.invoke (ApplicationApi.kt:26)\n    at kotlin.concurrent.ThreadsKt$thread$thread$1.run (Thread.kt:30)\n</code></pre>\n\n<p>To make sure that it's not failing due to missing annotations on entities, i added a few <code>@Cache</code> annotations to entities, but it makes no difference.</p>\n\n<pre><code>@Table\n@Entity\n@EntityListeners(AuditListener::class)\n@PersistenceContext(unitName = \"default\")\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE, region = \"Seat\")\nclass Seat(\n    name: String,\n    ...\n</code></pre>\n\n<p>I've also added a <code>hazelcast.xml</code>, not sure if this is needed or not:</p>\n\n<pre><code>&lt;hazelcast\n        xmlns=\"http://www.hazelcast.com/schema/config\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"\n            http://www.hazelcast.com/schema/config\n            http://www.hazelcast.com/schema/config/hazelcast-config-3.11.xsd\"&gt;\n\n    &lt;services enable-defaults=\"true\"/&gt;\n\n&lt;/hazelcast&gt;\n</code></pre>\n\n<p>Is hibernate 5.2.x supported? (<a href=\"https://github.com/hazelcast/hazelcast-hibernate5/issues/9\" rel=\"nofollow noreferrer\">this ticket</a> shows that the problems with Hibernate 5.2 was fixed, so my assumption is that it should work)</p>\n\n<p>I want to run a stand-alone Hazelcast instance on one server and have multiple instances of the application use it as a central cache location, what am i missing from setup to make it work?</p>\n\n<hr>\n\n<h2><strong>Update 1</strong>:</h2>\n\n<p>I've written a small piece of code that successfully connects to the local hazelcast instance (this is on my dev machine, same as with the rest of the code)</p>\n\n<pre><code>import com.hazelcast.client.HazelcastClient\nimport com.hazelcast.client.config.ClientConfig\nimport java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n\n    val config = ClientConfig()\n    config.getNetworkConfig().addAddress(\"127.0.0.1:5701\")\n    val hazelcastInstance = HazelcastClient.newHazelcastClient(config)\n\n    val map = hazelcastInstance.getMap&lt;String, String&gt;(\"blah\")\n    map.forEach { t, u -&gt;\n        println(\" $t -&gt; $u \")\n    }\n\n    map.put(\"${Random().nextInt()}\", \"${Random().nextInt()}\")\n\n    hazelcastInstance.shutdown()\n\n}\n</code></pre>\n\n<p>To proof that it's storing and retrieving from cache, i restart the main method several times and each time the number of entries in <code>blah</code> increases</p>\n\n<pre><code>Run1: \n    No printlns\nRun2: \n    1498523740 -&gt; -1418154711 \nRun3: \n    1498523740 -&gt; -1418154711 \n    -248583979 -&gt; -940621527 \n</code></pre>\n\n<p>So Hazelcast is working correctly ...</p>\n\n<hr>\n\n<h2><strong>Update 2</strong>:</h2>\n\n<p>I can now connect hazelcast from Hibernate, but it's throwing an exception for every lookup it has to do.</p>\n\n<p>Removing <code>hazelcast.xml</code> from my classpath and then removing the group and password options, Hibernate is starting up and connecting.</p>\n\n<pre><code>paramsDefault.add(\"hibernate.cache.use_query_cache=true\")\nparamsDefault.add(\"hibernate.cache.use_second_level_cache=true\")\nparamsDefault.add(\"hibernate.cache.region.factory_class=com.hazelcast.hibernate.HazelcastCacheRegionFactory\")\nparamsDefault.add(\"hibernate.cache.hazelcast.use_native_client=true\")\nparamsDefault.add(\"hibernate.cache.hazelcast.native_client_address=127.0.0.1\")\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>Sep 13, 2018 6:02:37 PM com.hazelcast.hibernate.HazelcastCacheRegionFactory\nINFO: Starting up HazelcastCacheRegionFactory\nSep 13, 2018 6:02:37 PM com.hazelcast.core.LifecycleService\nINFO: hz.client_0 [dev] [3.10.4] HazelcastClient 3.10.4 (20180727 - 0f51fcf) is STARTING\nSep 13, 2018 6:02:38 PM com.hazelcast.client.spi.ClientInvocationService\nINFO: hz.client_0 [dev] [3.10.4] Running with 2 response threads\nSep 13, 2018 6:02:38 PM com.hazelcast.core.LifecycleService\nINFO: hz.client_0 [dev] [3.10.4] HazelcastClient 3.10.4 (20180727 - 0f51fcf) is STARTED\nSep 13, 2018 6:02:38 PM com.hazelcast.client.connection.ClientConnectionManager\nINFO: hz.client_0 [dev] [3.10.4] Trying to connect to [127.0.0.1]:5701 as owner member\nSep 13, 2018 6:02:38 PM com.hazelcast.client.connection.ClientConnectionManager\nINFO: hz.client_0 [dev] [3.10.4] Setting ClientConnection{alive=true, connectionId=1, channel=NioChannel{/127.0.0.1:61191-&gt;/127.0.0.1:5701}, remoteEndpoint=[127.0.0.1]:5701, lastReadTime=2018-09-13 18:02:38.356, lastWriteTime=2018-09-13 18:02:38.352, closedTime=never, lastHeartbeatRequested=never, lastHeartbeatReceived=never, connected server version=3.10.4} as owner with principal ClientPrincipal{uuid='532bf500-e03e-4620-a9c2-14bb55c07166', ownerUuid='2fb66fa1-a17f-49fe-ba2b-bf585d43906d'}\nSep 13, 2018 6:02:38 PM com.hazelcast.client.connection.ClientConnectionManager\nINFO: hz.client_0 [dev] [3.10.4] Authenticated with server [127.0.0.1]:5701, server version:3.10.4 Local address: /127.0.0.1:61191\nSep 13, 2018 6:02:38 PM com.hazelcast.client.spi.impl.ClientMembershipListener\nINFO: hz.client_0 [dev] [3.10.4] \n\nMembers [1] {\n    Member [127.0.0.1]:5701 - 2fb66fa1-a17f-49fe-ba2b-bf585d43906d\n}\n\nSep 13, 2018 6:02:38 PM com.hazelcast.core.LifecycleService\nINFO: hz.client_0 [dev] [3.10.4] HazelcastClient 3.10.4 (20180727 - 0f51fcf) is CLIENT_CONNECTED\nSep 13, 2018 6:02:38 PM com.hazelcast.internal.diagnostics.Diagnostics\nINFO: hz.client_0 [dev] [3.10.4] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\n</code></pre>\n\n<p>However, any entity that's being retrieved that makes a call to Hazelcast, just stalls.</p>\n\n<p>I've restarted Hazelcast with <code>JAVA_OPTS</code> to see if it makes a different, doesn't seem like it:</p>\n\n<pre><code>docker run --name=hazelcast -d=true -p 5701:5701 -e JAVA_OPTS=\"-Dhazelcast.local.publicAddress=127.0.0.1:5701\" hazelcast/hazelcast:3.10.4\n</code></pre>\n\n<p>Digging into Hazelcast logs using:</p>\n\n<pre><code>docker logs -f hazelcast\n</code></pre>\n\n<p>I'm seeing the following:</p>\n\n<pre><code> Sep 13, 2018 6:02:11 PM com.hazelcast.client.ClientEndpointManager\n    INFO: [127.0.0.1]:5701 [dev] [3.10.4] Destroying ClientEndpoint{connection=Connection[id=2, /172.17.0.2:5701-&gt;/172.17.0.1:56514, endpoint=[172.17.0.1]:56514, alive=false, type=JAVA_CLIENT], principal='ClientPrincipal{uuid='d8a9b730-c5fd-458c-9ab6-671aece99305', ownerUuid='2fb66fa1-a17f-49fe-ba2b-bf585d43906d'}, ownerConnection=true, authenticated=true, clientVersion=3.10.4, creationTime=1536861657874, latest statistics=null}\n    Sep 13, 2018 6:02:38 PM com.hazelcast.nio.tcp.TcpIpAcceptor\n    INFO: [127.0.0.1]:5701 [dev] [3.10.4] Accepting socket connection from /172.17.0.1:56516\n    Sep 13, 2018 6:02:38 PM com.hazelcast.nio.tcp.TcpIpConnectionManager\n    INFO: [127.0.0.1]:5701 [dev] [3.10.4] Established socket connection between /172.17.0.2:5701 and /172.17.0.1:56516\n    Sep 13, 2018 6:02:38 PM com.hazelcast.client.impl.protocol.task.AuthenticationMessageTask\n    INFO: [127.0.0.1]:5701 [dev] [3.10.4] Received auth from Connection[id=3, /172.17.0.2:5701-&gt;/172.17.0.1:56516, endpoint=null, alive=true, type=JAVA_CLIENT], successfully authenticated, principal: ClientPrincipal{uuid='532bf500-e03e-4620-a9c2-14bb55c07166', ownerUuid='2fb66fa1-a17f-49fe-ba2b-bf585d43906d'}, owner connection: true, client version: 3.10.4\n    Sep 13, 2018 6:03:11 PM com.hazelcast.transaction.TransactionManagerService\n    INFO: [127.0.0.1]:5701 [dev] [3.10.4] Committing/rolling-back live transactions of client, UUID: d8a9b730-c5fd-458c-9ab6-671aece99305\n</code></pre>\n\n<p>Upon hitting the cache:</p>\n\n<pre><code>Sep 13, 2018 6:05:43 PM com.hazelcast.map.impl.operation.EntryOperation\nSEVERE: [127.0.0.1]:5701 [dev] [3.10.4] java.lang.ClassNotFoundException: org.hibernate.cache.spi.entry.StandardCacheEntryImpl\ncom.hazelcast.nio.serialization.HazelcastSerializationException: java.lang.ClassNotFoundException: org.hibernate.cache.spi.entry.StandardCacheEntryImpl\n    at com.hazelcast.internal.serialization.impl.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:86)\n    at com.hazelcast.internal.serialization.impl.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:75)\n    at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:48)\n    at com.hazelcast.internal.serialization.impl.AbstractSerializationService.readObject(AbstractSerializationService.java:269)\n    at com.hazelcast.internal.serialization.impl.ByteArrayObjectDataInput.readObject(ByteArrayObjectDataInput.java:574)\n    at com.hazelcast.hibernate.serialization.Value.readData(Value.java:78)\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.readInternal(DataSerializableSerializer.java:160)\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:106)\n    at com.hazelcast.internal.serialization.impl.DataSerializableSerializer.read(DataSerializableSerializer.java:51)\n    at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:48)\n    at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:187)\n    at com.hazelcast.query.impl.CachedQueryEntry.getValue(CachedQueryEntry.java:75)\n    at com.hazelcast.hibernate.distributed.LockEntryProcessor.process(LockEntryProcessor.java:49)\n    at com.hazelcast.hibernate.distributed.LockEntryProcessor.process(LockEntryProcessor.java:32)\n    at com.hazelcast.map.impl.operation.EntryOperator.process(EntryOperator.java:319)\n    at com.hazelcast.map.impl.operation.EntryOperator.operateOnKeyValueInternal(EntryOperator.java:182)\n    at com.hazelcast.map.impl.operation.EntryOperator.operateOnKey(EntryOperator.java:167)\n    at com.hazelcast.map.impl.operation.EntryOperation.runVanilla(EntryOperation.java:384)\n    at com.hazelcast.map.impl.operation.EntryOperation.call(EntryOperation.java:188)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:202)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:191)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.run(OperationExecutorImpl.java:406)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl.runOrExecute(OperationExecutorImpl.java:433)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvokeLocal(Invocation.java:581)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.doInvoke(Invocation.java:566)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke0(Invocation.java:525)\n    at com.hazelcast.spi.impl.operationservice.impl.Invocation.invoke(Invocation.java:215)\n    at com.hazelcast.spi.impl.operationservice.impl.InvocationBuilderImpl.invoke(InvocationBuilderImpl.java:60)\n    at com.hazelcast.client.impl.protocol.task.AbstractPartitionMessageTask.processMessage(AbstractPartitionMessageTask.java:67)\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:123)\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.doRun(AbstractMessageTask.java:111)\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:101)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:155)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:125)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:100)\nCaused by: java.lang.ClassNotFoundException: org.hibernate.cache.spi.entry.StandardCacheEntryImpl\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at com.hazelcast.nio.ClassLoaderUtil.tryLoadClass(ClassLoaderUtil.java:173)\n    at com.hazelcast.nio.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:147)\n    at com.hazelcast.nio.IOUtil$ClassLoaderAwareObjectInputStream.resolveClass(IOUtil.java:615)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1866)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1749)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2040)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1571)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)\n    at com.hazelcast.internal.serialization.impl.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:82)\n    ... 34 more\n</code></pre>\n\n<p>Do i need to include some kind of JAR inside my Hazelcast Docker setup, or what is happening here?</p>\n"}, {"tags": ["java", "kotlin", "zipinputstream"], "answers": [{"comments": [{"owner": {"reputation": 528, "user_id": 5253376, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/506e6f2da0983113f41c6300b8f35864?s=128&d=identicon&r=PG&f=1", "display_name": "backcab", "link": "https://stackoverflow.com/users/5253376/backcab"}, "edited": false, "score": 1, "creation_date": 1536764281, "post_id": 52297675, "comment_id": 91544088, "body": "thanks. I see where I went wrong. I had only seen examples of streams being read by wrapping it in the <code>use</code>. I didn&#39;t realize the <code>copyTo</code> method can actually be called on any input stream even outside of <code>use</code>"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 528, "user_id": 5253376, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/506e6f2da0983113f41c6300b8f35864?s=128&d=identicon&r=PG&f=1", "display_name": "backcab", "link": "https://stackoverflow.com/users/5253376/backcab"}, "edited": false, "score": 0, "creation_date": 1583626110, "post_id": 52297675, "comment_id": 107181321, "body": "@backcab Can you please show what&#39;s the correct code, then?"}, {"owner": {"reputation": 528, "user_id": 5253376, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/506e6f2da0983113f41c6300b8f35864?s=128&d=identicon&r=PG&f=1", "display_name": "backcab", "link": "https://stackoverflow.com/users/5253376/backcab"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1583931792, "post_id": 52297675, "comment_id": 107277352, "body": "@androiddeveloper, instead of doing <code>zis.use{ it.copyTo(baos) }</code> just do <code>zis.copyTo(baos)</code>"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 528, "user_id": 5253376, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/506e6f2da0983113f41c6300b8f35864?s=128&d=identicon&r=PG&f=1", "display_name": "backcab", "link": "https://stackoverflow.com/users/5253376/backcab"}, "edited": false, "score": 0, "creation_date": 1583964174, "post_id": 52297675, "comment_id": 107293715, "body": "@backcab Oh ok. Thanks"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": true, "score": 2, "last_activity_date": 1536762798, "creation_date": 1536762798, "answer_id": 52297675, "question_id": 52297482, "link": "https://stackoverflow.com/questions/52297482/read-zipinputstream-in-kotlin/52297675#52297675", "title": "Read ZipInputStream in Kotlin", "body": "<p>The <code>use</code> function calls the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipInputStream.html#close--\" rel=\"nofollow noreferrer\">close()</a> method, which closes the entire stream, rather than <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipInputStream.html#closeEntry--\" rel=\"nofollow noreferrer\">closeEntry()</a>, which closes just the current entry. I think you should wrap your entire <code>while</code> loop with <code>zis.use { ... }</code>, rather than calling it for each entry.</p>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1536762899, "creation_date": 1536762899, "answer_id": 52297709, "question_id": 52297482, "link": "https://stackoverflow.com/questions/52297482/read-zipinputstream-in-kotlin/52297709#52297709", "title": "Read ZipInputStream in Kotlin", "body": "<p>In Kotlin, <code>use</code> will close a resource that implements <code>AutoCloseable</code>. That means its <code>close()</code> method is called for you automatically. I think you are assuming that in <code>ZipInputStream</code>, that's been overridden to close just entries, but it has not.</p>\n\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/ZipInputStream.html#close--\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Closes this input stream and releases any system resources associated <strong>with the stream</strong>. [Emphasis mine]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "is_accepted": false, "score": 0, "last_activity_date": 1616030543, "creation_date": 1616030543, "answer_id": 66683493, "question_id": 52297482, "link": "https://stackoverflow.com/questions/52297482/read-zipinputstream-in-kotlin/66683493#66683493", "title": "Read ZipInputStream in Kotlin", "body": "<blockquote>\n<p>Is there a good way to read all entries in a ZipInputStream in kotlin?</p>\n</blockquote>\n<p>Here's a function to extract the files from a Zip file, which you can use as a base and adjust to your own needs:</p>\n<pre><code>data class UnzippedFile(val filename: String, val content: ByteArray)\n\nfun unzip(file: File): List&lt;UnzippedFile&gt; = ZipInputStream(FileInputStream(file))\n    .use { zipInputStream -&gt;\n        generateSequence { zipInputStream.nextEntry }\n            .filterNot { it.isDirectory }\n            .map {\n                UnzippedFile(\n                    filename = it.name,\n                    content = zipInputStream.readAllBytes()\n                )\n            }.toList()\n    }\n</code></pre>\n<p>The key point is to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"nofollow noreferrer\"><code>generateSequence</code></a> to handle iterating over the entries until there are none left.</p>\n<p>Example usage, extracing a zip that contains three text files in a directory:</p>\n<pre><code>fun main() {\n    val unzipped = unzip(File(&quot;zipped.zip&quot;))\n    for ((filename, content) in unzipped) {\n        println(&quot;Contents of $filename: '${content.toString(Charset.defaultCharset()).trim()}'&quot;)\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Contents of zipped/two.txt: 'contents of two'\nContents of zipped/three.txt: 'three!!!!'\nContents of zipped/one.txt: 'contents of one'\n</code></pre>\n"}], "owner": {"reputation": 528, "user_id": 5253376, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/506e6f2da0983113f41c6300b8f35864?s=128&d=identicon&r=PG&f=1", "display_name": "backcab", "link": "https://stackoverflow.com/users/5253376/backcab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "accepted_answer_id": 52297675, "answer_count": 3, "score": 4, "last_activity_date": 1616031398, "creation_date": 1536762253, "last_edit_date": 1616031398, "question_id": 52297482, "link": "https://stackoverflow.com/questions/52297482/read-zipinputstream-in-kotlin", "title": "Read ZipInputStream in Kotlin", "body": "<p>I am trying to read a zipped file using Kotlin and ZipInputStream into a ByteArrayOutputStream()</p>\n\n<pre><code>val f = File(\"/path/to/zip/myFile.zip\")\nval zis = ZipInputStream(FileInputStream(f))\n\n//loop through all entries in the zipped file\nvar entry = zis.nextEntry\nwhile(entry != null) {\n    val baos = ByteArrayOutputStream()\n\n    //read the entry into a ByteArrayOutputStream\n    zis.use{ it.copyTo(baos) }\n\n    val bytes = baos.toByteArray()\n\n    System.out.println(bytes[0])\n\n    zis.closeEntry()  //error thrown here on first iteration\n    entry = zis.nextEntry\n}\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>java.io.IOException: Stream closed\n    at java.util.zip.ZipInputStream.ensureOpen(ZipInputStream.java:67)\n    at java.util.zip.ZipInputStream.closeEntry(ZipInputStream.java:139)\n    &lt;the code above&gt;\n</code></pre>\n\n<p>I thought maybe <code>zis.use</code> is closing the entry already after the contents of the entry are read, so I removed <code>zis.closeEntry()</code>, but then it produced the same error when trying to get the next entry</p>\n\n<p>I know <code>zis.use</code> is safe and guarantees the input stream is closed, but I would expect it to close just the entry if anything rather than the entire stream.</p>\n\n<p>Having printed the entire byte array, I know only the first file in the zip is being read during <code>zis.use</code></p>\n\n<p>Is there a good way to read all entries in a ZipInputStream in kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 6, "creation_date": 1536760444, "post_id": 52296838, "comment_id": 91541583, "body": "It&#39;s only initialized if <code>savedInstanceState</code> is null, which might not be true."}, {"owner": {"reputation": 397, "user_id": 6864952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8866dbb00fe202955a1f014ffcf4af69?s=128&d=identicon&r=PG", "display_name": "dantes_21", "link": "https://stackoverflow.com/users/6864952/dantes-21"}, "edited": false, "score": 1, "creation_date": 1536760620, "post_id": 52296838, "comment_id": 91541700, "body": "Also, please, show where and how you use the recyclerView variable after its have to initialized"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536762310, "post_id": 52296838, "comment_id": 91542874, "body": "@TheWanderer Can u give me an example? I imagine it like that - when onCreateView is being called, that savedInstance will always be null at first - that&#39;s when we init views. After that savedInstance should be not null - is that not true? What am I missing?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536769531, "post_id": 52296838, "comment_id": 91547062, "body": "Why do you even HAVE that condition? that doesn&#39;t make any sense?"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1536762156, "post_id": 52296968, "comment_id": 91542750, "body": "well, I&#39;ve a lot of views that are init there with lateinit property. To problem is somewhere else - in logic of fragments lifecycle. Somewhere inbetween rotation and app being in background (I would risk it to say - by app process being killed)."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1536762353, "post_id": 52296968, "comment_id": 91542901, "body": "In that case please update your question with the necessary information to reproduce the issue. Best would be a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 4, "last_activity_date": 1536760684, "creation_date": 1536760684, "answer_id": 52296968, "question_id": 52296838, "link": "https://stackoverflow.com/questions/52296838/lateinit-property-gives-exception-even-though-it-is-init/52296968#52296968", "title": "Lateinit property gives Exception even though it is init", "body": "<p>You probably want to check if <code>recyclerView</code>is initialized yet with <code>if(savedInstanceState == null)</code> better use <code>if(recyclerView::lateinitVar.isInitialized)</code> for that.</p>\n\n<p>See <a href=\"http://kotlinlang.org/docs/reference/whatsnew12.html#checking-whether-a-lateinit-var-is-initialized\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/whatsnew12.html#checking-whether-a-lateinit-var-is-initialized</a></p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536760684, "creation_date": 1536760318, "question_id": 52296838, "link": "https://stackoverflow.com/questions/52296838/lateinit-property-gives-exception-even-though-it-is-init", "title": "Lateinit property gives Exception even though it is init", "body": "<p>My fragment looks like:</p>\n\n<pre><code>open lateinit var recyclerView: RecyclerView\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View { \n    val rootView = inflater.cloneInContext(contextThemeWrapper).inflate(R.layout.xxx, container, false)\n\n    if (savedInstanceState == null) {\n        recyclerView = rootView.findViewById(R.id.sss)\n    }\n}\n</code></pre>\n\n<p>I've seen this error in my log:</p>\n\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{tv.lattelecom.app/tv.lattelecom.app.main.MainActivity}: kotlin.UninitializedPropertyAccessException: lateinit property recyclerView has not been initialized\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2793)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2864)\n       at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4720)\n</code></pre>\n\n<p>I'm curious, how and why this happens? Also, no clue how to reproduce this error. I guess it happens when application has been some time in background and is/have been rotated. Ideas?</p>\n"}, {"tags": ["casting", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1536760188, "post_id": 52296619, "comment_id": 91541407, "body": "Not more than with Java."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1536761308, "post_id": 52296619, "comment_id": 91542125, "body": "near to nothing. <a href=\"https://stackoverflow.com/a/26336788/4265739\">stackoverflow.com/a/26336788/4265739</a>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536763605, "post_id": 52296619, "comment_id": 91543667, "body": "if I look at the documentation, casting could be possible for all: kotlin-js, kotlin-native and kotlin-jvm... I am only using kotlin-jvm and there a cast translates to the same as in Java (and for casting there exist already some microbenchmarks). Regarding kotlin-js and kotlin-native? Don&#39;t know how a cast is working there or whether it is even supported... would be nice if someone else could tell..."}], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1536762239, "post_id": 52297314, "comment_id": 91542813, "body": "Safe cast is separate though, it&#39;s more an extension of the existing cast."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1536762333, "post_id": 52297314, "comment_id": 91542885, "body": "@Zoe, yes, I make a note of that near the end of my answer."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1536762429, "post_id": 52297314, "comment_id": 91542945, "body": "<i>casting in Kotlin is no more expensive than casting in Java</i> -- this is not really an answer because OP did not ask about the cost relative to java"}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1536762582, "post_id": 52297314, "comment_id": 91543042, "body": "@TimCastelijns What metric would you prefer then? The exact time taken to cast would vary wildly depending on many different factors, so the best general way to quantify it in my opinion would be to compare it with Java."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1536762936, "post_id": 52297314, "comment_id": 91543253, "body": "I don&#39;t know, you should ask OP"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536763741, "post_id": 52297314, "comment_id": 91543742, "body": "I would definitely also link some microbenchmarks for Java... but I wonder whether casting is supported for kotlin-js and kotlin-native too and if so: how is it solved there or how is the impact there?"}], "tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": true, "score": 3, "last_activity_date": 1536762346, "last_edit_date": 1536762346, "creation_date": 1536761750, "answer_id": 52297314, "question_id": 52296619, "link": "https://stackoverflow.com/questions/52296619/how-costly-is-casting-in-kotlin/52297314#52297314", "title": "How costly is casting in Kotlin?", "body": "<p>I messed around a little bit with disassembling the generated bytecode, and except for one case, casting is identical to Java. The one case where it seems to be different is when using <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"nofollow noreferrer\">the safe cast operator</a>, <code>as?</code>, like so:</p>\n\n<pre><code>val thing = \"\" as? Int\n</code></pre>\n\n<p>This generates equivalent bytecode to this Java code:</p>\n\n<pre><code>String _temp = \"\";\nif (!(_temp instanceof Integer)) {\n    _temp = null;\n}\nInteger thing = (Integer) _temp;\n</code></pre>\n\n<p>This makes it slightly more expensive than a regular cast in Java. However, there is no direct equivalent to this behavior in Java, short of writing a similar <code>if</code> statement anyways, so I think it's safe to say that <strong>casting in Kotlin is no more expensive than casting in Java.</strong></p>\n"}], "owner": {"reputation": 1288, "user_id": 6063416, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/zTPqR.jpg?s=128&g=1", "display_name": "SnuKies", "link": "https://stackoverflow.com/users/6063416/snukies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 1, "accepted_answer_id": 52297314, "answer_count": 1, "score": 4, "last_activity_date": 1536762346, "creation_date": 1536759626, "question_id": 52296619, "link": "https://stackoverflow.com/questions/52296619/how-costly-is-casting-in-kotlin", "title": "How costly is casting in Kotlin?", "body": "<p>In Kotlin, how costly is the casting of classes?</p>\n\n<p>So for instance, let's have the following <code>Test</code> class</p>\n\n<pre><code>open class Test {\n    open fun question() = \"Basic question\"\n}\n</code></pre>\n\n<p>and 3 inheriting classes</p>\n\n<pre><code>class MathTest : Test() {\n    override fun question() = \"2+2=?\"\n}\n\nclass EnglishTest : Test() {\n    override fun question() = \"Who created SO?\"\n}\n\nclass HistoryTest: Test() {\n    override fun question() = \"When was SO created?\"\n}\n</code></pre>\n\n<p>How costly would it be to cast (for instance, let's say) 100 <code>Test</code> objects to either one of these 3, at runtime, in Android (and in general) ?</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "junit5", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536758227, "post_id": 52295319, "comment_id": 91540034, "body": "As I am on Intellij IDEA Ultimate EAP... could you just try to use it too and look whether this specific behaviour is also there? I do not remember that I have encountered any strange behaviour using Junit5 with Intellij... and my <code>build.gradle</code> only differs in the following: instead of <code>testCompile</code> I have <code>testImplementation</code> and instead of <code>testRuntime</code> I have <code>testRuntimeOnly</code>. The rest is the same"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536758315, "post_id": 52295319, "comment_id": 91540109, "body": "@Roland Originally I was using <code>testImplementation</code> as well (as I believe this is the new way to write it). I only used <code>testCompile</code> since this is what the JUnit example listed (another example of outdated documentation :(). Neither work. Do you also have a multiplatform project though?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536758473, "post_id": 52295319, "comment_id": 91540228, "body": "ah... forget it... oh dear... I read multi-module.... :-( will delete my comments again ;-)"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536758513, "post_id": 52295319, "comment_id": 91540262, "body": "@Roland Don&#39;t. It might be relevant. I will test again to use the same configuration but in a &#39;normal&#39; (non-multiplatform) project to verify whether the issue occurs there as well or not (as you state)."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536758640, "post_id": 52295319, "comment_id": 91540369, "body": "well... the only relevant information is just that I&#39;ve used <code>testImplementation</code> instead of <code>testCompile</code> and <code>testRuntimeOnly</code> instead of <code>testRuntime</code> and probably that I am using Intellij Ultimate EAP. But as I am not using a multiplatform-project (nor a multi-module project anymore ;-)), all my other comments are irrelevant now and this comment summarizes what was important ;-)"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536761204, "post_id": 52295319, "comment_id": 91542067, "body": "After some more debugging, I discovered that <i>removing</i> the <code>org.jetbrains.kotlin:kotlin-test-junit</code> dependency from the JUnit 4 <code>build.gradle</code> causes the integration with IntelliJ to fail (no more run icons and test options in context menu). I subsequently tried adding <code>org.jetbrains.kotlin:kotlin-test-junit</code> to the JUnit 5 <code>build.gradle</code> rather than simply replacing it with <code>org.jetbrains.kotlin:kotlin-test-junit5</code>. The icons now show up, but test events are not received correctly. <b>This makes me believe the problem lies with <code>org.jetbrains.kotlin:kotlin-test-junit5</code>.</b>"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536761244, "post_id": 52295319, "comment_id": 91542094, "body": "@Roland No. The built-in template for Kotlin JVM does not use Gradle, so it seemed less trivial than I thought at first to quickly try this out."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536761511, "post_id": 52295319, "comment_id": 91542268, "body": "hmmm... I do not use any <code>kotlin-test-junit5</code> (nor <code>kotlin.test</code>)-dependency ;-) So you might be right... I wanted to start with it, but if I read something like that I will probably just stick with Junit5 alone ;-)"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1536766513, "post_id": 52295319, "comment_id": 91545417, "body": "In regards to rerunning the tests &#39;not working&#39;, <a href=\"https://github.com/JetBrains/gradle-intellij-plugin/issues/33\" rel=\"nofollow noreferrer\">it seems this is &#39;by design&#39;</a>. This is since the task is up to date since no changes were made. To always see the test results in IntelliJ, <a href=\"https://stackoverflow.com/a/29428063/590790\">clean the tests first by running <code>gradle cleanTest test</code></a>."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536766660, "post_id": 52295319, "comment_id": 91545507, "body": "This is definitely special ;-) We should probably clean up some comments now... otherwise they end up in the chat... and I think they contain some valid information..."}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1536766992, "post_id": 52295319, "comment_id": 91545688, "body": "I also pinged somebody <a href=\"https://youtrack.jetbrains.com/issue/KT-20363\" rel=\"nofollow noreferrer\">in a related JetBrains YouTrack ticket</a>. I will first await a response/sleep on it tonight and probably open up a new bug issue @ JetBrains tomorrow, condensing all we learned into a single bug report. On my end at least, I can now create an easy repro with the culprit being <code>org.jetbrains.kotlin:kotlin-test-junit5</code>. I checked the source difference between this and <code>org.jetbrains.kotlin:kotlin-test-junit</code> but have no clue how this could influence IntelliJ&#39;s test lookup."}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1536840249, "post_id": 52295319, "comment_id": 91573675, "body": "Posted this <a href=\"https://youtrack.jetbrains.com/issue/KT-26792\" rel=\"nofollow noreferrer\">as a bug report on JetBrain&#39;s YouTrack</a>."}], "answers": [{"tags": [], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "is_accepted": true, "score": 1, "last_activity_date": 1585155006, "last_edit_date": 1585155006, "creation_date": 1569413130, "answer_id": 58097970, "question_id": 52295319, "link": "https://stackoverflow.com/questions/52295319/how-to-configure-junit-5-in-a-kotlin-multiplatform-project-using-gradle-and-inte/58097970#58097970", "title": "How to configure JUnit 5 in a Kotlin multiplatform project using Gradle and IntelliJ?", "body": "<p>This was a bug in IntelliJ as I described in the following YouTrack issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-26792\" rel=\"nofollow noreferrer\">IntelliJ does not recognize JUnit 5 tests in Kotlin multiplatform project</a>.</p>\n\n<p>In the latest version this is now working. I tried with Kotlin 1.3.71, the IntelliJ plugin 1.3.71-release-IJ2019.3-1, and JUnit 5.6.0.</p>\n"}, {"tags": [], "owner": {"reputation": 12784, "user_id": 565525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbf35b74643a7a5527fff70a73bcb30?s=128&d=identicon&r=PG", "display_name": "Robert Lujo", "link": "https://stackoverflow.com/users/565525/robert-lujo"}, "is_accepted": false, "score": 0, "last_activity_date": 1603133629, "creation_date": 1603133629, "answer_id": 64433520, "question_id": 52295319, "link": "https://stackoverflow.com/questions/52295319/how-to-configure-junit-5-in-a-kotlin-multiplatform-project-using-gradle-and-inte/64433520#64433520", "title": "How to configure JUnit 5 in a Kotlin multiplatform project using Gradle and IntelliJ?", "body": "<p>In my case IntelliJ IDEA upgrade disabled JUnit plugin, so I needed to enable it again (requires IDE restart):</p>\n<p><a href=\"https://i.stack.imgur.com/EeKG5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeKG5.png\" alt=\"IntelliJ IDEA JUNit plugin needs to be enabled\" /></a></p>\n"}], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1889, "favorite_count": 1, "accepted_answer_id": 58097970, "answer_count": 2, "score": 5, "last_activity_date": 1603133629, "creation_date": 1536755666, "last_edit_date": 1536759865, "question_id": 52295319, "link": "https://stackoverflow.com/questions/52295319/how-to-configure-junit-5-in-a-kotlin-multiplatform-project-using-gradle-and-inte", "title": "How to configure JUnit 5 in a Kotlin multiplatform project using Gradle and IntelliJ?", "body": "<h2>JUnit 4 (working)</h2>\n\n<p>The Kotlin multiplatform template in IntelliJ IDEA 2018.2.3 (Community Edition) relies on JUnit 4.12 in <code>build.gradle</code> for the JVM part of the project:</p>\n\n<pre><code>plugins {\n    id 'kotlin-platform-jvm' version '1.2.61'\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    expectedBy project(\":TestMulti-common\")\n    testCompile \"junit:junit:4.12\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nsourceCompatibility = \"1.8\"\n</code></pre>\n\n<p>Using this template, I can add tests to the common part of the project and the <em>tests are recognized by IntelliJ</em>: a 'Run' icon shows up in the margin of the source files and tests can be run through the context menu.</p>\n\n<h2>JUnit 5 (tests not properly recognized in IntelliJ)</h2>\n\n<p><strong>How can I achieve a similar setup using JUnit 5?</strong></p>\n\n<p>Of note, I am using Gradle 4.10 (some older examples use <a href=\"https://mvnrepository.com/artifact/org.junit.platform/junit-platform-gradle-plugin\" rel=\"noreferrer\"><code>junit-platform-gradle-plugin</code></a> which <a href=\"https://github.com/junit-team/junit5/issues/1317\" rel=\"noreferrer\">has been deprecated since Gradle 4.6</a>). Documentation on how to set this up is outdated and scarce:</p>\n\n<ul>\n<li>As shown above, the default project template built in IntelliJ does not use JUnit 5.</li>\n<li>The JUnit team <a href=\"https://github.com/junit-team/junit5-samples\" rel=\"noreferrer\">provides examples, but not for Kotlin multiplatform</a>.</li>\n</ul>\n\n<p>When I try to set up the <code>build.gradle</code> for the JVM part of the project <a href=\"https://github.com/junit-team/junit5-samples/blob/master/junit5-jupiter-starter-gradle/build.gradle\" rel=\"noreferrer\">based on the JUnit 5 Gradle example</a>, <em>I can run tests using Gradle</em>, but <strong>IntelliJ does not seem to recognize my tests</strong>.</p>\n\n<pre><code>plugins {\n    id 'kotlin-platform-jvm' version '1.2.61'\n}\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    expectedBy project(\":TestMulti-common\")\n\n    testCompile \"org.jetbrains.kotlin:kotlin-test\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit5\"\n\n    testCompile('org.junit.jupiter:junit-jupiter-api:5.3.1')\n    testCompile('org.junit.jupiter:junit-jupiter-params:5.3.1')\n    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.3.1')\n}\n\ntest {\n    useJUnitPlatform()\n    testLogging {\n        events \"passed\", \"skipped\", \"failed\"\n    }\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nsourceCompatibility = \"1.8\"\n</code></pre>\n\n<p>Oddly enough, sometimes test results appear in IntelliJ's test results when running <code>gradle test</code> on the JVM project, but when rerunning the tests the message <em>\"Test events were not received\"</em> shows up. The 'Run' icons in the margin never appear in source files and neither do the test options in the context menu.</p>\n\n<p>Other people seem to have similar issues, but it is unclear whether or not these are the same/related or have been resolved since:</p>\n\n<ul>\n<li><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000152524-Junit-5-and-Gradle-4-6-check-task-shows-Test-events-were-not-received-\" rel=\"noreferrer\">Junit 5 and Gradle 4.6 check task shows \"Test events were not received\"</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-188404\" rel=\"noreferrer\">junit5 tests are not shown in test view</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-20363\" rel=\"noreferrer\">No \"Run\" icon on the left for tests in common part of a multi-platform project</a></li>\n<li><a href=\"https://stackoverflow.com/q/51910553/590790\">Kotlin multiplatform projects run common module test in IDEA\n</a></li>\n</ul>\n\n<p>The many different releases, outdated documentation, and similar issues make it hard to find more information about this problem.</p>\n"}, {"tags": ["java", "android", "memory", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1536751469, "post_id": 52293757, "comment_id": 91535642, "body": "Duplicate of <a href=\"https://stackoverflow.com/q/4634774/4465208\">stackoverflow.com/q/4634774/4465208</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1536751501, "last_edit_date": 1536751501, "creation_date": 1536751151, "answer_id": 52293931, "question_id": 52293757, "link": "https://stackoverflow.com/questions/52293757/what-is-the-difference-between-cache-data-in-memory-and-caching-to-disk-in-andro/52293931#52293931", "title": "What is the difference between cache data in-memory and caching to disk in android?", "body": "<p><strong>Use a Memory Cache</strong></p>\n\n<p>A memory cache offers fast access to data/bitmaps at the cost of taking up valuable application memory. </p>\n\n<p>disadvandages --->its memory limits and crash</p>\n\n<p><strong>Use a Disk Cache</strong></p>\n\n<p>If you use Memory Cache,application could be interrupted by another task like a phone call, and while in the background it might be killed and the memory cache destroyed. Once the user resumes, your application has to process each image again.</p>\n\n<p>A disk cache can be used in these cases to persist processed bitmaps and help decrease loading times where images are no longer available in a memory cache.</p>\n\n<p>The memory cache is checked in the UI thread, the disk cache is checked in the background thread</p>\n\n<p>for more detail refer <a href=\"https://developer.android.com/topic/performance/graphics/cache-bitmap\" rel=\"nofollow noreferrer\"> Memory and Disk cache </a></p>\n"}], "owner": {"reputation": 179, "user_id": 1485424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2oecy.jpg?s=128&g=1", "display_name": "Eslam Hussein", "link": "https://stackoverflow.com/users/1485424/eslam-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "closed_date": 1536751502, "answer_count": 1, "score": 0, "last_activity_date": 1536751501, "creation_date": 1536750594, "last_edit_date": 1536750868, "question_id": 52293757, "link": "https://stackoverflow.com/questions/52293757/what-is-the-difference-between-cache-data-in-memory-and-caching-to-disk-in-andro", "closed_reason": "Duplicate", "title": "What is the difference between cache data in-memory and caching to disk in android?", "body": "<p>What is the difference between cache data <strong>in-memory</strong> and <strong>caching to disk</strong> in android?</p>\n"}, {"tags": ["kotlin", "fitnesse"], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "edited": false, "score": 0, "creation_date": 1536931349, "post_id": 52307912, "comment_id": 91612580, "body": "thanks , i tried it and i think you have put me on the write track , when i subclass it and give it to the slim engine the way you said , it is successfully replaced and all the interactions are being passed through mine.  but the names of methods are already changed when it is passed to for example findMatchingMethod method.  we must track down the guy who calls this interaction and try to replace that.cause thats one in lead"}, {"owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "edited": false, "score": 0, "creation_date": 1536932682, "post_id": 52307912, "comment_id": 91613461, "body": "this solution works when you are writing the things in English , cause that way , when your default interaction implementation is being asked for the class or method , you can extract the words based on the first upper case letter and then you can also search for the method or a class whit a name having space in between.but when you are writing the scenarios in any language other than english , then there wont be any sign for you to recognize the words one by one and they are concatanated in a not meaningful way"}], "tags": [], "owner": {"reputation": 3137, "user_id": 225771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5b326dae6ee0fdd34bcc29fc97c83af?s=128&d=identicon&r=PG", "display_name": "Fried Hoeben", "link": "https://stackoverflow.com/users/225771/fried-hoeben"}, "is_accepted": true, "score": 1, "last_activity_date": 1536820680, "creation_date": 1536820680, "answer_id": 52307912, "question_id": 52293484, "link": "https://stackoverflow.com/questions/52293484/fitnesse-acceptance-test-tool-how-to-tell-fitnesse-to-not-omit-the-space-chara/52307912#52307912", "title": "Fitnesse Acceptance test tool : how to tell fitnesse to not omit the space characters", "body": "<p>As far as I know it's not possible to change FitNesse's behaviour in this respect, out of the box. </p>\n\n<p>What you could try is creating a custom 'interaction' class (subclass of <code>fitnesse.slim.fixtureInteraction.DefaultInteraction</code>) that resolves classes and methods/functions in a different way.</p>\n\n<p>In the wiki you can indicate that your custom interaction should be used instead of <code>DefaultInteraction</code> in your suite's root page, <code>!define slim.flags {-i your.package.YourOwnInteraction}</code></p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "is_accepted": false, "score": 0, "last_activity_date": 1536937413, "creation_date": 1536937413, "answer_id": 52334635, "question_id": 52293484, "link": "https://stackoverflow.com/questions/52293484/fitnesse-acceptance-test-tool-how-to-tell-fitnesse-to-not-omit-the-space-chara/52334635#52334635", "title": "Fitnesse Acceptance test tool : how to tell fitnesse to not omit the space characters", "body": "<p>according to @Fried Hoeben  solution i implemented my own default interaction class which first removes the spaces of all the names of the methods of the class and then it checks it against the coming method name from Fitnesse which is already decorated and its spaces has been removed</p>\n\n<p>this solution works for methods , but for class matching , when you override searchPathForClass , you have to get all the class which have been loaded through the class loader and decorate their names which is too much and slow</p>\n\n<p>so use it for method matching not class matching :</p>\n\n<pre><code>class MyDefaultInteraction: DefaultInteraction() {\n\n    override fun findMatchingMethod(methodName: String, instance: Any, vararg args: Any?): Method? {\n\n        instance.javaClass.methods.forEach {\n\n            if(doMethodMatchWithGivenMethodNameAndArguments(it,methodName,args))\n                return it\n        }\n\n\n        return super.findMatchingMethod(methodName, instance, *args)\n    }\n\n\n    private fun doMethodMatchWithGivenMethodNameAndArguments(method: Method, givenMethodName: String, args: Array&lt;out Any?&gt;)=\n       (decorateMethodNameToBeMatchCandidate(givenMethodName) == decorateMethodNameToBeMatchCandidate(method.name) &amp;&amp; doArgsMatch(method, args))\n\n\n    private fun decorateMethodNameToBeMatchCandidate(name:String) =  name.replace(\" \", \"\")\n            .replace(\",\", \"\").toLowerCase()\n\n    private fun doArgsMatch(method: Method, args: Array&lt;out Any?&gt;) = method.parameterTypes.size == args.size\n\n}\n</code></pre>\n"}], "owner": {"reputation": 186, "user_id": 4465330, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/231bb5393e36b810886e2b8471b6050f?s=128&d=identicon&r=PG&f=1", "display_name": "Masoudy BaBa", "link": "https://stackoverflow.com/users/4465330/masoudy-baba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 52307912, "answer_count": 2, "score": 0, "last_activity_date": 1536937413, "creation_date": 1536749745, "question_id": 52293484, "link": "https://stackoverflow.com/questions/52293484/fitnesse-acceptance-test-tool-how-to-tell-fitnesse-to-not-omit-the-space-chara", "title": "Fitnesse Acceptance test tool : how to tell fitnesse to not omit the space characters", "body": "<p>i am writing test fixtures with kotlin language , and as you know you can have space characters in the class name and even the functions name using the back ticks</p>\n\n<p>i am writing the tables  using Persian language and when the Fitneese tries to find  the class or function , it just removes all the spaces and looks for the target.so in order to make classes and functions available to Fitnesse , i have to concat all the words , and it just reads nonsense in the fixture class when using persian.</p>\n\n<p>i am looking for a way to tell the fitnesse , disable its removing space mechanism</p>\n\n<p>i have tried putting underline between words , and it just looks awful but works</p>\n"}, {"tags": ["kotlin", "objectbox"], "owner": {"reputation": 33, "user_id": 10143863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c7602ab944093c03063679eee48c06?s=128&d=identicon&r=PG", "display_name": "Miguel Salas", "link": "https://stackoverflow.com/users/10143863/miguel-salas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1536748848, "creation_date": 1536748848, "question_id": 52293228, "link": "https://stackoverflow.com/questions/52293228/objectbox-notin-with-non-numeric-values", "title": "Objectbox notIn with non numeric values", "body": "<p>We are trying to build a query where we need to check that a non numeric value (an UUID) is not in a collection of UUIDs but the available implementations only accept int and long arrays. </p>\n\n<p>Is there anyway to do this? We have tried using <code>filter</code> but it has to be used after the find method and that is not correct since it's a paginated query and that would mean to lose some results</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 3, "creation_date": 1536748008, "post_id": 52292293, "comment_id": 91533696, "body": "Interestingly it works for <code>Collections.sort(arrayList, { x, y -&gt; 1 })</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1536750142, "post_id": 52292293, "comment_id": 91534924, "body": "if <code>sortWith</code> would rather accept a comparator of type <code>comparator: (T, T) -&gt; Int</code> it would work without specifying <code>Comparator</code>... but I don&#39;t know what I should do with that information for now ;-) And that would actually not help that much, as we would then would need <code>Collections.sort.(this) { x, y -&gt; comparator(x, y) }</code> within <code>sortedWith</code> instead.... (I&#39;m just thinking out loud)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536752624, "post_id": 52292293, "comment_id": 91536274, "body": "Very interesting read: <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">Kotlin issue #7770 - SAM for Kotlin classes</a> and maybe also worth a thumbs up ;-) Also: <a href=\"https://youtrack.jetbrains.com/issue/KT-11129\" rel=\"nofollow noreferrer\">#11129 SAM conversion for kotlin function</a>... maybe there is something coming in 1.3... didn&#39;t see it yet though..."}], "answers": [{"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 2, "creation_date": 1536762052, "post_id": 52295051, "comment_id": 91542664, "body": "Nice find. My favourite part is &quot;I had to create java interfaces in my kotlin project just because the lack of this feature.&quot; <a href=\"https://youtrack.jetbrains.com/issue/KT-7770#focus=streamItem-27-2214344-0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a> So there is a workaround, at least for your own code."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1536762300, "post_id": 52295051, "comment_id": 91542866, "body": "well... to be honest, I would rather want to live without workarounds ;-) I can&#39;t really understand why <code>sortWith</code> uses a <code>Comparator</code>-parameter, if we have the &quot;nice functional types&quot;... in this specific case I will probably rather use <code>sort(someNumbers) { x, y -&gt; 1 }</code> with a <code>Collections.sort</code>-import... it&#39;s shorter, nicely readable and it allows me to use SAM conversion."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 6, "last_activity_date": 1536755208, "last_edit_date": 1536755208, "creation_date": 1536754892, "answer_id": 52295051, "question_id": 52292293, "link": "https://stackoverflow.com/questions/52292293/why-cant-kotlin-infer-the-type-for-comparator/52295051#52295051", "title": "Why Can&#39;t Kotlin Infer The Type For Comparator", "body": "<p>After reading the comments from the <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"noreferrer\">Kotlin issue 'SAM for Kotlin classes'</a> I learned a lot regarding the SAM conversion and why <code>typealias</code> was introduced, but not yet why this specific behaviour wasn't solved yet... and I am not the only one as the issue and its comments show.</p>\n\n<p>Summarizing, the SAM conversion was only considered for Java interfaces (compare also <a href=\"https://discuss.kotlinlang.org/t/kotlin-and-sam-interface-with-two-parameters/293/2\" rel=\"noreferrer\">this comment</a>). Jetbrains did work on (or still needs to do) a bigger refactoring and tries to solve that issue so that SAMs are also available for Kotlin functions themselves (compare also <a href=\"https://youtrack.jetbrains.com/issue/KT-7770#focus=streamItem-27-2919336-0-0\" rel=\"noreferrer\">this comment</a>). They are trying to support <a href=\"https://youtrack.jetbrains.com/issue/KT-11129\" rel=\"noreferrer\">SAM conversion for kotlin functions in a separate issue</a>, which could come with 1.3. As I am currently testing 1.3: I did not see anything regarding this yet. So maybe, if you like the SAM conversion as I do, you may want to upvote either <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"noreferrer\">SAM for Kotlin classes</a> or <a href=\"https://youtrack.jetbrains.com/issue/KT-11129\" rel=\"noreferrer\">SAM conversion for kotlin function</a> or both.</p>\n\n<p>By the way: <a href=\"https://youtrack.jetbrains.com/issue/KT-7770#focus=streamItem-27-1210104-0-0\" rel=\"noreferrer\">a very similar example was also used by Ilya Gorbunov using <code>arrayOf().sort</code></a>.</p>\n"}], "owner": {"reputation": 4441, "user_id": 1168884, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSY9r.png?s=128&g=1", "display_name": "matt freake", "link": "https://stackoverflow.com/users/1168884/matt-freake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 52295051, "answer_count": 1, "score": 10, "last_activity_date": 1536755208, "creation_date": 1536745896, "last_edit_date": 1536747007, "question_id": 52292293, "link": "https://stackoverflow.com/questions/52292293/why-cant-kotlin-infer-the-type-for-comparator", "title": "Why Can&#39;t Kotlin Infer The Type For Comparator", "body": "<p>Reading the Java interop document about <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"noreferrer\">SAM Conversions</a>, I expected the Kotlin function</p>\n\n<p><code>Collections.sortWith(comparator: kotlin.Comparator&lt;in T&gt; /* = java.util.Comparator&lt;in T&gt; */)</code> </p>\n\n<p>to be able to take a lambda function without needing to explicitly specify the parameter is a Comparator. However the following code gives <code>type inference failed</code>:</p>\n\n<pre><code>val someNumbers = arrayListOf(1, 5, 2)\nsomeNumbers.sortWith({ x, y -&gt; 1 })\n</code></pre>\n\n<p>whereas:</p>\n\n<pre><code>val someNumbers = arrayListOf(1, 5, 2)\nsomeNumbers.sortWith(Comparator { x, y -&gt; 1 })\n</code></pre>\n\n<p>compiles and runs correctly</p>\n"}, {"tags": ["android", "kotlin", "biometrics"], "comments": [{"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1536744886, "post_id": 52291778, "comment_id": 91531761, "body": "You should probably use <code>@RequiresApi</code> on both methods. TargetApi just supresses lint."}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1536744974, "post_id": 52291778, "comment_id": 91531809, "body": "the problem is that you are declaring field with non existing (on lower API) class"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1536745313, "post_id": 52291778, "comment_id": 91532009, "body": "@peshkira but in <code>showFingerprintDialog()</code> i have logic no only versions <code>P</code>"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1536745435, "post_id": 52291778, "comment_id": 91532081, "body": "@Selvin ok, but I tried to use the annotation to this field, but it still does not work, and I need it <code>authenticationCallBack</code>"}, {"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 2, "creation_date": 1536745646, "post_id": 52291778, "comment_id": 91532224, "body": "if the problem is the declared field, extract it to another class with an interface and load the correct implementation based on the current API. Or if this is not possible extract the whole logic in displayBiometricPrompt"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1536745753, "post_id": 52291778, "comment_id": 91532292, "body": "You need to create instance of callback only on API &gt;= 28"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536745353, "creation_date": 1536744217, "last_edit_date": 1536744774, "question_id": 52291778, "link": "https://stackoverflow.com/questions/52291778/problem-with-running-on-lower-versions-android", "title": "Problem with running on lower versions Android", "body": "<p>Have next funs in my class:</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.P)\noverride fun showFingerprintDialog() {\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) displayBiometricPrompt()\n    else FingerprintDialog().show(supportFragmentManager, null)\n}\n\n@RequiresApi(Build.VERSION_CODES.P)\nprivate fun displayBiometricPrompt() {\n    Log.d(\"some\", \"displayBiometricPrompt\")\n    val biometricPrompt = BiometricPrompt.Builder(AppResources.appContext)\n            .setTitle(\"title\")\n            .setSubtitle(\"subTitle\")\n            .setDescription(\"description\")\n            .setNegativeButton(\"Cancel\", AppResources.appContext?.mainExecutor,\n                    DialogInterface.OnClickListener { dialogInterface, i -&gt; Log.d(\"some\", \"biometricPrompt\") })\n            .build()\n    val cancellationSignal = CancellationSignal()\n    cancellationSignal.setOnCancelListener {\n        Toast.makeText(\n                AppResources.appContext, \"onCancel\", Toast.LENGTH_SHORT).show()\n    }\n    biometricPrompt.authenticate(cancellationSignal, AppResources.appContext?.mainExecutor, authenticationCallBack)\n}\n\nprivate val authenticationCallBack = object : BiometricPrompt.AuthenticationCallback() {\n    override fun onAuthenticationError(errorCode: Int, errString: CharSequence?) {\n        super.onAuthenticationError(errorCode, errString)\n        Log.d(\"some\", \"onAuthenticationError\")\n    }\n\n    override fun onAuthenticationSucceeded(result: BiometricPrompt.AuthenticationResult?) {\n        super.onAuthenticationSucceeded(result)\n        Log.d(\"some\", \"onAuthenticationSucceeded\")\n    }\n\n    override fun onAuthenticationHelp(helpCode: Int, helpString: CharSequence?) {\n        super.onAuthenticationHelp(helpCode, helpString)\n        Log.d(\"some\", \"onAuthenticationHelp\")\n    }\n\n    override fun onAuthenticationFailed() {\n        super.onAuthenticationFailed()\n        Log.d(\"some\", \"onAuthenticationFailed\")\n    }\n}\n</code></pre>\n\n<p>Try to run on version P all works correctly, it calls the fun <code>displayBiometricPrompt()</code> and further down the script, everything works correctly.\nBut if I try to run on versions lower, throws the following error, namely when declaring a variable <code>authenticationCallBack</code>.</p>\n\n<p>And get next error:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com.mandarine.android.features.applock.unlock.UnlockAppActivity$authenticationCallBack$1 \n\nat com.mandarine.android.features.applock.unlock.UnlockAppActivity.&lt;init&gt;(UnlockAppActivity.kt:119)\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "kafka-producer-api"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1536744475, "post_id": 52291689, "comment_id": 91531495, "body": "What do you want to do with the result of the <code>Future</code>? If you just need to pass the result of the <code>Future</code> then simply return the <code>Future</code>."}, {"owner": {"reputation": 6070, "user_id": 3612327, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GBshE.jpg?s=128&g=1", "display_name": "clevertension", "link": "https://stackoverflow.com/users/3612327/clevertension"}, "edited": false, "score": 0, "creation_date": 1536744529, "post_id": 52291689, "comment_id": 91531530, "body": "why not use <b>service.get().get()</b> to get the result"}, {"owner": {"reputation": 3494, "user_id": 1012689, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/86068c785381765448d41a37f7db85e6?s=128&d=identicon&r=PG", "display_name": "ttt", "link": "https://stackoverflow.com/users/1012689/ttt"}, "reply_to_user": {"reputation": 6070, "user_id": 3612327, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/GBshE.jpg?s=128&g=1", "display_name": "clevertension", "link": "https://stackoverflow.com/users/3612327/clevertension"}, "edited": false, "score": 0, "creation_date": 1536746057, "post_id": 52291689, "comment_id": 91532493, "body": "@clevertension yes, that&#39;s what I am currently doing but after read some articles and all recommend not calling <code>get()</code> method on a future in production code."}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1536746468, "post_id": 52291689, "comment_id": 91532758, "body": "A spring controller can be async in nature, so just return it and spring will do the handling of the result."}], "owner": {"reputation": 3494, "user_id": 1012689, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/86068c785381765448d41a37f7db85e6?s=128&d=identicon&r=PG", "display_name": "ttt", "link": "https://stackoverflow.com/users/1012689/ttt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536759827, "creation_date": 1536743952, "last_edit_date": 1536759827, "question_id": 52291689, "link": "https://stackoverflow.com/questions/52291689/spring-boot-controller-handle-java-future", "title": "Spring boot controller handle Java future", "body": "<p>I have a normal spring boot application with controller and service like following:</p>\n\n<pre><code>@RestController\nclass EventController(private val service: Service) {\n\n  @GetMapping(value = [\"xxx\"], provides = [APPLICATION_JSON_VALUE])\n  @ResponseStatus(HttpStatus.OK)\n  fun get() {\n    // call service?? is that right way?\n    service.get()\n  }\n}\n\nclass Service {\n  fun get(): Future&lt;String&gt; {\n    xxx\n  }\n}\n</code></pre>\n\n<p>However, because some of third party API I used, let's say Kafka Producer API, and the service has to return a java future (<code>java.util.concurrent.Future</code>) and how should I handle this future result in my controller?</p>\n"}, {"tags": ["jpa", "kotlin", "spring-data-jpa", "jpql"], "answers": [{"tags": [], "owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "is_accepted": false, "score": 0, "last_activity_date": 1536745318, "creation_date": 1536745318, "answer_id": 52292103, "question_id": 52291683, "link": "https://stackoverflow.com/questions/52291683/expression-in-when-empty-list-spring-data-jpa-specification/52292103#52292103", "title": "Expression `in` when empty list (spring data jpa specification)", "body": "<p>Just put a test in the function creating the <code>Specification</code> if the set is empty and if it is, just return an empty <code>Specification</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "edited": false, "score": 0, "creation_date": 1536747253, "post_id": 52292198, "comment_id": 91533227, "body": "Ok I thought spring data specification had a way to handle that.. I chose the <code>when</code> solution as I am not using Kotlin &gt;= 1.3. Thnx"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "edited": false, "score": 0, "creation_date": 1536747542, "post_id": 52292198, "comment_id": 91533402, "body": "oh... I didn&#39;t want to say that spring data has no way to handle that... If you still want to handle it, you may just want to pass/return an empty specification as Jens Schauder wrote. Still... I think it will probably be better to be clear earlier in your method chain than later ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1536745596, "creation_date": 1536745596, "answer_id": 52292198, "question_id": 52291683, "link": "https://stackoverflow.com/questions/52291683/expression-in-when-empty-list-spring-data-jpa-specification/52292198#52292198", "title": "Expression `in` when empty list (spring data jpa specification)", "body": "<p>I would rather return earlier instead. So just don't add a where if you do not require it in the first place. You can do that in several ways, e.g. using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/take-if.html\" rel=\"nofollow noreferrer\"><code>takeIf</code></a>, a simple <code>if</code>, a <code>when</code>, etc.</p>\n\n<p>Just listing some samples:</p>\n\n<ul>\n<li><p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/take-if.html\" rel=\"nofollow noreferrer\"><code>takeIf</code></a></p>\n\n<pre><code>fun findAllByCountryIdIn(countryIds: Set&lt;String&gt;) = countryIds.takeIf { it.isNotEmpty() }\n             ?.let { missionRepository.findAll(where(countryIdIn(it))) } \n             ?: // what should be returned otherwise? emptyList? all? exception?\n</code></pre></li>\n<li><p><a href=\"https://blog.jetbrains.com/kotlin/2018/08/kotlin-1-3-m2/\" rel=\"nofollow noreferrer\"><code>ifEmpty</code> (Kotlin >=1.3)</a></p>\n\n<pre><code>fun findAllByCountryIdIn(countryIds: Set&lt;String&gt;) = countryIds.ifEmpty {\n  // what should be returned? emptyList? all entries?\n}.let {\n  missionRepository.findAll(where(countryIdIn(it))) }\n}\n</code></pre></li>\n<li><p><code>if</code></p>\n\n<pre><code>fun findAllByCountryIdIn(countryIds: Set&lt;String&gt;) = if (countryIds.isEmpty()) /* what should be returned? */ \n                                                    else missionRepository.findAll(where(countryIdIn(countryIds))) }\n</code></pre></li>\n</ul>\n\n<p>If you just solve the <code>countryIdIn</code> instead, e.g. by passing an empty element, you give away the control of the query itself to the helper method. If you really want that, fine... but otherwise I wouldn't do that.</p>\n\n<p>Why I wouldn't do that? If I return later to that specific code and read <code>findAll(where(countryIdIn(countryIds)))</code>. How long does it take me to understand for sure that I return all entries if the set is empty? Fact is: I can't without looking at <code>countryIdIn</code> itself. But that is my opinion.</p>\n"}, {"tags": [], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "is_accepted": false, "score": 0, "last_activity_date": 1536758664, "creation_date": 1536758664, "answer_id": 52296312, "question_id": 52291683, "link": "https://stackoverflow.com/questions/52291683/expression-in-when-empty-list-spring-data-jpa-specification/52296312#52296312", "title": "Expression `in` when empty list (spring data jpa specification)", "body": "<p>An other solution would be:</p>\n\n<pre><code>@Repository\ninterface MissionRepository: JpaRepository&lt;MissionEntity, String&gt; {\n    fun findByCountryIdIn(countryIds: Set&lt;String&gt;, pageable: Pageable): Page&lt;MissionEntity&gt;\n}\n</code></pre>\n\n<p>where you can add pagination.</p>\n"}], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1732, "favorite_count": 0, "accepted_answer_id": 52292198, "answer_count": 3, "score": 0, "last_activity_date": 1536758664, "creation_date": 1536743935, "question_id": 52291683, "link": "https://stackoverflow.com/questions/52291683/expression-in-when-empty-list-spring-data-jpa-specification", "title": "Expression `in` when empty list (spring data jpa specification)", "body": "<p>I have this mission repository: </p>\n\n<pre><code>@Repository\ninterface MissionRepository: CrudRepository&lt;MissionEntity, String&gt;, JpaSpecificationExecutor&lt;MissionEntity&gt;\n</code></pre>\n\n<p>In my mission service class, I would like to fetch all missions that have their <code>countryId</code> parts of the given argument <code>Set</code>:</p>\n\n<pre><code>fun findAllByCountryIdIn(countryIds: Set&lt;String&gt;): List&lt;MissionEntity&gt; =\n        missionRepository.findAll(where(countryIdIn(countryIds)))\n}\n</code></pre>\n\n<p>Where <code>countryIdIn</code> (using <code>in</code> predicate) comes from:</p>\n\n<pre><code>class MissionSpecifications {\n    companion object {\n        fun countryIdIn(countryIds: Set&lt;String&gt;): Specification&lt;MissionEntity&gt; =\n            Specification { root, _, _ -&gt; root.get&lt;String&gt;(\"countryId\").`in`(countryIds) }\n    }\n}\n</code></pre>\n\n<p>But when the <code>Set</code> is empty I got a predictable sql error. Is there a way to activate the where clause only when the given set is not empty? Without a if/else check? Maybe my specification syntax could be improve to avoid this sql error?</p>\n"}, {"tags": ["generics", "kotlin", "overloading", "variadic"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1536742092, "post_id": 52291002, "comment_id": 91529976, "body": "You can&#39;t overload classes. You have to give them different names."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1611844960, "last_edit_date": 1611844960, "creation_date": 1536742192, "answer_id": 52291127, "question_id": 52291002, "link": "https://stackoverflow.com/questions/52291002/kotlin-generic-class-overload/52291127#52291127", "title": "Kotlin generic class overload?", "body": "<p>You can't do that, because a Kotlin class must have a unique <em>fully qualified name</em> (i.e. its package name plus the simple name <code>Tuple</code>).</p>\n<p>Depending on what you prefer, you can name those classes following the <code>TupleN</code> pattern (<code>Tuple1</code>, <code>Tuple2</code> etc.) and make a common interface <code>Tuple</code>, and also a set of factory functions sharing the name (<code>tuple(...)</code>) with different numbers of parameters for creating tuples of different arities:</p>\n<pre><code>fun &lt;T1&gt; tuple(t1: T1) = Tuple1(t1)\n\nfun &lt;T1, T2&gt; tuple(t1: T1, t2: T2) = Tuple2(t1, t2)\n\nfun &lt;T1, T2, T3&gt; tuple(t1: T1, t2: T2, t3: T3) = Tuple3(t1, t2, t3)\n\n/* ... */\n</code></pre>\n<p>Having faced a similar problem, I personally resorted to <a href=\"https://github.com/h0tk3y/better-parse/blob/master/buildSrc/src/main/kotlin/TupleCodegen.kt\" rel=\"nofollow noreferrer\">generating</a> the <a href=\"https://github.com/h0tk3y/better-parse/blob/master/src/commonMain/kotlin/generated/tuples.kt\" rel=\"nofollow noreferrer\"><code>TupleN</code> classes</a> that I needed.</p>\n"}], "owner": {"reputation": 418, "user_id": 5381855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c2cc45d14851de1213b7fd427f5bb5?s=128&d=identicon&r=PG&f=1", "display_name": "somebody4", "link": "https://stackoverflow.com/users/5381855/somebody4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 52291127, "answer_count": 1, "score": 3, "last_activity_date": 1611844960, "creation_date": 1536741781, "question_id": 52291002, "link": "https://stackoverflow.com/questions/52291002/kotlin-generic-class-overload", "title": "Kotlin generic class overload?", "body": "<p>I want to create some classes with variable number of type argument.</p>\n\n<p>For example, a tuple class:</p>\n\n<pre><code>class Tuple&lt;T1&gt;{\n    //blah \n}\nclass Tuple&lt;T1,T2&gt;{\n    //blah blah \n}\nclass Tuple&lt;T1,T2,T3&gt;{\n    //blah blah blah\n}\n</code></pre>\n\n<p>but it shows \"redeclaration\" error, any suggestion?</p>\n"}, {"tags": ["android", "kotlin", "global-variables"], "comments": [{"owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "edited": false, "score": 0, "creation_date": 1536740110, "post_id": 52290433, "comment_id": 91528772, "body": "I cannot found global variables(top-level variables) in your code."}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1536740167, "post_id": 52290433, "comment_id": 91528808, "body": "are they both files in different packages?"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1536740324, "post_id": 52290433, "comment_id": 91528893, "body": "they are both in the same package"}], "answers": [{"tags": [], "owner": {"reputation": 3061, "user_id": 10159898, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5mqHUyc2x6w/AAAAAAAAAAI/AAAAAAAAD1g/QPOjkkQJ8Qw/photo.jpg?sz=128", "display_name": "Bruno", "link": "https://stackoverflow.com/users/10159898/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1536740232, "creation_date": 1536740232, "answer_id": 52290573, "question_id": 52290433, "link": "https://stackoverflow.com/questions/52290433/how-to-use-global-variables-in-other-activities/52290573#52290573", "title": "How to use global variables in other activities", "body": "<p>try this:</p>\n\n<pre><code>class MapsAnzeigeActivity : AppCompatActivity(), OnMapReadyCallback {\n    companion object {\n       var haltestellen_name: String\n    }\n}\n\nclass Abfahrtsmonitor : AppCompatActivity() {\n\n// Initializing an empty ArrayList to be filled with animals\nval Haltestellen: ArrayList&lt;String&gt; = ArrayList()\nval Haltestellenname = MapsAnzeigeActivity.haltestellen_name\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 9019720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvA8Z.jpg?s=128&g=1", "display_name": "Shayan Tabatabaee", "link": "https://stackoverflow.com/users/9019720/shayan-tabatabaee"}, "is_accepted": false, "score": 1, "last_activity_date": 1536740461, "creation_date": 1536740461, "answer_id": 52290633, "question_id": 52290433, "link": "https://stackoverflow.com/questions/52290433/how-to-use-global-variables-in-other-activities/52290633#52290633", "title": "How to use global variables in other activities", "body": "<p>You have multiple choice to do this :</p>\n\n<p>First you can have a singleton class like this and get the data when ever you want.</p>\n\n<pre><code>public class MyData {\n\n    private ArrayList&lt;String&gt; data;\n    private static MyData INSTANCE = new MyData();\n    private MyData() {\n\n    }\n\n    public static MyData getInstance() {\n           return INSTANCE;\n    }\n\n    public ArrayList&lt;String&gt; getData() {\n           return this.data;\n    }\n\n}\n</code></pre>\n\n<p>And when ever you want to get your data try this code :</p>\n\n<pre><code>MyData.getInstance().getData() \n</code></pre>\n\n<p>it will save your data in the memory and when you close your application your data will be lost.</p>\n\n<p>Another options are to save your data in SharedPrefs or Sqlite, it has benefits that you can get your data even if your application closed.</p>\n\n<p>Another simple way is to make your Data static like this.</p>\n\n<pre><code>public static ArrayList&lt;String&gt; data = new ArrayList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 2, "last_activity_date": 1536740804, "creation_date": 1536740804, "answer_id": 52290716, "question_id": 52290433, "link": "https://stackoverflow.com/questions/52290433/how-to-use-global-variables-in-other-activities/52290716#52290716", "title": "How to use global variables in other activities", "body": "<p>When you run this code:</p>\n\n<pre><code>val Haltestellenname = MapsAnzeigeActivity().haltestellen_name\n</code></pre>\n\n<p>It will create a new instance of <code>MapsAnzeigeActivity</code>, because default value of <code>haltestellen_name</code> is <code>\"\"</code> that why you got an empty string.</p>\n\n<p>To make a global variables (known as static variable in Java), you should use <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">Companion Object</a>.</p>\n\n<pre><code>class MapsAnzeigeActivity : AppCompatActivity(), OnMapReadyCallback {\n    companion object {\n       var haltestellen_name: String\n    }\n}\n\nclass Abfahrtsmonitor : AppCompatActivity() {\n    // Initializing an empty ArrayList to be filled with animals\n    val Haltestellen: ArrayList&lt;String&gt; = ArrayList()\n    val Haltestellenname = MapsAnzeigeActivity.haltestellen_name\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 52290716, "answer_count": 3, "score": 0, "last_activity_date": 1536745341, "creation_date": 1536739769, "last_edit_date": 1536745341, "question_id": 52290433, "link": "https://stackoverflow.com/questions/52290433/how-to-use-global-variables-in-other-activities", "title": "How to use global variables in other activities", "body": "<p>I am trying to get the global variable from one class in another class, but it gets me just an empty string.</p>\n\n<pre><code>class Abfahrtsmonitor : AppCompatActivity() {\n\n    // Initializing an empty ArrayList to be filled with animals\n    val Haltestellen: ArrayList&lt;String&gt; = ArrayList()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val Haltestellenname = MapsAnzeigeActivity().haltestellen_name\n    }\n}\n</code></pre>\n\n<p>is what I want. My Class <code>MapsAnzeigeActivity</code> looks roughly like this:</p>\n\n<pre><code>class MapsAnzeigeActivity : AppCompatActivity(), OnMapReadyCallback {\n    var haltestellen_name = \"\" \n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // ....\n    }\n\n    fun changeHaltestellen() {\n        haltestellen_name = \"new\"\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1536725995, "post_id": 52287387, "comment_id": 91522632, "body": "NullPointerExceptions should never occur in kotlin as long as you don&#39;t force unwrap. How do you get data from Internet? Generally any network call either accept a callback listener or block the thread. So you are probably either providing listener to the network call or do the network call on background thread to wait for it to finish."}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1536726132, "post_id": 52287387, "comment_id": 91522662, "body": "@RickyMo I am getting data from Firebase Firestore. I can tell inside my object when it is completely setup but I don&#39;t know how to tell things outside of my object (my Android activity that holds the object)"}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": true, "score": 3, "last_activity_date": 1536727515, "last_edit_date": 1536727515, "creation_date": 1536726698, "answer_id": 52287532, "question_id": 52287387, "link": "https://stackoverflow.com/questions/52287387/kotlin-object-oncomplete-listener/52287532#52287532", "title": "Kotlin Object OnComplete listener", "body": "<p>You can create a function type variable in your class. Set the function in your activity. Call it when your object is ready.</p>\n\n<pre><code>class MyObject()\n{\n    var onComplete : (()-&gt; Unit)? = null\n\n    fun setup()\n    {\n        //setup your object\n        onComplete?.invoke()\n    }\n}\n</code></pre>\n\n<p>In your activity</p>\n\n<pre><code>val myObject = MyObject()\nmyObject.onComplete = {\n    //..things to do after setup...\n}\nmyObject.setup()\n</code></pre>\n\n<p>You can also put it in the constructor if you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "is_accepted": false, "score": 0, "last_activity_date": 1536737581, "creation_date": 1536737581, "answer_id": 52289785, "question_id": 52287387, "link": "https://stackoverflow.com/questions/52287387/kotlin-object-oncomplete-listener/52289785#52289785", "title": "Kotlin Object OnComplete listener", "body": "<p>In android, we can use <code>LiveData</code> if you added support library dependency.</p>\n\n<pre><code>class Result\n\nobject MyObject {\n    val onComplete: MutableLiveData&lt;Result&gt; = MutableLiveData()\n\n    fun setUp() {\n        // do something\n        onComplete.setValue(Result()) // main thread\n        // onComplete.postValue(Result()) // other thread\n    }\n}\n\nclass SampleActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        MyObject.onComplete.observe(this, Observer { result -&gt;\n            // do something with result\n        })\n        MyObject.setUp()\n    }\n}\n</code></pre>\n\n<p>If this method is unfamiliar, check out observer pattern or LiveData.</p>\n"}], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 0, "accepted_answer_id": 52287532, "answer_count": 2, "score": 0, "last_activity_date": 1536737581, "creation_date": 1536725552, "question_id": 52287387, "link": "https://stackoverflow.com/questions/52287387/kotlin-object-oncomplete-listener", "title": "Kotlin Object OnComplete listener", "body": "<p>I need to know when my object is finally setup (gets data from internet) so I can properly use it without any nullpointerexceptions. Is there a way I can make an object notify when it's all setup, just like onComplete lambdas as function parameters. Simple question but anything helps :)</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "google-signin"], "answers": [{"comments": [{"owner": {"reputation": 389, "user_id": 2644365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3iyg.jpg?s=128&g=1", "display_name": "Akash kv", "link": "https://stackoverflow.com/users/2644365/akash-kv"}, "edited": false, "score": 0, "creation_date": 1562311212, "post_id": 54275216, "comment_id": 100342014, "body": "but we are importing Intent in viewmodel . Is it good to import Intent in viewmodel?"}, {"owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "reply_to_user": {"reputation": 389, "user_id": 2644365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3iyg.jpg?s=128&g=1", "display_name": "Akash kv", "link": "https://stackoverflow.com/users/2644365/akash-kv"}, "edited": false, "score": 1, "creation_date": 1562401172, "post_id": 54275216, "comment_id": 100368252, "body": "It&#39;s completely safe, I don&#39;t know why this is a concern for you."}, {"owner": {"reputation": 389, "user_id": 2644365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3iyg.jpg?s=128&g=1", "display_name": "Akash kv", "link": "https://stackoverflow.com/users/2644365/akash-kv"}, "edited": false, "score": 0, "creation_date": 1562561595, "post_id": 54275216, "comment_id": 100398143, "body": "I thought it is against architecture. Thanks for the clarification"}, {"owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "reply_to_user": {"reputation": 389, "user_id": 2644365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3iyg.jpg?s=128&g=1", "display_name": "Akash kv", "link": "https://stackoverflow.com/users/2644365/akash-kv"}, "edited": false, "score": 1, "creation_date": 1562839394, "post_id": 54275216, "comment_id": 100507837, "body": "Referencing  activity or view is, not this though"}, {"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1575275465, "post_id": 54275216, "comment_id": 104497594, "body": "@SuyashChavan it worked for the first time but after that no responding."}, {"owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "reply_to_user": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1575276902, "post_id": 54275216, "comment_id": 104498215, "body": "@ELTEGANIMOHAMED Check if your viewmodel is getting cleared after you launch the intent for result."}, {"owner": {"reputation": 419, "user_id": 834393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4205c5c58b867bcfc5de4e66c6d0101?s=128&d=identicon&r=PG&f=1", "display_name": "Brettins", "link": "https://stackoverflow.com/users/834393/brettins"}, "edited": false, "score": 1, "creation_date": 1584749147, "post_id": 54275216, "comment_id": 107541369, "body": "Should probably mention that the LoginActivity or Fragment needs to implement the ActivityNavigation interface."}, {"owner": {"reputation": 108, "user_id": 7428860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxCTq.jpg?s=128&g=1", "display_name": "Sivakumar", "link": "https://stackoverflow.com/users/7428860/sivakumar"}, "edited": false, "score": 0, "creation_date": 1587536557, "post_id": 54275216, "comment_id": 108545895, "body": "@Suyash Chavan It was good explanation. can i able to get the complete code for google sign in so that i can able to know much better with the app flow"}], "tags": [], "owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "is_accepted": false, "score": 14, "last_activity_date": 1584947179, "last_edit_date": 1584947179, "creation_date": 1547977530, "answer_id": 54275216, "question_id": 52287013, "link": "https://stackoverflow.com/questions/52287013/google-facebook-sign-in-in-mvvm/54275216#54275216", "title": "Google/Facebook Sign In in MVVM", "body": "<p>It is very simple thanks to <a href=\"https://medium.com/@erik_90880\" rel=\"nofollow noreferrer\">@Erik Browne</a> and Kotlin\u2019s Function literals with receiver</p>\n\n<p>Create <a href=\"https://github.com/SuyashBDA/StyLabTest/blob/master/app/src/main/java/com/stylab/test/util/SingleLiveEvent.kt\" rel=\"nofollow noreferrer\">SingleLiveEvent</a></p>\n\n<p>Create LiveMessageEvent </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>class LiveMessageEvent&lt;T&gt; : SingleLiveEvent&lt;(T.() -&gt; Unit)?&gt;() {\n\n    fun setEventReceiver(owner: LifecycleOwner, receiver: T) {\n        observe(owner, Observer { event -&gt;\n            if ( event != null ) {\n                receiver.event()\n            }\n        })\n    }\n\n    fun sendEvent(event: (T.() -&gt; Unit)?) {\n        value = event\n    }\n}\n</code></pre>\n\n<p>Create interface</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>interface ActivityNavigation {\n    fun startActivityForResult(intent: Intent?, requestCode: Int)\n}\n</code></pre>\n\n<h3>** Now it's time to implement! **</h3>\n\n<p><strong>In your LoginViewModel</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>const val GOOGLE_SIGN_IN : Int = 9001\n\nclass LoginViewModel @Inject constructor(\n    private val loginRepository: LoginRepository,\n    private val googleSignInClient: GoogleSignInClient\n): ViewModel() {\n\n    val startActivityForResultEvent = LiveMessageEvent&lt;ActivityNavigation&gt;()\n    ..\n\n    //Called on google login button click\n    fun googleSignUp() {\n        val signInIntent = googleSignInClient.signInIntent\n        startActivityForResultEvent.sendEvent { startActivityForResult(signInIntent, GOOGLE_SIGN_IN) }\n    }\n\n    //Called from Activity receving result\n    fun onResultFromActivity(requestCode: Int, resultCode: Int, data: Intent?) {\n        when(requestCode) {\n            GOOGLE_SIGN_IN -&gt; {\n                val task = GoogleSignIn.getSignedInAccountFromIntent(data)\n                googleSignInComplete(task)\n            }\n            ..\n        }\n    }\n\n    private fun googleSignInComplete(completedTask: Task&lt;GoogleSignInAccount&gt;) {\n        try {\n            val account = completedTask.getResult(ApiException::class.java)\n            account?.apply {\n                // .. Store user details\n                emitUiState(\n                    showSuccess = Event(R.string.login_successful)\n                )\n            }\n        }catch (e: ApiException) {\n            emitUiState(\n                showError = Event(R.string.login_failed)\n            )\n        }\n    }\n\n</code></pre>\n\n<p><strong>In your LoginActivty[Implement ActivityNavigation interface]</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>//Called from onCreate once the ViewModel is initialized.\nprivate fun subscribeUi() {\n        //this sets the LifeCycler owner and receiver\n        viewModel.startActivityForResultEvent.setEventReceiver(this, this)\n        ..\n}\n\npublic override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        viewModel.onResultFromActivity(requestCode,resultCode,data)\n        super.onActivityResult(requestCode, resultCode, data)\n}\n</code></pre>\n\n<h3># Following this approach ensures LoginViewModel acts a link between the view(LoginActivity) and model(GoogleSignInClient) and view is only responsible for displaying the UI events.</h3>\n"}], "owner": {"reputation": 806, "user_id": 5250136, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/039eacdbb4a6fe7174e273913c3d5001?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Maverick", "link": "https://stackoverflow.com/users/5250136/chris-maverick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3421, "favorite_count": 4, "answer_count": 1, "score": 12, "last_activity_date": 1584947179, "creation_date": 1536722424, "question_id": 52287013, "link": "https://stackoverflow.com/questions/52287013/google-facebook-sign-in-in-mvvm", "title": "Google/Facebook Sign In in MVVM", "body": "<p>I'm using MVVM structure with Data Binding in my project. Things get weird when it comes to GG/FB Sign In, because they need <code>Context</code></p>\n\n<pre><code>googleApiClient = new GoogleApiClient.Builder(context)\n            .enableAutoManage(this, this)\n            .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\n            .build();\nIntent signInIntent = Auth.GoogleSignInApi.getSignInIntent(googleApiClient);\nstartActivityForResult(signInIntent, GOOGLE_AUTH);\n</code></pre>\n\n<p><code>GoogleApiClient</code> needs <code>Context</code> so I can't pass it to ViewModel, which receives DataBinding events.</p>\n\n<pre><code>class LoginViewModel(\n    dataManager: DataManager,\n    schedulerProvider: SchedulerProvider\n) : BaseViewModel&lt;LoginNavigator&gt;(dataManager, schedulerProvider) {\n\n    fun loginGoogle(){\n        setIsLoading(true)\n        //No idea what to write in here\n    }\n}\n</code></pre>\n\n<p>Is there any way to use Gg/FB Sign In with MVVM structure ? Or I just have to do the original way (do everything in <code>Activity</code>) ?</p>\n"}, {"tags": ["java", "curl", "kotlin", "wget"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4604131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3cfceedf8f02b5fa92552ea522b5ecd?s=128&d=identicon&r=PG&f=1", "display_name": "htuy42", "link": "https://stackoverflow.com/users/4604131/htuy42"}, "edited": false, "score": 0, "creation_date": 1536725556, "post_id": 52287102, "comment_id": 91522524, "body": "Ahh, that makes sense. I guess it never occurred to me to think about wget and curl as other than just reading a stream of bytes, because that happened to be what I wanted from them. Thanks!"}], "tags": [], "owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "is_accepted": true, "score": 2, "last_activity_date": 1536723113, "creation_date": 1536723113, "answer_id": 52287102, "question_id": 52286881, "link": "https://stackoverflow.com/questions/52286881/curl-drops-last-5-bytes-but-wget-works-fine/52287102#52287102", "title": "Curl drops last 5 bytes but wget works fine", "body": "<p>According to the wget documentation, it supports http(s) and ftp(s) protocols. What you are doing is neither. That fact that it works at all is likely because they handle non-compliant http servers in some particular way that works out for you. </p>\n\n<p>If you want to do what you're doing, you could at least put a fake HTTP response in front of the contents of the file:</p>\n\n<pre><code>out.write(\"HTTP/1.1 200 OK\\r\\nContent-type: application/octet-stream\\r\\n\\r\\n\"\n          .getBytes(StandardCharsets.US_ASCII));\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 4604131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3cfceedf8f02b5fa92552ea522b5ecd?s=128&d=identicon&r=PG&f=1", "display_name": "htuy42", "link": "https://stackoverflow.com/users/4604131/htuy42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 52287102, "answer_count": 1, "score": 1, "last_activity_date": 1536723113, "creation_date": 1536721248, "question_id": 52286881, "link": "https://stackoverflow.com/questions/52286881/curl-drops-last-5-bytes-but-wget-works-fine", "title": "Curl drops last 5 bytes but wget works fine", "body": "<p>I have a Kotlin program which I am using to serve a file to a remote host. I am trying to get the file at the remote host with curl. This program works fine for me for files that are pure text, but for .jar files it always loses exactly 5 bytes. wget, on the other hand, works without any issue and does not lose the 5 bytes.</p>\n\n<p>Here, in case it is useful, is the Kotlin code</p>\n\n<pre><code>            val client = serverSocket.accept()\n            val file = File(pathToFile)\n            val bytes = ByteArray(16 * 1024)\n            val instream = FileInputStream(file)\n            val out = BufferedOutputStream(client.getOutputStream())\n\n            var count: Int\n            var sm = 0\n            count = instream.read(bytes)\n\n            while (count &gt; 0) {\n                sm += count\n                out.write(bytes, 0, count)\n                count = instream.read(bytes)\n            }\n            print(\"total bytes : $sm\")\n            out.flush()\n            out.close()\n</code></pre>\n\n<p>Here are the curl command and wget commands I am using:</p>\n\n<p>wget -O file.jar 1.2.3.4:5678</p>\n\n<p>curl 1.2.3.4:5678 -o file.jar</p>\n\n<p>Things that are true and might be relevant: </p>\n\n<p>The host (running the above kotlin code) is a windows machine, and the recipient is running linux. </p>\n\n<p>The jar file was created on the host.</p>\n\n<p>Sending the jar file over scp also works fine and results in an uncorupted file.</p>\n\n<p>Regardless of whether curl or wget is used, the total bytes printed by the kotlin code is correct.</p>\n\n<p>This behavior is 100% repeatable: its always exactly 5 bytes missing, only for jar files, regardless of my trying it on several recipient machines.</p>\n\n<p>Obviously this isn't a huge problem, since just using wget winds up working fine, but I am curious why this problem would occur in the first place. </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8812486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4150e45c8c4eb8b9b324aa4df197c02c?s=128&d=identicon&r=PG&f=1", "display_name": "dougie", "link": "https://stackoverflow.com/users/8812486/dougie"}, "edited": false, "score": 0, "creation_date": 1536730708, "post_id": 52287036, "comment_id": 91523883, "body": "Awesome, it works. I&#39;m curious though if there&#39;s a way to do this without needing to specify a delay time. I could imagine with big lists this could potentially take longer than 300 ms. Is there another standard way to scroll to the top?"}, {"owner": {"reputation": 676, "user_id": 6028451, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066596513401770/picture?type=large", "display_name": "Parvesh Khan", "link": "https://stackoverflow.com/users/6028451/parvesh-khan"}, "edited": false, "score": 0, "creation_date": 1536731048, "post_id": 52287036, "comment_id": 91523995, "body": "You can check position value in onBindViewHolder if it is the last value of array list then you can call  recyclerView.scrollToPosition(0)."}, {"owner": {"reputation": 1911, "user_id": 2610808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUZG.jpg?s=128&g=1", "display_name": "Viswanath Kumar Sandu", "link": "https://stackoverflow.com/users/2610808/viswanath-kumar-sandu"}, "reply_to_user": {"reputation": 53, "user_id": 8812486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4150e45c8c4eb8b9b324aa4df197c02c?s=128&d=identicon&r=PG&f=1", "display_name": "dougie", "link": "https://stackoverflow.com/users/8812486/dougie"}, "edited": false, "score": 0, "creation_date": 1536763129, "post_id": 52287036, "comment_id": 91543370, "body": "@dougie As the solution worked for you, could you give upvote and mark the answer as right.  Even if the data size is huge, there won&#39;t be much difference in applying it on recyclerview. So 300 milli seconds would ideally work in almost all cases"}, {"owner": {"reputation": 159, "user_id": 4917907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3_ORmetGvxk/AAAAAAAAAAI/AAAAAAAAC5U/vYMWFVYpqPo/photo.jpg?sz=128", "display_name": "Ronan", "link": "https://stackoverflow.com/users/4917907/ronan"}, "edited": false, "score": 0, "creation_date": 1552607171, "post_id": 52287036, "comment_id": 97086182, "body": "After trying this solution, I found <a href=\"https://stackoverflow.com/a/32679359/4917907\">that one</a> which in my opinion provides a much smoother result."}], "tags": [], "owner": {"reputation": 1911, "user_id": 2610808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUZG.jpg?s=128&g=1", "display_name": "Viswanath Kumar Sandu", "link": "https://stackoverflow.com/users/2610808/viswanath-kumar-sandu"}, "is_accepted": true, "score": 0, "last_activity_date": 1536722566, "creation_date": 1536722566, "answer_id": 52287036, "question_id": 52286859, "link": "https://stackoverflow.com/questions/52286859/recyclerview-not-auto-scrolling-to-the-top-after-updating-adapter/52287036#52287036", "title": "RecyclerView not auto scrolling to the top after updating adapter", "body": "<p>It needs some time to update the data on recyclerview. Mean while you are trying to scroll which doesn't work in most of the cases. PReferably use a postDelayed  with 200 or 300 milliseconds before scrolling</p>\n\n<p>Ex: </p>\n\n<pre><code>new Handler.postDelayed(new Runnable(){\n                @Override\n                public void run(){\n            recyclerView.scrollToPosition(0)\n                 }\n            }, 300);\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8812486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4150e45c8c4eb8b9b324aa4df197c02c?s=128&d=identicon&r=PG&f=1", "display_name": "dougie", "link": "https://stackoverflow.com/users/8812486/dougie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 52287036, "answer_count": 1, "score": 0, "last_activity_date": 1536722566, "creation_date": 1536721147, "question_id": 52286859, "link": "https://stackoverflow.com/questions/52286859/recyclerview-not-auto-scrolling-to-the-top-after-updating-adapter", "title": "RecyclerView not auto scrolling to the top after updating adapter", "body": "<p>I have a custom adapter, and filter that I am currently implementing to filter a recycler view based on a simple substring search on my recycler view entries. Here is my adapter <code>NotifyChanged()</code> function, which updates the RecylerView, and my custom <code>filter()</code> function. Everything works great, except for the auto scrolling afterwards.</p>\n\n<pre><code>private fun notifyChanged() {\n    val result = DiffUtil.calculateDiff(object : DiffUtil.Callback() {\n        override fun getOldListSize(): Int {\n            return objects.size\n        }\n\n        override fun getNewListSize(): Int {\n            return temp.size\n        }\n\n        override fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n            return this@DiffRecyclerViewAdapter.areItemsTheSame(objects[oldItemPosition], temp[newItemPosition])\n        }\n\n        override fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n            return this@DiffRecyclerViewAdapter.areContentsTheSame(objects[oldItemPosition], temp[newItemPosition])\n        }\n    })\n    objects.clear()\n    objects.addAll(temp)\n\n    result.dispatchUpdatesTo(this)\n}\n\n\nfun filter(text : String){\n\n    val ob = original_objects as ArrayList&lt;Category&gt;\n    val filtered_categories = ArrayList&lt;T&gt;() as ArrayList&lt;Category&gt;\n\n\n    for (category in ob){\n        //val temp_category = category\n        val list_of_subcategories = ArrayList&lt;T&gt;() as ArrayList&lt;Category&gt;\n        for (subcategory in category.categories){\n            val name_of_category = subcategory.name.toLowerCase()\n            if (name_of_category.contains(text)){\n                list_of_subcategories?.add(subcategory)\n            }\n        }\n        if (list_of_subcategories.size &gt; 0){\n            val newCategory = Category(category.id,category.name,category.description,category.videos,list_of_subcategories)\n            filtered_categories.add(newCategory)\n        }\n    }\n    temp = filtered_categories as MutableList&lt;T&gt;\n    notifyChanged()\n}\n</code></pre>\n\n<p>In my SearchActivity.kt I have the following listener:</p>\n\n<pre><code>    searchEditText.addTextChangedListener(object : TextWatcher{\n        override fun afterTextChanged(s: Editable?) {}\n\n        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}\n\n        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n            adapter.filter(s.toString())\n            recyclerView.scrollToPosition(0)\n        }\n\n    })\n</code></pre>\n\n<p>I was looking through the source code of <code>DiffUtil</code> and <code>notifyDataSetChanged()</code> to see how scrolling after filtering works. But didn't have much luck. The whole problem is that after I search text the RecyclerView is filtered fine. But will scroll to inconsistent locations. I want it to scroll back to the top every single time, but this isn't happening. EVEN WITH <code>scrollToPosition(0)</code> it will USUALLY scroll to the top, but not always.</p>\n\n<p>I thought scrolling to the top was typically automatic in this case. I'm curious as to what the best practice is in updating and scrolling. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 128, "user_id": 4015916, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-inZ8TfLswMI/AAAAAAAAAAI/AAAAAAAAAIw/JNfDpRent9g/photo.jpg?sz=128", "display_name": "Jay Pandya", "link": "https://stackoverflow.com/users/4015916/jay-pandya"}, "edited": false, "score": 0, "creation_date": 1536723196, "post_id": 52286638, "comment_id": 91522024, "body": "There is no syntax like <code>Foo.{...}</code> youhave to write type explicitly when writing lambdas with receiver."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1536731542, "creation_date": 1536731542, "answer_id": 52288284, "question_id": 52286638, "link": "https://stackoverflow.com/questions/52286638/specify-receiver-on-lambda-literal-without-type-inference/52288284#52288284", "title": "Specify receiver on lambda literal without type inference", "body": "<p>There is no syntax that does precisely what you're looking for. As you've already laid it out, you can create a lambda that has <code>Foo</code> as its receiver either by creating it as you're passing it into a function that takes such a lambda:</p>\n\n<pre><code>fun useFooExtension(fooExtension: Foo.() -&gt; Unit) {\n    fooExtension(Foo())\n}\n\nuseFooExtension {\n    println(this is Foo)\n}\n</code></pre>\n\n<p>Or by specifying the type of the variable explicitly, like so:</p>\n\n<pre><code>var foo1: Foo.() -&gt; Unit = { println(this is Foo) }\n</code></pre>\n\n<p>However, you <em>can</em> declare a lambda that takes a <code>Foo</code> as its first parameter, with this explicit lambda syntax (the variable type is only here for explanation purposes, it's otherwise redundant and is inferred):</p>\n\n<pre><code>var foo2: (Foo) -&gt; Unit = { foo: Foo -&gt; println(foo is Foo) }\n</code></pre>\n\n<p>And these two types of lambdas are actually cross-assignable, because the extension on <code>Foo</code> really just takes that <code>Foo</code> as its first parameter under the hood as well. So you can do all of these things:</p>\n\n<pre><code>foo1 = foo2\nfoo2 = foo1\n\nuseFooExtension(foo1)\nuseFooExtension(foo2)\n</code></pre>\n\n<p>There is one difference between the two types: if you want to call them with a <code>Foo</code> instance, you can only call <code>foo1</code> as an extension, but you can call both of them as if they took a <code>Foo</code> as their first parameter. So these are all valid calls:</p>\n\n<pre><code>Foo().foo1()\n\nfoo1(Foo())\nfoo2(Foo())\n</code></pre>\n"}], "owner": {"reputation": 12, "user_id": 10350308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z9TeK-6ZRuI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPrGnmPPqg3LaezihpqsMZhXs6LWQ/mo/photo.jpg?sz=128", "display_name": "JIm", "link": "https://stackoverflow.com/users/10350308/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 52288284, "answer_count": 1, "score": 0, "last_activity_date": 1536731542, "creation_date": 1536719456, "question_id": 52286638, "link": "https://stackoverflow.com/questions/52286638/specify-receiver-on-lambda-literal-without-type-inference", "title": "Specify receiver on lambda literal without type inference", "body": "<p>Suppose I want a lambda expression which has the type of <code>Foo.()-&gt;Unit</code></p>\n\n<p>Obviously I can specify it by relying on type inference, such that the lambda captures the recipient type: <code>val myLambda: Foo.()-&gt;Unit = { ... }</code></p>\n\n<p>My intuition was that I could do something like: <code>val myLambda = Foo.{ ... }</code></p>\n\n<p>But that doesn't appear to work.  It seems weird that I can't express a lambda value of a particular type without depending on type inference from the lhs.</p>\n\n<p>Is there a syntax I'm just not aware of?</p>\n"}, {"tags": ["android", "kotlin", "textview", "constraints", "alpha"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10281979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kv0LL556r7g/AAAAAAAAAAI/AAAAAAAAADI/RomXK3Dcj7w/photo.jpg?sz=128", "display_name": "David A", "link": "https://stackoverflow.com/users/10281979/david-a"}, "edited": false, "score": 0, "creation_date": 1536791796, "post_id": 52285887, "comment_id": 91556269, "body": "Is there a way to tell ConstraintSet not to use it&#39;s own LayoutParams (ie. to use the LayoutParams of the Views themselves)? Or is the solution to just hold off on setting LayoutParams properties until after applying the ConstraintSet. The latter makes it difficult when making custom Views where you want to preconfigure those properties."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 33, "user_id": 10281979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kv0LL556r7g/AAAAAAAAAAI/AAAAAAAAADI/RomXK3Dcj7w/photo.jpg?sz=128", "display_name": "David A", "link": "https://stackoverflow.com/users/10281979/david-a"}, "edited": false, "score": 0, "creation_date": 1536794239, "post_id": 52285887, "comment_id": 91556780, "body": "@DavidA sadly constraintSet is not that flexible... You can <code>clone(ConstraintLayout constraintLayout)</code> current layout params of your <code>ConstraintLayout</code> before modifying <code>ConstraintSet</code>, this will cause a bit of overhead but unless you have very complex layout it should be the easiest solution."}, {"owner": {"reputation": 33, "user_id": 10281979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kv0LL556r7g/AAAAAAAAAAI/AAAAAAAAADI/RomXK3Dcj7w/photo.jpg?sz=128", "display_name": "David A", "link": "https://stackoverflow.com/users/10281979/david-a"}, "edited": false, "score": 0, "creation_date": 1536796375, "post_id": 52285887, "comment_id": 91557232, "body": "Thanks. I&#39;ll give it a try."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 4, "last_activity_date": 1536712533, "creation_date": 1536712533, "answer_id": 52285887, "question_id": 52285640, "link": "https://stackoverflow.com/questions/52285640/constraintsetapplyto-setting-the-alpha-of-a-textview-to-1f/52285887#52285887", "title": "ConstraintSet&gt;&gt;applyTo Setting the Alpha Of a TextView to 1f", "body": "<p>Yeah it's pretty counter intuitive. <code>ConstraintSet</code> creates an extension of actual <code>LayoutParams</code> before applying them.</p>\n\n<p>This extension is <code>android.support.constraint.Constraints.LayoutParams</code>, at this moment (decompiled from <code>constraint-layout:1.1.3</code>) it stores the following (with default values):</p>\n\n<pre><code>public static class LayoutParams extends android.support.constraint.ConstraintLayout.LayoutParams {\n    public float alpha = 1.0F;\n    public boolean applyElevation = false;\n    public float elevation = 0.0F;\n    public float rotation = 0.0F;\n    public float rotationX = 0.0F;\n    public float rotationY = 0.0F;\n    public float scaleX = 1.0F;\n    public float scaleY = 1.0F;\n    public float transformPivotX = 0.0F;\n    public float transformPivotY = 0.0F;\n    public float translationX = 0.0F;\n    public float translationY = 0.0F;\n    public float translationZ = 0.0F;\n\n    //... rest of class\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10281979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kv0LL556r7g/AAAAAAAAAAI/AAAAAAAAADI/RomXK3Dcj7w/photo.jpg?sz=128", "display_name": "David A", "link": "https://stackoverflow.com/users/10281979/david-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 0, "accepted_answer_id": 52285887, "answer_count": 1, "score": 3, "last_activity_date": 1536712533, "creation_date": 1536710381, "question_id": 52285640, "link": "https://stackoverflow.com/questions/52285640/constraintsetapplyto-setting-the-alpha-of-a-textview-to-1f", "title": "ConstraintSet&gt;&gt;applyTo Setting the Alpha Of a TextView to 1f", "body": "<p>I'm working on an Android app (Target API 28, min API 22) written in Kotlin using Android Studio.</p>\n\n<p>I have a ConstraintLayout with a number of Views added to it. Among them is a simple TextView. I want the TextView to initialize with an alpha of <code>0f</code> (invisible) and then later on (via animation) change its value to <code>1f</code> to make them visible. I got the animation working, but the initial alpha did not appear to be having any effect. I eventually traced the issue to the <code>ConstraintSet&gt;&gt;applyTo(...)</code> method. The snippet below shows that <code>ConstraintSet&gt;&gt;applyTo(...)</code> sets the alpha of the TextView back to <code>1f</code> even though I explicitly set it to <code>0f</code>.</p>\n\n<pre><code>val textView = TextView(context)\ntextView.id = View.generateViewId()\ntextView.text = \"Hello World\"\naddView(textView)\n\nval set ConstraintSet()\nset.constrainHeight(textView.id, WRAP_CONTENT)\nset.constrainWidth(textView.id, WRAP_CONTENT)\nset.connect(textView.id, TOP, PARENT_ID, TOP)\nset.connect(textView.id, START, PARENT_ID, START)\nset.connect(textView.id, END, PARENT_ID, END)\nset.connect(textView.id, BOTTOM, PARENT_ID, BOTTOM)\nprintln(\"1. textView=${textView.alpha}\")\ntextView.alpha = 0f\nprintln(\"2. textView=${textView.alpha}\")\nset.applyTo(this)\nprintln(\"3. textView=${textView.alpha}\")\ntextView.alpha = 0f\nprintln(\"4. textView=${textView.alpha}\")\n</code></pre>\n\n<p>When I run my app, the below output is generated in the Run window:</p>\n\n<pre><code>I/System.out: 1. textView=1.0\n              2. textView=0.0\n              3. textView=1.0\n              4. textView=0.0\n</code></pre>\n\n<p>By setting the alpha of the TextView after the ConstraintSet>>applyTo(...) call, I achieve an alpha of <code>0f</code>.</p>\n\n<p>My question is...why? Why is ConstraintSet changing properties of the views it's constraining that have (seemingly) nothing to do with constraints? Are there other properties that ConstraintSet sets when it is applied?</p>\n"}, {"tags": ["android", "firebase", "for-loop", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "edited": false, "score": 0, "creation_date": 1536710249, "post_id": 52285520, "comment_id": 91519526, "body": "I actually tried that before but slightly differently. This worked. Thanks!"}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 3, "last_activity_date": 1536709229, "creation_date": 1536709229, "answer_id": 52285520, "question_id": 52285463, "link": "https://stackoverflow.com/questions/52285463/kotlin-for-loop-timing/52285520#52285520", "title": "Kotlin For Loop Timing", "body": "<p>Use recursion:</p>\n\n<pre><code>fun myLoopOrWhatever(result: List&lt;DocumentSnapshot&gt;, index: Int) {\n    val doc = result[index]\n\n    firestoreInstance.runTransaction(Transaction.Function&lt;Void&gt; { transaction -&gt; \n        val snapshot = transaction.get(doc.reference)\n        transation.update(doc.reference, \"joiner\", FirebaseAuth.getInstance().uid)\n        null\n    }).addOnSuccessListener {\n        //your logic\n        if (index &lt; result.size) myLoopOrWhatever(result, index++)\n    }.addOnFailureListener { e -&gt; \n        //your logic\n        if (index &lt; result.size) myLoopOrWhatever(result, index++)\n    }\n}\n</code></pre>\n\n<p>Start it off by passing <code>task.result</code> and <code>0</code>. </p>\n\n<p>I'm just guessing that <code>task.result</code> is a List object. It may be an ArrayList or something else. You might have to adjust that type.</p>\n"}], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 52285520, "answer_count": 1, "score": 0, "last_activity_date": 1536709229, "creation_date": 1536708750, "question_id": 52285463, "link": "https://stackoverflow.com/questions/52285463/kotlin-for-loop-timing", "title": "Kotlin For Loop Timing", "body": "<p>So I'm attempting to match make two players into a game and am struggling with the for loop execution timing. I'm using firebase firestore as my backend btw. I want each for loop iteration to wait until the last one is done because each transaction inside the loop take a second or two and I only want to join one game. Right now it basically joins all the empty games because the for loop does not wait for the last loop to be completed. I believe this is a asynchrous/synchrnous problem. </p>\n\n<p>Here is my for loop code:</p>\n\n<pre><code>for (document: DocumentSnapshot in task.result) {\n                            firestoreInstance.runTransaction(Transaction.Function&lt;Void&gt; { transaction -&gt;\n                                val snapshot = transaction.get(document.reference)\n                                transaction.update(document.reference, \"joiner\", FirebaseAuth.getInstance().uid)\n\n                                // Success\n                                null\n                            }).addOnSuccessListener {\n                                Log.d(TAG, \"Transaction success!\")\n                                onComplete(document.reference)\n                                gameJoined = true\n                            }.addOnFailureListener { e -&gt;\n                                Log.w(TAG, \"Transaction failure.\", e)\n                                onComplete(null)\n                            }\n                        }\n</code></pre>\n\n<p>Any advice would be helpful. Thanks!</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "edited": false, "score": 0, "creation_date": 1536784296, "post_id": 52285505, "comment_id": 91553766, "body": "To solve my issue, I took your solution. However, the proper way should be handle as @Alex Mamo <a href=\"https://stackoverflow.com/a/52294033/9697465\">says</a>."}, {"owner": {"reputation": 11526, "user_id": 235671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xKXSM.png?s=128&g=1", "display_name": "t3chb0t", "link": "https://stackoverflow.com/users/235671/t3chb0t"}, "edited": false, "score": 1, "creation_date": 1593247633, "post_id": 52285505, "comment_id": 110716886, "body": "How do you know about the <code>@field</code> attribute? It&#39;s not mentioned by the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#toObject(java.lang.Class&lt;T&gt;)\" rel=\"nofollow noreferrer\"><code>toObject</code></a> documentation. Could you point me to where one can read more about it? Maybe there are more useful attributes."}, {"owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "reply_to_user": {"reputation": 11526, "user_id": 235671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xKXSM.png?s=128&g=1", "display_name": "t3chb0t", "link": "https://stackoverflow.com/users/235671/t3chb0t"}, "edited": false, "score": 1, "creation_date": 1593293845, "post_id": 52285505, "comment_id": 110730759, "body": "@t3chb0t <code>@field</code> is Kotlin annotation and it is not part of Firebase.  <code>@JvmField</code> annotation does the trick here, and it says to Kotlin compiler that it should not create getters and setters of isValid property and that it should expose this property as a field.  You can read more about <code>@field</code> and other annotation use site targets <a href=\"https://kotlinlang.org/docs/reference/annotations.html?_ga=2.65505959.822283262.1593292835-1938789949.1575030406#annotation-use-site-targets\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "is_accepted": true, "score": 26, "last_activity_date": 1536709133, "creation_date": 1536709133, "answer_id": 52285505, "question_id": 52284861, "link": "https://stackoverflow.com/questions/52284861/firebase-firestore-toobject-fails-on-boolean-property-mapping/52285505#52285505", "title": "Firebase Firestore toObject fails on Boolean property mapping", "body": "<p>Try adding <code>@field:JvmField</code> to <code>isValid</code> boolean property.</p>\n"}, {"comments": [{"owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "edited": false, "score": 0, "creation_date": 1536784151, "post_id": 52294033, "comment_id": 91553713, "body": "Hello, your explanation is awesome, thanks for that. Make all sense. I added this fields when created the document in my Angular webapp and now using my Kotlin having this issue. I tried changing the property in Firestore and worked. However, I should change all my refenrences in my Angular app and that takes time, but probably is the correct solution. To solve my issue now, I took @TheTechWolf  <a href=\"https://stackoverflow.com/a/52285505/9697465\">solution</a>"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 8, "last_activity_date": 1536751516, "creation_date": 1536751516, "answer_id": 52294033, "question_id": 52284861, "link": "https://stackoverflow.com/questions/52284861/firebase-firestore-toobject-fails-on-boolean-property-mapping/52294033#52294033", "title": "Firebase Firestore toObject fails on Boolean property mapping", "body": "<p>If you are using in your model class a field named <code>isVip</code> which is of type <code>Boolean</code>, when instantiating an object of your <code>Img</code> class using the following line of code:</p>\n\n<pre><code>val img = Img(\"Y9X ... zYn\", true, \"Nombre\", \"https://...\")\n</code></pre>\n\n<p>The way in which your <code>isVip</code> property will look like in your database will be simply: <code>vip</code> and not <code>isVip</code> as you probably expected. The resason that your <code>isVip</code> property is stored as <code>isVip</code> and not just <code>vip</code> is because you didn't add your data in the database using your helper class but somehow manually.</p>\n\n<p>The reason you have that warning is because you have in your database a field which has <strong>no</strong> correspondent in your model class. In your model class you have a field named <code>isVip</code> which should have in the database a correspondent field named <code>vip</code> and <strong>not</strong> <code>isVip</code>, as it is now. So Firestore cannot create a connection between those fields and that's why you have that warning.</p>\n\n<p>To solve this, you can remove (if is possible) the old data from your database and add fresh data using your model class. You need to have the name of your property in your model class named <code>isVip</code> and in your database just only <code>vip</code>.</p>\n\n<p>Or you can change the name of your property in your modelc class from <code>isVip</code> to simply <code>vip</code> and that's it.</p>\n"}], "owner": {"reputation": 560, "user_id": 9697465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8kST.jpg?s=128&g=1", "display_name": "lordneru", "link": "https://stackoverflow.com/users/9697465/lordneru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2282, "favorite_count": 1, "accepted_answer_id": 52285505, "answer_count": 2, "score": 15, "last_activity_date": 1536751516, "creation_date": 1536704004, "last_edit_date": 1536746730, "question_id": 52284861, "link": "https://stackoverflow.com/questions/52284861/firebase-firestore-toobject-fails-on-boolean-property-mapping", "title": "Firebase Firestore toObject fails on Boolean property mapping", "body": "<p>When pulling data from Firestore, I use <code>.toObject()</code> to map the data received into my data class, which is:</p>\n\n<pre><code>data class Img(var event_uid: String = \"\", var isVip: Boolean = false , var nombre: String = \"\", var url: String = \"\")\n</code></pre>\n\n<p>However, the mapping is not doing well. I received the field <code>isVip=&gt;true</code> in the task, but the object field is mapped as false (default value).</p>\n\n<p><a href=\"https://i.stack.imgur.com/InFKv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/InFKv.png\" alt=\"snapshot data\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/OT1CX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OT1CX.png\" alt=\"list of mapped object\"></a></p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:\nI see in Logcat</p>\n\n<pre><code>W/Firestore: (0.6.6-dev) [zzevb]: No setter/field for isVip found on class ***.model.Img\n</code></pre>\n\n<p>According to <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#properties\" rel=\"noreferrer\">Kotlin Docu</a>:</p>\n\n<blockquote>\n  <p>If the name of the property starts with is, a different name mapping\n  rule is used: the name of the getter will be the same as the property\n  name, and the name of the setter will be obtained by replacing is with\n  set. For example, for a property <code>isOpen</code>, the getter will be called\n  <code>isOpen()</code> and the setter will be called <code>setOpen()</code>. This rule applies\n  for properties of any type, not just <code>Boolean</code>.</p>\n</blockquote>\n\n<p>Maybe a Firestore with Kotlin issue?</p>\n"}, {"tags": ["android", "kotlin", "android-tablelayout", "tablerow"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 9278374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a4980b308a75e207765cd6c2b94345?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Anonymous", "link": "https://stackoverflow.com/users/9278374/michael-anonymous"}, "edited": false, "score": 0, "creation_date": 1536701433, "post_id": 52284308, "comment_id": 91517152, "body": "Thank you. That clarifies some other things I was having trouble with."}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 2, "last_activity_date": 1536700435, "creation_date": 1536700435, "answer_id": 52284308, "question_id": 52284276, "link": "https://stackoverflow.com/questions/52284276/android-kotlin-cannot-access-child-of-tablerow-element/52284308#52284308", "title": "Android (Kotlin) cannot access child of TableRow element", "body": "<p>Because <code>getChildAt(int)</code> is a method declared by ViewGroup, which TableLayout extends. If you have type hints enabled, you should see that <code>row</code> is just a <code>View</code> object.</p>\n\n<p>Since TableLayout's children should all be TableRow objects, just cast:</p>\n\n<pre><code>val row = tableLayout.getChildAt(i) as TableRow\nval item = row.getChildAt(whatever) //you may need to cast again\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 9278374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a4980b308a75e207765cd6c2b94345?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Anonymous", "link": "https://stackoverflow.com/users/9278374/michael-anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 52284308, "answer_count": 1, "score": 1, "last_activity_date": 1536700435, "creation_date": 1536700264, "question_id": 52284276, "link": "https://stackoverflow.com/questions/52284276/android-kotlin-cannot-access-child-of-tablerow-element", "title": "Android (Kotlin) cannot access child of TableRow element", "body": "<p>I have a TableLayout that I build up programmatically, which works fine. However I cant access the children of the TableRow elements. row.getChildAt(x) results in \"Unresolved Reference\"</p>\n\n<p>It looks to me from the log output that row is in fact of type TableRow, so I'm not sure why this fails. I'm new to Kotlin and Android so I'm looking for a bit of help.</p>\n\n<p>My question is why is row.getChildAt available when creating the TableView, but not available later on when iterating through the TableView?</p>\n\n<pre><code>package com.example.daedalus.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Button\nimport android.widget.TableRow\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_test_table.*\n\nclass testTable : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_test_table)\n    val number = 5\n\n    for(i in 0 until number) {\n        val row = TableRow(this)\n        val cell1 = TextView(this)\n        cell1.text = \"Hello\"\n        val cell2 = TextView(this)\n        cell2.text = \"Friend\"\n        row.addView(cell1)\n        row.addView(cell2)\n        tableLayout.addView(row)\n        // row.getChildAt(x) works here\n    }\n    val view = Button(this)\n    view.text = \"Test\"\n    view.setOnClickListener(){\n        for(i in 0 until tableLayout.childCount) {\n            val row = tableLayout.getChildAt(i)\n            //row.getChildAt(x) doesnt work here. Unresolved reference\n            Log.i(\"MyApp\",row.toString())\n        }\n    }\n    linearLayout.addView(view)\n   }\n}\n</code></pre>\n\n<p>XML:\n    \n    </p>\n\n<pre><code>&lt;TableLayout\n    android:id=\"@+id/tableLayout\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"24dp\"\n    android:layout_marginStart=\"24dp\"\n    android:layout_marginTop=\"24dp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n&lt;/TableLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/linearLayout\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"84dp\"\n    android:layout_marginBottom=\"16dp\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"32dp\"\n    android:orientation=\"horizontal\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/tableLayout\"&gt;&lt;/LinearLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Logcat Output</p>\n\n<pre><code>09-11 14:08:09.823 26050-26050/com.example.daedalus.myapplication I/MyApp: android.widget.TableRow{afec180 V.E...... ........ 0,0-954,51}\nandroid.widget.TableRow{66d93b9 V.E...... ........ 0,51-954,102}\nandroid.widget.TableRow{9c073fe V.E...... ........ 0,102-954,153}\nandroid.widget.TableRow{ebcf75f V.E...... ........ 0,153-954,204}\n09-11 14:08:09.824 26050-26050/com.example.daedalus.myapplication I/MyApp: android.widget.TableRow{c4e75ac V.E...... ........ 0,204-954,255}\n</code></pre>\n"}, {"tags": ["android", "junit", "kotlin", "mockito", "powermock"], "answers": [{"comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1536702023, "post_id": 52284534, "comment_id": 91517352, "body": "Wow. How incredibly simple. Thank you SO much!"}], "tags": [], "owner": {"reputation": 1947, "user_id": 3034696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7mTR8.png?s=128&g=1", "display_name": "prfarlow", "link": "https://stackoverflow.com/users/3034696/prfarlow"}, "is_accepted": true, "score": 2, "last_activity_date": 1536701864, "creation_date": 1536701864, "answer_id": 52284534, "question_id": 52284207, "link": "https://stackoverflow.com/questions/52284207/custom-junit-rule-allows-all-tests-to-pass-no-matter-what/52284534#52284534", "title": "Custom JUnit Rule allows all tests to pass no matter what", "body": "<p>In your custom TestRule, you need to call <code>base.evaluate()</code> to continue the chain of rules <a href=\"https://github.com/junit-team/junit4/wiki/rules#custom-rules\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit4/wiki/rules#custom-rules</a></p>\n"}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 52284534, "answer_count": 1, "score": 5, "last_activity_date": 1536701864, "creation_date": 1536699932, "last_edit_date": 1536700803, "question_id": 52284207, "link": "https://stackoverflow.com/questions/52284207/custom-junit-rule-allows-all-tests-to-pass-no-matter-what", "title": "Custom JUnit Rule allows all tests to pass no matter what", "body": "<p>I have a file that references some static methods:</p>\n\n<pre><code>class MyViewModel {\n\n    fun test() { }\n\n    companion object {\n        private val MY_STRING = ResourceGrabber.grabString(R.string.blah_blah)\n    }\n}\n</code></pre>\n\n<p>In my JUnit test for this file, I write some code to mock my resource grabber in setup. This compiles and runs, and the following test fails as I'd expect it to:</p>\n\n<pre><code>@PrepareForTest(ResourceGrabber::class)\n@RunWith(PowerMockRunner::class)\nclass MyViewModelTest {\n    private lateinit var viewModel: MyViewModel\n\n    @Before\n    fun setup() {\n        PowerMockito.mockStatic(ResourceGrabber::class.java)\n        val mockResourceGrabber = Mockito.mock(ResourceGrabber::class.java)\n\n        whenever(mockResourceGrabber.grabString(Mockito.anyInt())).thenAnswer { invocation -&gt;\n            val res: Int? = invocation?.arguments?.get(0) as? Int\n            TestResourceGrabber.grabString(res)\n        }\n\n        viewModel = MyViewModel()\n    }\n\n    @Test\n    fun someTest() {\n        // Fails, as expected.\n        assertEquals(2, 3)\n    }\n}\n</code></pre>\n\n<p>Here is where things get weird. I recently learned about custom JUnit rules that you can use to avoid some duplicated code across tests. In this case, I don't want to have to copy and paste my resource grabber work into every single test suite that uses it, so I made a custom rule:</p>\n\n<pre><code>class ResourceGrabberRule : TestRule {\n    override fun apply(base: Statement?, description: Description?): Statement {\n        return object : Statement() {\n            override fun evaluate() {\n                PowerMockito.mockStatic(ResourceGrabber::class.java)\n                val mockResourceGrabber = Mockito.mock(ResourceGrabber::class.java)\n\n                whenever(mockResourceGrabber.grabString(Mockito.anyInt())).thenAnswer { invocation -&gt;\n                    val res: Int? = invocation?.arguments?.get(0) as? Int\n                    TestResourceGrabber.grabString(res)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Below is the implementation of that. The crazy thing is that now EVERY test is passing no matter what:</p>\n\n<pre><code>@PrepareForTest(ResourceGrabber::class)\n@RunWith(PowerMockRunner::class)\nclass MyViewModelTest {\n    private lateinit var viewModel: MyViewModel\n\n    @Rule\n    @JvmField\n    val resourceGrabber = ResourceGrabberRule()\n\n    @Before\n    fun setup() {\n        viewModel = MyViewModel()\n    }\n\n    @Test\n    fun someTest() {\n        // PASSES!!!?!?!?!?!\n        assertEquals(2, 3)\n    }\n}\n</code></pre>\n\n<p>I'm not sure where the problem lies. I've tried building and running tests from both Android Studio and the command line. I don't know if I've implemented my rule incorrectly, or if it's an issue with the JUnit Rule connected with Powermock, or if it's an issue with Kotlin annotation processing. The tests compile and run but just pass no matter what's inside the tests themselves. </p>\n\n<p>I'm open to comments about the architecture here (I'm sure the community has plenty) but I'm really looking for an explanation as to why the rule I wrote passes every test.</p>\n"}, {"tags": ["kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "edited": false, "score": 0, "creation_date": 1536701400, "post_id": 52284130, "comment_id": 91517138, "body": "See here <a href=\"https://stackoverflow.com/questions/52283610/how-to-sort-by-local-strings-letter-sensitive\" title=\"how to sort by local strings letter sensitive\">stackoverflow.com/questions/52283610/&hellip;</a>"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "edited": false, "score": 1, "creation_date": 1536735296, "post_id": 52284130, "comment_id": 91526063, "body": "Thanks, see the answer here - for me most convenient"}], "answers": [{"tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": false, "score": 0, "last_activity_date": 1536714623, "creation_date": 1536714623, "answer_id": 52286095, "question_id": 52284130, "link": "https://stackoverflow.com/questions/52284130/how-to-sort-list-of-objects-by-two-properties-and-collator/52286095#52286095", "title": "How to sort list of objects by two properties and collator", "body": "<p>Simplest would just be to concatenate the two properties in the selector lambda:</p>\n\n<pre><code>myList.sortedWith(\n    compareBy(collator) { \"${it.lastName} ${it.firstName}\".toLowerCase() }\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 6, "last_activity_date": 1536719141, "creation_date": 1536719141, "answer_id": 52286605, "question_id": 52284130, "link": "https://stackoverflow.com/questions/52284130/how-to-sort-list-of-objects-by-two-properties-and-collator/52286605#52286605", "title": "How to sort list of objects by two properties and collator", "body": "<p>You can add another sort criteria with <code>thenBy</code>:</p>\n\n<pre><code>val comparator =\n        compareBy(collator) { p: Person -&gt; p.lastName.toLowerCase() }\n                .thenBy(collator) { p: Person -&gt; p.firstName.toLowerCase() }\nval result = myList.sortedWith(comparator)\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 1, "accepted_answer_id": 52286605, "answer_count": 2, "score": 2, "last_activity_date": 1536719141, "creation_date": 1536699577, "last_edit_date": 1536701027, "question_id": 52284130, "link": "https://stackoverflow.com/questions/52284130/how-to-sort-list-of-objects-by-two-properties-and-collator", "title": "How to sort list of objects by two properties and collator", "body": "<p>I have to sort list of object by lastName and firstName (if case there is the same lastName for multiple objects). I must also apply Collator to those.</p>\n\n<p>Suppose I can do that for one property:</p>\n\n<pre><code>val collator = Collator.getInstance(context.getResources().getConfiguration().locale)\n\nmyList.sortedWith(compareBy(collator, { it.lastName.toLowerCase() }))\n</code></pre>\n\n<p>But is it possible to apply also to that another restriction to also sort by firstName?</p>\n"}, {"tags": ["kotlin", "functional-programming"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536698704, "post_id": 52283898, "comment_id": 91516046, "body": "Thanks, can you see my updated question? Maybe you have idea how to combine this answer that you gave me previously"}, {"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536700146, "post_id": 52283898, "comment_id": 91516666, "body": "@Konrad you should implement comparable interface in your object and do that logic in the compareTo method"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536700470, "post_id": 52283898, "comment_id": 91516807, "body": "Still not sure how exactly this can help me - i still cannot apply sorting by two properties and collator to them"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536701437, "post_id": 52283898, "comment_id": 91517156, "body": "That&#39;s good solution. The only thing about it is that what when i need other Collator? Normally it is provied by Context but it will be hard to have context in some data class object that has this Comparable implemented"}, {"owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536701818, "post_id": 52283898, "comment_id": 91517290, "body": "@Konrad you can get context in by creating an Application class (if you haven&#39;t any) and getting the instance from there, so you can do something like <code>val context = MyAppClass.getInstance()</code>"}], "tags": [], "owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "is_accepted": true, "score": 3, "last_activity_date": 1536700811, "last_edit_date": 1536700811, "creation_date": 1536698411, "answer_id": 52283898, "question_id": 52283610, "link": "https://stackoverflow.com/questions/52283610/how-to-sort-by-local-strings-letter-sensitive/52283898#52283898", "title": "How to sort by local strings letter sensitive?", "body": "<p>From <a href=\"https://stackoverflow.com/questions/15518502/sorting-string-with-non-western-characters?noredirect=1&amp;lq=1\">here</a></p>\n\n<p>Try something like this:</p>\n\n<pre><code>val list = arrayListOf(\"a\", \"b\", \"c\", \"\u0105\", \"\u0107\", \"z\", \"\u017c\")\nval coll = Collator.getInstance(Locale(\"pl\",\"PL\"))\ncoll.strength = Collator.PRIMARY\nCollections.sort(list, coll)\nprintln(list)\n</code></pre>\n\n<p>Update:</p>\n\n<p>Make your object implement Comparable:</p>\n\n<pre><code>override fun compareTo(other: YourObject): Int {\n    val coll = Collator.getInstance(Locale(\"pl\",\"PL\"))\n    coll.strength = Collator.PRIMARY\n    val lastNameCompareValue =  coll.compare(lastName?.toLowerCase(Locale(\"pl\",\"PL\")),other.lastName?.toLowerCase(Locale(\"pl\",\"PL\")))\n    if (lastNameCompareValue != 0) {\n        return lastNameCompareValue\n    }\n    val firstNameCompareValue =  coll.compare(firstName?.toLowerCase(Locale(\"pl\",\"PL\")),other.firstName?.toLowerCase(Locale(\"pl\",\"PL\")))\n    return firstNameCompareValue\n}\n</code></pre>\n\n<p>Try this.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 1, "accepted_answer_id": 52283898, "answer_count": 1, "score": 3, "last_activity_date": 1536701258, "creation_date": 1536696919, "last_edit_date": 1536701258, "question_id": 52283610, "link": "https://stackoverflow.com/questions/52283610/how-to-sort-by-local-strings-letter-sensitive", "title": "How to sort by local strings letter sensitive?", "body": "<p>Suppose I have list of words like </p>\n\n<pre><code>a, b, c, \u0105, \u0107, z, \u017c\n</code></pre>\n\n<p>I want to be sorted with polish locale like:</p>\n\n<pre><code>a, \u0105, b, c, \u0107, z, \u017c\n</code></pre>\n\n<p>Is it possible to achieve?</p>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p>Suppose I have to sort list by two object parameters and also using collator.\nFor one property I can use:</p>\n\n<pre><code>val collator = Collator.getInstance(context.getResources().getConfiguration().locale)\n\nmyList.sortedWith(compareBy(collator,  { it.lastName.toLowerCase() }))\n</code></pre>\n\n<p>How to add to this also to sort by <code>firstName</code>? (so for example if there will be two same <code>lastName</code> then sort them by <code>firstName</code>)</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536696785, "post_id": 52283564, "comment_id": 91515286, "body": "<code>R.id.toolbar</code> isn&#39;t used in your layout."}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536696893, "post_id": 52283564, "comment_id": 91515335, "body": "It&#39;s in the &lt;include/&gt; of the Activity"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536696954, "post_id": 52283564, "comment_id": 91515363, "body": "Also, I can access and change the text of the TextView from the Activity no problem. It&#39;s really from the Fragment level that I am getting an error"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1536697024, "post_id": 52283564, "comment_id": 91515384, "body": "Oh I see, sorry. How are you attaching the fragment, and can you post your entire Activity XML?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536697297, "post_id": 52283564, "comment_id": 91515510, "body": "I&#39;ve just updated the content to include the full Activity xml"}], "answers": [{"comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536697475, "post_id": 52283677, "comment_id": 91515589, "body": "They&#39;re using a custom title View though. Will the <code>title</code> setter work?"}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "edited": false, "score": 0, "creation_date": 1536697480, "post_id": 52283677, "comment_id": 91515595, "body": "Thank you so much, this works! I will accept your answer in 2 min"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1536697509, "post_id": 52283677, "comment_id": 91515600, "body": "I guess it will!"}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1536697806, "post_id": 52283677, "comment_id": 91515705, "body": "My approach will use the toolbars internal title textview I guess. I edited my answer to apply to the custom title textview :)"}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 4, "last_activity_date": 1536697746, "last_edit_date": 1536697746, "creation_date": 1536697261, "answer_id": 52283677, "question_id": 52283564, "link": "https://stackoverflow.com/questions/52283564/changing-toolbar-text-programmatically-from-fragment-in-kotlin/52283677#52283677", "title": "Changing Toolbar text programmatically from fragment in Kotlin", "body": "<p>You have to wait until the <code>Activity</code> was created: </p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    activity.actionBar.title = \"\"\n}\n</code></pre>\n\n<p>Because you did <code>setSupportActionBar(...)</code> in your <code>Activity</code>, <code>getActionBar()</code> should then <strong>not</strong> be <code>null</code>. </p>\n\n<p>Edit: \nIf you want to use the custom title TextView, your <code>findViewById()</code> approach should also work. Important thing is to just wait until the <code>Activity</code> was created. </p>\n"}, {"tags": [], "owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1536697592, "creation_date": 1536697592, "answer_id": 52283742, "question_id": 52283564, "link": "https://stackoverflow.com/questions/52283564/changing-toolbar-text-programmatically-from-fragment-in-kotlin/52283742#52283742", "title": "Changing Toolbar text programmatically from fragment in Kotlin", "body": "<p>Here's how you can do it:</p>\n\n<p>Create a class <code>ToolbarController</code>:</p>\n\n<pre><code>class ToolbarController(val toolbar: View) {\n\n    fun setTitle(title: String) {\n        toolbar.toolBarText1.visibility = View.VISIBLE\n        toolbar.toolBarText1.text = title\n    }\n}\n</code></pre>\n\n<p>In your activity:</p>\n\n<pre><code>public var toolBarController: ToolbarController? = null\n</code></pre>\n\n<p>and override <code>onPostCreate</code>:</p>\n\n<pre><code> override fun onPostCreate(savedInstanceState: Bundle?) {\n        super.onPostCreate(savedInstanceState)\n        toolBarController = ToolbarController(topBar)\n }\n</code></pre>\n\n<p>Now in fragment <code>onCreateView</code> create a call a method called <code>initToolbar</code> defined as:</p>\n\n<pre><code>private fun initToolbar() {\n    (activity as YourActivity)?.toolBarController?.setTitle(\"My title\")\n}\n</code></pre>\n\n<p>You can modify the <code>ToolbarController</code> class and do any changes if you want</p>\n"}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 52283677, "answer_count": 2, "score": 1, "last_activity_date": 1536697746, "creation_date": 1536696717, "last_edit_date": 1536697258, "question_id": 52283564, "link": "https://stackoverflow.com/questions/52283564/changing-toolbar-text-programmatically-from-fragment-in-kotlin", "title": "Changing Toolbar text programmatically from fragment in Kotlin", "body": "<p>I have an Activity with Fragments as the main content. \nThis Activity has a Toolbar with a TextView inside: </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(my_activity)\n\n    val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n    setSupportActionBar(toolbar)\n    supportActionBar!!.setDisplayHomeAsUpEnabled(false)\n    supportActionBar!!.setDisplayShowTitleEnabled(false)\n}\n</code></pre>\n\n<p>Here is the Toolbar in that Activity's xml document:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MyActivity\"&gt;\n\n    &lt;include\n        android:id=\"@+id/toolbar\"\n        layout=\"@layout/my_toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/main_content\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/toolbar\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"&gt;\n\n        &lt;fragment android:name=\"org.siku.siku.MyFragment\"\n            android:id=\"@+id/fullscreen_content\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            layout=\"@layout/my_fragment\" /&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And here is the toolbar.xml I am using: </p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;Button\n            android:id=\"@+id/closeBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/titleLayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/toolBarText1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"match_parent\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>I can change the text easily from that Activity, but its impossible for me to change the text from the fragment:</p>\n\n<p>I have tried accessing the TextView from the Fragment, but I am getting an error</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?): View? {\n    myView = inflater.inflate(R.layout.my_frament, container, false)\n    val toolbar = activity!!.findViewById&lt;Toolbar&gt;(R.id.toolbar)\n    val toolbarTextView = toolbar.findViewById&lt;TextView&gt;(R.id.toolBarText1)\n\n}\n</code></pre>\n\n<p>Here is the error I am getting:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual\n  method 'android.view.View\n  android.support.v7.widget.Toolbar.findViewById(int)' on a null object\n  reference</p>\n</blockquote>\n\n<p>The error comes from this line: \n    val toolbarTextView = toolbar.findViewById(R.id.toolBarText1)</p>\n\n<p>Which means I am not retrieving that TextView properly, but from the examples I saw, this should be the right way to do so.  </p>\n"}, {"tags": ["java", "android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 3031, "user_id": 7310960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sibMk.jpg?s=128&g=1", "display_name": "Codesingh", "link": "https://stackoverflow.com/users/7310960/codesingh"}, "edited": false, "score": 0, "creation_date": 1552391613, "post_id": 52283258, "comment_id": 96983154, "body": "How were you able to do that ?"}], "owner": {"reputation": 479, "user_id": 2587509, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Wd7mE.gif?s=128&g=1", "display_name": "Rikkin", "link": "https://stackoverflow.com/users/2587509/rikkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 608, "favorite_count": 3, "answer_count": 0, "score": 5, "last_activity_date": 1536712967, "creation_date": 1536695428, "last_edit_date": 1536712967, "question_id": 52283258, "link": "https://stackoverflow.com/questions/52283258/download-pdf-file-from-blob-url-inside-androids-webview", "title": "Download PDF file from Blob Url inside Android&#39;s WebView", "body": "<p>The scenario:</p>\n\n<ul>\n<li>I got a RestFul API that generates pdf files</li>\n<li>I use this API to download pdf files in Web applications and works great</li>\n<li>Now I want to open this web application in a Webview in an Android App to download this same files</li>\n</ul>\n\n<p>The problem is, I'm doing something similar to this to be able to manage the Webview downloads:</p>\n\n<pre><code>webview.settings.javaScriptEnabled = true\nwebview.settings.domStorageEnabled = true\n\nwebview.setDownloadListener { url, userAgent, contentDisposition, mimeType, _ -&gt;\n    val subpath = \"/download\" + \"/\" + \"test\" + \".pdf\"\n    val downloadManager = getSystemService(Context.DOWNLOAD_SERVICE) as DownloadManager\n    val request = DownloadManager.Request(Uri.parse(formatUri(url)))\n    request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or DownloadManager.Request.NETWORK_MOBILE)\n    request.setAllowedOverRoaming(false)\n    request.setVisibleInDownloadsUi(true)\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, subpath)\n    downloadManager.enqueue(request)            \n}\n</code></pre>\n\n<p>But, of course, this will not work since <strong>url</strong> that returns is not a 'normal' Uri like:</p>\n\n<blockquote>\n  <p><a href=\"https://test.com/your-pdf-file.pdf\" rel=\"nofollow noreferrer\">https://test.com/your-pdf-file.pdf</a></p>\n</blockquote>\n\n<p>Instead, it is more like it:</p>\n\n<blockquote>\n  <p>blob:<a href=\"https://test.com/d335cd66-b3f2-4fd5-b16f-asbca22dfc38\" rel=\"nofollow noreferrer\">https://test.com/d335cd66-b3f2-4fd5-b16f-asbca22dfc38</a></p>\n</blockquote>\n\n<p>The web browser is able to work with this kind of url, but the webview is not.</p>\n\n<p>How can I make the Android webview download the files to the device?</p>\n"}, {"tags": ["kotlin", "functional-programming"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1536696508, "post_id": 52283421, "comment_id": 91515156, "body": "Is it possible to also sort with localization? So for example order should be like this &quot;a, \u0105, c, \u0107, z, \u017c&quot;"}], "tags": [], "owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "is_accepted": true, "score": 2, "last_activity_date": 1536696133, "creation_date": 1536696133, "answer_id": 52283421, "question_id": 52282991, "link": "https://stackoverflow.com/questions/52282991/how-to-sort-by-multiple-fields-using-case-sensitive/52283421#52283421", "title": "How to sort by multiple fields using case sensitive", "body": "<p>Not like this?</p>\n\n<pre><code>.sortedWith(compareBy({ it.lastName.toLowerCase() }, { it.firstName.toLowerCase() }))\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 52283421, "answer_count": 1, "score": 1, "last_activity_date": 1536696133, "creation_date": 1536694197, "question_id": 52282991, "link": "https://stackoverflow.com/questions/52282991/how-to-sort-by-multiple-fields-using-case-sensitive", "title": "How to sort by multiple fields using case sensitive", "body": "<p>As simple sorting by two values in Kotlin can be like this:</p>\n\n<p><code>.sortedWith(compareBy({ it.lastName }, { it.firstName }))</code></p>\n\n<p>How to sort by those 2 field and adding case insensitive order? \nI know that this can be only applied to sorting by one field:</p>\n\n<p><code>.sortedWith(compareBy(String.CASE_INSENSITIVE_ORDER, { it.lastName })</code></p>\n\n<p>How to do this for both fields?</p>\n"}, {"tags": ["winapi", "kotlin", "compiler-errors", "native", "kotlin-native"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 6, "creation_date": 1536689037, "post_id": 52281549, "comment_id": 91511511, "body": "<code>LPBOOL</code> is a pointer to a <code>BOOL</code> variable (<code>BOOL*</code>). I don&#39;t know what Kotlin is, but in C/C++ this call would like like this: <code>BOOL cancel = FALSE; BOOL result = CopyFileExA(oldFile, newFile, NULL, NULL, &amp;cancel, COPY_FILE_FAIL_IF_EXISTS);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 1439165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3b31367f837d51f9442c64a512be13e?s=128&d=identicon&r=PG", "display_name": "Guillem Perez", "link": "https://stackoverflow.com/users/1439165/guillem-perez"}, "is_accepted": true, "score": 1, "last_activity_date": 1536918821, "creation_date": 1536918821, "answer_id": 52329452, "question_id": 52281549, "link": "https://stackoverflow.com/questions/52281549/how-to-initialize-lpbool-win32-api-in-kotlin-native/52329452#52329452", "title": "How to initialize LPBOOL? Win32 Api in Kotlin Native", "body": "<p>Answering the question that is already in <a href=\"https://github.com/JetBrains/kotlin-native/issues/2042#issuecomment-420526537\" rel=\"nofollow noreferrer\">github from @olonho</a></p>\n\n<p>You need to alloc a variable using the especial platform types <a href=\"https://github.com/JetBrains/kotlin-native/blob/51faa779f685f6149a0e53d3d585d3533ba2d435/INTEROP.md#memory-allocation\" rel=\"nofollow noreferrer\">NativePlacement</a> </p>\n\n<pre><code>import kotlinx.cinterop.*\nimport platform.windows.*\n\nval buffer = nativeHeap.allocArray&lt;ByteVar&gt;(size)\n&lt;use buffer&gt;\nnativeHeap.free(buffer)\n</code></pre>\n\n<p>but for avoid the free call or unallocated memory you can use the memScoped</p>\n\n<pre><code>val fileSize = memScoped {\n  val statBuf = alloc&lt;statStruct&gt;()\n  val error = stat(\"/\", statBuf.ptr)\n  statBuf.st_size\n}\n</code></pre>\n\n<p>important, the pointer binding will be with statBuf.ptr, then your code will be:</p>\n\n<pre><code>    memScoped {\n      val oldFile = \"README.md\"\n      val newFile = \"${oldFile}.cp\"\n      val bool = alloc&lt;BOOLVar&gt;()\n      bool.value = FALSE\n\n      val result = CopyFileExA(\n              oldFile,\n              newFile,\n              null,\n              null,\n              bool.ptr,\n              COPY_FILE_FAIL_IF_EXISTS\n      )\n    }\n</code></pre>\n\n<p>This have to be similar if you need to binding with a objective-c library.</p>\n"}], "owner": {"reputation": 21, "user_id": 8560223, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A4Pt90VmZls/AAAAAAAAAAI/AAAAAAAAADY/xjQec5sT_hI/photo.jpg?sz=128", "display_name": "PramUkesh N", "link": "https://stackoverflow.com/users/8560223/pramukesh-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 422, "favorite_count": 1, "accepted_answer_id": 52329452, "answer_count": 1, "score": -1, "last_activity_date": 1537898760, "creation_date": 1536688153, "last_edit_date": 1537898760, "question_id": 52281549, "link": "https://stackoverflow.com/questions/52281549/how-to-initialize-lpbool-win32-api-in-kotlin-native", "title": "How to initialize LPBOOL? Win32 Api in Kotlin Native", "body": "<p>How do I call this in Kotlin Native</p>\n\n<pre><code>    val result = CopyFileExA(\n                          oldFile,\n                          newFile,\n                          null,\n                          null,\n                          false,\n                          COPY_FILE_FAIL_IF_EXISTS\n                         )\n</code></pre>\n\n<p>while <code>false</code> is not accepted as <code>LPBOOL</code>? How do I initialize LPBOOL to be used in Kotlin native interface? </p>\n\n<p>I am getting the following error :</p>\n\n<blockquote>\n  <p>the boolean literal does not conform to the expected type </p>\n  \n  <p>LPBOOL? /* = CPointer\n  */>? */ false,</p>\n</blockquote>\n"}, {"tags": ["unit-testing", "testing", "kotlin", "mockwebserver"], "answers": [{"tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": false, "score": 1, "last_activity_date": 1536682427, "creation_date": 1536682427, "answer_id": 52280165, "question_id": 52280164, "link": "https://stackoverflow.com/questions/52280164/how-to-set-default-response-for-mockwebserver/52280165#52280165", "title": "How to set default response for MockWebServer?", "body": "<p>There is improvement that can be done in comparison to implementing your own <code>Dispatcher</code>. When looking at <a href=\"https://github.com/square/okhttp/blob/master/mockwebserver/src/main/java/okhttp3/mockwebserver/MockWebServer.java\" rel=\"nofollow noreferrer\"><code>MockWebServer</code></a> implementation I found that its default dispatcher is <a href=\"https://github.com/square/okhttp/blob/master/mockwebserver/src/main/java/okhttp3/mockwebserver/QueueDispatcher.java\" rel=\"nofollow noreferrer\"><code>QueueDispatcher</code></a>.</p>\n\n<p>And it has some very handy methods, like:</p>\n\n<p><code>public void setFailFast(boolean failFast)</code></p>\n\n<p><code>public void setFailFast(MockResponse failFastResponse)</code></p>\n\n<p><code>setFailFast(true)</code> sets server to \"fail fast\" mode i.e. if no response in enqueued, it doesn't wait, just returns HTTP 404 response immediately.</p>\n\n<p><code>setFailFast(okResponse)</code> sets response to return in \"fail fast\" mode, which exactly answers this question.</p>\n\n<p>The problem is, you don't have direct access to dispatcher field in <code>MockWebServer</code>, so what you need to do is set your own instance of <code>QueueDispatcher</code> and then set default response (or \"fail fast\" response) on it, like that:</p>\n\n<pre><code>val dispatcher = QueueDispatcher()\ndispatcher.setFailFast(okResponse)\nserver.setDispatcher(dispatcher)\n</code></pre>\n"}], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536682427, "creation_date": 1536682427, "question_id": 52280164, "link": "https://stackoverflow.com/questions/52280164/how-to-set-default-response-for-mockwebserver", "title": "How to set default response for MockWebServer?", "body": "<p><a href=\"https://github.com/square/okhttp/tree/master/mockwebserver\" rel=\"nofollow noreferrer\">MockWebServer</a> is awesome library, but there is one thing that is surprisingly hard to do: set default response.</p>\n\n<p>To be specific: I want to have ability to set response that is returned if no response was specified using <code>server.enqueue(response)</code>. </p>\n\n<p>I would like to be able to do something like:</p>\n\n<pre><code>server.setDefaultResponse(okResponse)\nserver.enqueue(customResponse)\n</code></pre>\n\n<p>And then when my tests call server twice (or more), every response after the first one would be <code>okResponse</code>.</p>\n\n<p>When tests get more complicated and multiple calls to server are needed, sometimes specifying every single response (often simple 200 OK) is tedious and pollutes tests.</p>\n\n<p>Is there any simpler way to do this than creating your own <a href=\"https://github.com/square/okhttp/tree/master/mockwebserver#dispatcher\" rel=\"nofollow noreferrer\">Dispatcher</a>? Creating it properly (with support for multiple responses) sounds like overkill for such a small thing.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1536682238, "post_id": 52280085, "comment_id": 91508221, "body": "I&#39;m pretty sure this needs to be done programmatically. You can make the string resource be something like <code>Final Grade: %s%</code> and then use <code>String.format()</code>."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1536744966, "post_id": 52280085, "comment_id": 91531804, "body": "Have you tried using <code>&quot;@string&#47;courses.finalGrade&quot;</code> withouth the quotes? Like this it&#39;s just a simple string with content looking like a string resource. The preview might just ignore the quotes and look correctly."}], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 3041085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5911b2e93ee0f0bbe7907ead7e60e02b?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Ohlin", "link": "https://stackoverflow.com/users/3041085/martin-ohlin"}, "is_accepted": false, "score": 2, "last_activity_date": 1536751590, "creation_date": 1536751590, "answer_id": 52294050, "question_id": 52280085, "link": "https://stackoverflow.com/questions/52280085/concat-a-localized-string-and-a-dynamic-string-using-databinding-in-kotlin-xml/52294050#52294050", "title": "Concat a localized string and a dynamic string using DataBinding in Kotlin XML", "body": "<p>Android data binding supports string formatting. If you define your text resource like:</p>\n\n<pre><code>&lt;string name=\"some_text_id\"&gt;\"Some text about final grade: %1$s\"&lt;/string&gt;\n</code></pre>\n\n<p>You can then use this text resource with data binding like</p>\n\n<pre><code>android:text=\"@{@string/some_text_id(course.grade)}\"\n</code></pre>\n\n<p>It will be the same thing as using String.format(...) programmatically.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2876886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1536787511, "creation_date": 1536682127, "question_id": 52280085, "link": "https://stackoverflow.com/questions/52280085/concat-a-localized-string-and-a-dynamic-string-using-databinding-in-kotlin-xml", "title": "Concat a localized string and a dynamic string using DataBinding in Kotlin XML", "body": "<p>I have a <code>TextView</code> in my XML fragment that needs to concat a string from my <code>strings.xml</code> file with a dynamic string. Originally, I tried:</p>\n\n<p><code>android:text='@{\"@string/courses.finalGrade\" + \": \" + course.grade + \"%\"}'</code></p>\n\n<p>The preview of this works as expected, I see a string of the format: <code>Final Grade: 90%</code>.</p>\n\n<p>But when in the simulator, it prints out <code>@string/courses.finalGrade: 95%</code></p>\n\n<p>Is there a way to concat a string from the strings.xml file AND a dynamic string in the xml fragment?</p>\n"}, {"tags": ["android", "ios", "kotlin", "navigation"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1536679989, "post_id": 52279388, "comment_id": 91506932, "body": "Android builds around activities. You need at least one to have an app. But you can change the contentview in that activity, and use fragments, and effectively switch between layouts with a single activity. Changing the content view is a bad idea though, if you don&#39;t use fragments (considering memory management)"}, {"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1536681013, "post_id": 52279388, "comment_id": 91507575, "body": "Now this makes sense and does align with where my internal thoughts were going...    So, based on this, perhaps I need to set the initial &#39;host&#39; as the mainActivity (which I already do have) and then change it if necessary?  This seems like it would work for what I&#39;m trying to accomplish.    I also agree with the fragment suggestions, which is why I plan to use the activity as the primary &#39;host&#39;, but branch everything off to fragments from there.  Hopefully I&#39;m making sense..."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536758316, "post_id": 52279388, "comment_id": 91540110, "body": "(and if you want to be able to control your application state yourself, then you should have a maximum of one activity in your app)"}], "owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1002, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536679597, "creation_date": 1536679597, "question_id": 52279388, "link": "https://stackoverflow.com/questions/52279388/android-navigation-architecture-component-programmatically", "title": "Android Navigation Architecture Component - Programmatically", "body": "<p>Looking for examples or anything similar that takes Swift (iOS) code like this: </p>\n\n<pre><code>let navController = UINavigationController(rootViewController: initialView)\n</code></pre>\n\n<p>and sets it up in Kotlin, via the new Navigation component.  I've referenced the following examples, but it's not making complete sense to me:</p>\n\n<pre><code>val myNavHostController: NavHostFragment = nav_host_fragment as NavHostFragment\nval inflater = myNavHostController.navController.navInflator\nval graph = inflater.inflate(R.layout.nav_graph)\nmyNavHostController.navController.graph = graph\n</code></pre>\n\n<p>and</p>\n\n<pre><code>val finalHost = NavHostFragment.create(R.navigation.example_graph)\nsupportFragmentManager.beginTransaction()\n    .replace(R.id.nav_host, finalHost)\n    .setPrimaryNavigationFragment(finalHost) // this is the equivalent to app:defaultNavHost=\"true\"\n    .commit()\n</code></pre>\n\n<p>It appears the Android examples I'm coming across, still require an Activity/Fragment to already be established in the XML file created by the navigation component ... but, what if I want this functionality to be dynamic?  What if I need to set the 'host' activity for the nav component based on data passed in?  I am in need of the ability to do this all via code, which is what the Swift line is doing (setting the 'initialView' UIViewController, as the 'host', which has the navigation controller embedded in it).  None of it is done via storyboarding, which seems to be what Android wants me to do regardless...</p>\n\n<p>I am certain the issue is me not fully understanding how this works in Android, which is what I really would like to learn.</p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "android-relativelayout"], "comments": [{"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1536679379, "post_id": 52279220, "comment_id": 91506534, "body": "do you need the NestedScrollView?  have you tried <code>layout_above</code> or <code>layout_below</code>?"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "reply_to_user": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1536679488, "post_id": 52279220, "comment_id": 91506595, "body": "@peshkira yes I need scrollview, and layout_above doesn&#39;t work for parent RelativeLayout"}], "answers": [{"tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": false, "score": -1, "last_activity_date": 1536679535, "creation_date": 1536679535, "answer_id": 52279366, "question_id": 52279220, "link": "https://stackoverflow.com/questions/52279220/put-element-above-element-in-parent-relativlayout/52279366#52279366", "title": "Put element above element in parent RelativLayout", "body": "<p>try adding this to your ViewPager:</p>\n\n<pre><code>android:layout_below=\"@id/singleScroll\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "is_accepted": false, "score": 0, "last_activity_date": 1536680218, "creation_date": 1536680218, "answer_id": 52279574, "question_id": 52279220, "link": "https://stackoverflow.com/questions/52279220/put-element-above-element-in-parent-relativlayout/52279574#52279574", "title": "Put element above element in parent RelativLayout", "body": "<p>How about this?</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/singleSlider\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/slider_height\"\n        android:alignParentBottom=\"true\"\n    /&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/singleScroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@id/singleSlider\"\n        &gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/indicatorWrapper\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/singleName\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"@dimen/slider_height\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>This should put the viewpager at the bottom of the screen and the nested scroll layout should fill in the rest of the screen above.</p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536682962, "creation_date": 1536679052, "last_edit_date": 1536680958, "question_id": 52279220, "link": "https://stackoverflow.com/questions/52279220/put-element-above-element-in-parent-relativlayout", "title": "Put element above element in parent RelativLayout", "body": "<p>I want to put element TextView \"singleName\" above ViewPager on parent RelativeLayout, is it possible or not?</p>\n\n<p>here xml:    </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;android.support.v4.widget.NestedScrollView\n            android:id=\"@+id/singleScroll\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            &gt;\n\n            &lt;RelativeLayout\n                android:id=\"@+id/indicatorWrapper\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/singleName\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"@dimen/slider_height\" /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n        &lt;android.support.v4.view.ViewPager\n            android:id=\"@+id/singleSlider\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"@dimen/slider_height\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Any suggestin ?</p>\n"}, {"tags": ["spring", "spring-mvc", "kotlin", "hibernate-validator", "spring-validator"], "comments": [{"owner": {"reputation": 451, "user_id": 1694996, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d8d411fcc1db633bd32ccf7271c856e5?s=128&d=identicon&r=PG", "display_name": "kemot90", "link": "https://stackoverflow.com/users/1694996/kemot90"}, "edited": false, "score": 0, "creation_date": 1536755574, "post_id": 52279005, "comment_id": 91538060, "body": "You can check if document needs validation or not in your custom validator (implementation of <code>ConstraintValidator</code>). If validation is no needed just return <code>true</code>, otherwise do your custom validation, return its result and always call <code>documentService.createWithoutValidation(document)</code> (you just did one validation) in your controller cause at this point your object is already validated. I can add some sample code if it&#39;s what you looking for."}], "answers": [{"tags": [], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "is_accepted": false, "score": 0, "last_activity_date": 1536756473, "creation_date": 1536756473, "answer_id": 52295602, "question_id": 52279005, "link": "https://stackoverflow.com/questions/52279005/valid-customvalidator-inside-a-spring-service/52295602#52295602", "title": "@Valid @CustomValidator inside a spring @Service", "body": "<p>I found a solution by instantiating a validator bean:</p>\n\n<pre><code>import javax.validation.Validator\n...\n@Autowired\nlateinit var validator: Validator\n</code></pre>\n\n<p>and I use it in my create function:</p>\n\n<pre><code>@PostMapping(\"/documents\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@RequestBody document: DocumentCreate) {\n    return when {\n        document.needValidation -&gt; {\n            val errors = validator.validate(document)\n            if (errors.isNotEmpty()) {\n                throw ConstraintViolationException(errors)\n            }\n            documentService.create(document)\n        }\n        else -&gt; documentService.create(document)\n    }\n}\n</code></pre>\n\n<p>I did not find a way to do it with annotations in the service layer.</p>\n"}, {"comments": [{"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "edited": false, "score": 0, "creation_date": 1540474868, "post_id": 52978909, "comment_id": 92886700, "body": "It does not solve my problem. The idea is to activate/deactivate validation based on a trigger (<code>document.needValidation</code> in my example). Of course <code>@Validated</code> could be used if you don&#39;t have <code>@RequestBody</code> annotation on your payload. You don&#39;t need to use it if you have <code>@RequestBody</code>: Optionally, automatic validation can be applied by annotating the argument with {<code>@code @Valid</code>}."}], "tags": [], "owner": {"reputation": 1443, "user_id": 5859173, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1f7239da79b5f70c28d30ad511b4dd0c?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/5859173/vishal"}, "is_accepted": false, "score": 1, "last_activity_date": 1540421013, "creation_date": 1540421013, "answer_id": 52978909, "question_id": 52279005, "link": "https://stackoverflow.com/questions/52279005/valid-customvalidator-inside-a-spring-service/52978909#52978909", "title": "@Valid @CustomValidator inside a spring @Service", "body": "<p>for anyone who is wondering how to do it using annotation. Annotate your service class with spring's @Validated. Once done, it will fire the validation of the input bean in your service class method that is decorated with @Valid. </p>\n"}], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1957, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1540421013, "creation_date": 1536678368, "question_id": 52279005, "link": "https://stackoverflow.com/questions/52279005/valid-customvalidator-inside-a-spring-service", "title": "@Valid @CustomValidator inside a spring @Service", "body": "<p>I used to validate my beans inside my spring <code>@RestController</code> like:</p>\n\n<pre><code>@PostMapping(\"/documents\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@Valid @RequestBody document: DocumentCreate) {\n    return documentService.create(document)\n}\n</code></pre>\n\n<p>Even it seems stupid, I would like now to validate my bean depending on a <code>DocumentCreate</code> boolean property like:</p>\n\n<pre><code>@PostMapping(\"/documents\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@RequestBody document: DocumentCreate) {\n    return when {\n        document.needValidation -&gt; documentService.createWithValidation(document),\n        else -&gt; documentService.createWithoutValidation(document)\n    }\n}\n</code></pre>\n\n<p>I tried to move the <code>@Valid</code> annotation to the document <code>@Service</code> class but it does not trigger the validation. How can I achieve this? Is it possible?</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-binding-adapter"], "answers": [{"comments": [{"owner": {"reputation": 504, "user_id": 2747580, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/80b2ac7177d7ed0e6bab0bb9be2164da?s=128&d=identicon&r=PG&f=1", "display_name": "mithil1501", "link": "https://stackoverflow.com/users/2747580/mithil1501"}, "edited": false, "score": 0, "creation_date": 1599141306, "post_id": 52278618, "comment_id": 112686953, "body": "Thanks!.. it saved my lot of time"}], "tags": [], "owner": {"reputation": 189, "user_id": 8524706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b3343affc7b28d8febdfea91126d523?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8524706/alex"}, "is_accepted": true, "score": 5, "last_activity_date": 1536677176, "creation_date": 1536677176, "answer_id": 52278618, "question_id": 52278287, "link": "https://stackoverflow.com/questions/52278287/bindingadapter-doesnt-work-with-databinding/52278618#52278618", "title": "BindingAdapter doesn&#39;t work with DataBinding", "body": "<p>Ok, the library is broken. I found a solution.\nIt will only work if both parameters are either hardcoded strings OR are passed from the ViewModel.</p>\n\n<p>So, that </p>\n\n<pre><code>binding:firstStringParameter=\"@{vm.\nbinding:singleParameterString=\"@{vm.test}\"\n</code></pre>\n\n<p>and that works:</p>\n\n<pre><code> binding:firstStringParameter=\"userName\"\n binding:singleParameterString=\"test\"\n</code></pre>\n\n<p>, but this doesn't work:</p>\n\n<pre><code> binding:firstStringParameter=\"@{vm.userName}\"\n binding:singleParameterString=\"test\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 2265696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acdf88f7c46b63013c5dd812ce40e8a8?s=128&d=identicon&r=PG", "display_name": "fxs", "link": "https://stackoverflow.com/users/2265696/fxs"}, "is_accepted": false, "score": 2, "last_activity_date": 1577717227, "creation_date": 1577717227, "answer_id": 59532647, "question_id": 52278287, "link": "https://stackoverflow.com/questions/52278287/bindingadapter-doesnt-work-with-databinding/59532647#59532647", "title": "BindingAdapter doesn&#39;t work with DataBinding", "body": "<p>I found a workaround for this problem:</p>\n\n<pre><code>binding:firstStringParameter=\"@{notification.user.pic}\"\nbinding:singleParameterString=\"@{`test`}\"\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 8524706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b3343affc7b28d8febdfea91126d523?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8524706/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1221, "favorite_count": 1, "accepted_answer_id": 52278618, "answer_count": 2, "score": 3, "last_activity_date": 1577717227, "creation_date": 1536676221, "last_edit_date": 1536676812, "question_id": 52278287, "link": "https://stackoverflow.com/questions/52278287/bindingadapter-doesnt-work-with-databinding", "title": "BindingAdapter doesn&#39;t work with DataBinding", "body": "<p>I've got a button:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:binding=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n\n        &lt;variable\n            name=\"vm\"\n            type=\"com.MyViewModel\" /&gt;\n    &lt;/data&gt;\n    &lt;Button\n                binding:singleParameterString=\"test\"\n                binding:firstStringParameter=\"@{vm.userName}\"\n    .../&gt;\n...\n</code></pre>\n\n<p>The BindingAdapter looks as follows:</p>\n\n<pre><code>@BindingAdapter(\"binding:singleParameterString\", \"binding:firstStringParameter\")\n        fun setFormattedString(btn: Button, singleParameterString: String, firstStringParameter: String) {\n            btn.text = String.format(singleParameterString, firstStringParameter)\n        }\n</code></pre>\n\n<p>This doesn't work, it gives the following error: \"Cannot find the setter for attribute 'binding:firstStringParameter' with parameter type java.lang.String on android.widget.Button.\". \nHowever, if I change  <code>binding:firstStringParameter=\"@{vm.userName}\"</code> to, for example,  <code>binding:firstStringParameter=\"my lovely string\"</code> this will work.</p>\n\n<p>The userName in the ViewModel is <code>val userName: String = \"my name\"</code> and if I try <code>android:text=\"@{vm.userName}\"</code> that works. \nSo the problem is in the databinding. I've got another project where I used the same code and it works... Sounds like a bug in the databinding/adaperbinding framework, but maybe someone came across this problem?</p>\n\n<p>P.S.\nI also tried <code>binding:firstStringParameter=\"@{</code> <code>+ vm.userName}\"</code>, did not work.</p>\n\n<p>By looking at the autogenerated Binding class I discovered a very strange code:</p>\n\n<pre><code>blah.setFormattedString(this.mboundView1, (java.lang.String)null, javaLangStringVmUserName);\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1536680439, "creation_date": 1536680439, "answer_id": 52279629, "question_id": 52277622, "link": "https://stackoverflow.com/questions/52277622/custom-biometricprompt-builder/52279629#52279629", "title": "Custom BiometricPrompt.Builder", "body": "<p>You can't set properties on the prompt that aren't exposed through its <code>Builder</code> - the UI is provided by the system, and is designed to be uniform throughout all apps. </p>\n\n<p>This is sort of the main point of this API, this way the user becomes familiar with the prompt and knows that whatever they're interacting with is safe to use.</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 4202764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a43f85bf786ef6687d13fe81f3aef91?s=128&d=identicon&r=PG&f=1", "display_name": "Rudy", "link": "https://stackoverflow.com/users/4202764/rudy"}, "is_accepted": false, "score": -2, "last_activity_date": 1558688973, "creation_date": 1558688973, "answer_id": 56289343, "question_id": 52277622, "link": "https://stackoverflow.com/questions/52277622/custom-biometricprompt-builder/56289343#56289343", "title": "Custom BiometricPrompt.Builder", "body": "<blockquote>\n  <p>Can we modify/custom our BiometricPrompt?</p>\n</blockquote>\n\n<p>The BiometricPrompt uses the \"buttonStyle\" style that is set for your theme, which you can adjust in the styles.xml\nKeep in mind that this is the default button style, so if you do not want other buttons to change you would have to assign buttons etc. their own style. (and dialogs etc.)</p>\n\n<p>For example, if you only want the text color to be different for the BiometricPrompt, you could do something like this:</p>\n\n<pre><code>&lt;style name=\"myTheme\" parent=\"Theme.AppCompat.DayNight.NoActionBar\"&gt;\n    &lt;item name=\"buttonStyle\"&gt;@style/ButtonPrimaryStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"ButtonPrimaryStyle\" parent=\"ButtonParentStyle\"&gt;\n    &lt;item name=\"android:textColor\"&gt;454545&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"ButtonPrimaryStyleMain\" parent=\"ButtonPrimaryStyle\"&gt;\n    &lt;item name=\"android:textColor\"&gt;e2e2e2&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>This would make the BiometricPrompt have a dark grey text for the cancel button, while every button with the \"ButtonPrimaryStyleMain\" style will have a lightgrey, almost white, text color.</p>\n\n<p>You would also have to assign this theme to your application in the manifest.</p>\n\n<pre><code>&lt;application\n    android:theme=\"@style/myTheme\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 2244152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAgK4.jpg?s=128&g=1", "display_name": "Ch4vi", "link": "https://stackoverflow.com/users/2244152/ch4vi"}, "is_accepted": false, "score": 1, "last_activity_date": 1567757833, "last_edit_date": 1567757833, "creation_date": 1565350320, "answer_id": 57429163, "question_id": 52277622, "link": "https://stackoverflow.com/questions/52277622/custom-biometricprompt-builder/57429163#57429163", "title": "Custom BiometricPrompt.Builder", "body": "<p><strong>Update2: beta01</strong></p>\n\n<p>The change with the alpha version was that the fingerprint dialog uses <code>android.app.AlertDialog</code> and the new beta01 uses <code>androidx.appcompat.app.AlertDialog</code> which has a private style. </p>\n\n<p>Then to override that style we have to override <code>androidx.appcompat.R.attr.alertDialogTheme</code> reference in our styles.xml, we can do it replacing <code>&lt;item name=\"android:alertDialogTheme\"&gt;@style/CustomAlertTheme&lt;/item&gt;</code> by <code>&lt;item name=\"alertDialogTheme\"&gt;@style/CustomAlertTheme&lt;/item&gt;</code> in my case thay I only wanted to change the button text color, I just added <code>&lt;item name=\"buttonBarNegativeButtonStyle\"&gt;@style/NegativeButtonStyle&lt;/item&gt;</code> and the same for posivtive, because replacing <code>alertDialogTheme</code> changes other things that I did not want to.</p>\n\n<p>My styles.xml now:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/black&lt;/item&gt;\n        &lt;item name=\"android:buttonStyle\"&gt;@style/WibleButtonStyle&lt;/item&gt;\n        &lt;item name=\"buttonBarNegativeButtonStyle\"&gt;@style/NegativeButtonStyle&lt;/item&gt;\n &lt;/style&gt;\n\n&lt;style name=\"NegativeButtonStyle\" parent=\"Widget.AppCompat.Button.ButtonBar.AlertDialog\"&gt;\n        &lt;item name=\"android:textSize\"&gt;16sp&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/dark_blue&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update: beta01</strong></p>\n\n<p>This trick is not working anymore. I'll try if I can find another way to do it.</p>\n\n<hr>\n\n<p>I found two ways to do it, none of these are specific for the BiometricPrompt, one is to override the theme button style: \n<code>&lt;item name=\"android:buttonStyle\"&gt;@style/CustomButtonStyle&lt;/item&gt;</code></p>\n\n<p>another option is to override your alert dialog theme: </p>\n\n<p><em>AppTheme style</em></p>\n\n<p><code>&lt;item name=\"android:alertDialogTheme\"&gt;@style/AlertDialogTheme&lt;/item&gt;</code></p>\n\n<pre><code>    &lt;style name=\"AlertDialogTheme\" parent=\"ThemeOverlay.AppCompat.Dialog.Alert\"&gt;\n        &lt;item name=\"android:buttonBarNegativeButtonStyle\"&gt;@style/NegativeButtonStyle&lt;/item&gt;\n        &lt;item name=\"android:buttonBarPositiveButtonStyle\"&gt;@style/PositiveButtonStyle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"NegativeButtonStyle\" parent=\"Widget.AppCompat.Button.ButtonBar.AlertDialog\"&gt;\n        &lt;item name=\"android:textSize\"&gt;10sp&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/primary_text&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"PositiveButtonStyle\" parent=\"Widget.AppCompat.Button.ButtonBar.AlertDialog\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/primary_text&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>And then you can apply a specific theme to a specific activity. Maybe they could open the API to allow styles, but I had to change the color because it was impossible to see the buttons (everything was white) and this is what I found to solve my problem. I hope it helps you.</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3588, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1567757833, "creation_date": 1536674104, "question_id": 52277622, "link": "https://stackoverflow.com/questions/52277622/custom-biometricprompt-builder", "title": "Custom BiometricPrompt.Builder", "body": "<p>Can we modify/custom our<code>BiometricPrompt</code>?</p>\n\n<p>For example right now i use smth like this:</p>\n\n<pre><code>BiometricPrompt.Builder(AppResources.appContext)\n            .setTitle(\"title\")\n            .setSubtitle(\"subTitle\")\n            .setDescription(\"description\")\n            .setNegativeButton(\"Cancel\", AppResources.appContext?.mainExecutor,\n                    DialogInterface.OnClickListener { dialogInterface, i -&gt; biometricCallback.onAuthenticationCancelled() })\n            .build()\n            .authenticate(CancellationSignal(), AppResources.appContext?.mainExecutor,\n                    BiometricCallbackV28(biometricCallback))\n</code></pre>\n\n<p>Do I have the ability to change the style of the text, title, <code>negativeButton</code> color?</p>\n"}, {"tags": ["kotlin", "teamcity"], "answers": [{"tags": [], "owner": {"reputation": 2140, "user_id": 3979731, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wEazC.jpg?s=128&g=1", "display_name": "Piotr Boho", "link": "https://stackoverflow.com/users/3979731/piotr-boho"}, "is_accepted": true, "score": 0, "last_activity_date": 1536695755, "creation_date": 1536695755, "answer_id": 52283341, "question_id": 52277499, "link": "https://stackoverflow.com/questions/52277499/teamcity-configuration-in-kotlin-build-id-conflict-in-subprojects/52283341#52283341", "title": "TeamCity configuration in Kotlin - build id conflict in subprojects", "body": "<p>Assuming package name is equivalent to subproject\nthe workaround is:</p>\n\n<pre><code>object build : BuildType({name = \"buildB\"\n    id(this.javaClass.`package`.name +\"_\"+id.toString().split(\"_\")[1])\n})\n</code></pre>\n\n<p>this way build Id is: <code>RootProjectId_B_build</code></p>\n"}], "owner": {"reputation": 2140, "user_id": 3979731, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wEazC.jpg?s=128&g=1", "display_name": "Piotr Boho", "link": "https://stackoverflow.com/users/3979731/piotr-boho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 52283341, "answer_count": 1, "score": 1, "last_activity_date": 1536695755, "creation_date": 1536673742, "question_id": 52277499, "link": "https://stackoverflow.com/questions/52277499/teamcity-configuration-in-kotlin-build-id-conflict-in-subprojects", "title": "TeamCity configuration in Kotlin - build id conflict in subprojects", "body": "<p>Can build Id be generated based on subproject Id\nrather then root project id ?</p>\n\n<p>I'm getting validation error:</p>\n\n<pre><code>BuildType 'RootProjectId_build': id 'RootProjectId_build' is already used\nin BuildType(uuid='', id='RootProjectId_build', name='buildA')\n</code></pre>\n\n<p>for the following project with 2 subprojects and builds that have the same class name (but in different packages)</p>\n\n<p>RootTestProject.kt</p>\n\n<pre><code>package _Self\n\nimport A.SubProjectA\nimport B.SubProjectB\nimport jetbrains.buildServer.configs.kotlin.v2018_1.Project\n\nobject RootTestProject : Project({\n    subProject(SubProjectA)\n    subProject(SubProjectB)\n})\n</code></pre>\n\n<p>SubProjectA.kt :</p>\n\n<pre><code>package A\n\nimport jetbrains.buildServer.configs.kotlin.v2018_1.BuildType\nimport jetbrains.buildServer.configs.kotlin.v2018_1.Project\n\nobject build : BuildType({name = \"buildA\"})\n\nobject SubProjectA : Project({\n    name = \"SubProjectNameA\"\n    buildType(build)\n})\n</code></pre>\n\n<p>SubProjectB.kt :</p>\n\n<pre><code>package B\n\nimport jetbrains.buildServer.configs.kotlin.v2018_1.BuildType\nimport jetbrains.buildServer.configs.kotlin.v2018_1.Project\n\nobject build : BuildType({name = \"buildB\"})\n\nobject SubProjectB : Project({\n    name = \"SubProjectNameB\"\n    buildType(build)\n})\n</code></pre>\n\n<p>For some reason I need to stay with same class names for builds, so I won't simply change 'object build' to 'object buildA' and 'object buildB'</p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "android-viewpager"], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1536676931, "post_id": 52277432, "comment_id": 91504976, "body": "Yes that right, now swipe working, but content inside NestedScrollView became not visible"}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1536694726, "post_id": 52277432, "comment_id": 91514307, "body": "@TigranBabajanyan If the ViewPager is now visible (you can check by giving it a background color), then that should be a different problem, probably with your data or adapter. I would recommend you post a new question for that with the relevant code."}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 4, "last_activity_date": 1536673545, "creation_date": 1536673545, "answer_id": 52277432, "question_id": 52277140, "link": "https://stackoverflow.com/questions/52277140/why-viewpager-doesnt-swiping-inside-relativelayout/52277432#52277432", "title": "Why ViewPager doesn&#39;t swiping inside RelativeLayout?", "body": "<p>The <code>NestedScrollView</code> is now above (z-axis) the <code>ViewPager</code>, so the <code>ViewPager</code> doesn't receive the touch events. \nAdd </p>\n\n<pre><code>android:layout_below=\"@+id/singleSlider\"\n</code></pre>\n\n<p>to your <code>NestedScrollView</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1536677018, "post_id": 52277451, "comment_id": 91505038, "body": "Yes it works, but content inside NesteedScrollView became invisible, have you any idea?"}, {"owner": {"reputation": 676, "user_id": 6028451, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066596513401770/picture?type=large", "display_name": "Parvesh Khan", "link": "https://stackoverflow.com/users/6028451/parvesh-khan"}, "reply_to_user": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1536718953, "post_id": 52277451, "comment_id": 91521235, "body": "I think Your view pager taking much space than nested scroll view ..You can do one thing divide whole height space in two equal section and give equal height to both i.e nested and viewpager."}], "tags": [], "owner": {"reputation": 676, "user_id": 6028451, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066596513401770/picture?type=large", "display_name": "Parvesh Khan", "link": "https://stackoverflow.com/users/6028451/parvesh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1536673597, "creation_date": 1536673597, "answer_id": 52277451, "question_id": 52277140, "link": "https://stackoverflow.com/questions/52277140/why-viewpager-doesnt-swiping-inside-relativelayout/52277451#52277451", "title": "Why ViewPager doesn&#39;t swiping inside RelativeLayout?", "body": "<p>I think your View-pager and NestedScrollView are <strong>overlapping</strong> earlier you are using <strong>Linear Layout</strong>. So it goes one by one but now in Relative Layout it is overlapping.\nUse <strong>layout_below</strong> attribute</p>\n"}, {"comments": [{"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1536682693, "post_id": 52280151, "comment_id": 91508471, "body": "I don&#39;t want to put viewpager inside ScrollView because I don&#39;t want to scroll it with other elementes in scroll view"}], "tags": [], "owner": {"reputation": 590, "user_id": 9132597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74695f17df89aed6988f7cd235075a61?s=128&d=identicon&r=PG&f=1", "display_name": "Brent", "link": "https://stackoverflow.com/users/9132597/brent"}, "is_accepted": false, "score": 0, "last_activity_date": 1536682375, "creation_date": 1536682375, "answer_id": 52280151, "question_id": 52277140, "link": "https://stackoverflow.com/questions/52277140/why-viewpager-doesnt-swiping-inside-relativelayout/52280151#52280151", "title": "Why ViewPager doesn&#39;t swiping inside RelativeLayout?", "body": "<p>right now your nested scroll view and your view pager are just 2 seperate things that over lap each other not sure if you want your view pager inside your nested scroll view or if you want the nested scroll inside of your view pager so i will show view inside the nested scroll</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/singleScroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/singleSlider\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/slider_height\"\n        android:background=\"@color/colorPrimaryDark\" /&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>then when you call your scrollview</p>\n\n<p>you can also set </p>\n\n<pre><code>android:fillViewport=\"true\"\n</code></pre>\n\n<p>on the nested scroll view to Defines whether the scrollview should stretch its content to fill the viewport</p>\n\n<p>if this is not what you wanted could you maybe show a mock up or something showing how you want it to function and I will edit my answer accordingly</p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1536682375, "creation_date": 1536672697, "last_edit_date": 1536674103, "question_id": 52277140, "link": "https://stackoverflow.com/questions/52277140/why-viewpager-doesnt-swiping-inside-relativelayout", "title": "Why ViewPager doesn&#39;t swiping inside RelativeLayout?", "body": "<p><strong>After changing Linear Layout to Relative layout swipe change doesn't work.</strong></p>\n\n<p>Whole xml code here.</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/singleSlider\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/slider_height\"\n        android:background=\"@color/colorPrimaryDark\" /&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/singleScroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        ...\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>What can be a problem? </p>\n\n<p>It doesn't work also with Frame Layout.</p>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["kotlin"], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1536669253, "answer_count": 0, "score": 1, "last_activity_date": 1536670356, "creation_date": 1536668682, "last_edit_date": 1536670356, "question_id": 52275871, "link": "https://stackoverflow.com/questions/52275871/how-to-sort-by-two-values-with-same-comparator", "closed_reason": "Duplicate", "title": "How to sort by two values with same comparator", "body": "<p>I have two values that cannot be passed as var args: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>sortedWith(compareBy(String.CASE_INSENSITIVE_ORDER, { it.lastName })\n</code></pre>\n\n<p>How can i add sorting by second field? I mean <code>it.lastName</code> and <code>it.firstName</code>.</p>\n\n<p><strong>This is not duplicate as this is with using same comparator String.CASE_INSENSITIVE_ORDER</strong></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1536666711, "post_id": 52275180, "comment_id": 91497952, "body": "try this <code>input1.text.toString().toInt() + input2.text.toString().toInt()</code>"}, {"owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "edited": false, "score": 1, "creation_date": 1536666714, "post_id": 52275180, "comment_id": 91497958, "body": "try <code>input1.text.toString().toInt()</code>"}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1538574619, "post_id": 52275180, "comment_id": 92190654, "body": "are you resolved? if not, post your xml and I&#39;ll try and help you on this. I noticed there is no answer marked as correct, so assuming it is not fixed yet."}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1536667255, "last_edit_date": 1536667255, "creation_date": 1536666727, "answer_id": 52275259, "question_id": 52275180, "link": "https://stackoverflow.com/questions/52275180/unresolved-symbol-toint-in-mainactivity-kotlin-android/52275259#52275259", "title": "Unresolved Symbol toInt() in MainActivity Kotlin Android", "body": "<p>Try this</p>\n\n<pre><code>input1.text.toString().toInt() + input2.text.toString().toInt()\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>input1.toString().toInt() + input2.toString().toInt()\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>output.setText((input1.text.toString().toInt() + input2.text.toString().toInt()).toString()) \n</code></pre>\n\n<p>Use <strong><code>editText.setText()</code></strong></p>\n\n<p>Don't use <strong><code>output.text</code></strong> because  <code>editText.text</code> expects an <code>Editable</code>, not a <code>String</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 6816893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G3Q8V.jpg?s=128&g=1", "display_name": "Anjani Mittal", "link": "https://stackoverflow.com/users/6816893/anjani-mittal"}, "is_accepted": true, "score": 0, "last_activity_date": 1536667158, "creation_date": 1536667158, "answer_id": 52275428, "question_id": 52275180, "link": "https://stackoverflow.com/questions/52275180/unresolved-symbol-toint-in-mainactivity-kotlin-android/52275428#52275428", "title": "Unresolved Symbol toInt() in MainActivity Kotlin Android", "body": "<p>there were 2 problems </p>\n\n<p>first being -> (unresolved symbol toInt())</p>\n\n<p>I added these to app build gradle file &amp; then cleaned project :</p>\n\n<pre><code>apply plugin: 'kotlin-kapt' \nandroid{\n...\ndataBinding {\n    enabled = true\n  }\n}\ndependencies{\n....\n kapt 'com.android.databinding:compiler:3.1.4'\n}\n</code></pre>\n\n<p>second being -> (this caused app crashes)</p>\n\n<pre><code>input1.text.toString().toInt() + input2.text.toString().toInt()\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>input1.toString().toInt() + input2.toString().toInt()\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 6816893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G3Q8V.jpg?s=128&g=1", "display_name": "Anjani Mittal", "link": "https://stackoverflow.com/users/6816893/anjani-mittal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 52275428, "answer_count": 2, "score": -1, "last_activity_date": 1536667255, "creation_date": 1536666483, "question_id": 52275180, "link": "https://stackoverflow.com/questions/52275180/unresolved-symbol-toint-in-mainactivity-kotlin-android", "title": "Unresolved Symbol toInt() in MainActivity Kotlin Android", "body": "<p>this is my code for Main activity</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\n\nfun onButton(view: View?){\n    if(view != null) {\n        if (input1.text != null &amp;&amp; input2.text != null) {\n            output.text = (input1.toString().toInt() + input2.toString().toInt()).toString()\n        }\n    }\n}\n}\n</code></pre>\n\n<p>I am getting an error at the toInt() part stating it being an unresolved symbol, any help appreciated</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1536665633, "post_id": 52274892, "comment_id": 91497230, "body": "Don&#39;t you just need <code>&quot;&quot;&quot;(?m)^-?\\d*\\s?\\d*,\\d{2}$&quot;&quot;&quot;</code>?"}, {"owner": {"reputation": 67, "user_id": 3718059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/694915664/picture?type=large", "display_name": "Blahri", "link": "https://stackoverflow.com/users/3718059/blahri"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1536666077, "post_id": 52274892, "comment_id": 91497525, "body": "@WiktorStribi\u017cew ohhh, it works! feel so stupid now, thanks a lot"}], "owner": {"reputation": 67, "user_id": 3718059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/694915664/picture?type=large", "display_name": "Blahri", "link": "https://stackoverflow.com/users/3718059/blahri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "closed_date": 1536665657, "answer_count": 0, "score": 0, "last_activity_date": 1540490397, "creation_date": 1536665440, "last_edit_date": 1540490397, "question_id": 52274892, "link": "https://stackoverflow.com/questions/52274892/using-regex-substitution-in-multi-line-string-in-kotlin-doesnt-work", "closed_reason": "Duplicate", "title": "using regex substitution in multi-line string in Kotlin doesn&#39;t work", "body": "<p>I have string on few hundred lines. On some lines, I want use regex to find lines I need and insert tab at the beginning.\nWhen I'm trying simple string like</p>\n\n<pre><code>var answer = \"-1 000,00\"\nprintln(answer)\nanswer = \"\"\"^-?\\d*\\s?\\d*,\\d{2}$\"\"\".toRegex().replace(answer, \"\\t$0\")\nprintln(answer)\n</code></pre>\n\n<p>It just works like charm, but if I put \\n into string before the number like this</p>\n\n<pre><code>var answer = \"\\n-1 000,00\"\nprintln(answer)\nanswer = \"\"\"^-?\\d*\\s?\\d*,\\d{2}$\"\"\".toRegex().replace(answer, \"\\t$0\")\nprintln(answer)\n</code></pre>\n\n<p>it will just stop working. And I cannot figure it out.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1536665036, "post_id": 52274453, "comment_id": 91496853, "body": "what do you mean by &quot;doesn&#39;t like the anonymous type&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1536664769, "creation_date": 1536664769, "answer_id": 52274706, "question_id": 52274453, "link": "https://stackoverflow.com/questions/52274453/kotlin-type-safe-builders/52274706#52274706", "title": "Kotlin type-safe builders", "body": "<p>You can basically accept a <code>() -&gt; Unit</code> function in <code>insteadOf</code> and wrap it into a <code>Do</code> instance in the body:</p>\n\n<pre><code>fun insteadOf(foo: String, bar: String, call: () -&gt; Unit) { \n    val doInstance = World.InsteadOf.Do(call)\n    /* use doInstance */\n}\n</code></pre>\n\n<p>The usages will stay the same as in your first example.</p>\n\n<p>Alternatively, provide the <code>Do</code> interface with a factory function that accepts <code>() -&gt; Unit</code> and returns a <code>Do</code> instance.</p>\n"}, {"tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1536693184, "last_edit_date": 1536693184, "creation_date": 1536691730, "answer_id": 52282438, "question_id": 52274453, "link": "https://stackoverflow.com/questions/52274453/kotlin-type-safe-builders/52282438#52282438", "title": "Kotlin type-safe builders", "body": "<p>It's not completely clear what's wrong with your code.\nBut if you are missing a no-args constructor there are two ways:</p>\n\n<ol>\n<li>Obviously add it</li>\n<li>use <code>no-arg</code> <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">compiler plugin</a> to specify class that need extra constructor\n<code>org.jetbrains.kotlin:kotlin-noarg</code></li>\n</ol>\n\n<p>A lot of serialisation-related libs force user to have no-arg constructor.'\nThere is a related <a href=\"https://github.com/EsotericSoftware/kryo/issues/5\" rel=\"nofollow noreferrer\">issue</a> in kryo github.</p>\n\n<p>In case your problem is not related to <code>no-arg</code> - your question will be a duplicate for <a href=\"https://stackoverflow.com/questions/33590646/kotlin-use-a-lambda-in-place-of-a-functional-interface\">this</a></p>\n"}, {"tags": [], "owner": {"reputation": 783, "user_id": 4672864, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8b39e83fd6dbd1932b93f29f31cd1c60?s=128&d=identicon&r=PG&f=1", "display_name": "user38725", "link": "https://stackoverflow.com/users/4672864/user38725"}, "is_accepted": false, "score": 0, "last_activity_date": 1537256874, "creation_date": 1537256874, "answer_id": 52381487, "question_id": 52274453, "link": "https://stackoverflow.com/questions/52274453/kotlin-type-safe-builders/52381487#52381487", "title": "Kotlin type-safe builders", "body": "<p>Well, I simply ended up switching to core Java serialization and the problem went away.</p>\n"}], "owner": {"reputation": 783, "user_id": 4672864, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/8b39e83fd6dbd1932b93f29f31cd1c60?s=128&d=identicon&r=PG&f=1", "display_name": "user38725", "link": "https://stackoverflow.com/users/4672864/user38725"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1537256874, "creation_date": 1536663862, "last_edit_date": 1536666645, "question_id": 52274453, "link": "https://stackoverflow.com/questions/52274453/kotlin-type-safe-builders", "title": "Kotlin type-safe builders", "body": "<p>I use the Kotlin \"type-safe builder\" pattern in my code:</p>\n\n<pre><code>insteadOf(\"search\", \"forest|ground\") {\n    println(\"Do something.\");\n}\n</code></pre>\n\n<p>However, I am also using Kryo to serialize data (save a game), and Kryo doesn't like the anonymous type:</p>\n\n<pre><code>call: () -&gt; Unit\n</code></pre>\n\n<p>So I had to introduce a \"Do\"-interface instead of the above type. But now my code looks a lot uglier:</p>\n\n<pre><code>insteadOf(\"search\", \"forest|ground\", object : World.InsteadOf.Do {\n     override fun invoke() {\n          println(\"Do something\")\n     }\n})\n</code></pre>\n\n<p>How can I use the simple { } - syntax with the Do-interface?</p>\n\n<h2><strong>EDIT:</strong></h2>\n\n<p>Here's some clarification.</p>\n\n<p>I'm kind of confused (not news).</p>\n\n<p>The actual Kryo error message seems to be about no-args constructor, however instantly after that it says: \"This is an anonymous class, which is not serializable by default in Kryo.\".</p>\n\n<p>Here is the full error message:</p>\n\n<pre><code>Exception in thread \"main\" com.esotericsoftware.kryo.KryoException: Class cannot be created (missing no-arg constructor): fi.starstuff.rogue.World$insteadOf$1\n    This is an anonymous class, which is not serializable by default in Kryo. Possible solutions: 1. Remove uses of anonymous classes, including double brace initialization, from the containing class. This is the safest solution, as anonymous classes don't have predictable names for serialization.\n    2. Register a FieldSerializer for the containing class and call FieldSerializer#setIgnoreSyntheticFields(false) on it. This is not safe but may be sufficient temporarily. Use at your own risk.\nSerialization trace:\ncall (com.mygame.World$InsteadOf)\ninsteadOfs (com.mygame.World)\n    at com.esotericsoftware.kryo.Kryo$DefaultInstantiatorStrategy.newInstantiatorOf(Kryo.java:1319)\n    at com.esotericsoftware.kryo.Kryo.newInstantiator(Kryo.java:1127)\n    at com.esotericsoftware.kryo.Kryo.newInstance(Kryo.java:1136)\n</code></pre>\n\n<p>Here's the InsteadOf-class:</p>\n\n<pre><code>class InsteadOf {\n        var verbs: Array&lt;String&gt; = arrayOf()\n        var nouns: Array&lt;String&gt; = arrayOf()\n        var where: String = \"\"\n        var call: (() -&gt; Unit)? = null\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "database-migration", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 9309845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6994e34b9ba7a22ebc05b57eada7702c?s=128&d=identicon&r=PG&f=1", "display_name": "OMIsie11", "link": "https://stackoverflow.com/users/9309845/omisie11"}, "edited": false, "score": 0, "creation_date": 1536682503, "post_id": 52275534, "comment_id": 91508372, "body": "oh, so that was the real problem, thank You for Your help :)"}], "tags": [], "owner": {"reputation": 868, "user_id": 6286539, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195207520519710/picture?type=large", "display_name": "Sujin Shrestha", "link": "https://stackoverflow.com/users/6286539/sujin-shrestha"}, "is_accepted": true, "score": 6, "last_activity_date": 1566810887, "last_edit_date": 1566810887, "creation_date": 1536667472, "answer_id": 52275534, "question_id": 52274366, "link": "https://stackoverflow.com/questions/52274366/android-room-migration-didnt-properly-handle-wrong-columns-order/52275534#52275534", "title": "Android Room migration didn&#39;t properly handle (wrong columns order)", "body": "<p>Expected:</p>\n\n<pre><code>coffees_volume=Column{name='coffees_volume', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}\n</code></pre>\n\n<p>Found:</p>\n\n<pre><code>coffees_volume=Column{name='coffees_volume', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=0}\n</code></pre>\n\n<p>The problem is in your <code>notNull</code> attribute.\nReplace your model with following code:</p>\n\n<pre><code>@Entity(tableName = \"coffee_productivity\", indices = [Index(value = \"date\", unique = true)])\ndata class CoffeeProductivityData(\n@PrimaryKey(autoGenerate = true) var id: Long?,\n@ColumnInfo(name = \"date\") var date: String,\n@ColumnInfo(name = \"productivity\") var productivity: Int,\n@ColumnInfo(name = \"number_of_coffees\") var numberOfCoffees: Int,\n@ColumnInfo(name = \"coffees_volume\") var coffeesVolume: Int? = 0)\n{\n   constructor() : this(null, \"00/00/0000\", 0, 0, 0)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 8856614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJonR.jpg?s=128&g=1", "display_name": "Francis", "link": "https://stackoverflow.com/users/8856614/francis"}, "is_accepted": false, "score": 0, "last_activity_date": 1566810905, "last_edit_date": 1566810905, "creation_date": 1552151535, "answer_id": 55079900, "question_id": 52274366, "link": "https://stackoverflow.com/questions/52274366/android-room-migration-didnt-properly-handle-wrong-columns-order/55079900#55079900", "title": "Android Room migration didn&#39;t properly handle (wrong columns order)", "body": "<p>Please replace the query Like</p>\n\n<pre><code>ALTER TABLE 'coffee_productivity' ADD COLUMN 'coffees_volume' INTEGER NOT NULL DEFAULT 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11103191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb188190d3cc59749db03565624d82d1?s=128&d=identicon&r=PG&f=1", "display_name": "Levi Saturnino", "link": "https://stackoverflow.com/users/11103191/levi-saturnino"}, "is_accepted": false, "score": 0, "last_activity_date": 1589507585, "creation_date": 1589507585, "answer_id": 61810414, "question_id": 52274366, "link": "https://stackoverflow.com/questions/52274366/android-room-migration-didnt-properly-handle-wrong-columns-order/61810414#61810414", "title": "Android Room migration didn&#39;t properly handle (wrong columns order)", "body": "<p>What happens is that you changed your table by adding fields or by removing or changing the name and time of doing the migration gave this problem, without putting the changes in the table. But he hopes that his table was in the right expectation, so he found different what he expected, I decided like this:</p>\n\n<pre><code>val MIGRATION_2_3 = object: Migration (2, 3) {\n    override fun migrate (database: SupportSQLiteDatabase) {\n        database.execSQL (\"\" \"\n                CREATE TABLE new_Song (\n                    id INTEGER PRIMARY KEY NOT NULL,\n                    name TEXT,\n                    TEXT NOT NULL DEFAULT tag ''\n                )\n                \"\" \".trimIndent ())\n        database.execSQL (\"\" \"\n                INSERT INTO new_Song (id, name, tag)\n                SELECT id, name, tag FROM Song\n                \"\" \".trimIndent ())\n        database.execSQL (\"DROP TABLE Song\")\n        database.execSQL (\"ALTER TABLE new_Song RENAME TO Song\")\n    }\n}\n</code></pre>\n\n<p>At the end of the page teaches the reason for the official website of Room: <a href=\"https://developer.android.com/training/data-storage/room/migrating-db-versions?hl=en#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/room/migrating-db-versions?hl=en#kotlin</a></p>\n"}], "owner": {"reputation": 329, "user_id": 9309845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6994e34b9ba7a22ebc05b57eada7702c?s=128&d=identicon&r=PG&f=1", "display_name": "OMIsie11", "link": "https://stackoverflow.com/users/9309845/omisie11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4440, "favorite_count": 3, "accepted_answer_id": 52275534, "answer_count": 3, "score": 6, "last_activity_date": 1589507585, "creation_date": 1536663568, "question_id": 52274366, "link": "https://stackoverflow.com/questions/52274366/android-room-migration-didnt-properly-handle-wrong-columns-order", "title": "Android Room migration didn&#39;t properly handle (wrong columns order)", "body": "<p>I am making a migration using Room database. I am getting this error:</p>\n\n<pre><code>java.lang.IllegalStateException: Migration didn't properly handle coffee_productivity(io.github.omisie11.coffeeproductivitytracker.database.entity.CoffeeProductivityData).\n Expected:\nTableInfo{name='coffee_productivity', columns={date=Column{name='date', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}, id=Column{name='id', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=1}, productivity=Column{name='productivity', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, coffees_volume=Column{name='coffees_volume', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, number_of_coffees=Column{name='number_of_coffees', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}}, foreignKeys=[], indices=[Index{name='index_coffee_productivity_date', unique=true, columns=[date]}]}\n Found:\nTableInfo{name='coffee_productivity', columns={date=Column{name='date', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}, productivity=Column{name='productivity', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, coffees_volume=Column{name='coffees_volume', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=0}, number_of_coffees=Column{name='number_of_coffees', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, id=Column{name='id', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=1}}, foreignKeys=[], indices=[Index{name='index_coffee_productivity_date', unique=true, columns=[date]}]}\n</code></pre>\n\n<p>It looks like order of columns changed, but the only thing I did was to add a new column.\nEntity:</p>\n\n<pre><code>@Entity(tableName = \"coffee_productivity\", indices = [Index(value = \"date\", unique = true)])\ndata class CoffeeProductivityData(\n@PrimaryKey(autoGenerate = true) var id: Long?,\n@ColumnInfo(name = \"date\") var date: String,\n@ColumnInfo(name = \"productivity\") var productivity: Int,\n@ColumnInfo(name = \"number_of_coffees\") var numberOfCoffees: Int,\n@ColumnInfo(name = \"coffees_volume\") var coffeesVolume: Int)\n{\nconstructor() : this(null, \"00/00/0000\", 0, 0, 0)\n}\n</code></pre>\n\n<p>Database class:</p>\n\n<pre><code>@Database(entities = [CoffeeProductivityData::class], version = 2)\nabstract class CoffeeProductivityDatabase : RoomDatabase() {\n\n    abstract fun coffeeProductivityDao(): CoffeeProductivityDao\n\n    companion object {\n        private var dbInstance: CoffeeProductivityDatabase? = null\n\n        private val MIGRATION_1_2: Migration = object : Migration(1, 2) {\n            override fun migrate(database: SupportSQLiteDatabase) {\n                database.execSQL(\"ALTER TABLE 'coffee_productivity' ADD COLUMN 'coffees_volume' INTEGER DEFAULT 0\")\n            }\n        }\n\n        fun getDatabase(context: Context): CoffeeProductivityDatabase? {\n            if (dbInstance == null) {\n\n                dbInstance = Room.databaseBuilder&lt;CoffeeProductivityDatabase&gt;(\n                        context.applicationContext,\n                        CoffeeProductivityDatabase::class.java,\"coffee_productivity.db\")\n                        .addMigrations(MIGRATION_1_2)\n                        .build()\n            }\n            return dbInstance\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "user-interface", "kotlin"], "comments": [{"owner": {"reputation": 542, "user_id": 7444867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a795957242be9ff22ba2768bc5342bb?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Verma", "link": "https://stackoverflow.com/users/7444867/prashanth-verma"}, "edited": false, "score": 2, "creation_date": 1536662264, "post_id": 52273934, "comment_id": 91495258, "body": "can you show the xml code?"}, {"owner": {"reputation": 251, "user_id": 9273860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVHC4.jpg?s=128&g=1", "display_name": "The Mir", "link": "https://stackoverflow.com/users/9273860/the-mir"}, "reply_to_user": {"reputation": 542, "user_id": 7444867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a795957242be9ff22ba2768bc5342bb?s=128&d=identicon&r=PG&f=1", "display_name": "Prashanth Verma", "link": "https://stackoverflow.com/users/7444867/prashanth-verma"}, "edited": false, "score": 0, "creation_date": 1536662871, "post_id": 52273934, "comment_id": 91495595, "body": "Sure!  image added"}], "answers": [{"tags": [], "owner": {"reputation": 339, "user_id": 4238310, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh3.googleusercontent.com/-KqyE-yoSOV8/AAAAAAAAAAI/AAAAAAAAACE/H3E-AT02p-k/photo.jpg?sz=128", "display_name": "Rishab Jaiswal", "link": "https://stackoverflow.com/users/4238310/rishab-jaiswal"}, "is_accepted": false, "score": -2, "last_activity_date": 1536662369, "creation_date": 1536662369, "answer_id": 52274057, "question_id": 52273934, "link": "https://stackoverflow.com/questions/52273934/coordinator-layout-error-in-android-app-development/52274057#52274057", "title": "Coordinator Layout Error in android app development", "body": "<p>You can try to rebuild your project from Build > Rebuild project option</p>\n"}, {"tags": [], "owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "is_accepted": false, "score": 1, "last_activity_date": 1536738507, "last_edit_date": 1536738507, "creation_date": 1536663016, "answer_id": 52274236, "question_id": 52273934, "link": "https://stackoverflow.com/questions/52273934/coordinator-layout-error-in-android-app-development/52274236#52274236", "title": "Coordinator Layout Error in android app development", "body": "<p>Replace the <code>rc</code> stuff for these:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:27.1.1'\nimplementation 'com.android.support:design:27.1.1'\n</code></pre>\n\n<p>And then <code>Build &gt; Clean code / Rebuild project</code></p>\n"}, {"comments": [{"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 0, "creation_date": 1536663780, "post_id": 52274264, "comment_id": 91496081, "body": "Just to be clear enough: <b><code>rc02</code></b> is the <b>Release Candidate</b> and it means it&#39;s still in development. That&#39;s what RC means:."}], "tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": true, "score": 0, "last_activity_date": 1536663427, "last_edit_date": 1536663427, "creation_date": 1536663111, "answer_id": 52274264, "question_id": 52273934, "link": "https://stackoverflow.com/questions/52273934/coordinator-layout-error-in-android-app-development/52274264#52274264", "title": "Coordinator Layout Error in android app development", "body": "<p>Android Support Library v<code>28.0.0-rc02</code> has this issue-bug which it has been discussed for too many times in here. Anyways, </p>\n\n<p>To fix this, you'll need to use older Support libaries like <code>27.1.1</code> or this bypass which should be added in <code>/app &gt; Build.gradle</code> :</p>\n\n<pre><code>configurations.all {\n        resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n            def requested = details.requested\n            if (requested.group == \"com.android.support\") {\n                if (!requested.name.startsWith(\"multidex\")) {\n                    details.useVersion \"27.+\"\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Or, you can download the <strong>Canary version</strong> of Android Studio in canary channel to fix this issue.</p>\n"}], "owner": {"reputation": 251, "user_id": 9273860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVHC4.jpg?s=128&g=1", "display_name": "The Mir", "link": "https://stackoverflow.com/users/9273860/the-mir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 52274264, "answer_count": 3, "score": -1, "last_activity_date": 1536738507, "creation_date": 1536661895, "last_edit_date": 1536663305, "question_id": 52273934, "link": "https://stackoverflow.com/questions/52273934/coordinator-layout-error-in-android-app-development", "title": "Coordinator Layout Error in android app development", "body": "<p>I'm pretty new in Android app development.\nI started with Kotlin and after configuring SDK I started a project but I don't have any idea what the problem is. \nI expected to see <code>Base theme</code> that has \"Hello World!\" <code>TextView</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Zk6Vj.png\" alt=\"Image\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/yDQXI.png\" alt=\"XML code\"></p>\n\n<p>How can I solve this problem/Error? </p>\n\n<h2>App Gradle</h2>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.example.dell.myapplication\"\n        minSdkVersion 17\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0-rc02'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:design:28.0.0-rc02'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso- \n    core:3.0.2'\n}\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "nullpointerexception", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1536665218, "post_id": 52274191, "comment_id": 91496974, "body": "Why do I need to mock call  of method just to verify whether it is called or not? I am not performing any further operation for <code>updateUser()</code>. So, I guess it is not necessary to mock the <code>updateUser()</code> Call"}, {"owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "reply_to_user": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1536665878, "post_id": 52274191, "comment_id": 91497402, "body": "Your presenter calls onCompleteCallClicked, this calls showOnCompleteCallSuccess which then calls updateUser. updateUser by default is null as it isn&#39;t mocked.  If you&#39;re happy for a NullPointerException to be thrown in your test, i.e. you don&#39;t want to provide a value for updateUser you can use tell the test to expect an exception by using the expected parameter: @Test(expected = NullPointerException.class)"}, {"owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1536667557, "post_id": 52274191, "comment_id": 91498505, "body": "Adding <code>@Test(expected = NullPointerException.class)</code> throws same error as above."}, {"owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "reply_to_user": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1536672768, "post_id": 52274191, "comment_id": 91502079, "body": "If the NullPointerException isn&#39;t failing the test then you probably don&#39;t need to do anything, adding expected will tell the test to pass if the exception is thrown, it won&#39;t stop the exception from occurring in your presenter. The only way you can stop the NullPointerException in the test is to mock the updateUser method."}, {"owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1536726576, "post_id": 52274191, "comment_id": 91522770, "body": "Ok Thanks. But I guess this is the issue with <code>Mockito-Kotlin</code>. I have posted the issue on Library too."}], "tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": false, "score": 2, "last_activity_date": 1536662842, "creation_date": 1536662842, "answer_id": 52274191, "question_id": 52273867, "link": "https://stackoverflow.com/questions/52273867/mockito-kotlin-unit-testing-method-called-verification-throws-null-pointer-excep/52274191#52274191", "title": "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception", "body": "<p>You're not mocking the updateUser call.</p>\n\n<p>You need to add something like the following into your test setup, depending on what updateUser is expected to return.</p>\n\n<pre><code>whenever(repository.updateUser(-1)).thenReturn(Completable.complete())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4823, "user_id": 2247689, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/1ab5b2ba288d42e9c28d691f3d722faa?s=128&d=identicon&r=PG", "display_name": "Rakeeb Rajbhandari", "link": "https://stackoverflow.com/users/2247689/rakeeb-rajbhandari"}, "is_accepted": false, "score": 0, "last_activity_date": 1537398690, "creation_date": 1537398690, "answer_id": 52415345, "question_id": 52273867, "link": "https://stackoverflow.com/questions/52273867/mockito-kotlin-unit-testing-method-called-verification-throws-null-pointer-excep/52415345#52415345", "title": "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception", "body": "<p>Since you're mocking <code>OrderSummaryRepository</code> you'll have to mock out every method call that the consuming class i.e. in this case the <code>NotesDialogPagePresenter</code> calls on. So as Chris pointed out, you'll have to add a mock for <code>updateUser()</code></p>\n\n<p><code>repository.updateUser(anyInt()) doReturn any()</code></p>\n"}, {"comments": [{"owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1547119925, "post_id": 54097994, "comment_id": 95086747, "body": "So you basically want to say, I need to implement the Interface on the <code>presenter</code> and call the same <code>method</code> inside <code>presenter</code> itself i.e <code>INotesDialogPagePresenter</code>"}, {"owner": {"reputation": 11, "user_id": 10885887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rREhUHzCPis/AAAAAAAAAAI/AAAAAAAAF9Y/4paDtkK8Xsk/photo.jpg?sz=128", "display_name": "Shasindran Poonudurai", "link": "https://stackoverflow.com/users/10885887/shasindran-poonudurai"}, "reply_to_user": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "edited": false, "score": 0, "creation_date": 1547260012, "post_id": 54097994, "comment_id": 95143307, "body": "That\u2019s right. This way you can actually verify whether updateuser being invoked. The other solution here suggest to mock the response of updateuser when it is invoked, which is required to pass the test. But you can\u2019t actually verify if the method being invoked."}], "tags": [], "owner": {"reputation": 11, "user_id": 10885887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rREhUHzCPis/AAAAAAAAAAI/AAAAAAAAF9Y/4paDtkK8Xsk/photo.jpg?sz=128", "display_name": "Shasindran Poonudurai", "link": "https://stackoverflow.com/users/10885887/shasindran-poonudurai"}, "is_accepted": false, "score": 1, "last_activity_date": 1546973754, "creation_date": 1546973754, "answer_id": 54097994, "question_id": 52273867, "link": "https://stackoverflow.com/questions/52273867/mockito-kotlin-unit-testing-method-called-verification-throws-null-pointer-excep/54097994#54097994", "title": "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception", "body": "<p>If you don't want to mock the output for the <code>updateUser()</code> you may implement a presenter interface class and verify if the presenterinterface function is invoked.</p>\n\n<p>Step 1: Add a presenter interface class</p>\n\n<pre><code>interface INotesDialogPagePresenter {\n   fun updateUser()\n}\n</code></pre>\n\n<p>Step 2: Implement the interface class to your presenter</p>\n\n<pre><code>class NotesDialogPagePresenter @Inject constructor(var view:NotesDialogPageContract.View,var repository: OrderSummaryRepository)\n: NotesDialogPageContract.Presenter,INotesDialogPagePresenter {\n\nprivate var disposable: Disposable? = null\nvar implNotesDialogPagePresenter :INotesDialogPagePresenter = this\n\noverride fun start() {\n}\n\noverride fun onCompleteCallClicked(notes: String, remarks: String) {\n\n    disposable = repository.updateOrderAfterCompleteCall(notes, remarks)\n            .subscribe({\n                view.showOnCompleteCallSuccess()\n                implNotesDialogPagePresenter.updateUser() \n            }, {\n                view.showError(it)\n            })\n}\n\noverride fun updateUser() {\n    disposable = repository.updateUser(-1)\n            .subscribe({\n                //NO-OP\n            }, {\n                //NO-OP\n            })\n}\n\noverride fun stop() {\n    disposable?.dispose()\n}\n</code></pre>\n\n<p>Step 3: Update your test class (using mockito-kotlin)</p>\n\n<pre><code>class NotesDialogPagePresenterTest {\n\nval view:NotesDialogPageContract.View= mock()\nval repository:OrderSummaryRepository= mock()\nval context:Context= mock()\nval implNotesDialogPagePresenter :INotesDialogPagePresenter = mock()\n\nprivate lateinit var presenter: NotesDialogPagePresenter\nprivate val notes = \"abcd\"\nprivate val remarks = \"xyz\"\n\n\n@Before\nfun setup() {\n    whenever(view.getContext()).thenReturn(context)\n    this.presenter = NotesDialogPagePresenter(view, repository)\n    presenter.implNotesDialogPagePresenter = implNotesDialogPagePresenter \n}\n\n@Test\nfun onCompleteCallClicked_successTest() {\n\n    whenever(repository.updateOrderAfterCompleteCall(notes, remarks)).thenReturn(Completable.complete())\n\n    val spyPresenter = Mockito.spy(presenter)\n    spyPresenter.onCompleteCallClicked(notes, remarks)\n\n    verify(view, times(1)).showOnCompleteCallSuccess()\n    verify(implNotesDialogPagePresenter , times(1)).updateUser()\n}\n</code></pre>\n\n<p>This way, you don't actually running the updateUser(), instead you'll just verify if the mocked interface object's fun being invoked. This prevents null pointer and incerease your test coverage.</p>\n"}, {"tags": [], "owner": {"reputation": 1429, "user_id": 4637456, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/12d7f375235504f8fe3ab6795c154c4e?s=128&d=identicon&r=PG", "display_name": "Thami Bouchnafa", "link": "https://stackoverflow.com/users/4637456/thami-bouchnafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1596092801, "creation_date": 1596092801, "answer_id": 63167901, "question_id": 52273867, "link": "https://stackoverflow.com/questions/52273867/mockito-kotlin-unit-testing-method-called-verification-throws-null-pointer-excep/63167901#63167901", "title": "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception", "body": "<p>I had a similar issue and it turned out that methods that are to be mocked should be marked as <code>open</code></p>\n<p>Here is an example of code that will work:</p>\n<pre><code>class ToBeMocked {\n    open fun myName() = &quot;ToBeMocked&quot;\n}\n\nclass MyClass(val it: ToBeMocked)  {\n   fun myName() = it.myName()\n}\n\nclass MyClassTest {\n    val myMock: ToBeMocked = mock()\n    \n    val sut = MyClass(myMock)\n\n    @Test\n    fun test() {\n        whenever(myMock.myName()).thenReturn(&quot;Test&quot;)\n        assertThat(sut.myName()).equalsTo(&quot;Test&quot;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 448, "user_id": 6007359, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CvkHP.jpg?s=128&g=1", "display_name": "Nabin Khatiwada", "link": "https://stackoverflow.com/users/6007359/nabin-khatiwada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3413, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1596092801, "creation_date": 1536661703, "question_id": 52273867, "link": "https://stackoverflow.com/questions/52273867/mockito-kotlin-unit-testing-method-called-verification-throws-null-pointer-excep", "title": "Mockito Kotlin Unit Testing Method called verification throws Null Pointer Exception", "body": "<p>I am getting <code>Null Pointer Exception</code> whenever I try to verify method is called or not. </p>\n\n<pre><code>class NotesDialogPagePresenterTest {\n\n@Mock\nprivate lateinit var repository: OrderSummaryRepository\n@Mock\nprivate lateinit var view: NotesDialogPageContract.View\n@Mock\nprivate lateinit var context: Context\n\nprivate lateinit var presenter: NotesDialogPagePresenter\nprivate val notes = \"abcd\"\nprivate val remarks = \"xyz\"\n\n\n@Before\nfun setup() {\n    MockitoAnnotations.initMocks(this)\n    whenever(view.getContext()).thenReturn(context)\n    this.presenter = NotesDialogPagePresenter(view, repository)\n}\n\n@Test\nfun onCompleteCallClicked_successTest() {\n\n    whenever(repository.updateOrderAfterCompleteCall(notes, remarks)).thenReturn(Completable.complete())\n\n    val spyPresenter = Mockito.spy(presenter)\n    spyPresenter.onCompleteCallClicked(notes, remarks)\n\n    verify(view, times(1)).showOnCompleteCallSuccess()\n    verify(spyPresenter, times(1)).updateUser()//Null Pointer Exception Here\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Presenter Class</p>\n\n<pre><code> class NotesDialogPagePresenter @Inject constructor(var view: NotesDialogPageContract.View,\n                                               var repository: OrderSummaryRepository)\n: NotesDialogPageContract.Presenter {\n\nprivate var disposable: Disposable? = null\n\noverride fun start() {\n}\n\noverride fun onCompleteCallClicked(notes: String, remarks: String) {\n\n    disposable = repository.updateOrderAfterCompleteCall(notes, remarks)\n            .subscribe({\n                view.showOnCompleteCallSuccess()\n                updateUser() \n            }, {\n                view.showError(it)\n            })\n}\n\n@VisibleForTesting\ninternal fun updateUser() {\n    disposable = repository.updateUser(-1)\n            .subscribe({\n                //NO-OP\n            }, {\n                //NO-OP\n            })\n}\n\noverride fun stop() {\n    disposable?.dispose()\n}\n</code></pre>\n\n<p>}</p>\n\n<p>These two methods need to be verified and updateUser() throws Null \n   Pointer Exception</p>\n\n<p><code>view.showOnCompleteCallSuccess()\n updateUser()\n</code></p>\n\n<p>Logcat:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.updateUser$app_pgDebug(NotesDialogPagePresenter.kt:30)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter$onCompleteCallClicked$1.run(NotesDialogPagePresenter.kt:22)\n    at io.reactivex.internal.observers.CallbackCompletableObserver.onComplete(CallbackCompletableObserver.java:54)\n    at io.reactivex.internal.disposables.EmptyDisposable.complete(EmptyDisposable.java:68)\n    at io.reactivex.internal.operators.completable.CompletableEmpty.subscribeActual(CompletableEmpty.java:27)\n    at io.reactivex.Completable.subscribe(Completable.java:1794)\n    at io.reactivex.Completable.subscribe(Completable.java:1860)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.onCompleteCallClicked(NotesDialogPagePresenter.kt:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.onCompleteCallClicked(NotesDialogPagePresenter.kt:19)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenterTest.onCompleteCallClicked_successTest(NotesDialogPagePresenterTest.kt:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nException in thread \"main\" java.lang.NullPointerException\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.updateUser$app_pgDebug(NotesDialogPagePresenter.kt:30)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter$onCompleteCallClicked$1.run(NotesDialogPagePresenter.kt:22)\n    at io.reactivex.internal.observers.CallbackCompletableObserver.onComplete(CallbackCompletableObserver.java:54)\n    at io.reactivex.internal.disposables.EmptyDisposable.complete(EmptyDisposable.java:68)\n    at io.reactivex.internal.operators.completable.CompletableEmpty.subscribeActual(CompletableEmpty.java:27)\n    at io.reactivex.Completable.subscribe(Completable.java:1794)\n    at io.reactivex.Completable.subscribe(Completable.java:1860)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.onCompleteCallClicked(NotesDialogPagePresenter.kt:20)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenter.onCompleteCallClicked(NotesDialogPagePresenter.kt:19)\n    at com.rosia.bcp.ordersummary.notes.NotesDialogPagePresenterTest.onCompleteCallClicked_successTest(NotesDialogPagePresenterTest.kt:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n\n<p>FYI: I am using following Dependencies:</p>\n\n<pre><code>testImplementation 'org.mockito:mockito-core:2.19.0'\ntestImplementation 'com.squareup.retrofit2:retrofit-mock:2.3.0'\ntestImplementation 'org.mockito:mockito-inline:2.8.9'\ntestImplementation 'com.nhaarman:mockito-kotlin-kt1.1:1.6.0'\ntestImplementation 'junit:junit:4.12'\n</code></pre>\n"}, {"tags": ["android", "view", "kotlin"], "comments": [{"owner": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "edited": false, "score": 1, "creation_date": 1536661750, "post_id": 52273698, "comment_id": 91494962, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3591784/views-getwidth-and-getheight-returns-0\">View&#39;s getWidth() and getHeight() returns 0</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3174, "user_id": 4858147, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-WvQqad2FrJE/AAAAAAAAAAI/AAAAAAAAAeM/8CaDjrq8nHw/photo.jpg?sz=128", "display_name": "svkaka", "link": "https://stackoverflow.com/users/4858147/svkaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1536661736, "creation_date": 1536661736, "answer_id": 52273881, "question_id": 52273698, "link": "https://stackoverflow.com/questions/52273698/get-popupwindow-height-which-has-been-set-to-wrap-content/52273881#52273881", "title": "Get PopupWindow height which has been set to WRAP_CONTENT", "body": "<p>This is a very common problem, your view isn't on the screen when you are trying to get its height</p>\n\n<p>try this.</p>\n\n<pre><code>val inflater = LayoutInflater.from(this)\nval popupView = inflater.inflate(R.layout.small_player, null)\nval popupWindow = PopupWindow(popupView, ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT/*, focusable*/)\npopupWindow.elevation = 1.0f\npopupWindow.showAtLocation(window.decorView, Gravity.CENTER, 0, window.decorView.height)\n\npopupView.post{\n    val height = popupWindow.contentView.height \n}\n</code></pre>\n\n<p>also check this for more <a href=\"https://stackoverflow.com/questions/3591784/views-getwidth-and-getheight-returns-0\">View&#39;s getWidth() and getHeight() returns 0</a> </p>\n"}, {"tags": [], "owner": {"reputation": 775, "user_id": 1380466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d6e99e59182d5d533623a0295118fe1f?s=128&d=identicon&r=PG&f=1", "display_name": "Basil", "link": "https://stackoverflow.com/users/1380466/basil"}, "is_accepted": false, "score": 0, "last_activity_date": 1536661773, "creation_date": 1536661773, "answer_id": 52273890, "question_id": 52273698, "link": "https://stackoverflow.com/questions/52273698/get-popupwindow-height-which-has-been-set-to-wrap-content/52273890#52273890", "title": "Get PopupWindow height which has been set to WRAP_CONTENT", "body": "<p>You can use <code>View.getMeasuredHeight()</code> which gives you the actual height of the view.</p>\n\n<p>The values you're getting now are the numerical representations used for MATCH_PARENT and WRAP_CONTENT</p>\n"}], "owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 52273881, "answer_count": 2, "score": 0, "last_activity_date": 1536661773, "creation_date": 1536661142, "question_id": 52273698, "link": "https://stackoverflow.com/questions/52273698/get-popupwindow-height-which-has-been-set-to-wrap-content", "title": "Get PopupWindow height which has been set to WRAP_CONTENT", "body": "<p>Here's my code:</p>\n\n<pre><code>val inflater = LayoutInflater.from(this)\nval popupView = inflater.inflate(R.layout.small_player, null)\nval popupWindow = PopupWindow(popupView, ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT/*, focusable*/)\npopupWindow.elevation = 1.0f\npopupWindow.showAtLocation(window.decorView, Gravity.CENTER, 0, window.decorView.height)\nval height = popupWindow.contentView.height //returns 0\n</code></pre>\n\n<p>I also tried with <code>popupView.height</code> but it returns 0 and with <code>popupWindow.contentView.layoutParams.height</code> that returned -1</p>\n\n<p>So how can I get this height?</p>\n"}, {"tags": ["android", "api", "android-studio", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 7705182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730f6900027c051ba888247b26c1ad6d?s=128&d=identicon&r=PG&f=1", "display_name": "codeMan", "link": "https://stackoverflow.com/users/7705182/codeman"}, "is_accepted": true, "score": 1, "last_activity_date": 1536656899, "creation_date": 1536656899, "answer_id": 52272458, "question_id": 52272314, "link": "https://stackoverflow.com/questions/52272314/parameter-specified-as-non-null-is-null-exception-using-gson-on-web-api-return/52272458#52272458", "title": "Parameter specified as non-null is null exception, using gson on web api return null", "body": "<p>Is your event variable of the MatchResponse class nullable? Something like:</p>\n\n<pre><code>val event: Event?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "is_accepted": false, "score": 0, "last_activity_date": 1536656957, "creation_date": 1536656957, "answer_id": 52272488, "question_id": 52272314, "link": "https://stackoverflow.com/questions/52272314/parameter-specified-as-non-null-is-null-exception-using-gson-on-web-api-return/52272488#52272488", "title": "Parameter specified as non-null is null exception, using gson on web api return null", "body": "<p>You can make that particular object <code>nullable</code> using <code>?</code> in <code>kotlin</code></p>\n\n<pre><code>data class Article(\n     val title: String, \n     val body: String, \n     val events: Events? = null, //Make it nullable\n     val payWall: Boolean = false, \n     val titleImage: String? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8073177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JtNFoDHyEOM/AAAAAAAAAAI/AAAAAAAAAK4/Ivb1awSwGA0/photo.jpg?sz=128", "display_name": "Iwan", "link": "https://stackoverflow.com/users/8073177/iwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 52272458, "answer_count": 2, "score": 0, "last_activity_date": 1536658238, "creation_date": 1536656366, "last_edit_date": 1536658238, "question_id": 52272314, "link": "https://stackoverflow.com/questions/52272314/parameter-specified-as-non-null-is-null-exception-using-gson-on-web-api-return", "title": "Parameter specified as non-null is null exception, using gson on web api return null", "body": "<p>How to prevent gson from recieving null object from web api</p>\n\n<p>when Web api return null</p>\n\n<blockquote>\n  <p>{ \"events\": null }</p>\n</blockquote>\n\n<p>it will become this exception</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter data\n</code></pre>\n\n<p>Gson usage</p>\n\n<pre><code>val data = gson.fromJson(apiRepository\n                .doRequest(TheSportDBApi.getLatestMatch(league)),\n                MatchResponse::class.java)\n</code></pre>\n\n<p>My data class</p>\n\n<pre><code>data class MatchResponse (val events: List&lt;Match&gt;)\n</code></pre>\n\n<p>Match.class</p>\n\n<pre><code>data class Match(\n    @SerializedName(\"idEvent\")\n    var eventId: String? = null,\n\n    @SerializedName(\"strDate\")\n    var matchDate: String? = null,\n\n\n    //home\n    @SerializedName(\"strHomeTeam\")\n    var homeTeam: String? = null,\n\n    @SerializedName(\"intHomeScore\")\n    var homeScore: String? = null,\n\n    var homeBadger:String?=null,\n\n\n    //away\n    @SerializedName(\"strAwayTeam\")\n    var awayTeam: String? = null,\n\n    @SerializedName(\"intAwayScore\")\n    var awayScore: String? = null,\n\n    var awayBadge: String? = null\n</code></pre>\n\n<p>)</p>\n"}, {"tags": ["kotlin", "koin"], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 2, "last_activity_date": 1536674748, "last_edit_date": 1536674748, "creation_date": 1536656969, "answer_id": 52272491, "question_id": 52272307, "link": "https://stackoverflow.com/questions/52272307/what-is-equivalent-daggers-named-in-koin/52272491#52272491", "title": "What is equivalent Dagger&#39;s @Named in Koin?", "body": "<p>See the <a href=\"https://insert-koin.io/docs/1.0/quick-references/koin-dsl/#implicit-naming--namespaces\" rel=\"nofollow noreferrer\">docs</a>. You can give a name to a definition</p>\n\n<pre><code>single(name=\"refresh\") { Retrofit.Builder().build() }\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>factory { ClassThatDependsOnRefresh(get(\"refresh\")) } \n</code></pre>\n\n<p>Just using single and factory as example here.</p>\n"}], "owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 52272491, "answer_count": 1, "score": 1, "last_activity_date": 1536674748, "creation_date": 1536656342, "question_id": 52272307, "link": "https://stackoverflow.com/questions/52272307/what-is-equivalent-daggers-named-in-koin", "title": "What is equivalent Dagger&#39;s @Named in Koin?", "body": "<p>I'm in the process to moving app from Dagger2 to Koin and need to convert below dagger's </p>\n\n<pre><code>@Provides\n@Singleton\n@Named(\"refresh\")\nfun provideRefreshRetrofit(@Named(\"refresh\") okHttpClient: OkHttpClient, gson: Gson): Retrofit {/*...not important...*/}\n</code></pre>\n\n<p>till now:</p>\n\n<pre><code>single&lt;Retrofit&gt; { /*....*/ }\n</code></pre>\n\n<p>but I need to have similar entry in same module. Is a way to convert/solve/workaround it?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "import", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1536653683, "post_id": 52271521, "comment_id": 91490202, "body": "<a href=\"https://github.com/gradle/kotlin-dsl/issues/377\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl/issues/377</a>"}, {"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1540676263, "post_id": 52271521, "comment_id": 92954713, "body": "did you convert your project to androidx? To me the issue happened after that."}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 10295364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vI02o3LyKSY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMJFEUgcS61sfqCSjED1y94TgbjOw/mo/photo.jpg?sz=128", "display_name": "Wurtzelzwerk", "link": "https://stackoverflow.com/users/10295364/wurtzelzwerk"}, "edited": false, "score": 0, "creation_date": 1536657315, "post_id": 52271551, "comment_id": 91492264, "body": "i add it to my file but its greyed out and its says &quot;Unused import directive&quot;"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 355, "user_id": 10295364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vI02o3LyKSY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMJFEUgcS61sfqCSjED1y94TgbjOw/mo/photo.jpg?sz=128", "display_name": "Wurtzelzwerk", "link": "https://stackoverflow.com/users/10295364/wurtzelzwerk"}, "edited": false, "score": 0, "creation_date": 1536657454, "post_id": 52271551, "comment_id": 91492351, "body": "Did you try running your app? unused simply mean, it is not used yet, it will be used when you use some id in your class."}, {"owner": {"reputation": 355, "user_id": 10295364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vI02o3LyKSY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMJFEUgcS61sfqCSjED1y94TgbjOw/mo/photo.jpg?sz=128", "display_name": "Wurtzelzwerk", "link": "https://stackoverflow.com/users/10295364/wurtzelzwerk"}, "edited": false, "score": 0, "creation_date": 1536658626, "post_id": 52271551, "comment_id": 91493105, "body": "that verry weird the import line Disappears when i try to add a id to my class"}, {"owner": {"reputation": 355, "user_id": 10295364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vI02o3LyKSY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMJFEUgcS61sfqCSjED1y94TgbjOw/mo/photo.jpg?sz=128", "display_name": "Wurtzelzwerk", "link": "https://stackoverflow.com/users/10295364/wurtzelzwerk"}, "edited": false, "score": 0, "creation_date": 1536659205, "post_id": 52271551, "comment_id": 91493456, "body": "Thank you so much, i dont know how but now its working"}, {"owner": {"reputation": 2593, "user_id": 2427819, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/746fda9758b63e8e0ea5d9590ee7b874?s=128&d=identicon&r=PG", "display_name": "El Jazouli", "link": "https://stackoverflow.com/users/2427819/el-jazouli"}, "edited": false, "score": 0, "creation_date": 1553529200, "post_id": 52271551, "comment_id": 97408351, "body": "Deleting .idea folder worked for me, I think it started happening because I switch branched and AS didn&#39;t know how to go from there"}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": true, "score": 41, "last_activity_date": 1541075286, "last_edit_date": 1541075286, "creation_date": 1536653673, "answer_id": 52271551, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/52271551#52271551", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Can you try </p>\n\n<ul>\n<li>File | Invalidate Caches / Restart </li>\n<li>Deleting .idea folder </li>\n<li>Clean </li>\n<li>Re-import the project</li>\n</ul>\n\n<p><strong>OR</strong> just remove <code>apply plugin: 'kotlin-android-extensions'</code> , sync gradle plugin and then I added it again.</p>\n"}, {"comments": [{"owner": {"reputation": 1576, "user_id": 7585388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9JERZH0Qt2Y/AAAAAAAAAAI/AAAAAAAAABk/Bt4PzATPweQ/photo.jpg?sz=128", "display_name": "Hari Shankar S", "link": "https://stackoverflow.com/users/7585388/hari-shankar-s"}, "edited": false, "score": 0, "creation_date": 1603520865, "post_id": 54360107, "comment_id": 114069115, "body": "The answer is worked for me (apply plugin: &#39;kotlin-android-extensions&#39;) &amp; after Invalidate Caches / Restart"}], "tags": [], "owner": {"reputation": 93, "user_id": 6514684, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205837628734820/picture?type=large", "display_name": "mark", "link": "https://stackoverflow.com/users/6514684/mark"}, "is_accepted": false, "score": 7, "last_activity_date": 1548398207, "creation_date": 1548398207, "answer_id": 54360107, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/54360107#54360107", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<pre><code>module gradle\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\ndependencies {\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n}\n\nproject gradle\n\nbuildscript{\next.kotlin_version = '1.3.11'\n}\n dependencies {\n  classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 13017576, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qXEd5pL-jWc/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nBVVTE0eWh38QFtj1ZWM4AEzDs1-w/photo.jpg?sz=128", "display_name": "Joaqu&#237;n Luis Monle&#243;n Irisarri", "link": "https://stackoverflow.com/users/13017576/joaqu%c3%adn-luis-monle%c3%b3n-irisarri"}, "is_accepted": false, "score": 0, "last_activity_date": 1583484029, "creation_date": 1583484029, "answer_id": 60560317, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/60560317#60560317", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Simple friend, you forgot the asterisk.</p>\n\n<pre><code>    import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>It just happened to me.</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 7145285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbbaf66181195dd8c704794eb802f86?s=128&d=identicon&r=PG&f=1", "display_name": "xwaxes", "link": "https://stackoverflow.com/users/7145285/xwaxes"}, "edited": false, "score": 0, "creation_date": 1608269660, "post_id": 64819864, "comment_id": 115537158, "body": "This is it. This worked for me."}, {"owner": {"reputation": 9000, "user_id": 2851687, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2wGfz.jpg?s=128&g=1", "display_name": "ralphgabb", "link": "https://stackoverflow.com/users/2851687/ralphgabb"}, "edited": false, "score": 0, "creation_date": 1616661860, "post_id": 64819864, "comment_id": 118074276, "body": "This worked. I think there is a bug on the new Android Studio 4.1 version that excludes extension at project creation."}], "tags": [], "owner": {"reputation": 1012, "user_id": 1737989, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/75454bd8debcce3dbbef81726b199ec6?s=128&d=identicon&r=PG", "display_name": "Amit Baderia", "link": "https://stackoverflow.com/users/1737989/amit-baderia"}, "is_accepted": false, "score": 37, "last_activity_date": 1609172769, "last_edit_date": 1609172769, "creation_date": 1605265881, "answer_id": 64819864, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/64819864#64819864", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Check &quot;build.gradle(:app)&quot; file,</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n</code></pre>\n<p>if kotlin extension is missing, add <code>kotlin-android-extensions</code> as shown below and click on &quot;Sync now&quot;</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 2120806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db1ee2bc2deb21218454f85c42593f9?s=128&d=identicon&r=PG", "display_name": "sarnabtech", "link": "https://stackoverflow.com/users/2120806/sarnabtech"}, "is_accepted": false, "score": 0, "last_activity_date": 1605509203, "creation_date": 1605509203, "answer_id": 64853707, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/64853707#64853707", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>this fixed it for me :</p>\n<ol>\n<li>Put this into your app.iml</li>\n</ol>\n<p><code>&lt;facet type=&quot;kotlin-language&quot; name=&quot;Kotlin&quot;&gt; &lt;configuration version=&quot;3&quot; platform=&quot;JVM 1.8&quot; allPlatforms=&quot;JVM [1.8]&quot; useProjectSettings=&quot;false&quot;&gt; &lt;compilerSettings /&gt; &lt;compilerArguments&gt; &lt;option name=&quot;jvmTarget&quot; value=&quot;1.8&quot; /&gt; &lt;option name=&quot;pluginOptions&quot;&gt; &lt;array&gt; &lt;option value=&quot;plugin:org.jetbrains.kotlin.android:enabled=true&quot; /&gt; &lt;option value=&quot;plugin:org.jetbrains.kotlin.android:defaultCacheImplementation=hashMap&quot; /&gt; &lt;/array&gt; &lt;/option&gt; &lt;/compilerArguments&gt; &lt;/configuration&gt; &lt;/facet&gt;</code></p>\n<ol start=\"2\">\n<li>Do gradle sync</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 264, "user_id": 6681300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVFIl.png?s=128&g=1", "display_name": "SaadurRehman", "link": "https://stackoverflow.com/users/6681300/saadurrehman"}, "is_accepted": false, "score": 1, "last_activity_date": 1607603711, "creation_date": 1607603711, "answer_id": 65234648, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/65234648#65234648", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>For me it was just adding the <code>apply plugin: 'kotlin-android-extensions'</code> to app's build.gradle, press sync gradle files and i was able to get <strong>synthetics</strong></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14830091, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgRD3BrjqVWlQhIJeWrizqaI8hyITr7d8WrAzrpgA=k-s128", "display_name": "Discoboy", "link": "https://stackoverflow.com/users/14830091/discoboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1608035036, "creation_date": 1608035036, "answer_id": 65305801, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/65305801#65305801", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<pre><code>id 'kotlin-android-extensions'\nid 'kotlin-android'\n</code></pre>\n<p>remove plugins and added them two of them.\nid 'kotlin-android-extensions'\nid 'kotlin-android'</p>\n<p>should be added. restart the project.</p>\n<p>So the problem as I have found is in gradle plugins, then you need to restart, rebuild your project.</p>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 6805392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VviGP.jpg?s=128&g=1", "display_name": "F.Mysir", "link": "https://stackoverflow.com/users/6805392/f-mysir"}, "is_accepted": false, "score": 3, "last_activity_date": 1609164356, "last_edit_date": 1609164356, "creation_date": 1608041490, "answer_id": 65307598, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/65307598#65307598", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Synthetics are now deprecated from Google. Try to avoid using them as it might lead to null pointer exceptions and unexpected behaviour on your app.</p>\n<p>Read more on:</p>\n<p><a href=\"https://developer.android.com/topic/libraries/view-binding/migration\" rel=\"nofollow noreferrer\">Migrate from Kotlin synthetics to Jetpack view binding</a> from official developers site.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 10818029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36353799b762db235845559f8cbcfa76?s=128&d=identicon&r=PG&f=1", "display_name": "MarkT", "link": "https://stackoverflow.com/users/10818029/markt"}, "is_accepted": false, "score": 0, "last_activity_date": 1612478045, "creation_date": 1612478045, "answer_id": 66054861, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/66054861#66054861", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Hope this help... maybe is related with the new way to get views from layouts</p>\n<p>Kotlin:</p>\n<ol>\n<li><p>open gradle app.module and add this line inside</p>\n<p>android{</p>\n<pre><code> android{viewBinding.enabled = true\n ...\n\n }\n</code></pre>\n</li>\n</ol>\n<p>(then sync)</p>\n<ol start=\"2\">\n<li>go to MainActivity.kt and do this:</li>\n</ol>\n<p>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)</p>\n<p>val binding = ActivityMainBinding.inflate(layoutInflater) // 2.1</p>\n<p>setContentView(binding.root) // 2.2 instead of (R.layout.activity_main)</p>\n<p>now views are called this way</p>\n<pre><code>binding.btn1.setOnClickListener{...}\n</code></pre>\n<p>or</p>\n<pre><code>binding.txtviewTitle.text = &quot;Welcome to the jungle&quot; // or any R.string\n</code></pre>\n<p>note: after you sync the gradle module.app with the line you will find any activity with the same name+Binding</p>\n<p>Look 2.1 reference</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15084999, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GitdGabm-U1_JB4_lbJPEOh5Q1tIWxQFWYJOCN_=k-s128", "display_name": "alireza nikzad", "link": "https://stackoverflow.com/users/15084999/alireza-nikzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1617521742, "last_edit_date": 1617521742, "creation_date": 1615289004, "answer_id": 66545954, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working/66545954#66545954", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p><em><strong>Here is a step by step answer:</strong></em></p>\n<ul>\n<li>From right side of the Android studio click on <code>Gradle</code></li>\n<li>Right click on the app and click <code>Open Gradle Config</code></li>\n<li>New source opening in <code>plugins</code> part and then add this:</li>\n</ul>\n<p><code>id 'kotlin-android-extensions'</code></p>\n<ul>\n<li>Tap <code>sync</code></li>\n</ul>\n<p><strong>Result:</strong> now you can import <code>kotlinx.android.synthetic.main.activity_main.*</code></p>\n"}], "owner": {"reputation": 355, "user_id": 10295364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vI02o3LyKSY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMJFEUgcS61sfqCSjED1y94TgbjOw/mo/photo.jpg?sz=128", "display_name": "Wurtzelzwerk", "link": "https://stackoverflow.com/users/10295364/wurtzelzwerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34404, "favorite_count": 3, "accepted_answer_id": 52271551, "answer_count": 10, "score": 34, "last_activity_date": 1617521742, "creation_date": 1536653584, "last_edit_date": 1609164781, "question_id": 52271521, "link": "https://stackoverflow.com/questions/52271521/import-kotlinx-android-synthetic-main-activity-main-is-not-working", "title": "import kotlinx.android.synthetic.main.activity_main is not working", "body": "<p>Import kotlinx greyed out</p>\n\n<p><a href=\"https://i.stack.imgur.com/nvrTn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nvrTn.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think i try nearly everything. Reinstall Android Studio, Invalide Cache, new Project same Problem.</p>\n\n<p>i just can't find the Solution</p>\n"}, {"tags": ["android", "kotlin", "sdk", "okhttp3"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1536654569, "post_id": 52271152, "comment_id": 91490674, "body": "package is not <code>com.squareup.okhttp3</code> so <code>exclude group: &#39;com.squareup.okhttp3&#39;</code> excludes nothing"}, {"owner": {"reputation": 1286, "user_id": 2641380, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ocr25.png?s=128&g=1", "display_name": "SHS", "link": "https://stackoverflow.com/users/2641380/shs"}, "edited": false, "score": 0, "creation_date": 1536654982, "post_id": 52271152, "comment_id": 91490890, "body": "I suppose another package - implementation &#39;com.facebook.stetho:stetho-okhttp3:1.5.0&#39; also includes okhttp3"}, {"owner": {"reputation": 49, "user_id": 5515419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Hhg53zk80XM/AAAAAAAAAAI/AAAAAAAAALg/mRBcXSeTgEE/photo.jpg?sz=128", "display_name": "PRERNA GUPTA", "link": "https://stackoverflow.com/users/5515419/prerna-gupta"}, "edited": false, "score": 0, "creation_date": 1558435772, "post_id": 52271152, "comment_id": 99091946, "body": "@Ajantha1311 have you got the solution for this?"}], "answers": [{"tags": [], "owner": {"reputation": 10499, "user_id": 644010, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/36ad60b78c391845429a4daa24cfc602?s=128&d=identicon&r=PG", "display_name": "yushulx", "link": "https://stackoverflow.com/users/644010/yushulx"}, "is_accepted": false, "score": 0, "last_activity_date": 1540951188, "creation_date": 1540951188, "answer_id": 53075244, "question_id": 52271152, "link": "https://stackoverflow.com/questions/52271152/dynamsoft-android-sdk-clashes-with-okhttp3/53075244#53075244", "title": "Dynamsoft Android SDK clashes with okhttp3", "body": "<p>You can try to solve the conflicts as follows:</p>\n\n<pre><code>configurations.all {\n    all*.exclude group: 'com.squareup.okhttp3', module: 'okhttp'\n    all*.exclude group: 'com.squareup.okio', module: 'okio'\n    resolutionStrategy.force 'com.squareup.okhttp3:okhttp:3.10.0'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-rc02'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.cardview:cardview:1.0.0-rc02'\n    implementation 'androidx.core:core-ktx:1.0.0-rc02'\n    implementation \"android.arch.work:work-runtime-ktx:1.0.0-alpha08\"\n    implementation 'androidx.preference:preference:1.0.0-rc02'\n    implementation 'androidx.fragment:fragment-ktx:1.0.0-rc02'\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-rc02'\n    implementation 'com.google.android.material:material:1.0.0-rc01'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'\n    implementation 'com.squareup.moshi:moshi-kotlin:1.6.0'\n    implementation 'com.squareup.retrofit2:converter-moshi:2.4.0'\n\n    kapt 'com.squareup.moshi:moshi-kotlin-codegen:1.6.0'\n\n    testImplementation 'junit:junit:4.12'\n\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n\n\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n\n    implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.4'\n    //noinspection GradleCompatible\n    implementation \"com.android.support:design:26.1.0\"\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    //Joda time\n    implementation 'net.danlew:android.joda:2.9.9.4'\n    // Image Compression\n    implementation 'id.zelory:compressor:2.1.0'\n\n    //Stetho\n    implementation 'com.facebook.stetho:stetho:1.5.0'\n    implementation 'com.facebook.stetho:stetho-okhttp3:1.5.0'\n\n    //Dynumsoft\n    implementation ('com.dynamsoft:dynamsoftcamerasdk:2.0@aar')\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4054343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f7e8f2de8c2540ff33d221e6861779?s=128&d=identicon&r=PG&f=1", "display_name": "Ajantha1311", "link": "https://stackoverflow.com/users/4054343/ajantha1311"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540951188, "creation_date": 1536652262, "last_edit_date": 1536654367, "question_id": 52271152, "link": "https://stackoverflow.com/questions/52271152/dynamsoft-android-sdk-clashes-with-okhttp3", "title": "Dynamsoft Android SDK clashes with okhttp3", "body": "<p>I am working in a company project and there is a requirement to integrate <strong>Dynamsoft Android SDK</strong> for document scanning purpose. This problem is, when the sdk dependency is added to the current project, it get clashes with <strong>okhttp3</strong> while giving this error on Build-console : </p>\n\n<p>**Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.</p>\n\n<blockquote>\n  <p>com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives: \n    Program type already present: okhttp3.Address\n    Learn how to resolve the issue at <a href=\"https://developer.android.com/studio/build/dependencies#duplicate_classes\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/dependencies#duplicate_classes</a>.**</p>\n</blockquote>\n\n<p>As it suggests in Developer console, okhttp3 has been excluded(actually tried in manifold ways) from Dynamsoft dependency yet problem remains. </p>\n\n<pre><code> apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    buildToolsVersion \"28.0.2\"\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"no.aspit.capture\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n        }\n\n        dev {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n        }\n        debug {\n\n        }\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    packagingOptions {\n        exclude 'okhttp3/internal/publicsuffix/publicsuffixes.gz'\n    }\n}\n\n\nkotlin {\n    experimental {\n        coroutines 'enable'\n    }\n}\n\nandroidExtensions {\n    experimental = true\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-rc02'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.cardview:cardview:1.0.0-rc02'\n    implementation 'androidx.core:core-ktx:1.0.0-rc02'\n    implementation \"android.arch.work:work-runtime-ktx:1.0.0-alpha08\"\n    implementation 'androidx.preference:preference:1.0.0-rc02'\n    implementation 'androidx.fragment:fragment-ktx:1.0.0-rc02'\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-rc02'\n    implementation 'com.google.android.material:material:1.0.0-rc01'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.10.0'\n    implementation 'com.squareup.moshi:moshi-kotlin:1.6.0'\n    implementation 'com.squareup.retrofit2:converter-moshi:2.4.0'\n\n    kapt 'com.squareup.moshi:moshi-kotlin-codegen:1.6.0'\n\n    testImplementation 'junit:junit:4.12'\n\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n\n\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n\n    implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.4'\n    //noinspection GradleCompatible\n    implementation \"com.android.support:design:26.1.0\"\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    //Joda time\n    implementation 'net.danlew:android.joda:2.9.9.4'\n    // Image Compression\n    implementation 'id.zelory:compressor:2.1.0'\n\n    //Stetho\n    implementation 'com.facebook.stetho:stetho:1.5.0'\n    implementation 'com.facebook.stetho:stetho-okhttp3:1.5.0'\n\n    //Dynumsoft\n    implementation ('com.dynamsoft:dynamsoftcamerasdk:2.0@aar'){\n    exclude group: 'com.squareup.okhttp3'\n    }\n\n\n}\n\nrepositories {\n    maven {\n        url \"http://download.dynamsoft.com/maven/dcs\"\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1536653640, "post_id": 52270782, "comment_id": 91490169, "body": "use <code>list.sortedBy { it.date }.firstOrNull()</code>"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1536653725, "post_id": 52270782, "comment_id": 91490224, "body": "@HawkPriest what do you think that does?"}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1536653959, "post_id": 52270782, "comment_id": 91490337, "body": "that sorts the list by date (check <code>date.compare()</code> method for sortType) and <code>firstOrNull</code> gives you the element at 0 then you can clear the list after getting the firstItem or move it to a set or user <code>sortedList.distinctBy{ it.date }</code>"}, {"owner": {"reputation": 301, "user_id": 6947875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e735e06a18ae079ad608c5e904fdfef9?s=128&d=identicon&r=PG&f=1", "display_name": "jfawkes", "link": "https://stackoverflow.com/users/6947875/jfawkes"}, "edited": false, "score": 0, "creation_date": 1536654199, "post_id": 52270782, "comment_id": 91490469, "body": "if all item  in the list have the same id then you can just use list.maxBy { it.date } to fetch the newest value, assuming date is save in <code>long</code> timestamp format, if the list has objects with multiple ids and you want a list with distinct id values while choosing the newest object per id, look at my answer"}, {"owner": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1536654482, "post_id": 52270782, "comment_id": 91490614, "body": "@HawkPriest Yes, but this is and example, imagine that you have more elements in the list..."}, {"owner": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536655350, "post_id": 52270782, "comment_id": 91491101, "body": "@Roland in my last implement i didn&#39;t use operators, i used a simple foreach, but i   convinced that it is posible in some way with operators. :)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536657070, "post_id": 52270782, "comment_id": 91492115, "body": "ok... added a variant that just uses <code>removeIf</code> instead of collecting the elements first..."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "edited": false, "score": 0, "creation_date": 1536655062, "post_id": 52271609, "comment_id": 91490927, "body": "ok thanks for the answer, i will try this, but i need to transform the date to timestamp before. However, I would then need a loop to search the map and check if something is repeated, no?"}], "tags": [], "owner": {"reputation": 301, "user_id": 6947875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e735e06a18ae079ad608c5e904fdfef9?s=128&d=identicon&r=PG&f=1", "display_name": "jfawkes", "link": "https://stackoverflow.com/users/6947875/jfawkes"}, "is_accepted": true, "score": 6, "last_activity_date": 1536653863, "creation_date": 1536653863, "answer_id": 52271609, "question_id": 52270782, "link": "https://stackoverflow.com/questions/52270782/how-i-can-delete-duplicates-in-a-object-list-by-date-in-kotlin-with-collection-o/52271609#52271609", "title": "How I can delete duplicates in a Object list by date in Kotlin with collection operators?", "body": "<p>You can achieve it like this </p>\n\n<pre><code>list.groupBy { it.id }.entries.map { it.value.maxBy { it.date } }\n</code></pre>\n\n<p>it will create a map of <code>id, List&lt;object&gt;</code> while keeping original order and then choose newest object from the list. \nHere I am assuming date is <code>long</code> value timestamp</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "edited": false, "score": 0, "creation_date": 1536662755, "post_id": 52271937, "comment_id": 91495530, "body": "Thanks for the answer, for the moment the jfawkes&#39;s answer is valid for me. However i will try your solution also."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "edited": false, "score": 0, "creation_date": 1536663902, "post_id": 52271937, "comment_id": 91496153, "body": "The solutions regarding <code>groupBy</code> are very similar. The main difference between the two is: here a <code>List&lt;Obj&gt;</code> is returned whereas with jfawkes&#39;s answer <code>List&lt;Obj?&gt;</code> is returned. <code>}.entries.map { it.value </code> is basically the same as <code>}.values.map {</code>... I just omitted the nullable type by using <code>mapNotNull</code>... you could also use <code>it.maxBy { it.date }!!</code> if you know there must be at least 1 element, which we know."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 4, "last_activity_date": 1536663884, "last_edit_date": 1536663884, "creation_date": 1536655111, "answer_id": 52271937, "question_id": 52270782, "link": "https://stackoverflow.com/questions/52270782/how-i-can-delete-duplicates-in-a-object-list-by-date-in-kotlin-with-collection-o/52271937#52271937", "title": "How I can delete duplicates in a Object list by date in Kotlin with collection operators?", "body": "<p>If you really must remove the entries from the current collection the following may help you (I assume your objects (<code>Obj</code>) are contained in a list called <code>list</code>):</p>\n\n<pre><code>list.removeAll { anObj -&gt; list.any { anObj.id == it.id &amp;&amp; it.date &gt; anObj.date } }\n// or same with removeIf\n</code></pre>\n\n<p>It's probably easier just collecting what you are actually interested in and then have an immutable list in the first place.</p>\n\n<p>Collecting the elements you are interested in could be done as follows (there are of course lots of other ways to do that... just one of many):</p>\n\n<pre><code>val result = list.groupBy { it.id }.values.mapNotNull { it.maxBy { it.date } } // mapNotNull is only used due to maxBy returning a nullable type... it isn't really needed... or well... depends on what your date type is ;-)\n</code></pre>\n\n<p><code>result</code> will then be a <code>List&lt;Obj&gt;</code>. Instead of <code>mapNotNull</code> you could also use <code>it.maxBy { it.date }!!</code> if you know there is at least 1 element.</p>\n\n<p>If you then still need to remove the elements from the list, you could do the following:</p>\n\n<pre><code>list.removeIf { it !in result }\n// or\nlist.removeAll { it !in result }\n</code></pre>\n\n<p>However I can't really recommend that you mutate your current list just for that... The <code>result</code> in the above example already contains all the elements in the form you want (i.e. <code>List&lt;Obj&gt;</code>). Instead rather use the benefit of having an immutable list :-)</p>\n"}], "owner": {"reputation": 163, "user_id": 6239306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCN4B.gif?s=128&g=1", "display_name": "efr", "link": "https://stackoverflow.com/users/6239306/efr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4280, "favorite_count": 2, "accepted_answer_id": 52271609, "answer_count": 2, "score": 2, "last_activity_date": 1536663884, "creation_date": 1536650863, "last_edit_date": 1536654144, "question_id": 52270782, "link": "https://stackoverflow.com/questions/52270782/how-i-can-delete-duplicates-in-a-object-list-by-date-in-kotlin-with-collection-o", "title": "How I can delete duplicates in a Object list by date in Kotlin with collection operators?", "body": "<p>I have a object list with the same id, then, i want to keep the one with the most recent date, and the delete the other with the kotlin collection operators. For Example I have :</p>\n\n<pre><code>{\"id\":111,\n \"date\":\"02/12/2017\"\n }\n</code></pre>\n\n<p>and the other</p>\n\n<pre><code>{\"id\":111,\n \"date\":\"02/8/2018\"}\n</code></pre>\n\n<p>In this case, i would like to delete the first object.</p>\n"}, {"tags": ["gradle", "groovy", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 33915, "user_id": 763080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/76f3c302f6b92b09af41cb0c46de064e?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/763080/phil"}, "edited": false, "score": 0, "creation_date": 1609775584, "post_id": 52270393, "comment_id": 115920956, "body": "Gradle does not support Groovy Extension methods. See <a href=\"https://github.com/gradle/gradle/issues/2973\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/2973</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1317, "user_id": 2995178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae68ceed87c10939132901df3b26859?s=128&d=identicon&r=PG&f=1", "display_name": "KursoR", "link": "https://stackoverflow.com/users/2995178/kursor"}, "is_accepted": true, "score": 3, "last_activity_date": 1536649386, "creation_date": 1536649386, "answer_id": 52270394, "question_id": 52270393, "link": "https://stackoverflow.com/questions/52270393/how-to-write-extension-method-for-gradle-dependencies-block/52270394#52270394", "title": "How to write extension method for Gradle dependencies {} block", "body": "<p>Gradle DefaultDependencyHandler implements custom method resolution strategy (to handle scopes notation like <code>testCompile(smth)</code>), so additional methods can be added via <code>dependencies.ext</code> property:</p>\n\n<pre><code>dependencies.ext.autoValue = {\n    dependencies.add(\"compileOnly\", Libs.Auto.autoValueAnnotations)\n    dependencies.add(\"annotationProcessor\", Libs.Auto.autoValueCompiler)\n}\n</code></pre>\n\n<p>But in this case you don't get autocompletion.</p>\n\n<p>To enable autocompletion you can mix this two approaches and proxy extension methods from buildSrc via <code>dependencies.ext</code>:</p>\n\n<pre><code>import com.example.test.ShortcutsKt\n\nimport java.lang.reflect.Method\nimport java.lang.reflect.Modifier\n\n// DependencyHandler implementation resolves all undeclared methods by self,\n// so we need to add these extension methods to dependencies.ext\ndef methodNames = ShortcutsKt.declaredMethods\n        .findAll { isDependencyHandlerExtension(it) }\n        .collect { it.name }\n        .unique()\n\nmethodNames.each { String methodName -&gt;\n    dependencies.ext[methodName] = { Object... args -&gt;\n        ShortcutsKt.\"$methodName\"(dependencies, *args)\n    }\n}\n\nprivate static boolean isDependencyHandlerExtension(Method method) {\n    return Modifier.isPublic(method.getModifiers()) &amp;&amp;\n            Modifier.isStatic(method.getModifiers()) &amp;&amp;\n            method.parameterCount &gt; 0 &amp;&amp;\n            method.parameterTypes[0] == DependencyHandler.class\n}\n</code></pre>\n"}], "owner": {"reputation": 1317, "user_id": 2995178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae68ceed87c10939132901df3b26859?s=128&d=identicon&r=PG&f=1", "display_name": "KursoR", "link": "https://stackoverflow.com/users/2995178/kursor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1270, "favorite_count": 0, "accepted_answer_id": 52270394, "answer_count": 1, "score": 4, "last_activity_date": 1536649386, "creation_date": 1536649386, "question_id": 52270393, "link": "https://stackoverflow.com/questions/52270393/how-to-write-extension-method-for-gradle-dependencies-block", "title": "How to write extension method for Gradle dependencies {} block", "body": "<p>I'm trying to write extension methods for DependencyHandler.\nOne of main goals to have autocompletion of these methods.</p>\n\n<p>So I wrote extension function in buildSrc project like this (<code>Shortcuts.kt</code>):</p>\n\n<pre><code>fun DependencyHandler.autoValue() {\n    add(\"compileOnly\", Libs.Auto.autoValueAnnotations)\n    add(\"annotationProcessor\", Libs.Auto.autoValueCompiler)\n}\n</code></pre>\n\n<p>And registered it as extension module as described <a href=\"http://mrhaki.blogspot.com/2013/01/groovy-goodness-adding-extra-methods.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code># File: src/main/resources/META-INF/services/org.codehaus.groovy.runtime.ExtensionModule\nmoduleName = buildSrc\nmoduleVersion = 1.0\nextensionClasses = com.example.test.ShortcutsKt\n</code></pre>\n\n<p>I want to use these methods in <code>build.gradle</code> files like:</p>\n\n<pre><code>dependencies {\n    ...\n    autoValue()\n}\n</code></pre>\n\n<p>It appears in autocompletion list inside <code>dependencies{}</code> block, but at configuration time I got error:</p>\n\n<pre><code>org.gradle.internal.metaobject.AbstractDynamicObject$CustomMessageMissingMethodException: Could not find method autoValue() for arguments [] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n    at org.gradle.internal.metaobject.AbstractDynamicObject.methodMissingException(AbstractDynamicObject.java:179)\n    at org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:87)\n    at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeOnDelegationObjects(ClosureMetaClass.java:430)\n    at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:369)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1022)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:69)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:158)\n    at build_dh4v5lw1dkt4b2nii5ope5rmy$_run_closure1.doCall(/.../app/build.gradle:29)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 6428, "user_id": 1608643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/RSkNi.jpg?s=128&g=1", "display_name": "Ketan Ahir", "link": "https://stackoverflow.com/users/1608643/ketan-ahir"}, "edited": false, "score": 0, "creation_date": 1536648922, "post_id": 52270128, "comment_id": 91487775, "body": "You will have to set layout using <code>setContentView</code> method"}, {"owner": {"reputation": 1, "user_id": 8225127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxRsT.jpg?s=128&g=1", "display_name": "Fortoszone", "link": "https://stackoverflow.com/users/8225127/fortoszone"}, "reply_to_user": {"reputation": 6428, "user_id": 1608643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/RSkNi.jpg?s=128&g=1", "display_name": "Ketan Ahir", "link": "https://stackoverflow.com/users/1608643/ketan-ahir"}, "edited": false, "score": 0, "creation_date": 1536649460, "post_id": 52270128, "comment_id": 91488017, "body": "setContentView on Class? How?"}, {"owner": {"reputation": 6428, "user_id": 1608643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/RSkNi.jpg?s=128&g=1", "display_name": "Ketan Ahir", "link": "https://stackoverflow.com/users/1608643/ketan-ahir"}, "edited": false, "score": 0, "creation_date": 1536654544, "post_id": 52270128, "comment_id": 91490655, "body": "In <code>onCreate()</code> method of your second activity"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "is_accepted": false, "score": 0, "last_activity_date": 1537568003, "creation_date": 1537568003, "answer_id": 52451611, "question_id": 52270128, "link": "https://stackoverflow.com/questions/52270128/anko-layout-on-second-activity-doesnt-show-up/52451611#52451611", "title": "Anko layout on second activity doesn&#39;t show up", "body": "<p>In the second activity you have a textview inside the \"lparams\" block of the imageView. I suspect you meant to close out the lparams after you set the gravity.</p>\n"}], "owner": {"reputation": 1, "user_id": 8225127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxRsT.jpg?s=128&g=1", "display_name": "Fortoszone", "link": "https://stackoverflow.com/users/8225127/fortoszone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581417414, "creation_date": 1536648322, "last_edit_date": 1581417414, "question_id": 52270128, "link": "https://stackoverflow.com/questions/52270128/anko-layout-on-second-activity-doesnt-show-up", "title": "Anko layout on second activity doesn&#39;t show up", "body": "<p>I made a second activity via Anko layout which has an <code>ImageView</code> and 2 <code>TextView</code> for name and description. But those <code>TextView</code> doesn't show up. I think the code looks good but i don't know it still doesn't appear. Any solution? </p>\n\n<p><strong>--The MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var items: MutableList&lt;Item&gt; = mutableListOf()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(activity_main)\n        initData()\n\n        club_list.layoutManager = LinearLayoutManager(this)\n        club_list.adapter = RecyclerViewAdapter(this,items){\n            startActivity(intentFor&lt;SecondActivity&gt;(forto to it.clubName, forto to clubDesc, forto to it.clubImage))\n\n        }\n    }\n    @SuppressLint()\n    private fun initData(){\n        val nameClub = resources.getStringArray(club_name)\n        val descClub = resources.getStringArray(club_desc)\n        val imageClub = resources.obtainTypedArray(club_image)\n        items.clear()\n\n        for (i in nameClub.indices) {\n            items.add(Item(nameClub[i], descClub[i], imageClub.getResourceId(i, 1)))\n        }\n        imageClub.recycle()\n    }\n}\n</code></pre>\n\n<p><strong>const val forto = \"com.my.app\"</strong></p>\n\n<p><strong>--SecondActivity</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    linearLayout {\n        orientation = LinearLayout.VERTICAL\n\n        val image = intent.getIntExtra(forto, 1)\n\n        imageView {\n            topPadding = dip(16)\n            imageResource = image\n        }.lparams(width = matchParent, height = dip(100)) {\n            gravity = Gravity.CENTER_HORIZONTAL\n\n            val namaClub = intent.getStringExtra(forto)\n\n            textView {\n                text = namaClub\n                textAlignment = View.TEXT_ALIGNMENT_CENTER\n            }.lparams(width = matchParent)\n        }\n\n        val clubDesc = intent.getStringExtra(forto)\n\n        verticalLayout {\n            textView {\n                text = clubDesc\n                padding = dip(16)\n            }.lparams(width = matchParent)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>--Data class if you need it</strong></p>\n\n<pre><code>@Parcelize\ndata class Item (var clubName: String, var clubDesc: String, var clubImage: Int) : Parcelable\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "edited": false, "score": 0, "creation_date": 1536647454, "post_id": 52269625, "comment_id": 91487076, "body": "To check whether 400 rows get inserted into a database, use realm studio <a href=\"https://realm.io/products/realm-studio/\" rel=\"nofollow noreferrer\">realm.io/products/realm-studio</a> The database file can be extracted either from emulator or rooted device."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536661598, "post_id": 52269625, "comment_id": 91494892, "body": "<code>objext?.spicieId</code> is probably <code>null</code> and you are inserting every element with the id <code>null</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2904, "user_id": 1990021, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/yN3lO.jpg?s=128&g=1", "display_name": "andrei", "link": "https://stackoverflow.com/users/1990021/andrei"}, "is_accepted": false, "score": 0, "last_activity_date": 1536646412, "creation_date": 1536646412, "answer_id": 52269706, "question_id": 52269625, "link": "https://stackoverflow.com/questions/52269625/insert-data-400-rows-but-query-list-have-1-element-realm-kotlin/52269706#52269706", "title": "Insert data 400 rows but query list have 1 element Realm Kotlin", "body": "<p>What does the <code>Spicie</code> class look like ? I see you are doing <code>insertOrUpdate</code>so I imagine you are doing an update 399 times</p>\n\n<p>Try to log the <code>objext</code>'s <code>spicieId</code> and be sure it's unique across the iteration</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8148853, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1931489317133365/picture?type=large", "display_name": "Khwan Siricharoenporn", "link": "https://stackoverflow.com/users/8148853/khwan-siricharoenporn"}, "is_accepted": true, "score": 0, "last_activity_date": 1536662805, "creation_date": 1536662805, "answer_id": 52274181, "question_id": 52269625, "link": "https://stackoverflow.com/questions/52269625/insert-data-400-rows-but-query-list-have-1-element-realm-kotlin/52274181#52274181", "title": "Insert data 400 rows but query list have 1 element Realm Kotlin", "body": "<p>I solved my problem. Because SpicieObject is Object but not Class. Becuase memory of device see a value is same memory. Therefore realm insert overlap data. When i try to change Object to Class. This function can do work! Thanks</p>\n"}], "owner": {"reputation": 101, "user_id": 8148853, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1931489317133365/picture?type=large", "display_name": "Khwan Siricharoenporn", "link": "https://stackoverflow.com/users/8148853/khwan-siricharoenporn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 52274181, "answer_count": 2, "score": 0, "last_activity_date": 1536662805, "creation_date": 1536646008, "question_id": 52269625, "link": "https://stackoverflow.com/questions/52269625/insert-data-400-rows-but-query-list-have-1-element-realm-kotlin", "title": "Insert data 400 rows but query list have 1 element Realm Kotlin", "body": "<p>I have a problem when I insert data 400 rows follows my code.</p>\n\n<pre><code>fun saveWith(objext: SpicieObject?) {\n        var realm: Realm? = null\n\n        try {\n            realm = Realm.getDefaultInstance()\n\n            realm.executeTransaction {\n                val spicie = realm.createObject(Spicie::class.java, objext?.spicieId)\n                spicie.spicie = objext?.spicie\n                spicie.breedType = objext?.breedType\n\n                realm.insertOrUpdate(spicie)\n            }\n        }\n        finally {\n            if (realm != null) { realm.close() }\n        }\n    }\n</code></pre>\n\n<p>But when i query all data in this database follow my code.</p>\n\n<pre><code>fun getList(): RealmResults&lt;Spicie&gt;? {\n        try {\n            val realm = Realm.getDefaultInstance()\n            val objects = realm.where(Spicie::class.java).findAll()\n            return objects\n        }\n        catch (exception: RealmException) {\n            exception.printStackTrace()\n            println(\"Exception in database\")\n        }\n\n        return null\n    }\n</code></pre>\n\n<p>This function will return size of array is 1. Which i am uncertain where function is failure when in seat or query. Please guide me because I new for android and kotlin.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 1, "creation_date": 1536644695, "post_id": 52269277, "comment_id": 91486037, "body": "If you&#39;re getting this at deserialization line (gson) it may be because of absence of default constructor for your classes."}, {"owner": {"reputation": 43, "user_id": 9060234, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pT3WJ8tl2IY/AAAAAAAAAAI/AAAAAAAAAZc/qKXysZ0EA48/photo.jpg?sz=128", "display_name": "Jignesh Hadiya", "link": "https://stackoverflow.com/users/9060234/jignesh-hadiya"}, "reply_to_user": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1536645563, "post_id": 52269277, "comment_id": 91486341, "body": "but this perfectly work in it&#39;s parent Activity."}, {"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1536672722, "post_id": 52269277, "comment_id": 91502047, "body": "Could you please provide full stack trace?"}], "owner": {"reputation": 43, "user_id": 9060234, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pT3WJ8tl2IY/AAAAAAAAAAI/AAAAAAAAAZc/qKXysZ0EA48/photo.jpg?sz=128", "display_name": "Jignesh Hadiya", "link": "https://stackoverflow.com/users/9060234/jignesh-hadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536644191, "creation_date": 1536644191, "question_id": 52269277, "link": "https://stackoverflow.com/questions/52269277/i-cant-resolve-this-force-finishing-activity-or-fatal-exception-okhttp-dispat", "title": "i can&#39;t Resolve this &#39;Force finishing Activity or FATAL EXCEPTION: OkHttp Dispatcher&#39;", "body": "<p>Here is my code:</p>\n\n<pre><code>OkHttpClient().newCall(request).enqueue(object : Callback {\n         override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                val body1  = \"{\\\"contents\\\":[\"+body+\"]}\"\n                println(body1)\n                val con = GsonBuilder().create().fromJson(body1, Con::class.java)\n                runOnUiThread {\n                    recyclerView3.adapter= ChapterActivity.ChapterAdapter(con)\n</code></pre>\n\n<p>i want to fetch json in Con class:</p>\n\n<pre><code>class Con(val cont:List&lt;contents&gt;)\nclass contents(val content:String,val thumb:String)\n</code></pre>\n\n<p>error is:</p>\n\n<pre><code>FATAL EXCEPTION: OkHttp Dispatcher\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/*******/******/Con;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-cardview"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 2, "creation_date": 1536643877, "post_id": 52269161, "comment_id": 91485788, "body": "Try this <code>val params = LinearLayout.LayoutParams(                 LinearLayout.LayoutParams.MATCH_PARENT,                 LinearLayout.LayoutParams.WRAP_CONTENT         )</code>"}, {"owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1536644185, "post_id": 52269161, "comment_id": 91485884, "body": "I think layout params should be of the parent item, and my my parent item here is Cardview, if I set any other params, it will give error"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1536644819, "post_id": 52269161, "comment_id": 91486078, "body": "Check this: <a href=\"http://www.appsdeveloperblog.com/cardview-in-kotlin-programmatically/\" rel=\"nofollow noreferrer\">appsdeveloperblog.com/cardview-in-kotlin-programmatically</a>"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 9651405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/043dab6fb48d57f2a2f9c290e554a552?s=128&d=identicon&r=PG&f=1", "display_name": "Nikunj masarani", "link": "https://stackoverflow.com/users/9651405/nikunj-masarani"}, "is_accepted": false, "score": 1, "last_activity_date": 1536644114, "last_edit_date": 1536644114, "creation_date": 1536643913, "answer_id": 52269230, "question_id": 52269161, "link": "https://stackoverflow.com/questions/52269161/layoutparams-unresolved-for-cardview-kotlin/52269230#52269230", "title": "Layoutparams unresolved for cardview kotlin", "body": "<p>you can use <code>RelativeLayout.LayoutParams</code></p>\n\n<pre><code>cardView.setLayoutParams(RelativeLayout.LayoutParams(20, 20));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "is_accepted": true, "score": 0, "last_activity_date": 1536645279, "creation_date": 1536645279, "answer_id": 52269478, "question_id": 52269161, "link": "https://stackoverflow.com/questions/52269161/layoutparams-unresolved-for-cardview-kotlin/52269478#52269478", "title": "Layoutparams unresolved for cardview kotlin", "body": "<p>based on Nilesh Rathod answer, it worked, Thanks</p>\n\n<pre><code>val params = LinearLayout.LayoutParams(\n                    LinearLayout.LayoutParams.MATCH_PARENT,\n                    LinearLayout.LayoutParams.WRAP_CONTENT)\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 9799857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Un8oP52iS7o/AAAAAAAAAAI/AAAAAAAAAGI/MLCSiItmk5E/photo.jpg?sz=128", "display_name": "Firu", "link": "https://stackoverflow.com/users/9799857/firu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 1, "accepted_answer_id": 52269478, "answer_count": 2, "score": 1, "last_activity_date": 1536645279, "creation_date": 1536643513, "last_edit_date": 1536644045, "question_id": 52269161, "link": "https://stackoverflow.com/questions/52269161/layoutparams-unresolved-for-cardview-kotlin", "title": "Layoutparams unresolved for cardview kotlin", "body": "<p>Check this android studio error</p>\n\n<p><a href=\"https://i.stack.imgur.com/gJJkg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJJkg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried same in <code>java</code>, it worked and also working fine for <code>LinerLayout</code>. Does anyone know what is the issue ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 2, "creation_date": 1536642795, "post_id": 52269022, "comment_id": 91485452, "body": "<code>EditText.toString()</code> is not the right way to get text from EditText. Use <code>EditText.getText().toString()</code> (Java) to get text. Kotlin should be something like <code>EditText.text.toString()</code>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1536642874, "post_id": 52269022, "comment_id": 91485484, "body": "<a href=\"https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin\" title=\"edittext get text kotlin\">stackoverflow.com/questions/44267572/edittext-get-text-kotli&zwnj;&#8203;n</a>"}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 4518996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/339d57f79a241f3da2d356b50a831bfd?s=128&d=identicon&r=PG&f=1", "display_name": "sanjay", "link": "https://stackoverflow.com/users/4518996/sanjay"}, "is_accepted": false, "score": 0, "last_activity_date": 1536643128, "creation_date": 1536643128, "answer_id": 52269100, "question_id": 52269022, "link": "https://stackoverflow.com/questions/52269022/why-is-android-studio-opening-looper-java-when-i-try-to-debug/52269100#52269100", "title": "Why is Android Studio opening looper.java when I try to debug?", "body": "<p>Just modified your code. Try this</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val getSum = findViewById(R.id.GetSum) as Button\n    val addend1 = findViewById(R.id.Addend1) as EditText\n    val addend2 = findViewById(R.id.Addend2) as EditText\n    var sum = findViewById(R.id.Sum) as TextView\n\n    getSum.setOnClickListener {\n\n        var add1 = addend1.text.toString().toInt()\n        var add2 = addend2.text.toString().toInt()\n\n        var result = (add1 + add2).toString()\n        sum.setText(result)\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 11, "user_id": 10345413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705c61b28c8659c417db17dc4a3595a7?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Ross", "link": "https://stackoverflow.com/users/10345413/joseph-ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "closed_date": 1536643179, "answer_count": 1, "score": 1, "last_activity_date": 1536643128, "creation_date": 1536642590, "question_id": 52269022, "link": "https://stackoverflow.com/questions/52269022/why-is-android-studio-opening-looper-java-when-i-try-to-debug", "closed_reason": "Duplicate", "title": "Why is Android Studio opening looper.java when I try to debug?", "body": "<p>I have been trying to make a simple app in Kotlin using Android Studio, and it looks like there's something wrong with my code. Every time it gets to </p>\n\n<pre><code>var add1 = middle1.toInt()\n</code></pre>\n\n<p>of the code, the app either crashes or the debugger opens looper.java. I am very new to app development, and I have only ever used Python before this week, so thank you for understanding. </p>\n\n<p>Code:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.TextView\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val getSum = findViewById(R.id.GetSum) as Button\n        getSum.setOnClickListener {\n            var addend1 = findViewById(R.id.Addend1) as EditText\n            var addend2 = findViewById(R.id.Addend2) as EditText\n            var middle1 = addend1.toString()\n            var middle2 = addend2.toString()\n            var add1 = middle1.toInt()\n            var add2 = middle2.toInt()\n            var sum = findViewById(R.id.Sum) as TextView\n            var result = (add1 + add2).toString()\n            sum.setText(result)\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 8, "creation_date": 1536641982, "post_id": 52268841, "comment_id": 91485225, "body": "Fragment should have a default constructor with 0 parameters. It is a bad practice to use non-default constructor in Fragment."}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1536642124, "post_id": 52268841, "comment_id": 91485262, "body": "use a <code>singleton</code> approach, and make a default <code>constructor</code> as mentioned by @VladyslavMatviienko"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1536642235, "post_id": 52268841, "comment_id": 91485293, "body": "Okay i will try your tips @VladyslavMatviienko"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1592564442, "post_id": 52268841, "comment_id": 110477061, "body": "@VladyslavMatviienko, yes, when activity recreates, it can call a default constructor in some cases."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536642468, "post_id": 52268965, "comment_id": 91485371, "body": "i will check and implement this one"}, {"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "edited": false, "score": 0, "creation_date": 1536646778, "post_id": 52268965, "comment_id": 91486799, "body": "Please check this answer : <a href=\"https://stackoverflow.com/questions/12062946/why-do-i-want-to-avoid-non-default-constructors-in-fragments\" title=\"why do i want to avoid non default constructors in fragments\">stackoverflow.com/questions/12062946/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 7, "last_activity_date": 1536642578, "last_edit_date": 1536642578, "creation_date": 1536642167, "answer_id": 52268965, "question_id": 52268841, "link": "https://stackoverflow.com/questions/52268841/how-to-fix-this-bug-using-kotlin-could-not-find-fragment-constructor/52268965#52268965", "title": "How to fix this bug using Kotlin,could not find Fragment constructor?", "body": "<p>When you get short description over the error you will see :</p>\n\n<p>Avoid non-default constructors in fragments: use a default constructor plus <code>Fragment setArguments(Bundle)</code> instead less.\nFrom the Fragment documentation: </p>\n\n<p>Every fragment must have an empty constructor, so it can be instantiated when restoring its activity's state. It is strongly recommended that subclasses do not have other constructors with parameters, since these constructors will not be called when the fragment is re-instantiated; instead, arguments can be supplied by the caller with <code>setArguments(Bundle)</code> and later retrieved by the Fragment with <code>getArguments()</code>.</p>\n\n<p>for example : </p>\n\n<pre><code> fun newInstance(bundle : Bundle) : ReceiveFragment{\n        val fragment = ReceiveFragment()\n         fragment.arguments=bundle           \n        return fragment\n    }\n</code></pre>\n\n<p>Now call the fragment :</p>\n\n<pre><code> 0 -&gt; fragment = ReceiveFragment.newInstance(new Bundle)\n</code></pre>\n\n<p>More info: <a href=\"http://developer.android.com/reference/android/app/Fragment.html#Fragment()\" rel=\"noreferrer\">http://developer.android.com/reference/android/app/Fragment.html#Fragment()</a> </p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536643384, "post_id": 52269053, "comment_id": 91485626, "body": "yea . . and i have doubt on this, my parameters are not String types its custom types.like a &quot;List&lt;TransactionEntity&gt;&quot; so how can i add to putString() . ...??????   e.g:fun newInstance(myIT: List&lt;TransactionEntity&gt;, myAppDatabase: AppDatabase, myIncoming: TransactionAdapterDirection, myNetwork: NetworkDefinitionProvider)"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536643437, "post_id": 52269053, "comment_id": 91485641, "body": "so simply replace with your params , this is for example :)"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536643581, "post_id": 52269053, "comment_id": 91485692, "body": "okay without parameter it does not work right . here can i use GSON??"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536643631, "post_id": 52269053, "comment_id": 91485704, "body": "yes definitely you can, in <code>newInstance</code> method, let me edit a bit for you"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536644166, "post_id": 52269053, "comment_id": 91485878, "body": "i need to get this params in newInstance() not in oncreate() for this &quot; putString(ARG_PARAM1, param1)                     putString(ARG_PARAM2, param2)&quot; i need to use GSON"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536644573, "post_id": 52269053, "comment_id": 91485999, "body": "@Karthikeyan, if you look at the code, i am also not getting params in <code>newInstance</code> i am getting and storing them in bundle to get them in <code>onCreate()</code>, thats the snipet from the fragment that is mostly used and considered best practice, again you can do that, but i think its better way of doing it"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536657289, "post_id": 52269053, "comment_id": 91492251, "body": "still i am getting same error but this time in main.kt file &quot; override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)..........................&zwnj;&#8203;......&quot;"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536657350, "post_id": 52269053, "comment_id": 91492291, "body": "Whats the error can you share it in question @Karthikeyan"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536658629, "post_id": 52269053, "comment_id": 91493107, "body": "@Karthikeyan please check edited answer, you have to edit fragment constructor as like this,"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536659941, "post_id": 52269053, "comment_id": 91493888, "body": "NOO, bcz i need to pass the args here &quot; recyclerView.adapter = TransactionRecyclerAdapter(transactionList,appDatabase,direc&zwnj;&#8203;tion,networkDefiniti&zwnj;&#8203;onProvider)&quot; then how to do without args . . .???"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536660008, "post_id": 52269053, "comment_id": 91493934, "body": "you are passing args in <code>newInstance()</code> why do you need to pas it to fragment constructor"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536660460, "post_id": 52269053, "comment_id": 91494216, "body": "but when i remove this i got error  . .it does not work.  here also error : .&quot;ReceiveFragment(myIT, myAppDatabase, myIncoming, myNetwork,bundle).apply {&quot;"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536681079, "post_id": 52269053, "comment_id": 91507616, "body": "@Karthikeyan you have to make empty constructor, then get the values through <code>newInstance</code> then pass them in adapter"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536899062, "post_id": 52269053, "comment_id": 91596822, "body": "How to do that ?? plz"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536899223, "post_id": 52269053, "comment_id": 91596858, "body": "@Karthikeyan please check 2nd last line, it has how to use empty constructor"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536899382, "post_id": 52269053, "comment_id": 91596897, "body": "@Karthikeyan please check this, i have created gist for you <a href=\"https://gist.github.com/mak12/cd3c6570b4902d43e6746d3c0340724c\" rel=\"nofollow noreferrer\">gist.github.com/mak12/cd3c6570b4902d43e6746d3c0340724c</a>"}, {"owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536900412, "post_id": 52269053, "comment_id": 91597135, "body": "last2nd line means ??"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536900604, "post_id": 52269053, "comment_id": 91597176, "body": "nevermind, please check the link, it has complete code of fragment"}, {"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "reply_to_user": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1536904152, "post_id": 52269053, "comment_id": 91598131, "body": "@Karthikeyan did it help you?"}], "tags": [], "owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "is_accepted": false, "score": 2, "last_activity_date": 1536658595, "last_edit_date": 1536658595, "creation_date": 1536642845, "answer_id": 52269053, "question_id": 52268841, "link": "https://stackoverflow.com/questions/52268841/how-to-fix-this-bug-using-kotlin-could-not-find-fragment-constructor/52269053#52269053", "title": "How to fix this bug using Kotlin,could not find Fragment constructor?", "body": "<p>What you can do, is to make a default constructor with zero parameters</p>\n\n<pre><code>companion object {\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment LoginFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    @JvmStatic\n    fun newInstance(param1: String, param2: String) =\n            ReceiveFragment().apply {\n                arguments = Bundle().apply {\n                    putString(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n// Or from your code, you can use Gson\n   val prefs = applicationContext.getSharedPreferences(\"MyPref\", 0)\n   val gson = Gson()\n   val json = prefs.getString(\"MyObject\", \"\")\n   val person1: List&lt;TransactionEntity&gt; = gson.fromJson(json, \n   ArrayList&lt;TransactionEntity&gt;()::class.java)\n\n            }\n}\n</code></pre>\n\n<p>And you can use it like</p>\n\n<pre><code>   0 -&gt; receiveFragment= ReceiveFragment.newInstance(firstParam, secondParam)\n</code></pre>\n\n<p>And you can receive this params in <code>onCreate</code></p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    arguments?.let {\n        email = it.getString(ARG_PARAM1)\n        password = it.getString(ARG_PARAM2)\n\n    }\n  // Or from your code, you can use Gson\n   val prefs = applicationContext.getSharedPreferences(\"MyPref\", 0)\n   val gson = Gson()\n   val json = prefs.getString(\"MyObject\", \"\")\n   val person1: List&lt;TransactionEntity&gt; = gson.fromJson(json, \n   ArrayList&lt;TransactionEntity&gt;()::class.java)\n}\n</code></pre>\n\n<p>And your fragment constructor like this</p>\n\n<pre><code>class ReceiveFragment: Fragment()\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10926, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1536658595, "creation_date": 1536641347, "last_edit_date": 1536658245, "question_id": 52268841, "link": "https://stackoverflow.com/questions/52268841/how-to-fix-this-bug-using-kotlin-could-not-find-fragment-constructor", "title": "How to fix this bug using Kotlin,could not find Fragment constructor?", "body": "<p>I am developing <code>Android</code> app using Kotlin.In my app contains <code>Tab</code> with <code>ViewPager</code> so i implement the two tabs.when i move to another activity and compack to tab view activity the app getting fource stop and the <code>logcat</code> shows below the error.</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.crypto.wallet/com.crypto.wallet.activities.MainActivity}: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.crypto.wallet.activities.ReceiveFragment: could not find Fragment constructor</p>\n</blockquote>\n\n<p><strong>MyFragment.kt</strong></p>\n\n<pre><code>@SuppressLint(\"ValidFragment\")\nclass ReceiveFragment(private val transactionList: List&lt;TransactionEntity&gt;, val appDatabase: AppDatabase, private val direction: TransactionAdapterDirection,\n                      val networkDefinitionProvider: NetworkDefinitionProvider) : Fragment(){\n\n    private var linearLayoutManager: LinearLayoutManager? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val rootView = inflater.inflate(R.layout.receive_fragment, container, false)\n        val recyclerView = rootView.findViewById&lt;RecyclerView&gt;(R.id.transaction_recycler_in) as RecyclerView\n        linearLayoutManager = LinearLayoutManager(getActivity(), LinearLayout.VERTICAL, false)\n        recyclerView.layoutManager = linearLayoutManager\n        recyclerView.adapter = TransactionRecyclerAdapter(transactionList,appDatabase,direction,networkDefinitionProvider)\n        recyclerView.setHasFixedSize(true);\n        return rootView\n    }\n}\n</code></pre>\n\n<p><strong>ViewPager.kt</strong></p>\n\n<pre><code>override fun getItem(position: Int): Fragment? {\n        var fragment: Fragment? = null\n        when (position) {\n            //0 -&gt; fragment = ReceiveFragment(MytransactionList,MyappDatabase,Myincoming,MynetworkDefinitionProvider)\n            0 -&gt; fragment = ReceiveFragment(MyIT,MyAppDatabase,MyIncoming,MyNetwork)\n            1 -&gt; fragment = SendFragment()\n        }\n\n        return fragment\n    }\n</code></pre>\n\n<p><strong>Main.kt\nOnCreate()</strong></p>\n\n<pre><code>val viewPager = findViewById&lt;ViewPager&gt;(R.id.viewpager)\n                if (viewPager != null) {\n                    val adapter = ViewPagerAdapter(supportFragmentManager,it,appDatabase,INCOMING,networkDefinitionProvider)\n                    viewPager.adapter = adapter\n                }\n\n val pref = applicationContext.getSharedPreferences(\"MyPref\", 0) // 0 - for private mode\n                val editor = pref.edit()\n                val gson = Gson()\n                val json = gson.toJson(it)\n                editor.putString(\"MyObject\", json)\n                editor.apply()\n</code></pre>\n\n<p><strong>OnResume()</strong></p>\n\n<pre><code>val prefs = applicationContext.getSharedPreferences(\"MyPref\", 0)\n        val gson = Gson()\n        val json = prefs.getString(\"MyObject\", \"\")\n        val person1: List&lt;TransactionEntity&gt; = gson.fromJson(json, ArrayList&lt;TransactionEntity&gt;()::class.java)\n</code></pre>\n\n<p><strong>UPDATE:</strong> \nAfter i tried this i get same error(i tried both Bundle and Shared pref):</p>\n\n<pre><code>companion object {\n        @JvmStatic\n        fun newInstance(myIT: List&lt;TransactionEntity&gt;, myAppDatabase: AppDatabase, myIncoming: TransactionAdapterDirection,\n                        myNetwork: NetworkDefinitionProvider,\n                        bundle: Bundle) =\n                ReceiveFragment(myIT, myAppDatabase, myIncoming, myNetwork,bundle).apply {\n                    arguments = Bundle().apply {\n                       /* val prefs = getActivity()!!.getApplicationContext().getSharedPreferences(\"myPrefs\", 0)\n                        val gson = Gson()\n                        val json = prefs.getString(\"MyObject\", \"\")\n                        val person1: List&lt;TransactionEntity&gt; = gson.fromJson(json,\n                                ArrayList&lt;TransactionEntity&gt;()::class.java)\n                        Log.d(\"Karthi\", \"Frag-GSON \" + person1)*/\n\n                        val dd = bundle.getSerializable(\"MySerializable\")\n                        Log.d(\"Karthi\", \"Frag-GSON \" + dd)\n                    }\n                }\n    }\n</code></pre>\n\n<p>Main.kt:</p>\n\n<pre><code>val bundle = Bundle()\n                val gson_budle = Gson()\n                val json_bundle = gson_budle.toJson(it)\n                bundle.putSerializable(\"MySerializable\", json_bundle)\n\n                val sharedPreferences = getSharedPreferences(myPreferences, Context.MODE_PRIVATE)\n                val editor = sharedPreferences.edit()\n                val gson = Gson()\n                val json = gson.toJson(it)\n                editor.putString(\"MyObject\", json)\n                editor.putString(\"MyObject_json_bundle\", json_bundle)\n                Log.d(\"Karthi\",\"After - IT\" + json)\n                Log.d(\"Karthi\",\"After - IT\" + json_bundle)\n                editor.apply()\n</code></pre>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main\n                                                                     Process: com.crypto.wallet, PID: 29313\n                                                                     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.crypto.wallet/com.crypto.wallet.activities.MainActivity}: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.crypto.wallet.activities.ReceiveFragment: could not find Fragment constructor\n  at android.support.v4.app.FragmentController.restoreAllState(FragmentController.java:152)\n                                                                         at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:330)\n                                                                         at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:84)\n                                                                         at com.crypto.wallet.activities.MainActivity.onCreate(MainActivity.kt:194)</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1536643395, "creation_date": 1536643395, "answer_id": 52269139, "question_id": 52268716, "link": "https://stackoverflow.com/questions/52268716/kotlin-combined-case-statements-disallow-to-access-to-member-variable/52269139#52269139", "title": "Kotlin: Combined case statements, disallow to access to member variable", "body": "<blockquote>\n  <p>Can't I combine those 3 case statements?</p>\n</blockquote>\n\n<p>No, you can't. Remember how it works in </p>\n\n<pre><code>is ReflectSource -&gt; {\n    field.isAccessible = true\n    field.set(target, annotation.value)\n}\n</code></pre>\n\n<p>case: <code>annotation.value</code> hides a cast inserted by the compiler, it's really <code>(annotation as ReflectSource).value</code>.</p>\n\n<p>Which class should the compiler insert cast to when you use <code>is ReflectSource, is ReflectBinary, is ReflectRuntime</code>?</p>\n\n<p>In principle the compiler could handle this, but it would complicate the language description and the implementation for a quite rare case. </p>\n\n<p>One option to reduce duplication would be</p>\n\n<pre><code>val value = when(annotation) {\n    is ReflectSource -&gt; annotation.value\n    is ReflectBinary -&gt; annotation.value\n    is ReflectRuntime -&gt; annotation.value\n    else -&gt; null\n}\nvalue?.let {\n    field.isAccessible = true\n    field.set(target, it)\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 52269139, "answer_count": 1, "score": 2, "last_activity_date": 1536643395, "creation_date": 1536640477, "question_id": 52268716, "link": "https://stackoverflow.com/questions/52268716/kotlin-combined-case-statements-disallow-to-access-to-member-variable", "title": "Kotlin: Combined case statements, disallow to access to member variable", "body": "<p>In my <code>when</code> statement, we have 3 cases that is performing the similar thing.</p>\n\n<pre><code>private fun bindValue(target: Activity) {\n    val declaredFields = target::class.java.declaredFields\n\n    for (field in declaredFields) {\n        for (annotation in field.annotations) {\n\n            when(annotation) {\n                is ReflectSource -&gt; {\n                    field.isAccessible = true\n                    field.set(target, annotation.value)\n                }\n                is ReflectBinary -&gt; {\n                    field.isAccessible = true\n                    field.set(target, annotation.value)\n                }\n                is ReflectRuntime -&gt; {\n                    field.isAccessible = true\n                    field.set(target, annotation.value)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So I thought of merging them, as below</p>\n\n<pre><code>private fun bindValue(target: Activity) {\n    val declaredFields = target::class.java.declaredFields\n\n    for (field in declaredFields) {\n        for (annotation in field.annotations) {\n\n            when(annotation) {\n                is ReflectSource, is ReflectBinary, is ReflectRuntime -&gt; {\n                    field.isAccessible = true\n                    field.set(target, annotation.value)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, it errors out stating that the <code>value</code> of <code>annotation</code> is not accessible. Why? Can't I combine those 3 case statements?</p>\n\n<p><strong>Update</strong>\nMy three classes as below</p>\n\n<pre><code>@Retention(AnnotationRetention.SOURCE)\n@Target(AnnotationTarget.FIELD)\nannotation class ReflectSource(val value: Int)\n\n@Retention(AnnotationRetention.BINARY)\n@Target(AnnotationTarget.FIELD)\nannotation class ReflectBinary(val value: Int)\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FIELD)\nannotation class ReflectRuntime(val value: Int)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "is_accepted": false, "score": 1, "last_activity_date": 1536647101, "last_edit_date": 1536647101, "creation_date": 1536633006, "answer_id": 52267880, "question_id": 52267707, "link": "https://stackoverflow.com/questions/52267707/implementation-of-java-interface-to-kotlin-class/52267880#52267880", "title": "Implementation of java interface to Kotlin class", "body": "<p>In the below code is my answer, but I think I broke the rule of kotlin getter setter, because I created setter..</p>\n\n<pre><code>class Message : IMessage {\n    private var id: String? = null\n    private var text: String? = null\n    private var user: IUser? = null\n    private var createdAt: Date? = null\n\n    fun setId(id: String) {\n        this.id = id\n    }\n\n    fun setText(text: String) {\n        this.text = text\n    }\n\n    fun setUser(user: IUser) {\n        this.user = user\n    }\n\n    fun setCreatedAt(createdAt: Date) {\n        this.createdAt = createdAt\n    }\n\n    override fun getId(): String? {\n        return id\n    }\n\n    override fun getText(): String? {\n        return text\n    }\n\n    override fun getUser(): IUser? {\n        return user\n    }\n\n    override fun getCreatedAt(): Date? {\n        return createdAt\n    }\n\n}\n</code></pre>\n\n<h1>My Result</h1>\n\n<pre><code> val message = Message()\n message.setId(\"\")\n message.setText(\"\")\n message.setUser(Author())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "edited": false, "score": 0, "creation_date": 1536647811, "post_id": 52269827, "comment_id": 91487237, "body": "in this example, I&#39;m still having Val cannot be reassigned <code>var message = Message() message.user = Author() message.text = &quot;&quot; messate.createdAt = Date() message.id = &quot;&quot;</code>"}, {"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "reply_to_user": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "edited": false, "score": 0, "creation_date": 1536649613, "post_id": 52269827, "comment_id": 91488105, "body": "Please check, this is working. Interface implemented by your compiler was treating it as getter and setter method. In previous code we only had a getter. hence you can not access it with dot operator and change value."}, {"owner": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "edited": false, "score": 0, "creation_date": 1536653377, "post_id": 52269827, "comment_id": 91490033, "body": "IMessage is from library, so I cannot change the current code"}, {"owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "reply_to_user": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "edited": false, "score": 0, "creation_date": 1536655127, "post_id": 52269827, "comment_id": 91490971, "body": "IMessage can be used for getting data from Message class. You can not set data to Message object then."}], "tags": [], "owner": {"reputation": 927, "user_id": 4076507, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AqB7awfZyNc/AAAAAAAAAAI/AAAAAAAAAqk/1AUhOTRHqlk/photo.jpg?sz=128", "display_name": "Ganesh Tikone", "link": "https://stackoverflow.com/users/4076507/ganesh-tikone"}, "is_accepted": false, "score": 2, "last_activity_date": 1536649505, "last_edit_date": 1536649505, "creation_date": 1536647111, "answer_id": 52269827, "question_id": 52267707, "link": "https://stackoverflow.com/questions/52267707/implementation-of-java-interface-to-kotlin-class/52269827#52269827", "title": "Implementation of java interface to Kotlin class", "body": "<p>Please change user object to IUser as I am not sure what it contains.</p>\n\n<p><strong>Interface</strong></p>\n\n<pre><code>public interface IMessage {\n\n    String getId();\n\n    void setId(@NonNull String id);\n\n    String getText();\n\n    void setText(@NonNull String text);\n\n    String getUser();\n\n    void setUser(@NonNull String user);\n\n    Date getCreatedAt();\n\n    void setCreatedAt(@NonNull Date createdAt);\n}\n</code></pre>\n\n<p><strong>Message Class</strong></p>\n\n<pre><code>class Message : IMessage {\n    override fun setId(id: String) {\n        this.id = id\n    }\n\n    override fun setText(text: String) {\n        this.text = text\n    }\n\n    override fun setUser(user: String) {\n        this.user = user\n    }\n\n    override fun setCreatedAt(createdAt: Date) {\n        this.createdAt = createdAt\n    }\n\n\n    override fun getId(): String {\n        return id\n    }\n\n    override fun getText(): String {\n        return text\n    }\n\n    override fun getUser(): String {\n        return user\n    }\n\n    override fun getCreatedAt(): Date {\n        return createdAt\n    }\n\n    override fun toString(): String {\n        return StringBuilder().append(id).append(user).append(text).append(createdAt.toString()).toString()\n    }\n\n    private var id: String = \"id\"\n    private var createdAt: Date = Date()\n    private var user: String = \"user\"\n    private var text: String = \"text\"\n}\n</code></pre>\n\n<p><strong>MainActivity Code</strong> onCreate</p>\n\n<pre><code>        val message = Message()\n        message.user = \"Ganesh\"\n        message.createdAt = Date()\n        message.id = \"1\"\n        message.text = \"Hello World\"\n\n        Log.e(\"First message object \", message.toString())\n\n        message.user = \"Tikone\"\n        message.createdAt = Date()\n        message.id = \"2\"\n        message.text = \"Hello Kotlin\"\n\n        Log.e(\"After message object \", message.toString())\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p>09-11 12:30:40.188 29575-29575/com.sysanenet.myapplication E/First\u00a0message\u00a0object: 1GaneshHello WorldTue Sep 11 12:30:40 GMT+05:30 2018</p>\n\n<p>09-11 12:30:40.188 29575-29575/com.sysanenet.myapplication E/After\u00a0message\u00a0object: 2TikoneHello KotlinTue Sep 11 12:30:40 GMT+05:30 2018</p>\n"}], "owner": {"reputation": 347, "user_id": 2801777, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/d7Xzw.png?s=128&g=1", "display_name": "ronscript", "link": "https://stackoverflow.com/users/2801777/ronscript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536649505, "creation_date": 1536631347, "last_edit_date": 1536633021, "question_id": 52267707, "link": "https://stackoverflow.com/questions/52267707/implementation-of-java-interface-to-kotlin-class", "title": "Implementation of java interface to Kotlin class", "body": "<h1>Scenario/Problem</h1>\n\n<p>In the below code example, I implemented <code>IMessage</code> from java to kotlin <code>Message</code>. But when I pass a value to <code>message</code> variable it says <code>val cannot be reassigned</code></p>\n\n<pre><code>val message = Message()\nmessage.user = Author()\nmessage.text = \"\"\nmessate.createdAt = Date()\nmessage.id = \"\"\n\npublic interface IMessage {\n    String getId();\n    String getText();\n    IUser getUser();\n    Date getCreatedAt();\n}\n\nclass Message : IMessage {\n    private var id: String = \"\"\n    private var createdAt = Date()\n    private var user = Author()\n    private var text: String = \"\"\n\n    override fun getId(): String {\n        return id\n    }\n\n    override fun getCreatedAt(): Date {\n        return createdAt\n    }\n\n    override fun getUser(): IUser {\n        return user\n    }\n\n    override fun getText(): String {\n        return text\n    }\n\n}\n</code></pre>\n\n<h1>Question</h1>\n\n<ol>\n<li>What part of the code is wrong?</li>\n</ol>\n\n<h1>Expected Result</h1>\n\n<pre><code> val message = Message()\n message.id = \"\"\n message.text = \"\"\n message.user = Author()\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1536659073, "post_id": 52267095, "comment_id": 91493385, "body": "You say you want to &quot;to join created games&quot;. What do you mean? Can you also add your database structure for a better understanding?"}, {"owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1536688051, "post_id": 52267095, "comment_id": 91511014, "body": "If there are no open games, then the user will create a new game object and upload it to the games collection. Every document (game) has a creator and a joiner. My whole database consists of a games collection and a users collection."}], "owner": {"reputation": 1313, "user_id": 6122491, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6227cbb5bca5f4fce6d78660d0b1d3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/6122491/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 444, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536625541, "creation_date": 1536625541, "question_id": 52267095, "link": "https://stackoverflow.com/questions/52267095/firebase-firestore-multiplayer-game-matchmaking", "title": "Firebase Firestore Multiplayer Game Matchmaking", "body": "<p>So I want to make a multiplayer game using Firebase Firestore that involves matchmaking two players. I have a collection of game objects and each game has a creator and joiner field (just the UID of the users). I'm trying to attempt to join created games and am struggling with it. Here is what I currently have.</p>\n\n<pre><code> fun findOpenGame(onComplete: (gameFound: Boolean, gameObject: Game?, gameRef: DocumentReference?) -&gt; Unit) {\n        gamesCollectionRef\n                .whereEqualTo(\"joiner\", null)\n                .get()\n                .addOnCompleteListener { task -&gt;\n                    if (task.isSuccessful) {\n                        for (document: DocumentSnapshot in task.result) {\n                            val game: Game = document.toObject(Game::class.java)!!\n                            if (game.joiner == null) {\n                                document.reference.update(\"joiner\", FirebaseAuth.getInstance().uid)\n                                        .addOnSuccessListener {\n                                            onComplete(true, game, document.reference)\n                                        }\n                                        .addOnFailureListener {\n                                            Log.e(FirestoreUtil.javaClass.simpleName, \"Couldn't connect to game\")\n                                        }\n                            }\n                        }\n\n                    } else {\n                        //no games to join\n                        onComplete(false, null, null)\n                    }\n                }\n    }\n</code></pre>\n\n<p>BTW, I'm really new to Kotlin so please feel free to tell me if I'm missing something obvious. I also have to deal with the issue of multiple users trying to join the same match at once and messing things up. Any advice helps :)</p>\n"}, {"tags": ["lambda", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": false, "score": 3, "last_activity_date": 1536618404, "creation_date": 1536618404, "answer_id": 52266303, "question_id": 52266032, "link": "https://stackoverflow.com/questions/52266032/strange-lambda-in-kotlin/52266303#52266303", "title": "Strange lambda in Kotlin", "body": "<p>It looks like you're printing out the companion object for <code>Int</code>, rather than an instance of <code>Int</code>. If you use <code>val whatIsThat = { n: Int -&gt; Int.Companion }</code>, you'll get the same result. It seems like an unintended side effect of the way companion objects are handled in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1536662568, "creation_date": 1536662568, "answer_id": 52274108, "question_id": 52266032, "link": "https://stackoverflow.com/questions/52266032/strange-lambda-in-kotlin/52274108#52274108", "title": "Strange lambda in Kotlin", "body": "<p>Let's expand your declaration by explicitly stating its type:</p>\n\n<pre><code>val whatIsThat: (Int) -&gt; Int.Companion = { n: Int -&gt; Int}\n</code></pre>\n\n<p>I'm guessing you expected the type to be <code>(Int) -&gt; Int</code>, right? But the syntax you used is not type declaration, it's the actual lambda body. Your lambda takes an <code>Int</code> and returns the <code>Int</code> singleton, whose type is <code>Int.Companion</code>.</p>\n"}], "owner": {"reputation": 170, "user_id": 2530661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b3549ae9b7fb14fb8b97657f1c7591?s=128&d=identicon&r=PG", "display_name": "J&#246;rg Vollmer", "link": "https://stackoverflow.com/users/2530661/j%c3%b6rg-vollmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536662568, "creation_date": 1536616623, "question_id": 52266032, "link": "https://stackoverflow.com/questions/52266032/strange-lambda-in-kotlin", "title": "Strange lambda in Kotlin", "body": "<p>I can assign the following lambda to a variable. </p>\n\n<pre><code>val whatIsThat = {n: Int -&gt; Int}\n</code></pre>\n\n<p>But what does it mean? Strangely enough, I can execute whatIsThat(2)</p>\n\n<pre><code>println(whatIsThat(2))\n</code></pre>\n\n<p>and the result is kotlin.jvm.internal.IntCompanionObject. Maybe it's a \"secret feature\"?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-data-redis", "jackson2"], "comments": [{"owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "edited": false, "score": 0, "creation_date": 1560097249, "post_id": 52265326, "comment_id": 99618118, "body": "I have opened <a href=\"https://github.com/FasterXML/jackson-databind/issues/2349\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/2349</a> related issue."}], "answers": [{"comments": [{"owner": {"reputation": 14372, "user_id": 852499, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/53c5ebb83f2cb72ef2f30c2c203f4b21?s=128&d=identicon&r=PG", "display_name": "Mustafa G&#252;ven", "link": "https://stackoverflow.com/users/852499/mustafa-g%c3%bcven"}, "edited": false, "score": 1, "creation_date": 1556111373, "post_id": 54878212, "comment_id": 98326274, "body": "The last sentence should be written in capital characters. It saved my ass :)"}], "tags": [], "owner": {"reputation": 150, "user_id": 1400780, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/14f9992a883d66e553ebd30993d3c698?s=128&d=identicon&r=PG", "display_name": "MrKnyaz", "link": "https://stackoverflow.com/users/1400780/mrknyaz"}, "is_accepted": true, "score": 6, "last_activity_date": 1551166185, "last_edit_date": 1551166185, "creation_date": 1551153115, "answer_id": 54878212, "question_id": 52265326, "link": "https://stackoverflow.com/questions/52265326/how-can-i-easily-cache-kotlin-objects-in-redis-using-json-via-jackson/54878212#54878212", "title": "How can I easily cache Kotlin Objects in Redis using json via Jackson?", "body": "<p>I had the same problem. You should use \"open\" classes. But this will not help you with data classes, because you cannot make them \"open\".<br/>\nThere is a plugin called \"all-open\" where you can define annotations. If you use these annotations classes become \"open\", even data classes.<br/></p>\n\n<p>spring-kotlin plugin uses \"all-open\" plugin under the hood, so spring annotations like @Service, @Component etc. make classes open for AOP, because proxying requires you to inherit from classes.</p>\n\n<p>If you use spring-kotlin plugin, there is nice annotation that makes sense for you problem, it is used in Spring Cache, its name is @Cacheable.\nIf you use @Cacheable on your classes, they will become open and save their type-info to json (ex: {@class: \"com.example.MyClass\", ...}) when you include this code:</p>\n\n<pre><code>    val objectMapper =\n    ObjectMapper()\n        .registerModule(KotlinModule())\n        .registerModule(JavaTimeModule())\n        .enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY)\n\nval serializer = GenericJackson2JsonRedisSerializer(objectMapper)\n</code></pre>\n\n<p>More details: <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/compiler-plugins.html</a></p>\n\n<p><strong>Shortly: You don't have to do anything except adding @Cacheable annotation to the classes you want, and it fits by sense also IMO.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 677, "user_id": 4301149, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100004206072736/picture?type=large", "display_name": "Ihar Sadounikau", "link": "https://stackoverflow.com/users/4301149/ihar-sadounikau"}, "is_accepted": false, "score": 1, "last_activity_date": 1567885767, "last_edit_date": 1567885767, "creation_date": 1567858503, "answer_id": 57833592, "question_id": 52265326, "link": "https://stackoverflow.com/questions/52265326/how-can-i-easily-cache-kotlin-objects-in-redis-using-json-via-jackson/57833592#57833592", "title": "How can I easily cache Kotlin Objects in Redis using json via Jackson?", "body": "<p>The <a href=\"https://github.com/FasterXML/jackson-databind/issues/2349\" rel=\"nofollow noreferrer\">issues</a> have been solved. Therefore we can remove <code>@Cacheble</code> hack from the code. You have to modify your <code>ObjectMapper</code> with the next implementation</p>\n\n<pre><code>val om = ObjectMapper()\n            .registerModule(KotlinModule())\n            .registerModule(JavaTimeModule())\n            .activateDefaultTyping(BasicPolymorphicTypeValidator.builder()\n                .allowIfBaseType(Any::class.java)\n                .build(), ObjectMapper.DefaultTyping.EVERYTHING)\n\nval serializer = GenericJackson2JsonRedisSerializer(om)\n</code></pre>\n\n<p>Fixed Maven Jackon dependency</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0.pr2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6179998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bffa3cbb664b3ecd30fd6b14fad9dca?s=128&d=identicon&r=PG&f=1", "display_name": "sharping", "link": "https://stackoverflow.com/users/6179998/sharping"}, "is_accepted": false, "score": 0, "last_activity_date": 1568127693, "creation_date": 1568127693, "answer_id": 57873536, "question_id": 52265326, "link": "https://stackoverflow.com/questions/52265326/how-can-i-easily-cache-kotlin-objects-in-redis-using-json-via-jackson/57873536#57873536", "title": "How can I easily cache Kotlin Objects in Redis using json via Jackson?", "body": "<p>You can look this:</p>\n\n<p><a href=\"https://github.com/endink/caching-kotlin\" rel=\"nofollow noreferrer\">https://github.com/endink/caching-kotlin</a></p>\n\n<p>Its support both jackson and kryo</p>\n"}], "owner": {"reputation": 2648, "user_id": 59397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b4fbb3e3e16067fa97b194b1648282c?s=128&d=identicon&r=PG", "display_name": "AwesomeTown", "link": "https://stackoverflow.com/users/59397/awesometown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2059, "favorite_count": 1, "accepted_answer_id": 54878212, "answer_count": 3, "score": 1, "last_activity_date": 1568127693, "creation_date": 1536612703, "question_id": 52265326, "link": "https://stackoverflow.com/questions/52265326/how-can-i-easily-cache-kotlin-objects-in-redis-using-json-via-jackson", "title": "How can I easily cache Kotlin Objects in Redis using json via Jackson?", "body": "<p>I have a Spring boot app written in Kotlin where I would like to enable caching in Redis. I'd like to have the objects stored as serialized JSON and ideally don't want to have to register each type that could be potentially cached. I have some configuration that mostly works, with a big caveat.</p>\n\n<pre><code>@Bean\nfun redisCacheConfiguration(): RedisCacheConfiguration {\n    val objectMapper =\n        ObjectMapper()\n            .registerModule(KotlinModule())\n            .registerModule(JavaTimeModule())\n            .enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY)\n\n    val serializer = GenericJackson2JsonRedisSerializer(objectMapper)\n\n    return RedisCacheConfiguration\n        .defaultCacheConfig()\n        .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(serializer))\n}\n</code></pre>\n\n<p>I'm having a little trouble understanding the different values for <code>DefaultTyping</code> but <code>NON_FINAL</code> seems to be the most expansive. However, since objects in Kotlin are final by default, this only works for objects flagged as \"open\". Ideally I'd like to avoid having to \"open\" objects just so they can be cached.</p>\n\n<p>Is there some other way I can make this work?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1536601496, "post_id": 52262935, "comment_id": 91473647, "body": "Kotlin compiles to Java bytecode, and there are tons of resources about this if you google for it - <a href=\"https://kotlinlang.org/docs/reference/faq.html#what-does-kotlin-compile-down-to\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 139, "user_id": 6107844, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/29ee1a31a1287e90e63e18cbd46822b5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Drumble4", "link": "https://stackoverflow.com/users/6107844/s-drumble4"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1536601619, "post_id": 52262935, "comment_id": 91473700, "body": "@zsmb13 Okay, so they are almost the same in terms of this question?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1536601714, "post_id": 52262935, "comment_id": 91473739, "body": "Yes, you end up with .class files from both compilers, and then they compile down to .dex all the same."}, {"owner": {"reputation": 139, "user_id": 6107844, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/29ee1a31a1287e90e63e18cbd46822b5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Drumble4", "link": "https://stackoverflow.com/users/6107844/s-drumble4"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1536601849, "post_id": 52262935, "comment_id": 91473790, "body": "@zsmb13 Can you please add your answer so that I could check it as the best."}], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 2, "last_activity_date": 1536601926, "creation_date": 1536601926, "answer_id": 52263054, "question_id": 52262935, "link": "https://stackoverflow.com/questions/52262935/kotlin-versus-android-java-in-terms-of-working-on-dalvik-vm/52263054#52263054", "title": "Kotlin versus android java in terms of working on Dalvik VM", "body": "<p>Kotlin is just compiled to Java's bytecode. For any \"special\" functions, like extensions or null-protection, Kotlin just injects some code. For example, with null-protection, the Kotlin code may look like:</p>\n\n<pre><code>fun setPackageName(pName: String) {\n    //do something\n}\n</code></pre>\n\n<p>While it compiles to:</p>\n\n<pre><code>public final void setPackageName(@NotNull String pName) {\n    Intrinsics.checkParameterIsNotNull(pName, \"setPackageName\");\n    //do something\n}\n</code></pre>\n\n<p>If you have a variable in Kotlin, with a setter/getter:</p>\n\n<pre><code>var something: Something? = null\n    get() {\n        return field\n    }\n    set(value) {\n        field = value\n    }\n</code></pre>\n\n<p>Kotlin will just convert the whole setup into a private member variable and some methods:</p>\n\n<pre><code>private Something something;\n\npublic Something getSomething() {\n    return something;\n}\n\npublic void setSomething(Something something) {\n    this.something = something;\n}\n</code></pre>\n\n<p>Obviously, this sett/getter is pretty useless, but it illustrates what Kotlin might do.</p>\n\n<p>Basically, Kotlin just converts itself to Java at compile-time.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1536602080, "creation_date": 1536602080, "answer_id": 52263084, "question_id": 52262935, "link": "https://stackoverflow.com/questions/52262935/kotlin-versus-android-java-in-terms-of-working-on-dalvik-vm/52263084#52263084", "title": "Kotlin versus android java in terms of working on Dalvik VM", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/faq.html#what-does-kotlin-compile-down-to\" rel=\"nofollow noreferrer\">Kotlin compiles to Java bytecode</a>, and for the purposes of Android, the <code>.class</code> outputs of both of these compilers are transformed to <code>.dex</code> files in the same way, at that point in the process, their source languages are completely irrelevant.</p>\n\n<p><a href=\"https://youtu.be/CtZL_IjR5Ww?t=6m20s\" rel=\"nofollow noreferrer\">Here</a> is a part of a talk by Jake Wharton where he explains the intricacies of actually resolving references so that interop can work both ways between Java and Kotlin, for example.</p>\n"}], "owner": {"reputation": 139, "user_id": 6107844, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/29ee1a31a1287e90e63e18cbd46822b5?s=128&d=identicon&r=PG&f=1", "display_name": "S.Drumble4", "link": "https://stackoverflow.com/users/6107844/s-drumble4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 52263084, "answer_count": 2, "score": -1, "last_activity_date": 1536602080, "creation_date": 1536601418, "question_id": 52262935, "link": "https://stackoverflow.com/questions/52262935/kotlin-versus-android-java-in-terms-of-working-on-dalvik-vm", "title": "Kotlin versus android java in terms of working on Dalvik VM", "body": "<p>I would like to know whether kotlin is the same as android java in terms of low level interactions. By this I mean that android java files are converted to dex files and then they can be run on Dalvik VM and what about kotlin files? Is it the same way or there is something else? And where can I find more information about this? May be some good book talks about it? Thank you.</p>\n"}, {"tags": ["java", "mysql", "kotlin", "spring-data-jpa", "jpql"], "comments": [{"owner": {"reputation": 480, "user_id": 1247166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc5ef55ab7b6814d61f3ef53346af72f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1247166/martin"}, "edited": false, "score": 0, "creation_date": 1536602967, "post_id": 52262741, "comment_id": 91474273, "body": "I don&#39;t understand the second example where you say &quot;order by :var1&quot; considering var1 is a list."}, {"owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "reply_to_user": {"reputation": 480, "user_id": 1247166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc5ef55ab7b6814d61f3ef53346af72f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1247166/martin"}, "edited": false, "score": 1, "creation_date": 1536604424, "post_id": 52262741, "comment_id": 91474998, "body": "Yes, the idea is that the query will be like: &quot;SELECT p FROM Photo p where p.id in (1,2,3) order by FIELD(1,2,3)&quot; from MySQL 8"}, {"owner": {"reputation": 480, "user_id": 1247166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc5ef55ab7b6814d61f3ef53346af72f?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/1247166/martin"}, "edited": false, "score": 0, "creation_date": 1536604962, "post_id": 52262741, "comment_id": 91475261, "body": "so &quot;nativeQuery=true&quot; in the Query annotation to use such a query is not an option?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3973283"}, "edited": false, "score": 1, "creation_date": 1536646452, "post_id": 52262741, "comment_id": 91486676, "body": "&quot;JPA&quot; doesn&#39;t do methods called &quot;findXXX&quot;; that is Spring Data JPA"}], "answers": [{"tags": [], "owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1537263616, "creation_date": 1537263616, "answer_id": 52383587, "question_id": 52262741, "link": "https://stackoverflow.com/questions/52262741/spring-data-jpa-findallby-in-orderby-input-list/52383587#52383587", "title": "Spring Data JPA findAllBy ... in ... orderBy input list", "body": "<p>Once you get all the items in a certain id, with <code>findAllByIdIn</code>, to get the correct order, I used the following method:</p>\n\n<pre><code>private fun getOrderedItemsFromOneListToAnother(photosOrder: List&lt;String&gt;, \n                                                photosFound: List&lt;Photo&gt;): List&lt;Photo&gt;{\n    val mapStringIdsOrder = photosOrder.mapIndexed { index, s -&gt;  s to index}.toMap()\n\n    Collections.sort(photosFound, Comparator { o1: Photo, o2: Photo-&gt;\n        Integer.compare(mapStringIdsOrder.getOrDefault(o1.id,photosOrder.size), \n        mapStringIdsOrder.getOrDefault(o2.id, photosOrder.size))})\n\n    return photosOrder\n}\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 2989387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ac800c1daa4597cec025b5270595b81?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/2989387/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2392, "favorite_count": 0, "accepted_answer_id": 52383587, "answer_count": 1, "score": 0, "last_activity_date": 1537263616, "creation_date": 1536600525, "last_edit_date": 1536651393, "question_id": 52262741, "link": "https://stackoverflow.com/questions/52262741/spring-data-jpa-findallby-in-orderby-input-list", "title": "Spring Data JPA findAllBy ... in ... orderBy input list", "body": "<p>I'm using JPA with Spring Boot in Kotlin/Java. I'm trying to find the proper and efficient way to do findBy ... In OrderBy input.</p>\n\n<p>I got a list of the Ids I want to find  and I want an ordered output with the same order. This is what JPA allows you:</p>\n\n<pre><code>@Repository\ninterface PhotoRepository : JpaRepository&lt;Photo, String&gt;{\n    // Which is the same as this query\n    @Query(\"SELECT p FROM Photo p where p.id in :var1\")\n    fun findAllByIdIn(var1: List&lt;String&gt;, pageable: Pageable): List&lt;Photo&gt;\n}\n</code></pre>\n\n<p>Would be great if JPA allows you to do something like this:</p>\n\n<pre><code>@Repository\ninterface PhotoRepository : JpaRepository&lt;Photo, String&gt;{\n    @Query(\"SELECT p FROM Photo p where p.id in :var1 order by :var1\")\n    fun findAllByIdInOrderByvar1(var1: List&lt;String&gt;, pageable: Pageable): List&lt;Photo&gt;\n}\n</code></pre>\n\n<p>The size of the id list is between 500- 1500 items. There are lots of records in the database and the idea of select all the records is not feasible</p>\n\n<p>The contemplated solution is to do a <code>findAllByIdIn</code> and then match the records with the ids in list, which I think is not the proper solution, there are extra operations. The idea of changing the database is also contemplated.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1536597769, "post_id": 52261981, "comment_id": 91471957, "body": "You probably haven&#39;t added the code to install the storage module for Glide provided by FirebaseUI."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1536598040, "post_id": 52261981, "comment_id": 91472076, "body": "Have you added <code>Glide</code> dependency in your build.gradle file? Please responde with @."}, {"owner": {"reputation": 45, "user_id": 8166322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c52a38c87c84608f8fcaccd6af7a7e?s=128&d=identicon&r=PG&f=1", "display_name": "DrDeep", "link": "https://stackoverflow.com/users/8166322/drdeep"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1536598354, "post_id": 52261981, "comment_id": 91472222, "body": "@AlexMamo I added my Dependency to my post"}, {"owner": {"reputation": 45, "user_id": 8166322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c52a38c87c84608f8fcaccd6af7a7e?s=128&d=identicon&r=PG&f=1", "display_name": "DrDeep", "link": "https://stackoverflow.com/users/8166322/drdeep"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1536598475, "post_id": 52261981, "comment_id": 91472271, "body": "@DougStevenson i have already tried the steps in the other posts.."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1536598694, "post_id": 52261981, "comment_id": 91472371, "body": "You should follow the documentation: <a href=\"https://github.com/firebase/FirebaseUI-Android/tree/master/storage\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android/tree/master/storage</a>"}, {"owner": {"reputation": 45, "user_id": 8166322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c52a38c87c84608f8fcaccd6af7a7e?s=128&d=identicon&r=PG&f=1", "display_name": "DrDeep", "link": "https://stackoverflow.com/users/8166322/drdeep"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1536602031, "post_id": 52261981, "comment_id": 91473864, "body": "@DougStevenson I Found the error. In the github file there is no statement that you have to implement the dependencies in another way as in java. Only if you go on GeneratedAPI you come to this site : <a href=\"https://bumptech.github.io/glide/doc/generatedapi.html\" rel=\"nofollow noreferrer\">bumptech.github.io/glide/doc/generatedapi.html</a> Where it is explainde how to properly implement GlideApp with Kotlin"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1536602485, "post_id": 52261981, "comment_id": 91474063, "body": "I&#39;m using Glide with Cloud Storage just fine in a project using Kotlin.  You need to use kapt to process annotations.  <a href=\"https://github.com/CodingDoug/firebase-doorbell/\" rel=\"nofollow noreferrer\">github.com/CodingDoug/firebase-doorbell</a>"}], "owner": {"reputation": 45, "user_id": 8166322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c52a38c87c84608f8fcaccd6af7a7e?s=128&d=identicon&r=PG&f=1", "display_name": "DrDeep", "link": "https://stackoverflow.com/users/8166322/drdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 551, "favorite_count": 0, "closed_date": 1536597746, "answer_count": 0, "score": 0, "last_activity_date": 1536598273, "creation_date": 1536596894, "last_edit_date": 1536598273, "question_id": 52261981, "link": "https://stackoverflow.com/questions/52261981/cant-load-image-via-glide-and-firebasestorage", "closed_reason": "Duplicate", "title": "Cant Load Image via Glide and FirebaseStorage", "body": "<p>In my Current Application I try to download an Image from my FirebaseStorage into my App. But i get always the same Error:</p>\n\n<pre><code>W/Glide: Load failed for gs://shocal-a79c4.appspot.com/-LKW8RdfjB-FhXo54clN/items/5de008bc-6ca1-483e-8371-fc4ea39bb7e3/images/image.jpg with size [680x876]\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There was 1 cause:\n    com.bumptech.glide.Registry$NoModelLoaderAvailableException(Failed to find any ModelLoaders for model: gs://shocal-a79c4.appspot.com/-LKW8RdfjB-FhXo54clN/items/5de008bc-6ca1-483e-8371-fc4ea39bb7e3/images/image.jpg)\n     call GlideException#logRootCauses(String) for more detail\n</code></pre>\n\n<p>I tried this both solutions : <a href=\"https://stackoverflow.com/a/46653041/6152620\">https://stackoverflow.com/a/46653041/6152620</a> and <a href=\"https://stackoverflow.com/a/48762436/6152620\">https://stackoverflow.com/a/48762436/6152620</a>. I added the 'MyGlideModule' File and still no change of the problem:</p>\n\n<p>My File where I use Glide: </p>\n\n<pre><code>class YourShopItemsRecyclerAdapter(var myContext: Context,var shop_name : ArrayList&lt;String&gt;,var shop_item_prices : ArrayList&lt;String&gt;,var shop_item_images : ArrayList&lt;String&gt;) : RecyclerView.Adapter&lt;YourShopItemsRecyclerAdapter.ItemViewHolder&gt;(){\n    override fun onCreateViewHolder(parent: ViewGroup, p1: Int): ItemViewHolder {\n        val inflater = LayoutInflater.from(parent.context).inflate(R.layout.cardview_shop_item, parent,false)\n        return ItemViewHolder(inflater)\n\n    }\n\n    override fun getItemCount(): Int {\n        return shop_name.size\n    }\n\n    override fun onBindViewHolder(holder: ItemViewHolder, position: Int) {\n        holder.item_name.text = shop_name[position]\n        holder.item_price.text = shop_item_prices[position]\n        Log.i(\"REF\",shop_item_images[position])\n        var storageRef = FirebaseStorage.getInstance().reference.child(shop_item_images[position])\n        Glide.with(myContext).load(storageRef).into(holder.item_image)\n        //Glide.with(myContext).load(storageRef).thumbnail(0.001f).into(holder.item_image)\n    }\n\n\n    inner class ItemViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n\n        var item_name : TextView = itemView.cardView_textView_shop_item\n        var item_price : TextView = itemView.cardView_textView_shop_item_price\n        var item_image : ImageView = itemView.cardView_imageView_shop_item\n\n\n\n    }\n}\n</code></pre>\n\n<p>Can someone explain to me where i make the error? Or is this way just not working and I have to find another Solution to download the images ?</p>\n\n<p>My Dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0-alpha1'\n    implementation 'com.android.support:design:28.0.0-alpha1'\n\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation 'com.google.android.gms:play-services-maps:15.0.1'\n    implementation 'com.google.firebase:firebase-database:16.0.1'\n    implementation 'com.google.firebase:firebase-auth:16.0.1'\n    implementation 'com.firebaseui:firebase-ui-storage:4.1.0'\n    implementation 'com.android.support:support-v4:28.0.0-rc01'\n    implementation 'com.android.support:recyclerview-v7:28.0.0-rc01'\n    implementation 'com.android.support:support-vector-drawable:28.0.0-rc02'\n    implementation 'com.google.firebase:firebase-storage:16.0.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.firebase:firebase-jobdispatcher:0.8.5'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 3, "last_activity_date": 1536597034, "creation_date": 1536597034, "answer_id": 52262004, "question_id": 52261955, "link": "https://stackoverflow.com/questions/52261955/whats-the-equivalent-of-layoutinflatergetsystemservicelayout-inflater-service/52262004#52262004", "title": "Whats the equivalent of (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE) in kotlin?", "body": "<p>That is the equivalent. You just have a null-protected cast, in case that service is null (it shouldn't ever be, but it does happen occasionally).</p>\n\n<p>To make calls on your <code>inflater</code> variable, you can just use <code>inflater?.method()</code>.</p>\n\n<p>Alternatively, just change <code>as LayoutInflater?</code> to <code>as LayoutInflater</code> to avoid using the null-safe syntax.</p>\n\n<p>As another option, you could just use <code>LayoutInflater.from(this)</code>, which is basically just a convenience function, but it avoids you having to cast.</p>\n"}], "owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1185, "favorite_count": 0, "accepted_answer_id": 52262004, "answer_count": 1, "score": 2, "last_activity_date": 1536597034, "creation_date": 1536596752, "question_id": 52261955, "link": "https://stackoverflow.com/questions/52261955/whats-the-equivalent-of-layoutinflatergetsystemservicelayout-inflater-service", "title": "Whats the equivalent of (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE) in kotlin?", "body": "<p>I'm triyng to get the system layout inflater in kotlin: if i convert <code>LayoutInflater inflater = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);</code> to kotlin I get <code>val inflater = getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater?</code> but it seems to be wrong. So what's the equivalent in kotlin?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 1061011, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5f579a32fa2d56993e7793134cf4516b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1061011/chris"}, "edited": false, "score": 0, "creation_date": 1536689479, "post_id": 52272550, "comment_id": 91511729, "body": "That seems like an excellent approach, and has overlap with some other articles I&#39;ve read since I&#39;ve asked this question. From one Chris to another, cheers!"}, {"owner": {"reputation": 1012, "user_id": 1268634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d535cf90ca678573a349fa6f8d54b74c?s=128&d=identicon&r=PG", "display_name": "Hafiz Waleed Hussain", "link": "https://stackoverflow.com/users/1268634/hafiz-waleed-hussain"}, "edited": false, "score": 0, "creation_date": 1564332823, "post_id": 52272550, "comment_id": 100986887, "body": "Give a try to these slides. Maybe these are helpful in the perspective of MVI. <a href=\"https://docs.google.com/presentation/d/1pBI5-0G7seYryxyGP40_TpYFslN-Z8FyGi2NIVh4dmY/edit#slide=id.p\" rel=\"nofollow noreferrer\">docs.google.com/presentation/d/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1872, "user_id": 9549299, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9549299/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1536657137, "creation_date": 1536657137, "answer_id": 52272550, "question_id": 52261738, "link": "https://stackoverflow.com/questions/52261738/patterns-for-reactive-streams-dealing-with-user-input-and-networks/52272550#52272550", "title": "Patterns for Reactive Streams Dealing with User Input and Networks", "body": "<p>Using operators such as onErrorReturn is a pretty standard approach if you look at reactive patterns which provide a unidirectional data flow such as MVI.</p>\n\n<p>Following such patterns you typically map the state of your network call into an object which represents the state of the call.</p>\n\n<p>A simple example without any MVx patterns would look something like below, where the observable from your RXBinding invokes a call to the API, but instead of just returning the data from the API it returns a state object which can then be rendered on screen.</p>\n\n<pre><code>private val disposables = CompositeDisposable()\n\noverride fun onStart() {\n    super.onStart()\n    disposables.add(\n        RxView.clicks(load_data_button)\n            .flatMap { requestData() }\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(this::renderRequestState)\n    )\n}\n\noverride fun onStop() {\n    disposables.clear()\n    super.onStop()\n}\n\nprivate fun requestData(): Observable&lt;RequestState&gt; {\n    return myApi.requestData()\n        .toObservable()\n        .subscribeOn(Schedulers.io())\n        .map&lt;RequestState&gt;(RequestState::Success)\n        .onErrorReturn(RequestState::Error)\n        .startWith(RequestState.InFlight)\n}\n\nprivate fun renderRequestState(requestState: RequestState) {\n    when (requestState) {\n        RequestState.InFlight -&gt; showProgress()\n        is RequestState.Success -&gt; showResult(requestState.result)\n        is RequestState.Error -&gt; showError(requestState.error)\n    }\n}\n\nsealed class RequestState {\n    object InFlight : RequestState()\n    data class Success(val result: MyData) : RequestState()\n    data class Error(val error: Throwable) : RequestState()\n}\n</code></pre>\n\n<p>Hannes Dorfmann wrote a great set of articles on the MVI pattern which utilises this approach.</p>\n\n<ul>\n<li><a href=\"http://hannesdorfmann.com/android/model-view-intent\" rel=\"nofollow noreferrer\">http://hannesdorfmann.com/android/model-view-intent</a></li>\n<li><a href=\"http://hannesdorfmann.com/android/mosby3-mvi-1\" rel=\"nofollow noreferrer\">http://hannesdorfmann.com/android/mosby3-mvi-1</a></li>\n</ul>\n"}], "owner": {"reputation": 779, "user_id": 1061011, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5f579a32fa2d56993e7793134cf4516b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1061011/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 52272550, "answer_count": 1, "score": 0, "last_activity_date": 1536657137, "creation_date": 1536595865, "last_edit_date": 1536603065, "question_id": 52261738, "link": "https://stackoverflow.com/questions/52261738/patterns-for-reactive-streams-dealing-with-user-input-and-networks", "title": "Patterns for Reactive Streams Dealing with User Input and Networks", "body": "<p>I'm using RxKotlin to build out my latest Android app, and I've come up against a familiar issue: how to handle network errors in an Rx-like way.</p>\n\n<p>I have a stream set up for search terms against a <code>TextView</code> like this:</p>\n\n<pre><code>searchBar\n  .queryTextObservable()\n  .debounce(500, TimeUnit.MILLISECONDS)\n  .map { it.trim() }\n  .filter { it.isNotBlank() }\n  .observeOn(Schedulers.io())\n</code></pre>\n\n<p>This is a useful way to listen against changes to text input, so I then extend the code to feed the prepared text into a network request (using the Retrofit library with the RxJava extension) to search against:</p>\n\n<pre><code>searchBar\n  .queryTextObservable()\n  .debounce(500, TimeUnit.MILLISECONDS)\n  .map { it.trim() }\n  .filter { it.isNotBlank() }\n  .observeOn(Schedulers.io())\n  .switchMap { search(it) }\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribeOn(AndroidSchedulers.mainThread())\n  .subscribe(...)\n</code></pre>\n\n<p>The problem happens when there's a network error - my entire subscription is cancelled. It seems like I have some options to manage the failure, but none of them seem very clean:</p>\n\n<ul>\n<li>Have an inner observable after text input is complete that makes the network request</li>\n<li>Use <code>onErrorResumeNext</code> and pass a sentinel value</li>\n</ul>\n\n<p>This is obviously not exhaustive, but what is the appropriate pattern(s) to gracefully handle network errors while preserving the stream (and hence the usefulness) of user input from the search bar?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5507763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svEIx.jpg?s=128&g=1", "display_name": "basquith16", "link": "https://stackoverflow.com/users/5507763/basquith16"}, "edited": false, "score": 0, "creation_date": 1536595607, "post_id": 52261049, "comment_id": 91470928, "body": "Thank you, this worked! At first it did trigger some errors/conflicts with how I had setup other imported code, but I traced back through and was able to fix that code too and eliminate all the errors."}], "tags": [], "owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "is_accepted": true, "score": 4, "last_activity_date": 1536593152, "creation_date": 1536593152, "answer_id": 52261049, "question_id": 52260982, "link": "https://stackoverflow.com/questions/52260982/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-kotlin-collection/52261049#52261049", "title": "kotlin.TypeCastException: null cannot be cast to non-null type kotlin.collections.Map&lt;kotlin.String, kotlin.Any&gt;", "body": "<p>With the line <code>val user = AppUser(task.result.data as Map&lt;String, Any&gt;)</code>, make the <code>Any</code> variable nullable:</p>\n\n<pre><code>val user = AppUser(task.result.data as Map&lt;String, Any?&gt;)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5507763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/svEIx.jpg?s=128&g=1", "display_name": "basquith16", "link": "https://stackoverflow.com/users/5507763/basquith16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 0, "accepted_answer_id": 52261049, "answer_count": 1, "score": 3, "last_activity_date": 1536593152, "creation_date": 1536592904, "question_id": 52260982, "link": "https://stackoverflow.com/questions/52260982/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-kotlin-collection", "title": "kotlin.TypeCastException: null cannot be cast to non-null type kotlin.collections.Map&lt;kotlin.String, kotlin.Any&gt;", "body": "<p>I have searched for an answer that would help my code extensively, but the solutions I have found did not work for me.</p>\n\n<p>I get the following error:</p>\n\n<pre><code>    kotlin.TypeCastException: null cannot be cast to non-null \n    type kotlin.collections.Map&lt;kotlin.String, kotlin.Any&gt;\n\n    FATAL EXCEPTION: main\n    Process: com.meetHitch.HitchApp, PID: 4021\n    kotlin.TypeCastException: null cannot be cast to non-null \n    type kotlin.collections.Map&lt;kotlin.String, kotlin.Any&gt;\n      at ... helpers.RestAPIKt$getUserProfile$1 ...\n      at com.google.android.gms.tasks.zzj.run(Unknown Source)\n      at android.os.Handler.handleCallback(Handler.java:751)\n      at android.os.Handler.dispatchMessage(Handler.java:95)\n      at android.os.Looper.loop(Looper.java:154)\n      at android.app.ActivityThread.main ...\n      at java.lang.reflect.Method.invoke(Native Method)\n      at com.android.internal.os.ZygoteInit$Method...\n      at com.android.internal.os.ZygoteInit.main\n</code></pre>\n\n<p>My code is the following:</p>\n\n<pre><code>private val TAG: String\nget() = \"RestAPI\"\n\nprivate val fUser: FirebaseUser?\nget() = FirebaseAuth.getInstance().currentUser\n\nprivate val uid: String?\nget() = fUser?.uid\n\nprivate val baseDoc: DocumentReference\nget() = FirebaseFirestore.getInstance().\n        collection(\"users\").document(uid!!)\n\nprivate val leadsDoc: DocumentReference\nget() {\n    appUser.currentConference?.id?.let {\n        return baseDoc.collection(\"leads\").document(it)\n    }\n    return baseDoc.collection(\"leads\").document(demoID)\n}\n\nprivate val conferencesCollection: CollectionReference\nget() =  FirebaseFirestore.getInstance().\n         collection(\"conferences\")\n\nfun getUserProfile(callback: (AppUser) -&gt; Unit) {\n\n  // Source can be CACHE, SERVER, or DEFAULT.\n  val source = Source.DEFAULT\n\n  baseDoc.get(source)\n        .addOnCompleteListener { task -&gt;\n            if (task.isSuccessful) {\n                val document = task.result\n                if (document != null) {\n                    printnLog(TAG, \"Loaded profile for User \n                    with UID: $uid successfully!\")\n\n                    val user = AppUser(task.result.data as \n                               Map&lt;String, Any&gt;)\n                    callback(user)\n                } else {\n                    println(\"No profile set. Saving initial \n                             profile...\")\n                    appUser = AppUser(fUser!!)\n                    setUserProfile()\n                }\n            } else {\n                Log.w(TAG, \"getUser:onCancelled\", \n                      task.exception)\n            }\n          }\n        }\n</code></pre>\n\n<p>I have referred to <a href=\"https://stackoverflow.com/questions/37949024/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-com-midsizemango\">kotlin.TypeCastException: null cannot be cast to non-null type com.midsizemango.databasekotlin.Note</a> and none of the solutions have worked, although it could be that I am not implementing ? in the right place. I tried \"as? Map\" but I get a type mismatch error. </p>\n"}, {"tags": ["android", "kotlin", "null"], "comments": [{"owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "edited": false, "score": 0, "creation_date": 1536591485, "post_id": 52260502, "comment_id": 91468615, "body": "What Kotlin version?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 3, "creation_date": 1536591608, "post_id": 52260502, "comment_id": 91468681, "body": "<code>LongSparseArray</code> is a Java class, so Kotlin allows using both nullable and non-null values with it. <code>HashMap</code> is a Kotlin class, so it has full nullability checks."}, {"owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "edited": false, "score": 0, "creation_date": 1536591676, "post_id": 52260502, "comment_id": 91468728, "body": "I&#39;m using Kotlin 1.2.50"}, {"owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1536591795, "post_id": 52260502, "comment_id": 91468799, "body": "@yole Thanks, that makes sense. Is there any way I can ensure the values of LongSparseArray are not null though?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1536592584, "post_id": 52260502, "comment_id": 91469260, "body": "You can change the declaration of LongSparseArray and add nullability annotations, or convert it to Kotlin."}, {"owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "edited": false, "score": 0, "creation_date": 1536596624, "post_id": 52260502, "comment_id": 91471451, "body": "wonderful, thank you! :)"}], "owner": {"reputation": 1666, "user_id": 6007104, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc074e0985a2e9388569b5d030bbda19?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/6007104/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536591293, "creation_date": 1536591293, "question_id": 52260502, "link": "https://stackoverflow.com/questions/52260502/kotlin-non-nullable-generics", "title": "Kotlin Non-nullable Generics", "body": "<p>I have encountered a peculiarity when adding null to a collection of non-nullable type.</p>\n\n<p>It is best illustrated by the following code examples:</p>\n\n<pre><code>val a = LongSparseArray&lt;String&gt;()\na.put(1L, null)\na.toArrayList().filterNotNull()\n// bad - no error, but warns that \"filterNotNull\" is a \"Useless call on collection type\", when it clearly isn't\n\nval b = LongSparseArray&lt;String?&gt;()\nb.put(1L, null)\nb.toArrayList().filterNotNull()\n// good\n\nval c = HashMap&lt;Long, String&gt;()\nc.put(1L, null)\n// compilation error - good\n\nval d = HashMap&lt;Long, String?&gt;()\nd.put(1L, null)\n// good\n</code></pre>\n\n<p>When using some collections (SparseArray, LongSparseArray) of String, I am freely able to add null, and Kotlin's null-safety does not pick up on it. When using others (HashMap), Kotlin's null safety prevents it, unless I use the String? type.</p>\n\n<p>Does anyone know how I can ensure that the values of LongSparseArray are not null?</p>\n"}, {"tags": ["kotlin", "request", "ktor"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1536980980, "post_id": 52260009, "comment_id": 91629352, "body": "What version of ktor are you using, and when is the exception being thrown?"}, {"owner": {"reputation": 11, "user_id": 7419749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4760f459e649ad666c61fadf3f6cd94c?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Kharybin", "link": "https://stackoverflow.com/users/7419749/andrew-kharybin"}, "reply_to_user": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1537186577, "post_id": 52260009, "comment_id": 91679221, "body": "ktor_version = &#39;0.9.3&#39;  exception is being thrown when routing pipeline (for example) trying to receive request payload (but it is already empty)"}], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1538743915, "creation_date": 1538743915, "answer_id": 52666072, "question_id": 52260009, "link": "https://stackoverflow.com/questions/52260009/get-content-of-ktor-http-request/52666072#52666072", "title": "Get content of Ktor http request", "body": "<p>IIRC in old versions Ktor would throw if the request body was read twice. \nCurrently (0.9.5), it will allow you to read twice, however the second time the body will be empty (consumed).</p>\n\n<p>See docs here: <a href=\"https://ktor.io/servers/calls/requests.html#receiving\" rel=\"nofollow noreferrer\">https://ktor.io/servers/calls/requests.html#receiving</a></p>\n"}, {"tags": [], "owner": {"reputation": 312, "user_id": 4613339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JUkQ5UIB2NM/AAAAAAAAAAI/AAAAAAAAADs/_7nCo-bdHWQ/photo.jpg?sz=128", "display_name": "Anup Ammanavar", "link": "https://stackoverflow.com/users/4613339/anup-ammanavar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577874969, "creation_date": 1577874969, "answer_id": 59551749, "question_id": 52260009, "link": "https://stackoverflow.com/questions/52260009/get-content-of-ktor-http-request/59551749#59551749", "title": "Get content of Ktor http request", "body": "<p>This might also happen when the request doesnot contains any parameters</p>\n"}], "owner": {"reputation": 11, "user_id": 7419749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4760f459e649ad666c61fadf3f6cd94c?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Kharybin", "link": "https://stackoverflow.com/users/7419749/andrew-kharybin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1996, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1577874969, "creation_date": 1536589580, "last_edit_date": 1536590980, "question_id": 52260009, "link": "https://stackoverflow.com/questions/52260009/get-content-of-ktor-http-request", "title": "Get content of Ktor http request", "body": "<p>How can i make Ktor feature to get content from ApplicationCall context before routing feature?\nMain goal is to get, but not consume, so that all next interceptors can use it.</p>\n\n<p>If we are going something like this in :</p>\n\n<pre><code>pipeline.intercept(ApplicationCallPipeline.Call) {\n                feature.intercept(this)\n                val content = call.receiveText()\n                proceed()\n            }\n</code></pre>\n\n<p>or like this </p>\n\n<pre><code>pipeline.intercept(ApplicationCallPipeline.Call) {\n            val params = this.call.receiveParameters().entries()\n            proceed()\n        }\n</code></pre>\n\n<p>We will have this next step:</p>\n\n<pre><code>java.io.IOException: Broken delimiter occurred\nat kotlinx.coroutines.experimental.io.DelimitedKt$skipDelimiterSuspend$2.doResume(Delimited.kt:57)\nat kotlinx.coroutines.experimental.io.DelimitedKt$skipDelimiterSuspend$2.invoke(Delimited.kt)\nat kotlinx.coroutines.experimental.io.DelimitedKt$skipDelimiterSuspend$2.invoke(Delimited.kt)\nat kotlinx.coroutines.experimental.io.ByteBufferChannel.lookAheadSuspend(ByteBufferChannel.kt:1746)\nat kotlinx.coroutines.experimental.io.DelimitedKt.skipDelimiterSuspend(Delimited.kt:55)\nat kotlinx.coroutines.experimental.io.DelimitedKt.skipDelimiter(Delimited.kt:50)\nat io.ktor.http.cio.MultipartKt.boundary(Multipart.kt:89)\nat io.ktor.http.cio.MultipartKt$parseMultipart$1.doResume(Multipart.kt:158)\nat kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:42)\nat kotlinx.coroutines.experimental.DispatchedKt.resumeCancellable(Dispatched.kt:209)\nat kotlinx.coroutines.experimental.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:35)\nat kotlinx.coroutines.experimental.CoroutineStart.invoke(CoroutineStart.kt:111)\nat kotlinx.coroutines.experimental.AbstractCoroutine.start(AbstractCoroutine.kt:165)\nat kotlinx.coroutines.experimental.channels.ProduceKt.produce(Produce.kt:95)\nat kotlinx.coroutines.experimental.channels.ProduceKt.produce$default(Produce.kt:88)\nat io.ktor.http.cio.MultipartKt.parseMultipart(Multipart.kt:145)\nat io.ktor.http.cio.MultipartKt.parseMultipart(Multipart.kt:138)\nat io.ktor.http.cio.CIOMultipartDataBase.&lt;init&gt;(CIOMultipartData.kt:33)\nat io.ktor.http.cio.CIOMultipartDataBase.&lt;init&gt;(CIOMultipartData.kt:31)\nat io.ktor.server.engine.DefaultTransformKt.multiPartData(DefaultTransform.kt:70)\nat io.ktor.server.engine.DefaultTransformKt.access$multiPartData(DefaultTransform.kt:1)\nat io.ktor.server.engine.DefaultTransformKt$installDefaultTransformations$2.doResume(DefaultTransform.kt:44)\nat io.ktor.server.engine.DefaultTransformKt$installDefaultTransformations$2.invoke(DefaultTransform.kt)\nat io.ktor.server.engine.DefaultTransformKt$installDefaultTransformations$2.invoke(DefaultTransform.kt)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.pipeline.Pipeline.execute(Pipeline.kt:22)\nat io.ktor.request.ApplicationReceiveFunctionsKt.receive(ApplicationReceiveFunctions.kt:64)\nat accreditation.controller.RequisitesRoutingKt$requisites$1$1.doResume(RequisitesRouting.kt:54)\nat accreditation.controller.RequisitesRoutingKt$requisites$1$1.invoke(RequisitesRouting.kt)\nat accreditation.controller.RequisitesRoutingKt$requisites$1$1.invoke(RequisitesRouting.kt)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.pipeline.Pipeline.execute(Pipeline.kt:22)\nat io.ktor.routing.Routing.executeResult(Routing.kt:100)\nat io.ktor.routing.Routing.interceptor(Routing.kt:25)\nat io.ktor.routing.Routing$Feature$install$1.doResume(Routing.kt:66)\nat io.ktor.routing.Routing$Feature$install$1.invoke(Routing.kt)\nat io.ktor.routing.Routing$Feature$install$1.invoke(Routing.kt:51)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat accreditation.utils.logging.RequestLogger$Feature$install$1.doResume(RequestLogger.kt:80)\nat accreditation.utils.logging.RequestLogger$Feature$install$1.invoke(RequestLogger.kt)\nat accreditation.utils.logging.RequestLogger$Feature$install$1.invoke(RequestLogger.kt:66)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.features.ContentNegotiation$Feature$install$1.doResume(ContentNegotiation.kt:60)\nat io.ktor.features.ContentNegotiation$Feature$install$1.invoke(ContentNegotiation.kt)\nat io.ktor.features.ContentNegotiation$Feature$install$1.invoke(ContentNegotiation.kt:50)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.features.StatusPages.intercept(StatusPages.kt:55)\nat io.ktor.features.StatusPages$Feature$install$1.doResume(StatusPages.kt:84)\nat io.ktor.features.StatusPages$Feature$install$1.invoke(StatusPages.kt)\nat io.ktor.features.StatusPages$Feature$install$1.invoke(StatusPages.kt:78)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.features.CallLogging$Feature$install$1.doResume(CallLogging.kt:69)\nat io.ktor.features.CallLogging$Feature$install$1.invoke(CallLogging.kt)\nat io.ktor.features.CallLogging$Feature$install$1.invoke(CallLogging.kt:61)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.pipeline.Pipeline.execute(Pipeline.kt:22)\nat io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$2.doResume(DefaultEnginePipeline.kt:66)\nat io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$2.invoke(DefaultEnginePipeline.kt)\nat io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$2.invoke(DefaultEnginePipeline.kt)\nat io.ktor.pipeline.PipelineContext.proceed(PipelineContext.kt:49)\nat io.ktor.pipeline.Pipeline.execute(Pipeline.kt:22)\nat io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.doResume(NettyApplicationCallHandler.kt:31)\nat io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt)\nat io.ktor.server.netty.NettyApplicationCallHandler$handleRequest$1.invoke(NettyApplicationCallHandler.kt:10)\nat kotlinx.coroutines.experimental.intrinsics.UndispatchedKt.startCoroutineUndispatched(Undispatched.kt:44)\nat kotlinx.coroutines.experimental.CoroutineStart.invoke(CoroutineStart.kt:113)\nat kotlinx.coroutines.experimental.AbstractCoroutine.start(AbstractCoroutine.kt:165)\nat kotlinx.coroutines.experimental.BuildersKt__Builders_commonKt.launch(Builders.common.kt:72)\nat kotlinx.coroutines.experimental.BuildersKt.launch(Unknown Source)\nat kotlinx.coroutines.experimental.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:64)\nat kotlinx.coroutines.experimental.BuildersKt.launch$default(Unknown Source)\nat io.ktor.server.netty.NettyApplicationCallHandler.handleRequest(NettyApplicationCallHandler.kt:22)\nat io.ktor.server.netty.NettyApplicationCallHandler.channelRead(NettyApplicationCallHandler.kt:16)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\nat io.netty.channel.AbstractChannelHandlerContext.access$600(AbstractChannelHandlerContext.java:38)\nat io.netty.channel.AbstractChannelHandlerContext$7.run(AbstractChannelHandlerContext.java:353)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)\nat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:463)\nat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Main idea is to log request content (if it is Json or UrlEncoded) before it is processed in routing feature and to log every response content too.</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 1, "creation_date": 1536589454, "post_id": 52259887, "comment_id": 91467276, "body": "What does your Astronomy class look like?"}, {"owner": {"reputation": 13, "user_id": 9756369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rKamXAIqJ9s/AAAAAAAAAAI/AAAAAAAAIPI/0LyQ-OGdoh8/photo.jpg?sz=128", "display_name": "ebrahim khoshnood", "link": "https://stackoverflow.com/users/9756369/ebrahim-khoshnood"}, "reply_to_user": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1536589999, "post_id": 52259887, "comment_id": 91467634, "body": "I did it as a tutorial was, but tutorial was to parse to recycler view and mine is a single object,     this is my astronomy class.  :  class astronomy(val sunrise: String, val sunset: String)"}, {"owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 0, "creation_date": 1536590154, "post_id": 52259887, "comment_id": 91467762, "body": "Well, I believe that won&#39;t be enough to get sunrise/sunset time. Use: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> <b>to convert your Json output to POJO</b>. Or, get the string array by array without Gson.."}, {"owner": {"reputation": 13, "user_id": 9756369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rKamXAIqJ9s/AAAAAAAAAAI/AAAAAAAAIPI/0LyQ-OGdoh8/photo.jpg?sz=128", "display_name": "ebrahim khoshnood", "link": "https://stackoverflow.com/users/9756369/ebrahim-khoshnood"}, "reply_to_user": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "edited": false, "score": 0, "creation_date": 1536591587, "post_id": 52259887, "comment_id": 91468677, "body": "@\u028d\u0473\u0452\u0abd\u0aef\u0e17 Thanks, but i want to be able change city with a textbox , ( i will edit url later )"}], "answers": [{"tags": [], "owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "is_accepted": false, "score": 0, "last_activity_date": 1536591627, "creation_date": 1536591627, "answer_id": 52260614, "question_id": 52259887, "link": "https://stackoverflow.com/questions/52259887/parsed-gson-returns-null-in-kotlin/52260614#52260614", "title": "parsed gson returns null in kotlin", "body": "<p>Hey ebrahim khoshnood!</p>\n\n<p>Welcome to StackOverflow. The problem seems to be, that you haven't created POJOs (classes) for the parent objects of astronomy. If you would like to parse everything only with Gson, you will have to create objects for \"query\", \"results\", \"channel\" and then inside of the channel you can have the astronomy object.</p>\n\n<p>So for example you could have something like this.</p>\n\n<pre><code>class Query(val results: List&lt;Channel&gt;?)\nclass Channel(val astronomy: astronomy?) // astronomy? is the class you have posted.\n</code></pre>\n\n<p>and then you could parse everything like this</p>\n\n<pre><code>val query = gson.fromJson(body, astronomy::class.java)\nval astronomy = query.results?.astronomy\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9756369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rKamXAIqJ9s/AAAAAAAAAAI/AAAAAAAAIPI/0LyQ-OGdoh8/photo.jpg?sz=128", "display_name": "ebrahim khoshnood", "link": "https://stackoverflow.com/users/9756369/ebrahim-khoshnood"}, "edited": false, "score": 0, "creation_date": 1536604653, "post_id": 52260655, "comment_id": 91475109, "body": "Thank dude, i wan not able to make class part work,  but get az json worked, thanks alot"}], "tags": [], "owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "is_accepted": true, "score": 0, "last_activity_date": 1536592100, "last_edit_date": 1536592100, "creation_date": 1536591781, "answer_id": 52260655, "question_id": 52259887, "link": "https://stackoverflow.com/questions/52259887/parsed-gson-returns-null-in-kotlin/52260655#52260655", "title": "parsed gson returns null in kotlin", "body": "<p>The response you get back from that Yahoo! API is much larger than just the astronomy section.  You've got two options (one real option and one temporary one to check things): </p>\n\n<ul>\n<li>Create a number of models to parse the entire stack (meaning you'd have a <code>Query</code> class with properties like <code>count</code>, <code>created</code>, <code>lang</code>, and <code>results</code>).  This would be the better approach since you'll be dealing with real classes each step of the way.</li>\n</ul>\n\n<pre><code>data class Query(val count: Int?, val created: String?, val lang: String?, val results: Results?)\n\ndata class Results(val channel: Channel?)\n\n//Channel should include more fields for the rest of the data\ndata class Channel(val astronomy: Astronomy?)\n\ndata class Astronomy(val sunrise: String?, val sunset: String?)\n</code></pre>\n\n<ul>\n<li>Throw the entire string into a generic <code>JsonObject</code> (which is GSON's provided class) and traverse through that object (<code>query</code> -> <code>results</code> -> <code>channel</code> -> <code>astronomy</code> -> <code>sunrise</code> and <code>sunset</code>).  This isn't the proper approach but can work to make sure your data is coming in correctly:</li>\n</ul>\n\n<pre><code>val jsonObj: JsonObject = JsonParser().parse(body).asJsonObject\n\nval astronomy = jsonObj\n    .getAsJsonObject(\"query\")\n    .getAsJsonObject(\"results\")\n    .getAsJsonObject(\"channel\")\n    .getAsJsonObject(\"astronomy\")\n\nrunOnUiThread {\n    toast(\"this is running from UiThread ${astronomy.get(\"sunrise\").asString}\")\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9756369, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rKamXAIqJ9s/AAAAAAAAAAI/AAAAAAAAIPI/0LyQ-OGdoh8/photo.jpg?sz=128", "display_name": "ebrahim khoshnood", "link": "https://stackoverflow.com/users/9756369/ebrahim-khoshnood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 1, "accepted_answer_id": 52260655, "answer_count": 2, "score": -1, "last_activity_date": 1536592100, "creation_date": 1536589245, "last_edit_date": 1536591810, "question_id": 52259887, "link": "https://stackoverflow.com/questions/52259887/parsed-gson-returns-null-in-kotlin", "title": "parsed gson returns null in kotlin", "body": "<p>I'm new to programming,\ni'm trying to get sunrise/sunset time out of yahoo weather api and toast it on Ui</p>\n\n<p>(i'm using gson and anko library )\nand this is my mainactivity code : </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    fetchJson()\n\n}\n\nfun fetchJson(){\n   val url = \"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22nome%2C%20ak%22)&amp;format=json&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\"\n\n    val request = Request.Builder().url(url).build()\n\n    val client = OkHttpClient()\n    client.newCall(request).enqueue(object : Callback {\n        override fun onFailure(call: Call?, e: IOException?) {\n            toast(\"Failed to execute request\")\n\n        }\n\n        override fun onResponse(call: Call?, response: Response?) {\n            val body = response?.body()?.string()\n            println(body)\n\n            val gson = GsonBuilder().create()\n            val Info = gson.fromJson(body, astronomy::class.java)\n\n\n            runOnUiThread {\n//                  info.sunrise is returning null ???????\n                toast(\"this is running from UiThread ${Info.sunrise}\")\n            }\n        }\n\n\n    })\n}\n}\nclass astronomy(val sunrise: String, val sunset: String)\n</code></pre>\n\n<p>where should i fix?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1536585972, "post_id": 52258696, "comment_id": 91465035, "body": "<code>Any:</code> causing problem"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "edited": false, "score": 0, "creation_date": 1536586878, "post_id": 52258814, "comment_id": 91465649, "body": "Sure, but replacing Any::toString with T::toString won&#39;t compile either. I can pass a lambda, but is there a simper way?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "edited": false, "score": 0, "creation_date": 1536587618, "post_id": 52258814, "comment_id": 91466131, "body": "I don&#39;t think there is."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 3, "last_activity_date": 1536586323, "last_edit_date": 1536586323, "creation_date": 1536585917, "answer_id": 52258814, "question_id": 52258696, "link": "https://stackoverflow.com/questions/52258696/the-difference-between-lambda-and-kfunction-in-kotlin/52258814#52258814", "title": "The difference between lambda and KFunction in Kotlin", "body": "<p>The reason why the code does not compile has nothing to do with the difference between lambdas and KFunctions. It doesn't compile because the parameter needs to be a function of type <code>(T) -&gt; String</code>, and <code>Any::toString</code> is a function of type <code>(Any) -&gt; String</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": true, "score": 1, "last_activity_date": 1536590125, "creation_date": 1536590125, "answer_id": 52260176, "question_id": 52258696, "link": "https://stackoverflow.com/questions/52258696/the-difference-between-lambda-and-kfunction-in-kotlin/52260176#52260176", "title": "The difference between lambda and KFunction in Kotlin", "body": "<p>When you obtain any function (lambda or otherwise) reference with <code>::</code>  you are using reflection. <code>KFunction</code> is Kotlin's way to to wrap around reflected functions. </p>\n\n<p>As to making <code>Any::toString</code> work - there is a way but you may not like it:</p>\n\n<pre><code>fun &lt;T&gt; doSomething(value: T, action: (t: T) -&gt; String = Any::toString as (T) -&gt; String) { \n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 911, "user_id": 6603490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50dcf26842608add82960aa7cf37bd28?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Bhusri", "link": "https://stackoverflow.com/users/6603490/shivam-bhusri"}, "is_accepted": false, "score": 0, "last_activity_date": 1580622757, "creation_date": 1580622757, "answer_id": 60023577, "question_id": 52258696, "link": "https://stackoverflow.com/questions/52258696/the-difference-between-lambda-and-kfunction-in-kotlin/60023577#60023577", "title": "The difference between lambda and KFunction in Kotlin", "body": "<p>It would have compiled if do like this:</p>\n\n<pre><code>fun &lt;T&gt; doSomething(value: T, action: (value: Any) -&gt; String = Any::toString) {\n    //do something\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>fun &lt;T : Any&gt; doSomething(value: T, action: (t: T) -&gt; String = Any::toString) {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 52260176, "answer_count": 3, "score": 5, "last_activity_date": 1580622757, "creation_date": 1536585449, "last_edit_date": 1536585790, "question_id": 52258696, "link": "https://stackoverflow.com/questions/52258696/the-difference-between-lambda-and-kfunction-in-kotlin", "title": "The difference between lambda and KFunction in Kotlin", "body": "<p>The following does not compile:</p>\n\n<pre><code>fun&lt;T&gt; doSomething(value: T, action: (value: T) -&gt; String = Any::toString){\n  //do something\n}\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>Kotlin: Type mismatch: inferred type is KFunction1&lt;Any, String&gt; but (T) -&gt; String was expected\n</code></pre>\n\n<p>Making it work is easy:</p>\n\n<pre><code>fun&lt;T&gt; doSomething(value: T, action: (t: T) -&gt; String = {t -&gt; t.toString()}) = action(value)\n</code></pre>\n\n<p>However, this leaves me wondering: what is the difference between lambdas and KFunctions? Why do we need both?</p>\n\n<p>Also is there a simpler way to provide Any::toString as the default action?</p>\n"}, {"tags": ["android", "android-fragments", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1536583525, "post_id": 52257699, "comment_id": 91463392, "body": "How are you binding the view objects to the XML file? It looks like you&#39;re maybe using kotlin android extensions. If that is the case, I see that some of the fields like <code>feedImage1</code> don&#39;t exist in your XML file"}, {"owner": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1536584899, "post_id": 52257699, "comment_id": 91464298, "body": "I cleared out that!!! But still the same error is raising ,When I try to debug Adapter using breakpoints ,LayoutInflator.from(),inflate() function causes this thing!!! @Nicol&#225;sCarrasco"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "edited": false, "score": 0, "creation_date": 1536664183, "post_id": 52268759, "comment_id": 91496309, "body": "No!!! That doesn&#39;t solve the issue!!!! It says the same, Binary XML file line:#3 Error inflating class layout and shows error occured at LayoutInflator method inside onCreateView() in Adapter @Jeel Vankhede"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "edited": false, "score": 0, "creation_date": 1536664911, "post_id": 52268759, "comment_id": 91496779, "body": "can you show your <code>imports</code> for <code>kotlin extensions</code> ? @Dilip"}, {"owner": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "edited": false, "score": 0, "creation_date": 1536666852, "post_id": 52268759, "comment_id": 91498066, "body": "It&#39;s working now,I don&#39;t know how but i just added <b>xmlns:app</b> and <b>xmlns:tools</b> lines in layout file and it started working"}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 0, "last_activity_date": 1536640730, "creation_date": 1536640730, "answer_id": 52268759, "question_id": 52257699, "link": "https://stackoverflow.com/questions/52257699/kotlin-android-recycler-view-inside-fragment-with-bottom-navigation-not-working/52268759#52268759", "title": "Kotlin Android Recycler view inside Fragment with Bottom Navigation not working", "body": "<blockquote>\n  <p>Your issue might be in this method,</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n   val feedItem = getItem(position)\n   if(feedItem != null){\n      holder.bind(feedItem)\n   }\n}\n</code></pre>\n</blockquote>\n\n<p>Your <strong><code>ViewHolder</code></strong> is using <strong><code>poisition</code></strong> from method parameter which might be inconsistent</p>\n\n<p><a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.Adapter#onBindViewHolder(VH,%20int)\" rel=\"nofollow noreferrer\">See from here</a>,</p>\n\n<p>So, you should change line to this:</p>\n\n<pre><code>val feedItem = getItem(holder.adapterPosition)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>val feedItem = getItem(position)\n</code></pre>\n\n<p>I hope it resolves the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1536667175, "creation_date": 1536667175, "answer_id": 52275435, "question_id": 52257699, "link": "https://stackoverflow.com/questions/52257699/kotlin-android-recycler-view-inside-fragment-with-bottom-navigation-not-working/52275435#52275435", "title": "Kotlin Android Recycler view inside Fragment with Bottom Navigation not working", "body": "<p>This might help some one looking for the same Exception to be cleared :\nWhat I did is that my <strong>feed_row.xml</strong> above is included inside <strong>&lt; layout ></strong> tags and I changed it in this way , So the exception got cleared:</p>\n\n<p><em>Before Exception:</em></p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n</code></pre>\n\n<p><em>After changing to this Exception cleared:</em></p>\n\n<pre><code> &lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n   xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n   xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n</code></pre>\n\n<p>I don't know how it works but it did work!!! So Anyone who knows what happens there can explain please!</p>\n"}], "owner": {"reputation": 129, "user_id": 9977517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qirz46eh4Ks/AAAAAAAAAAI/AAAAAAAAWoM/6joXjaCssik/photo.jpg?sz=128", "display_name": "Dilip Krishna", "link": "https://stackoverflow.com/users/9977517/dilip-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1595, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536667175, "creation_date": 1536582075, "last_edit_date": 1536582952, "question_id": 52257699, "link": "https://stackoverflow.com/questions/52257699/kotlin-android-recycler-view-inside-fragment-with-bottom-navigation-not-working", "title": "Kotlin Android Recycler view inside Fragment with Bottom Navigation not working", "body": "<p>I am trying to develop  social networking app which uses Android Jetpack Libraries but while using Navigation Component to use bottom navigation to navigate through fragments inside an activity , This Adapter throws an error at <strong>LayoutInflator()</strong> which causes app to crash</p>\n\n<p>Can anyone help me through this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TL0aQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TL0aQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>My Adapter Class:</p>\n\n<pre><code>class FeedAdapter : PagedListAdapter&lt;feed,FeedAdapter.ViewHolder&gt;(FeedDiffCallBack()){\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val userPost = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.feedrow,parent,false)\n        return ViewHolder(userPost)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val feedItem = getItem(position)\n    if(feedItem != null){\n        holder.bind(feedItem)\n    }\n}\n\nclass ViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n    //Retrieve data\n    private val username:TextView = itemView.post_name\n\n    private val userPic:ImageView = itemView.feedImage1\n    private val location:TextView = itemView.postLocation\n    private val time:TextView = itemView.postTime\n    private val post:ImageView = itemView.postImage\n\n    fun bind(feed: feed) = with(itemView){\n        //TODO:Bind Data with View\n            showFeedData(feed)\n\n    }\n\n    private fun showFeedData(feed: feed) {\n        username.text = feed.username\n        userPic.setImageURI(null)\n        userPic.visibility = View.GONE\n        location.text = feed.location\n        time.text = feed.timeStamp.toString()\n        post.setImageURI(Uri.parse(feed.mUrl))\n\n    }\n\n}\n\n }\n\nclass FeedDiffCallBack : DiffUtil.ItemCallback&lt;feed&gt;() {\noverride fun areItemsTheSame(oldItem:feed, newItem: feed): Boolean {\n    return oldItem?.id == newItem?.id\n}\n\noverride fun areContentsTheSame(oldItem: feed, newItem: feed): Boolean {\n    return oldItem == newItem\n}\n\n}\n</code></pre>\n\n<p>Fragment Class:</p>\n\n<pre><code>class FeedFragment : Fragment() {\n\ncompanion object {\n    fun newInstance() = FeedFragment()\n}\n\nprivate lateinit var viewModel: FeedViewModel\noverride fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n): View? {\n    val view =  inflater.inflate(R.layout.feed_fragment, container, false)\n    val context = getContext() ?: return view\n\n    val factory = InjectorUtils.provideViewModelFactory(context)\n    viewModel = \n ViewModelProviders.of(this,factory).get(FeedViewModel::class.java)\n    val adapter = FeedAdapter()\n    view.findViewById&lt;RecyclerView&gt;(R.id.feedView).adapter = adapter\n    view.findViewById&lt;RecyclerView&gt;(R.id.feedView).layoutManager = \nLinearLayoutManager(MyApplication.getContext())\n    subscribeUI(adapter)\n    return view\n}\n\nprivate fun subscribeUI(adapter: FeedAdapter) {\n    viewModel.showFeed().observe(this, object:Observer&lt;PagedList&lt;feed&gt;&gt;{\n        override fun onChanged(t: PagedList&lt;feed&gt;?) {\n            adapter.submitList(t)\n            adapter.notifyDataSetChanged()\n        }\n\n    })\n}\n\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>feed_row.xml\nIndividual item for recycler view --></p>\n\n\n\n<p></p>\n\n<pre><code>&lt;RelativeLayout\n    android:id=\"@+id/postContainer\"\n    android:layout_margin=\"10dp\"\n    android:elevation=\"2dp\"\n    android:background=\"@drawable/bg_parent_rounded_corner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;!--TODO:Change to Circle Image View--&gt;\n    &lt;ImageView\n        android:id=\"@+id/profileImage\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginTop=\"5dp\"\n        android:layout_marginLeft=\"5dp\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"fitCenter\"\n\n        /&gt;\n    &lt;LinearLayout\n        android:id=\"@+id/postDetail_1\"\n        android:orientation=\"vertical\"\n        android:layout_marginTop=\"5dp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"5dp\"\n        android:layout_marginRight=\"20dp\"\n        android:layout_alignParentRight=\"true\"&gt;\n        &lt;TextView\n            android:id=\"@+id/post_name\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            style=\"@style/LabelStyle\"\n            android:textSize=\"15sp\"\n            android:fontFamily=\"@font/sf_pro_display_semibold\" /&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/postDetail_2\"\n            android:orientation=\"horizontal\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:id=\"@+id/postLocation\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" /&gt;\n            &lt;TextView\n                android:id=\"@+id/postTime\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"120dp\" /&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/postImage\"\n        android:layout_height=\"200dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_below=\"@+id/postDetail_1\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"fitCenter\"\n        android:layout_marginTop=\"6dp\"\n       /&gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1536581054, "post_id": 52257209, "comment_id": 91461909, "body": "You&#39;ll need a separate join entity to represent the relationship. You should be able to use <code>@Relation</code> with it, if you wish."}, {"owner": {"reputation": 1176, "user_id": 6108532, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-ER-WChilI0c/AAAAAAAAAAI/AAAAAAAACh0/miIzszqnL-c/photo.jpg?sz=128", "display_name": "Tom Wayne", "link": "https://stackoverflow.com/users/6108532/tom-wayne"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1536581577, "post_id": 52257209, "comment_id": 91462242, "body": "OK, could you please show me how this entity should look like?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1536582373, "post_id": 52257209, "comment_id": 91462712, "body": "<a href=\"https://github.com/commonsguy/cw-androidarch/blob/v0.11/General/RoomMN/stuff/src/main/java/com/commonsware/android/room/dao/Customer.java#L61-L88\" rel=\"nofollow noreferrer\">Here is a join entity</a> joining a <code>Customer</code> and a <code>Category</code>. I happened to implement it as a <code>static</code> class, though that is not required."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 5924315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hS8a6o4zLpA/AAAAAAAAAAI/AAAAAAAAFxM/eU_1ZWT8sMU/photo.jpg?sz=128", "display_name": "Oyvind Fredstie", "link": "https://stackoverflow.com/users/5924315/oyvind-fredstie"}, "is_accepted": false, "score": 0, "last_activity_date": 1537134432, "creation_date": 1537134432, "answer_id": 52358687, "question_id": 52257209, "link": "https://stackoverflow.com/questions/52257209/many-to-many-relationship-in-room/52358687#52358687", "title": "Many to Many relationship in Room", "body": "<p>A many-to-many relationship is solved by creating a new table \"in between\" the two existing tables and creating two 1:N relationships to the newly created table.</p>\n\n<p>Example: \nA Person can own many cars and a Car can be owned by many persons. To solve this many-to-many relationship you can create an Owner table which contain a FK reference to the Person PK and a FK reference to the Car PK. </p>\n\n<p>If you also create a composite primary key out of these two foreign keys you also ensure that there can't be any duplicate ownerships in your database.</p>\n"}], "owner": {"reputation": 1176, "user_id": 6108532, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-ER-WChilI0c/AAAAAAAAAAI/AAAAAAAACh0/miIzszqnL-c/photo.jpg?sz=128", "display_name": "Tom Wayne", "link": "https://stackoverflow.com/users/6108532/tom-wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537134432, "creation_date": 1536580382, "question_id": 52257209, "link": "https://stackoverflow.com/questions/52257209/many-to-many-relationship-in-room", "title": "Many to Many relationship in Room", "body": "<p>I had 1:N relation in Room which look like this (typical Owner:List relation):</p>\n\n<pre><code>class NewsFeedAndPersonItem {\n    @Embedded\n    lateinit var newsFeedItem: NewsFeedItem\n    @Relation(\n        parentColumn = \"userId\", entityColumn = \"id\"\n    )\n    var listOfPersons: List&lt;Person&gt; = listOf()\n\n    fun getPerson() = listOfPersons.firstOrNull()\n\n    fun getAvatar() = getPerson()?.photoSmallLink\n\n    fun isPost() = newsFeedItem.type == 2\n\n    fun NewsFeedAndPerson() {}\n\n    fun NewsFeedAndPerson(newsFeedItem: NewsFeedItem, person: List&lt;Person&gt;) {\n        this.newsFeedItem = newsFeedItem\n        this.listOfPersons = person\n    }\n}\n</code></pre>\n\n<p>NewsfeedItem:</p>\n\n<pre><code>@Entity\n@TypeConverters(NewsFeedTypeConverters::class)\nclass NewsFeedItem(\n\n    // Common\n    @PrimaryKey @Json(name = ParserConst.DEFAULT_ID) var id: Int = 0,\n\n    @Json(name = ParserConst.USER_ID) var userId: Int = 0,\n\n    @Json(name = ParserConst.CREATED_AT) var createdAt: String? = null,\n\n    @Json(name = ParserConst.NEWS_FEED_TYPE) var type: Int? = null,\n\n)\n</code></pre>\n\n<p>Person:</p>\n\n<pre><code>@Entity\ndata class Person(\n\n    @PrimaryKey var id: Int = 0,\n\n    var favourite: Boolean = false,\n\n    var online: Boolean = false,\n\n)\n</code></pre>\n\n<p>So far so good. The problem is that I need to change NewsFeed userId:String parameter to list of userIds (List)</p>\n\n<p>My question is if it is still possible to solve via @Relation or if there is any simple alternative way how to achieve this.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 353, "user_id": 4856025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4376e26d767e84e16351315f48b3ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Tepits", "link": "https://stackoverflow.com/users/4856025/tepits"}, "edited": false, "score": 1, "creation_date": 1536578274, "post_id": 52256651, "comment_id": 91460440, "body": "Show some code please."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "reply_to_user": {"reputation": 353, "user_id": 4856025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4376e26d767e84e16351315f48b3ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Tepits", "link": "https://stackoverflow.com/users/4856025/tepits"}, "edited": false, "score": 0, "creation_date": 1536578568, "post_id": 52256651, "comment_id": 91460610, "body": "i add my code of adapter @Tepits"}, {"owner": {"reputation": 283, "user_id": 5119753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RQR3J0LYXBA/AAAAAAAAAAI/AAAAAAAAAKs/dKt1BJmB9LU/photo.jpg?sz=128", "display_name": "Abilash", "link": "https://stackoverflow.com/users/5119753/abilash"}, "edited": false, "score": 0, "creation_date": 1536584845, "post_id": 52256651, "comment_id": 91464260, "body": "If your RecyclerView is inside NestedScrollView that can cause this effect. Do post your layout xml if possible."}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 1, "creation_date": 1536642023, "post_id": 52256651, "comment_id": 91485238, "body": "It is possible that you are doing some time taking operation in the bind method of adapter, you can debug it by commenting all lines and then add them one by one to find the issue"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "reply_to_user": {"reputation": 283, "user_id": 5119753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RQR3J0LYXBA/AAAAAAAAAAI/AAAAAAAAAKs/dKt1BJmB9LU/photo.jpg?sz=128", "display_name": "Abilash", "link": "https://stackoverflow.com/users/5119753/abilash"}, "edited": false, "score": 0, "creation_date": 1536642616, "post_id": 52256651, "comment_id": 91485412, "body": "No i don&#39;t use  NestedScrollView, i add xml layout please check it out @Abilash"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "edited": false, "score": 0, "creation_date": 1536646274, "post_id": 52269316, "comment_id": 91486607, "body": "means you say i comment dynamic data and my conditions and check only view am i right? @Abhinav Suman"}, {"owner": {"reputation": 805, "user_id": 5343866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrGpX.png?s=128&g=1", "display_name": "animusmind", "link": "https://stackoverflow.com/users/5343866/animusmind"}, "edited": false, "score": 0, "creation_date": 1536646521, "post_id": 52269316, "comment_id": 91486700, "body": "Yes @Maulik, it can help you to understand why this is happening. and then work on that issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "edited": false, "score": 0, "creation_date": 1536647669, "post_id": 52269316, "comment_id": 91487175, "body": "sure @Abhinav , hanks for help"}, {"owner": {"reputation": 805, "user_id": 5343866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrGpX.png?s=128&g=1", "display_name": "animusmind", "link": "https://stackoverflow.com/users/5343866/animusmind"}, "edited": false, "score": 0, "creation_date": 1536649994, "post_id": 52269316, "comment_id": 91488255, "body": "@Maulik, Make the tick mark visible on the answer by accepting it as correct if my answer helps you.  happy coding :-)"}], "tags": [], "owner": {"reputation": 805, "user_id": 5343866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrGpX.png?s=128&g=1", "display_name": "animusmind", "link": "https://stackoverflow.com/users/5343866/animusmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1536644401, "creation_date": 1536644401, "answer_id": 52269316, "question_id": 52256651, "link": "https://stackoverflow.com/questions/52256651/recyclerview-scroll-slow-and-stuck-android/52269316#52269316", "title": "Recyclerview scroll slow and stuck android", "body": "<p>There are various reason for this problem and the solution respectively.</p>\n\n<ol>\n<li><p>If you are using <code>RecyclerView</code> inside <code>NestedScrollView</code>.  </p>\n\n<blockquote>\n  <p>False in your case  </p>\n</blockquote></li>\n<li><p>The code you have posted is already doing too much complex or logical work after inflating the View i.e. in <code>onBindViewHolder()</code> method.</p>\n\n<blockquote>\n  <p>For this<br>\n  you first try to comment all the logic, just try to inflate only the <code>View</code></p>\n</blockquote></li>\n</ol>\n\n<p>you can do the all the logical operation at the time of <code>JSON</code> Parsing. inflate the <code>View</code> as per your quesType using <code>getItemViewType()</code> &amp; <code>viewType</code> implementation.</p>\n\n<p>may this help you</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1199, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536644401, "creation_date": 1536578231, "last_edit_date": 1536641774, "question_id": 52256651, "link": "https://stackoverflow.com/questions/52256651/recyclerview-scroll-slow-and-stuck-android", "title": "Recyclerview scroll slow and stuck android", "body": "<p>I am using MathView inside row_item of recyclerview. When i Scroll my Recyclerview its scroll stuck. Is it possible the reason of stuck my recyclerView because of MathView?</p>\n\n<p>In my code , Type = 3 is Mathview data </p>\n\n<pre><code>if (queList[position].type == 1 || queList[position].type == 2) {\n\n    holder.txtQue!!.setText(Html.fromHtml(Html.fromHtml(queList[position].question).toString()))\n    holder.math_txtQue?.visibility = View.GONE\n\n    if (isQuestionAnswer(queList[position].is_correct, 1)) {\n        holder.txtAnswer!!.setText(Html.fromHtml(Html.fromHtml(queList[position].opt_1).toString()))\n        holder.math_txtAnswer?.visibility = View.GONE\n    }\n    if (isQuestionAnswer(queList[position].is_correct, 2)) {\n        holder.txtAnswer!!.setText(Html.fromHtml(Html.fromHtml(queList[position].opt_2).toString()))\n        holder.math_txtAnswer?.visibility = View.GONE\n    }\n\n} else if (queList[position].type == 3) {\n\n    holder.txtQue?.visibility = View.GONE\n    holder.math_txtQue?.visibility = View.VISIBLE\n    holder.math_txtQue?.text = Html.fromHtml(queList[position].question).toString()\n    holder.mathDesc?.text = Html.fromHtml(queList[position].description).toString()\n\n    if (isQuestionAnswer(queList[position].is_correct, 1)) {\n        holder.txtAnswer?.visibility = View.GONE\n        /*holder.math_txtAnswer?.visibility = View.VISIBLE\n    holder.math_txtAnswer?.text = Html.fromHtml(queList[position].opt_1).toString()*/\n    }\n\n    if (isQuestionAnswer(queList[position].is_correct, 2)) {\n        holder.txtAnswer?.visibility = View.GONE\n        holder.math_txtAnswer?.visibility = View.VISIBLE\n        holder.math_txtAnswer?.text = Html.fromHtml(queList[position].opt_2).toString()\n    }\n\n}\n</code></pre>\n\n<p>My Layout file :-</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/questionReadList\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_below=\"@+id/toolbar_top\"\n    android:background=\"@color/colorPrimary\"\n    android:divider=\"@null\"\n    android:nestedScrollingEnabled=\"false\"\n    android:dividerHeight=\"0dp\"&gt;&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1497, "user_id": 7122438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1214076718653094/picture?type=large", "display_name": "Jacob Celestine", "link": "https://stackoverflow.com/users/7122438/jacob-celestine"}, "edited": false, "score": 0, "creation_date": 1536576052, "post_id": 52255962, "comment_id": 91459168, "body": "Why do you have 2 <code>apply plugin: &#39;kotlin-android-extensions&#39;</code> in your app gradle file? Please remove one and check again."}, {"owner": {"reputation": 1360, "user_id": 2911633, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f6c92ec704a41749809aae750c34eba?s=128&d=identicon&r=PG", "display_name": "Igor Ilic", "link": "https://stackoverflow.com/users/2911633/igor-ilic"}, "reply_to_user": {"reputation": 1497, "user_id": 7122438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1214076718653094/picture?type=large", "display_name": "Jacob Celestine", "link": "https://stackoverflow.com/users/7122438/jacob-celestine"}, "edited": false, "score": 0, "creation_date": 1536576280, "post_id": 52255962, "comment_id": 91459317, "body": "Tried it, same problem"}, {"owner": {"reputation": 340, "user_id": 8450860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cy3zy.jpg?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/8450860/naveen"}, "edited": false, "score": 1, "creation_date": 1536576365, "post_id": 52255962, "comment_id": 91459375, "body": "import your project. Don&#39;t open from recent projects and open projects."}, {"owner": {"reputation": 1360, "user_id": 2911633, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f6c92ec704a41749809aae750c34eba?s=128&d=identicon&r=PG", "display_name": "Igor Ilic", "link": "https://stackoverflow.com/users/2911633/igor-ilic"}, "reply_to_user": {"reputation": 340, "user_id": 8450860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cy3zy.jpg?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/8450860/naveen"}, "edited": false, "score": 0, "creation_date": 1536577348, "post_id": 52255962, "comment_id": 91459928, "body": "Thank you @Naveen, that solved my problem. If you want, you can post it as an answer and I&#39;ll accept it"}], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 8450860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cy3zy.jpg?s=128&g=1", "display_name": "Naveen", "link": "https://stackoverflow.com/users/8450860/naveen"}, "is_accepted": true, "score": 1, "last_activity_date": 1536577485, "creation_date": 1536577485, "answer_id": 52256439, "question_id": 52255962, "link": "https://stackoverflow.com/questions/52255962/unable-to-import-android-libraries/52256439#52256439", "title": "Unable to import android libraries", "body": "<p>Follow Below steps.</p>\n\n<ol>\n<li>Open Android Studio</li>\n<li>Go to File - > New -> Import Project</li>\n<li>Browse to the project location.</li>\n<li>rebuild your project.</li>\n</ol>\n\n<p>That's it.</p>\n"}], "owner": {"reputation": 1360, "user_id": 2911633, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4f6c92ec704a41749809aae750c34eba?s=128&d=identicon&r=PG", "display_name": "Igor Ilic", "link": "https://stackoverflow.com/users/2911633/igor-ilic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 52256439, "answer_count": 1, "score": 0, "last_activity_date": 1536577485, "creation_date": 1536575859, "question_id": 52255962, "link": "https://stackoverflow.com/questions/52255962/unable-to-import-android-libraries", "title": "Unable to import android libraries", "body": "<p>in my project after moving it from one pc to another via usb I started getting errors in every file on almost every line, but the app can still be built and run on an emulator. </p>\n\n<p>From what I can tell android studio is having trouble finding the support-v7 library to import all the files</p>\n\n<p>This is from my main activity:</p>\n\n<pre><code>import android.support.design.widget.NavigationView\nimport android.support.design.widget.Snackbar\nimport android.support.v4.view.GravityCompat\nimport android.support.v7.app.ActionBarDrawerToggle\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.DefaultItemAnimator\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\n</code></pre>\n\n<p>And the error message I'm getting is: </p>\n\n<blockquote>\n  <p>Unresolved reference: widget</p>\n</blockquote>\n\n<p>This is my project level gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.61'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:4.0.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And this is my app gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.example.test\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.google.firebase:firebase-messaging:17.3.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'org.jsoup:jsoup:1.11.3'\n    implementation 'com.github.bumptech.glide:volley-integration:4.8.0'\n    implementation 'com.github.d-max:spots-dialog:1.1@aar'\n    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    implementation 'com.google.firebase:firebase-core:16.0.3'\n    implementation 'com.android.support:cardview-v7:27.1.1'\n    implementation 'android.arch.paging:runtime:1.0.1'\n    implementation 'com.android.support:support-vector-drawable:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.android.support:recyclerview-v7:27.1.1'\n}\n\napply plugin: 'com.google.gms.google-services'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>You can also see from this image <a href=\"https://i.stack.imgur.com/DRZga.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRZga.jpg\" alt=\"MainActiviy.kt file\"></a> that the intelli sens is throwing all kinds of errors, but if I run the it will launch and work perfectly in the emulator or on my device.</p>\n\n<p>And this is from running gradle sync:</p>\n\n<p><a href=\"https://i.stack.imgur.com/589pT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/589pT.jpg\" alt=\"Gradle build messages\"></a></p>\n\n<p>What I have tried so far:</p>\n\n<ul>\n<li>Re synced gradle by changing the app version code </li>\n<li>Build -> clean project</li>\n<li>Build -> rebuild project</li>\n<li>File -> invalidate cache / restart</li>\n<li>File -> sync project with gradle files </li>\n</ul>\n"}, {"tags": ["java", "kotlin", "reactor"], "answers": [{"tags": [], "owner": {"reputation": 804, "user_id": 1856573, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f64b59ffafe054f44d5715858e2ef62?s=128&d=identicon&r=PG", "display_name": "lapadets", "link": "https://stackoverflow.com/users/1856573/lapadets"}, "is_accepted": true, "score": 1, "last_activity_date": 1536576883, "creation_date": 1536576883, "answer_id": 52256268, "question_id": 52255888, "link": "https://stackoverflow.com/questions/52255888/create-mono-array-object-with-keeping-original-ordering/52256268#52256268", "title": "Create Mono Array Object with keeping original ordering", "body": "<p>You can try with <code>concatMap</code> instead of <code>flatMap</code>.</p>\n\n<p>Here is a link for the Docu <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concatMap-java.util.function.Function-</a></p>\n\n<pre><code>private fun createItems(objects: List&lt;Someobjects&gt;): Mono&lt;Array&lt;ProcessedObject&gt; {\n         return Flux.fromIterable(objects)\n           .concatMap {\n             processObject(it)\n           }.collectList().map { it.toTypedArray() }\n}\n</code></pre>\n\n<p>The difference between flatMap and concatMap is that the later preserves the original order. </p>\n"}], "owner": {"reputation": 65, "user_id": 6152945, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b41d1b67f5a985736c64c66fb91b795?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/6152945/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 52256268, "answer_count": 1, "score": 0, "last_activity_date": 1536576883, "creation_date": 1536575611, "last_edit_date": 1536576727, "question_id": 52255888, "link": "https://stackoverflow.com/questions/52255888/create-mono-array-object-with-keeping-original-ordering", "title": "Create Mono Array Object with keeping original ordering", "body": "<p>I need to implement function that returns Mono&lt; Array&lt; ProcessedObject>>. As argument it takes list of objects and process them with function that returns Mono&lt; ProcessedObject>. Function needs to keep original order, meaning first element on returned list must be created from first element from argument list. So far i have following solution but it doesn't keep required order. Is it even possible with Flux?</p>\n\n<pre><code>       private fun createItems(objects: List&lt;Someobjects&gt;): Mono&lt;Array&lt;ProcessedObject&gt;&gt; {\n         return Flux.fromIterable(objects)\n           .flatMap {\n             processObject(it)\n           }.collectList().map { it.toTypedArray() }\n}\n</code></pre>\n\n<p>Edit: to clarify a little processObject returns Mono&lt; ProcessedObject></p>\n"}, {"tags": ["android", "kotlin", "scrollview"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1536577606, "post_id": 52255575, "comment_id": 91460061, "body": "you are supposed to add the view to the container inside teh scrollview, better yet why aren&#39;t you using a RecyclerView?"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1536577893, "post_id": 52255575, "comment_id": 91460220, "body": "Ah, thats what I was searching for. Thank you, now I only have to find out how RecyclerView works"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1536577430, "post_id": 52256392, "comment_id": 91459964, "body": "Thank you, I will try that"}], "tags": [], "owner": {"reputation": 1426, "user_id": 608642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25d3d545c5112004e0aff766c23faceb?s=128&d=identicon&r=PG", "display_name": "Dimse", "link": "https://stackoverflow.com/users/608642/dimse"}, "is_accepted": false, "score": 2, "last_activity_date": 1536578214, "last_edit_date": 1536578214, "creation_date": 1536577312, "answer_id": 52256392, "question_id": 52255575, "link": "https://stackoverflow.com/questions/52255575/how-to-make-a-scrollview-in-kotlin/52256392#52256392", "title": "How to make a ScrollView in kotlin", "body": "<p>The <code>ScrollView</code> itself can only hold one child, in this case your layout. The layout can hold multiple views and you should add you <code>TextView</code>s to the layout, not the <code>ScrollView</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1536577850, "post_id": 52256423, "comment_id": 91460203, "body": "Thank you, I will try it too"}], "tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": false, "score": 3, "last_activity_date": 1536580174, "last_edit_date": 1536580174, "creation_date": 1536577420, "answer_id": 52256423, "question_id": 52255575, "link": "https://stackoverflow.com/questions/52255575/how-to-make-a-scrollview-in-kotlin/52256423#52256423", "title": "How to make a ScrollView in kotlin", "body": "<blockquote>\n  <p>java.lang.IllegalStateException: <code>ScrollView</code> can host only <strong>one direct\n  child</strong></p>\n</blockquote>\n\n<p><code>ScrollView</code> can host only one child which means it can hold <strong>only one view</strong> as it's <em>direct child</em> so, something like this will help:</p>\n\n<pre><code>&lt;ScrollView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n    // Content in here ...\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>But, this is not the case since you already have <code>LinearLayout</code> in the root of the layout so, you may wanna consider placing <code>ScrollView</code> as the root and the content inside the <code>LinearLayout</code>.\n<a href=\"http://developer.android.com/reference/android/widget/ScrollView.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/widget/ScrollView.html</a></p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8554, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536580986, "creation_date": 1536574517, "last_edit_date": 1536580986, "question_id": 52255575, "link": "https://stackoverflow.com/questions/52255575/how-to-make-a-scrollview-in-kotlin", "title": "How to make a ScrollView in kotlin", "body": "<p>how can I make a ScrollView which dynamicly adds TextViews to it in the code?\nright now I have:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/root_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"16dp\"\n&gt;\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Create TextView\"\n    /&gt;\n\n&lt;ScrollView\n    android:id=\"@+id/Scroll\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\" /&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>\nas the layout file and this as my kotlin file:</p>\n\n<pre><code>class Abfahrtsmonitor : AppCompatActivity(){\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.abfahrtsmonitor)\n\n    // Variable for counting text view\n    var counter: Int = 1;\n\n    // Set a click listener for button widget\n    button.setOnClickListener{\n        // Create a new TextView instance programmatically\n        val text_view: TextView = TextView(this)\n\n        // Creating a LinearLayout.LayoutParams object for text view\n        var params : LayoutParams = LayoutParams(\n                LayoutParams.MATCH_PARENT, // This will define text         view width\n                LayoutParams.WRAP_CONTENT // This will define text view     height\n        )\n // Display some text on the newly created text view\n        text_view.text = \"Hi, i am a TextView. Number : $counter\"\n // Finally, add the text view to the view group\n        Scroll.addView(text_view)\n\n        // Increment the counter\n        counter++\n</code></pre>\n\n<p>but now I get the error: </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: ScrollView can host only one direct child</p>\n</blockquote>\n"}, {"tags": ["android", "view", "kotlin"], "comments": [{"owner": {"reputation": 175, "user_id": 10289760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OslQv.jpg?s=128&g=1", "display_name": "X-Byte Technolabs pvt. ltd.", "link": "https://stackoverflow.com/users/10289760/x-byte-technolabs-pvt-ltd"}, "edited": false, "score": 0, "creation_date": 1536573166, "post_id": 52255113, "comment_id": 91457655, "body": "onCreateView is your Fragment Method you have to add design code in your .xml file then bind your .xml with your fragment."}, {"owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "reply_to_user": {"reputation": 175, "user_id": 10289760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OslQv.jpg?s=128&g=1", "display_name": "X-Byte Technolabs pvt. ltd.", "link": "https://stackoverflow.com/users/10289760/x-byte-technolabs-pvt-ltd"}, "edited": false, "score": 0, "creation_date": 1536573421, "post_id": 52255113, "comment_id": 91457780, "body": "I&#39;ve already created the design code, I&#39;m asking how to bind my .xml with my fragment @X-ByteTechnolabspvt.ltd."}], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "edited": false, "score": 0, "creation_date": 1536574586, "post_id": 52255372, "comment_id": 91458361, "body": "That&#39;s exactly what i tried first but it shows blank activity"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "edited": false, "score": 1, "creation_date": 1536574632, "post_id": 52255372, "comment_id": 91458381, "body": "ViewPager have any data? Please add a background color for viewpager and check color is showing or not. If color is showing then layout inflate problem is fixed."}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "edited": false, "score": 0, "creation_date": 1536575062, "post_id": 52255372, "comment_id": 91458601, "body": "Great. layout successfully inflated. What kind of data you want to show on viewPager?"}, {"owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "edited": false, "score": 0, "creation_date": 1536575166, "post_id": 52255372, "comment_id": 91458650, "body": "The layout is not inflated, it shows viewpager&#39;s color, not the new layout&#39;s color"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "edited": false, "score": 0, "creation_date": 1536575264, "post_id": 52255372, "comment_id": 91458702, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/179739/discussion-between-faysal-ahmed-and-filippo\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 4, "last_activity_date": 1536576573, "last_edit_date": 1536576573, "creation_date": 1536573790, "answer_id": 52255372, "question_id": 52255113, "link": "https://stackoverflow.com/questions/52255113/inflate-layout-in-viewpager/52255372#52255372", "title": "Inflate layout in ViewPager", "body": "<p>This will inflate the viewpager layout:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                            savedInstanceState: Bundle?): View? {\n    return inflater?.inflate(R.layout.viewpager, container, false) // provide the name of your layout  \n  }\n</code></pre>\n\n<p>If you want to show the XML (you provided) then you need to create a Fragment that contains the XML. You need to create a ViewPagerAdapter for showing the fragment on <code>viewPager</code>.</p>\n\n<p>Example:</p>\n\n<p><strong>your_layout.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.constraint.Guideline\n    android:id=\"@+id/guideline\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    app:layout_constraintGuide_percent=\"0.9\" /&gt;\n\n&lt;ListView\n    android:layout_width=\"368dp\"\n    android:layout_height=\"444dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/guideline\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:text=\"Button\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"@+id/guideline\" /&gt;\n &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>YourFragment.kt</strong></p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageView\nimport android.widget.TextView\n\nclass YourFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater.inflate(R.layout.your_layout, container, false)\n        return view\n    }\n}\n</code></pre>\n\n<p>And <strong>ViewPagerAdapter.kt</strong></p>\n\n<pre><code>import android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v4.app.FragmentPagerAdapter\n\nclass ViewPagerAdapter internal constructor(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n    private val COUNT = 3\n\n    override fun getItem(position: Int): Fragment? {\n        var fragment: Fragment? = null\n        when (position) {\n            0 -&gt; fragment = YourFragment()\n            1 -&gt; fragment = YourFragment()\n            2 -&gt; fragment = YourFragment()\n        }\n\n        return fragment\n    }\n\n    override fun getCount(): Int {\n        return COUNT\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return \" \"\n    }\n}\n</code></pre>\n\n<p>And from your viewpager Fragment use this:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                                savedInstanceState: Bundle?): View? {\n        val view = inflater?.inflate(R.layout.viewpager, container, false) // provide the name of your layout  \n        val viewPager = view.findViewById&lt;ViewPager&gt;(R.id.viewPager)\n        if (viewPager != null) {\n            val adapter = ViewPagerAdapter(supportFragmentManager)\n            viewPager.adapter = adapter\n        }\n        return view\n      }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 8508168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eyP2qJqI_r0/AAAAAAAAAAI/AAAAAAAADG0/YeKcHgn72fc/photo.jpg?sz=128", "display_name": "Nitkarsh Gupta", "link": "https://stackoverflow.com/users/8508168/nitkarsh-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1536573907, "creation_date": 1536573907, "answer_id": 52255406, "question_id": 52255113, "link": "https://stackoverflow.com/questions/52255113/inflate-layout-in-viewpager/52255406#52255406", "title": "Inflate layout in ViewPager", "body": "<p>Design your adapter somewhat like this after populating fragment.</p>\n\n<pre><code>private class MyPagerAdapter extends FragmentPagerAdapter {\n\n        MyPagerAdapter(FragmentManager fragmentManager)\n        {\n            super(fragmentManager);\n        }\n        @Override\n        public Fragment getItem(int position) {\n            switch(position){\n                case 0: return fragment1.newInstance();\n                case 1: return fragment2.newInstance();\n                case 2: return fragment3.newInstance();\n                default: return fragment1.newInstance();\n            }\n\n        }\n</code></pre>\n\n<p>And in last set adapter to viewpager like this</p>\n\n<pre><code>vPager.setAdapter(new MyPagerAdapter(getSupportFragmentManager()));\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 7373646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4364c13b64f23ad0e1d2c02a64bf3d?s=128&d=identicon&r=PG&f=1", "display_name": "Filippo", "link": "https://stackoverflow.com/users/7373646/filippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 52255372, "answer_count": 2, "score": 1, "last_activity_date": 1536576573, "creation_date": 1536572956, "last_edit_date": 1536575072, "question_id": 52255113, "link": "https://stackoverflow.com/questions/52255113/inflate-layout-in-viewpager", "title": "Inflate layout in ViewPager", "body": "<p>That's my viewpager xml</p>\n\n<pre><code>&lt;android.support.v4.view.ViewPager\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n</code></pre>\n\n<p>How can I inflate a layout resource in onCreateView?</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n}\n</code></pre>\n\n<p>I tried with something like that</p>\n\n<pre><code>val rootView = inflater.inflate(resID, container, false)\nreturn rootView\n</code></pre>\n\n<p>But this showed white activity</p>\n\n<p>Here's the layout that I'm triyng to inflate</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.constraint.Guideline\n    android:id=\"@+id/guideline\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    app:layout_constraintGuide_percent=\"0.9\" /&gt;\n\n&lt;ListView\n    android:layout_width=\"368dp\"\n    android:layout_height=\"444dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/guideline\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:text=\"Button\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"@+id/guideline\" /&gt;\n &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "functional-programming", "monads", "arrow-kt"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1536574380, "post_id": 52255089, "comment_id": 91458268, "body": "Perhaps you should ask this on <a href=\"https://cstheory.stackexchange.com/\">cstheory.stackexchange.com</a> ? This site is about practical programming problems."}, {"owner": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1536578799, "post_id": 52255089, "comment_id": 91460721, "body": "<a href=\"https://arrow-kt.io/docs/patterns/monads/\" rel=\"nofollow noreferrer\">arrow-kt.io/docs/patterns/monads</a>"}], "answers": [{"comments": [{"owner": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 3, "creation_date": 1536580327, "post_id": 52256857, "comment_id": 91461456, "body": "\u2026if you&#39;ve <code>map</code>ped and <code>concat</code>enated arrays, you&#39;ve used monads. And thousands more."}, {"owner": {"reputation": 1731, "user_id": 780350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afaa8b1a1e2fe1b53755564e5fa34568?s=128&d=identicon&r=PG", "display_name": "melston", "link": "https://stackoverflow.com/users/780350/melston"}, "reply_to_user": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1536709680, "post_id": 52256857, "comment_id": 91519393, "body": "@Bergi, though it may be confusing to the OP, <code>map</code> is actually part of <code>Functor</code>, not <code>Monad</code>.  And <code>concat</code> isn&#39;t really either (though it can be implemented in terms of <code>Monad</code>).  But this may be getting too pedantic."}, {"owner": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1731, "user_id": 780350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afaa8b1a1e2fe1b53755564e5fa34568?s=128&d=identicon&r=PG", "display_name": "melston", "link": "https://stackoverflow.com/users/780350/melston"}, "edited": false, "score": 0, "creation_date": 1536758967, "post_id": 52256857, "comment_id": 91540593, "body": "@melston <code>flatMap</code> = <code>map</code> + <code>join</code>, where <code>join</code> is <code>concat</code> on arrays. Is there a <code>concatMap</code> method in Kotlin?"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 6, "last_activity_date": 1536578875, "creation_date": 1536578875, "answer_id": 52256857, "question_id": 52255089, "link": "https://stackoverflow.com/questions/52255089/what-is-monad-in-kotlin-arrow-functional-programming/52256857#52256857", "title": "What is Monad in kotlin arrow functional programming?", "body": "<p>Here's a good explanation from the documentation:</p>\n\n<blockquote>\n  <p>In Arrow terms, a Monad is an interface with two operations: a\n  constructor just, and flatMap</p>\n</blockquote>\n\n<p>Arrow provides both documentation for <a href=\"https://arrow-kt.io/docs/typeclasses/monad/\" rel=\"noreferrer\">Monad</a> and a longer <a href=\"https://arrow-kt.io/docs/patterns/monads/\" rel=\"noreferrer\">Monad Explanation</a>.</p>\n\n<p>In a short and very non-academic way, though, Monad can be viewed as a design pattern to safely chain calls. If you used Stream API in Java, you've used monads. If you've used promises in JavaScript, you've used monads.</p>\n"}], "owner": {"reputation": 868, "user_id": 6286539, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195207520519710/picture?type=large", "display_name": "Sujin Shrestha", "link": "https://stackoverflow.com/users/6286539/sujin-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1536798320, "creation_date": 1536572857, "last_edit_date": 1536798320, "question_id": 52255089, "link": "https://stackoverflow.com/questions/52255089/what-is-monad-in-kotlin-arrow-functional-programming", "title": "What is Monad in kotlin arrow functional programming?", "body": "<p>Can someone explain the concept of <code>Monad</code> in <code>Arrow</code> functional programming?</p>\n\n<p><a href=\"https://arrow-kt.io/docs/datatypes/option/\" rel=\"nofollow noreferrer\">https://arrow-kt.io/docs/datatypes/option/</a></p>\n"}, {"tags": ["android", "kotlin", "mvp", "koin"], "comments": [{"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "edited": false, "score": 0, "creation_date": 1536572680, "post_id": 52254907, "comment_id": 91457409, "body": "share LoginActivity.java code"}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1536574188, "creation_date": 1536574188, "answer_id": 52255484, "question_id": 52254907, "link": "https://stackoverflow.com/questions/52254907/cant-create-bean-beanclass-com-melayer-codekuladminpanel-login-data-loginrepos/52255484#52255484", "title": "Can&#39;t create bean Bean[class=com.melayer.codekuladminpanel.login.data.LoginRepository] due to error :", "body": "<p>When building a Retrofit instance, you must provide it the baseUrl <em>without an additional path</em>.</p>\n\n<p>You are currently providing </p>\n\n<pre><code>http://192.168.15.121:8282/codekul\n</code></pre>\n\n<p>Change that to</p>\n\n<pre><code>http://192.168.15.121:8282/\n</code></pre>\n\n<p>Note the trailing <code>/</code>, it is required.</p>\n"}], "owner": {"reputation": 269, "user_id": 9203966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0Nng.png?s=128&g=1", "display_name": "VAIBHAV NERLE", "link": "https://stackoverflow.com/users/9203966/vaibhav-nerle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1536574188, "creation_date": 1536572177, "last_edit_date": 1536572224, "question_id": 52254907, "link": "https://stackoverflow.com/questions/52254907/cant-create-bean-beanclass-com-melayer-codekuladminpanel-login-data-loginrepos", "title": "Can&#39;t create bean Bean[class=com.melayer.codekuladminpanel.login.data.LoginRepository] due to error :", "body": "<p>FATAL EXCEPTION: main</p>\n\n<pre><code>                                                                       java.lang.RuntimeException: Unable to resume activity {com.melayer.codekuladminpanel/com.melayer.codekuladminpanel.login.ui.LoginActivity}: org.koin.error.BeanInstanceCreationException: Can't create bean Factory[class=com.melayer.codekuladminpanel.login.mvp.LoginContract.Presenter] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[class=com.melayer.codekuladminpanel.login.data.LoginRepository] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[name='remoteDataSource', class=com.melayer.codekuladminpanel.login.data.source.remote.LoginRemoteDataSource] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[class=retrofit2.Retrofit] due to error :\n                                                                        java.lang.IllegalArgumentException: baseUrl must end in /: http://192.168.15.121:8282/codekul\n                                                                           at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2458)\n                                                                           at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2486)\n                                                                           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2000)\n                                                                           at android.app.ActivityThread.access$600(ActivityThread.java:128)\n                                                                           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)\n                                                                           at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                           at android.os.Looper.loop(Looper.java:137)\n                                                                           at android.app.ActivityThread.main(ActivityThread.java:4517)\n                                                                           at java.lang.reflect.Method.invokeNative(Native Method)\n                                                                           at java.lang.reflect.Method.invoke(Method.java:511)\n                                                                           at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\n                                                                           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\n                                                                           at dalvik.system.NativeStart.main(Native Method)\n                                                                        Caused by: org.koin.error.BeanInstanceCreationException: Can't create bean Factory[class=com.melayer.codekuladminpanel.login.mvp.LoginContract.Presenter] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[class=com.melayer.codekuladminpanel.login.data.LoginRepository] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[name='remoteDataSource', class=com.melayer.codekuladminpanel.login.data.source.remote.LoginRemoteDataSource] due to error :\n                                                                        org.koin.error.BeanInstanceCreationException: Can't create bean Bean[class=retrofit2.Retrofit] due to error :\n                                                                        java.lang.IllegalArgumentException: baseUrl must end in /: http://192.168.15.121:8282/codekul\n                                                                           at org.koin.core.instance.InstanceFactory.createInstance(InstanceFactory.kt:63)\n                                                                           at org.koin.core.instance.InstanceFactory.retrieveInstance(InstanceFactory.kt:22)\n                                                                           at org.koin.KoinContext$resolveInstance$$inlined$synchronized$lambda$1.invoke(KoinContext.kt:85)\n                                                                           at org.koin.KoinContext$resolveInstance$$inlined$synchronized$lambda$1.invoke(KoinContext.kt:23)\n                                                                           at org.koin.ResolutionStack.resolve(ResolutionStack.kt:23)\n                                                                           at org.koin.KoinContext.resolveInstance(KoinContext.kt:80)\n                                                                           at com.melayer.codekuladminpanel.login.ui.LoginFragment$$special$$inlined$inject$2.invoke(AndroidExt.kt:133)\n                                                                           at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\n                                                                           at com.melayer.codekuladminpanel.login.ui.LoginFragment.getPresenter(LoginFragment.kt)\n                                                                           at com.melayer.codekuladminpanel.login.ui.LoginFragment.onResume(LoginFragment.kt:50)\n                                                                           at android.support.v4.app.Fragment.performResume(Fragment.java:2401)\n                                                                           at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1465)\n                                                                           at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1740)\n                                                                           at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1809)\n                                                                           at android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3217)\n                                                                           at android.support.v4.app.FragmentManagerImpl.dispatchResume(FragmentManager.java:3181)\n                                                                           at android.support.v4.app.FragmentController.dispatchResume(FragmentController.java:214)\n                                                                           at android.support.v4.app.FragmentActivity.onResumeFragments(FragmentActivity.java:470)\n                                                                           at android.support.v4.app.FragmentActivity.onPostResume(FragmentActivity.java:459)\n                                                                        at android.suppo\n</code></pre>\n"}, {"tags": ["kotlin", "gson", "retrofit", "moshi"], "comments": [{"owner": {"reputation": 966, "user_id": 4978865, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-75z0lafdAEk/AAAAAAAAAAI/AAAAAAAAABQ/LjBjsQQLGnM/photo.jpg?sz=128", "display_name": "Praytic", "link": "https://stackoverflow.com/users/4978865/praytic"}, "edited": false, "score": 0, "creation_date": 1536579526, "post_id": 52254876, "comment_id": 91461112, "body": "Why your <code>toJson</code> method accepts only one parameter instead of the whole <code>User</code> entity and <code>fromJson</code> returns <code>String</code> and not <code>User</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1755, "user_id": 349681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxxTb.jpg?s=128&g=1", "display_name": "Oleksandr Kucherenko", "link": "https://stackoverflow.com/users/349681/oleksandr-kucherenko"}, "edited": false, "score": 0, "creation_date": 1536581927, "post_id": 52257561, "comment_id": 91462456, "body": "for release build with enabled proguard don&#39;t forget to apply Moshi specific rules, <a href=\"https://plus.google.com/u/0/+OleksandrKucherenko/posts/1wLwv728FgF\" rel=\"nofollow noreferrer\">plus.google.com/u/0/+OleksandrKucherenko/posts/1wLwv728FgF</a>"}, {"owner": {"reputation": 63, "user_id": 10298663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd54fc84c611b6b34048c11f8cca7671?s=128&d=identicon&r=PG&f=1", "display_name": "Jaskaran Singh", "link": "https://stackoverflow.com/users/10298663/jaskaran-singh"}, "edited": false, "score": 0, "creation_date": 1536587295, "post_id": 52257561, "comment_id": 91465927, "body": "will test and let you know"}, {"owner": {"reputation": 63, "user_id": 10298663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd54fc84c611b6b34048c11f8cca7671?s=128&d=identicon&r=PG&f=1", "display_name": "Jaskaran Singh", "link": "https://stackoverflow.com/users/10298663/jaskaran-singh"}, "edited": false, "score": 0, "creation_date": 1536587434, "post_id": 52257561, "comment_id": 91466023, "body": "I tried the approach given here <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">github.com/square/moshi</a>. Alternate type adapters with @JsonQualifier"}], "tags": [], "owner": {"reputation": 1755, "user_id": 349681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxxTb.jpg?s=128&g=1", "display_name": "Oleksandr Kucherenko", "link": "https://stackoverflow.com/users/349681/oleksandr-kucherenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1536581657, "creation_date": 1536581657, "answer_id": 52257561, "question_id": 52254876, "link": "https://stackoverflow.com/questions/52254876/moshi-custom-qualifier-annotation-to-serialise-null-on-one-property-only/52257561#52257561", "title": "moshi custom qualifier annotation to serialise null on one property only", "body": "<p>Try approach from my gist:</p>\n\n<p><a href=\"https://gist.github.com/OleksandrKucherenko/ffb2126d37778b88fca3774f1666ce66\" rel=\"nofollow noreferrer\">https://gist.github.com/OleksandrKucherenko/ffb2126d37778b88fca3774f1666ce66</a></p>\n\n<p>In my case I convert NULL from JSON into default double/integer value. You can easily modify the approach and make it work for your specific case. </p>\n\n<p>p.s. its JAVA, convert it to Kotlin first.</p>\n"}, {"tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 8, "last_activity_date": 1536614955, "creation_date": 1536614955, "answer_id": 52265735, "question_id": 52254876, "link": "https://stackoverflow.com/questions/52254876/moshi-custom-qualifier-annotation-to-serialise-null-on-one-property-only/52265735#52265735", "title": "moshi custom qualifier annotation to serialise null on one property only", "body": "<p>Your toJson adapter method will return null when the qualified string value is null, and the JsonWriter will not write the null value.</p>\n\n<p>Here is a qualifier and adapter factory to install that will work.</p>\n\n<pre><code>@Retention(RUNTIME)\n@JsonQualifier\npublic @interface SerializeNulls {\n  JsonAdapter.Factory JSON_ADAPTER_FACTORY = new JsonAdapter.Factory() {\n    @Nullable @Override\n    public JsonAdapter&lt;?&gt; create(Type type, Set&lt;? extends Annotation&gt; annotations, Moshi moshi) {\n      Set&lt;? extends Annotation&gt; nextAnnotations =\n          Types.nextAnnotations(annotations, SerializeNulls.class);\n      if (nextAnnotations == null) {\n        return null;\n      }\n      return moshi.nextAdapter(this, type, nextAnnotations).serializeNulls();\n    }\n  };\n}\n</code></pre>\n\n<p>Now, the following will pass.</p>\n\n<pre><code>class User(\n  var firstname: String?,\n  var lastname: String?,\n  @SerializeNulls var collegeInput: String?,\n  @SerializeNulls var otherCollege: String?\n)\n\n@Test fun serializeNullsQualifier() {\n  val moshi = Moshi.Builder()\n      .add(SerializeNulls.JSON_ADAPTER_FACTORY)\n      .add(KotlinJsonAdapterFactory())\n      .build()\n  val userAdapter = moshi.adapter(User::class.java)\n  val user = User(\n      firstname = \"foo\",\n      lastname = null,\n      collegeInput = \"abcd\",\n      otherCollege = null\n  )\n  assertThat(\n      userAdapter.toJson(user)\n  ).isEqualTo(\n      \"\"\"{\"firstname\":\"foo\",\"collegeInput\":\"abcd\",\"otherCollege\":null}\"\"\"\n  )\n}\n</code></pre>\n\n<p>Note that you should use the <a href=\"https://github.com/square/moshi/#kotlin\" rel=\"noreferrer\">Kotlin support in Moshi</a> to avoid the <code>@field:</code> oddities.</p>\n"}], "owner": {"reputation": 63, "user_id": 10298663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd54fc84c611b6b34048c11f8cca7671?s=128&d=identicon&r=PG&f=1", "display_name": "Jaskaran Singh", "link": "https://stackoverflow.com/users/10298663/jaskaran-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3071, "favorite_count": 0, "accepted_answer_id": 52265735, "answer_count": 2, "score": 5, "last_activity_date": 1536614955, "creation_date": 1536572075, "question_id": 52254876, "link": "https://stackoverflow.com/questions/52254876/moshi-custom-qualifier-annotation-to-serialise-null-on-one-property-only", "title": "moshi custom qualifier annotation to serialise null on one property only", "body": "<p>I'd like to serialise null for only one property in my JSON body that is going on a PUT. I don't want to serialize null for any other types in the object. Model class is like this</p>\n\n<pre><code>@Parcel\nclass User @ParcelConstructor constructor(var college: College?,\n                                          var firstname: String?,\n                                          var lastname: String?,\n                                          var email: String?,\n                                          var active: Boolean = true,\n                                          var updatedAt: String?,\n                                          var gender: String?,\n                                          var picture: String?,\n                                          var id: String?,\n                                          @field: [CollegeField] var collegeInput: String?,\n                                          @field: [CollegeField] var otherCollege: String?,)\n</code></pre>\n\n<p>I only want to serialise collegeInput and otherCollege fields if either of them are null. For example </p>\n\n<pre><code>val user = User(firstname = \"foo\", lastname=null, collegeInput=\"abcd\", otherCollege = null)\n</code></pre>\n\n<p>Json will look something like this:</p>\n\n<pre><code>{\"user\":{\n  \"firstname\": \"foo\",\n  \"collegeInput\": \"abcd\",\n  \"otherCollege\": null\n}}\n</code></pre>\n\n<p>Where otherCollege is null, lastname is omitted from the object as by default moshi does not serialise nulls which is what I want, but qualifer fields should be serialized with null values</p>\n\n<p>I tried using </p>\n\n<pre><code>class UserAdapter {\n@FromJson\n@CollegeField\n@Throws(Exception::class)\nfun fromJson(reader: JsonReader): String? {\n    return when (reader.peek()) {\n        JsonReader.Token.NULL -&gt;\n            reader.nextNull()\n        JsonReader.Token.STRING -&gt; reader.nextString()\n        else -&gt; {\n            reader.skipValue() // or throw\n            null\n        }\n    }\n}\n\n@ToJson\n@Throws(IOException::class)\nfun toJson(@CollegeField b: String?): String? {\n    return b\n}\n\n\n@Retention(AnnotationRetention.RUNTIME)\n@JsonQualifier\nannotation class CollegeField\n</code></pre>\n\n<p>I added the adapter to moshi but it never gets called</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideMoshi(): Moshi {\n    return Moshi.Builder()\n            .add(UserAdapter())\n            .build()\n}\n\n@Provides\n@Singleton\nfun provideRetrofit(client: OkHttpClient, moshi: Moshi, apiConfig: ApiConfig): Retrofit {\n    return Retrofit.Builder()\n            .baseUrl(apiConfig.baseUrl)\n            .client(client)\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .addConverterFactory(ScalarsConverterFactory.create())\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\n            .build()\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1536569612, "post_id": 52254203, "comment_id": 91455828, "body": "does the file actually contain a class?"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1536569698, "post_id": 52254203, "comment_id": 91455878, "body": "Looking at the icon, It&#39;s recognized as a Kotlin file, which means that it probably contains more than just a class."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1536570000, "post_id": 52254203, "comment_id": 91456027, "body": "This is not a bug and there is nothing you need to fix. See duplicate issue for an explanation of how the icons are selected."}], "owner": {"reputation": 145, "user_id": 6596908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7uH1.png?s=128&g=1", "display_name": "Human_BetaRelease", "link": "https://stackoverflow.com/users/6596908/human-betarelease"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1536569980, "answer_count": 0, "score": 0, "last_activity_date": 1536569570, "creation_date": 1536569570, "question_id": 52254203, "link": "https://stackoverflow.com/questions/52254203/mark-kotlin-file-as-class-in-intellij-idea", "closed_reason": "Duplicate", "title": "Mark Kotlin File as Class in IntelliJ IDEA", "body": "<p>I have a running program, but one of my kotlin files is not recognized as a class.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ldlop.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ldlop.png\" alt=\"See the third file\"></a></p>\n\n<p>The project is a maven project, the hint to set the source folder did not work (which is no wonder, because all the other files in the same folder are recognized). So, how to fix that?</p>\n"}, {"tags": ["java", "reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "is_accepted": true, "score": 5, "last_activity_date": 1536569151, "last_edit_date": 1536569151, "creation_date": 1536568344, "answer_id": 52253859, "question_id": 52252395, "link": "https://stackoverflow.com/questions/52252395/use-getdeclaredmethod-using-a-function-as-a-parametertype/52253859#52253859", "title": "Use getDeclaredMethod using a function as a parameterType", "body": "<p>The function reference is resolved as being of type <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/function-types.md\" rel=\"noreferrer\"><code>kotlin.jvm.functions.Function1</code></a>.</p>\n\n<p>This means you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredMethod-java.lang.String-java.lang.Class...-\" rel=\"noreferrer\"><code>getDeclaredMethod()</code></a> to get a method reference by calling:</p>\n\n<pre><code>getDeclaredMethod(\"setNumericListener\", EditText::class.java, Function1::class.java)\n</code></pre>\n\n<p>Here's a complete snippet:</p>\n\n<pre><code>fun main(vararg args: String) {\n    val method = Test::class.java.getDeclaredMethod(\"setNumericListener\",\n            EditText::class.java, Function1::class.java)\n\n    println(method)\n}\n\n// Declarations\nclass Test {\n    private fun setNumericListener(editText: EditText,\n            onValueChanged: (d: Double?) -&gt; Unit) {}\n}\n\nclass EditText {}\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>private final void Test.setNumericListener(EditText,kotlin.jvm.functions.Function1)\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 4265683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YuvUCFovfU8/AAAAAAAAAAI/AAAAAAAAAE0/c0z4MZAzb48/photo.jpg?sz=128", "display_name": "DavidGSola", "link": "https://stackoverflow.com/users/4265683/davidgsola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 823, "favorite_count": 1, "accepted_answer_id": 52253859, "answer_count": 1, "score": 5, "last_activity_date": 1536569151, "creation_date": 1536561873, "last_edit_date": 1536563938, "question_id": 52252395, "link": "https://stackoverflow.com/questions/52252395/use-getdeclaredmethod-using-a-function-as-a-parametertype", "title": "Use getDeclaredMethod using a function as a parameterType", "body": "<p>I have a private method which header is: </p>\n\n<pre><code>private fun setNumericListener(editText: EditText, onValueChanged:(newValue: Double?) -&gt; Unit)\n</code></pre>\n\n<p>I call this method in this way: <code>setNumericListener(amountEditText, this::onAmountChanged)</code></p>\n\n<p>I would like to use getDeclaredMethod from Class \n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredMethod(java.lang.String,%20java.lang.Class...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredMethod(java.lang.String,%20java.lang.Class...)</a> to get a reference to my private method <code>setNumericListener</code>. <code>getDeclaredMethod</code>receives an array of parameter types <code>Class&lt;?&gt;... parameterTypes</code> but I have no idea about how to set the parameter types array when my private method has a method reference as a parameter.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "thymeleaf"], "comments": [{"owner": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "edited": false, "score": 0, "creation_date": 1536591625, "post_id": 52251461, "comment_id": 91468692, "body": "When there are errors, only add <code>options</code> back onto the model.  Don&#39;t add <code>design</code>."}, {"owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "reply_to_user": {"reputation": 13530, "user_id": 4126893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94eb9f9f4055d544c6c3746121f82c88?s=128&d=identicon&r=PG&f=1", "display_name": "Metroids", "link": "https://stackoverflow.com/users/4126893/metroids"}, "edited": false, "score": 0, "creation_date": 1536859460, "post_id": 52251461, "comment_id": 91584981, "body": "@Metroids This has worked, thank you."}], "owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536556508, "creation_date": 1536556508, "question_id": 52251461, "link": "https://stackoverflow.com/questions/52251461/validating-input-within-thymeleaf-s-thobject-in-spring-boot-controller", "title": "Validating input within Thymeleaf\u2019s th:object in Spring Boot controller", "body": "<p>I\u2019m using Kotlin, Spring Boot 2.0.4, and Thymeleaf to build a teaching project.</p>\n\n<p>The gist of it is simple:</p>\n\n<p>First, showForm() populates model with input options and returns view:</p>\n\n<pre><code>@GetMapping\nfun showForm(model: Model): String {\n    model.addAttribute(\n        \"options\", \n        listOf(\n            Option(\"1\", \"Option 1\"), \n            Option(\"2\", \"Option 2\")\n        )\n    )\n    model.addAttribute(\"design\", Design()) // This will be used for th:object\n    return \"form\"\n}\n</code></pre>\n\n<p>Second, view generates checkboxes for options:</p>\n\n<pre><code>&lt;form method=\"POST\" th:object=\"${design}\"&gt;\n\n...\n\n    &lt;div th:each=\"option: ${options}\"&gt;\n        &lt;input type=\"checkbox\" name=\"options\" th:value=\"${option.id}\" /&gt;\n        ...\n    &lt;/div&gt;\n\n...\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Finally, controller validates submitted form and, if there are errors, returns the original form:</p>\n\n<pre><code>@PostMapping\nfun processForm(@Valid design: Design, result: BindingResult): String {\n    if (result.hasErrors()) {\n        return \"form\"\n    }\n    return \"redirect:/somewhere/else\"\n}\n</code></pre>\n\n<p>The problem I\u2019m having is that whenever Spring bounces me back with errors, my option checkboxes disappear. It seems to me, that model attributes seem to become lost.</p>\n\n<p>And if I try to repopulate model with attributes before sending back with errors, the errors themself are lost.</p>\n\n<p>How do I implement validation so that both model attributes and errors persist despite validation errors?</p>\n"}, {"tags": ["java", "spring", "enums", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 5667724, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VKJ77CMLI8o/AAAAAAAAAAI/AAAAAAAAAag/dkruH_XMMW8/photo.jpg?sz=128", "display_name": "Christoph", "link": "https://stackoverflow.com/users/5667724/christoph"}, "is_accepted": false, "score": 1, "last_activity_date": 1581428514, "creation_date": 1581428514, "answer_id": 60170204, "question_id": 52251434, "link": "https://stackoverflow.com/questions/52251434/how-to-convert-java-string-to-enum-converterfactory-class-to-kotlin/60170204#60170204", "title": "How to convert Java String to Enum ConverterFactory class to Kotlin", "body": "<p>I did something similar:</p>\n\n<pre><code>class StringToEnumConverterFactory : ConverterFactory&lt;String, Enum&lt;*&gt;?&gt; {\n    override fun &lt;E : Enum&lt;*&gt;?&gt; getConverter(clazz: Class&lt;E&gt;): Converter&lt;String, E&gt; {\n        return StringToEnumConverter(clazz)\n    }\n}\n\nclass StringToEnumConverter&lt;T : Enum&lt;*&gt;?&gt;(private val enumClass: Class&lt;T&gt;) : Converter&lt;String, T&gt; {\n\n    override fun convert(source: String): T? {\n        if (source.isEmpty()) {\n            return null\n        }\n        return enumClass.enumConstants.first { it!!.name == source.trim() }\n    }\n}\n</code></pre>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 181, "user_id": 2465843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H4ugJ.jpg?s=128&g=1", "display_name": "Frozenex", "link": "https://stackoverflow.com/users/2465843/frozenex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1581428514, "creation_date": 1536556336, "question_id": 52251434, "link": "https://stackoverflow.com/questions/52251434/how-to-convert-java-string-to-enum-converterfactory-class-to-kotlin", "title": "How to convert Java String to Enum ConverterFactory class to Kotlin", "body": "<p>Am unable to convert the following converter factory class for converting string to enum types in spring 5 to kotlin. Kindly help me out.</p>\n\n<pre><code>@Component\npublic class StringToEnumConverterFactory \n  implements ConverterFactory&lt;String, Enum&gt; {\n\n    private static class StringToEnumConverter&lt;T extends Enum&gt; \n      implements Converter&lt;String, T&gt; {\n\n        private Class&lt;T&gt; enumType;\n\n        public StringToEnumConverter(Class&lt;T&gt; enumType) {\n            this.enumType = enumType;\n        }\n\n        public T convert(String source) {\n            return (T) Enum.valueOf(this.enumType, source.trim());\n        }\n    }\n\n    @Override\n    public &lt;T extends Enum&gt; Converter&lt;String, T&gt; getConverter(\n      Class&lt;T&gt; targetType) {\n        return new StringToEnumConverter(targetType);\n    }\n}\n</code></pre>\n"}]