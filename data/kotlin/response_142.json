[{"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1506625568, "post_id": 46462445, "comment_id": 79908292, "body": "This is great, thanks. I&#39;m very thankful to know about the best practices. With the new syntax, however, I&#39;m now not entirely sure how I get references to views. For example, if I wanted to add a view to HelloWorld (in the right position), then how would I wire the <code>onUserSelect(1)</code> so that inside that I could talk to the right side view instance? I&#39;m a little confused by the use of <code>::class</code> because I assume I would want a reference to the instance, not the class (which obviously happens under the hood, but I&#39;m unclear how I reference the instantiated object, and from where (init?))."}, {"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1506662365, "post_id": 46462445, "comment_id": 79918926, "body": "Or, where is the new syntax documented?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1506705787, "post_id": 46462445, "comment_id": 79942303, "body": "This syntax is used all over the guide. If you find examples using out dated syntax, please file an issue with the guide project and we&#39;ll update it :)"}, {"owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1506705919, "post_id": 46462445, "comment_id": 79942380, "body": "So if I look for <code>left(LeftSide::class)</code> in the guide, I&#39;ll see examples? I think I was looking at the most recent examples but must be using an old guide. If I see outdated stuff, will file a bug."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "edited": false, "score": 0, "creation_date": 1506813541, "post_id": 46462445, "comment_id": 79970036, "body": "I&#39;m not sure if left() is covered in the guide, but we&#39;re grateful for all issues against the guide for outdated syntax for sure :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1506580471, "creation_date": 1506580471, "answer_id": 46462445, "question_id": 46458666, "link": "https://stackoverflow.com/questions/46458666/how-do-install-a-click-handler-on-a-dynamic-listview-in-tornadofx/46462445#46462445", "title": "How do install a click handler on a dynamic listview (in tornadofx)", "body": "<p>To configure a callback when an item in a ListView is selected, use the <code>onUserSelect</code> callback:</p>\n\n<pre><code>onUserSelect {\n    information(\"You selected $it\")\n}\n</code></pre>\n\n<p>You can optionally pass how many clicks constitutes a select as well, default is 2:</p>\n\n<pre><code>onUserSelect(1) {\n    information(\"You selected $it\")\n}\n</code></pre>\n\n<p>You are using some outdated constructs in your code, here is an updated version converted to best practices :)</p>\n\n<pre><code>class MyApp : App(HelloWorld::class)\n\nclass HelloWorld : View() {\n    override val root = borderpane {\n        left(LeftSide::class)\n    }\n}\n\nclass LeftSide : View() {\n    val requestView: RequestView by inject()\n\n    override val root = vbox {\n        add(requestView)\n        button(\"Add Item\").action {\n            requestView.responses.add(Request(\"example.com\",\n                    \"/foo/bar\",\n                    \"\"\"{ \"foo\" : \"bar\"}\"\"\".toByteArray()))\n        }\n    }\n}\n\n\nclass RequestView : View() {\n    val responses = FXCollections.observableArrayList&lt;Request&gt;()\n\n    override val root = listview(responses) {\n        cellFormat {\n            graphic = cache {\n                form {\n                    fieldset {\n                        label(it.hostname) {\n                            alignment = Pos.CENTER_RIGHT\n                            style {\n                                fontSize = 22.px\n                                fontWeight = FontWeight.BOLD\n                            }\n                        }\n                        field(\"Path\") {\n                            label(it.path)\n                        }\n                    }\n                }\n            }\n        }\n        onUserSelect(1) {\n            information(\"You selected $it\")\n        }\n    }\n\n}\n\nclass Request(val hostname: String, val path: String, val body: ByteArray)\n</code></pre>\n"}], "owner": {"reputation": 3801, "user_id": 105589, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/4f325e95feb5cc5077c8dbcdca22a373?s=128&d=identicon&r=PG", "display_name": "xrd", "link": "https://stackoverflow.com/users/105589/xrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 0, "accepted_answer_id": 46462445, "answer_count": 1, "score": 0, "last_activity_date": 1506580471, "creation_date": 1506554612, "question_id": 46458666, "link": "https://stackoverflow.com/questions/46458666/how-do-install-a-click-handler-on-a-dynamic-listview-in-tornadofx", "title": "How do install a click handler on a dynamic listview (in tornadofx)", "body": "<p>My application needs to permit additions to the listview. I've figured out how I can dynamically add to a listview by using <code>observableArrayList</code>. If I click on the button, an item gets added to the list and displayed.</p>\n\n<p>Now I'm struggling to add a click handler (I want to handle the event that happens when someone clicks on any item within the list view). Where do I do this?</p>\n\n<p>Here is my code.</p>\n\n<pre><code>package someapp\n\nimport javafx.collections.FXCollections\nimport javafx.geometry.Pos\nimport javafx.scene.layout.VBox\nimport javafx.scene.text.FontWeight\nimport tornadofx.*\n\nclass MyApp : App(HelloWorld::class) {\n}\n\nclass HelloWorld : View() {\n    val leftSide: LeftSide by inject()\n\n    override val root = borderpane {\n        left = leftSide.root\n    }\n}\n\nclass LeftSide: View() {\n\n    var requestView: RequestView by singleAssign()\n\n    override val root = VBox()\n\n    init {\n        with(root) {\n            requestView = RequestView()\n            this += requestView\n\n            this += button(\"Add Item\") {\n                action {\n                    requestView.responses.add( Request( \"example.com\",\n                            \"/foo/bar\",\n                            \"{ \\\"foo\\\" : \\\"bar\\\"}\".toByteArray()))\n                }\n            }\n\n        }\n    }\n\n}\n\n\nclass RequestView : View() {\n\n    val responses = FXCollections.observableArrayList&lt;Request&gt;(\n    )\n\n    override val root = listview(responses) {\n        cellFormat {\n            graphic = cache {\n                form {\n                    fieldset {\n                        label(it.hostname) {\n                            alignment = Pos.CENTER_RIGHT\n                            style {\n                                fontSize = 22.px\n                                fontWeight = FontWeight.BOLD\n                            }\n                        }\n                        field(\"Path\") {\n                            label(it.path)\n                        }\n\n                    }\n                }\n            }\n        }\n\n    }\n\n}\n\nclass Request(val hostname: String, val path: String, val body: ByteArray) {\n}\n</code></pre>\n"}, {"tags": ["constructor", "jvm", "kotlin", "this"], "comments": [{"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 2, "creation_date": 1506593236, "post_id": 46458542, "comment_id": 79887746, "body": "The JVM\u2019s verifier is mandated to reject any code that attempts to use an <code>&lt;uninitialized this&gt;</code> (the <code>this</code> reference before the super class constructor has been called) where an initialized instance is required (like a constructor\u2019s parameter). Without changing <code>C</code>, there can\u2019t be a language solution\u2026 Or well, it depends on <i>why</i> you need this or what the <code>C</code>\u2019s constructor is supposed to do with that <code>C</code> reference\u2026"}, {"owner": {"reputation": 1615, "user_id": 2884225, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Eaihe.png?s=128&g=1", "display_name": "Ryan Hilbert", "link": "https://stackoverflow.com/users/2884225/ryan-hilbert"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1506611444, "post_id": 46458542, "comment_id": 79900146, "body": "Thanks for the comment! I&#39;d gladly accept it as an answer if this is really the case. For me, <code>C</code>&#39;s constructor only stores the reference for later use after construction, so I was hoping it could be done, but the fact that it can&#39;t is a useful answer in itself."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1506611635, "post_id": 46458542, "comment_id": 79900296, "body": "Since you said, \u201creflection included\u201d, you could overwrite the field <i>after</i> the superconstructor returned. Access override includes the possibility to overwrite <code>final</code> instance fields. You only have to pass a dummy value to the superclass constructor first, if it doesn\u2019t allow <code>null</code>."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1506554639, "last_edit_date": 1506554639, "creation_date": 1506554250, "answer_id": 46458620, "question_id": 46458542, "link": "https://stackoverflow.com/questions/46458542/passing-this-to-a-constructor/46458620#46458620", "title": "Passing &#39;this&#39; to a Constructor", "body": "<p>There's no straightforward solution, because it does not seem to be a good idea.</p>\n\n<p>The constructor of the super class gets executed before the constructor of the class itself does (<a href=\"https://stackoverflow.com/a/43766613/2196460\">more details here</a>). Thus passing <code>this</code> instance that has not been initialized at all to the super constructor in place of a valid instance may break some of the logic of the super constructor (e.g. it may expect the <code>c</code>'s properties to have some meaningful values, but they don't).</p>\n\n<p>If you need this so bad, you can try to create an instance of <code>D</code> first with some fake/default <code>C</code>, then create another <code>D</code> with the first one:</p>\n\n<pre><code>class D(c: C) : C(c)\n\nfun createD(defaultC: C): D {\n    val firstD = D(defaultC)\n    return D(firstD)\n}\n</code></pre>\n\n<p>Though this definitely does not cover all possible use cases.</p>\n"}], "owner": {"reputation": 1615, "user_id": 2884225, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Eaihe.png?s=128&g=1", "display_name": "Ryan Hilbert", "link": "https://stackoverflow.com/users/2884225/ryan-hilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506554639, "creation_date": 1506553707, "question_id": 46458542, "link": "https://stackoverflow.com/questions/46458542/passing-this-to-a-constructor", "title": "Passing &#39;this&#39; to a Constructor", "body": "<p>Say I have <code>open class C(val c:C)</code> and I want to subclass it as <code>class D():C(this)</code></p>\n\n<p>This is invalid according to the compiler because <code>'this' is not defined in this context</code></p>\n\n<p>Is there a way to get this to do what I want? Specifically, I'd like for <code>D</code> to have a constructor that can be called without any arguments and will pass the <code>D</code> object being constructed to <code>C</code>'s constructor. In my case, it's fine that this object may not be fully constructed yet.</p>\n\n<p>I'm open to any solutions that don't involve changing <code>C</code>, reflection included.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1506543351, "post_id": 46456443, "comment_id": 79868623, "body": "Is there a particular reason for having a local variable here at all?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1506543447, "post_id": 46456443, "comment_id": 79868675, "body": "Aren&#39;t there <code>lazy</code> and/or late init operators for just this purpose?"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1506543526, "post_id": 46456443, "comment_id": 79868715, "body": "Lazy does not allow an argument, which is required here to initialize Foo."}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1506543587, "post_id": 46456443, "comment_id": 79868751, "body": "@zsmb13 foo should be initialized only once, a local variable won&#39;t help."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1506543704, "post_id": 46456443, "comment_id": 79868813, "body": "@Francesc think zsmb meant that you do not need <code>localFoo</code> variable. The shortest possible way I can think of to do this is: <code>foo = foo ?: Foo(bar); return foo</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1506543837, "post_id": 46456443, "comment_id": 79868874, "body": "I&#39;ve realized it since. You need it because you&#39;re returning a non-nullable <code>Foo</code> from the function."}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 2, "creation_date": 1506543914, "post_id": 46456443, "comment_id": 79868906, "body": "This code has conceptual flaws. Consider calling <code>generateFoo</code> two times with different <code>bar</code>s. The second time it will return a <code>Foo</code> with the previous <code>Bar</code> instance, not the corresponding one."}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1506543914, "post_id": 46456443, "comment_id": 79868907, "body": "@Mibaic it won&#39;t work, you can&#39;t return foo (a nullable) when the function declares a non-nullable return type."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1506543983, "post_id": 46456443, "comment_id": 79868939, "body": "You could do <code>return foo!!</code> and there shouldn&#39;t be a problem with it"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1506544275, "post_id": 46456443, "comment_id": 79869088, "body": "@TamasHegedus that&#39;s irrelevant, this is an example - I&#39;m asking if there is a better way to initialize a nullable with a dependency on an argument that is not known initially."}], "answers": [{"comments": [{"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1506544713, "post_id": 46456774, "comment_id": 79869293, "body": "Your first solution is no better than mine listed in the question, but the 2nd is more concise. While still not exactly what I&#39;m after (I ideally would like a by lazy where we can pass an argument, but that might not exist), I&#39;m accepting it as the correct answer."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1506544427, "creation_date": 1506544427, "answer_id": 46456774, "question_id": 46456443, "link": "https://stackoverflow.com/questions/46456443/lazy-initialization-of-nullable-member/46456774#46456774", "title": "Lazy initialization of nullable member", "body": "<p>This is safe unless you have multiple threads hitting your class:</p>\n\n<pre><code>fun generateFoo(bar: Bar): Foo {\n    if (foo == null) {\n        foo = Foo(bar)\n    }\n    return foo!!\n}\n</code></pre>\n\n<p>But if you like, you can do things like this - up to you whether you think this is more readable than the longer version you already have:</p>\n\n<pre><code>fun generateFoo(bar: Bar) = foo ?: Foo(bar).also { foo = it }\n</code></pre>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 46456774, "answer_count": 1, "score": 1, "last_activity_date": 1506555554, "creation_date": 1506543087, "last_edit_date": 1506543500, "question_id": 46456443, "link": "https://stackoverflow.com/questions/46456443/lazy-initialization-of-nullable-member", "title": "Lazy initialization of nullable member", "body": "<p>If we have a member variable defined as</p>\n\n<pre><code>private var foo: Foo? = null\n</code></pre>\n\n<p>and we want to initialize it when we call a method with an argument (which is needed to initialize Foo), is there a better way to do it than this?</p>\n\n<pre><code>fun generateFoo(bar: Bar): Foo {\n    var localFoo = foo\n    if (localFoo == null) {\n        localFoo = Foo(bar)\n        foo = localFoo\n    }\n    return localFoo\n}\n</code></pre>\n\n<p>I'm looking at avoiding all the variable assignments.</p>\n\n<p>Edit: a slightly shorter version is here, but still not ideal</p>\n\n<pre><code>fun generateFoo(bar: Bar): Foo {\n    var localFoo = foo ?: Foo(bar)\n    foo = localFoo\n    return localFoo\n}\n</code></pre>\n"}, {"tags": ["kotlin", "parameter-passing"], "answers": [{"comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506566227, "post_id": 46456323, "comment_id": 79875322, "body": "The spread operator isn&#39;t necessary when the <code>vararg</code> has only one value. Nor is it necessary to use a &quot;named&quot; parameter for the <code>vararg</code> or any parameter the occurs before it in the declaration.  See my answer.  +1 for the part about Java and named arguments."}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 2, "last_activity_date": 1506542594, "creation_date": 1506542594, "answer_id": 46456323, "question_id": 46456213, "link": "https://stackoverflow.com/questions/46456213/kotlin-methods-with-vararg-as-first-parameter/46456323#46456323", "title": "Kotlin methods with Vararg as First Parameter", "body": "<p>Variable number of arguments (vararg) can be passed in the named form by using the spread operator:</p>\n\n<pre><code>fun foo(vararg strings: String) { /* ... */ }\n\nfoo(strings = *arrayOf(\"a\", \"b\", \"c\"))\nfoo(strings = \"a\") // Not required for a single value\n</code></pre>\n\n<p>Note that the named argument syntax cannot be used when calling Java functions, because Java bytecode does not always preserve names of function parameters.</p>\n"}, {"comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506566726, "post_id": 46456379, "comment_id": 79875436, "body": "Your answer help me to find the definitive paragraph in the Kotlin spec.  See my answer.  Thx."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1506574812, "last_edit_date": 1506574812, "creation_date": 1506542822, "answer_id": 46456379, "question_id": 46456213, "link": "https://stackoverflow.com/questions/46456213/kotlin-methods-with-vararg-as-first-parameter/46456379#46456379", "title": "Kotlin methods with Vararg as First Parameter", "body": "<p>Your observations are correct. Arguments that are after a <code>vararg</code> parameter can only ever be passed in by using named arguments, otherwise you'd run into ambiguity issues (for a trivial example, let's say when all arguments are of type <code>Any</code>).</p>\n\n<p>The best source I can find for this right now is this <a href=\"https://www.packtpub.com/mapt/book/application_development/9781787126367/4/ch04lvl1sec59/varargs\" rel=\"noreferrer\">book</a>.</p>\n\n<blockquote>\n  <p>The vararg parameter is usually the last parameter, but it does not always have to be. If there are other parameters after vararg, then arguments must be passed in using named parameters</p>\n</blockquote>\n\n<p>Edit: @Les found a good source on it, see <a href=\"https://stackoverflow.com/a/46460028/4465208\">their answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 4, "last_activity_date": 1506569525, "last_edit_date": 1506569525, "creation_date": 1506565665, "answer_id": 46460028, "question_id": 46456213, "link": "https://stackoverflow.com/questions/46456213/kotlin-methods-with-vararg-as-first-parameter/46460028#46460028", "title": "Kotlin methods with Vararg as First Parameter", "body": "<p>Thanks to zsmb13, I was able to find the following paragraph in the <a href=\"https://kotlinlang.org/docs/kotlin-docs.pdf\" rel=\"nofollow noreferrer\">Kotlin Specification</a> (under \"Functions and Lambdas\")</p>\n\n<blockquote>\n  <p>Only one parameter may be marked as vararg . If a vararg parameter is\n  not the last one in the list, values for the following parameters can\n  be passed using the named argument syntax, or, if the parameter has a\n  function type, by passing a lambda outside parentheses.</p>\n</blockquote>\n\n<p>I would venture to add that \"can be passed\" should be changed to \"must be passed\" since the compiler won't allow otherwise.</p>\n\n<p><strong>Note</strong>  The lambda part is interesting in that the spec normally only allows a lambda to be moved outside the parenthesis when it is the <strong>last</strong> parameter.  The wording of the spec implies the lambda could be anywhere after the <code>vararg</code> parameter, but experimentation shows that it cannont, i.e., it must be the last parameter in order to be eligible to move outside of the parenthesis.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    test(\"hello\", limit = 1, ic = false, delims = ';') { } //ok\n    //test2(\"world\", limit = 1, ic = false, delims = ';') { } //error\n    test2(\"world\", f = {}, limit = 1, ic = false, delims = ';') //ok\n    test(\"hello world\", ';', limit = 1, ic = false) {}  //ok\n}\n\nfun test(vararg delims: Char, ic: Boolean, limit: Int, f: () -&gt; Unit) {} \nfun test2(vararg delims: Char, f: () -&gt; Unit, ic: Boolean, limit: Int) {} \n</code></pre>\n"}], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3841, "favorite_count": 0, "accepted_answer_id": 46456379, "answer_count": 3, "score": 4, "last_activity_date": 1506574812, "creation_date": 1506542127, "question_id": 46456213, "link": "https://stackoverflow.com/questions/46456213/kotlin-methods-with-vararg-as-first-parameter", "title": "Kotlin methods with Vararg as First Parameter", "body": "<p><strong>Note</strong> I've looked at the following questions/answers to solve the problem without any luck.  <a href=\"https://stackoverflow.com/questions/36626152/call-java-varargs-method-from-kotlin\">Call Java Varargs Method from Kotlin</a> - this one has the varargs parmeter at the end of the parameter list, but my question deals with varargs at the start of the parameters list.  <a href=\"https://stackoverflow.com/questions/45854994/kotlin-convert-list-to-java-varargs\">Kotlin: Convert List to Java Varargs</a> - the same.  Other searches yield the same thing.  These were the closest I could find.</p>\n\n<p>I am calling the Kotlin <code>String.split</code> method with a single character delimiter. \n This is a <code>vararg</code> method where the <code>vararg</code> parameter is first of multiple parameters.  The method is defined like so:</p>\n\n<pre><code>public fun CharSequence.split(vararg delimiters: Char, \n                              ignoreCase: Boolean = false,\n                              limit: Int = 0): List&lt;String&gt;\n</code></pre>\n\n<p>When I call the method as below, it compiles fine:</p>\n\n<pre><code>fun String.splitRuleSymbol() : String = this.split(':') //ok\n</code></pre>\n\n<p>But when I try to add the <code>ignoreCase</code> and <code>limit</code> parameters, I get a problem:</p>\n\n<pre><code>fun String.splitRuleSymbol() : String = this.split(':', true, 2) //compiler error\n</code></pre>\n\n<p>The error I get is...</p>\n\n<blockquote>\n  <p>None of the following functions can be called with the arguments supplied: </p>\n  \n  <p>public fun CharSequence.split(vararg delimiters: String, ignoreCase: Boolean = ..., limit: Int = ...): List defined in kotlin.text</p>\n  \n  <p>public fun CharSequence.split(vararg delimiters: Char, ignoreCase: Boolean = ..., limit: Int = ...): List defined in kotlin.text</p>\n</blockquote>\n\n<p>To me, having a <code>vararg</code> parameter followed by other parameters is somewhat odd, but that's beside the point.  If I call it as below, it works fine:</p>\n\n<pre><code> // both of the following compile\n fun String.splitRuleSymbol() : String = \n           this.split(delimiters = ':', ignoreCase = true, limit = 2)\n fun String.splitRuleSymbol2() : String = \n           this.split(';', ignoreCase = true, limit = 2)\n</code></pre>\n\n<p><strong>Is there a way to pass a <code>vararg Char</code> in to this method without having to qualify my other two parameters with parameter names <code>ignoreCase</code> and <code>limit</code>?</strong>  Can the compiler not tell that the remaining parameters are not <code>Char</code>?</p>\n\n<p>I have tried <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#java-varargs\" rel=\"nofollow noreferrer\">the spread operator</a> and a few other ways below , none of which work:</p>\n\n<pre><code>    //compiler errors on all these\n    this.split(*':', true, 2) //using the \"spread\" operator\n    this.split(*charArrayOf(':'), true, 2)\n    this.split(*mutableListOf(':'), true, 2)\n    this.split(*Array&lt;Char&gt;(1) { ':' }, true, 2)\n</code></pre>\n\n<p>Yes, some of these look ridiculous, I know.  But, is there no way to avoid the verbose alternative?</p>\n\n<p><strong>PS</strong> As I was formulating my question, I found another expression that compiled.</p>\n\n<pre><code>    this.split(':', limit = 2)\n</code></pre>\n\n<p>This is less verbose and since I don't need to change the default <code>ignoreCase</code> parameter, it's closer to what I am looking for.</p>\n"}, {"tags": ["java", "unit-testing", "kotlin", "java.util.logging"], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "edited": false, "score": 0, "creation_date": 1506547276, "post_id": 46456931, "comment_id": 79870414, "body": "Thank you, @jmehrens, that&#39;s what was missing. So I rewrote the test class after several attempts and it works now!"}], "tags": [], "owner": {"reputation": 8784, "user_id": 2428802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d58ba93ec223d23b2fd6216aa52c5a6?s=128&d=identicon&r=PG", "display_name": "jmehrens", "link": "https://stackoverflow.com/users/2428802/jmehrens"}, "is_accepted": true, "score": 2, "last_activity_date": 1506545079, "creation_date": 1506545079, "answer_id": 46456931, "question_id": 46455666, "link": "https://stackoverflow.com/questions/46455666/java-util-logging-logger-in-tested-class/46456931#46456931", "title": "java.util.logging.Logger in tested class", "body": "<p>You have to hold a <a href=\"https://stackoverflow.com/questions/40923754/selenium-many-logs-how-to-remove/40934452#40934452\">strong reference to your logger</a> that is wider than method local scope.  If you don't do that your level setting can be lost due to garbage collection of the logger.</p>\n\n<p>If you want to see the output in the console then you also have to adjust the level of the console handler.</p>\n\n<p>If you want to assert some output value then you need to install a <a href=\"https://stackoverflow.com/questions/33049895/how-to-verify-that-error-was-logged-with-unit-tests/33050164#33050164\">filter or handler</a> to look for a specific <code>LogRecord</code>. </p>\n"}], "owner": {"reputation": 953, "user_id": 3281886, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0df01684f286f347ff316bfee0abdd30?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp Grigoryev", "link": "https://stackoverflow.com/users/3281886/philipp-grigoryev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "accepted_answer_id": 46456931, "answer_count": 1, "score": 0, "last_activity_date": 1506545405, "creation_date": 1506539943, "last_edit_date": 1506545405, "question_id": 46455666, "link": "https://stackoverflow.com/questions/46455666/java-util-logging-logger-in-tested-class", "title": "java.util.logging.Logger in tested class", "body": "<p>I'm trying to run a test for my class which uses java.util.logging.Logger</p>\n\n<pre><code>import java.util.logging.Logger;\n\npublic class TestLogging {\n    final Logger logger = Logger.getLogger(\"Test\");\n\n    public void f1() {\n        logger.entering(getClass().getName(), \"f1\");\n\n        logger.info(\"f1\");\n        logger.fine(\"f1\");\n        logger.finer(\"f1\");\n        logger.finest(\"f1\");\n\n        logger.exiting(getClass().getName(), \"f1\");\n    }\n}\n</code></pre>\n\n<p>So I setup a test class to check if logger produces an output while the class is being tested</p>\n\n<pre><code>import org.junit.Before\nimport org.junit.Test\nimport java.util.logging.Level\nimport java.util.logging.Logger\n\nclass TestLogger {\n    @Before\n    fun setupLogger() {\n        Logger.getLogger(\"Test\").level = Level.FINEST\n    }\n\n    @Test\n    fun test() {\n        TestLogging().f1()\n    }\n}\n</code></pre>\n\n<p>But when I run it I only see the following output, as if the level is set to default. </p>\n\n<pre><code>TestLogger &gt; test STANDARD_ERROR\n    Sep 27, 2017 2:17:32 PM TestLogging f1\n    INFO: f1\n</code></pre>\n"}, {"tags": ["kotlin", "freemarker", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 3, "last_activity_date": 1506718585, "last_edit_date": 1506718585, "creation_date": 1506717376, "answer_id": 46496586, "question_id": 46455185, "link": "https://stackoverflow.com/questions/46455185/handling-freemaker-template-with-ktor-kotlin/46496586#46496586", "title": "Handling FreeMaker template with Ktor Kotlin", "body": "<p>I got the answer <a href=\"http://ktor.io/features/freemarker\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><a href=\"http://freemarker.org/docs/pgui_config_templateloading.html\" rel=\"nofollow noreferrer\">Template Loading</a> is required to be installed as:</p>\n\n<pre><code>import org.jetbrains.ktor.freemarker.*\nimport freemarker.cache.*; // template loaders live in this package\n\ninstall(FreeMarker) {\n    templateLoader = ClassTemplateLoader(TheApp::class.java.classLoader, \"templates\")\n}\n</code></pre>\n\n<p>Then the  template saved in <code>resources/templates</code> can be loaded using <code>call.respond()</code> method:</p>\n\n<pre><code>val user = mapOf(\"title\" to \"Welcome guy\", \"name\" to \"user name\", \"email\" to \"user@example.com\")\ncall.respond(FreeMarkerContent(\"index.ftl\", user, \"e\"))\n</code></pre>\n\n<p>Where <code>index.ftl</code> is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n\n    &lt;title&gt;${title} | Kweet&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;@greet person=\"${name}\"!/&gt;\n\nYour email address is ${email}\n\n&lt;#include \"/copyright_footer.html\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;#macro greet person color=\"black\"&gt;\n  &lt;font size=\"+2\" color=\"${color}\"&gt;Hello ${person}!&lt;/font&gt;\n&lt;/#macro&gt;\n</code></pre>\n\n<p>I found <a href=\"http://freemarker.org/docs/dgui_quickstart_template.html\" rel=\"nofollow noreferrer\">this</a> also to be a good startup for learning FTL template.</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3101, "favorite_count": 1, "accepted_answer_id": 46496586, "answer_count": 1, "score": 4, "last_activity_date": 1506719994, "creation_date": 1506538164, "last_edit_date": 1506719994, "question_id": 46455185, "link": "https://stackoverflow.com/questions/46455185/handling-freemaker-template-with-ktor-kotlin", "title": "Handling FreeMaker template with Ktor Kotlin", "body": "<p>I'm very new to <code>Kotlin</code> (and Java), as well as <code>Ktor</code> and <code>FreeMaker</code>, trying to make an app combining all of them, but looks I'm doing something wrong related to the <code>FreeMaker</code> templates manipulating.</p>\n\n<p>My app structure is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qIFhN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qIFhN.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>template.ftl</code>:</p>\n\n<pre><code>&lt;#macro mainLayout title=\"Welcome\"&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n\n    &lt;title&gt;${title} | Kweet&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\nHI\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;/#macro&gt;\n</code></pre>\n\n<p><code>index.ftl</code>:</p>\n\n<pre><code>&lt;#import \"template.ftl\" as layout /&gt;\nimported title: ${title}\n&lt;@layout.mainLayout title=\"Welcome\"&gt;\n&lt;div class=\"posts\"&gt;\n    &lt;h3 class=\"content-subhead\"&gt;Top 10&lt;/h3&gt;\n&lt;/div&gt;\n&lt;/@layout.mainLayout&gt;\n</code></pre>\n\n<p><code>BlogApp.kt</code>:</p>\n\n<p>package blog</p>\n\n<pre><code>import kotlinx.html.*\nimport org.jetbrains.ktor.freemarker.*\nimport org.jetbrains.ktor.host.*   // for embededServer\nimport org.jetbrains.ktor.netty.*  // for Netty\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.html.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.response.*\n\nfun Application.module() {   \n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        get(\"/\") {\n           val model = mapOf(\"id\" to 1, \"title\" to \"Hello, World!\")\n           call.respond(FreeMarkerContent(\"index.ftl\", model, \"e\"))\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n</code></pre>\n\n<p><code>build.gradle</code>:</p>\n\n<pre><code>group 'Example'\n\nversion 'alpha'\n\nbuildscript {\n    ext.kotlin_version  = '1.1.4-3'\n    ext.ktor_version    = '0.4.0'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\n\nsourceCompatibility = 1.8\n\nrepositories {\n    jcenter()\n    mavenCentral()\n    maven { url  \"http://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-html-builder:$ktor_version\"\n\n    compile \"org.jetbrains.ktor:ktor-freemarker:$ktor_version\"\n\n    compile \"org.apache.commons:commons-email:1.4\"\n    compile \"org.slf4j:slf4j-simple:1.7.25\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n\n\njar {\n    baseName 'abc'\n    manifest {\n        attributes 'Main-Class': 'blog.BlogAppKt'\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>I got the below output upon starting the server:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1F8kv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1F8kv.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "eclipse", "caching", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1506538866, "post_id": 46454648, "comment_id": 79866227, "body": "You can try to define your variable in Kotlin as a \u201econst\u201c"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8048235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j5nCAM7QZmQ/AAAAAAAAAAI/AAAAAAAALOU/keHb14CHx6E/photo.jpg?sz=128", "display_name": "Israel Lacerra", "link": "https://stackoverflow.com/users/8048235/israel-lacerra"}, "edited": false, "score": 0, "creation_date": 1506608477, "post_id": 46456290, "comment_id": 79898102, "body": "I just realized it was an Eclipse problem. If I compile outside Eclipse, everything goes fine.   Just to make sure, did your test was in Intelij?  I marking your answer... it&#39;s kind of a configuration problem. Tks!"}, {"owner": {"reputation": 33, "user_id": 8048235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j5nCAM7QZmQ/AAAAAAAAAAI/AAAAAAAALOU/keHb14CHx6E/photo.jpg?sz=128", "display_name": "Israel Lacerra", "link": "https://stackoverflow.com/users/8048235/israel-lacerra"}, "edited": false, "score": 0, "creation_date": 1506608730, "post_id": 46456290, "comment_id": 79898291, "body": "Actually, I changed the question to the correct problem... so I will unmark your answer. Thanks!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 33, "user_id": 8048235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j5nCAM7QZmQ/AAAAAAAAAAI/AAAAAAAALOU/keHb14CHx6E/photo.jpg?sz=128", "display_name": "Israel Lacerra", "link": "https://stackoverflow.com/users/8048235/israel-lacerra"}, "edited": false, "score": 1, "creation_date": 1506609724, "post_id": 46456290, "comment_id": 79898935, "body": "Has the Eclipse plugin been updated to support whatever version of Kotlin you&#39;re using?"}, {"owner": {"reputation": 2503, "user_id": 2116739, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/814bdd80db56814aabb915abd13913fc?s=128&d=identicon&r=PG", "display_name": "acohen", "link": "https://stackoverflow.com/users/2116739/acohen"}, "edited": false, "score": 0, "creation_date": 1510937908, "post_id": 46456290, "comment_id": 81663803, "body": "Yea, running into the same issue. Seems to be an eclipse thing."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1506542454, "creation_date": 1506542454, "answer_id": 46456290, "question_id": 46454648, "link": "https://stackoverflow.com/questions/46454648/using-a-java-constant-in-a-kotlin-annotation-parameter/46456290#46456290", "title": "Using a java constant in a Kotlin annotation parameter", "body": "<p>That's quite odd, this should definitely work. You probably have a configuration problem. Check if your Kotlin plugin and your project use the same version of Kotlin, different versions often lead to odd compiler errors. Use the latest version in both places if possible.</p>\n\n<p>This is the example code that I tried that worked perfectly well on <code>1.1.50</code> (it's nonsense, but it compiles):</p>\n\n<ul>\n<li><p>MyConstants.java</p>\n\n<pre><code>public class MyConstants {\n    public static final String MY_CACHE_NAME = \"cache_name\";\n}\n</code></pre></li>\n<li><p>DemoApplication.kt</p>\n\n<pre><code>@SpringBootApplication\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(DemoApplication::class.java, *args)\n}\n\n@Cacheable(MyConstants.MY_CACHE_NAME)\nfun someFunction() {}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 33, "user_id": 8048235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j5nCAM7QZmQ/AAAAAAAAAAI/AAAAAAAALOU/keHb14CHx6E/photo.jpg?sz=128", "display_name": "Israel Lacerra", "link": "https://stackoverflow.com/users/8048235/israel-lacerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506608613, "creation_date": 1506536235, "last_edit_date": 1506608613, "question_id": 46454648, "link": "https://stackoverflow.com/questions/46454648/using-a-java-constant-in-a-kotlin-annotation-parameter", "title": "Using a java constant in a Kotlin annotation parameter", "body": "<p>In Spring Boot (with Java) I usually put the cache names in static final strings, like this:</p>\n\n<pre><code>public static final String MY_CACHE_NAME = \"cache_name\"\n\n@Cacheable(value = MY_CACHE_NAME)\n</code></pre>\n\n<p>But, when I have a java class with this cache names and I try to use in a Kotlin cached method, the Eclipse tells me this is not a \"compile-time constant\". Is there a way to solve this?</p>\n\n<p>Outside eclipse, everything goes fine...</p>\n"}, {"tags": ["java", "android", "tabs", "kotlin"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1506534682, "post_id": 46453921, "comment_id": 79863983, "body": "&quot;Required Fragment Found TabOne&quot; -&gt;  TabOne, TabTwo, TabThree must be extends Fragment. Like <code>class TabOne: Fragment() { .. }</code>"}, {"owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1506534981, "post_id": 46453921, "comment_id": 79864151, "body": "@pRaNaY already extended <code>class TabOne : Fragment()</code> but maybe there is another issue..."}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "edited": false, "score": 0, "creation_date": 1506535430, "post_id": 46454349, "comment_id": 79864387, "body": "All tabs classes are like  <code>class TabOne : Fragment() { }</code> but still this happens"}, {"owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "edited": false, "score": 0, "creation_date": 1506535734, "post_id": 46454349, "comment_id": 79864562, "body": "well the problem is solved by extending from <code>TabOne : android.support.v4.app.Fragment()</code>"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "reply_to_user": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "edited": false, "score": 0, "creation_date": 1506535827, "post_id": 46454349, "comment_id": 79864603, "body": "Cool you was not importing Fragments  with backward compatibility"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 1, "last_activity_date": 1506536059, "last_edit_date": 1506536059, "creation_date": 1506535107, "answer_id": 46454349, "question_id": 46453921, "link": "https://stackoverflow.com/questions/46453921/tabbed-activity-in-kotlin-android-studio/46454349#46454349", "title": "Tabbed Activity in Kotlin (Android Studio)", "body": "<p>You need to extend your tab classes to fragment.\nMake sure you need to import backward<br>\ncompatibility</p>\n\n<pre><code>import android.support.v4.app.*\n    class TabOne: Fragment() {\n         // Implementations \n    }\n</code></pre>\n\n<p>Do for all class then try </p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "is_accepted": true, "score": 1, "last_activity_date": 1506535903, "creation_date": 1506535903, "answer_id": 46454566, "question_id": 46453921, "link": "https://stackoverflow.com/questions/46453921/tabbed-activity-in-kotlin-android-studio/46454566#46454566", "title": "Tabbed Activity in Kotlin (Android Studio)", "body": "<p>Solved by using </p>\n\n<pre><code>class TabOne : android.support.v4.app.Fragment() { }\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>class TabOne : android.app.Fragment() { }\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 5710492, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1158135750870785/picture?type=large", "display_name": "Fawad Bin Tariq", "link": "https://stackoverflow.com/users/5710492/fawad-bin-tariq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 46454566, "answer_count": 2, "score": -1, "last_activity_date": 1506536059, "creation_date": 1506533442, "last_edit_date": 1506534446, "question_id": 46453921, "link": "https://stackoverflow.com/questions/46453921/tabbed-activity-in-kotlin-android-studio", "title": "Tabbed Activity in Kotlin (Android Studio)", "body": "<p>I am newbie on Kotlin, recently moved from Java, In java I used</p>\n\n<pre><code>@Override\n    public Fragment getItem(int position) {\n        switch (position) {\n            case 0:\n                Tab1Contact tab1 = new Tab1Contact();\n                return tab1;\n            case 1:\n                Tab2Contact tab2 = new Tab2Contact();\n                return tab2;\n            case 2:\n                Tab3Contact tab3 = new Tab3Contact();\n                return tab3;\n        }\n        return null;\n    }\n</code></pre>\n\n<p>for tabbed activity. I create 3 different classes for different tabs to organize data. In Kotlin I am unable to do so, I have tried</p>\n\n<pre><code>override fun getItem(position: Int): Fragment? {\n        when (position) {\n            0 -&gt; {\n                val tab1 = TabOne()\n                return tab1 as Fragment\n            }\n            1 -&gt; {\n                val tab2 = TabTwo()\n                return tab2 as Fragment\n            }\n            2 -&gt; {\n                val tab3 = TabThree()\n                return tab3 as Fragment\n            }\n        }\n        return null\n    }\n</code></pre>\n\n<blockquote>\n  <p>but app crashes, if i simply return tab1 then again Error occuses,\n  \"Required Fragment Found TabOne\"</p>\n</blockquote>\n"}, {"tags": ["junit", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1506535174, "post_id": 46453953, "comment_id": 79864255, "body": "Hmm, is there a way to structure the code such that I can be certain that the injector is cleaned from memory then?"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 2, "creation_date": 1506536095, "post_id": 46453953, "comment_id": 79864755, "body": "Not really. That&#39;s a design decision of the JVM. It manages memory for you, and is generally quite good at it. Trying to subvert it usually leads to serious performance and memory issues. So long as you make sure to close connections to resources when you&#39;re done with them, you shouldn&#39;t need it to be cleaned from memory. (The JVM will clean it&#39;s memory when it exits too, so don&#39;t think it will stick around after your tests are done.)"}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 3, "last_activity_date": 1506533558, "creation_date": 1506533558, "answer_id": 46453953, "question_id": 46453824, "link": "https://stackoverflow.com/questions/46453824/deallocating-a-variable-in-kotlin/46453953#46453953", "title": "deallocating a variable in kotlin", "body": "<p>No, it's not necessary, and isn't even deallocation. All you're doing is rebinding <code>injector</code> to null. The old value is still hanging out in memory without a reference. Memory is cleaned up by the garbage collector when it deems appropriate.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 46453953, "answer_count": 1, "score": 1, "last_activity_date": 1506533558, "creation_date": 1506533051, "question_id": 46453824, "link": "https://stackoverflow.com/questions/46453824/deallocating-a-variable-in-kotlin", "title": "deallocating a variable in kotlin", "body": "<p>In kotlin, for writing tests, I have a guice injector created before each tests in the setUp phase and then I try to deallocate it in the tearDown phase:</p>\n\n<pre><code>class MyTestClass {\n    ....\n    var injector: Injector? = null\n    ...\n    @Before\n    fun setUp() {\n        ...\n        injector = Guice.createInjector(modules)\n        ...\n    }\n    @After\n    fun tearDown() {\n        ...\n        injector = null\n    }\n\n    @Test\n    fun myFirstTest() {\n        myInstance = injector?.getInstance(Key.get(MyClass::class.java))\n        // use myInstance here\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>My question is that in Kotlin land, is such deallocation necessary at all? And if it is necessary, what is the best way to do it? </p>\n"}, {"tags": ["java", "generics", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 3, "creation_date": 1506532483, "post_id": 46453054, "comment_id": 79862895, "body": "<a href=\"https://stackoverflow.com/a/45952201/3533380\">How <code>reified</code> works</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11617, "user_id": 576549, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/E3mRg.png?s=128&g=1", "display_name": "Eugene Loy", "link": "https://stackoverflow.com/users/576549/eugene-loy"}, "is_accepted": false, "score": 3, "last_activity_date": 1506541030, "creation_date": 1506541030, "answer_id": 46455931, "question_id": 46453054, "link": "https://stackoverflow.com/questions/46453054/how-type-erasure-works/46455931#46455931", "title": "How type erasure works", "body": "<blockquote>\n  <p>Can someone explain, why sometimes it holds information and sometimes doesn't?</p>\n</blockquote>\n\n<p>On jvm level there is a <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.9\" rel=\"nofollow noreferrer\">Signature attribute</a> that:</p>\n\n<blockquote>\n  <p>records a signature (\u00a74.7.9.1) for a class, interface, constructor, method, or field whose declaration in the Java programming language uses type variables or parameterized types.</p>\n</blockquote>\n\n<p>One of the reasons why you might want to have it is that, for example, compiler needs to know actual type of argument of a <code>some_method</code> that comes from precompiled <code>some.class</code> (that comes from third party <code>some.jar</code>). In this scenario assuming that method takes <code>Object</code> may violate assumptions with which <code>some.class</code> was compiled and you can't call <code>some_method</code> in a typesafe manner.</p>\n\n<blockquote>\n  <p>Why do anonymous classes hold generic type and are not type erasured?</p>\n</blockquote>\n\n<p>When you call:</p>\n\n<pre><code>System.out.println(new ArrayList&lt;Integer&gt;().getClass().getGenericSuperclass());\n</code></pre>\n\n<p>... nothing gets defined in terms of <em>jvm classes</em>, while this:</p>\n\n<pre><code>System.out.println(new ArrayList&lt;Integer&gt;() { }.getClass().getGenericSuperclass());\n</code></pre>\n\n<p>... actually defines class on the <em>jvm level</em>, albiet anonymous on the <em>java laguage level</em>.</p>\n\n<p>This is the reason why reflection gives different results for these cases.</p>\n\n<blockquote>\n  <p>Why generics isn't implemented in normal way in Java? Yes, I read that it could break compabillity with previous versions, but I want to understand how. Why does generic return type not break anything but new ArrayListdoes?</p>\n</blockquote>\n\n<p></p>\n\n<blockquote>\n  <p>How do reified generics works in Kotlin and why such cool thing can't be implemented in Java?</p>\n</blockquote>\n\n<p>I don't think you can give objective answer that is not opinion-based to these. Moreover, I'd suggest either splitting or narrowing down scope of your question.</p>\n"}], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1506587428, "creation_date": 1506530258, "last_edit_date": 1506587428, "question_id": 46453054, "link": "https://stackoverflow.com/questions/46453054/how-type-erasure-works", "title": "How type erasure works", "body": "<p>I am investigating how libraries that creates proxy objects work especially I want to understand how they fetch types from declared methods. For example popular library for Android - Retrofit:</p>\n\n<pre><code>interface MyService {\n\n    @GET(\"path\")\n    Call&lt;MyData&gt; getData();\n}\n</code></pre>\n\n<p>I was confused - how it is possible to get from this interface exactly MyData class not raw Object? Cause from my understanding type erasure will remove any information that placed inside generic braces.</p>\n\n<p>I wrote some test code and surprisingly to me it is really easy to get type from such code:</p>\n\n<pre><code>@org.junit.Test\npublic void run() {\n    Method[] methods = Test.class.getDeclaredMethods();\n    Method testMethod = methods[0];\n    System.out.println(testMethod.getReturnType());\n    ParameterizedType genericType = ((ParameterizedType) testMethod.getGenericReturnType());\n    Class&lt;Integer&gt; clazz = (Class&lt;Integer&gt;) genericType.getActualTypeArguments()[0];\n    System.out.println(clazz);\n}\n\ninterface Test {\n    List&lt;Integer&gt; test();\n}\n</code></pre>\n\n<p>It looks a bit dirty but it works and prints <code>Integer</code>. It means that we have types in runtime. Also I've read about another dirty trick with anonymous classes:</p>\n\n<pre><code>System.out.println(new ArrayList&lt;Integer&gt;().getClass().getGenericSuperclass());\n</code></pre>\n\n<p>prints raw <code>AbstractList&lt;E&gt;</code> while this code</p>\n\n<pre><code>System.out.println(new ArrayList&lt;Integer&gt;() { }.getClass().getGenericSuperclass());\n</code></pre>\n\n<p>prints <code>ArrayList&lt;Integer&gt;</code>. </p>\n\n<p>And it is not last thing that confused me. In Kotlin there are reified generics from which looks like some hack in compile time but we can easily get class from generic:</p>\n\n<pre><code>inline fun &lt;reified T&gt; test() {\n    print(T::class)\n}\n</code></pre>\n\n<p>And now I am totally confused with type erasure mechanism. </p>\n\n<ol>\n<li>Can someone explain, why sometimes it holds information and sometimes doesn't?</li>\n<li>Why generics isn't implemented in normal way in Java? Yes, I read that it could break compabillity with previous versions, but I want to understand how. Why does generic return type not break anything but <code>new ArrayList&lt;Integer&gt;</code>does? </li>\n<li>Why do anonymous classes hold generic type and are not type erasured? </li>\n</ol>\n\n<p><strong><em>Updated:</em></strong> \n4. How do reified generics works in Kotlin and why such cool thing can't be implemented in Java? </p>\n\n<p><a href=\"https://stackoverflow.com/questions/45949584/what-does-the-reified-keyword-in-kotlin-really-do/45952201#45952201\">Here</a> explained pretty clear about how reified generics work. <strong>@Mibac</strong></p>\n\n<blockquote>\n  <p>You can only use reified in combination with an inline function. Such\n  a function makes the compiler copy the function's bytecode to every\n  place where the function is being used (the function is being\n  \"inlined\"). When you call an inline function with reified type, the\n  compiler knows the actual type used as a type argument and modifies\n  the generated bytecode to use the corresponding class directly.\n  Therefore calls like myVar is T become myVar is String, if the type\n  argument were String, in the bytecode and at runtime.</p>\n</blockquote>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "edited": false, "score": 0, "creation_date": 1535496746, "post_id": 46452729, "comment_id": 91084695, "body": "Where you able to solve this in the end?"}], "answers": [{"tags": [], "owner": {"reputation": 34805, "user_id": 248521, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/86ea17138ffa218a4d8ebb172d56c4c9?s=128&d=identicon&r=PG", "display_name": "jax", "link": "https://stackoverflow.com/users/248521/jax"}, "is_accepted": false, "score": 0, "last_activity_date": 1517915537, "creation_date": 1517915537, "answer_id": 48641671, "question_id": 46452729, "link": "https://stackoverflow.com/questions/46452729/gradle-kotlin-spring-plugin-dont-open-spring-classes/48641671#48641671", "title": "Gradle kotlin-spring plugin don&#39;t open spring classes", "body": "<p>try</p>\n\n<pre><code>apply {\n  plugin(\"kotlin\")\n  plugin(\"kotlin-spring\")\n  plugin(\"org.springframework.boot\")\n}\n</code></pre>\n\n<p><a href=\"https://github.com/spring-petclinic/spring-petclinic-kotlin/blob/master/build.gradle.kts\" rel=\"nofollow noreferrer\">https://github.com/spring-petclinic/spring-petclinic-kotlin/blob/master/build.gradle.kts</a></p>\n"}], "owner": {"reputation": 1320, "user_id": 451023, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be09224a0f437e70cefb59221aeb03db?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/451023/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1517915537, "creation_date": 1506529121, "question_id": 46452729, "link": "https://stackoverflow.com/questions/46452729/gradle-kotlin-spring-plugin-dont-open-spring-classes", "title": "Gradle kotlin-spring plugin don&#39;t open spring classes", "body": "<p>I have following gradle script:</p>\n\n<pre><code>buildscript {\n\n        repositories {\n            mavenCentral()\n        }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${SPRING_BOOT_VERSION}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${KOTLIN_VERSION}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${KOTLIN_VERSION}\")\n    }\n}\n\napply plugin: org.jetbrains.kotlin.gradle.plugin.KotlinPluginWrapper\napply plugin: org.jetbrains.kotlin.allopen.gradle.SpringGradleSubplugin\napply plugin: org.springframework.boot.gradle.plugin.SpringBootPlugin[code]\n</code></pre>\n\n<p>It purpose it to serve as base build for all kotlin based services. Here is how I am applying it:</p>\n\n<pre><code>apply from: '../../xxx/xxx.gradle'\n</code></pre>\n\n<p>Then in this project when I have applied generic build template I have something like this</p>\n\n<pre><code>@SpringBootApplication\nopen class MainClass\n</code></pre>\n\n<p>If I remove open it complains that this class shouldn't be final. I would assume that if I use kotlin-spring I don't need to add manually open. I checked this setup against working one from spring initializr and I can't spot the difference. Here is working version</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.1.4-3'\n        springBootVersion = '1.5.7.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'org.springframework.boot'\n</code></pre>\n\n<p>I can't spot the difference here. Thanks in advance for any suggestions.</p>\n"}, {"tags": ["android", "kotlin", "android-resources", "android-instant-apps"], "answers": [{"comments": [{"owner": {"reputation": 2022, "user_id": 1270204, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d2783694b933b62475e6817ab6e969a?s=128&d=identicon&r=PG", "display_name": "Gillis Haasnoot", "link": "https://stackoverflow.com/users/1270204/gillis-haasnoot"}, "edited": false, "score": 1, "creation_date": 1506554172, "post_id": 46457168, "comment_id": 79872597, "body": "The resource management with instant apps is at this moment completely flawed. It is currently an unworkable piece of ... Lint is not complaining about wrongly used R.x statements.    In many cases resources are only available from the base module.  using &lt;include&gt; inside a feature module will break everything if the include is supposed to be fetched from the base module. And we haven&#39;t talked about the complete destruction when you use proguard which is not able to detect cross dependencies between modules."}, {"owner": {"reputation": 1614, "user_id": 2708768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da49bf507d07666987c1546e894dee8d?s=128&d=identicon&r=PG", "display_name": "Mustafa Berkay Mutlu", "link": "https://stackoverflow.com/users/2708768/mustafa-berkay-mutlu"}, "edited": false, "score": 1, "creation_date": 1506621552, "post_id": 46457168, "comment_id": 79906127, "body": "You are right. Each module generates its own R.java and the problem here is I was referencing the wrong R file. Thank you for your help. But I think its weird that &quot;run&quot; works fine but &quot;rebuild&quot; fails with the unresolved reference error."}], "tags": [], "owner": {"reputation": 531, "user_id": 8320998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c68969c820ae07c569d48fa742fce2d?s=128&d=identicon&r=PG&f=1", "display_name": "Julia K", "link": "https://stackoverflow.com/users/8320998/julia-k"}, "is_accepted": true, "score": 10, "last_activity_date": 1506546125, "creation_date": 1506546125, "answer_id": 46457168, "question_id": 46452367, "link": "https://stackoverflow.com/questions/46452367/using-colors-defined-in-base-module-from-feature-module-fails-after-rebuilding-t/46457168#46457168", "title": "Using colors defined in base module from feature module fails after rebuilding the Android Instant App", "body": "<p>Yes, resource inside base module is accessible from the feature modules when you reference it with the fully qualified name (package_name.R.resource_name).</p>\n\n<p>Base and child modules have different package names (your base feature package name is <code>net.epictimes.uvindex</code>, and your feature module package name is <code>net.epictimes.uvindex.query</code>). </p>\n\n<p>Each package contains its own set of resources, and their resource IDs are collected in separate R packages during compilation:</p>\n\n<ul>\n<li><code>net.epictimes.uvindex.R</code> - for your base feature module   </li>\n<li><code>net.epictimes.uvindex.query.R</code> - for your feature module</li>\n</ul>\n\n<p>To access an \u2018accent\u2019 color resource of a base feature from your \u2018query\u2019 feature module, use <code>net.epictimes.uvindex.R.color.accent</code> identifier:</p>\n\n<blockquote>\n  <p>FetchAddressIntentService.RESULT_FAILURE -> net.epictimes.uvindex.R.color.accent</p>\n</blockquote>\n"}], "owner": {"reputation": 1614, "user_id": 2708768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da49bf507d07666987c1546e894dee8d?s=128&d=identicon&r=PG", "display_name": "Mustafa Berkay Mutlu", "link": "https://stackoverflow.com/users/2708768/mustafa-berkay-mutlu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1015, "favorite_count": 1, "accepted_answer_id": 46457168, "answer_count": 1, "score": 2, "last_activity_date": 1506546125, "creation_date": 1506527973, "last_edit_date": 1592644375, "question_id": 46452367, "link": "https://stackoverflow.com/questions/46452367/using-colors-defined-in-base-module-from-feature-module-fails-after-rebuilding-t", "title": "Using colors defined in base module from feature module fails after rebuilding the Android Instant App", "body": "<p>I have a <code>base</code> module and a feature module called <code>query</code> module in my Instant App project.</p>\n<p>My <code>QueryActivity</code> inside <code>query</code> module uses colors that are in <code>base</code> module.</p>\n<p><a href=\"https://github.com/mustafaberkaymutlu/uv-index/blob/master/query/src/main/java/net/epictimes/uvindex/query/QueryActivity.kt#L130-L135\" rel=\"nofollow noreferrer\">QueryActivity.kt</a>:</p>\n<pre><code>@ColorInt\nval textColor: Int = when (resultCode) {\n    FetchAddressIntentService.RESULT_SUCCESS -&gt; android.R.color.white\n    FetchAddressIntentService.RESULT_FAILURE -&gt; R.color.accent // this color is inside the base module\n    else -&gt; R.color.accent // this color is inside the base module\n}\n</code></pre>\n<p>If I try to <code>run</code> the project, it works fine without any problem. But If I <code>rebuild</code> the project, it gives me the following error:</p>\n<pre><code>../net/epictimes/uvindex/query/QueryActivity.kt\nError:(133, 63) Unresolved reference: color\nError:(134, 27) Unresolved reference: color\n</code></pre>\n<p>Pointing to those color values.</p>\n<p>I solved this by I adding another <code>colors.xml</code> file inside the <code>query</code> module and referencing the <code>base</code> colors from it. It worked fine. You can see the diff in <a href=\"https://github.com/mustafaberkaymutlu/uv-index/commit/be051af35b2edf4d3e3c6889a86e8d9258f48e75\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n<pre><code>&lt;color name=&quot;query_location_success_text&quot;&gt;@android:color/white&lt;/color&gt;\n&lt;color name=&quot;query_location_fail_text&quot;&gt;@color/accent&lt;/color&gt;\n</code></pre>\n<p>Right now it works but I am not sure why. Is this the right way to do it? My question is shouldn't be the resources inside <code>base</code> module accessible from the feature modules?</p>\n<p>Versions:</p>\n<blockquote>\n<p>Android target/compile SDK: 26</p>\n<p>Kotlin: 1.1.50</p>\n<p>Instant Apps: 1.1.0</p>\n</blockquote>\n<p>That is a open source project of mine, you can see whole project <a href=\"https://github.com/mustafaberkaymutlu/uv-index\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Thank you</p>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 1, "creation_date": 1506523034, "post_id": 46450622, "comment_id": 79857000, "body": "Post your code; tell us what you have tried and what&#39;s not working."}, {"owner": {"reputation": 29, "user_id": 8683807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89b31c9fd4cbd66050b4ec492bec517?s=128&d=identicon&r=PG&f=1", "display_name": "KirstyHA", "link": "https://stackoverflow.com/users/8683807/kirstyha"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1506523137, "post_id": 46450622, "comment_id": 79857090, "body": "I am not sure if that is the way you create a mutableList val. And look at the two commented ones I have, are they correct?"}], "answers": [{"comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1506525131, "post_id": 46451287, "comment_id": 79858482, "body": "Why are you not instantiating the selectedItems list?"}], "tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 2, "last_activity_date": 1506526678, "last_edit_date": 1506526678, "creation_date": 1506524645, "answer_id": 46451287, "question_id": 46450622, "link": "https://stackoverflow.com/questions/46450622/android-kotlin-pass-spinner-values-to-mutable-list/46451287#46451287", "title": "Android Kotlin pass spinner values to mutable list", "body": "<p>I believe you can do like this.\n1. Make custom adapter or adapters\n2. Make first list which hold string values\n3. Make mutable list which holds selected values\n4. when spinner loaded first time it load values from first adapter and list\n5. when user select item it clear first adapter then notify changes then set new adapter load values from mutable list ( I am not sure last will require to notify changes to adapter)</p>\n\n<pre><code>//Mutable List for storing selected items\n\nval selectedItems: MutableList&lt;String&gt;? = null \n\n //Listen On select for spinner\n\n        spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n            //Performing action onItemSelected and onNothing selected\n            override fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, id: Long) {\n\n               // Add selected item in Mutable List\n               selectedItems.add(spinnerArray[position])\n\n               // Clear Adapter\n                spinner.adapter = null\n                // Notify data set changed\n                spinnerArrayAdapter.notifyDataSetChanged()\n               // Set New Data adapter\n               spinner.adapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, selectedItems)\n\n\n            }\n\n            override fun onNothingSelected(arg0: AdapterView&lt;*&gt;) {\n                // TODO: Auto-generated method stub\n\n\n            }\n\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 0, "last_activity_date": 1506527842, "creation_date": 1506527842, "answer_id": 46452322, "question_id": 46450622, "link": "https://stackoverflow.com/questions/46450622/android-kotlin-pass-spinner-values-to-mutable-list/46452322#46452322", "title": "Android Kotlin pass spinner values to mutable list", "body": "<p>Create a list to store your selectedItems: </p>\n\n<pre><code>val selectedItems = mutableListOf&lt;String&gt;()\n</code></pre>\n\n<p>then add items when they are selected: </p>\n\n<pre><code>   override fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, id: Long) {\n\n           selectedItems.add(spinnerArray[position])\n\n   }\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8683807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89b31c9fd4cbd66050b4ec492bec517?s=128&d=identicon&r=PG&f=1", "display_name": "KirstyHA", "link": "https://stackoverflow.com/users/8683807/kirstyha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3676, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1564571660, "creation_date": 1506522869, "last_edit_date": 1564571660, "question_id": 46450622, "link": "https://stackoverflow.com/questions/46450622/android-kotlin-pass-spinner-values-to-mutable-list", "title": "Android Kotlin pass spinner values to mutable list", "body": "<p>I have an application with a spinner that contains several items.\nI created it and all that</p>\n\n<p>Could anyone give me an example of how I can pass these values to a list I have? Using a mutableList?</p>\n\n<p>Cheers</p>\n\n<pre><code>class NewKitListActivity : AppCompatActivity() {\n\nvar spinnerArray = arrayOf(\"Dumbell\", \"Punching Bag\", \"Yoga Ball\", \"Skipping Rope\")\n\n val kitMutableList = mutableListOf(spinnerArray)\n\n\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_new_kit_list)\n\n\n\n    val spinner = newKitItemSpinner\n    val spinnerArrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n    //selected item will look like a spinner set from XML\n    spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinner.adapter = spinnerArrayAdapter\n\n    spinner.onItemSelectedListener = object : OnItemSelectedListener {\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n            val selectedItem = parent.getItemAtPosition(position).toString()\n            if (selectedItem == \"Dumbell\") {\n\n               // mutableListAdapter.toMutableList()\n                //mutableList.adapter = mutableListAdapter\n\n\n            }\n        } // to close the onItemSelected\n\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "observable"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1506522702, "post_id": 46450425, "comment_id": 79856763, "body": "This is no kotlin lambda function syntax."}], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 0, "last_activity_date": 1506522567, "creation_date": 1506522567, "answer_id": 46450514, "question_id": 46450425, "link": "https://stackoverflow.com/questions/46450425/get-result-from-observable-kotin-android/46450514#46450514", "title": "Get Result from Observable - Kotin Android", "body": "<p>Should be </p>\n\n<pre><code>localisationService.currentLocation().subscribe { latLng -&gt;\n\n}\n</code></pre>\n\n<p>(note the latLng argument inside the curly braces)</p>\n\n<p>or</p>\n\n<pre><code>localisationService.currentLocation().subscribe ({ latLng -&gt;\n\n}, \n{ error -&gt; \n})\n</code></pre>\n\n<p>if you also want to implement <code>onError</code>. </p>\n"}], "owner": {"reputation": 2369, "user_id": 2187228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/qZSPB.jpg?s=128&g=1", "display_name": "Hubert Solecki", "link": "https://stackoverflow.com/users/2187228/hubert-solecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 46450514, "answer_count": 1, "score": -1, "last_activity_date": 1506522567, "creation_date": 1506522312, "question_id": 46450425, "link": "https://stackoverflow.com/questions/46450425/get-result-from-observable-kotin-android", "title": "Get Result from Observable - Kotin Android", "body": "<p>I have a method which returns on Observable as follows:</p>\n\n<pre><code>fun currentLocation(): Observable&lt;LatLngFix&gt; {\n    if (GoogleApiAvailability.getInstance().isGooglePlayServicesAvailable(context) != ConnectionResult.SUCCESS ||\n            !context.isLocationPermissionGranted()) {\n        return getDefaultLocation()\n    }\n\n    // lastKnownLocation returns location or complete without result\n    // in the latter case, return default unknown location\n    return Observable\n            .concat(locationProvider.lastKnownLocation.map {\n                val latLng = LatLngFix(it.latitude, it.longitude)\n                return@map latLng\n            }, getDefaultLocation())\n            .onErrorResumeNext { getDefaultLocation() }\n            .first()\n}\n</code></pre>\n\n<p>Then When I call this function, I would like to get the latlng variable. So I need to subscribe to the Observable oviously, but don't know why, the following gives an error:</p>\n\n<pre><code>localisationService.currentLocation().subscribe(latLng -&gt; {\n\n})\n</code></pre>\n\n<p>Saying that latLng is not defined. What's the right way of retrieving the value ? </p>\n"}, {"tags": ["java", "hibernate", "spring-mvc", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1506518455, "post_id": 46448924, "comment_id": 79853563, "body": "Why do you want the SessionFactory in the first place?"}, {"owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506519893, "post_id": 46448924, "comment_id": 79854667, "body": "As I understand it caches generated SQL statements and I can use Hiberante API directly and... it was in tutorial &#175;_\u30c4_/&#175; I&#39;m generally new to jvm ecosystem."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506520932, "post_id": 46448924, "comment_id": 79855498, "body": "The standard JPA API is all you should need. Stick to the standard."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1506521599, "post_id": 46448924, "comment_id": 79855991, "body": "As @JBNizet said, stick to the standard if possible. But anyway, there is a problem here which should be solved. Can you also post <code>WebMvcConfig</code>?"}, {"owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506522384, "post_id": 46448924, "comment_id": 79856546, "body": "Thx guys. @guenhter - I&#39;ve put it in my post. If you need anything else let me know."}, {"owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "edited": false, "score": 0, "creation_date": 1506523176, "post_id": 46448924, "comment_id": 79857119, "body": "I went with this tutorial: <a href=\"https://stonesoupprogramming.com/2017/07/08/kotlin-spring-security-hibernate-login/\" rel=\"nofollow noreferrer\">stonesoupprogramming.com/2017/07/08/&hellip;</a>. What I&#39;ve changed is gradle, latest spring boot (2.0.0.M4) and kotlin (1.1.50)"}], "owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1571298372, "creation_date": 1506518254, "last_edit_date": 1571298372, "question_id": 46448924, "link": "https://stackoverflow.com/questions/46448924/how-to-handle-session-factory", "title": "How to handle session factory", "body": "<p>I have following bean in my configuration class:</p>\n\n<pre><code>@Bean\nfun sessionFactory(@Autowired entityManagerFactory: EntityManagerFactory) :\n        SessionFactory = entityManagerFactory.unwrap(SessionFactory::class.java)\n</code></pre>\n\n<p>but it causes application fail to start.</p>\n\n<pre><code>The dependencies of some of the beans in the application context form a cycle:\n\n   userRepository defined in file [/home/m/Code/enterprise/out/production/classes/com/xxx/site/domain/user/repository/UserRepository.class]\n\u250c\u2500\u2500\u2500\u2500\u2500\u2510\n|  getSessionFactory defined in class path resource [com/xxx/site/WebMvcConfig.class]\n\u2514\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n\n<p>User Repository:</p>\n\n<pre><code>@Repository\n@Qualifier(\"mysql\")\nclass UserRepository(@Autowired private val sessionFactory: SessionFactory): UserRepositoryInterface{\n...\n}\n</code></pre>\n\n<p>I use Spring boot 2.0.0.M4.</p>\n\n<p>This problem was not occur for Spring Boot 1.5.4.RELEASE though.</p>\n\n<p><em>SiteApplication.kt</em></p>\n\n<pre><code>package com.xxx.site\n\nimport com.xxx.site.interceptor.CustomLocaleChangeInterceptor\nimport nz.net.ultraq.thymeleaf.LayoutDialect\nimport org.hibernate.SessionFactory\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.web.servlet.LocaleResolver\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer\nimport org.springframework.web.servlet.i18n.SessionLocaleResolver\nimport java.util.*\nimport javax.persistence.EntityManagerFactory\n\n@SpringBootApplication\nclass SiteApplication\n\n\n@Configuration\nclass WebMvcConfig: WebMvcConfigurer {\n\n    @Bean\n    fun localeResolver(): LocaleResolver {\n        val slr = SessionLocaleResolver()\n        slr.setDefaultLocale(Locale(\"th\"))\n        return slr\n    }\n\n    override fun addInterceptors(registry: InterceptorRegistry?) {\n        registry!!.addInterceptor(CustomLocaleChangeInterceptor()).addPathPatterns(\"/**\")\n    }\n\n    @Bean\n    fun layoutDialect(): LayoutDialect {\n        return LayoutDialect()\n    }\n\n    @Bean\n    fun sessionFactory(@Autowired entityManagerFactory: EntityManagerFactory) :\n            SessionFactory = entityManagerFactory.unwrap(SessionFactory::class.java)\n\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(SiteApplication::class.java, *args)\n}\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 7923336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-4Fiijp6-Dwo/AAAAAAAAAAI/AAAAAAAAADI/HjujYLybYbM/photo.jpg?sz=128", "display_name": "JOt", "link": "https://stackoverflow.com/users/7923336/jot"}, "edited": false, "score": 0, "creation_date": 1506573092, "post_id": 46448922, "comment_id": 79876884, "body": "thanks for replying. I am now using ValueEventListener"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 2, "last_activity_date": 1506518247, "creation_date": 1506518247, "answer_id": 46448922, "question_id": 46447911, "link": "https://stackoverflow.com/questions/46447911/why-this-childeventlistener-is-not-reading-data-from-firebase-node/46448922#46448922", "title": "Why this ChildEventListener is not reading data from firebase node?", "body": "<p>The <code>onChildAdded</code> method is called for each child not of the location (or query). If there are no matching child nodes, <code>onChildAdded</code> will not be called.</p>\n\n<p>If you want to detect the situation where there are no child nodes, you'll (also) need to use a <code>ValueEventListener</code>.</p>\n\n<p>Also see:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40631148/firebase-onchildadded-not-called-when-there-is-no-data/40632920#40632920\">Firebase onChildAdded not called when there is no data</a> (which this question is really a duplicate of)</li>\n<li><a href=\"https://stackoverflow.com/questions/39900082/can-i-determine-if-query-does-not-find-any-children-with-values-within-a-specifi/39900316#39900316\">Can I determine if query does NOT find any children with values within a specified range?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34460779/what-happens-if-a-firebase-url-doesnot-exist-and-we-try-to-add-a-listener-to-it/34463972#34463972\">What happens if a firebase url doesnot exist and we try to add a listener to it?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44598870/firebase-queryorderedbychild-doesnt-return-a-null-value/44599584#44599584\">Firebase queryOrderedbyChild doesn&#39;t return a Null value</a></li>\n</ul>\n"}], "owner": {"reputation": 17, "user_id": 7923336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-4Fiijp6-Dwo/AAAAAAAAAAI/AAAAAAAAADI/HjujYLybYbM/photo.jpg?sz=128", "display_name": "JOt", "link": "https://stackoverflow.com/users/7923336/jot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 548, "favorite_count": 0, "accepted_answer_id": 46448922, "answer_count": 1, "score": -1, "last_activity_date": 1506518247, "creation_date": 1506515430, "last_edit_date": 1506515666, "question_id": 46447911, "link": "https://stackoverflow.com/questions/46447911/why-this-childeventlistener-is-not-reading-data-from-firebase-node", "title": "Why this ChildEventListener is not reading data from firebase node?", "body": "<p>I have a query to firebase node with ChildEventListener shown in image link \n<a href=\"https://i.stack.imgur.com/1Yzwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Yzwi.png\" alt=\"enter image description here\"></a></p>\n\n<p>now when I run this code </p>\n\n<pre><code>mMessageRef.child(ScrollAppUtils.firebaseId).child(child.key).orderByKey().limitToLast(1).addChildEventListener(object : ChildEventListener {\n\n    override fun onCancelled(p0: DatabaseError?) {}\n\n    override fun onChildMoved(p0: DataSnapshot?, p1: String?) {}\n\n    override fun onChildChanged(p0: DataSnapshot?, p1: String?) {}\n\n    override fun onChildAdded(p0: DataSnapshot?, p1: String?) {\n\n        Logger.d(\"inside onChild Added\")\n        if (p0!!.hasChildren())\n        {\n\n        var lastMessage = p0.getValue(MessagesTwo::class.java)\n        var dialog = DefaultDialog(child.key, user.metaData.profileImage, user.metaData.name, arrayListUser, lastMessage, 2)\n        if (!listDialog.contains(dialog)) {\n\n            listDialog.add(dialog)\n            Logger.d(listDialog.size)\n            dialogListAdapter.setItems(listDialog)\n            dialogListAdapter.notifyDataSetChanged()\n        } else {\n            Logger.d(\"inside updateItemByID : \")\n            Logger.json(Gson().toJson(dialog))\n            dialogListAdapter.updateItemById(dialog)\n            dialogListAdapter.notifyDataSetChanged()\n        }\n        }\n\n\n    }\n\n    override fun onChildRemoved(p0: DataSnapshot?) {}\n    })\n</code></pre>\n\n<p><strong>this listener simply doesn't work when a node not found</strong>,  which I believe should work as ValueEventListener is working very well but I have some other problem with that listener so I am compelled to use this listener. Please suggest me what is I am doing wrong here?  </p>\n"}, {"tags": ["casting", "floating-point", "numbers", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 8, "last_activity_date": 1506513792, "creation_date": 1506513792, "answer_id": 46447409, "question_id": 46447341, "link": "https://stackoverflow.com/questions/46447341/how-multiply-nullsafe-float-in-kotlin/46447409#46447409", "title": "How multiply nullsafe float in kotlin?", "body": "<p>Change the line</p>\n\n<pre><code>val any = (float ?: 0.0) * 1.25\n</code></pre>\n\n<p>to</p>\n\n<pre><code>val any = (float ?: 0.0f) * 1.25f\n</code></pre>\n\n<p>Else you mix <code>double</code> and <code>float</code> what leads to the compile error</p>\n"}], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 46447409, "answer_count": 1, "score": 3, "last_activity_date": 1506513792, "creation_date": 1506513598, "question_id": 46447341, "link": "https://stackoverflow.com/questions/46447341/how-multiply-nullsafe-float-in-kotlin", "title": "How multiply nullsafe float in kotlin?", "body": "<p>Consider code example:</p>\n\n<pre><code>val contentLength :Long? = 1\nval float = contentLength?.toFloat()\nval any = (float ?: 0)  * 1.25\n//                      ^\n//           compilation error here \n</code></pre>\n\n<p>If I try to extract variable herem like that:</p>\n\n<pre><code>val casted = (float ?: 0)\n</code></pre>\n\n<p>IDE shows that <code>casted</code> has <code>Any</code> as type. Why it happens? How to get nullsafe float value from float reference and multiply it to another float value?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>Replacing <code>0</code> with <code>0.0</code>:</p>\n\n<pre><code>(float ?: 0.0)\n</code></pre>\n\n<p>has no effect. :(</p>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "edited": false, "score": 1, "creation_date": 1506519852, "post_id": 46447296, "comment_id": 79854637, "body": "Create a new MutableList and add your item to this list."}, {"owner": {"reputation": 501, "user_id": 8682446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91e6dd5a9ba3bb894a9945327352704?s=128&d=identicon&r=PG&f=1", "display_name": "DukeAmber27", "link": "https://stackoverflow.com/users/8682446/dukeamber27"}, "reply_to_user": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "edited": false, "score": 0, "creation_date": 1506521600, "post_id": 46447296, "comment_id": 79855993, "body": "@just, could you write an example of how I can pass it to the mutable list? I would appreciate it!"}], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 1, "last_activity_date": 1506525041, "creation_date": 1506525041, "answer_id": 46451414, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/46451414#46451414", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>I implemented like this.\n1. Create Empty Mutable List\n2. Set onItemSelectedListner on spinner\n3. When user select item add that to mutable list</p>\n\n<p>Check my this answer for more info. It will help you: <a href=\"https://stackoverflow.com/questions/46450622/android-koltin-pass-spinner-values-to-mutable-list\">Android Koltin pass spinner values to mutable list</a></p>\n"}, {"comments": [{"owner": {"reputation": 6175, "user_id": 2371425, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/afeeb0ffa32e8dbb1f5141d63706c2b4?s=128&d=identicon&r=PG", "display_name": "Sakiboy", "link": "https://stackoverflow.com/users/2371425/sakiboy"}, "edited": false, "score": 2, "creation_date": 1571055281, "post_id": 48044532, "comment_id": 103101928, "body": "You are supposed to use <code>==</code> when comparing <code>Strings</code> in Kotlin"}], "tags": [], "owner": {"reputation": 935, "user_id": 8822851, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tmfBFb3Xhyg/AAAAAAAAAAI/AAAAAAAAAEY/srQLkMO4MnE/photo.jpg?sz=128", "display_name": "arjun shrestha", "link": "https://stackoverflow.com/users/8822851/arjun-shrestha"}, "is_accepted": false, "score": 2, "last_activity_date": 1514741472, "creation_date": 1514741472, "answer_id": 48044532, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/48044532#48044532", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>string will not be able to check using '==' instead you need to use equals(\"string\") </p>\n\n<pre><code>if (selectedItem.equals(\"Add new category\")) {\n            // do your stuff\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 2941905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4m5l3.jpg?s=128&g=1", "display_name": "Madi", "link": "https://stackoverflow.com/users/2941905/madi"}, "is_accepted": false, "score": 110, "last_activity_date": 1521522154, "creation_date": 1521522154, "answer_id": 49376648, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/49376648#49376648", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>(in Kotlin)Use this code:</p>\n\n<pre><code>yourSpinner?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n        }\n\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n        }\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1159, "user_id": 5533075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Doi1rGLqYCQ/AAAAAAAAAAI/AAAAAAAAv90/wqnGkGxNzkE/photo.jpg?sz=128", "display_name": "Dwhitz", "link": "https://stackoverflow.com/users/5533075/dwhitz"}, "edited": false, "score": 1, "creation_date": 1554812749, "post_id": 55592524, "comment_id": 97882115, "body": "Thank you for this code snippet, which might provide some limited, immediate help. A <a href=\"https://meta.stackexchange.com/q/114762/349538\">proper explanation</a> would greatly improve its long-term value by showing why this is a good solution to the problem and would make it more useful to future readers with other, similar questions. Please <a href=\"https://stackoverflow.com/posts/55592524/edit\">edit</a> your answer to add some explanation, including the assumptions you\u2019ve made."}, {"owner": {"reputation": 128, "user_id": 10818029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36353799b762db235845559f8cbcfa76?s=128&d=identicon&r=PG&f=1", "display_name": "MarkT", "link": "https://stackoverflow.com/users/10818029/markt"}, "edited": false, "score": 0, "creation_date": 1614045173, "post_id": 55592524, "comment_id": 117258841, "body": "The code is useful to get the Int derived from choosing one item from the Spinner, if nothing selected it will get 0 because spinner starts in zero position."}], "tags": [], "owner": {"reputation": 219, "user_id": 7125803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dfutZxTfrB8/AAAAAAAAAAI/AAAAAAAAAFE/3skly884tlM/photo.jpg?sz=128", "display_name": "Rajneesh Tyagi", "link": "https://stackoverflow.com/users/7125803/rajneesh-tyagi"}, "is_accepted": false, "score": 16, "last_activity_date": 1567748552, "last_edit_date": 1567748552, "creation_date": 1554811727, "answer_id": 55592524, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/55592524#55592524", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>Thanks this is helpful for me, Its working fine !</p>\n\n<pre><code>daysSpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n            }\n\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 10818029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36353799b762db235845559f8cbcfa76?s=128&d=identicon&r=PG&f=1", "display_name": "MarkT", "link": "https://stackoverflow.com/users/10818029/markt"}, "is_accepted": false, "score": 0, "last_activity_date": 1606259169, "creation_date": 1606259169, "answer_id": 64996161, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/64996161#64996161", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>instead of:</p>\n<pre><code>var spinnerArray = arrayOf(&quot;Dumbell&quot;, &quot;Punching Bag&quot;, &quot;Yoga Ball&quot;, &quot;Skipping Rope&quot;)\n</code></pre>\n<p>try</p>\n<pre><code>var spinnerArray = mutableListOf&lt;String&gt;(&quot;Dumbell&quot;, &quot;Punching Bag&quot;, &quot;Yoga Ball&quot;, &quot;Skipping Rope&quot;)\n</code></pre>\n<p>just had the same situation when I was trying to get a sqlite table\u00b4s $_ID and populate the spinner with them</p>\n"}, {"tags": [], "owner": {"reputation": 961, "user_id": 4592448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-_DP3LTfLMXw/AAAAAAAAAAI/AAAAAAAAAHk/dzYHVVdXUnE/photo.jpg?sz=128", "display_name": "Fortran", "link": "https://stackoverflow.com/users/4592448/fortran"}, "is_accepted": false, "score": 0, "last_activity_date": 1611861568, "creation_date": 1611861568, "answer_id": 65943852, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/65943852#65943852", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p><strong>Add extension function</strong></p>\n<pre><code>fun Spinner.selected(action: () -&gt; Unit) {\n    this.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {}\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            action()\n        }\n    }\n}\n</code></pre>\n<p><strong>simple use</strong></p>\n<pre><code>spinner.selected {\n    // todo something\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14112087, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjZ7wzKhXzrI9t243kZ3n9yjKfkrXU0D5pyYsGglA=k-s128", "display_name": "Dav L", "link": "https://stackoverflow.com/users/14112087/dav-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1617847038, "creation_date": 1617847038, "answer_id": 66996340, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working/66996340#66996340", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<pre><code>// Extends AdapterView.OnItemSelectedListener\nclass Dialogs : DialogFragment(), AdapterView.OnItemSelectedListener {}\n\n//Somewhre in onCreate (I'm using databinding but you don't have to)\n binding.spinnerDialogEstados.onItemSelectedListener = this\n\n// then implement members...\n\n      override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n    TODO(&quot;Not yet implemented&quot;)\n}\n\noverride fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n    TODO(&quot;Not yet implemented&quot;)\n}\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 8682446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91e6dd5a9ba3bb894a9945327352704?s=128&d=identicon&r=PG&f=1", "display_name": "DukeAmber27", "link": "https://stackoverflow.com/users/8682446/dukeamber27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43982, "favorite_count": 6, "answer_count": 7, "score": 48, "last_activity_date": 1617847038, "creation_date": 1506513474, "last_edit_date": 1506519384, "question_id": 46447296, "link": "https://stackoverflow.com/questions/46447296/android-kotlin-onitemselectedlistener-for-spinner-not-working", "title": "Android Kotlin onItemSelectedListener for spinner not working", "body": "<p>I have a spinner with some items (strings).\nI want to add the selected items to a list. I read online that I should use the <code>onItemSelectedListener</code>rather than the <code>onItemClickListener</code>.</p>\n\n<p>I implemented this but I don't know how to complete the step of adding it to the list.</p>\n\n<pre><code>class NewKitListActivity : AppCompatActivity() {\n\nvar spinnerArray = arrayOf(\"Dumbell\", \"Punching Bag\", \"Yoga Ball\", \"Skipping Rope\")\n//var spinnerArray = arrayOf(DataService.kitList)\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_new_kit_list)\n\n\n\n    val spinner = newKitItemSpinner\n    val spinnerArrayAdapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n    //selected item will look like a spinner set from XML\n    spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinner.adapter = spinnerArrayAdapter\n\n    spinner.onItemSelectedListener = object : OnItemSelectedListener {\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n            val selectedItem = parent.getItemAtPosition(position).toString()\n            if (selectedItem == \"Add new category\") {\n                // do your stuff\n            }\n        } // to close the onItemSelected\n\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n\n        }\n    }}}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "edited": false, "score": 0, "creation_date": 1506512839, "post_id": 46447033, "comment_id": 79849753, "body": "That&#39;s my solution right now. I just wanted to know if there&#39;s a way i don&#39;t know about in the Retrofit lib. I&#39;m new to Retrofit. Have been using a custom solution for REST Api calls until now."}, {"owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "reply_to_user": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "edited": false, "score": 0, "creation_date": 1506514533, "post_id": 46447033, "comment_id": 79850877, "body": "@Mugur Update answer, you can also use inteceptor. But I think, it worse option."}], "tags": [], "owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "is_accepted": true, "score": 1, "last_activity_date": 1506514437, "last_edit_date": 1506514437, "creation_date": 1506512685, "answer_id": 46447033, "question_id": 46446839, "link": "https://stackoverflow.com/questions/46446839/format-query-parameter-retrofit-2/46447033#46447033", "title": "format @Query parameter - Retrofit 2", "body": "<p>Think, you can use only another method. Something like this:</p>\n\n<pre><code>    searchProducts(prepareParameter(\"lala\"))\n\n    fun prepareParameter(query: String) = \"(?i)\\\\\\\\Q\" + query + \"\\\\\\\\E\"\n</code></pre>\n\n<p>Also you can use Interceptor. But it would be call in every request, so I recommend you use first variant.</p>\n\n<pre><code>object : Interceptor {\n            override fun intercept(chain: Interceptor.Chain?): Response {\n                val original = chain!!.request()\n                val originalUrl = original.url()\n                if (originalUrl.encodedPath().contains(\"prod/search\")) {\n                    val value = originalUrl.queryParameter(\"q\")\n                    val newUrl = originalUrl.newBuilder()\n                            .setQueryParameter(\"q\", \"(?i)\\\\\\\\Q$value\\\\\\\\E\")\n                            .build()\n\n                    val request = original.newBuilder().url(newUrl).build()\n                    return chain.proceed(request)\n                }\n\n                return chain.proceed(original) \n            }\n        }\n</code></pre>\n\n<p>And in your retrofit builder:</p>\n\n<pre><code>val client = new OkHttpClient.Builder()\n                 .addInteceptor(yourInterceptor)\n                 .build()\nval retrofit = Retrofit.Builder().client(client).build()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1547814888, "creation_date": 1547814888, "answer_id": 54254155, "question_id": 46446839, "link": "https://stackoverflow.com/questions/46446839/format-query-parameter-retrofit-2/54254155#54254155", "title": "format @Query parameter - Retrofit 2", "body": "<p>You could use the statical typing for your advantage. From the <code>@Query</code> documentation:</p>\n\n<blockquote>\n  <p>Values are converted to strings using <code>Retrofit.stringConverter(Type, Annotation[])</code> (or <code>Object.toString()</code>, if no matching string converter is installed) and then URL encoded.</p>\n</blockquote>\n\n<p>You'd only have to create a simple wrapper of <code>String</code> and override <code>toString()</code>:</p>\n\n<pre><code>data class RegularString(val value: String) {\n    override fun toString() = \"(?i)\\\\\\\\Q$value\\\\\\\\E\"\n}\n</code></pre>\n\n<p>Then use <code>RegularString</code> as a query parameter:</p>\n\n<pre><code>@GET(\"prod/search\")\nfun searchProducts(@Query(\"q\") q: RegularString): Call&lt;Array&lt;Product&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 869, "user_id": 628319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/042708b98b5301874d156fb83a976322?s=128&d=identicon&r=PG", "display_name": "Mugur", "link": "https://stackoverflow.com/users/628319/mugur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 46447033, "answer_count": 2, "score": 3, "last_activity_date": 1547814888, "creation_date": 1506512067, "question_id": 46446839, "link": "https://stackoverflow.com/questions/46446839/format-query-parameter-retrofit-2", "title": "format @Query parameter - Retrofit 2", "body": "<p>I switched to using Retrofit2 and everything is nice and clean...\nBut there is a service call that requires that a query parameter be inside a regular expression(don't ask me why, I already asked for it to be changed). </p>\n\n<p>Here is how my method looks like:</p>\n\n<pre><code>@GET(\"prod/search\")\nfun searchProducts(@Query(\"q\") q: String?): Call&lt;Array&lt;Product&gt;&gt;\n</code></pre>\n\n<p>If I call <code>searchProducts(\"lala\")</code>, the query will look like: <code>prod/search?q=lala</code>, but I need it to look like <code>prod/search?q=(?i)\\\\Qlala\\\\E</code></p>\n\n<p>Is there a simple way to format the query parameter to do that?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "edited": false, "score": 1, "creation_date": 1506513055, "post_id": 46446450, "comment_id": 79849884, "body": "Also you can replace &quot;it&quot; by (answerScore, answers) -&gt;"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1506532576, "post_id": 46446450, "comment_id": 79862946, "body": "Instead of calling <code>.toMutableList()</code> at the end, you can instead use <code>.mapTo(mutableListOf()) { ... }</code> to avoid allocating multiple collections."}, {"owner": {"reputation": 71, "user_id": 7737816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P2gW8dR4fz0/AAAAAAAAAAI/AAAAAAAAAPs/6-9R7DnxbC4/photo.jpg?sz=128", "display_name": "YouTing Liu", "link": "https://stackoverflow.com/users/7737816/youting-liu"}, "edited": false, "score": 0, "creation_date": 1507528701, "post_id": 46446450, "comment_id": 80228411, "body": "@hotkey  Sorry, I forgot reply your answer~~ .    Thank you, I try to refractor my code and it run correctly~ .     I\u2019m very grateful for your kind assistance !!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1506510752, "creation_date": 1506510752, "answer_id": 46446450, "question_id": 46445983, "link": "https://stackoverflow.com/questions/46445983/kotlin-how-to-use-the-collection-function-to-simplify-this-code/46446450#46446450", "title": "Kotlin, How to use the collection function to simplify this code", "body": "<p>Since you add an item to the <code>rewards</code> for each element of <code>rangeExams</code>, the <code>.forEach { ... }</code> call can be transformed to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><code>.map { ... }</code></a>. </p>\n\n<p>Also, you only use the result of <code>examAnswer.answers.map { it.id }</code> to get its size, so you can remove <code>.map { it.id }</code> and use the size of the original collection.</p>\n\n<p>If you don't need to mutate the maps afterwards, you can replace <code>hashMapOf(...)</code> with <code>mapOf(...)</code>.</p>\n\n<pre><code>val rewards = rangeExams.map { \n    mapOf(\n        \"Score\" to it.answerScore,\n        \"NewQuestion\" to it.answers.size)\n}\n</code></pre>\n\n<p>If you need to mutate the <code>rewards</code> list after it's created, add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-list.html\" rel=\"nofollow noreferrer\"><code>.toMutableList()</code></a> in the end.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 7737816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P2gW8dR4fz0/AAAAAAAAAAI/AAAAAAAAAPs/6-9R7DnxbC4/photo.jpg?sz=128", "display_name": "YouTing Liu", "link": "https://stackoverflow.com/users/7737816/youting-liu"}, "edited": false, "score": 0, "creation_date": 1507528864, "post_id": 46446472, "comment_id": 80228481, "body": "Thank you~Your reply is also grate~~"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 2, "last_activity_date": 1506510828, "creation_date": 1506510828, "answer_id": 46446472, "question_id": 46445983, "link": "https://stackoverflow.com/questions/46445983/kotlin-how-to-use-the-collection-function-to-simplify-this-code/46446472#46446472", "title": "Kotlin, How to use the collection function to simplify this code", "body": "<p>There is a little potential to simplify this. </p>\n\n<ul>\n<li>Firstly, I would suggest a more functional approach, which could turn the mutable list <code>rewards</code> into an immutable one.</li>\n<li>Secondly, infer the creation of the hash-map <code>reward</code> with the <code>put</code> into one line. You than can use the also the immutable version of the map, instead of the mutable one created by <code>hashMapOf</code> (if you need mutability, than you can just keep <code>hashMapOf</code>).</li>\n<li>thirdly, you just use the <code>questionIds</code> to the the size. For that, you don't have to map anything, just call <code>examAnswer.ansers.size</code>. This short call can be inferred as well</li>\n<li>fourthly, you can use <code>it</code> instead of explicitly name the param <code>examAnswer</code> because this block is now quite short anyway</li>\n</ul>\n\n<p>This would lead to this code:</p>\n\n<pre><code>val rewards = rangeExams.map { \n        mapOf(\"Score\" to it.answerScore,\n              \"NewQuestion\" to it.answers.size)\n    }\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7737816, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P2gW8dR4fz0/AAAAAAAAAAI/AAAAAAAAAPs/6-9R7DnxbC4/photo.jpg?sz=128", "display_name": "YouTing Liu", "link": "https://stackoverflow.com/users/7737816/youting-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 46446450, "answer_count": 2, "score": 0, "last_activity_date": 1506510828, "creation_date": 1506509377, "question_id": 46445983, "link": "https://stackoverflow.com/questions/46445983/kotlin-how-to-use-the-collection-function-to-simplify-this-code", "title": "Kotlin, How to use the collection function to simplify this code", "body": "<p>I am using Kotlin for a project, I write this code can complete the requirement:</p>\n\n<pre><code>val rewards = ArrayList&lt;Map&lt;String, Int&gt;&gt;()\nrangeExams\n  .forEach { examAnswer -&gt;\n    var reward = hashMapOf(\"Score\" to examAnswer.answerScore)\n    var questionIds = examAnswer\n      .answers\n      .map { it.id }\n\n    reward.put(\"NewQuestion\", questionIds.size)\n    rewards.add(reward)\n  }\n</code></pre>\n\n<p>\"rangeExams\" is a list of collection.<br>\nI would like to combinate Kotlin Functions of Collection, \nto put elements of rangeExams into a map \nand put this map to a new list,<br>\nhow can I simplify this code by Kotlin ?</p>\n\n<p>ExamAnswer is a pojo:</p>\n\n<pre><code>class ExamAnswer (val id: String, val answerScore: Int, val answers:List&lt;Answer&gt;) \n</code></pre>\n\n<p>Thank you for your reply</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506509931, "post_id": 46445909, "comment_id": 79847862, "body": "You may take a look at the answers <a href=\"https://stackoverflow.com/questions/33727657/kotlin-and-immutable-collections\">here</a>."}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 1, "creation_date": 1506512765, "post_id": 46445909, "comment_id": 79849705, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33727657/kotlin-and-immutable-collections\">Kotlin and Immutable Collections?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 1758991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YZcU.jpg?s=128&g=1", "display_name": "Miguel Isla", "link": "https://stackoverflow.com/users/1758991/miguel-isla"}, "is_accepted": false, "score": 53, "last_activity_date": 1506520916, "last_edit_date": 1506520916, "creation_date": 1506509338, "answer_id": 46445970, "question_id": 46445909, "link": "https://stackoverflow.com/questions/46445909/difference-between-mutablelist-and-list-in-kotlin/46445970#46445970", "title": "Difference between MutableList and List in Kotlin", "body": "<p>From docs:</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\" title=\"List\">List</a>: A generic ordered collection of elements. Methods in this interface support only read-only access to the list; read/write access is supported through the MutableList interface.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\" title=\"MutableList\">MutableList</a>: A generic ordered collection of elements that supports adding and removing elements.</p>\n\n<p>You can modify a MutableList: change, remove, add... its elements. In a List you can only read them.</p>\n"}, {"tags": [], "owner": {"reputation": 3118, "user_id": 7735032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iCbjS.jpg?s=128&g=1", "display_name": "Extremis II", "link": "https://stackoverflow.com/users/7735032/extremis-ii"}, "is_accepted": false, "score": 17, "last_activity_date": 1585883343, "last_edit_date": 1585883343, "creation_date": 1554261315, "answer_id": 55486498, "question_id": 46445909, "link": "https://stackoverflow.com/questions/46445909/difference-between-mutablelist-and-list-in-kotlin/55486498#55486498", "title": "Difference between MutableList and List in Kotlin", "body": "<ul>\n<li><p><strong>List</strong></p>\n\n<pre><code>var language: List&lt;String&gt; = listOf(\"java\", \"kotlin\", \"dart\")\n</code></pre>\n\n<p>List type is an interface which provides read-only access. you are limited to read operations like </p>\n\n<blockquote>\n  <p>get, indexof, subList, contains, size etc</p>\n</blockquote></li>\n</ul>\n\n<p>with kotlin you have access to some more functions **like sort, stream,binarySearch</p>\n\n<ul>\n<li><strong>MutableList</strong></li>\n</ul>\n\n<p>Consider this example:</p>\n\n<pre><code>    var mutableLanguage: MutableList&lt;String&gt; = mutableListOf(\"java\", \"kotlin\", \"dart\")\n</code></pre>\n\n<p>with mutablelist you can perform read and write operation i.e., add or remove contents of a list. beside supporting all the functions of interface type List.</p>\n\n<blockquote>\n  <p>add, addAll, replace, replaceAll, set, removeAt etc</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14411131, "user_type": "registered", "profile_image": "https://graph.facebook.com/1259616057722334/picture?type=large", "display_name": "Shweta Kesharwani", "link": "https://stackoverflow.com/users/14411131/shweta-kesharwani"}, "is_accepted": false, "score": 0, "last_activity_date": 1602125674, "creation_date": 1602125674, "answer_id": 64255133, "question_id": 46445909, "link": "https://stackoverflow.com/questions/46445909/difference-between-mutablelist-and-list-in-kotlin/64255133#64255133", "title": "Difference between MutableList and List in Kotlin", "body": "<p>Mutable list is used to add and alter the values .\nMutable List is defined by\nMutableListOf () . keyword.</p>\n<p>Whereas Array List do the same thing but particular defined as array\nArray list is defined as\nArrayListOf() keyword</p>\n"}], "owner": {"reputation": 577, "user_id": 4619977, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fe2187a9cba2627a4ff29f745a6e1254?s=128&d=identicon&r=PG&f=1", "display_name": "Deepan", "link": "https://stackoverflow.com/users/4619977/deepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12839, "favorite_count": 2, "answer_count": 3, "score": 30, "last_activity_date": 1602125674, "creation_date": 1506509171, "last_edit_date": 1525771535, "question_id": 46445909, "link": "https://stackoverflow.com/questions/46445909/difference-between-mutablelist-and-list-in-kotlin", "title": "Difference between MutableList and List in Kotlin", "body": "<ol>\n<li>What is the difference between <strong>MutableList</strong> and <strong>List</strong> in Kotlin?</li>\n<li>and what is the <strong>use</strong> of each type?</li>\n</ol>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1506524248, "creation_date": 1506524248, "answer_id": 46451142, "question_id": 46445517, "link": "https://stackoverflow.com/questions/46445517/android-kotlin-add-items-to-a-listview-from-a-spinner/46451142#46451142", "title": "Android Kotlin add items to a ListView from a Spinner", "body": "<p>Hi Joe may be this code will help you. What I did in this code</p>\n\n<ol>\n<li>Set Empty Mutable List for storing selected item</li>\n<li>Set spinner on Item Selected Listener</li>\n<li><p>When I item selected that added in mutable list</p>\n\n<p>// Mutable List for storing selected items\n        val selectedItems: MutableList? = null </p>\n\n<pre><code>     // Listen On select for spinner\n            spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n                //Performing action onItemSelected and onNothing selected\n                override fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, id: Long) {\n\n                   // Add selected item in Mutable List\n                   selectedItems.add(spinnerArray[position])\n\n\n                }\n\n                override fun onNothingSelected(arg0: AdapterView&lt;*&gt;) {\n                    // TODO: Auto-generated method stub\n\n\n                }\n\n            }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 8682203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f46eb161d38ec65a88498db80f4823f?s=128&d=identicon&r=PG&f=1", "display_name": "JoeStanton", "link": "https://stackoverflow.com/users/8682203/joestanton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1234, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1506524248, "creation_date": 1506508009, "last_edit_date": 1506508536, "question_id": 46445517, "link": "https://stackoverflow.com/questions/46445517/android-kotlin-add-items-to-a-listview-from-a-spinner", "title": "Android Kotlin add items to a ListView from a Spinner", "body": "<p>I am quite new to Android Development and Kotlin.\nI created a spinner with some strings. After that, I'd like to add the selected item from the spinner and add it to a list and the last step being saving that list being stored as an object to be shown on another list (just the name) and if I click it, it will open the list I created previously.</p>\n\n<p>I will show you the code and my layouts so you understand better what I've done and am missing</p>\n\n<p>From here <a href=\"https://i.stack.imgur.com/u0nxV.png\" rel=\"nofollow noreferrer\">layout</a>(this is where the saved lists will go - activity_kit_list): \nI click NEW and go to another activity I have (but can't show because of my reputation) - activity_new_kit_list:\n(This step is created)</p>\n\n<p>Then, I click on the spinner and it shows the array I have (which is working). What I can't get my way around is how I make the rest of it working.</p>\n\n<p><strong>NewKitListActivity:</strong></p>\n\n<p>class NewKitListActivity : AppCompatActivity() {</p>\n\n<pre><code>var spinnerArray = arrayOf(\"Dumbell\", \"Punching Bag\", \"Yoga Ball\", \"Skipping Rope\")\n//var spinnerArray = arrayOf(DataService.kitList)\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_new_kit_list)\n\n\n\n    val spinner = newKitItemSpinner\n    val spinnerArrayAdapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n    //selected item will look like a spinner set from XML\n    spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinner.adapter = spinnerArrayAdapter}}\n</code></pre>\n\n<p>Any pointers please?</p>\n\n<p>P.S.: I have a DataService object that is storing an arrayOf. I tried to call it instead of typing those strings as you see but it didn't work (you can see the commented var there). Any reason why it didn't?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506502715, "post_id": 46442297, "comment_id": 79843025, "body": "Thanks! but I can write  private var sampleVideoView: VideoView? = null, why can&#39;t I write sampleVideoView? = findViewById(R.id.videoView)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506502832, "post_id": 46442297, "comment_id": 79843092, "body": "Because <code>VideoView?</code> is the type of your variable <code>sampleVideoView</code>, here <code>?</code> is valid and indicated that the variable can be <code>null</code>, but you can&#39;t suffix a variable name with<code>?</code>, there&#39;s simply no syntax for that. Just do <code>sampleVideoView = findViewById(R.id.videoView)</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1506498673, "creation_date": 1506498673, "answer_id": 46442297, "question_id": 46442121, "link": "https://stackoverflow.com/questions/46442121/can-i-write-samplevideoview-findviewbyidvideoviewr-id-videoview-in-kotlin/46442297#46442297", "title": "Can I write sampleVideoView? = findViewById&lt;VideoView&gt;(R.id.videoView) in Kotlin?", "body": "<blockquote>\n  <p>sampleVideoView? = findViewById(R.id.videoView)</p>\n</blockquote>\n\n<p>This is no valid syntax. The <code>?</code> is used to mark types as nullable and for safely accessing variables holding these nullable types.</p>\n\n<blockquote>\n  <p>The code sampleVideoView?.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE)) is equivalence with if (sampleVideoView!=null){sampleVideoView.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE))} ,right?</p>\n</blockquote>\n\n<p>True. But if you have for example <code>val x = y?.getName()</code> variable <code>x</code> will be <code>null</code> or contain the name of <code>y</code> afterwards. It's not just \"do only if <code>!= null</code>\" as your example could suggest.</p>\n"}, {"tags": [], "owner": {"reputation": 2299, "user_id": 1596308, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JxwHy.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/1596308/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1506498693, "creation_date": 1506498693, "answer_id": 46442304, "question_id": 46442121, "link": "https://stackoverflow.com/questions/46442121/can-i-write-samplevideoview-findviewbyidvideoviewr-id-videoview-in-kotlin/46442304#46442304", "title": "Can I write sampleVideoView? = findViewById&lt;VideoView&gt;(R.id.videoView) in Kotlin?", "body": "<p>The below is correct syntax for assigning a nullable value to a nullable variable. You do not need a question mark at the assignment</p>\n\n<pre><code> sampleVideoView = findViewById&lt;VideoView&gt;(R.id.videoView)\n</code></pre>\n\n<p>The second statement is an equivalence</p>\n"}, {"tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": false, "score": 3, "last_activity_date": 1506499308, "creation_date": 1506499308, "answer_id": 46442497, "question_id": 46442121, "link": "https://stackoverflow.com/questions/46442121/can-i-write-samplevideoview-findviewbyidvideoviewr-id-videoview-in-kotlin/46442497#46442497", "title": "Can I write sampleVideoView? = findViewById&lt;VideoView&gt;(R.id.videoView) in Kotlin?", "body": "<p>You can forget findView method at all and replace it with kotlin android extension plugin</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>after that you can write just :</p>\n\n<p><code>yourVideoViewID.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE))</code></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 46442297, "answer_count": 3, "score": -1, "last_activity_date": 1506499308, "creation_date": 1506498106, "question_id": 46442121, "link": "https://stackoverflow.com/questions/46442121/can-i-write-samplevideoview-findviewbyidvideoviewr-id-videoview-in-kotlin", "title": "Can I write sampleVideoView? = findViewById&lt;VideoView&gt;(R.id.videoView) in Kotlin?", "body": "<p>The following code is from a Kotlin sample project, I think I can always write <code>sampleVideoView? = findViewById&lt;VideoView&gt;(R.id.videoView)</code>,  right?</p>\n\n<p><strong>And more</strong></p>\n\n<p>The code  <code>sampleVideoView?.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE))</code> is equivalence with <code>if (sampleVideoView!=null){sampleVideoView.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE))}</code> ,right?</p>\n\n<pre><code>    class MainActivity : AppCompatActivity(){\n\n        private var sampleVideoView: VideoView? = null\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            sampleVideoView = findViewById&lt;VideoView&gt;(R.id.videoView)\n            sampleVideoView?.setVideoURI(Uri.parse(HLS_STREAMING_SAMPLE))\n...\n</code></pre>\n"}, {"tags": ["android", "kotlin", "observable", "flatmap"], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 3, "last_activity_date": 1506497525, "creation_date": 1506497525, "answer_id": 46441952, "question_id": 46441455, "link": "https://stackoverflow.com/questions/46441455/rxjava-kotlin-how-to-get-separated-objects-from-single-observablestring/46441952#46441952", "title": "RxJava Kotlin how to get separated objects from single observable&lt;String&gt;", "body": "<p>Make use of <code>flatMapIterable</code>, so you can get a stream of the items from the list:</p>\n\n<pre><code>Observable.just(\"521934/2342/FOXTROT\")\n            .flatMap { input -&gt; Observable.fromArray(input.split(\"/\")) }\n            .flatMapIterable { items -&gt; items }\n            .subscribe { item -&gt; Log.d(TAG, item) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1546520103, "creation_date": 1546520103, "answer_id": 54022732, "question_id": 46441455, "link": "https://stackoverflow.com/questions/46441455/rxjava-kotlin-how-to-get-separated-objects-from-single-observablestring/54022732#54022732", "title": "RxJava Kotlin how to get separated objects from single observable&lt;String&gt;", "body": "<p>Just use <code>fromIterable</code>:</p>\n\n<pre><code>Observable.just(\"521934/2342/FOXTROT\")\n                .flatMap { Observable.fromIterable(it.split(\"/\")) }\n                .subscribe{\n                    Log.d(TAG, \"$it\")\n                }\n</code></pre>\n\n<p>In case of array you would have to use a spread operator additionaly since <code>fromArray</code> takes a vararg argument list:</p>\n\n<pre><code>Observable.fromArray(*arrayOf(\"521934\",\"2342\",\"FOXTROT\"))\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 8680914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b29b6436b0190ce042b629da5cef37d?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Belfort", "link": "https://stackoverflow.com/users/8680914/denis-belfort"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2688, "favorite_count": 1, "accepted_answer_id": 46441952, "answer_count": 2, "score": 3, "last_activity_date": 1546520103, "creation_date": 1506495796, "question_id": 46441455, "link": "https://stackoverflow.com/questions/46441455/rxjava-kotlin-how-to-get-separated-objects-from-single-observablestring", "title": "RxJava Kotlin how to get separated objects from single observable&lt;String&gt;", "body": "<p>RxJava Kotlin flatmap don't return separated objects from splitted string. instead it returns List</p>\n\n<pre><code>val source: Observable&lt;String&gt; = Observable.just(\"521934/2342/FOXTROT\")\n.flatMap{Observable.fromArray(it.split(\"/\"))}\n.subscribe{Log.d(TAG, \"$it\")}\n</code></pre>\n\n<p>It returns list:</p>\n\n<pre><code>[521934, 2342, FOXTROT]\n</code></pre>\n\n<p>But book (<em>Thomas Nield : Learning RxJava / 2017 / Page 114</em>) says it has to return separated strings </p>\n\n<pre><code>521934\n2342\nFOXTROT   \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eUNu9.png\" rel=\"nofollow noreferrer\">example from book</a></p>\n\n<p><a href=\"http://reactivex.io/documentation/operators/flatmap.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/operators/flatmap.html</a> says that it returns Single object. In my case I got Single List object. So, documentation says true. But I want to get result as in book example! </p>\n\n<p>How I can split the list and get separated objects?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506511360, "post_id": 46438529, "comment_id": 79848841, "body": "This question seems to be off-topic on SO as it is not directly related to programming."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8497476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MUF4l.png?s=128&g=1", "display_name": "Michelle Morry", "link": "https://stackoverflow.com/users/8497476/michelle-morry"}, "is_accepted": false, "score": 0, "last_activity_date": 1506482435, "creation_date": 1506482435, "answer_id": 46438956, "question_id": 46438529, "link": "https://stackoverflow.com/questions/46438529/is-it-necessary-to-know-kotlin-to-get-aadassociate-android-developer-certifica/46438956#46438956", "title": "Is it necessary to know kotlin to get AAD(Associate Android Developer) certification?", "body": "<p>Quick google could have sorted this out pretty easily. </p>\n\n<p>This page has all the info on the exam: \n<a href=\"https://developers.google.com/training/certification/associate-android-developer/#faqs\" rel=\"nofollow noreferrer\">https://developers.google.com/training/certification/associate-android-developer/#faqs</a>\\</p>\n\n<p>These are all the resources Google designed for preparing students for the AAD: \n<a href=\"https://developers.google.com/training/courses/android-fundamentals\" rel=\"nofollow noreferrer\">https://developers.google.com/training/courses/android-fundamentals</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8679993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9690e2afba273c423f977ebf495eddb3?s=128&d=identicon&r=PG&f=1", "display_name": "omkar shinde", "link": "https://stackoverflow.com/users/8679993/omkar-shinde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1506482435, "creation_date": 1506479109, "question_id": 46438529, "link": "https://stackoverflow.com/questions/46438529/is-it-necessary-to-know-kotlin-to-get-aadassociate-android-developer-certifica", "title": "Is it necessary to know kotlin to get AAD(Associate Android Developer) certification?", "body": "<p>Since google launched kotlin as official programming language for Android .\nSo is it easy to switch to kotlin ... Specially for beginners</p>\n"}, {"tags": ["java", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1506497958, "post_id": 46438212, "comment_id": 79840173, "body": "I don&#39;t why but Java does not have error when exposing private class on public interface. But if the class is written in Kotlin, you cannot compile."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1536133023, "post_id": 46438212, "comment_id": 91309198, "body": "This sounds like a bug in the kotlin compiler to me... you may want to open an issue at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}], "owner": {"reputation": 688, "user_id": 551570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/585900be8c3ddaf9425611baec58d388?s=128&d=identicon&r=PG", "display_name": "josmith42", "link": "https://stackoverflow.com/users/551570/josmith42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1535966172, "creation_date": 1506476623, "question_id": 46438212, "link": "https://stackoverflow.com/questions/46438212/kotlin-sam-conversion-with-private-inner-java-interface", "title": "Kotlin SAM conversion with private inner Java interface?", "body": "<p>Consider the following Java class:</p>\n\n<pre><code>package javapkg;\n\npublic class JavaClass {\n    private interface JavaInterface {\n        void foo();\n    }\n\n    public void bar(JavaInterface ji) {\n        ji.foo();\n    }\n}\n</code></pre>\n\n<p>Kotlin code that uses this class's inner interface with a SAM conversion (note that <code>KotlinClass</code> is in a different package):</p>\n\n<pre><code>package kotlinpkg\nimport javapkg.JavaClass\n\nclass KotlinClass {\n    fun f() {\n        val jc = JavaClass()\n        // Does not compile:\n        // \"Cannot access 'JavaInterface': it is private in 'JavaClass'\"\n        jc.bar(object : JavaClass.JavaInterface{\n            override fun foo() { }\n        })\n\n        // Compiles and runs fine on Android Nougat, but throws\n        // a NoClassDefFoundError exception on Kitkat\n        jc.bar { }\n    }\n}\n</code></pre>\n\n<p>Now, if you make the inner <code>JavaInterface</code> public, the Kotlin code (both the SAM conversion and the object expression) compiles and runs correctly on all platforms. The object expression fails to compile with the interface being private because <code>JavaClass</code> and <code>KotlinClass</code> are in separate packages, and I'm guessing the SAM conversion fails with a runtime exception for the same reason.</p>\n\n<p>My question: why does the SAM conversion successfully compile? It seems like it ought not to because the interface is private, and worse it causes a runtime exception in Kitkat. Also, the object expression does NOT compile. Is this a bug in the Kotlin compiler, or is this deliberate?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6353722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MBVOz.jpg?s=128&g=1", "display_name": "bruino", "link": "https://stackoverflow.com/users/6353722/bruino"}, "is_accepted": true, "score": 1, "last_activity_date": 1506525659, "last_edit_date": 1506525659, "creation_date": 1506520927, "answer_id": 46449916, "question_id": 46437087, "link": "https://stackoverflow.com/questions/46437087/android-anko-alert-with-custom-view-error-kotlin/46449916#46449916", "title": "Android Anko alert with custom view error (Kotlin)", "body": "<p>You should pick the second item that Android Studio suggests you -</p>\n\n<blockquote>\n  <p>'customView for AlertBuilder&lt;*> in org.jetbrains.anko'</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/o0SXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o0SXm.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 106, "user_id": 2421340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60406ea11187a0528c6d8e07232b2422?s=128&d=identicon&r=PG", "display_name": "Eduardo Sanchez G", "link": "https://stackoverflow.com/users/2421340/eduardo-sanchez-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 1, "accepted_answer_id": 46449916, "answer_count": 1, "score": 1, "last_activity_date": 1506525659, "creation_date": 1506467289, "question_id": 46437087, "link": "https://stackoverflow.com/questions/46437087/android-anko-alert-with-custom-view-error-kotlin", "title": "Android Anko alert with custom view error (Kotlin)", "body": "<p>I want to create an alert dialog with custom elements using anko.</p>\n\n<p>Every guide and tutorial I've found uses this method:</p>\n\n<pre><code>alert {\n    customView {\n        textView(\"Hello\")\n    }\n}.show()\n</code></pre>\n\n<p>But I get an error in <code>customView</code> saying: </p>\n\n<pre><code>Error:(73, 13) Type inference failed: Not enough information to infer parameter T in inline fun &lt;reified T : View&gt; Activity.customView(theme: Int = ..., init: T.() -&gt; Unit): T\nPlease specify it explicitly.\n</code></pre>\n\n<p>Has something changed in Anko and has not being documented?    </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1911, "user_id": 292465, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/12b3b7441247c744295996b1e9fb7344?s=128&d=identicon&r=PG", "display_name": "Dra\u0161ko", "link": "https://stackoverflow.com/users/292465/dra%c5%a1ko"}, "edited": false, "score": 1, "creation_date": 1506461879, "post_id": 46435992, "comment_id": 79829614, "body": "Yeah I missed it first too. But the <code>if&#47;else</code> thingy is actually more readable than using single characters as <code>:</code> and <code>?</code> in the ternary operator. The great thing is: <code>if</code> and <code>when</code> are expressions :)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 10, "last_activity_date": 1517517163, "last_edit_date": 1517517163, "creation_date": 1506460671, "answer_id": 46435992, "question_id": 46435967, "link": "https://stackoverflow.com/questions/46435967/why-ternary-operator-is-not-working-in-kotlin/46435992#46435992", "title": "Why ternary operator is not &quot;working&quot; in Kotlin?", "body": "<p>The answer is simple: There's <em>no ternary operator</em> in Kotlin. Your <code>if/else</code> from the first snippet is probably the best alternative as it's an <em>expression</em> in Kotlin (other than Java e.g.).</p>\n\n<pre><code>val cond: Boolean = true\nval visibility: Int = if (cond) 2 else 3\n</code></pre>\n\n<p>Also <code>when</code> can be used:</p>\n\n<pre><code>val cond: Boolean = ...\nval visibility: Int = when {\n    cond -&gt; 2\n    else -&gt; 3\n}\n</code></pre>\n\n<p>Or like this:</p>\n\n<pre><code>val visibility: Int = when (cond) {\n    true -&gt; 2\n    false -&gt; 3\n}\n</code></pre>\n\n<p>Many ways, but no ternary operator...</p>\n"}, {"tags": [], "owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "is_accepted": false, "score": 3, "last_activity_date": 1517430309, "last_edit_date": 1517430309, "creation_date": 1513595565, "answer_id": 47867281, "question_id": 46435967, "link": "https://stackoverflow.com/questions/46435967/why-ternary-operator-is-not-working-in-kotlin/47867281#47867281", "title": "Why ternary operator is not &quot;working&quot; in Kotlin?", "body": "<p>As <a href=\"https://stackoverflow.com/a/46435992/8073652\">@s1m0nw1</a> mentioned, there is no ternary operator. One great way which I found with extension function and <code>Boolean</code> is this:</p>\n\n<pre><code>infix fun &lt;T&gt; Boolean.then(param: T): T? = if (this) param else null\n</code></pre>\n\n<p>You can use this extension function as below:</p>\n\n<pre><code>setBackgroundColor(isHighPriority() then RED ?: WHITE)\n</code></pre>\n"}], "owner": {"reputation": 1911, "user_id": 292465, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/12b3b7441247c744295996b1e9fb7344?s=128&d=identicon&r=PG", "display_name": "Dra\u0161ko", "link": "https://stackoverflow.com/users/292465/dra%c5%a1ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2065, "favorite_count": 0, "accepted_answer_id": 46435992, "answer_count": 2, "score": 0, "last_activity_date": 1517517163, "creation_date": 1506460575, "question_id": 46435967, "link": "https://stackoverflow.com/questions/46435967/why-ternary-operator-is-not-working-in-kotlin", "title": "Why ternary operator is not &quot;working&quot; in Kotlin?", "body": "<p>I have following statement:</p>\n\n<pre><code>val visibility = if (itemView.img_playstore.visibility == View.VISIBLE)  View.GONE else View.VISIBLE\n</code></pre>\n\n<p>And another:</p>\n\n<pre><code>val visibility : Int = itemView.img_playstore.visibility == View.VISIBLE ?  View.GONE : View.VISIBLE\n</code></pre>\n\n<p>The first one is OK, but for the second one, I am getting the following message: <strong>Type mismatch. Required Int. Found Boolean.</strong></p>\n\n<p>What would be the reason for this?</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "dagger-2", "kotlin-interop"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506458743, "post_id": 46435424, "comment_id": 79828215, "body": "Had a similar issue using <code>@Binds</code> annotation with Kotlin - I had to change to return a concrete implementation with <code>@Provides</code> rather than an abstract method.  Would be good if someone can offer a solution."}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506489622, "post_id": 46435424, "comment_id": 79836220, "body": "Hello Mark, so you mean you remove all abstract methods and do @Provides instead ? Witch mean that the Map has to be build manually right ?"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506527882, "post_id": 46435424, "comment_id": 79860324, "body": "Find the answer for me, check it, hope it will work for you too"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506529359, "post_id": 46435424, "comment_id": 79861265, "body": "Mine was slightly different, my abstract method parameter was the interface implementing class, and the return type was the interface type - Although I might have had it backwards, so I&#39;ll check - cheers for the update with your solution."}], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "edited": false, "score": 6, "creation_date": 1514465239, "post_id": 46452324, "comment_id": 82983757, "body": "I had done this but it still failed. i had to annotate <code>Provider&lt;ViewModel&gt;&gt;</code> with  <code>@JvmSuppressWildcards</code> annotation for it to work. <code>class ViewModelFactory @Inject constructor(private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;) : ViewModelProvider.Factory {</code>"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "reply_to_user": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "edited": false, "score": 1, "creation_date": 1514977110, "post_id": 46452324, "comment_id": 83125598, "body": "You&#39;re right, @JvmSuppressWildcards is mandatory, I didn&#39;t put it in my answer because it was already present on my factory code of my question"}, {"owner": {"reputation": 710, "user_id": 4418990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcDkAknqj0s/AAAAAAAAAAI/AAAAAAAAACI/gD8qrN7ARR8/photo.jpg?sz=128", "display_name": "Vrushali Raut", "link": "https://stackoverflow.com/users/4418990/vrushali-raut"}, "edited": false, "score": 0, "creation_date": 1536598207, "post_id": 46452324, "comment_id": 91472150, "body": "Hey @jaumard I am getting the same error.. Tried the exact answer not able to solve still.. any other way?"}, {"owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "edited": false, "score": 0, "creation_date": 1536648522, "post_id": 46452324, "comment_id": 91487574, "body": "Hum not as I&#39;m aware of sorry, I guess lib have evolved since this so it might need more changes"}, {"owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "edited": false, "score": 0, "creation_date": 1538625593, "post_id": 46452324, "comment_id": 92210247, "body": "I tried removing @Singleton annotation and it worked."}, {"owner": {"reputation": 409, "user_id": 2414457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f4274a625de53384ed363bf3353695?s=128&d=identicon&r=PG", "display_name": "ExpensiveBelly", "link": "https://stackoverflow.com/users/2414457/expensivebelly"}, "edited": false, "score": 1, "creation_date": 1556359653, "post_id": 46452324, "comment_id": 98417652, "body": "In the end adding the <code>@JvmSuppressWildcards</code> wasn&#39;t enough, it was still failing for Kotlin v1.3.31  The solution is here: <a href=\"https://youtrack.jetbrains.com/issue/KT-30979\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-30979</a> just add <code>kapt { correctErrorTypes = true}</code> to your <code>app&#47;build.gradle</code> on top of <code>dependencies</code> section"}, {"owner": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "edited": false, "score": 0, "creation_date": 1558149377, "post_id": 46452324, "comment_id": 99015402, "body": "For others refrence this issue is solved in kotlin version 1.3.31 : <a href=\"https://github.com/JetBrains/kotlin/blob/1.3.30/ChangeLog.md\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/1.3.30/ChangeLog.md</a>"}], "tags": [], "owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "is_accepted": true, "score": 7, "last_activity_date": 1506527851, "creation_date": 1506527851, "answer_id": 46452324, "question_id": 46435424, "link": "https://stackoverflow.com/questions/46435424/kotlin-dagger-2-android-viewmodel-injection-error/46452324#46452324", "title": "Kotlin dagger 2 Android ViewModel injection error", "body": "<p>So ok I found the issue, the problem was under my ViewModelModule I need to return ViewModel from my abstract methods not directly the type I want. It will become like this then :</p>\n\n<pre><code>@Module\nabstract class ViewModelModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    internal abstract fun bindLoginViewModel(viewModel: LoginViewModel): ViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainMenuViewModel::class)\n    internal abstract fun bindSearchViewModel(viewModel: MainMenuViewModel): ViewModel\n\n    @Binds\n    internal abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n}\n</code></pre>\n"}], "owner": {"reputation": 7676, "user_id": 541867, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/baf87ea1c5e86343294c1d709bf3a202?s=128&d=identicon&r=PG", "display_name": "jaumard", "link": "https://stackoverflow.com/users/541867/jaumard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4557, "favorite_count": 3, "accepted_answer_id": 46452324, "answer_count": 1, "score": 3, "last_activity_date": 1506587395, "creation_date": 1506458368, "last_edit_date": 1506587395, "question_id": 46435424, "link": "https://stackoverflow.com/questions/46435424/kotlin-dagger-2-android-viewmodel-injection-error", "title": "Kotlin dagger 2 Android ViewModel injection error", "body": "<p>I'm trying to use dagger 2 on my Android application to inject the new ViewModel from arch android library. </p>\n\n<p>From what I see on this sample <a href=\"https://github.com/googlesamples/android-architecture-components/tree/e33782ba54ebe87f7e21e03542230695bc893818/GithubBrowserSample\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/tree/e33782ba54ebe87f7e21e03542230695bc893818/GithubBrowserSample</a> I need to use this: </p>\n\n<pre><code>@MustBeDocumented\n@Target(AnnotationTarget.FUNCTION, AnnotationTarget.CONSTRUCTOR, AnnotationTarget.PROPERTY_GETTER, AnnotationTarget.PROPERTY_SETTER)\n@Retention(AnnotationRetention.RUNTIME)\n@MapKey\ninternal annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n\n@Module\nabstract class ViewModelModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    internal abstract fun bindLoginViewModel(viewModel: LoginViewModel): LoginViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainMenuViewModel::class)\n    internal abstract fun bindSearchViewModel(viewModel: MainMenuViewModel): MainMenuViewModel\n\n    @Binds\n    internal abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n}\n\n@ApplicationScope\n@Component(modules = arrayOf(ApplicationModule::class, NetworkModule::class, ViewModelModule::class))\ninterface ApplicationComponent {\n    fun plusActivityComponent(activityModule: ActivityModule): ActivityComponent\n    fun inject(application: LISAApplication)\n\n}\n</code></pre>\n\n<p>And my factory is: </p>\n\n<pre><code>@ApplicationScope\nclass ViewModelFactory @Inject constructor(private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;) : ViewModelProvider.Factory {\n\n    @Suppress(\"UNCHECKED_CAST\")\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators[modelClass]\n        if (creator == null) {\n            for ((key, value) in creators) {\n                if (modelClass.isAssignableFrom(key)) {\n                    creator = value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class \" + modelClass)\n        }\n        try {\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n\n    }\n}\n</code></pre>\n\n<p>But the project doesn't compile :( I have this error (Map&lt;...> cannot be provided without an @Provides-annotated method.): </p>\n\n<pre><code>Using Kotlin incremental compilation\n:mobile:transformDataBindingWithDataBindingMergeArtifactsForDebug UP-TO-DATE\n:mobile:kaptDebugKotlin\ne: /Users/jaumard/LISAProjects/LISA/mobile/build/tmp/kapt3/stubs/debug/com/mylisabox/lisa/dagger/components/ApplicationComponent.java:6: error: [com.mylisabox.lisa.dagger.components.ActivityComponent.inject(com.mylisabox.lisa.common.BaseActivity)] java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; cannot be provided without an @Provides-annotated method.\ne: \n\ne: public abstract interface ApplicationComponent {\ne:                 ^\ne:       java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; is injected at\ne:           com.mylisabox.lisa.dagger.ViewModelFactory.&lt;init&gt;(creators)\ne:       com.mylisabox.lisa.dagger.ViewModelFactory is injected at\ne:           com.mylisabox.lisa.common.BaseActivity.factory\ne:       com.mylisabox.lisa.common.BaseActivity is injected at\ne:           com.mylisabox.lisa.dagger.components.ActivityComponent.inject(activity)\ne: /Users/jaumard/LISAProjects/LISA/mobile/build/tmp/kapt3/stubs/debug/com/mylisabox/lisa/dagger/components/ActivityComponent.java:4: error: com.mylisabox.lisa.dagger.components.ActivityComponent scoped with @com.mylisabox.network.dagger.annotations.ActivityScope may not reference bindings with different scopes:\ne: \n</code></pre>\n\n<p>Any idea on how fix this ? </p>\n"}, {"tags": ["java", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506456933, "post_id": 46434108, "comment_id": 79827342, "body": "Have you checked if an exception is thrown?  try/catch around <code>exec</code>"}, {"owner": {"reputation": 61, "user_id": 4145515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085541316f10da44687486cd8e6dd02?s=128&d=identicon&r=PG&f=1", "display_name": "Rowan Marshall", "link": "https://stackoverflow.com/users/4145515/rowan-marshall"}, "edited": false, "score": 0, "creation_date": 1506460380, "post_id": 46434108, "comment_id": 79828971, "body": "Just tried, not being thrown"}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1506505894, "post_id": 46434108, "comment_id": 79845219, "body": "In most environments, <code>clear</code> is a shell macro or alias for <code>echo &lt;some esc sequence&gt;</code> which can <i>not</i> get executed via <code>Runtime.getRuntime().exec(\u2026)</code> as <code>exec</code> only works for true executable binaries on the path. But, as said, that\u2019s system dependent. However, on all systems, <code>Runtime.getRuntime().exec(\u2026)</code> redirects the output to a pipe, so commands working by sending control characters to the standard output have no effect on the actual console. In other words, <code>Runtime.getRuntime().exec(&quot;clear&quot;)</code> is very unlikely to work."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4145515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085541316f10da44687486cd8e6dd02?s=128&d=identicon&r=PG&f=1", "display_name": "Rowan Marshall", "link": "https://stackoverflow.com/users/4145515/rowan-marshall"}, "is_accepted": false, "score": 3, "last_activity_date": 1506462665, "creation_date": 1506462665, "answer_id": 46436390, "question_id": 46434108, "link": "https://stackoverflow.com/questions/46434108/clearing-the-console-in-kotlin/46436390#46436390", "title": "Clearing the console in Kotlin", "body": "<p>You need to call <code>print(\"\\u001b[H\\u001b[2J\")</code>, using an escape sequence, at least on Linux.</p>\n"}], "owner": {"reputation": 61, "user_id": 4145515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085541316f10da44687486cd8e6dd02?s=128&d=identicon&r=PG&f=1", "display_name": "Rowan Marshall", "link": "https://stackoverflow.com/users/4145515/rowan-marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3496, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506462665, "creation_date": 1506453028, "last_edit_date": 1506453791, "question_id": 46434108, "link": "https://stackoverflow.com/questions/46434108/clearing-the-console-in-kotlin", "title": "Clearing the console in Kotlin", "body": "<p>When using the usual <code>Runtime.getRuntime().exec(\"clear\")</code> as you would in Java, nothing happens. However, if instead use <code>touch test.txt</code> a text file is indeed created. Is there a reason for this, and if so, are there any alternatives?</p>\n\n<p>Both work in Java in the same environment. </p>\n\n<p>EDIT: Missed brackets</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506444441, "post_id": 46431515, "comment_id": 79820950, "body": "Seems like there&#39;s some problem related to the file name containing whitespaces: <code>...rxjava\\wth\\WthRxPuzzler1$is there any difference 1?$inner$1.class</code>. Please report this at <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>."}, {"owner": {"reputation": 189, "user_id": 6334207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbwIo.jpg?s=128&g=1", "display_name": "Mortada", "link": "https://stackoverflow.com/users/6334207/mortada"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1506445520, "post_id": 46431515, "comment_id": 79821547, "body": "Please look at the class that raises the problem"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 6334207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbwIo.jpg?s=128&g=1", "display_name": "Mortada", "link": "https://stackoverflow.com/users/6334207/mortada"}, "is_accepted": true, "score": 0, "last_activity_date": 1506494321, "creation_date": 1506494321, "answer_id": 46441057, "question_id": 46431515, "link": "https://stackoverflow.com/questions/46431515/failed-to-build-kotlin-project-with-gradle/46441057#46441057", "title": "failed to build kotlin project with gradle", "body": "<p>This is a bug  only on Windows\n<a href=\"https://youtrack.jetbrains.com/issue/KT-17438\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17438</a></p>\n"}], "owner": {"reputation": 189, "user_id": 6334207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MbwIo.jpg?s=128&g=1", "display_name": "Mortada", "link": "https://stackoverflow.com/users/6334207/mortada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 46441057, "answer_count": 1, "score": 0, "last_activity_date": 1506494321, "creation_date": 1506443129, "last_edit_date": 1506453908, "question_id": 46431515, "link": "https://stackoverflow.com/questions/46431515/failed-to-build-kotlin-project-with-gradle", "title": "failed to build kotlin project with gradle", "body": "<p>When cloning this project <a href=\"https://github.com/artem-zinnatullin/droidcon-nyc-2017-puzzlers.git\" rel=\"nofollow noreferrer\">https://github.com/artem-zinnatullin/droidcon-nyc-2017-puzzlers.git</a></p>\n\n<p>The project failed to build and I got an error.\nIt seems like the problem in rxjava lib but i cannot find out.</p>\n\n<p>class MediumRxPuzzler2 {</p>\n\n<pre><code>// What will be printed and why?\n@Test\nfun puzzler() {\n    val observer = object : Observer&lt;Int&gt; {\n        override fun onSubscribe(d: Disposable) = Unit\n\n        override fun onNext(t: Int) {\n            println(\"onNext $t\")\n        }\n\n        override fun onComplete() {\n            println(\"onComplete\")\n        }\n\n        override fun onError(e: Throwable) {\n            println(\"onError $e\")\n        }\n    }\n\n    Observable.just(1).subscribe(observer)\n    Observable.just(2).subscribe(observer)\n}\n\n// What will be printed and why?\n@Test\nfun `same puzzler?`() {\n    val observer = object : DefaultObserver&lt;Int&gt;() {\n        override fun onNext(t: Int) {\n            println(\"onNext $t\")\n        }\n\n        override fun onComplete() {\n            println(\"onComplete\")\n        }\n\n        override fun onError(e: Throwable) {\n            println(\"onError $e\")\n        }\n    }\n\n    Observable.just(1).subscribe(observer)\n    Observable.just(2).subscribe(observer)\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>Error:Kotlin: [Internal Error] java.lang.IllegalStateException: java.io.FileNotFoundException: D:\\droidcon-nyc-2017-puzzlers\\puzzlers\\build\\classes\\java\\test\\com\\lyft\\droidconnyc2017\\puzzlers\\rxjava\\wth\\WthRxPuzzler1$is there any difference 1?$inner$1.class (The filename, directory name, or volume label syntax is incorrect)\n        at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:24)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:74)\n        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)\n        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)\n        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:442)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:153)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:154)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:103)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:380)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$1.invoke(CompileServiceImpl.kt:96)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:889)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:916)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:888)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:378)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: java.io.FileNotFoundException: D:\\droidcon-nyc-2017-puzzlers\\puzzlers\\build\\classes\\java\\test\\com\\lyft\\droidconnyc2017\\puzzlers\\rxjava\\wth\\WthRxPuzzler1$is there any difference 1?$inner$1.class (The filename, directory name, or volume label syntax is incorrect)\n        at java.io.FileOutputStream.open0(Native Method)\n        at java.io.FileOutputStream.open(FileOutputStream.java:270)\n        at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\n        at com.intellij.openapi.util.io.FileUtil.writeToFile(FileUtil.java:1282)\n        at com.intellij.openapi.util.io.FileUtil.writeToFile(FileUtil.java:1276)\n        at com.intellij.openapi.util.io.FileUtil.writeToFile(FileUtil.java:1261)\n        at org.jetbrains.kotlin.cli.common.output.outputUtils.OutputUtilsKt.writeAll(outputUtils.kt:32)\n        at org.jetbrains.kotlin.cli.common.output.outputUtils.OutputUtilsKt.writeAll(outputUtils.kt:42)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.writeOutput(KotlinToJVMBytecodeCompiler.kt:99)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.access$writeOutput(KotlinToJVMBytecodeCompiler.kt:68)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$createOutputFilesFlushingCallbackIfPossible$1.invoke(KotlinToJVMBytecodeCompiler.kt:108)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$createOutputFilesFlushingCallbackIfPossible$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n        at org.jetbrains.kotlin.codegen.state.GenerationStateKt$GenerationStateEventCallback$1.invoke(GenerationState.kt:250)\n        at org.jetbrains.kotlin.codegen.state.GenerationStateKt$GenerationStateEventCallback$1.invoke(GenerationState.kt:249)\n        at org.jetbrains.kotlin.codegen.state.GenerationState.afterIndependentPart(GenerationState.kt:206)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:67)\n        ... 35 more\n</code></pre>\n"}, {"tags": ["treeview", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 1731, "user_id": 780350, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/afaa8b1a1e2fe1b53755564e5fa34568?s=128&d=identicon&r=PG", "display_name": "melston", "link": "https://stackoverflow.com/users/780350/melston"}, "edited": false, "score": 0, "creation_date": 1506440435, "post_id": 46426488, "comment_id": 79818543, "body": "I never noticed the recommendation for using the star projection in the guide.  I gravitated to using a common interface for all my tree items."}], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 7, "last_activity_date": 1506440267, "creation_date": 1506440267, "answer_id": 46430641, "question_id": 46426488, "link": "https://stackoverflow.com/questions/46426488/how-to-display-data-using-tornadofx-treeview/46430641#46430641", "title": "How to display data using TornadoFX treeview", "body": "<p>It seems the guide is actually incorrect. I got it working using <code>treeview&lt;Any&gt;</code>:</p>\n\n<pre><code>data class Department(val name: String)\ndata class Person(val name: String, val department: String)\n\nval persons = listOf(\n        Person(\"Mary Hanes\", \"Marketing\"),\n        Person(\"Steve Folley\", \"Customer Service\"),\n        Person(\"John Ramsy\", \"IT Help Desk\"),\n        Person(\"Erlick Foyes\", \"Customer Service\"),\n        Person(\"Erin James\", \"Marketing\"),\n        Person(\"Jacob Mays\", \"IT Help Desk\"),\n        Person(\"Larry Cable\", \"Customer Service\")\n)\n\nval departments = persons.groupBy { Department(it.department) }\n\noverride val root = treeview&lt;Any&gt; {\n    root = TreeItem(\"Departments\")\n    cellFormat {\n        text = when (it) {\n            is String -&gt; it\n            is Department -&gt; it.name\n            is Person -&gt; it.name\n            else -&gt; kotlin.error(\"Invalid value type\")\n        }\n    }\n    populate { parent -&gt;\n        val value = parent.value\n        when {\n            parent == root -&gt; departments.keys\n            value is Department -&gt; departments[value]\n            else -&gt; null\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 8820628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef49660c778adbd39d68a96bef9de500?s=128&d=identicon&r=PG&f=1", "display_name": "Haggy", "link": "https://stackoverflow.com/users/8820628/haggy"}, "is_accepted": false, "score": 0, "last_activity_date": 1563348074, "creation_date": 1563348074, "answer_id": 57070548, "question_id": 46426488, "link": "https://stackoverflow.com/questions/46426488/how-to-display-data-using-tornadofx-treeview/57070548#57070548", "title": "How to display data using TornadoFX treeview", "body": "<p>I thought i want to quit tornadofx altogether when this post saved my day. In my case i wanted to display nested lists of a object. I didn't expect something like <code>else -&gt; null</code> would be necessary to prevent a stackoverlow. Somehow i ended up with this populate block which now works for me</p>\n\n<pre><code>populate { parent -&gt; val value = parent.value \nwhen\n{\n    parent == root -&gt; quotation.houses\n    value is NewHouse -&gt; value.rooms\n    else -&gt; null\n}}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6189846, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ca01afcb6c219adc23d1dc4a93cd17db?s=128&d=identicon&r=PG&f=1", "display_name": "James Green", "link": "https://stackoverflow.com/users/6189846/james-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 1, "accepted_answer_id": 46430641, "answer_count": 2, "score": 4, "last_activity_date": 1563348074, "creation_date": 1506428633, "question_id": 46426488, "link": "https://stackoverflow.com/questions/46426488/how-to-display-data-using-tornadofx-treeview", "title": "How to display data using TornadoFX treeview", "body": "<p>I am learning how to use kotlin and have started using tornadoFX. I am going through the guide in an attempt to learn it, however I cannot figure out what is meant in the 'TreeView with Differing Types'. It seems to say that I should use star projection, which as I know it when you use a * in the call.</p>\n\n<p>However as soon as I do that, the treeview says that 'Projections are not allowed on type arguments of functions and properties' </p>\n\n<p>This is my code:</p>\n\n<p>class MainView : View(\"\") {</p>\n\n<pre><code>override val root = treeview&lt;*&gt; {\n        root = TreeItem(Person(\"Departments\", \"\"))\n\n        cellFormat {\n            text = when (it) {\n                is String -&gt; it\n                is Department -&gt; it.name\n                is Person -&gt; it.name\n                else -&gt; throw IllegalArgumentException(\"Invalid Data Type\")\n            }\n        }\n\n        populate { parent -&gt;\n            val value = parent.value\n            if (parent == root) departments\n            else if (value is Department) persons.filter { it.department == value.name }\n            else null\n        } }\n\n}\n</code></pre>\n\n<p>I'm honestly stumped, I don't know what I am meant to be doing.</p>\n\n<p>Also if anyone else could provide me with some useful links for learning both Kotlin and tornadoFX it would be much appreciated :)</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1506447017, "creation_date": 1506447017, "answer_id": 46432557, "question_id": 46426352, "link": "https://stackoverflow.com/questions/46426352/my-recyclerview-isnt-notified-appropriately/46432557#46432557", "title": "My RecyclerView isn&#39;t notified appropriately", "body": "<p>I reommend you to store the data for your adapter inside your adapter. If you'r using AAC you should also check the sample of the GithubBrowser. Here's a little (non tested) sample. </p>\n\n<p><strong>Warning</strong>: You should not use context operations inside your RecyclerView because you may get leaks.</p>\n\n<p>BaseAdapter (all the adapters extend this adapter which has a DiffUtil)</p>\n\n<pre><code>abstract class DataBoundListAdapter&lt;T, V : ViewDataBinding&gt; : RecyclerView.Adapter&lt;DataBoundViewHolder&lt;V&gt;&gt;() {\n\n    val log = AnkoLogger(javaClass.simpleName)\n\n    private var items: List&lt;T&gt;? = null\n\n    private var dataVersion = 0\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DataBoundViewHolder&lt;V&gt; {\n        val binding = createBinding(parent)\n        return DataBoundViewHolder(binding)\n    }\n\n    protected abstract fun createBinding(parent: ViewGroup): V\n\n    override fun onBindViewHolder(holder: DataBoundViewHolder&lt;V&gt;, position: Int) {\n        bind(holder.binding, items!![position])\n        holder.binding.executePendingBindings()\n    }\n\n\n    @SuppressLint(\"StaticFieldLeak\")\n    @MainThread\n    fun replace(update: List&lt;T&gt;?) {\n        dataVersion++\n        if (items == null) {\n            if (update == null) {\n                return\n            }\n            items = update\n            notifyDataSetChanged()\n        } else if (update == null) {\n            val oldSize = items!!.size\n            items = null\n            notifyItemRangeRemoved(0, oldSize)\n        } else {\n            val startVersion = dataVersion\n            val oldItems = items\n            object : AsyncTask&lt;Void, Void, DiffUtil.DiffResult&gt;() {\n                override fun doInBackground(vararg voids: Void): DiffUtil.DiffResult {\n                    return DiffUtil.calculateDiff(object : DiffUtil.Callback() {\n                        override fun getOldListSize(): Int {\n                            return oldItems!!.size\n                        }\n\n                        override fun getNewListSize(): Int {\n                            return update.size\n                        }\n\n                        override fun areItemsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n                            val oldItem = oldItems!![oldItemPosition]\n                            val newItem = update[newItemPosition]\n                            return this@DataBoundListAdapter.areItemsTheSame(oldItem, newItem)\n                        }\n\n                        override fun areContentsTheSame(oldItemPosition: Int, newItemPosition: Int): Boolean {\n                            val oldItem = oldItems!![oldItemPosition]\n                            val newItem = update[newItemPosition]\n                            return this@DataBoundListAdapter.areContentsTheSame(oldItem, newItem)\n                        }\n                    })\n                }\n\n                override fun onPostExecute(diffResult: DiffUtil.DiffResult) {\n                    if (startVersion != dataVersion) {\n                        // ignore update\n                        return\n                    }\n                    items = update\n                    diffResult.dispatchUpdatesTo(this@DataBoundListAdapter)\n\n                }\n            }.execute()\n        }\n    }\n\n    protected abstract fun bind(binding: V, item: T)\n\n    protected abstract fun areItemsTheSame(oldItem: T, newItem: T): Boolean\n\n    protected abstract fun areContentsTheSame(oldItem: T, newItem: T): Boolean\n\n    override fun getItemCount(): Int {\n        return if (items == null) 0 else items!!.size\n    }\n\n\n}\n</code></pre>\n\n<p>Here's a sample adapter. You may want to use Databinding if you using AAC. I recommend that in your case! Take care that context operations shouldnt be in the RecyclerView since you may get a leak.</p>\n\n<pre><code>class RecipeAdapter(private val dataBindingComponent: DataBindingComponent,\n                    private val yourVm: ViewModel, private val context: Context) : DataBoundListAdapter&lt;Recipe, RecipeRecRowBinding&gt;() {\n\n\n   override fun createBinding(parent: ViewGroup): RecipeRecRowBinding {\n        val binding = DataBindingUtil.inflate&lt;RecipeRecRowBinding&gt;(LayoutInflater.from(parent.context), R.layout.recipe_rec_row, parent, false, dataBindingComponent)\n        return binding\n    }\n\n    override fun bind(binding: RecipeRecRowBinding, recipe: Recipe) {\n        binding.model = recipe\n        binding.viewModel = yourVm\n\n\n        binding.itemView.textView7.text = recipe.title\n        binding.itemView.textView9.text = recipe.ingredients\n        binding.itemView.button6.setOnClickListener() {\n\n            if(!recipe.link.trim().isEmpty())\n//ohoh, you shouldnt call something on your activity within your adapter \n                context.startActivity&lt;ShowLinkAct&gt;(\"url\" to recipe.link)\n            else\n//ohoh, you shouldnt call something on your activity within your adapter \n                context.toast(\"No link available\")\n\n        }\n\n        if (!recipe.thumbnail.isEmpty()) {\n\n            Picasso.with(context)\n                    .load(recipe.thumbnail)\n                    .placeholder(android.R.drawable.ic_menu_report_image)\n                    .error(android.R.drawable.ic_menu_report_image)\n                    .into(itemView.imageView)\n\n        } else {\n            Picasso.with(context).load(android.R.drawable.ic_menu_report_image).into(itemView.imageView)\n        }\n\n    }\n\n\n    override fun areItemsTheSame(oldItem: Recipe, newItem: Recipe) = oldItem.id == newItem.id\n\n\n    override fun areContentsTheSame(oldItem: Recipe, newItem: Recipe) = oldItem.equals(newItem)\n\n\n}\n</code></pre>\n\n<p>Finally your subscriber which push the data to your adapter and take care about changes (DiffUtil)</p>\n\n<pre><code>fun subscribe() {\n    val observer = Observer&lt;Recipe&gt; { \n\n        if (it!= null) {\n// it cant be null since you validate it here\n            Log.d(\"mike\", \"subscribe ${it.title} \")\n            adapter.replace(it)\n\n        }\n    }\n\n    viewModel?.mRecipe?.observe(this, observer)\n  }\n</code></pre>\n"}], "owner": {"reputation": 3578, "user_id": 1514105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e994f51e51b026726c3ed7e0d050536?s=128&d=identicon&r=PG", "display_name": "Libathos", "link": "https://stackoverflow.com/users/1514105/libathos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506447017, "creation_date": 1506428278, "last_edit_date": 1506445965, "question_id": 46426352, "link": "https://stackoverflow.com/questions/46426352/my-recyclerview-isnt-notified-appropriately", "title": "My RecyclerView isn&#39;t notified appropriately", "body": "<p>I have a <em>RecyclerView</em> activity and a <em>ViewModel</em> class. The activity calls a method in ViewModel which consumes a web-service, and it also observes a LiveData field. Every time the method gets back an an item from the web-service it sets it to the LiveData and so the observer in the Activity is notified and thus all items enter the RecyclerView. It is guaranteed that this flow works correctly as I can see so in the logs, and in the UI too. </p>\n\n<p>The problem arises when I put a delay with <em>Thread.slepp(500)</em>  in the method where the web-service is consumed.</p>\n\n<p>Instead of putting an item in the RecyclerView then wait for 500millis and then put another, it waits 500 millis * numberOfItems and then draws them all together. </p>\n\n<p>I can assure that there is no problem with the ViewModel and LiveData setup because the log works as intended meaning, it print the title of the item created, waits 500 millis, prints the next one. So the problem lies only with the adapter and how it's notified only after the method call is complete. </p>\n\n<p><strong>My question is how can I notify the adapter every-time the observer is called?</strong></p>\n\n<p>here is my implementation of the three classes:</p>\n\n<p><strong>RecipeList</strong></p>\n\n<pre><code>class RecipeList : LifecycleActivity() {\n\nvar recipeList: MutableList&lt;Recipe&gt; = mutableListOf()\nvar adapter: RecipeAdapter? = null\nvar viewModel: RecipeViewModel? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_recipe_list)\n\n    val ingredients = intent.getStringExtra(\"ingredients\")\n    val term = intent.getStringExtra(\"term\")\n\n\n    viewModel = ViewModelProviders.of(this).get(RecipeViewModel::class.java)\n\n\n    val url = \"http://www.recipepuppy.com/api/?i=${ingredients}onions,garlic&amp;q=${term}\"\n\n\n    val layoutManager = LinearLayoutManager(this)\n    adapter = RecipeAdapter(this, recipeList)\n\n    rec_recycler_id.layoutManager = layoutManager\n    rec_recycler_id.adapter = adapter\n\n\n\n    subscribe()\n\n\n    viewModel?.getRecipe(url)\n\n\n}\n\nfun subscribe() {\n\n    val observer = Observer&lt;Recipe&gt; { recipe -&gt;\n\n\n        if (recipe != null) {\n\n            Log.d(\"mike\", \"subscribe ${recipe?.title} \")\n\n\n            recipeList.add(recipe)\n            adapter?.notifyDataSetChanged()\n\n\n        }\n\n    }\n\n    viewModel?.mRecipe?.observe(this, observer)\n\n  }\n\n\n}\n</code></pre>\n\n<p><strong>RecipeViewModel</strong></p>\n\n<pre><code>class RecipeViewModel(application: Application): AndroidViewModel(application) {\n\nvar recipes: MutableLiveData&lt;MutableList&lt;Recipe&gt;&gt;? =  MutableLiveData&lt;MutableList&lt;Recipe&gt;&gt;()\nvar mRecipe: MutableLiveData&lt;Recipe&gt; = MutableLiveData()\n\n\n\n\n\nfun getRecipe(url:String){\n\n    val requestQueue = Volley.newRequestQueue(this.getApplication())\n\n\n    val recipeRequest = JsonObjectRequest(Request.Method.GET,url,\n            Response.Listener {\n                response: JSONObject -&gt;\n                try {\n\n                    val results = response.getJSONArray(\"results\")\n\n                    for( i in 0..results.length()-1){\n                        var recipeObj = results.getJSONObject(i)\n\n                        var title = recipeObj.getString(\"title\")\n                        var link = recipeObj.getString(\"href\")\n                        var thumbnail = recipeObj.getString(\"thumbnail\")\n                        var ingredients = recipeObj.getString(\"ingredients\")\n\n                        var recipe = Recipe(title,ingredients,thumbnail,link)\n\n\n                        mRecipe.value = recipe\n                        Log.d(\"mike\",title)\n\n                        Thread.sleep(200)\n\n                    }\n\n\n                }catch (e: JSONException){\n                    e.printStackTrace()\n                }\n            },\n            Response.ErrorListener {\n                error: VolleyError? -&gt;\n                try{\n                    Log.d(\"error\",error.toString())\n\n                }catch (e: JSONException){\n                    e.printStackTrace()\n                }\n            })\n\n\n    requestQueue?.add(recipeRequest)\n\n}\n</code></pre>\n\n<p>and the <strong>RecipeAdapter</strong></p>\n\n<pre><code>class RecipeAdapter(val context: Context, var recipes: MutableList&lt;Recipe&gt;) : RecyclerView.Adapter&lt;RecipeAdapter.ViewHolder&gt;() {\n\noverride fun getItemCount(): Int = recipes.size\n\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n\n    val view = LayoutInflater.from(context).inflate(R.layout.recipe_rec_row, null)\n\n    return ViewHolder(view)\n\n\n}\n\noverride fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    holder?.bindViews(recipes[position])\n}\n\n\ninner class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n\n    fun bindViews(recipe: Recipe) {\n\n        itemView.textView7.text = recipe.title\n        itemView.textView9.text = recipe.ingredients\n        itemView.button6.setOnClickListener() {\n\n            if(!recipe.link.trim().isEmpty())\n                context.startActivity&lt;ShowLinkAct&gt;(\"url\" to recipe.link)\n            else\n                context.toast(\"No link available\")\n\n        }\n\n        if (!recipe.thumbnail.isEmpty()) {\n\n            Picasso.with(context)\n                    .load(recipe.thumbnail)\n                    .placeholder(android.R.drawable.ic_menu_report_image)\n                    .error(android.R.drawable.ic_menu_report_image)\n                    .into(itemView.imageView)\n\n        } else {\n            Picasso.with(context).load(android.R.drawable.ic_menu_report_image).into(itemView.imageView)\n        }\n\n\n    }\n\n}\n}\n</code></pre>\n\n<p>I am looking forward for your suggestions, Thank you in advance</p>\n"}, {"tags": ["spring", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "edited": false, "score": 1, "creation_date": 1506684310, "post_id": 46426161, "comment_id": 79929959, "body": "An explanation what the downvote is for would be highly appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1506429289, "last_edit_date": 1506429289, "creation_date": 1506428170, "answer_id": 46426304, "question_id": 46426161, "link": "https://stackoverflow.com/questions/46426161/spring-framework-swallows-exception-of-custom-converters/46426304#46426304", "title": "Spring Framework swallows exception of custom converters", "body": "<p>After some more trial and error, I have found a solution:</p>\n\n<p>Instead of using <code>@ControllerAdvice</code>, implementing a BaseController that others inherit from and adding the exception handlers there works.</p>\n\n<p>So my Base controller looks like this:</p>\n\n<pre><code>abstract class ApiBaseController{\n\n    @ExceptionHandler(Exception::class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ResponseBody\n    fun handleException(ex: Exception): ApiError {\n        return ApiError(ex.message)\n    }\n\n}\n</code></pre>\n\n<p>If anyone can elaborate on why it works like this and not the other way, please do so and I will mark your answer as accepted.</p>\n"}, {"comments": [{"owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "edited": false, "score": 0, "creation_date": 1510779453, "post_id": 46909628, "comment_id": 81585188, "body": "Thanks! Extending ResponseEntityExceptionHandler was also the issue for me. Removing it solved the problem."}, {"owner": {"reputation": 2086, "user_id": 374037, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9078249e281ec2f5f880fdf1f84b2b9?s=128&d=identicon&r=PG", "display_name": "Marcin \u015awierczy\u0144ski", "link": "https://stackoverflow.com/users/374037/marcin-%c5%9awierczy%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1570541092, "post_id": 46909628, "comment_id": 102939270, "body": "I think it&#39;s worth mentioning it translates all exceptions to the HTTP code of 500, which is something one not always wants."}], "tags": [], "owner": {"reputation": 362, "user_id": 8752286, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZwXcDXFNCfU/AAAAAAAAAAI/AAAAAAAAAOI/ZlzhprUo8MM/photo.jpg?sz=128", "display_name": "Georg Moser", "link": "https://stackoverflow.com/users/8752286/georg-moser"}, "is_accepted": true, "score": 1, "last_activity_date": 1508845252, "creation_date": 1508845252, "answer_id": 46909628, "question_id": 46426161, "link": "https://stackoverflow.com/questions/46426161/spring-framework-swallows-exception-of-custom-converters/46909628#46909628", "title": "Spring Framework swallows exception of custom converters", "body": "<p>I had the same problem. Spring swallowed any <code>IllegalArgumentException</code> (<code>ConversionFailedException</code> in my case).</p>\n\n<p>To get the behavior i was looking for; i.e. only handling the listed exceptions and using default behavior for the other ones, you must not extend the <code>ResponseEntityExceptionHandler</code>.</p>\n\n<p>Example: </p>\n\n<pre><code>@ControllerAdvice\npublic class RestResponseEntityExceptionHandler{\n\n    @ExceptionHandler(value = {NotFoundException.class})\n    public ResponseEntity&lt;Object&gt; handleNotFound(NotFoundException e, WebRequest request){\n        return new ResponseEntity&lt;&gt;(e.getMessage(), new HttpHeaders(), HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 374037, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9078249e281ec2f5f880fdf1f84b2b9?s=128&d=identicon&r=PG", "display_name": "Marcin \u015awierczy\u0144ski", "link": "https://stackoverflow.com/users/374037/marcin-%c5%9awierczy%c5%84ski"}, "is_accepted": false, "score": 0, "last_activity_date": 1570541036, "creation_date": 1570541036, "answer_id": 58287283, "question_id": 46426161, "link": "https://stackoverflow.com/questions/46426161/spring-framework-swallows-exception-of-custom-converters/58287283#58287283", "title": "Spring Framework swallows exception of custom converters", "body": "<p>I checked the solution from @georg-moser. At first, it looks good, but it looks it contains another issue. It translates <strong>all exceptions to the HTTP code of 500</strong>, which is something one not always wants.</p>\n\n<p>Instead, I decided to overwrite the <code>handleExceptionInternal</code> method from the <code>ResponseEntityExceptionHandler</code>.</p>\n\n<p>In my case logging the error was enough, so I ended up with the following:</p>\n\n<pre><code>@Override\n@NonNull\nprotected ResponseEntity&lt;Object&gt; handleExceptionInternal(@Nonnull final Exception e,\n                                                         final Object body,\n                                                         final HttpHeaders headers,\n                                                         final HttpStatus status,\n                                                         @Nonnull final WebRequest request) {\n    final ResponseEntity&lt;Object&gt; responseEntity = super.handleExceptionInternal(e, body, headers, status, request);\n    logGenericException(e);\n    return responseEntity;\n}\n</code></pre>\n\n<p>I hope it helps!</p>\n"}], "owner": {"reputation": 888, "user_id": 1064622, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/SfDuC.jpg?s=128&g=1", "display_name": "Pasukaru", "link": "https://stackoverflow.com/users/1064622/pasukaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 46909628, "answer_count": 3, "score": 1, "last_activity_date": 1570541036, "creation_date": 1506427784, "last_edit_date": 1510779944, "question_id": 46426161, "link": "https://stackoverflow.com/questions/46426161/spring-framework-swallows-exception-of-custom-converters", "title": "Spring Framework swallows exception of custom converters", "body": "<p>I'm facing an issue with Spring (and kotlin?), where my global error handlers do not catch any exceptions thrown within a custom converter.</p>\n\n<p>I know spring supports string->UUID mapping by default, but I wanted to explicitly check if an exception is actually thrown. Which it is the following converter. The behaviour is the same with and without my own implementation of the converter.</p>\n\n<p>My WebMvcConfuguration looks as follows:</p>\n\n<pre><code>@Configuration\nclass WebMvcConfiguration : WebMvcConfigurerAdapter() {\n\n    override fun addFormatters(registry: FormatterRegistry) {\n        super.addFormatters(registry)\n        registry.addConverter(Converter&lt;String, UUID&gt; { str -&gt;\n            try {\n                UUID.fromString(str)\n            } catch(e: IllegalArgumentException){\n\n\n         throw RuntimeException(e)\n        }\n    })\n}\n</code></pre>\n\n<p>And this is my GlobalExceptionHandler:\n(it also contains other handlers, which I ommitted for brevity)</p>\n\n<pre><code>@ControllerAdvice\nclass GlobalExceptionHandler : ResponseEntityExceptionHandler() {\n\n    @ExceptionHandler(Exception::class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ResponseBody\n    fun handleException(ex: Exception): ApiError {\n        logger.info(ex.message, ex)\n        return ApiError(ex.message)\n    }\n}\n</code></pre>\n\n<p>And finally, the controller:</p>\n\n<pre><code>@Controller\nclass MyController : ApiBaseController() {\n    @GetMapping(\"/something/{id}\")\n    fun getSomething(@PathVariable(\"id\") id: UUID) {\n        throw NotImplementedError()\n    }\n}\n</code></pre>\n\n<p>Exceptions inside controller (for example the NotImplementedError) methods are caught just fine. But the IllegalArgumentException thrown within the converter when invalid UUIDs are passed is swallowed, and spring returns an empty 400 response.</p>\n\n<p>My question now is: How do I catch these errors and respond with a custom error message?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "classnotfoundexception", "android-multidex"], "comments": [{"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 0, "creation_date": 1506453484, "post_id": 46423363, "comment_id": 79825658, "body": "Need more info. Such as for which class <code>ClassNotFoundException</code> is occurring?"}, {"owner": {"reputation": 192, "user_id": 4940147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BbfwvM59bQ/AAAAAAAAAAI/AAAAAAAAAZQ/a3ncMqFRxmw/photo.jpg?sz=128", "display_name": "guni", "link": "https://stackoverflow.com/users/4940147/guni"}, "reply_to_user": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 0, "creation_date": 1506456714, "post_id": 46423363, "comment_id": 79827239, "body": "Any class converted to Kotlin. The crash happens the first time when such a class referenced. For example when I convert  my SplashActivity then the application is&#39;t even able to start."}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 4940147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BbfwvM59bQ/AAAAAAAAAAI/AAAAAAAAAZQ/a3ncMqFRxmw/photo.jpg?sz=128", "display_name": "guni", "link": "https://stackoverflow.com/users/4940147/guni"}, "edited": false, "score": 0, "creation_date": 1506498681, "post_id": 46423438, "comment_id": 79840588, "body": "Nice observation, but it doesn&#39;t not compile. I&#39;ve tried with org.jetbrains.kotlin:kotlin-stdlib but the result is the same than with jre7."}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 0, "last_activity_date": 1516341591, "last_edit_date": 1516341591, "creation_date": 1506420254, "answer_id": 46423438, "question_id": 46423363, "link": "https://stackoverflow.com/questions/46423363/classnotfoundexception-when-referencing-kotlin-classes/46423438#46423438", "title": "ClassNotFoundException when referencing Kotlin classes", "body": "<p>If you are using Java 8 then you should also use Kotlin jre8.</p>\n\n<pre><code> compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 4940147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BbfwvM59bQ/AAAAAAAAAAI/AAAAAAAAAZQ/a3ncMqFRxmw/photo.jpg?sz=128", "display_name": "guni", "link": "https://stackoverflow.com/users/4940147/guni"}, "is_accepted": true, "score": 0, "last_activity_date": 1508015795, "creation_date": 1508015795, "answer_id": 46749425, "question_id": 46423363, "link": "https://stackoverflow.com/questions/46423363/classnotfoundexception-when-referencing-kotlin-classes/46749425#46749425", "title": "ClassNotFoundException when referencing Kotlin classes", "body": "<p>Finally I was able to solve the issue! The exception was caused by a RetroLambda bug and thankfully disappeared after I updated to 3.7.0. The build was nondeterministic because it seems gradle clean doesn't delete everything. After I manually deleted the build folder both in the app and root module, the results became deterministic.</p>\n"}], "owner": {"reputation": 192, "user_id": 4940147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8BbfwvM59bQ/AAAAAAAAAAI/AAAAAAAAAZQ/a3ncMqFRxmw/photo.jpg?sz=128", "display_name": "guni", "link": "https://stackoverflow.com/users/4940147/guni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 46749425, "answer_count": 2, "score": -1, "last_activity_date": 1516341591, "creation_date": 1506420014, "question_id": 46423363, "link": "https://stackoverflow.com/questions/46423363/classnotfoundexception-when-referencing-kotlin-classes", "title": "ClassNotFoundException when referencing Kotlin classes", "body": "<p>I try to start migrating a Java based multidexed project to Kotlin but I get ClassNotFoundException whenever the app tries to reference a Kotlin class. The weird thing is that the same code sometimes works sometimes it doesn't. There are computers which produce working apk and others don't. Sometimes a rebuild is enough to solve the problem. </p>\n\n<p>I've tried to google it but I've only found <a href=\"https://discuss.kotlinlang.org/t/very-annoying-crash-java-lang-noclassdeffounderror-failed-resolution-of-kotlinobject/1893\" rel=\"nofollow noreferrer\">this</a> thread, but there is no resolution. Does this thing work properly for everyone else or aren't there any multidexed Kotlin project yet?</p>\n\n<p>I've tried with AS 2.3.3 and AS 3.0.0-beta6, 2.3.3 android plugun,  kotoin version 1.1.50, <strong>without proguard</strong>.</p>\n\n<pre><code>buildscript {\n\n    ext.kotlin_version = '1.1.50'\n    ext.android_plugin_version = '2.3.3'\n    ext.support_lib_version = '25.3.1'\n    ext.play_services_version = '11.0.4'\n\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n        classpath 'me.tatarka:gradle-retrolambda:3.2.5'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath 'com.google.firebase:firebase-plugins:1.1.1'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n}\n\n\n\napply plugin: \"com.android.application\"\napply plugin: \"me.tatarka.retrolambda\"\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: \"com.google.firebase.firebase-perf\"\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven {\n        url \"https://jitpack.io\"\n    }\n}\n\nandroid {\n    signingConfigs {\n        debug {\n            ...\n        }\n    }\n\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n    defaultConfig {\n        applicationId \"com.my.app\"\n        signingConfig signingConfigs.debug\n        minSdkVersion 14\n        targetSdkVersion 25\n        versionCode 13\n        versionName \"2.0.1.b8face5\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n        testInstrumentationRunner \"com.my.app.TestRunner\"\n\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    //this is because instabug uses rxjava 1 and now we have both 1 and 2 on the classpath\n    packagingOptions {\n        exclude \"META-INF/rxjava.properties\"\n    }\n\n\n    buildTypes {\n        debug {\n            applicationIdSuffix \".debug\"\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        release {\n\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(include: \"*.jar\", dir: \"libs\")\n    // Force usage of support annotations in the test app, since it is internally used by the runner module.\n    androidTestCompile(\"com.android.support.test.espresso:espresso-core:2.2.1\") {\n        exclude module: \"support-annotations\"\n    }\n    androidTestCompile(\"com.android.support.test.espresso:espresso-contrib:2.2.1\") {\n        // Necessary to avoid version conflicts\n        exclude group: \"com.android.support\", module: \"appcompat\"\n        exclude group: \"com.android.support\", module: \"support-v4\"\n        exclude group: \"com.android.support\", module: \"support-annotations\"\n        exclude module: \"recyclerview-v7\"\n    }\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"com.android.support:appcompat-v7:$support_lib_version\"\n    compile \"com.android.support:recyclerview-v7:$support_lib_version\"\n    compile \"com.android.support:design:$support_lib_version\"\n    compile \"com.android.support:cardview-v7:$support_lib_version\"\n    compile \"com.google.android.gms:play-services-auth:$play_services_version\"\n    compile \"com.google.android.gms:play-services-identity:$play_services_version\"\n    compile \"com.google.android.gms:play-services-location:$play_services_version\"\n    compile \"com.google.android.gms:play-services-maps:$play_services_version\"\n    compile \"com.google.firebase:firebase-core:$play_services_version\"\n    compile \"com.google.firebase:firebase-crash:$play_services_version\"\n    compile \"com.google.firebase:firebase-perf:$play_services_version\"\n\n    compile \"com.google.code.gson:gson:2.8.1\"\n    compile \"com.google.maps.android:android-maps-utils:0.4\"\n    compile \"com.squareup.retrofit2:retrofit:2.3.0\"\n    compile \"com.squareup.retrofit2:converter-gson:2.3.0\"\n    compile \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\n    compile \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n    compile \"io.reactivex.rxjava2:rxjava:2.1.3\"\n    compile \"com.squareup.okhttp3:okhttp-urlconnection:3.8.1\"\n    compile \"com.facebook.stetho:stetho:1.5.0\"\n    compile \"com.facebook.stetho:stetho-okhttp3:1.5.0\"\n    compile \"com.squareup.picasso:picasso:2.5.2\"\n    compile \"com.jakewharton:butterknife:8.2.1\"\n    compile \"com.annimon:stream:1.1.8\"\n    compile \"com.github.lawloretienne:quickreturn:0.0.1\"\n    compile \"com.github.chrisbanes:PhotoView:1.2.6\"\n    compile \"fr.baloomba:viewpagerindicator:2.4.2\"\n    compile \"com.github.bluejamesbond:textjustify-android:2.1.6\"\n    compile \"com.turingtechnologies.materialscrollbar:lib:10.1.4\"\n    compile \"com.github.PhilJay:MPAndroidChart:v3.0.1\"\n    compile \"com.android.support:multidex:1.0.1\"\n    compile \"com.bugsnag:bugsnag-android:3.9.0\"\n    //TODO check periodically whether they upgraded to rxjava 2\n    compile \"com.instabug.library:instabug:4.2.11\"\n\n    testCompile \"junit:junit:4.12\"\n    androidTestCompile \"com.android.support:support-annotations:$support_lib_version\"\n    androidTestCompile \"com.android.support.test:runner:0.5\"\n    androidTestCompile \"com.android.support.test:rules:0.5\"\n    annotationProcessor \"com.jakewharton:butterknife-compiler:8.2.1\"\n    compile \"com.google.dagger:dagger:2.5\"\n    annotationProcessor \"com.google.dagger:dagger-compiler:2.5\"\n    provided \"javax.annotation:jsr250-api:1.0\"\n}\n\n\napply plugin: \"com.google.gms.google-services\"\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 27685, "user_id": 610979, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ku5ga.png?s=128&g=1", "display_name": "Frank Schmitt", "link": "https://stackoverflow.com/users/610979/frank-schmitt"}, "edited": false, "score": 0, "creation_date": 1506423192, "post_id": 46422969, "comment_id": 79806032, "body": "I&#39;m not sure I 100% understand your question - did you expect <code>val minI: Int = -2147483648</code> to raise an error, as well?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1506426842, "post_id": 46422969, "comment_id": 79808527, "body": "Note: in kotlin-stdlib, this constant is defined as <code>public const val MIN_VALUE: Long = -9223372036854775807L - 1L</code> (you can navigate to declaration of <code>Long.MIN_VALUE</code>)."}, {"owner": {"reputation": 39, "user_id": 8113580, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XK6Z-7biy2k/AAAAAAAAAAI/AAAAAAAAAEA/NJSEvVrTqHw/photo.jpg?sz=128", "display_name": "Yue Ming ", "link": "https://stackoverflow.com/users/8113580/yue-ming"}, "edited": false, "score": 0, "creation_date": 1506477288, "post_id": 46422969, "comment_id": 79833251, "body": "Yeah.I expect <code>val minI: Int = -2147483648</code> to raise an error.Thank you for  your answer,I had read the Long&#39;s constant ,and it&#39;s exactly what you said. Now, I know <code>val val minT: Long = (-9223372036854775807L - 1L)</code> is work, but it looks so strange."}], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1506530698, "creation_date": 1506530698, "answer_id": 46453169, "question_id": 46422969, "link": "https://stackoverflow.com/questions/46422969/why-kotlin-wrong-val-mint-long-9223372036854775808l-long-min-value/46453169#46453169", "title": "Why kotlin wrong: val minT: Long = -9223372036854775808L //Long.MIN_VALUE", "body": "<p>I believe they bound like that value may need to fall within -9223372036854775808 to 9223372036854775808 because of Long.</p>\n"}], "owner": {"reputation": 39, "user_id": 8113580, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XK6Z-7biy2k/AAAAAAAAAAI/AAAAAAAAAEA/NJSEvVrTqHw/photo.jpg?sz=128", "display_name": "Yue Ming ", "link": "https://stackoverflow.com/users/8113580/yue-ming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1506530698, "creation_date": 1506418947, "question_id": 46422969, "link": "https://stackoverflow.com/questions/46422969/why-kotlin-wrong-val-mint-long-9223372036854775808l-long-min-value", "title": "Why kotlin wrong: val minT: Long = -9223372036854775808L //Long.MIN_VALUE", "body": "<p>Kotlin's Long.MIN_VALUE == -9223372036854775808, but when I write:</p>\n\n<p><code>val minT: Long = -9223372036854775808L //Long.MIN_VALUE</code></p>\n\n<p>IDEA say it was wrong.</p>\n\n<p>Dmitry Jemerov told me this because the <code>-</code> sign in Kotlin is not part of the constant but rather the unary minus operator applied to the constant value, and 9223372036854775808L is one larger than the maximum possible positive value for the Long type.</p>\n\n<p>But now, why Int is right :</p>\n\n<p><code>val minI: Int = -2147483648 //Int.MIN_VALUE</code></p>\n\n<p>Look here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UYouo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYouo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7641756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28cb2d6b6034e6448365fc56b12b47a7?s=128&d=identicon&r=PG&f=1", "display_name": "thlinde", "link": "https://stackoverflow.com/users/7641756/thlinde"}, "edited": false, "score": 0, "creation_date": 1506419434, "post_id": 46422715, "comment_id": 79803466, "body": "Thank you for fast answer. You make a great job, and always give help to the others, this is impressive."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 47, "user_id": 7641756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28cb2d6b6034e6448365fc56b12b47a7?s=128&d=identicon&r=PG&f=1", "display_name": "thlinde", "link": "https://stackoverflow.com/users/7641756/thlinde"}, "edited": false, "score": 0, "creation_date": 1506438811, "post_id": 46422715, "comment_id": 79817428, "body": "Thanks for the kind words. We have so many people in our community that are helping out both here and on Slack, so it should always be easy to get answers to TornadoFX related questions :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 3, "last_activity_date": 1506418209, "creation_date": 1506418209, "answer_id": 46422715, "question_id": 46422113, "link": "https://stackoverflow.com/questions/46422113/using-third-party-ui-libraries-with-tornadofx/46422715#46422715", "title": "Using third party UI libraries with TornadoFX", "body": "<p>The type safe builders operate on the instances of the nodes you create, so you can create a custom node and either do <code>children.add(myCustomComponent)</code> or even <code>this += myCustomComponent</code> or <code>add(myCustomComponent)</code> inside of a builder. They all do the same - add the custom component to the children list of the node you called <code>add</code> on.</p>\n\n<pre><code>hbox {\n    label(\"Builders + custom components\")\n    val myCustomComponent = SomeCustomComponent()\n    // Add to HBox\n    add(myCustomComponent)\n}\n</code></pre>\n\n<p>If you want to take the integration one step further, you can add builder functions for the custom components so you can write <code>hbox { myCustomComponent { ... } }</code>. For more information about how to add builders, check out the source code.</p>\n"}], "owner": {"reputation": 47, "user_id": 7641756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28cb2d6b6034e6448365fc56b12b47a7?s=128&d=identicon&r=PG&f=1", "display_name": "thlinde", "link": "https://stackoverflow.com/users/7641756/thlinde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532878706, "creation_date": 1506416620, "question_id": 46422113, "link": "https://stackoverflow.com/questions/46422113/using-third-party-ui-libraries-with-tornadofx", "title": "Using third party UI libraries with TornadoFX", "body": "<p>I want to use JFoenix library (or other UI libraries) with TornadoFX. Is there a tutorial how to use third party components with type-save builders in TornadoFX?\nThanks for your help.</p>\n"}, {"tags": ["android", "kotlin", "transitions"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 2552275, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbd582d5f6d92ffff9cf9be84c722b4b?s=128&d=identicon&r=PG&f=1", "display_name": "MNFS", "link": "https://stackoverflow.com/users/2552275/mnfs"}, "edited": false, "score": 0, "creation_date": 1506414477, "post_id": 46421004, "comment_id": 79799941, "body": "ok i&#39;m wrong about that, what about NullPointer i get in line <b>val options</b> ?"}], "tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 0, "last_activity_date": 1506413194, "creation_date": 1506413194, "answer_id": 46421004, "question_id": 46420822, "link": "https://stackoverflow.com/questions/46420822/try-makescenetransitionanimation-in-kotlin/46421004#46421004", "title": "try makeSceneTransitionAnimation in kotlin", "body": "<p>This has nothing to do with Java vs Kotlin.  </p>\n\n<p><code>R.string.transition</code> is an ID for a String resource, it is not the actual value.<br>\nTo get the value you need to use: </p>\n\n<pre><code>context.getString(R.string.transition)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 2552275, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbd582d5f6d92ffff9cf9be84c722b4b?s=128&d=identicon&r=PG&f=1", "display_name": "MNFS", "link": "https://stackoverflow.com/users/2552275/mnfs"}, "edited": false, "score": 0, "creation_date": 1506417664, "post_id": 46422432, "comment_id": 79802225, "body": "but this action is from adapter class, so i can&#39;t do <b>this@MyActivity</b>"}, {"owner": {"reputation": 11165, "user_id": 2000300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/c8eI2.jpg?s=128&g=1", "display_name": "pdegand59", "link": "https://stackoverflow.com/users/2000300/pdegand59"}, "edited": false, "score": 0, "creation_date": 1506419437, "post_id": 46422432, "comment_id": 79803470, "body": "Then your adapter needs to have a reference to the activity."}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 0, "last_activity_date": 1506419479, "last_edit_date": 1506419479, "creation_date": 1506417430, "answer_id": 46422432, "question_id": 46420822, "link": "https://stackoverflow.com/questions/46420822/try-makescenetransitionanimation-in-kotlin/46422432#46422432", "title": "try makeSceneTransitionAnimation in kotlin", "body": "<p>On this line : </p>\n\n<pre><code>val options = ActivityOptionsCompat.makeSceneTransitionAnimation(\n        Activity(), itemView.imageContent, trans\n)\n</code></pre>\n\n<p>You are creating a new Android Activity instance. But you must pass your current activity (probably <code>this@MyActivity</code> in this case).</p>\n\n<p><strong>Edito:</strong><br>\nAssuming <code>itemView.imageContent</code> is the imageView, and <code>item.content</code> a string. You can implement a calllback in your adapter and move the code in the OnClickListener to the adapter creation.\nSmething like this.</p>\n\n<pre><code>class MyAdapter : YourBaseAdapter(/*args*/)  {\n\n    var onItemClickListener = { view: ImageView, content: String -&gt; }\n\n   ///...\n   itemView.imageContent.setOnClickListener {\n    onItemClickListener(itemView.imageContent, item.content)\n   }\n   //...\n} //end of MyAdapter\n</code></pre>\n\n<p>and in your adapter class initialisation set:</p>\n\n<pre><code>myAdapter.onItemClickListener = { view, content -&gt;\n    val i = Intent(context, ImagePreviewActivity::class.java)\n    i.putExtra(\"IMAGE\", content)\n    val trans = context.getString(R.string.transition)\n    val options = ActivityOptionsCompat.makeSceneTransitionAnimation(\n        theReferenceOfYourActivity, view, trans\n    )\n    context.startActivity(i, options.toBundle())\n\n}\n</code></pre>\n\n<p>You can also pass the reference of your activity to your adapter constructor, but I not recommend it.</p>\n\n<hr>\n\n<p>From <em>makeSceneTransitionAnimation</em> doc : </p>\n\n<blockquote>\n  <p>Create an ActivityOptions to transition between Activities using cross-Activity scene animations. This method carries the position of multiple shared elements to the started Activity. The position of the first element in sharedElements will be used as the epicenter for the exit Transition. The position of the associated shared element in the launched Activity \n  will be the epicenter of its entering Transition.</p>\n  \n  <p>This requires android.view.Window.FEATURE_CONTENT_TRANSITIONS to be enabled on the calling Activity to cause an exit transition. The same must be in the called Activity to get an entering transition.</p>\n  \n  <p><strong>Parameters:</strong><br>\n  <code>activity</code> - The Activity whose window contains the shared elements.<br>\n  <code>sharedElements</code> - The names of the shared elements to transfer to the called Activity and their associated Views. The Views must each have a unique shared element name.  </p>\n  \n  <p><strong>Returns:</strong>\n  Returns a new ActivityOptions object that you can use to supply these options as the options Bundle when starting an activity.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10367700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3268615327e22b8f30b121bb3781dc?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon", "link": "https://stackoverflow.com/users/10367700/jhon"}, "is_accepted": false, "score": 0, "last_activity_date": 1537089249, "creation_date": 1537089249, "answer_id": 52352655, "question_id": 46420822, "link": "https://stackoverflow.com/questions/46420822/try-makescenetransitionanimation-in-kotlin/52352655#52352655", "title": "try makeSceneTransitionAnimation in kotlin", "body": "<p>I had same problem.\nYou need to pass context by casting it to activity context like </p>\n\n<pre><code>val options:ActivityOptions = ActivityOptions.makeSceneTransitionAnimation(context as Activity,holder.itemView.deliveryImageIV,context.getString(R.string.cardtransition))\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 2552275, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbd582d5f6d92ffff9cf9be84c722b4b?s=128&d=identicon&r=PG&f=1", "display_name": "MNFS", "link": "https://stackoverflow.com/users/2552275/mnfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1423, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1537089249, "creation_date": 1506412693, "last_edit_date": 1506416771, "question_id": 46420822, "link": "https://stackoverflow.com/questions/46420822/try-makescenetransitionanimation-in-kotlin", "title": "try makeSceneTransitionAnimation in kotlin", "body": "<p>while learning kotlin i try to create makeSceneTransitionAnimation for image transition but it doesn't work like in java, this is my code from <strong>Adapter class</strong></p>\n\n<pre><code>itemView.imageContent.setOnClickListener {\n    val i = Intent(context, ImagePreviewActivity::class.java)\n    i.putExtra(\"IMAGE\", item.content)\n    val trans = context.getString(R.string.transition)\n    val options = ActivityOptionsCompat.makeSceneTransitionAnimation(\n            Activity(), itemView.imageContent, trans\n    )\n    context.startActivity(i, options.toBundle())\n}\n</code></pre>\n\n<p>this is my logcat</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.view.Window.hasFeature(int)' on a null object reference\n     at android.app.ActivityOptions.makeSceneTransitionAnimation(ActivityOptions.java:709)\n     at android.app.ActivityOptions.makeSceneTransitionAnimation(ActivityOptions.java:648)\n     at android.app.ActivityOptions.makeSceneTransitionAnimation(ActivityOptions.java:622)\n     at android.support.v4.app.ActivityOptionsCompat.makeSceneTransitionAnimation(ActivityOptionsCompat.java:172)\n     at com.docotel.binmaspublic.module.report.ReportAdapter$ViewHolder$bind$2.onClick(ReportAdapter.kt:130)\n</code></pre>\n\n<p>sorry if you found this as a duplicate question</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506489731, "post_id": 46434276, "comment_id": 79836270, "body": "Thx. Seems not to work. It seems to be a valid but sources are not compiled."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506493636, "post_id": 46434276, "comment_id": 79837860, "body": "Hm, after having the solution for my problem it turns out, that I don&#39;t need a new sourceset (your answer is correct to add a new sourceset), but to have a new source-folder within the existing <code>main</code> sourceset"}, {"owner": {"reputation": 1682, "user_id": 3125020, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9a2a5d82b0606bc8e2848022edfb70a7?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent_Paing", "link": "https://stackoverflow.com/users/3125020/vincent-paing"}, "edited": false, "score": 0, "creation_date": 1600157800, "post_id": 46434276, "comment_id": 112991932, "body": "On Gradle 6, can&#39;t use this anymore, java.sourceSets no longer exists"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 14, "last_activity_date": 1517293096, "last_edit_date": 1517293096, "creation_date": 1506453701, "answer_id": 46434276, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl/46434276#46434276", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>You should try the following:</p>\n\n<pre><code>java.sourceSets.create(\"src/gen/java\")\n</code></pre>\n\n<p>Hope it's what you need!</p>\n"}, {"comments": [{"owner": {"reputation": 381, "user_id": 3213514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VYWQi.jpg?s=128&g=1", "display_name": "Rahul Khimasia", "link": "https://stackoverflow.com/users/3213514/rahul-khimasia"}, "edited": false, "score": 2, "creation_date": 1525870801, "post_id": 46440810, "comment_id": 87525393, "body": "This worked for me too. How did you find this answer? Where is it documented?"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 381, "user_id": 3213514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VYWQi.jpg?s=128&g=1", "display_name": "Rahul Khimasia", "link": "https://stackoverflow.com/users/3213514/rahul-khimasia"}, "edited": false, "score": 1, "creation_date": 1525870867, "post_id": 46440810, "comment_id": 87525444, "body": "By playing around after the answer from @s1m0nw1"}, {"owner": {"reputation": 381, "user_id": 3213514, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/VYWQi.jpg?s=128&g=1", "display_name": "Rahul Khimasia", "link": "https://stackoverflow.com/users/3213514/rahul-khimasia"}, "edited": false, "score": 1, "creation_date": 1527603649, "post_id": 46440810, "comment_id": 88182630, "body": "The eclipse kotlin editor and plugin are not complete and they are buggy. They do not provide code completion hints. I have stopped using eclipse and now switched to IntelliJ Idea, which does let me see the internals of Gradle-Kotlin-DSL implementation API so I can discover the API calls available to me. The lack of proper documentation has been frustrating, but now hopefully with IntelliJ&#39;s code completion hints; that will not be a big limitation."}, {"owner": {"reputation": 3319, "user_id": 1008162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3cc96f948b570ebccf311078a6f7aab0?s=128&d=identicon&r=PG", "display_name": "Naruto Sempai", "link": "https://stackoverflow.com/users/1008162/naruto-sempai"}, "edited": false, "score": 1, "creation_date": 1555466963, "post_id": 46440810, "comment_id": 98117949, "body": "I&#39;m using a submodule as a kotlin library in my kotlin project. Leaving off the first part <code>java</code> worked for me. ie <code>sourceSets[&quot;main&quot;].java {     srcDir(&quot;src&#47;main&#47;kotlin&quot;) }</code>"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 15, "last_activity_date": 1506493477, "creation_date": 1506493477, "answer_id": 46440810, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl/46440810#46440810", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>The answer of @s1m0nw1 is correct  to add a new sourceset.\nBut to just add a new source-folder in an existing sourceset, this can be used:</p>\n\n<pre><code>java.sourceSets[\"main\"].java {\n    srcDir(\"src/gen/java\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15009, "user_id": 1313268, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/65NwV.jpg?s=128&g=1", "display_name": "CorayThan", "link": "https://stackoverflow.com/users/1313268/coraythan"}, "is_accepted": false, "score": 6, "last_activity_date": 1527808602, "creation_date": 1527808602, "answer_id": 50634087, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl/50634087#50634087", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>I wanted to add a source set with the name \"test-integration\" and the source directory <code>src/test-integration/kotlin</code>. I was able to accomplish that by combining the two pre-existing answers:</p>\n\n<pre><code>java.sourceSets.create(\"test-integration\").java {\n    srcDir(\"src/test-integration/kotlin\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11526, "user_id": 235671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xKXSM.png?s=128&g=1", "display_name": "t3chb0t", "link": "https://stackoverflow.com/users/235671/t3chb0t"}, "edited": false, "score": 0, "creation_date": 1610355066, "post_id": 52702177, "comment_id": 116096330, "body": "Do you have an idea why I get the error <code>The SourceSet &#39;libs&#39; is not recognized by the Android Gradle Plugin.</code> when I call <code>create(&quot;libs&quot;)</code>?"}], "tags": [], "owner": {"reputation": 374, "user_id": 541654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd85adc75464c80830e93c3e6cec49da?s=128&d=identicon&r=PG", "display_name": "Andrei Urvantcev", "link": "https://stackoverflow.com/users/541654/andrei-urvantcev"}, "is_accepted": false, "score": 10, "last_activity_date": 1539001274, "creation_date": 1539001274, "answer_id": 52702177, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl/52702177#52702177", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>Worked for me on Gradle 4.10.2:</p>\n\n<pre><code>sourceSets.create(\"integrationTest\") {\n    java.srcDir(\"src/integrationTest/java\")\n    java.srcDir(\"build/generated/source/apt/integrationTest\")\n    resources.srcDir(\"src/integrationTest/resources\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 1539564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6KQO.jpg?s=128&g=1", "display_name": "joeaniu", "link": "https://stackoverflow.com/users/1539564/joeaniu"}, "is_accepted": false, "score": 5, "last_activity_date": 1570879507, "creation_date": 1570879507, "answer_id": 58353630, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl/58353630#58353630", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>Worked for me on Gradle 4.10.2:</p>\n\n<pre><code>sourceSets.getByName(\"main\") {\n    java.srcDir(\"src/main/java\")\n    java.srcDir(\"src/main/kotlin\")\n}\nsourceSets.getByName(\"test\") {\n    java.srcDir(\"src/test/java\")\n    java.srcDir(\"src/test/kotlin\")\n}\n</code></pre>\n\n<p>The codes above can also be used in <code>subprojects</code> block.</p>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16429, "favorite_count": 4, "accepted_answer_id": 46434276, "answer_count": 5, "score": 20, "last_activity_date": 1570879507, "creation_date": 1506409535, "question_id": 46419817, "link": "https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl", "title": "How to add new sourceset with gradle kotlin-dsl", "body": "<p>I want to add a sourceset <code>src/gen/java</code>. With groovy this is rather easy and already described in <a href=\"https://discuss.gradle.org/t/how-to-use-gradle-with-generated-sources/9401/5\" rel=\"noreferrer\">https://discuss.gradle.org/t/how-to-use-gradle-with-generated-sources/9401/5</a></p>\n\n<pre><code>sourceSets {\n   gen {\n        java.srcDir \"src/gen/java\"\n    }\n}\n</code></pre>\n\n<p>But I stuck with the kotlin-dsl to add a new one. All I've got is:</p>\n\n<pre><code>java {\n    sourceSets {\n\n    }\n}\n</code></pre>\n\n<p>Can anyone help here to </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1506407917, "post_id": 46419171, "comment_id": 79796042, "body": "You should either call <code>initializeView()</code> in <code>onViewCreated()</code> or using the <code>view</code> that you inflated instead of <code>view!!</code>. Calling <code>getView()</code> will return null before <code>onCreateView</code> returns. Take a look at this <a href=\"https://stackoverflow.com/questions/9488595/getview-returning-null-when-fragment-has-been-created-from-an-activity\">question</a>."}, {"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506409735, "post_id": 46419171, "comment_id": 79797026, "body": "@BakaWaii Can you give any example, It will more helpful Thanks"}, {"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "reply_to_user": {"reputation": 301, "user_id": 6687541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bnaqRzpCiJc/AAAAAAAAAAI/AAAAAAAAAC0/4eQQL83kbwg/photo.jpg?sz=128", "display_name": "Anchal Singh", "link": "https://stackoverflow.com/users/6687541/anchal-singh"}, "edited": false, "score": 0, "creation_date": 1506409907, "post_id": 46419171, "comment_id": 79797122, "body": "@Anchal Singh I tried with global variable but got the smart cast issues. Plz help me with example Thanks"}, {"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "reply_to_user": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "edited": false, "score": 0, "creation_date": 1506415323, "post_id": 46419171, "comment_id": 79800512, "body": "@Vishal Vaishnav Do you have any answer"}], "answers": [{"comments": [{"owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "edited": false, "score": 0, "creation_date": 1506415181, "post_id": 46420114, "comment_id": 79800395, "body": "Can you share me your onCreateView code and declaration of view as a global Thanks"}, {"owner": {"reputation": 301, "user_id": 6687541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bnaqRzpCiJc/AAAAAAAAAAI/AAAAAAAAAC0/4eQQL83kbwg/photo.jpg?sz=128", "display_name": "Anchal Singh", "link": "https://stackoverflow.com/users/6687541/anchal-singh"}, "reply_to_user": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "edited": false, "score": 0, "creation_date": 1506417706, "post_id": 46420114, "comment_id": 79802260, "body": "I have updated my answer, if it works select it as a right answer."}, {"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "reply_to_user": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "edited": false, "score": 0, "creation_date": 1506452798, "post_id": 46420114, "comment_id": 79825318, "body": "You don&#39;t need to call <code>getView()</code> within <code>onViewCreated()</code> method. You already have <code>view: View?</code> object over there.  And by the way, if @Ramesh has written definition of <code>initializeView()</code> in <code>onCreateView()</code> itself, it would have worked. Or he can simply supply the <code>view</code> object as parameter in <code>initializeView()</code>, like <code>initializeView(view: View?)</code>."}], "tags": [], "owner": {"reputation": 301, "user_id": 6687541, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bnaqRzpCiJc/AAAAAAAAAAI/AAAAAAAAAC0/4eQQL83kbwg/photo.jpg?sz=128", "display_name": "Anchal Singh", "link": "https://stackoverflow.com/users/6687541/anchal-singh"}, "is_accepted": false, "score": 8, "last_activity_date": 1616393878, "last_edit_date": 1616393878, "creation_date": 1506410533, "answer_id": 46420114, "question_id": 46419171, "link": "https://stackoverflow.com/questions/46419171/how-to-fetch-resource-id-in-fragment-using-kotlin-in-android/46420114#46420114", "title": "How to fetch resource id in fragment using kotlin in android?", "body": "<p>Initialization of view in fragment :</p>\n<pre><code>wall_recycler=view.findViewById&lt;RecyclerView&gt;(R.id.wall_recycler_id)\nmainlayout = view.findViewById&lt;LinearLayout&gt;(R.id.mainlayout)\n</code></pre>\n<p>The problem is that you are accessing it too soon. <code>requireView()</code> and <code>view</code> returns null in <code>onCreateView</code>.I have find all views in <code>onViewCreated()</code>.\nTry doing it in the <code>onViewCreated</code> method:</p>\n<pre><code> override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n\n wall_recycler=requireView().findViewById&lt;RecyclerView&gt;(R.id.wall_recycler_id)\n mainlayout = requireView().findViewById&lt;LinearLayout&gt;(R.id.mainlayout)\n mainlayout.setOnClickListener { Log.d(TAG, &quot;onViewCreated(): hello world&quot;);}\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 554, "user_id": 3877680, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8850c2bf4ca6ef7c9a0d59a06e494f86?s=128&d=identicon&r=PG&f=1", "display_name": "Vendetta8247", "link": "https://stackoverflow.com/users/3877680/vendetta8247"}, "edited": false, "score": 1, "creation_date": 1549669901, "post_id": 46421644, "comment_id": 95999772, "body": "this is a nice and handy answer but completely irrelevant to what was asked in the question. The information on how to use kotlin android extensions in activity is widely spread and easy to find. It&#39;s not the case with fragments"}, {"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "reply_to_user": {"reputation": 554, "user_id": 3877680, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8850c2bf4ca6ef7c9a0d59a06e494f86?s=128&d=identicon&r=PG&f=1", "display_name": "Vendetta8247", "link": "https://stackoverflow.com/users/3877680/vendetta8247"}, "edited": false, "score": 1, "creation_date": 1550166289, "post_id": 46421644, "comment_id": 96179877, "body": "@Vendetta8247 it is the same case with Fragments. You can access views directly by using ids just as in Activities. Read my answer properly."}, {"owner": {"reputation": 2193, "user_id": 2856202, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AHuOz.png?s=128&g=1", "display_name": "eigenfield", "link": "https://stackoverflow.com/users/2856202/eigenfield"}, "edited": false, "score": 0, "creation_date": 1590090181, "post_id": 46421644, "comment_id": 109556548, "body": "isn&#39;t this the grand designed extensions that was purported and all-hailed to replace the elegant and simple, and understandable and flexible <code>findViewById()</code> ?"}], "tags": [], "owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "is_accepted": false, "score": 12, "last_activity_date": 1573551386, "last_edit_date": 1573551386, "creation_date": 1506415270, "answer_id": 46421644, "question_id": 46419171, "link": "https://stackoverflow.com/questions/46419171/how-to-fetch-resource-id-in-fragment-using-kotlin-in-android/46421644#46421644", "title": "How to fetch resource id in fragment using kotlin in android?", "body": "<p>Introducing <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">Kotlin Android Extensions</a>.</p>\n\n<p>You do not have to use <code>findViewById</code> anymore. Using this plugin you can use the UI component directly as a global field. Supported in <code>Activities</code>, <code>fragments</code> and <code>views</code>.</p>\n\n<p>Example,\nTo refer text view from the layout below,</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/hello\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Hello World, MyActivity\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>in activity you can simply write,</p>\n\n<pre><code>// Using R.layout.activity_main from the main source set\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MyActivity : Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        // Instead of findViewById(R.id.hello) as TextView\n        hello?.setText(\"Hello, world!\")\n    }\n}\n</code></pre>\n\n<p>in fragments,</p>\n\n<pre><code>// Using R.layout.fragment_content from the main source set\nimport kotlinx.android.synthetic.main.fragment_content.*\n\nclass ContentFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n        inflater.inflate(R.layout.fragment_content, container, false)\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        // Instead of view.findViewById(R.id.hello) as TextView\n        hello?.setText(\"Hello, world!\")\n    }\n}\n</code></pre>\n\n<p>and for views,</p>\n\n<pre><code>// Using R.layout.item_view_layout from the main source set\nimport kotlinx.android.synthetic.main.item_view_layout.*\n\nclass ItemViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n    fun bindData(data: String) {\n        // Instead of itemView.findViewById(R.id.hello) as TextView\n        itemView.hello?.setText(data)\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>And, you should not use <code>!!</code> everywhere, unless you want <code>NullPointerException</code> explicitly.</p>\n\n<p>Instead use anyone from the following:</p>\n\n<ol>\n<li>Do null check with safe call - <code>?.</code>, Eg. <code>nullableVariable?.method()</code></li>\n<li>Use non-null object using <code>?.let{ }</code>, Eg. <code>nullableVariable?.let { it.method() }</code></li>\n<li>Supplying a backup value for the nullable variable using elvis operator - <code>?:</code>, Eg. <code>nullableVariable ?: &lt;backupValue&gt;</code>.</li>\n</ol>\n\n<p>Read more about <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">Null Safety in Kotlin</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 1, "creation_date": 1550166205, "post_id": 47708920, "comment_id": 96179836, "body": "No need to take <code>view</code> as in global in <code>Fragment</code>. Just as in a <code>Activity</code> can access the view element using it&#39;s id directly."}, {"owner": {"reputation": 218, "user_id": 467208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9dfcde6cee5ca62b85e815ae0522e0?s=128&d=identicon&r=PG", "display_name": "IllvilJa", "link": "https://stackoverflow.com/users/467208/illvilja"}, "edited": false, "score": 0, "creation_date": 1588259034, "post_id": 47708920, "comment_id": 108835566, "body": "The import statement at the top of this answer saved my day, hence the upvote!"}, {"owner": {"reputation": 6223, "user_id": 5962715, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tCJbg.gif?s=128&g=1", "display_name": "Kiran Benny Joseph", "link": "https://stackoverflow.com/users/5962715/kiran-benny-joseph"}, "reply_to_user": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 0, "creation_date": 1588672571, "post_id": 47708920, "comment_id": 108981685, "body": "@krishh only after oncreateview has been excecuted"}, {"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 0, "creation_date": 1588727490, "post_id": 47708920, "comment_id": 109008640, "body": "yes @KiranBennyJoseph, that is why we have <code>onViewCreated()</code> method."}], "tags": [], "owner": {"reputation": 6223, "user_id": 5962715, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tCJbg.gif?s=128&g=1", "display_name": "Kiran Benny Joseph", "link": "https://stackoverflow.com/users/5962715/kiran-benny-joseph"}, "is_accepted": false, "score": 28, "last_activity_date": 1548844637, "last_edit_date": 1548844637, "creation_date": 1512714713, "answer_id": 47708920, "question_id": 46419171, "link": "https://stackoverflow.com/questions/46419171/how-to-fetch-resource-id-in-fragment-using-kotlin-in-android/47708920#47708920", "title": "How to fetch resource id in fragment using kotlin in android?", "body": "<p>Add </p>\n\n<p><code>apply plugin: 'kotlin-android-extensions'</code></p>\n\n<p>in the app level gradle file and</p>\n\n<p>import </p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_your_fragment_name.view.*\n</code></pre>\n\n<p>in the <code>onCreateView</code> of your fragment (e.g. if the id of your textview is textView)</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val view = inflater!!.inflate(R.layout.fragment_splashfragment, container, false)\n    view.textView.text = \"hello\"   //add your view before id else getting nullpointer exception\n    return view\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>declare viewOfLayout in your class instead of view.</p>\n\n<pre><code>class yourfragment:Fragment(){\n\n    private lateinit var viewOfLayout: View\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        viewOfLayout = inflater!!.inflate(R.layout.fragment_splashfragment, container, false)\n        viewOfLayout.textView.text = \"hello\"   //add your view before id else will get nullpointer exception\n        return viewOfLayout\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1372, "user_id": 6032811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/9Rx52.jpg?s=128&g=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6032811/ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32652, "favorite_count": 6, "answer_count": 3, "score": 14, "last_activity_date": 1616393878, "creation_date": 1506406916, "last_edit_date": 1506409537, "question_id": 46419171, "link": "https://stackoverflow.com/questions/46419171/how-to-fetch-resource-id-in-fragment-using-kotlin-in-android", "title": "How to fetch resource id in fragment using kotlin in android?", "body": "<p>I tried to this code which is mention below, but getting crash during run time. The error occurred is Android Run time:</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main                                                                        Process: com.root.specialbridge, PID: 17706                                                                        kotlin.KotlinNullPointerException at                                             com.root.specialbridge.fragments.profile_fragment.WallFragments.initializeView(WallFragments.kt:49)</p>\n</blockquote>\n\n<pre><code>class WallFragments : Fragment(){\n\nprivate var wallAdapter: WallAdapter? = null\nprivate var wall_recycler: RecyclerView? = null\nprivate val wallArrayList: ArrayList&lt;Wall&gt;? = null\nprivate var mainlayout: LinearLayout? = null\nprivate var no_result_found_layout: RelativeLayout? = null\nprivate var userProfileWallInterface: UserProfileWallInterface? = null\ninternal var wallActivityBeanse: MutableList&lt;WallActivityBeans&gt; = ArrayList()\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater!!.inflate(R.layout.wall_fragments, container, false)\n    userProfileWallInterface = UserProfileWallPresentation(activity, this)\n    initializeView()\n    wallAdapter = WallAdapter(activity, wallActivityBeanse)\n    wall_recycler!!.adapter = wallAdapter\n\n    return view\n}\nfun initializeView() {\n    wall_recycler = view!!.findViewById(R.id.wall_recycler_id) as RecyclerView\n    mainlayout = view!!.findViewById(R.id.mainlayout) as LinearLayout\n    no_result_found_layout = view!!.findViewById(R.id.no_result_found_layout) as RelativeLayout\n    wall_recycler!!.layoutManager = LinearLayoutManager(activity)\n    wall_recycler!!.setHasFixedSize(true)\n    if (AuthPreference(activity).isGetMemberProfile) {\n        userProfileWallInterface!!.getMemberProfileWall(view!!)\n\n    } else {\n        userProfileWallInterface!!.getUserProfileWall(AuthPreference(activity).token, AuthPreference(activity).user.id, view!!)\n\n    }\n}   \ncompanion object {\n    val instance: WallFragments\n        get() = WallFragments()  }}\n</code></pre>\n"}, {"tags": ["java", "arrays", "collections", "kotlin"], "comments": [{"owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1506404625, "post_id": 46418550, "comment_id": 79794574, "body": "What do you want to achieve in that?"}, {"owner": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "edited": false, "score": 2, "creation_date": 1506405030, "post_id": 46418550, "comment_id": 79794755, "body": "Also you should probably use Kotlin&#39;s <code>arrayOf </code> instead of <code>Arrays.asList</code>"}, {"owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "edited": false, "score": 0, "creation_date": 1506405918, "post_id": 46418550, "comment_id": 79795147, "body": "Is is just example to show the problem. There is no any goals about passing <code>&quot;a&quot;,&quot;b&quot;</code> to <code>Paths.get</code> method"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506407063, "post_id": 46418550, "comment_id": 79795651, "body": "Note that when the function requires non-null primitive type, e.g. <code>vararg numbers: Int</code>, you have to use <code>toIntArray()</code> instead of <code>toTypedArray()</code>."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "edited": false, "score": 0, "creation_date": 1506441530, "post_id": 46418550, "comment_id": 79819306, "body": "@Seaskyways <code>Arrays.asList(...)</code> returns a list, so the replacement would be <code>listOf(...)</code>"}, {"owner": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1506454837, "post_id": 46418550, "comment_id": 79826369, "body": "@RuckusT-Boom that is true, however lists are not usable with the spread operator, only arrays are :)"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 19, "last_activity_date": 1596831410, "last_edit_date": 1596831410, "creation_date": 1506404922, "answer_id": 46418689, "question_id": 46418550, "link": "https://stackoverflow.com/questions/46418550/how-to-pass-a-kotlin-collection-as-varagrs/46418689#46418689", "title": "How to pass a kotlin collection as varagrs?", "body": "<p>An <code>Array</code> can be passed as an<code>vararg</code> argument by prepending <code>*</code> to it:</p>\n<pre><code>Paths.get(&quot;&quot;, *toTypedArray) \n</code></pre>\n<p>It\u2019s called <strong>spread operator</strong>, as I already described in another answer <a href=\"https://stackoverflow.com/a/45855062/8073652\">here</a>.</p>\n<p>An instance of <code>List</code> can be converted to <code>vararg</code> as follows:</p>\n<pre><code>val listAsArr = \n    listOf(&quot;a&quot;, &quot;b&quot;).toTypedArray()\nPaths.get(&quot;&quot;, *listAsArr) \n</code></pre>\n"}], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "accepted_answer_id": 46418689, "answer_count": 1, "score": 9, "last_activity_date": 1596831410, "creation_date": 1506404223, "last_edit_date": 1506473136, "question_id": 46418550, "link": "https://stackoverflow.com/questions/46418550/how-to-pass-a-kotlin-collection-as-varagrs", "title": "How to pass a kotlin collection as varagrs?", "body": "<p>At first glance it is needed just convert collection to array and pass it to method but this does not work:</p>\n\n<pre><code>val toTypedArray = Arrays.asList(\"a\", \"b\").toTypedArray()\nPaths.get(\"\", toTypedArray) // &lt;- compilation error here\n</code></pre>\n\n<p>No workarounds???</p>\n"}, {"tags": ["scala", "kotlin", "future", "completable-future"], "comments": [{"owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "edited": false, "score": 0, "creation_date": 1506438901, "post_id": 46417853, "comment_id": 79817481, "body": "When downvoting please post a comment."}], "answers": [{"comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 2, "creation_date": 1506409957, "post_id": 46418022, "comment_id": 79797155, "body": "If you have to use <code>CompletebleFuture</code> due to Java interop, then you can convert <code>List&lt;CompletableFuture&lt;String&gt;&gt;</code> to <code>CompletableFuture&lt;List&lt;String&gt;&gt;</code> using virtually the same code, just replacing <code>async</code> builder with <code>future</code> builder from <code>kotlinx-coroutines-jdk8</code>"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 5, "last_activity_date": 1506401392, "creation_date": 1506401392, "answer_id": 46418022, "question_id": 46417853, "link": "https://stackoverflow.com/questions/46417853/is-there-a-future-sequence-analog-in-kotlin/46418022#46418022", "title": "Is there a Future.sequence analog in kotlin?", "body": "<p>Assuming you use coroutines:</p>\n\n<pre><code>val l: List&lt;Deferred&lt;String&gt;&gt;  = (1..2).map {i -&gt; async(Unconfined){ \"$i\" }}\nval x: Deffered&lt;List&lt;String&gt;&gt; = async(Unconfined) { l.map {it.await()} }\n</code></pre>\n"}], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506402640, "creation_date": 1506400269, "last_edit_date": 1506402640, "question_id": 46417853, "link": "https://stackoverflow.com/questions/46417853/is-there-a-future-sequence-analog-in-kotlin", "title": "Is there a Future.sequence analog in kotlin?", "body": "<p>In scala you can \"map\" collection of futures to future of collection like that:</p>\n\n<pre><code>val l: List[Future[String]]  = List(Future {\"1\"}, Future {\"2\"})\nval x: Future[List[String]] = Future.sequence(l)\n</code></pre>\n\n<p>How to same thing but with kotlin?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-security", "kotlin"], "comments": [{"owner": {"reputation": 3584, "user_id": 4423636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/os7d4.jpg?s=128&g=1", "display_name": "Ataur Rahman Munna", "link": "https://stackoverflow.com/users/4423636/ataur-rahman-munna"}, "edited": false, "score": 0, "creation_date": 1506405748, "post_id": 46417688, "comment_id": 79795063, "body": "Could you try <code>@PreAuthorize (&quot;hasRole(&#39;ROLE_USER&#39;)&quot;)</code> instead of <code>@Secured(&quot;ROLE_USER&quot;)</code>."}, {"owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "reply_to_user": {"reputation": 3584, "user_id": 4423636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/os7d4.jpg?s=128&g=1", "display_name": "Ataur Rahman Munna", "link": "https://stackoverflow.com/users/4423636/ataur-rahman-munna"}, "edited": false, "score": 1, "creation_date": 1506409569, "post_id": 46417688, "comment_id": 79796925, "body": "It works! But what is the difference?"}, {"owner": {"reputation": 3584, "user_id": 4423636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/os7d4.jpg?s=128&g=1", "display_name": "Ataur Rahman Munna", "link": "https://stackoverflow.com/users/4423636/ataur-rahman-munna"}, "edited": false, "score": 0, "creation_date": 1506412018, "post_id": 46417688, "comment_id": 79798376, "body": "I answered the that. If it works then you can accept and upvote the answer."}, {"owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "reply_to_user": {"reputation": 3584, "user_id": 4423636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/os7d4.jpg?s=128&g=1", "display_name": "Ataur Rahman Munna", "link": "https://stackoverflow.com/users/4423636/ataur-rahman-munna"}, "edited": false, "score": 0, "creation_date": 1506419491, "post_id": 46417688, "comment_id": 79803512, "body": "Added a comment to answer, <code>@PreAuthorize</code> does not work because it leads to no proxy genertion."}], "answers": [{"tags": [], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "is_accepted": false, "score": 0, "last_activity_date": 1506419343, "creation_date": 1506419343, "answer_id": 46423110, "question_id": 46417688, "link": "https://stackoverflow.com/questions/46417688/how-fix-val-field-initialization-with-spring-security-proxy/46423110#46423110", "title": "How fix val field initialization with Spring Security proxy?", "body": "<p>It turns out that by default kotlin mark all methods as <code>final</code>. So the methods can not be overrided and that's why it is called from object itself, not from proxies. So to make proxying work just add <code>open</code> key word in method definition:</p>\n\n<pre><code>@PostMapping(\"/indexing\")\n@Secured(\"ROLE_USER\")\n/* -&gt; */ open fun someFunction() {\n    return s3AsyncClient.toString();\n}\n</code></pre>\n"}], "owner": {"reputation": 25111, "user_id": 1251549, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54c04cb22ca948af2708c2fa054fcf58?s=128&d=identicon&r=PG", "display_name": "Cherry", "link": "https://stackoverflow.com/users/1251549/cherry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1506419343, "creation_date": 1506398946, "question_id": 46417688, "link": "https://stackoverflow.com/questions/46417688/how-fix-val-field-initialization-with-spring-security-proxy", "title": "How fix val field initialization with Spring Security proxy?", "body": "<p>Consider kotlin controller class:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/myPath/\")\nopen class MyController {\n    private val s3AsyncClient: S3AsyncClient = S3AsyncClient.builder().build()\n    //...\n    @PostMapping(\"/indexing\")\n    @Secured(\"ROLE_USER\")\n    fun someFunction() {\n        return s3AsyncClient.toString();\n    }\n}\n</code></pre>\n\n<p>Which leads to NullPointerException.</p>\n\n<p>Here is what I saws in debugger:</p>\n\n<p><a href=\"https://i.stack.imgur.com/samDI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/samDI.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when <code>@Secured</code> is removed everything works. So it seems that spring security proxing breaks kotlin val initialization. is there a way to make them works all together?</p>\n"}, {"tags": ["generics", "enums", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 5877433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x51_3gHVMBk/AAAAAAAAAAI/AAAAAAAAUq4/dP3cfzmO_Gc/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5877433/eugene"}, "edited": false, "score": 0, "creation_date": 1506461546, "post_id": 46417598, "comment_id": 79829459, "body": "That&#39;s pretty much what the standard <code>enumValueOf&lt;&gt;()</code> function does, but that&#39;s not what I need. I&#39;ve clarified the question."}], "tags": [], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "is_accepted": false, "score": 3, "last_activity_date": 1506402200, "last_edit_date": 1506402200, "creation_date": 1506398296, "answer_id": 46417598, "question_id": 46416273, "link": "https://stackoverflow.com/questions/46416273/how-to-get-enum-value-of-raw-type-from-an-enum-class-and-a-string-in-kotlin/46417598#46417598", "title": "How to get enum value of raw type from an enum class and a string in kotlin", "body": "<p>You can use below Kotlin code in your class for java code:</p>\n\n<p>Kotlin function code:</p>\n\n<pre><code>private inline fun &lt;reified T : kotlin.Enum&lt;T&gt;&gt; getEnumValue(type: String?): T? {\n    return java.lang.Enum.valueOf(T::class.java, type)\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>internal enum class MyEnum {\n    MIDDLE_NAME\n}\ninternal enum class MyEnumTwo {\n    FIRST_NAME\n}\ninternal enum class MyEnumThree {\n    LAST_NAME\n}\n\n\nprivate fun demo(){\n\n    System.out.println(getEnumValue&lt;MyEnumTwo&gt;(\"FIRST_NAME\"))\n    System.out.println(getEnumValue&lt;MyEnum&gt;(\"MIDDLE_NAME\"))\n    System.out.println(getEnumValue&lt;MyEnumThree&gt;(\"LAST_NAME\"))\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>System.out: FIRST_NAME</p>\n\n<p>System.out: MIDDLE_NAME</p>\n\n<p>System.out: LAST_NAME</p>\n\n<p>Old answer:</p>\n\n<p><S>\n        fun getEnumValue(enumClass:Class&lt;<em>>, value:String):Enum&lt;</em>> {\n          return Enum.valueOf>>(enumClass as Class>>, value)\n       }\n</S></p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 5877433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x51_3gHVMBk/AAAAAAAAAAI/AAAAAAAAUq4/dP3cfzmO_Gc/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5877433/eugene"}, "edited": false, "score": 0, "creation_date": 1506461296, "post_id": 46422600, "comment_id": 79829383, "body": "I&#39;m aware of this function but it&#39;s not applicable in this case. I&#39;ve updated the question."}, {"owner": {"reputation": 145, "user_id": 5877433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x51_3gHVMBk/AAAAAAAAAAI/AAAAAAAAUq4/dP3cfzmO_Gc/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5877433/eugene"}, "edited": false, "score": 0, "creation_date": 1506557889, "post_id": 46422600, "comment_id": 79873458, "body": "Thank you very much! Performance is not of concern here - the code is executed once during the app startup, so this solution is just what I need."}, {"owner": {"reputation": 434, "user_id": 1974368, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/532476da4c9bf74a0054b238ac618c8c?s=128&d=identicon&r=PG", "display_name": "user1974368", "link": "https://stackoverflow.com/users/1974368/user1974368"}, "edited": false, "score": 0, "creation_date": 1570136185, "post_id": 46422600, "comment_id": 102828593, "body": "any way to do this with enums with <code>Int</code> values?"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 8, "last_activity_date": 1506503093, "last_edit_date": 1506503093, "creation_date": 1506417923, "answer_id": 46422600, "question_id": 46416273, "link": "https://stackoverflow.com/questions/46416273/how-to-get-enum-value-of-raw-type-from-an-enum-class-and-a-string-in-kotlin/46422600#46422600", "title": "How to get enum value of raw type from an enum class and a string in kotlin", "body": "<p>Here's a pure Kotlin version:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun getEnumValue(enumClass: Class&lt;*&gt;, value: String): Enum&lt;*&gt; {\n    val enumConstants = enumClass.enumConstants as Array&lt;out Enum&lt;*&gt;&gt;\n    return enumConstants.first { it.name == value }\n}\n</code></pre>\n\n<p>Note that it's not as efficient as the Java version. <code>java.lang.Enum.valueOf</code> uses a cached data structure while this version needs to create a new array to iterate over. Also this version is O(n) wheras the Java version is O(1) as it uses a dictionary under the hood.</p>\n\n<p>There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-18002\" rel=\"noreferrer\">open issue</a> in the Kotlin bug tracker to support the same code as in Java which is scheduled for 1.3.</p>\n\n<p>Here's a <strong>really ugly</strong> hack to workaround the generic type issue:</p>\n\n<pre><code>private enum class Hack\n\nfun getEnumValue(enumClass: Class&lt;*&gt;, value: String): Enum&lt;*&gt; {\n    return helper&lt;Hack&gt;(enumClass, value)\n}\n\nprivate fun &lt;T : Enum&lt;T&gt;&gt;helper(enumClass: Class&lt;*&gt;, value: String): Enum&lt;*&gt; {\n    return java.lang.Enum.valueOf(enumClass as Class&lt;T&gt;, value)\n}\n</code></pre>\n\n<p>A quick test shows that it's working but I wouldn't rely on it.</p>\n\n<hr>\n\n<p>If the generic type is available, you can use the built-in function <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/enum-value-of.html\" rel=\"noreferrer\"><code>enumValueOf</code></a> (see also <a href=\"http://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants</a>):</p>\n\n<pre><code>enum class Color {\n    Red, Green, Blue\n}\n\nenumValueOf&lt;Color&gt;(\"Red\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1506418186, "creation_date": 1506418186, "answer_id": 46422706, "question_id": 46416273, "link": "https://stackoverflow.com/questions/46416273/how-to-get-enum-value-of-raw-type-from-an-enum-class-and-a-string-in-kotlin/46422706#46422706", "title": "How to get enum value of raw type from an enum class and a string in kotlin", "body": "<p>Kotlin has a built-in function for that:</p>\n\n<pre><code>enum class Fruits {\n    APPLE,\n    ORANGE,\n    BANANA\n}\n\nFruits.valueOf(\"APPLE\")\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5877433, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x51_3gHVMBk/AAAAAAAAAAI/AAAAAAAAUq4/dP3cfzmO_Gc/photo.jpg?sz=128", "display_name": "Eugene", "link": "https://stackoverflow.com/users/5877433/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5791, "favorite_count": 0, "accepted_answer_id": 46422600, "answer_count": 3, "score": 5, "last_activity_date": 1506558044, "creation_date": 1506387532, "last_edit_date": 1506558044, "question_id": 46416273, "link": "https://stackoverflow.com/questions/46416273/how-to-get-enum-value-of-raw-type-from-an-enum-class-and-a-string-in-kotlin", "title": "How to get enum value of raw type from an enum class and a string in kotlin", "body": "<p>I have the following code in java:</p>\n\n<pre><code>Enum getEnumValue(Class&lt;?&gt; enumClass, String value) {\n    return Enum.valueOf((Class&lt;Enum&gt;) enumClass, value);\n}\n</code></pre>\n\n<p>How to rewrite this in Kotlin?</p>\n\n<p><strong>Update</strong></p>\n\n<p><code>enumValueOf&lt;&gt;()</code> function is not applicable in this case because I don't know the actual type parameter, I only have a <code>Class&lt;?&gt;</code> object with unknown type (<code>Class&lt;*&gt;</code> in kotlin) and a name string. The Class is known to be enum:  <code>Class.isEnum</code> returns true. Using these two inputs, the java code above allows to obtain the value of the enum with a raw type. That's just what I need because I'm not interested in the specific type of the enum. But I can't figure out how to get the same result in kotlin.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1506386405, "post_id": 46416074, "comment_id": 79790105, "body": "Personal preference. Would you rather have a class-like namespace (OkHttpService) or just the usual pacakge-as-a-namespace? With the latter, you don&#39;t have the option of being explicit thus: <code>OkHttpService.httpGet()</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1506387641, "post_id": 46416074, "comment_id": 79790369, "body": "Thanks!  which is better  throw away the name of fun ?"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1506388310, "post_id": 46416074, "comment_id": 79790492, "body": "Sorry, I don&#39;t understand. Personally, I like everything in a class-like namespace, because it gives me the option of using it or static-importing it. But top-level functions are handy in some circumstances (e.g. when calling from kts / repl)."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1506396238, "post_id": 46416074, "comment_id": 79792238, "body": "You could also declare OkHttpService itself as an object instead of a class."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506413381, "post_id": 46418052, "comment_id": 79799233, "body": "Thanks! Did you mean that the code ( companion object...) in OkHttpService.kt isn&#39;t a good way?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506426711, "post_id": 46418052, "comment_id": 79808419, "body": "I meant that there shouldn&#39;t be a class if you don&#39;t create any instances of it. Companion objects has a very limited usage in Kotlin."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506431629, "post_id": 46418052, "comment_id": 79812060, "body": "Thanks! but I was told there are more limited to use object, you may have a look at <a href=\"https://stackoverflow.com/questions/46273453/which-way-is-better-if-i-hope-to-use-a-syntax-just-like-static-function-in-kotli\" title=\"which way is better if i hope to use a syntax just like static function in kotli\">stackoverflow.com/questions/46273453/&hellip;</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1506432285, "post_id": 46418052, "comment_id": 79812535, "body": "I think they meant that class scoping is rarely used in kotlin - packages should be enough. Also top level functions are negligibly more space-efficient than an object. But a companion object is also an object, so it is irrelevant here."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 4, "last_activity_date": 1506401574, "creation_date": 1506401574, "answer_id": 46418052, "question_id": 46416074, "link": "https://stackoverflow.com/questions/46416074/which-way-is-better-between-companion-object-and-fun-without-a-class-in-kotlin/46418052#46418052", "title": "Which way is better between companion object and fun without a class in Kotlin?", "body": "<p>For scoping use a regular <code>object</code>, <em>not</em> <code>companion</code>:</p>\n\n<pre><code>object OkHttpService{\n    fun httpGet(username: String, callback: Callback) {\n        val fetchRepoUrl = \"https://api.github.com/users/$username/repos?page=1&amp;per_page=20\"\n\n        val client = OkHttpClient()\n        val request = Request.Builder()\n                .url(fetchRepoUrl)\n                .build()\n\n        client.newCall(request).enqueue(callback)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1506417692, "creation_date": 1506385727, "last_edit_date": 1506417692, "question_id": 46416074, "link": "https://stackoverflow.com/questions/46416074/which-way-is-better-between-companion-object-and-fun-without-a-class-in-kotlin", "title": "Which way is better between companion object and fun without a class in Kotlin?", "body": "<p>I know there isn't a static function in Kotlin, so I write two code in OkHttpService.kt and my.kt</p>\n\n<p>I don't know which is better, could you tell me? Thanks! </p>\n\n<p><strong>OkHttpService.kt</strong></p>\n\n<pre><code>class OkHttpService {\n\n    companion object {\n        fun httpGet(username: String, callback: Callback) {\n            val fetchRepoUrl = \"https://api.github.com/users/$username/repos?page=1&amp;per_page=20\"\n\n            val client = OkHttpClient()\n            val request = Request.Builder()\n                    .url(fetchRepoUrl)\n                    .build()\n\n            client.newCall(request).enqueue(callback)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>my.kt</strong></p>\n\n<pre><code>fun OkHttpService_httpGet(username: String, callback: Callback) {\n            val fetchRepoUrl = \"https://api.github.com/users/$username/repos?page=1&amp;per_page=20\"\n\n            val client = OkHttpClient()\n            val request = Request.Builder()\n                    .url(fetchRepoUrl)\n                    .build()\n\n            client.newCall(request).enqueue(callback)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1506426375, "post_id": 46415054, "comment_id": 79808200, "body": "whoever down vote the question it is appreciated that if you could explain what you think the question is not a question to ask, or for this question you know there is a solid solution, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1506380920, "post_id": 46415190, "comment_id": 79788677, "body": "thanks Mike, tried your suggestion but still get error, see my update."}, {"owner": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1506407885, "post_id": 46415190, "comment_id": 79796014, "body": "Do you use Robotium?"}, {"owner": {"reputation": 539, "user_id": 3212370, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/11a6578577b33df2ec7e2080c318941e?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Sidorov", "link": "https://stackoverflow.com/users/3212370/mikhail-sidorov"}, "edited": false, "score": 0, "creation_date": 1509349102, "post_id": 46415190, "comment_id": 80966554, "body": "can&#39;t explain this, but in my case change to &quot;compile&quot; instead of &quot;implementation&quot; with &quot;android.arch.persistence.room:runtime:1.0.0-rc1&quot; helped."}], "tags": [], "owner": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "is_accepted": false, "score": 2, "last_activity_date": 1506378986, "creation_date": 1506378986, "answer_id": 46415190, "question_id": 46415054, "link": "https://stackoverflow.com/questions/46415054/using-room-with-kotlin-get-exception-when-build-the-database/46415190#46415190", "title": "using Room with kotlin, get exception when build the database", "body": "<p>This is my workable build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n...    \nkapt {\n    generateStubs = true\n}\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'commons-io:commons-io:2.5'\n    compile \"android.arch.persistence.room:runtime:1.0.0-alpha9-1\"\n    kapt \"android.arch.persistence.room:compiler:1.0.0-alpha9-1\"\n}\n</code></pre>\n\n<p>Take into account: </p>\n\n<ul>\n<li><strong>apply plugin: 'kapt'</strong> is removed.</li>\n<li>kapt {\ngenerateStubs = true\n}</li>\n<li>compile instead on implementation.</li>\n</ul>\n\n<p>I used Kotlin 1.1.50.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1506380883, "creation_date": 1506378070, "last_edit_date": 1506380883, "question_id": 46415054, "link": "https://stackoverflow.com/questions/46415054/using-room-with-kotlin-get-exception-when-build-the-database", "title": "using Room with kotlin, get exception when build the database", "body": "<p>UPDATE: tried Mike's suggestion, still get error:</p>\n\n<pre><code>ext {\nkotlin_version = '1.1.50'\narch_lib_version = '1.0.0-alpha9'\ngradle_version = '2.3.3'\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\n\ncompile \"android.arch.lifecycle:runtime:$arch_lib_version\"\ncompile \"android.arch.lifecycle:extensions:$arch_lib_version\"\ncompile \"android.arch.persistence.room:runtime:$arch_lib_version\"\n\n//annotationProcessor \"android.arch.persistence.room:compiler:$arch_lib_version\"\nkapt \"android.arch.persistence.room:compiler:$arch_lib_version\"\nannotationProcessor \"android.arch.lifecycle:compiler:$arch_lib_version\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n\n\nError:Annotation processor '__gen.AnnotationProcessorWrapper_robotiumDebug_android_arch_persistence_room_RoomProcessor' not found\n</code></pre>\n\n<p>============</p>\n\n<p>in gradle:</p>\n\n<pre><code>ext {\n    arch_lib_version = '1.0.0-alpha9'\n}\n\ncompile \"android.arch.persistence.room:runtime:$arch_lib_version\"\n\nannotationProcessor \"android.arch.persistence.room:compiler:$arch_lib_version\"\n//kapt \"android.arch.persistence.room:compiler:$arch_lib_version\"\n</code></pre>\n\n<p>tried using the kapt, it will give compile error: </p>\n\n<pre><code>Error:Annotation processor '__gen.AnnotationProcessorWrapper_robotiumDebug_android_arch_persistence_room_RoomProcessor' not found\n</code></pre>\n\n<p>the code snippet is below:</p>\n\n<pre><code>      @Database(entities = arrayOf(CModel::class), version = 1)\nabstract  class CDatabase  : RoomDatabase() {\n\nabstract fun cModel(): DbCDao\n\ncompanion object {\n    fun getDatabase(context: Context): CDatabase {\n        return Room.databaseBuilder(context.applicationContext, CDatabase::class.java, \u201cdatabase\u201d)\n.build()  //&lt;=== throw here saying CDatabase_Impl does not exist\n    }    \n}\n</code></pre>\n\n<p>}</p>\n\n<p>the table clas:</p>\n\n<pre><code>@Entity(tableName = \u201ctable\u201d)\nclass CModel() : ICDelegate {\n\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = \u201cindex\")\nprivate var mIndex: Long = -1\n\n@ColumnInfo(name = \"parentIndex\")\nprivate var mParentIndex: Long = -1\n\n\u2026\u2026\n}\n</code></pre>\n\n<p>the Dao interface defination:</p>\n\n<pre><code>@Dao\ninterface DbCDao {\n\n@Query(\"select * from table\")\nfun loadAllAccountss(): List&lt;CModel&gt;\n\n@Query(\"select * from table where index = :index\")\nfun loadCsByIndex(index: Int): CModel\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insertC(ac: CModel) : Long\n\n@Update(onConflict = OnConflictStrategy.REPLACE)\nfun updateAC(ac: CModel) : Int\n\n@Delete\nfun deleteAc(ac: CModel) : Int\n\n@Query(\"DELETE FROM table\u201d)\nfun deleteAllCs()\n\n\n}\n</code></pre>\n\n<p>the exception:</p>\n\n<pre><code>   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n                                        Caused by: \njava.lang.RuntimeException: cannot find implementation for com.myproject.data. CDatabase. CDatabase_Impl does not exist\n                                           at \nandroid.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\n                                           at \n</code></pre>\n\n<p>android.arch.persistence.room.RoomDatabase$Builder.build(RoomDatabase.java:440)</p>\n\n<p>tried someone suggested and does not work:</p>\n\n<pre><code>javaCompileOptions {\n        annotationProcessorOptions {\n            arguments = [\"room.schemaLocation\":\n            \"$projectDir/schemas\".toString()]\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx-html", "kotlin-html-builder"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1506371235, "post_id": 46413579, "comment_id": 79785143, "body": "Your link doesn&#39;t even point to the Koans. You&#39;re looking for <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Builders/Html%20builders/Task.kt\" rel=\"nofollow noreferrer\">this one</a>. But notice the <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Builders/Html%20builders/html.kt\" rel=\"nofollow noreferrer\">html.kt</a> file on the left."}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1506372202, "post_id": 46413579, "comment_id": 79785601, "body": "That example I think comes from the Koans, but you might be looking for <a href=\"https://github.com/Kotlin/kotlinx.html\" rel=\"nofollow noreferrer\">the <code>kotlinx.html</code> library</a>."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1506390997, "post_id": 46413579, "comment_id": 79791067, "body": "@chris still did not get how to make it, there is no &#39;main&#39; function, how to call this,  and h how it will be displayed."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1506391059, "post_id": 46413579, "comment_id": 79791085, "body": "@mkobit still did not get how to use it, can you provide full example, thanks"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1506400717, "post_id": 46413579, "comment_id": 79793351, "body": "@HasanAYousef, Yeah, the html.kt file is essentially a small library. The entry points are the tests in the other file, which call <code>renderProductTable</code>. That gives a pretty clear view of how to use it."}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506391090, "post_id": 46414605, "comment_id": 79791095, "body": "Still did not get how to make it, can you provide full example, thanks."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506419516, "post_id": 46414605, "comment_id": 79803531, "body": "I added an example"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506540457, "post_id": 46414605, "comment_id": 79867115, "body": "Thanks, can you help here: <a href=\"https://stackoverflow.com/questions/46455185/handling-freemaker-template-with-ktor-kotlin\" title=\"handling freemaker template with ktor kotlin\">stackoverflow.com/questions/46455185/&hellip;</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1506419437, "last_edit_date": 1506419437, "creation_date": 1506375622, "answer_id": 46414605, "question_id": 46413579, "link": "https://stackoverflow.com/questions/46413579/kotlin-html-builder/46414605#46414605", "title": "Kotlin HTML-Builder", "body": "<p>You\u2019re referring to a <strong>DSL</strong> written in Kotlin for constructing HTML through the builder. The library can be found here: <a href=\"https://github.com/Kotlin/kotlinx.html\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.html</a></p>\n\n<p>Here's a running example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument()\n    val html = document.create.html {\n        head {\n            title(\"Hello world\")\n        }\n        body {\n            h1(\"h1Class\"){\n                +\"My header1\"\n            }\n            p(\"pClass\"){\n                +\"paragraph1\"\n            }\n        }\n    }\n\n   intoStream(html, System.out)\n}\n\nfun intoStream(doc: Element, out: OutputStream) {\n    with(TransformerFactory.newInstance().newTransformer()){\n        setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"no\")\n        setOutputProperty(OutputKeys.METHOD, \"xml\")\n        setOutputProperty(OutputKeys.INDENT, \"yes\")\n        setOutputProperty(OutputKeys.ENCODING, \"UTF-8\")\n        setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\")\n        transform(DOMSource(doc),\n                StreamResult(OutputStreamWriter(out, \"UTF-8\")))\n    }\n}\n</code></pre>\n\n<p>And finally here's the corresponding output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello world&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1 class=\"h1Class\"&gt;My header1&lt;/h1&gt;\n    &lt;p class=\"pClass\"&gt;paragraph1&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4209, "favorite_count": 1, "accepted_answer_id": 46414605, "answer_count": 1, "score": 1, "last_activity_date": 1506419437, "creation_date": 1506370980, "question_id": 46413579, "link": "https://stackoverflow.com/questions/46413579/kotlin-html-builder", "title": "Kotlin HTML-Builder", "body": "<p>In <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin page</a>, under <code>HTML-Builder</code> I can see the below code, how can I use it in simple .tk file? how t get started here?</p>\n\n<pre><code>val data = mapOf(1 to \"one\", 2 to \"two\")\n\ncreateHTML().table {\n    for ((num, string) in data) {\nIterate over data\n        tr {\nFunctions to create HTML tags\n           td { +\"$num\" } \n           td { +string }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["string", "split", "kotlin", "calculator"], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 3449634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd923b77c876264393438d8378c63180?s=128&d=identicon&r=PG", "display_name": "palasjir", "link": "https://stackoverflow.com/users/3449634/palasjir"}, "is_accepted": false, "score": 1, "last_activity_date": 1506410112, "creation_date": 1506410112, "answer_id": 46419982, "question_id": 46413402, "link": "https://stackoverflow.com/questions/46413402/how-to-split-a-string-with-a-set-of-delimiters-and-find-what-delimiter-it-was-k/46419982#46419982", "title": "How to Split a string with a set of delimiters and find what delimiter it was? Kotlin", "body": "<p>I'm afraid that <code>split</code> method doesn't have this feature. You would have to split the the string via separate <code>split</code> calls. And compare the outcome with original string. If the string wasn't split by given delimiter that outcome should be the same.</p>\n\n<p>Eg. like this:</p>\n\n<pre><code>var str = \"5+1\"\nvar delimiters = arrayOf(\"+\",\"-\",\"*\",\"/\")\nvar found = \"Not found\"\nfor (delimiter in delimiters) {\n    var splited = str.split(delimiter)\n    if(splited[0] != str) {\n        found = delimiter\n        break\n    }\n}\nprintln(found)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6654804"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506410112, "creation_date": 1506370141, "question_id": 46413402, "link": "https://stackoverflow.com/questions/46413402/how-to-split-a-string-with-a-set-of-delimiters-and-find-what-delimiter-it-was-k", "title": "How to Split a string with a set of delimiters and find what delimiter it was? Kotlin", "body": "<p>So I am learning Kotlin now, and I was trying to do a calculator where if we can give expression like 4+3 or 3*5 and we will get the answer so I was trying to split that input string and then find what operator is used and what are the operands.</p>\n\n<pre><code>var list = str.split(\"+\",\"-\",\"*\",\"/\" )\n</code></pre>\n\n<p>so how can i get the delimiter that is used to split that string too.</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 4351, "user_id": 1996639, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZYXbh.jpg?s=128&g=1", "display_name": "zella", "link": "https://stackoverflow.com/users/1996639/zella"}, "edited": false, "score": 1, "creation_date": 1506492980, "post_id": 46411947, "comment_id": 79837510, "body": "I tried same with java and there is no type inference issue. Seems like its kotlin issue. Anyway, you can explicitly specify the type i.e<code>val hr: ObservableTransformer&lt;T, T&gt; = RxUtils.handleResponse2()</code>"}, {"owner": {"reputation": 229, "user_id": 4805317, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97a0c9d6c6354579d7d8b7f5bf51efa9?s=128&d=identicon&r=PG&f=1", "display_name": "Dreo", "link": "https://stackoverflow.com/users/4805317/dreo"}, "reply_to_user": {"reputation": 4351, "user_id": 1996639, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZYXbh.jpg?s=128&g=1", "display_name": "zella", "link": "https://stackoverflow.com/users/1996639/zella"}, "edited": false, "score": 0, "creation_date": 1506617588, "post_id": 46411947, "comment_id": 79903911, "body": "Interesting. Thanks! I will look into it."}], "owner": {"reputation": 229, "user_id": 4805317, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97a0c9d6c6354579d7d8b7f5bf51efa9?s=128&d=identicon&r=PG&f=1", "display_name": "Dreo", "link": "https://stackoverflow.com/users/4805317/dreo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1506364329, "creation_date": 1506364329, "question_id": 46411947, "link": "https://stackoverflow.com/questions/46411947/strange-behavior-of-compose-and-observabletransformer-in-rxjava-when-the-passed", "title": "Strange behavior of compose and ObservableTransformer in RxJava when the passed generic extends something", "body": "<p>While trying to play with compose in RxJava2 I found something I can't really explain.</p>\n\n<p>Suppose we have the following two static methods:</p>\n\n<pre><code>object RxUtils {\n\nfun &lt;T&gt; handleResponse(): ObservableTransformer&lt;T, T&gt; {\n    return ObservableTransformer { observable -&gt;\n        observable.flatMap { t -&gt;\n                ObservableFromCallable.fromCallable(object: Callable&lt;T&gt;{\n                    override fun call(): T {\n                        return t\n                    }\n            })\n        }\n    }\n}\n\n\nfun &lt;T: GenericResponse&gt; handleResponse2(): ObservableTransformer&lt;T, T&gt; {\n    return ObservableTransformer { observable -&gt;\n        observable.flatMap { t -&gt;\n            ObservableFromCallable.fromCallable(object: Callable&lt;T&gt;{\n                override fun call(): T {\n                    return t\n                }\n            })\n        }\n    }\n}}\n</code></pre>\n\n<p>handleResponse and handleResponse2 are the same, the difference is that in handleResponse2 T extends GenericResponse.</p>\n\n<p>The problem is that when i use handleResponse2 in compose, the object which comes from compose is not an Observable and I can't use any Observable operators.</p>\n\n<p>Example:</p>\n\n<pre><code>fun &lt;T: GenericResponse&gt; loadApi2(observable: Observable&lt;T&gt;): Observable&lt;T&gt; {\n    return observable\n            .compose(RxUtils.handleResponse2()) // here is blocked, can't use any other operator\n}\n\nfun &lt;T: GenericResponse&gt; loadApi(observable: Observable&lt;T&gt;): Observable&lt;T&gt; {\n    return observable\n            .compose(RxUtils.handleResponse()) //works fine, I can use other operators such as compose, subscribeOn etc\n\n}\n</code></pre>\n"}, {"tags": ["transactions", "kotlin", "jooq"], "answers": [{"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 1, "last_activity_date": 1506600549, "creation_date": 1506600549, "answer_id": 46468778, "question_id": 46411931, "link": "https://stackoverflow.com/questions/46411931/jooq-transactions-connections-are-not-released-to-pool-if-exception-thrown-in/46468778#46468778", "title": "Jooq transactions: connections are not released to pool, if exception thrown in transaction", "body": "<p>As you've noticed, given your question edit, jOOQ internally catches only <code>Exception</code> subtypes, not <code>Throwable</code> subtypes in order to influence the transaction management. In <a href=\"https://github.com/jOOQ/jOOQ/blob/version-3.9.6/jOOQ/src/main/java/org/jooq/impl/DefaultDSLContext.java#L474\" rel=\"nofollow noreferrer\"><code>DefaultDSLContext.transactionResult0()</code></a>, you can see the following code (taken form version 3.9.6, shortened for this question):</p>\n\n<pre><code>try {\n    provider.begin(ctx);\n    result = transactional.run(ctx.configuration());\n    provider.commit(ctx);\n}\ncatch (Exception cause) { // &lt;-- This is the problem\n    ctx.cause(cause);\n    provider.rollback(ctx);\n\n    if (cause instanceof RuntimeException) {\n        throw (RuntimeException) cause;\n    }\n    else {\n        throw new DataAccessException(\"Rollback caused\", cause);\n    }\n}\n</code></pre>\n\n<p>As you can see, while there is a distinction between checked and unchecked <em>exceptions</em> there's no distinction between <code>Exception</code> and <code>Throwable</code>.</p>\n\n<h3>Rationale, in Java vs Kotlin / Scala</h3>\n\n<p>Historically, in Java, no one really creates <code>Throwable</code> subtypes. That type only exists as a common super type for <code>Exception</code> and <code>Error</code>. So, the assumption is that a <code>Throwable</code> is either of the above, and <code>Error</code> types usually shouldn't be caught by any client / library code.</p>\n\n<p>That assumption is invalidated by languages like Kotlin and Scala, which do not inherit this, admittedly a bit weird API design from early Java days. There's no reason why a user-defined exception shouldn't directly extend <code>Throwable</code>. Unfortunately, the status quo means you cannot use throwables, you have to throw exceptions.</p>\n\n<h3>Bug</h3>\n\n<p>This is certainly a bug in jOOQ and should be fixed:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/6608\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/6608</a></p>\n\n<p>As it is somewhat backwards-incompatible in terms of behaviour, it will only be fixed in a minor release, i.e. 3.10</p>\n"}], "owner": {"reputation": 149, "user_id": 5428739, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/de2995f30ef37bd47369fafdf4569638?s=128&d=identicon&r=PG&f=1", "display_name": "Sheppard", "link": "https://stackoverflow.com/users/5428739/sheppard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 46468778, "answer_count": 1, "score": 1, "last_activity_date": 1506600549, "creation_date": 1506364261, "last_edit_date": 1506433361, "question_id": 46411931, "link": "https://stackoverflow.com/questions/46411931/jooq-transactions-connections-are-not-released-to-pool-if-exception-thrown-in", "title": "Jooq transactions: connections are not released to pool, if exception thrown in transaction", "body": "<p>I'm using HikariCP with Jooq. \nThe code: \n*In Kotlin:</p>\n\n<pre><code>//dataSource is from Hikari\nDSL.using(dataSource, sqlDialect).transaction {\n     config -&gt;\n     //in create it simply calls dsl.insertInto .... \n     UserRepo.create(User(name=\"joe\"), DSL.using(config))\n     UserRepo.create(User(name=\"foo\"), DSL.using(config))\n\n}\n</code></pre>\n\n<p>And everything runs ok.</p>\n\n<p>But if I throw in block, the connections are not closed (released) (though the transaction is rolled back).</p>\n\n<p>UPDATE:</p>\n\n<p>I'm new to Java so it was my fault. In test, I used to throw Kotlin's <code>Throwable</code> (not the <code>Exception</code>), which was not correctly handled by Java part of the code.</p>\n\n<p>Everything works as expected with regular Exceptions.</p>\n"}, {"tags": ["javascript", "html", "kotlin", "kotlinx-html"], "answers": [{"comments": [{"owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "edited": false, "score": 0, "creation_date": 1577852250, "post_id": 46431896, "comment_id": 105268912, "body": "I think they&#39;ve updated the doc on that events page since this answer was posted."}], "tags": [], "owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "is_accepted": true, "score": 1, "last_activity_date": 1506444824, "last_edit_date": 1506444824, "creation_date": 1506444523, "answer_id": 46431896, "question_id": 46411777, "link": "https://stackoverflow.com/questions/46411777/how-to-generate-html-tags-from-kotlin/46431896#46431896", "title": "How to generate HTML tags from Kotlin?", "body": "<p>The <a href=\"https://github.com/kotlinx/kotlinx\" rel=\"nofollow noreferrer\">Kotlinx library</a> does support callbacks. The code example in its <a href=\"https://github.com/kotlin/kotlinx.html/wiki/Events\" rel=\"nofollow noreferrer\">Events Page</a> is wrong. Just include <code>kotlinx.html.js.*</code> and use the event names ending with <code>Function</code>:</p>\n\n<pre><code>div {\n    onClickFunction = { event -&gt;\n        window.alert(\"Kotlin!\")\n    }\n}\n</code></pre>\n\n<p>To make things more difficult, the name <code>onClick</code> does exist, but it takes a string: <code>onClick = \"alert('Kotlin!')\"</code></p>\n"}], "owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 46431896, "answer_count": 1, "score": 1, "last_activity_date": 1506444824, "creation_date": 1506363724, "question_id": 46411777, "link": "https://stackoverflow.com/questions/46411777/how-to-generate-html-tags-from-kotlin", "title": "How to generate HTML tags from Kotlin?", "body": "<p>I would like to generate HTML from Kotlin (running in the browser). I tried the <a href=\"https://github.com/kotlinx/kotlinx\" rel=\"nofollow noreferrer\">Kotlinx library</a> but <a href=\"https://github.com/kotlin/kotlinx.html/wiki/Events\" rel=\"nofollow noreferrer\">it doesn't support callbacks</a>, such as:</p>\n\n<pre><code>div {\n    onclick = { event -&gt;\n        window.alert(\"Kotlin!\")\n    }\n}\n</code></pre>\n\n<p>Are there other similar libraries? Maybe something similar to <a href=\"https://github.com/weavejester/hiccup\" rel=\"nofollow noreferrer\">Clojure's Hickup</a> or <a href=\"http://docs.groovy-lang.org/docs/latest/html/api/groovy/xml/MarkupBuilder.html\" rel=\"nofollow noreferrer\">Groovy's MarkupBuilder</a>?</p>\n"}, {"tags": ["arrays", "2d", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 294439, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jldP4.png?s=128&g=1", "display_name": "Serge Merzliakov", "link": "https://stackoverflow.com/users/294439/serge-merzliakov"}, "edited": false, "score": 0, "creation_date": 1612664768, "post_id": 46411430, "comment_id": 116837004, "body": "Good answer, but damn that syntax is ugly. A weak spot of the language IMHO"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 10, "last_activity_date": 1506364420, "last_edit_date": 1506364420, "creation_date": 1506362433, "answer_id": 46411430, "question_id": 46410924, "link": "https://stackoverflow.com/questions/46410924/kotlin-how-to-create-a-2d-array-of-the-type-string/46411430#46411430", "title": "Kotlin: how to create a 2D Array of the type String", "body": "<p>There's no <code>StringArray</code> in Kotlin <a href=\"https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string\">(here's an explanation why)</a>, use <code>Array&lt;String&gt;</code> instead.</p>\n\n<p>If you can provide the array items as you create the arrays, then creating the array can be done as:</p>\n\n<pre><code>val result = Array(10) { i -&gt;\n    Array(8) { j -&gt; \n        \"the String at position $i, $j\" // provide some initial value based on i and j\n    }\n}\n\nprintln(result[0][3]) // Prints: the String at position 0, 3\n</code></pre>\n\n<p>Otherwise, you can either use some default <code>String</code> value:</p>\n\n<pre><code>val result = Array(10) { Array(8) { \"\" } }\n</code></pre>\n\n<p>Or create the inner arrays filled with <code>null</code> values (note: you will have to <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">deal with nullability</a>, you won't be able to use the items as non-null values):</p>\n\n<pre><code>val result = Array(10) { arrayOfNulls&lt;String&gt;(8) } // The type is `Array&lt;Array&lt;String?&gt;&gt;\nresult[0][0] = \"abc\"\nprintln(result[0][0]!!.reversed()) // Without `!!`, the value is treated as not-safe-to-use\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 9403898, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Cherif Diallo", "link": "https://stackoverflow.com/users/9403898/cherif-diallo"}, "is_accepted": false, "score": 2, "last_activity_date": 1577735279, "last_edit_date": 1577735279, "creation_date": 1577733906, "answer_id": 59535900, "question_id": 46410924, "link": "https://stackoverflow.com/questions/46410924/kotlin-how-to-create-a-2d-array-of-the-type-string/59535900#59535900", "title": "Kotlin: how to create a 2D Array of the type String", "body": "<p>You can also use <strong><code>Array&lt;Array&lt;String&gt;&gt;</code></strong>. Note that the compiler can automatically infer this type, but specifying the type may help you understand better what's going on. Here is an example with output:</p>\n\n<pre><code>fun main() {\n    // Create the 2D array of Strings\n    val string2DArray: Array&lt;Array&lt;String&gt;&gt; = arrayOf(\n        arrayOf(\"apple\", \"orange\", \"avocado\", \"mango\", \"banana\"),\n        arrayOf(\"_\", \"!\", \":\", \"?\"),\n        arrayOf(\"1\", \"2\", \"3\", \"4\", \"5\", \"10\"))\n\n    // Print the 2D array\n    string2DArray.forEach {\n        it.forEach { it -&gt; print(\"$it, \") }\n        println()\n    }\n\n    // Access an individual String using index notation.\n    println(\"My favorite fruit is: ${string2DArray[0][2]}\")\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>apple, orange, avocado, mango, banana,\n_, !, :, ?,\n1, 2, 3, 4, 5, 10,\n\nMy favorite fruit is: avocado\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1391, "user_id": 4308897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X67wO4XjVAE/AAAAAAAAAAI/AAAAAAAAADw/NacwJv67gHI/photo.jpg?sz=128", "display_name": "Ercan", "link": "https://stackoverflow.com/users/4308897/ercan"}, "is_accepted": false, "score": 0, "last_activity_date": 1582275653, "creation_date": 1582275653, "answer_id": 60335216, "question_id": 46410924, "link": "https://stackoverflow.com/questions/46410924/kotlin-how-to-create-a-2d-array-of-the-type-string/60335216#60335216", "title": "Kotlin: how to create a 2D Array of the type String", "body": "<p>When you convert Java codes to Kotlin, sometimes IDE cannot convert it the way it is expected.\nMost the of the time I got code as</p>\n\n<pre><code>Array(x) { arrayOf(ArrayList&lt;String&gt;(y)) }\n</code></pre>\n\n<p>but this code always throw <strong>ArrayIndexOutOfBoundsException</strong> exception such as</p>\n\n<blockquote>\n  <p>java.lang.ArrayIndexOutOfBoundsException: length=1; index=1</p>\n</blockquote>\n\n<p>So as @hotkey suggested you can use below approach which is also worked for me;</p>\n\n<pre><code>Array(x) { Array(y) { ArrayList&lt;String&gt;(y) } }\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 8488684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1da24aae56ed38b9402c73974d5e0e2?s=128&d=identicon&r=PG", "display_name": "shikhar623", "link": "https://stackoverflow.com/users/8488684/shikhar623"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5762, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1582275653, "creation_date": 1506360630, "question_id": 46410924, "link": "https://stackoverflow.com/questions/46410924/kotlin-how-to-create-a-2d-array-of-the-type-string", "title": "Kotlin: how to create a 2D Array of the type String", "body": "<p>i am learning kotlin. i need to create a 2D array which can hold words , special chars and numbers .some where i found this piece of code \n<a href=\"https://i.stack.imgur.com/ICmV7.png\" rel=\"nofollow noreferrer\">THIS</a>\nThe problem with this is that it can hold only Int .\nWhen i tried replacing keyword \"IntArray\" with \"string\". it returned an error\n<a href=\"https://i.stack.imgur.com/RW20P.png\" rel=\"nofollow noreferrer\"> ERROR</a>\nCan someone help me create a 10x8 Arrray which can hold strings in Kotlin</p>\n"}, {"tags": ["regex", "kotlin", "sequence"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1506358982, "post_id": 46410292, "comment_id": 79778594, "body": "It might feel more verbose, but your intent seems very clear to me (subjective, yes)."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1506363369, "creation_date": 1506363369, "answer_id": 46411681, "question_id": 46410292, "link": "https://stackoverflow.com/questions/46410292/kotlin-how-to-get-a-capture-group-of-the-first-line-that-matches/46411681#46411681", "title": "Kotlin: How to get a capture group of the first line that matches?", "body": "<p>You can simplify it to single <code>.mapNotNull { ... }</code>:</p>\n\n<pre><code>input.lineSequence()\n    .mapNotNull { regex.find(it)?.groupValues?.get(1) }\n    .first()\n</code></pre>\n\n<p>If <code>.find(it)</code> returns <code>null</code>, the value will still be dropped from the sequence, and otherwise it will be processed in the same call.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3073, "favorite_count": 0, "accepted_answer_id": 46411681, "answer_count": 1, "score": 2, "last_activity_date": 1506363369, "creation_date": 1506358241, "question_id": 46410292, "link": "https://stackoverflow.com/questions/46410292/kotlin-how-to-get-a-capture-group-of-the-first-line-that-matches", "title": "Kotlin: How to get a capture group of the first line that matches?", "body": "<ol>\n<li>Starting with a lineSequence</li>\n<li>I'd like to test if a Regex matches, and if so, get the first match</li>\n<li>Furthermore, I'd like to return a capturing group from that Regex match</li>\n</ol>\n\n<p>If I didn't care, I'd do a \"first\" on the lineSequence, and if it existed, re-run the regex.</p>\n\n<pre><code>val possibleMatch = input.lineSequence().first { myRegex.matches(it) }\n</code></pre>\n\n<p>... but I want to be kotlin-cool and not have to re-run the regex.  Should I use a map to a MatchGroup and filter out nulls?  Feels more verbose than it could be...</p>\n\n<pre><code>input.lineSequence()\n.mapNotNull { myRegex.find(it) }\n.map { it.groupValues[1] }\n.first()\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1506374447, "post_id": 46408617, "comment_id": 79786610, "body": "So you already wrote the code. What is the actual question you have?"}, {"owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1506388721, "post_id": 46408617, "comment_id": 79790573, "body": "This is single thread, how to make it faster by using coroutines in kotlin?"}], "answers": [{"tags": [], "owner": {"reputation": 1767, "user_id": 5607230, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-yxTaDUTQbFI/AAAAAAAAAAI/AAAAAAAAACk/PyBMKtiZFCE/photo.jpg?sz=128", "display_name": "Wackaloon", "link": "https://stackoverflow.com/users/5607230/wackaloon"}, "is_accepted": false, "score": 0, "last_activity_date": 1532612529, "creation_date": 1532612529, "answer_id": 51540343, "question_id": 46408617, "link": "https://stackoverflow.com/questions/46408617/how-to-write-a-recursive-coroutines-in-kotlin/51540343#51540343", "title": "How to write a recursive coroutines in kotlin", "body": "<p>you don't need a  <code>fun findTxtFile(path: String)</code> to be <code>suspend</code>. Remove that modifier and it will work. \n<code>suspend</code> modifier lets you use coroutines inside of method, but you don't have any coroutines inside - so it's unnecessary</p>\n"}], "owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 934, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1532612529, "creation_date": 1506352357, "last_edit_date": 1506404445, "question_id": 46408617, "link": "https://stackoverflow.com/questions/46408617/how-to-write-a-recursive-coroutines-in-kotlin", "title": "How to write a recursive coroutines in kotlin", "body": "<p>I would like to write a faster File Searcher in kotlin to find all text files under my home folder. </p>\n\n<p>Here is my code with sequence search</p>\n\n<pre><code>import java.io.File\nimport java.util.concurrent.atomic.AtomicLong\n\nvar count: AtomicLong = AtomicLong(0)\n\nfun main(args: Array&lt;String&gt;) {\n  println(System.getProperty(\"user.home\"))\n\n  val start = System.currentTimeMillis()\n  findTxtFile(System.getProperty(\"user.home\") + \"/git\", \".txt\")\n\n  println(\"took: \" + (System.currentTimeMillis() - start))\n\n  println(count.get())\n}\n\n\nfun findTxtFile(path: String, extension: String) {\n  File(path).listFiles().forEach {\n    if (it.isDirectory) {\n      findTxtFile(it.absolutePath, extension)\n    } else if (it.name.endsWith(extension)) {\n      count.getAndIncrement()\n    }\n  }\n}\n</code></pre>\n\n<p>I wrote a program following, however when you have a lot of file, it throw NullPointerException, how could it possible throw null pointer Exception?</p>\n\n<pre><code>import kotlinx.coroutines.experimental.CommonPool\nimport kotlinx.coroutines.experimental.async\nimport kotlinx.coroutines.experimental.runBlocking\nimport java.io.File\n\nfun main(args: Array&lt;String&gt;) {\n    val start = System.currentTimeMillis()\n    var filePath = System.getProperty(\"user.home\")\n    var deferred = File(filePath).listFiles().map { path -&gt;\n        async(CommonPool) {\n            findTxtFile(path.absolutePath)\n        }\n    }\n\n    runBlocking {\n        deferred.map {\n            it.await()\n        }\n    }\n    println((System.currentTimeMillis() - start) / 1000)\n}\n\nsuspend fun findTxtFile(path: String) {\n    //println(\"--------------------- $path\")\n    if (File(path).isDirectory) {\n        File(path).listFiles().forEach {\n            findTxtFile(it.absolutePath) //===&gt; Exception happen here\n        }\n    } else if (path.endsWith(\".java\")) {\n        println(path)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1506346891, "post_id": 46406682, "comment_id": 79770930, "body": "what kind of error?"}, {"owner": {"reputation": 7367, "user_id": 1742973, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6ea28ba189bf64baba86a9afd6efc257?s=128&d=identicon&r=PG", "display_name": "Matias Elorriaga", "link": "https://stackoverflow.com/users/1742973/matias-elorriaga"}, "edited": false, "score": 0, "creation_date": 1506347008, "post_id": 46406682, "comment_id": 79771004, "body": "why is not working? please add the error stack trace or something..."}, {"owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "edited": false, "score": 0, "creation_date": 1506347791, "post_id": 46406682, "comment_id": 79771546, "body": "Update my question. Retrofit could not provide presenter"}, {"owner": {"reputation": 7055, "user_id": 2350083, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/ekgg9.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/2350083/jon"}, "edited": false, "score": 2, "creation_date": 1506377073, "post_id": 46406682, "comment_id": 79787633, "body": "@trnahaminh please add your solution as an Answer instead of editing your original question."}, {"owner": {"reputation": 909, "user_id": 3090337, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/60b5c3149bb01219e29fe4b55ee57484?s=128&d=identicon&r=PG&f=1", "display_name": "cfl", "link": "https://stackoverflow.com/users/3090337/cfl"}, "edited": false, "score": 0, "creation_date": 1532459515, "post_id": 46406682, "comment_id": 89980938, "body": "what a legend - thanks for fix"}], "answers": [{"tags": [], "owner": {"reputation": 4683, "user_id": 3870025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a0fd762141547dc47fbf1fd5b9b389fc?s=128&d=identicon&r=PG&f=1", "display_name": "solidak", "link": "https://stackoverflow.com/users/3870025/solidak"}, "is_accepted": false, "score": 0, "last_activity_date": 1506348273, "creation_date": 1506348273, "answer_id": 46407152, "question_id": 46406682, "link": "https://stackoverflow.com/questions/46406682/dagger-injection-not-working-in-kotlin/46407152#46407152", "title": "Dagger injection not working in kotlin", "body": "<p>You can't define a static variable as a <code>lateinit</code> and expect <code>onCreate()</code> to initialize it. Try something like this:</p>\n\n<pre><code>class GlobalApplication : Application() {\n    companion object {\n        lateinit var globalApp: GlobalApplication\n    }\n\n    internal var mApplicationComponent: ApplicationComponent? = null\n        get\n\n    override fun onCreate() {\n        super.onCreate()\n        globalApp = this\n\n        //Init Timber\n        if (BuildConfig.DEBUG) {\n            Timber.plant(Timber.DebugTree())\n        }\n\n        //Init application component\n        mApplicationComponent = DaggerApplicationComponent.builder()\n                .applicationModule(ApplicationModule(this))\n                .build()\n\n        mApplicationComponent?.inject(this)\n\n        //Ignore URI exposure\n        val builder = StrictMode.VmPolicy.Builder()\n        StrictMode.setVmPolicy(builder.build())\n    }\n}\n</code></pre>\n\n<p>Taken from this project: <a href=\"https://github.com/Obaied/Sohan/blob/master/app/src/main/java/com/obaied/sohan/GlobalApplication.kt\" rel=\"nofollow noreferrer\">https://github.com/Obaied/Sohan/blob/master/app/src/main/java/com/obaied/sohan/GlobalApplication.kt</a></p>\n"}, {"comments": [{"owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "edited": false, "score": 1, "creation_date": 1506349325, "post_id": 46407478, "comment_id": 79772611, "body": "Can you please explain why? I have seen many other using @Inject"}, {"owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "edited": false, "score": 0, "creation_date": 1506350232, "post_id": 46407478, "comment_id": 79773253, "body": "It does not work"}], "tags": [], "owner": {"reputation": 11, "user_id": 7856881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149c44cd7b1ddeebc25d9a1c3f00aa91?s=128&d=identicon&r=PG&f=1", "display_name": "Danilo", "link": "https://stackoverflow.com/users/7856881/danilo"}, "is_accepted": false, "score": 1, "last_activity_date": 1506349117, "creation_date": 1506349117, "answer_id": 46407478, "question_id": 46406682, "link": "https://stackoverflow.com/questions/46406682/dagger-injection-not-working-in-kotlin/46407478#46407478", "title": "Dagger injection not working in kotlin", "body": "<p>In the MainActivity, you can replace the code:</p>\n\n<pre><code>@Inject\nlateinit var presenter:  MainActivityContract.Presenter\n</code></pre>\n\n<p>for </p>\n\n<pre><code>@field:[Inject]\nlateinit var presenter: MainActivityContract.Presenter\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 1, "closed_date": 1506406646, "answer_count": 2, "score": 0, "last_activity_date": 1506355229, "creation_date": 1506346848, "last_edit_date": 1506355229, "question_id": 46406682, "link": "https://stackoverflow.com/questions/46406682/dagger-injection-not-working-in-kotlin", "closed_reason": "Not suitable for this site", "title": "Dagger injection not working in kotlin", "body": "<p>Someone helps me to point out that why my code does not work. I try to figure out but I cannot find out the problem\nI try to inject presenter but I got the error: </p>\n\n<pre><code>lateinit property appComponent has not been initialized\n</code></pre>\n\n<p>It seems that the presenter has been not injected\nAppModule</p>\n\n<pre><code>@Module\nclass AppModule {\n    @Provides @Singleton\n    fun provideMainPresenter():  MainActivityContract.Presenter = MainActivityPresenter()\n}\n</code></pre>\n\n<p>AppComponent</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class))\ninterface AppComponent {\n\n    fun inject(target: MainActivity)\n\n}\n</code></pre>\n\n<p>App</p>\n\n<pre><code>class App: Application() {\n\n    companion object {\n        lateinit var  appComponent: AppComponent\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        appComponent = initDagger()\n    }\n\n    fun initDagger() = DaggerAppComponent.create()\n}\n</code></pre>\n\n<p>This is the MainActivity where I want inject presenter to</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), MainActivityContract.View, AnkoLogger {\n\n    @Inject\n    lateinit var presenter:  MainActivityContract.Presenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        App.appComponent.inject(this)\n        presenter.attachView(this) \n    }\n\n}\n</code></pre>\n\n<p>This is MainActivityPresenter which implements MainActivityContract.Presenter</p>\n\n<pre><code>class MainActivityPresenter: MainActivityContract.Presenter {\n    var view: MainActivityContract.View? = null\n\n    override fun attachView(view: MainActivityContract.View) {\n        this.view = view\n    }\n\n    override fun detachView() {\n        view = null\n    }\n\n    override fun performToast(text: String) {\n    }\n\n}\n</code></pre>\n\n<p><strong>Edit:</strong> I managed to solve it myself:\nFor all android beginner as I am. When we declare App extends Application. We must declare it in manifest as well</p>\n\n<pre><code>&lt;application\n        android:name=\".App\"\n/&gt;\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "edited": false, "score": 1, "creation_date": 1506346966, "post_id": 46406376, "comment_id": 79770972, "body": "you have a property called isJobAccessGranted, so appropriate generated getter will be isIsJobAccessGranted. Maybe it is the issue?"}, {"owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "reply_to_user": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "edited": false, "score": 0, "creation_date": 1506347739, "post_id": 46406376, "comment_id": 79771504, "body": "no @mike it is not generating isIsJobAccessGranted"}, {"owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "reply_to_user": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "edited": false, "score": 6, "creation_date": 1506352973, "post_id": 46406376, "comment_id": 79775161, "body": "Dont know the exact reason behind this but using <code>@field:JvmField</code> over <code>var isJobAccessGranted: Boolean? = null</code> solved my problem"}], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 6415836, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ljceL.png?s=128&g=1", "display_name": "r3dm4n", "link": "https://stackoverflow.com/users/6415836/r3dm4n"}, "edited": false, "score": 7, "creation_date": 1549522547, "post_id": 52268330, "comment_id": 95933719, "body": "Why is this not on the front page of the Firebase Kotlin docs ?"}, {"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "reply_to_user": {"reputation": 971, "user_id": 6415836, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ljceL.png?s=128&g=1", "display_name": "r3dm4n", "link": "https://stackoverflow.com/users/6415836/r3dm4n"}, "edited": false, "score": 2, "creation_date": 1604262152, "post_id": 52268330, "comment_id": 114286968, "body": "@r3dm4n this is now on the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#custom_objects\" rel=\"nofollow noreferrer\">Firestore docs</a>. Thanks for the suggestion!"}], "tags": [], "owner": {"reputation": 3781, "user_id": 3212712, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eZV9f.jpg?s=128&g=1", "display_name": "mohax", "link": "https://stackoverflow.com/users/3212712/mohax"}, "is_accepted": false, "score": 14, "last_activity_date": 1536637299, "creation_date": 1536637299, "answer_id": 52268330, "question_id": 46406376, "link": "https://stackoverflow.com/questions/46406376/kotlin-class-does-not-get-its-boolean-value-from-firebase/52268330#52268330", "title": "Kotlin class does not get its boolean value from firebase", "body": "<p>As mentioned in <a href=\"https://stackoverflow.com/questions/46406376/kotlin-class-does-not-get-its-boolean-value-from-firebase#comment79775161_46406376\">comment</a> in <code>Kotlin</code> you should add <code>@field:JvmField</code> for every <code>Boolean</code> field in class, as when <code>Kotlin</code> translates to <code>Java</code> it generates setters, which names couldnt be resolved by JSON parser. And <code>@field:JvmField</code> annotation overrides this feature and there will be correct setters names and JSON will be parsed correctly.</p>\n"}], "owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1536637299, "creation_date": 1506345846, "last_edit_date": 1506350292, "question_id": 46406376, "link": "https://stackoverflow.com/questions/46406376/kotlin-class-does-not-get-its-boolean-value-from-firebase", "title": "Kotlin class does not get its boolean value from firebase", "body": "<p>I have my kotlin class as </p>\n\n<pre><code>class Center : Serializable {\nvar active: Boolean? = null\nvar address: String? = null\nvar isJobAccessGranted: Boolean? = null\n}\n</code></pre>\n\n<p>here is how i am getting value </p>\n\n<pre><code> //from java class\n   @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n            centerMap.put(dataSnapshot.getKey(), dataSnapshot.getValue(Center.class));\n        }\n</code></pre>\n\n<p>but problem is that i am getting value of <code>active</code> field without any issue. But <code>isJobAccessGranted</code> boolean field always remains null. I have tested with some other boolean removing <code>is</code> prefix which works fine. I don't get Boolean value when i use <code>isActive</code> or <code>isJobAccessGranted</code>. Can anyone explain me why i am facing this issue. #AskFirebase</p>\n"}, {"tags": ["unit-testing", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1506340808, "post_id": 46404462, "comment_id": 79766631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46392445/how-to-write-test-for-kotlin-lambda\">How to write test for kotlin lambda?</a>"}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1506341011, "post_id": 46404462, "comment_id": 79766767, "body": "@nhaarman this answer don&#39;t have answers, but have negative reaction. I hope community help in this question"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1506341073, "post_id": 46404462, "comment_id": 79766804, "body": "Please improve your <a href=\"https://stackoverflow.com/questions/46392445/how-to-write-test-for-kotlin-lambda\">existing (1)</a> <a href=\"https://stackoverflow.com/questions/46399412/how-to-test-this-class\">questions (2)</a> instead of repeatedly creating new ones."}, {"owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1506341086, "post_id": 46404462, "comment_id": 79766818, "body": "eq(func0),  eq(func1),  eq(func2)) Isn&#39;t this like three times same condition (eq(Unit)). And your function reserveBadCaseUser expects DeviceCondition argument."}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1506341339, "post_id": 46404462, "comment_id": 79766993, "body": "@pokemzok i update post. reserveBadCaseUser in this case 100% have condition == DeviceCondition.LOST - excepted and workerId too"}, {"owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1506343694, "post_id": 46404462, "comment_id": 79768600, "body": "Ok, so I&#39;ve got next question. Why are you passing for example eq(func0)? In my opinion you should pass all the params without eq. Every funcion reserveBadCaseDevice argument expects value other than Boolean (I assume eq returns true or false). Also what this line do  &quot;presenter.lostClick()&quot;. Is it recurrence or presenter is some instance of other class which you do not post?"}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1506344148, "post_id": 46404462, "comment_id": 79768929, "body": "@pokemzok i try it without eq(), with real parameters, where id and condition is a concrete value, but this works similarly. How i know - eq in mockito is a Matcher and if condition return true, then then is worked with them. presenter.lostClick() called this method reserveBadCaseUser() with parameter LOST, i mistake when didn&#39;t put that in the question. And yes - some instance. I add this moment in post"}], "answers": [{"tags": [], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "is_accepted": true, "score": 0, "last_activity_date": 1506418940, "creation_date": 1506418940, "answer_id": 46422966, "question_id": 46404462, "link": "https://stackoverflow.com/questions/46404462/how-to-call-specific-lambda-in-mock-class/46422966#46422966", "title": "How to call specific lambda in mock class?", "body": "<p>as it turned out the solution was pretty simple. Thanks a good community, you really helped!</p>\n\n<pre><code>doAnswer{\n            println(\"invoke\")\n            val args = it.getArguments()\n\n            (args[2] as (Unit) -&gt; Unit).invoke(Unit)\n        }.whenever(deviceInteractor).reserveBadCaseDevice(\n                eq(workerId),\n                eq(DeviceCondition.LOST),\n                any(),\n                any(),\n                any())\n</code></pre>\n"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 46422966, "answer_count": 1, "score": -2, "last_activity_date": 1506418940, "creation_date": 1506339918, "last_edit_date": 1506344207, "question_id": 46404462, "link": "https://stackoverflow.com/questions/46404462/how-to-call-specific-lambda-in-mock-class", "title": "How to call specific lambda in mock class?", "body": "<p>I have next text case with parameters:</p>\n\n<pre><code>@Test\nfun lostClick() {\n        //setup parameters\n\n        val func0 : (Unit) -&gt; Unit = { println(\"fun0\")}\n        val func1 : (String) -&gt; Unit = { println(\"fun1\")}\n        val func2 : (Int) -&gt; Unit = { println(\"fun2\")}\n\n        whenever(deviceInteractor.reserveBadCaseDevice( //equals `when`\n                eq(workerId),\n                eq(DeviceCondition.LOST),\n                eq(func0),\n                eq(func1),\n                eq(func2))).then({ func0.invoke(Unit) })\n\n        presenter.lostClick()\n\n        //view reaction\n        verify(viewState).showLoad(true)\n//        verify(viewState).setButtonGiveEnabled(true) // if func0 called this verify works\n//        verify(viewState).setButtonTakeEnabled(false)\n//        verify(viewState).setButtonCrashEnabled(false)\n//        verify(viewState).setButtonLostEnabled(false)\n//        verify(viewState).showLoad(false)\n    }\n</code></pre>\n\n<p>But this not works. func0 NOT called. in my presenter this method see this:</p>\n\n<pre><code>fun lostClick() {\n    reserveBadCaseUser(DeviceCondition.LOST)\n}\n\nprivate fun reserveBadCaseUser(condition: DeviceCondition) {\n        showLoad(true)\n\n        //condition == DeviceCondition.LOST\n        deviceInteractor.reserveBadCaseDevice(mCurrentWorker?.id!!, condition,\n                {\n                    clearCurrentDevice()\n                    validateButtonView()\n                    showLoad(false)\n                },\n                {\n                    showLoad(false)\n                    viewState.showErrorToast(it)\n                },\n                {\n                    showLoad(false)\n                    viewState.showErrorToast(it)\n                })\n    }\n</code></pre>\n\n<p>Calling go to showLoad(true) and next call reserveBadCaseDevice not worked. I checked deviceInteractor in test and presenter are one reference, presenter have need values (workerId and DeviceCondition), but method reserveBadCaseDevice not called everything.</p>\n\n<p>How to test my presenter method reserveBadCaseUser when this use class with method with triple lambda function? Or how to mock deviceInteractor correctly that would be called first lamda? </p>\n\n<p>method in deviceInteractor looks like this:</p>\n\n<pre><code>fun reserveBadCaseDevice(workerId: Int,\n                             condition: DeviceCondition,\n                             result: (Unit) -&gt; Unit,\n                             errorText: (String) -&gt; Unit,\n                             errorId: (Int) -&gt; Unit) {\n        val data = ReservedWorkerData(\n                DeviceState.TAKE,\n                condition, null,\n                workerId)\n\n        val call = apiService.postAsyncReserveDevice(data, prefManager.getPrefToken())\n        call.enqueue(object : Callback&lt;Void&gt; {\n            override fun onResponse(call: Call&lt;Void&gt;?, response: Response&lt;Void&gt;?) {\n                response?.let {\n                    if (response.isSuccessful) {\n                        result.invoke(Unit)\n                    } else {\n                        errorText(apiErrorUtil.parse(response).message)\n                    }\n                }\n            }\n\n            override fun onFailure(call: Call&lt;Void&gt;?, t: Throwable?) {\n                errorId(apiErrorUtil.parse(t).message)\n            }\n        })\n    }\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 2, "creation_date": 1506345029, "post_id": 46405995, "comment_id": 79769558, "body": "Yes, I go with <code>explode(&quot;org.apache.samza:samza-shell:$samzaVersion:dist@tgz&zwnj;&#8203;&quot;)</code>"}], "tags": [], "owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "is_accepted": true, "score": 2, "last_activity_date": 1506344689, "creation_date": 1506344689, "answer_id": 46405995, "question_id": 46404109, "link": "https://stackoverflow.com/questions/46404109/unable-to-use-all-configuration-parameters-with-a-custom-configuration-in-gradle/46405995#46405995", "title": "Unable to use all configuration parameters with a custom configuration in gradle with kotlin-dsl", "body": "<p>It will work this way:</p>\n\n<pre><code>val explode by configurations.creating\n\ndependencies {\n    explode(mapOf(\n      \"group\" to \"org.apache.samza\",\n      \"name\" to \"samza-shell\",\n      \"ext\" to \"tgz\",\n      \"classifier\" to \"dist\",\n      \"version\" to \"0.13.1\"\n      )\n    )\n}\n</code></pre>\n\n<p>To be honest, for the sake of brevity, I'd rather go with string interpolation.</p>\n\n<p>Also, with groovy, a instance of <code>Map</code> is passed as well.</p>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 46405995, "answer_count": 1, "score": 1, "last_activity_date": 1506344716, "creation_date": 1506338839, "last_edit_date": 1506344716, "question_id": 46404109, "link": "https://stackoverflow.com/questions/46404109/unable-to-use-all-configuration-parameters-with-a-custom-configuration-in-gradle", "title": "Unable to use all configuration parameters with a custom configuration in gradle with kotlin-dsl", "body": "<p>With gradle-groovy it is possible to have a custom configuration with a lot of parameters (group, name, version, ext, classifier):</p>\n\n<pre><code>configurations {\n    explode\n}\n\ndependencies {\n    explode (group: 'org.apache.samza', name: 'samza-shell', ext: 'tgz', classifier: 'dist', version: \"$SAMZA_VERSION\")\n}\n</code></pre>\n\n<p>But I don't know how to do that with the kotlin-dsl. I tried:</p>\n\n<pre><code>val explode by configurations.creating\n\ndependencies {\n    explode(group = \"org.apache.samza\", name = \"samza-shell\",  ext = \"tgz\", classifier = \"dist\", version = samzaVersion)\n    // \"explode\"(group = \"org.apache.samza\", name = \"samza-shell\",  ext = \"tgz\", classifier = \"dist\", version = samzaVersion)\n}\n</code></pre>\n\n<p>but without success. Any ideas?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506333584, "post_id": 46401921, "comment_id": 79762106, "body": "It would help for a better understanding if you also provide the call site (the working one with explicit type specification, and the one you aiming for)"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1506334797, "post_id": 46401921, "comment_id": 79762843, "body": "@guenhter Added it."}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 7, "last_activity_date": 1506333631, "creation_date": 1506333631, "answer_id": 46402463, "question_id": 46401921, "link": "https://stackoverflow.com/questions/46401921/inferring-only-some-type-parameters-in-kotlin/46402463#46402463", "title": "Inferring only some type parameters in Kotlin", "body": "<p>Based on <a href=\"https://youtrack.jetbrains.com/issue/KT-17061\" rel=\"noreferrer\">this issue/proposal</a>, I'd say no(t yet):</p>\n\n<blockquote>\n  <p>Hello, I am proposing two new feature for kotlin which go hand in\n  hand: partial type parameter list and default type parameters :) Which\n  in essence allows to do something as the following:</p>\n\n<pre><code>    data class Test&lt;out T&gt;(val value: T)\n\n    inline fun &lt;T: Any, reified TSub: T&gt; Test&lt;T&gt;.narrow(): Test&lt;TSub&gt;{\n        return if(value is TSub) Test(value as TSub) else throw ClassCastException(\"...\")\n    }\n\n    fun foo() {\n        val i: Any = 1\n        Test(i).narrow&lt;_, Int&gt;() // the _ means let Kotlin infer the first type parameter\n        // Today I need to repeat the obvious:\n        Test(i).narrow&lt;Any, Int&gt;()\n    } \n</code></pre>\n  \n  <p>It would be even nicer, if we can define something like:</p>\n\n<pre><code>    inline fun &lt;default T: Any, reified TSub: T&gt; Test&lt;T&gt;.narrow(): Test&lt;TSub&gt;{\n        return if(value is TSub) Test(value as TSub) else throw ClassCastException(\"...\")\n    } \n</code></pre>\n  \n  <p>And then don't even have to write <code>_</code> </p>\n\n<pre><code>    fun foo() {\n        val i: Any = 1\n        Test(i).narrow&lt;Int&gt;() //default type parameter, let Kotlin infer the first type parameter\n    }\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 2, "accepted_answer_id": 46402463, "answer_count": 1, "score": 9, "last_activity_date": 1506334736, "creation_date": 1506331936, "last_edit_date": 1506334736, "question_id": 46401921, "link": "https://stackoverflow.com/questions/46401921/inferring-only-some-type-parameters-in-kotlin", "title": "Inferring only some type parameters in Kotlin", "body": "<p>I have a method with two type parameters, only one of which can be inferred from arguments, something like (no need to comment this cast is evil, the body is purely for the sake of example)</p>\n\n<pre><code>fun &lt;A, B&gt; foo(x: Any, y: A.() -&gt; B) = (x as A).y()\n\n// at call site\nfoo&lt;String, Int&gt;(\"1\", { toInt() })\n</code></pre>\n\n<p>However, the compiler can tell <code>B</code> is <code>Int</code> <em>if</em> <code>A</code> is <code>String</code>. And more generally, if it knows <code>A</code>, <code>B</code> can be inferred.</p>\n\n<p>Is there a way to only provide <code>A</code> at the call site and infer <code>B</code>?</p>\n\n<p>Of course, the standard Scala approach works:</p>\n\n<pre><code>class &lt;A&gt; Foo() {\n    fun &lt;B&gt; apply(x: Any, y: A.() -&gt; B) = ...\n}\n\n// at call site\nFoo&lt;String&gt;().apply(\"1\", { toInt() })\n</code></pre>\n\n<p>I was interested in whether Kotlin has a more direct solution.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1506332008, "post_id": 46401879, "comment_id": 79761101, "body": "What would be a use case for this?"}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1506332261, "post_id": 46401879, "comment_id": 79761254, "body": "Making a request to an API that returns 0 or 1 for a field that should clearly be true/false. At the same time, I also make other requests to similar APIs for the same type of field that give me back true/false. I&#39;d like to share the code that handles that response from all APIs."}], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 2853392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2j5ao.jpg?s=128&g=1", "display_name": "vishal jangid", "link": "https://stackoverflow.com/users/2853392/vishal-jangid"}, "is_accepted": false, "score": 1, "last_activity_date": 1506332241, "creation_date": 1506332241, "answer_id": 46402019, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/46402019#46402019", "title": "Boolean - Int conversion in Kotlin", "body": "<p>No there is no way to convert. you only can convert by following below code </p>\n\n<pre><code> val output = if (input) 1 else 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1190, "user_id": 414806, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3441acb92bf4ebe1c77ad06d1e17f9bb?s=128&d=identicon&r=PG", "display_name": "AndroidGuy", "link": "https://stackoverflow.com/users/414806/androidguy"}, "edited": false, "score": 0, "creation_date": 1595495871, "post_id": 46402113, "comment_id": 111496843, "body": "Similarly convert Int to Boolean in Kotlin:                                                                                            fun Int.toBoolean() = this == 1"}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 89, "last_activity_date": 1506332591, "creation_date": 1506332591, "answer_id": 46402113, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/46402113#46402113", "title": "Boolean - Int conversion in Kotlin", "body": "<p>You can write an extension function of Boolean like</p>\n\n<pre><code>fun Boolean.toInt() = if (this) 1 else 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": false, "score": 3, "last_activity_date": 1506332620, "creation_date": 1506332620, "answer_id": 46402123, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/46402123#46402123", "title": "Boolean - Int conversion in Kotlin", "body": "<blockquote>\n  <p>Making a request to an API that returns 0 or 1 for a field that should clearly be true/false. At the same time, I also make other requests to similar APIs for the same type of field that give me back true/false. I'd like to share the code that handles that response from all APIs.</p>\n</blockquote>\n\n<p>In this case I think using converter of your mapping library (jackson, etc) will be best option.</p>\n\n<p>In plain Kotlin you can use extension function/property for this purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 12, "last_activity_date": 1548874224, "last_edit_date": 1548874224, "creation_date": 1506332724, "answer_id": 46402154, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/46402154#46402154", "title": "Boolean - Int conversion in Kotlin", "body": "<p>You could extend <code>Boolean</code> with an <strong>extension property</strong> in this case:</p>\n\n<pre><code>val Boolean.int \n     get() = if (this) 1 else 0\n</code></pre>\n\n<p>Now you can simply do <code>true.int</code> in your code</p>\n"}, {"tags": [], "owner": {"reputation": 510, "user_id": 1961783, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/TrtAa.jpg?s=128&g=1", "display_name": "Zebulon Li", "link": "https://stackoverflow.com/users/1961783/zebulon-li"}, "is_accepted": false, "score": 2, "last_activity_date": 1529040662, "creation_date": 1529040662, "answer_id": 50869592, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/50869592#50869592", "title": "Boolean - Int conversion in Kotlin", "body": "<p>use this : </p>\n\n<pre><code>val Boolean?.int\n    get() = if (this != null &amp;&amp; this) 1 else 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1964, "user_id": 5064151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2MNh.jpg?s=128&g=1", "display_name": "Muhammad Umair Shafique", "link": "https://stackoverflow.com/users/5064151/muhammad-umair-shafique"}, "edited": false, "score": 0, "creation_date": 1614285387, "post_id": 64011508, "comment_id": 117346824, "body": "Very clean solution."}], "tags": [], "owner": {"reputation": 908, "user_id": 5724394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1uQL.jpg?s=128&g=1", "display_name": "codegames", "link": "https://stackoverflow.com/users/5724394/codegames"}, "is_accepted": false, "score": 13, "last_activity_date": 1600783636, "creation_date": 1600783636, "answer_id": 64011508, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin/64011508#64011508", "title": "Boolean - Int conversion in Kotlin", "body": "<p>writing a function for this task for every project can be a little tedious.\nthere is a kotlin function that you can use it to achieve this.</p>\n<p>with <code>compareTo</code> if variable is <strong>greater than</strong> input it will output <strong>1</strong>, if <strong>equal to</strong> it will output <strong>0</strong> and if <strong>less than</strong> input it will output <strong>-1</strong></p>\n<p>so you can use it for this task like this:</p>\n<pre><code>v.compareTo(false) // 0 or 1\n</code></pre>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22330, "favorite_count": 5, "accepted_answer_id": 46402113, "answer_count": 6, "score": 49, "last_activity_date": 1600783636, "creation_date": 1506331802, "question_id": 46401879, "link": "https://stackoverflow.com/questions/46401879/boolean-int-conversion-in-kotlin", "title": "Boolean - Int conversion in Kotlin", "body": "<p>Is there no built-in way to convert between boolean - int in Kotlin? I am talking about the usual:</p>\n\n<pre><code>true -&gt; 1\nfalse -&gt; 0\n</code></pre>\n\n<p>If not, what is an idiomatic way to do it?</p>\n"}, {"tags": ["android", "generics", "gson", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 1, "creation_date": 1506330895, "post_id": 46401104, "comment_id": 79760298, "body": "I appreciate your down vote. I really need help. Please post the reason or post solution"}], "answers": [{"comments": [{"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1506332982, "post_id": 46401789, "comment_id": 79761716, "body": "Thanks, but can you see my data class? I have to pass result type."}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1506333964, "post_id": 46401789, "comment_id": 79762356, "body": "cannot access &#39;&lt;init&gt;&#39; it is &#39;public /*package*/&#39; in &#39;TypeToken&#39;"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1506334077, "post_id": 46401789, "comment_id": 79762424, "body": "<code>class Token : TypeToken&lt;ServiceCall&lt;SurveyListModel&gt;&gt;();     Gson().fromJson(json, Token().type)</code>"}, {"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1506334562, "post_id": 46401789, "comment_id": 79762694, "body": "Thanks for the help :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1506334656, "post_id": 46401789, "comment_id": 79762752, "body": "Glad I could help"}, {"owner": {"reputation": 340, "user_id": 1603041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3bbef86d7529b5cfc67792075d734e0?s=128&d=identicon&r=PG", "display_name": "ThetaSinner", "link": "https://stackoverflow.com/users/1603041/thetasinner"}, "edited": false, "score": 0, "creation_date": 1569582603, "post_id": 46401789, "comment_id": 102653492, "body": "I used this with Gradle uses a TypeOf class to wrap this. It looks like <code>project.extensions.getByType(TypeOf.typeOf(Token().type))</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 35, "last_activity_date": 1506334512, "last_edit_date": 1506334512, "creation_date": 1506331560, "answer_id": 46401789, "question_id": 46401104, "link": "https://stackoverflow.com/questions/46401104/only-classes-are-allowed-on-the-left-hand-side-of-a-class-literal/46401789#46401789", "title": "only classes are allowed on the left hand side of a class literal", "body": "<p>You can't use generics with <code>class</code>, as easily observable here:</p>\n\n<pre><code>List&lt;Int&gt;::class.java\n</code></pre>\n\n<p>It gives you the same error. To use the generic typ in GSON deserialization, do what is suggested here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/5554296/8073652\">https://stackoverflow.com/a/5554296/8073652</a></p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>In Kotlin it looks like this:</p>\n\n<pre><code>val type: Type = object : TypeToken&lt;ServiceCall&lt;SurveyListModel&gt;&gt;() {}.type \nGson().fromJson&lt;ServiceCall&lt;SurveyListModel&gt;&gt;(json, type).result\n</code></pre>\n\n<p>Here's a small proof of concept, I've written:</p>\n\n<pre><code> class Token : TypeToken&lt;List&lt;Int&gt;&gt;()\n val x: List&lt;Int&gt; = Gson().fromJson(Gson().toJson(arrayOf(1)), Token().type)\n println(x)\n</code></pre>\n"}], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11989, "favorite_count": 5, "accepted_answer_id": 46401789, "answer_count": 1, "score": 26, "last_activity_date": 1506334512, "creation_date": 1506329309, "question_id": 46401104, "link": "https://stackoverflow.com/questions/46401104/only-classes-are-allowed-on-the-left-hand-side-of-a-class-literal", "title": "only classes are allowed on the left hand side of a class literal", "body": "<p>I know a lot of similar questions here in StackOverflow, but nothing solved mine.</p>\n\n<p>I have a generic data class:</p>\n\n<pre><code>  data class ServiceCall&lt;out T&gt;(val result: T?, val exception: String?, val pagination: String?, val stringResult: String?)\n</code></pre>\n\n<p>I am trying to use like this:</p>\n\n<pre><code>Gson().fromJson(json, ServiceCall&lt;SurveyListModel&gt;::class.java).result\n</code></pre>\n\n<p>IDE shows error: <strong>only classes are allowed on the left hand side of a class literal</strong></p>\n\n<p>How to solve this? Thanks in advance.</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 2384, "user_id": 933186, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/nudDM.jpg?s=128&g=1", "display_name": "Anil", "link": "https://stackoverflow.com/users/933186/anil"}, "edited": false, "score": 0, "creation_date": 1506359829, "post_id": 46401101, "comment_id": 79778994, "body": "Are you getting any errors in your Android console?"}, {"owner": {"reputation": 118, "user_id": 1906786, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/08d896a3b449be3d1841cd9defbe8202?s=128&d=identicon&r=PG", "display_name": "Vishal", "link": "https://stackoverflow.com/users/1906786/vishal"}, "edited": false, "score": 0, "creation_date": 1517053278, "post_id": 46401101, "comment_id": 83944073, "body": "I am also facing same issue as asked in question. How can i get around it ? Any Help....."}, {"owner": {"reputation": 107, "user_id": 8538506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4_ZPpbxmNRQ/AAAAAAAAAAI/AAAAAAAARBw/5r9kMiOEE_Y/photo.jpg?sz=128", "display_name": "Duncan Roberts", "link": "https://stackoverflow.com/users/8538506/duncan-roberts"}, "edited": false, "score": 0, "creation_date": 1517158869, "post_id": 46401101, "comment_id": 83970637, "body": "This seems to have been resolved in the ARCore developer preview 2. Are you using the latest version of the SDK?"}], "answers": [{"comments": [{"owner": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1542622896, "post_id": 53355559, "comment_id": 93620987, "body": "Thank you so much for your patience and help! The ArSession class exists into NDK only? Not in Android ArCore library? (screenshot <a href=\"http://prntscr.com/lk5vzs\" rel=\"nofollow noreferrer\">prntscr.com/lk5vzs</a> ). I don&#39;t use NDK for my task."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 1, "creation_date": 1542623615, "post_id": 53355559, "comment_id": 93621360, "body": "Yes, you&#39;re absolutely right, this session&#39;s management is for NDK (it&#39;s documented though). I do not know exactly if session&#39;s management exists for ARCore Lib. Maybe <code>YES</code>, maybe <code>NO</code>. There&#39;s no Google description on this issue..."}, {"owner": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1542624344, "post_id": 53355559, "comment_id": 93621787, "body": "Ok, thank you! I just will try to recreate the ArFragment."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1542624584, "post_id": 53355559, "comment_id": 93621931, "body": "You&#39;re welcome! If you succeed in destroying a session via ARCore Lib, please let me know about it."}, {"owner": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1542921981, "post_id": 53355559, "comment_id": 93749994, "body": "Sir, can you help me with this question? <a href=\"https://stackoverflow.com/questions/53437128/how-i-can-set-repeated-texture-on-an-object-in-android-arcore-sceneform-api\" title=\"how i can set repeated texture on an object in android arcore sceneform api\">stackoverflow.com/questions/53437128/&hellip;</a>"}, {"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "reply_to_user": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1568699887, "post_id": 53355559, "comment_id": 102346527, "body": "Hi @AndrewGrow, how you recreated the ArFragment?"}, {"owner": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "reply_to_user": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1568716146, "post_id": 53355559, "comment_id": 102354565, "body": "@NoumanCh Hello. In finally, we have went to other way ) Close activity - open other activity."}, {"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1568718429, "post_id": 53355559, "comment_id": 102355733, "body": "hmm this is not good for UX. I&#39;m replacing a fragment and it&#39;s working for me. thanks,"}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1542624182, "last_edit_date": 1542624182, "creation_date": 1542488633, "answer_id": 53355559, "question_id": 46401101, "link": "https://stackoverflow.com/questions/46401101/arcore-session-is-not-restarting/53355559#53355559", "title": "ARCore session is not restarting", "body": "<p><strong>In ARCore NDK</strong> you'd use the following method for destroying a session and releasing its resources:</p>\n\n<pre><code>void ArSession_destroy(\n    ArSession *session\n)\n</code></pre>\n\n<p>This method releases resources used by an ARCore session. It'll take several seconds to complete. To prevent blocking the main thread, call <code>ArSession_pause()</code> on the <strong>main thread</strong>, and then call <code>ArSession_destroy()</code> on a <strong>background thread</strong>.</p>\n\n<p><strong>Then, you have to create a new session with :</strong></p>\n\n<pre><code>ArSession_create()\n</code></pre>\n\n<p>Also, <strong>in ARCore Android</strong>, there's typically <code>onPause()</code> and <code>onResume()</code> methods for <strong>current session</strong>. But I use 2 other ones: <code>pause()</code> for pausing the current session and <code>resume()</code> for starting or resuming the ARCore current session. </p>\n\n<p><strong>In Unity</strong> you should try <code>DestroyImmediate(session)</code> or <code>Destroy(session)</code> for your purpose.</p>\n\n<pre><code>ARCoreSession session = goARCoreDevice.GetComponent&lt;ARCoreSession&gt;();\nARCoreSessionConfig myConfig = session.SessionConfig;\nDestroyImmediate(session);\n// Destroy(session);\nyield return null;\nsession = goARCoreDevice.AddComponent&lt;ARCoreSession&gt;();\nsession.SessionConfig = myConfig;\nsession.enabled = true;\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "is_accepted": false, "score": 0, "last_activity_date": 1568719014, "creation_date": 1568719014, "answer_id": 57973109, "question_id": 46401101, "link": "https://stackoverflow.com/questions/46401101/arcore-session-is-not-restarting/57973109#57973109", "title": "ARCore session is not restarting", "body": "<p>For those who have an issue with ARCore in android studio, to solve this I used the simple workaround of replacing fragment instead of restarting entire Activity.</p>\n\n<p><strong>Procedure:</strong> I'm adding ArFragment dynamically and when the user press on refresh button I'm replacing the entire fragment. </p>\n\n<p>1-Adding Fragment dynamically: </p>\n\n<pre><code>getSupportFragmentManager()\n                .beginTransaction()\n                .add(R.id.container, new MainARFragment())\n                .addToBackStack(null)\n                .commit();\n</code></pre>\n\n<p>2-Here is my refresh button code: </p>\n\n<pre><code> refreshButton.setOnClickListener(view -&gt; {\n            //refresh everything remove models and detect from start\n            getSupportFragmentManager().beginTransaction()\n                    .replace(R.id.container, new MainARFragment()).commit();\n        });\n</code></pre>\n\n<p>Everything worked fine but when I tried to findFragmentById after adding it inside onCreate method I got null pointer exception. To avoid this use Callback from ArFragment and in onAttach of ArFragment call the onComplete method and then use :</p>\n\n<pre><code>arFragment = (MainARFragment) getSupportFragmentManager().findFragmentById(R.id.container);\n</code></pre>\n\n<p>Hope this will help.</p>\n"}], "owner": {"reputation": 107, "user_id": 8538506, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4_ZPpbxmNRQ/AAAAAAAAAAI/AAAAAAAARBw/5r9kMiOEE_Y/photo.jpg?sz=128", "display_name": "Duncan Roberts", "link": "https://stackoverflow.com/users/8538506/duncan-roberts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2033, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1574685347, "creation_date": 1506329304, "last_edit_date": 1547855067, "question_id": 46401101, "link": "https://stackoverflow.com/questions/46401101/arcore-session-is-not-restarting", "title": "ARCore session is not restarting", "body": "<p>Using Google ARCore, when I am in the game I have built I have a restart button to clear the scene and restart the level. I was doing this by reloading the scene using <code>Scenemanager.LoadScene()</code>, however when the scene reloads the camera is not initialised and just shows a blue screen with my UI over the top. </p>\n\n<p>Is there something I can use in code to ensure this doesn't happen when reloading the scene?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 27144, "user_id": 477415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iBHq6.jpg?s=128&g=1", "display_name": "Ollie C", "link": "https://stackoverflow.com/users/477415/ollie-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1506328677, "creation_date": 1506328677, "answer_id": 46400891, "question_id": 46400770, "link": "https://stackoverflow.com/questions/46400770/why-an-unresolved-reference-on-attempting-to-access-constant-values/46400891#46400891", "title": "Why an unresolved reference on attempting to access constant values?", "body": "<p>And the solution is.... to make very sure all Kotlin source files have a .kt file extension! In this case the APIConstants file was called \"APIConstants\" and not \"APIConstants.kt\" which appears to mean the IDE was able to resolve references based on the content of the file, but the build tools could not. Confusingly Android Studio showed a Kotlin K icon on the filename despite the lack of a .kt extension.</p>\n"}], "owner": {"reputation": 27144, "user_id": 477415, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/iBHq6.jpg?s=128&g=1", "display_name": "Ollie C", "link": "https://stackoverflow.com/users/477415/ollie-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515361766, "creation_date": 1506328283, "last_edit_date": 1515361766, "question_id": 46400770, "link": "https://stackoverflow.com/questions/46400770/why-an-unresolved-reference-on-attempting-to-access-constant-values", "title": "Why an unresolved reference on attempting to access constant values?", "body": "<p>The app defines constants in a Kotlin singleton object:</p>\n\n<pre><code>@file:JvmName(\"APIConstants\")\npackage com.myapp.api\n\nobject APIConstants {\n    const val HTTP_RESPONSE_CODE_NOT_AUTHORIZED = 401\n    etc....\n}\n</code></pre>\n\n<p>They are then used in another class:</p>\n\n<pre><code>import com.myapp.api.APIConstants.HTTP_RESPONSE_CODE_NOT_AUTHORIZED\netc ...\n\nclass API {\n\n    private fun returnBadResponse(response: Response&lt;*&gt;, callback: ApiAuthListener&lt;*&gt;) {\n    if (response.code() == HTTP_RESPONSE_CODE_NOT_AUTHORIZED) {\n        callback.onBadAuthToken()\n    } else {\n        callback.onFailure(response.message(), getServerError(response))\n    }\n}\n</code></pre>\n\n<p>In this class Android Studio (3.0 beta) provided a hint to add the import for the constant, and it does not give any indication of a problem (no red underlines etc, and the constant reference in the method is shown in purple italic text indicating it has been resolved) but when I build the project I get this:</p>\n\n<pre><code>Error: Unresolved reference: HTTP_RESPONSE_CODE_NOT_AUTHORIZED\n</code></pre>\n\n<p>I've tried clearing the IDE cache and restarting it, and doing a clean build, which make no difference. I've tried removing the @JvmName annotation and even placing the const values in the root of the file with no containing object but neither allows a build.</p>\n\n<p>Why is the class failing to reference the constant, especially when the IDE strongly suggests it can resolve it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 1, "creation_date": 1506323504, "post_id": 46399430, "comment_id": 79755957, "body": "why do you tag this with Java? you may want to check this: <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 1, "last_activity_date": 1506326236, "last_edit_date": 1506326236, "creation_date": 1506323805, "answer_id": 46399541, "question_id": 46399430, "link": "https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin/46399541#46399541", "title": "Difference between open and override methods in Kotlin?", "body": "<p>By default, the functions in Kotlin are defined as <code>final</code>.\nThat means you cannot override them. If you remove the <code>open</code> from your function <code>v()</code> than you will get an error in your class <code>Derived</code> that the function <code>v</code> is final and cannot be overridden.</p>\n\n<p>When you mark a function with <code>open</code>, it is not longer <code>final</code> and you can override it in derived classes.</p>\n"}, {"tags": [], "owner": {"reputation": 1054, "user_id": 7804295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q9I7W.jpg?s=128&g=1", "display_name": "Shriyansh Gautam", "link": "https://stackoverflow.com/users/7804295/shriyansh-gautam"}, "is_accepted": false, "score": 2, "last_activity_date": 1506332208, "last_edit_date": 1506332208, "creation_date": 1506323841, "answer_id": 46399551, "question_id": 46399430, "link": "https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin/46399551#46399551", "title": "Difference between open and override methods in Kotlin?", "body": "<blockquote>\n  <p>The <code>open</code> annotation on a class is the opposite of Java's <code>final</code>: it allows others to inherit from this class as by default all classes in Kotlin are <code>final</code>. [<a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Source</a>]</p>\n</blockquote>\n\n<p>Only after declaring a class as <code>open</code> we can <code>inherit</code> that class.</p>\n\n<p>A method can only be <code>overridden</code> if it is open in the base class. Annotation <code>override</code> signals the overriding of base method by inheriting class.</p>\n"}, {"comments": [{"owner": {"reputation": 3379, "user_id": 5709159, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/DL3rX.jpg?s=128&g=1", "display_name": "Aleksey Timoshchenko", "link": "https://stackoverflow.com/users/5709159/aleksey-timoshchenko"}, "edited": false, "score": 0, "creation_date": 1519625310, "post_id": 46400277, "comment_id": 84969706, "body": "But what about &#39;public&#39; keyword? Can I inherit from &#39;public class&#39;?"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 46, "last_activity_date": 1599342604, "last_edit_date": 1599342604, "creation_date": 1506326613, "answer_id": 46400277, "question_id": 46399430, "link": "https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin/46400277#46400277", "title": "Difference between open and override methods in Kotlin?", "body": "<p>Yes, both <code>open</code> keywords are mandatory in your example.</p>\n<hr />\n<p>You have to distinguish between the use of <code>open</code> on classes and functions.</p>\n<p><strong>Class:</strong> You need the <code>open</code> keyword on a class if you want to inherit from it. By default all classes are <code>final</code> and can not be inherited from.</p>\n<p><strong>Function:</strong> On a function you need <code>open</code> to be able to override it. By default all functions are <code>final</code> and you cannot override them.</p>\n<hr />\n<p><strong>Edit:</strong> Because I saw some confusion in the comments.</p>\n<blockquote>\n<p>I have an internal abstract class which I can Inherit without any\nproblem. I also can override it abstract methods as I please without\ndeclaring them as open</p>\n</blockquote>\n<p>Abstract classes are meant to be inherited because you cannot instantiate them. in fact they are not just <code>open</code> by default, they cannot be <code>final</code> in the first place. <code>final</code> and <code>abstract</code> are not compatible. The same goes for <code>abstract</code> methods, they have to be overriden!</p>\n"}], "owner": {"reputation": 577, "user_id": 4619977, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fe2187a9cba2627a4ff29f745a6e1254?s=128&d=identicon&r=PG&f=1", "display_name": "Deepan", "link": "https://stackoverflow.com/users/4619977/deepan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12492, "favorite_count": 2, "accepted_answer_id": 46400277, "answer_count": 3, "score": 20, "last_activity_date": 1599342604, "creation_date": 1506323353, "last_edit_date": 1506326712, "question_id": 46399430, "link": "https://stackoverflow.com/questions/46399430/difference-between-open-and-override-methods-in-kotlin", "title": "Difference between open and override methods in Kotlin?", "body": "<pre><code>open class Base {\n\n    open fun v() {}\n\n    fun nv() {}\n}\n\nclass Derived() : Base() {\n\n    override fun v() {}\n}\n</code></pre>\n\n<p>This is an example. Can someone please explain the difference?\nIs open keyword mandatory here?</p>\n"}, {"tags": ["java", "compilation", "kotlin", "java-6"], "answers": [{"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 4, "last_activity_date": 1506308297, "creation_date": 1506308297, "answer_id": 46396989, "question_id": 46396751, "link": "https://stackoverflow.com/questions/46396751/why-does-kotlin-byte-code-reference-java-util-function-biconsumer/46396989#46396989", "title": "Why does Kotlin byte code reference java.util.function.BiConsumer?", "body": "<blockquote>\n  <p>kotlinc-jvm 1.1.4-3 (JRE 1.8.0_131-b11)</p>\n</blockquote>\n\n<p>It seems like you are using JDK 8 version. If you are using gradle, you should check your <code>build.gradle</code>.</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib\" // JDK 6\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7\" // JDK 7\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre8\" // JDK 8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 10, "creation_date": 1506323738, "post_id": 46397602, "comment_id": 79756082, "body": "Alternatively use <code>aMap.forEach { (k, v) -&gt; println(&quot;$k -&gt; $v&quot;)}</code> - notice the <code>(k, v)</code>. It does <code>Entry</code> decomposition in-place"}], "tags": [], "owner": {"reputation": 443, "user_id": 211440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8712544a640b49e824068684a44780b4?s=128&d=identicon&r=PG", "display_name": "HawaiianSpork", "link": "https://stackoverflow.com/users/211440/hawaiianspork"}, "is_accepted": false, "score": 22, "last_activity_date": 1506313460, "creation_date": 1506313460, "answer_id": 46397602, "question_id": 46396751, "link": "https://stackoverflow.com/questions/46396751/why-does-kotlin-byte-code-reference-java-util-function-biconsumer/46397602#46397602", "title": "Why does Kotlin byte code reference java.util.function.BiConsumer?", "body": "<p>Turns out that kotlin Map inherits from java.util.Map. When you call <code>aMap.forEach { k, v -&gt; println(\"$k -&gt; $v\")}</code>, you are calling the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-\" rel=\"noreferrer\">Java version</a> of the method.</p>\n\n<p>However, if you change the code to take an entry: <code>aMap.forEach { entry -&gt; println(\"$entry.key -&gt; $entry.value\")}</code>, you are calling the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"noreferrer\">Kotlin version</a> and the code will run on JRE6.</p>\n\n<p>You can flag the dependency on the JRE by compiling with the <code>-no-jdk</code> flag to the compiler.</p>\n\n<pre><code>\u00bb kotlinc CompilerTest.kt -no-jdk -jvm-target 1.6 -include-runtime -d compilerTest.jar\nCompilerTest.kt:5:10: error: type inference failed: inline fun &lt;K, V&gt; Map&lt;out K, V&gt;.forEach(action: (Map.Entry&lt;K, V&gt;) -&gt; Unit): Unit\ncannot be applied to\nreceiver: Map&lt;String, String&gt;  arguments: ((Map.Entry&lt;String, String&gt;, ???) -&gt; Unit)\n\n    aMap.forEach { k, v -&gt; println(\"$k -&gt; $v\")}\n         ^\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2026, "user_id": 1735100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdVMy.jpg?s=128&g=1", "display_name": "Denys Vasylenko", "link": "https://stackoverflow.com/users/1735100/denys-vasylenko"}, "edited": false, "score": 0, "creation_date": 1527067922, "post_id": 50065092, "comment_id": 87982490, "body": "Thank you, you saved me a lot of time"}, {"owner": {"reputation": 816, "user_id": 2520926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0flx.png?s=128&g=1", "display_name": "Jos&#233; Messias Jr", "link": "https://stackoverflow.com/users/2520926/jos%c3%a9-messias-jr"}, "reply_to_user": {"reputation": 2026, "user_id": 1735100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kdVMy.jpg?s=128&g=1", "display_name": "Denys Vasylenko", "link": "https://stackoverflow.com/users/1735100/denys-vasylenko"}, "edited": false, "score": 0, "creation_date": 1528235608, "post_id": 50065092, "comment_id": 88428030, "body": "Yeah, it took me a lot of time too!"}], "tags": [], "owner": {"reputation": 816, "user_id": 2520926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0flx.png?s=128&g=1", "display_name": "Jos&#233; Messias Jr", "link": "https://stackoverflow.com/users/2520926/jos%c3%a9-messias-jr"}, "is_accepted": false, "score": 5, "last_activity_date": 1524840988, "creation_date": 1524840988, "answer_id": 50065092, "question_id": 46396751, "link": "https://stackoverflow.com/questions/46396751/why-does-kotlin-byte-code-reference-java-util-function-biconsumer/50065092#50065092", "title": "Why does Kotlin byte code reference java.util.function.BiConsumer?", "body": "<p>Try to disable the Instant run, under</p>\n\n<p><code>Preferences &gt; Build, Execution, Deployment</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/plQba.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/plQba.png\" alt=\"Android Studio Preferences\"></a></p>\n\n<p>It was the only thing that worked for me!</p>\n"}], "owner": {"reputation": 443, "user_id": 211440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8712544a640b49e824068684a44780b4?s=128&d=identicon&r=PG", "display_name": "HawaiianSpork", "link": "https://stackoverflow.com/users/211440/hawaiianspork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1524840988, "creation_date": 1506306150, "question_id": 46396751, "link": "https://stackoverflow.com/questions/46396751/why-does-kotlin-byte-code-reference-java-util-function-biconsumer", "title": "Why does Kotlin byte code reference java.util.function.BiConsumer?", "body": "<p>From what I understand Kotlin should be able to run using JRE 6.  But this code with a <code>foreach</code> on a map fails because of a reference to a Java 8 class (<code>java/util/function/BiConsumer</code>)</p>\n\n<p>CompilerTest.kt:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  val aMap = mapOf(\"bar\" to \"bat\")\n  aMap.forEach { k, v -&gt; println(\"$k -&gt; $v\")}\n}\n</code></pre>\n\n<p>Compile the Kotlin code:</p>\n\n<pre><code>\u00bb kotlinc CompilerTest.kt -jvm-target 1.6 -include-runtime -d compilerTest.jar\n</code></pre>\n\n<p>Testing the compiled code on JRE 6:</p>\n\n<pre><code>\u00bb docker run --rm -v \"$PWD\":/usr/src/myapp -w /usr/src/myapp openjdk:6-jdk-slim java -jar compilerTest.jar\nException in thread \"main\" java.lang.NoClassDefFoundError: java/util/function/BiConsumer\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:323)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:268)\n    at CompilerTestKt.main(CompilerTest.kt:5)\nCaused by: java.lang.ClassNotFoundException: java.util.function.BiConsumer\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:217)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:323)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:268)\n    ... 12 more\n</code></pre>\n\n<p>Version Information:</p>\n\n<pre><code>\u00bb kotlinc -version         \ninfo: kotlinc-jvm 1.1.4-3 (JRE 1.8.0_131-b11)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "constants"], "answers": [{"tags": [], "owner": {"reputation": 1022, "user_id": 7490702, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7ea03927b315a836cc81c86e3f505797?s=128&d=identicon&r=PG&f=1", "display_name": "JavaBanana", "link": "https://stackoverflow.com/users/7490702/javabanana"}, "is_accepted": false, "score": 4, "last_activity_date": 1506306907, "creation_date": 1506306907, "answer_id": 46396833, "question_id": 46396104, "link": "https://stackoverflow.com/questions/46396104/how-make-multiple-sub-set-constant-in-kotlin/46396833#46396833", "title": "how make multiple sub set constant in kotlin", "body": "<p>Unlike Java Kotlin does not have static variables. Instead they have companion objects.\nEvery class comes with a companion object which you can use to store your static values.</p>\n\n<pre><code>class Constants {\n\n    companion object {\n        val HTTP_SCHEME = \"http\"\n        val HTTPS_SCHEME = \"https\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(Constants.HTTP_SCHEME)\n    println(Constants.HTTPS_SCHEME)\n}\n</code></pre>\n\n<p>Or if you want to group your static values together you can create non companion object </p>\n\n<pre><code>class Constants {\n\n    companion object {\n        var HTTP_SCHEME = \"http\"\n        var HTTPS_SCHEME = \"https\"\n    }\n\n    object ResponseType {\n        val XML = \"xml\"\n        val JSON = \"json\"\n    }\n    object PayloadType {\n        val JSON = \"json\"\n    }\n\n    object ItemDataType {\n        val ID = \"id\"\n        val IS_GLOBAL = \"isGlobal\"\n        val IS_TRANSLATED = \"isTranslated\"\n    }\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(Constants.ItemDataType.IS_TRANSLATED)\n    println(Constants.PayloadType.JSON)\n}\n</code></pre>\n\n<p>If you want your companion object values to be exposed as static to some Java classes you can annotate them with <code>@JvmStatic</code></p>\n\n<pre><code>class Constants {\n\n    companion object {\n        @JvmStatic var HTTP_SCHEME = \"http\"\n        @JvmStatic var HTTPS_SCHEME = \"https\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "is_accepted": false, "score": 1, "last_activity_date": 1506313539, "creation_date": 1506313539, "answer_id": 46397611, "question_id": 46396104, "link": "https://stackoverflow.com/questions/46396104/how-make-multiple-sub-set-constant-in-kotlin/46397611#46397611", "title": "how make multiple sub set constant in kotlin", "body": "<p>It's pretty easy, you can define as below:</p>\n\n<pre><code>class A{\n    class ResponseType {\n        companion object { \n             val code = 100 // you can call: A.ResponseType.code in everywhere now\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "is_accepted": true, "score": 3, "last_activity_date": 1506400521, "last_edit_date": 1506400521, "creation_date": 1506313606, "answer_id": 46397620, "question_id": 46396104, "link": "https://stackoverflow.com/questions/46396104/how-make-multiple-sub-set-constant-in-kotlin/46397620#46397620", "title": "how make multiple sub set constant in kotlin", "body": "<p>You can use below code :</p>\n\n<pre><code>object Data {\n  val HTTP_SCHEME = \"http\"\n  val HTTPS_SCHEME = \"https\"\n  class Constants {\n    object ResponseType {\n      val XML = \"xml\"\n      val JSON = \"json\"\n    }\n    object PayloadType {\n      val JSON = \"json\"\n    }\n    object ItemDataType {\n      val ID = \"id\"\n      val IS_GLOBAL = \"isGlobal\";\n      val IS_TRANSLATED = \"isTranslated\u201d;\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Explanation:</strong> </p>\n\n<p>In Kotlin <code>object</code> keyword is used create static class ( like in java).</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 1, "accepted_answer_id": 46397620, "answer_count": 3, "score": 4, "last_activity_date": 1506400521, "creation_date": 1506299361, "last_edit_date": 1506338251, "question_id": 46396104, "link": "https://stackoverflow.com/questions/46396104/how-make-multiple-sub-set-constant-in-kotlin", "title": "how make multiple sub set constant in kotlin", "body": "<p>In java having a class which defines a few constants, some are in the inner class.</p>\n\n<p>They could be referred as:</p>\n\n<pre><code>Data.HTTP_SCHEME;\nData.Constants.ResponseType.XML;\nData.PayloadType.JSON\n</code></pre>\n\n<p>How to do the same in Kotlin?</p>\n\n<pre><code>public class Data {\npublic static final String HTTP_SCHEME = \"http\";\npublic static final String HTTPS_SCHEME = \"https\";\n\npublic static class Constants {\n\n    public static class ResponseType {\n        public static final String XML = \"xml\";\n        public static final String JSON = \"json\";\n    }        \n    public static class PayloadType {\n        public static final String JSON = \"json\";\n    }\n\n    public static class ItemDataType {\n        public static final String ID = \"id\";\n        public static final String IS_GLOBAL = \"isGlobal\";\n        public static final String IS_TRANSLATED = \"isTranslated\u201d;\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "android-widget", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1506303600, "post_id": 46395897, "comment_id": 79750152, "body": "Probably a duplicate: <a href=\"https://stackoverflow.com/q/4337824/1531971\">stackoverflow.com/q/4337824/1531971</a>"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 8495570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/48b362ff085fd6d163b3c4c9fdf72a37?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond A", "link": "https://stackoverflow.com/users/8495570/desmond-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1506301072, "creation_date": 1506301072, "answer_id": 46396267, "question_id": 46395897, "link": "https://stackoverflow.com/questions/46395897/how-to-update-widget-android-studio-kotlin/46396267#46396267", "title": "How to update widget Android Studio Kotlin", "body": "<p>OH, I think i have found a solution. \nThere is a <code>android:updatePeriodMillis</code> on my Widget Info XML. That should do the trick.</p>\n"}], "owner": {"reputation": 93, "user_id": 8495570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/48b362ff085fd6d163b3c4c9fdf72a37?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond A", "link": "https://stackoverflow.com/users/8495570/desmond-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 669, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506301072, "creation_date": 1506296871, "question_id": 46395897, "link": "https://stackoverflow.com/questions/46395897/how-to-update-widget-android-studio-kotlin", "title": "How to update widget Android Studio Kotlin", "body": "<p>I am new to Android Studio and my problem is my widget is not updating. Let's say I changed my data JSON. I have read some threads and says that a widget has a time interval of 30mins to refresh. But I have waited for my simulator 30mins and nothing changed. Can someone help me out on this ? Because I want my widget to update atleast 30mins default.. </p>\n\n<pre><code>class TestWidget : AppWidgetProvider() {\n\n    private val httpClient = AsyncHttpClient()\n    private var title = String.toString()\n    private var imageUrl = String.toString()\n\n    override fun onUpdate(context: Context, appWidgetManager: AppWidgetManager, appWidgetIds: IntArray) {\n        // There may be multiple widgets active, so update all of them\n\n        httpClient.get(jsonUrl, object : JsonHttpResponseHandler() {\n            override fun onSuccess(statusCode: Int, headers: Array&lt;out Header&gt;, response: JSONArray) {\n\n                val json = response.getJSONObject(0)\n                title = json.getString(\"title\")\n                imageUrl = json.getString(\"imageUrl\")\n\n                val views = RemoteViews(context.packageName, R.layout.test_widget)\n                views.setTextViewText(R.id.text, title)\n                Picasso.with(context)\n                        .load(imageUrl)\n                        .into(views, R.id.image, appWidgetIds)\n\n            }\n\n            override fun onFailure(statusCode: Int, headers: Array&lt;out Header&gt;?, throwable: Throwable?, errorResponse: JSONObject?) {\n                println(throwable?.localizedMessage)\n\n            }\n        })\n\n        for (appWidgetId in appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId)\n\n        }\n    }\n\n    override fun onEnabled(context: Context) {\n        // Enter relevant functionality for when the first widget is created\n    }\n\n    override fun onDisabled(context: Context) {\n        // Enter relevant functionality for when the last widget is disabled\n    }\n\n    companion object {\n\n        internal fun updateAppWidget(context: Context, appWidgetManager: AppWidgetManager,\n                                     appWidgetId: Int) {\n\n            // Construct the RemoteViews object\n            val views = RemoteViews(context.packageName, R.layout.test_widget)\n\n            // Instruct the widget manager to update the widget\n            appWidgetManager.updateAppWidget(appWidgetId, views)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "classnotfoundexception"], "comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1506294171, "post_id": 46395659, "comment_id": 79748548, "body": "And what is your question?"}, {"owner": {"reputation": 5947, "user_id": 1276636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5pipn.jpg?s=128&g=1", "display_name": "Sufian", "link": "https://stackoverflow.com/users/1276636/sufian"}, "edited": false, "score": 1, "creation_date": 1506300079, "post_id": 46395659, "comment_id": 79749542, "body": "This might be a duplicate of <a href=\"https://stackoverflow.com/questions/44823064/run-single-kotlin-class-with-main-function-in-android-studio\" title=\"run single kotlin class with main function in android studio\">stackoverflow.com/questions/44823064/&hellip;</a>"}, {"owner": {"reputation": 1351, "user_id": 643567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6cd7b92ff24dd9f102bf56e338a5ac9c?s=128&d=identicon&r=PG", "display_name": "Manish Singla", "link": "https://stackoverflow.com/users/643567/manish-singla"}, "edited": false, "score": 0, "creation_date": 1506323330, "post_id": 46395659, "comment_id": 79755873, "body": "Problem is seems same but still exist"}], "answers": [{"comments": [{"owner": {"reputation": 1351, "user_id": 643567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6cd7b92ff24dd9f102bf56e338a5ac9c?s=128&d=identicon&r=PG", "display_name": "Manish Singla", "link": "https://stackoverflow.com/users/643567/manish-singla"}, "edited": false, "score": 0, "creation_date": 1506318658, "post_id": 46395723, "comment_id": 79753737, "body": "After doing this I am getting  Error:(36, 0) Could not get unknown property &#39;compileKotlin&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1506294873, "creation_date": 1506294873, "answer_id": 46395723, "question_id": 46395659, "link": "https://stackoverflow.com/questions/46395659/kotlin-while-running-hello-program-getting-classnotfoundexception/46395723#46395723", "title": "Kotlin : While running Hello Program getting ClassNotFoundException", "body": "<p>This is likely a known issue in Android Studio and Kotlin inter-operation.</p>\n\n<p>When you try to run a Kotlin class from a non-Android (e.g. pure Java + Kotlin) module, it does not add the separate directory, into which the Kotlin classes are compiled, to the classpath.</p>\n\n<p>The workaround is to add these lines to your module's <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n    runtimeClasspath files(compileKotlin.destinationDir)\n}\n</code></pre>\n\n<p>This will work for the <code>main</code> source set. To do the same for tests, use <code>testRuntimeClasspath</code> and <code>compileTestKotlin</code> respectively.</p>\n"}, {"tags": [], "owner": {"reputation": 1351, "user_id": 643567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6cd7b92ff24dd9f102bf56e338a5ac9c?s=128&d=identicon&r=PG", "display_name": "Manish Singla", "link": "https://stackoverflow.com/users/643567/manish-singla"}, "is_accepted": false, "score": 0, "last_activity_date": 1506450333, "creation_date": 1506450333, "answer_id": 46433379, "question_id": 46395659, "link": "https://stackoverflow.com/questions/46395659/kotlin-while-running-hello-program-getting-classnotfoundexception/46433379#46433379", "title": "Kotlin : While running Hello Program getting ClassNotFoundException", "body": "<p>Is this an Android applicaton or a regular application? We can\u2019t have a main function in an Android application; it has to be a regular desktop project.</p>\n\n<p>But I dont why it is :)</p>\n"}], "owner": {"reputation": 1351, "user_id": 643567, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6cd7b92ff24dd9f102bf56e338a5ac9c?s=128&d=identicon&r=PG", "display_name": "Manish Singla", "link": "https://stackoverflow.com/users/643567/manish-singla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506450333, "creation_date": 1506294139, "last_edit_date": 1506318287, "question_id": 46395659, "link": "https://stackoverflow.com/questions/46395659/kotlin-while-running-hello-program-getting-classnotfoundexception", "title": "Kotlin : While running Hello Program getting ClassNotFoundException", "body": "<pre><code>package com.example.manish.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n\nfun main(arg : Array&lt;String&gt;){\n    print(\"HI\")\n}\n</code></pre>\n\n<p>LogCat:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: com.example.manish.myapplication.MainActivityKt\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:107)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 2, "last_activity_date": 1506289915, "last_edit_date": 1506289915, "creation_date": 1506289579, "answer_id": 46395195, "question_id": 46394847, "link": "https://stackoverflow.com/questions/46394847/dagger2-not-inject/46395195#46395195", "title": "Dagger2 not inject", "body": "<p>Since you're not using constructor injection here (which you can't, because you don't 'own' the activity's constructor) Dagger does not 'know' that it has to inject something into your <code>Activity</code>.\nYou have to manually inject like this: </p>\n\n<pre><code>(applicationContext as App).appComponent.inject(this) \n</code></pre>\n\n<p>in your <code>SplashActivity</code>'s <code>onCreate()</code> method (before using the presenter, of course). </p>\n\n<p>Second, your presenter needs a constructor that tells Dagger how to construct/'build' the presenter, which means a constructor annotated with the <code>@Inject</code> annotation, so: </p>\n\n<pre><code>class SplashPresenter @Inject constructor(): BasePresenterImpl&lt;SplashContract.View&gt;(), SplashContract.Presenter \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 4748738, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mu9x_RjPoKM/AAAAAAAAAAI/AAAAAAAAFCI/WZGiblxKUXM/photo.jpg?sz=128", "display_name": "Kioba", "link": "https://stackoverflow.com/users/4748738/kioba"}, "is_accepted": false, "score": 1, "last_activity_date": 1506290100, "creation_date": 1506290100, "answer_id": 46395260, "question_id": 46394847, "link": "https://stackoverflow.com/questions/46394847/dagger2-not-inject/46395260#46395260", "title": "Dagger2 not inject", "body": "<p>You forgot to inject the SplashActivity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    App.appComponent.inject(this)\n    setContentView(R.layout.activity_splash)\n    ...\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1506290100, "creation_date": 1506287119, "last_edit_date": 1506290031, "question_id": 46394847, "link": "https://stackoverflow.com/questions/46394847/dagger2-not-inject", "title": "Dagger2 not inject", "body": "<p>I am a newbie to android and trying to use Dagger2. I spend whole night and still dont know why my dagger does not provide presenter. Here are my code (I use Kotlin)</p>\n\n<p>AppComponent</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(PresenterModule::class))\ninterface AppComponent {\n\n    fun inject(target: SplashActivity)\n\n}\n</code></pre>\n\n<p>PresenterModule</p>\n\n<pre><code>@Module\nclass PresenterModule {\n\n    @Provides\n    @Singleton\n    fun provideSplashPresenter(): SplashPresenter {\n        return SplashPresenter()\n    }\n}\n</code></pre>\n\n<p>App</p>\n\n<pre><code>class App: Application() {\n\n    companion object {\n        lateinit var appComponent: AppComponent\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        appComponent = initDagger()\n    }\n\n    private fun initDagger(): AppComponent {\n        return DaggerAppComponent.create()\n    }\n}\n</code></pre>\n\n<p>This is the presenter</p>\n\n<pre><code>class SplashPresenter: BasePresenterImpl&lt;SplashContract.View&gt;(), SplashContract.Presenter {\n\n    override fun performToast(mess: String) {\n        logi(\"abc\", \"performToast\")\n        logi(\"abc\", \"mess: \" + mess)\n        mView?.showLoading()\n        if (mess.isNullOrBlank()) {\n            mView?.showTosat(\"this is empty mess\") ?: logi(\"abc\", \"null\")\n        } else {\n            mView?.showTosat(mess) ?: logi(\"abc\", \"null\")\n        }\n        mView?.hideLoading()\n\n    }\n}\n</code></pre>\n\n<p>And finally, this is my SplashActivity</p>\n\n<pre><code>class SplashActivity : BaseActivity(), SplashContract.View {\n\n\n    @Inject\n    lateinit var presenter: SplashPresenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_splash)\n\n        presenter.attachView(this)\n\n        //TODO: check log in\n        //TODO: If logged in =&gt; start main screen\n        //TODO: If not logged in =&gt; load login activity\n\n        button.setOnClickListener{\n            presenter.performToast(editText.text.toString())\n            logi(\"abc\", \"perform clicked\")\n        }\n    }\n}\n</code></pre>\n\n<p>When I run these code, I got this error\nLateinit property presenter has not been initialized, which means that \"Inject\" does not work</p>\n"}, {"tags": ["gradle", "annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 5, "last_activity_date": 1513676665, "last_edit_date": 1513676665, "creation_date": 1513674592, "answer_id": 47883433, "question_id": 46394501, "link": "https://stackoverflow.com/questions/46394501/kapt-how-to-process-test-sources/47883433#47883433", "title": "kapt: How to process test sources?", "body": "<blockquote>\n  <p>Some sources (e.g. how to use kapt in androidTest scope) suggest to run gradle kaptTest, but this does not work either.</p>\n</blockquote>\n\n<p>You misunderstood the suggestion. It says <code>kaptTest</code> should be used in place of <code>kapt</code> in the <code>dependencies</code> block, as described <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">here</a>, not that you should run Gradle differently. OTOH, the documentation also specifically says </p>\n\n<blockquote>\n  <blockquote>\n    <p>Note that kaptAndroidTest and kaptTest extends kapt, so you can just provide the kapt dependency and it will be available both for production sources and tests.</p>\n  </blockquote>\n</blockquote>\n\n<p>So there indeed seems to be a bug there.</p>\n\n<p>I've linked this question in <a href=\"https://youtrack.jetbrains.com/issue/KT-21891\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-21891</a>. I didn't want to file a separate bug because I don't know which Gradle/Kotlin/Kotlin Gradle plugin/etc. you had.</p>\n"}], "owner": {"reputation": 741, "user_id": 3569471, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9139a126d3b268b1c52c5cc438a57f85?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3569471/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1401, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1513676665, "creation_date": 1506284681, "question_id": 46394501, "link": "https://stackoverflow.com/questions/46394501/kapt-how-to-process-test-sources", "title": "kapt: How to process test sources?", "body": "<p>I have a project which uses kapt for annotation processing and code generation (based on the annotations). It works in the main sources, but not in the test sources. </p>\n\n<p>Some sources (e.g. <a href=\"https://stackoverflow.com/questions/37926188/how-to-use-kapt-in-androidtest-scope\">how to use kapt in androidTest scope</a>) suggest to run <code>gradle kaptTest</code>, but this does not work either. It reports the task as \"Up to date\", even directly after a clean. Maybe this suggestion is unique to android. </p>\n\n<p>I downloaded the example project from <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/kotlin-code-generation\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin-examples/tree/master/gradle/kotlin-code-generation</a>, added an annotation usage in the test sources and I got the same behaviour there. It works well for the main sources and it does not work for the test sources. </p>\n\n<p>The only odd thing in the output is:</p>\n\n<pre><code>&gt; Task :example:compileKotlin\nUsing kotlin incremental compilation\n\nw: [kapt] Sources output directory is not specified, skipping annotation processing\n</code></pre>\n\n<p>but as you can see, this is not the test sources, but the main sources, and the annotation processor is applied on those. </p>\n\n<p>I added a printout in the annotation processor. It does show up for compileKotlin, but not for compileTestKotlin. </p>\n\n<p>So, what is the magic trick to make kapt work on test sources?</p>\n\n<p>PS: I guess someone is going to ask for my build.gradle. It is identical to the one from the example I linked, so if you can make it work for the example, I can integrate into my buildfile. </p>\n\n<p>PPS: Only similar question I found is <a href=\"https://stackoverflow.com/questions/45085806/kotlins-kapt-plugin-for-gradle-does-not-work-for-custom-source-set-jmh\">Kotlin&#39;s kapt plugin for gradle does not work for custom source set (JMH)</a>, and they suggest to issue a bug report. So maybe it is a bug in the kapt-gradle-plugin?</p>\n"}, {"tags": ["gradle", "kotlin", "ktor", "kotlinx-html"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506371037, "post_id": 46394339, "comment_id": 79785016, "body": "Thanks @Opal, can you help here pls: <a href=\"https://stackoverflow.com/questions/46413579/kotlin-html-builder\">stackoverflow.com/questions/46413579/kotlin-html-builder</a>"}], "tags": [], "owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "is_accepted": true, "score": 8, "last_activity_date": 1506283450, "creation_date": 1506283450, "answer_id": 46394339, "question_id": 46394185, "link": "https://stackoverflow.com/questions/46394185/could-not-find-org-jetbrains-kotlinxkotlinx-html0-6-4/46394339#46394339", "title": "Could not find org.jetbrains.kotlinx:kotlinx-html:0.6.4", "body": "<p><a href=\"https://github.com/kotlin/kotlinx.html/wiki/Getting-started\" rel=\"noreferrer\">Here</a> you can find instructions on including kotlinx. What you need to do is to add appropriate repository:</p>\n\n<pre><code>repository {\n   jcenter()\n}\n</code></pre>\n\n<p>and dependencies:</p>\n\n<pre><code>dependencies {\n   compile 'org.jetbrains.kotlinx:kotlinx-html-jvm:0.6.4' // server side dev\n   compile 'org.jetbrains.kotlinx:kotlinx-html-js:0.6.4'  // client side dev \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 2, "last_activity_date": 1506367876, "creation_date": 1506367876, "answer_id": 46412820, "question_id": 46394185, "link": "https://stackoverflow.com/questions/46394185/could-not-find-org-jetbrains-kotlinxkotlinx-html0-6-4/46412820#46412820", "title": "Could not find org.jetbrains.kotlinx:kotlinx-html:0.6.4", "body": "<p>Thanks to @Opal, digging further after his answer, and found that I can use <code>ktor-html-builder</code>, so my code became this:</p>\n\n<p><code>gradle.build</code>:</p>\n\n<pre><code>group 'Example'\n\nversion 'alpha'\n\nbuildscript {\n    ext.kotlin_version  = '1.1.4-3'\n    ext.ktor_version    = '0.4.0'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    jcenter()\n    mavenCentral()\n    maven { url  \"http://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-html-builder:$ktor_version\"\n\n    compile \"org.apache.commons:commons-email:1.4\"\n    compile \"org.slf4j:slf4j-simple:1.7.25\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n\n\njar {\n    baseName 'abc'\n    manifest {\n        attributes 'Main-Class': 'blog.BlogAppKt'\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>And the <code>BlogApp.tk</code> became:</p>\n\n<pre><code>package blog\n\nimport kotlinx.html.*\nimport org.jetbrains.ktor.host.*   // for embededServer\nimport org.jetbrains.ktor.netty.*  // for Netty\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.html.*\nimport org.jetbrains.ktor.routing.*\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        get(\"/\") {\n            call.respondHtml {\n                head {\n                    title { +\"HTML Application\" }\n                }\n                body {\n                    h1 { +\"Sample application with HTML builders\" }\n                    widget {\n                        +\"Widgets are just functions\"\n                    }\n                }\n            }\n        }\n    }\n}\n\nfun FlowContent.widget(body: FlowContent.() -&gt; Unit) {\n    div { body() }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2787, "favorite_count": 0, "accepted_answer_id": 46394339, "answer_count": 2, "score": 3, "last_activity_date": 1506367876, "creation_date": 1506282454, "last_edit_date": 1506367505, "question_id": 46394185, "link": "https://stackoverflow.com/questions/46394185/could-not-find-org-jetbrains-kotlinxkotlinx-html0-6-4", "title": "Could not find org.jetbrains.kotlinx:kotlinx-html:0.6.4", "body": "<p>I'm trying to test the HTML Application, my <code>build.gradle</code> dependencies are:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile 'org.jetbrains.kotlinx:kotlinx-html:0.6.4'\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"org.apache.commons:commons-email:1.4\"\n    compile \"org.slf4j:slf4j-simple:1.7.25\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>I got the below error while running gradle build:</p>\n\n<blockquote>\n  <p>Could not find org.jetbrains.kotlinx:kotlinx-html:0.6.4</p>\n</blockquote>\n\n<p>what is the error here?</p>\n"}, {"tags": ["kotlin", "retrofit", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1506322047, "post_id": 46393209, "comment_id": 79755254, "body": "What makes you think that all calls happen simultaenously?"}], "answers": [{"comments": [{"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1506320719, "post_id": 46397155, "comment_id": 79754617, "body": "I edited the implementation to have thread pool, actually I inlined that <code>val</code> just to simplify the question, so it was a mistake in the question. so in that case, do I really limit concurrency level? Is it because my threads in the pool are blocked when executing http call so they cannot get suspended?"}, {"owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 1, "creation_date": 1506323096, "post_id": 46397155, "comment_id": 79755747, "body": "Yes, you limit concurrency level in your example, all the threads are blocked and you cannot run more than &quot;the number of threads&quot; requests. You can easily check it if replace <code>blockingHttpCall</code>  with <code>Thread.sleep()</code> + <code>println</code>  But you cannot use this approach for non-blocking calls (you can replace  <code>Thread.sleep()</code> with <code>delay()</code> and check how behavior changed after that)"}, {"owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 1, "creation_date": 1506323715, "post_id": 46397155, "comment_id": 79756064, "body": "But you still can limit concurrency if rewrite your example when next part of requests started (in your example request started whey you constructed coroutine using <code>async</code>) after previous finished.   But again it depends on your case (for example big thing is how you handle results) and in case of Retrofit I still think that better to allow OkHttp to control concurrency."}], "tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": true, "score": 2, "last_activity_date": 1506316651, "last_edit_date": 1506316651, "creation_date": 1506309848, "answer_id": 46397155, "question_id": 46393209, "link": "https://stackoverflow.com/questions/46393209/how-to-implement-a-limited-call-with-retrofit-blocking-client-and-coroutines/46397155#46397155", "title": "how to implement a limited call with retrofit blocking client and coroutines", "body": "<p>I don't know exactly your case, but easiest way - use OkHttp API to configure concurrency level, for example, this is <a href=\"https://github.com/square/okhttp/blob/parent-3.9.0/okhttp/src/main/java/okhttp3/Dispatcher.java#L40-L41\" rel=\"nofollow noreferrer\">default concurrency strategy of OkHttp</a></p>\n\n<p>But you can have own strategy if you set own <code>Dispatcher</code> instance to <code>OkHttpClient.Builder</code></p>\n\n<p>Of course, you can use also coroutines</p>\n\n<p>Your current implementation is incorrect because you create coroutines dispatcher for each item, but to have shared pool of threads all the coroutines should use the same dispatcher, just move <code>newFixedThreadPoolContext</code> creation outside of the loop (now you have 1000 dispatchers each with 10 threads).</p>\n\n<p>But I don't recommend you to use coroutines + blocking calls, better to configure OkHttp concurrency (it's more flexible) and use coroutines with non-blocking calls (you can write own adapter or use an existing library like <a href=\"https://github.com/gildor/kotlin-coroutines-retrofit\" rel=\"nofollow noreferrer\">kotlin-coroutines-retrofit</a>). It will allow you to mix your http requests and UI code or other tasks.</p>\n\n<p>So if you use non-blocking API + OkHttp internal concurrency, you don't need to have special code to control concurrency, of course, you can limit the number of concurrent calls like in your example above (with fixed dispatcher construction), but I really don't think that it makes much sense, because you can decrease concurrency level, not increase it.</p>\n\n<p>After moving to non-blocking API you can just run all your coroutines in any coroutines dispatcher in parallel (even in UI thread) and wait for results without blocking.</p>\n\n<p>Also, implicit control of concurrency using OkHttpClient configuration looks as a more right way in terms of architecture (you can have DI code that configures Retrofit + OkHttp and provides it to your client code with preconfigured concurrency policy). Of course, you can achieve that using other approaches, but this one looks more natural for me.</p>\n"}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 797, "favorite_count": 0, "accepted_answer_id": 46397155, "answer_count": 1, "score": 6, "last_activity_date": 1506320421, "creation_date": 1506276169, "last_edit_date": 1506320421, "question_id": 46393209, "link": "https://stackoverflow.com/questions/46393209/how-to-implement-a-limited-call-with-retrofit-blocking-client-and-coroutines", "title": "how to implement a limited call with retrofit blocking client and coroutines", "body": "<p>I have the following code:</p>\n\n<pre><code>val context = newFixedThreadPoolContext(nThreads = 10, name=\"myThreadPool\")\nval total = 1_000_000 //can be other number as well\nval maxLimit = 1_000\nreturn runBlocking {\n  (0..total step maxLimit).map {\n    async(context) {\n      val offset = it\n      val limit = it + maxLimit\n      blockingHttpCall(offset, limit)\n    }\n  }.flatMap {\n    it.await()\n  }.associateBy {\n    ...\n  }.toMutableMap()\n}\n</code></pre>\n\n<p>I would like only 10 calls to happen simultaneously to the blocking api.\nHowever, it seems the above code is not doing it as I expect (I think all calls start immediately), or at least I don't understand if it does.<br>\nWhat is the correct way to implement it?\nWill the same solution work if I use async api of retrofit?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1506270976, "post_id": 46392172, "comment_id": 79741843, "body": "Search for <a href=\"https://en.wikipedia.org/wiki/Type_conversion\" rel=\"nofollow noreferrer\">type casting</a>."}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1506271644, "post_id": 46392172, "comment_id": 79742049, "body": "mmh type casting stays also for type conversion, I thought that the casting quoted in the manual was referring to the Cast in Java, i start to understand better"}], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1506360669, "post_id": 46395780, "comment_id": 79779441, "body": "Great explanation, the biggest problem from my view  about kotlin documentation is that should be more Java oriented. I mean from Java to Kotlin. The example you brought in the end made cristally clear the concept to me because would be an Java example (although instead of is I would have had an insteadof)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1506295517, "creation_date": 1506295517, "answer_id": 46395780, "question_id": 46392172, "link": "https://stackoverflow.com/questions/46392172/from-the-kotlin-documentation-is-not-clear-to-me-the-as-operator/46395780#46395780", "title": "From the kotlin documentation is not clear to me the as operator", "body": "<p>The reason why removing the line <code>holder as NewsViewHolder</code> affects the line below is <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart casting</a>.</p>\n\n<p>Whenever your code checks a type or performs an <code>as</code>-cast, the Kotlin compiler analyzes the control flow and if the variable cannot change later in time, the compiler allows you to use the variable from that point on as if its type is the one you checked for.</p>\n\n<p>In your example, <code>holder as NewsViewHolder</code> checks the function parameter for being a <code>NewsViewHolder</code>. Given that (1) a function parameter cannot be reassigned and (2) the function will continue execution only if <code>holder</code> is actually a <code>NewsViewHolder</code> (and will throw an exception otherwise), the compiler treats <code>holder</code> as <code>NewsViewHolder</code> in the remainder of the function.</p>\n\n<p>This, in turn, allows you to call the <code>fun bind(item: RedditNewsItem)</code> on the <code>holder</code> without another explicit cast or using a separate variable.</p>\n\n<p>The smart casts respect both <code>as</code>-casts and <code>is</code>-checks. You could instead write it like (though changing the semantics of the original code):</p>\n\n<pre><code>if (holder is NewsViewHolder) {\n    holder.bind(item as RedditNewsItem)\n} \n</code></pre>\n\n<p>Again, the code inside the <code>if</code> clause will run only if <code>holder</code> is <code>NewsViewHolder</code>, so you're allowed to use <code>holder</code> as a <code>NewsViewHolder</code> inside that scope, and, in particular, to call the functions of this type.</p>\n"}], "owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 46395780, "answer_count": 1, "score": 1, "last_activity_date": 1506295517, "creation_date": 1506269841, "question_id": 46392172, "link": "https://stackoverflow.com/questions/46392172/from-the-kotlin-documentation-is-not-clear-to-me-the-as-operator", "title": "From the kotlin documentation is not clear to me the as operator", "body": "<p>the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator\" rel=\"nofollow noreferrer\">documentation</a> is really cryptic to me</p>\n\n<blockquote>\n  <p>Usually, the cast operator throws an exception if the cast is not possible. >Thus, we call it unsafe. The unsafe cast in Kotlin is done by the infix operator >as (see operator precedence):</p>\n  \n  <p>val x: String = y as String</p>\n</blockquote>\n\n<p>because the word \"as\" is not easy to find in the internet engines, I cannot understand the use of <strong>as</strong> and in which way is related to the operator <strong>is</strong></p>\n\n<p>Given this code:</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: ViewType) {\n        holder as NewsViewHolder//why is not called holder2 considering is adressed to NewsViewHolder?\n        holder.bind(item as RedditNewsItem)\n    }\n</code></pre>\n\n<p>if I get rid of NewsViewHolder, intelliJ points bind in red. The reason is because there is into the same class an  inner class with the method bind</p>\n\n<pre><code>  inner class NewsViewHolder(parent: ViewGroup) : RecyclerView.ViewHolder(\n            parent.inflate(R.layout.news_item)) {\n\n        private val imgThumbnail = itemView.img_thumbnail\n        private val description = itemView.description\n        private val author = itemView.author\n        private val comments = itemView.comments\n        private val time = itemView.time\n\n        fun bind(item: RedditNewsItem) {\n            imgThumbnail.loadImg(item.thumbnail)\n            description.text = item.title\n            author.text = item.author\n            comments.text = \"${item.numComments} comments\"\n            time.text = item.created.getFriendlyTime()\n\n            super.itemView.setOnClickListener { viewActions.onItemSelected(item.url)}\n        }\n    }\n</code></pre>\n\n<p>but I pointed in the comments, if the method pass holder with the class Recycler.ViewHolder why the variable holder should be pointed to  a method of an inner class, this is really confusing to me. I would rather have done\nval holderOther =NewsViewHolder.bind(item)</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "edited": false, "score": 4, "creation_date": 1582383033, "post_id": 46393611, "comment_id": 106762452, "body": "thanks, that&#39;s strange there isn&#39;t a single example of this in the ktor&#39;s documentation"}], "tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 11, "last_activity_date": 1506278682, "creation_date": 1506278682, "answer_id": 46393611, "question_id": 46390023, "link": "https://stackoverflow.com/questions/46390023/splitting-routes-into-multiple-files/46393611#46393611", "title": "Splitting Routes into multiple files", "body": "<p>Finally I figured it out:</p>\n\n<p>Install routing for the functions name you need, like:</p>\n\n<pre><code>install(Routing) {\n        contact()\n}\n</code></pre>\n\n<p>Create a function like <code>fun Route.contact(){ ..}</code> to handle the requisites, so for my example, I created the below:</p>\n\n<pre><code>fun Route.contact(){\n        get(\"/\") {\n            call.respondText(\"\"\"\n            My Example Blog 12\n                &lt;form action=\"/contact-us\" method=\"post\"&gt;\n                    &lt;input name=\"subject\" placeholder=\"Subject\"&gt;\n                    &lt;br&gt;\n                    &lt;textarea name=\"message\" placeholder=\"Your message ...\"&gt;&lt;/textarea&gt;\n                    &lt;br&gt;\n                    &lt;button&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n            \"\"\", ContentType.Text.Html)\n        }\n        post(\"/contact-us\") {\n            val post = call.receive&lt;ValuesMap&gt;() // val userId = registration[\"userId\"]\n            SimpleEmail().apply {\n                setHostName(\"smtp.gmail.com\")\n                setSmtpPort(465)\n                setAuthenticator(DefaultAuthenticator(\"my_alias@gmail.com\", \"my_gmil_passoword\"))\n                setSSLOnConnect(true)\n                setFrom(\"my_alias@gmail.com\")\n                setSubject(post[\"subject\"])        \n                setMsg(post[\"message\"])            \n                addTo(\"my_alias@gmail.com\")\n            }.send() // will throw email-exception if something is wrong\n            call.respondRedirect(\"/contact-us/success\")\n        }\n        get\"/contact-us/success\") { \n            call.respondText(\"Your message was sent\", ContentType.Text.Html) \n        }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14837765, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b52c2c0f34f34bd61ec05318f341800?s=128&d=identicon&r=PG", "display_name": "Cesar Chavez", "link": "https://stackoverflow.com/users/14837765/cesar-chavez"}, "is_accepted": false, "score": 0, "last_activity_date": 1608128247, "creation_date": 1608128247, "answer_id": 65325014, "question_id": 46390023, "link": "https://stackoverflow.com/questions/46390023/splitting-routes-into-multiple-files/65325014#65325014", "title": "Splitting Routes into multiple files", "body": "<p>you can create 2 file, example:</p>\n<p><strong>Principal.kt</strong></p>\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\nimport org.jetbrains.ktor.request.*     // for recieve\nimport org.jetbrains.ktor.util.*       // for ValuesMap\n\nimport org.apache.commons.mail.*\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    routing{\n        get(&quot;/&quot;) {\n            call.respondText(&quot;&quot;&quot;\n            My Example Blog2\n                &lt;form action=&quot;/contact-us&quot; method=&quot;post&quot;&gt;\n                    &lt;input name=&quot;subject&quot; placeholder=&quot;Subject&quot;&gt;\n                    &lt;br&gt;\n                    &lt;textarea name=&quot;message&quot; placeholder=&quot;Your message ...&quot;&gt;&lt;/textarea&gt;\n                    &lt;br&gt;\n                    &lt;button&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n            &quot;&quot;&quot;, ContentType.Text.Html)\n        }\n}\n</code></pre>\n<p>And <strong>Contact.kt</strong></p>\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\nimport org.jetbrains.ktor.request.*     // for recieve\nimport org.jetbrains.ktor.util.*       // for ValuesMap\n\nimport org.apache.commons.mail.*\n\nfun Application.moduleContact() {\n    routing{\n        post(&quot;/contact-us&quot;) {\n            val post = call.receive&lt;ValuesMap&gt;() \n            SimpleEmail().apply {\n                setHostName(&quot;smtp.gmail.com&quot;)\n                setSmtpPort(465)\n                setAuthenticator(DefaultAuthenticator(&quot;my_alias@gmail.com&quot;, &quot;my_gmil_passoword&quot;))\n                setSSLOnConnect(true)\n                setFrom(&quot;my_alias@gmail.com&quot;)\n                setSubject(post[&quot;subject&quot;])        \n                setMsg(post[&quot;message&quot;])            \n                addTo(&quot;my_alias@gmail.com&quot;)\n            }.send() // will throw email-exception if something is wrong\n            call.respondRedirect(&quot;/contact-us/success&quot;)\n        }\n        get(&quot;/contact-us/success&quot;) { \n            call.respondText(&quot;Your message was sent&quot;, ContentType.Text.Html) \n        }\n    }\n}\n</code></pre>\n<p>And modify <strong>application.conf</strong></p>\n<pre><code>ktor {\n    deployment {\n        port = 8080\n        port = ${?PORT}\n    }\n    application {\n        modules = [ com.ejemplo.blog.PrincipalKt.module,\n                    com.ejemplo.blog.ContactKt.moduleContact\n        ]\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1733, "favorite_count": 2, "accepted_answer_id": 46393611, "answer_count": 2, "score": 5, "last_activity_date": 1608128247, "creation_date": 1506256004, "question_id": 46390023, "link": "https://stackoverflow.com/questions/46390023/splitting-routes-into-multiple-files", "title": "Splitting Routes into multiple files", "body": "<p>I'm new to <code>Kotlin</code> and <code>Ktor</code> the below is working fine with me as startup, now I need to add more <code>Routes</code> how can I split the routes in multiple files?</p>\n\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\nimport org.jetbrains.ktor.request.*     // for recieve\nimport org.jetbrains.ktor.util.*       // for ValuesMap\n\nimport org.apache.commons.mail.*\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        get(\"/\") {\n            call.respondText(\"\"\"\n            My Example Blog2\n                &lt;form action=\"/contact-us\" method=\"post\"&gt;\n                    &lt;input name=\"subject\" placeholder=\"Subject\"&gt;\n                    &lt;br&gt;\n                    &lt;textarea name=\"message\" placeholder=\"Your message ...\"&gt;&lt;/textarea&gt;\n                    &lt;br&gt;\n                    &lt;button&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n            \"\"\", ContentType.Text.Html)\n        }\n        post(\"/contact-us\") {\n            val post = call.receive&lt;ValuesMap&gt;() \n            SimpleEmail().apply {\n                setHostName(\"smtp.gmail.com\")\n                setSmtpPort(465)\n                setAuthenticator(DefaultAuthenticator(\"my_alias@gmail.com\", \"my_gmil_passoword\"))\n                setSSLOnConnect(true)\n                setFrom(\"my_alias@gmail.com\")\n                setSubject(post[\"subject\"])        \n                setMsg(post[\"message\"])            \n                addTo(\"my_alias@gmail.com\")\n            }.send() // will throw email-exception if something is wrong\n            call.respondRedirect(\"/contact-us/success\")\n        }\n        get(\"/contact-us/success\") { \n            call.respondText(\"Your message was sent\", ContentType.Text.Html) \n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1506254517, "post_id": 46389650, "comment_id": 79736931, "body": "For the position of the implemented method: <a href=\"https://stackoverflow.com/questions/45350594/kotlin-how-can-i-let-android-studio-implement-interfaces-function-at-bottom-of\">here</a>; For logi template: <a href=\"https://stackoverflow.com/questions/44556828/logd-shortcut-doesnt-work-in-intellij-with-kotlin\">here</a>; For auto-generated TODO statement: You may follow the instruction of the comment and find the setting of &quot;New Kotlin Function Body&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 844, "user_id": 4557882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WP8OP.jpg?s=128&g=1", "display_name": "Muhammad Muzammil", "link": "https://stackoverflow.com/users/4557882/muhammad-muzammil"}, "edited": false, "score": 0, "creation_date": 1572421734, "post_id": 46389890, "comment_id": 103549709, "body": "It still creates the function on top."}], "tags": [], "owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "is_accepted": true, "score": 10, "last_activity_date": 1552614943, "last_edit_date": 1552614943, "creation_date": 1506254991, "answer_id": 46389890, "question_id": 46389650, "link": "https://stackoverflow.com/questions/46389650/auto-implement-method-kotlin-android/46389890#46389890", "title": "Auto implement method Kotlin Android", "body": "<p>To avoid Todo comment follow below mentioned steps</p>\n\n<ol>\n<li>Go to <code>File -&gt; Setting</code> (That will  bring new window in front)</li>\n<li>Go to <code>Editor -&gt; Code Style -&gt; File and Code Template</code></li>\n<li>Select the <code>Code</code> tab from the right panel</li>\n<li>Scroll down the list of options and find out 'New Kotlin Function Body' option</li>\n<li>Remove the default text and done</li>\n</ol>\n\n<p>You will not get any todo comment line in overriding method now. hope that helps you</p>\n"}, {"tags": [], "owner": {"reputation": 3049, "user_id": 1823992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a4ab9e8b0b5101ad75de1a1261bd8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "ar-g", "link": "https://stackoverflow.com/users/1823992/ar-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1529487590, "creation_date": 1529487590, "answer_id": 50945014, "question_id": 46389650, "link": "https://stackoverflow.com/questions/46389650/auto-implement-method-kotlin-android/50945014#50945014", "title": "Auto implement method Kotlin Android", "body": "<p>The issue is still open at JetBrains tracker. Vote and track progress over <a href=\"https://youtrack.jetbrains.com/issue/KT-12291\" rel=\"nofollow noreferrer\">here</a> </p>\n"}], "owner": {"reputation": 233, "user_id": 8244178, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4acd3402b78837ca3021aa79b2c755ff?s=128&d=identicon&r=PG&f=1", "display_name": "trna ha minh", "link": "https://stackoverflow.com/users/8244178/trna-ha-minh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "accepted_answer_id": 46389890, "answer_count": 2, "score": 8, "last_activity_date": 1552614943, "creation_date": 1506253169, "question_id": 46389650, "link": "https://stackoverflow.com/questions/46389650/auto-implement-method-kotlin-android", "title": "Auto implement method Kotlin Android", "body": "<p>When I implement methods from interface by hitting Alt + Enter, the implement method should be at the bottom of class. But in Kotlin, it stays on the top (as you can see the method showToast). It is inconvinient because it is above onCreate and I also want to remove the //TODO comment when I implement methods automatically!</p>\n\n<p>And normally, when I write logi in Java, Android studio automatically generates Log.i(TAG, ..) but it seems not to work in Kotlin</p>\n\n<p>Can anyone show me how to do that. Thanks</p>\n\n<p><a href=\"https://i.stack.imgur.com/a9rGt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/a9rGt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "delegation"], "answers": [{"comments": [{"owner": {"reputation": 5276, "user_id": 268083, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13f3ef11ebc4310a602acdd8ebd103b?s=128&d=identicon&r=PG", "display_name": "Jesse", "link": "https://stackoverflow.com/users/268083/jesse"}, "edited": false, "score": 0, "creation_date": 1513868561, "post_id": 46387772, "comment_id": 82823526, "body": "1. So it shouldn&#39;t try to override it. Only overridable methods (<code>open</code> or <code>abstact</code>) should be delegated automatically. 2. So <code>B</code> should be required to pass the constructor parameters up to <code>A</code> as usual. 3. The Kotlin authors already had to make this decision for interface delegation since every interface implicitly extends <code>Any</code> and thus has <code>equals</code>, <code>hashCode</code> and <code>toString</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5276, "user_id": 268083, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d13f3ef11ebc4310a602acdd8ebd103b?s=128&d=identicon&r=PG", "display_name": "Jesse", "link": "https://stackoverflow.com/users/268083/jesse"}, "edited": false, "score": 1, "creation_date": 1513871597, "post_id": 46387772, "comment_id": 82825345, "body": "Sure, it&#39;s a possible set of answers. But then you don&#39;t &quot;extend functionality of a class using composition not inheritance&quot;; you have a pretty weird mix of composition and inheritance, and making a method in <code>A</code> open without changing its behavior (e.g. because you figured out <code>C</code> needs to override it) can change <code>B</code>&#39;s behavior."}, {"owner": {"reputation": 3784, "user_id": 1449683, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8b53ee2b64a8868fcb13e6a143435807?s=128&d=identicon&r=PG&f=1", "display_name": "squirrel", "link": "https://stackoverflow.com/users/1449683/squirrel"}, "edited": false, "score": 0, "creation_date": 1603360138, "post_id": 46387772, "comment_id": 114015050, "body": "if <code>A</code> is passed to <code>B</code> as a constructor parameter <code>a</code>, how and <i>why</i> would you call the constructor of <code>A</code>?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1603365732, "post_id": 46387772, "comment_id": 114017527, "body": "Why: because to extend <code>A</code>, your primary constructor <i>always</i> has to call a constructor of <code>A</code>. How: well, that&#39;s exactly the problem."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 11, "last_activity_date": 1506239729, "last_edit_date": 1506239729, "creation_date": 1506238890, "answer_id": 46387772, "question_id": 46387525, "link": "https://stackoverflow.com/questions/46387525/why-only-interfaces-can-be-delegated-to-in-kotlin/46387772#46387772", "title": "Why only interfaces can be delegated to in kotlin?", "body": "<p>When you delegate an interface, the class does still implement the interface. So for consistency, if you can delegate a class, it should work the same way. I.e. </p>\n\n<pre><code>class A(x: Int) {\n  fun foo() = x\n}\n\nclass B(val a: A) : A by a {}\n</code></pre>\n\n<p>needs to compile to </p>\n\n<pre><code>class B(val a: A) : A {\n  override fun foo() = a.foo()\n}\n</code></pre>\n\n<p>except this doesn't work: </p>\n\n<ol>\n<li><p><code>foo</code> isn't <code>open</code> and can't be overridden.</p></li>\n<li><p>you need to call a constructor of <code>A</code>. <code>class B(val a: A) : A(a.x)</code> won't help either: <code>x</code> is not a member of <code>A</code>.</p></li>\n<li><p>What about <code>equals</code> and <code>hashCode</code>: are they delegated? Either decision would lead to weird consequences. </p></li>\n</ol>\n"}], "owner": {"reputation": 8300, "user_id": 654799, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S83OA.jpg?s=128&g=1", "display_name": "vach", "link": "https://stackoverflow.com/users/654799/vach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 0, "accepted_answer_id": 46387772, "answer_count": 1, "score": 16, "last_activity_date": 1506239729, "creation_date": 1506236924, "question_id": 46387525, "link": "https://stackoverflow.com/questions/46387525/why-only-interfaces-can-be-delegated-to-in-kotlin", "title": "Why only interfaces can be delegated to in kotlin?", "body": "<p>I have seen few similar questions, but none had explained why delegation is limited to interfaces?</p>\n\n<p>Most of the time in practice we have something that has actually no interface at all, it is a class that implements nothing but provides some functionality or implements an abstract class.</p>\n\n<p>Is there any fundamental limitation that forces this to be limited to interfaces or can we expect kotlin to have unrestricted delegation in the future?</p>\n\n<p>This is especially useful if we want to extend functionality of a class using composition not inheritance.</p>\n\n<pre><code>class A {}\nclass B(val a: A) : A by a {}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "lint"], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 4526030, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-s05ILbxi6YA/AAAAAAAAAAI/AAAAAAAAACc/yAd6W8jNSBI/photo.jpg?sz=128", "display_name": "John Perry", "link": "https://stackoverflow.com/users/4526030/john-perry"}, "is_accepted": true, "score": 1, "last_activity_date": 1506217405, "last_edit_date": 1506217405, "creation_date": 1506217080, "answer_id": 46385757, "question_id": 46385756, "link": "https://stackoverflow.com/questions/46385756/in-android-studio-how-do-i-change-the-kotlin-naming-conventions/46385757#46385757", "title": "In Android Studio, how do I change the Kotlin naming conventions?", "body": "<p>In the menu, select File, then Settings. In the leftmost panel of the window that now appears, select <strong>Editor</strong>, then Inspections. In the <em>next</em> leftmost panel that now appears, find <strong>Kotlin</strong>, unfold it by clicking on the triangle, then find <strong>Naming conventions</strong>, and unfold that. You now have two options.</p>\n\n<p>If you want AS to disregard Kotlin naming conventions, you can simply uncheck its box, and the boxes below it.</p>\n\n<p>However, you can actually use this to convince AS to convert to snake_case instead of CamelCase, or any other aesthetic, as opposed to Google's and/or JetBrains'. If you click on, for instance, \"Class naming convention,\" you will see on the right a text box labeled \"Pattern:\". It will probably contain <code>[A-Z][A-Za-z\\d]*</code>. Add an underscore in a strategic location according to regex rules, for instance, <code>[A-Z][_A-Za-z\\d]*</code>. Do this for each of the identifier types whose naming convention you'd like to change, and you're good to go.</p>\n"}], "owner": {"reputation": 2283, "user_id": 4526030, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-s05ILbxi6YA/AAAAAAAAAAI/AAAAAAAAACc/yAd6W8jNSBI/photo.jpg?sz=128", "display_name": "John Perry", "link": "https://stackoverflow.com/users/4526030/john-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 1, "accepted_answer_id": 46385757, "answer_count": 1, "score": 2, "last_activity_date": 1506217405, "creation_date": 1506217080, "question_id": 46385756, "link": "https://stackoverflow.com/questions/46385756/in-android-studio-how-do-i-change-the-kotlin-naming-conventions", "title": "In Android Studio, how do I change the Kotlin naming conventions?", "body": "<p>Android Studio just updated its Kotlin plugin, and suddenly my code is polluted with warnings about the naming conventions. Apparently Google and/or JetBrains think everyone ought to use CamelCase, but (a) I prefer snake_case (use of underscores), (b) nearly every line of my sources now has a lint complaint, making it hard to separate the wheat from the chaff, and (c) I don't have time to rewrite all my code just to pander to other people's aesthetic sense.</p>\n\n<p>How do I convince AS to be a Philistine like me?</p>\n"}, {"tags": ["android", "file", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506213454, "post_id": 46385291, "comment_id": 79729017, "body": "what do you mean by &quot;created in white&quot;?"}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506213856, "post_id": 46385291, "comment_id": 79729078, "body": "The file is empty."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506214082, "post_id": 46385291, "comment_id": 79729107, "body": "so <code>File.exists(&quot;turma.dat&quot;)</code> returns true?  have you stepped through the code with a debugger?"}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1506214420, "post_id": 46385291, "comment_id": 79729150, "body": "I really do not know what&#39;s going on. I&#39;m really confused about working with file on Android. I have worked a lot with file in desktop, but I do not know how to test if my file already exists in android."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506215688, "post_id": 46385608, "comment_id": 79729311, "body": "I tried to apply the changes you said, now when trying to open the app, it crashs."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506215809, "post_id": 46385608, "comment_id": 79729326, "body": "that is probably progress.  what&#39;s the exception?  you can wrap your code in a try/catch block and print the exception."}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506216129, "post_id": 46385608, "comment_id": 79729374, "body": "FATAL EXCEPTION: main                                                                                    Process: com.example.thial.estudandokotlin, PID: 10306                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.thial.estudandokotlin/com.example.&zwnj;&#8203;thial.estudandokotli&zwnj;&#8203;n.MainActivity}: java.io.EOFException"}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506216143, "post_id": 46385608, "comment_id": 79729376, "body": "that&#39;s the logcat"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506216781, "post_id": 46385608, "comment_id": 79729470, "body": "EOFException - end of file or empty file, if you have a left over empty file from prior running your code, you probably have a bad file.  Delete the file (either explicitly, or by uninstalling your app), then try again."}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506216948, "post_id": 46385608, "comment_id": 79729498, "body": "I ran the app on my phone and it worked perfectly. But in the PC emulator it crashed."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506217489, "post_id": 46385608, "comment_id": 79729566, "body": "EOFException means you are trying to read beyone End of File.  That would be your ObjectInputStream.  For ObjectInputStream to read an object, it must contain an object (<code>turma</code> in your case).  You have an empty file in internal storage.  It will not go away until you uninstall the app or explicitly call <code>file.delete()</code>.  Delete the file and try again."}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506217550, "post_id": 46385608, "comment_id": 79729578, "body": "I believe the problem is because there is a file in the PC project causing a problem. How can I delete the existing file in the project? On the phone I believe the problem solved by uninstalling the app."}, {"owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "edited": false, "score": 0, "creation_date": 1506217960, "post_id": 46385608, "comment_id": 79729649, "body": "The problem really was a file that was causing conflict. I uninstalled the app in the emulator and it is working. Your initial solution of changing my code by var file = File (this.filesDir, &quot;turma.dat&quot;) solved the problem. thanks for your help and patience."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 2, "last_activity_date": 1506215259, "last_edit_date": 1506215259, "creation_date": 1506214929, "answer_id": 46385608, "question_id": 46385291, "link": "https://stackoverflow.com/questions/46385291/trying-to-load-a-file-into-main-activitys-oncreate/46385608#46385608", "title": "Trying to load a file into main activity&#39;s onCreate", "body": "<p><code>file.exists()</code> is probalby not looking where you would expect.  Methods <code>openFileInput</code> and <code>openFileOutput</code> work on files in an application private location.  When you declare file you say...</p>\n\n<pre><code>var file = File(\"turma.dat\")\n</code></pre>\n\n<p>Instead use something like...</p>\n\n<pre><code>var file = File(this.filesDir, \"turma.dat\")\n</code></pre>\n\n<p>See if that helps.  Read <a href=\"https://developer.android.com/training/basics/data-storage/files.html\" rel=\"nofollow noreferrer\">Saving Files</a> to get a better grasp of how to work with files in Androidl</p>\n\n<p>By the way, use a debugger and step through and verify that <code>file.exists</code> returns what you expect.  (If you don't know how to use the debugger, then start by learning how).</p>\n"}], "owner": {"reputation": 43, "user_id": 8652531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1431278996987134/picture?type=large", "display_name": "Thiago Pereira", "link": "https://stackoverflow.com/users/8652531/thiago-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 46385608, "answer_count": 1, "score": 1, "last_activity_date": 1506215259, "creation_date": 1506210728, "last_edit_date": 1506213276, "question_id": 46385291, "link": "https://stackoverflow.com/questions/46385291/trying-to-load-a-file-into-main-activitys-oncreate", "title": "Trying to load a file into main activity&#39;s onCreate", "body": "<p>What I'm trying to do is test if the file \"turma.dat\" already exists, if it exists I just open it, if it does not exist, I create a new file and save it. When I start the app the first time it creates the file, but every time I start it again the file is created in white.</p>\n\n<p>MainActivity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val toolbar = findViewById(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n\n    var turma : Turma\n    var file = File(\"turma.dat\")\n\n    if(file.exists()) {\n        turma = this.abrirArquivo()\n    }else{\n        turma = Turma()\n        ArquivoUtils(turma, this.applicationContext)\n    }\n</code></pre>\n\n<p>Method abrirArquivo:</p>\n\n<pre><code>@Throws(IOException::class, ClassNotFoundException::class)\nfun abrirArquivo(): Turma {\n\n    val fis = this.applicationContext.openFileInput(\"turma.dat\")\n    val ois = ObjectInputStream(fis)\n\n    return ois.readObject() as Turma\n}\n</code></pre>\n\n<p>Class ArquivoUtils: (Responsible for receiving a Turma object add to a file and save)</p>\n\n<pre><code>class ArquivoUtils internal constructor( var turminha: Turma, var context : Context) {\ninternal val fos = this.context.openFileOutput(\"turma.dat\", Context.MODE_PRIVATE)\ninternal val oos = ObjectOutputStream(fos)\n\ninit {\n    this.salvarArquivo()\n    this.closeFile()\n}\n\n@Throws(IOException::class)\nprivate fun salvarArquivo() {\n    oos.writeObject(turminha)\n    this.closeFile()\n}\n\n@Throws(IOException::class)\nfun closeFile() {\n    oos.close()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506751245, "post_id": 46385342, "comment_id": 79954520, "body": "Thank, can you help here: <a href=\"https://stackoverflow.com/questions/46500030/form-authentication-in-ktor\" title=\"form authentication in ktor\">stackoverflow.com/questions/46500030/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10942, "user_id": 18575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318654a786700455b96049d8ac9beb11?s=128&d=identicon&r=PG", "display_name": "Ilya Ryzhenkov", "link": "https://stackoverflow.com/users/18575/ilya-ryzhenkov"}, "is_accepted": false, "score": 9, "last_activity_date": 1516987778, "last_edit_date": 1516987778, "creation_date": 1506211252, "answer_id": 46385342, "question_id": 46384446, "link": "https://stackoverflow.com/questions/46384446/receiving-form-params-to-ktor-server/46385342#46385342", "title": "Receiving form params to Ktor server", "body": "<p>You can use <code>call.receive&lt;ValuesMap&gt;()</code> and introspect the data:</p>\n\n<pre><code>import org.jetbrains.ktor.request.*     // for recieve\nimport org.jetbrains.ktor.util.*       // for ValuesMap\n\n        post(\"/contact-us\") {\n            val post = call.receive&lt;ValuesMap&gt;() \n            val subj = post[\"subject\"]\n            val msg  = post[\"message\"]\n\n            SimpleEmail().apply { ... }\n        }\n</code></pre>\n\n<p>NOTE: <code>ValuesMap</code> is deprecated in latest <code>ktor</code> version, so use the following code: </p>\n\n<pre><code> val post = call.receiveParameters()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 2127256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea008fbf05ff2a161b07bb99c4708e2?s=128&d=identicon&r=PG", "display_name": "user2127256", "link": "https://stackoverflow.com/users/2127256/user2127256"}, "is_accepted": true, "score": 4, "last_activity_date": 1537721612, "creation_date": 1537721612, "answer_id": 52468291, "question_id": 46384446, "link": "https://stackoverflow.com/questions/46384446/receiving-form-params-to-ktor-server/52468291#52468291", "title": "Receiving form params to Ktor server", "body": "<p>Well although the above answer would have been correct at that point of time, today when I am going through kotlin + Ktor, I see that the above answer is not valid anymore.</p>\n\n<p>What you need now is something like this:</p>\n\n<ul>\n<li>call.receive&lt; Parameters >()[\"PARAM_NAME\"]</li>\n</ul>\n\n<p>Parameters class is in the following package: io.ktor.http.Parameters</p>\n\n<p>Nikhil</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4290, "favorite_count": 0, "accepted_answer_id": 52468291, "answer_count": 2, "score": 4, "last_activity_date": 1537721612, "creation_date": 1506202112, "last_edit_date": 1506253611, "question_id": 46384446, "link": "https://stackoverflow.com/questions/46384446/receiving-form-params-to-ktor-server", "title": "Receiving form params to Ktor server", "body": "<p>I'm new to Java and Kotlin, trying to build a contact form with <code>Ktor</code>, so I enabled the insecure connection of my gmail from <a href=\"https://myaccount.google.com/lesssecureapps?pli=1\" rel=\"nofollow noreferrer\">here</a>, and built the app below:</p>\n\n<p><code>blogApp.kt</code>:</p>\n\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\n\nimport org.apache.commons.mail.*\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        get(\"/\") {\n            call.respondText(\"\"\"\n            My Example Blog2\n                &lt;form action=\"/contact-us\" method=\"post\"&gt;\n                    &lt;input name=\"subject\" placeholder=\"Subject\"&gt;\n                    &lt;br&gt;\n                    &lt;textarea name=\"message\" placeholder=\"Your message ...\"&gt;&lt;/textarea&gt;\n                    &lt;br&gt;\n                    &lt;button&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n            \"\"\", ContentType.Text.Html)\n        }\n        post(\"/contact-us\") {\n            SimpleEmail().apply {\n                setHostName(\"smtp.gmail.com\")\n                setSmtpPort(465)\n                setAuthenticator(DefaultAuthenticator(\"my_alias@gmail.com\", \"my_gmil_passoword\"))\n                setSSLOnConnect(true)\n                setFrom(\"my_alias@gmail.com\")\n                setSubject(\"subject\")        // I need to use formParam\n                setMsg(\"message\")            // I need to use formParam\n                addTo(\"my_alias@gmail.com\")\n            }.send() // will throw email-exception if something is wrong\n            call.respondRedirect(\"/contact-us/success\")\n        }\n        get(\"/contact-us/success\") { \n            call.respondText(\"Your message was sent\", ContentType.Text.Html) \n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n</code></pre>\n\n<p><code>build.gradle</code>:</p>\n\n<pre><code>group 'Example'\n\nversion 'alpha'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\next.ktor_version = '0.4.0'\n\nrepositories {\n    mavenCentral()\n    maven { url  \"http://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"org.apache.commons:commons-email:1.4\"\n    compile \"org.slf4j:slf4j-simple:1.7.25\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n\n\njar {\n    baseName 'abc'\n    manifest {\n        attributes 'Main-Class': 'blog.BlogAppKt'\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>and things gone smoothly with it, I was able to send an email to myself then redirect to the success page, but the message got sent is with pre-set data:</p>\n\n<pre><code>        setSubject(\"subject\")        // I need to use formParam\n        setMsg(\"message\")            // I need to use formParam\n</code></pre>\n\n<p>how can I make the <code>Ktor</code> receive the data the user really entered in the form, how can I read the form params?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 7, "last_activity_date": 1506212946, "last_edit_date": 1506212946, "creation_date": 1506201616, "answer_id": 46384385, "question_id": 46384316, "link": "https://stackoverflow.com/questions/46384316/kotlin-loop-with-irregular-steps/46384385#46384385", "title": "Kotlin loop with irregular steps", "body": "<p>You can use the <code>generateSequence</code> function to create an infinite sequence, then use <code>takeWhile</code> to limit it at a specific value and then use <code>forEach</code> instead of a <code>for-in</code> construct to handle each iteration:</p>\n\n<p><code>generateSequence(1) { it + it }.takeWhile { it &lt; 100 }.forEach { print(\"$it,\") }</code></p>\n"}], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 1, "accepted_answer_id": 46384385, "answer_count": 1, "score": 4, "last_activity_date": 1506212946, "creation_date": 1506201003, "question_id": 46384316, "link": "https://stackoverflow.com/questions/46384316/kotlin-loop-with-irregular-steps", "title": "Kotlin loop with irregular steps", "body": "<p>I have been trying to translate a Java for expression into Kotlin which produces this sequence:</p>\n\n<blockquote>\n  <p>1,2,4,8,16,32,64</p>\n</blockquote>\n\n<p>This is the Java code:</p>\n\n<pre><code>for(int i = 1; i &lt; 100; i = i + i) {\n    System.out.printf(\"%d,\", i);\n}\n</code></pre>\n\n<p>The only way I have found to translate this into Kotlin is:</p>\n\n<pre><code>var i = 1\nwhile (i &lt; 100) {\n    print(\"$i,\")\n    i += i\n}\n</code></pre>\n\n<p>I have tried to use step expressions, but this does not seem to work. Is there any way to express this type of sequence more elegantly in Kotlin?</p>\n\n<p>I know you can have code like this one using Kotlin + Java 9:</p>\n\n<pre><code>Stream.iterate(1, { it &lt;= 100 }) { it!! + it }.forEach { print(\"$it,\") }\n</code></pre>\n\n<p>But this relies on Java libraries and I would prefer Kotlin native libraries.</p>\n"}, {"tags": ["generics", "interface", "kotlin", "inline", "kotlin-reified-type-parameters"], "answers": [{"comments": [{"owner": {"reputation": 2718, "user_id": 3151902, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fc5583056ec05b944374d2c3650f1b8e?s=128&d=identicon&r=PG&f=1", "display_name": "user3151902", "link": "https://stackoverflow.com/users/3151902/user3151902"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1506192477, "post_id": 46383053, "comment_id": 79724416, "body": "Casting will help here, in Kotlin it&#39;s done with the <code>as</code> keyword."}], "tags": [], "owner": {"reputation": 2718, "user_id": 3151902, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fc5583056ec05b944374d2c3650f1b8e?s=128&d=identicon&r=PG&f=1", "display_name": "user3151902", "link": "https://stackoverflow.com/users/3151902/user3151902"}, "is_accepted": true, "score": 2, "last_activity_date": 1506191974, "creation_date": 1506191974, "answer_id": 46383053, "question_id": 46382992, "link": "https://stackoverflow.com/questions/46382992/generic-interfaces-with-reified-methods/46383053#46383053", "title": "generic interfaces with reified methods", "body": "<p>The type <code>vec1bData</code> is not a valid substitute for <code>reinterpeter&lt;T&gt;</code>, because the <code>T</code> of <code>vec1bData</code> is not generic, but set to <code>Vec1b</code>.</p>\n\n<p>That means, taking just the function signature <code>fun &lt;reified T&gt; data(): reinterpreter&lt;T&gt;</code>, you must return a <code>reinterpreter&lt;T&gt;</code>. Instead you return a <code>vec1bData</code>, which is of type <code>reinterpreter&lt;Vec1b&gt;</code> instead of <code>reinterpreter&lt;T&gt;</code>.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 0, "accepted_answer_id": 46383053, "answer_count": 1, "score": 0, "last_activity_date": 1506191974, "creation_date": 1506191552, "question_id": 46382992, "link": "https://stackoverflow.com/questions/46382992/generic-interfaces-with-reified-methods", "title": "generic interfaces with reified methods", "body": "<p>I have several objects to reinterpreter memory:</p>\n\n<pre><code>interface reinterpreter&lt;T&gt; {\n    operator fun get(index: Int): T\n    operator fun set(index: Int, value: T): Any\n}\n\nobject vec1bData : reinterpreter&lt;Vec1b&gt; {    \n    override operator fun get(index: Int) = Vec1b(data, index * Vec1b.size)    \n    override fun set(index: Int, value: Vec1b) = value.to(data, index * Vec1b.size)    \n}\n</code></pre>\n\n<p>but when I type</p>\n\n<pre><code>inline fun &lt;reified T&gt; data():reinterpreter&lt;T&gt; = when (T::class.java) {    \n        Vec1b::class.java -&gt; vec1bData    \n}\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>required <code>reinterpeter&lt;T&gt;</code>, but found <code>vec1bData</code></p>\n</blockquote>\n\n<p>How can I solve?</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "baseadapter"], "comments": [{"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1506202175, "post_id": 46382561, "comment_id": 79727010, "body": "I don&#39;t think that this code will compile, does it? In your intent you specify the Activity you want to go to. You cannot specify adapters. Put another boolean into the intent and decide in Activity 2 according to the boolean what adapter to use..."}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "reply_to_user": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1506214298, "post_id": 46382561, "comment_id": 79729134, "body": "thank you @Nino Handler, yes, my code doesn&#39;t compile"}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "reply_to_user": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1506216757, "post_id": 46382561, "comment_id": 79729464, "body": "boolean accept true or false, Actually in Activity 2 i wanna add more than 2 adapter not only 2 its like 50 adapter(each adapter has different ArrayList) so how can i do that without specify adapters"}, {"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "edited": false, "score": 0, "creation_date": 1506233851, "post_id": 46382561, "comment_id": 79732064, "body": "you could specify an @IntDef <a href=\"https://developer.android.com/reference/android/support/annotation/IntDef.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/annotation/&hellip;</a> and pass the int with the bundle and then use a switch case statement to determine which adapter to use"}], "answers": [{"tags": [], "owner": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1506203346, "creation_date": 1506203346, "answer_id": 46384583, "question_id": 46382561, "link": "https://stackoverflow.com/questions/46382561/passing-an-object-instance-between-two-activities-in-kotlin/46384583#46384583", "title": "Passing an object instance between two activities in Kotlin", "body": "<p>You can not pass Adapters between Activities. At least in a clean way, recommended by Google. Adapters implement neither Parcelable nor Serializable interface. So general rule, as Nino Handler pointed out - use Intent to send <strong>data</strong> (not Adapters itself) which should be used to create Adapter.</p>\n"}, {"comments": [{"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506297931, "post_id": 46387282, "comment_id": 79749210, "body": "thank you @Nino Handler for answer,  Actually i create an &quot;IntDef&quot; and my question code been updated, in the second part of your answer : please can you help me because i don&#39;t know how to add the int to the bundle, and where to add your companion object code inside my 2nd activity please can you check my  2nd activity"}, {"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "reply_to_user": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506341210, "post_id": 46387282, "comment_id": 79766893, "body": "I updated my answer as Kotlin does not support @IntDef which I didn&#39;t know. So read it from the EDIT part on. And update your question"}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506400026, "post_id": 46387282, "comment_id": 79793153, "body": "Thank you @Nino Handler, I did it, but this is my first time using enum,please can you check my question code its updated because its not done yet"}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506400626, "post_id": 46387282, "comment_id": 79793326, "body": "I got problem with enum class by using  companion object because i have 3 parameter (name:String,des:String,image:Int) and i dont know how to do it, and i have problem with 2nd activity. note: I have food class for constructor"}, {"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "reply_to_user": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506401404, "post_id": 46387282, "comment_id": 79793527, "body": "@Marzadmz if you have problems with an enum you should open another question"}, {"owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "reply_to_user": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506401522, "post_id": 46387282, "comment_id": 79793562, "body": "the enum is only for the adapters not for anything else."}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1506643340, "post_id": 46387282, "comment_id": 79914818, "body": "thank you so much, Actually i did another question but i didn&#39;t get any answer, please can you help me and this is my link <a href=\"https://stackoverflow.com/questions/46461348/applyinga-enum-consist-of-3-adapters-between-2-activities-in-kotlin\">link</a>"}], "tags": [], "owner": {"reputation": 8798, "user_id": 3734116, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sms0Y.jpg?s=128&g=1", "display_name": "luckyhandler", "link": "https://stackoverflow.com/users/3734116/luckyhandler"}, "is_accepted": true, "score": 2, "last_activity_date": 1506341006, "last_edit_date": 1506341006, "creation_date": 1506234721, "answer_id": 46387282, "question_id": 46382561, "link": "https://stackoverflow.com/questions/46382561/passing-an-object-instance-between-two-activities-in-kotlin/46387282#46387282", "title": "Passing an object instance between two activities in Kotlin", "body": "<p>Create an <a href=\"https://developer.android.com/reference/android/support/annotation/IntDef.html\" rel=\"nofollow noreferrer\">IntDef</a> like:</p>\n\n<pre><code>@Retention(SOURCE)\n@IntDef({ADAPTER_MODE_1, ADAPTER_MODE_2, ADAPTER_MODE_3})\npublic @interface AdapterMode {}\npublic static final int ADAPTER_MODE_1 = 0;\npublic static final int ADAPTER_MODE_2 = 1;\npublic static final int ADAPTER_MODE_3 = 2;\n//...\n</code></pre>\n\n<p>and add the int to the bundle. \nFor Kotlin you have to use a <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">companion object</a> to define the variables like </p>\n\n<pre><code>class FirstActivity {\n    companion object { \n         val ADAPTER_MODE1 = 0\n         val ADAPTER_MODE2 = 1\n         val ADAPTER_MODE3 = 2\n         //...\n    }\n}\n</code></pre>\n\n<p>So you can pass unlimited adapter cases to your 2nd activity</p>\n\n<p><strong>EDIT</strong>:\nKotlin <a href=\"https://stackoverflow.com/a/37839539/3734116\">doesn't support</a> @IntDef so you should use an enum for that:</p>\n\n<pre><code>enum class AdapterType {\n    ADAPTER_TYPE_1,\n    ADAPTER_TYPE_2,\n    ADAPTER_TYPE_3;\n\n    companion object {\n        fun fromOrdinal(ordinal: Int): AdapterType? {\n            return AdapterType.values().firstOrNull { it.ordinal == ordinal }\n        }\n    }\n}\n</code></pre>\n\n<p>Then use it like:</p>\n\n<pre><code>class FirstActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val intent = Intent(this, SecondActivity::class.java)\n        intent.putExtra(SecondActivity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n    }\n}\n</code></pre>\n\n<p>And retrieve it like:</p>\n\n<pre><code>class SecondActivity : AppCompatActivity() {\n    companion object {\n        val EXTRA_ADAPTER_MODE = \"extra_adapter_mode\"\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        //...\n        val adapterTypeOrdinal = intent?.getIntExtra(EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_1.ordinal)\n        val adapterType = adapterTypeOrdinal?.let { AdapterType.fromOrdinal(it) }\n\n        // do something with it\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3662, "favorite_count": 0, "accepted_answer_id": 46387282, "answer_count": 2, "score": 0, "last_activity_date": 1506575297, "creation_date": 1506188769, "last_edit_date": 1506575297, "question_id": 46382561, "link": "https://stackoverflow.com/questions/46382561/passing-an-object-instance-between-two-activities-in-kotlin", "title": "Passing an object instance between two activities in Kotlin", "body": "<p>I'm wondering if someone could help me to fix this error with  Intent?</p>\n\n<p>I have 2 activities to connect between the:\nThe first activity for Grid View \"MainActivity.kt\", \nsecond for List View \"Main2Activity.kt\"and I have 2  object instance (adapter1,adapter2) from \"Main2Activity.kt\" and I wanna pass specific object instance (adapter1) or (adapter2) when click on specific image in the \"MainActivity.kt\"</p>\n\n<p>Note: I'm using BaseAdapter</p>\n\n<p><strong>Here is a MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(layout.activity_main)\n\n\n    // load foods\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", a))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", b))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", c))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", d))\n\n    adapter= FoodAdapter(this,listOfFoods)\n\n    gvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter: BaseAdapter {\n    var listOfFood= ArrayList&lt;Food&gt;()\n    var context: Context?=null\n    constructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n        this.context=context\n        this.listOfFood=listOfFood\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View? {\n        val food = this.listOfFood[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var foodView= inflator.inflate(layout.food_ticket,null)\n        foodView.ivFoodImage.setImageResource(food.image!!)\n        foodView.ivFoodImage.setOnClickListener {\n\n\n            if (foodView.ivFoodImage.context!!.equals(a) ) {\n                val intent = Intent(context, Main2Activity::class.java)\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n                    intent.putExtra(\"name\", food.name!!)\n                    intent.putExtra(\"des\", food.des!!)\n                    intent.putExtra(\"image\", food.image!!)\n\n                    context!!.startActivity(intent)\n\n            }\n            else if (foodView.ivFoodImage.context!!.equals(b)) {\n                val intent = Intent(context, Main2Activity::class.java)\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n                    intent.putExtra(\"name\", food.name!!)\n                    intent.putExtra(\"des\", food.des!!)\n                    intent.putExtra(\"image\", food.image!!)\n                    context!!.startActivity(intent)\n\n           }\n        }\n        return foodView\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfFood[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return listOfFood.size\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Here is a Main2Activity.kt</strong></p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\ncompanion object {\n    val EXTRA_ADAPTER_MODE = \"extra_adapter_mode\"\n}\nvar adapter1: FoodAdapter? = null\nvar adapter2: FoodAdapter2? = null\nvar listOfFoods2 = ArrayList&lt;Food&gt;()\nvar listOfFoods3 = ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n\n\n    val bundle = intent?.getIntExtra(EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_1.ordinal)\n    val name = bundle?.let { AdapterType.fromOrdinal(it) }\n    val des = bundle?.let { AdapterType.fromOrdinal(it) }\n    val image = bundle?.let { AdapterType.fromOrdinal(it) }\n\n    //val bundle = intent.extras\n    //val name = bundle.getString(\"name\")\n    //val des = bundle.getString(\"des\")\n    //val image = bundle.getInt(\"image\")\n\n\n\n    /*\n    ivFoodImage2?.let {\n        it.setImageResource(image)\n    }\n\n    tvName2?.let {\n        it.text = name\n    }\n\n    tvDes2?.let {\n        it.text = des\n    }\n    */\n\n\n\n\n\n    // load foods2\n    listOfFoods2.add(Food(\"Coffee\", \"   Coffee1 preparation is\", R.drawable.a))\n     listOfFoods2.add(Food(\"Coffee\", \"   Coffee2 preparation is\", R.drawable.b))\n\n         //listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.c))\n         //listOfFoods2.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.d))\n\n\n    // load foods3\n\n\n    //listOfFoods3.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.a))\n    //listOfFoods3.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.b))\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee3 preparation is\", R.drawable.c))\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee4 preparation is\", R.drawable.d))\n\n\n\n   if(adapter1 ==lvFoods2.adapter) {\n       adapter1 = FoodAdapter(listOfFoods2, this)\n       lvFoods2.adapter = adapter1\n    } else if (adapter2==lvFoods2.adapter) {\n       adapter2 = FoodAdapter2(listOfFoods3, this)\n       lvFoods2.adapter = adapter2\n     }\n\n    }\n\n\nclass FoodAdapter : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal2 = ArrayList&lt;Food&gt;()\n\n  constructor(listOfFoods2: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal2 = listOfFoods2\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal2[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(R.layout.food_ticket2, null)\n\n\n                 foodView.ivFoodImage2?.let {\n                     it.setImageResource(food.image!!)\n                 }\n        foodView.tvName2?.let {\n\n            it.text = food.name!!\n        }\n        foodView.tvDes2?.let {\n            it.text = food.des!!\n        }\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal2[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal2.size\n    }\n\n}\n\nclass FoodAdapter2 : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal3 = ArrayList&lt;Food&gt;()\n\n  constructor(listOfFoods3: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal3 = listOfFoods3\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal3[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(R.layout.food_ticket2, null)\n\n\n         foodView.ivFoodImage2?.let {\n             it.setImageResource(food.image!!)\n         }\n        foodView.tvName2?.let {\n            it.text = food.name!!\n        }\n         foodView.tvDes2?.let {\n             it.text = food.des!!\n         }\n\n\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal3[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal3.size\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Here is enum class</strong></p>\n\n<pre><code>enum class AdapterType {\nADAPTER_TYPE_1,\nADAPTER_TYPE_2,\nADAPTER_TYPE_3;\n\n\ncompanion object {\n     fun fromOrdinal(name:String,des:String,image: Int): AdapterType? {\n        return AdapterType.values().firstOrNull { it.ordinal == image}\n\n\n\n     }\n}\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": true, "score": 6, "last_activity_date": 1506237450, "creation_date": 1506237450, "answer_id": 46387591, "question_id": 46381441, "link": "https://stackoverflow.com/questions/46381441/kotlin-anko-onclick-is-unresolved-reference/46387591#46387591", "title": "Kotlin anko onclick is unresolved reference", "body": "<p>from: <a href=\"https://github.com/Kotlin/anko/issues/412\" rel=\"noreferrer\">https://github.com/Kotlin/anko/issues/412</a></p>\n\n<p>From the <a href=\"https://github.com/Kotlin/anko/releases/tag/v0.10\" rel=\"noreferrer\">releases page</a> under 0.10 I find:</p>\n\n<blockquote>\n  <p>DSL listeners moved to anko-&lt; platformName >-listeners artifacts (e.g.\n  anko-sdk25-listeners);</p>\n</blockquote>\n"}], "owner": {"reputation": 721, "user_id": 975179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1dc0bdeffba3b4d200f01d2e0b2a5f48?s=128&d=identicon&r=PG", "display_name": "vinu k n", "link": "https://stackoverflow.com/users/975179/vinu-k-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 0, "accepted_answer_id": 46387591, "answer_count": 1, "score": 1, "last_activity_date": 1506237450, "creation_date": 1506181924, "question_id": 46381441, "link": "https://stackoverflow.com/questions/46381441/kotlin-anko-onclick-is-unresolved-reference", "title": "Kotlin anko onclick is unresolved reference", "body": "<p>I am new to Kotlin and anko, I am phasing an error on android studio 3.0 beta 6,Kotlin version 1.1.50 and anko 0.10.1\nError:\nKotlin anko onclick is unresolved reference</p>\n"}, {"tags": ["android", "gradle", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506183148, "post_id": 46381379, "comment_id": 79721449, "body": "Should you use <code>api project(&#39;:domain&#39;)</code> and not <code>implementation project(&#39;:domain&#39;)</code>?"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506183283, "post_id": 46381379, "comment_id": 79721490, "body": "I don&#39;t think so because there are no dependencies relying on my <code>app</code> module and it&#39;s only used internally? Unless I am understanding this incorrectly?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506183542, "post_id": 46381379, "comment_id": 79721560, "body": "<code>com.nhaarman:mockito-kotlin:1.5.0</code> includes <code>mockito-core</code> as a dependency? should that be <code>testApi com.nhaarman:mockito-kotlin:1.5.0</code> - if <code>testApi</code> exists - As you&#39;re using <code>@Mock</code> annotation through the <code>com.nhaarman:mockito-kotlin:1.5.0</code> library."}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506183876, "post_id": 46381379, "comment_id": 79721690, "body": "Tried changing that to <code>testApi</code> but no luck. Also tried <code>api project(&#39;:domain&#39;)</code> but that also didn&#39;t work."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506184236, "post_id": 46381379, "comment_id": 79721829, "body": "To rule out dependencies I&#39;d use <code>testCompile</code> (although 3.0+ deprecated should work fine) instead of <code>testImplementation</code>"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506184379, "post_id": 46381379, "comment_id": 79721880, "body": "Just used <code>testCompile</code> on <code>mockito-kotlin</code> and same issue."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506184617, "post_id": 46381379, "comment_id": 79721964, "body": "Just had a thought, are you using <code>final</code> classes (default in kotlin unless you use <code>open</code> keyword) if so you need another test dependency  - <code>org.mockito:mockito-inline:x.xx.xx</code> -&gt; x&#39;s should be the same version of <code>mockito-core</code> used in <code>com.nhaarman:mockito-kotlin:1.5.0</code>"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506184857, "post_id": 46381379, "comment_id": 79722040, "body": "Good catch and I have fallen for that issue before. My <code>Repository</code> class is final. I added the <code>inline</code> dependency but still occurring even after clean. Using both <code>testImplementation</code> and <code>testApi</code>. Also changed <code>Repository</code> to open just to see but still <code>NoClassDefFoundError</code>"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506185272, "post_id": 46381379, "comment_id": 79722163, "body": "Don&#39;t know off top my head - had a look around, this post may help ..  <a href=\"https://stackoverflow.com/questions/44079918/android-studio-3-0-canary-1-kotlin-tests-or-java-tests-referring-to-kotlin-clas\" title=\"android studio 3 0 canary 1 kotlin tests or java tests referring to kotlin clas\">stackoverflow.com/questions/44079918/&hellip;</a>"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1506280244, "post_id": 46381379, "comment_id": 79744770, "body": "@MarkKeen thanks. your link to that question  led me on to the solution. See my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "is_accepted": true, "score": 1, "last_activity_date": 1506280218, "creation_date": 1506280218, "answer_id": 46393838, "question_id": 46381379, "link": "https://stackoverflow.com/questions/46381379/kotlin-unit-test-not-finding-module-dependency-interface/46393838#46393838", "title": "Kotlin Unit Test Not Finding Module Dependency Interface", "body": "<p>Thanks to <code>@Mark Keen</code>, I was able to find a <a href=\"https://youtrack.jetbrains.com/issue/KT-17951\" rel=\"nofollow noreferrer\">reported bug</a> on the Jetbrains site. </p>\n\n<p>This contained a solution from a user called <code>@Calin</code>. Adding the following to the projects's <code>build.gradle</code> file and triggering a gradle sync does the trick.</p>\n\n<pre><code>subprojects { subProject -&gt;\n    afterEvaluate {\n        if (subProject.plugins.hasPlugin(\"kotlin\") &amp;&amp; subProject.plugins.hasPlugin(\"java-library\")) {\n            subProject.kotlin.copyClassesToJavaOutput = true\n            subProject.jar.duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 46393838, "answer_count": 1, "score": 1, "last_activity_date": 1506280218, "creation_date": 1506181552, "last_edit_date": 1506196005, "question_id": 46381379, "link": "https://stackoverflow.com/questions/46381379/kotlin-unit-test-not-finding-module-dependency-interface", "title": "Kotlin Unit Test Not Finding Module Dependency Interface", "body": "<p>I have an <code>app</code> module and a <code>domain</code> module. In my <code>domain</code> module I have an interface called <code>Repository</code>. In my <code>app</code> module I use <code>dagger</code> to inject an implementation for this into my class and this works fine.</p>\n\n<p>When I then go to test it using a kotlin unit test, at runtime I get a <code>NoClassDefFoundError</code>.</p>\n\n<p>I have also tried to include the <code>domain</code> module in my <code>app</code> modules dependencies like so but that also did not work:</p>\n\n<pre><code>testImplementation project(':domain')\n</code></pre>\n\n<p>Here are my current test dependencies and also how I'm including the module</p>\n\n<pre><code>implementation project(':domain')\ntestImplementation 'junit:junit:4.12'\ntestImplementation 'com.nhaarman:mockito-kotlin:1.5.0'\n</code></pre>\n\n<p>In my unit test I'm using it like this which could be the issue:</p>\n\n<pre><code>@Mock lateinit var mockRepo : Repository\n</code></pre>\n"}, {"tags": ["android", "binding", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6515, "user_id": 272924, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/WYhVU.jpg?s=128&g=1", "display_name": "dark_ruby", "link": "https://stackoverflow.com/users/272924/dark-ruby"}, "edited": false, "score": 0, "creation_date": 1541458197, "post_id": 46874288, "comment_id": 93217288, "body": "i have similar issue, but the above doesn&#39;t fix it for me"}], "tags": [], "owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "is_accepted": true, "score": 0, "last_activity_date": 1508676750, "creation_date": 1508676750, "answer_id": 46874288, "question_id": 46380992, "link": "https://stackoverflow.com/questions/46380992/kotlin-android-binding-not-update-data/46874288#46874288", "title": "Kotlin android. binding not update data", "body": "<p>I was find error! My mistake is duplicating setContentView:</p>\n\n<p><code>binding = DataBindingUtil.setContentView(this, R.layout.activity_fblogin)\n....\nsetContentView(R.layout.activity_fblogin)</code></p>\n\n<p>When i was delete the second setContentView, i fixed my problem</p>\n"}], "owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "accepted_answer_id": 46874288, "answer_count": 1, "score": 0, "last_activity_date": 1508676750, "creation_date": 1506179192, "question_id": 46380992, "link": "https://stackoverflow.com/questions/46380992/kotlin-android-binding-not-update-data", "title": "Kotlin android. binding not update data", "body": "<p>Good evening! I try to use binding in kotlin, but data aren't update. All compile and work, but when user change text and click bsave -> i try to return data from textEdit, and data is not updated. TextEdit contains old data. In java it is working, but in kotlin i have problem. Can you help me?</p>\n\n<p>It is my method onCreate, here i create model and binding its. </p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = DataBindingUtil.setContentView(this,R.layout.activity_fblogin)\n    auth = FirebaseAuth.getInstance()\n    setContentView(R.layout.activity_fblogin)\n\n    user = User(\"Test02\", \"123456\")\n    binding?.setVariable(BR.user, user)\n    binding?.executePendingBindings()\n\n    loginButton.setOnClickListener{_ -&gt; loginToSystem()}\n    signIn.setOnClickListener{_ -&gt; showSignInActivity()}\n}\n\nprivate fun loginToSystem() {\n    binding?.executePendingBindings()\n    //showProgressDialog()\n    val email = binding?.userName?.text.toString().trim()\n    val password = binding?.userPass?.text.toString()\n\n    val email2 = user?.login\n    val password2 = user?.password\n\n    if (!checkValidateForm(email, password)) {\n        return\n    }\n</code></pre>\n\n<p>It is main part of my xml:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"user\"\n            type=\"com.example.darkt.makeyouself.models.User\"\n        /&gt;\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:descendantFocusability=\"beforeDescendants\"\n        android:fitsSystemWindows=\"true\"\n        android:focusableInTouchMode=\"true\"\n        tools:context=\"com.example.darkt.makeyouself.activities.FBLogin\"\n        tools:ignore=\"MissingConstraints\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/userName\"\n            android:layout_width=\"220dp\"\n            android:layout_height=\"43dp\"\n            android:ems=\"10\"\n            android:inputType=\"textPersonName\"\n            android:text=\"@{user.login}\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/author\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            tools:text=\"Login\"/&gt;\n\n\n        &lt;EditText\n            android:id=\"@+id/userPass\"\n            android:layout_width=\"220dp\"\n            android:layout_height=\"45dp\"\n            android:layout_marginTop=\"25dp\"\n            android:ems=\"10\"\n            android:inputType=\"textPassword\"\n            android:text=\"@{user.password}\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/userName\"\n            tools:layout_editor_absoluteX=\"74dp\"\n            tools:layout_editor_absoluteY=\"245dp\"\n            tools:text=\"Password\"/&gt;\n\n\n        &lt;Button\n            android:id=\"@+id/signIn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:background=\"@color/green_main\"\n            android:text=\"SignIn\"\n            android:textColor=\"@color/white\"\n            app:layout_constraintStart_toStartOf=\"@+id/userPass\"\n            app:layout_constraintTop_toBottomOf=\"@+id/userPass\" /&gt;\n\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>And my short model:</p>\n\n<pre><code>data class User (val login: String, val password: String)\n</code></pre>\n\n<p>How i can refresh data in binding after user changes?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 666, "user_id": 3824918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a696172dc057e5f8949f69f80cd479bd?s=128&d=identicon&r=PG&f=1", "display_name": "Cithel", "link": "https://stackoverflow.com/users/3824918/cithel"}, "is_accepted": true, "score": 0, "last_activity_date": 1507122627, "creation_date": 1507122627, "answer_id": 46565773, "question_id": 46380379, "link": "https://stackoverflow.com/questions/46380379/android-library-module-does-not-compile-when-using-classes-from-pure-kotlin-modu/46565773#46565773", "title": "Android library module does not compile when using classes from pure Kotlin module", "body": "<p>I finally found why it was not compiling: I had to call \"rebuild project\" rather than \"make project\" in order for Android Studio to take all the changes into account.</p>\n"}], "owner": {"reputation": 666, "user_id": 3824918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a696172dc057e5f8949f69f80cd479bd?s=128&d=identicon&r=PG&f=1", "display_name": "Cithel", "link": "https://stackoverflow.com/users/3824918/cithel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 46565773, "answer_count": 1, "score": -1, "last_activity_date": 1507122627, "creation_date": 1506175237, "question_id": 46380379, "link": "https://stackoverflow.com/questions/46380379/android-library-module-does-not-compile-when-using-classes-from-pure-kotlin-modu", "title": "Android library module does not compile when using classes from pure Kotlin module", "body": "<p>I have a project using this structure: <a href=\"https://github.com/android10/Android-CleanArchitecture\" rel=\"nofollow noreferrer\">https://github.com/android10/Android-CleanArchitecture</a>, and I am trying to convert it to Kotlin.</p>\n\n<p>The domain module compiles just fine, but when I try compile the data module I get the following error:</p>\n\n<pre><code>Unresolved reference: ThreadExecutor`\n</code></pre>\n\n<p>and some other similar errors.</p>\n\n<p>These errors are about interfaces, dataclass or Dagger singletons. It seems that the data module cannot find some objects from the domain module (though IntelliJ is not showing any error in the editor).</p>\n\n<p>Here is the ThreadExecutor interface:</p>\n\n<pre><code>package com.company.app.domain.executor\n\nimport java.util.concurrent.Executor\n\ninterface ThreadExecutor : Executor\n</code></pre>\n\n<p>The domain module build.gradle file:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'kotlin'\n\n//noinspection GroovyUnusedAssignment\nsourceCompatibility = JavaVersion.VERSION_1_7\n//noinspection GroovyUnusedAssignment\ntargetCompatibility = JavaVersion.VERSION_1_7\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n}\n\ndependencies {\n    testCompile 'junit:junit:4.12'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.3'\n    compile 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n    compile 'com.google.guava:guava:22.0-android'\n    compile 'javax.inject:javax.inject:1'\n    compile 'joda-time:joda-time:2.9.9'\n}\nrepositories {\n    mavenCentral()\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.6\"\n    }\n}\n</code></pre>\n\n<p>The global project build.gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\napply plugin: 'kotlin'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    configurations.all {\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:2.0.1'\n    }\n}\n\nclean {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And finally the data module build.gralde:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n}\n\napply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n\nandroid {\n    publishNonDefault true\n\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.1\"\n\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n\ndependencies {\n    compile project(':domain')\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.1.3'\n    compile 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n    compile 'com.google.code.gson:gson:2.8.1'\n    compile 'com.squareup.okhttp3:okhttp:3.8.1'\n    kapt 'com.google.dagger:dagger-compiler:2.11'\n    compile 'com.google.dagger:dagger:2.11'\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:26.0.0-alpha1'\n    testCompile 'junit:junit:4.12'\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>It looks like the domain jar compiled from Kotlin is not exposing these objects the way the data module expects to, but I currently have no clue as to why.</p>\n"}, {"tags": ["android", "broadcastreceiver", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1506166293, "post_id": 46379064, "comment_id": 79716668, "body": "Do <b>NOT</b> create a <code>static</code> reference to an activity. First, you are causing a memory leak. Second, there is no requirement for the activity to exist (e.g., broadcast received sometime after the process is terminated). And, on Android 8.0+, you cannot listen for this broadcast via a manifest-registered receiver. Use <code>registerReceiver()</code> <i>inside</i> the activity rather than a manifest-registered receiver, and you will clear up these problems."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1506166622, "post_id": 46379064, "comment_id": 79716765, "body": "Yes, i also had tried this out and registered my broadcast receiver in my activity class but i till can&#39;t access my edittext.... i am trying it from last 2 days but i got solution recently that i have to declare my broadcastreceiver class as inner class.. By the way...thanks for support!!!"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1506167001, "post_id": 46379064, "comment_id": 79716877, "body": "Then I suggest that you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing this code. That would include the entire source code to the activity, including its receiver that you are registering via <code>registerReceiver()</code>."}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1506169491, "post_id": 46379064, "comment_id": 79717590, "body": "My proble is solved but if you want to see my source code then i don&#39;t have any problem. Let me answer my question and add my source code in it! Thanks again!!"}], "answers": [{"comments": [{"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 1, "creation_date": 1512947210, "post_id": 46379603, "comment_id": 82448982, "body": "I&#39;d upvote your answer, if you&#39;d cleaned the code up a bit before pasting it. We only need to see the minimum requirements for a working version of your solution (not your entire application! \ud83d\ude02)"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "reply_to_user": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 0, "creation_date": 1513664033, "post_id": 46379603, "comment_id": 82727801, "body": "Thanks for suggestion. i am new to stackoverflow so, thanks for helping me for improve my impressions of stackoverflow. i will keep your suggestions in my mind next time and i had edited my answer and cleaned it as you suggested. now you can check it and can upvote it if you found it right! Thanks again! @Lissy"}], "tags": [], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "is_accepted": true, "score": 1, "last_activity_date": 1513663847, "last_edit_date": 1513663847, "creation_date": 1506169926, "answer_id": 46379603, "question_id": 46379064, "link": "https://stackoverflow.com/questions/46379064/access-edittext-of-activity-from-broadcastreceiver-class-in-android-using-kotlin/46379603#46379603", "title": "Access edittext Of Activity from BroadcastReceiver Class in android using kotlin", "body": "<p>I got Solution....I have to register my receiver in my activity class and important thing is that declare broadcastreceiver class as inner class to access elements of activity.</p>\n\n<p>e.g.</p>\n\n<pre><code>inner class InternetOnReceiver : BroadcastReceiver(){\n    override fun onReceive(context: Context?, intent: Intent?) {\n        etLocationPicker.hint = \"Pick Location\"\n        etLocationPicker.isEnabled = true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 46379603, "answer_count": 1, "score": 0, "last_activity_date": 1513663847, "creation_date": 1506165921, "question_id": 46379064, "link": "https://stackoverflow.com/questions/46379064/access-edittext-of-activity-from-broadcastreceiver-class-in-android-using-kotlin", "title": "Access edittext Of Activity from BroadcastReceiver Class in android using kotlin", "body": "<p>I want to disable my edittext field if no internet connection is available. So, for that, i had make broadcastreceiver class to detect network change activities and when i receive broadcast that no internet connection is available, at that time i want to disable my edittext field and as internet connection is made on by user the field should be enabled automatically. Most important thing is that i am doing this thing using kotlin and i had found many solutions but all are for java.\nSo, please help me how can i do that. I had tried to get class instance for accessing edittext like below</p>\n\n<pre><code>var activityInstance = SetProfileActivity::class.objectInstance\n</code></pre>\n\n<p>and by using activityInstance object i tried to access my edittext like below</p>\n\n<pre><code>activityInstance.myEtId.setEnabled(false)\n</code></pre>\n\n<p>but i can't access it and it returns null.\nHow can i do this?</p>\n"}, {"tags": ["scala", "kotlin", "higher-order-functions"], "answers": [{"comments": [{"owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "edited": false, "score": 0, "creation_date": 1506161587, "post_id": 46378429, "comment_id": 79715379, "body": "The main difference I can see is that the kotlin with has limited scope, while scala import scope is not that limited. Nevertheless it seems the best possible in scala yes :)"}, {"owner": {"reputation": 20280, "user_id": 1829647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc554c7355c8476dd63375b314b1bd97?s=128&d=identicon&r=PG", "display_name": "sjrd", "link": "https://stackoverflow.com/users/1829647/sjrd"}, "reply_to_user": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "edited": false, "score": 2, "creation_date": 1506161833, "post_id": 46378429, "comment_id": 79715437, "body": "@pedrorijo91 I have updated my answer to address that."}, {"owner": {"reputation": 38577, "user_id": 1296806, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec5b08d0fe94845ba49fd4a263c7d99d?s=128&d=identicon&r=PG", "display_name": "som-snytt", "link": "https://stackoverflow.com/users/1296806/som-snytt"}, "edited": false, "score": 0, "creation_date": 1506183468, "post_id": 46378429, "comment_id": 79721540, "body": "<code>val str = &quot;hello&quot; : { def size: Int }</code> almost works but then <code>size</code> does not warn about reflective access. (I was hoping we could avoid reflection without knowing the name of the conversion or the wrapper.)"}], "tags": [], "owner": {"reputation": 20280, "user_id": 1829647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc554c7355c8476dd63375b314b1bd97?s=128&d=identicon&r=PG", "display_name": "sjrd", "link": "https://stackoverflow.com/users/1829647/sjrd"}, "is_accepted": true, "score": 13, "last_activity_date": 1506164008, "last_edit_date": 1506164008, "creation_date": 1506161444, "answer_id": 46378429, "question_id": 46378386, "link": "https://stackoverflow.com/questions/46378386/is-it-possible-to-express-kotlin-with-method-equivalent-in-scala/46378429#46378429", "title": "Is it possible to express kotlin &#39;with&#39; method equivalent in Scala?", "body": "<p>There is no way to define such a method in Scala, because the concept of <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\">function literals with receiver</a> does not exist in Scala.</p>\n\n<p>However, Scala's <code>import</code> is general enough that you can use it <em>instead</em> of <code>with</code>. Your example would write as:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val str = \"string\"\nimport str._\nprintln(length)\nprintln(substring(3))\n</code></pre>\n\n<p>Note that <code>size</code> specifically does not work with this scheme because it happens to be implicitly pimped on <code>String</code>, so I had to use <code>length</code> instead. However, in general, this is the pattern we use.</p>\n\n<p>Edit after comment: if you want to explicitly <em>scope</em> the import to a portion of your code, you can do so with braces, which are always allowed to scope things:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val str = \"string\"\n\n{\n  import str._\n  println(length)\n  println(substring(3))\n}\nprintln(length) // does not compile\n</code></pre>\n\n<p>Note that the blank line is necessary, otherwise it will be parsed as trying to call the <code>apply</code> method on <code>\"string\"</code> with the <code>{...}</code> as argument. To avoid this problem, you can use the <code>locally</code> method:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val str = \"string\"\nlocally {\n  import str._\n  println(length)\n  println(substring(3))\n}\nprintln(length) // does not compile\n</code></pre>\n\n<p><code>locally</code> per se doesn't do anything; it is only used to visually highlight that the braces are there only for scoping reasons, and by extension to help parsing do the right thing.</p>\n"}], "owner": {"reputation": 6833, "user_id": 4398050, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-AgrMk4aAiaQ/AAAAAAAAAAI/AAAAAAAAAp8/TNowIX0T3CY/photo.jpg?sz=128", "display_name": "pedrorijo91", "link": "https://stackoverflow.com/users/4398050/pedrorijo91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 46378429, "answer_count": 1, "score": 9, "last_activity_date": 1506164008, "creation_date": 1506161069, "question_id": 46378386, "link": "https://stackoverflow.com/questions/46378386/is-it-possible-to-express-kotlin-with-method-equivalent-in-scala", "title": "Is it possible to express kotlin &#39;with&#39; method equivalent in Scala?", "body": "<p>Kotlin Standard lib contains the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/util/Standard.kt#L43\" rel=\"noreferrer\">'with' method</a> that receives an object and a method of that object defined as:</p>\n\n<pre><code>public inline fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R = receiver.block()\n</code></pre>\n\n<p>And can be used as:</p>\n\n<pre><code>val str = \"string\"\nwith(str) {\n  println(size)) // will print 6; equals to \"string\".size\n  println(substring(3)) // will print (ing); equals to \"string\".substring(3)\n}\n</code></pre>\n\n<p>How to define similar method in Scala?</p>\n"}, {"tags": ["android", "class", "kotlin"], "comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 3, "creation_date": 1506142206, "post_id": 46376108, "comment_id": 79711277, "body": "Use inner, not internal =)"}], "answers": [{"comments": [{"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 0, "creation_date": 1506142942, "post_id": 46376182, "comment_id": 79711395, "body": "Thanks for your solution. This tiny mistake was bitting me  from two days and you saved my another day"}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 0, "creation_date": 1506143053, "post_id": 46376182, "comment_id": 79711413, "body": "You are welcome! The name internal and inner is really tricky... Keep with protected would be better I guess"}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 1, "creation_date": 1506144502, "post_id": 46376182, "comment_id": 79711603, "body": "I do not know the difference between protected and internal and inner but i will try to sort it out on my own"}], "tags": [], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "is_accepted": true, "score": 62, "last_activity_date": 1506142936, "last_edit_date": 1506142936, "creation_date": 1506142343, "answer_id": 46376182, "question_id": 46376108, "link": "https://stackoverflow.com/questions/46376108/unable-to-access-variable-from-innerclass-kotlin-android/46376182#46376182", "title": "Unable to access variable from innerclass : Kotlin android", "body": "<p>You should use the inner modifier in your adapter. </p>\n\n<p>This modifier makes the inner class have access to the members of the outer class</p>\n\n<p>Reference: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/nested-classes.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573572342, "post_id": 48822879, "comment_id": 103920410, "body": "Where is the call-site for <code>var accessMe</code>?"}, {"owner": {"reputation": 1244, "user_id": 4635346, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d1365d3ca202aee4dec64b2fdb5a517f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Pratap Singh", "link": "https://stackoverflow.com/users/4635346/vivek-pratap-singh"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1573628365, "post_id": 48822879, "comment_id": 103938880, "body": "@IgorGanapolsky Please check , I have updated the answer."}], "tags": [], "owner": {"reputation": 1244, "user_id": 4635346, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d1365d3ca202aee4dec64b2fdb5a517f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Pratap Singh", "link": "https://stackoverflow.com/users/4635346/vivek-pratap-singh"}, "is_accepted": false, "score": 29, "last_activity_date": 1573628296, "last_edit_date": 1573628296, "creation_date": 1518770220, "answer_id": 48822879, "question_id": 46376108, "link": "https://stackoverflow.com/questions/46376108/unable-to-access-variable-from-innerclass-kotlin-android/48822879#48822879", "title": "Unable to access variable from innerclass : Kotlin android", "body": "<p>Define your nested class as <code>inner</code> then you will be able to access an outer class member variable.</p>\n\n<pre><code>class OuterClass{\n\nvar accessMe =\"access me from Inner Class\"\n\n    inner class InnerClass{\n\n       //....\n\n\n        fun accessingOuterClassVariable(){\n\n           accessMe = \"Now the variable is accessed\"\n\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 4257442, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8dde9b4feae506689e12acb50d624067?s=128&d=identicon&r=PG&f=1", "display_name": "Pouya Danesh", "link": "https://stackoverflow.com/users/4257442/pouya-danesh"}, "is_accepted": false, "score": 5, "last_activity_date": 1531209262, "creation_date": 1531209262, "answer_id": 51259887, "question_id": 46376108, "link": "https://stackoverflow.com/questions/46376108/unable-to-access-variable-from-innerclass-kotlin-android/51259887#51259887", "title": "Unable to access variable from innerclass : Kotlin android", "body": "<p>to answer this question for the fast an easy way i would do something like following :</p>\n\n<pre><code>class OuterClass{\n\nprivate var accessibleInside: CustomObject? = null\ninner class InnerClass{\n\n    //....\n}\n</code></pre>\n\n<p>now the <code>CustomObject</code> could be anything from <code>Context</code> to <code>String</code> hope this helps someone.</p>\n"}], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12138, "favorite_count": 2, "accepted_answer_id": 46376182, "answer_count": 3, "score": 34, "last_activity_date": 1573628296, "creation_date": 1506141634, "question_id": 46376108, "link": "https://stackoverflow.com/questions/46376108/unable-to-access-variable-from-innerclass-kotlin-android", "title": "Unable to access variable from innerclass : Kotlin android", "body": "<p>I am new to Kotlin development in android. here I am trying to access a variable defined in a class from it's inner class as below. </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    var frags: MutableList&lt;Fragment&gt; = mutableListOf()\n\n//.............onCreate and other methods ....\n\n    internal class CustAdapter(var arrayList: ArrayList&lt;NavigationData&gt;) : RecyclerView.Adapter&lt;CustAdapter.MyViewHolder&gt;() {\n    override fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n        holder!!.bindItems(arrayList[position])\n    }\n\n    override fun getItemCount(): Int {\n        return arrayList.size\n    }\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustAdapter.MyViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.navigation_item, parent, false)\n        return MyViewHolder(v)\n    }\n\n    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bindItems(data: NavigationData) {\n\n\n            itemView.setOnClickListener {\n                   frags.add(BoardFrag()) ///// here i'm getting error \"unresolved symbol\"\n\n            }\n        }\n    }\n}    \n}\n</code></pre>\n\n<p>inside inner class <code>MyViewHolder</code> it is not allowing me to access any variable of outer scope.</p>\n\n<p>even I'm unable to access view ids imported from <code>\nimport kotlinx.android.synthetic.main.activity_main.*</code> inside inner class methods.</p>\n\n<p>I was able to access variables in such a way in <code>java</code> but i have read many question on stackoverflow but i didn't get answer yet. </p>\n"}, {"tags": ["android", "facebook-graph-api", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 0, "creation_date": 1506142740, "post_id": 46375908, "comment_id": 79711360, "body": "What does your createUser returns? Maybe you need a flatMapCompletable"}, {"owner": {"reputation": 109, "user_id": 1653949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aebe8caacba5a2e5467627eb61e06e1?s=128&d=identicon&r=PG", "display_name": "hikky36", "link": "https://stackoverflow.com/users/1653949/hikky36"}, "reply_to_user": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 0, "creation_date": 1506143436, "post_id": 46375908, "comment_id": 79711461, "body": "It returns Observable&lt;User&gt;. I&#39;m still using RxJava 1 so there&#39;s no flatMapCompletable."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1506156316, "post_id": 46375908, "comment_id": 79714057, "body": "Does the <code>emitter.onNext(User())</code> get executed? The <a href=\"https://developers.facebook.com/docs/reference/android/current/class/GraphRequest/\" rel=\"nofollow noreferrer\">documentation</a> on <code>executeAsync</code> says &quot;This should only be called from the UI thread.&quot;. Maybe it fails silently due to <code>subscribeOn</code>?"}, {"owner": {"reputation": 109, "user_id": 1653949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aebe8caacba5a2e5467627eb61e06e1?s=128&d=identicon&r=PG", "display_name": "hikky36", "link": "https://stackoverflow.com/users/1653949/hikky36"}, "edited": false, "score": 0, "creation_date": 1506159807, "post_id": 46375908, "comment_id": 79714884, "body": "<code>emitter.onNext(User())</code> did get executed but I just saw the part that you pointed out that <code>executeAsync</code> should only be called from the UI thread. May be that&#39;s the problem. I&#39;m still wondering if there&#39;s a way to cause subscriber to fail silently though?"}], "owner": {"reputation": 109, "user_id": 1653949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aebe8caacba5a2e5467627eb61e06e1?s=128&d=identicon&r=PG", "display_name": "hikky36", "link": "https://stackoverflow.com/users/1653949/hikky36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1506144751, "creation_date": 1506139350, "last_edit_date": 1506144751, "question_id": 46375908, "link": "https://stackoverflow.com/questions/46375908/none-of-rxjava-subscriber-onnext-onerror-oncomplete-get-called-when-chaining-obs", "title": "None of RxJava subscriber onNext/onError/onComplete get called when chaining Observables created from Observable.create()", "body": "<p>I'm trying to implement a basic RxJava chaining call where</p>\n\n<ol>\n<li>Getting the user name and photo from Facebook Graph API </li>\n<li>Use that information to then register with my Backend service</li>\n</ol>\n\n<p>So I try using flatMap like below</p>\n\n<pre><code>getProfileFromFacebook().flatMap { user -&gt; userRepository.createUser(user) }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(\n                { Log.d(\"test\", \"onNext\") }, \n                { Log.d(\"test\", \"onError\") },\n                { Log.d(\"test\", \"onComplete\") })\n</code></pre>\n\n<p>Strangely, none of the logging in the subscriber get printed out. </p>\n\n<p>So I tried replace getProfleFromFacebook() with Observable.just(User()). This time it works, onNext get printed out. So I guess the problem is at getProfleFromFacebook(). Here is its implementation</p>\n\n<pre><code>fun getProfileFromFacebook(): Observable&lt;User&gt; {\n    return Observable.create&lt;User&gt;({ emitter -&gt;\n        val request = GraphRequest.newMeRequest(AccessToken.getCurrentAccessToken()) {\n            _, _ -&gt;\n            emitter.onNext(User())\n            emitter.onCompleted()\n        }\n        val parameters = Bundle()\n        parameters.putString(\"fields\", \"name,picture\")\n        request.parameters = parameters\n        request.executeAsync()\n    }, Emitter.BackpressureMode.BUFFER)\n}\n</code></pre>\n\n<p>I've checked by adding more logging and found that the flatMap function does get the event with a user object but for some reason, it doesn't seem to actually execute the Observable return from userRepository.createUser().</p>\n\n<p>If I change the Graph API call from executeAsync() to executeAndWait(), it  works. Why is that?</p>\n\n<p>What could I possibly do wrong here? </p>\n"}, {"tags": ["java", "hibernate", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 552, "user_id": 6699380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a771da5de20ca918ed7da833426f0b?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois LEPORCQ", "link": "https://stackoverflow.com/users/6699380/fran%c3%a7ois-leporcq"}, "is_accepted": false, "score": 0, "last_activity_date": 1506148081, "creation_date": 1506148081, "answer_id": 46376753, "question_id": 46373702, "link": "https://stackoverflow.com/questions/46373702/hibernate-with-kotlin-manytoonefetch-fetchtype-lazy/46376753#46376753", "title": "Hibernate with Kotlin: @ManyToOne(fetch = FetchType.LAZY)", "body": "<p>you could use this static method to deproxy your entity</p>\n\n<pre><code>/**\n * Utility method that tries to properly initialize the Hibernate CGLIB\n * proxy.\n * @param &lt;T&gt;\n * @param maybeProxy -- the possible Hibernate generated proxy\n * @param baseClass -- the resulting class to be cast to.\n * @return the object of a class &lt;T&gt;\n * @throws ClassCastException\n */\npublic static &lt;T&gt; T deproxy(Object maybeProxy, Class&lt;T&gt; baseClass) throws ClassCastException {\n    if (maybeProxy instanceof HibernateProxy) {\n        return baseClass.cast(((HibernateProxy) maybeProxy).getHibernateLazyInitializer().getImplementation());\n    }\n    return baseClass.cast(maybeProxy);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": false, "score": 0, "last_activity_date": 1512488830, "creation_date": 1512488830, "answer_id": 47657532, "question_id": 46373702, "link": "https://stackoverflow.com/questions/46373702/hibernate-with-kotlin-manytoonefetch-fetchtype-lazy/47657532#47657532", "title": "Hibernate with Kotlin: @ManyToOne(fetch = FetchType.LAZY)", "body": "<p>I write a simple example to check your problem, and all works fine.</p>\n\n<pre><code>import org.hibernate.CacheMode\nimport org.hibernate.Session\nimport org.hibernate.SessionFactory\nimport org.hibernate.Transaction\nimport org.hibernate.boot.MetadataSources\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder\nimport org.hibernate.cfg.Environment\nimport java.util.*\nimport javax.persistence.*\n\n\nfun main(args: Array&lt;String&gt;) {\n    val standardServiceRegistryBuilder = StandardServiceRegistryBuilder()\n\n    val settings = HashMap&lt;String, String&gt;().apply {\n        put(Environment.DRIVER, \"org.h2.Driver\")\n        put(Environment.URL, \"jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1\")\n        put(Environment.USER, \"sa\")\n        put(Environment.PASS, \"sa\")\n        put(Environment.DIALECT, \"org.hibernate.dialect.H2Dialect\")\n        put(Environment.SHOW_SQL, \"true\")\n        put(Environment.HBM2DDL_AUTO, \"create\")\n    }\n\n    val sessionFactory = standardServiceRegistryBuilder.applySettings(settings)\n            .build()\n            .let {\n                MetadataSources(it).apply {\n                    addAnnotatedClass(History::class.java)\n                    addAnnotatedClass(Event::class.java)\n                }\n            }\n            .run { metadataBuilder.build() }\n            .run { sessionFactoryBuilder.build() }\n\n    sessionFactory.inSession {\n        inTransaction { session -&gt;\n            session.save(Event(1, \"event description\"))\n\n            session.save(History(1, Event(1), \"history description\"))\n        }\n    }\n\n    sessionFactory.inSession {\n        inTransaction { session -&gt;\n            val entity = session.get(Event::class.java, 1L)\n\n            println(\"=============1=============\")\n            println(entity)\n        }\n    }\n\n    sessionFactory.inSession {\n        inTransaction { session -&gt;\n            val entity = session.load(History::class.java, 1L)\n\n            println(\"=============2=============\")\n            println(entity)\n        }\n    }\n}\n\nprivate fun SessionFactory.inSession(function: Session.() -&gt; Unit) {\n    val session = this.openSession()\n\n    session.function()\n\n    session.close()\n}\n\nprivate fun Session.inTransaction(function: Transaction.(s: Session) -&gt; Unit) {\n    val transaction = this.beginTransaction()\n\n    transaction.function(this)\n\n    transaction.commit()\n}\n\n@Entity\nopen class History(\n        @Id\n        open var id: Long? = null,\n\n        @ManyToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = \"eventId\")\n        open var event: Event? = null,\n\n        open var description: String = \"\"\n) {\n    override fun toString(): String {\n        return \"History(id=$id, event=$event, description='$description')\"\n    }\n}\n\n@Entity\nopen class Event(\n        @Id\n        open var id: Long? = null,\n        open var description: String? = null,\n\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = \"event\")\n        open var history: MutableSet&lt;History&gt;? = null\n) {\n    override fun toString(): String {\n        return \"Event(id=$id, description='$description', history=${history?.size})\"\n    }\n}\n</code></pre>\n\n<p>Logs looks like this: </p>\n\n<pre><code>2017-12-05 18:43:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate Core {5.2.12.Final}\n2017-12-05 18:43:03 [main] INFO  org.hibernate.cfg.Environment - HHH000206: hibernate.properties not found\n2017-12-05 18:43:03 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n2017-12-05 18:43:04 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n2017-12-05 18:43:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:myDb;DB_CLOSE_DELAY=-1]\n2017-12-05 18:43:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=sa}\n2017-12-05 18:43:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false\n2017-12-05 18:43:04 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)\n2017-12-05 18:43:04 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2017-12-05 18:43:04 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 5.3.5.Final\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by javassist.util.proxy.SecurityActions (file:/Users/evgenyzaharov/.gradle/caches/modules-2/files-2.1/org.javassist/javassist/3.20.0-GA/a9cbcdfb7e9f86fbc74d3afae65f2248bfbf82a0/javassist-3.20.0-GA.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of javassist.util.proxy.SecurityActions\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nHibernate: drop table Event if exists\n2017-12-05 18:43:04 [main] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@56913163] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: drop table History if exists\nHibernate: create table Event (id bigint not null, description varchar(255), primary key (id))\n2017-12-05 18:43:04 [main] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e8e0dec] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: create table History (id bigint not null, description varchar(255), eventId bigint, primary key (id))\nHibernate: alter table History add constraint FK2yaqfgh2x1lsxcpbuifmd245k foreign key (eventId) references Event\n2017-12-05 18:43:04 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6c15e8c7'\nHibernate: select event_.id, event_.description as descript2_0_ from Event event_ where event_.id=?\nHibernate: insert into Event (description, id) values (?, ?)\nHibernate: insert into History (description, eventId, id) values (?, ?, ?)\nHibernate: update History set description=?, eventId=? where id=?\nHibernate: select event0_.id as id1_0_0_, event0_.description as descript2_0_0_ from Event event0_ where event0_.id=?\n=============1=============\nHibernate: select history0_.eventId as eventId3_1_0_, history0_.id as id1_1_0_, history0_.id as id1_1_1_, history0_.description as descript2_1_1_, history0_.eventId as eventId3_1_1_ from History history0_ where history0_.eventId=?\nEvent(id=1, description='event description', history=1)\n=============2=============\nHibernate: select history0_.id as id1_1_0_, history0_.description as descript2_1_0_, history0_.eventId as eventId3_1_0_ from History history0_ where history0_.id=?\nHibernate: select event0_.id as id1_0_0_, event0_.description as descript2_0_0_ from Event event0_ where event0_.id=?\nHibernate: select history0_.eventId as eventId3_1_0_, history0_.id as id1_1_0_, history0_.id as id1_1_1_, history0_.description as descript2_1_1_, history0_.eventId as eventId3_1_1_ from History history0_ where history0_.eventId=?\nHistory(id=1, event=Event(id=1, description='event description', history=1), description='history description')\n</code></pre>\n\n<p><code>Lazy</code> initialisation start to load field data only after explicit getting a value. </p>\n\n<p>Hope this will help you.  </p>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1597, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1512488830, "creation_date": 1506117083, "last_edit_date": 1506146650, "question_id": 46373702, "link": "https://stackoverflow.com/questions/46373702/hibernate-with-kotlin-manytoonefetch-fetchtype-lazy", "title": "Hibernate with Kotlin: @ManyToOne(fetch = FetchType.LAZY)", "body": "<p>I am using Hibernate with Kotlin and I am having an issue with <code>FetchType.LAZY</code> on <code>@ManyToOne</code> relations. Consider following:</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\nopen var event: Event?\n</code></pre>\n\n<p>The problem is that when <code>FetchType.LAZY</code> is used, the fetched <code>Event</code> will be of class <code>Event_$$_jvst_...</code> with <code>JavaassistLazyInitializer</code> on it. But the event will never be initialized, everything will be null or empty. </p>\n\n<ol>\n<li>Once the <code>FetchType.LAZY</code> is removed, everything works correctly.</li>\n<li>This didn't happen in Java.</li>\n<li>I tried to add <code>open</code> on the <code>var</code> so that the <code>Event</code> can be correctly proxied. No effect.</li>\n<li>All the <code>@Entity</code> classes are of course <code>open</code> as well. If the <code>open</code> keyword is removed, there will be no proxy created and so no laziness.</li>\n</ol>\n\n<p>My guess is that Hibernate cannot easily proxy these default kotlin getters. Is there a way to solve it?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 3256, "user_id": 2505295, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/69fcf4ad025a9ece1d77ff199c2814ca?s=128&d=identicon&r=PG", "display_name": "Anona112", "link": "https://stackoverflow.com/users/2505295/anona112"}, "edited": false, "score": 0, "creation_date": 1506117825, "post_id": 46373228, "comment_id": 79707117, "body": "how exactly do you want to recombine the json? you could pick individual data: new_json={name:api1.name, title:api2.title} or just combine them: new_json={json_api1, json_api2}"}], "answers": [{"tags": [], "owner": {"reputation": 2709, "user_id": 4718283, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aQJJn.jpg?s=128&g=1", "display_name": "Husayn Hakeem", "link": "https://stackoverflow.com/users/4718283/husayn-hakeem"}, "is_accepted": true, "score": 1, "last_activity_date": 1506116027, "creation_date": 1506116027, "answer_id": 46373521, "question_id": 46373228, "link": "https://stackoverflow.com/questions/46373228/how-to-get-data-from-more-than-one-json-api/46373521#46373521", "title": "How to get data from more than one json api", "body": "<p>I'm guessing you're looking for the <code>zip</code> method. It basically takes many observables, waits for their items - all of them- to arrive and then merges them.</p>\n\n<p>So you can basically do each API call in an observable, whatever they return you'll get it all and do whatever you want with them in order to prepare them to be included in your recyclerview, and finally when the whole operation succeeds you'll populate your recyclerview. </p>\n\n<pre><code>Observable obs1 = Observable.fromCallable(// Callable 1);\nObservable obs2 = Observable.fromCallable(// Callable 2);\nObservable obs3 = Observable.fromCallable(// Callable 3);\n\nObservable.zip(obs1, obs2, obs3, (o1, o2, o3) -&gt; // something)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(o -&gt; {\n               // on success\n        });\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5548220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6d0cda0d03a9e6d96a4d9e86a2d984e?s=128&d=identicon&r=PG&f=1", "display_name": "Muhamed Soso", "link": "https://stackoverflow.com/users/5548220/muhamed-soso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 46373521, "answer_count": 1, "score": -1, "last_activity_date": 1506116027, "creation_date": 1506114490, "question_id": 46373228, "link": "https://stackoverflow.com/questions/46373228/how-to-get-data-from-more-than-one-json-api", "title": "How to get data from more than one json api", "body": "<p>I have more than one json api ex: api1 ,api2 and api3\nEach one of them has different  structure from the others,\n I want to get data from these three api and combine them in one recycler view , i searched about these subject but couldn\u2019t get any useful tutorial  i am already using retrofit for fetch data from only one api , should i using rxjava withe retrofit to do what i want And how .</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 3, "last_activity_date": 1506100371, "creation_date": 1506100371, "answer_id": 46369937, "question_id": 46369808, "link": "https://stackoverflow.com/questions/46369808/kotlin-load-external-class/46369937#46369937", "title": "Kotlin load external class?", "body": "<p>The <code>URLClassLoader</code> doesn't load <code>java</code> files but <code>class</code> files. So you can just use it with <code>Kotlin</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 7713260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d9bc94b48e628cf93ff41d1e156dc?s=128&d=identicon&r=PG&f=1", "display_name": "Sabih Ismail", "link": "https://stackoverflow.com/users/7713260/sabih-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 46369937, "answer_count": 1, "score": 0, "last_activity_date": 1506101185, "creation_date": 1506099795, "last_edit_date": 1506100384, "question_id": 46369808, "link": "https://stackoverflow.com/questions/46369808/kotlin-load-external-class", "title": "Kotlin load external class?", "body": "<p>I know using <code>URLClassLoader</code> it is possible to load external Java files that are not contained in the project src folder.</p>\n\n<p>I was wondering if there was an equivalent method using Kotlin?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin", "comparable"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1506097059, "post_id": 46368784, "comment_id": 79697721, "body": "Useful question about sorting in Kotlin: <a href=\"https://stackoverflow.com/questions/33640864/how-to-sort-based-on-compare-multiple-values-in-kotlin\" title=\"how to sort based on compare multiple values in kotlin\">stackoverflow.com/questions/33640864/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "edited": false, "score": 1, "creation_date": 1506096853, "post_id": 46368982, "comment_id": 79697612, "body": "Thanks for the help, but looks like compareByDescending do not support more than one field on the comparison."}], "tags": [], "owner": {"reputation": 1044, "user_id": 2726087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Epg6B.png?s=128&g=1", "display_name": "James Ralston", "link": "https://stackoverflow.com/users/2726087/james-ralston"}, "is_accepted": false, "score": 0, "last_activity_date": 1506096638, "creation_date": 1506096638, "answer_id": 46368982, "question_id": 46368784, "link": "https://stackoverflow.com/questions/46368784/how-to-change-the-order-of-compareby-in-kotlin/46368982#46368982", "title": "How to change the order of compareBy in Kotlin", "body": "<p>you can always use <code>compareByDescending</code></p>\n"}, {"tags": [], "owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "is_accepted": true, "score": 2, "last_activity_date": 1506097277, "creation_date": 1506097277, "answer_id": 46369170, "question_id": 46368784, "link": "https://stackoverflow.com/questions/46368784/how-to-change-the-order-of-compareby-in-kotlin/46369170#46369170", "title": "How to change the order of compareBy in Kotlin", "body": "<p>As suggested by <a href=\"https://discuss.kotlinlang.org/u/mslenc\" rel=\"nofollow noreferrer\">Mitja Slenc</a> on <a href=\"https://discuss.kotlinlang.org/t/how-to-change-the-order-of-compareby-in-kotlin/4696\" rel=\"nofollow noreferrer\">Kotlin forum</a>:</p>\n\n<p>Changed to <code>compareBy({ -it.player.goals}, {-it.player.assists})</code></p>\n\n<p>And now it's working the way I wanted!</p>\n"}, {"comments": [{"owner": {"reputation": 6866, "user_id": 7073340, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/kChtK.jpg?s=128&g=1", "display_name": "Jayendran", "link": "https://stackoverflow.com/users/7073340/jayendran"}, "edited": false, "score": 2, "creation_date": 1533619008, "post_id": 51719105, "comment_id": 90399319, "body": "Please format your code properly. And put some explanation on the code, instead of dumping the code alone"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1548089315, "post_id": 51719105, "comment_id": 95409306, "body": "I formatted the code, but not sure it works right. At least, it returns <code>Unit</code> instead of list. Better see <a href=\"https://stackoverflow.com/a/37259482/2914140\">stackoverflow.com/a/37259482/2914140</a>."}], "tags": [], "owner": {"reputation": 21, "user_id": 10189961, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d85f20e938a15eed67ca0d516d926b1f?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/10189961/peter"}, "is_accepted": false, "score": 2, "last_activity_date": 1548089116, "last_edit_date": 1548089116, "creation_date": 1533618017, "answer_id": 51719105, "question_id": 46368784, "link": "https://stackoverflow.com/questions/46368784/how-to-change-the-order-of-compareby-in-kotlin/51719105#51719105", "title": "How to change the order of compareBy in Kotlin", "body": "<pre><code>mylist.sortWith(compareBy&lt;Player&gt; { it.name }.thenBy { it.age }.thenBy { it.gender })\n</code></pre>\n\n<p>or</p>\n\n<pre><code>mylist.sortWith(compareByDescending&lt;Player&gt; { it.name }\n    .thenByDescending { it.age }.thenBy { it.gender })\n</code></pre>\n"}], "owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1425, "favorite_count": 0, "accepted_answer_id": 46369170, "answer_count": 3, "score": 0, "last_activity_date": 1548089116, "creation_date": 1506095953, "last_edit_date": 1506096290, "question_id": 46368784, "link": "https://stackoverflow.com/questions/46368784/how-to-change-the-order-of-compareby-in-kotlin", "title": "How to change the order of compareBy in Kotlin", "body": "<p>I need a comparator, in Kotlin, to order every object that enter in my recycler view (using Fast Adapter).</p>\n\n<p>I need to order the objects by an Integer, where the biggest ones come first.</p>\n\n<p>The code above order the object that enters in my list, but the biggest ones is in the end of the list. Is there a way to reverse the order?</p>\n\n<pre><code>playersFastAdapter.itemAdapter.withComparator(compareBy({ it.player.goals }, {it.player.assists}), true)\n</code></pre>\n"}, {"tags": ["android", "testing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "is_accepted": false, "score": 0, "last_activity_date": 1506337090, "creation_date": 1506337090, "answer_id": 46403556, "question_id": 46368100, "link": "https://stackoverflow.com/questions/46368100/running-kotlin-tests-with-gradlew-is-throwing-java-lang-securityexception/46403556#46403556", "title": "Running kotlin tests with gradlew is throwing java.lang.SecurityException", "body": "<p>The issue was related to the latest version of android gradle plugin.</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/65809932\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/65809932</a></p>\n\n<p>Solution for now was to downgrade.</p>\n"}], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1506343629, "creation_date": 1506093639, "last_edit_date": 1506343629, "question_id": 46368100, "link": "https://stackoverflow.com/questions/46368100/running-kotlin-tests-with-gradlew-is-throwing-java-lang-securityexception", "title": "Running kotlin tests with gradlew is throwing java.lang.SecurityException", "body": "<p>Running test from the terminal with:</p>\n\n<pre><code>./gradlew testAppReleaseUnitTest --tests namespace.test.class\n</code></pre>\n\n<p>Throws a:</p>\n\n<pre><code>java.lang.SecurityException at Class.kt:42\n</code></pre>\n\n<p>Running the same test from android studio works fine.</p>\n\n<p>Any ideas why?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1044, "user_id": 2726087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Epg6B.png?s=128&g=1", "display_name": "James Ralston", "link": "https://stackoverflow.com/users/2726087/james-ralston"}, "edited": false, "score": 0, "creation_date": 1506096747, "post_id": 46366869, "comment_id": 79697548, "body": "is the <code>onCreate</code> a part of a builder?"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "reply_to_user": {"reputation": 1044, "user_id": 2726087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Epg6B.png?s=128&g=1", "display_name": "James Ralston", "link": "https://stackoverflow.com/users/2726087/james-ralston"}, "edited": false, "score": 1, "creation_date": 1506097871, "post_id": 46366869, "comment_id": 79698156, "body": "No, it&#39;s an overriden method inherited from class <code>Activity</code> that is invoked by Android as part of the app&#39;s lifecycle."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1506105781, "post_id": 46366869, "comment_id": 79702054, "body": "Why do you need a setter at all? It sounds like you could improve your architecture here."}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506106188, "post_id": 46366869, "comment_id": 79702268, "body": "My setter updates two UI widgets. I guess I could do it somehow without  setter. But it&#39;s a situation that I&#39;ve faced mutliple times before. So I hoped there was a simple solution. Also I find properties are one of the coolest features that I missed in Java."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1506113585, "post_id": 46366869, "comment_id": 79705739, "body": "Could you add an example? How does the getter work? Do you store the value in a backing field? It sounds like a special use-case of yours."}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506116141, "post_id": 46366869, "comment_id": 79706592, "body": "Unfortunately, I can&#39;t access the code over the weekend. But essentially it does this: I have a dialog in which the user picks a date and time. The values are saved in the <code>Calendar</code> field in my activity. When setting the field a <code>TextView</code> (just shows date/time) and a <code>RecyclerView</code> (lists entries after date/time) are updated accordingly. And my problem is that I want to initialize the field with the current date/time when the activity is created. Oh, and I have no custom getter for the field."}], "answers": [{"comments": [{"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506328684, "post_id": 46380728, "comment_id": 79758826, "body": "But I still get an error because I have to initialize my property"}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "reply_to_user": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 1, "creation_date": 1506328782, "post_id": 46380728, "comment_id": 79758897, "body": "So, you want to use uninitialized property in Kotlin, but don&#39;t want it to be null or throw exception?"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506329565, "post_id": 46380728, "comment_id": 79759368, "body": "I tried to apply your upper solution. But I get an error because <code>tmp</code> is not initialized."}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "reply_to_user": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506329701, "post_id": 46380728, "comment_id": 79759454, "body": "And you initialized it?"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 0, "creation_date": 1506330333, "post_id": 46380728, "comment_id": 79759883, "body": "Ok, got my mistake. Instead of <code>_tmp=value</code> I tried <code>field=value</code>. Works now!"}, {"owner": {"reputation": 35065, "user_id": 154306, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/262629f1a46dad69fbff73e093be37f2?s=128&d=identicon&r=PG", "display_name": "Paul Lammertsma", "link": "https://stackoverflow.com/users/154306/paul-lammertsma"}, "edited": false, "score": 0, "creation_date": 1554366582, "post_id": 46380728, "comment_id": 97727547, "body": "@Pavlus Agreed, this is a poor example, but it demonstrates how to combine a getter with a non-nullable property. Say for instance that your getter initializes the field when it&#39;s null, but you don&#39;t want to litter your code with elvis operators."}], "tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": true, "score": 13, "last_activity_date": 1596389600, "last_edit_date": 1596389600, "creation_date": 1506177601, "answer_id": 46380728, "question_id": 46366869, "link": "https://stackoverflow.com/questions/46366869/kotlin-workaround-for-no-lateinit-when-using-custom-setter/46380728#46380728", "title": "Kotlin: workaround for no lateinit when using custom setter?", "body": "<p>Replace it with a property backed by nullable property:</p>\n<pre><code>private var _tmp: String? = null\nvar tmp: String\n    get() = _tmp!!\n    set(value) {_tmp=value; println(&quot;tmp set to $value&quot;)}\n</code></pre>\n<p>Or this way, if you want it to be consistent with <code>lateinit</code> semantics:</p>\n<pre><code>private var _tmp: String? = null\nvar tmp: String\n    get() = _tmp ?: throw UninitializedPropertyAccessException(&quot;\\&quot;tmp\\&quot; was queried before being initialized&quot;)\n    set(value) {_tmp=value; println(&quot;tmp set to $value&quot;)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3392, "user_id": 3153792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d27d527360ce7af5a857c4abb62aa4?s=128&d=identicon&r=PG", "display_name": "corsair992", "link": "https://stackoverflow.com/users/3153792/corsair992"}, "is_accepted": false, "score": 3, "last_activity_date": 1512466836, "creation_date": 1512466836, "answer_id": 47650334, "question_id": 46366869, "link": "https://stackoverflow.com/questions/46366869/kotlin-workaround-for-no-lateinit-when-using-custom-setter/47650334#47650334", "title": "Kotlin: workaround for no lateinit when using custom setter?", "body": "<p>This can be achieved by using a <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow noreferrer\">backing property</a> (as per Pavlus's answer); however, I prefer to wrap it inside a <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegate</a> to avoid exposing it outside of the property's context:</p>\n\n<pre><code>open class LateInit&lt;T: Any&gt; : ReadWriteProperty&lt;Any?, T&gt; {\n    protected lateinit var field: T\n\n    final override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;) = get()\n    final override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) = set(value)\n\n    open fun get() = field\n    open fun set(value: T) { field = value }\n}\n</code></pre>\n\n<p>This provides standard getters and setters that can be overridden with a custom implementation:</p>\n\n<pre><code>var upperCaseString by object : LateInit&lt;String&gt;() {\n    override fun set(value: String) {\n        field = value.toUpperCase()\n    }\n}\n</code></pre>\n\n<p>However, since this implementation requires extending the delegate, the generic type cannot be inferred from the property type. This can overcome by taking the custom getter and setter as parameters:</p>\n\n<pre><code>class LateInit&lt;T: Any&gt;(private val getter: FieldHolder&lt;T&gt;.() -&gt; T = { field },\n                       private val setter: FieldHolder&lt;T&gt;.(T) -&gt; Unit = { field = it }) :\n        ReadWriteProperty&lt;Any?, T&gt; {\n    private val fieldHolder = FieldHolder&lt;T&gt;()\n\n    override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;) = fieldHolder.getter()\n    override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) =\n            fieldHolder.setter(value)\n\n    class FieldHolder&lt;T: Any&gt; {\n        lateinit var field: T\n    }\n}\n</code></pre>\n\n<p>Which can then be used like this:</p>\n\n<pre><code>private var upperCaseString: String by LateInit(setter = { field = it.toUpperCase() })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1100, "user_id": 6631906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1f53dac068328a0bb2b013f8450ecc?s=128&d=identicon&r=PG&f=1", "display_name": "Campi", "link": "https://stackoverflow.com/users/6631906/campi"}, "is_accepted": false, "score": 0, "last_activity_date": 1616158557, "creation_date": 1616158557, "answer_id": 66708626, "question_id": 46366869, "link": "https://stackoverflow.com/questions/46366869/kotlin-workaround-for-no-lateinit-when-using-custom-setter/66708626#66708626", "title": "Kotlin: workaround for no lateinit when using custom setter?", "body": "<p>I realized that you can also make your private property <code>lateinit</code> instead of making it nullable:</p>\n<pre><code>var tmp: T\n    get() = _tmp\n    set(value) {\n        _tmp = value\n        println(&quot;tmp set to $value&quot;)\n    }\n\nprivate lateinit var _tmp: T\n</code></pre>\n"}], "owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4169, "favorite_count": 0, "accepted_answer_id": 46380728, "answer_count": 3, "score": 13, "last_activity_date": 1616158557, "creation_date": 1506089717, "question_id": 46366869, "link": "https://stackoverflow.com/questions/46366869/kotlin-workaround-for-no-lateinit-when-using-custom-setter", "title": "Kotlin: workaround for no lateinit when using custom setter?", "body": "<p>In my activity I have a field that should be non-nullable and has a custom setter. I want to initialize the field in my <code>onCreate</code> method so I added <code>lateinit</code> to my variable declaration. But, apparently you cannot do that (at the moment): <a href=\"https://discuss.kotlinlang.org/t/lateinit-modifier-is-not-allowed-on-custom-setter/1999\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/lateinit-modifier-is-not-allowed-on-custom-setter/1999</a>.</p>\n\n<p>These are the workarounds I can see:</p>\n\n<ul>\n<li>Do it the Java way. Make the field nullable and initialize it with null. I don't want to do that.</li>\n<li>Initialize the field with a \"default instance\" of the type. That's what I currently do. But that would be too expensive for some types.</li>\n</ul>\n\n<p>Can someone recommend a better way (that does not involve removing the custom setter)?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506102673, "post_id": 46365802, "comment_id": 79700499, "body": "When I run it from IJ terminal, I got this error: &#39;gradle&#39; is not recognized as an internal or external command, operable program or batch file."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506102827, "post_id": 46365802, "comment_id": 79700588, "body": "when I run it from cmd, I got this: * What went wrong: Task &#39;clean&#39; not found in root project &#39;blog&#39;."}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506104026, "post_id": 46365802, "comment_id": 79701155, "body": "@HasanAYousef, are you sure you run it from correct location and have java and kotlin plugins applied?"}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 1, "creation_date": 1506156695, "post_id": 46365802, "comment_id": 79714144, "body": "Something looks to be wrong in my setup, once I used text editor and command line only, creating the files with <code>gradle init --type java-library</code> then creating my files, and compile them <code>gradle clean jar</code> everything gone smooth as you described."}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506156822, "post_id": 46365802, "comment_id": 79714175, "body": "@HasanAYousef, no idea what may caused the problem but I&#39;m glad it works now!"}], "tags": [], "owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "is_accepted": true, "score": 9, "last_activity_date": 1506158554, "last_edit_date": 1506158554, "creation_date": 1506086400, "answer_id": 46365802, "question_id": 46365605, "link": "https://stackoverflow.com/questions/46365605/how-to-create-jar-create-executable-of-the-ktor-embedded-server/46365802#46365802", "title": "How to create .jar (Create Executable) of the Ktor embedded Server", "body": "<p>What you need to do is to add the following piece of code to <code>build.gradle</code> file:</p>\n\n<pre><code>jar {\n    baseName '&lt;jar_name&gt;'\n    manifest {\n        attributes 'Main-Class': 'blog.BlogAppKt'\n    }\n\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>Then run: <code>gradle clean jar</code>. After it's finished navigate to: <code>build/libs</code> and run <code>java -jar &lt;jar_name&gt;.jar</code>.</p>\n\n<p>Or run it using <code>javaw -jar &lt;jar_name&gt;.jar</code> instead of java (you might need to make sure its on the path if the JAVA_HOME is not defined well). This will run it without any console.</p>\n\n<p>P.S. You can also use <code>application</code> plugin or <code>shadowJar</code>.</p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1865, "favorite_count": 0, "accepted_answer_id": 46365802, "answer_count": 1, "score": 8, "last_activity_date": 1506158554, "creation_date": 1506085723, "last_edit_date": 1506086446, "question_id": 46365605, "link": "https://stackoverflow.com/questions/46365605/how-to-create-jar-create-executable-of-the-ktor-embedded-server", "title": "How to create .jar (Create Executable) of the Ktor embedded Server", "body": "<p>I'm very new to Kotlin and Ktor and Gradle. Was able to create embedded server as explained in Ktor site, with the following code:</p>\n\n<p><strong>BlogApp.kt</strong>:</p>\n\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.features.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\n\nfun Application.module() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        get(\"/\") {\n            call.respondText(\"My Example Blog  sfs 122\", ContentType.Text.Html)\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080, watchPaths = listOf(\"BlogAppKt\"), module = Application::module).start()\n}\n</code></pre>\n\n<p>and <strong>build.gradle</strong>:</p>\n\n<pre><code>group 'Example'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\next.ktor_version = '0.4.0'\n\nrepositories {\n    mavenCentral()\n    maven { url  \"http://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n\n<p>The server run fine at: <code>localhost:8080</code></p>\n\n<p>and the I can see the below files in the <code>out</code> folder:</p>\n\n<p><code>C:\\Users\\Home\\IdeaProjects\\Example\\out\\production\\classes\\blog</code></p>\n\n<p>How can I know create an executable file .jar of this server, so I can distribute it to the user? </p>\n\n<p><a href=\"https://i.stack.imgur.com/uzawJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uzawJ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["gradle", "kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506082342, "post_id": 46363818, "comment_id": 79688233, "body": "I got this error at running the app: &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation (NOP) logger implementation&quot;"}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506083039, "post_id": 46363818, "comment_id": 79688726, "body": "@HasanAYousef, this is rather not an error but a warning. You need to configure the logger as well."}, {"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1506085818, "post_id": 46363818, "comment_id": 79690684, "body": "Thanks @OPal, can you help me with the second step I want to do, in this question: <a href=\"https://stackoverflow.com/questions/46365605/how-to-create-jar-create-executable-of-the-ktor-embedded-server\" title=\"how to create jar create executable of the ktor embedded server\">stackoverflow.com/questions/46365605/&hellip;</a>"}], "tags": [], "owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "is_accepted": true, "score": 2, "last_activity_date": 1506083814, "last_edit_date": 1506083814, "creation_date": 1506080043, "answer_id": 46363818, "question_id": 46363539, "link": "https://stackoverflow.com/questions/46363539/ktor-startup-example-errors/46363818#46363818", "title": "Ktor startup example errors", "body": "<p>You have incomplete <code>build.gradle</code> script (missing dependencies) - see <a href=\"http://ktor.io/getting-started-gradle\" rel=\"nofollow noreferrer\">here</a> for details. Here's the good one:</p>\n\n<pre><code>group 'Example'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\next.ktor_version = '0.4.0'\n\nrepositories {\n    mavenCentral()\n    maven { url  \"http://dl.bintray.com/kotlin/ktor\" }\n    maven { url \"https://dl.bintray.com/kotlin/kotlinx\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.ktor:ktor-core:$ktor_version\"\n    compile \"org.jetbrains.ktor:ktor-netty:$ktor_version\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\nkotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1617872146, "post_id": 65350776, "comment_id": 118431197, "body": "Alas, the plug in is now \u200bmarked as Obsolete. (April 2021)"}], "tags": [], "owner": {"reputation": 1063, "user_id": 1870884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e51a8c35a72ac3b62382093da1b295?s=128&d=identicon&r=PG", "display_name": "Tina", "link": "https://stackoverflow.com/users/1870884/tina"}, "is_accepted": false, "score": 0, "last_activity_date": 1608256454, "creation_date": 1608256454, "answer_id": 65350776, "question_id": 46363539, "link": "https://stackoverflow.com/questions/46363539/ktor-startup-example-errors/65350776#65350776", "title": "Ktor startup example errors", "body": "<p>I would recommend using the <a href=\"https://plugins.jetbrains.com/plugin/10823-ktor\" rel=\"nofollow noreferrer\">IntelliJ Ktor plugin</a> to bootstrap your app. The <code>./gradlew run</code> script runs right out of the box with this configuration without you needing to fiddle with the Gradle configuration. It's the easiest way to get started.</p>\n<p>Here is an example Ktor app that uses the configuration: <a href=\"https://gitlab.com/tinacious/ktor-example\" rel=\"nofollow noreferrer\">https://gitlab.com/tinacious/ktor-example</a></p>\n<p>If you'd like to run your application from IntelliJ, check out this answer for the run configuration I use: <a href=\"https://stackoverflow.com/a/65350680/1870884\">https://stackoverflow.com/a/65350680/1870884</a></p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "accepted_answer_id": 46363818, "answer_count": 2, "score": 1, "last_activity_date": 1613382937, "creation_date": 1506079226, "last_edit_date": 1506080074, "question_id": 46363539, "link": "https://stackoverflow.com/questions/46363539/ktor-startup-example-errors", "title": "Ktor startup example errors", "body": "<p>I'm very new to Kotlin and Ktor and Gradle, wanted to try Ktor, so gone through the steps explained <a href=\"http://ktor.io/getting-started-idea#start-a-project\" rel=\"nofollow noreferrer\">here</a>, and ended up with this code, and structure shown in the screenshot:</p>\n\n<p>As seen there are lots of error, how to fix them?</p>\n\n<pre><code>package blog\n\nimport org.jetbrains.ktor.netty.*\nimport org.jetbrains.ktor.routing.*\nimport org.jetbrains.ktor.application.*\nimport org.jetbrains.ktor.host.*\nimport org.jetbrains.ktor.http.*\nimport org.jetbrains.ktor.response.*\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080) {\n        routing {\n            get(\"/\") {\n                call.respondText(\"My Example Blog\", ContentType.Text.Html)\n            }\n        }\n    }.start(wait = true)\n}\n</code></pre>\n\n<p>The <code>build.gradle</code> file is auto generated as:</p>\n\n<pre><code>group 'Example'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iTueo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTueo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1229, "user_id": 6926168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2IIF.jpg?s=128&g=1", "display_name": "Dharmishtha", "link": "https://stackoverflow.com/users/6926168/dharmishtha"}, "is_accepted": false, "score": -1, "last_activity_date": 1506079204, "creation_date": 1506079204, "answer_id": 46363534, "question_id": 46363013, "link": "https://stackoverflow.com/questions/46363013/mediastore-images-get-full-image-from-thumb-uri-id/46363534#46363534", "title": "MediaStore.Images get full image from thumb Uri /id", "body": "<p>add this code after you get Uri of image.</p>\n\n<pre><code>if (largeImagePath != null) {\n\n            BitmapFactory.Options opts = new BitmapFactory.Options();\n            opts.inSampleSize = OG;\n            thumbnail = BitmapFactory.decodeFile((largeImagePath), opts);\n            System.gc();\n            if (thumbnail != null) {\n\n                try {\n                    thumbnail = Common.rotateImageIfRequired(mContext, thumbnail, Uri.fromFile(new File(largeImagePath)));\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                imageCam(thumbnail);\n            }\n        }\n\npublic void imageCam(Bitmap thumbnail) {\n    Bitmap photo = thumbnail;\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    photo.compress(Bitmap.CompressFormat.JPEG, 100, bos);\n    byte b[] = bos.toByteArray();\n    encodedImage = Base64.encodeToString(b, Base64.DEFAULT);\n    ll_preview.setVisibility(View.VISIBLE);\n    img_preview.setVisibility(View.VISIBLE);\n    img_preview.setImageBitmap(photo);\n}\n</code></pre>\n\n<p>in Common.java file add this method in it.</p>\n\n<pre><code>  /**\n    * Rotate an image if required.\n    *\n    * @param img           The image bitmap\n    * @param selectedImage Image URI\n    * @return The resulted Bitmap after manipulation\n    */\npublic static Bitmap rotateImageIfRequired(Context mContext, Bitmap img, Uri selectedImage) throws IOException {\n\n    InputStream input = mContext.getContentResolver().openInputStream(selectedImage);\n    ExifInterface ei;\n    if (Build.VERSION.SDK_INT &gt; 23)\n        ei = new ExifInterface(input);\n    else\n        ei = new ExifInterface(selectedImage.getPath());\n\n    int orientation = ei.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL);\n\n    switch (orientation) {\n        case ExifInterface.ORIENTATION_ROTATE_90:\n            return rotateImage(img, 90);\n        case ExifInterface.ORIENTATION_ROTATE_180:\n            return rotateImage(img, 180);\n        case ExifInterface.ORIENTATION_ROTATE_270:\n            return rotateImage(img, 270);\n        default:\n            return img;\n    }\n}\n</code></pre>\n\n<p>I think this will solve your problem</p>\n"}], "owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 772, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1506244738, "creation_date": 1506077561, "last_edit_date": 1506244738, "question_id": 46363013, "link": "https://stackoverflow.com/questions/46363013/mediastore-images-get-full-image-from-thumb-uri-id", "title": "MediaStore.Images get full image from thumb Uri /id", "body": "<p>There are a couple of solutions on how to get thumbnail from the full image, such as<br>\n<a href=\"https://stackoverflow.com/questions/8383377/android-get-thumbnail-of-image-stored-on-sdcard-whose-path-is-known\">android get thumbnail of image stored on sdcard whose path is known</a>  </p>\n\n<p>However, <strong>I need on the contrary to receive full image Uri from a Thumbnail Uri (or thumbnail id)</strong>.<br>\nHere is how I get thumbnails:</p>\n\n<pre><code>fun getGalleryImages(): List&lt;LocalImage&gt; {\n    val baseUri: Uri = MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI\n    val listOfAllImages = ArrayList&lt;LocalImage&gt;()\n    // Set up an array of the Thumbnail Image ID column we want\n    val projection = arrayOf(MediaStore.Images.Thumbnails._ID, MediaStore.Images.Thumbnails.IMAGE_ID)\n    // Create the cursor pointing to the SDCard\n    val cursor = context.contentResolver.query(\n            baseUri,\n            projection,\n            null, \n            null,\n            null)\n\n    // Get the column index of the Thumbnails Image ID\n    val thumbColumnIndex = cursor.getColumnIndexOrThrow(MediaStore.Images.Thumbnails._ID)\n    val fullColumnIndex = cursor.getColumnIndexOrThrow(MediaStore.Images.Thumbnails.IMAGE_ID)\n\n    var thumbnailUri: Uri?\n    while (cursor.moveToNext()) {\n        val thumbId = cursor.getString(thumbColumnIndex)\n        thumbnailUri = Uri.withAppendedPath(MediaStore.Images.Thumbnails.EXTERNAL_CONTENT_URI, \"\" + thumbId)\n        // here I save image id for later retrieving full image\n        val imageId = cursor.getString(fullColumnIndex)\n        listOfAllImages.add(LocalImage(thumbnailUri = thumbnailUri), imId = imageId)\n    }\n    cursor.close()\n    return listOfAllImages\n}\n</code></pre>\n\n<p>And then I have to retrieve a full image by image id (or by thumbnail Uri)</p>\n\n<pre><code> private fun getFullImage(imageId: String): Uri {\n    val projection = arrayOf(MediaStore.Images.Media._ID, MediaStore.Images.Media.DATA)\n\n    val cursor = context.contentResolver.query(\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            projection,\n            MediaStore.Images.Media._ID + \"=?\",\n            arrayOf(imageId),\n            null)\n    val columnIndex = cursor.getColumnIndex(projection[0])\n    if (cursor.moveToFirst()) {\n        return Uri.withAppendedPath(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, \"\" + cursor.getString(1))\n    }\n    cursor.close()\n    return Uri.EMPTY\n}\n</code></pre>\n\n<p>This returns me a Uri which looks realistic:</p>\n\n<pre><code>content://media/external/images/media//storage/emulated/0/DCIM/Camera/IMG_20170720_085045.jpg   \n</code></pre>\n\n<p>However, the Uri seems to be invalid since I cannot retrieve the image from it:</p>\n\n<pre><code>val bitmap = MediaStore.Images.Media.getBitmap(activity.contentResolver, image.imageUri)\n</code></pre>\n\n<p>java.lang.IllegalStateException: Unknown URL: content://media/external/images/media//storage/emulated/0/DCIM/Camera/IMG_20170720_085045.jpg\n                                                                                       at android.os.Parcel.readException(Parcel.java:1950)\n                                                                                       at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:183)\n                                                                                       at android.database.DatabaseUtils.readExceptionWithFileNotFoundExceptionFromParcel(DatabaseUtils.java:146)\n                                                                                       at android.content.ContentProviderProxy.openTypedAssetFile(ContentProviderNative.java:698)</p>\n\n<p>Picasso also fails to load image from this Uri </p>\n"}, {"tags": ["scala", "compilation", "kotlin", "implicit", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 7235355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/520f482764d3f0eef78664ddff413ab0?s=128&d=identicon&r=PG", "display_name": "igor", "link": "https://stackoverflow.com/users/7235355/igor"}, "is_accepted": true, "score": 5, "last_activity_date": 1506076201, "creation_date": 1506076201, "answer_id": 46362579, "question_id": 46362158, "link": "https://stackoverflow.com/questions/46362158/how-do-kotlins-extension-functions-work/46362579#46362579", "title": "How do Kotlin&#39;s extension functions work?", "body": "<p>In your case Kotlin just create simple utils-class with name <em>\"filename\"Kt</em> and static method \"<strong>int square(int x)</strong>\" (java pseudo-code)</p>\n\n<p>From Java it look something like this</p>\n\n<pre><code>// filename int-utils.kt\nfinal class IntUtilsKt {\n    public static int square(int x) {\n        return x * x;\n    }\n}\n</code></pre>\n\n<p>And after this all calls to </p>\n\n<pre>val result = 20.square()</pre>\n\n<p>will be transformed (on byte-code level) to</p>\n\n<pre>val result = IntUtilsKt.square(20);</pre>\n\n<p>P.S.\nYou can see it yourself using IDEA action \"Show Kotlin byte-code\"</p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 1, "accepted_answer_id": 46362579, "answer_count": 1, "score": 1, "last_activity_date": 1506076201, "creation_date": 1506074938, "last_edit_date": 1592644375, "question_id": 46362158, "link": "https://stackoverflow.com/questions/46362158/how-do-kotlins-extension-functions-work", "title": "How do Kotlin&#39;s extension functions work?", "body": "<p>Let's say I want an integer that supplies a <code>square</code> method.</p>\n<p><strong>Kotlin</strong>:</p>\n<pre><code>fun Int.square() = this * this\n</code></pre>\n<p>usage:</p>\n<pre><code>println(&quot;${20.square()}&quot;)\n</code></pre>\n<p>doc:</p>\n<blockquote>\n<p>Extensions do not actually modify classes they extend. By defining an extension, you do not insert new members into a class, but merely make new functions callable with the dot-notation on variables of this type.</p>\n<p>We would like to emphasize that extension functions are dispatched statically</p>\n</blockquote>\n<p>My expectation would've been that they simply add it to the member functions of the extended class during compilation, but that is what they explicitly deny, so my next thought was it could be &quot;sort of&quot; like scala implicits.</p>\n<p><strong>Scala</strong>:</p>\n<pre><code>object IntExtensions{\n    implicit Class SquareableInt(i:Int){\n        def square = i*i\n    }\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>import IntExtensions._\n</code></pre>\n<p>and then</p>\n<pre><code>println(f&quot;${20.square}&quot;)\n</code></pre>\n<p>doc:</p>\n<blockquote>\n<p>An implicit class is desugared into a class and implicit method pairing, where the implciit method mimics the constructor of the class.</p>\n<p>The generated implicit method will have the same name as the implicit class.</p>\n</blockquote>\n<p>But scala implicits create a new class, that would disable the usage of <code>this</code>.</p>\n<p>So ... how IS it that Kotlin extends classes? &quot;Make callable&quot; isn't telling me much.</p>\n"}]