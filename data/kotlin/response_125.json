[{"tags": ["json", "kotlin"], "comments": [{"owner": {"reputation": 3954, "user_id": 146234, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/903ccadd292c66cf8d231d664f753f50?s=128&d=identicon&r=PG", "display_name": "PacificNW_Lover", "link": "https://stackoverflow.com/users/146234/pacificnw-lover"}, "edited": false, "score": 0, "creation_date": 1496270413, "post_id": 44295665, "comment_id": 75597754, "body": "This URL might be a good starting point for you: <a href=\"https://stackoverflow.com/questions/41928803/how-to-parse-json-in-kotlin\" title=\"how to parse json in kotlin\">stackoverflow.com/questions/41928803/&hellip;</a>"}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1496276283, "post_id": 44295665, "comment_id": 75599230, "body": "Depends on which <i>kind</i> of JSONObject, for org.json see <a href=\"https://stleary.github.io/JSON-java/\" rel=\"nofollow noreferrer\">stleary.github.io/JSON-java</a>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 2, "creation_date": 1496277364, "post_id": 44295665, "comment_id": 75599473, "body": "And what backend? Java or JS?"}], "answers": [{"comments": [{"owner": {"reputation": 4804, "user_id": 797346, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/50fcafd66a1fb59cb2c2e9d708f7748d?s=128&d=identicon&r=PG", "display_name": "Andrew Kovalenko", "link": "https://stackoverflow.com/users/797346/andrew-kovalenko"}, "edited": false, "score": 2, "creation_date": 1502134900, "post_id": 44297201, "comment_id": 78068999, "body": "This way is more preferable if you going to use this object as a result of API method since <code>JsonObject</code> from <b>klaxon</b> knows how to serialize itself back to Json."}, {"owner": {"reputation": 5330, "user_id": 1236401, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xxdAb.jpg?s=128&g=1", "display_name": "Mugen", "link": "https://stackoverflow.com/users/1236401/mugen"}, "edited": false, "score": 2, "creation_date": 1568814494, "post_id": 44297201, "comment_id": 102395206, "body": "<code>Parser()</code> is deprecated, use <code>Parser.default()</code> instead"}], "tags": [], "owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "is_accepted": false, "score": 18, "last_activity_date": 1496281480, "creation_date": 1496281480, "answer_id": 44297201, "question_id": 44295665, "link": "https://stackoverflow.com/questions/44295665/how-to-create-a-jsonobject-from-string-in-kotlin/44297201#44297201", "title": "How to create a JSONObject from String in Kotlin?", "body": "<p>You can use <a href=\"https://github.com/cbeust/klaxon\" rel=\"noreferrer\">https://github.com/cbeust/klaxon</a> library.</p>\n\n<pre><code>val parser: Parser = Parser()\nval stringBuilder: StringBuilder = StringBuilder(\"{\\\"name\\\":\\\"Cedric Beust\\\", \\\"age\\\":23}\")\nval json: JsonObject = parser.parse(stringBuilder) as JsonObject\nprintln(\"Name : ${json.string(\"name\")}, Age : ${json.int(\"age\")}\")\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>Name : Cedric Beust, Age : 23\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 360, "user_id": 2558163, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006993147/picture?type=large", "display_name": "Alexandre V.", "link": "https://stackoverflow.com/users/2558163/alexandre-v"}, "edited": false, "score": 2, "creation_date": 1601386134, "post_id": 44350484, "comment_id": 113387079, "body": "Did you test your example using Kotlin? If yes, what version of the library did you use? If you try that with JSONObject version <code>org.json:json:20200518</code> you&#39;ll see that the contructor with a String object is not available in the JSONObject."}, {"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "reply_to_user": {"reputation": 360, "user_id": 2558163, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006993147/picture?type=large", "display_name": "Alexandre V.", "link": "https://stackoverflow.com/users/2558163/alexandre-v"}, "edited": false, "score": 0, "creation_date": 1601824600, "post_id": 44350484, "comment_id": 113519537, "body": "Yes actually and given that the answer was provided back in 2017 I&#39;m sure there have been quite a number of changes that have taken place over the past 3 years. However, the link to which json version is in the original post&#39;s comment. Here is a direct link to the javadoc <a href=\"https://stleary.github.io/JSON-java/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">stleary.github.io/JSON-java/org/json/JSONObject.html</a>"}, {"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "reply_to_user": {"reputation": 360, "user_id": 2558163, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006993147/picture?type=large", "display_name": "Alexandre V.", "link": "https://stackoverflow.com/users/2558163/alexandre-v"}, "edited": false, "score": 0, "creation_date": 1601825175, "post_id": 44350484, "comment_id": 113519717, "body": "I just pulled up the 20200518 version of the source code and see that it does still support the string constructor just fine. Line 405 on <a href=\"https://github.com/stleary/JSON-java/blob/8e5b516f2bab9b81098ef57a7e84076c28441428/JSONObject.java\" rel=\"nofollow noreferrer\">github.com/stleary/JSON-java/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": false, "score": 38, "last_activity_date": 1496546602, "creation_date": 1496546602, "answer_id": 44350484, "question_id": 44295665, "link": "https://stackoverflow.com/questions/44295665/how-to-create-a-jsonobject-from-string-in-kotlin/44350484#44350484", "title": "How to create a JSONObject from String in Kotlin?", "body": "<p>Perhaps I'm misunderstanding the question but it sounds like you are already using org.json which begs the question about why</p>\n\n<pre><code>val answer = JSONObject(\"\"\"{\"name\":\"test name\", \"age\":25}\"\"\")\n</code></pre>\n\n<p>wouldn't be the best way to do it? What was wrong with the built in functionality of JSONObject?</p>\n"}, {"comments": [{"owner": {"reputation": 1643, "user_id": 984602, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vIZgp.png?s=128&g=1", "display_name": "Ionoclast Brigham", "link": "https://stackoverflow.com/users/984602/ionoclast-brigham"}, "edited": false, "score": 4, "creation_date": 1551896057, "post_id": 47283450, "comment_id": 96811990, "body": "This answer assumes you already know the fields and values, which the asker can&#39;t know if they haven&#39;t parsed the string yet."}, {"owner": {"reputation": 360, "user_id": 2558163, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006993147/picture?type=large", "display_name": "Alexandre V.", "link": "https://stackoverflow.com/users/2558163/alexandre-v"}, "edited": false, "score": 1, "creation_date": 1601385803, "post_id": 47283450, "comment_id": 113386911, "body": "How did this answer get so many upvotes!? It does not answer the question. The input data should be a JSON string, this example shows how to build a new JSONObject field by field."}, {"owner": {"reputation": 1741, "user_id": 2445763, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/vps5R.png?s=128&g=1", "display_name": "lasec0203", "link": "https://stackoverflow.com/users/2445763/lasec0203"}, "edited": false, "score": 0, "creation_date": 1607572933, "post_id": 47283450, "comment_id": 115317208, "body": "I know this doesn&#39;t answer the OP&#39;s question, but this did help me understand how to easily create JSON out of my data objects without adding another lib to my project."}], "tags": [], "owner": {"reputation": 935, "user_id": 8822851, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tmfBFb3Xhyg/AAAAAAAAAAI/AAAAAAAAAEY/srQLkMO4MnE/photo.jpg?sz=128", "display_name": "arjun shrestha", "link": "https://stackoverflow.com/users/8822851/arjun-shrestha"}, "is_accepted": false, "score": 31, "last_activity_date": 1510655618, "creation_date": 1510655618, "answer_id": 47283450, "question_id": 44295665, "link": "https://stackoverflow.com/questions/44295665/how-to-create-a-jsonobject-from-string-in-kotlin/47283450#47283450", "title": "How to create a JSONObject from String in Kotlin?", "body": "<pre><code>val rootObject= JSONObject()\nrootObject.put(\"name\",\"test name\")\nrootObject.put(\"age\",\"25\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 360, "user_id": 2558163, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000006993147/picture?type=large", "display_name": "Alexandre V.", "link": "https://stackoverflow.com/users/2558163/alexandre-v"}, "edited": false, "score": 0, "creation_date": 1601385883, "post_id": 55419586, "comment_id": 113386947, "body": "This solution is also not valid. It&#39;s showing how to build a JSONObject field by field."}], "tags": [], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "is_accepted": false, "score": 4, "last_activity_date": 1569586167, "last_edit_date": 1569586167, "creation_date": 1553869680, "answer_id": 55419586, "question_id": 44295665, "link": "https://stackoverflow.com/questions/44295665/how-to-create-a-jsonobject-from-string-in-kotlin/55419586#55419586", "title": "How to create a JSONObject from String in Kotlin?", "body": "<p>The approaches above are a bit dangerous: They don't provide a solution for illegal chars. They don't do the <em>escaping</em>... And we hate to do the escaping ourselves, don't we?</p>\n\n<p>So here's what I did. Not that cute and clean but you have to do it only once.</p>\n\n<pre><code>class JsonBuilder() {\n    private var json = JSONObject()\n\n    constructor(vararg pairs: Pair&lt;String, *&gt;) : this() {\n        add(*pairs)\n    }\n\n    fun add(vararg pairs: Pair&lt;String, *&gt;) {\n        for ((key, value) in pairs) {\n            when (value) {\n                is Boolean -&gt; json.put(key, value)\n                is Number -&gt; add(key, value)\n                is String -&gt; json.put(key, value)\n                is JsonBuilder -&gt; json.put(key, value.json)\n                is Array&lt;*&gt; -&gt; add(key, value)\n                is JSONObject -&gt; json.put(key, value)\n                is JSONArray -&gt; json.put(key, value)\n                else -&gt; json.put(key, null) // Or whatever, on illegal input\n            }\n        }\n    }\n\n    fun add(key: String, value: Number): JsonBuilder {\n        when (value) {\n            is Int -&gt; json.put(key, value)\n            is Long -&gt; json.put(key, value)\n            is Float -&gt; json.put(key, value)\n            is Double -&gt; json.put(key, value)\n            else -&gt; {} // Do what you do on error\n        }\n\n        return this\n    }\n\n    fun &lt;T&gt; add(key: String, items: Array&lt;T&gt;): JsonBuilder {\n        val jsonArray = JSONArray()\n        items.forEach {\n            when (it) {\n                is String,is Long,is Int, is Boolean -&gt; jsonArray.put(it)\n                is JsonBuilder -&gt; jsonArray.put(it.json)\n                else -&gt; try {jsonArray.put(it)} catch (ignored:Exception) {/*handle the error*/}\n            }\n        }\n\n        json.put(key, jsonArray)\n\n        return this\n    }\n\n    override fun toString() = json.toString()\n}\n</code></pre>\n\n<p>Sorry, might have had to cut off types that were unique to my code so I might have broken some stuff - but the idea should be clear</p>\n\n<p>You might be aware that in Kotlin, \"to\" is an infix method that converts two objects to a Pair. So you use it simply like this:</p>\n\n<pre><code>   JsonBuilder(\n      \"name\" to \"Amy Winehouse\",\n      \"age\" to 27\n   ).toString()\n</code></pre>\n\n<p>But you can do cuter things:</p>\n\n<pre><code>JsonBuilder(\n    \"name\" to \"Elvis Presley\",\n    \"furtherDetails\" to JsonBuilder(\n            \"GreatestHits\" to arrayOf(\"Surrender\", \"Jailhouse rock\"),\n            \"Genre\" to \"Rock\",\n            \"Died\" to 1977)\n).toString()\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 5400167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89990dace170a91edb20fc2c2d1545ed?s=128&d=identicon&r=PG&f=1", "display_name": "nkukday", "link": "https://stackoverflow.com/users/5400167/nkukday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83997, "favorite_count": 2, "answer_count": 4, "score": 43, "last_activity_date": 1569586167, "creation_date": 1496269874, "last_edit_date": 1496270175, "question_id": 44295665, "link": "https://stackoverflow.com/questions/44295665/how-to-create-a-jsonobject-from-string-in-kotlin", "title": "How to create a JSONObject from String in Kotlin?", "body": "<p>I need to convert a string <code>{\\\"name\\\":\\\"test name\\\", \\\"age\\\":25}</code> to a JSONObject</p>\n"}, {"tags": ["java", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 1, "last_activity_date": 1506752386, "creation_date": 1506752386, "answer_id": 46500134, "question_id": 44294970, "link": "https://stackoverflow.com/questions/44294970/add-library-to-gradle-kotlin-app/46500134#46500134", "title": "Add Library to Gradle Kotlin app", "body": "<p>I found the answer, the full path of the function is <code>hello.main</code> </p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 0, "accepted_answer_id": 46500134, "answer_count": 1, "score": 1, "last_activity_date": 1506752386, "creation_date": 1496266145, "question_id": 44294970, "link": "https://stackoverflow.com/questions/44294970/add-library-to-gradle-kotlin-app", "title": "Add Library to Gradle Kotlin app", "body": "<p>I converted simple Kitlon file into Library, the file is:</p>\n\n<p><code>Display.kt</code>:</p>\n\n<pre><code>package hello  \n\nfun main(args: Array&lt;String&gt;) {   \n   println(\"Hello World!\")        \n}\n</code></pre>\n\n<p>had been compiled into library using the command:</p>\n\n<pre><code>kotlinc Display.kt -d Display.jar\n</code></pre>\n\n<p>The output had been cross checked to be worked using the command:</p>\n\n<pre><code>kotlin -classpath Display.jar hello.DisplayKt\n</code></pre>\n\n<p>Then I moved it to folder <code>src/main/resources</code>, then tried calling it from another app, using the below code:</p>\n\n<p><code>Hello.kt</code>:</p>\n\n<pre><code>package hello \n\nimport hello.DisplayKt\n\nfun main(args: Array&lt;String&gt;) {   \n   println(\"Hi\")        \n}\n</code></pre>\n\n<p>and defined the <code>build.gradle</code> file as below (tried to put all option I read about to solve my case):</p>\n\n<pre><code>// set up the kotlin-gradle plugin\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\n// apply the kotlin-gradle plugin\napply plugin: \"kotlin\"\n\n\n// add kotlin-stdlib dependencies.\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    //dependencies from a remote repositor\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    //local file\n    compile files('src/main/resources/Display.jar')\n    compile fileTree(dir: 'src/main/resources', include: '*.jar')\n}\n\njar {\n    manifest {\n        //Define mainClassName as: '[your_namespace].[your_arctifact]Kt'\n        attributes ('Main-Class': 'hello.HelloKt', \"Implementation-Title\": \"Gradle\",\n                   \"Implementation-Version\": 1)\n    }\n\n    // NEW LINE HERE !!!\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src/kotlin']\n        }\n        resources {\n            srcDirs = ['src/resources']\n        }\n    }\n}\n</code></pre>\n\n<p>but, after running <code>gradle build</code> command, I got the below error:</p>\n\n<p><code>Unresolved reference: DisplayKt</code></p>\n\n<p>Note: I'm very very new to JAVA/KOTLIN and GRADLE</p>\n"}, {"tags": ["intellij-idea", "warnings", "kotlin", "compiler-warnings"], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1496264829, "post_id": 44294564, "comment_id": 75595695, "body": "Is there any way to completely disable the warnings?"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1496265928, "post_id": 44294564, "comment_id": 75596124, "body": "No, I don&#39;t think there&#39;s a way to do this."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 1, "last_activity_date": 1496264299, "creation_date": 1496264299, "answer_id": 44294564, "question_id": 44293981, "link": "https://stackoverflow.com/questions/44293981/how-can-i-ignore-all-warnings-for-kotlin-in-intellij-idea/44294564#44294564", "title": "How can I ignore all warnings for Kotlin in IntelliJ IDEA?", "body": "<p>The \"Generate no warnings\" switch has been reversed and is now named \"Report compiler warnings\", see the first checkbox on the first screenshot.</p>\n\n<p>However, what's really changed is that <a href=\"https://github.com/JetBrains/kotlin/commit/7ac96163acb7bdbb23c4e8d063ab0de497f6157b\" rel=\"nofollow noreferrer\">since Kotlin 1.1.2</a>, this switch does not affect warnings related to the configuration of your project. The reason for this is that configuration-related warnings usually have a bigger impact on the whole build and may provide lots of useful information if the build does not succeed. So, we thought that it's necessary to report these warnings even if you opted to disable warnings related to the language, which usually can be ignored without any harm.</p>\n\n<p>In your case, the <code>-d option with directory destination ...</code> warning is <a href=\"https://youtrack.jetbrains.com/issue/KT-17665\" rel=\"nofollow noreferrer\">fixed in Kotlin 1.1.3</a>. Other warnings (<code>Classpath entry points to a non-existent location</code>), I think, are worth investigating into, as they might mean that the project is not configured properly.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496264299, "creation_date": 1496261967, "question_id": 44293981, "link": "https://stackoverflow.com/questions/44293981/how-can-i-ignore-all-warnings-for-kotlin-in-intellij-idea", "title": "How can I ignore all warnings for Kotlin in IntelliJ IDEA?", "body": "<p>There used to be an option to \"Generate no warnings\" in the IntelliJ Kotlin Compiler setting but it looks like it was removed. How can I completely ignore warnings so that my IntelliJ doesn't switch to the messages tab after compilation?</p>\n\n<p><a href=\"https://i.stack.imgur.com/3B2A7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3B2A7.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/XrDBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrDBw.png\" alt=\"\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 5, "creation_date": 1496257539, "post_id": 44292717, "comment_id": 75592035, "body": "Why do you expect it <i>not</i> to compile? Kotlin is just inferring a suitable type."}], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 2, "creation_date": 1496258204, "post_id": 44292819, "comment_id": 75592437, "body": "I.e. you can only store null in that variable."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 5, "last_activity_date": 1496257454, "creation_date": 1496257454, "answer_id": 44292819, "question_id": 44292717, "link": "https://stackoverflow.com/questions/44292717/why-does-var-foo-null-compile/44292819#44292819", "title": "Why does var foo = null compile", "body": "<p>For <code>var foo = null</code>, the type is inferred to <code>Nothing?</code>, and is therefore valid syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 4, "last_activity_date": 1496257535, "creation_date": 1496257535, "answer_id": 44292848, "question_id": 44292717, "link": "https://stackoverflow.com/questions/44292717/why-does-var-foo-null-compile/44292848#44292848", "title": "Why does var foo = null compile", "body": "<p><code>var foo = null</code> is equivalent to <code>var foo:Nothing? = null</code></p>\n\n<p>similarly</p>\n\n<p><code>var foo = \"\"</code> is equivalent to <code>var foo:String = \"\"</code></p>\n\n<p>and slo</p>\n\n<p><code>var foo = 1</code> is equivalent to <code>var foo:Int = 1</code></p>\n\n<p>The compiler is smart enough to infer the type of <code>foo</code> from the right hand expression type. </p>\n"}, {"comments": [{"owner": {"reputation": 275, "user_id": 1180776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0ca89f52c61f4e63d540bea4edba61?s=128&d=identicon&r=PG", "display_name": "Anastasiia Chervinska", "link": "https://stackoverflow.com/users/1180776/anastasiia-chervinska"}, "edited": false, "score": 0, "creation_date": 1536863893, "post_id": 44292923, "comment_id": 91587115, "body": "why it infers to Nothing? instead of Any? ?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 275, "user_id": 1180776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0ca89f52c61f4e63d540bea4edba61?s=128&d=identicon&r=PG", "display_name": "Anastasiia Chervinska", "link": "https://stackoverflow.com/users/1180776/anastasiia-chervinska"}, "edited": false, "score": 0, "creation_date": 1536866009, "post_id": 44292923, "comment_id": 91588101, "body": "The compiler always infers the most concrete type it can - <code>Nothing?</code> is the most concrete type here, and <code>Any?</code> would be the least concrete (so the broadest) type overall. Imagine how annoying it would be if every variable was always inferred to be an <code>Any?</code>."}, {"owner": {"reputation": 275, "user_id": 1180776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d0ca89f52c61f4e63d540bea4edba61?s=128&d=identicon&r=PG", "display_name": "Anastasiia Chervinska", "link": "https://stackoverflow.com/users/1180776/anastasiia-chervinska"}, "edited": false, "score": 0, "creation_date": 1536945512, "post_id": 44292923, "comment_id": 91620355, "body": "but in case var foo = 1, Nothing will be the most concrete type, however it will infer to Int, right?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1496257790, "creation_date": 1496257790, "answer_id": 44292923, "question_id": 44292717, "link": "https://stackoverflow.com/questions/44292717/why-does-var-foo-null-compile/44292923#44292923", "title": "Why does var foo = null compile", "body": "<p>The type of <code>foo</code> in this case will be inferred to <code>Nothing?</code>, which is a very special type. In short, <code>Nothing</code> is a type that is a subtype of every type in Kotlin (therefore <code>Nothing?</code> is a subtype of every nullable type), has no instances, and can be used as a return type for functions that can never return.</p>\n\n<p>Even though <code>Nothing</code> can have no instances, <code>null</code> itself of type <code>Nothing?</code>, which is why it can be assigned to any nullable variable.</p>\n\n<p>You can learn more in depth about <code>Nothing</code> in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"noreferrer\">official docs</a>, in <a href=\"https://medium.com/@quiro91/nothing-else-matters-in-kotlin-994a9ef106fc\" rel=\"noreferrer\">this excellent Medium article</a>, and in <a href=\"http://natpryce.com/articles/000818.html\" rel=\"noreferrer\">this article</a> that covers the overall Kotlin type hierarchy.</p>\n"}], "owner": {"reputation": 10715, "user_id": 1245894, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/72520e15af979287dc0e5ef6cac10267?s=128&d=identicon&r=PG&f=1", "display_name": "Distwo", "link": "https://stackoverflow.com/users/1245894/distwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 44292923, "answer_count": 3, "score": 4, "last_activity_date": 1496257790, "creation_date": 1496257097, "question_id": 44292717, "link": "https://stackoverflow.com/questions/44292717/why-does-var-foo-null-compile", "title": "Why does var foo = null compile", "body": "<p>I am starting with Kotlin and trying to understand something.</p>\n\n<p><code>var foo: String = null</code> does not compile as expected.</p>\n\n<p><code>var foo: String? = null</code> should be the correct syntax and compile as expected.</p>\n\n<p>So why does <code>var foo = null</code> compile??</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": -1, "last_activity_date": 1496253342, "creation_date": 1496253342, "answer_id": 44291655, "question_id": 44291217, "link": "https://stackoverflow.com/questions/44291217/kotlin-returns-same-object-from-factory-method/44291655#44291655", "title": "Kotlin returns same object from Factory method", "body": "<p>it looks like you try to use <a href=\"http://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> with Kotlin interface.</p>\n\n<p>Note that SAM conversions only work for interfaces, not for abstract classes, even if those also have just a single abstract method.</p>\n\n<p>Also note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n\n<p>For implementing interface like you want, you need to use object expression.\nAlso look at <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions\" rel=\"nofollow noreferrer\">high order functions</a> - I think you need them for your solution.</p>\n\n<pre><code>internal interface SomeStupidInterface {\n    interface ChangeListener {\n        fun notifyChanged(element: Any)\n    }\n\n    companion object FACTORY {\n        fun createNew(): ChangeListener {\n            val time = System.currentTimeMillis()\n            return object : ChangeListener {\n                override fun notifyChanged(element: Any) {\n                    println(\"J2KO\" + \"time \" + time)\n                }\n            }\n        }\n\n        fun createTheSame(): ChangeListener {\n            return object : ChangeListener {\n                override fun notifyChanged(element: Any) {\n                    println(\"J2KO\" + \"time \" + System.currentTimeMillis())\n                }\n            }\n        }\n    }\n\n    fun notifyChanged()\n}\n</code></pre>\n\n<p>Also In IntelliJ IDEA I can't compile your code.</p>\n"}, {"comments": [{"owner": {"reputation": 2320, "user_id": 2751535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Vdtv.jpg?s=128&g=1", "display_name": "j2ko", "link": "https://stackoverflow.com/users/2751535/j2ko"}, "edited": false, "score": 0, "creation_date": 1496254364, "post_id": 44291688, "comment_id": 75590280, "body": "Good catch - I&#39;ve moved callback from java to Kotlin without a check. Going to update my question with original code.  And you are right - I was fooled by AS suggestion. When I use full object notation all works as expected"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1496253501, "creation_date": 1496253501, "answer_id": 44291688, "question_id": 44291217, "link": "https://stackoverflow.com/questions/44291217/kotlin-returns-same-object-from-factory-method/44291688#44291688", "title": "Kotlin returns same object from Factory method", "body": "<p>First note: your example code doesn't work as is: the interface has to be written in Java in order to be available for use with SAM constructors.</p>\n\n<p>As for the actual question, you've already touched on why this behavior is happening. Lambdas (in this case, the SAM constructors) are compiled to anonymous classes (unless they're inlined). If they capture any outside variables, then for every invocation, a new instance of the anonymous class will be created. Otherwise, since they don't have to have any state, only a single instance will back every invocation of the lambda. I suppose this is for performance reasons, if nothing else. (Credit to the <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"nofollow noreferrer\">Kotlin in Action</a> book for the information in this paragraph.)</p>\n\n<p>If you want to return a new instance every time without capturing any variables, you can use the full <code>object</code> notation:</p>\n\n<pre><code>fun createNotQUiteTheSame(): ChangeListener {\n    return object : ChangeListener {\n        override fun notifyChanged(element: Any?) {\n            println(\"time \" + System.currentTimeMillis())\n        }\n    }\n}\n</code></pre>\n\n<p>Calling the above function multiple times will return different instances for each call. Interestingly, IntelliJ will suggest converting this to the original SAM conversion syntax instead:</p>\n\n<pre><code>fun createNotQUiteTheSame(): ChangeListener {\n    return ChangeListener { println(\"time \" + System.currentTimeMillis()) }\n}\n</code></pre>\n\n<p>Which, as you've already found out, returns the same instance every time. </p>\n\n<p>I suppose this conversion is offered because comparing whether these stateless instances are equal is very much an edge case. If you need to be able to do comparison between the instances that are returned, you're probably best off with the full <code>object</code> notation. Then you can even add some additional state to each listener, in the form of an <code>id</code> for example.</p>\n"}, {"comments": [{"owner": {"reputation": 2320, "user_id": 2751535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Vdtv.jpg?s=128&g=1", "display_name": "j2ko", "link": "https://stackoverflow.com/users/2751535/j2ko"}, "edited": false, "score": 0, "creation_date": 1496255796, "post_id": 44291792, "comment_id": 75591091, "body": "Make sense. Thanks for explenation"}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 6, "last_activity_date": 1496254239, "last_edit_date": 1496254239, "creation_date": 1496253802, "answer_id": 44291792, "question_id": 44291217, "link": "https://stackoverflow.com/questions/44291217/kotlin-returns-same-object-from-factory-method/44291792#44291792", "title": "Kotlin returns same object from Factory method", "body": "<p>This has to do with performance. Creating less objects obviously is better for performance, so that is what Kotlin tries to do.</p>\n\n<p>For each lambda, Kotlin generates a class that implements the proper interface. So for example the following Kotlin code:</p>\n\n<pre><code>fun create() : () -&gt; Unit {\n  return { println(\"Hello, World!\") }\n}\n</code></pre>\n\n<p>corresponds with something like:</p>\n\n<pre><code>Function0 create() {\n  return create$1.INSTANCE;\n}\n\nfinal class create$1 implements Function0 {\n\n  static final create$1 INSTANCE = new create$1();\n\n  void invoke() {\n    System.out.println(\"Hello, World!\");\n  }\n} \n</code></pre>\n\n<p>You can see here that the same instance is always returned.</p>\n\n<hr>\n\n<p>If you reference a variable that is outside of the lamdba scope however, this won't work: there is no way for the singleton instance to access that variable.</p>\n\n<pre><code>fun create(text: String) : () -&gt; Unit {\n  return { println(text) }\n}\n</code></pre>\n\n<p>Instead, for each invocation of <code>create</code>, a new instance of the class needs to be instantiated which has access to the <code>text</code> variable:</p>\n\n<pre><code>Function0 create(String text) {\n  return new create$1(text);\n}\n\nfinal class create$1 implements Function0 {\n\n  final String text;\n\n  create$1(String text) {\n    this.text = text;\n  }\n\n  void invoke() {\n    System.out.println(text);\n  }\n} \n</code></pre>\n\n<p>That is why your <code>a</code> and <code>b</code> instances are the same, but <code>c</code> and <code>d</code> are not.</p>\n"}], "owner": {"reputation": 2320, "user_id": 2751535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Vdtv.jpg?s=128&g=1", "display_name": "j2ko", "link": "https://stackoverflow.com/users/2751535/j2ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 1, "accepted_answer_id": 44291688, "answer_count": 3, "score": 5, "last_activity_date": 1496255889, "creation_date": 1496251722, "last_edit_date": 1496255889, "question_id": 44291217, "link": "https://stackoverflow.com/questions/44291217/kotlin-returns-same-object-from-factory-method", "title": "Kotlin returns same object from Factory method", "body": "<p>I'm playing with Kotlin and found interesting behavior.\nSo lets say i want to have some kind of a Factory :</p>\n\n<pre><code>internal interface SomeStupidInterface {\n    companion object FACTORY {\n       fun createNew(): ChangeListener {\n            val time = System.currentTimeMillis()\n            return ChangeListener { element -&gt; Log.e(\"J2KO\", \"time \" + time) }\n        }\n\n        fun createTheSame(): ChangeListener {\n            return ChangeListener { element -&gt; Log.e(\"J2KO\", \"time \" + System.currentTimeMillis()) }\n        }\n    }\n\n    fun notifyChanged()\n}\n</code></pre>\n\n<p>where <code>ChangeListener</code> defined in java file:</p>\n\n<pre><code>interface ChangeListener {\n    void notifyChange(Object element);\n}\n</code></pre>\n\n<p>And then I try to use it from Java like so:</p>\n\n<pre><code>ChangeListener a = SomeStupidInterface.FACTORY.createNew();\nChangeListener b = SomeStupidInterface.FACTORY.createNew();\nChangeListener c = SomeStupidInterface.FACTORY.createTheSame();\nChangeListener d = SomeStupidInterface.FACTORY.createTheSame();\nLog.e(\"J2KO\", \"createNew a == b -&gt; \" + (a == b));\nLog.e(\"J2KO\", \"createTheSame c == d -&gt; \" + (c == d));\n</code></pre>\n\n<p>The results are:</p>\n\n<pre><code>createNew: a == b -&gt; false\ncreateTheSame: c == d -&gt; true\n</code></pre>\n\n<p>I can understand why <code>createNew</code> returns new objects due to closure. \nBut why I'm receiving the same instance from <code>createTheSame</code> method?</p>\n\n<p>P.S. I know that code above is not idiomatic :) </p>\n"}, {"tags": ["java", "gradle", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1496249969, "post_id": 44290602, "comment_id": 75587858, "body": "I&#39;ve no JAVA experience, I run <code>gradle jar</code> but I found this file only <code>build&#47;libs&#47;Kotlin.jar</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1496250454, "post_id": 44290602, "comment_id": 75588171, "body": "So, this single JAR archive should actually contain all the Kotlin classes which the compiler generates from your source code (including <code>HelloKt.class</code>). Normally, in a Gradle build, Kotlin classes of a project are combined into one or several JAR archives -- that&#39;s what you get in <code>build&#47;libs&#47;</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1496250762, "post_id": 44290602, "comment_id": 75588365, "body": "Added the link to another Q&amp;A about running the JAR."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1496261733, "last_edit_date": 1496261733, "creation_date": 1496249677, "answer_id": 44290602, "question_id": 44290467, "link": "https://stackoverflow.com/questions/44290467/using-kotlin-with-gradle/44290602#44290602", "title": "using Kotlin with Gradle", "body": "<p>The classes are the direct output of the Kotlin compiler, and they should be packaged into a JAR by Gradle afterwards. To build a JAR, you can run the <code>jar</code> task, just as you would in a Java project:</p>\n\n<pre><code>gradle jar\n</code></pre>\n\n<p><sup>This task is usually run during <code>gradle build</code> as well, due to the task dependencies.</sup></p>\n\n<p>This will pack the Kotlin classes into a JAR archive (together with other JVM classes, if you have a multi-language project), normally located at <code>build/libs/<i>yourProjectName</i>.jar</code>.</p>\n\n<p>As to running the JAR, see this Q&amp;A for a detailed explanation: <a href=\"https://stackoverflow.com/questions/14733566/how-to-run-kotlin-class-from-the-command-line\">(link)</a></p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 1, "last_activity_date": 1496261933, "creation_date": 1496261933, "answer_id": 44293970, "question_id": 44290467, "link": "https://stackoverflow.com/questions/44290467/using-kotlin-with-gradle/44293970#44293970", "title": "using Kotlin with Gradle", "body": "<p>Thanks for @hotkey answer, it helped me going the correct way. </p>\n\n<p>First of all there is a mistake in the main class declaration, as it should follow the new methodology, that is in the below format:</p>\n\n<pre><code>mainClassName = '[your_namespace].[your_arctifact]Kt'\n</code></pre>\n\n<p>namespace = package name</p>\n\n<p>arctifact = file name</p>\n\n<p>so, considering the names given in the example above where filename is: <code>Hello.kt</code>, and the namespace is <code>hello</code>, then:</p>\n\n<pre><code>mainClassName = `[hello].[Hello]Kt`\n</code></pre>\n\n<p>using the previous method, that contains:</p>\n\n<pre><code>apply plugin: 'application'\nmainClassName = 'hello.HelloKt'\n</code></pre>\n\n<p>the generated .jar file is not including the kotlin runtime, so the only way to execute it, is by:</p>\n\n<pre><code>d:/App/build/libs/kotlin -cp App.jar hello.HelloKt\n</code></pre>\n\n<p>but in order to generate a self contained <code>jar</code> that can be self-executed, and contains the <code>kotlin runtime</code> then the <code>build.gradle</code> should be written as:</p>\n\n<pre><code>// set up the kotlin-gradle plugin\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\n// apply the kotlin-gradle plugin\napply plugin: \"kotlin\"\n\n\n// add kotlin-stdlib dependencies.\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n\njar {\n    manifest {\n        //Define mainClassName as: '[your_namespace].[your_arctifact]Kt'\n        attributes 'Main-Class': 'hello.HelloKt'\n    }\n\n    // NEW LINE HERE !!!\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>followed by <code>gradle build</code>, the <code>[your_working_folder].jar</code> file will be generated at the <code>build/libs</code> folder, assuming the working folder name is app, then file app.jar will be generated.</p>\n\n<p>To run this file, one of the following 2 commands can be used:</p>\n\n<pre><code>D:\\App\\build\\libs\\java -jar App.jar\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>D:\\App\\build\\libs\\kotlin App.jar hello.HelloKt\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2650, "favorite_count": 0, "accepted_answer_id": 44293970, "answer_count": 2, "score": 4, "last_activity_date": 1496261933, "creation_date": 1496249194, "question_id": 44290467, "link": "https://stackoverflow.com/questions/44290467/using-kotlin-with-gradle", "title": "using Kotlin with Gradle", "body": "<p>I'm new to <code>Kotlin</code> and <code>Gradle</code>, and tried to follow <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">these</a> steps, so I got the following 2 files:</p>\n\n<p>after running <code>gradle init</code> I changed the <code>build.gradle</code> to be:</p>\n\n<pre><code>// set up the kotlin-gradle plugin\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\n// apply the kotlin-gradle plugin\napply plugin: \"kotlin\"\napply plugin: 'application'\n\nmainClassName = \"hello.main\"\n\n// add kotlin-stdlib dependencies.\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p><code>Hello.kt</code>:</p>\n\n<pre><code>package hello   \n\nfun main(args: Array&lt;String&gt;) {   \n   println(\"Hello World!\")        \n}\n</code></pre>\n\n<p>Then I run the <code>gradle build</code> and got the <code>build\\classes\\main\\hello\\HelloKt.class</code></p>\n\n<p>my question is: Why the file generated is <code>.class</code> not <code>.jar</code> and how to get the <code>.jar</code> file and how to run it, I tried running the generated file using <code>kotlin -classpath HelloKt.class main</code> but got an error <code>error: could not find or load main class hello.main</code></p>\n"}, {"tags": ["kotlin", "biginteger"], "comments": [{"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496242625, "post_id": 44287466, "comment_id": 75583059, "body": "<a href=\"http://docs.w3cub.com/kotlin/api/latest/jvm/stdlib/kotlin/java.math.-big-integer/\" rel=\"nofollow noreferrer\">docs.w3cub.com/kotlin/api/latest/jvm/stdlib/kotlin/&hellip;</a>"}, {"owner": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "edited": false, "score": 0, "creation_date": 1499926501, "post_id": 44287466, "comment_id": 77117915, "body": "why don&#39;t you use Long type?"}, {"owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "reply_to_user": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "edited": false, "score": 2, "creation_date": 1499926613, "post_id": 44287466, "comment_id": 77117964, "body": "@vuhung3990 <a href=\"https://stackoverflow.com/a/31748073/6156989\">stackoverflow.com/a/31748073/6156989</a>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1496241316, "last_edit_date": 1496241316, "creation_date": 1496240989, "answer_id": 44287533, "question_id": 44287466, "link": "https://stackoverflow.com/questions/44287466/biginteger-in-kotlin/44287533#44287533", "title": "BigInteger in Kotlin", "body": "<p>You can use any of the built-in Java classes from Kotlin, and you should. They'll all work the exact same way as they do in Java. Kotlin makes a point of using what the Java platform has to offer instead of re-implementing them; for example, there are no Kotlin specific collections, just some interfaces on top of Java collections, and the standard library uses those collections as well.</p>\n\n<p>So yes, you should just use <code>java.math.BigInteger</code>. As a bonus, you'll actually be able to use operators instead of function calls when you use <code>BigInteger</code> from Kotlin: <code>+</code> instead of <code>add</code>, <code>-</code> instead of <code>subtract</code>, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 216, "user_id": 2522509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050f989eef2d0c0f62c349080f4fb5da?s=128&d=identicon&r=PG", "display_name": "BlueMist", "link": "https://stackoverflow.com/users/2522509/bluemist"}, "edited": false, "score": 0, "creation_date": 1595209059, "post_id": 44289523, "comment_id": 111385600, "body": "use BigInteger.ONE, TWO (since 1.2), TEN (since 1.5)"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 20, "last_activity_date": 1496246441, "creation_date": 1496246441, "answer_id": 44289523, "question_id": 44287466, "link": "https://stackoverflow.com/questions/44287466/biginteger-in-kotlin/44289523#44289523", "title": "BigInteger in Kotlin", "body": "<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\"><code>java.math.BigInteger</code></a> can be used in Kotlin as any other Java class. There are even <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-integer/\" rel=\"noreferrer\">helpers in stdlib</a> that make common operations easier to read and write. You can even extend the helpers yourself to achieve greater readability:</p>\n\n<pre><code>import java.math.BigInteger\n\nfun Long.toBigInteger() = BigInteger.valueOf(this)\nfun Int.toBigInteger() = BigInteger.valueOf(toLong())\n\nval a = BigInteger(\"1\")\nval b = 12.toBigInteger()\nval c = 2L.toBigInteger()\n\nfun main(argv:Array&lt;String&gt;){\n    println((a + b)/c) // prints out 6\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1888, "user_id": 5509575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2debfe039604b4e24c7769935bca5?s=128&d=identicon&r=PG&f=1", "display_name": "Hack5", "link": "https://stackoverflow.com/users/5509575/hack5"}, "is_accepted": false, "score": 1, "last_activity_date": 1578561593, "creation_date": 1578561593, "answer_id": 59660678, "question_id": 44287466, "link": "https://stackoverflow.com/questions/44287466/biginteger-in-kotlin/59660678#59660678", "title": "BigInteger in Kotlin", "body": "<p>Or if you are building for multiplatform (experimental in Kotlin 1.2 and 1.3), you can use <a href=\"https://github.com/gciatto/kt-math\" rel=\"nofollow noreferrer\">https://github.com/gciatto/kt-math</a> (I have no affiliation, except that I'm using it). It's basically java.math.* in pure Kotlin (with a few platform-specific extras as part of the MPP). It's really useful for me.</p>\n"}], "owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8537, "favorite_count": 0, "accepted_answer_id": 44289523, "answer_count": 3, "score": 16, "last_activity_date": 1578561593, "creation_date": 1496240852, "last_edit_date": 1496251595, "question_id": 44287466, "link": "https://stackoverflow.com/questions/44287466/biginteger-in-kotlin", "title": "BigInteger in Kotlin", "body": "<p>I need to make use of BigInteger but can't find anything similar in kotlin.</p>\n\n<p>Is there any alternative class in kotlin to BigInteger of java?</p>\n\n<p>or</p>\n\n<p>should I import java class into kotlin?</p>\n"}, {"tags": ["rx-java", "kotlin"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 3, "creation_date": 1496239157, "post_id": 44286724, "comment_id": 75580385, "body": "See <code>scan(R, BiFunction&lt;R, T, R&gt;)</code>: <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#scan(R,%20io.reactivex.functions.BiFunction)\" rel=\"nofollow noreferrer\">reactivex.io/RxJava/2.x/javadoc/io/reactivex/&hellip;</a>"}, {"owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1496240092, "post_id": 44286724, "comment_id": 75581087, "body": "Hmm I thought I tried this, but it didn&#39;t work. Maybe my compiler was just complaining about something else. At any rate my particular function I was trying to implement wasn&#39;t really the focus of the question, it was just an example. I&#39;d still like to know how I could do a similar type of extension just for a better understanding of how observables work. Thanks though!"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1496240357, "post_id": 44286724, "comment_id": 75581290, "body": "There is a <a href=\"https://github.com/ReactiveX/RxJava/wiki/Writing-operators-for-2.0\" rel=\"nofollow noreferrer\">wiki page</a> about writing operators."}, {"owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1496240887, "post_id": 44286724, "comment_id": 75581708, "body": "Awesome, thank you!"}, {"owner": {"reputation": 2307, "user_id": 6527510, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iRInSyzvnkY/AAAAAAAAAAI/AAAAAAAAAD4/rGS1YnMznYA/photo.jpg?sz=128", "display_name": "Phoenix Wang", "link": "https://stackoverflow.com/users/6527510/phoenix-wang"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1496316649, "post_id": 44286724, "comment_id": 75617717, "body": "@akarnokd Hi!. Considering writing new post for your blog advance rx?"}], "owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 618, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496238874, "creation_date": 1496238874, "question_id": 44286724, "link": "https://stackoverflow.com/questions/44286724/extending-rxjava-observable-in-kotlin-with-proper-disposal", "title": "Extending RxJava Observable in Kotlin with proper disposal", "body": "<p>I'm trying to create a new operator for RxJava that works similar to <code>scan</code>, but can take two different types. This is similar to the traditional implementation of <code>fold</code> or <code>reduce</code> where if a default value is given, the arguments to the folding function can be of different types as long as the return type matches the accumulator.</p>\n\n<p>Here's what I've got so far.</p>\n\n<pre><code>fun &lt;T, R&gt; Observable&lt;T&gt;.fold(acc: R, f: (R, T) -&gt; R): Observable&lt;R&gt; = Observable.create { o -&gt;\n    var accm = acc\n    subscribe({\n        accm = f(accm, it)\n        o.onNext(accm)\n    }, {\n        o.onError(it)\n    }, {\n        o.onComplete()\n    })\n}\n</code></pre>\n\n<p>I just subscribe to <code>this</code> inside an <code>Observable.create</code> block, and update the observer with new values put through the accumulator function. Problem is that the subscription won't be cleaned up when <code>this</code> is disposed. What should I do?</p>\n"}, {"tags": ["java", "selenium", "automated-tests", "kotlin", "selenide"], "comments": [{"owner": {"reputation": 3615, "user_id": 229743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tef4U.jpg?s=128&g=1", "display_name": "Taylor", "link": "https://stackoverflow.com/users/229743/taylor"}, "edited": false, "score": 0, "creation_date": 1496237853, "post_id": 44286061, "comment_id": 75579408, "body": "Have you considered using screenshots?  Selenium can take screenshots, you can take a before and after screenshot and compare the images."}, {"owner": {"reputation": 1898, "user_id": 7136025, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iQE_z9TuurE/AAAAAAAAAAI/AAAAAAAAADs/RXIYGtUyTr4/photo.jpg?sz=128", "display_name": "santhosh kumar", "link": "https://stackoverflow.com/users/7136025/santhosh-kumar"}, "edited": false, "score": 0, "creation_date": 1496238191, "post_id": 44286061, "comment_id": 75579656, "body": "Is there any change in the DOM apart from the static image details after adding a sink?"}, {"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "reply_to_user": {"reputation": 3615, "user_id": 229743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tef4U.jpg?s=128&g=1", "display_name": "Taylor", "link": "https://stackoverflow.com/users/229743/taylor"}, "edited": false, "score": 0, "creation_date": 1496304258, "post_id": 44286061, "comment_id": 75608962, "body": "@Taylor, yes, it is possible but that will add manual work to my autotests :)"}, {"owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "reply_to_user": {"reputation": 1898, "user_id": 7136025, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-iQE_z9TuurE/AAAAAAAAAAI/AAAAAAAAADs/RXIYGtUyTr4/photo.jpg?sz=128", "display_name": "santhosh kumar", "link": "https://stackoverflow.com/users/7136025/santhosh-kumar"}, "edited": false, "score": 0, "creation_date": 1496304466, "post_id": 44286061, "comment_id": 75609110, "body": "@santhoshkumar, no, nothing is changed"}, {"owner": {"reputation": 3615, "user_id": 229743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tef4U.jpg?s=128&g=1", "display_name": "Taylor", "link": "https://stackoverflow.com/users/229743/taylor"}, "edited": false, "score": 0, "creation_date": 1496352678, "post_id": 44286061, "comment_id": 75640578, "body": "@Viterzgir you can programmatically compare the images."}], "answers": [{"tags": [], "owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": true, "score": 2, "last_activity_date": 1496243737, "creation_date": 1496243737, "answer_id": 44288578, "question_id": 44286061, "link": "https://stackoverflow.com/questions/44286061/how-to-check-that-the-image-was-changed-if-therere-no-changes-in-html-code/44288578#44288578", "title": "How to check that the image was changed if there&#39;re no changes in HTML code?", "body": "<p>My first thought was to get a hash of the image before and after the changes and then see if the hash is the same. This will tell you if the image has changed.</p>\n\n<p>Here's a quick example and a function that you can use in your code.</p>\n\n<p>This function takes in a <code>URL</code> to the image and returns the MD5 hash of that image.</p>\n\n<pre><code>public static String getHashOfImage(URL imageUrl) throws IOException, NoSuchAlgorithmException\n{\n    BufferedImage buffImg = ImageIO.read(imageUrl);\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    ImageIO.write(buffImg, \"png\", outputStream);\n    byte[] data = outputStream.toByteArray();\n\n    MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n    md5.update(data);\n    byte[] digest = md5.digest();\n\n    return new BigInteger(1, digest).toString(16);\n}\n</code></pre>\n\n<p>and here's a quick example using a test site that contains three random images. You should see a hash printed for each of the three images. Each time you load the page, a different set of three images are loaded but if you run it a few times you should get an instance where two are the same so you can verify that the hash is indeed the same when two images are the same.</p>\n\n<pre><code>driver.get(\"http://the-internet.herokuapp.com/dynamic_content\");\n\nList&lt;WebElement&gt; images = driver.findElements(By.cssSelector(\"img\"));\nfor (int i = 1; i &lt; images.size(); i++)\n{\n    System.out.println(getHashOfImage(new URL(images.get(i).getAttribute(\"src\"))));\n}\n</code></pre>\n\n<p>Example output would look like</p>\n\n<pre><code>c8977e445530e09a06ce368f7f5e70dd\nc8977e445530e09a06ce368f7f5e70dd\n62baf598cd68eec5725df67e33c05cba\n</code></pre>\n\n<p>where the first two images were the same but different from the third.</p>\n\n<p>Some of this code was adapted from <a href=\"https://sites.google.com/site/matthewjoneswebsite/java/md5-hash-of-an-image\" rel=\"nofollow noreferrer\">https://sites.google.com/site/matthewjoneswebsite/java/md5-hash-of-an-image</a></p>\n"}], "owner": {"reputation": 162, "user_id": 6537905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/daafef9ebeb1761a43416cbac9db0b76?s=128&d=identicon&r=PG&f=1", "display_name": "Viterzgir", "link": "https://stackoverflow.com/users/6537905/viterzgir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 2, "accepted_answer_id": 44288578, "answer_count": 1, "score": 0, "last_activity_date": 1496243737, "creation_date": 1496237081, "last_edit_date": 1496237603, "question_id": 44286061, "link": "https://stackoverflow.com/questions/44286061/how-to-check-that-the-image-was-changed-if-therere-no-changes-in-html-code", "title": "How to check that the image was changed if there&#39;re no changes in HTML code?", "body": "<p>How to check that the image was changed if there're no changes in HTML code? It may sound a little bit complicated so I'll try to add some details. </p>\n\n<p>First of all, I write tests with Kotlin + Selenide but if your tips\\tricks\\answers will be in Java + Selenium I'm totally OK. </p>\n\n<p>Secondly, here's the situation: \nI have a visualizer of user's future kitchen where he\\she can add\\edit\\delete different stuff, e.g. sinks and faucets. \nThere're several presets: some of them with cabinets, some of them have tables, tables with chairs, etc. \nIt is coded like this: <code>&lt;a href=\"#\" class=\"preset-buttons-selected\" style=\"background-image: url(\"https://s3.amazonaws.com/bla-bla-bla/some_image.png\");\"&gt;&lt;/a&gt;</code></p>\n\n<p>So, when the user changes something, e.g. adds a Sink, image is actually changed, but nothing is changed in the html code that is why I <strong>CANNOT</strong> verify the changes in the autotests. \nI see that there're new images were pulled from <a href=\"http://s3.amazonaws.com\" rel=\"nofollow noreferrer\">s3.amazonaws.com</a> but it is only visible in Network tab of the browser console and it is not visible in the html code of the page. </p>\n\n<p>So, my question is, can I somehow verify that changes in my UI automation tests?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1496239206, "post_id": 44285703, "comment_id": 75580417, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44056988/lateinit-or-by-lazy-when-defining-global-android-widget-var-val\">&quot;lateinit&quot; or &quot;by lazy&quot; when defining global android.widget var/val</a>"}, {"owner": {"reputation": 508, "user_id": 3679952, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/78f013c41bcd34e9d1ac176449c9d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Udi", "link": "https://stackoverflow.com/users/3679952/udi"}, "reply_to_user": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1496298621, "post_id": 44285703, "comment_id": 75605329, "body": "Hi Daniel, My question is more basic. You are right that the answers in your reference answering my issue, but if someone not familiar with lateinit or lazy (like i do) will not find this question like i didn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 23, "last_activity_date": 1496237687, "last_edit_date": 1496237687, "creation_date": 1496236365, "answer_id": 44285813, "question_id": 44285703, "link": "https://stackoverflow.com/questions/44285703/what-is-the-best-way-to-declare-on-ui-component-in-android-with-kotlin/44285813#44285813", "title": "What is the best way to declare on UI component in android with Kotlin?", "body": "<p>This is a good use case for <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\"><code>lateinit</code></a>. Marking a property <code>lateinit</code> allows you to make it non nullable, but not assign it a value at the time that your Activity's constructor is called. It's there precisely for classes like Activities, when initialization happens in a separate initializer method, later than the constructor being run (in this case, <code>onCreate</code>).</p>\n\n<pre><code>private lateinit var btnProceed: Button\n</code></pre>\n\n<p>If the property is read before a real value is assigned to it, it will throw an exception at runtime - by using <code>lateinit</code>, you're taking the responsibility for initializing it before you access it for the first time.</p>\n\n<hr>\n\n<p>Otherwise, if you want the compiler to guarantee safe access for you, you can make the <code>Button</code> nullable as the converter does by default. Instead of the unsafe <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"noreferrer\"><code>!!</code> operator</a> though, which the converter often uses, you should use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call operator</a> where you access the property:</p>\n\n<pre><code>btnProceed?.setOnClickListener { ... }\n</code></pre>\n\n<p>This will make a regular call if <code>btnProceed</code> is a non-null value, and do nothing otherwise.</p>\n\n<hr>\n\n<p>On a final note, you can check out <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">Kotlin Android Extensions</a>, which eliminates the need to create properties for your <code>View</code>s altogether, if it works for your project.</p>\n\n<hr>\n\n<p>Last edit (for now): you should also look at using <code>lazy</code> as described in the <a href=\"https://stackoverflow.com/a/44286021/4465208\"><code>other</code></a> <a href=\"https://stackoverflow.com/a/44286000/4465208\"><code>answers</code></a>. Being lazy is cool.</p>\n"}, {"tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 1, "last_activity_date": 1496237383, "last_edit_date": 1496237383, "creation_date": 1496236876, "answer_id": 44286000, "question_id": 44285703, "link": "https://stackoverflow.com/questions/44285703/what-is-the-best-way-to-declare-on-ui-component-in-android-with-kotlin/44286000#44286000", "title": "What is the best way to declare on UI component in android with Kotlin?", "body": "<p>You can do it with <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\"><code>lateinit</code></a> as @zsmb13 suggest BUT this has the disadvantage that your views will be variable instead of final. If you want them to be final you can use the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\"><code>lazy</code> property delegation</a></p>\n\n<p>By using <code>lazy</code> you can declare how the value will be initialized when you first try to access it so by declaring</p>\n\n<pre><code>private val btnProceed: Button by lazy {\n    findViewById(R.id.yourID)\n}\n</code></pre>\n\n<p>Whenever you access your <code>btnProceed</code> you will have your activity (this example assume you're using an activity) loaded so you can use that method </p>\n"}, {"comments": [{"owner": {"reputation": 1052, "user_id": 2238023, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a92a99a6222b719e5b407e0ea6f7cac6?s=128&d=identicon&r=PG", "display_name": "Bryan Bryce", "link": "https://stackoverflow.com/users/2238023/bryan-bryce"}, "edited": false, "score": 2, "creation_date": 1545260317, "post_id": 44286021, "comment_id": 94568617, "body": "This can cause a memory leak in Fragments. <a href=\"https://www.bignerdranch.com/blog/kotlin-when-to-use-lazy-or-lateinit/\" rel=\"nofollow noreferrer\">bignerdranch.com/blog/kotlin-when-to-use-lazy-or-lateinit</a>"}, {"owner": {"reputation": 2022, "user_id": 1099884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fb9792afb5d8575b734f05cdc714981?s=128&d=identicon&r=PG", "display_name": "Yeung", "link": "https://stackoverflow.com/users/1099884/yeung"}, "edited": false, "score": 0, "creation_date": 1568095447, "post_id": 44286021, "comment_id": 102155033, "body": "I try to use <code>apply</code> to setOnClickListener inside the lazy block <code>findViewById(R.id.button).apply{this.setOnClickListener{...}&zwnj;&#8203;}</code> . But it does not work...But works inside onCreate. Do you know why?"}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 12, "last_activity_date": 1496236948, "creation_date": 1496236948, "answer_id": 44286021, "question_id": 44285703, "link": "https://stackoverflow.com/questions/44285703/what-is-the-best-way-to-declare-on-ui-component-in-android-with-kotlin/44286021#44286021", "title": "What is the best way to declare on UI component in android with Kotlin?", "body": "<p>Instead of using <code>lateinit</code>, you can also do <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"noreferrer\">lazy initialization</a>:</p>\n\n<pre><code>private val button by lazy {\n    findViewById(R.id.button) as Button\n}\n</code></pre>\n\n<p>The first time you access the <code>button</code> property, it will execute the block once and use the result for future calls. In <code>onCreate</code> for example, you can now directly access it:</p>\n\n<pre><code>fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(bundle)\n  setContentView(R.layout.my_view)\n\n  button.setOnClickListener { ... }\n}\n</code></pre>\n"}], "owner": {"reputation": 508, "user_id": 3679952, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/78f013c41bcd34e9d1ac176449c9d58e?s=128&d=identicon&r=PG&f=1", "display_name": "Udi", "link": "https://stackoverflow.com/users/3679952/udi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6266, "favorite_count": 2, "accepted_answer_id": 44285813, "answer_count": 3, "score": 16, "last_activity_date": 1496237687, "creation_date": 1496236072, "question_id": 44285703, "link": "https://stackoverflow.com/questions/44285703/what-is-the-best-way-to-declare-on-ui-component-in-android-with-kotlin", "title": "What is the best way to declare on UI component in android with Kotlin?", "body": "<p>I'm trying to build android application using Kotlin for the first time.</p>\n\n<p>I want to declare on some buttons outside the OnCreate method and i can initialize them only Inside this function with findViewById.</p>\n\n<p>Can i declare in simple and clean code like in java?</p>\n\n<pre><code>private Button btnProceed;\n</code></pre>\n\n<p>Because when converting it to Kotlin it look like:</p>\n\n<pre><code>private var btnProceed: Button? = null\n</code></pre>\n\n<p>And then when initialize OnClick function need to add ! sign:</p>\n\n<pre><code>btnProceed!!.setOnClickListener\n</code></pre>\n\n<p>What is the right and cleanest way? </p>\n"}, {"tags": ["java", "android", "kotlin", "lint", "android-lint"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1496231988, "post_id": 44284188, "comment_id": 75574976, "body": "And what exactly is the question? If somebody is willing to write up a bug report?"}, {"owner": {"reputation": 651, "user_id": 3667647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6451a7bdb136c5a11b4ce01803b84a8e?s=128&d=identicon&r=PG", "display_name": "okmanideep", "link": "https://stackoverflow.com/users/3667647/okmanideep"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1496232520, "post_id": 44284188, "comment_id": 75575399, "body": "@GhostCat Sorry. Added the question apart from the bug report. Thanks."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496233123, "post_id": 44284188, "comment_id": 75575853, "body": "Please report the issue at <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 651, "user_id": 3667647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6451a7bdb136c5a11b4ce01803b84a8e?s=128&d=identicon&r=PG", "display_name": "okmanideep", "link": "https://stackoverflow.com/users/3667647/okmanideep"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496233877, "post_id": 44284188, "comment_id": 75576407, "body": "@KirillRakhman Reported here - <a href=\"https://youtrack.jetbrains.com/issue/KT-18218\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18218</a>. Thanks"}], "owner": {"reputation": 651, "user_id": 3667647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6451a7bdb136c5a11b4ce01803b84a8e?s=128&d=identicon&r=PG", "display_name": "okmanideep", "link": "https://stackoverflow.com/users/3667647/okmanideep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496232439, "creation_date": 1496231825, "last_edit_date": 1496232439, "question_id": 44284188, "link": "https://stackoverflow.com/questions/44284188/false-positive-in-android-lint-check-for-linkedhashmap-remove", "title": "False positive in Android lint check for LinkedHashMap.remove()", "body": "<p>The issue in the lint result html\n<a href=\"https://i.stack.imgur.com/0VsMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0VsMb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Generated html section by lint for the issue</p>\n\n<pre><code>&lt;div class=\"warningslist\"&gt;\n    &lt;span class=\"location\"&gt;\n    &lt;a href=\"../../src/main/java/com/tourlandish/chronos/base/InMemoryCache.kt\"&gt;../../src/main/java/com/tourlandish/chronos/base/InMemoryCache.kt&lt;/a&gt;:40&lt;/span&gt;\n: &lt;span class=\"message\"&gt;Call requires API level 24 (current min is 21): \n&lt;code&gt;java.util.LinkedHashMap#remove&lt;/code&gt;&lt;/span&gt;&lt;br /&gt;&lt;pre class=\"errorlines\"&gt;\n\n    &lt;span class=\"lineno\"&gt; 37 &lt;/span&gt;        override &lt;span \n    class=\"keyword\"&gt;fun&lt;/span&gt; get(key: String): CachedItem? {\n    &lt;span class=\"lineno\"&gt; 38 &lt;/span&gt;            &lt;span \n    class=\"keyword\"&gt;val&lt;/span&gt; value = &lt;span \n    class=\"keyword\"&gt;super&lt;/span&gt;.get(key) ?: &lt;span \n    class=\"keyword\"&gt;return&lt;/span&gt; &lt;span class=\"keyword\"&gt;null&lt;/span&gt;\n    &lt;span class=\"lineno\"&gt; 39 &lt;/span&gt;            &lt;span \n    class=\"keyword\"&gt;if&lt;/span&gt; (value.isExpired()) {\n    &lt;span class=\"caretline\"&gt;&lt;span class=\"lineno\"&gt; 40 &lt;/span&gt;                \n    &lt;span class=\"error\"&gt;remove&lt;/span&gt;(key)&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt;\n    &lt;span class=\"lineno\"&gt; 41 &lt;/span&gt;                &lt;span \n    class=\"keyword\"&gt;return&lt;/span&gt; &lt;span class=\"keyword\"&gt;null&lt;/span&gt;\n    &lt;span class=\"lineno\"&gt; 42 &lt;/span&gt;            }\n    &lt;span class=\"lineno\"&gt; 43 &lt;/span&gt;            &lt;span \n    class=\"keyword\"&gt;return&lt;/span&gt; value\n    &lt;/pre&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>But <code>LinkedHashMap.remove()</code> which inherits from <code>HashMap.remove()</code> was added in API level 1 <a href=\"https://developer.android.com/reference/java/util/HashMap.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">according to the Android Documentation</a></p>\n\n<p>Is there some extra configuration needed for android-lint to work along with kotlin or is it a bug in android-lint and we have to supress it until fixed?</p>\n"}, {"tags": ["javascript", "android", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496227348, "post_id": 44282431, "comment_id": 75571645, "body": "You need to compile your library to both targets. Also, you cannot use classes that are specific to JS or Java. Classes written in Java will not work on JS, and vice versa."}, {"owner": {"reputation": 31, "user_id": 6445701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753d17523311f5a2fdfe6c701549f2be?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Alvarez Gil", "link": "https://stackoverflow.com/users/6445701/isaac-alvarez-gil"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1496228019, "post_id": 44282431, "comment_id": 75572123, "body": "No, sorry, maybe I didn&#39;t explain correctly, the library will be written in kotlin, and kotlin can work with JS and Java, do you understand me?"}, {"owner": {"reputation": 2260, "user_id": 3996257, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/peRSC.jpg?s=128&g=1", "display_name": "Merl&#237; Escarpenter P&#233;rez", "link": "https://stackoverflow.com/users/3996257/merl%c3%ad-escarpenter-p%c3%a9rez"}, "edited": false, "score": 0, "creation_date": 1496228021, "post_id": 44282431, "comment_id": 75572126, "body": "But what happens if the library use the kotlin pluguin?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496228183, "post_id": 44282431, "comment_id": 75572227, "body": "@IsaacAlvarezGil Yes, I understand you. You just need to be careful not to use any classes from, for example, Java in your implementation. Or the <code>dynamic</code> keyword that only works for Javascript. It will be caught when you try to compile to both targets though."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496228314, "post_id": 44282431, "comment_id": 75572311, "body": "@marstran I don&#39;t understand one thing, if Java class can be fully converted to Kotlin, and Kotlin can compile to JavaScript, why can&#39;t you use Java class from Kotlin and then compile to JavaScript?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1496228377, "post_id": 44282431, "comment_id": 75572337, "body": "@lelloman If you convert the Java class source code to Kotlin, it is no longer Java. Doing that will make it work for KotlinJS. However, you can not use for example <code>java.util.ArrayList</code> when you compile to a JS target. You don&#39;t have access to the Java standard library when you compile to JS."}, {"owner": {"reputation": 2260, "user_id": 3996257, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/peRSC.jpg?s=128&g=1", "display_name": "Merl&#237; Escarpenter P&#233;rez", "link": "https://stackoverflow.com/users/3996257/merl%c3%ad-escarpenter-p%c3%a9rez"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496228737, "post_id": 44282431, "comment_id": 75572587, "body": "@marstran in this last case, with the kotlin pluguin you don&#39;t import arraylist from java, the import comes from kotlin library...."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 2260, "user_id": 3996257, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/peRSC.jpg?s=128&g=1", "display_name": "Merl&#237; Escarpenter P&#233;rez", "link": "https://stackoverflow.com/users/3996257/merl%c3%ad-escarpenter-p%c3%a9rez"}, "edited": false, "score": 0, "creation_date": 1496228835, "post_id": 44282431, "comment_id": 75572654, "body": "@Merl&#237;EscarpenterP&#233;rez ArrayList was just an example... If you use it directly (not through Kotlin&#39;s <code>listOf</code> function), the Kotlin plugin can&#39;t fix it for you."}, {"owner": {"reputation": 31, "user_id": 6445701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753d17523311f5a2fdfe6c701549f2be?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Alvarez Gil", "link": "https://stackoverflow.com/users/6445701/isaac-alvarez-gil"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496229008, "post_id": 44282431, "comment_id": 75572764, "body": "@marstran Excuse me, what will not Kotlin do for us?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496229157, "post_id": 44282431, "comment_id": 75572876, "body": "My only point is that you can only use things from the Kotlin stdlib (which is not specific to Java or JS) if you want to compile to both targets... For example, do not use the <code>dynamic</code> keyword or explicitly write <code>import java.util.ArrayList</code>."}], "owner": {"reputation": 31, "user_id": 6445701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753d17523311f5a2fdfe6c701549f2be?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Alvarez Gil", "link": "https://stackoverflow.com/users/6445701/isaac-alvarez-gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1496314894, "creation_date": 1496226981, "last_edit_date": 1496314894, "question_id": 44282431, "link": "https://stackoverflow.com/questions/44282431/how-to-use-a-reusable-library-in-kotlin-with-android-and-javascript", "title": "How to use a reusable library in kotlin, with android and javascript?", "body": "<p>Well, I'm trying to create a library to be used by <strong>Android</strong> application and <strong>web (JavaScript)</strong>. The <strong>library will be written in Kotlin</strong>, and I saw Kotlin is 100% operable with JS and Java, so I think it can be posible but I didn't find de correct way or the best practice for this case. Any idea?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1496216733, "post_id": 44278574, "comment_id": 75564326, "body": "seems like okay. <code>Clean-Rebuild-Restart</code> IDE"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1496216875, "post_id": 44278574, "comment_id": 75564402, "body": "@IntelliJAmiya it works When I make changes in the code then I have to rebuild the complete application from Build -&gt; Rebuild Project then Run but it should work just from Run"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1496217038, "post_id": 44278574, "comment_id": 75564492, "body": "same problem for <code>1.1.2-2</code>"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1496814975, "post_id": 44278574, "comment_id": 75808162, "body": "@IntelliJAmiya Should we raise a ticket for it ? or it is already there"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1496815053, "post_id": 44278574, "comment_id": 75808194, "body": "You can raise that ."}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2045, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1496216523, "creation_date": 1496216394, "last_edit_date": 1496216523, "question_id": 44278574, "link": "https://stackoverflow.com/questions/44278574/error-execution-failed-for-task-appjavaprecompiledebug-java-io-ioexcepti", "title": "Error: Execution failed for task &#39;:app:javaPreCompileDebug&#39;. &gt; java.io.IOException: Failed to delete annotationProcessors.json", "body": "<p>I am trying to code in <code>Kotlin</code> in Android Studio 3.0 Canary 2. When I make changes in the code then I have to rebuild the complete application from Build -> Rebuild Project then Run</p>\n\n<p>After making changes in code, simply when I click on run button then it shows this error randomly.</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:javaPreCompileDebug'.\n  java.io.IOException: Failed to delete C:\\Users\\williams\\AndroidStudioProjects\\Kotlin\\FirstDemo\\app\\build\\intermediates\\javaPrecompile\\debug\\annotationProcessors.json</p>\n</blockquote>\n\n<p>What could be the issue ? It seems issue with build-tools or <code>Kotlin</code> compiler as it works fine with <code>Java</code>.</p>\n\n<p><strong>Top-Level build.gradle</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>Module level build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.williams.firstdemo\"\n        minSdkVersion 23\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1496214117, "post_id": 44277667, "comment_id": 75562634, "body": "Read <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/basic-syntax.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496214002, "post_id": 44277698, "comment_id": 75562556, "body": "variable must be initialised. this statement will have compile time error."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496215234, "post_id": 44277698, "comment_id": 75563365, "body": "try putting your code in IDE you will know. It gives compile time error <code>Property must be initialised</code>."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496215560, "post_id": 44277698, "comment_id": 75563586, "body": "I am using Android Studio 3.0 with latest kotlin 1.1.2-4, it gives above mentioned compile time error."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496216250, "post_id": 44277698, "comment_id": 75564021, "body": "Your code isn&#39;t what I am talking about. Again: use the Sum class as the OP does. Because he as a ctor there that initializes those two fields! And sorry, that was misleading. Just having <code>Sum  { a b }</code> of course does not work. But having that with the ctor works fine!"}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 12, "last_activity_date": 1496221515, "last_edit_date": 1496221515, "creation_date": 1496213715, "answer_id": 44277698, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin/44277698#44277698", "title": "Property getter or setter expected in Kotlin", "body": "<pre><code>var a: Int, b: Int;\n</code></pre>\n\n<p>Kotlin doesn't allow to have multiple declarations in one line. You have to go for:</p>\n\n<pre><code>var a: Int\nvar b: Int\n</code></pre>\n\n<p>instead. The Kotlin folks simply found the C/java practice of \"int a, b, ..\" to be something they wish to <strong>not</strong> support in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 8, "last_activity_date": 1496214368, "last_edit_date": 1496214368, "creation_date": 1496213941, "answer_id": 44277773, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin/44277773#44277773", "title": "Property getter or setter expected in Kotlin", "body": "<p>You are writing unnecessary code in your class.</p>\n\n<p>Write short form for <code>constructor</code> if there is only one. </p>\n\n<p>If there are properties in class, they can be defined in <code>constructor</code> by using <code>val</code> or <code>var</code>.</p>\n\n<p>Use it like following:</p>\n\n<pre><code>class Sum (var a: Int,var b: Int){\n\n    fun add(): Int {\n        return a + b\n    }\n}\n</code></pre>\n\n<p>Do read <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html\" rel=\"noreferrer\">Basic Syntax</a> of <code>Kotlin</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "is_accepted": false, "score": 1, "last_activity_date": 1496214212, "creation_date": 1496214212, "answer_id": 44277851, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin/44277851#44277851", "title": "Property getter or setter expected in Kotlin", "body": "<p>the following code shows you how to assign and manipulate variables in your class</p>\n\n<pre><code>class Sum (var a: Int,var b: Int){\n\n    fun add(): Int= a + b //you can return the results directly.\n}\n</code></pre>\n\n<p>you can test your code using the main below.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n   var s= Sum(1,2)\n\n    print(s.add())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1203, "user_id": 4342515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_oRpj7EPDWQ/AAAAAAAAAAI/AAAAAAAAAGE/Ai1BO27JJIs/photo.jpg?sz=128", "display_name": "Mario", "link": "https://stackoverflow.com/users/4342515/mario"}, "is_accepted": false, "score": 6, "last_activity_date": 1496221502, "last_edit_date": 1496221502, "creation_date": 1496214655, "answer_id": 44278008, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin/44278008#44278008", "title": "Property getter or setter expected in Kotlin", "body": "<p>The error you have would be solved simply declaring the variables in two lines:</p>\n\n<pre><code>var a: Int\nvar b: Int\n</code></pre>\n\n<p>However, the recommended way to integrate those variables in constructors (if you only want to have a single constructor with arguments):</p>\n\n<pre><code>class Sum(var a: Int, var b: Int) {\n    fun add(): Int = a + b\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1975, "user_id": 9494420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5DYU.jpg?s=128&g=1", "display_name": "Abhishek Luthra", "link": "https://stackoverflow.com/users/9494420/abhishek-luthra"}, "is_accepted": false, "score": 1, "last_activity_date": 1522612757, "creation_date": 1522612757, "answer_id": 49602113, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin/49602113#49602113", "title": "Property getter or setter expected in Kotlin", "body": "<p>Firstly , you must put property declarations on separate lines . You can refer <a href=\"https://stackoverflow.com/questions/40385878/define-multiple-variables-at-once-in-kotlin-e-g-java-string-x-y-z/40386049\">this thread</a> here , where JetBrains' Engineer yole states that:</p>\n\n<blockquote>\n  <p>Declaring multiple properties on the same line is frowned upon by many Java style guides, so we did not implement support for that in Kotlin.</p>\n</blockquote>\n\n<p>Once property declaration on separate lines is done , you should have no problem as kotlin genrates default getter and setter internally with same visibility as your property . If you do not specify any visibility modifier, public is used by default, which means that your declarations will be visible everywhere .</p>\n\n<p>In fact, Kotlin has a concise syntax,  for declaring properties and initializing them from the primary constructor(In case you have only one constructor which will be always primary):</p>\n\n<pre><code>  class Sum(var a:Int,var b:Int) {\n\n    fun add(): Int {\n        return a + b\n    }\n}\n</code></pre>\n\n<p>Refer constructors column in official documentation in link below <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19781, "favorite_count": 0, "accepted_answer_id": 44277773, "answer_count": 5, "score": 8, "last_activity_date": 1522612757, "creation_date": 1496213600, "last_edit_date": 1496215350, "question_id": 44277667, "link": "https://stackoverflow.com/questions/44277667/property-getter-or-setter-expected-in-kotlin", "title": "Property getter or setter expected in Kotlin", "body": "<p>I am learning <code>Kotlin</code> from official docs, I am trying to create a class to do arithmetic operations. </p>\n\n<pre><code>class Sum {\n\n    var a: Int, b: Int;\n\n    constructor(a: Int, b: Int) {\n        this.a = a\n        this.b = b\n    }\n\n    fun add(): Int {\n        return a + b\n    }\n}\n</code></pre>\n\n<p>I have this class, now I want to create an object of this class like </p>\n\n<pre><code>val sum = Sum(1,2)\nLog.d(\"Sum\", sum.add())\n</code></pre>\n\n<p>I am getting this error in <code>Sum</code> class:</p>\n\n<blockquote>\n  <p>Property getter or setter expected</p>\n</blockquote>\n\n<p>on <code>b: int;</code> within the line <code>var a: Int, b: Int;</code></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "anko"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496213160, "post_id": 44277405, "comment_id": 75562067, "body": "Are you using xml file or dynamically creating elements?"}, {"owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496213319, "post_id": 44277405, "comment_id": 75562159, "body": "Dynamicly with Anko DSL, as the code shows."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496213737, "post_id": 44277405, "comment_id": 75562396, "body": "I think you have stripped out some methods, can you pull at least invoking method in your code."}, {"owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496215045, "post_id": 44277405, "comment_id": 75563251, "body": "I&#39;m not sure what you mean, the only code I stripped was very specific to user input events. This error occurs before those events can be fired."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496215438, "post_id": 44277405, "comment_id": 75563503, "body": "If this is the case, I cant figure out where did you assign layout to your activity."}, {"owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496216263, "post_id": 44277405, "comment_id": 75564036, "body": "In the main activity.  `MainUI().setContentView(this).  Anko DSL creates the view dynamically."}, {"owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496216448, "post_id": 44277405, "comment_id": 75564144, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/145518/discussion-between-phito-and-chandil03\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "is_accepted": true, "score": 2, "last_activity_date": 1496215842, "creation_date": 1496215842, "answer_id": 44278400, "question_id": 44277405, "link": "https://stackoverflow.com/questions/44277405/how-to-make-universal-appbar-with-anko-dsl/44278400#44278400", "title": "How to make universal AppBar with Anko DSL?", "body": "<p>I was able to do it with ViewManager based on <a href=\"https://stackoverflow.com/questions/40147360/create-a-custom-view-viewgroup-class-in-anko-dsl?rq=1\">this answer</a>.</p>\n\n<p>Here is the new code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        MainUI().setContentView(this)\n\n        val toolbar: Toolbar = find(R.id.toolbar)\n        setSupportActionBar(toolbar)\n    }\n}\n\nclass MainUI : AnkoComponent&lt;MainActivity&gt; {\n    override fun createView(ui: AnkoContext&lt;MainActivity&gt;) = with(ui) {\n        coordinatorLayout {\n            fitsSystemWindows = true\n            lparams {\n                width = matchParent\n                height = matchParent\n            }\n            toolbarUI(resources.getString(R.string.main_activity)).lparams { width = matchParent }\n            recyclerView {...}.lparams {\n                width = matchParent\n                height = matchParent\n                behavior = AppBarLayout.ScrollingViewBehavior()\n            }\n        }\n    }\n\n    fun ViewManager.toolbarUI(activity: String) = appBarLayout {\n        toolbar {\n            setTitleTextColor(Color.WHITE)\n            id = R.id.toolbar\n            title = activity\n        }.lparams {\n            width = matchParent\n            height = wrapContent\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 1, "last_activity_date": 1496215993, "creation_date": 1496215993, "answer_id": 44278445, "question_id": 44277405, "link": "https://stackoverflow.com/questions/44277405/how-to-make-universal-appbar-with-anko-dsl/44278445#44278445", "title": "How to make universal AppBar with Anko DSL?", "body": "<p>The problem is that <code>ToolbarUI().createView(ui)</code> creates view on the same AnkoContext, on <code>ui</code>, which is created with <code>setContentView = true</code> by default.\nYou can try using another AnkoContext, which is not going to attach view to Activity: <code>ToolbarUI().createView(AnkoContextImpl(activity, this /* parent ViewGroup */, true))</code>.</p>\n"}], "owner": {"reputation": 1141, "user_id": 588304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/983ea25e25f8e0626a16a2192cc183f2?s=128&d=identicon&r=PG", "display_name": "Phito", "link": "https://stackoverflow.com/users/588304/phito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 0, "accepted_answer_id": 44278400, "answer_count": 2, "score": 0, "last_activity_date": 1496215993, "creation_date": 1496212724, "question_id": 44277405, "link": "https://stackoverflow.com/questions/44277405/how-to-make-universal-appbar-with-anko-dsl", "title": "How to make universal AppBar with Anko DSL?", "body": "<p>I'm trying to make a toolbar that I can insert into other Anko components. Here is an example of what I am going for:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        MainUI().setContentView(this)\n\n        val toolbar: Toolbar = find(R.id.toolbar)\n        setSupportActionBar(toolbar)\n    }\n}\n\nclass MainUI : AnkoComponent&lt;MainActivity&gt; {\n    override fun createView(ui: AnkoContext&lt;MainActivity&gt;) = with(ui) {\n        coordinatorLayout {\n            fitsSystemWindows = true\n            lparams {\n                width = matchParent\n                height = matchParent\n            }\n            ToolbarUI().createView(ui).lparams { width = matchParent }\n            recyclerView {...}.lparams {\n                width = matchParent\n                height = matchParent\n                behavior = AppBarLayout.ScrollingViewBehavior()\n            }\n        }\n    }\n}\n\nclass ToolbarUI : AnkoComponent&lt;AppCompatActivity&gt; {\n    override fun createView(ui: AnkoContext&lt;AppCompatActivity&gt;) = with(ui) {\n        appBarLayout {\n            ...\n            toolbar {\n                setTitleTextColor(Color.WHITE)\n                id = R.id.toolbar\n                title = resources.getString(R.string.main_activity)\n                ...\n            }.lparams {\n                width = matchParent\n                height = wrapContent\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This way I could use this same AppBarLayout elsewhere with much less code. But I am getting this:\n<code>java.lang.IllegalStateException: View is already set: org.jetbrains.anko.design._AppBarLayout</code></p>\n\n<p>Anyone could help me with the correct way to implement this?</p>\n"}, {"tags": ["javascript", "node.js", "kotlin", "actions-on-google", "kotlin-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "edited": false, "score": 1, "creation_date": 1496212322, "post_id": 44277197, "comment_id": 75561635, "body": "Thanks. I think it would be helpful if you can add &#39;Kotlin compiler mangles names all functions, except for those which don&#39;t take any parameters.&#39; to the documentation."}], "tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": true, "score": 3, "last_activity_date": 1496211943, "creation_date": 1496211943, "answer_id": 44277197, "question_id": 44276695, "link": "https://stackoverflow.com/questions/44276695/is-jsname-annotation-required-for-every-method/44277197#44277197", "title": "Is @JsName annotation required for every method?", "body": "<p>Kotlin compiler mangles names all functions, except for those which don't take any parameters. The motivation is: you can add overloaded function later, and this should not break binary compatibility of the code. As for <code>@JsName</code>: it depends on your goal. I don't know it and hence I can't tell whether you shuold put <code>@JsName</code> annotation on each method. If you are developing a library which is intended to be used from JavaScript, yes, you probably need to put <code>@JsName</code> on each function you want to be accessible from JavaScript. We are going to add another annotation which  turns off mangling on entire class or file.</p>\n"}], "owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 44277197, "answer_count": 1, "score": 3, "last_activity_date": 1496211943, "creation_date": 1496209927, "question_id": 44276695, "link": "https://stackoverflow.com/questions/44276695/is-jsname-annotation-required-for-every-method", "title": "Is @JsName annotation required for every method?", "body": "<p>I was trying to make NodeJs work with Kotlin for a HelloWorld example <a href=\"https://github.com/PravSonawane/hello-actions-nodejs-apiai-kotlin\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As per the <a href=\"https://kotlinlang.org/docs/reference/js-to-kotlin-interop.html#jsname-annotation\" rel=\"nofollow noreferrer\">Kotlin JS documentation</a>, @JsName annotation is required for <strong>overloaded</strong> methods. But in my experience, it is required even for a <strong>single</strong> method. Without this annotation the compiler adds a suffix to the method name as shown in the screenshot.<a href=\"https://i.stack.imgur.com/CNVCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CNVCW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this a bug? Or am I missing something?</p>\n\n<p>I'm using Kotlin 1.1.0 module provided by NPM (please check the GitHub link above for the complete codebase if required).</p>\n"}, {"tags": ["android", "constructor", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1496208734, "post_id": 44276337, "comment_id": 75559931, "body": "I have this code <code>class Person(name: String, surname: String) {     init {         Log.d(&quot;Hello&quot;, &quot;Hello $name $surname&quot;);     }      constructor(name: String) {      } }</code> after adding secondary constructor, Android Studio hinting me <code>Error:(10, 5) Primary constructor call expected</code>"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1496209014, "post_id": 44276337, "comment_id": 75560036, "body": "This is because, you will have to call the primary constructor using the this keyword. Writing an answer soon to demonstrate."}], "tags": [], "owner": {"reputation": 2539, "user_id": 5010211, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-p_adzXHjKuc/AAAAAAAAAAI/AAAAAAAAAHk/ZaZIK9rA414/photo.jpg?sz=128", "display_name": "Akshay Bhat &#39;AB&#39;", "link": "https://stackoverflow.com/users/5010211/akshay-bhat-ab"}, "is_accepted": false, "score": 2, "last_activity_date": 1496209143, "last_edit_date": 1496209143, "creation_date": 1496208342, "answer_id": 44276337, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/44276337#44276337", "title": "Constructors in Kotlin", "body": "<p>Inside the class use <code>constructor</code> keyword to create secondary constructor. Like :</p>\n\n<pre><code>class Person(name: String, surname: String) {\n    init {\n        Log.d(\"App\", \"Hello\");\n    }\n    constructor(id: Int) {\n\n    }\n}\n</code></pre>\n\n<p>For more info check <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Secondary Constructors</a></p>\n\n<p><strong>EDIT:</strong>\n<br><em>Rule :</em> If the class has a primary constructor, each secondary constructor needs to delegate to the primary constructor, either directly or indirectly through another secondary constructor(s). Delegation to another constructor of the same class is done using the this keyword.</p>\n\n<pre><code>class Person(val name: String) {\n    constructor(name: String, parent: Person) : this(name) {\n        parent.children.add(this)\n    }\n}\n</code></pre>\n\n<p>So when you call secondary constructor, it calls primary constructor to initialize name and after that you do your stuff in secondary constructor. In example above the name is initialized by calling primary constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 2727, "user_id": 3448633, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtYEm.jpg?s=128&g=1", "display_name": "Mobility", "link": "https://stackoverflow.com/users/3448633/mobility"}, "is_accepted": false, "score": 1, "last_activity_date": 1496208399, "creation_date": 1496208399, "answer_id": 44276340, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/44276340#44276340", "title": "Constructors in Kotlin", "body": "<p>Secondary Constructors</p>\n\n<p>The class can also declare secondary constructors, which are prefixed with constructor:</p>\n\n<pre><code>class Person {\n    constructor(parent: Person) {\n        parent.children.add(this)\n    } } \n</code></pre>\n\n<p>If the class has a primary constructor, each secondary constructor needs to delegate to the primary constructor, either directly or indirectly through another secondary constructor(s). Delegation to another constructor of the same class is done using the this keyword:</p>\n\n<pre><code>class Person(val name: String) {\n    constructor(name: String, parent: Person) : this(name) {\n        parent.children.add(this)\n    } }\n</code></pre>\n\n<p>see <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a>  Secondary Constructors part</p>\n"}, {"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1496210117, "post_id": 44276467, "comment_id": 75560493, "body": "Does <code>this(name)</code> calls primary constructor ? If so can we log to check ?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1496210370, "post_id": 44276467, "comment_id": 75560650, "body": "<code>this()</code> is used to call constructor, its parameter signature defines which constructor to call."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1496210826, "post_id": 44276467, "comment_id": 75560883, "body": "Yep correct. Can we check is it calling primary constructor or not by logging ?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 1, "creation_date": 1496210926, "post_id": 44276467, "comment_id": 75560932, "body": "As given in documentation primary constructor does not have body, but you can put that code in <code>init</code> block, it should do the trick."}, {"owner": {"reputation": 1875, "user_id": 4465373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Z3oCj.jpg?s=128&g=1", "display_name": "Farruh Habibullaev", "link": "https://stackoverflow.com/users/4465373/farruh-habibullaev"}, "edited": false, "score": 0, "creation_date": 1548025829, "post_id": 44276467, "comment_id": 95385417, "body": "One argument on this(name),  if we consider the constructor as a special method or func, is not this(name) a return type?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1548052029, "post_id": 44276467, "comment_id": 95390220, "body": "Return type for what? Constructors does not return any value.@FarruhHabibullaev"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 50, "last_activity_date": 1496209648, "last_edit_date": 1496209648, "creation_date": 1496209014, "answer_id": 44276467, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/44276467#44276467", "title": "Constructors in Kotlin", "body": "<p>Well <code>init</code> is not body of constructor. It is called after primary constructor with the context of primary constructor.</p>\n\n<p>As given in Official documentation:</p>\n\n<blockquote>\n  <p>The primary constructor cannot contain any code. Initialization code can be placed in initializer blocks, which are prefixed with the init keyword:</p>\n</blockquote>\n\n<pre><code>class Customer(name: String) {\n    init {\n        logger.info(\"Customer initialized with value ${name}\")\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Note that parameters of the primary constructor can be used in the initializer blocks. They can also be used in property initializers declared in the class body:</p>\n</blockquote>\n\n<pre><code>class Customer(name: String) {\n    val customerKey = name.toUpperCase()\n}\n</code></pre>\n\n<blockquote>\n  <p>In fact, for declaring properties and initializing them from the primary constructor, Kotlin has a concise syntax:</p>\n</blockquote>\n\n<pre><code>class Person(val firstName: String, val lastName: String, var age: Int) {\n    // ...\n}\n</code></pre>\n\n<hr>\n\n<p>As per your question you can add a constructor to accept one parameter like following:</p>\n\n<pre><code>class Person(name: String, surname: String) {\n\n    constructor(name: String) : this(name, \"\") {\n        // constructor body\n    }\n\n    init {\n        Log.d(\"App\", \"Hello\");\n    }\n}\n</code></pre>\n\n<p>But it doesn't look right as we are unnecessary passing second argument empty string. So we can order constructor like following:</p>\n\n<pre><code>class Person(name: String) {\n\n    constructor(name: String, surname: String) : this(name) {\n        // constructor body\n    }\n\n    init {\n        Log.d(\"App\", \"Hello\");\n    }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 1, "last_activity_date": 1496758457, "last_edit_date": 1496758457, "creation_date": 1496209142, "answer_id": 44276497, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/44276497#44276497", "title": "Constructors in Kotlin", "body": "<p>This is how you create another constructor.</p>\n\n<pre><code>class Person(name: String, surname: String) {\n    init {\n        Log.d(\"App\", \"Hello\");\n    }\n constructor(id: Int) : this(\"example name\", \"example surname\") {\n\n}\n}\n</code></pre>\n\n<p>Always remember that, the secondary constructor will have to reference the primary constructor and it's parameters using the this keyword.</p>\n"}, {"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 4, "last_activity_date": 1496212660, "last_edit_date": 1496212660, "creation_date": 1496209373, "answer_id": 44276547, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/44276547#44276547", "title": "Constructors in Kotlin", "body": "<p>First way with empty values </p>\n\n<pre><code>// (name: String, surname: String)  default constructor signature\nclass Person(name: String, surname: String) {\n\n    // init block , represents the body of default constructor \n    init {\n        Log.d(\"primary\", \"Hello\");\n    }\n\n    // secondary constructor \n    // this(name,\"\") call to default constructor\n    constructor(name : String):this(name,\"\"){\n        Log.d(\"secondary\", \"Hello\");\n    }\n}\n</code></pre>\n\n<p>why <code>this(name,\"\")</code></p>\n\n<blockquote>\n  <p>If the class has a primary constructor, each secondary constructor\n  needs to delegate to the primary constructor, either directly or\n  indirectly through another secondary constructor(s). Delegation to\n  another constructor of the same class is done using the this keyword:</p>\n</blockquote>\n\n<p>or </p>\n\n<p>kotlin won't allow to use <code>null</code> like <code>this(name,null)</code> so use <code>?</code> to represent <code>null</code> values with type, <code>surname: String?</code></p>\n\n<pre><code>class Person(name: String, surname: String?) {\n\n    init {\n        Log.d(\"primary\", \"Hello\");\n    }\n\n    constructor(name : String):this(name,null){\n        Log.d(\"secondary\", \"Hello\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 720, "user_id": 6093189, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-3h5UNmEYWgM/AAAAAAAAAAI/AAAAAAAAACk/n-_td21irr0/photo.jpg?sz=128", "display_name": "Harish Reddy", "link": "https://stackoverflow.com/users/6093189/harish-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1609667501, "creation_date": 1609667501, "answer_id": 65548467, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin/65548467#65548467", "title": "Constructors in Kotlin", "body": "<p>Use the variable 'internal' and then you can add multiple constructors inside single class like below.</p>\n<pre><code>class AuthModel {\nvar code: String? = null\n\ninternal constructor(code: String?) {\n    this.code = code\n}\n\ninternal constructor() {}\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24668, "favorite_count": 6, "accepted_answer_id": 44276467, "answer_count": 6, "score": 38, "last_activity_date": 1609667501, "creation_date": 1496208039, "last_edit_date": 1496251687, "question_id": 44276277, "link": "https://stackoverflow.com/questions/44276277/constructors-in-kotlin", "title": "Constructors in Kotlin", "body": "<p>I am learning <code>Kotlin</code> from official docs, I created one <code>class</code> like below where I created one <code>constructor</code> which has two <code>parameters</code>. Body of <code>constructor</code> is in <code>init</code> block.</p>\n\n<pre><code>class Person(name: String, surname: String) {\n    init {\n        Log.d(\"App\", \"Hello\");\n    }\n}\n</code></pre>\n\n<p>Well, I want to create one more <code>constructor</code> which will take one <code>parameter</code> in a <code>constructor</code>. What is the way to do in <code>Kotlin</code></p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1496202218, "post_id": 44274719, "comment_id": 75557824, "body": "What do the characters next to <code>Nullable</code> say in your second snippet? Is that the full gradle console error message?"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1496212409, "post_id": 44274719, "comment_id": 75561693, "body": "Please always remember Stack Overflow <b>is intended to be English only</b>. I&#39;ve done the translate job for you for this time, but you&#39;d better do it yourself the next time. @DavidRawson I&#39;ve finished the translation."}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1496213192, "post_id": 44274719, "comment_id": 75562076, "body": "What happens if you add <code>compile &#39;javax.annotation:javax.annotation-api:1.2&#39;</code> to your <code>build.gradle</code>?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1496517541, "post_id": 44274719, "comment_id": 75697982, "body": "Or <code>provided</code>.."}], "owner": {"reputation": 161, "user_id": 6343375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdb89d7258daa235b1d9cfa70440da0?s=128&d=identicon&r=PG&f=1", "display_name": "wall", "link": "https://stackoverflow.com/users/6343375/wall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 979, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1496515946, "creation_date": 1496198033, "last_edit_date": 1592644375, "question_id": 44274719, "link": "https://stackoverflow.com/questions/44274719/some-errors-occurred-while-processing-annotations", "title": "Some error(s) occurred while processing annotations", "body": "<p>When I add the code int activity</p>\n<pre><code> @Inject\n lateinit var mCommonService:CommonService\n</code></pre>\n<p>The error comes</p>\n<blockquote>\n<p>e: Error: Can't access Nullable</p>\n<p>e:   Can't find javax.annotation.Nullable</p>\n<p>e:   For details, please refer to the following stacktrace.</p>\n<p>w: Warning: These options aren't used by any annotation processors:'[kapt.kotlin.generated]'</p>\n<p>e: Some error(s) occurred while processing annotations. Please see the error messages above.</p>\n</blockquote>\n<p>this is my module build.gradle</p>\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n    compile 'com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0'\n    compile 'com.squareup.okhttp3:okhttp:3.8.0'\n    compile 'com.squareup.okhttp3:okhttp-urlconnection:3.8.0'\n    compile 'io.reactivex.rxjava2:rxjava:2.0.1'\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'com.google.dagger:dagger:2.11'\n    kapt 'com.google.dagger:dagger-compiler:2.11'\n    compile 'com.readystatesoftware.systembartint:systembartint:1.0.3'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.squareup.leakcanary:leakcanary-android:1.5.1'\n//    compile 'com.android.support:support-annotations:26.0.0-alpha1'\n    kapt &quot;com.android.databinding:compiler:$rootProject.ext.gradle_version&quot;\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n}\n</code></pre>\n<p>This is my component</p>\n<pre><code>@ActivityScope\n@Component(modules = arrayOf(CommonModule::class),dependencies = arrayOf(AppComponent::class))\ninterface CommonComponent {\n     fun inject(activity: MainActivity)\n}\n</code></pre>\n<p>This is my module</p>\n<pre><code>@Module\nclass CommonModule {\n\n    @Singleton @Provides fun provideCommonService(retrofit: Retrofit): CommonService {\n        return retrofit.create(CommonService::class.java)\n    }\n}\n</code></pre>\n<p>And this is my activity</p>\n<pre><code>    @Inject\n    lateinit var mCommonService:CommonService// when i inject this,the error comes\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        getViewDataBinding(R.layout.activity_main)\n         DaggerCommonComponent.builder()\n                .appComponent(appComponent)\n                .commonModule(CommonModule())\n                .build()\n                .inject(this)\n }\n</code></pre>\n<p>If I delete the inject code the program run correctly, I try add @JvmWildcard at CommomService @provides return type, but it still doesn't work</p>\n"}, {"tags": ["java", "rx-java", "kotlin", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "edited": false, "score": 0, "creation_date": 1496230804, "post_id": 44276564, "comment_id": 75574017, "body": "Will that cause the subscription to complete, or will it continue if a new command / time comes in?"}, {"owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "reply_to_user": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "edited": false, "score": 0, "creation_date": 1496234708, "post_id": 44276564, "comment_id": 75577004, "body": "<code>.takeUntil</code> will cause the subscription to terminate - it will unsubcribe from the parent when the condition is met."}, {"owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "edited": false, "score": 0, "creation_date": 1496237841, "post_id": 44276564, "comment_id": 75579399, "body": "So this isn&#39;t really what I want then, since I want to continue observing <code>fullTime</code> and <code>controlCommands</code>."}, {"owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "reply_to_user": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "edited": false, "score": 0, "creation_date": 1496246556, "post_id": 44276564, "comment_id": 75585820, "body": "Hmmm - ok, can you produce a marble diagram that shows your usecase? I don&#39;t think I understand your requirements."}, {"owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "edited": false, "score": 0, "creation_date": 1496252900, "post_id": 44276564, "comment_id": 75589543, "body": "I want <code>fullTime</code> and <code>controlCommands</code> to always be emitting things, as they come from the UI. Really what I&#39;m asking is how can I pause the <code>interval</code> with knowledge from downstream (the <code>scan</code>). When the scan result hits zero, I want to stop ticking on the <code>interval</code> and just use the zero. My attempt right now is to just use <code>distinctUntilChanged</code> which I think will work for this case."}], "tags": [], "owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "is_accepted": false, "score": 0, "last_activity_date": 1496209423, "creation_date": 1496209423, "answer_id": 44276564, "question_id": 44274144, "link": "https://stackoverflow.com/questions/44274144/repeating-actions-on-state-with-rxjava/44276564#44276564", "title": "Repeating actions on state with RxJava", "body": "<p>If I understand you correctly, you are on the right track with <code>scan</code>. You just need</p>\n\n<ul>\n<li>a <code>.takeUntil(state -&gt; state.hasCompleted)</code> to stop when you need to stop (ow maybe a <code>takeWhile</code>, it depends).</li>\n<li>then a <code>.map(state -&gt; state.getValute())</code> to get the value </li>\n</ul>\n\n<p>Does this make sense?</p>\n"}], "owner": {"reputation": 298, "user_id": 1828448, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3ee903ebc770ce1962541cac2655e91?s=128&d=identicon&r=PG", "display_name": "mrobinson7627", "link": "https://stackoverflow.com/users/1828448/mrobinson7627"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496209423, "creation_date": 1496193015, "question_id": 44274144, "link": "https://stackoverflow.com/questions/44274144/repeating-actions-on-state-with-rxjava", "title": "Repeating actions on state with RxJava", "body": "<p>This is in Kotlin, but I think anyone who writes Java will be able to understand.</p>\n\n<p>I'm trying to make a stopwatch with Rx and I'm having a little trouble with doing the actual stopping and starting. The big problem is that I don't know how to keep the current time, while modifying it as different actions (starting and stopping) come in. Here's what I've got right now.</p>\n\n<pre><code>fullTime.switchMap { startTime -&gt;\n    controlCommands.switchMap { command -&gt;\n        when (command) {\n            ControlState.PLAY -&gt; Observable.interval(1L, TimeUnit.SECONDS).map {\n                ControlState.PLAY\n            }\n            ControlState.PAUSE -&gt; Observable.just(ControlState.PAUSE)\n            else -&gt; Observable.just(ControlState.STOP)\n        }\n    }\n}\n</code></pre>\n\n<p>Where <code>fullTime</code> and <code>controlCommands</code> are <code>Observable</code>s that emit events about the current starting time to count down from and say what to do next, respectively. I want to chain off of <code>controlCommands</code> and be able to keep state starting at <code>startTime</code> that will count down when a <code>PLAY</code> event appears, pause when <code>PAUSE</code> appears, and reset at <code>startTime</code> when <code>STOP</code> appears.</p>\n\n<p><code>scan</code> almost works, but I don't know how to stop after the timer hits 0 and <code>PLAY</code> is still being sent every second, since it would be sending duplicate info. Also it doesn't allow a separation between the state and the observed value. So the value I accumulate with <code>scan</code> has to be the same type as the value inside the <code>Observable</code> (if that makes sense).</p>\n\n<p>Any ideas what I should do?</p>\n"}, {"tags": ["java", "android", "kotlin", "dex"], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 1829281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b211518f35a1640f992b6b44e738594?s=128&d=identicon&r=PG", "display_name": "Andrii Kovalchuk", "link": "https://stackoverflow.com/users/1829281/andrii-kovalchuk"}, "edited": false, "score": 0, "creation_date": 1502898571, "post_id": 44301756, "comment_id": 78394094, "body": "Changing from 22.0 to 21.0 helped me"}], "tags": [], "owner": {"reputation": 563, "user_id": 590324, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/ON6yj.png?s=128&g=1", "display_name": "saberrider", "link": "https://stackoverflow.com/users/590324/saberrider"}, "is_accepted": true, "score": 5, "last_activity_date": 1496304613, "last_edit_date": 1496304613, "creation_date": 1496303851, "answer_id": 44301756, "question_id": 44274066, "link": "https://stackoverflow.com/questions/44274066/android-error-converting-bytecode-to-dex-with-min-sdk-version/44301756#44301756", "title": "Android - Error Converting Bytecode to Dex with min sdk version", "body": "<p>The culprit here is guava</p>\n\n<pre><code>compile group: 'com.google.guava', name: 'guava', version: '21.0'\n</code></pre>\n\n<p>change it to:</p>\n\n<pre><code>compile group: 'com.google.guava', name: 'guava', version: '22.0'\n</code></pre>\n\n<p>and it will work</p>\n\n<p>you can see in the changelog:\n<a href=\"https://github.com/google/guava/wiki/Release21\" rel=\"nofollow noreferrer\">https://github.com/google/guava/wiki/Release21</a></p>\n"}], "owner": {"reputation": 1023, "user_id": 5995152, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56b76f80a32db6d0043477769da896ef?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamers Org", "link": "https://stackoverflow.com/users/5995152/dreamers-org"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 1, "accepted_answer_id": 44301756, "answer_count": 1, "score": 4, "last_activity_date": 1496304613, "creation_date": 1496192441, "question_id": 44274066, "link": "https://stackoverflow.com/questions/44274066/android-error-converting-bytecode-to-dex-with-min-sdk-version", "title": "Android - Error Converting Bytecode to Dex with min sdk version", "body": "<p>I am trying to run my app and keep encountering the error:</p>\n\n<pre><code>Error:Error converting bytecode to dex:\nCause: default or static interface method used without --min-sdk-version &gt;= 24\n</code></pre>\n\n<p>I am unsure what is wrong as it doesnt provide much information. It was running before. i have looked at similar questions but they are different. They all had to do with the dependencies in the  build.gradle though so i have shown that below.</p>\n\n<pre><code>compile fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\ncompile 'com.android.support:appcompat-v7:25.3.1'\ntestCompile 'junit:junit:4.12'\ncompile 'com.android.support:design:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\ncompile 'com.android.support:support-v4:25.3.1'\n\ncompile group: 'com.google.code.gson', name: 'gson', version: '2.8.0'\ncompile 'de.hdodenhof:circleimageview:2.1.0'\ncompile 'com.squareup.picasso:picasso:2.5.2'\ncompile group: 'com.googlecode.libphonenumber', name: 'libphonenumber', version: '8.4.3'\ncompile group: 'com.pubnub', name: 'pubnub-gson', version: '4.6.2'\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.7.3'\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.7.3'\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.7.3'\ncompile group: 'com.google.guava', name: 'guava', version: '21.0'\ncompile group: 'joda-time', name: 'joda-time', version: '2.9.7'\ncompile 'com.google.android.gms:play-services-maps:10.2.6'\ncompile 'com.google.android.gms:play-services-location:10.2.6'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 24145, "user_id": 94363, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6017d97591b78ae31e34b6483ee77a33?s=128&d=identicon&r=PG", "display_name": "rds", "link": "https://stackoverflow.com/users/94363/rds"}, "edited": false, "score": 0, "creation_date": 1610635549, "post_id": 44273955, "comment_id": 116199572, "body": "See also <a href=\"https://stackoverflow.com/questions/26054420/set-visibility-of-progress-bar-gone-on-completion-of-image-loading-using-glide-l\" title=\"set visibility of progress bar gone on completion of image loading using glide l\">stackoverflow.com/questions/26054420/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1496214531, "creation_date": 1496214531, "answer_id": 44277967, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin/44277967#44277967", "title": "Glide callback after success in Kotlin", "body": "<p>The problem is that in the Java code, you used the type <code>SimpleTarget</code> as the type of <code>target</code>. This is a raw type (missing generic parameters), and is one of the big legacy problems in Java generics. Kotlin doesn't allow raw types, and this is why you got problems while converting.</p>\n\n<p>To fix this, you should do the following in Java:</p>\n\n<pre><code>private SimpleTarget&lt;Bitmap&gt; target = new SimpleTarget&lt;Bitmap&gt;() { ... }\n</code></pre>\n\n<p>Which will force you to add <code>asBitmap()</code> to your Glide call:</p>\n\n<pre><code>Glide.with(context)\n        .load(uri)\n        .asBitmap()\n        .override(600, 600)\n        .fitCenter()\n        .into(target);\n</code></pre>\n\n<p>Now that your code is using generics safely, it can be translated to Kotlin without a problem:</p>\n\n<pre><code>Glide.with(context)\n        .load(uri)\n        .asBitmap()\n        .override(600, 600)\n        .fitCenter()\n        .into&lt;SimpleTarget&lt;Bitmap&gt;&gt;(target)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2837, "user_id": 3677030, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/423439711c29bc18bf8db2799f1600f6?s=128&d=identicon&r=PG", "display_name": "Mohammed Rampurawala", "link": "https://stackoverflow.com/users/3677030/mohammed-rampurawala"}, "is_accepted": false, "score": 0, "last_activity_date": 1496229852, "creation_date": 1496229852, "answer_id": 44283488, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin/44283488#44283488", "title": "Glide callback after success in Kotlin", "body": "<p>If you only want to set the <code>Bitmap</code> into the <code>ImageView</code> using <code>Glide</code> then you can try out for a <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extension Function</a> in <strong>Kotlin</strong> with which you will only need to pass the parameters like <code>uri/url or size</code>.</p>\n\n<p><strong>For Example:</strong></p>\n\n<pre><code>class KotlinActivity : AppCompatActivity() {\n\n    var sampleImageView : ImageView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_kotlin)\n        sampleImageView = findViewById(R.id.imageView) as ImageView?\n        sampleImageView?.setImage(\"https://kbob.github.io/images/sample-3.jpg\")\n    }\n\n//Extension function for ImageView\n    fun ImageView.setImage(url:String, context:Context){\n        Glide.with(context).load(url).into(this)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3878, "user_id": 4528269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e57eeb7fc4c275fd8d64640acbc8fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan Field", "link": "https://stackoverflow.com/users/4528269/ethan-field"}, "edited": false, "score": 0, "creation_date": 1505832605, "post_id": 46303164, "comment_id": 79569430, "body": "It&#39;s often best to include an explanation of what you did and why you did it when answering a question. This helps newcomers to the ideas and languages you wrote about understand why something like this would be done."}, {"owner": {"reputation": 710, "user_id": 7096769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bwxJ.png?s=128&g=1", "display_name": "Emre Akcan", "link": "https://stackoverflow.com/users/7096769/emre-akcan"}, "edited": false, "score": 7, "creation_date": 1562667810, "post_id": 46303164, "comment_id": 100439533, "body": "please remember &quot;Target&quot; is a kotlin annotation so you must use &quot;com.bumptech.glide.request.target.Target&lt;Drawable&gt;&quot;"}], "tags": [], "owner": {"reputation": 568, "user_id": 3178374, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000703175713/picture?type=large", "display_name": "Paulina", "link": "https://stackoverflow.com/users/3178374/paulina"}, "is_accepted": false, "score": 18, "last_activity_date": 1505835958, "last_edit_date": 1505835958, "creation_date": 1505831535, "answer_id": 46303164, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin/46303164#46303164", "title": "Glide callback after success in Kotlin", "body": "<pre><code> Glide.with(context)\n        .load(url)\n        .listener(object : RequestListener&lt;Drawable&gt; {\n            override fun onLoadFailed(p0: GlideException?, p1: Any?, p2: Target&lt;Drawable&gt;?, p3: Boolean): Boolean {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n            override fun onResourceReady(p0: Drawable?, p1: Any?, p2: Target&lt;Drawable&gt;?, p3: DataSource?, p4: Boolean): Boolean {\n                Log.d(TAG, \"OnResourceReady\")\n                //do something when picture already loaded\n                return false\n            }\n        })\n        .into(imgView)\n</code></pre>\n\n<p>With Glide you can add <strong>Listener</strong> to your chain, which monitor state of your image loading. You have to override two methods, in <strong>onResourceReady</strong> method you have callback that your image is already loaded and you can do something , for example hide loader or let finish animation from another view.\nIn <strong>onLoadFailed</strong> you get information about some error while loading and also you can react somehow. This way you can avoid those errors. </p>\n"}, {"tags": [], "owner": {"reputation": 2774, "user_id": 3746306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NRiba.jpg?s=128&g=1", "display_name": "Nilesh Deokar", "link": "https://stackoverflow.com/users/3746306/nilesh-deokar"}, "is_accepted": false, "score": 3, "last_activity_date": 1553446218, "last_edit_date": 1553446218, "creation_date": 1517509350, "answer_id": 48569383, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin/48569383#48569383", "title": "Glide callback after success in Kotlin", "body": "<p>For those who are using Glide 3.8: </p>\n\n<pre><code> Glide.with(this)\n      .load(imgUrl)\n      .listener(object : RequestListener&lt;String, GlideDrawable&gt; {\n                        override fun onException(e: Exception?, model: String?, target: Target&lt;GlideDrawable&gt;?, isFirstResource: Boolean): Boolean {\n                            return false\n                        }\n                        override fun onResourceReady(resource: GlideDrawable?, model: String?, target: Target&lt;GlideDrawable&gt;?, isFromMemoryCache: Boolean, isFirstResource: Boolean): Boolean {\n                            return false\n                        }\n                    })\n       .into(image)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31409, "user_id": 1894067, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kUOeM.jpg?s=128&g=1", "display_name": "Alessandro Ornano", "link": "https://stackoverflow.com/users/1894067/alessandro-ornano"}, "is_accepted": false, "score": 4, "last_activity_date": 1566628861, "last_edit_date": 1566628861, "creation_date": 1566627435, "answer_id": 57635580, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin/57635580#57635580", "title": "Glide callback after success in Kotlin", "body": "<p><strong>Android Studio</strong> 3.5 - <strong>Kotlin</strong> 1.3.41 - <strong>Glide</strong> 4.9.0</p>\n\n<ul>\n<li><p>add this dependency to your build.gradle under <code>dependencies</code>:</p>\n\n<p>implementation 'com.github.bumptech.glide:glide:4.9.0'</p></li>\n</ul>\n\n<p>Go to the top of your class and add these imports (pay attention expecially to <code>target</code> class which is different from the kotlin target class annotation):</p>\n\n<pre><code>import com.bumptech.glide.Glide\nimport com.bumptech.glide.load.DataSource\nimport com.bumptech.glide.load.engine.DiskCacheStrategy\nimport com.bumptech.glide.load.engine.GlideException\nimport com.bumptech.glide.load.resource.gif.GifDrawable\nimport com.bumptech.glide.request.RequestListener\nimport com.bumptech.glide.request.target.Target\nimport android.graphics.drawable.Drawable\nimport android.support.graphics.drawable.Animatable2Compat\n</code></pre>\n\n<p>I've put some extra parameter as <code>override(600, 600)</code>, if you don't need remove it..</p>\n\n<pre><code>// Start animation\n        Glide\n            .with(this)\n            .load(R.drawable.tossina_pose1)\n            .centerCrop()\n            .override(600, 600)\n            .placeholder(R.drawable.tossina_idle_0)\n            .diskCacheStrategy(DiskCacheStrategy.ALL)\n            .listener(object : RequestListener&lt;Drawable&gt; {\n                override fun onLoadFailed(p0: GlideException?, p1: Any?, p2: Target&lt;Drawable&gt;?, p3: Boolean): Boolean {\n                    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n                }\n                override fun onResourceReady(p0: Drawable?, p1: Any?, p2: Target&lt;Drawable&gt;?, p3: DataSource?, p4: Boolean): Boolean {\n                    (p0 as GifDrawable).setLoopCount(1)\n                    p0.registerAnimationCallback(object : Animatable2Compat.AnimationCallback() {\n                        override fun onAnimationEnd(drawable: Drawable) {\n                            println(\"animation ends\")\n                        }\n                    })\n                    return false\n                }\n            })\n            .into(img)\n</code></pre>\n\n<p>Some indications:\n<code>R.drawable.tossina_pose1</code> is my GIF, you can put also gif local image like this example. The final line <code>.into(img)</code> have <code>img</code> that is my <code>imageView</code></p>\n"}], "owner": {"reputation": 191, "user_id": 6507199, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z9MX7OqDzO0/AAAAAAAAAAI/AAAAAAAAAAo/hNLBczrWGRk/photo.jpg?sz=128", "display_name": "Than Htike Aung", "link": "https://stackoverflow.com/users/6507199/than-htike-aung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22186, "favorite_count": 3, "answer_count": 5, "score": 17, "last_activity_date": 1566628861, "creation_date": 1496191242, "last_edit_date": 1553446210, "question_id": 44273955, "link": "https://stackoverflow.com/questions/44273955/glide-callback-after-success-in-kotlin", "title": "Glide callback after success in Kotlin", "body": "<pre><code>   private SimpleTarget target = new SimpleTarget&lt;Bitmap&gt;() {  \n\n    @Override\n    public void onResourceReady(Bitmap bitmap, GlideAnimation glideAnimation) {\n        // do something with the bitmap\n        // for demonstration purposes, let's just set it to an ImageView\n        imageView1.setImageBitmap( bitmap );\n    }\n};\n\nprivate void loadImageSimpleTarget() {  \n    Glide.with(context)\n        .load(uri)\n        .override(600, 600)\n        .fitCenter()\n        .into(target);\n}\n</code></pre>\n\n<p>I tried to convert it into Kotlin like as follow.</p>\n\n<pre><code>val finish_target = object : SimpleTarget&lt;Bitmap&gt;() {\n                override fun onResourceReady(bitmap: Bitmap?, glideAnimation: GlideAnimation&lt;in Bitmap&gt;?) {\n                    preview_image.setImageBitmap(bitmap)\n                }\n            }\n\n        Glide.with(context)\n                .load(uri)\n                .override(600, 600)\n                .fitCenter()\n                .into(finish_target)\n</code></pre>\n\n<p>But compilation error shows that </p>\n\n<pre><code>public open fun &lt;Y : Target&lt;GlideDrawable!&gt;!&gt; into(target: (???..???)): (???..???) defined in com.bumptech.glide.DrawableRequestBuilder\npublic open fun into(view: ImageView!): Target&lt;GlideDrawable!&gt;! defined in com.bumptech.glide.DrawableRequestBuilder\n</code></pre>\n\n<p>Please kindly help me how to solve this problem.</p>\n"}, {"tags": ["kotlin", "builder"], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 5, "last_activity_date": 1496191171, "creation_date": 1496191171, "answer_id": 44273943, "question_id": 44273241, "link": "https://stackoverflow.com/questions/44273241/explanation-on-function-literal-with-receiver-in-kotlin/44273943#44273943", "title": "Explanation on Function literal with receiver in Kotlin", "body": "<p>The call to <code>name { \"ABC\" }</code> is a combination of two Kotlin conventions.</p>\n\n<p>There is a convention that if the last parameter to a function is a function you can omit the parenthesis. Also since there are no parameters to the lambda, <code>\"ABC\"</code> is what is returned by it.</p>\n\n<p>So the caller is actually passing a lambda in the form <code>name ({() -&gt; \"ABC\"})</code>, rather than a String.</p>\n\n<p>Looking at the example in the link, it doesn't look like the receiver is necessary for <code>name()</code>, which is why it could be misleading.</p>\n"}], "owner": {"reputation": 103, "user_id": 918199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d22948fee8d8d8504333c3900a813a1?s=128&d=identicon&r=PG", "display_name": "Avinash", "link": "https://stackoverflow.com/users/918199/avinash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 44273943, "answer_count": 1, "score": 3, "last_activity_date": 1496191171, "creation_date": 1496185515, "question_id": 44273241, "link": "https://stackoverflow.com/questions/44273241/explanation-on-function-literal-with-receiver-in-kotlin", "title": "Explanation on Function literal with receiver in Kotlin", "body": "<p>I was following this link <a href=\"https://kotlin.link/articles/DSL-builder-in-Kotlin.html\" rel=\"nofollow noreferrer\">https://kotlin.link/articles/DSL-builder-in-Kotlin.html</a> to understand the builder implementation in Kotlin. I didn't understand the methods inside Builder class. Method <code>name()</code> receives Extension Function as an argument which receives nothing and returns String. And the caller calls <code>name { \"ABC\" }</code>. If the caller is passing String to <code>name</code> method, how does it translate to an Extension method which returns String ?</p>\n\n<p>I tried following Kotlin documentation for Function literals with receivers but all had samples which returns <code>Unit</code> or refers to DSL Builders. Tried googling it as well to understand but no luck in grasping the concept. </p>\n"}, {"tags": ["hibernate", "jpa-2.0", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1496183206, "post_id": 44272844, "comment_id": 75553571, "body": "You&#39;re annotating the field instead of annotating the getter."}, {"owner": {"reputation": 392, "user_id": 2346823, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GB7Hs.png?s=128&g=1", "display_name": "Yoshiya", "link": "https://stackoverflow.com/users/2346823/yoshiya"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1496229772, "post_id": 44272844, "comment_id": 75573269, "body": "I have not been using Kotlin for very long, but I believe I put the <code>@Transient</code> annotation both on the field and on the getter: <code>@get:java.beans.Transient</code>.  That is what the <code>@get:</code> portion means, no?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1496229970, "post_id": 44272844, "comment_id": 75573408, "body": "Except the correct annotation is not java.beans.Transient, but javax.persistence.Transient"}, {"owner": {"reputation": 392, "user_id": 2346823, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GB7Hs.png?s=128&g=1", "display_name": "Yoshiya", "link": "https://stackoverflow.com/users/2346823/yoshiya"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1496320281, "post_id": 44272844, "comment_id": 75620354, "body": "Yes! thank you! That is the answer -  if you put it in as an answer, I will accept and up-vote it."}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 4, "last_activity_date": 1496320557, "creation_date": 1496320557, "answer_id": 44307721, "question_id": 44272844, "link": "https://stackoverflow.com/questions/44272844/kotlin-jpa-and-transient/44307721#44307721", "title": "Kotlin, JPA and @Transient", "body": "<p>You're annotating the field instead of annotating the getter. Note that your getter annotation uses an incorrect type (<code>java.beans.Transient</code>) instead of the correct <code>javax.persistence.Transient</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9549, "user_id": 317522, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/y7DXx.jpg?s=128&g=1", "display_name": "Paulo Merson", "link": "https://stackoverflow.com/users/317522/paulo-merson"}, "is_accepted": false, "score": 0, "last_activity_date": 1606910920, "creation_date": 1606910920, "answer_id": 65107804, "question_id": 44272844, "link": "https://stackoverflow.com/questions/44272844/kotlin-jpa-and-transient/65107804#65107804", "title": "Kotlin, JPA and @Transient", "body": "<p>Just add:</p>\n<pre><code>import javax.persistence.Transient\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 2346823, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GB7Hs.png?s=128&g=1", "display_name": "Yoshiya", "link": "https://stackoverflow.com/users/2346823/yoshiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2292, "favorite_count": 0, "accepted_answer_id": 44307721, "answer_count": 2, "score": 1, "last_activity_date": 1606910920, "creation_date": 1496182936, "question_id": 44272844, "link": "https://stackoverflow.com/questions/44272844/kotlin-jpa-and-transient", "title": "Kotlin, JPA and @Transient", "body": "<p>I have an Entity class that I have migrated from Java to Kotlin. One of the properties (<code>inetAddress</code>) is annotated with <code>@Transient</code> to prevent it from being persisted to the relational database. However, JPA (Hibernate implementation) does not see this annotation and places it in the database as it's own field. This all works properly when the class is written in Java.</p>\n\n<p>Does anyone known how to properly annotate this Kotlin class so that JPA/Hibernate will see the <code>@Transient</code> annotation and not place the <code>inetAddress</code> property in the database?</p>\n\n<pre><code>package infr.audio.model\n\nimport com.fasterxml.jackson.annotation.JsonIgnore\nimport com.fasterxml.jackson.annotation.JsonProperty\nimport infr.audio.messages.InetAddressWrapper\nimport java.io.Serializable\nimport java.net.InetAddress\nimport javax.persistence.Column\nimport javax.persistence.Entity\nimport javax.persistence.GeneratedValue\nimport javax.persistence.Id\nimport javax.persistence.NamedQueries\nimport javax.persistence.NamedQuery\nimport javax.persistence.Table\n\n@Entity\n@Table(name = \"DIS_JOCKEY\")\n@NamedQueries(NamedQuery(name = \"DisJockeyInfo.find\", query = \"SELECT m FROM DisJockeyInfo m\"), NamedQuery(name = \"DisJockeyInfo.findByReservationId\", query = \"SELECT m FROM DisJockeyInfo m WHERE m.reservationId = :reservationId\"), NamedQuery(name = \"DisJockeyInfo.findByReservationIdAndName\", query = \"SELECT m FROM DisJockeyInfo m WHERE m.reservationId = :reservationId AND m.name = :name\"), NamedQuery(name = \"DisJockeyInfo.findMaxDisEntityIdByReservationId\", query = \"SELECT MAX(m.disEntityId) FROM DisJockeyInfo m WHERE m.reservationId = :reservationId\"), NamedQuery(name = \"DisJockeyInfo.findActive\", query = \"SELECT m FROM DisJockeyInfo m WHERE m.disEntityId IS NOT NULL\"), NamedQuery(name = \"DisJockeyInfo.findActiveByInetAddress\", query = \"SELECT m FROM DisJockeyInfo m WHERE m.inetAddress = :inetAddress AND m.disEntityId IS NOT NULL\"), NamedQuery(name = \"DisJockeyInfo.findActiveByReservationId\", query = \"SELECT m FROM DisJockeyInfo m WHERE m.reservationId = :reservationId AND m.disEntityId IS NOT NULL\"), NamedQuery(name = \"DisJockeyInfo.deleteInactive\", query = \"DELETE FROM DisJockeyInfo m WHERE m.id = :id AND m.disEntityId IS NULL\"))\ndata class DisJockeyInfo(\n        @get:Id\n        @get:GeneratedValue(strategy = GenerationType.IDENTITY)\n        @get:Column(name = \"ID\")\n        var id: Long,\n        @get:Column(name = \"RESERVATION_ID\")\n        var reservationId: String?,\n        @get:Column(name = \"NAME\")\n        var name: String?,\n        @get:Column(name = \"DIS_ENTITY_ID\")\n        var disEntityId: Long?,\n        @get:java.beans.Transient\n        @get:JsonIgnore\n        @field:Transient\n        var inetAddress: InetAddress?    \n) : GenericEntity, Serializable {\n\n    var inetAddressString: String?\n        @Column(name = \"INET_ADDRESS\")\n        @JsonProperty(\"inetAddress\")\n        get() = if (inetAddress != null) InetAddressWrapper(inetAddress).encodedInetAddress else null\n        set(inetAddressString) {\n            inetAddress = if (inetAddressString != null) InetAddressWrapper(inetAddressString).inetAddress else null\n        }\n\n    constructor() : this(id = 0L, reservationId = null, name = null, disEntityId = null, inetAddress = null) {}\n\n    companion object {\n        /** Serial version */\n        private val serialVersionUID = 2027355982760360935L\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-room", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 2979, "user_id": 635504, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HMtxo.png?s=128&g=1", "display_name": "\u6700\u767d\u76ee", "link": "https://stackoverflow.com/users/635504/%e6%9c%80%e7%99%bd%e7%9b%ae"}, "edited": false, "score": 1, "creation_date": 1539245738, "post_id": 44271247, "comment_id": 92433844, "body": "The links are dead."}, {"owner": {"reputation": 526, "user_id": 9722417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-U-Wn_tYCQGE/AAAAAAAAAAI/AAAAAAAAA5k/gyEpMVeszew/photo.jpg?sz=128", "display_name": "Marica", "link": "https://stackoverflow.com/users/9722417/marica"}, "reply_to_user": {"reputation": 2979, "user_id": 635504, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/HMtxo.png?s=128&g=1", "display_name": "\u6700\u767d\u76ee", "link": "https://stackoverflow.com/users/635504/%e6%9c%80%e7%99%bd%e7%9b%ae"}, "edited": false, "score": 1, "creation_date": 1543156232, "post_id": 44271247, "comment_id": 93807435, "body": "@\u6700\u767d\u76ee, it&#39;s here <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/test-common/java/com/android/example/github/util/LiveDataTestUtil.kt\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture-components/blo&zwnj;&#8203;b/&hellip;</a> it&#39;s popular example of android-architecture-components &quot;GithubBrowserSample&quot;"}, {"owner": {"reputation": 1231, "user_id": 3080924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93418b4ef3ddb027585f88a7bd5a7642?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Ra\u0161ka", "link": "https://stackoverflow.com/users/3080924/josef-ra%c5%a1ka"}, "edited": false, "score": 0, "creation_date": 1544353142, "post_id": 44271247, "comment_id": 94238958, "body": "Example how it can look like with extension function: <a href=\"https://github.com/jraska/livedata-testing\" rel=\"nofollow noreferrer\">github.com/jraska/livedata-testing</a> if you would like to avoid writing latches on your own."}], "tags": [], "owner": {"reputation": 34005, "user_id": 608649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fbc3248107250cb09c0d69919b62ad?s=128&d=identicon&r=PG", "display_name": "yigit", "link": "https://stackoverflow.com/users/608649/yigit"}, "is_accepted": true, "score": 57, "last_activity_date": 1587851955, "last_edit_date": 1587851955, "creation_date": 1496175652, "answer_id": 44271247, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/44271247#44271247", "title": "Unit testing Room and LiveData", "body": "<p>Room calculates the <code>LiveData</code>'s value lazily when there is an observer.</p>\n\n<p>You can check the <a href=\"https://github.com/android/architecture-components-samples/blob/f1ec5c2f75ed2a9663f627874142942cdaec2262/GithubBrowserSample/app/src/androidTest/java/com/android/example/github/db/RepoDaoTest.kt#L102\" rel=\"noreferrer\">sample app</a>.</p>\n\n<p>It uses a <a href=\"https://github.com/android/architecture-components-samples/blob/f1ec5c2f75ed2a9663f627874142942cdaec2262/GithubBrowserSample/app/src/test-common/java/com/android/example/github/util/LiveDataTestUtil.kt\" rel=\"noreferrer\">getValue</a> utility method which adds an observer to get the value:</p>\n\n<pre><code>public static &lt;T&gt; T getOrAwaitValue(final LiveData&lt;T&gt; liveData) throws InterruptedException {\n    final Object[] data = new Object[1];\n    final CountDownLatch latch = new CountDownLatch(1);\n    Observer&lt;T&gt; observer = new Observer&lt;T&gt;() {\n        @Override\n        public void onChanged(@Nullable T o) {\n            data[0] = o;\n            latch.countDown();\n            liveData.removeObserver(this);\n        }\n    };\n    liveData.observeForever(observer);\n    latch.await(2, TimeUnit.SECONDS);\n    //noinspection unchecked\n    return (T) data[0];\n}\n</code></pre>\n\n<p>Better w/ kotlin, you can make it an extensions function :).</p>\n"}, {"comments": [{"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1515888021, "post_id": 44991770, "comment_id": 83473680, "body": "One could also make it an extension property instead, inline the observer using a lambda, and use <code>await</code> return value to differentiate between null data and data not set within the time limit: <a href=\"https://gist.github.com/arekolek/e9e0d050cdd6ed16cd7dd9183eee62c0\" rel=\"nofollow noreferrer\">gist.github.com/arekolek/e9e0d050cdd6ed16cd7dd9183eee62c0</a>"}, {"owner": {"reputation": 105, "user_id": 1412805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37f3b699648f54cc4e8c6721d3749e69?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/1412805/rabbit"}, "edited": false, "score": 8, "creation_date": 1561151386, "post_id": 44991770, "comment_id": 99984141, "body": "I tried following this solution but I get the following error, &quot;IllegalStateException: Cannot invoke observeForever on a background thread&quot;"}, {"owner": {"reputation": 15276, "user_id": 3451975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/tj66m.jpg?s=128&g=1", "display_name": "Jeehut", "link": "https://stackoverflow.com/users/3451975/jeehut"}, "reply_to_user": {"reputation": 105, "user_id": 1412805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37f3b699648f54cc4e8c6721d3749e69?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/1412805/rabbit"}, "edited": false, "score": 5, "creation_date": 1575797817, "post_id": 44991770, "comment_id": 104680355, "body": "@Rabbit I had the same problem and solved it by adding <code>@Rule @JvmField public val rule = InstantTaskExecutorRule()</code> to my test class which requires the <code>androidTestImplementation &quot;android.arch.core:core-testing:1.1.1&quot;</code> dependency. It works now! \ud83c\udf89"}], "tags": [], "owner": {"reputation": 36742, "user_id": 413414, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/g59ew.jpg?s=128&g=1", "display_name": "Christopher Perry", "link": "https://stackoverflow.com/users/413414/christopher-perry"}, "is_accepted": false, "score": 34, "last_activity_date": 1535157751, "last_edit_date": 1535157751, "creation_date": 1499557986, "answer_id": 44991770, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/44991770#44991770", "title": "Unit testing Room and LiveData", "body": "<p>When you return a <code>LiveData</code> from a <code>Dao</code> in Room it makes the query <strong><em>asynchronously</em></strong>, and as @yigit said Room sets the <code>LiveData#value</code> lazily after you kick off the query by observing the <code>LiveData</code>. This pattern is <a href=\"https://en.wikipedia.org/wiki/Reactive_programming\" rel=\"noreferrer\">reactive</a>.</p>\n\n<p>For unit tests you want the behavior to be <strong><em>synchronous</em></strong>, so you must block the test thread and wait for the value to be passed to the observer, then grab it from there and then you can assert on it.</p>\n\n<p>Here's a Kotlin extension function for doing this:</p>\n\n<pre><code>private fun &lt;T&gt; LiveData&lt;T&gt;.blockingObserve(): T? {\n    var value: T? = null\n    val latch = CountDownLatch(1)\n\n    val observer = Observer&lt;T&gt; { t -&gt;\n        value = t\n        latch.countDown()\n    }\n\n    observeForever(observer)\n\n    latch.await(2, TimeUnit.SECONDS)\n    return value\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>val someValue = someDao.getSomeLiveData().blockingObserve()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1105, "user_id": 949359, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b808b440e61d0820213bb2c59a63276c?s=128&d=identicon&r=PG", "display_name": "Rasive", "link": "https://stackoverflow.com/users/949359/rasive"}, "edited": false, "score": 0, "creation_date": 1517775590, "post_id": 47229060, "comment_id": 84221840, "body": "But aren&#39;t you are testing both selectAll and insert at the same time, here?"}, {"owner": {"reputation": 3690, "user_id": 414581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3711d494f44ecdbeba8bb1f4bc71bb3c?s=128&d=identicon&r=PG", "display_name": "sunadorer", "link": "https://stackoverflow.com/users/414581/sunadorer"}, "reply_to_user": {"reputation": 1105, "user_id": 949359, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b808b440e61d0820213bb2c59a63276c?s=128&d=identicon&r=PG", "display_name": "Rasive", "link": "https://stackoverflow.com/users/949359/rasive"}, "edited": false, "score": 1, "creation_date": 1522710922, "post_id": 47229060, "comment_id": 86247053, "body": "@Rasive Its true, the test covers two methods of the DAO and it borders being an integration test. But overall still a comprehensive example how to set up testing room using Mockito."}, {"owner": {"reputation": 1806, "user_id": 4183017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-bKVg4W1bQ2k/AAAAAAAAAAI/AAAAAAAAABM/YZcjDub2zPE/photo.jpg?sz=128", "display_name": "Ioane Sharvadze", "link": "https://stackoverflow.com/users/4183017/ioane-sharvadze"}, "edited": false, "score": 3, "creation_date": 1525348458, "post_id": 47229060, "comment_id": 87326361, "body": "The trick is to use <code>InstantTaskExecutorRule</code> in order to force LiveData instant updates.  I was missing that, thanks!"}, {"owner": {"reputation": 345, "user_id": 3248051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f6ea4049d74fa97d9b84f8042ac1277c?s=128&d=identicon&r=PG", "display_name": "umni4ek", "link": "https://stackoverflow.com/users/3248051/umni4ek"}, "edited": false, "score": 0, "creation_date": 1552663726, "post_id": 47229060, "comment_id": 97109814, "body": "thats not work, I can&#39;t import mockito in android tests folder"}, {"owner": {"reputation": 345, "user_id": 3248051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f6ea4049d74fa97d9b84f8042ac1277c?s=128&d=identicon&r=PG", "display_name": "umni4ek", "link": "https://stackoverflow.com/users/3248051/umni4ek"}, "edited": false, "score": 1, "creation_date": 1552898562, "post_id": 47229060, "comment_id": 97169977, "body": "@HemantKaushik, my fault, I&#39;ve tried to run junit tests in androidTest folder"}], "tags": [], "owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "is_accepted": false, "score": 19, "last_activity_date": 1510338605, "creation_date": 1510338605, "answer_id": 47229060, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/47229060#47229060", "title": "Unit testing Room and LiveData", "body": "<p>I found Mockito is very helpful in such case. Here is an example:</p>\n\n<p><strong>1.Dependencies</strong></p>\n\n<pre><code>testImplementation \"org.mockito:mockito-core:2.11.0\"\nandroidTestImplementation \"org.mockito:mockito-android:2.11.0\"\n</code></pre>\n\n<p><strong>2.Database</strong></p>\n\n<pre><code>@Database(\n        version = 1,\n        exportSchema = false,\n        entities = {Todo.class}\n)\npublic abstract class AppDatabase extends RoomDatabase {\n    public abstract TodoDao todoDao();\n}\n</code></pre>\n\n<p><strong>3.Dao</strong></p>\n\n<pre><code>@Dao\npublic interface TodoDao {\n    @Insert(onConflict = REPLACE)\n    void insert(Todo todo);\n\n    @Query(\"SELECT * FROM todo\")\n    LiveData&lt;List&lt;Todo&gt;&gt; selectAll();\n}\n</code></pre>\n\n<p><strong>4.Test</strong>    </p>\n\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class TodoDaoTest {\n    @Rule\n    public TestRule rule = new InstantTaskExecutorRule();\n\n    private AppDatabase database;\n    private TodoDao dao;\n\n    @Mock\n    private Observer&lt;List&lt;Todo&gt;&gt; observer;\n\n    @Before\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n        Context context = InstrumentationRegistry.getTargetContext();\n        database = Room.inMemoryDatabaseBuilder(context, AppDatabase.class)\n                       .allowMainThreadQueries().build();\n        dao = database.todoDao();\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        database.close();\n    }\n\n    @Test\n    public void insert() throws Exception {\n        // given\n        Todo todo = new Todo(\"12345\", \"Mockito\", \"Time to learn something new\");\n        dao.selectAll().observeForever(observer);\n        // when\n        dao.insert(todo);\n        // then\n        verify(observer).onChanged(Collections.singletonList(todo));\n    }\n}\n</code></pre>\n\n<p>Hope this help!</p>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 9359468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v6YFA.png?s=128&g=1", "display_name": "kissed", "link": "https://stackoverflow.com/users/9359468/kissed"}, "is_accepted": false, "score": 13, "last_activity_date": 1525271713, "creation_date": 1525271713, "answer_id": 50137265, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/50137265#50137265", "title": "Unit testing Room and LiveData", "body": "<p>As @Hemant Kaushik said, in this case you <strong>SHOULD</strong> use <code>InstantTaskExecutorRule</code>. </p>\n\n<p>From developer.android.com:</p>\n\n<blockquote>\n  <p>A JUnit Test Rule that swaps the background executor used by the Architecture Components with a different one which executes each task synchronously.</p>\n</blockquote>\n\n<p>It really works!</p>\n"}, {"comments": [{"owner": {"reputation": 2211, "user_id": 3778645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41591a4eaf3fbc678242d4413c444321?s=128&d=identicon&r=PG&f=1", "display_name": "Altus", "link": "https://stackoverflow.com/users/3778645/altus"}, "edited": false, "score": 3, "creation_date": 1574616012, "post_id": 54098614, "comment_id": 104286203, "body": "For anyone looking for a more efficient/quick way of fixing this issue, look no further than this answer. Just import his package (don&#39;t forget to mark the implementation on which test folder you&#39;re using it on) and follow the above code.   Trust me, this solves a lot."}], "tags": [], "owner": {"reputation": 1231, "user_id": 3080924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93418b4ef3ddb027585f88a7bd5a7642?s=128&d=identicon&r=PG&f=1", "display_name": "Josef Ra\u0161ka", "link": "https://stackoverflow.com/users/3080924/josef-ra%c5%a1ka"}, "is_accepted": false, "score": 5, "last_activity_date": 1546976268, "creation_date": 1546976268, "answer_id": 54098614, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/54098614#54098614", "title": "Unit testing Room and LiveData", "body": "<p>Slightly different approach than other answers might be to use <a href=\"https://github.com/jraska/livedata-testing\" rel=\"noreferrer\">https://github.com/jraska/livedata-testing</a>.</p>\n\n<p>You avoid mocking and the test can use API similar to RxJava testing and also you can get advantage from Kotlin extension functions.</p>\n\n<p><strong>NotificationDaoTest.kt</strong></p>\n\n<pre><code>val liveData = notificationDao.getNotifications()\n\nliveData.test()\n    .awaitValue() // for the case where we need to wait for async data\n    .assertValue { it.size == NUMBER_OF_NOTIFICATIONS }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5922, "user_id": 8583692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joGZ9.png?s=128&g=1", "display_name": "Mahozad", "link": "https://stackoverflow.com/users/8583692/mahozad"}, "is_accepted": false, "score": 2, "last_activity_date": 1556662797, "creation_date": 1556662797, "answer_id": 55929372, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata/55929372#55929372", "title": "Unit testing Room and LiveData", "body": "<p>If you are using JUnit 5, since rules are not applicable to it, thanks to <a href=\"https://jeroenmols.com/blog/2019/01/17/livedatajunit5/\" rel=\"nofollow noreferrer\">this article</a> you can manually create the extension:</p>\n\n<pre><code>class InstantExecutorExtension : BeforeEachCallback, AfterEachCallback {\n\n    override fun beforeEach(context: ExtensionContext?) {\n        ArchTaskExecutor.getInstance().setDelegate(object : TaskExecutor() {\n            override fun executeOnDiskIO(runnable: Runnable) = runnable.run()\n\n            override fun postToMainThread(runnable: Runnable) = runnable.run()\n\n            override fun isMainThread(): Boolean = true\n        })\n    }\n\n    override fun afterEach(context: ExtensionContext?) {\n        ArchTaskExecutor.getInstance().setDelegate(null)\n    }\n}\n</code></pre>\n\n<p>and then in your test class use it like this:</p>\n\n<pre><code>@ExtendWith(InstantExecutorExtension::class /* , Other extensions */)\nclass ItemDaoTests {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19444, "favorite_count": 21, "accepted_answer_id": 44271247, "answer_count": 6, "score": 65, "last_activity_date": 1596279112, "creation_date": 1496173491, "last_edit_date": 1596279112, "question_id": 44270688, "link": "https://stackoverflow.com/questions/44270688/unit-testing-room-and-livedata", "title": "Unit testing Room and LiveData", "body": "<p>I'm currently developing an app using the newly <a href=\"https://developer.android.com/topic/libraries/architecture/index.html\" rel=\"noreferrer\">Android Architecture Components</a>. Specifically, I'm implementing a Room Database that returns a <code>LiveData</code> object on one of its queries. Insertion and querying work as expected, however I have an issue testing the query method using a unit test.</p>\n<p>Here is the DAO I'm trying to test:</p>\n<p><strong>NotificationDao.kt</strong></p>\n<pre><code>@Dao\ninterface NotificationDao {\n\n    @Insert\n    fun insertNotifications(vararg notifications: Notification): List&lt;Long&gt;\n\n    @Query(&quot;SELECT * FROM notifications&quot;)\n    fun getNotifications(): LiveData&lt;List&lt;Notification&gt;&gt;\n}\n</code></pre>\n<p>As you can tell, the query function returns a <code>LiveData</code> object, if I change this to be just a <code>List</code>, <code>Cursor</code>, or basically whatever then I get the expected result, which is the data inserted in the Database.</p>\n<p>The issue is that the following test will always fail because the <code>value</code> of the <code>LiveData</code> object is always <code>null</code>:</p>\n<p><strong>NotificationDaoTest.kt</strong></p>\n<pre><code>lateinit var db: SosafeDatabase\nlateinit var notificationDao: NotificationDao\n\n@Before\nfun setUp() {\n    val context = InstrumentationRegistry.getTargetContext()\n    db = Room.inMemoryDatabaseBuilder(context, SosafeDatabase::class.java).build()\n    notificationDao = db.notificationDao()\n}\n\n@After\n@Throws(IOException::class)\nfun tearDown() {\n    db.close()\n}\n\n@Test\nfun getNotifications_IfNotificationsInserted_ReturnsAListOfNotifications() {\n    val NUMBER_OF_NOTIFICATIONS = 5\n    val notifications = Array(NUMBER_OF_NOTIFICATIONS, { i -&gt; createTestNotification(i) })\n    notificationDao.insertNotifications(*notifications)\n\n    val liveData = notificationDao.getNotifications()\n    val queriedNotifications = liveData.value\n    if (queriedNotifications != null) {\n        assertEquals(queriedNotifications.size, NUMBER_OF_NOTIFICATIONS)\n    } else {\n        fail()\n    }\n}\n\nprivate fun createTestNotification(id: Int): Notification {\n    //method omitted for brevity \n}\n</code></pre>\n<p>So the question is: <em>Does anyone knows of a better way to perform unit tests that involve LiveData objects?</em></p>\n"}, {"tags": ["java", "maven", "dependencies", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1496252672, "post_id": 44270576, "comment_id": 75589413, "body": "Your assumption about <code>kotlin-stdlib</code> dependency is correct \u2014 that&#39;s how a transitive dependency should work. You can run <code>mvn dependency:tree</code> or <code>mvn dependency:list</code> to analyze which dependencies are pulled into the main project. Also you should check what classpath is used when running the application on tomcat."}, {"owner": {"reputation": 51, "user_id": 225303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610cb037f250cd80bee6efe270d2486f?s=128&d=identicon&r=PG", "display_name": "Mejari", "link": "https://stackoverflow.com/users/225303/mejari"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496268018, "post_id": 44270576, "comment_id": 75596932, "body": "Thanks for the information! Running the maven dependency check doesn&#39;t show any child dependencies off of the now-Kotlin project. If I switch the dependency on Main Project back to a non-Kotlin version of the project then <code>mvn dependency:tree</code> contains the correct child dependencies."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496289496, "post_id": 44270576, "comment_id": 75602225, "body": "Could you show in your question the block of pom where you add kotlin-stdlib dependency to the New-Kotlin project, and a dependency on New-Kotlin project in Main project?"}, {"owner": {"reputation": 51, "user_id": 225303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610cb037f250cd80bee6efe270d2486f?s=128&d=identicon&r=PG", "display_name": "Mejari", "link": "https://stackoverflow.com/users/225303/mejari"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496339767, "post_id": 44270576, "comment_id": 75633885, "body": "I&#39;ve updated the question."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496374189, "post_id": 44270576, "comment_id": 75645800, "body": "Could it be that you just declared dependencies of New Kotlin project in the <code>dependencyManagement</code> block, but did not actually apply them in the <code>dependencies</code> top-level block?"}, {"owner": {"reputation": 51, "user_id": 225303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610cb037f250cd80bee6efe270d2486f?s=128&d=identicon&r=PG", "display_name": "Mejari", "link": "https://stackoverflow.com/users/225303/mejari"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496420180, "post_id": 44270576, "comment_id": 75670440, "body": "Throwing the kotlin-stdlib dependency into <code>dependencyManagement</code> <i>and</i> the <code>dependencies</code> top-level block in the Now-Kotlin project and the Main Project results in the same behavior."}], "owner": {"reputation": 51, "user_id": 225303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/610cb037f250cd80bee6efe270d2486f?s=128&d=identicon&r=PG", "display_name": "Mejari", "link": "https://stackoverflow.com/users/225303/mejari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1453, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1496339743, "creation_date": 1496173051, "last_edit_date": 1496339743, "question_id": 44270576, "link": "https://stackoverflow.com/questions/44270576/maven-dependency-using-kotlin-not-bringing-in-kotlin-classes", "title": "Maven dependency using Kotlin not bringing in Kotlin classes", "body": "<p>I have two projects, one which is a dependency on the other. I've converted the dependency project over to Kotlin, but now when maven pulls the published dependency from my local maven repository the parent project is not taking in the Kotlin internal libraries that the dependency needs.</p>\n\nOutline:\n\n<pre><code>Main Project\n  \u21b3 Now-Kotlin Project\n          \u21b3 Kotlin Std-lib\n</code></pre>\n\n<p>This results in a <code>java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics</code> exception when running the main project.</p>\n\n<p>The now-Kotlin project has the <code>kotlin-maven-plugin</code> plugin and the <code>kotlin-stdlib</code> defined in it's pom.xml.</p>\n\n<p>The parent project has the now-Kotlin project listed as a dependency, and it is imported correctly, it's classes found and used, etc... in IntelliJ just fine.</p>\n\n<p>Compiling and startup of the main project's application on tomcat works correctly until the first invocation of code from the now-Kotlin project, which results in</p>\n\n<pre><code>org.apache.catalina.core.ApplicationContext log\nSEVERE: StandardWrapper.Throwable\njava.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n....\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n</code></pre>\n\n<p>My assumption is that the Kotlin libraries would follow normal dependency rules for Maven and that the <code>org.jetbrains.kotlin</code> packages from <code>kotlin-stdlib</code> would be included the same as any transitive dependency.</p>\n\n<p>What is the right way to get these dependencies included into the main project?</p>\n\n<h3>Update</h3>\n\n<p>Main Project <code>mvn dependency:tree</code> relevant portion:</p>\n\n<pre><code>[INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ example-core ---\n[INFO] com.example:example-core:jar:1.17.0-SNAPSHOT\n[INFO] +- com.example.service.search:search-client:jar:kotlin:2.0.3-SNAPSHOT:compile\n</code></pre>\n\n<p>Main Project POM</p>\n\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;com.example.service.search&lt;/groupId&gt;\n    &lt;artifactId&gt;search-client&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n\n<p>New Kotlin Project POM</p>\n\n<pre><code>...\n&lt;properties&gt;\n    &lt;kotlin.version&gt;1.1.2-2&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 1344923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb08e88f7cc04cd414dec059a8ca6c1?s=128&d=identicon&r=PG", "display_name": "s4p3r_c1n0s", "link": "https://stackoverflow.com/users/1344923/s4p3r-c1n0s"}, "edited": false, "score": 1, "creation_date": 1539688440, "post_id": 44268676, "comment_id": 92584291, "body": "but why do need to add this?"}], "tags": [], "owner": {"reputation": 6047, "user_id": 4624156, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lLHF6.png?s=128&g=1", "display_name": "Josh Laird", "link": "https://stackoverflow.com/users/4624156/josh-laird"}, "is_accepted": true, "score": 39, "last_activity_date": 1496166331, "creation_date": 1496166331, "answer_id": 44268676, "question_id": 44268052, "link": "https://stackoverflow.com/questions/44268052/type-inference-failed-recyclerviewactions-scrollto/44268676#44268676", "title": "Type inference failed: RecyclerViewActions.scrollTo()", "body": "<p>I needed to add <code>&lt;RecyclerView.ViewHolder&gt;</code> to <code>scrollTo</code></p>\n\n<pre><code>onView(withId(R.id.recyclerView)).perform(\n    RecyclerViewActions.scrollTo&lt;RecyclerView.ViewHolder&gt;(\n    hasDescendant(withText(artistResult.nameVariations[0]))))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1614, "user_id": 5680541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MoaId.png?s=128&g=1", "display_name": "Dilip Agheda", "link": "https://stackoverflow.com/users/5680541/dilip-agheda"}, "is_accepted": false, "score": 0, "last_activity_date": 1530489517, "creation_date": 1530489517, "answer_id": 51127834, "question_id": 44268052, "link": "https://stackoverflow.com/questions/44268052/type-inference-failed-recyclerviewactions-scrollto/51127834#51127834", "title": "Type inference failed: RecyclerViewActions.scrollTo()", "body": "<p>do this:\nonView(withId(R.id.recycler_view))\n                .perform(RecyclerViewActions.scrollToPosition(11))</p>\n"}, {"tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 1, "last_activity_date": 1556163186, "creation_date": 1556163186, "answer_id": 55841430, "question_id": 44268052, "link": "https://stackoverflow.com/questions/44268052/type-inference-failed-recyclerviewactions-scrollto/55841430#55841430", "title": "Type inference failed: RecyclerViewActions.scrollTo()", "body": "<p>One can get easily <strong>confused</strong> about <strong>which VH</strong> among many(specially if multiple VHs in a single RecyclerView) to <strong>use</strong>, you can simply use <strong>Generic ViewHolder</strong> i.e <code>RecyclerView.ViewHolder</code> like : </p>\n\n<pre><code>RecyclerViewActions.actionOnItem&lt;RecyclerView.ViewHolder&gt;\n\nRecyclerViewActions.actionOnHolderItem&lt;RecyclerView.ViewHolder&gt;\n\nRecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;\n</code></pre>\n\n<p>etc.</p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 6047, "user_id": 4624156, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lLHF6.png?s=128&g=1", "display_name": "Josh Laird", "link": "https://stackoverflow.com/users/4624156/josh-laird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3263, "favorite_count": 2, "accepted_answer_id": 44268676, "answer_count": 3, "score": 13, "last_activity_date": 1556163186, "creation_date": 1496163936, "question_id": 44268052, "link": "https://stackoverflow.com/questions/44268052/type-inference-failed-recyclerviewactions-scrollto", "title": "Type inference failed: RecyclerViewActions.scrollTo()", "body": "<p>From java:</p>\n\n<pre><code>onView(withId(R.id.recyclerView)).perform(RecyclerViewActions.scrollTo(\n    hasDescendant(withText(artistResult.getNameVariations().get(0)))));\n</code></pre>\n\n<p>Trying to convert to Kotlin:</p>\n\n<pre><code>onView(withId(R.id.recyclerView)).perform(RecyclerViewActions.scrollTo(\n    hasDescendant(withText(artistResult.nameVariations[0]))))\n</code></pre>\n\n<p>I get this stacktrace:</p>\n\n<pre><code>Error:(63, 71) Type inference failed: Not enough information to infer parameter VH in fun &lt;VH : RecyclerView.ViewHolder!&gt; scrollTo(itemViewMatcher: Matcher&lt;View!&gt;!): RecyclerViewActions.PositionableRecyclerViewAction!\nPlease specify it explicitly.\n</code></pre>\n\n<p>I'm not entirely sure where I can specify \"it\" explicitly. When this has come up previously it's because I didn't initialise the value correctly, but here I'm calling a method. Any ideas?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496190336, "post_id": 44267658, "comment_id": 75555319, "body": "are your later usage in kotlin? If it&#39;s in java then it&#39;s intended, as nhaarman has suggested below. If it&#39;s in kotlin then I think we got a bug here. I don&#39;t see why jetbrains would add such a functionality."}, {"owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496198499, "post_id": 44267658, "comment_id": 75557027, "body": "The latter one was also in Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1496163457, "creation_date": 1496163457, "answer_id": 44267926, "question_id": 44267658, "link": "https://stackoverflow.com/questions/44267658/is-it-expected-that-i-can-call-a-function-with-a-receiver-object-by-passing-the/44267926#44267926", "title": "Is it expected that I can call a function with a receiver object by passing the receiver object in as the first argument?", "body": "<p>Yes, extension functions are compiled as static functions with the receiver as the first parameter. So for example:</p>\n\n<pre><code> fun Int.sum(other: Int): Int = this + other\n</code></pre>\n\n<p>somewhat compiles to:</p>\n\n<pre><code> static int sum(int receiver, int other) {\n   return receiver + other;\n }\n</code></pre>\n"}], "owner": {"reputation": 548, "user_id": 1218919, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/245a9a6d7af44d3820591435f058fbd8?s=128&d=identicon&r=PG", "display_name": "darkgrin", "link": "https://stackoverflow.com/users/1218919/darkgrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496163457, "creation_date": 1496162374, "question_id": 44267658, "link": "https://stackoverflow.com/questions/44267658/is-it-expected-that-i-can-call-a-function-with-a-receiver-object-by-passing-the", "title": "Is it expected that I can call a function with a receiver object by passing the receiver object in as the first argument?", "body": "<p>Using the example in Kotlin's document on Function Literals with Receiver:</p>\n\n<pre><code>val sum = fun Int.(other: Int): Int = this + other\n</code></pre>\n\n<p>The sum function can be invoked like this as if it were a method of the receiver object:</p>\n\n<pre><code>1.sum(2)\n</code></pre>\n\n<p>However I noticed that we can also invoke the function like this:</p>\n\n<pre><code>sum(1, 2)\n</code></pre>\n\n<p>Of course both of them give the same results. My question is if the behavior is expected? Or did I miss something in the documentation? </p>\n"}, {"tags": ["android-edittext", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "edited": false, "score": 0, "creation_date": 1496162252, "post_id": 44267590, "comment_id": 75543262, "body": "I tried that but I get error unresolved reference text"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "edited": false, "score": 0, "creation_date": 1496162313, "post_id": 44267590, "comment_id": 75543298, "body": "Right, a type cast was also missing, I&#39;ve edited my answer."}, {"owner": {"reputation": 686, "user_id": 2780931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bda34ea88dfd734ebb794609e6ab1712?s=128&d=identicon&r=PG&f=1", "display_name": "Nirab Pudasaini", "link": "https://stackoverflow.com/users/2780931/nirab-pudasaini"}, "edited": false, "score": 3, "creation_date": 1513142865, "post_id": 44267590, "comment_id": 82533232, "body": "editTextHello.text should give you an editable object, using toString() will give you string."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 23, "last_activity_date": 1496162298, "last_edit_date": 1496162298, "creation_date": 1496162129, "answer_id": 44267590, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/44267590#44267590", "title": "editText get text kotlin", "body": "<p>You're missing a cast of the <code>View</code> you get from <code>findViewById</code> to <code>EditText</code>:</p>\n\n<pre><code>var editTextHello = findViewById(R.id.editTextHello) as EditText\n</code></pre>\n\n<p>Then, you want to display the <code>text</code> property of the <code>EditText</code> in your toast:</p>\n\n<pre><code>Toast.makeText(this, editTextHello.text, Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<hr>\n\n<p>For the record, this is just the more idiomatic Kotlin equivalent to calling <code>getText()</code> on your <code>EditText</code>, like you'd do it in Java:</p>\n\n<pre><code>Toast.makeText(this, editTextHello.getText(), Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 841, "user_id": 6038389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9550563e7c34984db77a214f1e794f?s=128&d=identicon&r=PG", "display_name": "wizmea", "link": "https://stackoverflow.com/users/6038389/wizmea"}, "is_accepted": false, "score": 1, "last_activity_date": 1526066733, "last_edit_date": 1526066733, "creation_date": 1496832966, "answer_id": 44410706, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/44410706#44410706", "title": "editText get text kotlin", "body": "<p>use  <code>editTextHello.text</code></p>\n\n<pre><code>  Toast.makeText(this, editTextHello.text, Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 2171051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7cff4b18456e3bb6d154971d03ab65?s=128&d=identicon&r=PG", "display_name": "Italo R. Wanderley", "link": "https://stackoverflow.com/users/2171051/italo-r-wanderley"}, "is_accepted": false, "score": 4, "last_activity_date": 1497466009, "creation_date": 1497466009, "answer_id": 44552449, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/44552449#44552449", "title": "editText get text kotlin", "body": "<p>The voted answer is correct but it is not the best one for the Kotlin's world. If you're really interested in entering into this world, I'd recommend you to use extensions. From Kotlin you have <code>kotlin-android-extensions</code> and with it you can do this:</p>\n\n<p><code>import kotlinx.android.synthetic.reference_to_your_view.editTextHello</code></p>\n\n<p>and this:</p>\n\n<p><code>Toast.makeText(this, editTextHello.text, Toast.LENGTH_SHORT).show()</code></p>\n\n<p>please, forget about the getText()... use just this, it is more clean.</p>\n\n<p>ps: read about extensions and you will see you can create your own extensions and do an even more clean usage of the Toast. Something like this:</p>\n\n<pre><code>fun Context.showToast(text: CharSequence, duration: Int = Toast.LENGTH_LONG) = Toast.makeText(this, text, duration).show()\n</code></pre>\n\n<p>and it being used like this through your classes:</p>\n\n<p><code>showToast(\"uhuuu\")</code></p>\n\n<p>but this is beyond the scope we're talking about here.</p>\n\n<p>from: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7761922, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W8_76cnfamU/AAAAAAAAAAI/AAAAAAAAEIs/lbwEO7z53QY/photo.jpg?sz=128", "display_name": "Haris Bhatti", "link": "https://stackoverflow.com/users/7761922/haris-bhatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1500679782, "last_edit_date": 1500679782, "creation_date": 1500637432, "answer_id": 45236819, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/45236819#45236819", "title": "editText get text kotlin", "body": "<pre><code>Toast.makeText(this, editTextHello.text.toString(), Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>If you make <code>edittext</code> as nullable then the line would be</p>\n\n<pre><code>Toast.makeText(this, editTextHello?.text.toString(), Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 354, "user_id": 5894292, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-xsgOXawxvM8/AAAAAAAAAAI/AAAAAAAAYfA/me86fQYwSPg/photo.jpg?sz=128", "display_name": "neo73", "link": "https://stackoverflow.com/users/5894292/neo73"}, "is_accepted": false, "score": 2, "last_activity_date": 1503931122, "creation_date": 1503931122, "answer_id": 45921583, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/45921583#45921583", "title": "editText get text kotlin", "body": "<p>Use this instead it's working fine  </p>\n\n<pre><code>val obj=findViewById&lt;EditText&gt;(R.id.editText)\nToast.makeText(this,obj.text, Toast.LENGTH_LONG).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 2971381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a224b0c6fcc4c021afb7a5e66adaf75?s=128&d=identicon&r=PG", "display_name": "R kanojia", "link": "https://stackoverflow.com/users/2971381/r-kanojia"}, "is_accepted": false, "score": 0, "last_activity_date": 1526061416, "last_edit_date": 1526061416, "creation_date": 1526060943, "answer_id": 50297681, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/50297681#50297681", "title": "editText get text kotlin", "body": "<p>In Kotlin calling <strong>.text</strong> on your EditText is fine no need to do <em>getText</em> or <em>toString</em> </p>\n\n<pre><code>Toast.makeText(this, editTextHello.text, Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>with button click </p>\n\n<pre><code>button?.setOnClickListener {\n        Toast.makeText(this,editText.text, Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n\n<p>Even don't need findViewById</p>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 4937761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T7F3A3xMnDA/AAAAAAAAAAI/AAAAAAAAAJs/UMWJuTzKKNY/photo.jpg?sz=128", "display_name": "CaballeroF", "link": "https://stackoverflow.com/users/4937761/caballerof"}, "is_accepted": false, "score": 0, "last_activity_date": 1529637748, "creation_date": 1529637748, "answer_id": 50980188, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/50980188#50980188", "title": "editText get text kotlin", "body": "<p>You're missing a cast of the View you get from findViewById to EditText.\nBut you need a \"if\" if the control exist then get the text:</p>\n\n<pre><code>val editText = findViewById(R.id.editText_main) as EditText\nif (editText != null) {\n   val showString = editText.text.toString()\n   Toast.makeText(this, showString, Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1125, "user_id": 5049244, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oudcJ.png?s=128&g=1", "display_name": "Arnold Brown", "link": "https://stackoverflow.com/users/5049244/arnold-brown"}, "edited": false, "score": 0, "creation_date": 1569578781, "post_id": 52636282, "comment_id": 102651584, "body": "without gettin ID how to get the value entered in Edittext?"}, {"owner": {"reputation": 3189, "user_id": 2212770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21c36bd45107c86ecad1341d47508667?s=128&d=identicon&r=PG", "display_name": "Wirling", "link": "https://stackoverflow.com/users/2212770/wirling"}, "reply_to_user": {"reputation": 1125, "user_id": 5049244, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oudcJ.png?s=128&g=1", "display_name": "Arnold Brown", "link": "https://stackoverflow.com/users/5049244/arnold-brown"}, "edited": false, "score": 2, "creation_date": 1579266551, "post_id": 52636282, "comment_id": 105718591, "body": "@ArnoldBrown you need to configure the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">Kotlin Android Extensions plugin</a> in order to use this."}], "tags": [], "owner": {"reputation": 663, "user_id": 3237533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1777deafeaa390dac5f58b8a3fe4ea6f?s=128&d=identicon&r=PG&f=1", "display_name": "Mehran", "link": "https://stackoverflow.com/users/3237533/mehran"}, "is_accepted": false, "score": 26, "last_activity_date": 1538646439, "last_edit_date": 1538646439, "creation_date": 1538603954, "answer_id": 52636282, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/52636282#52636282", "title": "editText get text kotlin", "body": "<p>This is Kotlin, not java. You do not need to get the id of it. In kotlin, just write:</p>\n\n<pre><code>var editTextHello = editTextHello.text.toString()\n</code></pre>\n\n<p>use the beauty of kotlin ;-)</p>\n\n<p>P.s: BTW, better to choose xml IDs like edx_hello and for the kotlin part, var editTextHello. Then you can differentiate between xml vars and kotlin vars. </p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 1316912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93593771df1510576ba33bbf34dab19d?s=128&d=identicon&r=PG&f=1", "display_name": "Satyam Anand", "link": "https://stackoverflow.com/users/1316912/satyam-anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1555050703, "creation_date": 1555050703, "answer_id": 55645745, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin/55645745#55645745", "title": "editText get text kotlin", "body": "<p>To maintain the standard syntax of Kotlin use </p>\n\n<p>var editText: EditText = findViewById(R.id.editTextHello)</p>\n"}], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62539, "favorite_count": 3, "accepted_answer_id": 44267590, "answer_count": 9, "score": 19, "last_activity_date": 1555050703, "creation_date": 1496162069, "last_edit_date": 1536643193, "question_id": 44267572, "link": "https://stackoverflow.com/questions/44267572/edittext-get-text-kotlin", "title": "editText get text kotlin", "body": "<p>How to get editText in kotlin and display with toast.</p>\n\n<pre><code>var editTextHello = findViewById(R.id.editTextHello)\n</code></pre>\n\n<p>I tried this but shows object</p>\n\n<pre><code>Toast.makeText(this,editTextHello.toString(),Toast.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": ["class", "inheritance", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4533, "user_id": 2802875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1c321643e74a25bffc547d1dbf2b25ad?s=128&d=identicon&r=PG", "display_name": "Anton Holovin", "link": "https://stackoverflow.com/users/2802875/anton-holovin"}, "is_accepted": true, "score": 20, "last_activity_date": 1496159698, "last_edit_date": 1496159698, "creation_date": 1496159356, "answer_id": 44266713, "question_id": 44266602, "link": "https://stackoverflow.com/questions/44266602/why-kotlin-modifier-open-is-incompatible-with-data/44266713#44266713", "title": "Why Kotlin modifier &#39;open&#39; is incompatible with &#39;data&#39;?", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/data-classes.html</a>:</p>\n\n<blockquote>\n  <p>To ensure consistency and meaningful behavior of the generated code, data classes have to fulfil the following requirements:</p>\n  \n  <ul>\n  <li>The primary constructor needs to have at least one parameter;</li>\n  <li>All primary constructor parameters need to be marked as val or var;</li>\n  <li>Data classes cannot be abstract, <strong>open</strong>, sealed or inner;</li>\n  <li>(before 1.1) Data classes may only implement interfaces.</li>\n  </ul>\n</blockquote>\n\n<p>So the main point is that data class has some generated code (<code>equals</code>, <code>hashCode</code>, <code>copy</code>, <code>toString</code>, <code>componentN</code> functions). And such code must not be broken by the programmer. As a result, data class has some restrictions. </p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 15, "last_activity_date": 1599898950, "last_edit_date": 1599898950, "creation_date": 1496159427, "answer_id": 44266735, "question_id": 44266602, "link": "https://stackoverflow.com/questions/44266602/why-kotlin-modifier-open-is-incompatible-with-data/44266735#44266735", "title": "Why Kotlin modifier &#39;open&#39; is incompatible with &#39;data&#39;?", "body": "<p>As the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"nofollow noreferrer\">documentation</a> states,</p>\n<blockquote>\n<ul>\n<li>Data classes cannot be abstract, open, sealed or inner;</li>\n</ul>\n</blockquote>\n<p>The reason why they cannot be inherited is that inheriting from a data class causes an ambiguity with how their generated methods (<code>equals</code>, <code>hashcode</code>, etc.) should work. See further discussion about this in an <a href=\"https://stackoverflow.com/a/26467380/4465208\">answer to another question</a>.</p>\n<p>Since <a href=\"https://kotlinlang.org/docs/reference/whatsnew11.html#sealed-and-data-classes\" rel=\"nofollow noreferrer\">Kotlin\u00a01.1</a>, the restrictions on data classes have been lifted slightly: They can now inherit from other classes, as described in detail in the related <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/data-class-inheritance.md\" rel=\"nofollow noreferrer\">proposal</a>. However, they still cannot be inherited from themselves.</p>\n<hr />\n<p>Note that data classes \u201conly\u201d provide the extra convenience of the automatic <code>equals</code>, <code>hashcode</code>, <code>toString</code>, <code>component</code>, and <code>copy</code> functions. If you don\u2019t need those, then a class like the following still has properties with getters/setters and a constructor in a very brief form, and has no limitations on how you can use it with inheritance:</p>\n<pre><code>class User(val name: String, var age: Int)\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3661896, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/43824b9f5483506e9c8e4b4e8a5a0fc3?s=128&d=identicon&r=PG", "display_name": "Arbaz Mateen", "link": "https://stackoverflow.com/users/3661896/arbaz-mateen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2002, "favorite_count": 0, "accepted_answer_id": 44266713, "answer_count": 2, "score": 12, "last_activity_date": 1599898950, "creation_date": 1496159052, "last_edit_date": 1555394791, "question_id": 44266602, "link": "https://stackoverflow.com/questions/44266602/why-kotlin-modifier-open-is-incompatible-with-data", "title": "Why Kotlin modifier &#39;open&#39; is incompatible with &#39;data&#39;?", "body": "<p>I have a class:</p>\n\n<pre><code>open data class Person(var name: String)\n</code></pre>\n\n<p>and another class:</p>\n\n<pre><code>data class Student(var reg: String) : Person(\"\")\n</code></pre>\n\n<p>this gives me an error that:</p>\n\n<blockquote>\n  <p>error: modifier 'open' is incompatible with 'data'</p>\n</blockquote>\n\n<p>if I remove data from <code>Person</code> class it's fine.</p>\n\n<p>why kotlin open and data incompatible?</p>\n"}, {"tags": ["eclipse", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1496234672, "post_id": 44266042, "comment_id": 75576971, "body": "You mentioned that you &quot;created &#39;main.kt&#39; file under src/java/main&quot; - I don&#39;t know if this is a typo, but it should go under &#39;src/main/java&#39;"}, {"owner": {"reputation": 625, "user_id": 4338130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6d3e0ab83a934b9a7fa02afe81a5902?s=128&d=identicon&r=PG&f=1", "display_name": "ClassyPimp", "link": "https://stackoverflow.com/users/4338130/classypimp"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1496246001, "post_id": 44266042, "comment_id": 75585436, "body": "yeah that was a typo, it is under <code>src&#47;main&#47;java</code>"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1496247267, "post_id": 44266042, "comment_id": 75586230, "body": "does running <code>.&#47;gradlew build</code> on the command line work?"}, {"owner": {"reputation": 623, "user_id": 966276, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8742a26abaedb6d4d7ef4fd2418496d?s=128&d=identicon&r=PG", "display_name": "Rusty Fieldstone", "link": "https://stackoverflow.com/users/966276/rusty-fieldstone"}, "edited": false, "score": 0, "creation_date": 1503849860, "post_id": 44266042, "comment_id": 78772088, "body": "Did you ever get this working? I have the same issue."}, {"owner": {"reputation": 625, "user_id": 4338130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6d3e0ab83a934b9a7fa02afe81a5902?s=128&d=identicon&r=PG&f=1", "display_name": "ClassyPimp", "link": "https://stackoverflow.com/users/4338130/classypimp"}, "edited": false, "score": 1, "creation_date": 1503899215, "post_id": 44266042, "comment_id": 78783353, "body": "I&#39;ve ditched eclipse and using idea for Kotlin."}, {"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1520018345, "post_id": 44266042, "comment_id": 85157692, "body": "This breaks for me repeatedly, in the exact same way."}], "answers": [{"comments": [{"owner": {"reputation": 722, "user_id": 2108965, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f9Dgy.jpg?s=128&g=1", "display_name": "drkstr101", "link": "https://stackoverflow.com/users/2108965/drkstr101"}, "edited": false, "score": 0, "creation_date": 1533585144, "post_id": 49821547, "comment_id": 90390823, "body": "This is the correct answer. Not sure why this is -1, except for maybe reactionary mods. Posted URL is just a fully working example, which ended up being very helpful... to me at least"}], "tags": [], "owner": {"reputation": 51, "user_id": 9642643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d755b73d90c5901f8d02b521a8fbe9f?s=128&d=identicon&r=PG&f=1", "display_name": "frnck", "link": "https://stackoverflow.com/users/9642643/frnck"}, "is_accepted": false, "score": 5, "last_activity_date": 1523650474, "last_edit_date": 1523650474, "creation_date": 1523637184, "answer_id": 49821547, "question_id": 44266042, "link": "https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse/49821547#49821547", "title": "Kotlin setup via gradle on eclipse", "body": "<p>Add the following to your configuration:</p>\n\n<pre><code>apply plugin: 'eclipse'\neclipse {\n    classpath {\n        containers 'org.jetbrains.kotlin.core.KOTLIN_CONTAINER'\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://gitlab.com/frnck/kotlin-gradle-eclipse\" rel=\"noreferrer\">https://gitlab.com/frnck/kotlin-gradle-eclipse</a> for a working configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 1240, "user_id": 1103863, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c6c77947776f396100744039bf98ff65?s=128&d=identicon&r=PG", "display_name": "sveri", "link": "https://stackoverflow.com/users/1103863/sveri"}, "is_accepted": false, "score": 2, "last_activity_date": 1544300557, "creation_date": 1544300557, "answer_id": 53686620, "question_id": 44266042, "link": "https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse/53686620#53686620", "title": "Kotlin setup via gradle on eclipse", "body": "<p>I'd like to add to <em>frnck</em> answer that this is only part of the solution. I also had to add these lines:</p>\n\n<pre><code>eclipse.project {\n    buildCommand 'org.jetbrains.kotlin.ui.kotlinBuilder'\n    natures 'org.jetbrains.kotlin.core.kotlinNature'\n    natures 'org.eclipse.jdt.core.javanature'\n    linkedResource name: 'kotlin_bin', type: '2', locationUri: 'org.jetbrains.kotlin.core.filesystem:/aio/kotlin_bin'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 969932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cc187075b514ffdbcc6b006b69714c?s=128&d=identicon&r=PG", "display_name": "Felipe Nascimento", "link": "https://stackoverflow.com/users/969932/felipe-nascimento"}, "is_accepted": false, "score": 1, "last_activity_date": 1550947272, "creation_date": 1550947272, "answer_id": 54844866, "question_id": 44266042, "link": "https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse/54844866#54844866", "title": "Kotlin setup via gradle on eclipse", "body": "<p>For Eclipse 2018-12 and kotlin 1.3 the solution was a combination of other answers plus some additional settings file:</p>\n\n<pre><code>eclipse {\n    classpath {\n        //Adds the kotlin container to the classpath\n        containers 'org.jetbrains.kotlin.core.KOTLIN_CONTAINER'\n        //Fixes the right output path\n        defaultOutputDir = file('bin')\n        //Make all src folders output in the same output folder (default)\n        file {\n            whenMerged { \n                // use default Output for all source-folders. see also defaultOutputDir per project\n                entries.each { source -&gt;\n                    // only Source-folders in the project starting with '/' are project-references\n                    if (source.kind == 'src' &amp;&amp; !source.path.startsWith('/')) { \n                        source.output = null\n                    }\n                }\n            }\n        }\n    }\n\n\n    project{\n        buildCommand 'org.jetbrains.kotlin.ui.kotlinBuilder'\n        //Fixes the natures\n        natures 'org.jetbrains.kotlin.core.kotlinNature'\n        natures 'org.eclipse.jdt.core.javanature'\n        //Links the kotlin_bin folder (generated class files)\n        linkedResource name: 'kotlin_bin', type: '2', locationUri: \"org.jetbrains.kotlin.core.filesystem:/${project.name}/kotlin_bin\".toString()\n        file{\n            whenMerged{\n\n                def kotlinPrefs = file('.settings/org.jetbrains.kotlin.core.prefs')\n                def jdkHome = System.properties.'java.home'\n                if(!(jdkHome)){\n                    throw new GradleException('No JDK home available for setting up Eclipse Kotlin plugin, setup env \"java.home\" or update this script.')\n                }\n                kotlinPrefs.write \"\"\"\\\n                    codeStyle/codeStyleId=KOTLIN_OFFICIAL\n                    codeStyle/globalsOverridden=true\n                    compilerPlugins/jpa/active=true\n                    compilerPlugins/no-arg/active=true\n                    compilerPlugins/spring/active=true\n                    eclipse.preferences.version=1\n                    globalsOverridden=true\n                    jdkHome=$jdkHome\n                \"\"\".stripIndent()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1559135026, "post_id": 56344867, "comment_id": 99325902, "body": "Also: for windows replace the line jdkHome=$jdkHome by jdkHome=${jdkHome.replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;) } to allow the backslashes to be correctly present."}, {"owner": {"reputation": 297, "user_id": 4875473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd1a6fe80e92e400e7c2877ff6349a1?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Niesen", "link": "https://stackoverflow.com/users/4875473/nathan-niesen"}, "edited": false, "score": 0, "creation_date": 1603330643, "post_id": 56344867, "comment_id": 114005803, "body": "<i>Michiel Leegwater</i> I only use <code>&#47;</code> for Windows unless backslash is absolutely needed. By and large, <code>&#47;</code> works just fine in Windows except for a few things like UNC paths and completion in a console."}], "tags": [], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "is_accepted": false, "score": 0, "last_activity_date": 1559055019, "creation_date": 1559055019, "answer_id": 56344867, "question_id": 44266042, "link": "https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse/56344867#56344867", "title": "Kotlin setup via gradle on eclipse", "body": "<p>I would like to add to <em>Felipe Nascimento</em>'s answer that the location of the .settings folder does not yet exist. It works when the line below is inserted into that answer.</p>\n\n<pre><code>def kotlinPrefs = file(\"../${project.name}/.settings/org.jetbrains.kotlin.core.prefs\".toString())\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 4338130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6d3e0ab83a934b9a7fa02afe81a5902?s=128&d=identicon&r=PG&f=1", "display_name": "ClassyPimp", "link": "https://stackoverflow.com/users/4338130/classypimp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3442, "favorite_count": 1, "answer_count": 4, "score": 4, "last_activity_date": 1564590541, "creation_date": 1496157423, "last_edit_date": 1496291064, "question_id": 44266042, "link": "https://stackoverflow.com/questions/44266042/kotlin-setup-via-gradle-on-eclipse", "title": "Kotlin setup via gradle on eclipse", "body": "<p>Struggling to get Kotlin running on eclipse.</p>\n\n<p>I've started new graddle project. Added dependencies as prescribed on kotlin's site.</p>\n\n<p>Build passes without errors.</p>\n\n<p>I've created 'main.kt' file under src/java/main with:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"foo\")\n}\n</code></pre>\n\n<p>BUT, I have two problems:\n1. anything from kotlin e.g. <code>println</code> highlighted as 'unresolved reference'.\n2. I can't run a program - <code>Error: Could not find or load main class MainKt</code> (rightclick on main.kr run as 'kotlin application')</p>\n\n<p>If I create 'new kotlin project' everything works.</p>\n\n<p>my graddle build script:</p>\n\n<pre><code>plugins {\n    id \"org.jetbrains.kotlin.jvm\" version \"1.1.2-2\"\n}\n\nrepositories {\n\n    jcenter()\n\n    mavenCentral()\n}\n\n\ndependencies {\n\n    //api 'org.apache.commons:commons-math3:3.6.1'\n\n\n    implementation 'com.google.guava:guava:21.0'\n\n\n    testImplementation 'junit:junit:4.12'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.2-2\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8\"\n\n    compile \"org.jetbrains.kotlin:kotlin-reflect\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit\"\n\n}\n\nsourceSets {\n    main.java.srcDirs = ['src/main/java']\n    main.kotlin.srcDirs = ['src/main/java', 'src/main/kotlin']\n    main.resources.srcDirs = ['src/main/resources']\n}\n</code></pre>\n\n<p>What did I do wrong?</p>\n\n<p>I've zero Java knowledge if that helps, so probably I've made some trivial error.</p>\n\n<p>UPDATE:</p>\n\n<p>Installed a Spring plugin and generated a new web app via it including gradle.\nBut Kotlin behaves unpredictably there too.</p>\n\n<p>At first I was not able to run it as <code>run as Kotlin application</code> and it errored with <code>main</code> could not be found, BUT sometimes it run and crashed immediately. It started to launch and crash after I've deleted and edited classes, tried creating it under other package, removing and adding Kotlin (I can't reproduce sequence to make it work again). </p>\n\n<p>Fun part that gradle boot build launches everything and all works it somehow finds Kotlin's main. </p>\n\n<p>Probably some issue with Kotlin plugin itself (it's load probably depends on certain <code>events</code> that doesn't always fire)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 769, "user_id": 4392644, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5Hgdj.png?s=128&g=1", "display_name": "meatspace", "link": "https://stackoverflow.com/users/4392644/meatspace"}, "edited": false, "score": 1, "creation_date": 1496157538, "post_id": 44266010, "comment_id": 75540310, "body": "There&#39;s a version mismatch between the JDK you&#39;re using and the version used to compile the jar. Make sure JAVA_HOME equals what you think it should."}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 1, "creation_date": 1496157538, "post_id": 44266010, "comment_id": 75540311, "body": "What&#39;s the JDK version you are using to run it?"}, {"owner": {"reputation": 113, "user_id": 6050592, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/39ddd02374d1687804a2dbd1be5f1656?s=128&d=identicon&r=PG", "display_name": "Sriram", "link": "https://stackoverflow.com/users/6050592/sriram"}, "reply_to_user": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1496158157, "post_id": 44266010, "comment_id": 75540734, "body": "@\u0250u\u0131\u0265\u0254\u0250\u026f It&#39;s Open JDK 1.7.0_101"}, {"owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "edited": false, "score": 1, "creation_date": 1496158527, "post_id": 44266010, "comment_id": 75540986, "body": "You should use JDK 1.8"}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1496158839, "post_id": 44266010, "comment_id": 75541196, "body": "Yeah, that&#39;s what I thought. <code>Unsupported major.minor version 52.0</code> states that you should be using version <code>1.8.x</code>...just upgrade and the error should vanish. The <code>-jvm-target 1.8</code> switch might be also helpful..."}, {"owner": {"reputation": 113, "user_id": 6050592, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/39ddd02374d1687804a2dbd1be5f1656?s=128&d=identicon&r=PG", "display_name": "Sriram", "link": "https://stackoverflow.com/users/6050592/sriram"}, "edited": false, "score": 0, "creation_date": 1496239117, "post_id": 44266010, "comment_id": 75580360, "body": "Thanks all. It worked"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 6050592, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/39ddd02374d1687804a2dbd1be5f1656?s=128&d=identicon&r=PG", "display_name": "Sriram", "link": "https://stackoverflow.com/users/6050592/sriram"}, "edited": false, "score": 0, "creation_date": 1496239143, "post_id": 44270591, "comment_id": 75580377, "body": "Thanks for your info :-)"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1496173107, "creation_date": 1496173107, "answer_id": 44270591, "question_id": 44266010, "link": "https://stackoverflow.com/questions/44266010/unable-to-run-kotlin-program-in-terminal/44270591#44270591", "title": "Unable to run Kotlin program in terminal", "body": "<p>The Kotlin compiler requires Java 8 to run the compilation process.  You can still target Java 6 bytecode or Java 8 bytecode as you wish, but you must use a Java 8 or newer JDK during compilation.  This was announced in the <a href=\"https://blog.jetbrains.com/kotlin/2017/04/kotlin-1-1-2-is-out/\" rel=\"nofollow noreferrer\">Kotlin 1.1.2 release announcement</a>.</p>\n\n<p>Under \"Migration Notes\":</p>\n\n<blockquote>\n  <p>The Kotlin compiler now requires JDK 8 to run. You shouldn\u2019t notice any changes, because most other Java development tools such as Gradle and the Android toolchain also require JDK 8, so you almost certainly already have it installed. For code generated by the compiler, Java 1.6 compatibility is still the default, and we have no plans to drop support for generating Java 1.6 compatible bytecode.</p>\n</blockquote>\n"}], "owner": {"reputation": 113, "user_id": 6050592, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/39ddd02374d1687804a2dbd1be5f1656?s=128&d=identicon&r=PG", "display_name": "Sriram", "link": "https://stackoverflow.com/users/6050592/sriram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496173204, "creation_date": 1496157354, "last_edit_date": 1496173204, "question_id": 44266010, "link": "https://stackoverflow.com/questions/44266010/unable-to-run-kotlin-program-in-terminal", "title": "Unable to run Kotlin program in terminal", "body": "<p>I tried a simple Hello World Program in Kotlin.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nprintln(\"HelloWorld!\")\n}\n</code></pre>\n\n<p>But when I tried to compile it in terminal,</p>\n\n<pre><code>kotlinc HelloWorld.kt -include-runtime -d HelloWorld.jar\n</code></pre>\n\n<p>I get the following.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/preloading/Preloader : Unsupported major.minor version 52.0\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:803)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "crashlytics"], "comments": [{"owner": {"reputation": 15867, "user_id": 3975963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hicuX.png?s=128&g=1", "display_name": "Mike Bonnell", "link": "https://stackoverflow.com/users/3975963/mike-bonnell"}, "edited": false, "score": 4, "creation_date": 1496150874, "post_id": 44262965, "comment_id": 75535248, "body": "Mike from Fabric here. Our command line tools are not compatible with the Alpha version of Gradle 3. We&#39;re looking into the changes that have come with the alpha versions, but we test against betas and stable versions of the releases."}, {"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "reply_to_user": {"reputation": 15867, "user_id": 3975963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hicuX.png?s=128&g=1", "display_name": "Mike Bonnell", "link": "https://stackoverflow.com/users/3975963/mike-bonnell"}, "edited": false, "score": 1, "creation_date": 1496151104, "post_id": 44262965, "comment_id": 75535422, "body": "Ok, thank you for your answer. Then I know, I don&#39;t need to dig deeper. :)"}, {"owner": {"reputation": 7032, "user_id": 456568, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zJMQF.png?s=128&g=1", "display_name": "Aphex", "link": "https://stackoverflow.com/users/456568/aphex"}, "edited": false, "score": 1, "creation_date": 1496294979, "post_id": 44262965, "comment_id": 75603724, "body": "Getting the same issue here; we moved to gradle 3 alpha in order to take advantage of the vast improvements in Android Studio 3.0. I&#39;m encouraged to see they&#39;re fixing this, and meanwhile that we can manually upload builds to Fabric."}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1496343561, "post_id": 44262965, "comment_id": 75635844, "body": "I will be super excited when this is working again! &lt;3"}], "answers": [{"comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1496499728, "post_id": 44263825, "comment_id": 75692623, "body": "Getting this with alpha3 - Error:Execution failed for task &#39;:Eruditus:crashlyticsUploadDistributionDevDebug&#39;. &gt; getMainOutputFile is no longer supported.  Use getOutputFileName if you need to determine the file name of the output."}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1496692805, "post_id": 44263825, "comment_id": 75754444, "body": "Where do we log issues for Crashlytics?"}], "tags": [], "owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "is_accepted": true, "score": 5, "last_activity_date": 1503661967, "last_edit_date": 1503661967, "creation_date": 1496151368, "answer_id": 44263825, "question_id": 44262965, "link": "https://stackoverflow.com/questions/44262965/cant-upload-android-kotlin-project-to-fabric-beta-with-gradle/44263825#44263825", "title": "Can&#39;t upload Android Kotlin Project to Fabric Beta with gradle", "body": "<p>I just want to point to the comment from Mike Bonnell as it answers this question:</p>\n\n<blockquote>\n  <p>Our command line tools are not compatible with the Alpha version of Gradle 3. We're looking into the changes that have come with the alpha versions, but we test against betas and stable versions of the releases.</p>\n</blockquote>\n\n<p><strong>Edit 2017/08/25</strong>\nTried with Android Studio 3.0 Beta 3 and the corresponding android gradle plugin. The gradle task <code>crashlyticsUploadDistributionDebug</code> seems to work again.</p>\n"}], "owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1466, "favorite_count": 1, "accepted_answer_id": 44263825, "answer_count": 1, "score": 3, "last_activity_date": 1503661967, "creation_date": 1496149132, "last_edit_date": 1496149603, "question_id": 44262965, "link": "https://stackoverflow.com/questions/44262965/cant-upload-android-kotlin-project-to-fabric-beta-with-gradle", "title": "Can&#39;t upload Android Kotlin Project to Fabric Beta with gradle", "body": "<p>I created a project with Android Studio Preview 3.0 (Canary 2) to start Kotlin development. I used the Android Studio Fabric Plugin to setup Fabric for my project. </p>\n\n<p>But when I want to upload a beta version of my app to Fabric Beta (Crashlytics) with the following command</p>\n\n<pre><code>./gradlew crashlyticsUploadDistributionDebug\n</code></pre>\n\n<p>I receive the following error:</p>\n\n<blockquote>\n  <p>Configuration 'compile' in project ':app' is deprecated. Use\n  'implementation' instead. Configuration 'testCompile' in project\n  ':app' is deprecated. Use 'testImplementation' instead. The\n  Task.leftShift(Closure) method has been deprecated and is scheduled to\n  be removed in Gradle 5.0. Please use Task.doLast(Action) instead.\n  registerResGeneratingTask is deprecated, use\n  registerGeneratedFolders(FileCollection) registerResGeneratingTask is\n  deprecated, use registerGeneratedFolders(FileCollection)\n  :app:crashlyticsUploadDistributionDebug FAILED</p>\n  \n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li><p>What went wrong: Execution failed for task ':app:crashlyticsUploadDistributionDebug'.</p>\n  \n  <blockquote>\n    <p>Not valid.</p>\n  </blockquote></li>\n  <li><p>Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</p></li>\n  </ul>\n  \n  <p>BUILD FAILED in 1s 1 actionable task: 1 executed, 0 avoided (0%)</p>\n</blockquote>\n\n<p>I do not have any idea, what \"Not valid\" means. </p>\n\n<p>This is my root <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n\n    ext.kotlin_version = '1.1.2-4'\n\n    repositories {\n        maven { url 'https://maven.google.com' }\n        maven { url 'https://maven.fabric.io/public' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'org.ajoberstar:grgit:1.9.0'\n        classpath 'io.fabric.tools:gradle:1.22.1'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\next {\n    supportLibVersion = \"25.3.1\"\n    buildVersion = \"25.0.3\"\n    daggerVersion = \"2.9\"\n    rxJavaVersion = \"2.1.0\"\n    rxAndroidVersion = \"2.0.1\"\n\n    countGitCommits = { -&gt;\n        git = Grgit.open()\n        def commitCount = git.log(includes: ['HEAD']).size()\n        println(\"INFO: Number of commits $commitCount\")\n        return commitCount\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        maven { url 'https://maven.fabric.io/public' }\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And this is the app <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"$buildVersion\"\n    defaultConfig {\n        applicationId \"com.kotlin.sample\"\n        minSdkVersion 21\n        targetSdkVersion 25\n        def numberOfCommits = countGitCommits()\n        versionCode 1000 + numberOfCommits\n        versionName \"0.1.$numberOfCommits\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'   \n        }\n    }\n\n}\n\ndependencies {\n    compile files('libs/API_ADK.jar')\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"com.android.support:appcompat-v7:$supportLibVersion\"\n    compile \"com.android.support:support-v4:$supportLibVersion\"\n    compile \"com.android.support:design:$supportLibVersion\"\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'io.reactivex.rxjava2:rxkotlin:2.0.3'\n    compile \"io.reactivex.rxjava2:rxandroid:$rxAndroidVersion\"\n    compile \"io.reactivex.rxjava2:rxjava:$rxJavaVersion\"\n    compile 'com.jakewharton.timber:timber:4.5.1'\n    compile \"com.google.dagger:dagger:$daggerVersion\"\n    // Needed for @Generated annotation (missing in Java &lt;= 1.6; therefore, Android)\n    compile 'javax.annotation:jsr250-api:1.0'\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n        transitive = true;\n    }\n    kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n    testCompile 'junit:junit:4.12'\n\n}\n</code></pre>\n\n<p>The <code>fabric.properties</code> file with the apiSecret is also placed in the project. </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>A manual upload of the APK to Fabric Beta works. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1537345309, "post_id": 44261227, "comment_id": 91746448, "body": "Unrelated: in the edit queue, I came across a question that you voted on in triage. You made the wrong choice there. Please: study the help for triage really carefully, and avoid putting items into the edit queue that don&#39;t belong there. Please understand that your votes have consequences! I am specifically talking about <a href=\"https://stackoverflow.com/review/triage/20898974\">stackoverflow.com/review/triage/20898974</a>. This is (almost) zero effort homework dump. Only the OP can edit it to improve it, nobody else! Feel free to drop me a comment in case you have further questions or feedback for me."}], "answers": [{"tags": [], "owner": {"reputation": 2656, "user_id": 3425390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7527183e966f627446842a2faef085a6?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Patel", "link": "https://stackoverflow.com/users/3425390/akash-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1496144729, "last_edit_date": 1496144729, "creation_date": 1496144399, "answer_id": 44261267, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/44261267#44261267", "title": "Android - Declare and use views in Kotlin", "body": "<p>Initialize like below</p>\n\n<pre><code>internal var linlay_SuccessfulPayment : LinearLayout ?= null\ninternal var linlay_failPayment : LinearLayout ?= null\n</code></pre>\n\n<p>and use it like below</p>\n\n<pre><code>linlay_SuccessfulPayment = findViewById&lt;LinearLayout&gt;(R.id.linlay_SuccessfulPayment)\nlinlay_failPayment = findViewById&lt;LinearLayout&gt;(R.id.linlay_failPayment)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 1573738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pfv8X.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/1573738/nitesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1496144726, "creation_date": 1496144726, "answer_id": 44261369, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/44261369#44261369", "title": "Android - Declare and use views in Kotlin", "body": "<p>You can use like below:-</p>\n\n<pre><code> var linlay_SuccessfulPayment : LinearLayout? = null\n var linlay_failPayment : LinearLayout? = null\n\n\nlinlay_SuccessfulPayment = findViewById(R.id.linlay_SuccessfulPayment) as LinearLayout\nlinlay_failPayment = findViewById(R.id.linlay_failPayment) as LinearLayout\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 8, "last_activity_date": 1496151633, "last_edit_date": 1496151633, "creation_date": 1496145628, "answer_id": 44261700, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/44261700#44261700", "title": "Android - Declare and use views in Kotlin", "body": "<p>Your problem is with nullability and this would be a good place to use the <code>lateinit</code> keyword <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\">(documentation)</a>:  </p>\n\n<pre><code>private lateinit var linlay_SuccessfulPayment: LinearLayout\nprivate lateinit var linlay_failPayment: LinearLayout\n</code></pre>\n\n<p>This way you define a non-nullable var but delay the initialisation, which you can do in onCreate().<br>\nYou do have to initialise it before accessing it or you will get a <code>PropertyNotInitialisedException</code>.</p>\n\n<p>A second option is lazy initialisation using <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"noreferrer\">property delegation</a>:  </p>\n\n<pre><code>private var linlay_SuccessfulPayment: LinearLayout by Delegates.lazy { findViewById(R.id.linlay_SuccessfulPayment) as LinearLayout }\n</code></pre>\n\n<p>This way the view is initialised only the first time it is used and you have everything in one place.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1496145874, "creation_date": 1496145874, "answer_id": 44261788, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/44261788#44261788", "title": "Android - Declare and use views in Kotlin", "body": "<p>Using the <code>!!</code> operator checks if the value it's applied to is <code>null</code>, and if it is, it throws a <code>KotlinNullPointerException</code>; otherwise it returns the value with a non-nullable type. Writing down <code>null!!</code> is basically shorthand for <code>throw KotlinNullPointerException(...)</code>.</p>\n\n<p>For Android Views (and other cases where an object is initialized in a special init method instead of the constructor), you should use the <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\"><code>lateinit</code></a> keyword:</p>\n\n<pre><code>internal lateinit var linlay_SuccessfulPayment: LinearLayout\ninternal lateinit var linlay_failPayment: LinearLayout\n</code></pre>\n\n<p>This lets you have non-nullable properties in your <code>Activity</code> that you don't initialize when the constructor is called, but only later, in the <code>onCreate</code> method. You do however, in this case, take responsibility for initializing the variables before using them the first time, otherwise you'll get an exception at runtime.</p>\n"}, {"comments": [{"owner": {"reputation": 1039, "user_id": 2390730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aff331b0294a367321a59ea144caa3f0?s=128&d=identicon&r=PG", "display_name": "msamardzic", "link": "https://stackoverflow.com/users/2390730/msamardzic"}, "edited": false, "score": 0, "creation_date": 1544802874, "post_id": 46731927, "comment_id": 94417422, "body": "i&#39;m stupid foolish, with kotlin you don&#39;t need to bind views :-)"}], "tags": [], "owner": {"reputation": 1039, "user_id": 2390730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aff331b0294a367321a59ea144caa3f0?s=128&d=identicon&r=PG", "display_name": "msamardzic", "link": "https://stackoverflow.com/users/2390730/msamardzic"}, "is_accepted": false, "score": 1, "last_activity_date": 1507904001, "creation_date": 1507904001, "answer_id": 46731927, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/46731927#46731927", "title": "Android - Declare and use views in Kotlin", "body": "<p>I'm just starting with Kotlin and trying to learn it.\nI bind views like this:</p>\n\n<pre><code>var myBtn: Button = findViewById&lt;Button&gt;(R.id.btnMyButton) as Button\n</code></pre>\n\n<p>or </p>\n\n<pre><code>var btnLogin: Button = findViewById&lt;Button&gt;(R.id.btnLogin)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 7231559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzfC8.jpg?s=128&g=1", "display_name": "raed", "link": "https://stackoverflow.com/users/7231559/raed"}, "is_accepted": false, "score": 0, "last_activity_date": 1560163502, "creation_date": 1560163502, "answer_id": 56524878, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/56524878#56524878", "title": "Android - Declare and use views in Kotlin", "body": "<p>You can use <code>apply plugin: 'kotlin-android-extensions'</code> in your app level build.gradle for binding view without using the <code>findViewById()</code> boilerplate code.<br>\ne.g <code>linlay_failPayment.setParams() // any thing you want with only view_id</code><br>\nFor more information check this <a href=\"https://codelabs.developers.google.com/codelabs/taking-advantage-of-kotlin/index.html?index=..%2F..index#3\" rel=\"nofollow noreferrer\">kotlin-view-binding</a></p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 7974316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5852e8f2c53f6d23395a29179125218?s=128&d=identicon&r=PG&f=1", "display_name": "Marium Jawed", "link": "https://stackoverflow.com/users/7974316/marium-jawed"}, "is_accepted": false, "score": 1, "last_activity_date": 1577104543, "creation_date": 1577104543, "answer_id": 59455493, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin/59455493#59455493", "title": "Android - Declare and use views in Kotlin", "body": "<p>Just add kotlin extension in gradle.build and you don't need to initialize param:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 2539243, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/EVwn8.jpg?s=128&g=1", "display_name": "Apurva Kolapkar", "link": "https://stackoverflow.com/users/2539243/apurva-kolapkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8858, "favorite_count": 2, "answer_count": 7, "score": 5, "last_activity_date": 1577104543, "creation_date": 1496144270, "last_edit_date": 1496144537, "question_id": 44261227, "link": "https://stackoverflow.com/questions/44261227/android-declare-and-use-views-in-kotlin", "title": "Android - Declare and use views in Kotlin", "body": "<p>I am trying to use kotlin for android and trying to declare Linearlayout like this: </p>\n\n<pre><code>internal var linlay_SuccessfulPayment : LinearLayout = null!!\ninternal var linlay_failPayment : LinearLayout\n\nlinlay_SuccessfulPayment = findViewById(R.id.linlay_SuccessfulPayment) as LinearLayout\nlinlay_failPayment = findViewById(R.id.linlay_failPayment) as LinearLayout\n</code></pre>\n\n<p>But in log I am getting this : </p>\n\n<pre><code>Caused by: kotlin.KotlinNullPointerException\n                                                                         at com.example.activities.PaymentResult.&lt;init&gt;(Result.kt:14)\n                                                                         at java.lang.Class.newInstance(Native Method)\n                                                                         at android.app.Instrumentation.newActivity(Instrumentation.java:1096)\n                                                                         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3122)\n                                                                         at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3415)\u00a0\n                                                                         at android.app.ActivityThread.access$1100(ActivityThread.java:229)\u00a0\n                                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1821)\u00a0\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                         at android.os.Looper.loop(Looper.java:148)\u00a0\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:7329)\u00a0\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0\n</code></pre>\n\n<p>Please help me out.</p>\n"}, {"tags": ["concatenation", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1496157005, "post_id": 44260651, "comment_id": 75539956, "body": "I&#39;d recommend the String template way. When using Kotlin the sooner you get used to its <a href=\"https://kotlinlang.org/docs/reference/idioms.html#string-interpolation\" rel=\"nofollow noreferrer\">idioms</a> the better"}, {"owner": {"reputation": 302, "user_id": 2273681, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6e06e21639d442a407ee72542bc42970?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2273681/alex"}, "edited": false, "score": 0, "creation_date": 1506588079, "post_id": 44260651, "comment_id": 79884151, "body": "And if you don&#39;t want to put any space between number and the next string then you can do this: println(&quot;$number&quot;+&quot;--&gt;is more than 5&quot;)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1496142709, "creation_date": 1496142709, "answer_id": 44260651, "question_id": 44260597, "link": "https://stackoverflow.com/questions/44260597/number-is-more-than-5-not-running-concatenation-error/44260651#44260651", "title": "(number + &quot;Is more than 5&quot;) Not running &quot;Concatenation error&quot;", "body": "<p>You can't concatenate a <code>String</code> to an <code>Int</code> that way, if an <code>Int</code> is on the left side of the <code>+</code> operator, another number is expected to be on the right hand side (to be more precise, one of <code>Byte</code>, <code>Short</code>, <code>Int</code>, <code>Long</code>, <code>Float</code>, or <code>Double</code>).</p>\n\n<p>It would work the other way around, because <code>String</code> does actually have a <code>+</code> method that takes an <code>Int</code> as its parameter:</p>\n\n<pre><code>println(\"This is a number: \" + number)\n</code></pre>\n\n<p>Instead, you can use <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"noreferrer\">string templates</a>:</p>\n\n<pre><code>println(\"$number is more than 5\")\n</code></pre>\n\n<p>Or if you really dislike those, start with an empty String (not recommended):</p>\n\n<pre><code>println(\"\" + number + \" is more than 5\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7922268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pjcdw.jpg?s=128&g=1", "display_name": "SabryMuhammed", "link": "https://stackoverflow.com/users/7922268/sabrymuhammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 44260651, "answer_count": 1, "score": 1, "last_activity_date": 1496142709, "creation_date": 1496142562, "question_id": 44260597, "link": "https://stackoverflow.com/questions/44260597/number-is-more-than-5-not-running-concatenation-error", "title": "(number + &quot;Is more than 5&quot;) Not running &quot;Concatenation error&quot;", "body": "<p>I coded this and when I run it, it shows me a message with a problem in \"+\" between the variable \"Number\" and the rest of concatenation \" is more than 5\"\nHere is the code</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    print(\"Enter your Number\")\n    var number:Int = readLine()!!.toInt()\n    if (number&gt;5) {\n        println(number + \"is more than 5\")\n    } else if (number==5) {\n        println(number + \"is equal than 5\")\n\n    } else {\n        println(number + \"is less than 5\")\n    }\n\n    println(\"Thank You\")\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "butterknife"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1496141662, "post_id": 44260228, "comment_id": 75528365, "body": "Have you tried to remove <code>internal</code>?"}, {"owner": {"reputation": 9571, "user_id": 2770850, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/fwn9J.jpg?s=128&g=1", "display_name": "Nabin", "link": "https://stackoverflow.com/users/2770850/nabin"}, "edited": false, "score": 0, "creation_date": 1496141668, "post_id": 44260228, "comment_id": 75528369, "body": "I don&#39;t know anything about kotlin or butterknife, but I guess your isValid variable is false always. Paste more relevant code."}, {"owner": {"reputation": 559, "user_id": 3202664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b41de56f995a3ce83cf41c34c60643?s=128&d=identicon&r=PG&f=1", "display_name": "Lingeshwaran", "link": "https://stackoverflow.com/users/3202664/lingeshwaran"}, "edited": false, "score": 0, "creation_date": 1496142593, "post_id": 44260228, "comment_id": 75528969, "body": "@ankush any error showing?"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1496141845, "creation_date": 1496141845, "answer_id": 44260341, "question_id": 44260228, "link": "https://stackoverflow.com/questions/44260228/eventhandling-with-kotlin-and-butterknife/44260341#44260341", "title": "Eventhandling with kotlin and butterknife", "body": "<p>You should check your dependencies, more specifically, you should use <code>kapt</code> for the annotation processor:</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.jakewharton:butterknife:8.6.0'\n    kapt 'com.jakewharton:butterknife-compiler:8.6.0'\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 469, "user_id": 6243707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0127fed1af1fb753c0effa7abb0f0837?s=128&d=identicon&r=PG&f=1", "display_name": "ankush", "link": "https://stackoverflow.com/users/6243707/ankush"}, "edited": false, "score": 0, "creation_date": 1496207032, "post_id": 44260408, "comment_id": 75559265, "body": "after adding dependencies and change @Bind to @ BindView  Error:Annotation processor &#39;&#39; not found   ..try to fix but still..."}, {"owner": {"reputation": 5540, "user_id": 3675659, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/CGSNr.jpg?s=128&g=1", "display_name": "Gaket", "link": "https://stackoverflow.com/users/3675659/gaket"}, "reply_to_user": {"reputation": 469, "user_id": 6243707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0127fed1af1fb753c0effa7abb0f0837?s=128&d=identicon&r=PG&f=1", "display_name": "ankush", "link": "https://stackoverflow.com/users/6243707/ankush"}, "edited": false, "score": 0, "creation_date": 1496258339, "post_id": 44260408, "comment_id": 75592508, "body": "I added info about plugins. Do you have them all? Have you checked version of your Dagger dependency?"}, {"owner": {"reputation": 1303, "user_id": 1676812, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/4t9Kd.png?s=128&g=1", "display_name": "Ajit Kumar Dubey", "link": "https://stackoverflow.com/users/1676812/ajit-kumar-dubey"}, "edited": false, "score": 0, "creation_date": 1510384509, "post_id": 44260408, "comment_id": 81421095, "body": "I think generateStubs = true is not required when you are using &#39;kapt&#39;"}], "tags": [], "owner": {"reputation": 5540, "user_id": 3675659, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/CGSNr.jpg?s=128&g=1", "display_name": "Gaket", "link": "https://stackoverflow.com/users/3675659/gaket"}, "is_accepted": false, "score": 2, "last_activity_date": 1496258311, "last_edit_date": 1496258311, "creation_date": 1496142013, "answer_id": 44260408, "question_id": 44260228, "link": "https://stackoverflow.com/questions/44260228/eventhandling-with-kotlin-and-butterknife/44260408#44260408", "title": "Eventhandling with kotlin and butterknife", "body": "<p>Have you checked that you connected ButterKnife correctly?\nYou should have these lines in your build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\n//... other stuff\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n   compile 'com.jakewharton:butterknife:8.6.0'\n   kapt 'com.jakewharton:butterknife:8.6.0'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 3425867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11735fcd58a157c3b56f6ebd91f02b9?s=128&d=identicon&r=PG&f=1", "display_name": "user3425867", "link": "https://stackoverflow.com/users/3425867/user3425867"}, "is_accepted": false, "score": 2, "last_activity_date": 1500378900, "creation_date": 1500378900, "answer_id": 45166078, "question_id": 44260228, "link": "https://stackoverflow.com/questions/44260228/eventhandling-with-kotlin-and-butterknife/45166078#45166078", "title": "Eventhandling with kotlin and butterknife", "body": "<p>There are a few possible issues with the code\nBut let's first start with setting up Butterknife properly</p>\n\n<p>Make sure you have the following</p>\n\n<p><strong>Top level build.gradle file</strong></p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0-alpha7'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"com.jakewharton:butterknife-gradle-plugin:8.6.0\"\n}\n</code></pre>\n\n<p><strong>App level build.gradle file</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\n...\n\ndependencies{\n    compile 'com.jakewharton:butterknife:8.6.0'\n    kapt 'com.jakewharton:butterknife-compiler:8.6.0'\n}\n</code></pre>\n\n<p>Once this is done, make sure that everything you need butterknife to access is  public, so change the function to </p>\n\n<pre><code>@OnClick(R.id.btnlogin)\nfun onLogin() {\n    if (isValid) {\n        getLoginAPi()\n    }\n}\n</code></pre>\n\n<p>For @BindView make sure you have the following syntax</p>\n\n<pre><code>@BindView(R.id.editTextKg) @JvmField\nvar editTextKg: EditText? = null\n</code></pre>\n\n<p>This will work because the default visibility in Kotlin is public</p>\n\n<p>Gnerating stubs as mentioned by @Gaket in his code is also recommended by most, but it works without that for me </p>\n"}], "owner": {"reputation": 469, "user_id": 6243707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0127fed1af1fb753c0effa7abb0f0837?s=128&d=identicon&r=PG&f=1", "display_name": "ankush", "link": "https://stackoverflow.com/users/6243707/ankush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1816, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1500378900, "creation_date": 1496141519, "last_edit_date": 1496141706, "question_id": 44260228, "link": "https://stackoverflow.com/questions/44260228/eventhandling-with-kotlin-and-butterknife", "title": "Eventhandling with kotlin and butterknife", "body": "<p>ButterKnife click annotation is not working after changing java to kotlin code.</p>\n\n<pre><code>@OnClick(R.id.btnlogin)\ninternal fun onLogin() {\n    if (isValid) {\n        getLoginAPi()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-typeface"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1496141566, "post_id": 44260096, "comment_id": 75528297, "body": "Won&#39;t <code>holder.itemView.title.setTypeface(null, Typeface.BOLD)</code> work?"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1496141700, "post_id": 44260096, "comment_id": 75528392, "body": "yes i know this way, but i want to know how to achieve this in kotlin language support"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1496142414, "post_id": 44260096, "comment_id": 75528846, "body": "From <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">the Kotlin documentation</a>: <i>&quot;single-argument methods with names starting with <code>set</code> are represented as properties in Kotlin&quot;</i> <code>setTypeface</code> is not a single-argument method."}], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 1160539, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f2f29f02ec80a9a89f74ac49d46c348?s=128&d=identicon&r=PG", "display_name": "Pratik Patel", "link": "https://stackoverflow.com/users/1160539/pratik-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1496142144, "creation_date": 1496142144, "answer_id": 44260450, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/44260450#44260450", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p>Try this...</p>\n\n<pre><code>val tv = findViewById(R.id.custom) as TextView\ntv.setTypeface(null, Typeface.BOLD)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": true, "score": 8, "last_activity_date": 1496142507, "creation_date": 1496142507, "answer_id": 44260581, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/44260581#44260581", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p>Thanks after lot of research i solved it in single line</p>\n\n<pre><code>holder.itemView.title.typeface = Typeface.DEFAULT_BOLD\n</code></pre>\n\n<p>Hope it helps someone else !!</p>\n"}, {"comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 1, "creation_date": 1496143319, "post_id": 44260803, "comment_id": 75529490, "body": "thanks for the valuable response, but i have never noticed this method before"}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1496143375, "post_id": 44260803, "comment_id": 75529521, "body": "you are welcome bro :) did I solve your issue or added more ? hahha"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 1, "creation_date": 1496143493, "post_id": 44260803, "comment_id": 75529598, "body": "you did solved my issue bro :) but i did found more efficient single line way"}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "reply_to_user": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1496143592, "post_id": 44260803, "comment_id": 75529680, "body": "That&#39;s awesome bro, now you can edit  your question or answer so that they point at same thing or accept relevant answers :)"}], "tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 0, "last_activity_date": 1496143070, "creation_date": 1496143070, "answer_id": 44260803, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/44260803#44260803", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p>As far I can understand that you want to do the <strong>same thing</strong> you have asked but <strong>in Kotlin,</strong> \nthe <strong>kotlin equivalent will be</strong> :</p>\n\n<pre><code>    holder.itemView.title.setTypeface(null, Typeface.BOLD) ,\n</code></pre>\n\n<p>Because this <strong>method with two parameters</strong> and <strong>not a setter</strong> so you can  not assign a value directly like property of data class. If you do then you are <strong>not doing the same thing.</strong></p>\n\n<p><strong>Your answer</strong> is <strong>similar</strong> to <strong>this in java</strong> </p>\n\n<pre><code>    holder.itemView.title.setTypeface(Typeface.DEFAULT_BOLD);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "edited": false, "score": 0, "creation_date": 1496143705, "post_id": 44260942, "comment_id": 75529771, "body": "nice one ,sweeter , slimmer ;)"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 2, "last_activity_date": 1608305767, "last_edit_date": 1608305767, "creation_date": 1496143442, "answer_id": 44260942, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/44260942#44260942", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p>Another option may be an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">extension function</a>.</p>\n<pre><code>fun TextView.type(style : Int) {\n    setTypeface(null, style)\n}\n\n// usage\ntextView.type(BOLD)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3275, "user_id": 4571544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a44f9fba657b8c8cd4fde8d2d604477?s=128&d=identicon&r=PG&f=1", "display_name": "dekkard", "link": "https://stackoverflow.com/users/4571544/dekkard"}, "edited": false, "score": 0, "creation_date": 1519301692, "post_id": 48925772, "comment_id": 84860413, "body": "Please provide some description of your solution to the problem."}, {"owner": {"reputation": 1379, "user_id": 7413480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616051bcf6619d248afd2633c3b20cd5?s=128&d=identicon&r=PG&f=1", "display_name": "Null Pointer Exception", "link": "https://stackoverflow.com/users/7413480/null-pointer-exception"}, "reply_to_user": {"reputation": 3275, "user_id": 4571544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a44f9fba657b8c8cd4fde8d2d604477?s=128&d=identicon&r=PG&f=1", "display_name": "dekkard", "link": "https://stackoverflow.com/users/4571544/dekkard"}, "edited": false, "score": 0, "creation_date": 1519303962, "post_id": 48925772, "comment_id": 84861900, "body": "i did this in Kotline. if you want to change textview font style then you can use these line of code in kotline  for Java i will post Java code as well"}], "tags": [], "owner": {"reputation": 1379, "user_id": 7413480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616051bcf6619d248afd2633c3b20cd5?s=128&d=identicon&r=PG&f=1", "display_name": "Null Pointer Exception", "link": "https://stackoverflow.com/users/7413480/null-pointer-exception"}, "is_accepted": false, "score": 2, "last_activity_date": 1519297307, "creation_date": 1519297307, "answer_id": 48925772, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/48925772#48925772", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<pre><code>  val typeface = Typeface.createFromAsset(applicationContext.assets, \"font/roboto.ttf\")\n        speedometerAdvance.setTypeface(typeface);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1992, "user_id": 8471798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WiHS.jpg?s=128&g=1", "display_name": "canerkaseler", "link": "https://stackoverflow.com/users/8471798/canerkaseler"}, "is_accepted": false, "score": 0, "last_activity_date": 1592381167, "creation_date": 1592381167, "answer_id": 62424284, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically/62424284#62424284", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p><strong>Kotlin Answer</strong> - 17 June 2020</p>\n\n<p><em>If you want to use your custom typeface, <strong>Typeface.createFromAsset()</strong> helps for the job!</em> </p>\n\n<p><em>This example to use in Fragment. In Activity, you do not need to write \"activity!!\".</em></p>\n\n<pre><code>yourTextview.typeface = Typeface.createFromAsset(activity!!.assets, \"fonts/Forza-Bold.otf\")\n</code></pre>\n\n<p>If you want use default typefaces:</p>\n\n<pre><code>yourTextview.typeface = Typeface.DEFAULT_BOLD\n</code></pre>\n\n<p>@canerkaseler</p>\n"}], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8344, "favorite_count": 0, "accepted_answer_id": 44260581, "answer_count": 6, "score": 4, "last_activity_date": 1608305767, "creation_date": 1496141199, "last_edit_date": 1547605270, "question_id": 44260096, "link": "https://stackoverflow.com/questions/44260096/custom-typeface-in-kotlin-programmatically", "title": "Custom TypeFace in Kotlin Programmatically", "body": "<p>How to set typeface of any <code>TextView</code>. Using java we do something like this</p>\n\n<pre><code>TextView tv = (TextView) findViewById(R.id.custom);\ntv.setTypeface(null, Typeface.BOLD);\n</code></pre>\n\n<p>How such operation could be performed while using kotlin. Which will be the efficient way to do this in kotlin? Is there any better way provided with kotlin?</p>\n\n<pre><code>holder.itemView.title.typeface = ?\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1380, "user_id": 7504523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jrv59.png?s=128&g=1", "display_name": "Headline", "link": "https://stackoverflow.com/users/7504523/headline"}, "is_accepted": true, "score": 110, "last_activity_date": 1533409041, "last_edit_date": 1533409041, "creation_date": 1496129387, "answer_id": 44256121, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/44256121#44256121", "title": "Difference between a class and object in Kotlin", "body": "<p>A Kotlin object is like a class that can't be instantiated so it must be called by name. (a static class per se) </p>\n\n<p>The android converter saw that your class contained only a static method, so it converted it to a Kotlin object. </p>\n\n<p>Read more about it here: <a href=\"http://petersommerhoff.com/dev/kotlin/kotlin-for-java-devs/#objects\" rel=\"noreferrer\">http://petersommerhoff.com/dev/kotlin/kotlin-for-java-devs/#objects</a></p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": 4, "last_activity_date": 1496138332, "creation_date": 1496138332, "answer_id": 44259088, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/44259088#44259088", "title": "Difference between a class and object in Kotlin", "body": "<p>Also you can define functions without object declaration. Just in .kt file \nFor example: </p>\n\n<pre><code>fun GenerateChecksumCrc16(bytes: ByteArray): Int {\n    ...\n}\n</code></pre>\n\n<p>And this function was related to package where is .kt file is declared.\nYou can read more about it here <a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/packages.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 1502, "user_id": 4364057, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/9KoUZ.jpg?s=128&g=1", "display_name": "Squirrelkiller", "link": "https://stackoverflow.com/users/4364057/squirrelkiller"}, "edited": false, "score": 0, "creation_date": 1552848813, "post_id": 44260794, "comment_id": 97157381, "body": "Wait but if my class <code>Human</code> has a static int field <code>Population</code>, how would that look like in Kotlin? <code>companion object { @JvmField val Population; }</code> or something?"}], "tags": [], "owner": {"reputation": 5543, "user_id": 1304164, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/9e230ecdacef6fdfea22103b67ffa88f?s=128&d=identicon&r=PG", "display_name": "Bruce Lowe", "link": "https://stackoverflow.com/users/1304164/bruce-lowe"}, "is_accepted": false, "score": 13, "last_activity_date": 1496143046, "creation_date": 1496143046, "answer_id": 44260794, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/44260794#44260794", "title": "Difference between a class and object in Kotlin", "body": "<p>An object is a singleton.  You do not need to create an instance to use it.</p>\n\n<p>A class needs to be instantiated to be used</p>\n\n<p>In the same way that in Java you may say Math.sqrt(2) and you dont need to create a Math instance to use sqrt, in Kotlin you can create an object to hold these methods, and they are effectively static.</p>\n\n<p>There is some info here:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html</a></p>\n\n<p>IntelliJ has obviously been smart enough to detect you need an object since you only have static java methods.</p>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 3486601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AjMsv.png?s=128&g=1", "display_name": "Danish Ansari", "link": "https://stackoverflow.com/users/3486601/danish-ansari"}, "edited": false, "score": 9, "creation_date": 1564637330, "post_id": 47706264, "comment_id": 101097756, "body": "Nice explanation. Thanks a lot."}], "tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": false, "score": 191, "last_activity_date": 1586381071, "last_edit_date": 1586381071, "creation_date": 1512695229, "answer_id": 47706264, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/47706264#47706264", "title": "Difference between a class and object in Kotlin", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"noreferrer\">Kotlin's documentation</a> on this is pretty good, so feel free to read that.</p>\n\n<p>The chosen answer for this question has some poor phraseology in its explanation, and could easily mislead people. For instance, an object is not \"a static class per se\", but rather it is <code>a static instance of a class that there is only one of</code>, otherwise known as a singleton.</p>\n\n<p>Perhaps the best way to show the difference is to look at the decompiled Kotlin code in Java form.</p>\n\n<p><strong>Kotlin object and class:</strong></p>\n\n<pre><code>object ExampleObject {\n  fun example() {\n  }\n}\n\nclass ExampleClass {\n  fun example() {\n  }\n}\n</code></pre>\n\n<p>In order to use the <code>ExampleClass</code>, you need to create an instance of it: <code>ExampleClass().example()</code>, but with an object, Kotlin creates a single instance of it for you, and you don't ever call it's constructor, instead you just access it's static instance by using the name: <code>ExampleObject.example()</code>.</p>\n\n<p><strong>Equivalent Java code Kotlin would generate:</strong></p>\n\n<p>Kotlin compiles to Java byte code, but if we reverse compile the above compiled Kotlin code to Java code this is what we get:</p>\n\n<pre><code>public final class ExampleObject {\n   public static final ExampleObject INSTANCE = new ExampleObject();\n\n   private ExampleObject() { }\n\n   public final void example() {\n   }\n}\n\npublic final class ExampleClass {\n   public final void example() {\n   }\n}\n</code></pre>\n\n<p>You would use the object in Kotlin the following way:</p>\n\n<pre><code>ExampleObject.example()\n</code></pre>\n\n<p>Which would compile down to the equivalent Java byte code for:</p>\n\n<pre><code>ExampleObject.INSTANCE.example()\n</code></pre>\n\n<p><strong>Why does Kotlin introduce <code>object</code>s?</strong></p>\n\n<p>The primary use case of <code>object</code> in Kotlin is because Kotlin tries to do away with static, and primitives, leaving us with a purely object oriented language. Kotlin still uses <code>static</code> and primitives underneath the hood, but it discourages devs to use those concepts any more. Instead, now Kotlin replaces static with singleton object instances. Where you would previously use static field in Java, in Kotlin you will now create an <code>object</code>, and put that field in the <code>object</code>.</p>\n\n<p><strong>Interoperability with Java:</strong></p>\n\n<p>Because Kotlin is 100% interoperable with Java, sometimes you will want to expose certain APIs or fields in a way that is nicer for Java to read. To do this, you can use the <code>@JvmStatic</code> annotation. By annotating a field or a function in an <code>object</code> with <code>@JvmStatic</code>, it will compile down to static fields which Java can use easier.</p>\n\n<p><strong>Companion Objects:</strong></p>\n\n<p>One last thing that's worth mentioning is <code>companion object</code>s. In Java, you typically have classes that have some static content, but also some non-static / instance content. Kotlin allows you to do something similar with companion objects, which are <code>object</code>s tied to a <code>class</code>, meaning a class can access it's companion object's private functions and properties:</p>\n\n<pre><code>class ExampleClass {\n  companion object {\n    // Things that would be static in Java would go here in Kotlin\n    private const val str = \"asdf\"\n  }\n\n  fun example() {\n    // I can access private variables in my companion object\n    println(str)\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1541025182, "creation_date": 1541025182, "answer_id": 53092862, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/53092862#53092862", "title": "Difference between a class and object in Kotlin", "body": "<p>Building on @speirce7's answer:</p>\n\n<p>The following code shows the basic difference between a Class and an Object when it comes to Kotlin:</p>\n\n<pre><code>class ExampleClass(){\n    fun example(){\n            println(\"I am in the class.\")\n    }\n}\n\nobject ExampleObject{\n    fun example(){\n            println(\"I am in the object.\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;){\n    val exampleClass = ExampleClass() // A class needs to be instantiated.\n    exampleClass.example()            // Running the instance of the object.\n    ExampleObject.example()           // An object can be thought of as a Singleton and doesn't need any instantiation.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7381, "user_id": 6159856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r6bVp.jpg?s=128&g=1", "display_name": "Sanjayrajsinh", "link": "https://stackoverflow.com/users/6159856/sanjayrajsinh"}, "is_accepted": false, "score": 5, "last_activity_date": 1609571521, "creation_date": 1609571521, "answer_id": 65536801, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin/65536801#65536801", "title": "Difference between a class and object in Kotlin", "body": "<p>Different between : <strong>object</strong> || <strong>class</strong> || <strong>companion object</strong> || <strong>data class</strong></p>\n<h2>1.object</h2>\n<ul>\n<li>An object declaration, is initialised lazily, when accessed for the first time.</li>\n<li>Object is act like singleton class</li>\n<li>Only one reference for whole app</li>\n<li>Access members, methods without create an instance</li>\n</ul>\n<h2>2.class</h2>\n<ul>\n<li>Multiple reference you can create</li>\n<li>Need to create instance for access members, methods</li>\n</ul>\n<h2>3.companion object</h2>\n<ul>\n<li>A companion object is initialized when the corresponding class is loaded</li>\n<li>In <code>object MyClass{}</code> by default whole variable have single reference but in <code>companion object</code> you have choice to create static method or to create static variable</li>\n<li>You can create singleton class</li>\n</ul>\n<h2>4.data class</h2>\n<ul>\n<li>Classes that are used to hold data/state</li>\n<li>Kotlin\u2019s data classes, you don\u2019t need to write/generate all the lengthy boilerplate code yourself</li>\n<li>The compiler automatically generates a default getter and setter for all the mutable properties</li>\n<li>The compiler automatically derives the implementation of standard methods like <code>equals()</code>, <code>hashCode()</code> and <code>toString()</code>\n<br><br></li>\n</ul>\n<p><strong>Examples</strong></p>\n<pre><code>//---------------1- object ----------------------\nobject MyClass1 {\n        fun checkData {\n            // ...\n        }\n}\n\nMyClass1.checkData()  // call method\n\n\n//----------------2- class ---------------------\nclass MyClass2 {\n        fun checkData {\n            // ...\n        }\n}\n\nvar myClass = MyClass2()\nmyClass.checkData()  // call method\n\n\n\n//----------------3- companion object ---------------------\nclass MyClass3 {\n        companion object {\n            fun myStaticMethod() {\n                // ...\n            }\n        }\n\n       fun myInstanceMethod() {\n            // ...\n        }\n}\nMyClass3.myStaticMethod() // call companion object member\nvar myClass = MyClass3()\nmyClass.myInstanceMethod()  // call simple method using reference\n\n//----------------4- data class ---------------------\ndata class MyClass4(val name: String, val rId: Int)\n</code></pre>\n"}], "owner": {"reputation": 1527, "user_id": 4294726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qTfaH.png?s=128&g=1", "display_name": "Crunchy234", "link": "https://stackoverflow.com/users/4294726/crunchy234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33824, "favorite_count": 13, "accepted_answer_id": 44256121, "answer_count": 6, "score": 118, "last_activity_date": 1609571521, "creation_date": 1496128827, "last_edit_date": 1496135639, "question_id": 44255946, "link": "https://stackoverflow.com/questions/44255946/difference-between-a-class-and-object-in-kotlin", "title": "Difference between a class and object in Kotlin", "body": "<p>I'm new to Kotlin and have recently converted a simple file from java to Kotlin. I am wondering why the Android converter changed my java class to a Kotlin object.</p>\n\n<p>Java:</p>\n\n<pre><code>public class MyClass {\n    static public int GenerateChecksumCrc16(byte bytes[]) {\n\n        int crc = 0xFFFF;\n        int temp;\n        int crc_byte;\n\n        for (byte aByte : bytes) {\n\n            crc_byte = aByte;\n\n            for (int bit_index = 0; bit_index &lt; 8; bit_index++) {\n\n                temp = ((crc &gt;&gt; 15)) ^ ((crc_byte &gt;&gt; 7));\n\n                crc &lt;&lt;= 1;\n                crc &amp;= 0xFFFF;\n\n                if (temp &gt; 0) {\n                    crc ^= 0x1021;\n                    crc &amp;= 0xFFFF;\n                }\n\n                crc_byte &lt;&lt;= 1;\n                crc_byte &amp;= 0xFF;\n\n            }\n        }\n\n        return crc;\n    }\n}\n</code></pre>\n\n<p>Converted Kotlin:</p>\n\n<pre><code>object MyClass {\n    fun GenerateChecksumCrc16(bytes: ByteArray): Int {\n\n        var crc = 0xFFFF\n        var temp: Int\n        var crc_byte: Int\n\n        for (aByte in bytes) {\n\n            crc_byte = aByte.toInt()\n\n            for (bit_index in 0..7) {\n\n                temp = crc shr 15 xor (crc_byte shr 7)\n\n                crc = crc shl 1\n                crc = crc and 0xFFFF\n\n                if (temp &gt; 0) {\n                    crc = crc xor 0x1021\n                    crc = crc and 0xFFFF\n                }\n\n                crc_byte = crc_byte shl 1\n                crc_byte = crc_byte and 0xFF\n\n            }\n        }\n\n        return crc\n    }\n}\n</code></pre>\n\n<p>Why wasn't it:</p>\n\n<pre><code>class MyClass {\n    ... etc ...\n}\n</code></pre>\n\n<p>Any help would be greatly appreciated thanks.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-storage", "firebaseui"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1496128818, "post_id": 44255785, "comment_id": 75519974, "body": "use  <code>.&#47;gradlew app:dependencies</code>  on linux or mac or <code>gradlew.bat app:dependencies</code> on windows using a terminal on android studio to see the dependency tree and then you can update to the latest versions or force use the latest version"}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1496129284, "post_id": 44255785, "comment_id": 75520275, "body": "and then you can add <code>configurations.all {     resolutionStrategy.force &quot;com.android.support:appcompat-v7:25.3.1&quot;}</code>. to make sure all other libs use the same support lib. Just add for other libs as well"}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 5551988, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iM32c.jpg?s=128&g=1", "display_name": "EtherPaul", "link": "https://stackoverflow.com/users/5551988/etherpaul"}, "is_accepted": false, "score": 0, "last_activity_date": 1496128626, "creation_date": 1496128626, "answer_id": 44255874, "question_id": 44255785, "link": "https://stackoverflow.com/questions/44255785/firebase-ui-for-storage-with-kotlin-gives-error/44255874#44255874", "title": "Firebase UI for Storage with Kotlin gives Error", "body": "<p>Recently I had the same issue. So I downgraded the versions to these:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:25.0.0'\ncompile 'com.android.support.constraint:constraint-layout:1.0.0-alpha8'\ncompile 'com.android.support:design:25.0.0'\ncompile 'com.google.firebase:firebase-storage:10.2.4'\ncompile 'com.github.bumptech.glide:glide:4.0.0-RC0'\ncompile 'com.google.firebase:firebase-storage:10.2.4'\n</code></pre>\n\n<p>and it worked fine for me.</p>\n\n<p>But if you want to know what's wrong with your current dependencies, probably you should see what your full tree of dependencies is and from there, you will see which one of your libraries is asking for a different version of the Android Support libraries.</p>\n"}], "owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496128626, "creation_date": 1496128305, "question_id": 44255785, "link": "https://stackoverflow.com/questions/44255785/firebase-ui-for-storage-with-kotlin-gives-error", "title": "Firebase UI for Storage with Kotlin gives Error", "body": "<p>I am getting error while adding dependency for <strong>firebase-ui-storage.</strong></p>\n\n<p>I have created app for <strong>Kotlin</strong></p>\n\n<p><strong>build.gradle</strong> - before:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\ncompile 'com.android.support:design:25.3.1'\ncompile 'com.google.firebase:firebase-storage:10.2.6'\ncompile 'com.github.bumptech.glide:glide:4.0.0-RC0'\n</code></pre>\n\n<p>after adding:</p>\n\n<pre><code>compile 'com.firebaseui:firebase-ui-storage:1.2.0'\n</code></pre>\n\n<p>I am getting error like:</p>\n\n<blockquote>\n  <p>All com.android.support libraries must use the exact same version\n  specification (mixing versions can lead to runtime crashes). Found\n  versions 25.3.1, 25.1.1. Examples include\n  com.android.support:animated-vector-drawable:25.3.1 and\n  com.android.support:palette-v7:25.1.1</p>\n  \n  <p>There are some combinations of libraries, or tools and libraries, that\n  are incompatible, or can lead to bugs. One such incompatibility is\n  compiling with a version of the Android support libraries that is not\n  the latest version (or in particular, a version lower than your\n  targetSdkVersion.)</p>\n</blockquote>\n\n<p>I dont know why it happens even I dont have used <strong>vector drawable or palette</strong></p>\n\n<p>Any help?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["int", "kotlin"], "comments": [{"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496128606, "post_id": 44255630, "comment_id": 75519828, "body": "Note this is almost the same as the simpler <code>fun add = first?:0 + second?:0</code>. Only difference being that it wont return null when both are null."}, {"owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "reply_to_user": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496171000, "post_id": 44255630, "comment_id": 75547989, "body": "@MichaelAnderson Same compilation error <code>fun add(first : Int?, second : Int?) : Int? = first?:0 + second?:0</code>"}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496190261, "post_id": 44255630, "comment_id": 75555305, "body": "Sorry - it was just a parenthesis issue <code>fun add():Int = (first:?0) + (second:?0)</code> works for me."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "edited": false, "score": 0, "creation_date": 1496171262, "post_id": 44255841, "comment_id": 75548110, "body": "Solution works. But i didn&#39;t understand why assigning variable to a constant works here?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "edited": false, "score": 0, "creation_date": 1496171658, "post_id": 44255841, "comment_id": 75548332, "body": "@a.r. The value of a val can not be changed. Kotlin is therefore able to smart cast  them to non-null types when you do the if-test. Even though <code>first</code> and <code>second</code> can be changed during the duration of the function, <code>f</code> and <code>s</code> will stay constant."}, {"owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "edited": false, "score": 0, "creation_date": 1496172565, "post_id": 44255841, "comment_id": 75548790, "body": "Got it. Thanks :)"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 11, "last_activity_date": 1496128490, "creation_date": 1496128490, "answer_id": 44255841, "question_id": 44255630, "link": "https://stackoverflow.com/questions/44255630/kotlin-compilation-error-none-of-the-following-functions-can-be-called-with-th/44255841#44255841", "title": "Kotlin Compilation Error : None of the following functions can be called with the arguments supplied", "body": "<p>Because <code>first</code> and <code>second</code> are vars, they will not be smart cast to non-null types when you do the if-test. Theoretically, the values can be changed by another thread after the if-test and before the <code>+</code>. To solve this, you can assign them to local vals before you do the if-tests.</p>\n\n<pre><code>fun add() : Int? {\n    val f = first\n    val s = second\n\n    if (f != null &amp;&amp; s != null) {\n        return f + s\n    }\n\n    if (f == null) {\n        return s\n    }\n\n    if (s == null) {\n        return f\n    }\n\n    return null\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "edited": false, "score": 0, "creation_date": 1496185547, "post_id": 44260122, "comment_id": 75554172, "body": "Variability affects the smart casting. It is well explained in the @marstrain&#39;s answer"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 4, "last_activity_date": 1496141254, "creation_date": 1496141254, "answer_id": 44260122, "question_id": 44255630, "link": "https://stackoverflow.com/questions/44255630/kotlin-compilation-error-none-of-the-following-functions-can-be-called-with-th/44260122#44260122", "title": "Kotlin Compilation Error : None of the following functions can be called with the arguments supplied", "body": "<p>The easiest fix for your code is to use <code>val</code> instead of <code>var</code>:</p>\n\n<pre><code>class NumberAdder (num1 : Int?, num2 : Int?) {\n\n    val first : Int?\n    val second : Int?\n\n    init{\n        first = num1\n        second = num2\n    }\n...\n</code></pre>\n\n<p>I used here that Kotlin allows a <code>val</code> to be assigned in the constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496173810, "post_id": 44270413, "comment_id": 75549525, "body": "This compiles, but it is (theoretically) unsafe. If some other thread were to change <code>first</code> or <code>second</code> after the if-test, but before either the casts or the addition, an exception will be thrown. I would go with one of the safe options in either mine or voddan&#39;s answer."}, {"owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496176129, "post_id": 44270413, "comment_id": 75550724, "body": "Yes, threading is another issue. But from compilation perspective I think error may due to reason that compiler was unable to decide whose plus method it needs to call in case of null. As Double, Int, Float all have plus method and also these are child classes of Number."}], "tags": [], "owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1496172482, "creation_date": 1496172482, "answer_id": 44270413, "question_id": 44255630, "link": "https://stackoverflow.com/questions/44255630/kotlin-compilation-error-none-of-the-following-functions-can-be-called-with-th/44270413#44270413", "title": "Kotlin Compilation Error : None of the following functions can be called with the arguments supplied", "body": "<p>This seems to work also.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    var numberAdder : NumberAdder = NumberAdder(10, 20)\n    var result : Int? = numberAdder.add()\n    println(\"$result\")\n}\n\nclass NumberAdder (num1 : Int?, num2 : Int?) {\n\n    var first : Int?\n    var second : Int?\n\n    init{\n        first = num1\n        second = num2\n    }\n\nfun add() : Int?{\n\n    if(first != null &amp;&amp; second != null){\n        return first as Int + second as Int\n    }\n\n    if(first == null){\n        return second\n    }\n\n    if(second == null){\n        return first\n    }\n\n    return null\n}\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 3410790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a24f739dfcdead1c1384bb33491f06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Vladimir Kondenko", "link": "https://stackoverflow.com/users/3410790/vladimir-kondenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1533575662, "creation_date": 1533575662, "answer_id": 51712636, "question_id": 44255630, "link": "https://stackoverflow.com/questions/44255630/kotlin-compilation-error-none-of-the-following-functions-can-be-called-with-th/51712636#51712636", "title": "Kotlin Compilation Error : None of the following functions can be called with the arguments supplied", "body": "<p>I experienced a similar issue with assertEquals.</p>\n\n<p>My code was</p>\n\n<pre><code>assertEquals(\n       expeted = 42, // notice the missing c \n       actual = foo()\n)\n</code></pre>\n\n<p>After I've fixed the typo, my IDE said I can't use named arguments with non-Kotlin functions, so I extracted the values to variables and everything started working as it should.</p>\n\n<pre><code> val expected = 42\n val actual = foo()\n assertEquals(expected, actual)\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 3627298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/342d132691c6598d61b7f9eaa950d1d4?s=128&d=identicon&r=PG&f=1", "display_name": "a.r.", "link": "https://stackoverflow.com/users/3627298/a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31343, "favorite_count": 5, "answer_count": 4, "score": 18, "last_activity_date": 1587887269, "creation_date": 1496127775, "last_edit_date": 1587887269, "question_id": 44255630, "link": "https://stackoverflow.com/questions/44255630/kotlin-compilation-error-none-of-the-following-functions-can-be-called-with-th", "title": "Kotlin Compilation Error : None of the following functions can be called with the arguments supplied", "body": "<p>I have a class whose constructor takes 2 int parameters (null values are allowed).\n    Following is the compilation error.</p>\n\n<pre><code>None of the following functions can be called with the arguments supplied: \npublic final operator fun plus(other: Byte): Int defined in kotlin.Int\npublic final operator fun plus(other: Double): Double defined in kotlin.Int\npublic final operator fun plus(other: Float): Float defined in kotlin.Int\npublic final operator fun plus(other: Int): Int defined in kotlin.Int\npublic final operator fun plus(other: Long): Long defined in kotlin.Int\npublic final operator fun plus(other: Short): Int defined in kotlin.Int\n</code></pre>\n\n<p>Here is the NumberAdder class.</p>\n\n<pre><code>class NumberAdder (num1 : Int?, num2 : Int?) {\n\n    var first : Int? = null\n    var second : Int? = null\n\n    init{\n    first = num1\n    second = num2\n    }\n\nfun add() : Int?{\n\n    if(first != null &amp;&amp; second != null){\n        return first + second\n    }\n\n    if(first == null){\n        return second\n    }\n\n    if(second == null){\n        return first\n    }\n\n    return null\n}\n\n}\n</code></pre>\n\n<p>How can I resolve this issue? I want to return null if both are null. If one of them is null, return the other, and otherwise return the sum.</p>\n"}, {"tags": ["android", "proguard", "kotlin", "android-proguard"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1496119769, "post_id": 44253539, "comment_id": 75515512, "body": "might be useful   <a href=\"https://stackoverflow.com/questions/33547643/how-to-use-kotlin-with-proguard/34159813#34159813\" title=\"how to use kotlin with proguard\">stackoverflow.com/questions/33547643/&hellip;</a>"}, {"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1496122261, "post_id": 44253539, "comment_id": 75516407, "body": "is there any custom view in your activity?"}, {"owner": {"reputation": 3492, "user_id": 2247459, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kDMiJ.png?s=128&g=1", "display_name": "cyanide", "link": "https://stackoverflow.com/users/2247459/cyanide"}, "edited": false, "score": 0, "creation_date": 1496123225, "post_id": 44253539, "comment_id": 75516807, "body": "Probably, you can leave shrinkResources to &quot;true&quot; since it affects only resources, but not the code"}, {"owner": {"reputation": 3492, "user_id": 2247459, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kDMiJ.png?s=128&g=1", "display_name": "cyanide", "link": "https://stackoverflow.com/users/2247459/cyanide"}, "edited": false, "score": 0, "creation_date": 1496123388, "post_id": 44253539, "comment_id": 75516885, "body": "Are fields decorView and handler present at your activity? They could be removed as a result of optimization."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1496155468, "post_id": 44253539, "comment_id": 75538811, "body": "Could you add all relevant configurations for Proguard?"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1496157607, "post_id": 44253539, "comment_id": 75540354, "body": "@Sarthak Mittal: yes, there are several custom views in the project."}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 3492, "user_id": 2247459, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kDMiJ.png?s=128&g=1", "display_name": "cyanide", "link": "https://stackoverflow.com/users/2247459/cyanide"}, "edited": false, "score": 0, "creation_date": 1496157611, "post_id": 44253539, "comment_id": 75540356, "body": "@cyanide: yes, both decorView and Handler are used in the MainActivity"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1496157664, "post_id": 44253539, "comment_id": 75540389, "body": "@Redman thanks, I came across that same post yesterday and tried that, with no success."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1500216297, "post_id": 44253539, "comment_id": 77229188, "body": "We would need to see the source code of MainActivity in order to see how you use these decorView and handler variables, and maybe your full build.gradle file as well. These warnings usually mean that the fields are not declared in the source library jars."}, {"owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "edited": false, "score": 0, "creation_date": 1514889521, "post_id": 44253539, "comment_id": 83091051, "body": "What is the cause of the Error specified in the logs? Is it failing because of too many Warnings? You only posted 2 lines of warnings, I would ask you to read over the full log to spot any clear specifications why it fails.  Also, the keep rule you have in your <code>proguard-rules.txt</code> file is a bit too broad:  ``` -keep class com.nineoldandroids.** { *; } ```  I would suggest you narrow it down a bit."}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 0, "last_activity_date": 1520518330, "creation_date": 1520518330, "answer_id": 49175182, "question_id": 44253539, "link": "https://stackoverflow.com/questions/44253539/unable-to-build-a-release-build-in-kotlin/49175182#49175182", "title": "Unable to build a release build in Kotlin", "body": "<p>Try to make build without proguard to undestand who is responsible for that issue. </p>\n"}, {"tags": [], "owner": {"reputation": 1201, "user_id": 8835675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAQ9X.jpg?s=128&g=1", "display_name": "Webfreak", "link": "https://stackoverflow.com/users/8835675/webfreak"}, "is_accepted": false, "score": 1, "last_activity_date": 1562654407, "creation_date": 1562654407, "answer_id": 56946626, "question_id": 44253539, "link": "https://stackoverflow.com/questions/44253539/unable-to-build-a-release-build-in-kotlin/56946626#56946626", "title": "Unable to build a release build in Kotlin", "body": "<p>Try to add <code>@Keep</code> annotation to the class in question (e.g. MainActivity) and see if it helps. If it does, it means that minify is renaming some resource, that shouldn't be renamed because some other resource expects it by it's original name.</p>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 2, "answer_count": 2, "score": 15, "last_activity_date": 1562654407, "creation_date": 1496119170, "last_edit_date": 1517310052, "question_id": 44253539, "link": "https://stackoverflow.com/questions/44253539/unable-to-build-a-release-build-in-kotlin", "title": "Unable to build a release build in Kotlin", "body": "<p>After having converted my Android project to Kotlin I am unable to build a release build, the error appears to be related to Proguard.</p>\n\n<p>I see 155 warnings like</p>\n\n<pre><code>Warning:com.example.app.activity.MainActivity$1: can't find referenced field 'android.view.View decorView' in program class com.example.app.activity.MainActivity\nWarning:com.example.app.activity.MainActivity$2: can't find referenced field 'android.os.Handler handler' in program class com.example.app.activity.MainActivity\n</code></pre>\n\n<p>and the build fails with</p>\n\n<pre><code>Error:Execution failed for task ':MyApp:transformClassesAndResourcesWithProguardForFreeRelease'.\n&gt; Job failed, see logs for details\n</code></pre>\n\n<p>If I change these directives in build.grade from true to false the build succeeds.</p>\n\n<pre><code>minifyEnabled true\nshrinkResources true\n</code></pre>\n\n<p>Any suggestions on what the issue might be?</p>\n\n<p>Edit:</p>\n\n<p>The proguard files are below:</p>\n\n<p>proguard-android.txt</p>\n\n<pre><code># This is a configuration file for ProGuard.\n# http://proguard.sourceforge.net/index.html#manual/usage.html\n\n-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-verbose\n\n# Optimization is turned off by default. Dex does not like code run\n# through the ProGuard optimize and preverify steps (and performs some\n# of these optimizations on its own).\n-dontoptimize\n-dontpreverify\n\n# If you want to enable optimization, you should include the\n# following:\n# -optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*\n# -optimizationpasses 5\n# -allowaccessmodification\n#\n# Note that you cannot just include these flags in your own\n# configuration file; if you are including this file, optimization\n# will be turned off. You'll need to either edit this file, or\n# duplicate the contents of this file and remove the include of this\n# file from your project's proguard.config path property.\n\n-keepattributes *Annotation*\n-keep public class * extends android.app.Activity\n-keep public class * extends android.app.Application\n-keep public class * extends android.app.Service\n-keep public class * extends android.content.BroadcastReceiver\n-keep public class * extends android.content.ContentProvider\n-keep public class * extends android.app.backup.BackupAgent\n-keep public class * extends android.preference.Preference\n-keep public class * extends android.support.v4.app.Fragment\n-keep public class * extends android.app.Fragment\n-keep public class com.android.vending.licensing.ILicensingService\n\n\n# For native methods, see http://proguard.sourceforge.net/manual/examples.html#native\n-keepclasseswithmembernames class * {\n    native &lt;methods&gt;;\n}\n\n-keep public class * extends android.view.View {\n    public &lt;init&gt;(android.content.Context);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n    public void set*(...);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);\n}\n\n-keepclasseswithmembers class * {\n    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);\n}\n\n-keepclassmembers class * extends android.app.Activity {\n   public void *(android.view.View);\n}\n\n# For enumeration classes, see http://proguard.sourceforge.net/manual/examples.html#enumerations\n-keepclassmembers enum * {\n    public static **[] values();\n    public static ** valueOf(java.lang.String);\n}\n\n-keep class * implements android.os.Parcelable {\n  public static final android.os.Parcelable$Creator *;\n}\n\n-keepclassmembers class **.R$* {\n    public static &lt;fields&gt;;\n}\n\n# The support library contains references to newer platform versions.\n# Don't warn about those in case this app is linking against an older\n# platform version.  We know about them, and they are safe.\n-dontwarn android.support.**\n-dontwarn io.codetail.animation.**\n</code></pre>\n\n<p>proguard-rules.txt</p>\n\n<pre><code># Add project specific ProGuard rules here.\n# By default, the flags in this file are appended to flags specified\n# in /home/francesc/droids/android-sdk-linux/tools/proguard/proguard-android.txt\n# You can edit the include path and order by changing the ProGuard\n# include property in project.properties.\n#\n# For more details, see\n#   http://developer.android.com/guide/developing/tools/proguard.html\n\n# Add any project specific keep options here:\n\n# If your project uses WebView with JS, uncomment the following\n# and specify the fully qualified class name to the JavaScript interface\n# class:\n#-keepclassmembers class fqcn.of.javascript.interface.for.webview {\n#   public *;\n#}\n\n-keep class com.nineoldandroids.** { *; }\n-dontwarn io.codetail.animation.**\n</code></pre>\n\n<p>The signing config is defined as shown below</p>\n\n<pre><code>signingConfigs {\n    myConfig {\n        Properties keyProps = new Properties()\n        keyProps.load(new FileInputStream(file('../release.properties')))\n        storeFile file(keyProps[\"store\"])\n        keyAlias keyProps[\"alias\"]\n        storePassword keyProps[\"storePass\"]\n        keyPassword keyProps[\"keyPass\"]\n    }\n}\n\nbuildTypes {\n    release {\n        proguardFiles 'proguard-android.txt', 'proguard-rules.txt'\n        minifyEnabled true\n        shrinkResources true\n        signingConfig signingConfigs.myConfig\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1496117678, "post_id": 44252698, "comment_id": 75514911, "body": "Where are you setting emailDir? You need to set its value in init"}], "answers": [{"tags": [], "owner": {"reputation": 2969, "user_id": 1349855, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9147eafa31b0ac8201e5b527a5818f70?s=128&d=identicon&r=PG", "display_name": "wasyl", "link": "https://stackoverflow.com/users/1349855/wasyl"}, "is_accepted": false, "score": 2, "last_activity_date": 1496122699, "creation_date": 1496122699, "answer_id": 44254243, "question_id": 44252698, "link": "https://stackoverflow.com/questions/44252698/kotlin-lateinit-property-val-variable-has-not-been-initialized/44254243#44254243", "title": "(Kotlin) lateinit property &#39;VAL variable&#39; has not been initialized", "body": "<blockquote>\n  <p>How can we declare a default variable value for init()?</p>\n</blockquote>\n\n<p>Once you have a default value, the property doesn't have to be marked as <code>lateinit</code>. So you would simply do:</p>\n\n<pre><code>@Value(\"\\${app.email-config-file: D:\\\\email\\\\src\\\\main\\\\resources\\\\email.config}\")\n\nprivate var emailDir: String = \"someDirectory/\"\n\ninit {\n    log.info(\"=============================================================\")\n    log.info(\"Email Config File Dir: ${this.emailDir}\")\n    log.info(\"=============================================================\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1496144072, "last_edit_date": 1496144072, "creation_date": 1496143769, "answer_id": 44261052, "question_id": 44252698, "link": "https://stackoverflow.com/questions/44252698/kotlin-lateinit-property-val-variable-has-not-been-initialized/44261052#44261052", "title": "(Kotlin) lateinit property &#39;VAL variable&#39; has not been initialized", "body": "<p>Kotlin <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\"><code>lateinit var</code> properties</a> cannot be accessed before the value is actually set, and the <code>UninitializedPropertyAccessException</code> is thrown in that case.</p>\n\n<p>From what I see in your code, you expect the property value to be set by a framework (Spring?) based on the <code>@Value</code> annotation. But you access the property in the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"noreferrer\"><code>init</code> block, which is executed at the object construction time</a>, and I'm quite sure, the framework sets the values only after the object is constructed.</p>\n\n<p>You can either avoid using the property value before it is set (don't use it in the <code>init</code> blocks and other property initializers) or provide a default value for the property, as in @wasyl's answer.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "is_accepted": false, "score": 0, "last_activity_date": 1496309026, "last_edit_date": 1496309026, "creation_date": 1496151443, "answer_id": 44263858, "question_id": 44252698, "link": "https://stackoverflow.com/questions/44252698/kotlin-lateinit-property-val-variable-has-not-been-initialized/44263858#44263858", "title": "(Kotlin) lateinit property &#39;VAL variable&#39; has not been initialized", "body": "<p>I'm supposing you using spring and his DI.</p>\n\n<p>The problem is you caller the email field before make the instance and cannot inject the dependencies if not have any instance. For fix this issue, set dependency in constructor.</p>\n\n<pre><code>@Component\nclass Foo @Inject constructor(@param:Value(\"\\${some.property}\") val emailDir: String)\n{\n    init\n    {\n        log.info(\"=============================================================\")\n        log.info(\"Email Config File Dir: ${this.emailDir}\")\n        log.info(\"=============================================================\")\n     }\n}\n</code></pre>\n"}], "owner": {"reputation": 810, "user_id": 1537029, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/zvYNG.jpg?s=128&g=1", "display_name": "Kim", "link": "https://stackoverflow.com/users/1537029/kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11998, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1496309026, "creation_date": 1496112891, "question_id": 44252698, "link": "https://stackoverflow.com/questions/44252698/kotlin-lateinit-property-val-variable-has-not-been-initialized", "title": "(Kotlin) lateinit property &#39;VAL variable&#39; has not been initialized", "body": "<p>Any one have similar problem before? </p>\n\n<p>How can we declare a default variable value for init()?</p>\n\n<p>Below is my code sample,</p>\n\n<pre><code>@Value(\"\\${app.email-config-file: D:\\\\email\\\\src\\\\main\\\\resources\\\\email.config}\")\nprivate lateinit var emailDir: String \n\ninit {\n    log.info(\"====================================================================================================\")\n    log.info(\"Email Config File Dir: ${this.emailDir}\")\n    log.info(\"====================================================================================================\")\n}\n</code></pre>\n\n<p>Then below exception throw : </p>\n\n<blockquote>\n  <p>Caused by: kotlin.UninitializedPropertyAccessException: lateinit\n  property emailDir has not been initialized</p>\n</blockquote>\n\n<p>Any solution can share ? </p>\n"}, {"tags": ["android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496110462, "post_id": 44252286, "comment_id": 75513246, "body": "I don&#39;t see anything wrong with the spec and the config. If you could paste more logs, it will be very helpful."}, {"owner": {"reputation": 3, "user_id": 7983943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d33ffc93ea7974cf7cce59f4aaf0b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7983943/jeff"}, "reply_to_user": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496110677, "post_id": 44252286, "comment_id": 75513286, "body": "What do you require? I&#39;ll take a screenshot of it"}, {"owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496112167, "post_id": 44252286, "comment_id": 75513605, "body": "Better yet, if you could a sample project I clone that reproduces the issue."}, {"owner": {"reputation": 3, "user_id": 7983943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d33ffc93ea7974cf7cce59f4aaf0b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7983943/jeff"}, "reply_to_user": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496116702, "post_id": 44252286, "comment_id": 75514661, "body": "Fixed. I had to removed the @RunWith(JUnitPlatform::class) at the top of my code"}, {"owner": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496116793, "post_id": 44252286, "comment_id": 75514684, "body": "Looks like a bug with JUnit IDEA plugin."}, {"owner": {"reputation": 3, "user_id": 7983943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d33ffc93ea7974cf7cce59f4aaf0b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7983943/jeff"}, "reply_to_user": {"reputation": 505, "user_id": 1425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sxUa.png?s=128&g=1", "display_name": "raniejade", "link": "https://stackoverflow.com/users/1425525/raniejade"}, "edited": false, "score": 0, "creation_date": 1496117542, "post_id": 44252286, "comment_id": 75514870, "body": "It seems so. Thanks for trying to help :) Appreciate it"}, {"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "edited": false, "score": 0, "creation_date": 1496199284, "post_id": 44252286, "comment_id": 75557200, "body": "Well, Spek actually has written in the docs that JUnit 4 doesn&#39;t work with IDEA so not sure it qualifies as a bug.    &quot;As mentioned in the IDE Support section, the IDEA plugin won\u2019t work if you\u2019re using the JUnit 4 runner.&quot; <a href=\"http://spekframework.org/docs/latest/#setting-up-legacy\" rel=\"nofollow noreferrer\">spekframework.org/docs/latest/#setting-up-legacy</a>"}], "owner": {"reputation": 3, "user_id": 7983943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d33ffc93ea7974cf7cce59f4aaf0b60?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7983943/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1526793877, "creation_date": 1496109272, "last_edit_date": 1496129983, "question_id": 44252286, "link": "https://stackoverflow.com/questions/44252286/simple-calculator-unit-testing-using-kotlin-with-spek-exit-code-1", "title": "Simple Calculator, Unit testing using KOTLIN with Spek (Exit code -1)", "body": "<p>I am very new to android developing and recently did my first project. It is only a basic calculator with addition, subtraction, multiplication and division.</p>\n\n<p>I am now trying to do unit testing to test the functions of my calculator but i am receiving this output(shown below). I have no idea what is causing this to happen. Please help</p>\n\n<p>Output:\n<a href=\"https://i.stack.imgur.com/ba7iB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ba7iB.png\" alt=\"enter image description here\"></a></p>\n\n<p>FunctionsTest.kt:</p>\n\n<pre><code>@RunWith(JUnitPlatform::class)\nclass FunctionsTest : Spek({\n\n    given(\"a calculator\") {\n\n        on(\"adding the first number to the second number\") {\n            val sum = Functions.addFunction(2.0, 3.0)\n            it(\"should return the result of adding the first number to the second number\") {\n                assertEquals(5, sum)\n            }\n        }\n\n        on(\"subtracting the second number from the first number\") {\n            val sub = Functions.minusFunction(5.0,2.0)\n            it(\"should return the value of subtracting the second number from the first number\") {\n                assertEquals(3, sub)\n            }\n        }\n\n        on(\"Multiplying the first number and the second number\") {\n            val mul = Functions.multiFunction(5.0,2.0)\n            it(\"should return the value of multiplying the first and second number\") {\n                assertEquals(10, mul)\n            }\n        }\n\n        on(\"Dividing the second number from the first number\") {\n            val div = Functions.divFunction(9.0,3.0)\n            it(\"should return the value of dividing the second number from the first number\") {\n                assertEquals(3, div)\n            }\n        }\n    }\n\n})\n</code></pre>\n\n<p>Gradle Build:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\ncompileSdkVersion 25\nbuildToolsVersion \"25.0.3\"\ndefaultConfig {\n    applicationId \"com.example.zhiwen.calculator\"\n    minSdkVersion 21\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile 'com.android.support:appcompat-v7:25.3.1'\ncompile 'com.android.support.constraint:constraint-layout:1.0.2'\ntestCompile 'junit:junit:4.12'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\nandroidTestCompile 'com.android.support:support-annotations:25.3.1'\nandroidTestCompile 'com.android.support.test:runner:0.5'\n\ntestCompile\"org.jetbrains.spek:spek-api:1.1.2\"\ntestCompile\"org.jetbrains.spek:spek-junit-platform-engine:1.1.2\"\ntestCompile\"org.junit.platform:junit-platform-runner:1.0.0-M4\"\n\n\n\n\nconfigurations.all {\n    resolutionStrategy.force \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n\ndependencies {\n    testCompile \"com.nhaarman:mockito-kotlin:1.3.0\"\n}\n\n\n\n}\nrepositories {\nmaven { url \"http://dl.bintray.com/jetbrains/spek\" }\nmavenCentral()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1496107227, "post_id": 44251956, "comment_id": 75512561, "body": "Kotlin is not the problem. Learn how to use ConstraintLayout and how to handle empty input strings before you attempt to parse a number"}, {"owner": {"reputation": 108, "user_id": 6633165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Thll.jpg?s=128&g=1", "display_name": "Jeffrey Cheong", "link": "https://stackoverflow.com/users/6633165/jeffrey-cheong"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1496112546, "post_id": 44251956, "comment_id": 75513680, "body": "Thank for helping :) it solved my problem, i am new in android studio as well. just realized that constraintLayout are important to control the layout."}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 6633165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Thll.jpg?s=128&g=1", "display_name": "Jeffrey Cheong", "link": "https://stackoverflow.com/users/6633165/jeffrey-cheong"}, "edited": false, "score": 0, "creation_date": 1496112486, "post_id": 44252248, "comment_id": 75513668, "body": "THank for helping"}], "tags": [], "owner": {"reputation": 328, "user_id": 1833079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bcf511ca09503604059bc632c4dac6?s=128&d=identicon&r=PG", "display_name": "Sputnik", "link": "https://stackoverflow.com/users/1833079/sputnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1496108854, "creation_date": 1496108854, "answer_id": 44252248, "question_id": 44251956, "link": "https://stackoverflow.com/questions/44251956/layout-issues-and-bugs-in-android-application-developed-using-kotlin/44252248#44252248", "title": "layout issues and bugs in android application developed using kotlin", "body": "<p>your xml has <code>tools:layout_editor_absoluteX=\"40dp\" tools:layout_editor_absoluteY=\"92dp\"</code>\nelements which means these constraints will be applied for the designer window only. Here's the training that might help you to understand how to use Constraint layout: <a href=\"https://developer.android.com/training/constraint-layout/index.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/constraint-layout/index.html</a></p>\n"}], "owner": {"reputation": 108, "user_id": 6633165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Thll.jpg?s=128&g=1", "display_name": "Jeffrey Cheong", "link": "https://stackoverflow.com/users/6633165/jeffrey-cheong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "closed_date": 1496112441, "accepted_answer_id": 44252248, "answer_count": 1, "score": -1, "last_activity_date": 1496108854, "creation_date": 1496105918, "question_id": 44251956, "link": "https://stackoverflow.com/questions/44251956/layout-issues-and-bugs-in-android-application-developed-using-kotlin", "closed_reason": "Duplicate", "title": "layout issues and bugs in android application developed using kotlin", "body": "<p>I just got into kotlin yesterday, and I attempted to create a basic calculator using Android studio 3.0 Canary 2,JRE 1.8.0. Unfortunately, when I install the application into my phone, it turns out differently like the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/9MH0J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MH0J.png\" alt=\"Kotlin calculator in my phone\"></a></p>\n\n<p>In my android studio, the design was like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/vldZ5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vldZ5.jpg\" alt=\"kotlin calculator in android studio\"></a></p>\n\n<p>Here is my xml   </p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;android.support.constraint.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.jeffrey.kotlincalculator.MainActivity\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText_num1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:ems=\"10\"\n        android:inputType=\"number\"\n        android:hint=\"Input Number 1\"\n        tools:layout_editor_absoluteX=\"40dp\"\n        tools:layout_editor_absoluteY=\"27dp\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText_num2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:ems=\"10\"\n        android:inputType=\"number\"\n        android:hint=\"Input Number 2\"\n        tools:layout_editor_absoluteX=\"40dp\"\n        tools:layout_editor_absoluteY=\"92dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textview_result\"\n        android:layout_width=\"345dp\"\n        android:layout_height=\"39dp\"\n        android:text=\"Result\"\n        android:textAppearance=\"@android:style/TextAppearance\"\n        android:textAlignment=\"center\"\n        tools:ignore=\"MissingConstraints\"\n        tools:layout_editor_absoluteY=\"159dp\"\n        tools:layout_editor_absoluteX=\"20dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_add\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"48dp\"\n        android:text=\"+\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        tools:layout_editor_absoluteY=\"219dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_minus\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"-\"\n        tools:layout_editor_absoluteY=\"291dp\"\n        tools:layout_editor_absoluteX=\"48dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_multiple\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"*\"\n        tools:layout_editor_absoluteX=\"266dp\"\n        tools:layout_editor_absoluteY=\"219dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button_divide\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"/\"\n        tools:layout_editor_absoluteX=\"266dp\"\n        tools:layout_editor_absoluteY=\"291dp\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>While there are second issue, </p>\n\n<p>I tried to enter numbers into number field, when i click +(add)button it crashes immediately. </p>\n\n<p>Here's the errors</p>\n\n<pre><code>FATAL EXCEPTION: main\n  Process: com.example.jeffrey.kotlincalculator, PID: 20432\n  java.lang.NumberFormatException: Invalid int: \"\"\n      at java.lang.Integer.invalidInt(Integer.java:138)\n      at java.lang.Integer.parseInt(Integer.java:358)\n      at java.lang.Integer.parseInt(Integer.java:334)\n      at com.example.jeffrey.kotlincalculator.MainActivity.getNum1(MainActivity.kt:42)\n      at com.example.jeffrey.kotlincalculator.MainActivity$onCreate$1.onClick(MainActivity.kt:24)\n      at android.view.View.performClick(View.java:5207)\n      at android.view.View$PerformClick.run(View.java:21177)\n      at android.os.Handler.handleCallback(Handler.java:739)\n      at android.os.Handler.dispatchMessage(Handler.java:95)\n      at android.os.Looper.loop(Looper.java:148)\n      at android.app.ActivityThread.main(ActivityThread.java:5438)\n      at java.lang.reflect.Method.invoke(Native Method)\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:739)\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)\n</code></pre>\n\n<p>it obviously shows that the INT was an error.</p>\n\n<p>Here's my MainActivity code.</p>\n\n<pre><code>package com.example.jeffrey.kotlincalculator\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val result = findViewById(R.id.textview_result) as TextView\n        val button_add = findViewById(R.id.button_add) as Button\n        val button_minus = findViewById(R.id.button_minus) as Button\n        val button_multiple = findViewById(R.id.button_multiple) as Button\n        val button_divide = findViewById(R.id.button_divide) as Button\n\n        button_add.setOnClickListener(View.OnClickListener{\n            view -&gt; result.text = (getNum1() + getNum2()).toString()\n        })\n\n        button_minus.setOnClickListener(View.OnClickListener{\n            view -&gt; result.text = (getNum1() - getNum2()).toString()\n        })\n\n        button_multiple.setOnClickListener(View.OnClickListener{\n            view -&gt; result.text = (getNum1() * getNum2()).toString()\n        })\n\n        button_divide.setOnClickListener(View.OnClickListener{\n            view -&gt; result.text = (getNum1() / getNum2()).toString()\n        })\n    }\n\n    fun getNum1(): Int{\n        val input_num1 = findViewById(R.id.editText_num1) as EditText;\n        return Integer.parseInt(input_num1.text.toString());\n    }\n\n    fun getNum2(): Int{\n        val input_num2 = findViewById(R.id.editText_num2) as EditText;\n        return Integer.parseInt(input_num2.text.toString());\n    }\n}\n</code></pre>\n\n<p>it turns out that when i parseInt of the String that retrieve from the phone was an error. Please help:)</p>\n"}, {"tags": ["java", "generics", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496123816, "post_id": 44251647, "comment_id": 75517093, "body": "This is an unfortunate legacy of Java arrays. Use lists instead - they are basically the same, but with correct inheritance"}], "answers": [{"comments": [{"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496105601, "post_id": 44251767, "comment_id": 75512307, "body": "This doesn&#39;t work since an IntArray and CharArray are noth not an Arrays."}], "tags": [], "owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "is_accepted": false, "score": 0, "last_activity_date": 1496103992, "creation_date": 1496103992, "answer_id": 44251767, "question_id": 44251647, "link": "https://stackoverflow.com/questions/44251647/kotlin-generic-method-and-for-loop-asking-for-iterator/44251767#44251767", "title": "Kotlin: generic method and for loop asking for iterator()", "body": "<p>The problem is that the compiler does not know you are passing an <code>Array</code> and <code>T</code> can be of any type.</p>\n\n<p>One way to fix this would be using <code>is</code> operator:</p>\n\n<pre><code>fun &lt;T&gt;printMe(args: T){\n    if(args is Array&lt;*&gt;) {\n            for (items in args) {\n                println(items)\n            }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 861, "user_id": 5279836, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/937588939607461/picture?type=large", "display_name": "Waqar Haider", "link": "https://stackoverflow.com/users/5279836/waqar-haider"}, "edited": false, "score": 0, "creation_date": 1496130556, "post_id": 44251925, "comment_id": 75521078, "body": "overloading may be best option, but i&#39;m practicing and i want to know how things works."}], "tags": [], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "is_accepted": false, "score": 2, "last_activity_date": 1496106081, "last_edit_date": 1496106081, "creation_date": 1496105552, "answer_id": 44251925, "question_id": 44251647, "link": "https://stackoverflow.com/questions/44251647/kotlin-generic-method-and-for-loop-asking-for-iterator/44251925#44251925", "title": "Kotlin: generic method and for loop asking for iterator()", "body": "<p>This is actually a little bit subtle. </p>\n\n<p>The key problem is that variable <code>arr</code> is of type <code>IntArray</code> and <code>IntArray</code> is not derived from <code>Array</code>. Similarly while <code>IntArray</code> has an <code>iterator()</code> function it does not implement <code>Iterable&lt;&gt;</code>. </p>\n\n<p>The same occurs for for <code>CharArray</code> variable.</p>\n\n<p>In fact <code>IntArray</code> and <code>CharArray</code> and <code>Array&lt;T&gt;</code> don't seem to have any common base class or interface other than <code>Any</code>. So you're either stuck passing an object and doing a typecheck in <code>printMe</code>, or using overloading.</p>\n\n<p>A type-checking version would look like</p>\n\n<pre><code>printMe(args:Any) {\n   if(args is IntArray) {\n      for(item in args) {\n         println(item)\n      }\n   } else if (args is CharArray) {\n     for(item in args) {\n        println(item)\n     }\n   } else {\n     println(\"Not an IntArray or a CharArray\")\n   }\n}\n</code></pre>\n\n<p>Overloading would look like this</p>\n\n<pre><code>printMe(args:IntArray) {\n  for(item in args) {\n    println(item)\n  }\n}\n\nprintMe(args:CharArray) {\n  for(item in args) {\n    println(item)\n  }\n}\n</code></pre>\n\n<p>IMO overloading is the better option since you can't end up passing an object you cant handle by mistake.</p>\n"}, {"comments": [{"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496152158, "post_id": 44252804, "comment_id": 75536245, "body": "This is neat, but I don&#39;t like the binding of the type into the call site. It feels like this is too similar to something like <code>printMe(arr.iterator)</code> where <code>printMe is given by </code>fun &lt;T&gt; printMe(iterator:Iterator&lt;T&gt;)`."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1496167756, "post_id": 44252804, "comment_id": 75546160, "body": "@MichaelAnderson You can also call printMe as <code>printMe(arr, { iterator() })</code>. I agree in this case you can just pass an iterator itself, but sometimes you may need to instantiate it in <code>printMe</code> several times or do something else with <code>args</code>."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 5, "last_activity_date": 1496113777, "creation_date": 1496113777, "answer_id": 44252804, "question_id": 44251647, "link": "https://stackoverflow.com/questions/44251647/kotlin-generic-method-and-for-loop-asking-for-iterator/44252804#44252804", "title": "Kotlin: generic method and for loop asking for iterator()", "body": "<p>for-loop in Kotlin works by convention, looking <em>statically</em> for an operator member named <code>iterator</code> which must return something that can be iterated, i.e. something that has in turn operator members <code>next</code> and <code>hasNext</code>. </p>\n\n<p><code>operator</code> modifier on such members is required to specify that the member is to satisfy some convention, namely the iteration convention.</p>\n\n<p>Since <code>args</code> is of type <code>T</code> and there is no <code>iterator</code> member in every possible type <code>T</code>, it can't be iterated readily.</p>\n\n<p>However you can provide an additional parameter to <code>printMe</code>, which knows how to get an iterator out of an instance of <code>T</code>, and then use it to obtain an iterator and iterate it:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val arr: IntArray = intArrayOf(1,2,3,4)\n    val charA: CharArray = charArrayOf('a','b','c','d')\n\n    printMe(arr, IntArray::iterator)\n    printMe(charA, CharArray::iterator)\n\n}\n\nfun &lt;T&gt; printMe(args: T, iterator: T.() -&gt; Iterator&lt;*&gt;) {\n    for (item in args.iterator()) {\n        println(item)\n    }\n}\n</code></pre>\n\n<p>Here <code>T.() -&gt; Iterator&lt;*&gt;</code> is a type which denotes a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\">function with receiver</a>. Instances of that type can be invoked on <code>T</code> as if they were its extensions.</p>\n\n<p>This snippet works because the iterator returned has itself an operator extension function <code>Iterator&lt;T&gt;.iterator() = this</code> which just returns that iterator, thus allowing to loop through the iterator with a for-loop.</p>\n"}], "owner": {"reputation": 861, "user_id": 5279836, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/937588939607461/picture?type=large", "display_name": "Waqar Haider", "link": "https://stackoverflow.com/users/5279836/waqar-haider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 0, "accepted_answer_id": 44252804, "answer_count": 3, "score": 3, "last_activity_date": 1496113777, "creation_date": 1496102724, "question_id": 44251647, "link": "https://stackoverflow.com/questions/44251647/kotlin-generic-method-and-for-loop-asking-for-iterator", "title": "Kotlin: generic method and for loop asking for iterator()", "body": "<p>This is a simple generic method,and passing the values the args in for loop is causing an error saying:</p>\n\n<blockquote>\n  <p>for-loop range must have and iterator() method</p>\n</blockquote>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val arr: IntArray = intArrayOf(1,2,3,4)\n    val charA: CharArray = charArrayOf('a','b','c','d')\n\n    printMe(arr)\n    printMe(charA)\n\n}\n\nfun &lt;T&gt;printMe(args: T){\n   for (items in args){\n        println(items)\n    }\n}\n</code></pre>\n\n<p>how do i make it iterate throught the values for both <code>char[]</code> and <code>array</code></p>\n"}, {"tags": ["java", "swing", "javafx", "kotlin", "read-eval-print-loop"], "answers": [{"tags": [], "owner": {"reputation": 1560, "user_id": 1673861, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FWGcY.jpg?s=128&g=1", "display_name": "L. Blanc", "link": "https://stackoverflow.com/users/1673861/l-blanc"}, "is_accepted": false, "score": 2, "last_activity_date": 1496352999, "last_edit_date": 1496352999, "creation_date": 1496144370, "answer_id": 44261259, "question_id": 44250741, "link": "https://stackoverflow.com/questions/44250741/java-awt-headlessexception-launching-javafx-app-from-kotlin-repl/44261259#44261259", "title": "java.awt.HeadlessException launching JavaFX app from Kotlin REPL", "body": "<p>I have been informed by Intellij that this is not currently possible. An issue has been opened: <a href=\"https://youtrack.jetbrains.com/issue/KT-18181\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-18181</a>.</p>\n\n<p>Update: The issue has been fixed for version 1.1.4. (That took Intellij about 3 days. They ain't foolin' around).</p>\n"}], "owner": {"reputation": 1560, "user_id": 1673861, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FWGcY.jpg?s=128&g=1", "display_name": "L. Blanc", "link": "https://stackoverflow.com/users/1673861/l-blanc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496352999, "creation_date": 1496094909, "last_edit_date": 1496116105, "question_id": 44250741, "link": "https://stackoverflow.com/questions/44250741/java-awt-headlessexception-launching-javafx-app-from-kotlin-repl", "title": "java.awt.HeadlessException launching JavaFX app from Kotlin REPL", "body": "<p>Hi I am trying to launch a simple JavaFx application from Kotlin's REPL to display a chart.</p>\n\n<p>The code to launch the app is straightforward, but I get a </p>\n\n<pre><code>java.awt.HeadlessException\nat java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:204)\nat java.awt.Window.&lt;init&gt;(Window.java:536)\nat java.awt.Frame.&lt;init&gt;(Frame.java:420)\nat javax.swing.JFrame.&lt;init&gt;(JFrame.java:233)\nat com.github.lwhite1.tablesaw.plotting.fx.FxPlot.getJfxPanel(FxPlot.java:13)\nat com.github.lwhite1.tablesaw.api.plot.Pareto.initAndShowGUI(Pareto.java:65)\nat com.github.lwhite1.tablesaw.api.plot.Pareto.lambda$show$1(Pareto.java:41)\nat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\nat java.awt.EventQueue.access$500(EventQueue.java:97)\nat java.awt.EventQueue$3.run(EventQueue.java:709)\nat java.awt.EventQueue$3.run(EventQueue.java:703)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p>Googling, I found reference to this command, which I ran: </p>\n\n<pre><code>System.setProperty(\"java.awt.headless\", \"false\")\n</code></pre>\n\n<p>true</p>\n\n<p>but the problem continues, and I get the same error using Swing. How can I display GUI objects from the REPL?</p>\n\n<p>thanks.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1496081167, "post_id": 44247978, "comment_id": 75504900, "body": "TIL: you can use the SO subset of HTML inside the code blocks. \ud83d\udc4d"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1496081254, "post_id": 44247978, "comment_id": 75504936, "body": "I had to look it up just now too :P Also, it only works if you do <code>&lt;pre&gt;&lt;code&gt;</code> instead of indentation."}, {"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "edited": false, "score": 0, "creation_date": 1496164233, "post_id": 44247978, "comment_id": 75544314, "body": "Thank you, this helped me out tremendously. I went with recommendation #2, and will read up a lot more Kotlin documentation to eventually go pure Kotlin."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 0, "creation_date": 1500450297, "post_id": 44247978, "comment_id": 77335968, "body": "The third one solution is called higher-order function. It is function that can use other function as argument. It is documented here: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a> I think it is important to read official documentation."}, {"owner": {"reputation": 511, "user_id": 4969957, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/9nfpr.jpg?s=128&g=1", "display_name": "Saksham Khurana", "link": "https://stackoverflow.com/users/4969957/saksham-khurana"}, "edited": false, "score": 0, "creation_date": 1515742120, "post_id": 44247978, "comment_id": 83424350, "body": "Brilliant solution for Kotlin.. Cheers"}, {"owner": {"reputation": 689, "user_id": 5179352, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/2096cca3192a3882c68a731ab645a524?s=128&d=identicon&r=PG&f=1", "display_name": "Mike76", "link": "https://stackoverflow.com/users/5179352/mike76"}, "edited": false, "score": 0, "creation_date": 1563276832, "post_id": 44247978, "comment_id": 100638366, "body": "I am moving from Java to Kotlin, and it already feels brilliant. I always hated to define a Java Interface just to be able to pass a &quot;custom&quot; callback to a function."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 13, "last_activity_date": 1496080115, "last_edit_date": 1496080115, "creation_date": 1496079748, "answer_id": 44247978, "question_id": 44247827, "link": "https://stackoverflow.com/questions/44247827/android-studio-converting-java-to-kotlin-error-cannot-infer-a-type-for-this-para/44247978#44247978", "title": "Android Studio converting Java to Kotlin error Cannot infer a type for this parameter. Please specify it explicitly", "body": "<p>As of now, you can't use <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"noreferrer\">SAM conversion</a> for interfaces defined in Kotlin. There are a couple things you can do to solve your problem though.</p>\n\n<ol>\n<li><p>If you define your interface in Java, SAM conversion will start working, and your current code will work without any other changes.</p></li>\n<li><p>If you want to use an interface as the parameter of the <code>fetch_data</code> method, and you want it to be written in Kotlin, you'll have to pass in an <code>object</code> that implements it, which is a slightly verbose, Java-like solution:</p>\n\n<pre><code>jmManager.fetch_data(object: OnTaskCompleted {\n    override fun onTaskCompleted(theJsonArray: JSONArray) {\n        // ...\n    }\n})\n</code></pre></li>\n<li><p>If you want a nice pure Kotlin solution, just get rid of the interface, and have the <code>fetch_data</code> function take a function as its parameter instead of the interface (again, your current code in <code>DataDisplayPage</code> will work with this):</p>\n\n<p><pre><code>fun fetch_data(callback: (JSONArray) -> Unit) { \n    // ...\n    <s>listener?.onTaskCompleted(response)</s>\n    callback(response)\n    // ...\n}\n</pre></code></p></li>\n</ol>\n"}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7436, "favorite_count": 1, "accepted_answer_id": 44247978, "answer_count": 1, "score": 10, "last_activity_date": 1496080925, "creation_date": 1496079144, "last_edit_date": 1592644375, "question_id": 44247827, "link": "https://stackoverflow.com/questions/44247827/android-studio-converting-java-to-kotlin-error-cannot-infer-a-type-for-this-para", "title": "Android Studio converting Java to Kotlin error Cannot infer a type for this parameter. Please specify it explicitly", "body": "<p>I'm new to Android development (started 6 months ago) and would like to move from Java to Kotlin. I've converted my project to Kotlin and fixed all issues but one and I can't figure out how to fix it.</p>\n<p>I'm attempting to retrieve a JSONArray (as seen in class JsonManager) and use the retrieved data in a second class called DataDisplayPage via a method call.</p>\n<p>I am getting the following console errors, which occur at this line of the second class: <code>jManager.fetch_data{ theJsonArray  -&gt;</code>.</p>\n<blockquote>\n<p>Cannot infer a type for this parameter. Please specify it explicitly.</p>\n<p>Type mismatch: inferred type is (???) -&gt; Unit but OnTaskCompleted was expected</p>\n</blockquote>\n<p>First class JsonManager</p>\n<pre><code>interface OnTaskCompleted {\n    fun onTaskCompleted(theJsonArray: JSONArray)\n}\n\nclass JsonManager {\n    var listener: OnTaskCompleted? = null\n\n    init {\n        Log.d(&quot;JsonManager&quot;, &quot;Instance created&quot;)\n    }\n\n    fun fetch_data(callback : OnTaskCompleted) {\n        listener = callback\n         val url =&quot;https://someURL&quot;\n\n        AndroidNetworking.get(url)\n            .build()\n            .getAsJSONArray(object : JSONArrayRequestListener {\n                override fun onResponse(response: JSONArray) {\n                    listener?.onTaskCompleted(response)\n                }\n\n                override fun onError(anError: ANError) {\n                    Log.d(&quot;error&quot;, anError.toString())\n                }\n            })\n\n}\n</code></pre>\n<p>Second class DataDisplayPage</p>\n<pre><code>class DataDisplayPage : AppCompatActivity()\n\n    fun onStartUp() {\n\n        val jManager = JsonManager()\n\n        jManager.fetch_data{ theJsonArray  -&gt;\n            val newData = DepData()\n            newData.setCellData(theJsonArray as JSONArray)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "edited": false, "score": 0, "creation_date": 1496079331, "post_id": 44247709, "comment_id": 75504083, "body": "Please, show your folder structure."}, {"owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "reply_to_user": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "edited": false, "score": 0, "creation_date": 1496079480, "post_id": 44247709, "comment_id": 75504145, "body": "I have edited with the folder structure"}], "answers": [{"tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": true, "score": 44, "last_activity_date": 1527095317, "last_edit_date": 1527095317, "creation_date": 1496113711, "answer_id": 44252794, "question_id": 44247709, "link": "https://stackoverflow.com/questions/44247709/kotlin-cannot-find-symbol-class-fragment-or-other-android-classes/44252794#44252794", "title": "Kotlin : Cannot find symbol class Fragment or other android classes", "body": "<p><strong>Problem :</strong> I made a <strong>stupid mistake</strong> that I <strong>forgot</strong> to <code>apply kotlin-android</code> <strong>plugin</strong> </p>\n\n<p><strong>Solution :</strong> On the top of <strong>app gradle</strong> file paste :</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 11004423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W050P.png?s=128&g=1", "display_name": "Acmpo6ou", "link": "https://stackoverflow.com/users/11004423/acmpo6ou"}, "is_accepted": false, "score": 0, "last_activity_date": 1613391076, "creation_date": 1613391076, "answer_id": 66207801, "question_id": 44247709, "link": "https://stackoverflow.com/questions/44247709/kotlin-cannot-find-symbol-class-fragment-or-other-android-classes/66207801#66207801", "title": "Kotlin : Cannot find symbol class Fragment or other android classes", "body": "<p>Sometimes I had this kind of error even when this:</p>\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n<p>was in my app gradle.</p>\n<p>The solution is to delete the <code>app/build</code> directory. This folder is auto generated so there will be no problems deleting it.</p>\n<p>Hope this will help somebody.</p>\n"}], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5905, "favorite_count": 0, "accepted_answer_id": 44252794, "answer_count": 2, "score": 11, "last_activity_date": 1613391076, "creation_date": 1496078603, "last_edit_date": 1496114237, "question_id": 44247709, "link": "https://stackoverflow.com/questions/44247709/kotlin-cannot-find-symbol-class-fragment-or-other-android-classes", "title": "Kotlin : Cannot find symbol class Fragment or other android classes", "body": "<p>I have a java fragment with viewPager in it..</p>\n\n<pre><code>public class FragmentWithViewPager extends Fragment {\n\n    private class ViewPagerAdapter extends FragmentStatePagerAdapter {\n\n        ViewPagerAdapter(FragmentManager fm) {\n            super(fm);\n        }\n\n        @Override\n        public Fragment getItem(int i) {\n            Fragment fragment = new DeshFalView(); //&lt;-- Problem here\n            Bundle args = new Bundle();\n            args.putInt(\"index\", i);\n            fragment.setArguments(args);\n            return fragment;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Now I have another fragment which will be populated inside the above fragment and is written in kotlin like this :</p>\n\n<pre><code>class DeshFalView : Fragment(), DeshfalContract.View {\n    //More code...\n}\n</code></pre>\n\n<p>I do not get any lint warning or error but when I try to run the app:</p>\n\n<p>But I get a error :</p>\n\n<p><strong>Error:(79, 37) error: cannot find symbol class DeshFalView</strong>   </p>\n\n<p>in the highlighted line above ..\nthose two classes are inside same package as shown below <a href=\"https://i.stack.imgur.com/DYnIQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DYnIQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks in advance ...</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-custom-view", "android-viewgroup"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1496073749, "post_id": 44246505, "comment_id": 75501583, "body": "your <code>onLayout()</code> is empty so your children are not laid out, whats the output of <code>adb shell dumpsys activity top</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 7833421, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca0847d1999c25567f4cf92b6b5ef479?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Surkov", "link": "https://stackoverflow.com/users/7833421/eugene-surkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1496074204, "creation_date": 1496074204, "answer_id": 44246662, "question_id": 44246505, "link": "https://stackoverflow.com/questions/44246505/add-view-to-custom-view-group/44246662#44246662", "title": "Add view to custom view group", "body": "<p>So, just extends FrameLayout and all will be good\nclass CircleView : FrameLayout</p>\n"}], "owner": {"reputation": 205, "user_id": 7833421, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca0847d1999c25567f4cf92b6b5ef479?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Surkov", "link": "https://stackoverflow.com/users/7833421/eugene-surkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 889, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1496074204, "creation_date": 1496073565, "question_id": 44246505, "link": "https://stackoverflow.com/questions/44246505/add-view-to-custom-view-group", "title": "Add view to custom view group", "body": "<p>I try to add view to my custom view group but all my attempts are unsuccessful\n My custom view group</p>\n\n<pre><code>class CircleView : ViewGroup, View.OnTouchListener {\n\nprivate var controller: SpeedControllerImp? = null\n\nconstructor(context: Context) : super(context) {\n    init()\n}\n\nconstructor(context: Context, attrs: AttributeSet?) : super(context, attrs) {\n    var mTextView = TextView(this.context)\n    mTextView?.setTextColor(Color.WHITE)\n    mTextView?.textSize = 150F\n    val params = LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT)\n    mTextView?.layoutParams = params\n    mTextView?.text = \"asdasadasdasdasdasdasdasdasdasdasdasdasdas\"\n\n    this.addView(mTextView)\n    init()\n}\n</code></pre>\n\n<p>/* override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {</p>\n\n<pre><code>    val count = childCount\n    for (i in 0..count - 1) {\n        var childView = getChildAt(i)\n        childView.measure(widthMeasureSpec, heightMeasureSpec)\n    }\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec)\n}\n</code></pre>\n\n<p>*/\n    override fun onLayout(changed: Boolean, l: Int, t: Int, r: Int, b: Int) {</p>\n\n<pre><code>}\n\noverride fun onDraw(canvas: Canvas) {\n    super.onDraw(canvas)\n    controller?.onDraw(canvas)\n    invalidate()\n}\n\noverride fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n    controller?.onSizeChanged(w, h)\n    super.onSizeChanged(w, h, oldw, oldh)\n}\n\noverride fun onTouch(v: View, event: MotionEvent): Boolean {\n    controller?.onTouchEvent(event)\n    return true\n}\n\nprivate fun init() {\n    setWillNotDraw(false)\n    setOnTouchListener(this)\n    controller = SpeedControllerImp()\n}\n</code></pre>\n\n<p>}\nfun onMeasure don't help me(\nWhere is my error?</p>\n"}, {"tags": ["kotlin", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1496071878, "creation_date": 1496071878, "answer_id": 44246048, "question_id": 44245780, "link": "https://stackoverflow.com/questions/44245780/rxkotlin-flattenasobservable-type-mismatch-with-method-reference/44246048#44246048", "title": "RxKotlin flattenAsObservable(): type mismatch with method reference", "body": "<p><code>RootSearchResponse::searchResults</code> is a method reference. Instead of passing this to the <code>map</code> function, by using <code>{}</code>, you're passing in a lambda that always returns this method reference. </p>\n\n<p>Basically, you're mapping every incoming element to that method reference with your <code>map</code> operation, instead of applying that method to every element like you'd want to. So the incoming parameters of your <code>flattenAsObservable</code> method are always that same reference to the <code>searchResults</code> method, which is a <code>KProperty1</code>.</p>\n\n<p>To apply the method that you're referencing to every element, you can pass the method reference in regular parentheses, like so:</p>\n\n<pre><code>.map(RootSearchResponse::searchResults)\n</code></pre>\n\n<hr>\n\n<p>For an additional simple example of what's happening with the lambda:</p>\n\n<pre><code>listOf(1, 2, 3, 4, 5).map { 2 }\n</code></pre>\n\n<p>This operation would map every element to <code>2</code>, and you'd end up with a list that only contains <code>2</code> five times. It's basically just shorthand for the following, just without an explicit parameter name:</p>\n\n<pre><code>listOf(1, 2, 3, 4, 5).map { x -&gt; 2 }\n</code></pre>\n"}], "owner": {"reputation": 6047, "user_id": 4624156, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lLHF6.png?s=128&g=1", "display_name": "Josh Laird", "link": "https://stackoverflow.com/users/4624156/josh-laird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "accepted_answer_id": 44246048, "answer_count": 1, "score": 1, "last_activity_date": 1496071878, "creation_date": 1496070943, "question_id": 44245780, "link": "https://stackoverflow.com/questions/44245780/rxkotlin-flattenasobservable-type-mismatch-with-method-reference", "title": "RxKotlin flattenAsObservable(): type mismatch with method reference", "body": "<p>I'm converting some Java code to Kotlin and I'm having some trouble with <code>flattenAsObservable()</code></p>\n\n<p>Here's what the code looked like in Java:</p>\n\n<pre><code>discogsInteractor.search(query)\n    .map(RootSearchResponse::getSearchResults)\n    .flattenAsObservable(searchResults -&gt; searchResults)\n    .take(12)\n</code></pre>\n\n<p>Here's what I have so far in Kotlin:</p>\n\n<pre><code>discogsInteractor.search(query)\n    .map { RootSearchResponse::searchResults }\n    .flattenAsObservable&lt;SearchResult&gt; { searchResults -&gt; searchResults }\n    .take(12)\n</code></pre>\n\n<p>It underlines the second <code>searchResults</code> and gives me the following error:</p>\n\n<pre><code>Required: (Mutable)Iterable&lt;SearchResult!&gt;!\nFound: KProperty1&lt;RootSearchResponse, List&lt;SearchResult&gt;&gt;!\n</code></pre>\n\n<p>I can replace </p>\n\n<pre><code>.map { RootSearchResponse::searchResults }\n</code></pre>\n\n<p>with </p>\n\n<pre><code>.map { searchResponse -&gt; searchResponse.searchResults }\n</code></pre>\n\n<p>and it will work. How do I correctly method reference? Or what's the reason that I can't in this instance?</p>\n\n<p><strong>RootSearchResponse:</strong></p>\n\n<pre><code>data class RootSearchResponse(val pagination: Pagination,\n                              @SerializedName(\"results\") val searchResults: List&lt;SearchResult&gt;)\n</code></pre>\n"}, {"tags": ["rx-java", "kotlin", "reactive-programming"], "comments": [{"owner": {"reputation": 3123, "user_id": 7803527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bskeA.jpg?s=128&g=1", "display_name": "Dean Xu", "link": "https://stackoverflow.com/users/7803527/dean-xu"}, "edited": false, "score": 0, "creation_date": 1496074601, "post_id": 44245603, "comment_id": 75501980, "body": "I find it returns Single. So I think all methods return <code>Single</code>. The code is not bad smell."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1496089488, "post_id": 44245603, "comment_id": 75508166, "body": "You can improve by naming the lambda parameters explicitly instead of <code>it</code>. It is not recommended to use <code>it</code> when lambdas are nested or types are not obvious."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1496135388, "creation_date": 1496135388, "answer_id": 44258019, "question_id": 44245603, "link": "https://stackoverflow.com/questions/44245603/how-combine-the-flatmap-and-previous-single/44258019#44258019", "title": "How combine the flatmap and previous Single", "body": "<p>In your case you don't actually need to use <code>map()</code> at all. Just create your <code>Api</code> object within <code>flatmap()</code>.</p>\n\n<pre><code>fun getConnection(token: String): Single&lt;Connection&gt; {\n  return connect().flatMap { conn -&gt;\n    val api = Api(conn)\n    api.auth(token).map { Connection(api, it) }\n  }     \n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1762739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47982d4062f61d41abbf237f339573a3?s=128&d=identicon&r=PG", "display_name": "Alex Suslov", "link": "https://stackoverflow.com/users/1762739/alex-suslov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1921, "favorite_count": 0, "accepted_answer_id": 44258019, "answer_count": 1, "score": 0, "last_activity_date": 1496135388, "creation_date": 1496070368, "question_id": 44245603, "link": "https://stackoverflow.com/questions/44245603/how-combine-the-flatmap-and-previous-single", "title": "How combine the flatmap and previous Single", "body": "<p>There is next working code, which combine results of <code>.connect()</code> and <code>.auth()</code>.</p>\n\n<p><code>auth()</code> depends on the result of <code>connect()</code>. In total it necessary to combine api and auth results into <code>Connection</code> object.</p>\n\n<pre><code>fun getConnection(token: String): Single&lt;Connection&gt; {\n  return connect()\n            .map { Api(it) }\n            .flatMap { api -&gt; api.auth(token)\n                                 .map { Connection(api, it) }\n                     }     \n}\n</code></pre>\n\n<p>IMHO this code is smelling. May be it has more optimal solution for getting <code>Connection</code> without an internal mapping in rxjava2? </p>\n"}, {"tags": ["spring", "maven", "jpa", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1496071230, "last_edit_date": 1496071230, "creation_date": 1496070906, "answer_id": 44245767, "question_id": 44245474, "link": "https://stackoverflow.com/questions/44245474/beandefinitionparsingexception-when-trying-to-use-jpa-with-kotlin-and-spring-boo/44245767#44245767", "title": "BeanDefinitionParsingException when trying to use JPA with Kotlin and Spring boot", "body": "<p>From the log it looks like it's actually the 4th class, <code>Application</code>, that you're having a problem with. It says that the <code>init</code> method in that class shouldn't be <code>private</code> or <code>final</code>, your problem here would be the latter - functions and classes in Kotlin are <code>final</code> by default.</p>\n\n<p>You can make the method non-final by marking it with the <code>open</code> keyword.</p>\n\n<pre><code>@Bean\nopen fun init(repository: CustomerRepository) = CommandLineRunner { ... }\n</code></pre>\n\n<p>You'll also have to mark your <code>Application</code> class with the <code>open</code> keyword.</p>\n\n<pre><code>@SpringBootApplication\nopen class Application { ... }\n</code></pre>\n\n<hr>\n\n<p>The reason these <code>open</code> keywords are not in the example is because it uses the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#kotlin-spring-compiler-plugin\" rel=\"nofollow noreferrer\"><code>kotlin-spring</code></a> plugin (<a href=\"https://github.com/sdeleuze/spring-boot-kotlin-demo/blob/master/build.gradle.kts#L20\" rel=\"nofollow noreferrer\">see in the build script</a>), which opens up the classes and functions that Spring requires to be non-final.</p>\n\n<p>You should be able to use the <code>kotlin-spring</code> plugin with Maven as well, if you don't want to manually make your classes <code>open</code>. The instructions for doing so are right above the Gradle instructions, at the end of the chapter about the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#how-to-use-all-open-plugin\" rel=\"nofollow noreferrer\"><code>all-open</code></a> plugin. You just have to include the code that's there, and replace <code>&lt;plugin&gt;all-open&lt;/plugin&gt;</code> with <code>&lt;plugin&gt;spring&lt;/plugin&gt;</code>, as the comment there describes.</p>\n"}], "owner": {"reputation": 21, "user_id": 2003331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrPii.jpg?s=128&g=1", "display_name": "Ahmed Ibrahim", "link": "https://stackoverflow.com/users/2003331/ahmed-ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1835, "favorite_count": 0, "accepted_answer_id": 44245767, "answer_count": 1, "score": 1, "last_activity_date": 1496071230, "creation_date": 1496069966, "question_id": 44245474, "link": "https://stackoverflow.com/questions/44245474/beandefinitionparsingexception-when-trying-to-use-jpa-with-kotlin-and-spring-boo", "title": "BeanDefinitionParsingException when trying to use JPA with Kotlin and Spring boot", "body": "<p>I get this exception when i try to use springboot + JPA + kotlin + maven</p>\n\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: \nConfiguration problem: @Bean method 'init' must not be private or final; \nchange the method's modifiers to continue\nOffending resource: com.wirecard.kotlin.jpa.Application\nat org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:70)\nat org.springframework.context.annotation.BeanMethod.validate(BeanMethod.java:50)\nat org.springframework.context.annotation.ConfigurationClass.validate(ConfigurationClass.java:219)\nat org.springframework.context.annotation.ConfigurationClassParser.validate(ConfigurationClassParser.java:528)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:307)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:239)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:254)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:94)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:686)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:320)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:957)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:946)\nat com.wirecard.kotlin.jpa.ApplicationKt.main(Application.kt:50)\n</code></pre>\n\n<p>I followed the example in this link but it is built using Gradle </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/sdeleuze/spring-boot-kotlin-demo\" rel=\"nofollow noreferrer\">Springboot application for kotlin and JPA</a></p>\n</blockquote>\n\n<p>The code consists of 3 classes</p>\n\n<h2>Class Customer</h2>\n\n<pre><code>import javax.persistence.Entity\nimport javax.persistence.GeneratedValue\nimport javax.persistence.GenerationType\nimport javax.persistence.Id\n\n@Entity\nclass Customer(\n    val firstName: String,\n    val lastName: String,\n    @Id @GeneratedValue(strategy = GenerationType.AUTO)\n    val id: Long = -1) {\n\n    override fun toString(): String {\n    return \"Customer(id=$id, firstName='$firstName', lastName='$lastName')\"\n    }\n}\n</code></pre>\n\n<h2>Class CustomerController</h2>\n\n<pre><code>import org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.PathVariable\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\nclass CustomerController(val repository:CustomerRepository) {\n\n    @GetMapping(\"/\")\n    fun findAll() = repository.findAll()\n\n    @GetMapping(\"/{lastName}\")\n    fun findByLastName(@PathVariable lastName:String)\n            = repository.findByLastName(lastName)\n}\n</code></pre>\n\n<h2>Interface CustomerRepository</h2>\n\n<pre><code>import org.springframework.data.repository.CrudRepository\n\ninterface CustomerRepository : CrudRepository&lt;Customer, Long&gt; {\n\n    fun findByLastName(lastName: String): Iterable&lt;Customer&gt;\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "spark-java"], "comments": [{"owner": {"reputation": 18460, "user_id": 974407, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/19c57d25aa8932f3c41257ab756b69eb?s=128&d=identicon&r=PG", "display_name": "Johnston", "link": "https://stackoverflow.com/users/974407/johnston"}, "edited": false, "score": 1, "creation_date": 1496069607, "post_id": 44245266, "comment_id": 75499440, "body": "@Aaron I do want to use Kotlin. Updated question."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1496069639, "post_id": 44245266, "comment_id": 75499461, "body": "Seems like you need to refer to the Gradle documentation"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1496069864, "post_id": 44245266, "comment_id": 75499601, "body": "By the way, you did not need srcDirs. The default of <code>src&#47;main&#47;kotlin</code> would be fine"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496105904, "post_id": 44245266, "comment_id": 75512352, "body": "dupes also cover running from gradle."}], "owner": {"reputation": 18460, "user_id": 974407, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/19c57d25aa8932f3c41257ab756b69eb?s=128&d=identicon&r=PG", "display_name": "Johnston", "link": "https://stackoverflow.com/users/974407/johnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "closed_date": 1496105879, "answer_count": 0, "score": 0, "last_activity_date": 1496105918, "creation_date": 1496069275, "last_edit_date": 1496105918, "question_id": 44245266, "link": "https://stackoverflow.com/questions/44245266/how-to-run-spark-java-with-kotlin-from-command-line", "closed_reason": "Duplicate", "title": "How to run spark java with Kotlin from command line", "body": "<p>I am newish to Java (haven't done it in probably 7 years). I am using Gradle, with <a href=\"http://sparkjava.com/\" rel=\"nofollow noreferrer\">spark-java</a> to create a simple hello world application that just runs this: </p>\n\n<pre><code>import static spark.Spark.*;\n\nfun main(args: Array&lt;String&gt;) {\n  get(\"/hello\", (req, res) -&gt; \"Hello World!\");\n}\n</code></pre>\n\n<p>In eclipse I can do this by getting the gradle plugin and starting a new gradle project. But there are also \"Kotlin\" projects. So you can't start a new gradle project with kotlin. </p>\n\n<p>What I am trying to grok is the fact that with JavaScript and Node I normally do everything by command line. I would like to build this project and run the server from the command line with Gradle, but I am not sure how to do this. </p>\n\n<p>This is my current build.gradle: </p>\n\n<pre><code>// Apply the kotlin plugin to add support for Kotlin\napply plugin: 'kotlin'\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    sourceSets {\n        main.kotlin.srcDirs += 'src/main/myKotlin'\n        main.java.srcDirs += 'src/main/myJava'\n    }\n\n    dependencies {\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2-4'\n    }\n}\n\n// In this section you declare where to find the dependencies of your project\nrepositories {\n    // Use 'jcenter' for resolving your dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n}\n\n// In this section you declare the dependencies for your production and test code\ndependencies {\n    // The production code uses the SLF4J logging API at compile time\n    compile 'com.sparkjava:spark-core:2.3'\n\n    // Declare the dependency for your favourite test framework you want to use in your tests.\n    // TestNG is also supported by the Gradle Test task. Just change the\n    // testCompile dependency to testCompile 'org.testng:testng:6.8.1' and add\n    // 'test.useTestNG()' to your build script.\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>I run <code>gradle</code> on the command line and it builds successfully but how would I start the server so I can go to <code>localhost:4567</code> and see my <code>Hello World</code> output? What is the general flow I should be following?</p>\n\n<p>To be clear: I am making a conscience decision to use Kotlin instead of Java.</p>\n"}, {"tags": ["spring-data", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "edited": false, "score": 0, "creation_date": 1496078861, "post_id": 44246973, "comment_id": 75503898, "body": "Yes, I&#39;ve been doing something like &#39;Email().apply { address = &quot;what@what.com&quot;, otherThing = &quot;etc...&quot; }&#39; but I considered it a bit ugly so I was trying to find something like I described above."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1496075459, "creation_date": 1496075459, "answer_id": 44246973, "question_id": 44245174, "link": "https://stackoverflow.com/questions/44245174/new-instance-of-extended-object-in-kotlin/44246973#44246973", "title": "New instance of extended object in Kotlin", "body": "<p>The idiomatic way to initialize the properties after an object is instantiated is using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>.apply { }</code></a> extension function:</p>\n\n<pre><code>val john = Person(name = \"John\")\n\nval email = Email(address = \"john@mail.com\").apply {\n     person = john\n     /* more initialization in scope of `email` */\n}\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 515291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/MQzGj.jpg?s=128&g=1", "display_name": "Marcelus Trojahn", "link": "https://stackoverflow.com/users/515291/marcelus-trojahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 44246973, "answer_count": 1, "score": 1, "last_activity_date": 1496075459, "creation_date": 1496068983, "question_id": 44245174, "link": "https://stackoverflow.com/questions/44245174/new-instance-of-extended-object-in-kotlin", "title": "New instance of extended object in Kotlin", "body": "<p>I'm new to Kotlin coming from Groovy. As a way to study the language I'm trying to reproduce a few small Groovy examples on Kotlin.</p>\n\n<p>Consider the following:</p>\n\n<pre><code>@Entity\ndata class Person(\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n        var id: Long = 0,\n\n        var name: String = \"\",\n\n        @OneToMany(mappedBy = \"person\")\n        var contacts: MutableList&lt;BaseContact&gt;? = null\n) : BaseEntity()\n\n\n@Entity\n@Inheritance\nopen class BaseContact(\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n        var id: Long = 0,\n\n        @ManyToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = \"person_id\", referencedColumnName = \"id\")\n        var person: Person\n)\n\n@Entity\n@DiscriminatorValue(\"email\")\ndata class Email(\n        var address: String = \"\"\n) : BaseContact()\n\n@Entity\n@DiscriminatorValue(\"phone\")\ndata class Phone(\n        var number: String = \"\"\n) : BaseContact()\n</code></pre>\n\n<p>I have a few Spring Data applications that I'm trying to reproduce in Kotlin and some of them use @Inheritance. The \"problem\" I'm having is that an Email always have to have a Person. But Email get that property from BaseContact so I can't do something like the bellow because \"person\" is not part of the constructor.</p>\n\n<pre><code>val john = Person(name = 'John')\nval email = Email(address = 'john@mail.com', person = john)\n</code></pre>\n\n<p>This will work though:</p>\n\n<pre><code>val email = Email(address = 'john@mail.com')\nemail.person = john\n</code></pre>\n\n<p>Because after the email is instantiated I can now access the \"person\" property.</p>\n\n<p>Is there any way on Kotlin for me to achieve a more \"Groovy-like\" way to instantiate new objects without having to create many overrides for it's constructor? I'm specially interested on the case of extended classes.</p>\n"}, {"tags": ["arrays", "variables", "arraylist", "initialization", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": false, "score": 2, "last_activity_date": 1496068428, "creation_date": 1496068428, "answer_id": 44245013, "question_id": 44244955, "link": "https://stackoverflow.com/questions/44244955/initializing-arrays-in-kotlin/44245013#44245013", "title": "Initializing arrays in kotlin", "body": "<p>you forget init the array:</p>\n\n<p>Ways:</p>\n\n<pre><code>var firstLineArray = Array&lt;String&gt;()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var firstLineArray = Array (0, { i -&gt; \"\" })\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var firstLineArray = emptyArray&lt;String&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 8, "last_activity_date": 1496068618, "creation_date": 1496068618, "answer_id": 44245062, "question_id": 44244955, "link": "https://stackoverflow.com/questions/44244955/initializing-arrays-in-kotlin/44245062#44245062", "title": "Initializing arrays in kotlin", "body": "<p>You have to initialize your variable with a value. Arrays are fixed size containers, if I'm right that you need an array with a length of 5 here, you can use the following to create it with 5 empty strings as a start:</p>\n\n<pre><code>var firstLineArray: Array&lt;String&gt; = Array(5) { \"\" }\n</code></pre>\n\n<p>Or if you're okay with having an <code>Array&lt;String?&gt;</code> and having to deal with possible <code>null</code> values when reading from the array, you can do:</p>\n\n<pre><code>var firstLineArray: Array&lt;String?&gt; = arrayOfNulls(5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1496074087, "creation_date": 1496074087, "answer_id": 44246637, "question_id": 44244955, "link": "https://stackoverflow.com/questions/44244955/initializing-arrays-in-kotlin/44246637#44246637", "title": "Initializing arrays in kotlin", "body": "<p>You can initialize a String array by the below code:</p>\n\n<pre><code>var firstLineArray = arrayOfNulls&lt;String&gt;(5)\n</code></pre>\n\n<p>The above code will give a String array containing null. It returns <code>Array&lt;String?&gt;</code></p>\n\n<pre><code>var firstLineArray = Array&lt;String&gt;(5) { \"it = $it\" } // returns Array&lt;String&gt;\n\nvar firstLineArray = arrayOf(\"a\", \"b\", \"c\", \"d\", \"e\") // returns Array&lt;String&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 729, "user_id": 9405186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EayAe.jpg?s=128&g=1", "display_name": "Bhanu Prakash Pasupula", "link": "https://stackoverflow.com/users/9405186/bhanu-prakash-pasupula"}, "is_accepted": false, "score": 0, "last_activity_date": 1528308131, "creation_date": 1528308131, "answer_id": 50726798, "question_id": 44244955, "link": "https://stackoverflow.com/questions/44244955/initializing-arrays-in-kotlin/50726798#50726798", "title": "Initializing arrays in kotlin", "body": "<pre><code>val read = Scanner(System.'in')\nprint(\"Enter length: \")\nval length = read.nextInt()\nvar arry: Array&lt;Int&gt; = Array(length){0}\n\nfor(i in 1..length-1){\narry[i] = read.nextInt()\n}\n</code></pre>\n\n<p>To read the int values from the input and store the Array as integers</p>\n"}], "owner": {"reputation": 83, "user_id": 6568310, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/aPpXF.jpg?s=128&g=1", "display_name": "Brandon Dodds", "link": "https://stackoverflow.com/users/6568310/brandon-dodds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8897, "favorite_count": 0, "answer_count": 4, "score": 6, "last_activity_date": 1528308131, "creation_date": 1496068241, "question_id": 44244955, "link": "https://stackoverflow.com/questions/44244955/initializing-arrays-in-kotlin", "title": "Initializing arrays in kotlin", "body": "<p>I am making a haiku generator in kotlin but I am getting a weird 'variable firstLineArray must be initialized' on this block of code.</p>\n\n<pre><code>import java.util.Random\n\nfun oneSyllableWords() : String{\n    val oneSyllableWordArray = arrayOf(\"Life\", \"Love\", \"One\", \"On\", \"No\", \"Go\")\n    val random = Random()\n    val randint = random.nextInt(oneSyllableWordArray.size)\n    return oneSyllableWordArray[randint]\n}\n\nfun main(args:Array&lt;String&gt;){\n    var firstLineArray : Array&lt;String&gt;\n    var syllablesRemaining = 5\n    while(syllablesRemaining&lt;0) {\n        val random = Random()\n        val randint = random.nextInt(4) + 1\n        for (i in 0..4){\n            if(randint == 1){\n                firstLineArray[i] = oneSyllableWords()\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["oop", "kotlin", "constructor", "initialization", "superclass"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496106007, "post_id": 44244700, "comment_id": 75512377, "body": "Is this covered in the Kotlin documentation for Constructors?  <a href=\"http://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#constructors</a>"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 38, "last_activity_date": 1496080845, "last_edit_date": 1496080845, "creation_date": 1496067986, "answer_id": 44244871, "question_id": 44244700, "link": "https://stackoverflow.com/questions/44244700/kotlin-this-type-has-a-constructor-and-thus-must-be-initialized-here-but-no/44244871#44244871", "title": "Kotlin: &#39;This type has a constructor and thus must be initialized here&#39;, but no constructor is declared", "body": "<p>You get this error because, even if you don't define a primary or a secondary constructor in a base class, there is still a default no-argument constructor generated for that class. The constructor of a derived class should always call some of the super constructors, and in your case there is only the default one (this is the constructor that you can call like <code>test()</code> to create an object of the class). The compiler and IDE force you to do that.</p>\n\n<hr>\n\n<p>The super constructor rules complicate the matter to some degree.</p>\n\n<p>If you define a secondary constructor in the derived class without defining the primary constructor (no parentheses near the class declaration), then the secondary constructor itself should call the super constructor, and no super constructor arguments should be specified in the class declaration:</p>\n\n<pre><code>class test2 : test { // no arguments for `test` here\n    constructor(a: Int) : <b>super()</b> { /* ... */ }\n}</code></pre>\n\n<p>Another option is define the primary constructor and call it from the secondary one:</p>\n\n<pre><code>class test2() : test() {\n    constructor(a: Int) : <b>this()</b> { /* ... */ }\n}\n</code></pre>\n"}], "owner": {"reputation": 638, "user_id": 5625013, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10205229343148829/picture?type=large", "display_name": "Shafayat Alam", "link": "https://stackoverflow.com/users/5625013/shafayat-alam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12278, "favorite_count": 4, "accepted_answer_id": 44244871, "answer_count": 1, "score": 19, "last_activity_date": 1566310373, "creation_date": 1496067444, "last_edit_date": 1566310373, "question_id": 44244700, "link": "https://stackoverflow.com/questions/44244700/kotlin-this-type-has-a-constructor-and-thus-must-be-initialized-here-but-no", "title": "Kotlin: &#39;This type has a constructor and thus must be initialized here&#39;, but no constructor is declared", "body": "<p>Recently started with Kotlin</p>\n\n<p>According to Kotlin docs, there can be one primary constructor and one or more secondary constructor.</p>\n\n<p>I don't understand why I see this error\n<a href=\"https://i.stack.imgur.com/CFLKW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CFLKW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Since class <code>test</code> has no primary constructor.</p>\n\n<p>This works fine:</p>\n\n<pre><code>open class test {\n}\n\nclass test2 : test() {\n}\n</code></pre>\n\n<p>And here is another difficulty I have faced, when I define a secondary constructor the IDE shows another error saying </p>\n\n<blockquote>\n  <p>Supertype initialization is impossible without primary constructor\n  <a href=\"https://i.stack.imgur.com/0GlM7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0GlM7.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>But in the previous working example, I did initialize it, yet it worked fine. What did I get wrong? </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 7, "last_activity_date": 1496137303, "creation_date": 1496137303, "answer_id": 44258736, "question_id": 44243763, "link": "https://stackoverflow.com/questions/44243763/how-to-make-sealed-classes-generic-in-kotlin/44258736#44258736", "title": "How to make sealed classes generic in kotlin?", "body": "<p>It's not possible in Kotlin. Every type you use must have an explicitly declared class somewhere. Classes are not created implicitly by the compiler even in the case when nested classes are declared in the superclass.</p>\n\n<p>For your problem, I recommend you rewrite the code from combining two inheritance-based hierarchies to one of the two combining inheritance and composition, or just restructure the hierarchy in some way, for example (I suppose the exact instance of a result would be irrelevant to you in case when it's not <code>Loaded</code>):</p>\n\n<pre><code>sealed class AsyncResult {\n    object InFlight : AsyncResult()\n    data class Error(val errorMessage: String) : AsyncResult()\n    sealed class Loaded&lt;out T&gt;(val result: T) : AsyncResult() {\n        sealed class UserDataAppResult(users: List&lt;User&gt;) : Loaded&lt;List&lt;User&gt;&gt;(users)\n        sealed class CreateUserResult(user: User) : Loaded&lt;User&gt;(user)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 10930984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2pQO.jpg?s=128&g=1", "display_name": "Eli Dangerfield", "link": "https://stackoverflow.com/users/10930984/eli-dangerfield"}, "is_accepted": false, "score": 3, "last_activity_date": 1575431282, "creation_date": 1575431282, "answer_id": 59168658, "question_id": 44243763, "link": "https://stackoverflow.com/questions/44243763/how-to-make-sealed-classes-generic-in-kotlin/59168658#59168658", "title": "How to make sealed classes generic in kotlin?", "body": "<p>Via the Google Guidelines: <a href=\"https://developer.android.com/jetpack/docs/guide\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/guide</a></p>\n\n<pre><code>sealed class Resource&lt;T&gt;(\n        val data: T? = null,\n        val message: String? = null\n) {\n    class Success&lt;T&gt;(data: T) : Resource&lt;T&gt;(data)\n    class Loading&lt;T&gt;(data: T? = null, var refreshing: Boolean = false) : Resource&lt;T&gt;(data)\n    class Error&lt;T&gt;(data: T? = null, message: String) : Resource&lt;T&gt;(data, message)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 241, "user_id": 8224232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1a528e93fb563642f95cd508e7bb?s=128&d=identicon&r=PG", "display_name": "m3g4tr0n", "link": "https://stackoverflow.com/users/8224232/m3g4tr0n"}, "edited": false, "score": 1, "creation_date": 1578997735, "post_id": 59422833, "comment_id": 105612856, "body": "How can I use it? an example please"}, {"owner": {"reputation": 241, "user_id": 8224232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1a528e93fb563642f95cd508e7bb?s=128&d=identicon&r=PG", "display_name": "m3g4tr0n", "link": "https://stackoverflow.com/users/8224232/m3g4tr0n"}, "edited": false, "score": 2, "creation_date": 1579000365, "post_id": 59422833, "comment_id": 105614138, "body": "Update : Figured it out"}, {"owner": {"reputation": 13935, "user_id": 11015, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zKg6n.jpg?s=128&g=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/11015/miguel"}, "edited": false, "score": 0, "creation_date": 1610602250, "post_id": 59422833, "comment_id": 116186475, "body": "How do you use it?"}], "tags": [], "owner": {"reputation": 5496, "user_id": 1627904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/012573129b1b3fea13982b4e7df1ae84?s=128&d=identicon&r=PG", "display_name": "Kosh", "link": "https://stackoverflow.com/users/1627904/kosh"}, "is_accepted": false, "score": 28, "last_activity_date": 1610632138, "last_edit_date": 1610632138, "creation_date": 1576834237, "answer_id": 59422833, "question_id": 44243763, "link": "https://stackoverflow.com/questions/44243763/how-to-make-sealed-classes-generic-in-kotlin/59422833#59422833", "title": "How to make sealed classes generic in kotlin?", "body": "<p>your <code>Object</code> can't have a generic type in Kotlin but this could be solved simply by following the example below:</p>\n<pre><code>sealed class ResponseState&lt;out T&gt; {\n    object Loading : ResponseState&lt;Nothing&gt;()\n    data class Error(val throwable: Throwable) : ResponseState&lt;Nothing&gt;()\n    data class Success&lt;T&gt;(val item: T) : ResponseState&lt;T&gt;()\n}\n</code></pre>\n<p>writing:</p>\n<pre><code>val state = MutableLiveData&lt;ResponseState&lt;MessageModle&gt;&gt;() \n\n\n_state.postValue(ResponseState.Loading)\n\nmyNetworkCall { response, e\n  if (e != null) _state.postValue(ResponseState.Error(e))\n  else _state.postValue(ResponseState.Success(response))\n}\n</code></pre>\n<p>reading:</p>\n<pre><code>state.observe(..., {state -&gt; \n  when(state) {\n    Loading -&gt; showLoading()\n    is Error -&gt; showError(state.throwable)\n    is Success -&gt; onSuccess(state.item)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 5615794, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SR_Yn9NVIyM/AAAAAAAAAAI/AAAAAAAADMo/LCUCKR5w050/photo.jpg?sz=128", "display_name": "Rory Kelly", "link": "https://stackoverflow.com/users/5615794/rory-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8762, "favorite_count": 4, "accepted_answer_id": 44258736, "answer_count": 3, "score": 15, "last_activity_date": 1610632138, "creation_date": 1496064669, "last_edit_date": 1496106066, "question_id": 44243763, "link": "https://stackoverflow.com/questions/44243763/how-to-make-sealed-classes-generic-in-kotlin", "title": "How to make sealed classes generic in kotlin?", "body": "<p>Is it possible to use the AsyncResult class below to prevent redefining InFlight, Error and InFlight in UserDataAppResult and CreateUserResult?</p>\n\n<pre><code>//TODO: use this to make the below classes generic?\nsealed class AsyncResult{\n  object InFlight : AsyncResult()\n  data class Error(val errorMessage: String) : AsyncResult()\n  data class Loaded&lt;out T&gt;(val users: T) : AsyncResult()\n}\n\nsealed class UserDataAppResult : AppResult() {\n  object InFlight : UserDataAppResult()\n  data class Error(val errorMessage: String) : UserDataAppResult()\n  data class Loaded(val users: List&lt;User&gt;) : UserDataAppResult()\n}\n\nsealed class CreateUserResult : AppResult() {\n  object InFlight : CreateUserResult()\n  data class Error(val errorMessage: String) : CreateUserResult()\n  data class Loaded(val users: User) : CreateUserResult()\n}\n</code></pre>\n\n<p>Is it possible for the above code to look like this?</p>\n\n<pre><code>sealed class AsyncResult{\n  class InFlight : AsyncResult()\n  data class Error(val errorMessage: String) : AsyncResult()\n  data class Loaded&lt;out T&gt;(val users: T) : AsyncResult()\n}\n\nsealed class UserDataAppResult : AsyncResult()\nsealed class CreateUserResult : AppResult()\n\nval activeUsers: Flowable&lt;UserDataAppResult&gt; = appDatabase.userDao().getActiveUsers(appSettings.currentLanguage.ordinal)\n    .map&lt;UserDataAppResult&gt; { UserDataAppResult.Loaded(it) }\n    .onErrorReturn { UserDataAppResult.Error(it.localizedMessage) }\n    .startWith(UserDataAppResult.InFlight)\n    .observeOn(AndroidSchedulers.mainThread())\n    .share()\n\nfun createUser(): Flowable&lt;CreateUserResult&gt; {\n\n  val userId = UUID.randomUUID().toString()\n  val user = User()\n  user.id = userId\n  return appDatabase.userDao().insertAll(user)\n      .map &lt;CreateUserResult&gt; { CreateUserResult.Loaded(user) }\n      .onErrorReturn { CreateUserResult.Error(it.localizedMessage) }\n      .startWith(CreateUserResult.InFlight)\n}\n</code></pre>\n\n<p>Currently UserDataAppResult.Error is not found which makes sense.\nBut is it possible to reuse the AppResult sealed class hierarchy and introduce new types.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496057962, "post_id": 44241323, "comment_id": 75492184, "body": "The code works for me. Are you sure, your IDE plugin is up to date? IDEA 2017.1.1 EAP is pretty outdated, please update to the stable version."}, {"owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496058398, "post_id": 44241323, "comment_id": 75492478, "body": "I&#39;ll update to version 2017.1.3 (the latest one) &amp; see if this behavior still remains."}], "owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 448, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496060716, "creation_date": 1496056987, "question_id": 44241323, "link": "https://stackoverflow.com/questions/44241323/nosuchmethoderror-when-calling-method", "title": "NoSuchMethodError when calling method", "body": "<p>This is the code I'm running:</p>\n\n<h2>higherlevel.kt</h2>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var app = App()\n    app.fibonacci(8, object : Process {\n        override fun execute(value: Int) {\n            println(value)\n        }\n    })\n}\n\ninterface Process {\n    fun execute(value: Int)\n}\n\nclass App {\n    fun fibonacci(limit: Int, action: Process) {\n        var prev = 0\n        var prevprev = 0\n        var current = 1\n\n        for (i: Int in 1..limit) {\n            action.execute(current)\n\n            var temp = current\n            prevprev = prev\n            prev = temp\n            current = prev + prevprev\n        }\n    }\n}\n</code></pre>\n\n<p>When I run this code, I get this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: App.fibonacci(ILProcess;)V\n    at HigherlevelKt.main(higherlevel.kt:3)\n</code></pre>\n\n<p>When I <strong>recompile the code</strong>, it runs just fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7gyfK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7gyfK.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I <strong>rebuild the project</strong> &amp; run the program again, it yields that same error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MgQ9B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MgQ9B.png\" alt=\"enter image description here\"></a></p>\n\n<p>What is really happening ?</p>\n\n<p>I'm using IntelliJ IDEA 2017.1.1 EAP, &amp; the Kotlin compiler version <strong>1.1.2-2</strong></p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 8, "creation_date": 1496055684, "post_id": 44239869, "comment_id": 75490760, "body": "<code>typealias StringArray = Array&lt;String&gt;</code> ;)"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 11, "last_activity_date": 1496052747, "creation_date": 1496052747, "answer_id": 44239925, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/44239925#44239925", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>Those types are there so that you can create arrays of the primitives, and not the boxed types. Since String isn't a primitive in Java, you can just use <code>Array&lt;String&gt;</code> in Kotlin as the equivalent of a Java <code>String[]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 6, "last_activity_date": 1496052754, "creation_date": 1496052754, "answer_id": 44239929, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/44239929#44239929", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>For <code>Strings</code> and other types, you just use <code>Array&lt;*&gt;</code>.\nThe reason <code>IntArray</code> and others exist is to prevent autoboxing.</p>\n\n<p>So <code>int[]</code> relates to <code>IntArray</code> where <code>Integer[]</code> relates to <code>Array&lt;Int&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 269, "last_activity_date": 1496078398, "last_edit_date": 1496078398, "creation_date": 1496052782, "answer_id": 44239940, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/44239940#44239940", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>There's no special case for <code>String</code>, because <code>String</code> is an ordinary referential type on JVM, in contrast with <a href=\"https://stackoverflow.com/questions/8790809/whats-the-difference-between-primitive-and-reference-types\">Java primitives (<code>int</code>, <code>double</code>, ...)</a> -- storing them in a reference <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/\" rel=\"noreferrer\"><code>Array&lt;T&gt;</code></a> requires <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"noreferrer\">boxing them into objects like <code>Integer</code> and <code>Double</code></a>. The purpose of specialized arrays like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/\" rel=\"noreferrer\"><code>IntArray</code></a> in Kotlin is to store non-boxed primitives, getting rid of boxing and unboxing overhead (the same as Java <code>int[]</code> instead of <code>Integer[]</code>).</p>\n\n<p>You can use <code>Array&lt;String&gt;</code> (and <code>Array&lt;String?&gt;</code> for nullables), which is equivalent to <code>String[]</code> in Java:</p>\n\n<pre><code>val stringsOrNulls = arrayOfNulls&lt;String&gt;(10) // returns Array&lt;String?&gt;\nval someStrings = Array&lt;String&gt;(5) { \"it = $it\" }\nval otherStrings = arrayOf(\"a\", \"b\", \"c\")\n</code></pre>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"noreferrer\"><em>Arrays</em> in the language reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 6146, "user_id": 6204133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG3q4.jpg?s=128&g=1", "display_name": "Dan Alboteanu", "link": "https://stackoverflow.com/users/6204133/dan-alboteanu"}, "is_accepted": false, "score": 27, "last_activity_date": 1547994010, "last_edit_date": 1547994010, "creation_date": 1544130441, "answer_id": 53659700, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/53659700#53659700", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>use  <em>arrayOf</em>, <em>arrayOfNulls</em>, <em>emptyArray</em> </p>\n\n<pre><code>var colors_1: Array&lt;String&gt; = arrayOf(\"green\", \"red\", \"blue\")\nvar colors_2: Array&lt;String?&gt; = arrayOfNulls(3)\nvar colors_3: Array&lt;String&gt; = emptyArray()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1778, "user_id": 2288580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iW6Mk.jpg?s=128&g=1", "display_name": "user2288580", "link": "https://stackoverflow.com/users/2288580/user2288580"}, "is_accepted": false, "score": 0, "last_activity_date": 1549217401, "last_edit_date": 1549217401, "creation_date": 1544821796, "answer_id": 53786906, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/53786906#53786906", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>This example works perfectly in Android</p>\n\n<p>In kotlin you can use a lambda expression for this. The Kotlin Array Constructor definition is:</p>\n\n<pre><code>Array(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>Which evaluates to:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>skillsSummaryDetailLinesArray = Array&lt;String&gt;(linesLen) {\n        i: Int -&gt; skillsSummaryDetailLines!!.getString(i)\n}\n</code></pre>\n\n<p>In this example the field definition was:</p>\n\n<pre><code>private var skillsSummaryDetailLinesArray: Array&lt;String&gt;? = null\n</code></pre>\n\n<p>Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10887265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1979442958820728/picture?type=large", "display_name": "Jo&#227;o Arthur", "link": "https://stackoverflow.com/users/10887265/jo%c3%a3o-arthur"}, "is_accepted": false, "score": 0, "last_activity_date": 1555779540, "creation_date": 1555779540, "answer_id": 55775769, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/55775769#55775769", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>you can use too:</p>\n\n<pre><code>val frases = arrayOf(\"texto01\",\"texto02 \",\"anotherText\",\"and \")\n</code></pre>\n\n<p>for example.</p>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 23, "last_activity_date": 1600701876, "last_edit_date": 1600701876, "creation_date": 1555948309, "answer_id": 55797139, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/55797139#55797139", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>To create an empty Array of Strings in Kotlin you should use one of the following six approaches:</p>\n<p>First approach:</p>\n<pre><code>val empty = arrayOf&lt;String&gt;()\n</code></pre>\n<p>Second approach:</p>\n<pre><code>val empty = arrayOf(&quot;&quot;,&quot;&quot;,&quot;&quot;)\n</code></pre>\n<p>Third approach:</p>\n<pre><code>val empty = Array&lt;String?&gt;(3) { null }\n</code></pre>\n<p>Fourth approach:</p>\n<pre><code>val empty = arrayOfNulls&lt;String&gt;(3)\n</code></pre>\n<p>Fifth approach:</p>\n<pre><code>val empty = Array&lt;String&gt;(3) { &quot;it = $it&quot; }\n</code></pre>\n<p>Sixth approach:</p>\n<pre><code>val empty = Array&lt;String&gt;(0, { _ -&gt; &quot;&quot; })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 11332245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--I34aJemBto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgAKmLsxveECeGUVLWyViSx8-22g/mo/photo.jpg?sz=128", "display_name": "Himanshu Garg", "link": "https://stackoverflow.com/users/11332245/himanshu-garg"}, "is_accepted": false, "score": 3, "last_activity_date": 1575675873, "last_edit_date": 1575675873, "creation_date": 1575675193, "answer_id": 59221635, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string/59221635#59221635", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>Some of the common ways to create a String array are</p>\n\n<ol>\n<li><strong>var arr = Array(5){\"\"}</strong></li>\n</ol>\n\n<p>This will create an array of 5 strings with initial values to be empty string.</p>\n\n<ol start=\"2\">\n<li><strong>var arr = arrayOfNulls<code>&lt;String?&gt;</code>(5)</strong></li>\n</ol>\n\n<p>This will create an array of size 5 with initial values to be null. You can use String data to modify the array.</p>\n\n<ol start=\"3\">\n<li><strong>var arr = arrayOf(\"zero\", \"one\", \"two\", \"three\")</strong></li>\n</ol>\n\n<p>When you know the contents of array already then you can initialise the array directly.</p>\n\n<ol start=\"4\">\n<li><p>There is an easy way for creating an <strong>multi dimensional array</strong> of strings as well.</p>\n\n<p><strong>var matrix = Array(5){Array(6) {\"\"}}</strong></p>\n\n<p>This is how you can create a matrix with 5 rows and 6 columns with initial values of \nempty string. </p></li>\n</ol>\n"}], "owner": {"reputation": 12808, "user_id": 1544790, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ALkTz.jpg?s=128&g=1", "display_name": "chancyWu", "link": "https://stackoverflow.com/users/1544790/chancywu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132489, "favorite_count": 17, "accepted_answer_id": 44239940, "answer_count": 8, "score": 198, "last_activity_date": 1600753136, "creation_date": 1496052612, "last_edit_date": 1600753136, "question_id": 44239869, "link": "https://stackoverflow.com/questions/44239869/whats-the-kotlin-equivalent-of-javas-string", "title": "What&#39;s the Kotlin equivalent of Java&#39;s String[]?", "body": "<p>I see that Kotlin has <code>ByteArray, ShortArray, IntArray, CharArray, DoubleArray, FloatArray</code>, which are equivalent to <code>byte[], short[], int[],char[], double[], float[]</code> in Java.</p>\n\n<p>Now I'm wondering, is there any <code>StringArray</code> equivalent to Java's <code>String[]</code>?</p>\n"}, {"tags": ["properties", "return", "this", "kotlin", "setter"], "comments": [{"owner": {"reputation": 2500, "user_id": 361169, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/993df50941cfc8c00b3da0d6faf845f9?s=128&d=identicon&r=PG", "display_name": "Meymann", "link": "https://stackoverflow.com/users/361169/meymann"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496049851, "post_id": 44238741, "comment_id": 75487157, "body": "No, not really. This one is about default accessors."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496051292, "post_id": 44238741, "comment_id": 75488083, "body": "Those are also covered in the answers."}], "answers": [{"comments": [{"owner": {"reputation": 2500, "user_id": 361169, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/993df50941cfc8c00b3da0d6faf845f9?s=128&d=identicon&r=PG", "display_name": "Meymann", "link": "https://stackoverflow.com/users/361169/meymann"}, "edited": false, "score": 1, "creation_date": 1499348886, "post_id": 44238813, "comment_id": 76876604, "body": "...And, the great part, everything in the apply block is received by &quot;this&quot;. You can even call methods! val coolText=TextView(context).apply{text=&quot;moo&quot;; textSize=TSIZE; animate(myCoolAnimation);}  To sum it all up: Why using a 1950&#39;s VW when you got a brand new Maserati? apply is way more powerful than old Java builder-ish setters."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 10, "last_activity_date": 1496050711, "last_edit_date": 1496050711, "creation_date": 1496049496, "answer_id": 44238813, "question_id": 44238741, "link": "https://stackoverflow.com/questions/44238741/kotlin-a-default-ish-setter-that-returns-this/44238813#44238813", "title": "Kotlin: A default-ish setter that returns &quot;this&quot;", "body": "<p>Kotlin has nice <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"noreferrer\">documentation on how to create type safe builders</a>. The setters in Kotlin are invoked as</p>\n\n<pre><code>receiver.property = value\n</code></pre>\n\n<p>Returning <code>this</code> from the setter method would only help in case the code is used from Java. Having said that a Kotlin setter must return <code>Unit</code>. Even without a specialized builder a typical task of setting several properties on an object is much more concise in Kotlin:</p>\n\n<pre><code>class BlahBlah {\n  var name = \"John\"\n  var age = 12\n}\n\nBlahBlah().apply {\n  name = \"Sarah\"\n  age = 10\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2500, "user_id": 361169, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/993df50941cfc8c00b3da0d6faf845f9?s=128&d=identicon&r=PG", "display_name": "Meymann", "link": "https://stackoverflow.com/users/361169/meymann"}, "edited": false, "score": 0, "creation_date": 1496049979, "post_id": 44238931, "comment_id": 75487229, "body": "The problem is mostly from Java. Old frustrating Java... Because I got tons of code I wanna slowly migrate. Kotlin did that beautifully. It&#39;s just the old Java that&#39;s annoying."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1496049811, "creation_date": 1496049811, "answer_id": 44238931, "question_id": 44238741, "link": "https://stackoverflow.com/questions/44238741/kotlin-a-default-ish-setter-that-returns-this/44238931#44238931", "title": "Kotlin: A default-ish setter that returns &quot;this&quot;", "body": "<p>No, that is not possible: Kotlin's setters return Unit by design.</p>\n\n<p>The Builder pattern exists to overcome the problem where the increase of constructor parameter combinations results in an exponential list of constructors.\nIn Kotlin this problem is solved by having default parameter values:</p>\n\n<pre><code>data class Foo(\n  val a1: String = \"a1\",\n  val a2: String = \"a2\"\n)\n</code></pre>\n\n<p>Instead of using the Builder pattern, you can now easily skip parameters by naming them:</p>\n\n<pre><code>val foo = Foo(a1 = \"bar\")\n</code></pre>\n\n<p>If you really want to have some sort of Builder:</p>\n\n<pre><code>class FooBuilder {\n    var a1: String = \"a1\"\n    var a2: String = \"a2\"\n\n    fun build() = Foo(a1, a2)\n}\n\nval foo = FooBuilder().apply {\n  a1 = \"bar\"\n}.build()\n</code></pre>\n\n<p>However, this requires a lot more code.</p>\n"}, {"comments": [{"owner": {"reputation": 2500, "user_id": 361169, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/993df50941cfc8c00b3da0d6faf845f9?s=128&d=identicon&r=PG", "display_name": "Meymann", "link": "https://stackoverflow.com/users/361169/meymann"}, "edited": false, "score": 0, "creation_date": 1499332937, "post_id": 44241528, "comment_id": 76864856, "body": "Nice convention. As long as you don&#39;t forget to use it as a method, not as property access. But liked it."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1496057635, "creation_date": 1496057635, "answer_id": 44241528, "question_id": 44238741, "link": "https://stackoverflow.com/questions/44238741/kotlin-a-default-ish-setter-that-returns-this/44241528#44241528", "title": "Kotlin: A default-ish setter that returns &quot;this&quot;", "body": "<p>Please take a look at <a href=\"https://stackoverflow.com/questions/36140791/how-to-implement-builder-pattern-in-kotlin/36150989#36150989\">How to implement Builder pattern in Kotlin?</a></p>\n\n<p>There isn't a built-in mechanism but you you can leverage <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> to write self-returning methods easily:</p>\n\n<pre><code>class Foo {\n    var bar: Bar\n    fun bar(b: Bar) = apply { bar = b }\n}\n</code></pre>\n"}], "owner": {"reputation": 2500, "user_id": 361169, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/993df50941cfc8c00b3da0d6faf845f9?s=128&d=identicon&r=PG", "display_name": "Meymann", "link": "https://stackoverflow.com/users/361169/meymann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1964, "favorite_count": 0, "closed_date": 1496106161, "accepted_answer_id": 44238813, "answer_count": 3, "score": 3, "last_activity_date": 1496057635, "creation_date": 1496049227, "last_edit_date": 1496049448, "question_id": 44238741, "link": "https://stackoverflow.com/questions/44238741/kotlin-a-default-ish-setter-that-returns-this", "closed_reason": "Duplicate", "title": "Kotlin: A default-ish setter that returns &quot;this&quot;", "body": "<p>I know it's not \"strictly by the design pattern\" blah blah blah, but...</p>\n\n<p>In Kotlin, is there a way to create a \"default-ish\" setter that returns \"<code>this</code>\", like </p>\n\n<pre><code>var foo:Bar = Something()\n    set(f:Bar) {\n       foo = f\n       return this // Alas, that would not compile because Setter returns Unit\n    }\n</code></pre>\n\n<p>It is very convenient when a setter return <code>this</code>, because can then make a Builder pattern without having to declare a Builder. It's just shorter to do:</p>\n\n<pre><code>BlahBlah().setFoo(x).setFoo2(y)...\n</code></pre>\n\n<p>Than</p>\n\n<pre><code>BlahBlah.Builder().setFoo(x)....\n</code></pre>\n\n<p>or </p>\n\n<pre><code>var b = BlahBlah()\nb.setFoo(x)\nb.setFoo2(y)\n...\n</code></pre>\n\n<p>Or whatever</p>\n\n<p>And besides, if a setter returns <code>Unit</code> anyway, why not <code>this</code> just as well?</p>\n"}, {"tags": ["java", "gson", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 3979, "user_id": 1664604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55843a19401a9ea9a6f563d21ccd277e?s=128&d=identicon&r=PG", "display_name": "Nithinlal", "link": "https://stackoverflow.com/users/1664604/nithinlal"}, "edited": false, "score": 0, "creation_date": 1496052520, "post_id": 44238042, "comment_id": 75488805, "body": "what is the issue you got"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1496054281, "post_id": 44238042, "comment_id": 75489888, "body": "No-repro for me, which version of dagger are you using?"}, {"owner": {"reputation": 161, "user_id": 6343375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdb89d7258daa235b1d9cfa70440da0?s=128&d=identicon&r=PG&f=1", "display_name": "wall", "link": "https://stackoverflow.com/users/6343375/wall"}, "edited": false, "score": 0, "creation_date": 1496112879, "post_id": 44238042, "comment_id": 75513743, "body": "dagger2.0 when i add up code ,The error is  IncompleteAnnotationException: dagger.Provides missing element type"}, {"owner": {"reputation": 161, "user_id": 6343375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdb89d7258daa235b1d9cfa70440da0?s=128&d=identicon&r=PG&f=1", "display_name": "wall", "link": "https://stackoverflow.com/users/6343375/wall"}, "edited": false, "score": 0, "creation_date": 1496113179, "post_id": 44238042, "comment_id": 75513814, "body": "The detail is when i create a android app use kotlin in android studio2.3.2, ,even add dagger ,it ok,but when i add the code &quot;@provides... &quot;,the error comes ,i find to solve it,but no more error detail,"}], "answers": [{"comments": [{"owner": {"reputation": 756, "user_id": 2427585, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/63dad0e8b312234b85c40e4c5b7858e9?s=128&d=identicon&r=PG", "display_name": "wkarl", "link": "https://stackoverflow.com/users/2427585/wkarl"}, "edited": false, "score": 0, "creation_date": 1507634540, "post_id": 45159707, "comment_id": 80279093, "body": "Could you please elaborate more? I am using Dagger 2 with Kotlin (kapt) and can&#39;t figure out which two versions to match. Thank you!"}, {"owner": {"reputation": 756, "user_id": 2427585, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/63dad0e8b312234b85c40e4c5b7858e9?s=128&d=identicon&r=PG", "display_name": "wkarl", "link": "https://stackoverflow.com/users/2427585/wkarl"}, "edited": false, "score": 4, "creation_date": 1507710057, "post_id": 45159707, "comment_id": 80314216, "body": "Ok, finally got it to build: after updating Dagger to 2.12 (from 2.8) everything worked fine. Thank you, I would&#39;ve wasted a lot more time figuring this out without your hint."}], "tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": false, "score": 4, "last_activity_date": 1500361186, "creation_date": 1500361186, "answer_id": 45159707, "question_id": 44238042, "link": "https://stackoverflow.com/questions/44238042/incompleteannotationexception-dagger-provides-missing-element-type/45159707#45159707", "title": "IncompleteAnnotationException: dagger.Provides missing element type", "body": "<p>I have faced exactly same issue in our project. In my case it was caused by change in Dagger2 API: Dagger2 developers <a href=\"https://github.com/google/dagger/commit/ec44324f806be46b9298882105a7c7d1ae991f7f\" rel=\"nofollow noreferrer\">have removed</a> the <code>type</code> parameter from annotation <code>@Provides</code>.</p>\n\n<p>I have accidentally used the new, incompatible version of annotation dependency (without <code>type</code> field in annotation) with old version of Dagger2 compiler. It seems, that unlike some other types of binary incompatibilities, which cause various runtime <code>Error</code>s, linkage with incompatible annotation may result in <code>IncompleteAnnotationException</code> during introspection.</p>\n\n<p>Updating dagger2 compiler to the same version as annotation has fixed the issue.</p>\n"}, {"comments": [{"owner": {"reputation": 936, "user_id": 5243472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OzmC.jpg?s=128&g=1", "display_name": "Vladyslav Ulianytskyi", "link": "https://stackoverflow.com/users/5243472/vladyslav-ulianytskyi"}, "edited": false, "score": 0, "creation_date": 1596265999, "post_id": 52868462, "comment_id": 111762266, "body": "daggerVersion = &#39;2.28.1&#39;"}], "tags": [], "owner": {"reputation": 787, "user_id": 7074112, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a4dd88268ed620369bbbe57dbca21ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/7074112/peter"}, "is_accepted": false, "score": 9, "last_activity_date": 1539845448, "creation_date": 1539845448, "answer_id": 52868462, "question_id": 44238042, "link": "https://stackoverflow.com/questions/44238042/incompleteannotationexception-dagger-provides-missing-element-type/52868462#52868462", "title": "IncompleteAnnotationException: dagger.Provides missing element type", "body": "<p>after updating Dagger to 2.12 (from 2.8) everything worked fine</p>\n"}], "owner": {"reputation": 161, "user_id": 6343375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efdb89d7258daa235b1d9cfa70440da0?s=128&d=identicon&r=PG&f=1", "display_name": "wall", "link": "https://stackoverflow.com/users/6343375/wall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3420, "favorite_count": 1, "answer_count": 2, "score": 14, "last_activity_date": 1539845448, "creation_date": 1496047034, "last_edit_date": 1496122734, "question_id": 44238042, "link": "https://stackoverflow.com/questions/44238042/incompleteannotationexception-dagger-provides-missing-element-type", "title": "IncompleteAnnotationException: dagger.Provides missing element type", "body": "<p>When I add the following code an error comes:</p>\n\n<pre><code>@Singleton @Provides fun provideGson() : Gson {\n    return Gson()\n}\n</code></pre>\n\n<p>I really don't know why.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 3, "last_activity_date": 1496043784, "creation_date": 1496043784, "answer_id": 44237091, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast/44237091#44237091", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>In Kotlin you can use:</p>\n\n<pre><code>(getUser() as? User)?.let { user -&gt;\n  // user is not null and is an instance of User\n}\n</code></pre>\n\n<p><code>as?</code> is a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"nofollow noreferrer\">'safe' cast operator</a> that returns <code>null</code> instead of throwing an error on failure.</p>\n"}, {"comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 1, "creation_date": 1496094289, "post_id": 44237111, "comment_id": 75509782, "body": "I think you are using a &quot;safe call&quot; (<code>?. </code>) and not the &quot;elvis operator&quot; (<code>?:</code>) in your first example."}, {"owner": {"reputation": 10489, "user_id": 346741, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a6d0a3771b08d19c92ca8c8edb262fb0?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/346741/rob"}, "edited": false, "score": 4, "creation_date": 1506984921, "post_id": 44237111, "comment_id": 80024360, "body": "Clearly the if let syntax Swift added was genius, these choices are poor and more poor.."}, {"owner": {"reputation": 1025, "user_id": 1995358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fJz53.jpg?s=128&g=1", "display_name": "Ahmad Abdullah", "link": "https://stackoverflow.com/users/1995358/ahmad-abdullah"}, "edited": false, "score": 0, "creation_date": 1574778445, "post_id": 44237111, "comment_id": 104345993, "body": "You might need to replace &quot;as?&quot; with &quot;as&quot; to skip use assertion operator !! inside let (getUser() as? User)?.let { user -&gt;     user!!  ... }  might be:  (getUser() as User)?.let { user -&gt;     user ... }"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 35, "last_activity_date": 1496135761, "last_edit_date": 1496135761, "creation_date": 1496043856, "answer_id": 44237111, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast/44237111#44237111", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>One option is to use a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"noreferrer\">safe cast operator</a> + <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call</a> + <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"noreferrer\"><code>let</code></a>:</p>\n\n<pre><code>(getUser() as? User)?.let { user -&gt;\n    ...\n}\n</code></pre>\n\n<p>Another would be to use a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"noreferrer\">smart cast</a> inside the lambda passed to <code>let</code>:</p>\n\n<pre><code>getUser().let { user -&gt;\n    if (user is User) {\n        ...\n    }\n}\n</code></pre>\n\n<p>But maybe the most readable would be to just introduce a variable and use a smart cast right there:</p>\n\n<pre><code>val user = getUser()\nif (user is User) {\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "edited": false, "score": 0, "creation_date": 1535058549, "post_id": 44237765, "comment_id": 90938305, "body": "This is an awesome part of Kotlin!"}], "tags": [], "owner": {"reputation": 148157, "user_id": 35364, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG", "display_name": "hasen", "link": "https://stackoverflow.com/users/35364/hasen"}, "is_accepted": false, "score": 6, "last_activity_date": 1496048084, "last_edit_date": 1496048084, "creation_date": 1496046086, "answer_id": 44237765, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast/44237765#44237765", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>Kotlin can automatically figure out whether a value is nil or not in the current scope based on regular if statements with no need for special syntax.</p>\n\n<pre><code>val user = getUser()\n\nif (user != null) {\n    // user is known to the compiler here to be non-null\n}\n</code></pre>\n\n<p>It works the other way around too</p>\n\n<pre><code>val user = getUser()\n\nif (user == null) {\n    return\n}\n\n// in this scope, the compiler knows that user is not-null \n// so there's no need for any extra checks\nuser.something \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4768, "user_id": 1363997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/004a85185a783ca08739e04ab2c576ae?s=128&d=identicon&r=PG", "display_name": "Basheer_CAD", "link": "https://stackoverflow.com/users/1363997/basheer-cad"}, "edited": false, "score": 0, "creation_date": 1558459843, "post_id": 45319688, "comment_id": 99105821, "body": "value must be returned on the other side of ?:"}], "tags": [], "owner": {"reputation": 77, "user_id": 3583294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f54e69d8bc95d7ff547a86e6d54c0a5?s=128&d=identicon&r=PG&f=1", "display_name": "mgonzalez", "link": "https://stackoverflow.com/users/3583294/mgonzalez"}, "is_accepted": false, "score": 4, "last_activity_date": 1501052454, "creation_date": 1501052454, "answer_id": 45319688, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast/45319688#45319688", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>In Kotlin you can use the let:</p>\n\n<pre><code>val user = getUser()?.let { it as? User } ?: return\n</code></pre>\n\n<p>This solution is closest to guard but it may be useful.</p>\n"}, {"comments": [{"owner": {"reputation": 1147, "user_id": 2396199, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4cf1506e3dacb29d907343a32e774100?s=128&d=identicon&r=PG", "display_name": "dev", "link": "https://stackoverflow.com/users/2396199/dev"}, "edited": false, "score": 0, "creation_date": 1593191503, "post_id": 45918295, "comment_id": 110703355, "body": "this is good, swift equivalent of a nil coalescing operator. val value: String = data?.first() ?: &quot;Nothing here.&quot;"}, {"owner": {"reputation": 832, "user_id": 5009459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f726d0f8972102c15733fff4a01d61dc?s=128&d=identicon&r=PG", "display_name": "JBarros35", "link": "https://stackoverflow.com/users/5009459/jbarros35"}, "edited": false, "score": 0, "creation_date": 1600956427, "post_id": 45918295, "comment_id": 113258324, "body": "this syntax is awful and unlegible. why the heck google just didn&#39;t copied whats good ?"}], "tags": [], "owner": {"reputation": 271, "user_id": 7042561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021f81863ee0241e8e4084a19dfa596?s=128&d=identicon&r=PG&f=1", "display_name": "Djangow", "link": "https://stackoverflow.com/users/7042561/djangow"}, "is_accepted": false, "score": 1, "last_activity_date": 1503921012, "creation_date": 1503921012, "answer_id": 45918295, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast/45918295#45918295", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>What about this one?</p>\n\n<pre><code>val user = getUser() ?: return\n</code></pre>\n"}], "owner": {"reputation": 4366, "user_id": 1039477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a85306bbc9601affec6f6a40dc4288cc?s=128&d=identicon&r=PG", "display_name": "dor506", "link": "https://stackoverflow.com/users/1039477/dor506"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7882, "favorite_count": 2, "accepted_answer_id": 44237111, "answer_count": 5, "score": 25, "last_activity_date": 1503921012, "creation_date": 1496042910, "question_id": 44236842, "link": "https://stackoverflow.com/questions/44236842/kotlin-equivalence-to-swifts-combination-of-if-let-cast", "title": "Kotlin - equivalence to Swift&#39;s combination of &quot;if let + cast&quot;", "body": "<p>I'm trying to find out how to achieve the combination of \"if let + cast\" in kotlin:</p>\n\n<p>in swift:</p>\n\n<pre><code>if let user = getUser() as? User {\n   // user is not nil and is an instance of User\n}\n</code></pre>\n\n<p>I saw some documentation but they say nothing regarding this combination</p>\n\n<p><a href=\"https://medium.com/@adinugroho/unwrapping-sort-of-optional-variable-in-kotlin-9bfb640dc709\" rel=\"noreferrer\">https://medium.com/@adinugroho/unwrapping-sort-of-optional-variable-in-kotlin-9bfb640dc709</a>\n<a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1496041814, "post_id": 44236166, "comment_id": 75482759, "body": "It would be &#39;Clz::class.java.simpleName&#39;. See official reference at  <a href=\"http://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/reflection.html#class-referenc&zwnj;&#8203;es</a> and SO at <a href=\"https://stackoverflow.com/questions/34340450/how-to-get-a-kotlin-kclass-from-a-package-class-name-string\" title=\"how to get a kotlin kclass from a package class name string\">stackoverflow.com/questions/34340450/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 1221256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67620bb1200f76fdc1e6edcec781a3fb?s=128&d=identicon&r=PG", "display_name": "user1221256", "link": "https://stackoverflow.com/users/1221256/user1221256"}, "edited": false, "score": 1, "creation_date": 1509653564, "post_id": 44236190, "comment_id": 81116951, "body": "What about kotlin.jvm.KotlinReflectionNotSupportedError ? Needs additional dependency to kotlin-reflect.jar. Maybe would be better use ::class.java.simpleName"}], "tags": [], "owner": {"reputation": 1091, "user_id": 684936, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7dffda96d52e4159ed749362629962cd?s=128&d=identicon&r=PG", "display_name": "Neo", "link": "https://stackoverflow.com/users/684936/neo"}, "is_accepted": true, "score": 5, "last_activity_date": 1496040678, "creation_date": 1496040678, "answer_id": 44236190, "question_id": 44236166, "link": "https://stackoverflow.com/questions/44236166/kotlin-equivalence-to-someclass-class-for-objects/44236190#44236190", "title": "Kotlin - equivalence to SomeClass.class for objects?", "body": "<p>Try this</p>\n\n<pre><code>SomeClass::class.simpleName\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496058041, "post_id": 44237365, "comment_id": 75492233, "body": "You can just use <code>class.name</code> to get the fully qualified name."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496064567, "post_id": 44237365, "comment_id": 75496334, "body": "what if. in different package, a class with same name is there?"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 0, "last_activity_date": 1496044752, "creation_date": 1496044752, "answer_id": 44237365, "question_id": 44236166, "link": "https://stackoverflow.com/questions/44236166/kotlin-equivalence-to-someclass-class-for-objects/44237365#44237365", "title": "Kotlin - equivalence to SomeClass.class for objects?", "body": "<p>If you are using it in Android application, i would suggest you to do it like following: (packageName:className)</p>\n\n<pre><code>object SomeObject\n{\n    private val TAG = \"${SomeObject::class.java.`package`.name}:${SomeObject::class.simpleName}\"\n}\n</code></pre>\n\n<p>Doing so you can ensure that tag name for any other class wont be duplicate.\nIt is really helpful, if you are creating a lib/code snippet that someone can use. Otherwise having same tag name may lead to runtime errors. </p>\n"}], "owner": {"reputation": 4366, "user_id": 1039477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a85306bbc9601affec6f6a40dc4288cc?s=128&d=identicon&r=PG", "display_name": "dor506", "link": "https://stackoverflow.com/users/1039477/dor506"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 44236190, "answer_count": 2, "score": 3, "last_activity_date": 1502370475, "creation_date": 1496040556, "last_edit_date": 1502370475, "question_id": 44236166, "link": "https://stackoverflow.com/questions/44236166/kotlin-equivalence-to-someclass-class-for-objects", "title": "Kotlin - equivalence to SomeClass.class for objects?", "body": "<p>I'm trying to statically get an object's name (For logging uses)</p>\n\n<p>The equivalence for:</p>\n\n<pre><code>public class SomeClass\n{\n    private static final String TAG = SomeClass.class.getSimpleName()\n}\n</code></pre>\n\n<p>In Kotlin:</p>\n\n<pre><code>object SomeObject\n{\n   private const val TAG = ?\n}\n</code></pre>\n"}, {"tags": ["annotations", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "edited": false, "score": 0, "creation_date": 1496046121, "post_id": 44232231, "comment_id": 75485041, "body": "zsmb13 had a good point explaining that this could cause some issues with doubled methods with the same signature. Anyway that could be solved by annotating a different JVM method name for that function."}], "answers": [{"comments": [{"owner": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "edited": false, "score": 0, "creation_date": 1496045822, "post_id": 44235993, "comment_id": 75484893, "body": "That&#39;s brilliant! I guess IntelliJ would then automatically hide that extension function for methods that are not annotated <code>@ColorInt</code>, right?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "edited": false, "score": 3, "creation_date": 1496047083, "post_id": 44235993, "comment_id": 75485582, "body": "No, <code>@ColorInt</code> is an android-specific annotation which is evaluated by Lint. Lint supports Kotlin code and you should get a warning when you call the method on an int which is not annotated, but you will still be able to call the method."}, {"owner": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "edited": false, "score": 0, "creation_date": 1496047838, "post_id": 44235993, "comment_id": 75485992, "body": "That would be as expected."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "edited": false, "score": 1, "creation_date": 1497873726, "post_id": 44235993, "comment_id": 76245559, "body": "@Heinrich if that answer was helpful to you, please consider accepting it."}, {"owner": {"reputation": 1412, "user_id": 6346531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75aa9d2cb0f4e6bdf16e80bb06d5f8f1?s=128&d=identicon&r=PG", "display_name": "aksh1618", "link": "https://stackoverflow.com/users/6346531/aksh1618"}, "edited": false, "score": 0, "creation_date": 1522013264, "post_id": 44235993, "comment_id": 85965097, "body": "This method seems to be deprecated now; I get this lint warning: <code>Use of this annotation with target &#39;type&#39; and use site target &#39;@receiver&#39; is deprecated.</code> Any alternatives?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 1412, "user_id": 6346531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75aa9d2cb0f4e6bdf16e80bb06d5f8f1?s=128&d=identicon&r=PG", "display_name": "aksh1618", "link": "https://stackoverflow.com/users/6346531/aksh1618"}, "edited": false, "score": 2, "creation_date": 1522051095, "post_id": 44235993, "comment_id": 85975633, "body": "@A.K.S.H. this seems to be a bug and should be fixed in 1.2.40: <a href=\"https://youtrack.jetbrains.com/issue/KT-21696\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-21696</a>"}, {"owner": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "edited": false, "score": 0, "creation_date": 1536211694, "post_id": 44235993, "comment_id": 91343324, "body": "What about <code>@DrawableRes</code>? that the function will return Drawable? Android studio will complain: <code>This annotation does not apply for type android.graphics.drawable.Drawable; expected int or long</code>"}, {"owner": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "reply_to_user": {"reputation": 2606, "user_id": 3940133, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ndv13.jpg?s=128&g=1", "display_name": "HendraWD", "link": "https://stackoverflow.com/users/3940133/hendrawd"}, "edited": false, "score": 0, "creation_date": 1555432675, "post_id": 44235993, "comment_id": 98106396, "body": "@HendraWD, <code>@DrawableRes</code> denotes a resource ID that holds a drawable ressource, not a <code>Drawable</code> itself."}, {"owner": {"reputation": 311, "user_id": 5091769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pc8RY.jpg?s=128&g=1", "display_name": "Deneb Chorny", "link": "https://stackoverflow.com/users/5091769/deneb-chorny"}, "edited": false, "score": 1, "creation_date": 1585853998, "post_id": 44235993, "comment_id": 107918103, "body": "Is this still working? I am doing this, but using layout res, string res, even with a negative number, there is no warning."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 31, "last_activity_date": 1496039804, "creation_date": 1496039804, "answer_id": 44235993, "question_id": 44232231, "link": "https://stackoverflow.com/questions/44232231/extension-functions-on-annotated-types/44235993#44235993", "title": "Extension functions on annotated types", "body": "<p>Yes you can. Use the following syntax:</p>\n\n<pre><code>@ColorInt\nfun @receiver:ColorInt Int.darken(): Int {\n    return ColorUtils.blendARGB(this, Color.BLACK, 0.2f)\n}\n</code></pre>\n\n<p>More about annotation use-site targets: <a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets</a></p>\n"}], "owner": {"reputation": 531, "user_id": 2037482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba816c4b8fc9b4cdd6887a395503d37b?s=128&d=identicon&r=PG", "display_name": "Jan Heinrich Reimer", "link": "https://stackoverflow.com/users/2037482/jan-heinrich-reimer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1638, "favorite_count": 3, "accepted_answer_id": 44235993, "answer_count": 1, "score": 13, "last_activity_date": 1496047977, "creation_date": 1496007200, "last_edit_date": 1496047977, "question_id": 44232231, "link": "https://stackoverflow.com/questions/44232231/extension-functions-on-annotated-types", "title": "Extension functions on annotated types", "body": "<p>Is it possible to define a Kotlin extension function on a annotated type like this?</p>\n\n<pre><code>@ColorInt\nfun @ColorInt Int.darken(): Int {\n    return ColorUtils.blendARGB(this, Color.BLACK, 0.2f)\n}\n</code></pre>\n\n<p>Alternative form:</p>\n\n<pre><code>@ColorInt\nfun (@ColorInt Int).darken(): Int {\n    return ColorUtils.blendARGB(this, Color.BLACK, 0.2f)\n}\n</code></pre>\n\n<p>That would correspond to the following static funtion:</p>\n\n<pre><code>@ColorInt\nfun darken(@ColorInt color: Int): Int {\n    return ColorUtils.blendARGB(color, Color.BLACK, 0.2f)\n}\n</code></pre>\n\n<p>I don't think that's possible yet using Kotlin, but would it be possible to add that feature in later Kotlin versions?</p>\n\n<p>On a side note:\nThe same question applies to <code>@IntDef</code>, <code>@StringDef</code>, <code>@[resource type]Res</code> as well.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 69512, "user_id": 697630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/40769e88c0dc93d387a9e368c332fdf9?s=128&d=identicon&r=PG", "display_name": "Edwin Dalorzo", "link": "https://stackoverflow.com/users/697630/edwin-dalorzo"}, "edited": false, "score": 0, "creation_date": 1496007166, "post_id": 44231619, "comment_id": 75474421, "body": "I wonder if this is a question more about the merits of delegation itself than about how Kotlin implements it."}, {"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "reply_to_user": {"reputation": 69512, "user_id": 697630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/40769e88c0dc93d387a9e368c332fdf9?s=128&d=identicon&r=PG", "display_name": "Edwin Dalorzo", "link": "https://stackoverflow.com/users/697630/edwin-dalorzo"}, "edited": false, "score": 0, "creation_date": 1496009863, "post_id": 44231619, "comment_id": 75475032, "body": "I asked it to know how the kotlin delegation useful? not how the delegation is useful. because I already know about the delegation purpose. But kotlin&#39;s implementation is confusing me."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1496031104, "post_id": 44231619, "comment_id": 75478709, "body": "The first block of code doesn&#39;t give the result equivalent to the second one. Try to implement <code>Derived</code> by hand, and you&#39;ll feel the difference."}, {"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "edited": false, "score": 0, "creation_date": 1496032266, "post_id": 44231619, "comment_id": 75478956, "body": "Can you write the short code? Because I really don&#39;t know which example can differentiate them."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1496041632, "post_id": 44231619, "comment_id": 75482669, "body": "There are alot of blog posts out there addressing the topic &quot;composition vs inheritance&quot;, e. g. <a href=\"https://codingdelight.com/2014/01/16/favor-composition-over-inheritance-part-1/\" rel=\"nofollow noreferrer\">codingdelight.com/2014/01/16/&hellip;</a> or <a href=\"https://www.thoughtworks.com/de/insights/blog/composition-vs-inheritance-how-choose\" rel=\"nofollow noreferrer\">thoughtworks.com/de/insights/blog/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "edited": false, "score": 1, "creation_date": 1496003283, "post_id": 44231716, "comment_id": 75473268, "body": "can you give tested example? so I can compare that example in the Interface polymorphism way. I know delegation is useful but how the kotlin&#39;s one?"}, {"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "edited": false, "score": 0, "creation_date": 1496005446, "post_id": 44231716, "comment_id": 75473892, "body": "Can you call the above code in the main method. So I can compare to interface polymorphism example?"}, {"owner": {"reputation": 1342, "user_id": 1052979, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0012ec85cf9b697a7adb12b622972214?s=128&d=identicon&r=PG", "display_name": "StFS", "link": "https://stackoverflow.com/users/1052979/stfs"}, "edited": false, "score": 0, "creation_date": 1610542583, "post_id": 44231716, "comment_id": 116166145, "body": "This example actually does not work because InputStream is a class and not an interface. Delegation in Kotlin is only supported via interfaces."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 4, "last_activity_date": 1496003158, "creation_date": 1496003158, "answer_id": 44231716, "question_id": 44231619, "link": "https://stackoverflow.com/questions/44231619/how-kotlin-delegation-is-useful/44231716#44231716", "title": "How kotlin delegation is useful?", "body": "<p>It is useful because of the <a href=\"https://en.wikipedia.org/wiki/Delegation_pattern\" rel=\"nofollow noreferrer\">Delegation Pattern</a> where most of the behavior can be the same as the target of the delegation (<code>b</code>) but you just want to override a subset of methods to act differently.</p>\n\n<p>An example would be an <code>InputStream</code> implementation which delegates all work to another <code>InputStream</code> but overrides the <code>close()</code> method to not close the underlying stream. This could be implemented as:</p>\n\n<pre><code>class CloseGuardInputStream(private val base: InputStream)\n    : InputStream by base {\n    override fun close() {}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "edited": false, "score": 0, "creation_date": 1496007053, "post_id": 44232126, "comment_id": 75474396, "body": "I can still call the internally without ` : MutableList&lt;E&gt; by delegate` can you give me working example? So I can compare with the polymorphism approach."}, {"owner": {"reputation": 69512, "user_id": 697630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/40769e88c0dc93d387a9e368c332fdf9?s=128&d=identicon&r=PG", "display_name": "Edwin Dalorzo", "link": "https://stackoverflow.com/users/697630/edwin-dalorzo"}, "edited": false, "score": 1, "creation_date": 1496007308, "post_id": 44232126, "comment_id": 75474464, "body": "I think you should elaborate much more on your example such that you can demonstrate how this proves to be &quot;extremely useful&quot; as you say. I&#39;m afraid it is not so evident as you seem to suggest."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 2, "creation_date": 1496041434, "post_id": 44232126, "comment_id": 75482546, "body": "First of all, this is a working example, just copy&amp;paste it into try.kotlinlang.org and try it out. Second: What Miha meant was, that <code>addAll</code> internally calls <code>add</code> on every new item. so in the inheritance-example you&#39;ll get &quot;added all&quot; and then &quot;added xy&quot; for every item, because we override <code>add()</code>. in the Delegation example you only get &quot;added all&quot;, because the addAll doesnt call our <code>add</code>, but rather the <code>add</code> of MutableList"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 4, "last_activity_date": 1496006298, "creation_date": 1496006298, "answer_id": 44232126, "question_id": 44231619, "link": "https://stackoverflow.com/questions/44231619/how-kotlin-delegation-is-useful/44232126#44232126", "title": "How kotlin delegation is useful?", "body": "<p>It is extremely useful for creating decorators and for object composition.\nJoshua Bloch in Effective Java, 2nd Edition, Item 16 'Favor Composition Over Inheritance' shows a good example: inheritance is easy-to-break, and decorators are not.</p>\n\n<p>Inheritance:</p>\n\n<pre><code>class LoggingList&lt;E&gt; : ArrayList&lt;E&gt;() {\n\n    override fun add(e: E): Boolean {\n        println(\"added $e\")\n        return super.add(e)\n    }\n\n    override fun addAll(e: Collection&lt;E&gt;): Boolean {\n        println(\"added all: $e\")\n        return super.addAll(e) // oops! Calls [add] internally.\n    }\n\n}\n</code></pre>\n\n<p>Delegation:</p>\n\n<pre><code>class LoggingList&lt;E&gt;(delegate: MutableList&lt;E&gt;) : MutableList&lt;E&gt; by delegate {\n\n    override fun add(e: E): Boolean {\n        println(\"added $e\")\n        return delegate.add(e)\n    }\n\n    override fun addAll(e: Collection&lt;E&gt;): Boolean {\n        println(\"added all: $e\")\n        return delegate.addAll(e) // all OK\n        // it calls [delegate]'s [add] internally, not ours\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 5, "last_activity_date": 1496049882, "creation_date": 1496049882, "answer_id": 44238951, "question_id": 44231619, "link": "https://stackoverflow.com/questions/44231619/how-kotlin-delegation-is-useful/44238951#44238951", "title": "How kotlin delegation is useful?", "body": "<p>Also remember that you're not restricted to just one delegate. Kotlin's way of implementing delegation is similar to <code>traits</code> implementation in languages like Groovy. You can compose different functionality via delegates. Kotlin's way can also be considered more powerful because you can \"plug in\" different implementations too.</p>\n\n<pre><code>interface Marks {\n  fun printMarks()\n}\n\nclass StdMarks() : Marks {\n  override fun printMarks() { println(\"printed marks\") }\n}\n\nclass CsvMarks() : Marks {\n  override fun printMarks() { println(\"printed csv marks\") }\n}\n\ninterface Totals {\n  fun printTotals()\n}\n\nclass StdTotals : Totals {\n  override fun printTotals() { println(\"calculated and printed totals\") }\n}\n\nclass CheatTotals : Totals {\n  override fun printTotals() { println(\"calculated and printed higher totals\") }\n}\n\nclass Student(val studentId: Int, marks: Marks, totals: Totals) \n  : Marks by marks, Totals by totals\n\nfun main(args:Array&lt;String&gt;) {\n  val student = Student(1,StdMarks(), StdTotals())\n  student.printMarks()\n  student.printTotals()\n  val cheater = Student(1,CsvMarks(), CheatTotals())\n  cheater.printMarks()\n  cheater.printTotals()\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>printed marks\ncalculated and printed totals\nprinted csv marks\ncalculated and printed higher totals\n</code></pre>\n\n<p>You can't do this with inheritance.</p>\n"}, {"tags": [], "owner": {"reputation": 1601, "user_id": 12553303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b724fb7c87098132f0fbccb9d60cd6?s=128&d=identicon&r=PG&f=1", "display_name": "Wini", "link": "https://stackoverflow.com/users/12553303/wini"}, "is_accepted": false, "score": 1, "last_activity_date": 1594988641, "creation_date": 1594988641, "answer_id": 62953919, "question_id": 44231619, "link": "https://stackoverflow.com/questions/44231619/how-kotlin-delegation-is-useful/62953919#62953919", "title": "How kotlin delegation is useful?", "body": "<p>Following is the example :-</p>\n<p><a href=\"https://i.stack.imgur.com/1wCQW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wCQW.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>interface Mode{\nval color:String\nfun display()\n }\n\nclass DarkMode(override val color:String) : Mode{    \noverride fun display(){\n    println(&quot;Dark Mode...&quot;+color)\n}\n }\nclass LightMode(override val color:String) : Mode {\noverride fun display() { \n    println(&quot;Light Mode...&quot;+color) \n}\n}\n\nclass MyCustomMode(val mode: Mode): Mode{\noverride val color:String = mode.color\noverride fun display() { \n    mode.display()\n}\n}\n</code></pre>\n<p>Now, the custom mode can reuse <code>display()</code> function of both modes <code>DarkMode</code> &amp; <code>LightMode</code></p>\n<pre><code>fun main() {\nMyCustomMode(DarkMode(&quot;CUSTOM_DARK_GRAY&quot;)).display()\nMyCustomMode(LightMode(&quot;CUSTOM_LIGHT_GRAY&quot;)).display()\n}\n\n /* output:\n Dark Mode...CUSTOM_DARK_GRAY\n Light Mode...CUSTOM_LIGHT_GRAY\n*/\n</code></pre>\n<p>Kotlin natively support delegation pattern.\nKotlin provides by keyword to specify the delegate object which our custom mode will be delegating to.\nWe can achieve the same result of the code above using by keyword.</p>\n<pre><code>class MyCustomMode(val mode: Mode): Mode by mode\nfun main() {\nMyCustomMode(DarkMode(&quot;CUSTOM_DARK_GRAY&quot;)).display()\nMyCustomMode(LightMode(&quot;CUSTOM_LIGHT_GRAY&quot;)).display()\n}\n\n/* output:\nDark Mode...CUSTOM_DARK_GRAY\n  Light Mode...CUSTOM_LIGHT_GRAY\n */\n</code></pre>\n"}], "owner": {"reputation": 2964, "user_id": 2769917, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/78c9b4e2e2a18d5c74468629bcd1c3ec?s=128&d=identicon&r=PG&f=1", "display_name": "Asif Mushtaq", "link": "https://stackoverflow.com/users/2769917/asif-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 6, "accepted_answer_id": 44238951, "answer_count": 4, "score": 11, "last_activity_date": 1594988641, "creation_date": 1496002555, "last_edit_date": 1496006944, "question_id": 44231619, "link": "https://stackoverflow.com/questions/44231619/how-kotlin-delegation-is-useful", "title": "How kotlin delegation is useful?", "body": "<p>I'm really confused about the kotlin delegation. Let me describe the regular polymorphism approach here which looks same like the kotlin delgation.</p>\n\n<pre><code>interface Base {\n    fun print()\n}\nclass BaseImpl(val x: Int) : Base {\n    override fun print() { print(x) }\n}\nfun main(args: Array&lt;String&gt;) {\n    val b : Base = BaseImpl(10)\n    b.print() // prints 10\n}\n</code></pre>\n\n<p>I can pass any implemented class of <code>Base</code> interface to <code>b</code> variable to call the method of specified class's object. Then what is the benefit of <code>kotlin</code>'s delegation? Which is described <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>interface Base {\n    fun print()\n}\nclass BaseImpl(val x: Int) : Base {\n    override fun print() { print(x) }\n}\nclass Derived(b: Base) : Base by b // why extra line of code? \n                                   // if the above example works fine without it.\nfun main(args: Array&lt;String&gt;) {\n    val b = BaseImpl(10)\n    Derived(b).print() // prints 10\n}\n</code></pre>\n\n<p>I know this is the simple scenario where the both codes are working fine. There should be a benefit of delegation that's why kotlin introduced it. What is the difference? and how kotlin delegation can be useful? Please give me a working example to compare with polymorphism approach.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7742146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bbed95a2a5cfd793afb81fc6f7ea81?s=128&d=identicon&r=PG&f=1", "display_name": "Simulan88", "link": "https://stackoverflow.com/users/7742146/simulan88"}, "edited": false, "score": 0, "creation_date": 1496001043, "post_id": 44231386, "comment_id": 75472577, "body": "I can do that in Java, not in Kotlin right? start() contains some code"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 45, "user_id": 7742146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bbed95a2a5cfd793afb81fc6f7ea81?s=128&d=identicon&r=PG&f=1", "display_name": "Simulan88", "link": "https://stackoverflow.com/users/7742146/simulan88"}, "edited": false, "score": 0, "creation_date": 1496001080, "post_id": 44231386, "comment_id": 75472594, "body": "You can do it in both, abstract classes work the same way in both languages."}, {"owner": {"reputation": 45, "user_id": 7742146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bbed95a2a5cfd793afb81fc6f7ea81?s=128&d=identicon&r=PG&f=1", "display_name": "Simulan88", "link": "https://stackoverflow.com/users/7742146/simulan88"}, "edited": false, "score": 0, "creation_date": 1496002159, "post_id": 44231386, "comment_id": 75472924, "body": "Abstract is correct, I still have some issues in my real code but it&#39;s another problem."}, {"owner": {"reputation": 1347, "user_id": 5561990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-1NQYKSmkPdU/AAAAAAAAAAI/AAAAAAAAABE/i5mE6uTUBg8/photo.jpg?sz=128", "display_name": "RexSplode", "link": "https://stackoverflow.com/users/5561990/rexsplode"}, "edited": false, "score": 1, "creation_date": 1550742528, "post_id": 44231386, "comment_id": 96384484, "body": "Any idea how to achieve this without making it abstract? For example, I have a method in super, which I want child to override, but leaving the implementation in super."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1550742688, "post_id": 44231386, "comment_id": 96384585, "body": "In that case, your method that contains some implementation could call into another abstract function in the base class, which the child would have to override."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1496000978, "creation_date": 1496000978, "answer_id": 44231386, "question_id": 44231358, "link": "https://stackoverflow.com/questions/44231358/kotlin-force-override-of-a-function/44231386#44231386", "title": "Kotlin force override of a function", "body": "<p>You can make your method (and consequently, your class) <a href=\"https://kotlinlang.org/docs/reference/classes.html#abstract-classes\" rel=\"noreferrer\"><code>abstract</code></a>:</p>\n\n<pre><code>abstract class Foo {\n    fun start() {\n        bar()\n        //...\n    }\n    abstract bar()\n}\n</code></pre>\n\n<p>This will force any non-abstract class that inherits from <code>Foo</code> to implement the <code>bar</code> method, as well as prevent anyone from creating an instance of the base <code>Foo</code> class directly.</p>\n"}], "owner": {"reputation": 45, "user_id": 7742146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58bbed95a2a5cfd793afb81fc6f7ea81?s=128&d=identicon&r=PG&f=1", "display_name": "Simulan88", "link": "https://stackoverflow.com/users/7742146/simulan88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2507, "favorite_count": 0, "accepted_answer_id": 44231386, "answer_count": 1, "score": 3, "last_activity_date": 1496001547, "creation_date": 1496000821, "question_id": 44231358, "link": "https://stackoverflow.com/questions/44231358/kotlin-force-override-of-a-function", "title": "Kotlin force override of a function", "body": "<p>I'm creating a base class.<br>\nI have <strong>start()</strong> with some <strong>code</strong>.<br>\nAnd a <strong>bar()</strong> that needs to be overidden by a class that inherits <strong>Foo</strong></p>\n\n<p><strong>start() calls bar()</strong> </p>\n\n<p>My example (foo.kt) :</p>\n\n<pre><code>open class Foo {\n    fun start() {\n        bar()\n        //...\n    }\n    fun bar() {\n        TODO(\"implement me in deriving class\")\n    }\n}\n</code></pre>\n\n<p>I don't like <strong>bar()</strong> throwing an <strong>exception</strong>\nI don't like leaving <strong>bar()</strong> with <strong>blank body</strong> either  </p>\n\n<p>Is there something I forgot that is a <strong>better alternative</strong> in Kotlin?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-databinding", "android-room"], "comments": [{"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1495998642, "post_id": 44230857, "comment_id": 75471869, "body": "Can you provide your project or optimally a MCVE via GitHub or similar?"}, {"owner": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "reply_to_user": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1496000353, "post_id": 44230857, "comment_id": 75472403, "body": "<a href=\"https://github.com/RichyHBM/circular-dependency-mcve\" rel=\"nofollow noreferrer\">github.com/RichyHBM/circular-dependency-mcve</a> This is a new android project wiith just the Databinding and Room libraries added as dependencies"}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1496002213, "post_id": 44230857, "comment_id": 75472940, "body": "I&#39;m sorry, I have no Android SDK available, but maybe someone else can say something with the MCVE available."}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 6243707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0127fed1af1fb753c0effa7abb0f0837?s=128&d=identicon&r=PG&f=1", "display_name": "ankush", "link": "https://stackoverflow.com/users/6243707/ankush"}, "is_accepted": false, "score": -1, "last_activity_date": 1496297395, "creation_date": 1496297395, "answer_id": 44299733, "question_id": 44230857, "link": "https://stackoverflow.com/questions/44230857/gradle-dependency-between-tasks/44299733#44299733", "title": "Gradle dependency between tasks", "body": "<p>remove  line </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>in my case remove error  after remove  above line</p>\n"}, {"tags": [], "owner": {"reputation": 1907, "user_id": 2004073, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZEaZE.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2004073/mike"}, "is_accepted": false, "score": 1, "last_activity_date": 1496628289, "creation_date": 1496628289, "answer_id": 44360752, "question_id": 44230857, "link": "https://stackoverflow.com/questions/44230857/gradle-dependency-between-tasks/44360752#44360752", "title": "Gradle dependency between tasks", "body": "<p>Please take a look at <a href=\"https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0\">this</a>.\nLooks like it is a bug in the Kotlin Gradle plugin 1.1.2-4</p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 7429014, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-UTpKe7L1a1w/AAAAAAAAAAI/AAAAAAAAABo/hOsrVb2TGmQ/photo.jpg?sz=128", "display_name": "Jasss", "link": "https://stackoverflow.com/users/7429014/jasss"}, "is_accepted": false, "score": 0, "last_activity_date": 1516524495, "last_edit_date": 1592644375, "creation_date": 1516524495, "answer_id": 48365124, "question_id": 44230857, "link": "https://stackoverflow.com/questions/44230857/gradle-dependency-between-tasks/48365124#48365124", "title": "Gradle dependency between tasks", "body": "<blockquote>\n<p>apply plugin: 'com.android.library'     //  is deprecated</p>\n</blockquote>\n<p>Try this is</p>\n<blockquote>\n<p>apply plugin: 'com.android.feature'</p>\n<p>apply plugin: 'kotlin-android'</p>\n<p>apply plugin: 'kotlin-android-extensions'</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4404093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xzn7g.jpg?s=128&g=1", "display_name": "Rongliang Duan", "link": "https://stackoverflow.com/users/4404093/rongliang-duan"}, "is_accepted": false, "score": -1, "last_activity_date": 1539320281, "last_edit_date": 1539320281, "creation_date": 1539316438, "answer_id": 52772011, "question_id": 44230857, "link": "https://stackoverflow.com/questions/44230857/gradle-dependency-between-tasks/52772011#52772011", "title": "Gradle dependency between tasks", "body": "<p>If you in debug mode please try this <code>shrinkResources false</code>, Its working for me.</p>\n"}], "owner": {"reputation": 748, "user_id": 1757402, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c38f1ecfe33c4b2358ecc757513b5cdd?s=128&d=identicon&r=PG", "display_name": "RichyHBM", "link": "https://stackoverflow.com/users/1757402/richyhbm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2220, "favorite_count": 1, "answer_count": 4, "score": 9, "last_activity_date": 1539320281, "creation_date": 1495997494, "last_edit_date": 1497787158, "question_id": 44230857, "link": "https://stackoverflow.com/questions/44230857/gradle-dependency-between-tasks", "title": "Gradle dependency between tasks", "body": "<p>So this has started happening since adding the new Room android architecture library. I had issues with the AppDatabase_Impl not exsisting, which I fixed by adding kapt to the annotations as:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44065371/android-room-persistences-library-and-kotlin\">Android Room Persistences library and Kotlin</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44142964/room-persistence-lib-implementation-in-kotlin\">Room Persistence lib implementation in Kotlin</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44154654/room-persistence-lib-implementation-in-kotlingradle-error/\">Room Persistence lib implementation in Kotlin(Gradle error)</a></li>\n</ul>\n\n<p>I had other errors that I suspected were due to AS, Kotlin and Java 8, so I tried updating to AS 3.0</p>\n\n<p>I am now getting the following error when trying to build:</p>\n\n<pre><code>Information:Gradle tasks [:app:generateDebugSources,     :app:generateDebugAndroidTestSources, :app:mockableAndroidJar, :app:compileDebugSources, :app:compileDebugAndroidTestSources, :app:compileDebugUnitTestSources, :cryptocurrency-icons:generateDebugSources, :cryptocurrency-icons:mockableAndroidJar, :cryptocurrency-icons:generateDebugAndroidTestSources, :cryptocurrency-icons:compileDebugSources, :cryptocurrency-icons:compileDebugUnitTestSources, :cryptocurrency-icons:compileDebugAndroidTestSources]\nError:Circular dependency between the following tasks:\n:app:compileDebugKotlin\n+--- :app:dataBindingExportBuildInfoDebug\n|    \\--- :app:compileDebugKotlin (*)\n\\--- :app:kaptDebugKotlin\n     \\--- :app:dataBindingExportBuildInfoDebug (*)\n(*) - details omitted (listed previously)\nInformation:BUILD FAILED in 1s\nInformation:1 error\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n\n<p>My gradle files look like:</p>\n\n<p>Project gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n\n    ext {\n        compileSdkVersion = 25\n        buildToolsVersion = \"25.0.3\"\n        minSdkVersion = 16\n        targetSdkVersion = 25\n        kotlin_version = '1.1.2-4'\n        gradle_version = '2.3.2'\n        android_arch_room_version = '1.0.0-alpha1'\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n        maven { url 'https://maven.google.com' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Module gradle</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    buildToolsVersion rootProject.ext.buildToolsVersion\n\n    defaultConfig {\n        minSdkVersion rootProject.minSdkVersion\n        targetSdkVersion rootProject.targetSdkVersion\n        consumerProguardFiles 'consumer-proguard-rules.pro'\n        versionCode 100\n        versionName \"1.0.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile 'com.mikepenz:iconics-core:2.8.2@aar'\n}\n</code></pre>\n\n<p>App gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nkapt {\n    generateStubs = true\n}\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    buildToolsVersion rootProject.ext.buildToolsVersion\n    defaultConfig {\n        applicationId \"com.my.application\"\n        minSdkVersion rootProject.minSdkVersion\n        targetSdkVersion rootProject.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    //Jars\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    //Modules\n    compile project(':cryptocurrency-icons')\n    //Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    //Support\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support:support-v4:25.3.1'\n    //OSS\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-scalars:2.3.0'\n    compile 'com.github.daniel-stoneuk:material-about-library:1.9.0'\n    compile 'com.mikepenz:iconics-core:2.8.2@aar'\n    compile 'com.mikepenz:community-material-typeface:1.9.32.1@aar'\n    compile 'com.github.paolorotolo:appintro:4.1.0'\n    compile 'com.journeyapps:zxing-android-embedded:3.5.0'\n    //Data binding\n    kapt \"com.android.databinding:compiler:$gradle_version\"\n    //Room\n    compile \"android.arch.persistence.room:runtime:$android_arch_room_version\"\n    kapt  \"android.arch.persistence.room:compiler:$android_arch_room_version\"\n    //Test\n    testCompile 'junit:junit:4.12'\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["java-8", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495986351, "post_id": 44229062, "comment_id": 75468257, "body": "You should mention which solutions you tried that did NOT work.  &quot;but none of the solutions apply&quot; means that people may tell you the same thing again without knowing what they are."}, {"owner": {"reputation": 9280, "user_id": 987753, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e48a721814fa3a27f8a1eaedcc328cfa?s=128&d=identicon&r=PG&f=1", "display_name": "kingston", "link": "https://stackoverflow.com/users/987753/kingston"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495992929, "post_id": 44229062, "comment_id": 75470215, "body": "@JaysonMinard  It&#39;s easy to see that they do not apply because I&#39;m already doing what they suggest as you can see in the code"}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 8, "last_activity_date": 1495986313, "creation_date": 1495986313, "answer_id": 44229151, "question_id": 44229062, "link": "https://stackoverflow.com/questions/44229062/error-with-java8-and-kotlin/44229151#44229151", "title": "Error with java8 and Kotlin", "body": "<p>Retrolambda is not processing the Kotlin bytecode, and you should set the Kotlin compiler to specifically target 1.6 bytecode.  This will not break anything in current version of Kotlin as it can generate the older bytecode for the same functionality.</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = \"1.6\"\n}\n</code></pre>\n\n<p>This is documented in the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-specific-for-jvm\" rel=\"noreferrer\">Kotlin Gradle Plugin attributes</a></p>\n\n<p>For tests, also add:</p>\n\n<pre><code>compileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.6\"\n}\n</code></pre>\n"}], "owner": {"reputation": 9280, "user_id": 987753, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e48a721814fa3a27f8a1eaedcc328cfa?s=128&d=identicon&r=PG&f=1", "display_name": "kingston", "link": "https://stackoverflow.com/users/987753/kingston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1558, "favorite_count": 1, "accepted_answer_id": 44229151, "answer_count": 1, "score": 4, "last_activity_date": 1495996482, "creation_date": 1495985751, "last_edit_date": 1495996482, "question_id": 44229062, "link": "https://stackoverflow.com/questions/44229062/error-with-java8-and-kotlin", "title": "Error with java8 and Kotlin", "body": "<p>I have an app where I'm using retrolambda so in the build.gradle I have</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>Everything is fine unless I add the support for Kotlin.\nAdding the Kotlin plugin I get the following error:</p>\n\n<blockquote>\n  <p>Error:Error converting bytecode to dex:\n  Cause: Dex cannot parse version 52 byte code.\n  This is caused by library dependencies that have been compiled using Java 8 or above.\n  If you are using the 'java' gradle plugin in a library submodule add \n  targetCompatibility = '1.7'\n  sourceCompatibility = '1.7'\n  to that submodule's build.gradle file.</p>\n</blockquote>\n\n<p>I have found many questions and answers similar to this one but non of the solutions apply in my case.</p>\n\n<p>This is my build.gradle:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'me.tatarka:gradle-retrolambda:3.3.1'\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\nrepositories {\n    // Required because retrolambda is on maven central\n    mavenCentral()\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url 'https://maven.google.com' }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'realm-android'\napply plugin: 'com.neenbedankt.android-apt'\napply plugin: 'kotlin-android'\n\nplugins {\n    id \"me.tatarka.retrolambda\" version \"3.3.1\"\n}\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '25.0.2'\n    compileOptions.incremental = false\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        multiDexEnabled true\n        applicationId \"mypackage\"\n        minSdkVersion 17\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"0.1\"\n        vectorDrawables.useSupportLibrary = true\n        jackOptions {\n            enabled false\n        }\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        dexOptions {\n            preDexLibraries = false\n            javaMaxHeapSize \"4g\"\n        }\n    }\n\n    compileOptions {\n        incremental true\n    }\n\n\n    buildTypes {\n        release {\n            debuggable false\n            minifyEnabled true\n            zipAlignEnabled true\n            renderscriptDebuggable false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n        }\n        debug {\n            debuggable true\n            signingConfig signingConfigs.debug\n            minifyEnabled false\n            versionNameSuffix \"_dev\"\n        }\n\n    }\n}\n\ndef supportVersion = '25.3.1'\n\ndependencies {\n    def daggerVer = 2.8\n    apt \"com.google.dagger:dagger-compiler:$daggerVer\"\n    compile \"com.google.dagger:dagger:$daggerVer\"\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    compile 'com.android.support:multidex:1.0.1'\n\n    compile \"com.android.support:appcompat-v7:$supportVersion\"\n    compile \"com.android.support:design:$supportVersion\"\n    compile \"com.android.support:cardview-v7:$supportVersion\"\n    compile \"com.android.support:recyclerview-v7:$supportVersion\"\n    compile \"com.android.support:gridlayout-v7:$supportVersion\"\n    compile \"com.android.support:support-annotations:$supportVersion\"\n    compile \"com.android.support:preference-v7:$supportVersion\"\n    compile \"com.android.support:support-v4:$supportVersion\"\n    compile \"com.android.support:support-vector-drawable:$supportVersion\"\n    compile \"com.android.support:palette-v7:$supportVersion\"\n\n    def firebase = '10.2.0'\n    compile \"com.google.firebase:firebase-crash:$firebase\"\n    compile \"com.google.firebase:firebase-auth:$firebase\"\n    compile 'com.firebaseui:firebase-ui-auth:1.2.0'\n\n    def rxbinding = '2.0.0'\n    compile \"com.jakewharton.rxbinding2:rxbinding:$rxbinding\"\n    compile \"com.jakewharton.rxbinding2:rxbinding-support-v4:$rxbinding\"\n    compile \"com.jakewharton.rxbinding2:rxbinding-appcompat-v7:$rxbinding\"\n    compile \"com.jakewharton.rxbinding2:rxbinding-design:$rxbinding\"\n    compile \"com.jakewharton.rxbinding2:rxbinding-recyclerview-v7:$rxbinding\"\n    compile \"com.jakewharton.rxbinding2:rxbinding-leanback-v17:$rxbinding\"\n\n    compile 'joda-time:joda-time:2.5'\n    compile 'com.ryanharter.auto.value:auto-value-parcel-adapter:0.2.5'\n    compile 'com.jakewharton.timber:timber:4.3.1'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'com.github.clans:fab:1.6.4'\n\n    compile 'me.relex:circleindicator:1.2.2@aar'\n    compile 'com.github.paolorotolo:appintro:4.1.0'\n\n    //architecture\n    compile \"android.arch.lifecycle:runtime:1.0.0-alpha1\"\n    compile \"android.arch.lifecycle:extensions:1.0.0-alpha1\"\n    annotationProcessor \"android.arch.lifecycle:compiler:1.0.0-alpha1\"\n\n    def retrofit2 = '2.2.0'\n    def okhttp3 = '3.4.1'\n    compile \"com.squareup.retrofit2:retrofit:$retrofit2\"\n    compile \"com.squareup.retrofit2:adapter-rxjava2:$retrofit2\"\n    compile \"com.squareup.retrofit2:converter-gson:$retrofit2\"\n    compile \"com.squareup.retrofit2:converter-scalars:$retrofit2\"\n    compile \"com.squareup.okhttp3:okhttp:$okhttp3\"\n    compile \"com.squareup.okhttp3:okhttp-urlconnection:$okhttp3\"\n    compile \"com.squareup.okhttp3:logging-interceptor:$okhttp3\"\n    compile 'com.github.franmontiel:PersistentCookieJar:v1.0.1'\n\n    compile 'com.github.MFlisar:RxBus2:0.1'\n\n    def butter_knife = '8.4.0'\n    apt \"com.jakewharton:butterknife-compiler:$butter_knife\"\n    compile \"com.jakewharton:butterknife:$butter_knife\"\n\n    def leak_canary = '1.4'\n    debugCompile \"com.squareup.leakcanary:leakcanary-android:$leak_canary\"\n    releaseCompile \"com.squareup.leakcanary:leakcanary-android-no-op:$leak_canary\"\n    testCompile \"com.squareup.leakcanary:leakcanary-android-no-op:$leak_canary\"\n\n    apt 'com.gabrielittner.auto.value:auto-value-with:1.0.0'\n    apt 'com.google.auto.value:auto-value:1.2'\n    apt 'com.ryanharter.auto.value:auto-value-parcel:0.2.5'\n    apt 'com.ryanharter.auto.value:auto-value-gson:0.3.2-rc1'\n    provided 'javax.annotation:jsr250-api:1.0'\n    provided 'com.google.auto.value:auto-value:1.2'\n\n    compile 'com.braintreepayments.api:drop-in:3.0.6'\n\n    //other dependencies for testing\n    def hamcrestVersion = '1.3'\n    testCompile \"org.hamcrest:hamcrest-core:$hamcrestVersion\"\n    testCompile \"org.hamcrest:hamcrest-library:$hamcrestVersion\"\n    testCompile \"org.hamcrest:hamcrest-integration:$hamcrestVersion\"\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    testCompile 'org.mockito:mockito-core:1.10.19'\n    testCompile 'junit:junit:4.12'\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n        transitive = true;\n    }\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'org.jetbrains:annotations:15.0'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n}\n\napply plugin: 'com.google.gms.google-services'\n\nandroid.packagingOptions {\n    exclude 'LICENSE.txt'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/rxjava.properties'\n\n}\n\nconfigurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        def requested = details.requested\n        if (requested.group == 'com.android.support') {\n            if (!requested.name.startsWith(\"multidex\")) {\n                details.useVersion \"$supportVersion\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>With no success I tried this</strong></p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    sourceCompatibility = JavaVersion.VERSION_1_6\n    targetCompatibility = JavaVersion.VERSION_1_6\n\n    kotlinOptions {\n        jvmTarget = '1.6'\n        apiVersion = '1.1'\n        languageVersion = '1.1'\n    }\n}\n</code></pre>\n\n<p><strong>and this</strong></p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n        apiVersion = '1.1'\n        languageVersion = '1.1'\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong>\nwith the last version that uses 1.8 for kotlin I now get a different error:</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:compileDebugKotlin'.\n  Compilation error. See log for more details</p>\n</blockquote>\n\n<p>I'm investigating now</p>\n\n<p>This is my top level build.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath('com.android.tools.build:gradle:2.3.0') {\n            force = true\n        }\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle file\n        classpath 'com.google.gms:google-services:3.0.0'\n        classpath \"io.realm:realm-gradle-plugin:2.1.1\"\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495984593, "post_id": 44228815, "comment_id": 75467708, "body": "<i>but i can&#39;t assign values in it</i>, how are you creating the array?"}, {"owner": {"reputation": 393, "user_id": 6215308, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sQ4mImAowWA/AAAAAAAAAAI/AAAAAAAABBM/fYJkp9PseMs/photo.jpg?sz=128", "display_name": "Alok Panday", "link": "https://stackoverflow.com/users/6215308/alok-panday"}, "reply_to_user": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495985138, "post_id": 44228815, "comment_id": 75467890, "body": "var array= emptyArray&lt;Int&gt;()"}, {"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495985232, "post_id": 44228815, "comment_id": 75467914, "body": "And how are you attempting to assign a value to the <code>array</code>?"}, {"owner": {"reputation": 393, "user_id": 6215308, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sQ4mImAowWA/AAAAAAAAAAI/AAAAAAAABBM/fYJkp9PseMs/photo.jpg?sz=128", "display_name": "Alok Panday", "link": "https://stackoverflow.com/users/6215308/alok-panday"}, "reply_to_user": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1495985357, "post_id": 44228815, "comment_id": 75467958, "body": "array.set(index,value)"}], "answers": [{"tags": [], "owner": {"reputation": 8545, "user_id": 4323935, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/yPVSE.png?s=128&g=1", "display_name": "dpr", "link": "https://stackoverflow.com/users/4323935/dpr"}, "is_accepted": false, "score": 4, "last_activity_date": 1495985340, "creation_date": 1495985340, "answer_id": 44228986, "question_id": 44228815, "link": "https://stackoverflow.com/questions/44228815/what-is-the-use-of-emptyarray-in-kotlin/44228986#44228986", "title": "What is the use of emptyArray() in Kotlin", "body": "<p>Similar to the <code>java.util.Collections.emptyList()</code> methods and its counterparts for <code>Maps</code>, etc., these methods are handy when you are calling a method which takes an array/collection as argument, but you don't want/need to provide any elements in that collection. You can either instantiate a new empty array/collection or use one of the helper methods.</p>\n\n<p>If the above use case is very common in your scenario, you are safing memory by using the helpers as always the same instance is reused instead of creating new instances again and again. Otherwise it's mainly \"syntax candy\" making your code more readable and easier to understand.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1495985833, "creation_date": 1495985833, "answer_id": 44229078, "question_id": 44228815, "link": "https://stackoverflow.com/questions/44228815/what-is-the-use-of-emptyarray-in-kotlin/44229078#44229078", "title": "What is the use of emptyArray() in Kotlin", "body": "<p>Arrays are fixed size containers. The <code>emptyArray()</code> function creates an array of 0 length, and you really can't do much with this. You can't store anything in it, and you can't resize it.</p>\n\n<p>A common use case where you need an empty array would be as a default value for a property that will be set to a different array at a later point. This can be better than storing <code>null</code> in that property by default, because you don't have to deal with handling the possible <code>null</code> value when your code uses the array. For example, you can safely iterate over an empty array.</p>\n\n<hr>\n\n<p>For a simple example:</p>\n\n<pre><code>class NumberHolder {\n\n    var numbers: Array&lt;Int&gt; = emptyArray()\n\n    fun printNumbers() {\n        numbers.forEach { println(it) }\n    }\n\n}\n</code></pre>\n\n<p>The usage of this class would look something like this:</p>\n\n<pre><code>val nh = NumberHolder()\nnh.printNumbers() // prints nothing\nnh.numbers = arrayOf(1, 2, 3)\nnh.printNumbers() // prints 1, 2, and 3 on separate lines\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 6, "last_activity_date": 1495985987, "creation_date": 1495985987, "answer_id": 44229096, "question_id": 44228815, "link": "https://stackoverflow.com/questions/44228815/what-is-the-use-of-emptyarray-in-kotlin/44229096#44229096", "title": "What is the use of emptyArray() in Kotlin", "body": "<p>There are cases where you want to fallback to an empty array or empty list.  For example:</p>\n\n<pre><code>return someInputArray?.filterNotNull() ?: emptyArray()\n</code></pre>\n\n<p>In this case if I have a valid  input array, I filter out <code>null</code> values, otherwise if the source array was <code>null</code> I return an empty array.  Therefore an array is always returned instead of a <code>null</code>.  Empty lists and arrays are probably more common than passing around nullable lists or arrays in Kotlin.</p>\n\n<p>So yes, it is empty and you cannot add to it, just as no JVM array is expandable once allocated.</p>\n"}, {"tags": [], "owner": {"reputation": 840, "user_id": 7527287, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-APqegiJWjg8/AAAAAAAAAAI/AAAAAAAAAaw/KON4KVj_qD8/photo.jpg?sz=128", "display_name": "Saud Qureshi", "link": "https://stackoverflow.com/users/7527287/saud-qureshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1496017577, "last_edit_date": 1496017577, "creation_date": 1495986845, "answer_id": 44229243, "question_id": 44228815, "link": "https://stackoverflow.com/questions/44228815/what-is-the-use-of-emptyarray-in-kotlin/44229243#44229243", "title": "What is the use of emptyArray() in Kotlin", "body": "<p>emptyArray() function returns an empty array of size 0. it doesn't take any paramters (Nor size, neither elements). you can use it as rvalue in  assignment operations. You can use empty array to dump all the values in a pre-existing arrays and set it's size to 0.\nNote: it is better to return an empty than returning an array of nulls, as it'll not create any null point exceptions in further operations.</p>\n\n<blockquote>\n<pre><code>var array=arrayOf(1,2,3,4,5);\narray = emptyArray() //The array datais dumped and size is set to 0;\narray = arrayOf(0,1,2)\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 393, "user_id": 6215308, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sQ4mImAowWA/AAAAAAAAAAI/AAAAAAAABBM/fYJkp9PseMs/photo.jpg?sz=128", "display_name": "Alok Panday", "link": "https://stackoverflow.com/users/6215308/alok-panday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "accepted_answer_id": 44229243, "answer_count": 4, "score": 8, "last_activity_date": 1496017577, "creation_date": 1495984272, "last_edit_date": 1495984779, "question_id": 44228815, "link": "https://stackoverflow.com/questions/44228815/what-is-the-use-of-emptyarray-in-kotlin", "title": "What is the use of emptyArray() in Kotlin", "body": "<p>I was learning <code>emptyArray()</code> in Kotlin, but I can't assign values in it (which is for obvious) and neither I can set it's size. What is the use of <code>emptyArray</code> in Kotlin?</p>\n"}, {"tags": ["android", "http", "asynchronous", "android-asynctask", "kotlin"], "owner": {"reputation": 71, "user_id": 8055700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uxXz8bSJkTw/AAAAAAAAAAI/AAAAAAAAVPk/E8nawCORE_0/photo.jpg?sz=128", "display_name": "dbl4k", "link": "https://stackoverflow.com/users/8055700/dbl4k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "closed_date": 1495984480, "answer_count": 0, "score": 2, "last_activity_date": 1495983579, "creation_date": 1495983579, "question_id": 44228707, "link": "https://stackoverflow.com/questions/44228707/android-kotlin-ui-async-http-request-asynctask-or-custom-libraries", "closed_reason": "Duplicate", "title": "Android Kotlin UI Async Http request - AsyncTask or Custom Libraries?", "body": "<p>Specifically trying do some non-blocking http operations within a UI context.</p>\n\n<ol>\n<li><p>I read up on <strong>coroutines</strong> whicch blew my tiny mind, couldn't work out how to invoke a declarative <em>suspend</em> method from a UI event.</p></li>\n<li><p>Had a fair crack with <strong>AsyncTask</strong> in conjunction with <strong>URL(addr).openStream()</strong>, which seemed ok, but I couldn't seem find any good examples where a lambda was being passed in for the oncomplete processing. All the examples seemed to just directly name the control instances in the in the <strong>onPostExecute</strong> function.</p></li>\n</ol>\n\n<p>I was keen to find a more reusable pattern, perhaps in the styley of jquery's ajax pattern.</p>\n\n<ol start=\"3\">\n<li><p>The <strong>Fuel</strong> http client library seems pretty good, I've knocked this together which seems to do the trick:</p>\n\n<pre><code>val url_public_ip: String = \"http://ipinfo.io/json\"\nval url_fake_data: String = \"https://jsonplaceholder.typicode.com/photos\"\n\nfun btnGetPublicIp_Click(view: View){\n    getData(url_public_ip, txtData) \n}\n\nfun btnGetMockData_Click(view: View){\n    getData(url_fake_data, txtData) \n}\n\nfun getData(url: String, control: TextView){\n    control.text = \"Querying...\"\n\n    // Fuel based async request.\n    url.httpGet().responseString { request, response, result -&gt;\n        when (result) {\n            is Result.Failure -&gt; {\n                var error: String? = result.getAs()\n\n                control.text = error\n            }\n            is Result.Success -&gt; {\n                var data: String? = result.getAs()\n\n                control.text = data\n            }\n        }\n    } \n}\n</code></pre></li>\n</ol>\n\n<p>So, the question:</p>\n\n<p>Is anyone else using other custom libs to do this &amp; what kinda stuff are you guys using?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1495978892, "creation_date": 1495978892, "answer_id": 44227950, "question_id": 44227943, "link": "https://stackoverflow.com/questions/44227943/kotlin-constructor-parameter-without-getter/44227950#44227950", "title": "Kotlin constructor parameter without getter", "body": "<p>You can make the entire property private in the constructor, that way it will only be accessible inside the class:</p>\n\n<pre><code>class ViewHolder(itemView: View, private val ui: ViewUI)\n</code></pre>\n"}], "owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 44227950, "answer_count": 1, "score": 4, "last_activity_date": 1495978892, "creation_date": 1495978809, "question_id": 44227943, "link": "https://stackoverflow.com/questions/44227943/kotlin-constructor-parameter-without-getter", "title": "Kotlin constructor parameter without getter", "body": "<p>I have the following code:</p>\n\n<pre><code>class ViewHolder(itemView: View, val ui: ViewUI)\n</code></pre>\n\n<p>I don't want that the field ui have a getter, but kotlin is generating it by default since it is a val defined in the constructor.</p>\n\n<p>In the <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">properties and fields document</a> I found that I can generate a private getter with the following code</p>\n\n<pre><code>var setterVisibility: String = \"abc\"\n    private set\n</code></pre>\n\n<p>But I can't find a way to do this in the constructor definition</p>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1495977629, "post_id": 44227530, "comment_id": 75465477, "body": "Is the backslash next to &#39;https&#39; normal?"}], "owner": {"reputation": 3302, "user_id": 6155031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/efc958223065dee5f01fa8997f13384f?s=128&d=identicon&r=PG&f=1", "display_name": "6155031", "link": "https://stackoverflow.com/users/6155031/6155031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1495977899, "creation_date": 1495975965, "last_edit_date": 1495977899, "question_id": 44227530, "link": "https://stackoverflow.com/questions/44227530/gradle-build-fails-with-new-gradle-3-0-0", "title": "Gradle Build fails with new Gradle 3.0.0", "body": "<p>I tried starting a new project with the new version 3 of Android Studio. I get this error message:\n<a href=\"https://i.stack.imgur.com/JTEVw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTEVw.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is gradle.wrapper.properties</p>\n\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.0-milestone-1-all.zip\n</code></pre>\n\n<p>root.gradle</p>\n\n<pre><code>   buildscript {\n\n        repositories {\n            maven { url 'https://maven.google.com' }\n            jcenter()\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n            classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version'\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n    }\n\n    allprojects {\n        repositories {\n            jcenter()\n            maven { url 'https://maven.google.com' }\n        }\n    }\n\n    task clean(type: Delete) {\n        delete rootProject.buildDir\n    }\n\nbuild.gradle\n\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.zabitoglu.myapplication\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.1.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-beta5'\n}\n</code></pre>\n\n<p>I tried resolve the issue with the invalidation of cache method, and stopping Gradle daemon, but nothing happen ..</p>\n"}, {"tags": ["java", "oop", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1495967459, "creation_date": 1495967459, "answer_id": 44226271, "question_id": 44226228, "link": "https://stackoverflow.com/questions/44226228/kotlin-basic-inheritance-solution/44226271#44226271", "title": "Kotlin basic inheritance solution", "body": "<p>Change your class declaration to</p>\n\n<pre><code>class SavingAccount(owner: String, \n                    balance: Double, \n                    val increasedBy: Double = 0.05): BankAccount(owner, balance)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 861, "user_id": 5279836, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/937588939607461/picture?type=large", "display_name": "Waqar Haider", "link": "https://stackoverflow.com/users/5279836/waqar-haider"}, "edited": false, "score": 0, "creation_date": 1495974065, "post_id": 44226286, "comment_id": 75464429, "body": "worked but the default values are kinda very strange, because i have to do in every child class. over and over..."}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1495976221, "post_id": 44226286, "comment_id": 75465045, "body": "Overriding functions where the overridden function has <a href=\"https://kotlinlang.org/docs/reference/functions.html#default-arguments\" rel=\"nofollow noreferrer\">default arguments</a> automatically get the defaults from the overridden function (in fact, it isn&#39;t even possible to specify other defaults). It looks like constructors don&#39;t work that way."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 0, "creation_date": 1495991288, "post_id": 44226286, "comment_id": 75469769, "body": "@Jesper Its different. Inside the Saving-Account constructor we are not really overriding the properties of Banking, thats why we must declare default values"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 7, "last_activity_date": 1495967542, "creation_date": 1495967542, "answer_id": 44226286, "question_id": 44226228, "link": "https://stackoverflow.com/questions/44226228/kotlin-basic-inheritance-solution/44226286#44226286", "title": "Kotlin basic inheritance solution", "body": "<p>You can implement it with ordinary Constructor-Arguments (hence no Properties) and pass them into your <code>BankAccount</code></p>\n\n<pre><code>class SavingAccount(owner: String,\n        balance: Double,\n        val increasedBy: Double = 0.05\n): BankAccount(owner, balance) {\n\n}\n</code></pre>\n\n<p>Default values for <code>SavingAccount</code> can be defined similar to <code>BankAccount</code>:</p>\n\n<pre><code>class SavingAccount(owner: String = \"Default Owner\",\n        balance: Double = 0.0,\n        val increasedBy: Double = 0.05\n): BankAccount(owner, balance) {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 861, "user_id": 5279836, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/937588939607461/picture?type=large", "display_name": "Waqar Haider", "link": "https://stackoverflow.com/users/5279836/waqar-haider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 44226286, "answer_count": 2, "score": 3, "last_activity_date": 1495980035, "creation_date": 1495967107, "last_edit_date": 1495980035, "question_id": 44226228, "link": "https://stackoverflow.com/questions/44226228/kotlin-basic-inheritance-solution", "title": "Kotlin basic inheritance solution", "body": "<p>How do I make new <code>SavingAccount</code> with init values for <code>owner</code> and <code>balance</code></p>\n\n<pre><code>open class BankAccount(val owner: String = \"Long John Silver\", private var balance: Double = 0.00) {\n\n    constructor (amount: Double) : this() {\n        this.balance = amount\n    }\n    fun deposit(amount: Double){\n        this.balance += amount\n    }\n    fun withdraw(amount: Double){\n        this.balance -= amount\n    }\n    fun getBalance(): Double{\n        return this.balance\n    }\n}\n</code></pre>\n\n<p>And the child class </p>\n\n<pre><code>class SavingAccount(val increasedBy: Double = 0.05): BankAccount(){\n\n    fun addInterest(): Unit{\n        val increasedBy = (this.getBalance() * increasedBy)\n        deposit(amount = increasedBy)\n    }\n}\n</code></pre>\n\n<p>and in main</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    val sa = SavingAccount();// how to do this SavingAccount(\"Captain Flint\", 20.00)\n    println(sa.owner)\n    println(sa.owner)\n}\n</code></pre>\n\n<p>How can I create <code>SavingAccount</code> for a new user, without default values?</p>\n"}, {"tags": ["android", "junit", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495962041, "post_id": 44225110, "comment_id": 75461021, "body": "Did you add a task before launch for <code>copyTestClasses</code>?"}, {"owner": {"reputation": 484, "user_id": 981337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4M4dF.png?s=128&g=1", "display_name": "Evan Leis", "link": "https://stackoverflow.com/users/981337/evan-leis"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495993813, "post_id": 44225110, "comment_id": 75470477, "body": "I did add it to my run configuration for the module in question."}], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 981337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4M4dF.png?s=128&g=1", "display_name": "Evan Leis", "link": "https://stackoverflow.com/users/981337/evan-leis"}, "is_accepted": true, "score": 2, "last_activity_date": 1495994443, "creation_date": 1495994443, "answer_id": 44230385, "question_id": 44225110, "link": "https://stackoverflow.com/questions/44225110/android-w-kotlin-pure-java-junit-noclassdeffounderror-workaround-not-working/44230385#44230385", "title": "Android w/ Kotlin pure-java-Junit NoClassDefFoundError workaround not working", "body": "<p>Turns out, the destination copy directory for the workaround was incorrect.</p>\n\n<p>I had been using: </p>\n\n<pre><code>task copyTestClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/devDebugUnitTest\"\n    into \"build/intermediates/classes/devDebug\"\n}\n\ntask copySdkClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/devDebug\"\n    into \"build/intermediates/classes/dev/debug\"\n}\n</code></pre>\n\n<p>But the following works for me:    </p>\n\n<pre><code>task copyTestClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/devDebugUnitTest\"\n    into \"build/intermediates/classes/dev/debug\"\n}\n\ntask copySdkClasses(type: Copy) {\n    from \"build/tmp/kotlin-classes/devDebug\"\n    into \"build/intermediates/classes/dev/debug\"\n}\n</code></pre>\n\n<p>On clean builds, the SDK classes are not available. I also needed to add <code>:api:assembleDevDebug</code> to the run configuration to make it work from clean builds.</p>\n"}], "owner": {"reputation": 484, "user_id": 981337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4M4dF.png?s=128&g=1", "display_name": "Evan Leis", "link": "https://stackoverflow.com/users/981337/evan-leis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 44230385, "answer_count": 1, "score": 1, "last_activity_date": 1495994443, "creation_date": 1495958897, "question_id": 44225110, "link": "https://stackoverflow.com/questions/44225110/android-w-kotlin-pure-java-junit-noclassdeffounderror-workaround-not-working", "title": "Android w/ Kotlin pure-java-Junit NoClassDefFoundError workaround not working", "body": "<p><a href=\"https://github.com/explodes/bug-kotlin-junit\" rel=\"nofollow noreferrer\" title=\"Repository that reliably produces the same error: explodes/bug-kotlin-junit\">Repository that reliably reproduces the error: explodes/bug-kotlin-junit</a></p>\n\n<p>My Android app consists of an application module and 4 library modules.</p>\n\n<p>My tests are written in pure Java. Tests that do not touch Kotlin code run just fine, but when I run tests that use (<code>MyKotlinObj::methodRef</code>) or inits a class (<code>new MyKotlinObj()</code>), my test will fail with the following:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: com/explod/api/UserCreated\n\n    at com.explod.api.Bug.initUserCreated_shouldNotTriggerNoClassDefFoundError(Bug.java:19)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: java.lang.ClassNotFoundException: com.explod.api.UserCreated\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 28 more\n</code></pre>\n\n<p>Using:</p>\n\n<ul>\n<li><p>Android Studio 3.0 Canary 2</p></li>\n<li><p>Build tools 26.0.0-rc2</p></li>\n<li><p>Kotlin Version 1.1.2-4</p></li>\n<li><p>Android-Gradle Plugin 3.0.0-alpha2</p></li>\n<li><p>Gradle gradle-4.0-milestone-1</p></li>\n<li><p>Target SDK 25</p></li>\n<li><p>Min SDK 19</p></li>\n</ul>\n\n<p>The workaround suggested <a href=\"https://stackoverflow.com/questions/44085898/noclassdeffounderror-on-kotlin-class-in-junit-test-at-runtime\">here</a> does not work for me:</p>\n\n<pre><code>android {\n    task copyTestClasses(type: Copy) {\n        from \"build/tmp/kotlin-classes/debugUnitTest\"\n        into \"build/intermediates/classes/debug\"\n    }\n</code></pre>\n\n<p>It looks like the <a href=\"https://issuetracker.google.com/issues/38454212\" rel=\"nofollow noreferrer\">Android Studio team possibly has a solution</a> but I am hoping for a workaround that works. Is my issue different? There is no Kotlin code in my tests.</p>\n"}, {"tags": ["java", "generics", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1495953490, "post_id": 44224402, "comment_id": 75459181, "body": "What do you mean saying &#39;convert Callable into a lambda&#39;? Do you want to convert Callable to Kotlin functional type, <code>() -&gt; ViewModel</code>?"}, {"owner": {"reputation": 71, "user_id": 4889996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOGC6.jpg?s=128&g=1", "display_name": "bellol", "link": "https://stackoverflow.com/users/4889996/bellol"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1495954581, "post_id": 44224402, "comment_id": 75459398, "body": "i have edited the question to show my problem, rather than my &quot;solution&quot;"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1495954830, "post_id": 44224402, "comment_id": 75459445, "body": "No way to avoid it. You can&#39;t prove that given creator returns an object of type <code>T</code>. Such things remain with unchecked casts. Note also, that if <code>creators[modelClass]</code> is null, whole expression <code>creators[modelClass]?.invoke()</code> will be null, and casting it to non-null type will throw an exception."}, {"owner": {"reputation": 71, "user_id": 4889996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOGC6.jpg?s=128&g=1", "display_name": "bellol", "link": "https://stackoverflow.com/users/4889996/bellol"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1495955410, "post_id": 44224402, "comment_id": 75459560, "body": "you&#39;re right. silly me, thanks"}], "owner": {"reputation": 71, "user_id": 4889996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOGC6.jpg?s=128&g=1", "display_name": "bellol", "link": "https://stackoverflow.com/users/4889996/bellol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495954474, "creation_date": 1495952324, "last_edit_date": 1495954474, "question_id": 44224402, "link": "https://stackoverflow.com/questions/44224402/lambda-functions-with-wildcards-in-kotlin", "title": "Lambda functions with wildcards in Kotlin", "body": "<p>I was looking at the examples provided by Google and came across this line</p>\n\n<pre><code>private final ArrayMap&lt;Class, Callable&lt;? extends ViewModel&gt;&gt; creators;\n</code></pre>\n\n<p>I am having trouble figuring out how to convert that <code>Callable&lt;? extends ViewModel&gt;</code> into a lambda in Kotlin</p>\n\n<p>How would I go about doing this?</p>\n\n<p>EDIT:</p>\n\n<pre><code>class ViewModelFactory(appComponent: AppComponent) : ViewModelProvider.Factory {\n\n    private val creators: ArrayMap&lt;Class&lt;*&gt;, () -&gt; ViewModel&gt; = ArrayMap()\n\n    init {\n        creators.put(DashboardViewModel::class.java, { appComponent.getDashboardViewModel() })\n    }\n\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;?): T = creators[modelClass]?.invoke() as T\n}\n</code></pre>\n\n<p>In the code above, I am getting an unchecked cast lint message in my IDE. \nIs there a way to avoid this?</p>\n"}, {"tags": ["recursion", "kotlin", "factorial"], "comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 1, "creation_date": 1495951059, "post_id": 44224273, "comment_id": 75458722, "body": "recursion can never end."}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 2, "creation_date": 1495952124, "post_id": 44224273, "comment_id": 75458916, "body": "A little dubugger session would have immediately told you what&#39;s wrong. Finding errors in code is what 80% of programming is about. You better grow that skill sooner than later."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 1, "creation_date": 1495952617, "post_id": 44224273, "comment_id": 75459004, "body": "Also some more effort in asking the question would have been nice, for example proper punctuation."}], "answers": [{"tags": [], "owner": {"reputation": 356910, "user_id": 1221571, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GLKUy.jpg?s=128&g=1", "display_name": "Eran", "link": "https://stackoverflow.com/users/1221571/eran"}, "is_accepted": false, "score": 4, "last_activity_date": 1495951021, "creation_date": 1495951021, "answer_id": 44224293, "question_id": 44224273, "link": "https://stackoverflow.com/questions/44224273/stackoverflow-error-on-factorial-using-recursion-on-ktolin/44224293#44224293", "title": "Stackoverflow error on factorial using recursion on ktolin", "body": "<p>You should return</p>\n\n<pre><code>no*calculateFact(no - 1)\n</code></pre>\n\n<p>not</p>\n\n<pre><code>no*calculateFact(no)\n</code></pre>\n\n<p>otherwise the recursion can never end.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1495955371, "creation_date": 1495955371, "answer_id": 44224707, "question_id": 44224273, "link": "https://stackoverflow.com/questions/44224273/stackoverflow-error-on-factorial-using-recursion-on-ktolin/44224707#44224707", "title": "Stackoverflow error on factorial using recursion on ktolin", "body": "<p>Other than the mistake in the recursion that was already pointed out, it's worth mentioning that your method will still only work correctly for numbers up to <code>12</code>, since <code>13!</code> is larger than the maximum value that you can store in an <code>Int</code>. Therefore, for numbers <code>13</code> and up, you'll essentially get \"random\" results due to overflow.</p>\n\n<p>If you just use <code>BigInteger</code> instead, it will work until the call stack gets too deep and causes a stack overflow, this happens around <code>8000</code> on my machine.</p>\n\n<pre><code>fun calculateFact(no: BigInteger): BigInteger {\n    if (no == BigInteger.ZERO) {\n        return BigInteger.ONE\n    }\n    return (no * calculateFact(no - BigInteger.ONE))\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val no: BigInteger = BigInteger(readLine())\n    val ans: BigInteger = calculateFact(no)\n    println(\"Factorial of $no is $ans\")\n}\n</code></pre>\n\n<hr>\n\n<p>If you want to handle numbers larger than that, you can use a <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\"><code>tailrec</code></a> function (this specific solution is taken from <a href=\"http://blog.richdougherty.com/2009/04/tail-calls-tailrec-and-trampolines.html\" rel=\"nofollow noreferrer\">this</a> article):</p>\n\n<pre><code>tailrec fun calculateFact(acc: BigInteger, n: BigInteger): BigInteger {\n    if (n == BigInteger.ZERO) {\n        return acc\n    }\n    return calculateFact(n * acc, n - BigInteger.ONE)\n}\n\nfun calculateFact(n: BigInteger) : BigInteger {\n    return calculateFact(BigInteger.ONE, n)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val n: BigInteger = BigInteger(readLine())\n    val ans: BigInteger = calculateFact(n)\n    println(\"Factorial of $n is $ans\")\n}\n</code></pre>\n\n<p>This will work for numbers up to a couple hundred thousand, your problem with this one will become the time it takes to run instead of the memory constraints.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1495955935, "creation_date": 1495955935, "answer_id": 44224775, "question_id": 44224273, "link": "https://stackoverflow.com/questions/44224273/stackoverflow-error-on-factorial-using-recursion-on-ktolin/44224775#44224775", "title": "Stackoverflow error on factorial using recursion on ktolin", "body": "<pre><code> fun main(args:Array&lt;String&gt;) {\n     var no:Int = Integer.parseInt(readLine()) //read input from user and convert to Integer\n     var ans:Int=calculateFact(no) //call function and store to ans variable\n     println(\"Factorial of \"+no+\" is \"+ans) //print result\n}\n\nfun calculateFact(no:Int):Int { //function for recursion \n    if(no==0) {\n        return 1 \n    }\n    return (no*calculateFact(no - 1)) // you forgot to decrease the no here.\n}\n</code></pre>\n\n<p>If you didnot decrease no then it will call the <code>calculateFact()</code> method all the time. Please check the code, it will work.</p>\n"}], "owner": {"reputation": 57, "user_id": 7665208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G5dLqQBKO-c/AAAAAAAAAAI/AAAAAAAAAB8/a6FczzKDb_M/photo.jpg?sz=128", "display_name": "Raghav", "link": "https://stackoverflow.com/users/7665208/raghav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1495962976, "creation_date": 1495950880, "last_edit_date": 1495962976, "question_id": 44224273, "link": "https://stackoverflow.com/questions/44224273/stackoverflow-error-on-factorial-using-recursion-on-ktolin", "title": "Stackoverflow error on factorial using recursion on ktolin", "body": "<p>This is my code\nThis gives stack overflow error 30 times on the output console</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n     var no:Int=Integer.parseInt(readLine())//read input from user and convert to Integer\n      var ans:Int=calculateFact(no) //call function and store to ans variable\n      println(\"Factorial of \"+no+\" is \"+ans) //print result\n}\nfun calculateFact(no:Int):Int //function for recursion\n{\nif(no==0) {\n    return 1 }\nreturn (no*calculateFact(no))   \n}\n</code></pre>\n\n<p>I don't know what is error\nsolve plz</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1495973685, "post_id": 44222505, "comment_id": 75464313, "body": "How about your Kotlin compiler settings?"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1496017249, "post_id": 44222505, "comment_id": 75476299, "body": "@Tr\u1ea7n\u0110\u1ee9cT&#226;m I don\u2019t know what they are, but they are certainly the \u201cdefaults\u201d for I haven\u2019t touched anything."}], "answers": [{"tags": [], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "is_accepted": true, "score": 5, "last_activity_date": 1495931071, "creation_date": 1495931071, "answer_id": 44222721, "question_id": 44222505, "link": "https://stackoverflow.com/questions/44222505/kotlin-javaclass-missing-dependency-in-latest-android-studio-3-0/44222721#44222721", "title": "Kotlin javaClass&lt;&gt; missing dependency in latest Android Studio 3.0", "body": "<p>I decided to try to use the Java To Kotlin conversion. So I created a new Activity in Java, and wrote the above code as the java documentation states.</p>\n\n<p>After the class was working, I did <code>Code -&gt; Convert Java Class To Kotlin</code> in Android Studio, and the resulting Kotlin class had the following line: </p>\n\n<p><code>val viewModel = ViewModelProviders.of(this).get(MainViewModel::class.java)</code></p>\n\n<p>This compiled perfectly. I will have to learn more about which one is correct, but this one may save you some time if you\u2019re, like me, new to the language. </p>\n"}], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2269, "favorite_count": 1, "accepted_answer_id": 44222721, "answer_count": 1, "score": 2, "last_activity_date": 1495931071, "creation_date": 1495928146, "question_id": 44222505, "link": "https://stackoverflow.com/questions/44222505/kotlin-javaclass-missing-dependency-in-latest-android-studio-3-0", "title": "Kotlin javaClass&lt;&gt; missing dependency in latest Android Studio 3.0", "body": "<p><strong>Toolchain</strong>: </p>\n\n<ul>\n<li><p>Android Studio 3.0 Canary 2:</p>\n\n<p>Build #AI-171.4041253, built on May 24, 2017\nJRE: 1.8.0_112-release-b736 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nMac OS X 10.12.5</p></li>\n<li><p>Google SDK/Tools: I have downloaded the latest \"all\" (Android O, tools, libraries, etc. at least according to Android Studio SDK Manager). </p></li>\n</ul>\n\n<p><strong>Problem</strong>: <code>javaClass&lt;&gt;</code> is missing and Android Studio can't \"import it\".</p>\n\n<p><strong>What I did</strong>:</p>\n\n<ol>\n<li><p>Create new Android project, target API 23 and told it to include a \"basic activity\".</p></li>\n<li><p>Added the Gradle dependencies for ViewModel and Room taken from: <a href=\"https://developer.android.com/topic/libraries/architecture/adding-components.html\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/adding-components.html</a></p></li>\n</ol>\n\n<p>These are the lines I added to my App Module's gradle file: </p>\n\n<pre><code>compile \"android.arch.lifecycle:runtime:1.0.0-alpha1\"\ncompile \"android.arch.lifecycle:extensions:1.0.0-alpha1\"\nannotationProcessor \"android.arch.lifecycle:compiler:1.0.0-alpha1\"    \ncompile \"android.arch.persistence.room:runtime:1.0.0-alpha1\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n</code></pre>\n\n<ol start=\"3\">\n<li><p>The Kotlin reference in the same Gradle is: <code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"</code> (I didn't add that one, came automatically)</p></li>\n<li><p>I then created a simple Kotlin class called <code>MainViewModel</code>: </p>\n\n<p>import android.arch.lifecycle.ViewModel\nclass MainViewModel : ViewModel() {}</p></li>\n<li><p>Then I went to my Activity and tried to do what this Google Documentation says: <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel.html</a></p></li>\n</ol>\n\n<p>It's in Java but converted to Kotlin, <em>I think</em> it should look like: </p>\n\n<p><code>val mainViewModel = ViewModelProviders.of(this).get(javaClass&lt;MainViewModel&gt;)</code></p>\n\n<p>The problem is that Android Studio is not finding javaClass and the fix (to press <kbd>\u2325</kbd><kbd>\u23ce</kbd>) doesn\u2019t do anything. </p>\n\n<p><a href=\"https://i.stack.imgur.com/tbigR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbigR.png\" alt=\"Android Studio screen shot\"></a></p>\n\n<h3>What am I missing?</h3>\n"}, {"tags": ["javascript", "java-8", "kotlin", "nashorn"], "answers": [{"comments": [{"owner": {"reputation": 3997, "user_id": 3475600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9e1f9fd497f3809796c8949890d9bc?s=128&d=identicon&r=PG&f=1", "display_name": "srborlongan", "link": "https://stackoverflow.com/users/3475600/srborlongan"}, "edited": false, "score": 0, "creation_date": 1495969994, "post_id": 44223362, "comment_id": 75463248, "body": "Could AbstractJSObject::getMember be implemented with String switch? public Object getMember(String name) { switch (name) { case &quot;map&quot;: return (Function&lt;JSObject, Object&gt;) callback -&gt; { ... }; default: return null; }}"}, {"owner": {"reputation": 3997, "user_id": 3475600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9e1f9fd497f3809796c8949890d9bc?s=128&d=identicon&r=PG&f=1", "display_name": "srborlongan", "link": "https://stackoverflow.com/users/3475600/srborlongan"}, "edited": false, "score": 0, "creation_date": 1495970178, "post_id": 44223362, "comment_id": 75463312, "body": "The Function&lt;JSObject, Object&gt; value can also be created by collecting into a List&lt;&gt; value: callback -&gt; l.stream().map(obj -&gt; callback.call(null, obj)).collect(Collectors.toList());"}, {"owner": {"reputation": 4161, "user_id": 3189360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3liX7.jpg?s=128&g=1", "display_name": "A. Sundararajan", "link": "https://stackoverflow.com/users/3189360/a-sundararajan"}, "reply_to_user": {"reputation": 3997, "user_id": 3475600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9e1f9fd497f3809796c8949890d9bc?s=128&d=identicon&r=PG&f=1", "display_name": "srborlongan", "link": "https://stackoverflow.com/users/3475600/srborlongan"}, "edited": false, "score": 1, "creation_date": 1495974381, "post_id": 44223362, "comment_id": 75464511, "body": "Right. I wanted the essence of the suggestion to be seen clearly and so avoided streams etc."}, {"owner": {"reputation": 451, "user_id": 2340769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a9c0488016181702c95011968397e3bc?s=128&d=identicon&r=PG", "display_name": "deinspanjer", "link": "https://stackoverflow.com/users/2340769/deinspanjer"}, "edited": false, "score": 0, "creation_date": 1495980331, "post_id": 44223362, "comment_id": 75466323, "body": "Thank you so very much for the response.  I will take a look at this right now."}, {"owner": {"reputation": 451, "user_id": 2340769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a9c0488016181702c95011968397e3bc?s=128&d=identicon&r=PG", "display_name": "deinspanjer", "link": "https://stackoverflow.com/users/2340769/deinspanjer"}, "edited": false, "score": 0, "creation_date": 1496004458, "post_id": 44223362, "comment_id": 75473590, "body": "Argh.. so close and yet so far away.  I think I might have hit a limitation in the Java 8 version of Nashorn.  I&#39;ll open a new question with this problem."}, {"owner": {"reputation": 4161, "user_id": 3189360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3liX7.jpg?s=128&g=1", "display_name": "A. Sundararajan", "link": "https://stackoverflow.com/users/3189360/a-sundararajan"}, "edited": false, "score": 1, "creation_date": 1496023959, "post_id": 44223362, "comment_id": 75477364, "body": "Sounds good. Or you could also post to nashorn-dev openjdk alias and/or file a bug against OpenJDK."}], "tags": [], "owner": {"reputation": 4161, "user_id": 3189360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3liX7.jpg?s=128&g=1", "display_name": "A. Sundararajan", "link": "https://stackoverflow.com/users/3189360/a-sundararajan"}, "is_accepted": true, "score": 4, "last_activity_date": 1495940026, "last_edit_date": 1495940026, "creation_date": 1495939642, "answer_id": 44223362, "question_id": 44222083, "link": "https://stackoverflow.com/questions/44222083/how-can-i-pass-a-proper-method-reference-in-so-nashorn-can-execute-it/44223362#44223362", "title": "How can I pass a proper method reference in so Nashorn can execute it?", "body": "<p>JSObject.getMember can return any script \"callable\". That could be another JSObject that returns 'true' for isFunction or a Java functional interface object. Couple of simple Java sample programs here:</p>\n\n<pre><code>import javax.script.*;\nimport jdk.nashorn.api.scripting.*;\nimport java.util.*;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        ScriptEngineManager m = new ScriptEngineManager();\n        ScriptEngine e = m.getEngineByName(\"nashorn\");\n\n        // The following JSObject wraps this list\n        List&lt;String&gt; l = new ArrayList();\n        l.add(\"hello\");\n        l.add(\"world\");\n\n        JSObject jsObj = new AbstractJSObject() {\n            @Override\n            public Object getMember(String name) {\n                // return a \"function\" object for \"map\"\n                if (name.equals(\"map\")) {\n                    return new AbstractJSObject() {\n                        @Override\n                        public Object call(Object thiz, Object... args) {\n                            // first argument is the callback passed from script\n                            JSObject callable = (JSObject)args[0];\n                            List&lt;Object&gt; res = new ArrayList&lt;&gt;();\n                            for (Object obj : l) {\n                                // call callback on each object and add the result to new list\n                                res.add(callable.call(null, obj));\n                            }\n\n                            // return fresh list as result of map (or this could be another wrapper)\n                            return res;\n                        }\n\n                        @Override\n                        public boolean isFunction() { return true; }\n                    };\n                } else {\n                    // unknown property\n                    return null;\n                }\n           }\n        };\n\n        e.put(\"obj\", jsObj);\n        // map each String to it's uppercase and print result of map\n        e.eval(\"print(obj.map(function(x) x.toUpperCase()))\");\n    }\n}\n</code></pre>\n\n<p>The above example returns a callable JSObject for \"map\" property. The returned \"function\" itself uses a callback function as argument. All script functions (and objects) are passed as JSObjects to Java code and so 'map' code casts first argument to JSObject to invoke the script callback function.</p>\n\n<p>The above sample modified to use a functional interface is as follows:</p>\n\n<pre><code>import javax.script.*;\nimport jdk.nashorn.api.scripting.*;\nimport java.util.*;\nimport java.util.function.*;\n\npublic class Main2 {\n    public static void main(String[] args) throws Exception {\n        ScriptEngineManager m = new ScriptEngineManager();\n        ScriptEngine e = m.getEngineByName(\"nashorn\");\n\n        // The following JSObject wraps this list\n        List&lt;String&gt; l = new ArrayList();\n        l.add(\"hello\");\n        l.add(\"world\");\n\n        JSObject jsObj = new AbstractJSObject() {\n            @Override\n            public Object getMember(String name) {\n                if (name.equals(\"map\")) {\n                    // return a functional interface object - nashorn will treat it like\n                    // script function!\n                    return (Function&lt;JSObject, Object&gt;)callback -&gt; {\n                        List&lt;Object&gt; res = new ArrayList&lt;&gt;();\n                        for (Object obj : l) {\n                            // call callback on each object and add the result to new list\n                            res.add(callback.call(null, obj));\n                        }\n\n                        // return fresh list as result of map (or this could be another wrapper)\n                        return res;\n                    };\n                } else {\n                    // unknown property\n                    return null;\n                }\n           }\n        };\n\n        e.put(\"obj\", jsObj);\n        // map each String to it's uppercase and print result of map\n        e.eval(\"print(obj.map(function(x) x.toUpperCase()))\");\n    }\n}\n</code></pre>\n\n<p>Hope the above samples will help you in coming up with Kotlin version for your scenario.</p>\n"}], "owner": {"reputation": 451, "user_id": 2340769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a9c0488016181702c95011968397e3bc?s=128&d=identicon&r=PG", "display_name": "deinspanjer", "link": "https://stackoverflow.com/users/2340769/deinspanjer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 2, "accepted_answer_id": 44223362, "answer_count": 1, "score": 2, "last_activity_date": 1495998498, "creation_date": 1495923430, "last_edit_date": 1495998498, "question_id": 44222083, "link": "https://stackoverflow.com/questions/44222083/how-can-i-pass-a-proper-method-reference-in-so-nashorn-can-execute-it", "title": "How can I pass a proper method reference in so Nashorn can execute it?", "body": "<p>I am trying to write a library that will let me execute JSON Logic rules via the Nashorn Javascript engine.</p>\n\n<p>My problem right now is specifically around the JSObject wrapper I've created to handle moving data from Java/Kotlin into the scripting engine.</p>\n\n<p>If an array is passed in such as <code>[true]</code> it is wrapped and the json-logic script will receive it, see that it is an array, and attempt to run the following bit of code:</p>\n\n<pre><code>if(Array.isArray(logic)) {\n  return logic.map(function(l) {\n    return jsonLogic.apply(l, data);\n  });\n}\n</code></pre>\n\n<p>When the <code>.map</code> function is called, Nashorn will call <code>getMember(\"map\")</code> on my object expecting to get a function back that it can execute.</p>\n\n<p>This is where I am stuck.  I have not been able to find any sort of proper syntax to give Nashorn a method or method reference that can be invoked by it as the receiver of its map function.</p>\n\n<p>The code is available here: <a href=\"https://github.com/deinspanjer/json-logic-java\" rel=\"nofollow noreferrer\">https://github.com/deinspanjer/json-logic-java</a>\nThere are some basic unit tests including the one that exhibits the problem, <code>JavaJsonLogicTest.simpleApplyJEJO()</code>.\nThe line of code that is broken is <code>com/jsonlogic/JSObjectWrappers.kt:97</code>.</p>\n\n<p>I would very much appreciate your help.</p>\n\n<p><strong>UPDATE:</strong>\nBased on the accepted answer, here is the working Kotlin version of the code:</p>\n\n<pre><code>package com.jsonlogic\n\nimport jdk.nashorn.api.scripting.AbstractJSObject\nimport jdk.nashorn.api.scripting.JSObject\nimport java.util.function.Function\nimport javax.script.ScriptEngineManager\n\nfun main(args: Array&lt;String&gt;) {\n    val m = ScriptEngineManager()\n    val e = m.getEngineByName(\"nashorn\")\n\n    // The following JSObject wraps this list\n    val l = mutableListOf&lt;Any&gt;()\n    l.add(\"hello\")\n    l.add(\"world\")\n    l.add(true)\n    l.add(1)\n\n    val jsObj = object : AbstractJSObject() {\n        override fun getMember(name: String?): Any? {\n            if (name == \"map\") {\n                // return a functional interface object - nashorn will treat it like\n                // script function!\n                return Function { callback: JSObject -&gt;\n                    val res = l.map {\n                        // call callback on each object and add the result to new list\n                        callback.call(null, it)\n                    }\n\n                    // return fresh list as result of map (or this could be another wrapper)\n                    res\n                }\n            } else {\n                // unknown property\n                return null\n            }\n        }\n    }\n\n    e.put(\"obj\", jsObj)\n    // map each String to it's uppercase and print result of map\n    e.eval(\"print(obj.map(function(x) '\\\"'+x.toString()+'\\\"'))\");\n}\n</code></pre>\n"}, {"tags": ["java", "functional-programming", "java-stream", "kotlin", "immutability"], "answers": [{"tags": [], "owner": {"reputation": 101145, "user_id": 1059372, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/W6OMC.png?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/1059372/eugene"}, "is_accepted": false, "score": 2, "last_activity_date": 1495962768, "creation_date": 1495962768, "answer_id": 44225595, "question_id": 44220996, "link": "https://stackoverflow.com/questions/44220996/kotlin-java-functional-and-immutable-way-of-collecting-a-map-in-a-map/44225595#44225595", "title": "Kotlin/Java functional and immutable way of collecting a map in a map", "body": "<p>I am not comfortable enough with <code>Kotlin</code>, but it seems that you should be using a simple : <code>Collectors.collectingAndThen</code>. Something like:</p>\n\n<pre><code>  System.out.println(Stream.of(1, 2, 3, 1)\n             .collect(Collectors.collectingAndThen(\n                  Collectors.groupingBy(Function.identity(), Collectors.counting()),\n                       Collections::unmodifiableMap)));\n</code></pre>\n\n<p>The idea is that you collect to a mutable map and then wrap that into an ImmutableMap. </p>\n\n<p>If by the way you have <code>guava</code> on the class path - it has build collectors that collect to an <code>ImmutableMap</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4078705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rOATV6r6SwE/AAAAAAAAAAI/AAAAAAAAABA/42qRe6oAEXI/photo.jpg?sz=128", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4078705/erik-w"}, "edited": false, "score": 0, "creation_date": 1495979297, "post_id": 44227685, "comment_id": 75465977, "body": "Thanks! So the type hint is the List&lt;String&gt;?"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "reply_to_user": {"reputation": 53, "user_id": 4078705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rOATV6r6SwE/AAAAAAAAAAI/AAAAAAAAABA/42qRe6oAEXI/photo.jpg?sz=128", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4078705/erik-w"}, "edited": false, "score": 0, "creation_date": 1495979355, "post_id": 44227685, "comment_id": 75465997, "body": "@ErikW The type hint is <code>&lt;List&lt;String&gt;, Int, Double&gt;</code>, besically filling in every generic type of the method."}, {"owner": {"reputation": 53, "user_id": 4078705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rOATV6r6SwE/AAAAAAAAAAI/AAAAAAAAABA/42qRe6oAEXI/photo.jpg?sz=128", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4078705/erik-w"}, "edited": false, "score": 0, "creation_date": 1495979694, "post_id": 44227685, "comment_id": 75466108, "body": "So the list&lt;String&gt; is a placeholder just to fill the generic types of the method?"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "reply_to_user": {"reputation": 53, "user_id": 4078705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rOATV6r6SwE/AAAAAAAAAAI/AAAAAAAAABA/42qRe6oAEXI/photo.jpg?sz=128", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4078705/erik-w"}, "edited": false, "score": 2, "creation_date": 1495979942, "post_id": 44227685, "comment_id": 75466194, "body": "@ErikW No, at runtime there is no <code>List&lt;String&gt;</code>. Normally you would just call <code>toMap(...)</code> without the <code>&lt;List&lt;String&gt;, Int, Double&gt;</code> but in this case, the compiler can not figure out what the generic types of the method should be. So I&#39;m explicitly telling it which types to use."}], "tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": true, "score": 2, "last_activity_date": 1495980021, "last_edit_date": 1495980021, "creation_date": 1495977031, "answer_id": 44227685, "question_id": 44220996, "link": "https://stackoverflow.com/questions/44220996/kotlin-java-functional-and-immutable-way-of-collecting-a-map-in-a-map/44227685#44227685", "title": "Kotlin/Java functional and immutable way of collecting a map in a map", "body": "<p>You could do this:</p>\n\n<pre><code>val result: Map&lt;Int, Map&lt;Int, Double&gt;&gt; = Files.lines(Paths.get(folderPath))\n        .map { it.split(\",\") }\n        .collect(groupingBy({ it[0].toInt() },\n                toMap&lt;List&lt;String&gt;, Int, Double&gt;({ it[1].toInt() }) { it[2].toDouble() }))\n</code></pre>\n\n<p>The compiler didn't seem to be able to infer the types for <code>toMap</code>, so I added a type hint there.</p>\n\n<p>I will point out that Kotlin doesn't have an immutable <code>Map</code> implementation. The default returned by <code>mapOf</code> is <code>java.util.LinkedhashMap</code> which <em>is</em> mutable. It's just that the <code>Map</code> interface doesn't expose the mutating methods (like <code>put</code>, <code>putAll</code>). And you can freely assign a <code>MutableMap&lt;Int, MutableMap&lt;Int, Double&gt;&gt;</code> to a <code>Map&lt;Int, Map&lt;Int, Double&gt;&gt;</code>, which is also what I'm doing here with the type annotation on <code>result</code>, I'm forcing the static type to be the immutable <code>Map</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 4078705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rOATV6r6SwE/AAAAAAAAAAI/AAAAAAAAABA/42qRe6oAEXI/photo.jpg?sz=128", "display_name": "Erik W", "link": "https://stackoverflow.com/users/4078705/erik-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 44227685, "answer_count": 2, "score": 3, "last_activity_date": 1495980021, "creation_date": 1495914466, "last_edit_date": 1495920639, "question_id": 44220996, "link": "https://stackoverflow.com/questions/44220996/kotlin-java-functional-and-immutable-way-of-collecting-a-map-in-a-map", "title": "Kotlin/Java functional and immutable way of collecting a map in a map", "body": "<p>Currently i'm reading a file through the Java API and adding items to a map through the method foreach which forces me to make use of the mutablemap. Is there a way of collecting the items without the mutablemap? I know there is a method collect but I couldn't get it working.</p>\n\n<p>the current way:</p>\n\n<pre><code>    val result = mutableMapOf&lt;Int, MutableMap&lt;Int, Double&gt;&gt;()\n    Files.lines(Paths.get(folderPath))\n                    .map { line -&gt; line.split(\",\") }\n                    .map { items -&gt; Triple(items[0].toInt(), items[1].toInt(), items[2].toDouble()) }\n                    .forEach { (id, article, rating) -&gt;\n                        if (result.containsKey(id))\n                            result[id]!!.put(article, rating)\n                        else\n                            result.put(id, mutableMapOf(Pair(article, rating)))\n                    }\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>my goal is to merge the triple objects based on the first value of the triple.\nSo a scenario would be two triple objects(1, 2, 5.5) and (1,3, 5.5). The first value of the triple is the user id, the second is the article id and the third is the rating of the article. \nafter merging there would be one single entry in the map containing the first key = the user id, the first value of the triple, and the value would be a map containing the articles which the user rated.</p>\n\n<p>It is currently working how I want it to work, but I was curious if there was a more functional way of solving this.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3096, "user_id": 2829, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7ec68cc0e548976e7e47f389543565c7?s=128&d=identicon&r=PG", "display_name": "mjlee", "link": "https://stackoverflow.com/users/2829/mjlee"}, "edited": false, "score": 0, "creation_date": 1495933562, "post_id": 44220958, "comment_id": 75456270, "body": "I should have been clear.  I wanted to use string template."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 2, "creation_date": 1495968882, "post_id": 44220958, "comment_id": 75462966, "body": "string interpolation is not limited to the <code>println</code> function, but works everywhere in kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 1191, "user_id": 547546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb62fbc38c7277e51e440a3529c2336?s=128&d=identicon&r=PG", "display_name": "Chad Retz", "link": "https://stackoverflow.com/users/547546/chad-retz"}, "edited": false, "score": 1, "creation_date": 1533310593, "post_id": 44220974, "comment_id": 90314997, "body": "Mostly goes without saying, but this doesn&#39;t help with other Kotlin platforms, e.g. native."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1577944400, "post_id": 44220974, "comment_id": 105285816, "body": "The question is from 2017, and it asks specifically about the JVM, writing to <code>System.err</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 8, "last_activity_date": 1495914282, "creation_date": 1495914282, "answer_id": 44220974, "question_id": 44220958, "link": "https://stackoverflow.com/questions/44220958/kotlin-println-using-string-template-to-stderr/44220974#44220974", "title": "Kotlin - println using string template to stderr", "body": "<p>You can just do it like you would in Java:</p>\n\n<pre><code>System.err.println(\"hello stderr\")\n</code></pre>\n\n<p>The standard stdout output just gets the special shorter version via some helper methods in Kotlin because it's the most often used output. You could use that with the full <code>System.out.println</code> form too.</p>\n"}, {"comments": [{"owner": {"reputation": 3093, "user_id": 2859957, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b637cd3bccf9798e67e0e97523f81ec3?s=128&d=identicon&r=PG&f=1", "display_name": "treesAreEverywhere", "link": "https://stackoverflow.com/users/2859957/treesareeverywhere"}, "edited": false, "score": 0, "creation_date": 1577929475, "post_id": 44221009, "comment_id": 105283365, "body": "Same issue as some other answers above: this does not work in Kotlin native. Kotlin != Kotlin/JVM"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495914603, "creation_date": 1495914603, "answer_id": 44221009, "question_id": 44220958, "link": "https://stackoverflow.com/questions/44220958/kotlin-println-using-string-template-to-stderr/44221009#44221009", "title": "Kotlin - println using string template to stderr", "body": "<p>If you want to print error as like Java in Kotlin then check the below code:</p>\n\n<pre><code>System.err.println(\"Printing Error\")\n</code></pre>\n\n<p>It will print it in red color.</p>\n\n<p>But if you use just only <code>println()</code> then it will work like:</p>\n\n<pre><code>System.out.println(\"Printing Hello\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5443, "user_id": 1097800, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x0q4w.jpg?s=128&g=1", "display_name": "LynAs", "link": "https://stackoverflow.com/users/1097800/lynas"}, "is_accepted": false, "score": 4, "last_activity_date": 1495957130, "creation_date": 1495957130, "answer_id": 44224889, "question_id": 44220958, "link": "https://stackoverflow.com/questions/44220958/kotlin-println-using-string-template-to-stderr/44224889#44224889", "title": "Kotlin - println using string template to stderr", "body": "<p>why not create a global function</p>\n\n<pre><code>fun printErr(errorMsg:String){\n   System.err.println(errorMsg)\n}\n</code></pre>\n\n<p>then call it from anyware</p>\n\n<pre><code>printErr(\"custom error with ${your.custom.error}\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1715, "user_id": 721809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TzkxT.png?s=128&g=1", "display_name": "Matej Kormuth", "link": "https://stackoverflow.com/users/721809/matej-kormuth"}, "is_accepted": false, "score": 20, "last_activity_date": 1577965341, "last_edit_date": 1577965341, "creation_date": 1541272093, "answer_id": 53134599, "question_id": 44220958, "link": "https://stackoverflow.com/questions/44220958/kotlin-println-using-string-template-to-stderr/53134599#53134599", "title": "Kotlin - println using string template to stderr", "body": "<p>Kotlin unfortunately does not provide ubiquitous way to write to <code>stderr</code>.</p>\n\n<p>If you target <strong>JVM with Kotlin</strong> you can use the same API as in Java.</p>\n\n<pre><code>System.err.println(\"Hello standard error!\")\n</code></pre>\n\n<p>In case of <strong>Kotlin Native</strong> you can use a function that opens the stderr and writes to it manually with the use of <code>platform.posix</code> package.</p>\n\n<pre><code>val STDERR = platform.posix.fdopen(2, \"w\")\nfun printErr(message: String) {\n    fprintf(STDERR, message + \"\\n\")\n    fflush(STDERR)\n}\n\nprintErr(\"Hello standard error!\")\n</code></pre>\n\n<hr>\n\n<p>In multi-platform projects one can use mechanism of <code>expect</code> and <code>actual</code> function to provide single interface to write to STDERR in all platforms.</p>\n\n<pre><code>// Common\nexpect fun eprintln(string: String): void\n\n// JVM\nactual fun eprintln(string: String) = System.err.println(string)\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/platform-specific-declarations.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/platform-specific-declarations.html</a></p>\n"}], "owner": {"reputation": 3096, "user_id": 2829, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7ec68cc0e548976e7e47f389543565c7?s=128&d=identicon&r=PG", "display_name": "mjlee", "link": "https://stackoverflow.com/users/2829/mjlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8594, "favorite_count": 1, "answer_count": 4, "score": 18, "last_activity_date": 1577965341, "creation_date": 1495914194, "last_edit_date": 1495933642, "question_id": 44220958, "link": "https://stackoverflow.com/questions/44220958/kotlin-println-using-string-template-to-stderr", "title": "Kotlin - println using string template to stderr", "body": "<p>How do I send output of <code>println()</code> to <code>System.err</code>.  I want to use <em>string template</em>.</p>\n\n<pre><code>val i = 3\nprintln(\"my number is $i\")\n</code></pre>\n\n<p><code>println()</code> sends <em>message</em> to stdout and it looks like there is no option to send to stderr.  </p>\n"}, {"tags": ["java", "android", "retrofit", "kotlin"], "comments": [{"owner": {"reputation": 7212, "user_id": 4388512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rrgmo.png?s=128&g=1", "display_name": "F43nd1r", "link": "https://stackoverflow.com/users/4388512/f43nd1r"}, "edited": false, "score": 1, "creation_date": 1495912546, "post_id": 44220720, "comment_id": 75451961, "body": "Show the code you tried."}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "reply_to_user": {"reputation": 7212, "user_id": 4388512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rrgmo.png?s=128&g=1", "display_name": "F43nd1r", "link": "https://stackoverflow.com/users/4388512/f43nd1r"}, "edited": false, "score": 0, "creation_date": 1495912763, "post_id": 44220720, "comment_id": 75452013, "body": "I added my code to the question"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1495913666, "post_id": 44220873, "comment_id": 75452238, "body": "Oh, Really. Thank you! :)"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 1, "last_activity_date": 1495913582, "creation_date": 1495913582, "answer_id": 44220873, "question_id": 44220720, "link": "https://stackoverflow.com/questions/44220720/android-retrofit-read-response-if-key-not-string/44220873#44220873", "title": "Android Retrofit read response if key not string", "body": "<p><code>langs</code> is a JSON object, so it can be read as a <code>Map&lt;String,String&gt;</code>. If it was an array of objects (<code>[{..},{..}]</code>) it would be <code>List&lt;Map&lt;String,String&gt;&gt;</code>.</p>\n\n<p>Simply adjust the type and it should read properly.</p>\n"}], "owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 44220873, "answer_count": 1, "score": -2, "last_activity_date": 1495913582, "creation_date": 1495912491, "last_edit_date": 1495913228, "question_id": 44220720, "link": "https://stackoverflow.com/questions/44220720/android-retrofit-read-response-if-key-not-string", "title": "Android Retrofit read response if key not string", "body": "<p>I have a retrofit response like this:</p>\n\n<pre><code>langs: {\n   af: \"Afrikaans\",\n   am: \"Amharic\",\n   ar: \"Arabic\",\n   az: \"Azerbaijani\",\n   ba: \"Bashkir\", \n...\n</code></pre>\n\n<p>I tried to read it to <code>List&lt;Map&lt;String,String&gt;&gt;</code>but it not works.\nHave anyone idea what is the best way to convert this json to object? </p>\n\n<p>Call:</p>\n\n<pre><code>val result = RestAPI.instance.retrofit?.create(TranslateService::class.java)\n    val call = result?.getLangs(\"en\")\n    call?.enqueue(object : Callback&lt;LangsResponse&gt;{\n        override fun onFailure(call: Call&lt;LangsResponse&gt;?, t: Throwable?) {\n\n        }\n\n        override fun onResponse(call: Call&lt;LangsResponse&gt;?, response: Response&lt;LangsResponse&gt;?) {\n\n        }\n\n    })\n\n\ndata class LangsResponse(val dirs: List&lt;String&gt;,val langs: List&lt;Map&lt;String,String&gt;&gt;)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1495904657, "post_id": 44219340, "comment_id": 75449623, "body": "It seems the documentation is indeed wrong. You should file a bug: <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495904855, "post_id": 44219340, "comment_id": 75449694, "body": "That particular snipped was <a href=\"https://github.com/JetBrains/kotlin-web-site/commit/9c37f55e46d0fbf6e48fd3e6c8ceef4957ba91cd#diff-738f9741f732f1c2b4254272e8e84d1fR257\" rel=\"nofollow noreferrer\">added in June 2014</a>, and only once altered in <a href=\"https://github.com/JetBrains/kotlin-web-site/commit/e16ad494290f8093a91a6c4b5d2cc8822b86b06f#diff-738f9741f732f1c2b4254272e8e84d1fR285\" rel=\"nofollow noreferrer\">October 2015</a>, with a change that broke it even more. It might be that it did compile back then, but at that point Kotlin was still in rapid development."}, {"owner": {"reputation": 1462, "user_id": 83802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yPrSf.png?s=128&g=1", "display_name": "haroldcampbell", "link": "https://stackoverflow.com/users/83802/haroldcampbell"}, "edited": false, "score": 0, "creation_date": 1495969525, "post_id": 44219340, "comment_id": 75463135, "body": "Thanks! Filed a bug (<a href=\"https://youtrack.jetbrains.com/issue/KT-18144\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18144</a>). Will update accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495907674, "creation_date": 1495907674, "answer_id": 44220014, "question_id": 44219340, "link": "https://stackoverflow.com/questions/44219340/is-the-kotlin-documentation-correct/44220014#44220014", "title": "Is the Kotlin documentation correct?", "body": "<p><code>it.clone()</code> returns <code>Any</code> and you get error casting List to List.\nSo, you have changed it to List. </p>\n\n<p>Your next error is <strong>Cannot access clone: it is protected in Cloneable</strong>.</p>\n\n<p>This problem can be solved by creating our own Cloneable interface with public method.</p>\n"}], "owner": {"reputation": 1462, "user_id": 83802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yPrSf.png?s=128&g=1", "display_name": "haroldcampbell", "link": "https://stackoverflow.com/users/83802/haroldcampbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1495907674, "creation_date": 1495903580, "question_id": 44219340, "link": "https://stackoverflow.com/questions/44219340/is-the-kotlin-documentation-correct", "title": "Is the Kotlin documentation correct?", "body": "<p>Is the code (show below) correct? It was take from page 63 of the Kotlin-docs.pdf, which is also the last code snippet of <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a> </p>\n\n<pre><code> fun &lt;T&gt; cloneWhenGreater(list: List&lt;T&gt;, threshold: T): List&lt;T&gt; \n where T : Comparable, T : Cloneable {\n return list.filter { it &gt; threshold }.map { it.clone() }\n }\n</code></pre>\n\n<p>Taken by as is, the compiler fails with:\n1. <strong>One type argument expected for interface Comparable defined in kotlin</strong>\n2. <strong>Type inference failed. Expected type mismatch: inferred type is List but List was expected</strong>\n3. <strong>Cannot access 'clone': it is protected in 'Cloneable'</strong></p>\n\n<p>The first two errors are easily resolved by changing the code to the following:</p>\n\n<pre><code> fun &lt;T&gt; cloneWhenGreater(list: List&lt;T&gt;, threshold: T): List&lt;Any&gt;\n        where T : Comparable&lt;in T&gt;, T : Cloneable {\n    return list.filter { it &gt; threshold }.map { it.clone() }\n}\n</code></pre>\n\n<p>I still get the following error:\n<strong><em>Cannot access 'clone': it is protected in 'Cloneable'</em></strong></p>\n\n<p>I'm using Kotlin 1.1.2-release-IJ2017.1-1</p>\n\n<p>Am I missing something? or is there an error in the documentation?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "gradle", "data-binding", "android-gradle-plugin", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "edited": false, "score": 0, "creation_date": 1495902359, "post_id": 44219137, "comment_id": 75448861, "body": "Thanks @John for your answer but it doesn&#39;t work even remove these two things and it comes up with new errors which look similarly"}, {"owner": {"reputation": 1214, "user_id": 6095439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0a801257ee75e0987200564b0ea798?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6095439/john"}, "reply_to_user": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "edited": false, "score": 0, "creation_date": 1495902571, "post_id": 44219137, "comment_id": 75448937, "body": "Try to enable  multiDex with multiDexEnabled true"}, {"owner": {"reputation": 1214, "user_id": 6095439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0a801257ee75e0987200564b0ea798?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6095439/john"}, "reply_to_user": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "edited": false, "score": 0, "creation_date": 1495909245, "post_id": 44219137, "comment_id": 75451031, "body": "Also try to use 3.0.0-alpha1, I have some problems with alpha2 either"}, {"owner": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "edited": false, "score": 0, "creation_date": 1495911008, "post_id": 44219137, "comment_id": 75451538, "body": "It seems that downgrade to 3.0 alpha1 isn&#39;t allowed. It asks me to update since it isn&#39;t compatible version of the Android plugin"}], "tags": [], "owner": {"reputation": 1214, "user_id": 6095439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb0a801257ee75e0987200564b0ea798?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6095439/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1495902195, "creation_date": 1495902195, "answer_id": 44219137, "question_id": 44219091, "link": "https://stackoverflow.com/questions/44219091/kotlin-with-android-databinding-in-android-studio-3-0-canary-2/44219137#44219137", "title": "Kotlin with Android DataBinding in Android Studio 3.0 canary 2", "body": "<p>Remove:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>and add to dependencies:</p>\n\n<pre><code>kapt \"com.android.databinding:compiler:$android_plugin_version\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 2980007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48cc7d8466af6c0cba5010d8f38cf885?s=128&d=identicon&r=PG&f=1", "display_name": "amouly", "link": "https://stackoverflow.com/users/2980007/amouly"}, "edited": false, "score": 0, "creation_date": 1496089674, "post_id": 44227800, "comment_id": 75508245, "body": "I ended up doing this :("}], "tags": [], "owner": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1495977869, "creation_date": 1495977869, "answer_id": 44227800, "question_id": 44219091, "link": "https://stackoverflow.com/questions/44219091/kotlin-with-android-databinding-in-android-studio-3-0-canary-2/44227800#44227800", "title": "Kotlin with Android DataBinding in Android Studio 3.0 canary 2", "body": "<p>It works just for now, I just downgrade com.android.tools.build:gradle to <strong>2.3.2</strong>, change the distributionUrl to be https://services.gradle.org/distributions/<strong>gradle-3.3-all</strong>.zip and use the stable Android Studio (<strong>2.3.2</strong>). This problem should be wipe out when the Android Studio 3.0 stable is released.</p>\n"}, {"tags": [], "owner": {"reputation": 5114, "user_id": 4024146, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6kHBYaTT2sw/AAAAAAAAAAI/AAAAAAAAPZ0/AZk9LqXdwR4/photo.jpg?sz=128", "display_name": "mtrakal", "link": "https://stackoverflow.com/users/4024146/mtrakal"}, "is_accepted": false, "score": 0, "last_activity_date": 1496508249, "creation_date": 1496508249, "answer_id": 44346296, "question_id": 44219091, "link": "https://stackoverflow.com/questions/44219091/kotlin-with-android-databinding-in-android-studio-3-0-canary-2/44346296#44346296", "title": "Kotlin with Android DataBinding in Android Studio 3.0 canary 2", "body": "<p>I think, that correct sollution is wait for Google fix it: <a href=\"https://issuetracker.google.com/issues/62170415\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/62170415</a></p>\n\n<p>or for now use <strong>workaround</strong> as I described here: \n<a href=\"https://stackoverflow.com/a/44346259/4024146\">https://stackoverflow.com/a/44346259/4024146</a> </p>\n"}], "owner": {"reputation": 818, "user_id": 474254, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LnN94.jpg?s=128&g=1", "display_name": "Jutikorn", "link": "https://stackoverflow.com/users/474254/jutikorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1670, "favorite_count": 3, "closed_date": 1496562614, "answer_count": 3, "score": 2, "last_activity_date": 1496508249, "creation_date": 1495901893, "question_id": 44219091, "link": "https://stackoverflow.com/questions/44219091/kotlin-with-android-databinding-in-android-studio-3-0-canary-2", "closed_reason": "Duplicate", "title": "Kotlin with Android DataBinding in Android Studio 3.0 canary 2", "body": "<p>my project have 2 modules which are <strong>app</strong> and <strong>apphelper</strong> as a library. I have been trying to use kotlin with android Databinding with it but I can't figure it out why it keep showing me these errors when I built project:</p>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<pre><code>* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Could not resolve all dependencies for configuration ':app:stagingRuntimeClasspath'.\n   &gt; Unable to find a matching configuration in project :apphelper:\n       - Configuration 'debugApiElements':\n           - Required com.android.build.gradle.internal.dependency.AndroidTypeAttr 'AndroidTypeAttr{name=Aar}' and found compatible value 'AndroidTypeAttr{name=Aar}'.\n           - Required com.android.build.gradle.internal.dependency.BuildTypeAttr 'BuildTypeAttr{name=staging}' and found incompatible value 'BuildTypeAttr{name=debug}'.\n           - Found com.android.build.gradle.internal.dependency.VariantAttr 'VariantAttr{name=debug}' but wasn't required.\n           - Required org.gradle.api.attributes.Usage 'for runtime' and found incompatible value 'for compile'.\n       - Configuration 'debugRuntimeElements':\n           - Required com.android.build.gradle.internal.dependency.AndroidTypeAttr 'AndroidTypeAttr{name=Aar}' and found compatible value 'AndroidTypeAttr{name=Aar}'.\n           - Required com.android.build.gradle.internal.dependency.BuildTypeAttr 'BuildTypeAttr{name=staging}' and found incompatible value 'BuildTypeAttr{name=debug}'.\n           - Found com.android.build.gradle.internal.dependency.VariantAttr 'VariantAttr{name=debug}' but wasn't required.\n           - Required org.gradle.api.attributes.Usage 'for runtime' and found compatible value 'for runtime'.\n       - Configuration 'releaseApiElements':\n           - Required com.android.build.gradle.internal.dependency.AndroidTypeAttr 'AndroidTypeAttr{name=Aar}' and found compatible value 'AndroidTypeAttr{name=Aar}'.\n           - Required com.android.build.gradle.internal.dependency.BuildTypeAttr 'BuildTypeAttr{name=staging}' and found incompatible value 'BuildTypeAttr{name=release}'.\n           - Found com.android.build.gradle.internal.dependency.VariantAttr 'VariantAttr{name=release}' but wasn't required.\n           - Required org.gradle.api.attributes.Usage 'for runtime' and found incompatible value 'for compile'.\n       - Configuration 'releaseRuntimeElements':\n           - Required com.android.build.gradle.internal.dependency.AndroidTypeAttr 'AndroidTypeAttr{name=Aar}' and found compatible value 'AndroidTypeAttr{name=Aar}'.\n           - Required com.android.build.gradle.internal.dependency.BuildTypeAttr 'BuildTypeAttr{name=staging}' and found incompatible value 'BuildTypeAttr{name=release}'.\n           - Found com.android.build.gradle.internal.dependency.VariantAttr 'VariantAttr{name=release}' but wasn't required.\n           - Required org.gradle.api.attributes.Usage 'for runtime' and found compatible value 'for runtime'.\n</code></pre>\n\n<p>The error log above is shown when I simply click on the <strong>build button</strong> and it is weirder if I click <strong>run button</strong> to install an app to a device which is like:</p>\n\n<pre><code>:app:transformDexArchiveWithDexMergerForDebug\nAGPBI: {\"kind\":\"error\",\"text\":\"Error converting bytecode to dex:\\nCause: com.android.dex.DexException: Multiple dex files define Lorg/intellij/lang/annotations/PrintFormatPattern;\",\"sources\":[{}],\"original\":\"UNEXPECTED TOP-LEVEL EXCEPTION:\\ncom.android.dex.DexException: Multiple dex files define Lorg/intellij/lang/annotations/PrintFormatPattern;\\n\",\"tool\":\"Dex\"}\nAGPBI: {\"kind\":\"error\",\"text\":\"com.android.dex.DexException: Multiple dex files define Lorg/intellij/lang/annotations/PrintFormatPattern;\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:608)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:563)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:545)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:167)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.dx.merge.DexMerger.merge(DexMerger.java:194)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.builder.dexing.DexArchiveMergerCallable.mergeDexes(DexArchiveMergerCallable.java:66)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:54)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:37)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\",\"sources\":[{}]}\nAGPBI: {\"kind\":\"error\",\"text\":\"\\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\",\"sources\":[{}]}\n\n FAILED\n:app:buildInfoGeneratorDebug\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:transformDexArchiveWithDexMergerForDebug'.\n&gt; com.android.build.api.transform.TransformException: com.android.dex.DexException: Multiple dex files define Lorg/intellij/lang/annotations/PrintFormatPattern;\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED in 4s\n74 actionable tasks: 7 executed, 67 avoided (91%)\n</code></pre>\n\n<p>I downgrade kotlin version to be <strong>'1.1.2-2'</strong> to avoid the <a href=\"https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0\">error</a> and also added '<em>kotlin.incremental=false</em>' to local.properties </p>\n\n<p>Here are all my build.gradle files:</p>\n\n<p>app Module:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: 'test-environment.gradle'\napply plugin: 'io.fabric'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url \"https://jitpack.io\" }\n    mavenCentral()\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.fabric.io/public' }\n\n    }\n}\n\nandroid {\n    compileSdkVersion Integer.parseInt(project.ANDROID_BUILD_SDK_VERSION)\n    buildToolsVersion project.ANDROID_BUILD_TOOLS_VERSION\n    defaultConfig {\n        applicationId \"com.myapp.android\"\n        minSdkVersion Integer.parseInt(project.ANDROID_BUILD_MIN_SDK_VERSION)\n        targetSdkVersion Integer.parseInt(project.ANDROID_BUILD_TARGET_SDK_VERSION)\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n        versionCode 1\n        versionName \"1.0\"\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    dexOptions {\n        jumboMode = true\n    }\n\n    if (System.getenv(\"CIRCLE\")) {\n        defaultConfig {\n            versionCode Integer.parseInt(System.getenv(\"CIRCLE_BUILD_NUM\"))\n            versionName \"1.0.\" + System.getenv(\"CIRCLE_BUILD_NUM\")\n        }\n    } else {\n        defaultConfig {\n            versionCode 1\n            versionName \"1.0\"\n        }\n    }\n\n\n\n    signingConfigs {\n        debug {\n            storeFile file(\"../myappdebug.keystore\")\n            storePassword \"myapprocks\"\n            keyAlias \"myapp\"\n            keyPassword \"myapprocks\"\n        }\n        staging {\n            storeFile file(\"../myapp_staging.keystore\")\n            storePassword \"myapprocks\"\n            keyAlias \"myapp\"\n            keyPassword \"myapprocks\"\n        }\n\n\n        release {\n            storeFile rootProject.file('myapp.keystore')\n            storePassword System.getenv(\"KEYSTORE_PASS\")\n            keyAlias System.getenv(\"ALIAS_NAME\")\n            keyPassword System.getenv(\"ALIAS_PASS\")\n        }\n    }\n\n    buildTypes {\n        debug {\n            ext.betaDistributionNotifications = false\n            signingConfig signingConfigs.debug\n            applicationIdSuffix \".dev\"\n            minifyEnabled false\n            shrinkResources false\n            proguardFile 'proguard-release.cfg'\n            testProguardFile 'proguard-release.cfg'\n            manifestPlaceholders = [providerSuffix: \".dev\"]\n        }\n        staging {\n            ext.betaDistributionEmailsFilePath = \"staging_distribution_emails.txt\"\n            ext.betaDistributionReleaseNotesFilePath = \"release_notes.txt\"\n            signingConfig signingConfigs.staging\n            applicationIdSuffix \".staging\"\n            shrinkResources true\n            minifyEnabled true\n            proguardFile 'proguard-release.cfg'\n            manifestPlaceholders = [providerSuffix: \".staging\"]\n\n        }\n\n        release {\n            signingConfig signingConfigs.release\n            shrinkResources true\n            minifyEnabled true\n            proguardFile 'proguard-release.cfg'\n\n        }\n    }\n}\n\n\nkapt {\n    generateStubs = true\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    api project(':apphelper')\n    compile 'com.android.support:appcompat-v7:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:cardview-v7:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:design:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:support-v13:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'hanks.xyz:smallbang-library:0.1.2'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'com.facebook.device.yearclass:yearclass:1.0.1'\n    compile 'com.facebook.android:facebook-android-sdk:4.+'\n    compile group: 'com.google.code.gson', name: 'gson', version: '2.7'\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.2@aar') {\n        transitive = true\n    }\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"android.arch.lifecycle:runtime:\" + project.ANDROID_ARCH_VERSION\n    compile \"android.arch.lifecycle:extensions:\" + project.ANDROID_ARCH_VERSION\n    annotationProcessor \"android.arch.lifecycle:compiler:\" + project.ANDROID_ARCH_VERSION\n    compile \"android.arch.persistence.room:runtime:\" + project.ANDROID_ARCH_VERSION\n    annotationProcessor \"android.arch.persistence.room:compiler:\" + project.ANDROID_ARCH_VERSION\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n\n\n}\n</code></pre>\n\n<p>library module:</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion Integer.parseInt(project.ANDROID_BUILD_SDK_VERSION)\n    buildToolsVersion project.ANDROID_BUILD_TOOLS_VERSION\n\n\n    defaultConfig {\n        minSdkVersion Integer.parseInt(project.ANDROID_BUILD_MIN_SDK_VERSION)\n        targetSdkVersion Integer.parseInt(project.ANDROID_BUILD_TARGET_SDK_VERSION)\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/dependencies.txt'\n        exclude 'META-INF/LGPL2.1'\n        exclude 'META-INF/maven/com.squareup.okio/okio/pom.properties'\n        exclude 'META-INF/maven/com.squareup.okio/okio/pom.xml'\n        exclude 'META-INF/maven/com.squareup.retrofit/retrofit/pom.xml'\n        exclude 'META-INF/maven/com.squareup.retrofit/retrofit/pom.properties'\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile group: 'com.squareup.retrofit2', name: 'converter-gson', version: '2.1.0'\n    compile group: 'com.squareup.okhttp3', name: 'logging-interceptor', version: '3.4.1'\n    compile 'org.jetbrains:annotations-java5:15.0'\n    compile 'hanks.xyz:smallbang-library:0.1.2'\n    compile 'com.android.support:support-annotations:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:support-v13:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:appcompat-v7:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:design:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile 'com.android.support:customtabs:' + project.ANDROID_SUPPORT_LIBRARY_VERSION\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>main gradle build script:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n    ext.android_plugin_version = '3.0.0-alpha2'\n\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        maven { url 'https://maven.fabric.io/public' }\n\n    }\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Anyone has same problems as mine please share the solution.\nThanks.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1495892143, "post_id": 44217422, "comment_id": 75445629, "body": "Are you purposely using Java code?"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1495892145, "post_id": 44217422, "comment_id": 75445630, "body": "Are you purposely using Java code?"}, {"owner": {"reputation": 6896, "user_id": 6473867, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/VSpsJ.png?s=128&g=1", "display_name": "Gowthaman M", "link": "https://stackoverflow.com/users/6473867/gowthaman-m"}, "edited": false, "score": 0, "creation_date": 1495892708, "post_id": 44217422, "comment_id": 75445808, "body": "apply wight for your xml design layouts."}, {"owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "reply_to_user": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "edited": false, "score": 0, "creation_date": 1495892931, "post_id": 44217422, "comment_id": 75445890, "body": "@Daniele bit confused and made mistake."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1495892977, "post_id": 44217422, "comment_id": 75445900, "body": "None of your views have constraints"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1495903694, "post_id": 44217422, "comment_id": 75449304, "body": "Does this happen? <a href=\"https://stackoverflow.com/questions/42594033/constraintlayout-views-in-top-left-corner\" title=\"constraintlayout views in top left corner\">stackoverflow.com/questions/42594033/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "edited": false, "score": 0, "creation_date": 1495904943, "post_id": 44219398, "comment_id": 75449729, "body": "Thanks for your constraintlayout idea. I have added constraint layout to the imageview."}, {"owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "edited": false, "score": 3, "creation_date": 1495905085, "post_id": 44219398, "comment_id": 75449779, "body": "Thanks!! If I changed  app:srcCompat=&quot; &quot; to android:src=&quot; &quot;? it works. however If I drop new images, xml automatically use app:srcCompat."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 5, "last_activity_date": 1495903920, "creation_date": 1495903920, "answer_id": 44219398, "question_id": 44217422, "link": "https://stackoverflow.com/questions/44217422/image-view-doesnt-appear-on-activity-its-ok-on-appcompatactivity/44219398#44219398", "title": "Image view doesn&#39;t appear on Activity (it&#39;s OK on AppCompatActivity)", "body": "<blockquote>\n  <p>I would like to delete the title bar</p>\n</blockquote>\n\n<p>Then you change the theme of the Activity, it's not necessary to extend a separate class. </p>\n\n<p>You don't need a FrameLayout to display an image </p>\n\n<p>But the real issue is</p>\n\n<p>1) <code>app:srcCompat</code> is meant to be loaded by an <code>AppCompat</code> class </p>\n\n<p><a href=\"https://stackoverflow.com/questions/40624554/android-what-is-the-difference-between-appsrccompat-and-androidsrc\">Android: What is the difference between app:srcCompat=&quot; &quot; and android:src=&quot; &quot;?</a></p>\n\n<p>2)  you are using a ConstraintLayout with no constraints, and you can refer to the symptoms of that here. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/42594033/constraintlayout-views-in-top-left-corner\">ConstraintLayout views in top left corner</a></p>\n"}], "owner": {"reputation": 7286, "user_id": 1942868, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wDB7c.jpg?s=128&g=1", "display_name": "whitebear", "link": "https://stackoverflow.com/users/1942868/whitebear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "accepted_answer_id": 44219398, "answer_count": 1, "score": 1, "last_activity_date": 1495904904, "creation_date": 1495891677, "last_edit_date": 1495904904, "question_id": 44217422, "link": "https://stackoverflow.com/questions/44217422/image-view-doesnt-appear-on-activity-its-ok-on-appcompatactivity", "title": "Image view doesn&#39;t appear on Activity (it&#39;s OK on AppCompatActivity)", "body": "<p>I have simple application which has one ImageView and text box</p>\n\n<p>At First I started with AppCompactActivity, it works.</p>\n\n<p>However when I changed AppCompatActivity to Activity.\n(I would like to delete the title bar)</p>\n\n<p>ImageView is disappeared(Droid).</p>\n\n<p>I think I have constraint of ImageView.</p>\n\n<p>How can I show the ImageView??</p>\n\n<p><a href=\"https://i.stack.imgur.com/8J6Ij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8J6Ij.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>package jp.virararara.antbuid.bb;\n\n//import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.app.Activity\n\n//class TopActivity : AppCompatActivity() {\nclass TopActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_top)\n    }\n}\n</code></pre>\n\n<p>activity_top.xml</p>\n\n<p>\n</p>\n\n<pre><code>&lt;ImageView\n    android:id=\"@+id/imageView3\"\n    android:layout_width=\"105dp\"\n    android:layout_height=\"208dp\"\n    android:layout_marginLeft=\"8dp\"\n    android:layout_marginRight=\"8dp\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toLeftOf=\"@+id/editText2\"\n    app:srcCompat=\"@mipmap/ic_launcher\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:layout_marginTop=\"16dp\"\n    app:layout_constraintHorizontal_bias=\"0.0\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/editText2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"153dp\"\n    android:layout_marginTop=\"132dp\"\n    android:ems=\"10\"\n    android:inputType=\"textPersonName\"\n    android:text=\"Name\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1510757147, "last_edit_date": 1510757147, "creation_date": 1495892887, "answer_id": 44217621, "question_id": 44217331, "link": "https://stackoverflow.com/questions/44217331/what-does-impl-mean-in-kotlin/44217621#44217621", "title": "What does `impl` mean in Kotlin?", "body": "<p>It's for future multiplatform project support, and it's the pair of the <code>header</code> keyword which @hotkey explained in their comment <a href=\"https://stackoverflow.com/questions/42698001/what-does-header-keyword-mean-in-kotlin#comment72518332_42698001\">here</a>. It appeared in one of Andrey Breslav's presentations which you can find <a href=\"https://vimeo.com/215556547#t=865s\" rel=\"nofollow noreferrer\">here</a>, this specific topic starts at the 14:25 mark. </p>\n\n<p>To sum it up briefly, the basic idea he presents is that you could have a common module shared between your platforms, in which there are some functions that are declared but not implemented, and are marked with the <code>header</code> keyword. Then, for the different platforms (JVM, JS, etc) you could have separate modules that implement these functions in platform specific ways - these actual implementations are where the <code>impl</code> keyword would be used.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mMV3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mMV3x.png\" alt=\"His slide about it\"></a></p>\n\n<p>He says that this whole system is just an internal prototype for now, so this presentation is probably all the public info we have about it. I'd also be interested in more details about this mechanism though :)</p>\n\n<hr>\n\n<p>Update: as of the <a href=\"https://blog.jetbrains.com/kotlin/2017/09/kotlin-1-2-beta-is-out/\" rel=\"nofollow noreferrer\">Kotlin 1.2 Beta</a>, these keywords have been now replaced with <code>expect</code> and <code>actual</code>.</p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 44217621, "answer_count": 1, "score": 3, "last_activity_date": 1513155434, "creation_date": 1495891102, "last_edit_date": 1513155434, "question_id": 44217331, "link": "https://stackoverflow.com/questions/44217331/what-does-impl-mean-in-kotlin", "title": "What does `impl` mean in Kotlin?", "body": "<p>I didn't find any explanation in the reference, but when I type <code>impl</code> in IntelliJ IDEA, I get an error:</p>\n\n<p><img src=\"https://cloud.githubusercontent.com/assets/16398479/26521731/f64cbfae-42b4-11e7-9d2e-bdc0874354be.png\"/></p>\n\n<p>It seems that it's treated as a reserved word, but what's it for?\nI tried putting many kinds of stuffs after <code>impl</code> but I get the error every time.</p>\n\n<p>Update: It's renamed to <code>expect</code> after Kotlin 1.2.</p>\n"}, {"tags": ["android", "database", "orm", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 218, "user_id": 3104287, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/920c830d1790fda5cc0388c648155623?s=128&d=identicon&r=PG&f=1", "display_name": "JustADev", "link": "https://stackoverflow.com/users/3104287/justadev"}, "edited": false, "score": 1, "creation_date": 1497214615, "post_id": 44217266, "comment_id": 75971492, "body": "Just when I was about to give up on kotlin and Room your question saved me. Thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 6820214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5fcbb564af448535282c4b469f3bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyofen", "link": "https://stackoverflow.com/users/6820214/lyofen"}, "edited": false, "score": 0, "creation_date": 1496778627, "post_id": 44373168, "comment_id": 75797132, "body": "Yes thx for the answer. The only way is to make high level interface, so i make RegionDao wich use RoomRegionDao and RoomLocaleDao to return regions with locales loaded."}], "tags": [], "owner": {"reputation": 66, "user_id": 6319982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OJ7H2vFf8gI/AAAAAAAAAAI/AAAAAAAADCI/xPHDS7TPGew/photo.jpg?sz=128", "display_name": "Pietro Caselani", "link": "https://stackoverflow.com/users/6319982/pietro-caselani"}, "is_accepted": true, "score": 3, "last_activity_date": 1510741107, "last_edit_date": 1510741107, "creation_date": 1496679192, "answer_id": 44373168, "question_id": 44217266, "link": "https://stackoverflow.com/questions/44217266/entity-list-relationships-in-android-room/44373168#44373168", "title": "Entity list relationships in Android Room", "body": "<p>I think that <code>TypeConverter</code> only works for static methods.\nI say this based on the example from <a href=\"https://developer.android.com/topic/libraries/architecture/room.html#type-converters\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/reference/android/arch/persistence/room/TypeConverter.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>From the relationships section <a href=\"https://developer.android.com/training/data-storage/room/defining-data.html#object-relationships\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>\"Because SQLite is a relational database, you can specify relationships between objects. Even though most ORM libraries allow entity objects to reference each other, Room explicitly forbids this.\"</p>\n</blockquote>\n\n<p>So I guess it's best if you add <code>@Ignore</code> on your <code>locales</code> property and make a method on <code>RoomLocaleDao</code> thats insert <code>List&lt;Locale&gt;</code> and call it after insert Region.</p>\n\n<p>The method that inserts a Region can return the <a href=\"https://developer.android.com/topic/libraries/architecture/room.html#daos-convenience\" rel=\"nofollow noreferrer\">inserted id</a>.</p>\n\n<blockquote>\n  <p>If the @Insert method receives only 1 parameter, it can return a long, which is the new rowId for the inserted item. If the parameter is an array or a collection, it should return long[] or List instead.\n  (<a href=\"https://developer.android.com/topic/libraries/architecture/room.html#daos-convenience\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/room.html#daos-convenience</a>)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 6126110, "user_type": "registered", "profile_image": "https://graph.facebook.com/940141516098999/picture?type=large", "display_name": "Osvel Alvarez Jacomino", "link": "https://stackoverflow.com/users/6126110/osvel-alvarez-jacomino"}, "is_accepted": false, "score": 0, "last_activity_date": 1588813717, "creation_date": 1588813717, "answer_id": 61648136, "question_id": 44217266, "link": "https://stackoverflow.com/questions/44217266/entity-list-relationships-in-android-room/61648136#61648136", "title": "Entity list relationships in Android Room", "body": "<p>You can get all your <code>Regions</code> wit a list of <code>Locales</code> inside each <code>Region</code> just with one <code>Query</code>.</p>\n\n<p>All you need to do is create a new <code>Relation</code> like this:</p>\n\n<pre><code>data class RegionWithLocale(\n    @Embedded\n    val region: Region,\n    @Relation(\n        parentColumn = \"id\",\n        entity = Locale::class,\n        entityColumn = \"regionId\"\n    )\n    val locales: List&lt;Locale&gt;\n)\n</code></pre>\n\n<p>And latter get that relation in your <code>Dao</code> like this:</p>\n\n<pre><code>@Query(\"SELECT * FROM region WHERE id IS :regionId\")\nfun getRegions(regionId: Int): LiveData&lt;RegionWithLocale&gt;\n\n@Query(\"SELECT * FROM region\")\nfun getAllRegions(): LiveData&lt;List&lt;RegionWithLocale&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 223, "user_id": 9469090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/idhpT.png?s=128&g=1", "display_name": "inspire_coding", "link": "https://stackoverflow.com/users/9469090/inspire-coding"}, "is_accepted": false, "score": 0, "last_activity_date": 1596830103, "creation_date": 1596830103, "answer_id": 63308413, "question_id": 44217266, "link": "https://stackoverflow.com/questions/44217266/entity-list-relationships-in-android-room/63308413#63308413", "title": "Entity list relationships in Android Room", "body": "<p>This solution worked for me</p>\n<p><strong>ListConvert.kt</strong></p>\n<pre><code>class ListConverter\n{\n    companion object\n    {\n        var gson = Gson()\n\n        @TypeConverter\n        @JvmStatic\n        fun fromTimestamp(data: String?): List&lt;Weather&gt;?\n        {\n            if (data == null)\n            {\n                return Collections.emptyList()\n            }\n\n            val listType = object : TypeToken&lt;List&lt;String&gt;&gt;() {}.type\n            return gson.fromJson(data, listType)\n        }\n\n        @TypeConverter\n        @JvmStatic\n        fun someObjectListToString(someObjects: List&lt;Weather&gt;?): String?\n        {\n            return gson.toJson(someObjects)\n        }\n    }\n}\n</code></pre>\n<p><strong>The property inside of my Entity</strong></p>\n<pre><code>@SerializedName(&quot;weather&quot;)\n@TypeConverters(ListConverter::class)\nval weather: List&lt;Weather&gt;,\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 6820214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5fcbb564af448535282c4b469f3bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyofen", "link": "https://stackoverflow.com/users/6820214/lyofen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7262, "favorite_count": 1, "accepted_answer_id": 44373168, "answer_count": 3, "score": 6, "last_activity_date": 1596830103, "creation_date": 1495890559, "last_edit_date": 1497175053, "question_id": 44217266, "link": "https://stackoverflow.com/questions/44217266/entity-list-relationships-in-android-room", "title": "Entity list relationships in Android Room", "body": "<p>I'm trying to load entity sublist, but i would like to avoid to do 2 queries.</p>\n\n<p>I'm thinking about do query inside TypeConverter, but i really don't know if it's good idea.</p>\n\n<p>My entities:</p>\n\n<pre><code>@Entity\nclass Region(\n        @PrimaryKey(autoGenerate = true)\n        var id: Int = 0,\n        var name: String = \"\",\n        var locales: List&lt;Locale&gt; = listOf())\n\n@Entity(foreignKeys = arrayOf(ForeignKey(\n        entity = Region::class,\n        parentColumns = arrayOf(\"id\"),\n        childColumns = arrayOf(\"regionId\"),\n        onDelete = CASCADE,\n        onUpdate = CASCADE\n)))\nclass Locale(\n        @PrimaryKey(autoGenerate = true)\n        var id: Int = 0,\n        var regionId: Int = 0,\n        var name: String = \"\")\n</code></pre>\n\n<p>DAOs :</p>\n\n<pre><code>@Dao\ninterface RoomRegionDao{\n    @Insert\n    fun insert(region: Region)\n\n    @Delete\n    fun delete(region: Region)\n\n    @Query(\"select * from region\")\n    fun selectAll(): Flowable&lt;List&lt;Region&gt;&gt;\n}\n\n@Dao\ninterface RoomLocaleDao{\n    @Insert\n    fun insert(locale: Locale)\n\n    @Query(\"select * from locale where regionId = :arg0\")\n    fun selectAll(regionId: Int): List&lt;Locale&gt;\n}\n</code></pre>\n\n<p>Database:</p>\n\n<pre><code>@Database(entities = arrayOf(Region::class, Locale::class), version = 1)\n@TypeConverters(RoomAppDatabase.Converters::class)\nabstract class RoomAppDatabase : RoomDatabase() {\n    abstract fun regionDao(): RoomRegionDao\n    abstract fun localeDao(): RoomLocaleDao\n\n    inner class Converters {\n        @TypeConverter\n        fun toLocales(regionId: Int): List&lt;Locale&gt; {\n            return localeDao().selectAll(regionId)\n        }\n\n        @TypeConverter\n        fun fromLocales(locales: List&lt;Locale&gt;?): Int {\n            locales ?: return 0\n            if (locales.isEmpty()) return 0\n\n            return locales.first().regionId\n        }\n    }\n}\n</code></pre>\n\n<p>It's not working because can't use inner class as converter class.</p>\n\n<ul>\n<li>Is it a good way? </li>\n<li>How can I load \"locales list\" automatically in region entity when I do <code>RoomRegionDao.selectAll</code>?</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "edited": false, "score": 0, "creation_date": 1495968507, "post_id": 44226419, "comment_id": 75462877, "body": "Hm kotlin formatting is not great on stack overflow."}, {"owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "edited": false, "score": 0, "creation_date": 1498142449, "post_id": 44226419, "comment_id": 76387991, "body": "Yeah, I&#39;ve used that pattern before in Java and it is great in that environment when you are not looking into elaborating a statically typed architecture. But I am trying to use Kotlin&#39;s delegation pattern <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/delegation.html</a> and it is not possible to do fancy delegation-foo like one does with kaitlin properties (lazy instantiation, observable pattern, etc.). All these things allow you to intervene on the delegated objects but when you delegate to implementations of interfaces you can&#39;t do any of this stuff (at least I haven&#39;t found out how!)"}], "tags": [], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "is_accepted": false, "score": 0, "last_activity_date": 1495968477, "creation_date": 1495968477, "answer_id": 44226419, "question_id": 44217124, "link": "https://stackoverflow.com/questions/44217124/kotlin-automatic-code-calling-in-delegation-pattern/44226419#44226419", "title": "Kotlin automatic code calling in delegation pattern", "body": "<p>One useful pattern will be using <code>CompositeDisposable</code></p>\n\n<p>So you can have some class along this lines</p>\n\n<pre><code>val disposables: CompositeDisposable\n\nfun addDisposable(val disposable: Disposable)   disposables.add(disposable) end\n\nfun dispose   if (!disposables.isDisposed()) {\n      disposables.dispose();   } end\n</code></pre>\n\n<p>This is inspired by <a href=\"https://github.com/android10/Android-CleanArchitecture\" rel=\"nofollow noreferrer\">https://github.com/android10/Android-CleanArchitecture</a> especially the base use case <a href=\"https://github.com/android10/Android-CleanArchitecture/blob/master/domain/src/main/java/com/fernandocejas/android10/sample/domain/interactor/UseCase.java\" rel=\"nofollow noreferrer\">https://github.com/android10/Android-CleanArchitecture/blob/master/domain/src/main/java/com/fernandocejas/android10/sample/domain/interactor/UseCase.java</a></p>\n"}], "owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495968477, "creation_date": 1495889751, "last_edit_date": 1495891796, "question_id": 44217124, "link": "https://stackoverflow.com/questions/44217124/kotlin-automatic-code-calling-in-delegation-pattern", "title": "Kotlin automatic code calling in delegation pattern", "body": "<p>I am making use of the Kotlin delegation pattern to mix and match several components into bigger components.  This has sped up my code, made it easier to read, more modular, more consistent etc.  All good things.  However, one thing I'm struggling with is a good pattern to deallocate my delegates.  Most of them have a <code>dispose()</code> method that I use to take care of unsubscribing <code>Rx</code> subscriptions, canceling Android loaders, suspending execution of tasks etc.  Currently, I am doing stuff like:</p>\n\n<pre><code>interface Disposable {\n  fun dispose()\n}\n\ninterface A: Disposable {\n}\n\ninterface B: Disposable {\n}\n\nclass AImpl: A {\n  fun dispose(){}\n}\n\nclass BImpl: B {\n  fun dispose(){}\n}\n\nclass Foo(val a = AImpl(), val b = BImpl(): A by AImpl, B by BImpl {\n  override fun dispose() {\n    a.dispose()\n    b.dispose()\n  }\n}\n</code></pre>\n\n<p>Manually calling dispose on all delegated methods feels a bit clunky - is there an elegant way in Kotlin (via polymorphism, more delegation, etc) to make sure that a class calls certain methods of delegates automatically - in this case, it's clean up methods, but the same could be applied for any operation that all delegates need to do.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "jitpack", "android-studio-3.0"], "comments": [{"owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "edited": false, "score": 0, "creation_date": 1495886314, "post_id": 44216121, "comment_id": 75443910, "body": "The error is : No build artifacts found &gt; Failed to notify project evaluation listener.          &gt; com.android.build.gradle.internal.variant.BaseVariantData.ge&zwnj;&#8203;tOutputs()Ljava/util&zwnj;&#8203;/List;  from <a href=\"https://jitpack.io/com/github/sokarcreative/easyowm/v1.0/build.log\" rel=\"nofollow noreferrer\">jitpack.io/com/github/sokarcreative/easyowm/v1.0/build.log</a>"}, {"owner": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "edited": false, "score": 0, "creation_date": 1495896946, "post_id": 44216121, "comment_id": 75447153, "body": "see here: <a href=\"https://stackoverflow.com/questions/44056104/gradle-3-0-0-alpha1-isnt-compatible-with-kotlin-android-plugin-1-1-2-3\" title=\"gradle 3 0 0 alpha1 isnt compatible with kotlin android plugin 1 1 2 3\">stackoverflow.com/questions/44056104/&hellip;</a>"}, {"owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "reply_to_user": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "edited": false, "score": 0, "creation_date": 1495897395, "post_id": 44216121, "comment_id": 75447268, "body": "Thanks, I have already tried that : changing ` ext.kotlin_version = &#39;1.1.2-3&#39;  to  ext.kotlin_version = &#39;1.1.2-4&#39;  but I downgraded because of this error :  ` Error:Circular dependency between the following tasks: :app:compileDebugKotlin \\--- :app:dataBindingExportBuildInfoDebug      \\--- :app:compileDebugKotlin (<i>) (</i>) - details omitted (listed previously) ` This didn&#39;t fix the problem for me but generate another one. Thanks anyway for your answer."}, {"owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "reply_to_user": {"reputation": 18998, "user_id": 745574, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/sqSMx.jpg?s=128&g=1", "display_name": "RaGe", "link": "https://stackoverflow.com/users/745574/rage"}, "edited": false, "score": 0, "creation_date": 1495898935, "post_id": 44216121, "comment_id": 75447803, "body": "Need to wait Android Studio 3.0 alpha3 according to : <a href=\"https://issuetracker.google.com/issues/38447344\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/38447344</a>"}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "is_accepted": true, "score": 1, "last_activity_date": 1496588411, "creation_date": 1496588411, "answer_id": 44355449, "question_id": 44216121, "link": "https://stackoverflow.com/questions/44216121/no-way-to-compile-my-own-kotlin-library/44355449#44355449", "title": "No way to compile my own kotlin library", "body": "<p>Problem solved with Android Studio 3.0 canary 3</p>\n"}], "owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 44355449, "answer_count": 1, "score": 0, "last_activity_date": 1496588411, "creation_date": 1495883381, "last_edit_date": 1495892323, "question_id": 44216121, "link": "https://stackoverflow.com/questions/44216121/no-way-to-compile-my-own-kotlin-library", "title": "No way to compile my own kotlin library", "body": "<p>With Google I/O 2017, I decided to learn kotlin by developing my own library in kotlin for android. This library allows to get information from OpenWeatherMap API.\nLink of the project : <a href=\"https://github.com/sokarcreative/EasyOWM\" rel=\"nofollow noreferrer\">https://github.com/sokarcreative/EasyOWM</a></p>\n\n<p>What's the problem ?\nI just can't compile my library. I tried everything.\nI have already compiled forked project and it worked but no way with my own library.</p>\n\n<p>I created a new project with these <code>gradlew</code> scripts :</p>\n\n<p>-- Project gradle</p>\n\n<pre><code>allprojects {\n    repositories {\n       ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n\n<p>-- module gradle</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.github.sokarcreative:easyowm:master-SNAPSHOT'\n}\n</code></pre>\n\n<p>Error : <code>Failed to resolve: com.github.sokarcreative:easyowm:master-SNAPSHOT</code></p>\n\n<p>I know this is a recurring question but no way to solve this problem.</p>\n\n<p>Edit: just in case, the library works.\nHere is the result on my galaxy tab S3:\n<a href=\"https://i.stack.imgur.com/p8wEM.png\" rel=\"nofollow noreferrer\">EasyOWM screenshot</a></p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1495883027, "creation_date": 1495883027, "answer_id": 44216056, "question_id": 44215473, "link": "https://stackoverflow.com/questions/44215473/android-room-with-rxjava-handle-empty-query-result/44216056#44216056", "title": "Android Room with RxJava handle empty query result", "body": "<p><code>switchIfEmpty</code> takes as parameter a <code>Publisher&lt;AuthResponse&gt;</code>. Through SAM-conversion your given anonymous function is turned into this class. However it does not follow the behavior expected from a <code>Publisher</code> so it will not work as expected.</p>\n\n<p>Replace it with a correct implementation like <code>Flowable.empty().doOnSubscribe { Log.d(TAG, \"IS EMPTY\") }</code> and it should work.</p>\n"}, {"comments": [{"owner": {"reputation": 750, "user_id": 2990802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yd6kI.jpg?s=128&g=1", "display_name": "0wl", "link": "https://stackoverflow.com/users/2990802/0wl"}, "edited": false, "score": 1, "creation_date": 1497451863, "post_id": 44220673, "comment_id": 76086835, "body": "You should consider an alternative behavior for this feature. I want to get Flowable.empty() when the result of request is empty."}, {"owner": {"reputation": 1171, "user_id": 1325374, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/IKbE3.jpg?s=128&g=1", "display_name": "Andrew Lam", "link": "https://stackoverflow.com/users/1325374/andrew-lam"}, "edited": false, "score": 0, "creation_date": 1538658220, "post_id": 44220673, "comment_id": 92226647, "body": "Does room query return an non-null, empty list of size 0 then?"}, {"owner": {"reputation": 143, "user_id": 3740826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b28de1fe3b501ac011881b3765e2320?s=128&d=identicon&r=PG&f=1", "display_name": "DuosDuo", "link": "https://stackoverflow.com/users/3740826/duosduo"}, "edited": false, "score": 1, "creation_date": 1575028670, "post_id": 44220673, "comment_id": 104440653, "body": "@Query(&quot;SELECT COUNT (*) FROM User&quot;) Flowable&lt;Integer&gt; getCount();  why doesn\u2019t it return 0 if there are no users? I would like to track the number of users .."}, {"owner": {"reputation": 2187, "user_id": 2591556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0c7c8aacc15cafa89661f6843d5bac65?s=128&d=identicon&r=PG", "display_name": "VipulKumar", "link": "https://stackoverflow.com/users/2591556/vipulkumar"}, "edited": false, "score": 0, "creation_date": 1595415710, "post_id": 44220673, "comment_id": 111464832, "body": "We have been using the List&lt;T&gt; solution but it&#39;s still a hack. Has Room figured out a better way to do it?"}], "tags": [], "owner": {"reputation": 34005, "user_id": 608649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fbc3248107250cb09c0d69919b62ad?s=128&d=identicon&r=PG", "display_name": "yigit", "link": "https://stackoverflow.com/users/608649/yigit"}, "is_accepted": true, "score": 13, "last_activity_date": 1495912143, "creation_date": 1495912143, "answer_id": 44220673, "question_id": 44215473, "link": "https://stackoverflow.com/questions/44215473/android-room-with-rxjava-handle-empty-query-result/44220673#44220673", "title": "Android Room with RxJava handle empty query result", "body": "<p>Db Flowables are observable (so they keep dispatching if database changes) so it never completes. You can try returning <code>List&lt;AuthResponse&gt;</code>. We've considered back porting an optional but decided not to do it, at least for now. Instead, we'll probably add support for Optional in different known libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 1355, "user_id": 836413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8cb32540fe2afa07ccbda12ff1229c1?s=128&d=identicon&r=PG", "display_name": "J-rooft", "link": "https://stackoverflow.com/users/836413/j-rooft"}, "is_accepted": false, "score": 9, "last_activity_date": 1500853558, "creation_date": 1500853558, "answer_id": 45270893, "question_id": 44215473, "link": "https://stackoverflow.com/questions/44215473/android-room-with-rxjava-handle-empty-query-result/45270893#45270893", "title": "Android Room with RxJava handle empty query result", "body": "<p>In version 1.0.0-alpha5, room added support of <code>Maybe</code> and <code>Single</code> to DAOs, so now you can write something like</p>\n\n<pre><code>@Query(\"SELECT * FROM auth_info\")\nfun getAuthInfo(): Maybe&lt;AuthResponse&gt;\n</code></pre>\n\n<p>You can read more about it <a href=\"https://medium.com/google-developers/room-rxjava-acb0cd4f3757\" rel=\"noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1051, "user_id": 2471275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc276f264025f8607144a01153b397f9?s=128&d=identicon&r=PG", "display_name": "Djek-Grif", "link": "https://stackoverflow.com/users/2471275/djek-grif"}, "is_accepted": false, "score": 0, "last_activity_date": 1525818207, "last_edit_date": 1525818207, "creation_date": 1525817647, "answer_id": 50242995, "question_id": 44215473, "link": "https://stackoverflow.com/questions/44215473/android-room-with-rxjava-handle-empty-query-result/50242995#50242995", "title": "Android Room with RxJava handle empty query result", "body": "<p>You could use some wrapper for result. For example:</p>\n\n<pre><code>public Single&lt;QueryResult&lt;Transaction&gt;&gt; getTransaction(long id) {\n            return createSingle(() -&gt; database.getTransactionDao().getTransaction(id))\n                    .map(QueryResult::new);\n}\n\n    public class QueryResult&lt;D&gt; {\n            public D data;\n            public QueryResult() {}\n\n            public QueryResult(D data) {\n                this.data = data;\n            }\n\n            public boolean isEmpty(){\n                return data != null;\n            }\n }\n\nprotected &lt;T&gt; Single&lt;T&gt; createSingle(final Callable&lt;T&gt; func) {\n            return Single.create(emitter -&gt; {\n                try {\n                    T result = func.call();\n                    emitter.onSuccess(result);\n\n                } catch (Exception ex) {\n                    Log.e(\"TAG\", \"Error of operation with db\");\n                }\n            });\n}\n</code></pre>\n\n<p>And use it like 'Single' in this case you will get result in any case. Use:</p>\n\n<pre><code>dbStorage.getTransaction(selectedCoin.getId())\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(r -&gt; {\n                         if(!r.isEmpty()){\n                           // we have some data from DB\n                         } else {\n                       }\n                    })\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 1523332, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001270870830/picture?type=large", "display_name": "Nikita Unkovsky", "link": "https://stackoverflow.com/users/1523332/nikita-unkovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8913, "favorite_count": 1, "accepted_answer_id": 44220673, "answer_count": 4, "score": 10, "last_activity_date": 1525818207, "creation_date": 1495879253, "last_edit_date": 1495880149, "question_id": 44215473, "link": "https://stackoverflow.com/questions/44215473/android-room-with-rxjava-handle-empty-query-result", "title": "Android Room with RxJava handle empty query result", "body": "<p>Trying to test new Android Room librarty with RxJava adapter. And I want to handle result if my query returns 0 objects from DB:</p>\n\n<p>So here is DAO method:</p>\n\n<pre><code>@Query(\"SELECT * FROM auth_info\")\nfun getAuthInfo(): Flowable&lt;AuthResponse&gt;\n</code></pre>\n\n<p>And how I handle it:</p>\n\n<pre><code>        database.authDao().getAuthInfo()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .switchIfEmpty { Log.d(TAG, \"IS EMPTY\") }\n            .firstOrError()\n            .subscribe(\n                    { authResponse -&gt; Log.d(TAG, authResponse.token) },\n                    { error -&gt; Log.d(TAG, error.message) })\n</code></pre>\n\n<p>My DB is empty, so I expect .switchIfEmty() to work, but none of handling methods is firing. Neither .subscribe() nor .switchIfEmpty()</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 7, "last_activity_date": 1495878498, "creation_date": 1495878498, "answer_id": 44215362, "question_id": 44215331, "link": "https://stackoverflow.com/questions/44215331/unexpected-tokens-use-to-seperate-expressions-on-the-same-line/44215362#44215362", "title": "Unexpected tokens (use ; to seperate expressions on the same line)", "body": "<p>You have two ways to fix this error.</p>\n\n<ol>\n<li><p>Place a <code>,</code> between <code>52</code> and the lambda</p>\n\n<p>val cards : Array = Array(52, { i -> Card(i % 13, getSuit(i))})</p></li>\n<li><p>Place the lambda outside of the brackets</p>\n\n<p>val cards : Array = Array(52) { i -> Card(i % 13, getSuit(i))}</p></li>\n</ol>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9354, "favorite_count": 1, "accepted_answer_id": 44215362, "answer_count": 1, "score": 2, "last_activity_date": 1495878498, "creation_date": 1495878246, "question_id": 44215331, "link": "https://stackoverflow.com/questions/44215331/unexpected-tokens-use-to-seperate-expressions-on-the-same-line", "title": "Unexpected tokens (use ; to seperate expressions on the same line)", "body": "<p>I think I messed up when I tried to write one line code in Kotlin, It seems like there is no problem but IntelliJ gives me this error here:</p>\n\n<pre><code>val cards : Array&lt;Card&gt; = Array(52 { i -&gt; Card(i % 13, getSuit(i))})\n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 1107768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9391152264f5d5fe5e7f6db2de7ebdcb?s=128&d=identicon&r=PG", "display_name": "Kuba Ber&#225;nek", "link": "https://stackoverflow.com/users/1107768/kuba-ber%c3%a1nek"}, "is_accepted": false, "score": 0, "last_activity_date": 1500374760, "creation_date": 1500374760, "answer_id": 45164563, "question_id": 44214306, "link": "https://stackoverflow.com/questions/44214306/android-studio-3-0-proguard-using-kotlin-greendao-returns-classlookupexception/45164563#45164563", "title": "Android Studio 3.0 Proguard using kotlin &amp; greendao returns ClassLookupException", "body": "<p>GreenDAO doesn't support Kotlin yet (see <a href=\"https://github.com/greenrobot/greenDAO/issues/395\" rel=\"nofollow noreferrer\">this</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "is_accepted": false, "score": 0, "last_activity_date": 1508950819, "creation_date": 1508950819, "answer_id": 46938117, "question_id": 44214306, "link": "https://stackoverflow.com/questions/44214306/android-studio-3-0-proguard-using-kotlin-greendao-returns-classlookupexception/46938117#46938117", "title": "Android Studio 3.0 Proguard using kotlin &amp; greendao returns ClassLookupException", "body": "<p>Have you tried this order?</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'org.greenrobot.greendao'\napply plugin: 'kotlin-android'\n</code></pre>\n\n<p>Like deviant-studio said <a href=\"https://github.com/greenrobot/greenDAO/issues/395?#issuecomment-324380675\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 41, "user_id": 4321108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bf63333f9342fc4c0bb86d1316723ee?s=128&d=identicon&r=PG&f=1", "display_name": "TSurkis", "link": "https://stackoverflow.com/users/4321108/tsurkis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1508950819, "creation_date": 1495870877, "last_edit_date": 1592644375, "question_id": 44214306, "link": "https://stackoverflow.com/questions/44214306/android-studio-3-0-proguard-using-kotlin-greendao-returns-classlookupexception", "title": "Android Studio 3.0 Proguard using kotlin &amp; greendao returns ClassLookupException", "body": "<p>The full exception is:</p>\n<blockquote>\n<p>Error:java.lang.RuntimeException: java.lang.RuntimeException: com.android.build.gradle.shrinker.ClassLookupException: Invalid class reference: java/rmi/server/RemoteStub</p>\n<p>Error:java.lang.RuntimeException: com.android.build.gradle.shrinker.ClassLookupException: Invalid class reference: java/rmi/server/RemoteStub</p>\n<p>Error:com.android.build.gradle.shrinker.ClassLookupException: Invalid class reference: java/rmi/server/RemoteStub</p>\n</blockquote>\n<p>I am using Kotlin and GreenDao.</p>\n<p>My gradle:</p>\n<pre><code>apply plugin: 'org.greenrobot.greendao'\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.2&quot;\n    defaultConfig {\n        applicationId &quot;com.xxx.xxx&quot;\n        minSdkVersion 19\n        targetSdkVersion 25\n        versionCode 4\n        versionName &quot;0.0.0.3&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        buildTypes.each {\n            it.buildConfigField 'String', 'GreenDAODatabaseName', '&quot;App_Database&quot;'\n        }\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n<p>The second gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'org.greenrobot:greendao-gradle-plugin:3.2.2'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>All I did so far in the application is add a few UI classes (fragment and activity) written in kotlin.\nTwo entities exist for greenDAO. Before I added kotlin proguard worked flawlessly.</p>\n"}, {"tags": ["python", "concurrency", "kotlin", "channel", "coroutine"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1495869576, "post_id": 44214004, "comment_id": 75439760, "body": "What solutions have you tried?  You should point that out as an attempted solution that is or is not working.  Otherwise you are saying &quot;please write my code for me&quot; instead of &quot;this code that SHOULD work doesn&#39;t&quot;"}, {"owner": {"reputation": 142, "user_id": 7720324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ef4782f42b5d7ba0151fd623b64df6?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/7720324/alex"}, "edited": false, "score": 0, "creation_date": 1495870330, "post_id": 44214004, "comment_id": 75439938, "body": "You set op to c which is 1, so it won&#39;t ever meet your conditions for incrementing or multiplying."}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 6, "last_activity_date": 1496050204, "creation_date": 1496050204, "answer_id": 44239059, "question_id": 44214004, "link": "https://stackoverflow.com/questions/44214004/kotlin-alternative-to-pythons-coroutine-yield-and-send/44239059#44239059", "title": "Kotlin alternative to Python&#39;s coroutine yield and send", "body": "<p>Two-way generators of the kind that are present in Python and in ES6 are not really idiomatic in Kotlin, because Kotlin is a statically typed language and therefore two-way generators are quite clumsy to use. Just take a look at the <code>g.send(None)</code> in the above code to understand why it is so. So, implementation of two-way generators is not provided in Kotlin standard library nor in supporting libraries. </p>\n\n<p>However, coroutines support in Kotlin language is generic enough and two-way generators can be implemented, if needed, to behave just like in Python and ES6. The corresponding implementation is available <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/examples/generator/generator.kt\" rel=\"noreferrer\">here</a> and takes just a few dozen lines of code. </p>\n\n<p>With the above implementation of two-way generator, your Python code can be directly translated into Kotlin line-by-line:</p>\n\n<pre><code>fun generator() = generate&lt;Int, String&gt; {\n    var c = 1\n    while (true) {\n        val op = yield(c)\n        when (op) {\n            \"inc\" -&gt; c += 1\n            \"mult\" -&gt; c *= 2\n        }\n    } \n}\n\nfun main(args: Array&lt;String&gt;) {\n    val g = generator()\n    val a = g.next(\"\") // start\n    val b = g.next(\"inc\")\n    val c = g.next(\"mult\")\n    val d = g.next(\"inc\")\n    println(\"$a $b $c $d\") // 1, 2, 4, 5\n}\n</code></pre>\n\n<p>This code works just as well as its Python version, however it is not idiomatic for multitude of reasons. For one, is that coroutines support in Kotlin allows for definition of arbitrary suspending functions and thus makes it possible to express similar behaviour in a type-safe way without resorting to an arbitrary start marker nor using strings to denote operations. You can straightforwardly define an object that has <code>inc</code> and <code>mult</code> as its first-class suspending operations, or, at least, change implementation so that a dummy start invocation is not needed. You are welcome to study <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"noreferrer\">coroutines design document</a> that explains all the low-level primitives that Kotlin provides and has a number of examples to get you started.</p>\n"}], "owner": {"reputation": 1799, "user_id": 889530, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/149043c936985d77b670e71061d12fec?s=128&d=identicon&r=PG", "display_name": "dmzkrsk", "link": "https://stackoverflow.com/users/889530/dmzkrsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 1, "accepted_answer_id": 44239059, "answer_count": 1, "score": 4, "last_activity_date": 1496050204, "creation_date": 1495868683, "last_edit_date": 1495889823, "question_id": 44214004, "link": "https://stackoverflow.com/questions/44214004/kotlin-alternative-to-pythons-coroutine-yield-and-send", "title": "Kotlin alternative to Python&#39;s coroutine yield and send", "body": "<p>What would be a Kotlin idiomatic alternative to the following python coroutine snippet: </p>\n\n<pre><code>def generator():\n  c = 1\n  while True:\n    op = yield c\n    if op == 'inc':\n      c += 1\n    elif op == 'mult':\n      c *= 2\n\n# main\ng = generator()\na = g.send(None) # start\nb = g.send('inc')\nc = g.send('mult')\nd = g.send('inc')\n\nprint([a, b, c, d]) # 1, 2, 4, 5\n</code></pre>\n\n<p>So I need get values from the coroutine (via a channel?), but also send the values back into the coroutine. Do I need two channels for that?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495868428, "post_id": 44213958, "comment_id": 75439520, "body": "How do you expect this could work if not all of the constructors have the <code>attrs</code> parameter?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495868609, "post_id": 44213958, "comment_id": 75439549, "body": "When it is not provided, ideally then we should skip calling <code>initAttr</code>. You ask a good question, as I think it is not possible when <code>attrs</code> is not available in all constructor. But I thought of asking to confirm with the Kotlin expert out there, given reading <code>attrs</code> is quite common in building custom layout, and in java, there&#39;s some nice way of handling it without need to replicate the call of <code>initAttr</code> all over the places."}, {"owner": {"reputation": 565, "user_id": 4519179, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-B9R2KsHIbEU/AAAAAAAAAAI/AAAAAAAAAEA/RHNhzZPaRVs/photo.jpg?sz=128", "display_name": "Debu", "link": "https://stackoverflow.com/users/4519179/debu"}, "edited": false, "score": 0, "creation_date": 1495869062, "post_id": 44213958, "comment_id": 75439648, "body": "you can use <code>lateinit var attrs : AttributeSet?</code> and set the value in each constructor and then use it in initAttrs()"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1495870370, "post_id": 44213958, "comment_id": 75439945, "body": "Thanks Debu. That would defeat the purpose, as I still have to set the variable in each constructor."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1495870335, "post_id": 44214023, "comment_id": 75439939, "body": "Excellent answer!!"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1530712568, "post_id": 44214023, "comment_id": 89333513, "body": "This can cause unpredictable behavior with switches and certain design support library components because of assumed <code>defStyle = 0</code>."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 10, "last_activity_date": 1495868852, "creation_date": 1495868852, "answer_id": 44214023, "question_id": 44213958, "link": "https://stackoverflow.com/questions/44213958/how-to-access-constructor-argument-thats-not-member-variable-in-init-function/44214023#44214023", "title": "How to access constructor argument that&#39;s not member variable in init function?", "body": "<p>Use a constructor with default arguments:</p>\n\n<pre><code>class CustomComponent @JvmOverloads constructor(\n  context: Context, \n  attrs: AttributeSet? = null, \n  defStyle: Int = 0\n) : FrameLayout(context, attrs, defStyle) {\n\n    fun init {\n      // Initialize your view\n    }\n}\n</code></pre>\n\n<p>The <code>@JvmOverloads</code> annotation tells Kotlin to generate three overloaded constructors so they can be called in Java as well.</p>\n\n<p>In your <code>init</code> function, <code>attrs</code> becomes available as a nullable type:</p>\n\n<pre><code>fun init {\n  LayoutInflater.from(context).inflate(R.layout.view_custom_component, this, true)\n\n  attrs?.let {\n        val typedArray = context.obtainStyledAttributes(it, R.styleable.custom_component_attributes, 0, 0)\n        my_title.text = resources.getText(typedArray\n                .getResourceId(R.styleable.custom_component_attributes_custom_component_title, R.string.component_one))\n        typedArray.recycle()\n  }\n}\n</code></pre>\n\n<p>Note the usage of <code>it</code> in the <code>let</code> block.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2428, "favorite_count": 1, "accepted_answer_id": 44214023, "answer_count": 1, "score": 5, "last_activity_date": 1495868852, "creation_date": 1495868300, "question_id": 44213958, "link": "https://stackoverflow.com/questions/44213958/how-to-access-constructor-argument-thats-not-member-variable-in-init-function", "title": "How to access constructor argument that&#39;s not member variable in init function?", "body": "<p>I have a custom layout as below</p>\n\n<pre><code>class CustomComponent : FrameLayout {\n\n    constructor(context: Context?) : super(context)\n    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {\n        initAttrs(attrs)\n    }\n\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\n        initAttrs(attrs)\n    }\n\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int, defStyleRes: Int) : super(context, attrs, defStyleAttr, defStyleRes) {\n        initAttrs(attrs)\n    }\n\n    init {\n        LayoutInflater.from(context).inflate(R.layout.view_custom_component, this, true)\n    }\n\n    fun initAttrs(attrs: AttributeSet?) {\n        val typedArray = context.obtainStyledAttributes(attrs, R.styleable.custom_component_attributes, 0, 0)\n        my_title.text = resources.getText(typedArray\n                .getResourceId(R.styleable.custom_component_attributes_custom_component_title, R.string.component_one))\n        typedArray.recycle()\n    }\n}\n</code></pre>\n\n<p>Now for each constructor, I have to explicitly call <code>initAttrs(attrs)</code> as I can't find  way to access <code>attrs</code> in my <code>init</code> function.</p>\n\n<p>Is there a way I could access <code>attrs</code> in <code>init</code> function, so I could call <code>initAttrs(attrs)</code> from <code>init</code> instead of having to explicitly call it in each of the constructor?</p>\n"}, {"tags": ["generics", "inheritance", "kotlin", "type-mismatch"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495868591, "post_id": 44213931, "comment_id": 75439545, "body": "attachView() expects a T as argument. You&#39;re passing <code>this</code>. <code>this</code> is not of generic type T. It isn&#39;t even an MvpView, which T is supposed to implement."}, {"owner": {"reputation": 830, "user_id": 2462686, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/506dc00a97eebdf7c66b716857ce45ca?s=128&d=identicon&r=PG", "display_name": "Raman Branavitski", "link": "https://stackoverflow.com/users/2462686/raman-branavitski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495868825, "post_id": 44213931, "comment_id": 75439600, "body": "Look, I should pass to this method any subtype of  <code>MvpView</code>. My <code>BaseMvpActivity</code> implement this interface. So whats wrong?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495869022, "post_id": 44213931, "comment_id": 75439635, "body": "Look, no, it didn&#39;t implement this interface until your edit, 26 seconds ago. But even then. A List&lt;T extends Number&gt; only accepts T. You can&#39;t add an Int or a Double to such a list, even though Int and Double extend Number, because Int and Double aren&#39;t the same type as T."}, {"owner": {"reputation": 830, "user_id": 2462686, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/506dc00a97eebdf7c66b716857ce45ca?s=128&d=identicon&r=PG", "display_name": "Raman Branavitski", "link": "https://stackoverflow.com/users/2462686/raman-branavitski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495870049, "post_id": 44213931, "comment_id": 75439882, "body": "My <code>BaseActivity</code> implements <code>MvpView</code>. I&#39;ve just edited to make it more evident. Yes, you&#39;re right about the list analogy. So how can I make this code compilable?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1495870336, "post_id": 44213931, "comment_id": 75439941, "body": "<code>abstract class BaseMvpActivity&lt;P : BasePresenter&lt;BaseMvpActivity&lt;P&gt;&gt;&gt;</code> would compile."}, {"owner": {"reputation": 830, "user_id": 2462686, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/506dc00a97eebdf7c66b716857ce45ca?s=128&d=identicon&r=PG", "display_name": "Raman Branavitski", "link": "https://stackoverflow.com/users/2462686/raman-branavitski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495870627, "post_id": 44213931, "comment_id": 75439991, "body": "Yes, it will compile, but it won&#39;t let me pass subclasses of <code>BasePresenter</code> as a type of any activity which will extend <code>BaseMvpActivity</code>. For example   <code>interface MainMvpView : MvpView</code>,  <code>class MainPresenter : BaseMvpPresenter&lt;MainMvpView&gt;()</code>  and I can&#39;t use   <code>class MainActivity : BaseMvpActivity&lt;MainPresenter&gt;(), MainMvpView</code>"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1495874358, "post_id": 44213931, "comment_id": 75440873, "body": "@RamanBranavitski have a look at my answer. While trying to figure out your code, I came across that, this case is not working in Kotlin i guess. I have run both of the code but kotlin gives compile time error."}, {"owner": {"reputation": 830, "user_id": 2462686, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/506dc00a97eebdf7c66b716857ce45ca?s=128&d=identicon&r=PG", "display_name": "Raman Branavitski", "link": "https://stackoverflow.com/users/2462686/raman-branavitski"}, "edited": false, "score": 0, "creation_date": 1495874947, "post_id": 44213931, "comment_id": 75441042, "body": "Yes, I&#39;ve looked. But I don&#39;t think it&#39;s a Kotlin issue:) The only way I make my code work is to use <code>abstract class BaseMvpActivity&lt;P : BasePresenter&lt;*&gt;&gt; : BaseActivity()</code> and call <code>presenter.attachView(this)</code> method not in this abstract class, but in it&#39;s subclasses. But it forces me to write this line of code in all subclasses of <code>BaseMvpActivity</code>"}], "answers": [{"comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495874403, "post_id": 44214723, "comment_id": 75440886, "body": "The Java code only compiles (with a warning), because you&#39;re using a raw type instead of properly typing tour variable. Replace <code>MvpViewSubClass class1 = new MvpViewSubClass&lt;P&gt;();</code> by <code>MvpViewSubClass&lt;P&gt; class1 = new MvpViewSubClass&lt;&gt;();</code>, and it won&#39;t compile either, as expected."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495874799, "post_id": 44214723, "comment_id": 75441011, "body": "ohh.. my bad.. let me figure out then"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1495877561, "post_id": 44214723, "comment_id": 75441660, "body": "@JBNizet i have changed answer, please check and let me know, what do you think about it."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": -1, "last_activity_date": 1495877505, "last_edit_date": 1495877505, "creation_date": 1495873967, "answer_id": 44214723, "question_id": 44213931, "link": "https://stackoverflow.com/questions/44213931/kotlin-generic-inheritance/44214723#44214723", "title": "Kotlin generic inheritance", "body": "<p>Why do you want to make <code>BasePresetner</code> generic as you are not going to return a value of that generic type. We use generics to prevent type casts of returning value from a method and prevent possible Cast exceptions.</p>\n\n<p>What i want to say that you do not need to make <code>BasePresenter</code> generic. Just declare mvpView as MvpView and use its methods. Suppose if you do make it generic, no plus point you are going to achieve because you will still have access to MvpView's method only(Not the <code>sub-class</code>). </p>\n\n<pre><code>abstract class BasePresenter : Presenter&lt;V&gt; {\n\n    protected var mvpView: MvpView = null\n        protected get\n\n    override fun attachView(view: MvpView) {\n        this.mvpView = view\n    }\n\n    override fun detachView() {\n        mvpView = null\n    }\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 830, "user_id": 2462686, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/506dc00a97eebdf7c66b716857ce45ca?s=128&d=identicon&r=PG", "display_name": "Raman Branavitski", "link": "https://stackoverflow.com/users/2462686/raman-branavitski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1625, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1495877505, "creation_date": 1495868127, "last_edit_date": 1495868849, "question_id": 44213931, "link": "https://stackoverflow.com/questions/44213931/kotlin-generic-inheritance", "title": "Kotlin generic inheritance", "body": "<p>I have a problem and can't resolve it. I have an interface <code>Presenter</code> which is generic and take any subtype of interface <code>MvpView</code></p>\n\n<pre><code>interface Presenter&lt;in V : MvpView&gt; {\n    fun attachView(view: V)\n    fun detachView()\n}\n</code></pre>\n\n<p>Then I have another\n abstract class <code>BasePresenter</code> which is subtype of <code>Presenter</code></p>\n\n<pre><code>abstract class BasePresenter&lt;V : MvpView&gt; : Presenter&lt;V&gt; {\n\n    protected var mvpView: V? = null\n        protected get\n\n    override fun attachView(view: V) {\n        this.mvpView = view\n    }\n\n    override fun detachView() {\n        mvpView = null\n    }\n}\n</code></pre>\n\n<p>And I have a class</p>\n\n<pre><code>abstract class BaseMvpActivity&lt;P : BasePresenter&lt;T&gt;, T : MvpView&gt; : BaseActivity(), MvpView {\n\n    @Inject lateinit protected var presenter: P\n\n    protected abstract fun inject()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        inject()\n        initPresenter(savedInstanceState)\n    }\n\n    protected fun initPresenter(savedInstanceState: Bundle?) {\n        presenter.attachView(this)\n    }\n\n    override fun onDestroy() {\n        presenter.detachView()\n        super.onDestroy()\n    }\n}\n</code></pre>\n\n<p>And there I have an error when try to call <code>presenter.attachView(this)</code></p>\n\n<pre><code>Type mismatch: inferred type is BaseMvpActivity&lt;P, T&gt; but T was expected\n</code></pre>\n\n<p>I also tried to do like this <code>abstract class BaseMvpActivity&lt;P : BasePresenter&lt;*&gt;&gt; : BaseActivity()</code> but also have  an error like <code>Type mismatch: inferred type is BaseMvpActivity&lt;P&gt; but Nothing was expected</code></p>\n\n<p>How can I solve this problem? Thank you.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 3, "creation_date": 1510822461, "post_id": 44213446, "comment_id": 81601130, "body": "In <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/BasicRxJavaSampleKotlin/app/src/main/java/com/example/android/observability/persistence/User.kt\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture-components/blo&zwnj;&#8203;b/&hellip;</a> from google&#39;s example, immutable properties works without any problem. Can someone analyze the cause? Could it be a bug?"}], "answers": [{"comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 1, "creation_date": 1510817374, "post_id": 44213583, "comment_id": 81598431, "body": "Hey I figured something weird about this, Could you have a look at it? <a href=\"https://stackoverflow.com/q/47323883/4620609\">stackoverflow.com/q/47323883/4620609</a>"}, {"owner": {"reputation": 6667, "user_id": 667879, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bcc1f783c383a55c83198fb838c7dac1?s=128&d=identicon&r=PG", "display_name": "anoop4real", "link": "https://stackoverflow.com/users/667879/anoop4real"}, "edited": false, "score": 0, "creation_date": 1524746253, "post_id": 44213583, "comment_id": 87102284, "body": "Thanks for the pointer, this issue killed around 2hrs for me.....I used &quot;private var&quot; and it was throwing error, had no clue"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 7, "creation_date": 1526367354, "post_id": 44213583, "comment_id": 87703785, "body": "The answer means &#39;don&#39;t use Room, it forces you to write bad code&#39;, right?"}, {"owner": {"reputation": 823, "user_id": 2825911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vYDuh.jpg?s=128&g=1", "display_name": "yaroslav", "link": "https://stackoverflow.com/users/2825911/yaroslav"}, "edited": false, "score": 4, "creation_date": 1526666120, "post_id": 44213583, "comment_id": 87849315, "body": "Please beware that var usage in data class leads to effective immutability loss."}, {"owner": {"reputation": 1546, "user_id": 1103263, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DNxAR.png?s=128&g=1", "display_name": "The Tokenizer", "link": "https://stackoverflow.com/users/1103263/the-tokenizer"}, "edited": false, "score": 0, "creation_date": 1527935692, "post_id": 44213583, "comment_id": 88321937, "body": "This solution worked for me, but for anyone else having the same issue. I also had to remove my private visibility modifier."}, {"owner": {"reputation": 429, "user_id": 1386160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIY0G.png?s=128&g=1", "display_name": "juancamilo87", "link": "https://stackoverflow.com/users/1386160/juancamilo87"}, "edited": false, "score": 0, "creation_date": 1538589844, "post_id": 44213583, "comment_id": 92199551, "body": "No need to make all the fields read/write. Just changing the primary key fixed the issue"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1557825428, "post_id": 44213583, "comment_id": 98885422, "body": "Sometimes we design for our entity to be <code>val</code> immutable instead of using <code>var</code>. Please check my answer <a href=\"https://stackoverflow.com/a/56126801/3763032\">here</a> for this fix, when you prefer to use <code>val</code> over <code>var</code>"}, {"owner": {"reputation": 3196, "user_id": 2380518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAvgL.jpg?s=128&g=1", "display_name": "Milo\u0161 \u010cernilovsk&#253;", "link": "https://stackoverflow.com/users/2380518/milo%c5%a1-%c4%8cernilovsk%c3%bd"}, "edited": false, "score": 0, "creation_date": 1578556612, "post_id": 44213583, "comment_id": 105478702, "body": "This is not necessary. In my case the error was caused by using the @Ignore annotation on one of the fields. Of course Room doesn&#39;t know what to insert there when creating the object from the database."}], "tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 178, "last_activity_date": 1591192383, "last_edit_date": 1591192383, "creation_date": 1495865453, "answer_id": 44213583, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/44213583#44213583", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Since your fields are marked with <code>val</code>, they are effectively final and don't have setter fields.</p>\n\n<p>Try switching out the <code>val</code> with <code>var</code>.\nYou might also need to initialize the fields.</p>\n\n<pre><code>@Entity(tableName = \"story\")\ndata class Story (\n        @PrimaryKey var id: Long? = null,\n        var by: String = \"\",\n        var descendants: Int = 0,\n        var score: Int = 0,\n        var time: Long = 0L,\n        var title: String = \"\",\n        var type: String = \"\",\n        var url: String = \"\"\n)\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>The above solution is a general fix for this error in Kotlin when using Kotlin with other Java libraries like Hibernate where i've seen this as well. If you want to keep immutability with Room, see some of the other answers which may be more specific to your case. </p>\n\n<p>In some cases immutability with Java libraries is simply not working at all and while making sad developer noises, you have to switch that <code>val</code> for a <code>var</code> unfortunately.</p>\n"}, {"tags": [], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "is_accepted": false, "score": 1, "last_activity_date": 1511277324, "creation_date": 1511277324, "answer_id": 47416462, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/47416462#47416462", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Another cause of this may be the naming of the field. If you use any of the pre-defined keywords, you will get the same error. \nFor instance, you can not name your column \"is_active\".</p>\n\n<p>Reference: <a href=\"http://www.sqlite.org/lang_keywords.html\" rel=\"nofollow noreferrer\">http://www.sqlite.org/lang_keywords.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 33554, "user_id": 436341, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fy1Dv.png?s=128&g=1", "display_name": "live-love", "link": "https://stackoverflow.com/users/436341/live-love"}, "is_accepted": false, "score": 6, "last_activity_date": 1563908134, "last_edit_date": 1563908134, "creation_date": 1514051653, "answer_id": 47954697, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/47954697#47954697", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Had this error in Java.</p>\n\n<p>You cannot have a column starting with <code>is</code> or <code>is_</code> in Java.</p>\n\n<p>Try renaming the column.</p>\n\n<p>Another solution:</p>\n\n<p>You either have to pass the field in the constructor and initialize it with the constructor argument, or create a setter for it.</p>\n\n<p>Example:</p>\n\n<pre><code>public MyEntity(String name, ...) {\n   this.name = name;\n   ...\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1589, "user_id": 467005, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7b5030bea8ec7e144b06f1c9404a2219?s=128&d=identicon&r=PG", "display_name": "David Guo", "link": "https://stackoverflow.com/users/467005/david-guo"}, "edited": false, "score": 2, "creation_date": 1524654410, "post_id": 48061359, "comment_id": 87057024, "body": "For my case, the &quot;is&quot; prefix don&#39;t work for field name.  But &quot;is&quot; prefix works with Boolean type field."}, {"owner": {"reputation": 1043, "user_id": 2192384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHDhb.jpg?s=128&g=1", "display_name": "AJay", "link": "https://stackoverflow.com/users/2192384/ajay"}, "reply_to_user": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1537244641, "post_id": 48061359, "comment_id": 91702117, "body": "@AlexAndro I gave example in kotlin itself can you please explain what is not working ?"}, {"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1537266456, "post_id": 48061359, "comment_id": 91712906, "body": "@AJay I mean I agree you that in <code>kotlin</code> you can not have such fields. (up vote) Anyway, in <code>java</code> I noticed is permitted."}, {"owner": {"reputation": 1043, "user_id": 2192384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHDhb.jpg?s=128&g=1", "display_name": "AJay", "link": "https://stackoverflow.com/users/2192384/ajay"}, "reply_to_user": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1537272316, "post_id": 48061359, "comment_id": 91716633, "body": "@AlexAndro oh okay"}, {"owner": {"reputation": 719, "user_id": 516754, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ab031d3eaa3121b77868a0d443dc060?s=128&d=identicon&r=PG", "display_name": "d4c0d312", "link": "https://stackoverflow.com/users/516754/d4c0d312"}, "edited": false, "score": 1, "creation_date": 1541624240, "post_id": 48061359, "comment_id": 93283946, "body": "The same thing happens in Java. You can not use &quot;mIs___&quot; or &quot;is____&quot; . It will cause the same error. Hungarian notation will not save you."}, {"owner": {"reputation": 657, "user_id": 7049297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQFSd.png?s=128&g=1", "display_name": "Naimish Vinchhi", "link": "https://stackoverflow.com/users/7049297/naimish-vinchhi"}, "edited": false, "score": 1, "creation_date": 1553673827, "post_id": 48061359, "comment_id": 97466951, "body": "Working in kotlin"}, {"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "edited": false, "score": 0, "creation_date": 1569608093, "post_id": 48061359, "comment_id": 102665682, "body": "<code>ColumnName</code> doesn&#39;t matter if it is not started with <code>is</code>. Only works with renaming of var"}, {"owner": {"reputation": 96, "user_id": 8317344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LxDgc.jpg?s=128&g=1", "display_name": "Abhinav Suthar", "link": "https://stackoverflow.com/users/8317344/abhinav-suthar"}, "edited": false, "score": 0, "creation_date": 1589099629, "post_id": 48061359, "comment_id": 109153508, "body": "I also solved my issue using this answer. I was using <code>new</code> for filed name. Then changed it to newCall and it worked for me. Thanks!"}], "tags": [], "owner": {"reputation": 1043, "user_id": 2192384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHDhb.jpg?s=128&g=1", "display_name": "AJay", "link": "https://stackoverflow.com/users/2192384/ajay"}, "is_accepted": false, "score": 40, "last_activity_date": 1514897446, "creation_date": 1514897446, "answer_id": 48061359, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/48061359#48061359", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Hey I don't know if everyone know or not, but you can not have column which is starting from <code>is</code> into <code>Room</code>. \nFor example you can't have like this </p>\n\n<pre><code>   @Entity(tableName = \"user\")\n   data class User (\n        @PrimaryKey var id: Long? = null,\n        var userName: String = \"\",\n        var isConnectedToFB: Boolean = false,\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 504, "user_id": 4685820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e3de36a9ede204e9f3c74399eefd96?s=128&d=identicon&r=PG&f=1", "display_name": "Gevaria Purva", "link": "https://stackoverflow.com/users/4685820/gevaria-purva"}, "edited": false, "score": 0, "creation_date": 1539844769, "post_id": 51786460, "comment_id": 92650048, "body": "Change your data type. I have same field named isFavourite in my db I changed my field type to boolean and now it&#39;s worked for me.  @ColumnInfo(name = &quot;is_favourite&quot;)  var isFavourite: Boolean = false"}], "tags": [], "owner": {"reputation": 3939, "user_id": 5710872, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ecb59af7d4d59ec44d2a05193c74062a?s=128&d=identicon&r=PG&f=1", "display_name": "Qamar", "link": "https://stackoverflow.com/users/5710872/qamar"}, "is_accepted": false, "score": 7, "last_activity_date": 1539434362, "last_edit_date": 1539434362, "creation_date": 1533903761, "answer_id": 51786460, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/51786460#51786460", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>There is an issue in room db library java code generation.</p>\n\n<p>I was using optional field <code>isFavorite</code>. It gives me same error then I change my field name to <code>favorite</code> then compiled. </p>\n\n<p>before\n<code>var isFavorite: Int? = 0,\n</code>\nafter changing working fine\n<code>var favorite: Int? = 0,\n</code>\nThanks </p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 7, "last_activity_date": 1553184216, "last_edit_date": 1553184216, "creation_date": 1534921165, "answer_id": 51961327, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/51961327#51961327", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>According to <a href=\"https://stackoverflow.com/a/46753804/2914140\">https://stackoverflow.com/a/46753804/2914140</a> if you have an autogenerated primary key, you should write so:</p>\n\n<pre><code>@Entity(tableName = \"story\")\ndata class Story (\n        val by: String,\n        val descendants: Int,\n        val score: Int,\n        val time: Long,\n        val title: String,\n        val type: String,\n        val url: String\n)  {\n    @PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n}\n</code></pre>\n\n<p>Note that <code>@PrimaryKey</code> is written inside the class body and contains modifier <code>var</code>.</p>\n\n<p>If you later want to update a row in a database with different parameters, use these lines:</p>\n\n<pre><code>val newStory = story.copy(by = \"new author\", title = \"new title\") // Cannot use \"id\" in object cloning\nnewStory.id = story.id\ndao.update(newStory)\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>I still don't use AndroidX, and Room is 'android.arch.persistence.room:runtime:1.1.1'.</p>\n\n<p>You can extend this class from <code>Serializable</code>. But if you want to extend it from <code>Parcelable</code>, you will get a warning (over <code>id</code> variable): <code>Property would not be serialized inro a 'Parcel'. Add '@IgnoredOnParcel' annotation to remove this warning</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NWkWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NWkWH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I moved an <code>id</code> from the body to the constructor. In Kotlin I use <code>@Parcelize</code> to create <code>Parcelable</code> classes:</p>\n\n<pre><code>@Parcelize\n@Entity(tableName = \"story\")\ndata class Story (\n    @PrimaryKey(autoGenerate = true)\n    var id: Int = 0,\n\n    val by: String,\n    val descendants: Int,\n    val score: Int,\n    val time: Long,\n    val title: String,\n    val type: String,\n    val url: String\n) : Parcelable\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "edited": false, "score": 1, "creation_date": 1544460129, "post_id": 52769790, "comment_id": 94274438, "body": "I&#39;m using <code>2.1.0-alpha03</code> but I still get this error"}, {"owner": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 2, "creation_date": 1551178088, "post_id": 52769790, "comment_id": 96536427, "body": "Same in 2.1.0-alpha04"}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": false, "score": 4, "last_activity_date": 1539297152, "creation_date": 1539297152, "answer_id": 52769790, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/52769790#52769790", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>This is a bug and is fixed in Room <code>2.1.0-alpha01</code></p>\n\n<p><a href=\"https://developer.android.com/jetpack/docs/release-notes#october_8_2018\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/docs/release-notes#october_8_2018</a></p>\n\n<blockquote>\n  <p>Bug Fixes</p>\n  \n  <ul>\n  <li>Room will now properly use Kotlin\u2019s primary constructor in\n  data classes avoiding the need to declare the fields as vars.\n  <a href=\"https://issuetracker.google.com/issues/105769985\" rel=\"nofollow noreferrer\">b/105769985</a></li>\n  </ul>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1553186795, "post_id": 55026410, "comment_id": 97300580, "body": "Yes, AndroidX will replace support libraries, so Room will never be 2.0 on old <code>android.arch.persistence.room</code>."}, {"owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1553272711, "post_id": 55026410, "comment_id": 97336757, "body": "Thanks for the info"}, {"owner": {"reputation": 823, "user_id": 2825911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vYDuh.jpg?s=128&g=1", "display_name": "yaroslav", "link": "https://stackoverflow.com/users/2825911/yaroslav"}, "edited": false, "score": 2, "creation_date": 1555691556, "post_id": 55026410, "comment_id": 98204326, "body": "val doesn&#39;t work in my case with Int and Long even with androidx and newest Room"}], "tags": [], "owner": {"reputation": 432, "user_id": 5073012, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C1aaUgrCdEQ/AAAAAAAAAAI/AAAAAAAAA1Y/VIQE8HqMm9k/photo.jpg?sz=128", "display_name": "Jibbo", "link": "https://stackoverflow.com/users/5073012/jibbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1553272679, "last_edit_date": 1553272679, "creation_date": 1551885375, "answer_id": 55026410, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/55026410#55026410", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Just an update if somebody comes across this thread in 2019, after spending hours digging online on why this should work, but it doesn't.</p>\n\n<p>Using <code>val</code> works as expected if you are using the AndroidX version ( <code>androidx.room:room-&lt;any&gt;:2.*</code>) but it doesn't when using the old <code>android.arch.persistence.room:&lt;any&gt;:1.1.1</code> and it seems that version <code>2.*</code> wasn't released on this latter repo. </p>\n\n<p>Edit: typos</p>\n"}, {"tags": [], "owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "is_accepted": false, "score": 1, "last_activity_date": 1557919874, "last_edit_date": 1557919874, "creation_date": 1557825312, "answer_id": 56126801, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/56126801#56126801", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>If you want the <code>val</code> immutability available for your entity, it is possible.</p>\n\n<ol>\n<li>You should update to AndroidX room <a href=\"https://developer.android.com/jetpack/androidx/releases/room\" rel=\"nofollow noreferrer\">current version</a>.</li>\n<li>Check for the related <a href=\"https://issuetracker.google.com/issues/69539767\" rel=\"nofollow noreferrer\">issue here</a> it is marked as <strong>Won't Fix</strong></li>\n<li>Now they have release a fix related to the issue with <a href=\"https://developer.android.com/jetpack/androidx/releases/room#2.0.0-beta01\" rel=\"nofollow noreferrer\">version 2.0.0-beta01</a></li>\n<li>Now you can use immutable <code>val</code> with <code>default value</code> e.g: </li>\n</ol>\n\n<pre><code>@Entity(\"tbl_abc\")\ndata class Abc(\n    @PrimaryKey\n    val id: Int = 0, \n    val isFavourite: Boolean = false\n)\n</code></pre>\n\n<p>Previously, the above snippet will throw an error of <code>Cannot find setter for field</code>. Changing into <code>var</code> is a great workaround, but I prefer for the entity class to be immutable from outside invocation</p>\n"}, {"tags": [], "owner": {"reputation": 1376, "user_id": 4614807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qO4k8.jpg?s=128&g=1", "display_name": "Bubu", "link": "https://stackoverflow.com/users/4614807/bubu"}, "is_accepted": false, "score": 0, "last_activity_date": 1570185232, "creation_date": 1570185232, "answer_id": 58234686, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/58234686#58234686", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>You can now start your field with <code>is</code> but you can't have a number next to the <code>is</code> like : <code>is2FooSelected</code>, you have to rename to <code>isTwoFooSelected</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1389, "user_id": 1935963, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/07b20e51f23405944b5e5ee2d3af9347?s=128&d=identicon&r=PG", "display_name": "Abhishek Batra", "link": "https://stackoverflow.com/users/1935963/abhishek-batra"}, "edited": false, "score": 0, "creation_date": 1587232435, "post_id": 60292235, "comment_id": 108432262, "body": "Did you find any solution for this? Stuck with same case. Thanks"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 1389, "user_id": 1935963, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/07b20e51f23405944b5e5ee2d3af9347?s=128&d=identicon&r=PG", "display_name": "Abhishek Batra", "link": "https://stackoverflow.com/users/1935963/abhishek-batra"}, "edited": false, "score": 0, "creation_date": 1587251660, "post_id": 60292235, "comment_id": 108439027, "body": "In my case , I needed to remove <code>@Ignore</code> from fields on my entity class. Perhaps you have <code>@Ignore</code> included on fields on one or more of your entity classes?"}, {"owner": {"reputation": 3144, "user_id": 231590, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/79b7752f0ac4b6b2c687cbf472519c26?s=128&d=identicon&r=PG", "display_name": "soshial", "link": "https://stackoverflow.com/users/231590/soshial"}, "edited": false, "score": 0, "creation_date": 1592549899, "post_id": 60292235, "comment_id": 110470591, "body": "Obviously, Room library cannot instantiate an object of your data class, because data class must have a field that does not exist in the database (because of the <code>@Ignore</code> annotation)."}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 3, "last_activity_date": 1582080158, "creation_date": 1582080158, "answer_id": 60292235, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/60292235#60292235", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>I've found that another cause of this compilation error can be due to the use of the Room's <code>@Ignore</code> annotation on fields of your entity data class:</p>\n\n<pre><code>@Entity(tableName = \"foo\")\ndata class Foo(\n\n    // Okay\n    @PrimaryKey\n    val id: String,\n\n    // Okay\n    val bar: String,\n\n    // Annotation causes compilation error, all fields of data class report\n    // the \"Cannot find setter for field\" error when Ignore is present\n    @Ignore\n    val causeserror: String\n)\n</code></pre>\n\n<p>The same error also seems to happens when using the <code>@Transient</code> annotation.</p>\n\n<p>I've noticed this issue using version <code>2.2.2</code> of Room:</p>\n\n<pre><code>// build.gradle file\ndependencies {\n   ...\n   kapt \"androidx.room:room-compiler:2.2.2\"\n   ...\n}\n</code></pre>\n\n<p>Hope that helps someone!</p>\n"}, {"tags": [], "owner": {"reputation": 262, "user_id": 1745917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7sbN.jpg?s=128&g=1", "display_name": "Vijay Singh", "link": "https://stackoverflow.com/users/1745917/vijay-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1582204501, "creation_date": 1582204501, "answer_id": 60320800, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/60320800#60320800", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>Just use var instead of val and if you are using private keyword, make it public.</p>\n\n<pre><code>@Entity(tableName = \"story\")\ndata class Story (\n        @PrimaryKey val id: Long,\n        var by: String,\n        var descendants: Int,\n        var score: Int,\n        var time: Long,\n        var title: String,\n        var type: String,\n        var url: String\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 9650668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f4e04252d4cd98d8e5168915ed10b37?s=128&d=identicon&r=PG&f=1", "display_name": "Sneg", "link": "https://stackoverflow.com/users/9650668/sneg"}, "is_accepted": false, "score": 2, "last_activity_date": 1594899179, "creation_date": 1594899179, "answer_id": 62933784, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/62933784#62933784", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>This error will be thrown if your column starts with Is:</p>\n<pre><code>@ColumnInfo(name = &quot;IsHandicapLeague&quot;)\n    @NonNull\n    var isHandicapLeague: String = &quot;Y&quot;\n</code></pre>\n<p>Add a default set() function to eliminate</p>\n<pre><code>fun setIsHandicapLeague(flag:String) {\n    isHandicapLeague = flag\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 781, "user_id": 355985, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/fQJg7.jpg?s=128&g=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/355985/milan"}, "is_accepted": false, "score": 3, "last_activity_date": 1600340320, "creation_date": 1600340320, "answer_id": 63936585, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/63936585#63936585", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>If you have <code>@Ignore</code> field in the data class constructor you need to move it to class body like this:</p>\n<pre><code>@Entity(primaryKeys = [&quot;id&quot;])\ndata class User(\n        @field:SerializedName(&quot;id&quot;)\n        val id: Int,\n\n        @field:SerializedName(&quot;name&quot;)\n        val name: String,\n    \n        @field:SerializedName(&quot;age&quot;)\n        val age: Int\n) {\n    @Ignore\n    val testme: String?\n}\n</code></pre>\n<p>All kudos go to <a href=\"https://github.com/marianperca\" rel=\"nofollow noreferrer\">marianperca</a> on GitHub: <a href=\"https://github.com/android/architecture-components-samples/issues/421#issuecomment-442763610\" rel=\"nofollow noreferrer\">https://github.com/android/architecture-components-samples/issues/421#issuecomment-442763610</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8037902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a797e174af5b5c80881b5aa99330e28?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;khan_Yildiz", "link": "https://stackoverflow.com/users/8037902/g%c3%b6khan-yildiz"}, "is_accepted": false, "score": 2, "last_activity_date": 1607730369, "creation_date": 1607730369, "answer_id": 65260102, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database/65260102#65260102", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>You can try to rename id variable to another name. It worked for me ;</p>\n<pre><code>var id: Long? = null\n</code></pre>\n<p>to</p>\n<pre><code>var workerId: Long? = null\n</code></pre>\n<p>If you have to name as id and you are using retrofit, then you may need to add SerializedName(&quot;id&quot;)</p>\n"}], "owner": {"reputation": 5020, "user_id": 819911, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba6f8961787eda53ce9881751ad9f43e?s=128&d=identicon&r=PG&f=1", "display_name": "gsb", "link": "https://stackoverflow.com/users/819911/gsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25483, "favorite_count": 13, "accepted_answer_id": 44213583, "answer_count": 15, "score": 78, "last_activity_date": 1607730369, "creation_date": 1495864458, "question_id": 44213446, "link": "https://stackoverflow.com/questions/44213446/cannot-find-setter-for-field-using-kotlin-with-room-database", "title": "Cannot find setter for field - using Kotlin with Room database", "body": "<p>I'm integrating with the Room persistence library. I have a data class in Kotlin like:</p>\n\n<pre><code>@Entity(tableName = \"story\")\ndata class Story (\n        @PrimaryKey val id: Long,\n        val by: String,\n        val descendants: Int,\n        val score: Int,\n        val time: Long,\n        val title: String,\n        val type: String,\n        val url: String\n)\n</code></pre>\n\n<p>The <code>@Entity</code> and <code>@PrimaryKey</code> annotations are for the Room library. When I try to build, it is failing with error:</p>\n\n<pre><code>Error:Cannot find setter for field.\nError:Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n\n<p>I also tried providing a default constructor:</p>\n\n<pre><code>@Entity(tableName = \"story\")\ndata class Story (\n        @PrimaryKey val id: Long,\n        val by: String,\n        val descendants: Int,\n        val score: Int,\n        val time: Long,\n        val title: String,\n        val type: String,\n        val url: String\n) {\n    constructor() : this(0, \"\", 0, 0, 0, \"\", \"\", \"\")\n}\n</code></pre>\n\n<p>But this doesn't work as well. A thing to note is that it works if I convert this Kotlin class into a Java class with getters and setters. Any help is appreciated!</p>\n"}, {"tags": ["java", "hibernate", "jpa", "enums", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 3400198, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3LLi.jpg?s=128&g=1", "display_name": "Francisco C.", "link": "https://stackoverflow.com/users/3400198/francisco-c"}, "edited": false, "score": 1, "creation_date": 1521770979, "post_id": 44213463, "comment_id": 85884564, "body": "I had a similar problem, but I was using <code>List</code> instead of <code>MutableList</code>. This answer pointed me in the right direction."}, {"owner": {"reputation": 61, "user_id": 5719959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9587f44542a96aaa16eaba342e12622?s=128&d=identicon&r=PG&f=1", "display_name": "Sola", "link": "https://stackoverflow.com/users/5719959/sola"}, "edited": false, "score": 5, "creation_date": 1538801374, "post_id": 44213463, "comment_id": 92280897, "body": "You can also add <code>@JvmSuppressWildcards</code> to your <code>Set&lt;RoleType&gt;</code> declaration to fix this."}], "tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 53, "last_activity_date": 1495864567, "creation_date": 1495864567, "answer_id": 44213463, "question_id": 44213074, "link": "https://stackoverflow.com/questions/44213074/kotlin-collection-has-neither-generic-type-or-onetomany-targetentity/44213463#44213463", "title": "Kotlin: Collection has neither generic type or OneToMany.targetEntity()", "body": "<p>Have you tried changing </p>\n\n<pre><code>var roles: Set&lt;RoleType&gt;? = null\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var roles: MutableSet&lt;RoleType&gt;? = null\n</code></pre>\n\n<p>If you have a look at the interface definition of <code>Set</code>, you'll see it's defined as <code>public interface Set&lt;out E&gt; : Collection&lt;E&gt;</code> whereas <code>MutableSet</code> is defined as <code>public interface MutableSet&lt;E&gt; : Set&lt;E&gt;, MutableCollection&lt;E&gt;</code></p>\n\n<p><code>Set&lt;out E&gt;</code> 's Java equivalent I believe is <code>Set&lt;? extends E&gt;</code> instead of what you were looking for <code>Set&lt;E&gt;</code>.</p>\n"}], "owner": {"reputation": 3898, "user_id": 435912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/251dfe6b95f4d64be4c8ab544e267718?s=128&d=identicon&r=PG", "display_name": "Sri", "link": "https://stackoverflow.com/users/435912/sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5833, "favorite_count": 2, "accepted_answer_id": 44213463, "answer_count": 1, "score": 26, "last_activity_date": 1495864567, "creation_date": 1495860770, "last_edit_date": 1495861972, "question_id": 44213074, "link": "https://stackoverflow.com/questions/44213074/kotlin-collection-has-neither-generic-type-or-onetomany-targetentity", "title": "Kotlin: Collection has neither generic type or OneToMany.targetEntity()", "body": "<p>I have an Enum class <code>RoleType</code> </p>\n\n<pre><code>public enum RoleType {\n    SYSTEM_ADMIN, PROJECT_ADMIN, USER;\n}\n</code></pre>\n\n<p>In my <code>User</code> entity class, I've the following mapping for the enum collection. This is the <code>Java</code> code:</p>\n\n<pre><code>@JsonProperty\n@ElementCollection\n@Enumerated(EnumType.STRING)\n@CollectionTable(name = \"user_role\", joinColumns = @JoinColumn(name = \"user_id\"))\nprivate Set&lt;RoleType&gt; roles;\n</code></pre>\n\n<p>I converted this <code>User</code> entity class to <code>Kotlin</code> and here is the code:</p>\n\n<pre><code>@JsonProperty\n@Enumerated(EnumType.STRING)\n@ElementCollection\n@CollectionTable(name = \"user_role\", joinColumns = arrayOf(JoinColumn(name = \"user_id\")))\nvar roles: kotlin.collections.Set&lt;RoleType&gt;? = null\n</code></pre>\n\n<p>After the conversion, hibernate is throwing the following exception:</p>\n\n<pre><code>Collection has neither generic type or OneToMany.targetEntity() defined: com.a.b.model.User.roles\n</code></pre>\n\n<p>It was working fine before in Java.</p>\n\n<p>I also tried adding the <code>targetClass</code> in <code>@ElementCollection</code> like this:</p>\n\n<pre><code>@ElementCollection(targetClass = RoleType::class)\n</code></pre>\n\n<p>but it's also throwing another exception.</p>\n\n<pre><code>Fail to process type argument in a generic declaration. Member : com.a.b.model.User#roles Type: class sun.reflect.generics.reflectiveObjects.WildcardTypeImpl\nERROR [2017-05-27 04:46:33,123] org.hibernate.annotations.common.AssertionFailure: HCANN000002: An assertion failure occurred (this may indicate a bug in Hibernate)\n! org.hibernate.annotations.common.AssertionFailure: Fail to process type argument in a generic declaration. Member : com.a.b.model.User#roles Type: class sun.reflect.generics.reflectiveObjects.WildcardTypeImpl\n</code></pre>\n\n<p><strong>Note</strong>: If i change the modifier of <code>roles</code> from <code>var</code> to <code>val</code>, it's working, but i need this to be a mutable type. I don't understand how the <em>mutability</em> of a field is creating issues in hibernate.</p>\n\n<p><strong>Note</strong>: I'm using Kotlin 1.1.2-2 &amp; Hibernate 5.2 version.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1495860331, "post_id": 44212628, "comment_id": 75438066, "body": "you need to use secondary constructor in kotlin DialogPreference class contain multiple constructor. for more information about secondary constructor.  <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a>"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1495861805, "post_id": 44212628, "comment_id": 75438286, "body": "What should the signature of this secondary constructor be?"}, {"owner": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1495863400, "post_id": 44212628, "comment_id": 75438550, "body": "ahh sorry for that. i try it and its run you forget to add ? in context. context are also null-able so add ? after Context? and its works . for example  open class B(context: Context?, attrs: AttributeSet?) : DialogPreference(context, attrs)"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1495870474, "post_id": 44212628, "comment_id": 75439963, "body": "Are you using ProGuard or any other tools which transform your bytecode and may strip this constructor?"}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1495902038, "post_id": 44212628, "comment_id": 75448768, "body": "@mcd: I tried that, but it didn&#39;t make a difference. Makes sense though that it didn&#39;t change, Context is not nullable, a view must always be attached to a context."}, {"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1495902067, "post_id": 44212628, "comment_id": 75448778, "body": "@Miha_x64 no, it&#39;s a debug build, proguard is not running."}], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 1, "last_activity_date": 1495906332, "creation_date": 1495906332, "answer_id": 44219818, "question_id": 44212628, "link": "https://stackoverflow.com/questions/44212628/missing-constructor-for-dialogpreference/44219818#44219818", "title": "Missing constructor for DialogPreference", "body": "<p>Turns out I was looking at the wrong class. The error came from this other preference:</p>\n\n<pre><code>class BaseCheckBoxPreference(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0) : CheckBoxPreference(context, attrs, defStyleAttr) { /* */ }\n</code></pre>\n\n<p>To solve the crash I had to remove the 3rd argument from the constructor:</p>\n\n<pre><code>class BaseCheckBoxPreference(context: Context, attrs: AttributeSet? = null) : CheckBoxPreference(context, attrs) { /* */ }\n</code></pre>\n\n<p>Alternatively, we can define a secondary constructor that only takes 2 arguments, but for my use case I only needed the one with 2 arguments. The secondary constructor would be</p>\n\n<pre><code>class BaseCheckBoxPreference(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0) : CheckBoxPreference(context, attrs, defStyleAttr) {\n\nconstructor(context: Context, attrs: AttributeSet? = null) : this(context, attrs, 0)\n\n/* */\n}\n</code></pre>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495906332, "creation_date": 1495855281, "last_edit_date": 1495902496, "question_id": 44212628, "link": "https://stackoverflow.com/questions/44212628/missing-constructor-for-dialogpreference", "title": "Missing constructor for DialogPreference", "body": "<p>I'm in the process of converting a project to Kotlin. When I converted the Dialog Preferences, the app crashed with a \"no such method\", apparently the constructor is missing. This is the error message:</p>\n\n<pre><code>05-26 20:13:32.799  6019  6019 E AndroidRuntime: Caused by: java.lang.NoSuchMethodException: &lt;init&gt; [class android.content.Context, interface android.util.AttributeSet]\n05-26 20:13:32.799  6019  6019 E AndroidRuntime:    at java.lang.Class.getConstructor0(Class.java:2204)\n05-26 20:13:32.799  6019  6019 E AndroidRuntime:    at java.lang.Class.getConstructor(Class.java:1683)\n05-26 20:13:32.799  6019  6019 E AndroidRuntime:    at android.preference.GenericInflater.createItem(GenericInflater.java:378)\n</code></pre>\n\n<p>The class has the 2 argument constructor the error message complains about:</p>\n\n<pre><code>class FilterPreferenceFragment(context: Context, attrs: AttributeSet?) :\n    BaseDialogPreference(context, attrs) {\n    /* */\n}\n</code></pre>\n\n<p>And the base class:</p>\n\n<pre><code>abstract class BaseDialogPreference(context: Context, attrs: AttributeSet?) :\n    DialogPreference(context, attrs) {\n    /* */\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n\n<p>Edit:</p>\n\n<p>in case it is helpful, here's the bytecode generated by the Kotlin compiler:</p>\n\n<pre><code>  // access flags 0x1\n  public &lt;init&gt;(Landroid/content/Context;Landroid/util/AttributeSet;)V\n    @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0\n    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 1\n   L0\n    ALOAD 1\n    LDC \"context\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n   L1\n    LINENUMBER 12 L1\n    ALOAD 0\n    ALOAD 1\n    ALOAD 2\n   L2\n    LINENUMBER 13 L2\n    INVOKESPECIAL android/preference/DialogPreference.&lt;init&gt; (Landroid/content/Context;Landroid/util/AttributeSet;)V\n    RETURN\n   L3\n    LOCALVARIABLE this Lcom/example/exampleapp/app/preference/BaseDialogPreference; L0 L3 0\n    LOCALVARIABLE context Landroid/content/Context; L0 L3 1\n    LOCALVARIABLE attrs Landroid/util/AttributeSet; L0 L3 2\n    MAXSTACK = 3\n    MAXLOCALS = 3\n\n  @Lkotlin/Metadata;(mv={1, 1, 6}, bv={1, 0, 1}, k=1, d1={\"\\u0000$\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0008\\u0002\\n\\u0002\\u0010\\u0002\\n\\u0000\\n\\u0002\\u0018\\u0002\\n\\u0000\\u0008&amp;\\u0018\\u00002\\u00020\\u0001B\\u0017\\u0012\\u0006\\u0010\\u0002\\u001a\\u00020\\u0003\\u0012\\u0008\\u0010\\u0004\\u001a\\u0004\\u0018\\u00010\\u0005\\u00a2\\u0006\\u0002\\u0010\\u0006J\\u0010\\u0010\\u0007\\u001a\\u00020\\u00082\\u0006\\u0010\\u0009\\u001a\\u00020\\nH\\u0014\\u00a8\\u0006\\u000b\"}, d2={\"Lcom/example/exampleapp/app/preference/BaseDialogPreference;\", \"Landroid/preference/DialogPreference;\", \"context\", \"Landroid/content/Context;\", \"attrs\", \"Landroid/util/AttributeSet;\", \"(Landroid/content/Context;Landroid/util/AttributeSet;)V\", \"onBindView\", \"\", \"view\", \"Landroid/view/View;\", \"production sources for module ExampleApp\"})\n  // compiled from: BaseDialogPreference.kt\n</code></pre>\n"}, {"tags": ["android", "rx-java", "kotlin", "rx-java2", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 5, "last_activity_date": 1495847552, "creation_date": 1495847552, "answer_id": 44211963, "question_id": 44211577, "link": "https://stackoverflow.com/questions/44211577/for-a-kotlin-function-used-as-an-expression-is-there-concise-way-to-operate-on/44211963#44211963", "title": "For a Kotlin function used as an expression, is there concise way to operate on and return a value?", "body": "<p>You can use <code>also()</code> to operate on and return the receiver:</p>\n\n<pre><code>{ text: String -&gt;\n    validateText(text).also { valid -&gt;\n        if (valid) actOnValidation()\n    }\n}\n</code></pre>\n\n<p>You can also write it like this, but I prefer the first form because I think it's clearer:</p>\n\n<pre><code>{ text: String -&gt;\n    validateText(text).also {\n        if (it) actOnValidation()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2087534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoctH.jpg?s=128&g=1", "display_name": "Conor K.", "link": "https://stackoverflow.com/users/2087534/conor-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 44211963, "answer_count": 1, "score": 1, "last_activity_date": 1495847552, "creation_date": 1495843034, "question_id": 44211577, "link": "https://stackoverflow.com/questions/44211577/for-a-kotlin-function-used-as-an-expression-is-there-concise-way-to-operate-on", "title": "For a Kotlin function used as an expression, is there concise way to operate on and return a value?", "body": "<p>In Kotlin the final statement of a function can be interpreted as its return value.</p>\n\n<p>Can a situation like the following example be simplified to be less verbose?</p>\n\n<pre><code>{ text: String -&gt;\n  val validated = validateText(text)\n  if (validated) {\n    actOnValidation()\n  }\n  validated\n}\n</code></pre>\n\n<p>A concrete case where I would like to do this is below in an example using RxJava - even if there's a better Rx approach I'm also interested in a pure Kotlin solution if it exists.</p>\n\n<pre><code>fun inputChainObservable(targetField: TextView, chainedField: TextView): Observable&lt;Boolean&gt; {\n  return targetField.textChanges()\n      .observeOn(AndroidSchedulers.mainThread())\n      .map { cs: CharSequence? -&gt;\n        val hasInput = validateText(cs.toString())\n        if (hasInput) {\n          chainedField.requestFocus()\n        }\n        hasInput\n      }\n}\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": true, "score": 8, "last_activity_date": 1495835486, "creation_date": 1495835486, "answer_id": 44210571, "question_id": 44210257, "link": "https://stackoverflow.com/questions/44210257/data-class-empty-constructor-for-firebase/44210571#44210571", "title": "data class empty constructor for Firebase", "body": "<p>To get a default constructor, you should initialize the values:</p>\n\n<pre><code>data class MainPosts(\n    val context: Context = someDefaultValue1, \n    val posts: Posts = someDefaultValue2, \n    val livePost: LivePosts? = null) \n</code></pre>\n\n<p>If they are all nullable as it seems from your constructor code:</p>\n\n<pre><code>data class MainPosts(\n    val context: Context? = null, \n    val posts: Posts? = null, \n    val livePost: LivePosts? = null) \n</code></pre>\n\n<p>This give you a default constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495836237, "creation_date": 1495836237, "answer_id": 44210699, "question_id": 44210257, "link": "https://stackoverflow.com/questions/44210257/data-class-empty-constructor-for-firebase/44210699#44210699", "title": "data class empty constructor for Firebase", "body": "<p>In this way constructor is presented:</p>\n\n<pre><code>data class MainPosts(val context: Context?=null, val posts: Posts?=null, val livePost: LivePosts?=null)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "is_accepted": false, "score": 2, "last_activity_date": 1559992962, "last_edit_date": 1559992962, "creation_date": 1496149911, "answer_id": 44263262, "question_id": 44210257, "link": "https://stackoverflow.com/questions/44210257/data-class-empty-constructor-for-firebase/44263262#44263262", "title": "data class empty constructor for Firebase", "body": "<p>Nice answers already suggested. However, another way to go is to use the no-args compiler plugin which generates a synthetic no argument constructor. \nIt's specifically designed for such situations where providing default parameters might not be desirable. </p>\n\n<p>Checkout <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">No-arg compiler plugin</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8072357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w4cNx.jpg?s=128&g=1", "display_name": "Burak Taban", "link": "https://stackoverflow.com/users/8072357/burak-taban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 44210571, "answer_count": 3, "score": 3, "last_activity_date": 1559992962, "creation_date": 1495833563, "last_edit_date": 1495869982, "question_id": 44210257, "link": "https://stackoverflow.com/questions/44210257/data-class-empty-constructor-for-firebase", "title": "data class empty constructor for Firebase", "body": "<pre><code>data class MainPosts(val context: Context, val posts: Posts, val livePost: LivePosts?)\n{\n    constructor() : this(null!!, null!!, null!!) \n}\n</code></pre>\n\n<p>Hey, I've been trying to figure out how to create an empty constructor on data class for Firebase. </p>\n\n<p>I tried that code which is above but it didn't work properly.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1570, "user_id": 409117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SQqyS.jpg?s=128&g=1", "display_name": "gladed", "link": "https://stackoverflow.com/users/409117/gladed"}, "edited": false, "score": 0, "creation_date": 1496033973, "post_id": 44210858, "comment_id": 75479394, "body": "Yes, this is exactly why Kotlin&#39;s (immutable) <code>Map&lt;&gt;</code> behaves the way it does, thank you!"}], "tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": false, "score": 1, "last_activity_date": 1495837210, "creation_date": 1495837210, "answer_id": 44210858, "question_id": 44209856, "link": "https://stackoverflow.com/questions/44209856/prevent-kotlin-from-forcing-java-to-see-a-wildcard-type/44210858#44210858", "title": "Prevent Kotlin from forcing Java to see a wildcard type", "body": "<p>Change </p>\n\n<pre><code>class Wrapper2 : Wrapper&lt;Map&lt;String, String&gt;&gt;()\n</code></pre>\n\n<p>to</p>\n\n<pre><code>class Wrapper2 : Wrapper&lt;MutableMap&lt;String, String&gt;&gt;()\n</code></pre>\n\n<p>You'll see in the Kotlin source, </p>\n\n<pre><code>public interface Map&lt;K, out V&gt; {\n</code></pre>\n\n<p>whereas:</p>\n\n<pre><code>public interface MutableMap&lt;K, V&gt; : Map&lt;K, V&gt; {\n</code></pre>\n\n<p>I believe <code>out V</code> is the reason you're getting <code>? extends String</code>, see <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">Covariance</a> under the generics docs for Kotlin and a quick search on Google should give you some more insight into <a href=\"https://stackoverflow.com/questions/9810445/listmapstring-string-vs-list-extends-mapstring-string#9810499\">covariance and contravariance in Java</a> .</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 9, "last_activity_date": 1495870212, "last_edit_date": 1592644375, "creation_date": 1495870212, "answer_id": 44214203, "question_id": 44209856, "link": "https://stackoverflow.com/questions/44209856/prevent-kotlin-from-forcing-java-to-see-a-wildcard-type/44214203#44214203", "title": "Prevent Kotlin from forcing Java to see a wildcard type", "body": "<p>You can suppress Kotlin using wildcards in generics as <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#variant-generics\" rel=\"noreferrer\">described in the Kotlin reference</a> where it describes the <code>@JvmSuppressWildcards</code> annotation (or the reverse of that <code>@JvmWildcard</code> annotation).</p>\n<p>From the docs:</p>\n<blockquote>\n<p>On the other hand, if we don't need wildcards where they are generated, we can use <code>@JvmSuppressWildcards</code>:</p>\n<pre><code>fun unboxBase(box: Box&lt;@JvmSuppressWildcards Base&gt;): Base = box.value\n// is translated to \n// Base unboxBase(Box&lt;Base&gt; box) { ... }\n</code></pre>\n<p>NOTE: <code>@JvmSuppressWildcards</code> can be used not only on individual type arguments, but on entire declarations, such as functions or classes, causing all wildcards inside them to be suppressed.</p>\n</blockquote>\n"}], "owner": {"reputation": 1570, "user_id": 409117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SQqyS.jpg?s=128&g=1", "display_name": "gladed", "link": "https://stackoverflow.com/users/409117/gladed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2403, "favorite_count": 1, "accepted_answer_id": 44214203, "answer_count": 2, "score": 8, "last_activity_date": 1495870212, "creation_date": 1495831247, "question_id": 44209856, "link": "https://stackoverflow.com/questions/44209856/prevent-kotlin-from-forcing-java-to-see-a-wildcard-type", "title": "Prevent Kotlin from forcing Java to see a wildcard type", "body": "<p>This works fine:</p>\n\n<pre><code>class Wrapped&lt;out T&gt;(val value: T)\n\nopen class Wrapper&lt;T&gt; {\n    fun wrap(map: T): Wrapped&lt;T&gt; = Wrapped(map)\n}\n\nclass Wrapper2 : Wrapper&lt;Map&lt;String, String&gt;&gt;()\n\nval wrapped: Wrapped&lt;Map&lt;String, String&gt;&gt; = Wrapper2().wrap(mapOf())\n</code></pre>\n\n<p>But, when I try to access <code>Wrapper2.wrap</code> from Java, the Map comes back with a wildcard type:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Map&lt;String, String&gt; toWrap = new HashMap&lt;&gt;();\n    Wrapped&lt;Map&lt;String, String&gt;&gt; result;\n    result = new Wrapper&lt;Map&lt;String, String&gt;&gt;().wrap(toWrap); // ok\n    result = new Wrapper2().wrap(toWrap); // NOT ok, returns Wrapped&lt;Map&lt;String, ? extends String&gt;&gt;\n</code></pre>\n\n<p>I can work around this by overriding <code>wrap</code> in <code>Wrapper2</code> with the explicit type.</p>\n\n<p>Why does <code>Wrapper2.wrap</code> return a different type than <code>Wrapper.wrap</code>?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1495827996, "post_id": 44209063, "comment_id": 75430746, "body": "Same as in Java: <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/application/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/getStarted/application</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1495828249, "post_id": 44209063, "comment_id": 75430868, "body": "this line? Which line?"}], "answers": [{"comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1495828764, "post_id": 44209256, "comment_id": 75431103, "body": "No, it won&#39;t cause any compilation error. It&#39;s perfectly legal to name a function main even though it doesn&#39;t have any argument. It just can&#39;t be an entry point, that&#39;s all."}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1495829063, "last_edit_date": 1495829063, "creation_date": 1495828475, "answer_id": 44209256, "question_id": 44209063, "link": "https://stackoverflow.com/questions/44209063/the-content-in-the-parameter-of-the-main-fun-in-kotlin/44209256#44209256", "title": "the content in the parameter of the main fun in kotlin", "body": "<pre><code>fun main(args : Array&lt;String&gt;) { \n  println(\"Hello, world!\") \n}\n</code></pre>\n\n<p>In this example, a function named <code>main</code> is defined which returns Unit and takes an Array of strings as a parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": false, "score": 1, "last_activity_date": 1495833423, "last_edit_date": 1495833423, "creation_date": 1495829229, "answer_id": 44209414, "question_id": 44209063, "link": "https://stackoverflow.com/questions/44209063/the-content-in-the-parameter-of-the-main-fun-in-kotlin/44209414#44209414", "title": "the content in the parameter of the main fun in kotlin", "body": "<p>The <code>main(Array&lt;String&gt;)</code> function is an entry point of a program. The strings passed are the command-line arguments.</p>\n\n<p>That is, when you run something like</p>\n\n<pre><code>$ java myprogram foo bar\n</code></pre>\n\n<p>the <code>main</code> function is called with <code>[\"foo\", \"bar\"]</code> as the argument.</p>\n\n<p>This is very much the same thing that Java does, and Java emulates C in this regard.</p>\n"}, {"tags": [], "owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "is_accepted": false, "score": 0, "last_activity_date": 1495984272, "creation_date": 1495984272, "answer_id": 44228814, "question_id": 44209063, "link": "https://stackoverflow.com/questions/44209063/the-content-in-the-parameter-of-the-main-fun-in-kotlin/44228814#44228814", "title": "the content in the parameter of the main fun in kotlin", "body": "<p>Depend on Java convention, this Kotlin code bellow's the same with Java code.</p>\n\n<p>Kotlin code:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>public static void main(String[] args) {\n    println(\"Hello, world!\");\n}\n</code></pre>\n\n<p>According to @9000 \"The main(Array) function is an entry point of a program. The strings passed are the command-line arguments.\" Each program must have the start entry point. That's just a convention to get the function call parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "reply_to_user": {"reputation": 2049, "user_id": 4640431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dOpj1.jpg?s=128&g=1", "display_name": "Pierre.Vriens", "link": "https://stackoverflow.com/users/4640431/pierre-vriens"}, "edited": false, "score": 0, "creation_date": 1554596948, "post_id": 55549688, "comment_id": 97810381, "body": "@Pierre.Vriens just looks better."}], "tags": [], "owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "is_accepted": false, "score": 1, "last_activity_date": 1554558447, "creation_date": 1554558447, "answer_id": 55549688, "question_id": 44209063, "link": "https://stackoverflow.com/questions/44209063/the-content-in-the-parameter-of-the-main-fun-in-kotlin/55549688#55549688", "title": "the content in the parameter of the main fun in kotlin", "body": "<p>I keep replacing it with <code>vararg</code> everywhere</p>\n\n<pre><code>object Application {\n\n    @JvmStatic\n    fun main(vararg args: String) {\n        Micronaut.build()\n                .packages(\"example\")\n                .mainClass(Application::class.java)\n                .start()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4889270, "user_type": "registered", "profile_image": "https://graph.facebook.com/1571282736467365/picture?type=large", "display_name": "Ahmed El Saeed", "link": "https://stackoverflow.com/users/4889270/ahmed-el-saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1576, "favorite_count": 0, "answer_count": 4, "score": -3, "last_activity_date": 1554558447, "creation_date": 1495827728, "last_edit_date": 1495828217, "question_id": 44209063, "link": "https://stackoverflow.com/questions/44209063/the-content-in-the-parameter-of-the-main-fun-in-kotlin", "title": "the content in the parameter of the main fun in kotlin", "body": "<p>I'm a beginner of Kotlin language and I want to understand everything in this programming language so.</p>\n\n<p>1- what mean of the <code>args: Array&lt;String&gt;</code> in the parameter of the main function ?</p>\n\n<p>2- why compilation error is shown when this line is removed ?</p>\n"}]