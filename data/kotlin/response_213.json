[{"tags": ["android", "kotlin", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1549502547, "post_id": 54564364, "comment_id": 95928697, "body": "Why do you have a second Activity tho?"}, {"owner": {"reputation": 2714, "user_id": 850347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QZUgz.gif?s=128&g=1", "display_name": "Stanley Ko", "link": "https://stackoverflow.com/users/850347/stanley-ko"}, "edited": false, "score": 0, "creation_date": 1614860732, "post_id": 54564364, "comment_id": 117517436, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/60173227/navigation-component-how-to-display-back-arrow-on-the-activity-when-back-to-th\">(Navigation component) How to display back arrow on the activity when back to the home fragment?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 9407751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gOZxSZGn-QU/AAAAAAAAAAI/AAAAAAAAAmk/vubEBvNQ87s/photo.jpg?sz=128", "display_name": "faskN", "link": "https://stackoverflow.com/users/9407751/faskn"}, "is_accepted": false, "score": 0, "last_activity_date": 1549504122, "creation_date": 1549504122, "answer_id": 54565176, "question_id": 54564364, "link": "https://stackoverflow.com/questions/54564364/button-back-in-startdestination-with-navigation-component/54565176#54565176", "title": "button back in startDestination with navigation component", "body": "<p>Add <em>setHomeButtonEnabled</em> func. to your returning action. If you are returning with button add it to onClick or with backPress, override backPress.</p>\n\n<p>With this solve : You will set your button enable, when you try to return your startDestination.</p>\n"}, {"tags": [], "owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "is_accepted": true, "score": 1, "last_activity_date": 1549504687, "creation_date": 1549504687, "answer_id": 54565240, "question_id": 54564364, "link": "https://stackoverflow.com/questions/54564364/button-back-in-startdestination-with-navigation-component/54565240#54565240", "title": "button back in startDestination with navigation component", "body": "<p>You can't, activity has their own toolbars and in your case they have two different NavControllers. So your second activity manage NavUp Button for his fragment and when start Destination fragment comes NavUpButton(Backbutton) disappear because it has no destination left behind. And if you programmatically show NavUp Button on start destination of that (2nd activity) and manage onClick and start first activity that always goes to Start destination of first activity's fragment because it has it's own Nav Controller.</p>\n\n<p>Problem is that Navigation UI not works like that. The better approach is use only one activity with multiple fragments. And use any other approach to solve your problem within the same nav controller.</p>\n"}, {"tags": [], "owner": {"reputation": 698, "user_id": 287838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374f440218d84110e2885f51fb1d34c2?s=128&d=identicon&r=PG", "display_name": "Rui", "link": "https://stackoverflow.com/users/287838/rui"}, "is_accepted": false, "score": 4, "last_activity_date": 1577280094, "creation_date": 1577280094, "answer_id": 59478800, "question_id": 54564364, "link": "https://stackoverflow.com/questions/54564364/button-back-in-startdestination-with-navigation-component/59478800#59478800", "title": "button back in startDestination with navigation component", "body": "<p>You can do it by specifying a setFallbackOnNavigateUpListener:</p>\n\n<pre><code>private fun setupToolbar() {\n    val navController = findNavController(R.id.nav_host_fragment)\n\n    val appBarConfiguration =\n        AppBarConfiguration.Builder()\n            .setFallbackOnNavigateUpListener { onNavigateUp() }\n            .build()\n\n    dataBinding.toolbar.apply {\n        setupWithNavController(navController, appBarConfiguration)\n    }\n}\n</code></pre>\n\n<p>And then do whatever you want in the Activity's:</p>\n\n<pre><code>override fun onNavigateUp(): Boolean {\n    finish()\n    return true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6363, "user_id": 1143361, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qGjl.jpg?s=128&g=1", "display_name": "fullmoon", "link": "https://stackoverflow.com/users/1143361/fullmoon"}, "is_accepted": false, "score": 0, "last_activity_date": 1587613292, "creation_date": 1587613292, "answer_id": 61378966, "question_id": 54564364, "link": "https://stackoverflow.com/questions/54564364/button-back-in-startdestination-with-navigation-component/61378966#61378966", "title": "button back in startDestination with navigation component", "body": "<p>I created an interface to show/hide up button from the nav host activity. Here is how the activity implements the interface methods to show/hide up button:</p>\n\n<pre><code>    override fun showUpButton() {\n    val navController = this.findNavController(R.id.nav_host)\n    val listener = AppBarConfiguration.OnNavigateUpListener { navController.navigateUp() }\n    val abc = AppBarConfiguration.Builder().setFallbackOnNavigateUpListener(listener).build()\n    NavigationUI.setupActionBarWithNavController(this, navController, abc)\n}\n\n\noverride fun hideUpButton() {\n    val navController = this.findNavController(R.id.nav_host)\n    NavigationUI.setupActionBarWithNavController(this, navController)\n}\n</code></pre>\n\n<p>Here the method in the activity when up button pressed:</p>\n\n<pre><code>    override fun onSupportNavigateUp(): Boolean {\n    val navController = this.findNavController(R.id.nav_host)\n    if(!navController.navigateUp()){ // When in start destination\n        onBackPressed()\n    }\n    return navController.navigateUp()\n}\n</code></pre>\n\n<p>In a fragment can listen whenever back button (NOT up button) pressed:</p>\n\n<pre><code>    private fun setupBackPress() {\n    requireActivity()\n        .onBackPressedDispatcher\n        .addCallback(this, object : OnBackPressedCallback(true) {\n            override fun handleOnBackPressed() { \n            }\n        })\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 6267794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b8375cc8576a5906269faae663b76e?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Uribe Magdaleno", "link": "https://stackoverflow.com/users/6267794/fernando-uribe-magdaleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 1, "accepted_answer_id": 54565240, "answer_count": 4, "score": 8, "last_activity_date": 1587613292, "creation_date": 1549497213, "question_id": 54564364, "link": "https://stackoverflow.com/questions/54564364/button-back-in-startdestination-with-navigation-component", "title": "button back in startDestination with navigation component", "body": "<p>I need a second activity with a nav graph and have a return button in toolbar to the first activity that also contains a nav graph</p>\n\n<p>In my second activity I have onSupportNavigateUp and setupActionBarWithNavController when entering the fragments if the arrow back button appears but in the activity no.</p>\n\n<p>Try adding setHomeButtonEnabled and setDisplayHomeAsUpEnabled in both the activity and the fragment and if the button appears back, but when I enter some fragment in front and return  to the fragment startDestination disappears the button back</p>\n\n<p>I just need to keep the button back in the activity and solve my problem</p>\n"}, {"tags": ["android", "design-patterns", "kotlin", "android-architecture-components", "android-mvvm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1549497654, "post_id": 54563724, "comment_id": 95927653, "body": "Follow <a href=\"https://codelabs.developers.google.com/codelabs/build-app-with-arch-components/index.html?index=..%2F..index#0\" rel=\"nofollow noreferrer\">the tutorial</a>, and ignore RxJava until you need to execute asynchronous requests in such a way that you <b><i>need</i></b> the Rx operators to express what you want, instead of some MediatorLiveData ;)"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1549509978, "post_id": 54565070, "comment_id": 95930080, "body": "Consider <a href=\"https://overflow.buffer.com/2016/09/26/android-rethinking-package-structure/\" rel=\"nofollow noreferrer\">overflow.buffer.com/2016/09/26/&hellip;</a>"}], "tags": [], "owner": {"reputation": 494, "user_id": 9407751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gOZxSZGn-QU/AAAAAAAAAAI/AAAAAAAAAmk/vubEBvNQ87s/photo.jpg?sz=128", "display_name": "faskN", "link": "https://stackoverflow.com/users/9407751/faskn"}, "is_accepted": false, "score": 3, "last_activity_date": 1549503053, "creation_date": 1549503053, "answer_id": 54565070, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/54565070#54565070", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>As a jr. android developer, i was thinking like you but i choose a route like :</p>\n\n<ul>\n<li>Learn MVVM with ViewModel(AAC),LiveData,Observable pattern.</li>\n<li>Make your async and multi threading processes with Coroutines.</li>\n<li>Make your Dependency Injection with Koin.</li>\n</ul>\n\n<p>(If you want you can see how to mix them. Koin will be added soon. <a href=\"https://github.com/furkanaskin/CoinStalker\" rel=\"nofollow noreferrer\">https://github.com/furkanaskin/CoinStalker</a>)</p>\n\n<p>Future?</p>\n\n<p>Dagger 2, maybe Rxjava etc..</p>\n"}, {"comments": [{"owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "edited": false, "score": 0, "creation_date": 1549527337, "post_id": 54567417, "comment_id": 95935710, "body": "is it necessary to use all of them?"}, {"owner": {"reputation": 279, "user_id": 9147814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eae51767a97551259995e16553bec10?s=128&d=identicon&r=PG&f=1", "display_name": "Sushant Poman", "link": "https://stackoverflow.com/users/9147814/sushant-poman"}, "reply_to_user": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "edited": false, "score": 0, "creation_date": 1549533031, "post_id": 54567417, "comment_id": 95938722, "body": "it is not necessary, but for better code structuring and code maintenance this things are used. so that it is important to understand each thing separately."}], "tags": [], "owner": {"reputation": 279, "user_id": 9147814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eae51767a97551259995e16553bec10?s=128&d=identicon&r=PG&f=1", "display_name": "Sushant Poman", "link": "https://stackoverflow.com/users/9147814/sushant-poman"}, "is_accepted": true, "score": 9, "last_activity_date": 1549520453, "creation_date": 1549520453, "answer_id": 54567417, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/54567417#54567417", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>First you need to individually understand why to use Kotlin, MVVM, Dagger, RxJava, Retrofit.</p>\n\n<p><strong>MVVM and Kotlin:</strong></p>\n\n<p><a href=\"https://medium.com/@zhangqichuan/android-development-with-mvvm-and-kotlin-9598c3623ce1\" rel=\"noreferrer\">https://medium.com/@zhangqichuan/android-development-with-mvvm-and-kotlin-9598c3623ce1</a></p>\n\n<p><strong>RxJava and RxAndroid:</strong></p>\n\n<p>RxAndroid is an extension to RxJava(Used for handling threads and asynchronous tasks), for more details check following links:\n<a href=\"https://stackoverflow.com/questions/49651249/difference-between-rxjava-and-rxandroid\">Difference between RxJava and RxAndroid?</a>\n<a href=\"https://www.quora.com/What-is-the-difference-between-Retrofit-and-RxJava-RxAndroid\" rel=\"noreferrer\">https://www.quora.com/What-is-the-difference-between-Retrofit-and-RxJava-RxAndroid</a></p>\n\n<p><strong>Retrofit:</strong></p>\n\n<p><a href=\"https://medium.com/@elye.project/kotlin-and-retrofit-2-tutorial-with-working-codes-333a4422a890\" rel=\"noreferrer\">https://medium.com/@elye.project/kotlin-and-retrofit-2-tutorial-with-working-codes-333a4422a890</a></p>\n\n<p><strong>LiveData and room with kotlin:</strong></p>\n\n<p>Room is a database layer on top of an SQLite database which used to remove boilter plate while fetching data from local sqlite database, use following links:\n<a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/#0\" rel=\"noreferrer\">https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/#0</a></p>\n\n<p>After understanding this components(Kotlin, MVVM, Dagger, RxJava and RxAndroid, Retrofit, LiveData) individually then you need to do all this things in single project, use following link:</p>\n\n<p><a href=\"https://github.com/egek92/Kotlin-MVVM-LiveData-Room\" rel=\"noreferrer\">https://github.com/egek92/Kotlin-MVVM-LiveData-Room</a></p>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 5217859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aSgTh.jpg?s=128&g=1", "display_name": "abhi.nalavade", "link": "https://stackoverflow.com/users/5217859/abhi-nalavade"}, "is_accepted": false, "score": 2, "last_activity_date": 1549523721, "creation_date": 1549523721, "answer_id": 54568103, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/54568103#54568103", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>If you know the Core Android basics and has done at least 1 or 2 projects then you can jump to this, <a href=\"https://android.jlelse.eu/why-to-choose-mvvm-over-mvp-android-architecture-33c0f2de5516\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/why-to-choose-mvvm-over-mvp-android-architecture-33c0f2de5516</a></p>\n"}, {"tags": [], "owner": {"reputation": 533, "user_id": 7916924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-13LVspzkrhE/AAAAAAAAAAI/AAAAAAAAADA/jfhi1r0U784/photo.jpg?sz=128", "display_name": "FJCG", "link": "https://stackoverflow.com/users/7916924/fjcg"}, "is_accepted": false, "score": 2, "last_activity_date": 1564618526, "creation_date": 1564618526, "answer_id": 57300333, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/57300333#57300333", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>Maybe what you need is start from basics.\nThere are a couple of google official code labs about Android architecture.</p>\n\n<p>You can start looking at this code lab and then the others.</p>\n\n<p><a href=\"https://codelabs.developers.google.com/codelabs/kotlin-android-training-view-model\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/kotlin-android-training-view-model</a></p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 11824742, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-daxadWjbUZY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdclxw5zyajancMIGVuqAvJgvumbg/photo.jpg?sz=128", "display_name": "Prakash Shukla", "link": "https://stackoverflow.com/users/11824742/prakash-shukla"}, "is_accepted": false, "score": 1, "last_activity_date": 1575666263, "last_edit_date": 1575666263, "creation_date": 1571725943, "answer_id": 58498285, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/58498285#58498285", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>Simple Note App is written in Kotlin using MVVM architecture </p>\n\n<p><a href=\"https://github.com/prakashshuklahub/Simple-Notes-Kotlin-App\" rel=\"nofollow noreferrer\">https://github.com/prakashshuklahub/Simple-Notes-Kotlin-App</a></p>\n\n<p>Architecture Components used in the app are as follows</p>\n\n<ol>\n<li>LiveData</li>\n<li>Room: </li>\n<li>ViewModel: </li>\n<li>Repository:</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3111, "user_id": 3972291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Kgn8b.jpg?s=128&g=1", "display_name": "Enamul Haque", "link": "https://stackoverflow.com/users/3972291/enamul-haque"}, "is_accepted": false, "score": 1, "last_activity_date": 1582185687, "creation_date": 1582185687, "answer_id": 60315279, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin/60315279#60315279", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p><strong>You may check the GitHub Project using</strong></p>\n\n<ol>\n<li><strong>Kotlin</strong></li>\n<li><strong>MVVM</strong></li>\n<li><strong>Jetpack</strong></li>\n<li><strong>Retrofit2</strong></li>\n</ol>\n\n<p>Here is full source <strong>GitHUb Link</strong>:  <a href=\"https://github.com/enamul95/kotlin_MVVM_Jetpack\" rel=\"nofollow noreferrer\">https://github.com/enamul95/kotlin_MVVM_Jetpack</a></p>\n"}], "owner": {"reputation": 869, "user_id": 6623703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snmWE.jpg?s=128&g=1", "display_name": "houman.sanati", "link": "https://stackoverflow.com/users/6623703/houman-sanati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7460, "favorite_count": 6, "accepted_answer_id": 54567417, "answer_count": 6, "score": 14, "last_activity_date": 1582185687, "creation_date": 1549493142, "last_edit_date": 1592644375, "question_id": 54563724, "link": "https://stackoverflow.com/questions/54563724/learn-android-mvvm-architecture-components-with-kotlin", "title": "Learn Android MVVM architecture components with kotlin", "body": "<p>After searching about <strong>android architecture components</strong> I realized that <strong>MVVM</strong> is better than other architectures at some points so I started to learn MVVM and I'm using <strong>Kotlin language</strong> but the problem is when I search for tutorials to start learning I found many components like <strong>RxJava, RxAndroid, Dagger2, Room, Lifecycle and etc.</strong> but they don't say why they are using them and why they choose some specific components. i will show you some examples :</p>\n<blockquote>\n<p><strong>1- Android MVVM with Dagger2, Retrofit, RxJava</strong></p>\n<p><strong>2- Android MVVM with Dagger2, Retrofit, RxAndroid</strong></p>\n<p><strong>3- Android app with MVVM dagger2 RxJava Livedata and Room</strong></p>\n</blockquote>\n<p>My questions are :</p>\n<p><strong>1- How should I decide to choose some of these components and work with them?</strong></p>\n<p><strong>2- How should I know that I need to use some of them together(for example Livedata and RxJava)?</strong></p>\n<p>This is really confusing for me and I don't know how to start.</p>\n"}, {"tags": ["android", "android-activity", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549498751, "post_id": 54563921, "comment_id": 95927934, "body": "It WORKED mate. Thank you! But... why that does NOT happen on MOST DEVICES (only rooted ones so far) And happens only when switching back from second to first activity?  When I get back from second to first I am using a similar approach (keyboard on, tapping a button)."}, {"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549523030, "post_id": 54563921, "comment_id": 95933920, "body": "Actually I noticed that it does not do what I want. That just leaves the keyboard open \ud83d\ude14"}, {"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "reply_to_user": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549523689, "post_id": 54563921, "comment_id": 95934192, "body": "You&#39;re welcome! I think it is about activity creation time. First start and second start(go back) time of an activity may be different. Put your <code>startActivityForResult</code> at the end after <code>editText.setText()</code> and give it a try. Why only rooted... hard to guess"}, {"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "reply_to_user": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549524611, "post_id": 54563921, "comment_id": 95934551, "body": "&lt;activity android:windowSoftInputMode=&quot;stateHidden|adjustResize&quot;&gt; &lt;/activity&gt; so use this"}, {"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549526221, "post_id": 54563921, "comment_id": 95935239, "body": "That worked! Again, I&#39;m totally puzzled about why this only happens on some devices and emulators while on others do not. Is android programming always this random? Going to study deep what those options do."}, {"owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "edited": false, "score": 0, "creation_date": 1549526461, "post_id": 54563921, "comment_id": 95935341, "body": "sorry for the avalanche of comments but I&#39;m realizing how heterogeneous this is. adjustResize was actually enough on the rooted emulator. On my rooted physical phone the keyboard did not disappear. With both options it works as I want on both devices. I&#39;m totally puzzled."}], "tags": [], "owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "is_accepted": true, "score": 1, "last_activity_date": 1549494334, "creation_date": 1549494334, "answer_id": 54563921, "question_id": 54563562, "link": "https://stackoverflow.com/questions/54563562/android-screen-flickering-when-starting-an-activity/54563921#54563921", "title": "Android screen flickering when starting an Activity", "body": "<p>When you launch the second activity keyboard is still visible and it is moving the layout up until it closes.\nTry following in your activity manifest</p>\n\n<p><code>&lt;activity android:windowSoftInputMode=\"adjustResize\"&gt; &lt;/activity&gt;</code></p>\n\n<p>adjustResize will not move toolbar up but resize the window height so hopefully screen won't flicker. If it does't help launch the activity with a delay to let keyboard close completely.</p>\n"}], "owner": {"reputation": 2577, "user_id": 1439260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce089511d929d36007680b4a3b19ddc1?s=128&d=identicon&r=PG&f=1", "display_name": "Dakatine", "link": "https://stackoverflow.com/users/1439260/dakatine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 995, "favorite_count": 0, "accepted_answer_id": 54563921, "answer_count": 1, "score": 2, "last_activity_date": 1549494334, "creation_date": 1549492255, "last_edit_date": 1549494220, "question_id": 54563562, "link": "https://stackoverflow.com/questions/54563562/android-screen-flickering-when-starting-an-activity", "title": "Android screen flickering when starting an Activity", "body": "<p>I am starting an activity with <code>startActivityForResult()</code> and sending an extra to it, then closing the second activity and going back to the previous one sending data back. </p>\n\n<ul>\n<li>Only when launching the second activity (and not getting back to the first);</li>\n</ul>\n\n<p><strong>and</strong></p>\n\n<ul>\n<li>Only if the soft keyboard is open</li>\n</ul>\n\n<p><strong>and</strong></p>\n\n<ul>\n<li>Only on rooted devices or emulators,</li>\n</ul>\n\n<p>This odd behavior happens.</p>\n\n<p><img src=\"https://i.stack.imgur.com/PhcBF.gif\" width=\"300\" /></p>\n\n<p>I've tried the solutions posted here: <a href=\"https://stackoverflow.com/questions/28364106/blinking-screen-on-image-transition-between-activities\">Blinking screen on image transition between activities</a> and here: <a href=\"https://stackoverflow.com/questions/31272286/starting-activity-on-condition-produces-a-flicker-on-screen\">Starting Activity on condition produces a flicker on screen</a> with no success.</p>\n\n<p>Here's the (trivial) code.\nBtw this (of course) happens either in Java or Kotlin (provided); and it also happens if I call startActivity() instead of startActivityForResult()</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        btn_main.setOnClickListener { launchSecondActivity() }\n    }\n\n    private fun launchSecondActivity() {\n        Intent(this, SecondActivity::class.java).run {\n            putExtra(EXTRA_MESSAGE, editText_main.text.toString())\n            startActivityForResult(this, RETURN_MESSAGE_CODE) \n            Log.d(\"MainActivity\", \"Sending ${this.extras}\")\n            // clean the editText\n            editText_main.setText(\"\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "butterknife"], "answers": [{"comments": [{"owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 0, "creation_date": 1606393634, "post_id": 54563057, "comment_id": 114953866, "body": "Hi, sorry. I realised that other than accepting this question, I never said thank you for your answer. Sorry for being nearly two years late, and thanks very much."}, {"owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "reply_to_user": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "edited": false, "score": 1, "creation_date": 1606464417, "post_id": 54563057, "comment_id": 114974051, "body": "@FrancislainyCampos Not to mention, coder helping fellow coder. :)  Thanks for reminding me again how grateful our community is."}], "tags": [], "owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "is_accepted": true, "score": 5, "last_activity_date": 1549489757, "creation_date": 1549489757, "answer_id": 54563057, "question_id": 54562910, "link": "https://stackoverflow.com/questions/54562910/butterknife-on-kotlin-not-working-for-binding-colours-and-drawables-androidx/54563057#54563057", "title": "Butterknife On Kotlin Not Working For Binding Colours And Drawables AndroidX", "body": "<p>In Kotlin you specify the dependencies in a similar to Java way using Kotlin Annotation processing tool (kapt) instead of annotationProcessor.</p>\n\n<p><strong>So replace</strong> </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>annotationProcessor 'com.jakewharton:butterknife-compiler:10.0.0'\n</code></pre>\n\n<p><strong>with this</strong> </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>kapt 'com.jakewharton:butterknife-compiler:10.0.0'\n</code></pre>\n"}], "owner": {"reputation": 1693, "user_id": 6654475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-vGc62SM1OzI/AAAAAAAAAAI/AAAAAAAAPao/fNzdBMXdwwQ/photo.jpg?sz=128", "display_name": "Francislainy Campos", "link": "https://stackoverflow.com/users/6654475/francislainy-campos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1193, "favorite_count": 0, "accepted_answer_id": 54563057, "answer_count": 1, "score": 0, "last_activity_date": 1549489757, "creation_date": 1549489007, "last_edit_date": 1549489754, "question_id": 54562910, "link": "https://stackoverflow.com/questions/54562910/butterknife-on-kotlin-not-working-for-binding-colours-and-drawables-androidx", "title": "Butterknife On Kotlin Not Working For Binding Colours And Drawables AndroidX", "body": "<p>I still use Butterknife on my Kotlin project but for only binding colours and drawables as there's no need for that on binding views. However, after updating my project to AndroidX I can't get the library to work anymore.</p>\n\n<p>That's what I have </p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nkapt {\ngenerateStubs = true\n}\n\nimplementation 'com.jakewharton:butterknife:10.0.0'\nannotationProcessor 'com.jakewharton:butterknife-compiler:10.0.0'\nkapt 'androidx.databinding:databinding-compiler:3.5.0-alpha02'\nkapt 'com.android.tools.build.jetifier:jetifier-core:1.0.0-beta02'\n\next.kotlin_version = '1.3.0'\nclasspath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\nAS 3.3.1\n</code></pre>\n\n<p>And call them this way</p>\n\n<pre><code> @JvmField\n @BindColor(R.color.just_pink)\n var pink: Int = 0\n\n @JvmField\n @BindDrawable(R.drawable.rectangle_pink_btn_all_radius)\n var rectanglePinkAllRadius: Drawable? = null\n</code></pre>\n\n<p>Making sure I have <code>Butterknife.bind(this, view)</code> on my onCreate method.</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["java", "kotlin", "jvm", "jvm-hotspot", "jvm-crash"], "answers": [{"comments": [{"owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1549489349, "post_id": 54562959, "comment_id": 95924874, "body": "I don&#39;t know if I got it. Can I use the float primitive in Kotlin instead of the wrapper?"}, {"owner": {"reputation": 111, "user_id": 3034882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f5c5bdbd9fa6e8a1269f71f81c6a3e3?s=128&d=identicon&r=PG&f=1", "display_name": "Kiryl", "link": "https://stackoverflow.com/users/3034882/kiryl"}, "reply_to_user": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1549489452, "post_id": 54562959, "comment_id": 95924914, "body": "Yes you can. Take a closer look at code I posted."}, {"owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1549491077, "post_id": 54562959, "comment_id": 95925581, "body": "m1 returns a float primitive? If so, Kotlin will box it anyway no?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1549523585, "post_id": 54562959, "comment_id": 95934144, "body": "Not unless it has to (e.g. if you convert it to an <code>Any</code>, or store in an <code>Array&lt;Float&gt;</code> instead of a <code>FloatArray</code>, or use other generics of <code>&lt;Float&gt;</code> etc.)"}], "tags": [], "owner": {"reputation": 111, "user_id": 3034882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f5c5bdbd9fa6e8a1269f71f81c6a3e3?s=128&d=identicon&r=PG&f=1", "display_name": "Kiryl", "link": "https://stackoverflow.com/users/3034882/kiryl"}, "is_accepted": false, "score": 1, "last_activity_date": 1549489183, "creation_date": 1549489183, "answer_id": 54562959, "question_id": 54562831, "link": "https://stackoverflow.com/questions/54562831/in-kotlin-why-do-each-of-my-floats-occupy-128-bits-instead-of-16-bits/54562959#54562959", "title": "In Kotlin, why do each of my Floats occupy 128 bits instead of 16 bits?", "body": "<p>java.lang.Float is a wrapper type not primitive. It does take more memory.</p>\n\n<p>Here is kotlin code and its java equivalent:</p>\n\n<pre><code>    fun m1(f: Float) = f\n\n    fun m2(f: Float?) = f\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>   public final float m1(float f) {\n      return f;\n   }\n\n   @Nullable\n   public final Float m2(@Nullable Float f) {\n      return f;\n   }\n</code></pre>\n"}], "owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "closed_date": 1549490032, "answer_count": 1, "score": 1, "last_activity_date": 1549491168, "creation_date": 1549488677, "last_edit_date": 1549491168, "question_id": 54562831, "link": "https://stackoverflow.com/questions/54562831/in-kotlin-why-do-each-of-my-floats-occupy-128-bits-instead-of-16-bits", "closed_reason": "Duplicate", "title": "In Kotlin, why do each of my Floats occupy 128 bits instead of 16 bits?", "body": "<p>I am trying to reduce the amount of memory footprint a huge data table (array) occupies during execution.</p>\n\n<p>For that I am using JCMD to print the histogram.</p>\n\n<p>However I found something funny here:</p>\n\n<pre><code> num     #instances         #bytes  class name\n----------------------------------------------\n   1:      28409956      454559296  java.lang.Float\n   2:       3156662      227280584  [Ljava.lang.Integer;\n   3:       3156660      227279520  [Ljava.io.Serializable;\n   4:        526110       21044400  [[Ljava.io.Serializable;\n   5:        233936       17436808  [C\n   6:        241719        5801256  java.lang.String\n   7:         54517        3684696  [Ljava.util.HashMap$Node;\n   8:         93867        3003744  java.util.HashMap$Node\n   9:         74535        2981400  java.util.LinkedHashMap$Entry\n  10:         38269        2143064  java.util.LinkedHashMap\n  11:           190        2108240  [[[Ljava.io.Serializable;\n  12:         29416        1411968  java.util.HashMap\n  13:          5345        1400312  [B\n</code></pre>\n\n<p>You see that I have <strong>28409956</strong> instances of Float, and that the total RAM it takes is <strong>454559296</strong> bytes. If it divide the bytes / instances, I will get 16 bytes per Float...! This means each Float occupies 128bits!?</p>\n\n<p>What am I missing?</p>\n\n<p>How can I further reduce the memory these Floats (and the Integers -- I can't use Short) take?</p>\n\n<p><strong>Or better, how can I force Kotlin to use primitives (I only found out how to do it in arrays with IntArray, FloatArray, etc)?</strong></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1549814575, "last_edit_date": 1549814575, "creation_date": 1549490342, "answer_id": 54563201, "question_id": 54562713, "link": "https://stackoverflow.com/questions/54562713/how-to-delay-within-async-function-that-returns-deferredt/54563201#54563201", "title": "How to delay within async function that returns Deferred&lt;T&gt;", "body": "<p>You need to specify a scope:</p>\n\n<pre><code>fun doWorkAsync(msg: String) = GlobalScope.async {\n    log(\"$msg - Working\")\n    delay(500)\n    log(\"$msg - Work Done\")\n    return@async 42\n}\n</code></pre>\n\n<p>This way, inside your lambda, you will have a <code>CoroutineScope</code>.</p>\n\n<p>Note: Since you are using an expression body, you don't need to specify the return type <code>Deferred&lt;Int&gt;</code> explicitely. It can be inferred.</p>\n\n<hr>\n\n<p><strong>A more flexible solution using a suspended function</strong></p>\n\n<p>But there is an even better way. I mean in this context it is obvious that the function should be async. But what if you want a function that can be called asynchronous and sequentially?</p>\n\n<p>That's where suspending functions come into play. You define your function like this:</p>\n\n<pre><code>suspend fun doWork(): Int {\n    // ...\n    delay(500)\n    // ...\n    return 42\n}\n</code></pre>\n\n<p>An then you can decide at call-site how you want to use it:</p>\n\n<pre><code>val d: Deferred&lt;Int&gt; = GlobalScope.async { doWork() } // asnyc\nval i: Int = runBlocking { doWork() } // sequential\n</code></pre>\n"}], "owner": {"reputation": 5661, "user_id": 2541276, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/100001587714573/picture?type=large", "display_name": "Rajkumar Natarajan", "link": "https://stackoverflow.com/users/2541276/rajkumar-natarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 54563201, "answer_count": 1, "score": 1, "last_activity_date": 1549814645, "creation_date": 1549487997, "last_edit_date": 1549814645, "question_id": 54562713, "link": "https://stackoverflow.com/questions/54562713/how-to-delay-within-async-function-that-returns-deferredt", "title": "How to delay within async function that returns Deferred&lt;T&gt;", "body": "<p>I have below kotlin coroutine code. <code>doWorkAsync</code> is normal (non suspend) function and it returns <code>Deferred&lt;Int&gt;</code>.</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nfun main() = runBlocking {\n    val result = doWorkAsync(\"Hello \")\n}\n\nfun doWorkAsync(msg: String): Deferred&lt;Int&gt;  = async {\n    log(\"$msg - Working\")\n    delay(500)\n    log(\"$msg - Work Done\")\n    return@async 42\n}\n\nfun log(msg: String ) {\n    println(\"$msg in ${ Thread.currentThread().name }\")\n}\n</code></pre>\n\n<p>I don't know how to use <code>delay</code> within <code>doWorkAsync</code> function.</p>\n\n<p>I'm using kotlin coroutines version <code>kotlinx-coroutines-core:1.1.1</code>.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-jetpack"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1549484548, "post_id": 54561263, "comment_id": 95922814, "body": "What is <code>DataSource.Factory&lt;Int, Person&gt;</code>? is it the class from some library?"}, {"owner": {"reputation": 1854, "user_id": 3673151, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JTw7N.jpg?s=128&g=1", "display_name": "J_Strauton", "link": "https://stackoverflow.com/users/3673151/j-strauton"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549490106, "post_id": 54561263, "comment_id": 95925208, "body": "It is not a library, it is another area in the code. But <code>DataSource.Factory</code> is from Android <a href=\"https://developer.android.com/reference/android/arch/paging/DataSource.Factory\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/paging/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1549520978, "last_edit_date": 1549520978, "creation_date": 1549520418, "answer_id": 54567410, "question_id": 54561263, "link": "https://stackoverflow.com/questions/54561263/how-to-get-data-from-datasource-factory/54567410#54567410", "title": "How to get data from DataSource.Factory", "body": "<p>According to the <a href=\"https://developer.android.com/topic/libraries/architecture/paging/ui\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Typically, your UI code observes a LiveData object (or, if you're using RxJava2, a Flowable or Observable object), which resides in your app's ViewModel. This observable object forms a connection between the presentation and contents of your app's list data.</p>\n  \n  <p>In order to create one of these observable PagedList objects, pass in\n  an instance of DataSource.Factory to a LivePagedListBuilder or\n  RxPagedListBuilder object. A DataSource object loads pages for a\n  single PagedList. The factory class creates new instances of PagedList\n  in response to content updates, such as database table invalidations\n  and network refreshes. The Room persistence library can provide\n  DataSource.Factory objects for you, or you can build your own.</p>\n</blockquote>\n\n<p>The sample code is as following:</p>\n\n<pre><code>// The Int type argument corresponds to a PositionalDataSource object.\nval data: DataSource.Factory&lt;Int, Person&gt; = dao.getElements()\n\nval dataList: LiveData&lt;PagedList&lt;Person&gt;&gt; = LivePagedListBuilder(data, /* page size */ 20).build()\n</code></pre>\n\n<p>So you need to pass your <code>DataSource.Factory&lt;Int, Person&gt;</code> object to <code>LivePagedListBuilder</code> and at the end you will get <code>LiveData&lt;PagedList&lt;Person&gt;&gt;</code> which you can observe.</p>\n\n<hr>\n\n<p>After that you need to <a href=\"https://developer.android.com/topic/libraries/architecture/paging/ui\" rel=\"nofollow noreferrer\">connect</a> <code>LiveData</code> to a <code>PagedListAdapter</code> as shown in the following code snippet:</p>\n\n<pre><code>private val adapter = YourDataAdapter()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    dataList.observe(this, Observer { adapter.submitList(it) })\n}\n</code></pre>\n\n<p>The sample code of adapter you can find <a href=\"https://developer.android.com/topic/libraries/architecture/paging/ui\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 5387568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uh4e9.jpg?s=128&g=1", "display_name": "Jishin Dev", "link": "https://stackoverflow.com/users/5387568/jishin-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1556791701, "creation_date": 1556791701, "answer_id": 55950125, "question_id": 54561263, "link": "https://stackoverflow.com/questions/54561263/how-to-get-data-from-datasource-factory/55950125#55950125", "title": "How to get data from DataSource.Factory", "body": "<p>Adding to @Sergey 's answer, You can use <code>PagedList&lt;&gt;.snapshot()</code> to get as a regular list</p>\n\n<pre><code> // Get the DataSource from the database\n val dataSource: DataSource.Factory&lt;Int, Person&gt; = dao.getElements()\n\n // Get the dataSource as LiveData\n val data = dataSource.toLiveData(20 /* page size */)\n\n // In UI\n vm.data.observer(this, Observer{pagedList-&gt;\n  // To get the pagedList as a regular list -\n  val dataList = pagedList.snapshot()\n })\n</code></pre>\n\n<p><strong>Note</strong>: The <code>snapshot()</code> function only gives you the currently available items in your pagedList.</p>\n"}, {"tags": [], "owner": {"reputation": 1086, "user_id": 8065249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FwmfZ.jpg?s=128&g=1", "display_name": "Hamza Khan", "link": "https://stackoverflow.com/users/8065249/hamza-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1575151441, "creation_date": 1575151441, "answer_id": 59120675, "question_id": 54561263, "link": "https://stackoverflow.com/questions/54561263/how-to-get-data-from-datasource-factory/59120675#59120675", "title": "How to get data from DataSource.Factory", "body": "<p>We use Datasource when we want to do pagination using the android paging component.\nthere are so many ways to achieve it,</p>\n\n<p>First implement paging library</p>\n\n<pre><code>implementation \"android.arch.paging:runtime:2.1.0\"\n</code></pre>\n\n<p>Now the most simple method to convert data source into LiveData> is this </p>\n\n<pre><code>fun getElementsLiveData(): LiveData&lt;PagedList&lt;Person&gt;&gt; {\n\n        val data = mDao.getElements()\n        return LivePagedListBuilder(data, 10).build() // 10 is page size\n\n}\n</code></pre>\n\n<p>you can also pass configuration instead on page size</p>\n\n<pre><code>    fun getElementsLiveData(): LiveData&lt;PagedList&lt;Person&gt;&gt; {\n\n     val pagedListConfig = PagedList.Config.Builder()\n        .setEnablePlaceholders(true)\n        .setInitialLoadSizeHint(15)\n        .setPageSize(10)\n        .build()\n\n        val data = mDao.getElements()\n        return LivePagedListBuilder(data, pagedListConfig).build()\n\n}\n</code></pre>\n\n<p>Now create your pager adapter and view holder like this</p>\n\n<pre><code>    class ElementAdapter(\n    private val clickListener: ClickListener\n) : PagedListAdapter&lt;Person, ElementViewHolder&gt;(diffCallback) {\n\n    override fun onBindViewHolder(holder: ElementViewHolder, position: Int) {\n        val person = getItem(position)\n        with(holder) {\n             // bind your data here\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ElementViewHolder =\n        ElementViewHolder(parent)\n\n    companion object {\n        /**\n         * This diff callback informs the PagedListAdapter how to compute list differences when new\n         * PagedLists arrive.\n         */\n        private val diffCallback = object : DiffUtil.ItemCallback&lt;Person&gt;() {\n            override fun areItemsTheSame(oldItem: Person, newItem: Person): Boolean =\n                oldItem.id == newItem.id\n\n            override fun areContentsTheSame(oldItem: News, newItem: News): Boolean =\n                oldItem.title == newItem.title\n        }\n    }\n}\n</code></pre>\n\n<p>after that, in your activity or fragment you can simply observer the data change using viewmodel and submit your data to the adapter</p>\n\n<pre><code> viewModel.getElementsLiveData().observer(this, Observer{pagedList-&gt;\n  adaoter.submitList(pagedList)\n })\n</code></pre>\n"}], "owner": {"reputation": 1854, "user_id": 3673151, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/JTw7N.jpg?s=128&g=1", "display_name": "J_Strauton", "link": "https://stackoverflow.com/users/3673151/j-strauton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5035, "favorite_count": 1, "accepted_answer_id": 54567410, "answer_count": 3, "score": 1, "last_activity_date": 1575151441, "creation_date": 1549481692, "last_edit_date": 1549526953, "question_id": 54561263, "link": "https://stackoverflow.com/questions/54561263/how-to-get-data-from-datasource-factory", "title": "How to get data from DataSource.Factory", "body": "<p>I have to call this method to get all the persons. I cannot modify this method at all. </p>\n\n<pre><code>@Query(\"SELECT * FROM PERSON_TABLE ORDER BY NAME DESC\"\nabstract fun getElements(): DataSource.Factory&lt;Int, Person&gt;\n</code></pre>\n\n<p>Then in an <code>Activity</code> I am calling it like this:</p>\n\n<pre><code>override fun onCreate(...)\n{\n    ...\n\n    val data = dao.getElements()\n}\n</code></pre>\n\n<p>I want to get all the <code>Person</code>s, possibly as a list. How do I do this?</p>\n\n<p>I don't understand how <code>DataSource.Factory&lt;Int, Person&gt;</code> works.</p>\n"}, {"tags": ["android", "kotlin", "aar"], "answers": [{"tags": [], "owner": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "is_accepted": false, "score": 0, "last_activity_date": 1549645534, "creation_date": 1549645534, "answer_id": 54597185, "question_id": 54560618, "link": "https://stackoverflow.com/questions/54560618/android-plugin-cannot-reference-aars-resources/54597185#54597185", "title": "Android plugin - Cannot reference AAR&#39;s resources", "body": "<p>Answering this question as it seems it is not related to AAR. It looks like the third party apps fault, because this approach seems to be working anywhere else.</p>\n"}], "owner": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549645534, "creation_date": 1549479041, "last_edit_date": 1549492919, "question_id": 54560618, "link": "https://stackoverflow.com/questions/54560618/android-plugin-cannot-reference-aars-resources", "title": "Android plugin - Cannot reference AAR&#39;s resources", "body": "<p><strong>EDIT:</strong></p>\n\n<p>After further exploring the question actually is: How to include a AAR file in a plugin for an app?</p>\n\n<p>I am writing a plugin, then the plugin is loaded by another app. In this case I cannot find the resources. But I can access all classes. \nIf I turn my plugin into a standalone app. I can access even resources.</p>\n\n<p>How to make the aar work if included in the plugin and loaded in another app?</p>\n\n<hr>\n\n<p>So I know there is a million questions like this, however nothing seems to work, so maybe I am missing something.</p>\n\n<ol>\n<li>I created a simple android library - File -> New -> New module -> Android library</li>\n<li><p>I added the library into my project</p>\n\n<pre><code>flatDir{ dirs \"./aar\" } // project gradle\nimplementation (name: \"the_library_name\", ext: \"aar\") // module gradle\n</code></pre></li>\n<li><p>I can access any Kotlin class from the library</p></li>\n<li><p>I cannot access any resource neither from aar itself or the project referencing the aar</p></li>\n</ol>\n\n<p>In my project: <strong>Resouces$NotFoundException: String resource ID...</strong> </p>\n\n<pre><code>context.getString(R.string.some_string)\n// R -&gt; com.my_project.test.R\n</code></pre>\n\n<p>In my library code: <strong>Resouces$NotFoundException: Resource ID  type #0x5 is not valid</strong></p>\n\n<pre><code>inflater.inflate(R.layout.some_layout,....)\n// R -&gt; com.my_library.name.R\n</code></pre>\n\n<p>In both cases the code fails when trying to reference AAR's resource. But this works:</p>\n\n<pre><code>com.my_library.name.LibraryClass()\n</code></pre>\n\n<p>Did a generate the AAR wrong? Is there a special step to take to allow the access to resources? Am I including it wrong in my app?</p>\n\n<p>NOTE: The library is written in kotlin, the app is a combination of kotlin and Java. I am accessing the resources from kotlin classes. Not sure if that matters or not.</p>\n\n<p>NOTE2: I first started my library in the app project - meaning I could see the libraries code in a module and change the code. That wasn't working either. Same problem with resources.</p>\n\n<p>NOTE3: The application does not have any default activity. It is a plugin for another app. I think that has something to do with the fact it is not working. I tried some \"sample\" projects, and it is working fine there.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1549499580, "post_id": 54559283, "comment_id": 95928113, "body": "Why don&#39;t you just create a wrapper object and bundle everything inside it?"}], "answers": [{"comments": [{"owner": {"reputation": 960, "user_id": 2056488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FyCYt.jpg?s=128&g=1", "display_name": "RScottCarson", "link": "https://stackoverflow.com/users/2056488/rscottcarson"}, "edited": false, "score": 0, "creation_date": 1549485098, "post_id": 54559489, "comment_id": 95923056, "body": "To me this seems to still be along the lines of &quot;reaching outside the chain&quot;"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1549561108, "post_id": 54559489, "comment_id": 95955652, "body": "Change you definition of &quot;outside&quot;. Perhaps you can wrap the observer chain and the atomic reference into a class for which this is its sole responsibility."}], "tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": false, "score": 1, "last_activity_date": 1549474609, "creation_date": 1549474609, "answer_id": 54559489, "question_id": 54559283, "link": "https://stackoverflow.com/questions/54559283/rxjava2-and-android-complex-observable-chaining/54559489#54559489", "title": "RxJava2 and Android complex observable chaining", "body": "<p>You can keep your state as some <code>AtomicReference&lt;State&gt;</code> and use <code>repeatUntil</code> operator.</p>\n\n<pre><code> AtomicReference&lt;State&gt; state = new AtomicReference&lt;&gt;();\n Completable operation = Completable.create() // do something and modify state\n        .repeatUntil(() -&gt; state.get() == SATISFYING_CONDITION);\n</code></pre>\n\n<p>You can easily chain these Completables with <code>andThen</code></p>\n"}], "owner": {"reputation": 960, "user_id": 2056488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FyCYt.jpg?s=128&g=1", "display_name": "RScottCarson", "link": "https://stackoverflow.com/users/2056488/rscottcarson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549474609, "creation_date": 1549473925, "question_id": 54559283, "link": "https://stackoverflow.com/questions/54559283/rxjava2-and-android-complex-observable-chaining", "title": "RxJava2 and Android complex observable chaining", "body": "<p>I have been working with Rx Java 2 for awhile but recently came across a situation that has stumped me. I have a semi-complex chain of operations and wish to pass a \"state object\" down the chain. </p>\n\n<p><a href=\"https://i.stack.imgur.com/UFi0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UFi0P.png\" alt=\"Basic flow for rx operations\"></a></p>\n\n<p>There are 4 operations during which I wish to repeat operations 2 and 3 (serialy, not together) until certain conditions are true. I know i can solve this by chaining each operation using andThen(), but this limits my ability to pass a state object down the chain without reaching outside of the chain. </p>\n\n<p>The reason I need to have a state object is because I need to save an initial value during the first operation and compare it to a value recieved during operation 4 to determine if the overall procedure was successful.</p>\n\n<p>Any clues as to what RxJava2 operators can help me achieve the proper repeat conditions for operation 2 and 3? I would prefer to not nest observables if possible.</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 2, "creation_date": 1549472703, "post_id": 54558711, "comment_id": 95917365, "body": "<code>DataBindingUtil.setContentView</code> is only for use within an Activity and is the wrong approach when using a Fragment."}, {"owner": {"reputation": 137, "user_id": 4040373, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bb41VBHBCm0/AAAAAAAAAAI/AAAAAAAABs4/wc9mnj_N8A0/photo.jpg?sz=128", "display_name": "spentag", "link": "https://stackoverflow.com/users/4040373/spentag"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1549479849, "post_id": 54558711, "comment_id": 95920764, "body": "Excellent, thank you very much. I didn&#39;t see that previous question in my searching before asking."}], "owner": {"reputation": 137, "user_id": 4040373, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bb41VBHBCm0/AAAAAAAAAAI/AAAAAAAABs4/wc9mnj_N8A0/photo.jpg?sz=128", "display_name": "spentag", "link": "https://stackoverflow.com/users/4040373/spentag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "closed_date": 1549472675, "answer_count": 0, "score": 1, "last_activity_date": 1549471948, "creation_date": 1549471948, "question_id": 54558711, "link": "https://stackoverflow.com/questions/54558711/navigation-component-action-wont-hide-the-original-fragment-before-showing-the", "closed_reason": "Duplicate", "title": "Navigation Component action won&#39;t hide the original fragment before showing the destination fragment", "body": "<p>I have a new android application using the new Android Jetpack Navigation Component. It's a single activity, <code>MainActivity.kt</code> which contains the navigation host fragment. The start point for the graph is <code>loginFragment</code> and has an action <code>action_log_in</code> which navigates to the <code>homeFragment</code>. Here's the basic structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Uf3Ve.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uf3Ve.png\" alt=\"Navigation Graph Example\"></a></p>\n\n<p>Backed by this xml:\n</p>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/nav_graph\"\napp:startDestination=\"@id/loginFragment\"&gt;\n&lt;fragment\n    android:id=\"@+id/loginFragment\"\n    android:name=\"io.foobar.backtobasics.ui.pages.login.LoginFragment\"\n    android:label=\"LoginFragment\" &gt;\n    &lt;action\n        android:id=\"@+id/action_log_in\"\n        app:destination=\"@id/homeFragment\"\n        app:enterAnim=\"@anim/nav_default_enter_anim\"\n        app:exitAnim=\"@anim/nav_default_exit_anim\"\n        app:launchSingleTop=\"false\"\n        app:popEnterAnim=\"@anim/nav_default_pop_enter_anim\"\n        app:popExitAnim=\"@anim/nav_default_pop_exit_anim\"\n        app:popUpTo=\"@+id/homeFragment\"\n        app:popUpToInclusive=\"true\" /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=\"@+id/homeFragment\"\n    android:name=\"io.foobar.backtobasics.ui.pages.home.HomeFragment\"\n    android:label=\"fragment_home\"\n    tools:layout=\"@layout/fragment_home\" /&gt;\n&lt;/navigation&gt;\n</code></pre>\n\n<p>After hitting the login button with 'valid' credentials, the user should be navigated to the home screen. When <code>findNavController().navigate(R.id.action_log_in)</code> is called, nothing happens. The login screen is still visible. I dropped some breakpoints and found that the <code>HomeFragment</code> is created, but it doesn't display. The login fragment remains visible. When I  I have tried variations on the navigate call, but nothing seems to work. Anybody seen behavior like this before?</p>\n\n<p>Here's the Kotlin/Layout for the main activity and the two fragments.</p>\n\n<p><strong>MainActivity.kt</strong>\n</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val navController = findNavController(R.id.nav_host_fragment)\n        findViewById&lt;BottomNavigationView&gt;(R.id.navigation).setupWithNavController(navController)\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong>\n</p>\n\n<pre><code>&lt;layout&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.pages.home.MainActivity\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/nav_host_fragment\"\n        android:name=\"androidx.navigation.fragment.NavHostFragment\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:defaultNavHost=\"true\"\n        app:navGraph=\"@navigation/nav_graph\" /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/navigation\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"0dp\"\n        android:layout_marginStart=\"0dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/navigation\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>LoginFragment.kt</strong>\n</p>\n\n<pre><code>class LoginFragment: Fragment() {\n\n    private lateinit var vm: LoginViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setupBindings(savedInstanceState)\n    }\n\n    private fun setupBindings(savedInstanceState: Bundle?) {\n        val binding: ActivityLoginBinding = DataBindingUtil.setContentView(requireActivity(), R.layout.activity_login)\n        vm = ViewModelProviders.of(this@LoginFragment).get(LoginViewModel::class.java)\n        if (savedInstanceState == null) vm = LoginViewModel(requireActivity().application)\n        binding.vm = vm\n        binding.executePendingBindings()\n        setUpLoginButton()\n    }\n\n\n    private fun setUpLoginButton() {\n        vm.getLoginClick().observe(this, Observer&lt;LoginFields&gt;{\n            fields: LoginFields -&gt;\n            this.findNavController().navigate(R.id.homeFragment)\n        })\n    }\n}\n</code></pre>\n\n<p><strong>fragment_login.xml</strong>\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;layout&gt;\n    &lt;data&gt;\n        &lt;variable\n            name=\"vm\"\n            type=\"io.foobar.backtobasics.ui.pages.login.LoginViewModel\"/&gt;\n    &lt;/data&gt;\n    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center_horizontal\"\n        android:orientation=\"vertical\"&gt;\n        &lt;TextView\n            android:id=\"@+id/title_label\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"20dp\"\n            android:gravity=\"top|center_horizontal\"\n            android:text=\"@string/label_title\"\n            android:textColor=\"@color/colorPrimary\"\n            android:textSize=\"60sp\" /&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginEnd=\"20dp\"\n            android:layout_marginBottom=\"5dp\"\n            android:hint=\"@string/hint_username\"&gt;\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=\"@+id/username\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:inputType=\"textEmailAddress\"\n                android:text=\"@={vm.login.email}\"\n                app:error=\"@{vm.login.emailError}\"\n                app:onfocus=\"@{vm.getEmailOnFocusChangeListener()}\" /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.textfield.TextInputLayout\n            style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"20dp\"\n            android:layout_marginTop=\"5dp\"\n            android:layout_marginEnd=\"20dp\"\n            android:layout_marginBottom=\"10dp\"\n            android:hint=\"@string/hint_password\"&gt;\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=\"@+id/password\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:inputType=\"textPassword\"\n                android:text=\"@={vm.login.password}\"\n                app:error=\"@{vm.login.passwordError}\"\n                app:onfocus=\"@{vm.getPasswordOnFocusChangeListener()}\" /&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=\"@+id/button\"\n            style=\"@style/Widget.MaterialComponents.Button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:enabled=\"@{vm.login.valid}\"\n            android:onClick=\"@{() -&gt; vm.onLoginClicked()}\"\n            android:text=\"@string/button_login\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>HomeFragment.kt</strong>\n</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_home, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n    }\n}\n</code></pre>\n\n<p><strong>fragment_home.xml</strong>\n</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.pages.home.HomeFragment\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:text=\"@string/title_home\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "build", "build.gradle"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9291588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d670a628850a65584593507efcac6471?s=128&d=identicon&r=PG&f=1", "display_name": "Gerardo Flores", "link": "https://stackoverflow.com/users/9291588/gerardo-flores"}, "edited": false, "score": 0, "creation_date": 1549481114, "post_id": 54560199, "comment_id": 95921335, "body": "Thank you very much, but how would you configure it because I&#39;m putting in my build.gradle :   release {             shrinkResources true             minifyEnabled true             proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;         } }"}, {"owner": {"reputation": 789, "user_id": 3814777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e12550ee31b0a6f321b50eda3cf302?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Ta", "link": "https://stackoverflow.com/users/3814777/dung-ta"}, "reply_to_user": {"reputation": 3, "user_id": 9291588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d670a628850a65584593507efcac6471?s=128&d=identicon&r=PG&f=1", "display_name": "Gerardo Flores", "link": "https://stackoverflow.com/users/9291588/gerardo-flores"}, "edited": false, "score": 0, "creation_date": 1549481995, "post_id": 54560199, "comment_id": 95921730, "body": "It really is up to you to configure it since I don&#39;t know exactly what you&#39;re trying to achieve in each build variant. The question you should ask yourself is, how do you want your libraries to behave in each differing variant? What&#39;s the difference between <code>debug</code> vs <code>release</code>"}], "tags": [], "owner": {"reputation": 789, "user_id": 3814777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e12550ee31b0a6f321b50eda3cf302?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Ta", "link": "https://stackoverflow.com/users/3814777/dung-ta"}, "is_accepted": true, "score": 0, "last_activity_date": 1549477464, "creation_date": 1549477464, "answer_id": 54560199, "question_id": 54558263, "link": "https://stackoverflow.com/questions/54558263/when-i-sign-an-apk-in-the-flavor-release-the-external-libraries-are-not-generat/54560199#54560199", "title": "When I sign an APK in the flavor release, the external libraries are not generated in the flavor release remain in Debug?", "body": "<p>For those 4 libraries, you should define a <code>release</code> build type in each of their build.gradle files. That will let you change their variants.</p>\n"}], "owner": {"reputation": 3, "user_id": 9291588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d670a628850a65584593507efcac6471?s=128&d=identicon&r=PG&f=1", "display_name": "Gerardo Flores", "link": "https://stackoverflow.com/users/9291588/gerardo-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 54560199, "answer_count": 1, "score": 0, "last_activity_date": 1549477464, "creation_date": 1549470468, "question_id": 54558263, "link": "https://stackoverflow.com/questions/54558263/when-i-sign-an-apk-in-the-flavor-release-the-external-libraries-are-not-generat", "title": "When I sign an APK in the flavor release, the external libraries are not generated in the flavor release remain in Debug?", "body": "<p>The application is in the flavor release, but I have 4 libraries (modules) that when I get to generate the application those libraries are in Debug. What I want to know is how can I do so that my libraries are put in Release?</p>\n\n<p><a href=\"https://i.stack.imgur.com/3El0O.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["php", "kotlin", "wsse", "orocrm"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 2804215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c9a308001bd5c0eb20ed71db2d9336?s=128&d=identicon&r=PG&f=1", "display_name": "SkaiBoa", "link": "https://stackoverflow.com/users/2804215/skaiboa"}, "edited": false, "score": 0, "creation_date": 1549542785, "post_id": 54560039, "comment_id": 95944548, "body": "Thank you very much for your time. It seems it goes a good step ahead. With lower case in your HEX_CHARS string, I got the same result as I call the PHP-sha1 function with the last parameter as false. But unfortunatly I have to use it with true. So now I have convert the convertedString into a raw format."}, {"owner": {"reputation": 53, "user_id": 2804215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c9a308001bd5c0eb20ed71db2d9336?s=128&d=identicon&r=PG&f=1", "display_name": "SkaiBoa", "link": "https://stackoverflow.com/users/2804215/skaiboa"}, "edited": false, "score": 0, "creation_date": 1549545989, "post_id": 54560039, "comment_id": 95946533, "body": "In the end I only need the same functionality in Kotlin as the hex2bin function in php and then it should work."}, {"owner": {"reputation": 53, "user_id": 2804215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c9a308001bd5c0eb20ed71db2d9336?s=128&d=identicon&r=PG&f=1", "display_name": "SkaiBoa", "link": "https://stackoverflow.com/users/2804215/skaiboa"}, "edited": false, "score": 0, "creation_date": 1549561314, "post_id": 54560039, "comment_id": 95955749, "body": "Thank you very much for your help. I updated my Post with the complete solution, that is working for me. I accept this answer, because it shows me the right way to solve my problem."}], "tags": [], "owner": {"reputation": 60, "user_id": 3750961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46fba5dc788eb2f150d431227932e8?s=128&d=identicon&r=PG", "display_name": "Michael Bessolov", "link": "https://stackoverflow.com/users/3750961/michael-bessolov"}, "is_accepted": true, "score": 1, "last_activity_date": 1549476791, "creation_date": 1549476791, "answer_id": 54560039, "question_id": 54556789, "link": "https://stackoverflow.com/questions/54556789/access-to-oro-platform-api-with-koltin-fails-while-generating-wsse-header/54560039#54560039", "title": "Access to ORO-Platform API with Koltin fails while generating WSSE-Header", "body": "<p>I'm not familiar with Kotlin at all, but <code>convertedString += \"Cn\".format(byte)</code> looks suspicious in today's world of multi-byte encodings. Would the following piece (inspired by <a href=\"https://www.samclarke.com/kotlin-hash-strings/\" rel=\"nofollow noreferrer\">https://www.samclarke.com/kotlin-hash-strings/</a>) produce a different result?</p>\n\n<pre><code>val HEX_CHARS = \"0123456789ABCDEF\"\nval convertedString = StringBuilder(digest.size * 2)\n\ndigest.forEach {\n    val i = it.toInt()\n    convertedString.append(HEX_CHARS[i shr 4 and 0x0f])\n    convertedString.append(HEX_CHARS[i and 0x0f])\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2804215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c9a308001bd5c0eb20ed71db2d9336?s=128&d=identicon&r=PG&f=1", "display_name": "SkaiBoa", "link": "https://stackoverflow.com/users/2804215/skaiboa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54560039, "answer_count": 1, "score": 0, "last_activity_date": 1549561192, "creation_date": 1549465989, "last_edit_date": 1549561192, "question_id": 54556789, "link": "https://stackoverflow.com/questions/54556789/access-to-oro-platform-api-with-koltin-fails-while-generating-wsse-header", "title": "Access to ORO-Platform API with Koltin fails while generating WSSE-Header", "body": "<p>Given to this PHP-file for generating the WSSE-Header to access the ORO-Platform API (<a href=\"https://oroinc.com/oroplatform/\" rel=\"nofollow noreferrer\">https://oroinc.com/oroplatform/</a>). Official documentation for building the WSSE-Header: <a href=\"https://oroinc.com/orocrm/doc/2.3/dev-guide/cookbook/how-to-use-wsse-authentication#how-to-use-wsse-authentication\" rel=\"nofollow noreferrer\">https://oroinc.com/orocrm/doc/2.3/dev-guide/cookbook/how-to-use-wsse-authentication#how-to-use-wsse-authentication</a></p>\n\n<pre><code>&lt;?php\n\n$userName = 'admin';\n$userApiKey = 'dfeeb001cc4b947d8790c906d196d78a41915749';\n\n$nonce = base64_encode(substr(md5(uniqid()), 0, 16));\n$created  = date('c');\n\n// Just for test for StakeOverFlow\ncreated = \"2019-02-05T14:45:43+01:00\"\nnonce = \"REBxdWVYkSrAADwORS+H5w==\"\n\n$digest   = base64_encode(sha1(base64_decode($nonce) . $created . $userApiKey, true));\n\n$wsseHeader = \"Authorization: WSSE profile=\\\"UsernameToken\\\"\\n\";\n$wsseHeader.= sprintf(\n    'X-WSSE: UsernameToken Username=\"%s\", PasswordDigest=\"%s\", Nonce=\"%s\", Created=\"%s\"',\n    $userName,\n    $digest,\n    $nonce,\n    $created\n);\n\necho $wsseHeader;\n</code></pre>\n\n<p>I need the same logic in Kotlin for an Android App.</p>\n\n<p>Here are so far my Code</p>\n\n<pre><code>package de.warehouse.prozessio.appwarehouse.manager\n\nimport android.util.Base64\nimport java.util.*\nimport android.util.Log\nimport java.security.MessageDigest\nimport java.text.SimpleDateFormat\n\nclass OroAPIManager {\n    fun getHeader() {\n        val md = MessageDigest.getInstance(\"SHA-1\")\n\n        val user = \"admin\"\n        val key = \"dfeeb001cc4b947d8790c906d196d78a41915749\"\n        var nonce = String(Base64.encode(md.digest(UUID.randomUUID().toString().toByteArray()), 0, 16,0)).dropLast(1)\n        var created = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\", Locale.GERMAN).format(Date())\n        created = created.replaceRange(created.length - 2, created.length - 1, \":0\")\n        // Just for test for StackOverFlow\n        created = \"2019-02-06T15:37:11+01:00\"\n        nonce = \"NjA3Yzc4ZjEwY2ZjNTY4NA==\"\n\n        val digest = Base64.encode((convertToSha1String(String(Base64.decode(nonce.toByteArray(), Base64.DEFAULT)) + created + key)).toByteArray(), Base64.DEFAULT)\n        var wsseHeader = \"Authorization: WSSE profile=\\\"UsernameToken\\\"\\n\";\n        wsseHeader += \"X-WSSE: UsernameToken Username=\\\"$user\\\", \"\n        wsseHeader += \"PasswordDigest=\\\"${String(digest).dropLast(1)}\\\", \"\n        wsseHeader += \"Nonce=\\\"$nonce\\\", \"\n        wsseHeader += \"Created=\\\"$created\\\"\"\n\n        Log.i(\"data\", wsseHeader)\n    }\n\n    private fun convertToSha1String(raw: String): String {\n        var convertedString = \"\";\n        val bytes = raw.toByteArray()\n        val md = MessageDigest.getInstance(\"SHA-1\")\n        val digest = md.digest(bytes)\n        for (byte in digest) convertedString += \"Cn\".format(byte)\n//        for (byte in digest) convertedString += byte.toChar()\n//        for (byte in digest) convertedString += byte.toString()\n        Log.i(\"data\", \"Converted String: $convertedString\")\n\n        return convertedString\n    }\n}\n</code></pre>\n\n<p>The result for the PHP script are:</p>\n\n<pre><code>X-WSSE: UsernameToken Username=\"admin\", PasswordDigest=\"fukhjBVWYl0i08iPaLBeXTJkT4U=\", Nonce=\"NjA3Yzc4ZjEwY2ZjNTY4NA==\", Created=\"2019-02-06T15:37:11+01:00\"\n</code></pre>\n\n<p>And this is correct I have access to Oro.</p>\n\n<p>The result for Kotlin is:</p>\n\n<pre><code>X-WSSE: UsernameToken Username=\"admin\", PasswordDigest=\"Q25DbkNuQ25DbkNuQ25DbkNuQ25DbkNuQ25DbkNuQ25DbkNuQ25Dbg==\", Nonce=\"NjA3Yzc4ZjEwY2ZjNTY4NA==\", Created=\"2019-02-06T15:37:11+01:00\"\n</code></pre>\n\n<p>Which is incorrect. The problem I guess is the raw-Flag for PHP-sha1 function. As I try several things to convert the Bytearray to a raw string but without any success.</p>\n\n<p>Here are the thread in the Oro-Forum: <a href=\"https://forum.oroinc.com/oro-platform/how-do-i-questions/topic/generate-api-wss-header-for-kotlin#post-37936\" rel=\"nofollow noreferrer\">https://forum.oroinc.com/oro-platform/how-do-i-questions/topic/generate-api-wss-header-for-kotlin#post-37936</a>. They are very friendly there, but could not give help this time.</p>\n\n<p>Got anyone a clue, how to bring the two different results together ?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Thanks to @Michael Bessolov for pointing me into the right direction. Here are the complete solution to grant access from Android the the ORO-API:</p>\n\n<pre><code>import android.content.Context\nimport android.preference.PreferenceManager\nimport android.util.Base64\nimport java.util.*\nimport java.nio.charset.Charset\nimport java.security.MessageDigest\nimport java.text.SimpleDateFormat\n\nclass OroAPIManager constructor(val context: Context) {\n    fun getHeader(): String {\n        val prefs = PreferenceManager.getDefaultSharedPreferences(this.context)\n        val user = prefs.getString(\"oro_user\", \"&lt;unset&gt;\")\n        val key = prefs.getString(\"oro_api_key\", \"&lt;unset&gt;\")\n\n        val uid = UUID.randomUUID().toString();\n        val nonce = String(Base64.encode(convertToDigestString(uid, \"MD5\").toByteArray(), 0, 16,0)).dropLast(1)\n        var created = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\", Locale.GERMANY).format(Date())\n        created = created.replaceRange(created.length - 2, created.length - 1, \":0\")\n\n        val nonceBase64 = String(Base64.decode(nonce.toByteArray(), Base64.DEFAULT))\n        val sha1 = hexToBin(convertToDigestString(nonceBase64  + created + key, \"SHA-1\"))\n        val digest = Base64.encode(sha1.toByteArray(Charset.forName(\"ISO-8859-1\")), Base64.DEFAULT)\n\n        var wsseHeader = \"Authorization: WSSE profile=\\\"UsernameToken\\\"\\n\";\n        wsseHeader += \"X-WSSE: UsernameToken Username=\\\"$user\\\", \"\n        wsseHeader += \"PasswordDigest=\\\"${String(digest).dropLast(1)}\\\", \"\n        wsseHeader += \"Nonce=\\\"$nonce\\\", \"\n        wsseHeader += \"Created=\\\"$created\\\"\"\n\n        return wsseHeader;\n    }\n\n    private fun convertToDigestString(raw: String, digestName: String): String {\n        val bytes = raw.toByteArray()\n        val md = MessageDigest.getInstance(digestName)\n        val digest = md.digest(bytes)\n\n        val hexChars = \"0123456789abcdef\"\n        val convertedString = StringBuilder(digest.size * 2)\n\n        digest.forEach {\n            val i = it.toInt()\n            convertedString.append(hexChars[i shr 4 and 0x0f])\n            convertedString.append(hexChars[i and 0x0f])\n        }\n\n        return convertedString.toString()\n    }\n\n    private fun hexToBin(hexStr: String): String {\n        val output = StringBuilder(\"\")\n        var i = 0\n        while (i &lt; hexStr.length) {\n            val str = hexStr.substring(i, i + 2)\n            output.append(Integer.parseInt(str, 16).toChar())\n            i += 2\n        }\n\n        return output.toString()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-lifecycle", "fragment-lifecycle"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1549550169, "post_id": 54555764, "comment_id": 95948980, "body": "&quot;GradleException: Compilation error. See log for more details&quot; have you found anything of interest in the log?"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1549550735, "post_id": 54555764, "comment_id": 95949340, "body": "Nothing at all."}], "answers": [{"comments": [{"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 0, "creation_date": 1551772574, "post_id": 54997487, "comment_id": 96751744, "body": "Why should one try that, and how? Please add some explanation to your answer such that others can learn from it"}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1551776209, "post_id": 54997487, "comment_id": 96753439, "body": "I tried to use <code>kapt</code> instead of <code>annotationProcessor</code> and project didn&#39;t build at all, there was an error during sync"}, {"owner": {"reputation": 87, "user_id": 10623447, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6lG25kgh7HU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBd9Q7JyTHu0ouZZcAREi8IdtWLAA/mo/photo.jpg?sz=128", "display_name": "Asura", "link": "https://stackoverflow.com/users/10623447/asura"}, "edited": false, "score": 0, "creation_date": 1591194668, "post_id": 54997487, "comment_id": 109963746, "body": "it&#39;s really help to me"}, {"owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "edited": false, "score": 0, "creation_date": 1610653472, "post_id": 54997487, "comment_id": 116207947, "body": "I tried both <code>annotationProcessor</code> and <code>kapt</code> and both at the same time since the project is a mix of Java and Kotlin, and this doesn&#39;t address the issue"}], "tags": [], "owner": {"reputation": 161, "user_id": 2431538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ac6883d2347c1c0fc173bdc1f959bf?s=128&d=identicon&r=PG", "display_name": "miha_dev", "link": "https://stackoverflow.com/users/2431538/miha-dev"}, "is_accepted": false, "score": 6, "last_activity_date": 1551770876, "creation_date": 1551770876, "answer_id": 54997487, "question_id": 54555764, "link": "https://stackoverflow.com/questions/54555764/lifecycleobserver-produce-exception-with-methods-that-use-newer-apis/54997487#54997487", "title": "LifecycleObserver produce exception with methods that use newer APIs", "body": "<p>Try to use <code>kapt \"androidx.lifecycle:lifecycle-compiler:2.0.0\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 0, "creation_date": 1565689237, "post_id": 57474932, "comment_id": 101421963, "body": "As I&#39;ve written - it was caused by <code>AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)</code> and it recommends higher API. Finally I&#39;ve decided to delete <code>audioFocusRequest</code> field and to use old deprecated methods for handling audiofocus changes. But I still don&#39;t know what exactly cased this error and how it can be handled"}], "tags": [], "owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "is_accepted": false, "score": 0, "last_activity_date": 1565688811, "creation_date": 1565688811, "answer_id": 57474932, "question_id": 54555764, "link": "https://stackoverflow.com/questions/54555764/lifecycleobserver-produce-exception-with-methods-that-use-newer-apis/57474932#57474932", "title": "LifecycleObserver produce exception with methods that use newer APIs", "body": "<p>The class which implements <code>LifecycleObserver</code> has some method, which has <strong>parameters with type</strong> that only exist for higher APIs.</p>\n\n<p>Your <em>variables</em> (i guess) and <em>function parameters</em> must exist on all APIs even function is not called (maybe this is requirement for classes who implement <code>LifecycleObserver</code>).</p>\n\n<p>A possible solution is to change function parameter type to <code>Any</code> (kotlin) or <code>Object</code> (Java) and cast it to appropriate type inside function.</p>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 7130649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d556818cd4c2c9e72dc63b836e0d4488?s=128&d=identicon&r=PG", "display_name": "Ho Luong", "link": "https://stackoverflow.com/users/7130649/ho-luong"}, "is_accepted": false, "score": 0, "last_activity_date": 1585825311, "creation_date": 1585825311, "answer_id": 60990041, "question_id": 54555764, "link": "https://stackoverflow.com/questions/54555764/lifecycleobserver-produce-exception-with-methods-that-use-newer-apis/60990041#60990041", "title": "LifecycleObserver produce exception with methods that use newer APIs", "body": "<p>I have to remove this set method on SpinnerView: lifecycleOwner = viewLifecycleOwner</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6830129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dlu3X.jpg?s=128&g=1", "display_name": "Ben Russell", "link": "https://stackoverflow.com/users/6830129/ben-russell"}, "is_accepted": false, "score": 0, "last_activity_date": 1592990486, "creation_date": 1592990486, "answer_id": 62551725, "question_id": 54555764, "link": "https://stackoverflow.com/questions/54555764/lifecycleobserver-produce-exception-with-methods-that-use-newer-apis/62551725#62551725", "title": "LifecycleObserver produce exception with methods that use newer APIs", "body": "<p>I was able to fix this by moving the offending methods into another class, but still called from my LifecycleObserver. After reading the error message again:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: The observer class has some methods that use newer APIs which are not available in the current OS version. Lifecycles cannot access even other methods so you should make sure that your observer classes only access framework classes that are available in your min API level OR use lifecycle:compiler annotation processor.</p>\n</blockquote>\n<p>It seems as though no methods or objects are allowed in the class extending <code>LifecycleObserver</code> if they don't exist in the device's OS, even if they are wrapped in an SDK version check and never accessed.</p>\n"}], "owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "answer_count": 4, "score": 6, "last_activity_date": 1592990486, "creation_date": 1549462834, "last_edit_date": 1565689842, "question_id": 54555764, "link": "https://stackoverflow.com/questions/54555764/lifecycleobserver-produce-exception-with-methods-that-use-newer-apis", "title": "LifecycleObserver produce exception with methods that use newer APIs", "body": "<p>My <code>ViewModel</code> class implements <code>LifecycleObserver</code>.\nWhen I call <code>fragment.lifecycle.addObserver(this)</code> it produces exception.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: The observer class has some methods that use newer APIs which are not available in the current OS version. Lifecycles cannot access even other methods so you should make sure that your observer classes only access framework classes that are available in your min API level OR use lifecycle:compiler annotation processor.</p>\n</blockquote>\n\n<p>Strange, that firstly it was working fine, but not long ago this exception has appeared. I've found, that <code>audioFocusRequest</code> is cause of this bug.</p>\n\n<pre><code>private val audioFocusRequest by lazy {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)\n        .setOnAudioFocusChangeListener(this)\n        .build() else throw RuntimeException(\"Can't be done for Android API lower than 26\")\n}\n</code></pre>\n\n<p>Does anybody know how it can be fixed?</p>\n\n<p><strong>UPD</strong></p>\n\n<p>Tried to use <code>annotationProcessor \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"</code>, but got compilation error:\n<a href=\"https://i.stack.imgur.com/3S4yL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3S4yL.png\" alt=\"enter image description here\"></a>\n(decided to paste screenshot, because whole logs are quite big)</p>\n\n<p><strong>UPD 2</strong><br>\nAt the end I've decided to delete <code>audioFocusRequest</code> field and to use old deprecated method - <code>requestAudioFocus(OnAudioFocusChangeListener l, int streamType, int durationHint)</code> instead of recommended <code>requestAudioFocus(@NonNull AudioFocusRequest focusRequest)</code></p>\n\n<p>It helped me to make code working again, so it can be solution. But I didn't find answer - why this problem had appeared. It strange because code used to be working before.</p>\n\n<p>So problem has been solved but question still stays unanswered</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3703, "user_id": 2127296, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kjm9H.png?s=128&g=1", "display_name": "Iv&#225;n Rodr&#237;guez Torres", "link": "https://stackoverflow.com/users/2127296/iv%c3%a1n-rodr%c3%adguez-torres"}, "edited": false, "score": 5, "creation_date": 1549463177, "post_id": 54555758, "comment_id": 95911392, "body": "Hi! I think that I can&#39;t understand what you want to achieve. Could you provide an example? In addiction, you should post some experiments you made to achieve your goal.  <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1549464266, "post_id": 54555758, "comment_id": 95912111, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo\">Convert a Map&lt;String, String&gt; to a POJO</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1549490680, "post_id": 54561128, "comment_id": 95925429, "body": "you can omit <code>it -&gt;</code>: <code>.groupBy { it.user.displayName }</code> :)"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1549490779, "post_id": 54561128, "comment_id": 95925472, "body": "@WilliMentzel Yes of course, I just copied the OP&#39;s line as a reminder, in order to show what he has and what to do from there. That&#39;s why I prefer to keep it as-is."}], "tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1549481099, "creation_date": 1549481099, "answer_id": 54561128, "question_id": 54555758, "link": "https://stackoverflow.com/questions/54555758/convert-map-to-object/54561128#54561128", "title": "Convert map to object", "body": "<p>If I understood correctly, you want to convert the <code>Map&lt;String, List&lt;MovieMyList&gt;&gt;</code> into a <code>List&lt;SharedList&gt;</code>, is that it?</p>\n\n<pre><code>val groupListByUserName = sharedList.groupBy { it -&gt; it.user.displayName }\nval sharedLists = groupListByUserName.map { (user, movies) -&gt; SharedList(user, movies) }\n</code></pre>\n\n<p>Note that here, the parentheses in the lambda are important: calling <code>map</code> on a <code>Map</code> will deal with the map's entries, each composed of a key and a value. Using the parentheses performs <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructuring</a> on the entry to directly access its key and value.</p>\n"}], "owner": {"reputation": 1, "user_id": 11023351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beac1ab293f3eeb32f5e18bda1f4ac98?s=128&d=identicon&r=PG&f=1", "display_name": "Mdziesinska", "link": "https://stackoverflow.com/users/11023351/mdziesinska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1549481099, "creation_date": 1549462814, "question_id": 54555758, "link": "https://stackoverflow.com/questions/54555758/convert-map-to-object", "title": "Convert map to object", "body": "<p>I create <code>Map &lt;String,List&lt;Object&gt;&gt;</code></p>\n\n<pre><code> val groupListByUserName = sharedList.groupBy { it -&gt; it.user.displayName }\n</code></pre>\n\n<p>this function groupBy list by userNAme. Next I create model </p>\n\n<pre><code>data class SharedList(val userName:String,val sharedList: List&lt;MovieMyList&gt;)\n</code></pre>\n\n<p>I want add data with map to list and I don't konw how. Do you have any idea how make this?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "is_accepted": false, "score": 2, "last_activity_date": 1549461020, "creation_date": 1549461020, "answer_id": 54555185, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword/54555185#54555185", "title": "When to use Kotlin suspend keyword?", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Suspending functions can be used inside coroutines just like regular functions, but their additional feature is that they can, in turn, use other suspending functions, like delay in this example, to suspend execution of a coroutine.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 7195804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoJkY.jpg?s=128&g=1", "display_name": "Kuba Paw\u0142owski", "link": "https://stackoverflow.com/users/7195804/kuba-paw%c5%82owski"}, "is_accepted": false, "score": 9, "last_activity_date": 1549472072, "creation_date": 1549472072, "answer_id": 54558747, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword/54558747#54558747", "title": "When to use Kotlin suspend keyword?", "body": "<p><code>suspend</code> keyword means coroutine can be suspended for later execution. </p>\n\n<p>Having said that, you should consciously use it them for coroutines that will get suspended (e.q. your <code>asyncFunc2()</code> made a HTTP call and is awaiting response to process it)</p>\n\n<p>So.</p>\n\n<ol>\n<li>Use <code>suspend</code> for functions that will be delayed in some way (Awaiting some computations, api response etc.)</li>\n<li><code>suspend fun</code> can be run from coroutine only. So, if it gets suspended, it will block the coroutine. Take out the <code>suspend</code> keyword, but run it in coroutine and it will have the same effect. However, if you run this function from outside the coroutine, it will block the thread it was running on.</li>\n</ol>\n\n<p>When testing coroutines, you should always invoke <code>runBlocking</code>. If you don't, a coroutine that gets suspended may not complete, resulting in a failed test.</p>\n"}, {"tags": [], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "is_accepted": false, "score": 2, "last_activity_date": 1549475939, "creation_date": 1549475939, "answer_id": 54559839, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword/54559839#54559839", "title": "When to use Kotlin suspend keyword?", "body": "<ol>\n<li>It depends. See the combination of the other two answers at this time: the effect of calling either function from a coroutine is identical. However, with the <code>suspend</code> keyword, the function itself can call other suspending functions. Using the keyword can be an indication of some work that requires time and therefore might need to suspend the calling coroutine.</li>\n<li>A function that will always be called from a coroutine does not need to always have the <code>suspend</code> keyword. It only needs that keyword for the reasons given under 1. The other way around is true: a suspending function can only be called from a coroutine.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": true, "score": 9, "last_activity_date": 1549480393, "last_edit_date": 1549480393, "creation_date": 1549479482, "answer_id": 54560740, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword/54560740#54560740", "title": "When to use Kotlin suspend keyword?", "body": "<p>You should only declare your function <code>suspend</code> if it needs to. I would say that, when in doubt, if the compiler does not force you, don't use <code>suspend</code>.</p>\n\n<p>Most of the time, if you have a good reason for your function to be suspending, it means it's doing something that probably requires you to use suspending functions like <code>withContext</code> anyway, and this will force you to declare your function <code>suspend</code>.</p>\n\n<p>Note that declaring a function <code>suspend</code> does not enable your callers to do anything more than they could when your function was not suspending. If anything, you're limiting the use of your function.</p>\n\n<p>I believe one use case for a function to be suspending without being forced to is when you really absolutely positively want to show the world that your function is computationally heavy, and thus force your callers to deal with the suspension.</p>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 7839518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b148c4e97cd7cf211d4b0c417a0e436a?s=128&d=identicon&r=PG", "display_name": "Tonnie", "link": "https://stackoverflow.com/users/7839518/tonnie"}, "is_accepted": false, "score": 2, "last_activity_date": 1586406606, "last_edit_date": 1586406606, "creation_date": 1586406262, "answer_id": 61113948, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword/61113948#61113948", "title": "When to use Kotlin suspend keyword?", "body": "<p>Use suspend keyword for:</p>\n\n<ul>\n<li><p>functions that will be delayed in some way (awaiting some computations, Network Requests )</p>\n\n<ul>\n<li>whenever the function calls other suspend functions</li>\n<li>function that call withContext() \u2013 withContext() is a suspend function that comes from the Coroutine Library</li>\n</ul></li>\n</ul>\n\n<p>The rule of the thumb is don\u2019t mark a function suspend unless you are forced to</p>\n"}], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6571, "favorite_count": 1, "accepted_answer_id": 54560740, "answer_count": 5, "score": 14, "last_activity_date": 1586406606, "creation_date": 1549459563, "last_edit_date": 1585893721, "question_id": 54554753, "link": "https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword", "title": "When to use Kotlin suspend keyword?", "body": "<pre><code>fun startAsyncFunc() {\n  launch {\n    asyncFunc1()\n    asyncFunc2()\n  }\n}\n\nfun asyncFunc1() { ... }\nsuspend fun asyncFunc2() { ... }\n</code></pre>\n\n<p>I can finish the work without <code>suspend</code> and it even makes test easier (it can be tested without adding <code>runBlocking</code>.</p>\n\n<p>My questions:</p>\n\n<ol>\n<li><code>asyncFunc1</code> vs <code>asyncFunc2</code>, which is better and why?</li>\n<li>If <code>asyncFunc2</code> is better, should I always use <code>suspend</code> whenever a function will be ran in the coroutines?</li>\n</ol>\n\n<h3>Update</h3>\n\n<p>In the recent releases of Kotlin Coroutines, I notice if a method doesn't contain any coroutines code(like <code>launch</code>, <code>async</code>, etc), the compiler complains <code>This inspection reports a suspend modifier as redundant if no other suspend functions are called inside</code>. So I assume that <code>suspend</code> should be only used when it's a must.</p>\n\n<h3>Update2</h3>\n\n<p><a href=\"https://youtu.be/ZTDXo0-SKuU?t=1112\" rel=\"noreferrer\">An advice from Google</a> </p>\n"}, {"tags": ["android", "android-intent", "service", "kotlin", "soundpool"], "answers": [{"comments": [{"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1549735986, "post_id": 54560079, "comment_id": 96013207, "body": "@BraveSentry If you find that this answer is correct, please don&#39;t forget to accept it."}], "tags": [], "owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "is_accepted": true, "score": 1, "last_activity_date": 1549476943, "creation_date": 1549476943, "answer_id": 54560079, "question_id": 54554491, "link": "https://stackoverflow.com/questions/54554491/soundpool-in-service-not-loading/54560079#54560079", "title": "SoundPool in Service not loading", "body": "<p>You have to use the value returned by <a href=\"https://developer.android.com/reference/android/media/SoundPool.html#load(android.content.Context,%20int,%20int)\" rel=\"nofollow noreferrer\"><code>load()</code></a> to play the sound. That is, <code>abping, aping</code>, etc. You are trying to play them based on the resource ID, which is incorrect. The resource ID is only used for loading the sound (as you have done).</p>\n"}], "owner": {"reputation": 169, "user_id": 10858057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3f757af3c67fc9fb3003efaed4a891?s=128&d=identicon&r=PG&f=1", "display_name": "BraveSentry", "link": "https://stackoverflow.com/users/10858057/bravesentry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 54560079, "answer_count": 1, "score": 0, "last_activity_date": 1549476943, "creation_date": 1549458764, "question_id": 54554491, "link": "https://stackoverflow.com/questions/54554491/soundpool-in-service-not-loading", "title": "SoundPool in Service not loading", "body": "<p>I have a SoundPool that I want to stay loaded in different fragments. So I load it with an intent for a service in my starting activities onCreate, and then try to play it with other intents in onClickListeners (and other methods) in the other fragments. Even though it prints the lines to confirm the sounds being loaded, afterwards it does not play them, saying \"sample X not READY\". What am I doing wrong?</p>\n\n<p>Here\u00b4s the Main Activities onCreate:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    var pIntent = Intent(this, SoulSoundService::class.java)\n    pIntent.putExtra(\"Load\", \"Ein\")\n    startService(pIntent)\n    super.onCreate(savedInstanceState)\n    setContentView(com.example.soulfetchnew.R.layout.activity_fullscreen)\n    mVisible = false\n    }\n</code></pre>\n\n<p>and the onclicklistener (in a fragment)</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    majpentlevelbutton.setOnClickListener {playPing()\n    it.findNavController().navigate(R.id.action_levelSelectFragment_to_levelFragment)\n    }\n}\n\nfun playPing(){\n    val pIntent = Intent(activity, SoulSoundService::class.java)\n    pIntent.putExtra(\"name\", R.raw.dbping)\n    activity?.startService(pIntent)\n}\n</code></pre>\n\n<p>And the service:</p>\n\n<pre><code>open class SoulSoundService : Service() {\n\nprivate lateinit var mSoundPool: SoundPool\nprivate val myBinder = MyLocalBinder()\n\noverride fun onCreate() {\n    val mAttributes = AudioAttributes.Builder()\n        .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n        .setUsage(AudioAttributes.USAGE_GAME)\n        .build()\n\n    mSoundPool = SoundPool.Builder()\n        .setMaxStreams(14)\n        .setAudioAttributes(mAttributes)\n        .build()\n}\n\noverride fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n    if (intent.hasExtra(\"Load\")) {\n        loadPings()\n    }\n    if (intent.hasExtra(\"name\")) {\n        soundID = intent.getIntExtra(\"Name\", soundID)\n        playPing(soundID)\n    }\n    if (intent.hasExtra(\"Stop\")) {\n        stopSelf()\n    }\n    return super.onStartCommand(intent, flags, startId)\n}\n\n\nfun playPing(soundID: Int){\n    mSoundPool.play(soundID, 1f, 1f, 1, 1, 1f)\n}\n\nfun loadPings() {\n    val abping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.abping, 1)\n    val aping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.aping, 1)\n    val bbping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.bbping, 1)\n    val bping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.bping, 1)\n    val cping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.cping, 1)\n    val dbping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.dbping, 1)\n    val dping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.dping, 1)\n    val ebping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.ebping, 1)\n    val eping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.eping, 1)\n    val fping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.fping, 1)\n    val gbping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.gbping, 1)\n    val gping = mSoundPool.load(this, com.example.soulfetchnew.R.raw.gping, 1)\n\n    mSoundPool.setOnLoadCompleteListener(object: SoundPool.OnLoadCompleteListener {\n        override fun onLoadComplete(mSoundPool: SoundPool, sampleId:Int,\n                           status:Int) {\n            println(\"SOUNDS ARE LOADED\")            \n        }\n    })\n\n}\n</code></pre>\n\n<p>Here\u00b4s the log of MainActivity:</p>\n\n<pre><code>2019-02-06 14:12:14.225 17449-17449/com.example.soulfetchnew I/Choreographer: Skipped 57 frames!  The application may be doing too much work on its main thread.\n2019-02-06 14:12:14.253 17449-17467/com.example.soulfetchnew D/EGL_emulation: eglMakeCurrent: 0xb3485120: ver 3 0 (tinfo 0xb3483780)\n2019-02-06 14:12:15.537 17449-17493/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:16.434 17449-17496/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:17.113 17449-17499/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:17.270 17449-17449/com.example.soulfetchnew I/Choreographer: Skipped 183 frames!  The application may be doing too much work on its main thread.\n2019-02-06 14:12:17.524 17449-17502/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:17.573 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:17.573 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:17.705 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:18.175 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:18.322 17449-17505/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:18.508 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.230 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.242 17449-17508/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:19.403 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.412 17449-17511/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:19.583 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.591 17449-17514/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:19.732 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.739 17449-17517/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:19.879 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:19.886 17449-17520/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:20.034 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n2019-02-06 14:12:20.044 17449-17523/com.example.soulfetchnew I/OMXClient: MuxOMX ctor\n2019-02-06 14:12:20.203 17449-17449/com.example.soulfetchnew I/System.out: SOUNDS ARE LOADED\n</code></pre>\n\n<p>And in the new fragment:</p>\n\n<pre><code>2019-02-06 14:12:23.141 17449-17454/com.example.soulfetchnew I/art: Do partial code cache collection, code=20KB, data=29KB\n2019-02-06 14:12:23.141 17449-17454/com.example.soulfetchnew I/art: After code cache collection, code=20KB, data=29KB\n2019-02-06 14:12:23.141 17449-17454/com.example.soulfetchnew I/art: Increasing code cache capacity to 128KB\n2019-02-06 14:12:26.787 17449-17454/com.example.soulfetchnew I/art: Do partial code cache collection, code=61KB, data=60KB\n2019-02-06 14:12:26.855 17449-17454/com.example.soulfetchnew I/art: After code cache collection, code=60KB, data=60KB\n2019-02-06 14:12:26.855 17449-17454/com.example.soulfetchnew I/art: Increasing code cache capacity to 256KB\n2019-02-06 14:12:26.917 17449-17449/com.example.soulfetchnew W/SoundPool:   sample 2131623947 not READY\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 196, "user_id": 8568825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c07674c6620d2f98556a16b8bf498d5?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Solanki", "link": "https://stackoverflow.com/users/8568825/arjun-solanki"}, "edited": false, "score": 0, "creation_date": 1549457301, "post_id": 54553900, "comment_id": 95907804, "body": "yes there are, but I did not found them helpful."}], "answers": [{"comments": [{"owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "edited": false, "score": 0, "creation_date": 1549461151, "post_id": 54553939, "comment_id": 95910113, "body": "what is integer list in this example? why not use a map for more efficient lookups?"}, {"owner": {"reputation": 111, "user_id": 8473587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6MPnBe7wb7s/AAAAAAAAAAI/AAAAAAAAARw/MdoZpe9vh-M/photo.jpg?sz=128", "display_name": "Hardik Vegad", "link": "https://stackoverflow.com/users/8473587/hardik-vegad"}, "reply_to_user": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "edited": false, "score": 0, "creation_date": 1549524889, "post_id": 54553939, "comment_id": 95934659, "body": "see the edited code, integerList is a mutable list that will contain the generated random numbers."}], "tags": [], "owner": {"reputation": 111, "user_id": 8473587, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6MPnBe7wb7s/AAAAAAAAAAI/AAAAAAAAARw/MdoZpe9vh-M/photo.jpg?sz=128", "display_name": "Hardik Vegad", "link": "https://stackoverflow.com/users/8473587/hardik-vegad"}, "is_accepted": true, "score": 6, "last_activity_date": 1549524842, "last_edit_date": 1549524842, "creation_date": 1549456964, "answer_id": 54553939, "question_id": 54553900, "link": "https://stackoverflow.com/questions/54553900/how-to-create-a-function-that-returns-unique-random-numbers/54553939#54553939", "title": "How to create a function that returns unique random numbers?", "body": "<p>You can try this out with recursion function that will only return unique random number in the range of 0 to 6.</p>\n\n<pre><code>private var randomNumber: Int = 0\nprivate var integerList: MutableList&lt;Int&gt;? = null\n\nprivate fun getRandomNumber(): Int {\n    val rand = Random()\n    randomNumber = rand.nextInt(7)\n    if (integerList!!.contains(randomNumber)) {\n        getRandomNumber()\n    } else {\n        integerList!!.add(randomNumber)\n    }\n    return randomNumber\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1998, "user_id": 1551685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db3932926e0d73a94e94db75649454a?s=128&d=identicon&r=PG", "display_name": "Steve Smith", "link": "https://stackoverflow.com/users/1551685/steve-smith"}, "edited": false, "score": 0, "creation_date": 1549457783, "post_id": 54554047, "comment_id": 95908071, "body": "This could get unwieldy if the user requires integers from 1 - million."}], "tags": [], "owner": {"reputation": 9, "user_id": 10929570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b884fcde969dceecd2fa94b0fc042ea0?s=128&d=identicon&r=PG&f=1", "display_name": "MarioBerrios", "link": "https://stackoverflow.com/users/10929570/marioberrios"}, "is_accepted": false, "score": 0, "last_activity_date": 1549457346, "creation_date": 1549457346, "answer_id": 54554047, "question_id": 54553900, "link": "https://stackoverflow.com/questions/54553900/how-to-create-a-function-that-returns-unique-random-numbers/54554047#54554047", "title": "How to create a function that returns unique random numbers?", "body": "<p>As Andrew Thompson say <a href=\"https://stackoverflow.com/questions/8115722/generating-unique-random-numbers-in-java\">here</a> you can</p>\n\n<ul>\n<li>Add each number in the range sequentially in a list</li>\n<li>Shuffle it</li>\n<li>Take the first 'n' numbers from the list</li>\n</ul>\n\n<p>A simple implementation would be:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class UniqueRandomNumbers {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i=1; i&lt;11; i++) {\n            list.add(new Integer(i));\n        }\n        Collections.shuffle(list);\n        for (int i=0; i&lt;3; i++) {\n            System.out.println(list.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>This would print 3 unique random numbers from 1 to 10</p>\n"}, {"comments": [{"owner": {"reputation": 1998, "user_id": 1551685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db3932926e0d73a94e94db75649454a?s=128&d=identicon&r=PG", "display_name": "Steve Smith", "link": "https://stackoverflow.com/users/1551685/steve-smith"}, "edited": false, "score": 0, "creation_date": 1549463095, "post_id": 54554348, "comment_id": 95911337, "body": "Numbers should be a List."}, {"owner": {"reputation": 8707, "user_id": 3124333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MCMEh.jpg?s=128&g=1", "display_name": "SiKing", "link": "https://stackoverflow.com/users/3124333/siking"}, "edited": false, "score": 3, "creation_date": 1549495675, "post_id": 54554348, "comment_id": 95927100, "body": "In order to improve the quality of your answer, please add some commentary about what this code does and how it solves the original question."}], "tags": [], "owner": {"reputation": 304, "user_id": 8258208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c5ccebc6005d7974048fc9e98984e1a?s=128&d=identicon&r=PG&f=1", "display_name": "mohamad sheikhi", "link": "https://stackoverflow.com/users/8258208/mohamad-sheikhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1549477347, "last_edit_date": 1549477347, "creation_date": 1549458322, "answer_id": 54554348, "question_id": 54553900, "link": "https://stackoverflow.com/questions/54553900/how-to-create-a-function-that-returns-unique-random-numbers/54554348#54554348", "title": "How to create a function that returns unique random numbers?", "body": "<pre><code>int[] Numbers;\nint num = 0;\n\ngetRandomNum();\n\npublic void getRandomNum()\n{\n   Random rand = new Random(10);\n   if(Numbers.contains(rand))\n   {\n      Log.i(\"console\",\"Try Again\");\n   }\n   else\n   {\n      num = rand;\n      Numbers.add(rand); \n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1549730875, "last_edit_date": 1549730875, "creation_date": 1549489649, "answer_id": 54563031, "question_id": 54553900, "link": "https://stackoverflow.com/questions/54553900/how-to-create-a-function-that-returns-unique-random-numbers/54563031#54563031", "title": "How to create a function that returns unique random numbers?", "body": "<p>First of all I wouldn't recommend a function for that, rather use a class that encapsulates the logic which increases usability.</p>\n\n<p><strong>1st option</strong></p>\n\n<p>You can use the <code>List</code> function (yes, it's really a function here) to generate a list of all possible numbers, then shuffle it and after that iterate over it.</p>\n\n<pre><code>class UniqueRandomNumbers(lowerBound: Int, upperBound: Int) {\n    private val iterator = List(upperBound - lowerBound) { \n        lowerBound + it + 1\n    }.shuffled().iterator()\n    val next get() = if (iterator.hasNext()) iterator.next() else null\n}\n</code></pre>\n\n<p><strong>2nd option</strong></p>\n\n<p>Alternatively you could generate random numbers until you find one that has not been consumed before.</p>\n\n<pre><code>class UniqueRandomNumbers(val lowerBound: Int, val upperBound: Int) {\n    private val consumedNumbers = mutableSetOf&lt;Int&gt;()\n    val next: Int?\n        get() {\n            var newNumber: Int\n\n            if (consumedNumbers.size == (upperBound - lowerBound + 1)) {\n                return null\n            }\n\n            do {\n                newNumber = Random.nextInt(lowerBound, upperBound + 1)\n            } while (newNumber in consumedNumbers)\n\n            consumedNumbers += newNumber\n\n            return newNumber\n        }\n}\n</code></pre>\n\n<p>Usage in both cases:</p>\n\n<pre><code>val numberProvider = UniqueRandomNumbers(0, 2)\n\n// returns 0, 1, 2 or null if all numbers have been consumed\nnumberProvider.next \n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 8568825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c07674c6620d2f98556a16b8bf498d5?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun Solanki", "link": "https://stackoverflow.com/users/8568825/arjun-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 54553939, "answer_count": 4, "score": -6, "last_activity_date": 1549730875, "creation_date": 1549456829, "last_edit_date": 1549498059, "question_id": 54553900, "link": "https://stackoverflow.com/questions/54553900/how-to-create-a-function-that-returns-unique-random-numbers", "title": "How to create a function that returns unique random numbers?", "body": "<p>I have tried some solutions from the forum but did not worked for me, if the answer be specific in kotlin language then it will me more helpful for me.</p>\n"}, {"tags": ["arraylist", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1549456685, "post_id": 54553323, "comment_id": 95907454, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"nofollow noreferrer\"><code>arrayListOf</code></a>?"}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 1, "last_activity_date": 1549457853, "last_edit_date": 1549457853, "creation_date": 1549456803, "answer_id": 54553890, "question_id": 54553323, "link": "https://stackoverflow.com/questions/54553323/how-to-define-static-init-block-outside-classes-in-kotlin/54553890#54553890", "title": "How to define static init block outside classes in Kotlin?", "body": "<p>You could create the list with <code>listOf</code> or <code>arrayListOf</code> and parameters:</p>\n\n<pre><code>val DEFAULT_LIST = listOf(MyObj(\"one\"),MyObj(\"two\"))\n</code></pre>\n\n<p>Or if you really need a more complex object creation, e.g. <code>ArrayList</code>, use the scope function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"nofollow noreferrer\"><code>also</code></a> for initialization.\nBoth return the receiver (this) and you can assign it to a variable:</p>\n\n<pre><code>val DEFAULT_LIST = ArrayList&lt;MyObj&gt;().apply {\n    val one = MyObj(\"one\")\n    val two = MyObj(\"two\")\n    one.complicatedProperty(\"complicated_property\")\n    two.complicatedProperty(\"complicated_property\")\n\n\n    add(one)\n    add(two)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "edited": false, "score": 0, "creation_date": 1549457619, "post_id": 54553951, "comment_id": 95907975, "body": "How to do in case of complicated MyObj cration. If i need to use setters?"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1549457004, "creation_date": 1549457004, "answer_id": 54553951, "question_id": 54553323, "link": "https://stackoverflow.com/questions/54553323/how-to-define-static-init-block-outside-classes-in-kotlin/54553951#54553951", "title": "How to define static init block outside classes in Kotlin?", "body": "<p>If I understand the question, the usual way is with the <code>listOf()</code> function.</p>\n\n<p>If you don't need to keep individual references to the two objects, you can just do:</p>\n\n<pre><code>val DEFAULT_LIST = listOf(MyObj(\"one\"), MyObj(\"two\"))\n</code></pre>\n\n<p>Or if you do:</p>\n\n<pre><code>val one = MyObj(\"one\")\nval two = MyObj(\"two\")\nval DEFAULT_LIST = listOf(one, two)\n</code></pre>\n\n<p>If you want more control over the exact type of list, you can use <code>mutableListOf()</code>, or <code>arrayListOf()</code>, or call a constructor that takes a collection of items (e.g. <code>LinkedList(listOf(one, two))</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1549483182, "post_id": 54554208, "comment_id": 95922229, "body": "How can you call <code>run</code> at top level? Wouldn&#39;t it be better to create the list and call <code>apply</code> on it? Also, calling a local variable <code>it</code> inside a lambda is somewhat confusing :$"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1549489904, "post_id": 54554208, "comment_id": 95925122, "body": "For the exact code OP posted, neither <code>run</code> nor <code>apply</code> is the most elegant approach, but simply <code>listOf(MyObj(&quot;one&quot;), MyObj(&quot;two&quot;))</code>. However, I chose to look through the minimal example and suggest the most general construct, one which doesn&#39;t assume things like that you can create the resulting instance on the first line."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1549490615, "post_id": 54554208, "comment_id": 95925402, "body": "I agree that in this case, <code>listOf()</code> is sufficient, and that the OP is clearly asking more generally how to initialize stuff on the fly. However, even if the <code>run</code> approach <i>is</i> the most general, I believe <code>apply</code> can be used in most cases (object creation + setters/init), so it should be worth noting that <code>run</code> is almost never necessary. Btw, I just learnt a top level <code>run</code> existed, I only knew about the <code>T.run()</code>, so thank you for that :)"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1549457880, "creation_date": 1549457880, "answer_id": 54554208, "question_id": 54553323, "link": "https://stackoverflow.com/questions/54553323/how-to-define-static-init-block-outside-classes-in-kotlin/54554208#54554208", "title": "How to define static init block outside classes in Kotlin?", "body": "<p>The most general solution is calling <code>run</code>, which takes no parameters and results in the value that is the result of the block. With minimum changes to your code:</p>\n\n<pre><code>val DEFAULT_LIST = run {\n    val it = ArrayList&lt;MyObj&gt;()\n    val one = MyObj(\"one\")\n    val two = MyObj(\"two\")\n    it.add(one)\n    it.add(two)\n    it\n}\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 8222921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F4vhZ.jpg?s=128&g=1", "display_name": "Artyom Karnov", "link": "https://stackoverflow.com/users/8222921/artyom-karnov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 54554208, "answer_count": 3, "score": 1, "last_activity_date": 1549457880, "creation_date": 1549454917, "last_edit_date": 1549456047, "question_id": 54553323, "link": "https://stackoverflow.com/questions/54553323/how-to-define-static-init-block-outside-classes-in-kotlin", "title": "How to define static init block outside classes in Kotlin?", "body": "<p>I have utility file <strong>Utility.kt</strong></p>\n\n<p>Here I have defined some constants like </p>\n\n<pre><code>val DATE_FORMAT = DateTimeFormatter.ofPattern(\"yyyyMMdd\")\nconst val UTC_TIMEZONE = \"UTC\"\n</code></pre>\n\n<p>Now I need to define list with 2 elements. I can't find a way to write it in static way. I need something like </p>\n\n<pre><code>val DEFAULT_LIST = ArrayList&lt;MyObj&gt;()\nval one = MyObj(\"one\")\nval two = MyObj(\"two\")\nDEFAULT_LIST.addAll(one,two)\n</code></pre>\n\n<p>i.e. To Create list and objects only once. I can use companion object. But right now I just use file without classes.</p>\n\n<p>Is it possible?</p>\n"}, {"tags": ["hibernate", "spring-boot", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549459198, "post_id": 54553062, "comment_id": 95908943, "body": "Can you try to use MapsId instead of Id in the class Crops?"}, {"owner": {"reputation": 7, "user_id": 9681642, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156202088375930/picture?type=large", "display_name": "Martin Wangen", "link": "https://stackoverflow.com/users/9681642/martin-wangen"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549460345, "post_id": 54553062, "comment_id": 95909638, "body": "@SimonMartinelly Thanks, but get AnnotationException: No identifier specified for entity"}, {"owner": {"reputation": 7, "user_id": 9681642, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156202088375930/picture?type=large", "display_name": "Martin Wangen", "link": "https://stackoverflow.com/users/9681642/martin-wangen"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549464708, "post_id": 54553062, "comment_id": 95912384, "body": "As an interim solution I&#39;ve added   @Id val id: Int."}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549466246, "post_id": 54553062, "comment_id": 95913350, "body": "I would say that you need an IdClass for Crops. Like if you have a composite key. Have you tried that?"}, {"owner": {"reputation": 7, "user_id": 9681642, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156202088375930/picture?type=large", "display_name": "Martin Wangen", "link": "https://stackoverflow.com/users/9681642/martin-wangen"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549621661, "post_id": 54553062, "comment_id": 95977040, "body": "IdClass worked! Thank you!"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1549622727, "post_id": 54553062, "comment_id": 95977673, "body": "Great. If you don&#39;t mind I will add this as the answer. I would appreciate it if you wil accept the answer"}], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1550308046, "last_edit_date": 1550308046, "creation_date": 1549622699, "answer_id": 54590714, "question_id": 54553062, "link": "https://stackoverflow.com/questions/54553062/composite-id-class-must-implement-serializable/54590714#54590714", "title": "Composite-id class must implement Serializable", "body": "<p>You must create a IdClass for Crops because JPA requires to have a single class for methods like EntityManager.find()</p>\n\n<pre><code>data class CropsId (val username: String = \"\")\n</code></pre>\n\n<p>Then use it with @IdClass</p>\n\n<pre><code>@IdClass(CropsPK::class)\n@Entity\ndata class Crops(\n    val amountOwned: Int = 0\n) {\n\n@Id\n@ManyToOne(fetch = FetchType.EAGER)\nlateinit var user: User\n\n\n@ManyToOne(fetch = FetchType.EAGER)\nlateinit var plant: Plant\n\n\nconstructor(user: User, plant: Plant) : this() {\n    this.plant = plant\n    this.user = user\n}}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 9681642, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156202088375930/picture?type=large", "display_name": "Martin Wangen", "link": "https://stackoverflow.com/users/9681642/martin-wangen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4672, "favorite_count": 0, "accepted_answer_id": 54590714, "answer_count": 1, "score": 0, "last_activity_date": 1550308046, "creation_date": 1549454027, "last_edit_date": 1549456279, "question_id": 54553062, "link": "https://stackoverflow.com/questions/54553062/composite-id-class-must-implement-serializable", "title": "Composite-id class must implement Serializable", "body": "<p>I'm trying to user JPA with kotlin and basicly got two classes, who should work together. I am having a problem with how I to make data class Crops serializable. I've tried adding @Serializable to Crops, but IntelliJ tells me Crops dont have a constructor. Here are the two classes: </p>\n\n<pre><code>@Entity\ndata class Crops(\n    val amountOwned: Int = 0\n) {\n\n@Id\n@ManyToOne(fetch = FetchType.EAGER)\nlateinit var user: User\n\n\n@ManyToOne(fetch = FetchType.EAGER)\nlateinit var plant: Plant\n\n\nconstructor(user: User, plant: Plant) : this() {\n    this.plant = plant\n    this.user = user\n}}\n\n\n@Entity\ndata class User (\n    @Id\n    val username: String = \"\",\n\n    @get: NotBlank\n    val password: String = \"\",\n\n    @get: NotBlank\n    val salt: String = \"\",\n\n    @OneToMany(mappedBy = \"user\")\n    val crops: MutableSet&lt;Crops&gt; = HashSet()\n</code></pre>\n\n<p>All help is appriciated! Thanks :)</p>\n"}, {"tags": ["android", "kotlin", "listadapter"], "comments": [{"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 1, "creation_date": 1549453266, "post_id": 54552720, "comment_id": 95905366, "body": "you are passing your item in click listener you should be able to get it when you implement your listener in activity."}], "answers": [{"comments": [{"owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "edited": false, "score": 0, "creation_date": 1549453991, "post_id": 54552862, "comment_id": 95905809, "body": "Thanks, looks like I still have some holes in Kotlin knowledge ;-)"}], "tags": [], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "is_accepted": true, "score": 1, "last_activity_date": 1549453357, "creation_date": 1549453357, "answer_id": 54552862, "question_id": 54552720, "link": "https://stackoverflow.com/questions/54552720/listadapter-grab-item-or-itempos-in-fragment/54552862#54552862", "title": "ListAdapter: grab item or itemPos in fragment", "body": "<p>you have to change your callback to like that </p>\n\n<pre><code>val adapter = UsersAdapter { user -&gt;\n    Toast.makeText(context, \"Clicked $user\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}], "owner": {"reputation": 1964, "user_id": 1545435, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/5cakf.jpg?s=128&g=1", "display_name": "Ambran", "link": "https://stackoverflow.com/users/1545435/ambran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 54552862, "answer_count": 1, "score": 0, "last_activity_date": 1549453357, "creation_date": 1549452831, "last_edit_date": 1549453188, "question_id": 54552720, "link": "https://stackoverflow.com/questions/54552720/listadapter-grab-item-or-itempos-in-fragment", "title": "ListAdapter: grab item or itemPos in fragment", "body": "<p>I have the following fragment which has a <code>RecyclerView</code> and a <code>ListAdapter</code> of users:</p>\n\n<pre><code>....\nprivate fun setupList(users: List&lt;User&gt;) {\n    recyclerView.layoutManager = LinearLayoutManager(context, RecyclerView.VERTICAL, false)\n    val adapter = UsersAdapter {\n        Toast.makeText(context, \"Clicked\", Toast.LENGTH_SHORT).show()\n    }\n\n    recyclerView.adapter = adapter\n    adapter.submitList(users)\n}\n....\n</code></pre>\n\n<p>Here is the relevant part of the <code>UsersAdapter</code>:</p>\n\n<pre><code>....\nclass FlightItemViewHolder(itemView: View, _context: Context) : RecyclerView.ViewHolder(itemView) {\n    val context = _context\n\n    fun bind(item: User, clickListener: (User) -&gt; Unit) {\n\n        itemView.name_value.text = item.fullName\n        itemView.country_value.text = item.country\n        itemView.seats_value.text = item.subscriptionSeats.toString()\n\n        itemView.setOnClickListener { clickListener(item) }\n    }\n}\n....\n</code></pre>\n\n<p>The toast is showing fine, but I would like to get a hold of the clicked element or its position in order to call and show a <code>Detail</code> fragment (instead of showing the toast).</p>\n"}, {"tags": ["kotlin", "protocol-buffers", "data-class", "protobuf-java"], "answers": [{"tags": [], "owner": {"reputation": 1252, "user_id": 1572848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e6ec603f9ab7b02948a22118f2c656c?s=128&d=identicon&r=PG", "display_name": "William Reed", "link": "https://stackoverflow.com/users/1572848/william-reed"}, "is_accepted": false, "score": 1, "last_activity_date": 1549461255, "creation_date": 1549461255, "answer_id": 54555264, "question_id": 54552144, "link": "https://stackoverflow.com/questions/54552144/kotlin-data-classes-support-in-protobuf/54555264#54555264", "title": "Kotlin Data Classes support in Protobuf", "body": "<p>One solution might be to use <a href=\"https://github.com/cretz/pb-and-k\" rel=\"nofollow noreferrer\">pb-and-k</a> which has the kotlin code generator and will generate data classes for you based off of the <code>.proto</code> files</p>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 844822, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/987b41e383ac8f961d0e35e9eb11c717?s=128&d=identicon&r=PG", "display_name": "Benni", "link": "https://stackoverflow.com/users/844822/benni"}, "is_accepted": false, "score": 0, "last_activity_date": 1549465368, "creation_date": 1549465368, "answer_id": 54556584, "question_id": 54552144, "link": "https://stackoverflow.com/questions/54552144/kotlin-data-classes-support-in-protobuf/54556584#54556584", "title": "Kotlin Data Classes support in Protobuf", "body": "<p>If you have know the structure of the data and can write your data classes upfront, you might want to have a look at <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">kotlinx.serialization</a>. It is an official Kotlin project and supports protobuf out-of-the-box.</p>\n"}], "owner": {"reputation": 177, "user_id": 6223683, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-WxXjUz066ag/AAAAAAAAAAI/AAAAAAAAZes/D6jUAH4DXRE/photo.jpg?sz=128", "display_name": "srisindhu saride", "link": "https://stackoverflow.com/users/6223683/srisindhu-saride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4188, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549465368, "creation_date": 1549451241, "last_edit_date": 1549451512, "question_id": 54552144, "link": "https://stackoverflow.com/questions/54552144/kotlin-data-classes-support-in-protobuf", "title": "Kotlin Data Classes support in Protobuf", "body": "<p>I am implementing protobuf recently in our kotlin project. \nI am receiving the binary data and deserialising it to Proto object using the proto file. </p>\n\n<p>But I would like have that converted to data class. \nI could not find any supporting information about how to do this.</p>\n\n<p>Is it possible to get data class from binary data or from deserialized proto object??</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "is_accepted": true, "score": 0, "last_activity_date": 1549455338, "creation_date": 1549455338, "answer_id": 54553450, "question_id": 54552056, "link": "https://stackoverflow.com/questions/54552056/turning-listeners-into-kotlin-coroutine-channels/54553450#54553450", "title": "Turning listeners into kotlin coroutine channels", "body": "<p>Figured it out - the code works fine, but</p>\n\n<pre><code>viewTreeObserver.removeOnGlobalLayoutListener(listener)\n</code></pre>\n\n<p>is bugged for <code>CoordinatorLayout</code>.</p>\n"}], "owner": {"reputation": 798, "user_id": 1032286, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6RfSS.png?s=128&g=1", "display_name": "Adel Nizamutdinov", "link": "https://stackoverflow.com/users/1032286/adel-nizamutdinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 1, "accepted_answer_id": 54553450, "answer_count": 1, "score": 1, "last_activity_date": 1549455422, "creation_date": 1549450940, "last_edit_date": 1549455422, "question_id": 54552056, "link": "https://stackoverflow.com/questions/54552056/turning-listeners-into-kotlin-coroutine-channels", "title": "Turning listeners into kotlin coroutine channels", "body": "<p>I have several functions that I want to use to do pipelines with <code>Channel</code>s. The main one is <code>globalLayouts</code>, where I create a <code>Channel</code> from the framework listener:</p>\n\n<pre><code>fun View.globalLayouts(): ReceiveChannel&lt;View&gt; =\n    Channel&lt;View&gt;().apply {\n        val view = this@globalLayouts\n\n        val listener = ViewTreeObserver.OnGlobalLayoutListener {\n            offer(view)\n        }\n\n        invokeOnClose {\n            viewTreeObserver.removeOnGlobalLayoutListener(listener)\n        }\n\n        viewTreeObserver.addOnGlobalLayoutListener(listener)\n    }\n\n@UseExperimental(InternalCoroutinesApi::class)\nfun &lt;E&gt; ReceiveChannel&lt;E&gt;.distinctUntilChanged(context: CoroutineContext = Dispatchers.Unconfined): ReceiveChannel&lt;E&gt; =\n    GlobalScope.produce(context, onCompletion = consumes()) {\n        var last: Any? = Any()\n\n        consumeEach {\n            if (it != last) {\n                send(it)\n                last = it\n            }\n        }\n    }\n\nfun View.keyboardVisibility(): ReceiveChannel&lt;KeyboardVisibility&gt; {\n    val rect = Rect()\n\n    return globalLayouts()\n        .map {\n            getWindowVisibleDisplayFrame(rect)\n\n            when (rect.height()) {\n                height -&gt; KeyboardVisibility.HIDDEN\n                else -&gt; KeyboardVisibility.SHOWN\n            }\n        }\n        .distinctUntilChanged()\n}\n</code></pre>\n\n<p>I have a <code>CoroutineScope</code> called <code>alive</code>:</p>\n\n<pre><code>val ControllerLifecycle.alive: CoroutineScope\n    get() {\n        val scope = MainScope()\n\n        addLifecycleListener(object : Controller.LifecycleListener() {\n            override fun preDestroyView(controller: Controller, view: View) {\n                removeLifecycleListener(this)\n                scope.cancel()\n            }\n        })\n\n        return scope\n    }\n</code></pre>\n\n<p>then I do:</p>\n\n<pre><code>alive.launch {\n    root.keyboardVisibility().consumeEach {\n        appbar.setExpanded(it == KeyboardVisibility.HIDDEN)\n    }\n}\n</code></pre>\n\n<p>This code starts working just fine, but I get</p>\n\n<pre><code>kotlinx.coroutines.JobCancellationException: Job was cancelled; job=JobImpl{Cancelled}@811031f\n</code></pre>\n\n<p>once my <code>alive</code> scope is destroyed. Right after <code>invokeOnClose</code> is called in <code>globalLayouts</code>. What am I doing wrong and how do I debug this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "edited": false, "score": 0, "creation_date": 1549450967, "post_id": 54550993, "comment_id": 95904013, "body": "Please downgrade your kotlin-stdlib version &#39;1.3.0&#39; to &#39;1.2.71&#39; I will check in Android studio 3.2.1. it&#39;s working for me. I hope it helps for you also."}, {"owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "reply_to_user": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "edited": false, "score": 0, "creation_date": 1549461953, "post_id": 54550993, "comment_id": 95910573, "body": "@Dhanajay   tried downgrade it not works for me.  Uninstall and install kotlin plugin , issue is fixed ."}], "answers": [{"tags": [], "owner": {"reputation": 1376, "user_id": 4614807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qO4k8.jpg?s=128&g=1", "display_name": "Bubu", "link": "https://stackoverflow.com/users/4614807/bubu"}, "is_accepted": false, "score": 9, "last_activity_date": 1561466243, "creation_date": 1561466243, "answer_id": 56754263, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception/56754263#56754263", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p>Go to your project folder and delete the <code>build</code> folder and the <code>out</code> folder, then retry, it works for me.</p>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 665744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4a95766ccd884240b2387d64307eded8?s=128&d=identicon&r=PG&f=1", "display_name": "8bitme", "link": "https://stackoverflow.com/users/665744/8bitme"}, "edited": false, "score": 0, "creation_date": 1597400980, "post_id": 56772683, "comment_id": 112127005, "body": "I.e. remove your build directory and build again (Invalidating  caches and restarting will not help in Android Studio/IntelliJ)"}], "tags": [], "owner": {"reputation": 1046, "user_id": 6801082, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q9V5kuFJ3yw/AAAAAAAAAAI/AAAAAAAAAO0/Z_PYVFUSKdk/photo.jpg?sz=128", "display_name": "Sudip Sadhukhan", "link": "https://stackoverflow.com/users/6801082/sudip-sadhukhan"}, "is_accepted": false, "score": 29, "last_activity_date": 1600661537, "last_edit_date": 1600661537, "creation_date": 1561551600, "answer_id": 56772683, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception/56772683#56772683", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p>This problem is solved by cleaning and rebuilding the project.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 8072547, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S2OhBnlrRpk/AAAAAAAAAAI/AAAAAAAAMCU/tRKLTHhhwJ4/photo.jpg?sz=128", "display_name": "Brian Mahecha", "link": "https://stackoverflow.com/users/8072547/brian-mahecha"}, "is_accepted": false, "score": 0, "last_activity_date": 1583272518, "creation_date": 1583272518, "answer_id": 60516095, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception/60516095#60516095", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p>I was experiencing something very similar in my Kotlin Maven project. You have to set the version of your <code>kotlin-maven-plugin</code></p>\n\n<pre><code>                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1363, "user_id": 315385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OTbVL.jpg?s=128&g=1", "display_name": "xilef", "link": "https://stackoverflow.com/users/315385/xilef"}, "is_accepted": false, "score": 5, "last_activity_date": 1600709683, "creation_date": 1600709683, "answer_id": 63997318, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception/63997318#63997318", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p><code>Build &gt; Rebuild Project</code> on intellij 2020.1 fixed it</p>\n"}, {"tags": [], "owner": {"reputation": 265, "user_id": 14287016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6f8c264892ccd5e84191b354c835b3?s=128&d=identicon&r=PG&f=1", "display_name": "IonicMan", "link": "https://stackoverflow.com/users/14287016/ionicman"}, "is_accepted": false, "score": 2, "last_activity_date": 1605865378, "creation_date": 1605865378, "answer_id": 64927123, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception/64927123#64927123", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p>Maven -&gt; clean -&gt; compile -&gt; install</p>\n<p>did it for me</p>\n"}], "owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9831, "favorite_count": 1, "answer_count": 5, "score": 19, "last_activity_date": 1605865378, "creation_date": 1549447763, "question_id": 54550993, "link": "https://stackoverflow.com/questions/54550993/org-jetbrains-kotlin-util-kotlinfrontendexception", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException:", "body": "<p>Error: org.jetbrains.kotlin.util.KotlinFrontEndException: Front-end Internal error: Failed to analyze declaration</p>\n\n<p>Cause: kotlin.KotlinNullPointerException</p>\n\n<p>After android studio update , not possible to run projects. how to fix this error?  Used android studio version is 3.3 and kotlin-stdlib version is 1.3.0. is it kotlin version bug or android studio bug? or any other .</p>\n\n<pre><code> org.jetbrains.kotlin.util.KotlinFrontEndException: Front-end Internal error: Failed to analyze declaration\nCause: kotlin.KotlinNullPointerException\nFile being compiled at position: (48,1) in /CountrySelectActivity.kt\nThe root cause was thrown at: KtQualifiedExpression.kt:35\nat org.jetbrains.kotlin.resolve.ExceptionWrappingKtVisitorVoid.visitDeclaration(ExceptionWrappingKtVisitorVoid.kt:43)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:453)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitDeclaration(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtVisitor.visitNamedDeclaration(KtVisitor.java:398)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:381)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:959)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitNamedDeclaration(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtVisitor.visitClassOrObject(KtVisitor.java:41)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:37)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:465)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClassOrObject(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtVisitor.visitClass(KtVisitor.java:33)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:33)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:459)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitClass(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtClass.accept(KtClass.kt:34)\nat org.jetbrains.kotlin.psi.KtElementImplStub.accept(KtElementImplStub.java:59)\nat org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer$analyzeDeclarations$1.registerDeclarations(LazyTopDownAnalyzer.kt:78)\nat org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer$analyzeDeclarations$1.visitKtFile(LazyTopDownAnalyzer.kt:96)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:513)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtFile.accept(KtFile.kt:221)\nat org.jetbrains.kotlin.psi.KtFile.accept(KtFile.kt:208)\nat org.jetbrains.kotlin.resolve.ExceptionWrappingKtVisitorVoid.visitElement(ExceptionWrappingKtVisitorVoid.kt:27)\nat org.jetbrains.kotlin.com.intellij.psi.PsiElementVisitor.visitFile(PsiElementVisitor.java:34)\nat org.jetbrains.kotlin.psi.KtVisitor.visitKtFile(KtVisitor.java:73)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:69)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:513)\nat org.jetbrains.kotlin.psi.KtVisitorVoid.visitKtFile(KtVisitorVoid.java:21)\nat org.jetbrains.kotlin.psi.KtFile.accept(KtFile.kt:221)\nat org.jetbrains.kotlin.psi.KtFile.accept(KtFile.kt:208)\nat org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations(LazyTopDownAnalyzer.kt:201)\nat org.jetbrains.kotlin.resolve.LazyTopDownAnalyzer.analyzeDeclarations$default(LazyTopDownAnalyzer.kt:60)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:110)\nat org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:375)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\nat org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:366)\nat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:120)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\nat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\nat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\nat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:362)\nat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:102)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:225)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:39)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:91)\nat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:103)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:606)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:102)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:455)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:1029)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:102)\nat org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:1071)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:1028)\nat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:454)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: kotlin.KotlinNullPointerException\nat org.jetbrains.kotlin.psi.KtQualifiedExpression$DefaultImpls.getOperationTokenNode(KtQualifiedExpression.kt:35)\nat org.jetbrains.kotlin.psi.KtDotQualifiedExpression.getOperationTokenNode(KtDotQualifiedExpression.kt:25)\nat org.jetbrains.kotlin.psi.KtQualifiedExpression$DefaultImpls.getExpression(KtQualifiedExpression.kt:41)\nat org.jetbrains.kotlin.psi.KtQualifiedExpression$DefaultImpls.getSelectorExpression(KtQualifiedExpression.kt:32)\nat org.jetbrains.kotlin.psi.KtDotQualifiedExpression.getSelectorExpression(KtDotQualifiedExpression.kt:55)\nat org.jetbrains.kotlin.psi.KtPackageDirective.getPackageNames(KtPackageDirective.java:61)\nat org.jetbrains.kotlin.psi.KtPackageDirective.getQualifiedNameOf(KtPackageDirective.java:158)\nat org.jetbrains.kotlin.psi.KtPackageDirective.getQualifiedName(KtPackageDirective.java:149)\nat org.jetbrains.kotlin.psi.KtPackageDirective.getFqName(KtPackageDirective.java:111)\nat org.jetbrains.kotlin.psi.KtFile.getPackageFqNameByTree(KtFile.kt:95)\nat org.jetbrains.kotlin.psi.KtFile.getPackageFqName(KtFile.kt:83)\nat org.jetbrains.kotlin.resolve.lazy.declarations.FileBasedDeclarationProviderFactory.computeFilesByPackage(FileBasedDeclarationProviderFactory.java:54)\nat org.jetbrains.kotlin.resolve.lazy.declarations.FileBasedDeclarationProviderFactory.lambda$new$0(FileBasedDeclarationProviderFactory.java:47)\nat org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedLazyValue.invoke(LockBasedStorageManager.java:354)\nat org.jetbrains.kotlin.storage.LockBasedStorageManager$LockBasedNotNullLazyValue.invoke(LockBasedStorageManager.java:410)\nat org.jetbrains.kotlin.resolve.lazy.declarations.FileBasedDeclarationProviderFactory.packageExists(FileBasedDeclarationProviderFactory.java:70)\nat org.jetbrains.kotlin.resolve.lazy.declarations.AbstractDeclarationProviderFactory.getPackageMemberDeclarationProvider(AbstractDeclarationProviderFactory.java:41)\nat org.jetbrains.kotlin.resolve.lazy.ResolveSession.getPackageFragment(ResolveSession.java:213)\n</code></pre>\n"}, {"tags": ["java", "kotlin", "lombok"], "comments": [{"owner": {"reputation": 3624, "user_id": 1293087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuLOs.jpg?s=128&g=1", "display_name": "Laksitha Ranasingha", "link": "https://stackoverflow.com/users/1293087/laksitha-ranasingha"}, "edited": false, "score": 4, "creation_date": 1549447563, "post_id": 54550811, "comment_id": 95901887, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35970957/how-to-extend-a-dataclass-with-tostring\">How to extend a dataclass with toString</a>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3624, "user_id": 1293087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FuLOs.jpg?s=128&g=1", "display_name": "Laksitha Ranasingha", "link": "https://stackoverflow.com/users/1293087/laksitha-ranasingha"}, "edited": false, "score": 0, "creation_date": 1549452643, "post_id": 54550811, "comment_id": 95904974, "body": "@LaksithaRanasingha That question asks about using extension methods, which this one doesn&#39;t. And more importantly, doesn&#39;t ask how to minimize &quot;tedious and error-prone&quot; code in <code>toString()</code> implementation as this question does. Not a duplicate at all."}], "answers": [{"tags": [], "owner": {"reputation": 170, "user_id": 5743040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da0d469892ba62f6b50e904ed248c738?s=128&d=identicon&r=PG", "display_name": "Andrii Vdovychenko", "link": "https://stackoverflow.com/users/5743040/andrii-vdovychenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1549450377, "creation_date": 1549450377, "answer_id": 54551899, "question_id": 54550811, "link": "https://stackoverflow.com/questions/54550811/is-it-possible-to-alter-the-behavior-of-tostring-methods-generated-for-kotlin/54551899#54551899", "title": "Is it possible to alter the behavior of toString() methods generated for Kotlin data classes?", "body": "<p>You can try something like this:</p>\n\n<pre><code>data class Key(val id: Int, val secret: String, val description: String?){ \n    override fun toString() = kotlinToString(properties = arrayOf(Key::id, Key::description)\n} \n</code></pre>\n\n<p>Example output:</p>\n"}, {"comments": [{"owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "edited": false, "score": 0, "creation_date": 1549525278, "post_id": 54552656, "comment_id": 95934827, "body": "Hi @Victor, did my proposed solution solved you problem matching you expectations?"}], "tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1549452693, "creation_date": 1549452693, "answer_id": 54552656, "question_id": 54550811, "link": "https://stackoverflow.com/questions/54550811/is-it-possible-to-alter-the-behavior-of-tostring-methods-generated-for-kotlin/54552656#54552656", "title": "Is it possible to alter the behavior of toString() methods generated for Kotlin data classes?", "body": "<p>I reworked previous response by Andrii Vdovychenko as follows:</p>\n\n<pre><code>data class Key(val id: Int, val secret: String, val description: String?){\n    override fun toString() = kotlinToString(target = this, properties = arrayOf(prop(Key::id), prop(Key::description), prop(Key::secret)))\n}\n\nfun &lt;T&gt;prop(kp : KProperty1&lt;T, Any?&gt;) : KProperty1&lt;Any, Any?&gt; {\n    return kp as KProperty1&lt;Any, Any?&gt;\n}\n\nfun kotlinToString(target: Any, properties : Array&lt;KProperty1&lt;Any, Any?&gt;&gt;) : String {\n    return properties\n            .map { kp -&gt; Pair(kp.name, kp.get(target)) }\n            .filter { p -&gt; p.second != null }\n            .map { p -&gt; \"${p.first}: ${p.second}\" }\n            .joinToString(\", \")\n}\n</code></pre>\n\n<p>You can test mi implementation using the following <code>main</code> function:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    println(Key(1, \"aa\", \"bbb\").toString())\n    println(Key(1, \"aa\", null).toString())\n}\n</code></pre>\n\n<p>which output is</p>\n\n<pre><code>id: 1, description: bbb, secret: aa\nid: 1, secret: aa\n</code></pre>\n\n<p>May be you can change <code>kotlinToString</code> implementation in order to include a <em>per-class</em> prefix in the output string, perhaps passing it as parameter to <code>kotlinToString</code>, but I hope this can helpo you!</p>\n"}], "owner": {"reputation": 1078, "user_id": 1350552, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/52e045ba689753ed1814f0d62310a21c?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/1350552/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549452693, "creation_date": 1549447149, "question_id": 54550811, "link": "https://stackoverflow.com/questions/54550811/is-it-possible-to-alter-the-behavior-of-tostring-methods-generated-for-kotlin", "title": "Is it possible to alter the behavior of toString() methods generated for Kotlin data classes?", "body": "<p>E.g.:</p>\n\n<pre><code>data class Key(\n    val id:          Int,\n    val secret:      String,\n    val description: String?\n)\n</code></pre>\n\n<p>To exclude or mask special properties like passwords or credit card numbers:</p>\n\n<pre><code>Key(\n    id          = 1,\n    secret      = \"foo\",\n    description = \"bar\"\n).toString()\n// Key(id=1, description=bar)\n// or\n// Key(id=1, secret=********, description=bar)\n</code></pre>\n\n<p>Or to ignore properties with <code>null</code>s to make the resulting string more readable:</p>\n\n<pre><code>Key(\n    id          = ...,\n    secret      = ...,\n    description = null\n).toString()\n// Key(id=...)\n// or\n// Key(id=..., secret=...)\n</code></pre>\n\n<p>Implementing <code>toString()</code> each time may be very tedious and error-prone, especially if you have too many properties in the class.</p>\n\n<p>Is there any (upcoming) solution for this problem (e.g. like Lombok for Java)?</p>\n"}, {"tags": ["arraylist", "kotlin", "hashmap"], "comments": [{"owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "edited": false, "score": 0, "creation_date": 1549446386, "post_id": 54550544, "comment_id": 95901200, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33640864/how-to-sort-based-on-compare-multiple-values-in-kotlin\">How to sort based on/compare multiple values in Kotlin?</a>"}, {"owner": {"reputation": 3142, "user_id": 3178068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb4e98428566e55b8d5e2ec73113646?s=128&d=identicon&r=PG&f=1", "display_name": "TiiJ7", "link": "https://stackoverflow.com/users/3178068/tiij7"}, "edited": false, "score": 0, "creation_date": 1549446767, "post_id": 54550544, "comment_id": 95901426, "body": "The example from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/natural-order.html\" rel=\"nofollow noreferrer\">here</a> should work."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1549447381, "post_id": 54550544, "comment_id": 95901779, "body": "The original problem in the code was that <code>groupBy</code> function returns an unsorted Map, so <code>result.values</code> has to be sorted by key values first. There is no need to wrap <code>result.values</code> with ArrayList"}], "answers": [{"comments": [{"owner": {"reputation": 4432, "user_id": 3298385, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wZ7Kj.jpg?s=128&g=1", "display_name": "mahesh_babariya", "link": "https://stackoverflow.com/users/3298385/mahesh-babariya"}, "edited": false, "score": 0, "creation_date": 1549447679, "post_id": 54550850, "comment_id": 95901956, "body": "<code>thenComparing</code> requires minimum api level 24"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 4432, "user_id": 3298385, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wZ7Kj.jpg?s=128&g=1", "display_name": "mahesh_babariya", "link": "https://stackoverflow.com/users/3298385/mahesh-babariya"}, "edited": false, "score": 0, "creation_date": 1549487596, "post_id": 54550850, "comment_id": 95924132, "body": "You may pass several lambdas to the <code>compareBy</code> function. I&#39;ll update the example."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1549487714, "last_edit_date": 1549487714, "creation_date": 1549447254, "answer_id": 54550850, "question_id": 54550544, "link": "https://stackoverflow.com/questions/54550544/change-the-positions-of-list-elements-with-some-conditions/54550850#54550850", "title": "Change the positions of list elements with some conditions", "body": "<p>Use <code>sortedWith</code> function on the collection</p>\n\n<pre><code>val a = listOf(\"abc\", \"a\", \"bb\", \"aa\", \"aaa\", \"bb\", \"a\")\nval b = a.sortedWith(compareBy({ it.length }, { it }))\nprintln(b)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "is_accepted": true, "score": 2, "last_activity_date": 1549448824, "creation_date": 1549448824, "answer_id": 54551348, "question_id": 54550544, "link": "https://stackoverflow.com/questions/54550544/change-the-positions-of-list-elements-with-some-conditions/54551348#54551348", "title": "Change the positions of list elements with some conditions", "body": "<pre><code>val a = listOf(\"abc\", \"a\", \"bb\", \"aa\", \"aaa\", \"bb\", \"a\")\na.sortedWith(compareBy({ it.length }, { it })) // [a, a, aa, bb, bb, aaa, abc]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 702, "user_id": 10030894, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fmf65CtWECo/AAAAAAAAAAI/AAAAAAAAF0U/3pDYRzrUPTE/photo.jpg?sz=128", "display_name": "Nicolas Duponchel", "link": "https://stackoverflow.com/users/10030894/nicolas-duponchel"}, "is_accepted": false, "score": 1, "last_activity_date": 1549449318, "creation_date": 1549449318, "answer_id": 54551516, "question_id": 54550544, "link": "https://stackoverflow.com/questions/54550544/change-the-positions-of-list-elements-with-some-conditions/54551516#54551516", "title": "Change the positions of list elements with some conditions", "body": "<p>You can try this way </p>\n\n<pre><code>val yourList = listOf(\"abc\", \"a\", \"bb\", \"aa\", \"aaa\", \"bb\", \"a\")\nval yourSortedList = yourList.sorted().sortedBy { it.length }\n</code></pre>\n\n<ul>\n<li><strong>sorted</strong> will sort you list according to their natural sort order. In this case it will be alphabetic order.</li>\n<li>With <strong>sortyBy</strong> you precise that the sort order is the length of your string.</li>\n</ul>\n\n<p>Result <code>[a, a, aa, bb, bb, aaa, abc]</code></p>\n"}], "owner": {"reputation": 4432, "user_id": 3298385, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wZ7Kj.jpg?s=128&g=1", "display_name": "mahesh_babariya", "link": "https://stackoverflow.com/users/3298385/mahesh-babariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54551348, "answer_count": 3, "score": 1, "last_activity_date": 1549487714, "creation_date": 1549446280, "last_edit_date": 1549448727, "question_id": 54550544, "link": "https://stackoverflow.com/questions/54550544/change-the-positions-of-list-elements-with-some-conditions", "title": "Change the positions of list elements with some conditions", "body": "<p>I have a list of strings like this :-</p>\n\n<pre><code>listOf(\"abc\", \"a\", \"bb\", \"aa\", \"aaa\", \"bb\", \"a\")\n</code></pre>\n\n<p>I want an output like this :-</p>\n\n<pre><code>listOf(\"a\", \"a\", \"aa\", \"bb\", \"bb\", \"aaa\", \"abc\")\n</code></pre>\n\n<p>First I want to sort list by length and then again sort that length group by letters.</p>\n\n<p>I tried below code so far</p>\n\n<pre><code>fun main() {\n    val result = listOf(\"abc\", \"a\", \"bb\", \"aa\", \"aaa\", \"bb\", \"a\").groupBy { it.length }\n    val valueList = ArrayList(result.values).flatMap { it.toList() }\n    println(valueList)\n}\n</code></pre>\n\n<p>But the result I got is like below</p>\n\n<pre><code>[abc, aaa, a, a, bb, aa, bb]\n</code></pre>\n\n<p>After @Sergey Lagutin's duplication comment \nI also tried </p>\n\n<pre><code>val sortedList = a.sortedWith(compareBy { it.length })\n</code></pre>\n\n<p>Which is not returning the desired result</p>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "comments": [{"owner": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "edited": false, "score": 0, "creation_date": 1549451641, "post_id": 54550363, "comment_id": 95904388, "body": "Have you check Interaction with the Chart. It happens when you plotted more numbers of x-axis values to adjust for a filling MPAndroidChart, Please visit this Document <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/Interaction-with-the-Chart\" rel=\"nofollow noreferrer\">github.com/PhilJay/MPAndroidChart/wiki/&hellip;</a>"}, {"owner": {"reputation": 2131, "user_id": 2914560, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c415df2b8378c5fa7124996b82aa8984?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan Ve", "link": "https://stackoverflow.com/users/2914560/karthikeyan-ve"}, "reply_to_user": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "edited": false, "score": 0, "creation_date": 1549461434, "post_id": 54550363, "comment_id": 95910261, "body": "@Dhananjay Will have look at the link. Thank you :)"}, {"owner": {"reputation": 2131, "user_id": 2914560, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c415df2b8378c5fa7124996b82aa8984?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan Ve", "link": "https://stackoverflow.com/users/2914560/karthikeyan-ve"}, "reply_to_user": {"reputation": 158, "user_id": 8225777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNmEt.png?s=128&g=1", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/8225777/dhananjay"}, "edited": false, "score": 0, "creation_date": 1549694977, "post_id": 54550363, "comment_id": 96003518, "body": "I have enabled only x axis scaling. Seems somewhat good. Thanks for responding . Will check more and have healthy sharing on this."}], "owner": {"reputation": 2131, "user_id": 2914560, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c415df2b8378c5fa7124996b82aa8984?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan Ve", "link": "https://stackoverflow.com/users/2914560/karthikeyan-ve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549451782, "creation_date": 1549445659, "last_edit_date": 1549451782, "question_id": 54550363, "link": "https://stackoverflow.com/questions/54550363/mpandroidchart-display-less-number-of-x-axis-against-the-plotted-values", "title": "MPAndroidChart display less number of x-axis against the plotted values", "body": "<p>I am working with MPAndroidChart to show a line graph with date values.</p>\n\n<p>I am getting less number of x-axis values against the plotted values.</p>\n\n<p>And I am using Kotlin language.</p>\n\n<p>My code snippets are below.</p>\n\n<pre><code>private fun loadGraphData() {\n        val list1 = ArrayList&lt;ComponentModel&gt;()            \n\n        list1.add(ComponentModel(\"2010-12-11T09:47:00+00:00\", 99.0f))\n        list1.add(ComponentModel(\"2010-12-12T09:47:00+00:00\", 100.0f))\n        list1.add(ComponentModel(\"2010-12-13T09:47:00+00:00\", 101.0f))\n        list1.add(ComponentModel(\"2010-12-14T09:47:00+00:00\", 102.0f))\n\n        list1.add(ComponentModel(\"2010-12-15T09:47:00+00:00\", 99.0f))\n        list1.add(ComponentModel(\"2010-12-16T09:47:00+00:00\", 100.0f))\n        list1.add(ComponentModel(\"2010-12-17T09:47:00+00:00\", 101.0f))\n        list1.add(ComponentModel(\"2010-12-18T09:47:00+00:00\", 102.0f))\n\n        list1.add(ComponentModel(\"2010-12-19T09:47:00+00:00\", 99.0f))\n        list1.add(ComponentModel(\"2010-12-20T09:47:00+00:00\", 100.0f))\n\n        val entries = populateDataInGraph(list1)\n        val dataSet = LineDataSet(entries, \"Test Result\")\n        dataSet.apply {\n            color = Color.RED\n            setDrawValues(false)\n            setDrawCircleHole(false)\n            setCircleColor(Color.RED)\n        }\n        img_test_result_graph.apply {\n\n            xAxis.apply {\n                xAxis.position = XAxis.XAxisPosition.BOTTOM\n                setDrawGridLines(false)\n                textSize = 4f\n                valueFormatter = DateValueFormatter()\n                isGranularityEnabled = true\n                granularity = 1f\n                labelCount = list1.size\n            }\n            axisLeft.apply {\n                setDrawGridLines(false)\n                valueFormatter = YAxisDataFormatter()\n                granularity = 1f\n                addLimitLine(LimitLine(100.0f, \"Normal\").also { it.lineColor = Color.GREEN })\n            }\n            axisRight.isEnabled = false\n            data = LineData(dataSet)\n            setScaleEnabled(true)\n            description.text = \"\"\n            invalidate()\n        }\n\n    }\n</code></pre>\n\n<p>I tried with granularity from the issues posted in github too.\nEven I getting the graph as below \n<a href=\"https://i.stack.imgur.com/liSDh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/liSDh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Help on this to show x-axis values equals to plotted values.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "gradle-experimental"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1549446273, "post_id": 54550329, "comment_id": 95901146, "body": "&quot;Experimental&quot; pertains primarily to the API which is not stable and you&#39;ll have to change your code when upgrading Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 5742, "user_id": 1467321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a97d67d08221ce54272481f69c000a6a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1467321/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1549488267, "creation_date": 1549488267, "answer_id": 54562756, "question_id": 54550329, "link": "https://stackoverflow.com/questions/54550329/is-it-healthy-for-my-application-to-go-live-with-kotlin-experimental-features-in/54562756#54562756", "title": "Is it healthy for my application to go live with Kotlin experimental features in the code?", "body": "<p>This depends on how comfortable you are with releasing an unfinished experimental feature with your codebase. There is the possibility that there are still bugs or the feature has not fully been tested, hence the reason it is in experimental status.</p>\n\n<p>That being said, if the feature is included in the Kotlin documentation found <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#experimental-mode\" rel=\"nofollow noreferrer\">here</a>, then you can assume the feature will work to a certain extent. However, you must be ready to make updates as necessary because this feature is still in active development. Be sure to keep your Kotlin version up-to-date so that you are receiving the latest updates to experimental features if you are releasing these with your production application.</p>\n"}], "owner": {"reputation": 136, "user_id": 6332095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ieX2l.png?s=128&g=1", "display_name": "Sami Ikhleaf", "link": "https://stackoverflow.com/users/6332095/sami-ikhleaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "closed_date": 1549593708, "answer_count": 1, "score": 1, "last_activity_date": 1549488267, "creation_date": 1549445520, "last_edit_date": 1549452724, "question_id": 54550329, "link": "https://stackoverflow.com/questions/54550329/is-it-healthy-for-my-application-to-go-live-with-kotlin-experimental-features-in", "closed_reason": "Duplicate", "title": "Is it healthy for my application to go live with Kotlin experimental features in the code?", "body": "<p>I am using Kotlin's experimental features, and I wonder if it will work well in the live version of the app? For example the <code>@Parcel</code> annotation in Kotlin.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1549447334, "post_id": 54550252, "comment_id": 95901745, "body": "how do you compile?"}, {"owner": {"reputation": 1078, "user_id": 1350552, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/52e045ba689753ed1814f0d62310a21c?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/1350552/victor"}, "reply_to_user": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1549447434, "post_id": 54550252, "comment_id": 95901808, "body": "But does it matter? Command-line tools/Maven/Gradle/within IDE..."}, {"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1549447971, "post_id": 54550252, "comment_id": 95902133, "body": "I&#39;ve some experiences with command line"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8106427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3e85db7a2ee43cc46a14a599082379?s=128&d=identicon&r=PG", "display_name": "nikolausk", "link": "https://stackoverflow.com/users/8106427/nikolausk"}, "is_accepted": false, "score": 0, "last_activity_date": 1564057824, "creation_date": 1564057824, "answer_id": 57202015, "question_id": 54550252, "link": "https://stackoverflow.com/questions/54550252/is-it-possible-to-instruct-kotlin-compiler-to-import-additional-packages-by-defa/57202015#57202015", "title": "Is it possible to instruct Kotlin compiler to import additional packages by default (as it does with its own packages)?", "body": "<p>I didn't find an easy way to do it, but according to <a href=\"https://stackoverflow.com/a/40076096/8106427\">this</a> answer, there is a <a href=\"https://github.com/JetBrains/kotlin/blob/321a19a247ec09bfc351a0bda768313735781a49/compiler/frontend.java/src/org/jetbrains/kotlin/resolve/jvm/platform/JvmPlatform.kt\" rel=\"nofollow noreferrer\">specific file</a> in the Kotlin compiler, you could change to modify the default imports. \nYou will have to:<br>\n1. Clone the <a href=\"https://github.com/JetBrains/kotlin\" rel=\"nofollow noreferrer\">kotlin repository</a>:\n<code>git clone https://github.com/JetBrains/kotlin</code><br>\n2. Modify the specific file, to import some additional packages by default.<br>\nFor example to import <code>kotlin.reflect</code> by default you modify the kotlin file located in compiler/frontend.java/src/org/jetbrains/kotlin/resolve/jvm/platform/JvmPlatform.kt relative from the project root like that:  </p>\n\n<pre><code>/*\n * Copyright 2010-2015 JetBrains s.r.o.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.jetbrains.kotlin.resolve.jvm.platform\n\nimport org.jetbrains.kotlin.builtins.DefaultBuiltIns\nimport org.jetbrains.kotlin.resolve.DescriptorUtils\nimport org.jetbrains.kotlin.resolve.ImportPath\nimport org.jetbrains.kotlin.resolve.PlatformConfigurator\nimport org.jetbrains.kotlin.resolve.TargetPlatform\nimport org.jetbrains.kotlin.resolve.scopes.DescriptorKindFilter\nimport org.jetbrains.kotlin.resolve.scopes.MemberScope\nimport java.util.*\n\nobject JvmPlatform : TargetPlatform(\"JVM\") {\n    override val defaultImports: List&lt;ImportPath&gt; = ArrayList&lt;ImportPath&gt;().apply {\n        add(ImportPath(\"java.lang.*\"))\n        add(ImportPath(\"kotlin.*\"))\n        add(ImportPath(\"kotlin.annotation.*\"))\n        add(ImportPath(\"kotlin.jvm.*\"))\n        add(ImportPath(\"kotlin.collections.*\"))\n        add(ImportPath(\"kotlin.coroutines.*\"))\n        add(ImportPath(\"kotlin.ranges.*\"))\n        add(ImportPath(\"kotlin.sequences.*\"))\n        add(ImportPath(\"kotlin.text.*\"))\n        add(ImportPath(\"kotlin.io.*\"))\n        add(ImportPath(\"kotlin.reflect.*\")) //This is the important change!!! \n        fun addAllClassifiersFromScope(scope: MemberScope) {\n            for (descriptor in scope.getContributedDescriptors(DescriptorKindFilter.CLASSIFIERS, MemberScope.ALL_NAME_FILTER)) {\n                add(ImportPath(DescriptorUtils.getFqNameSafe(descriptor), false))\n            }\n        }\n\n        val builtIns = DefaultBuiltIns.Instance\n        for (builtinPackageFragment in builtIns.builtInsPackageFragments) {\n            addAllClassifiersFromScope(builtinPackageFragment.getMemberScope())\n        }\n    }\n\n    override val platformConfigurator: PlatformConfigurator = JvmPlatformConfigurator\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Recompile the kotlin compiler:\n<code>gradle dist</code></li>\n<li>Use it and see if it works:\nThe kotlin compiler jar is located in <code>dist/kotlinc/lib/kotlin-compiler.jar</code> and to run the compiler you use <code>dist/kotlinc/bin/kotlinc</code>.</li>\n</ol>\n\n<p>Maybe it's easier to just import the needed packages instead of manually recompiling the kotlin compiler (;</p>\n"}], "owner": {"reputation": 1078, "user_id": 1350552, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/52e045ba689753ed1814f0d62310a21c?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/1350552/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564057824, "creation_date": 1549445182, "question_id": 54550252, "link": "https://stackoverflow.com/questions/54550252/is-it-possible-to-instruct-kotlin-compiler-to-import-additional-packages-by-defa", "title": "Is it possible to instruct Kotlin compiler to import additional packages by default (as it does with its own packages)?", "body": "<p>I have a bunch of classes in <code>my.framework</code> package which I want to use everywhere in my project without importing them explicitly (without using <code>import my.framework.*</code> statement). Can I instruct Kotlin compiler somehow so it includes additional packages to the list of the ones imported by default (as it does with <code>kotlin.collections</code>, <code>kotlin.text</code>, and so on)?</p>\n"}, {"tags": ["json", "kotlin", "kotlin-native", "kotlin-multiplatform", "kotlinx.serialization"], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 10693700, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BSnpxiRpqfk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hmchEXq-NpZbWeAlGXNfRt2qvdWw/mo/photo.jpg?sz=128", "display_name": "AaronJ", "link": "https://stackoverflow.com/users/10693700/aaronj"}, "is_accepted": false, "score": 0, "last_activity_date": 1575061641, "creation_date": 1575061641, "answer_id": 59110984, "question_id": 54549894, "link": "https://stackoverflow.com/questions/54549894/how-create-nested-json-by-kotlinx-serialization-on-kotlin-native/59110984#59110984", "title": "How create nested JSON by Kotlinx Serialization on Kotlin native", "body": "<p>You need to make a class for nested Json objects and annotate it with @Serializable</p>\n\n<pre><code>@Serializable\nclass Data(\n    val operationName: String,\n    val query: String,\n    val variables: Variables\n) {\n    @Serializable\n    class Variables(val id: Int)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 390, "user_id": 1251966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86345f1794c6c251d6e3693040d49e70?s=128&d=identicon&r=PG", "display_name": "vivek86", "link": "https://stackoverflow.com/users/1251966/vivek86"}, "is_accepted": false, "score": 0, "last_activity_date": 1579710715, "creation_date": 1579710715, "answer_id": 59864256, "question_id": 54549894, "link": "https://stackoverflow.com/questions/54549894/how-create-nested-json-by-kotlinx-serialization-on-kotlin-native/59864256#59864256", "title": "How create nested JSON by Kotlinx Serialization on Kotlin native", "body": "<p>You might want to have a look at here. I think this thread exactly tackles the issue of storing the object as a Json string, that is nested in another Json. </p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.serialization/issues/345#issuecomment-457545923\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization/issues/345#issuecomment-457545923</a></p>\n"}], "owner": {"reputation": 610, "user_id": 7149385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BK1tL.jpg?s=128&g=1", "display_name": "ImanX", "link": "https://stackoverflow.com/users/7149385/imanx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 454, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1579710715, "creation_date": 1549443822, "question_id": 54549894, "link": "https://stackoverflow.com/questions/54549894/how-create-nested-json-by-kotlinx-serialization-on-kotlin-native", "title": "How create nested JSON by Kotlinx Serialization on Kotlin native", "body": "<p>I creating a Shared lib by Kotlin multiplatform and I use <code>Kotlin Serialization</code> library for Serialize and Deserialize, I Implementing <code>Graph QL</code> on my project and I use below struct</p>\n\n<pre><code>{\n \"operationName\":\"Operation\",\n \"query\":\"query Operation($id: ID){rres: Cards(id: $id){id}}\",\n \"variables\":{\"id\": 1}\n}\n</code></pre>\n\n<p>for communication with <code>API</code>, now I have a issue that I should fill a <code>Json</code> as a <code>Object</code> in <code>variables</code> by <code>Kotlinx.Serialization</code> but I don't find a way for it while I fill <code>varibales</code> as String and <code>API</code> get exception to me.</p>\n\n<p>How I create a nested Json by Kotlinx.Serialization?</p>\n"}, {"tags": ["android", "database", "kotlin", "concurrency", "realm"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549441964, "post_id": 54549291, "comment_id": 95898869, "body": "does not work what you suggest, because if I remove what you say. Realm is going to cancel the Array 0, but then is going to insert the next record in the array zero position and not at end of the Realm list, this is why I am desperately trying to sandbox them in different transactions"}, {"owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "reply_to_user": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549442401, "post_id": 54549291, "comment_id": 95899064, "body": "what you mean Realm is going to cancel the Array 0?"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549442700, "post_id": 54549291, "comment_id": 95899224, "body": "Please @Pavel Poley see my edit. above  I mean that is like after that Realm cancel the row zero of the RealmObject, then insert the next record in this zero position, and not in the <code>n</code> sequential position I expect( at the end of the list)"}], "tags": [], "owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "is_accepted": false, "score": 1, "last_activity_date": 1549441592, "creation_date": 1549441592, "answer_id": 54549291, "question_id": 54548786, "link": "https://stackoverflow.com/questions/54548786/realm-is-already-in-a-write-transaction-if-i-execute-two-transactions-in-the-sam/54549291#54549291", "title": "Realm is already in a write transaction if I execute two transactions in the same method", "body": "<p>If you using <code>executeTransaction</code> you don't need to write manually <code>beginTransaction()</code> and <code>commitTransaction()</code> it do it all for you.\n so basically you <code>beginTransaction()</code> and then start <code>executeTransaction</code> block and you get transaction inside transaction, this why the crash, also you can do all this code in one transaction.</p>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549452404, "post_id": 54552377, "comment_id": 95904835, "body": "well not exactly, I want to have a consecutive list of items, and since I am showing to the users only the last  n ones, to not make the app db too bigger I want to cut after a certain time(in the example 2, in reality 10) the oldest records"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549452633, "post_id": 54552377, "comment_id": 95904968, "body": "and now I get <code>aused by: java.lang.IllegalStateException: Changing Realm data can only be done from inside a transaction.</code> at line <code>recentAddressList.deleteFromRealm(i)</code>"}, {"owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "reply_to_user": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 1, "creation_date": 1549455223, "post_id": 54552377, "comment_id": 95906517, "body": "I think this should work, I have just tried the same. Let me know"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549456902, "post_id": 54552377, "comment_id": 95907589, "body": "I have to delete only one record but this is not important, the problem is that as soon as get deleted the transaction is created at [0] the first position, and not at the end"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1549457530, "post_id": 54552377, "comment_id": 95907932, "body": "I think this is due to the fact that the two transactions( insert and delete) are made together, not sandboxed"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 1, "creation_date": 1549471140, "post_id": 54552377, "comment_id": 95916509, "body": "solved the problem was in the fact I wanted to save the record as last, and this is not easy, so I reverted the list in the adapter and now works well"}], "tags": [], "owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "is_accepted": true, "score": 1, "last_activity_date": 1549453438, "last_edit_date": 1549453438, "creation_date": 1549451869, "answer_id": 54552377, "question_id": 54548786, "link": "https://stackoverflow.com/questions/54548786/realm-is-already-in-a-write-transaction-if-i-execute-two-transactions-in-the-sam/54552377#54552377", "title": "Realm is already in a write transaction if I execute two transactions in the same method", "body": "<p>If I understand your problem correctly, you want to eliminate/remove first two records (if there are) and insert new record at the end of the list. <strong>Try this</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>fun savedAddresses(name: String, address: String) {\n   realm.executeTransaction { realm -&gt;\n        val addressToSave = realm.createObject(RecentAddress::class.java)\n        addressToSave.name = name\n        addressToSave.street = address\n        //insert the record at the end of the list \n        realm.insert(addressToSave)\n    }\n    deleteOldRecords()\n}\n\nfun deleteOldRecords() {\n    realm.executeTransaction { realm -&gt; \n        val recentAddressList = realm.where(RecentAddress::class.java).findAll()\n        if(recentAddressList.size &gt; 2){\n            for(i in 0..1) {\n                recentAddressList.deleteFromRealm(i)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>please correct me if i understood wrong.</p>\n"}], "owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1872, "favorite_count": 0, "accepted_answer_id": 54552377, "answer_count": 2, "score": 0, "last_activity_date": 1549453438, "creation_date": 1549439171, "last_edit_date": 1592644375, "question_id": 54548786, "link": "https://stackoverflow.com/questions/54548786/realm-is-already-in-a-write-transaction-if-i-execute-two-transactions-in-the-sam", "title": "Realm is already in a write transaction if I execute two transactions in the same method", "body": "<p>I need to eliminate the first records recorded by the realm db if they are more than a certain number, but I get this exception:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The Realm is already in a write transaction in /Users/cm/Realm/realm-java/realm/realm-library/src/main/cpp/io_realm_internal_OsSharedRealm.cpp line 126\n    at io.realm.internal.OsSharedRealm.nativeBeginTransaction(Native Method)\n    at io.realm.internal.OsSharedRealm.beginTransaction(OsSharedRealm.java:269)\n    at io.realm.BaseRealm.beginTransaction(BaseRealm.java:404)\n    at io.realm.Realm.beginTransaction(Realm.java:145)\n    at io.realm.Realm.executeTransaction(Realm.java:1491)\n    atsavedAddresses(AddressBook.kt:39)````\n</code></pre>\n<p>As you can see below I tried to add <code>commitTransaction</code>, to play with <code>executeTransactionAsync</code>, and <code>executeTransaction</code>, begin transaction etc. But nothing is going to work although I read several so posts and GitHub issues comments , I even found this so <a href=\"https://stackoverflow.com/questions/39366182/the-realm-is-already-in-a-write-transaction\">post</a> but is too abstract to relate to my case</p>\n<pre><code>init {\n\n    Realm.init(ProActiveApplication.applicationContext())\n}\n\n\nprivate val realm = Realm.getDefaultInstance()\n\nval query = realm.where(RecentAddress::class.java).findAll()\n\nfun savedAddresses(name: String, address: String) {\n   realm.beginTransaction()\n    realm.executeTransactionAsync  {\n        val addressToSave = realm.createObject(RecentAddress::class.java)\n        addressToSave.name = name\n        addressToSave.street = address\n        Log.d(&quot;ME&quot;,&quot;-----------------&quot;)\n        Log.d(&quot;ME&quot;, &quot; CreateTransaction: ${addressToSave.name} in ${addressToSave.street}&quot;)\n        Log.d(&quot;ME&quot;,&quot;-----------------&quot;)\n    }\n    realm.commitTransaction()\n    realm.close()\n\n    realm.beginTransaction()\n    realm.executeTransaction {\n        if (query.size &gt; 2) {\n            val location = query.get(0)\n            Log.d(&quot;ME&quot;,&quot;-----------------&quot;)\n\n            Log.d(&quot;ME&quot;, &quot; This is cancelled: ${query.get(0)}&quot;)\n            Log.d(&quot;ME&quot;,&quot;-----------------&quot;)\n\n            location?.deleteFromRealm()\n\n        } }\n</code></pre>\n<p><em><strong>EDIT</strong></em></p>\n<p>As suggested I am going to eliminate <code>beginTransaction()</code> and <code>commitTransaction</code> also I changed to <code>executeTransaction</code> instead of `executeTransactionAsync()</p>\n<pre><code>    fun savedAddresses(name: String, address: String) {\n   // realm.beginTransaction()\n    realm.executeTransaction {\n        val addressToSave = realm.createObject(RecentAddress::class.java)\n        addressToSave.name = name\n        addressToSave.street = address\n        Log.d(&quot;ME&quot;, &quot;-----------------&quot;)\n        Log.d(&quot;ME&quot;, &quot; CreateTransaction: ${addressToSave.name} in ${addressToSave.street}&quot;)\n        Log.d(&quot;ME&quot;, &quot;-----------------&quot;)\n    }\n   // realm.commitTransaction()\n    realm.close()\n\n    // realm.beginTransaction()\n    realm.executeTransaction {\n        if (query.size &gt; 2) {\n            val location = query.get(0)\n            Log.d(&quot;ME&quot;, &quot;-----------------&quot;)\n\n            Log.d(&quot;ME&quot;, &quot; This is cancelled: ${query.get(0)}&quot;)\n            Log.d(&quot;ME&quot;, &quot;-----------------&quot;)\n\n            location?.deleteFromRealm()\n\n        }\n\n    }\n</code></pre>\n<p>Now I get that is like Realm is going to cancel the first 0 position, but then is going to add the next record in the 0 position <strong>and not at end</strong> of the list</p>\n<p>If I cancel the second block <code>executeTransaction</code>  the record are successfully added in sequential order, but remaining the second block, the transaction eliminate row 0 but then insert the second record at the position 0, not at the end of the list</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 671, "user_id": 10939976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efced1218f7aaada6b405b2a5993219f?s=128&d=identicon&r=PG&f=1", "display_name": "Suyash Chavan", "link": "https://stackoverflow.com/users/10939976/suyash-chavan"}, "is_accepted": false, "score": 0, "last_activity_date": 1549438274, "last_edit_date": 1549438274, "creation_date": 1549437563, "answer_id": 54548440, "question_id": 54547781, "link": "https://stackoverflow.com/questions/54547781/elegant-way-of-validating-permission-in-android-using-mvvm/54548440#54548440", "title": "Elegant way of validating permission in Android using MVVM", "body": "<p>A better approach will be to keep the validation at repository level only and keeping your viewmodel dumb as possible. It\u2019s very simply with <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">Kotlin\u2019s Function literals with receiver</a>.</p>\n\n<p>In your repository</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>fun getSomethingX(\n   data: Data,\n   onSuccess: (Single&lt;Data&gt;) -&gt; Unit,\n   onError: (String) -&gt; Unit\n) {\n   if (validation(data)) {\n      // Do the network call \n      onSuccess(//pass result)\n   } else onError(\u201cInvalid data\u201d)\n} \n</code></pre>\n\n<p>In your ViewModel </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>repository.getSomethingX(\n   data,\n   onSuccess = {\n        //it will give you Single&lt;Data&gt;\n        //Update the value\n    },\n    onError = {\n        //Emit error to view \n    }\n)\n</code></pre>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1549438274, "creation_date": 1549434400, "last_edit_date": 1549434739, "question_id": 54547781, "link": "https://stackoverflow.com/questions/54547781/elegant-way-of-validating-permission-in-android-using-mvvm", "title": "Elegant way of validating permission in Android using MVVM", "body": "<p>So, I'm using MVVM architecture with Repository pattern to make different API calls. \nI have a Repository called X, where I have different related API calls.</p>\n\n<p>Before any of these calls are made, I would like to do validation. If that proceeds successfully, only then network request should be made.</p>\n\n<pre><code>fun getSomethingX(data: Data): Single&lt;Data&gt; {\n    return if (validation(data)) {\n        service.getSomethingX()\n                .onErrorResumeNext(...)\n                .map { ... -&gt;\n                    ...\n                }\n    } else {\n        Single.just(null)\n    }\n}\n\nfun getSomethingY(data: Data): Single&lt;Data&gt; {\n    return if (validation(data)) {\n        service.getSomethingX()\n                .onErrorResumeNext(...)\n                .map { ... -&gt;\n                    ...\n                }\n    } else {\n        Single.just(null)\n    }\n } \n</code></pre>\n\n<p>As you can see I might have many network request functions called <code>getSomething..()</code>. I see this as a boiler-plate code. </p>\n\n<ol>\n<li><p>Is there some other way of dealing with validation (not only token validation but permission in general)? If so, can you show me an example?</p></li>\n<li><p>Is it okay to do permission validation in the Repository level?</p></li>\n<li><p>Maybe a better approach would be doing validation in <code>Interceptor</code>? But I don't see a clean way of canceling the request if validation does not pass.</p></li>\n</ol>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7017, "user_id": 816416, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cea2d43b65bd3fbc1a0991c30ace34f6?s=128&d=identicon&r=PG", "display_name": "Vishnu Haridas", "link": "https://stackoverflow.com/users/816416/vishnu-haridas"}, "edited": false, "score": 2, "creation_date": 1549447215, "post_id": 54547762, "comment_id": 95901672, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class\">Kotlin: Difference between object and companion object in a class</a>"}, {"owner": {"reputation": 31, "user_id": 10900382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73aa7125dfc1a8360a3783e0912d0ec2?s=128&d=identicon&r=PG", "display_name": "Thaer", "link": "https://stackoverflow.com/users/10900382/thaer"}, "reply_to_user": {"reputation": 7017, "user_id": 816416, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cea2d43b65bd3fbc1a0991c30ace34f6?s=128&d=identicon&r=PG", "display_name": "Vishnu Haridas", "link": "https://stackoverflow.com/users/816416/vishnu-haridas"}, "edited": false, "score": 0, "creation_date": 1549527156, "post_id": 54547762, "comment_id": 95935650, "body": "But it doesn&#39;t answer what is advantage of the companion object  over the object?"}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 10276942, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a5anJX3-E5A/AAAAAAAAAAI/AAAAAAAAAWg/AbxLWsNhKPs/photo.jpg?sz=128", "display_name": "Mehrbod Khiabani", "link": "https://stackoverflow.com/users/10276942/mehrbod-khiabani"}, "is_accepted": false, "score": 2, "last_activity_date": 1549435197, "creation_date": 1549435197, "answer_id": 54547955, "question_id": 54547762, "link": "https://stackoverflow.com/questions/54547762/object-vs-companion-object-in-class/54547955#54547955", "title": "Object vs companion Object in Class", "body": "<blockquote>\n  <p>A companion object is a specific type of object declaration that allows an object to act similar to static objects in other languages (such as Java). Adding companion to the object declaration allows for adding the \"static\" functionality to an object even though the actual static concept does not exist in Kotlin.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1576262363, "creation_date": 1576262363, "answer_id": 59328157, "question_id": 54547762, "link": "https://stackoverflow.com/questions/54547762/object-vs-companion-object-in-class/59328157#59328157", "title": "Object vs companion Object in Class", "body": "<p>Properties and functions declared in a companion object can be access directly by using the class name, same as we access static members in java.</p>\n\n<p>so in your code, makeCar function of Factory can be called in two following ways</p>\n\n<pre><code>Car.makeCar(50)         // From outside the class\nCar.Factory.makeCar(50) // From outside the class\nmakeCar(50)             // From inside the class\nFactory.makeCar(50)     // From insie the class\n</code></pre>\n\n<p>on the other hand makeCar function of Factory2 can only be called as follows.</p>\n\n<pre><code>Car.Factory2.makeCar(50) // From outside the class\nFactory2.makeCar(50)     // Inside the class\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 390, "user_id": 4921704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOXg.jpg?s=128&g=1", "display_name": "Asad Mukhtar", "link": "https://stackoverflow.com/users/4921704/asad-mukhtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1615121406, "creation_date": 1615121406, "answer_id": 66516705, "question_id": 54547762, "link": "https://stackoverflow.com/questions/54547762/object-vs-companion-object-in-class/66516705#66516705", "title": "Object vs companion Object in Class", "body": "<p><strong>Object</strong> in kotlin is a way of implementing Singletons.</p>\n<pre><code>object MyObject {\n\n// further implementation\n  \n  fun printHello() {\n    println(&quot;Hello World!&quot;)\n  }\n  \n}\n</code></pre>\n<p>This implementation is also called object declaration. Object declarations are thread-safe and are lazy initialized, i.e. objects are <em><strong>initialized</strong></em> when they are accessed for the first time.</p>\n<p><strong>Companion Object</strong>\nIf we want some implementation to be a class but still want to expose some behavior as static behavior, companion object come to the play. These are object declarations inside a class. These companion objects are initialized when the containing class is resolved, similar to static methods and variables in java world.</p>\n<pre><code>class MyClass {\n\n  // some implementations\n  \n  companion object {\n    val SOME_STATIC_VARIABLE = &quot;STATIC_VARIABLE&quot;\n    fun someStaticFunction() {\n      // static function implementation\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10900382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73aa7125dfc1a8360a3783e0912d0ec2?s=128&d=identicon&r=PG", "display_name": "Thaer", "link": "https://stackoverflow.com/users/10900382/thaer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1615121406, "creation_date": 1549434278, "last_edit_date": 1549438776, "question_id": 54547762, "link": "https://stackoverflow.com/questions/54547762/object-vs-companion-object-in-class", "title": "Object vs companion Object in Class", "body": "<p>What is different between <code>Factory</code> and <code>Factory2</code>? \nThey both seem to do same thing.</p>\n\n<pre><code>data class Car(val horsepowers: Int) {\ncompanion object Factory {\n    val cars = mutableListOf&lt;Car&gt;()\n\n    fun makeCar(horsepowers: Int): Car {\n        val car = Car(horsepowers)\n        cars.add(car)\n        return car\n    }\n}\nobject Factory2 {\n    val cars = mutableListOf&lt;Car&gt;()\n    fun makeCar(horsepowers: Int): Car {\n        val car = Car(horsepowers)\n        cars.add(car)\n        return car\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "edited": false, "score": 0, "creation_date": 1549434176, "post_id": 54547721, "comment_id": 95895731, "body": "Please post your code."}, {"owner": {"reputation": 105, "user_id": 6854525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99cf0728bba41e2a7d060343a705826?s=128&d=identicon&r=PG&f=1", "display_name": "DINESH KUMAR", "link": "https://stackoverflow.com/users/6854525/dinesh-kumar"}, "reply_to_user": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "edited": false, "score": 0, "creation_date": 1549434773, "post_id": 54547721, "comment_id": 95895973, "body": "<code>override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)  &#47;&#47;        setContentView(R.layout.activity_home)         var binding = DataBindingUtil.setContentView(this, R.layout.activity_home) ......        }</code>"}, {"owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "edited": false, "score": 0, "creation_date": 1549436173, "post_id": 54547721, "comment_id": 95896489, "body": "@Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);      //set contentView         ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);"}], "answers": [{"tags": [], "owner": {"reputation": 122540, "user_id": 379693, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2c9f04076de133db434c7d9966ac6f6b?s=128&d=identicon&r=PG", "display_name": "Paresh Mayani", "link": "https://stackoverflow.com/users/379693/paresh-mayani"}, "is_accepted": false, "score": 0, "last_activity_date": 1549434388, "creation_date": 1549434388, "answer_id": 54547778, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/54547778#54547778", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>by the way Clean build , invalid and restart is not the only solution in Android studio #JustKidding :) </p>\n\n<p>Regarding the error that you are facing, you actually need to specify the View:</p>\n\n<p><code>val listViewEmployees = findViewById(R.id.listViewEmployees)</code></p>\n\n<p>as ListView to</p>\n\n<p><code>val listViewEmployees = findViewById&lt;ListView&gt;(R.id.listViewEmployees)</code></p>\n"}, {"tags": [], "owner": {"reputation": 2795, "user_id": 5582190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRsy.jpg?s=128&g=1", "display_name": "Jaymin", "link": "https://stackoverflow.com/users/5582190/jaymin"}, "is_accepted": false, "score": 1, "last_activity_date": 1549441270, "last_edit_date": 1549441270, "creation_date": 1549435303, "answer_id": 54547974, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/54547974#54547974", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>Create a binding object like this.</p>\n\n<pre><code> val binding: ActivityMainBinding = DataBindingUtil.setContentView(\n        this, R.layout.activity_main)\n</code></pre>\n\n<p>You have to mention the <strong>Activity Binding type</strong>. I have the Main activity so the binding type is <code>ActivityMainBinding</code>. This is what you have missed.</p>\n\n<p><strong>It should be like this:</strong> </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) { \n  super.onCreate(savedInstanceState) \n  setContentView(R.layout.activity_home)\n  var binding : ActivityMainBinding = \n  DataBindingUtil.setContentView(this, R.layout.activity_home) \n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2929, "user_id": 3024565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ns51P.jpg?s=128&g=1", "display_name": "Ishaan", "link": "https://stackoverflow.com/users/3024565/ishaan"}, "edited": false, "score": 1, "creation_date": 1566237249, "post_id": 54548059, "comment_id": 101585214, "body": "This is not the correct answer, please refer my answer."}, {"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "reply_to_user": {"reputation": 2929, "user_id": 3024565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ns51P.jpg?s=128&g=1", "display_name": "Ishaan", "link": "https://stackoverflow.com/users/3024565/ishaan"}, "edited": false, "score": 1, "creation_date": 1570625331, "post_id": 54548059, "comment_id": 102971163, "body": "@Ishaan Its correct or not that will decide by users who is getting error and solved mine or yours solutions."}, {"owner": {"reputation": 2929, "user_id": 3024565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ns51P.jpg?s=128&g=1", "display_name": "Ishaan", "link": "https://stackoverflow.com/users/3024565/ishaan"}, "edited": false, "score": 1, "creation_date": 1574171623, "post_id": 54548059, "comment_id": 104130067, "body": "A thousand apologies, I&#39;d just started with data binding that time. The point to notice for beginners is the name &quot;ActivityHomeBinding&quot; which is derived from your layout name which in the above case is &quot;activity_home&quot; hence the binding class. The binding is a auto-generated class."}], "tags": [], "owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "is_accepted": true, "score": 6, "last_activity_date": 1549441122, "last_edit_date": 1549441122, "creation_date": 1549435752, "answer_id": 54548059, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/54548059#54548059", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>Use:</p>\n\n<pre><code>var binding : ActivityHomeBinding = DataBindingUtil.setContentView(this, R.layout.activity_home)\n</code></pre>\n\n<p><code>DataBindingUtil.setContentView</code> is returning the binding of the particular layout file passed in as parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 2929, "user_id": 3024565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ns51P.jpg?s=128&g=1", "display_name": "Ishaan", "link": "https://stackoverflow.com/users/3024565/ishaan"}, "is_accepted": false, "score": -1, "last_activity_date": 1589700594, "last_edit_date": 1589700594, "creation_date": 1566237471, "answer_id": 57561789, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/57561789#57561789", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<pre><code>private lateinit var binding: ActivityMainBinding\noverride fun onCreate(savedInstanceState: Bundle?) {\n   super.onCreate(savedInstanceState)\n   binding = DataBindingUtil.setContentView(this@MainActivity, R.layout.activity_main)\n}\n</code></pre>\n\n<p>In Kotlin everything seems weird initially. Refer the above code to resolve the issue, even then if the error doesn't resolve, checkout the type casting below.</p>\n\n<pre><code>binding = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this@MainActivity, R.layout.activity_main)\n</code></pre>\n\n<p>FYI: The name ActivityMainBinding comes from the name of your layout xml. If it's named \"activity_main\" it will be \"ActivityMainBinding\"</p>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 5477489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-o11KTZPnO6c/AAAAAAAAAAI/AAAAAAAAAL8/7TBBzAFD6jE/photo.jpg?sz=128", "display_name": "Leontsev Anton", "link": "https://stackoverflow.com/users/5477489/leontsev-anton"}, "is_accepted": false, "score": 0, "last_activity_date": 1594345618, "creation_date": 1594345618, "answer_id": 62826172, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/62826172#62826172", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>Modify your code to :</p>\n<pre><code>    var binding : ActivityMainBinding = \n    DataBindingUtil.setContentView(this,R.layout.activity_home) \n</code></pre>\n<p>Then make &quot;File -&gt; Invalidate Caches / Restart&quot;</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 9019131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XZA0i.jpg?s=128&g=1", "display_name": "Razz", "link": "https://stackoverflow.com/users/9019131/razz"}, "is_accepted": false, "score": 0, "last_activity_date": 1603226882, "last_edit_date": 1603226882, "creation_date": 1603226448, "answer_id": 64453015, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/64453015#64453015", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>You have to enable binding in view's XML file as well, by simply wrapping all the ui in layout tag.</p>\n<p>Just go to the file: <code>R.layout.activity_home</code></p>\n<p>It should look like the following code-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;data&gt;\n\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.activities.SurveyListActivity&quot;&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9886023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b5VS5VEUBHk/AAAAAAAAAAI/AAAAAAAACmI/rOKYyw_no84/photo.jpg?sz=128", "display_name": "Manas Uniyal", "link": "https://stackoverflow.com/users/9886023/manas-uniyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1618846109, "creation_date": 1618846109, "answer_id": 67164924, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview/67164924#67164924", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>In the layout file of your project i.e. <code>ativity_home.xml</code> make sure that you have enclosed your layout may it be a constraint, linear, relative, etc. in the <code>&lt;layout&gt;</code> tag.\n<strong>Also, add all the namespaces to the layout tag</strong>.</p>\n<p>For example, change</p>\n<pre><code>&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.ui.auth.SignUpActivity&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;layout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n&gt;\n\n&lt;data&gt;\n.\n.\n.\n&lt;data/&gt;\n\n&lt;Scroll View\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.auth.SignUpActivity&quot;&gt;\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 6854525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a99cf0728bba41e2a7d060343a705826?s=128&d=identicon&r=PG&f=1", "display_name": "DINESH KUMAR", "link": "https://stackoverflow.com/users/6854525/dinesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3738, "favorite_count": 1, "accepted_answer_id": 54548059, "answer_count": 7, "score": 8, "last_activity_date": 1618846109, "creation_date": 1549434052, "last_edit_date": 1549442484, "question_id": 54547721, "link": "https://stackoverflow.com/questions/54547721/kotlin-resolve-error-in-databindingutil-setcontentview", "title": "kotlin - resolve error in DataBindingUtil.setContentView()", "body": "<p>I am facing problem in <code>DataBindingUtil.setContentView()</code>. It is showing the following error.</p>\n\n<blockquote>\n  <p>[Type inference failed: Not enough information to infer parameter T in fun  setContentView(p0: Activity, p1: Int): T!\n      Please specify it explicitly.</p>\n</blockquote>\n\n<p><strong>MY Code :</strong> </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) { \n    super.onCreate(savedInstanceState) \n    // setContentView(R.layout.activity_home) var binding = \n    DataBindingUtil.setContentView(this, R.layout.activity_home) \n} \n</code></pre>\n\n<p>Anyone help me resolve this error. I have done clean and <code>Rebuild(Invalidate and Restart)</code> also. </p>\n\n<p>Please let me know any other suggestion.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "edited": false, "score": 0, "creation_date": 1551795767, "post_id": 54547595, "comment_id": 96765034, "body": "Did you found a solution to this?"}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 1229425, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17b69d0d6bf645f459ce08524daa8bf1?s=128&d=identicon&r=PG", "display_name": "EscapeArtist", "link": "https://stackoverflow.com/users/1229425/escapeartist"}, "edited": false, "score": 3, "creation_date": 1549507980, "post_id": 54565389, "comment_id": 95929747, "body": "I would definitely not use a timer anywhere, that would be a bad idea, since all you need is to actually check for login credentials. But my problem is more, what do you land on?  The Splash fragment? The android team was saying not to use conditional entry points, but in that case I&#39;m not sure where you would check for login credentials. Later on, is it fine to have the whole bottom nav, plus a nav drawer, all of it sitting in a fragment?"}, {"owner": {"reputation": 494, "user_id": 9407751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gOZxSZGn-QU/AAAAAAAAAAI/AAAAAAAAAmk/vubEBvNQ87s/photo.jpg?sz=128", "display_name": "faskN", "link": "https://stackoverflow.com/users/9407751/faskn"}, "reply_to_user": {"reputation": 718, "user_id": 1229425, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17b69d0d6bf645f459ce08524daa8bf1?s=128&d=identicon&r=PG", "display_name": "EscapeArtist", "link": "https://stackoverflow.com/users/1229425/escapeartist"}, "edited": false, "score": 0, "creation_date": 1549509931, "post_id": 54565389, "comment_id": 95930073, "body": "Timer just for splash screen. If you don&#39;t want, you can delete it. You can make login screen like that : When user login the app, save them on Shared Preferences and in splash screen check it, or another system like that?  Later on, put bottom nav,toolbar,drawer on activity, and then add a fragment to main_activity. Just switch the fragments."}], "tags": [], "owner": {"reputation": 494, "user_id": 9407751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gOZxSZGn-QU/AAAAAAAAAAI/AAAAAAAAAmk/vubEBvNQ87s/photo.jpg?sz=128", "display_name": "faskN", "link": "https://stackoverflow.com/users/9407751/faskn"}, "is_accepted": false, "score": 0, "last_activity_date": 1549505941, "creation_date": 1549505941, "answer_id": 54565389, "question_id": 54547595, "link": "https://stackoverflow.com/questions/54547595/navigation-component-with-login-register-home-flow/54565389#54565389", "title": "Navigation Component with Login / Register / Home flow", "body": "<p>Simple example = </p>\n\n<p>Single activity, Multi fragment with bottom navigation bar and with Android Navigation comp.</p>\n\n<p>Plan:</p>\n\n<ul>\n<li>Show a splash screen with a timer like 3000 milis.</li>\n<li>End of the milis navigate the user to login screen if already logged (check it on splash) navigate user to home screen</li>\n<li>Now you can show a bottom nav. bar. For example \"Home\" \"News\"</li>\n<li>You can handle backPresses in navigation. Handle for home (Disable to returning splash)</li>\n</ul>\n\n<p>That's all folks!</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9606552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "max man", "link": "https://stackoverflow.com/users/9606552/max-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1559200989, "creation_date": 1559200989, "answer_id": 56373576, "question_id": 54547595, "link": "https://stackoverflow.com/questions/54547595/navigation-component-with-login-register-home-flow/56373576#56373576", "title": "Navigation Component with Login / Register / Home flow", "body": "<p>One way to do this, you hide the bottom navigation in the login and popup the homepage when you navigate to the login page so the user would not be able to go back to the splash screen</p>\n\n<p>1-you can hide the bottom naviagtion bar in the login fragment like this</p>\n\n<pre><code>val toolbar = activity!!.findViewById&lt;Toolbar&gt;(R.id.toolbar)\nval bottombar = activity!!.findViewById&lt;BottomNavigationView&gt;(R.id.bottomNavigationView)\n        toolbar.visibility = View.GONE\n        bottombar.visibility = View.GONE\n</code></pre>\n\n<p>2- popup the splash fragment when you navigate to the login page</p>\n\n<pre><code>&lt;action\n            android:id=\"@+id/action_splashFragment_to_loginFragment\"\n            app:destination=\"@id/loginFragment\"\n            app:popUpTo=\"@+id/splashFragment\"\n            app:popUpToInclusive=\"true\"/&gt;\n</code></pre>\n\n<p>Hopefully it will work for you</p>\n"}], "owner": {"reputation": 718, "user_id": 1229425, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/17b69d0d6bf645f459ce08524daa8bf1?s=128&d=identicon&r=PG", "display_name": "EscapeArtist", "link": "https://stackoverflow.com/users/1229425/escapeartist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2355, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1559200989, "creation_date": 1549433458, "question_id": 54547595, "link": "https://stackoverflow.com/questions/54547595/navigation-component-with-login-register-home-flow", "title": "Navigation Component with Login / Register / Home flow", "body": "<p>I would like to use the new Navigation Component for my next application but I can't quite wrap my head around the overall flow of navigation.\nThe Android team recommends a single activity as an entry point. They also suggest that conditional elements like a login / register should not be the entry point.\nBut then how do you display the login and register buttons if the entry screen is supposed to be the home screen?</p>\n\n<p>Another idea is to use a Splash screen, have the logic there to determine if the user is already logged in, if so go to the home screen, if not show the login / register screen(s).</p>\n\n<p>My other issue is with the single activity. My home screen would need to be a screen with a Bottom Navigation.</p>\n\n<p>How do you tie all of this the \"right way\"? Do I need to have a separate navigation graph for the Home view, with the Bottom Navigation and the many screens that will flow from there?</p>\n\n<p>All the examples I have found have been very straightforward, and the few I have seen with a Splash screen splitting into Home and Login have a very simple Home fragment, which in my case would be . more complex with the Bottom Nav.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["swift", "oop", "kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 5252, "user_id": 1189800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQHkY.jpg?s=128&g=1", "display_name": "Chetan Joshi", "link": "https://stackoverflow.com/users/1189800/chetan-joshi"}, "edited": false, "score": 0, "creation_date": 1549432148, "post_id": 54547040, "comment_id": 95895048, "body": "Check this link <a href=\"https://touk.pl/blog/2015/10/11/kotlin-callable-and-executorservice/\" rel=\"nofollow noreferrer\">touk.pl/blog/2015/10/11/kotlin-callable-and-executorservice</a>"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1549432606, "post_id": 54547040, "comment_id": 95895189, "body": "Swift 5 will support this: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0216-dynamic-callable.md\" rel=\"nofollow noreferrer\">github.com/apple/swift-evolution/blob/master/proposals/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1549432593, "creation_date": 1549432593, "answer_id": 54547423, "question_id": 54547040, "link": "https://stackoverflow.com/questions/54547040/callable-object-in-kotlin-or-swift/54547423#54547423", "title": "Callable object in Kotlin or Swift", "body": "<p>You can overload the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\"><code>invoke</code> operator</a>: </p>\n\n<pre><code>class Callable(val prop: String) {\n    operator fun invoke(para : String) {\n        println(\"Invoke: $prop $para\")\n    }\n}\n\nfun main() {\n    val c = Callable(\"prop\")\n    c(\"para\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1012, "user_id": 7034640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0bea3927a5dd6bc8af52f58ea60a843a?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Henry", "link": "https://stackoverflow.com/users/7034640/ted-henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 54547423, "answer_count": 1, "score": 0, "last_activity_date": 1549432593, "creation_date": 1549430217, "last_edit_date": 1549432128, "question_id": 54547040, "link": "https://stackoverflow.com/questions/54547040/callable-object-in-kotlin-or-swift", "title": "Callable object in Kotlin or Swift", "body": "<p>Is it possible to create a <code>callable</code> object in <code>Kotlin</code> and/or <code>Swift</code>?</p>\n\n<p>I have many objects that have just one method <code>execute</code>. The object is basically used as a closure. Some dependencies are captured during object construction. Some arguments are passed when the <code>execute</code> method is called. </p>\n\n<p>The reason I\u2019m not using plain functions is the classes implement interfaces and type checking is much more helpful though out the program.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 2, "last_activity_date": 1549432354, "creation_date": 1549432354, "answer_id": 54547370, "question_id": 54547035, "link": "https://stackoverflow.com/questions/54547035/anyclass-class-equivalent-in-kotlin-mockito/54547370#54547370", "title": "any(Class.class) equivalent in kotlin mockito", "body": "<p>You have to specify the class as generic type argument:</p>\n\n<pre><code>verify(myTestObject).execute(any&lt;Callback&gt;())\n</code></pre>\n\n<p>Or, due to type inference, you can leave it out:</p>\n\n<pre><code>verify(myTestObject).execute(any())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3390381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3da178c700a57c50559f44181b9cde32?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u044f", "link": "https://stackoverflow.com/users/3390381/%d0%98%d0%bb%d1%8c%d1%8f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1556, "favorite_count": 0, "accepted_answer_id": 54547370, "answer_count": 1, "score": 0, "last_activity_date": 1549439793, "creation_date": 1549430168, "last_edit_date": 1549439793, "question_id": 54547035, "link": "https://stackoverflow.com/questions/54547035/anyclass-class-equivalent-in-kotlin-mockito", "title": "any(Class.class) equivalent in kotlin mockito", "body": "<p>In java we would do the following:</p>\n\n<pre><code>verify(myTestObject).execute(any(Callback.class))\n</code></pre>\n\n<p>In kotlin if I use <code>any(Callback::class)</code> I get \"too many arguments for public fun  any(): T defined in com.nhaarman.mockitokotlin2\".</p>\n"}, {"tags": ["android", "android-studio", "android-layout", "kotlin", "android-layout-editor"], "comments": [{"owner": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1549429095, "post_id": 54546694, "comment_id": 95894130, "body": "It might be a cache issue, just try to restart with clean cache."}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549429107, "post_id": 54546694, "comment_id": 95894132, "body": "I see this issue a lot, it looks like a bug in android studio. check this <a href=\"https://stackoverflow.com/questions/53403502/strange-error-in-colors-xml-file-in-android-studio\" title=\"strange error in colors xml file in android studio\">stackoverflow.com/questions/53403502/&hellip;</a>"}, {"owner": {"reputation": 2053, "user_id": 4156841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pVR5A0a9msQ/AAAAAAAAAAI/AAAAAAAAAgQ/LNx72NimbkE/photo.jpg?sz=128", "display_name": "Amit Jangid", "link": "https://stackoverflow.com/users/4156841/amit-jangid"}, "edited": false, "score": 0, "creation_date": 1549429124, "post_id": 54546694, "comment_id": 95894139, "body": "you can try git revert once....if you haven&#39;t made any major changes...as you are saying on git it&#39;s showing correct code..."}, {"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "reply_to_user": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1549429799, "post_id": 54546694, "comment_id": 95894338, "body": "@AkshayPaliwal already try it but not working"}, {"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "reply_to_user": {"reputation": 2053, "user_id": 4156841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pVR5A0a9msQ/AAAAAAAAAAI/AAAAAAAAAgQ/LNx72NimbkE/photo.jpg?sz=128", "display_name": "Amit Jangid", "link": "https://stackoverflow.com/users/4156841/amit-jangid"}, "edited": false, "score": 0, "creation_date": 1549429809, "post_id": 54546694, "comment_id": 95894342, "body": "@AmitJangid i can&#39;t revert my git since there is no change at all.. my remote repo == local repo"}, {"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549430000, "post_id": 54546694, "comment_id": 95894407, "body": "@KaranMer hmm i think so.. yesterday all is fine. and today i just open my project to start working and this happen.."}, {"owner": {"reputation": 5252, "user_id": 1189800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQHkY.jpg?s=128&g=1", "display_name": "Chetan Joshi", "link": "https://stackoverflow.com/users/1189800/chetan-joshi"}, "edited": false, "score": 1, "creation_date": 1549430703, "post_id": 54546694, "comment_id": 95894597, "body": "delete wrong file and then do rebuild , invalidate cache it shows error , and then paste deleted file again ."}, {"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "reply_to_user": {"reputation": 5252, "user_id": 1189800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQHkY.jpg?s=128&g=1", "display_name": "Chetan Joshi", "link": "https://stackoverflow.com/users/1189800/chetan-joshi"}, "edited": false, "score": 0, "creation_date": 1549437010, "post_id": 54546694, "comment_id": 95896817, "body": "@ChetanJoshi thanks it works. apparently this is a bug from android studio and there is no way we can realy fix this. it can appear anytime in any project. this is the only way we can do"}, {"owner": {"reputation": 15333, "user_id": 1617737, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/BSCrn.jpg?s=128&g=1", "display_name": "ban-geoengineering", "link": "https://stackoverflow.com/users/1617737/ban-geoengineering"}, "edited": false, "score": 0, "creation_date": 1552051318, "post_id": 54546694, "comment_id": 96876111, "body": "My solution was to open all my xml and Java files in TextPad, add some harmless whitespace to each one before re-saving. It&#39;s a bit of a pain, but now the correct files show in the IDE. (Incidentally, I left Android Studio open while doing all this - maybe that was necessary for it to pick up the file changes.)"}, {"owner": {"reputation": 548, "user_id": 4334920, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NCPe_PIkDJA/AAAAAAAAAAI/AAAAAAAAAD0/t9nO1c_k1bQ/photo.jpg?sz=128", "display_name": "Renish Patel", "link": "https://stackoverflow.com/users/4334920/renish-patel"}, "edited": false, "score": 0, "creation_date": 1565072921, "post_id": 54546694, "comment_id": 101225360, "body": "Simple Solutions for this situation. <b>Step 1.</b> Close Android Studio <b>Step 2.</b> Open <code>C:\\Users\\renish\\.AndroidStudio3.4\\system\\caches</code> Folder into your file explorer and Remove all files and folder from caches <b>Step 3.</b> Start again Android Studio"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "edited": false, "score": 0, "creation_date": 1549429523, "post_id": 54546835, "comment_id": 95894249, "body": "1. not working  2. there is no &quot;Android Support&quot; in plugin, so i try disable-restart-enable-restart &quot;Android APK Support&quot; &amp; &quot;Android NDK Support&quot;. and the problem still exist"}, {"owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "reply_to_user": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "edited": false, "score": 0, "creation_date": 1549429909, "post_id": 54546835, "comment_id": 95894375, "body": "tried invalidate cache/restart from Files &gt; invalidate cache/restart"}, {"owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "edited": false, "score": 0, "creation_date": 1549430158, "post_id": 54546835, "comment_id": 95894456, "body": "Already try it, still not solved this issue"}, {"owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "reply_to_user": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "edited": false, "score": 0, "creation_date": 1549430436, "post_id": 54546835, "comment_id": 95894530, "body": "1.Files &gt; invalidate cache/restart  2. Delete .idea &amp; .gradle file 3. re-import project and clean project"}], "tags": [], "owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "is_accepted": false, "score": 0, "last_activity_date": 1549428958, "creation_date": 1549428958, "answer_id": 54546835, "question_id": 54546694, "link": "https://stackoverflow.com/questions/54546694/android-studio-open-wrong-file-when-trying-to-open-xml-layout-file/54546835#54546835", "title": "Android Studio Open Wrong File When Trying to Open XML layout file", "body": "<ul>\n<li>Restart your Android Studio, if not working, Restart your PC.\nor</li>\n<li>Go to plugins -> Android support and disable this. Restart Android studio and enable the plugin again</li>\n</ul>\n\n<p>After that don't forget to Refresh your Gradle project.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1549437080, "creation_date": 1549437080, "answer_id": 54548342, "question_id": 54546694, "link": "https://stackoverflow.com/questions/54546694/android-studio-open-wrong-file-when-trying-to-open-xml-layout-file/54548342#54548342", "title": "Android Studio Open Wrong File When Trying to Open XML layout file", "body": "<p>So Apparently this issue is bug in Android Studio. after do some research, this bug might be happen not just to xml layout but other xml file too such as resource like dimens, strings, style etc..</p>\n\n<p>finally there is some workaround for this issue that work without reinstall Android Studio.\nThank you @ChetanJoshi for the suggestion in the comment section.</p>\n\n<p>Steps:</p>\n\n<ul>\n<li>Copy the error xml file to somewhere in your PC directory (as backup file)</li>\n<li>Delete the error xml file, if there is dialog file usage appear klik delete anyway</li>\n<li>Copy the backup file and paste it back to where it was deleted</li>\n<li><strong>Run your project</strong>. it should run</li>\n<li>If you are using Data Binding and there is error appear about auto generated data binding\nclass, Clean Project then rebuild project. if the error still appear try to invalidate caches/restart, rebuild project then run the project</li>\n</ul>\n"}], "owner": {"reputation": 91, "user_id": 10357347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-g_ULiGiGtPg/AAAAAAAAAAI/AAAAAAAAAzA/pR9EV-gPsLI/photo.jpg?sz=128", "display_name": "wood wood", "link": "https://stackoverflow.com/users/10357347/wood-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 1, "closed_date": 1550019531, "answer_count": 2, "score": 5, "last_activity_date": 1549442400, "creation_date": 1549427883, "last_edit_date": 1549442400, "question_id": 54546694, "link": "https://stackoverflow.com/questions/54546694/android-studio-open-wrong-file-when-trying-to-open-xml-layout-file", "closed_reason": "Duplicate", "title": "Android Studio Open Wrong File When Trying to Open XML layout file", "body": "<p>I am using android studio 3.3, my project is using kotlin 1.3.20 with build gradle 3.3.0</p>\n\n<p>however when i try to open xml file, it open different file with the right file name and the right file path:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zFGe6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFGe6.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when i try to see this xml file in my Git, my file is normal</p>\n\n<p><a href=\"https://i.stack.imgur.com/wrGon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrGon.png\" alt=\"enter image description here\"></a></p>\n\n<p>when i try to run this project, it run with no problem at all.\ni already try to invalidate caches/restart but the problem still exist.</p>\n\n<p>this error affecting random xml files. some of my xml layout files open my kotlin file. some of them open auto generated file</p>\n\n<p>please help.... is this something to do with error indexing? how can i fix this?</p>\n\n<p><strong>UPDATE :</strong> </p>\n\n<p>found someone who might have the same problem with this, in google issue tracker : <a href=\"https://issuetracker.google.com/issues/122988154\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/122988154</a></p>\n\n<p><strong>UPDATE 2 :</strong></p>\n\n<p>this issue is not just happen in xml file but also in kotlin file.</p>\n\n<p>i try to open my activity file, but it open one of data binding generated classes</p>\n"}, {"tags": ["java", "android", "mobile", "kotlin"], "comments": [{"owner": {"reputation": 288, "user_id": 7021841, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/247bbe5c6b35f5b729187675c830eb9f?s=128&d=identicon&r=PG&f=1", "display_name": "acn3", "link": "https://stackoverflow.com/users/7021841/acn3"}, "edited": false, "score": 0, "creation_date": 1549418337, "post_id": 54545506, "comment_id": 95891920, "body": "It seems like the link you included is not working.  Could you attach a clip of the animation instead?"}, {"owner": {"reputation": 1, "user_id": 11020541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kfQQuo51TOY/AAAAAAAAAAI/AAAAAAAAAAo/ORBgw0kvsgI/photo.jpg?sz=128", "display_name": "Elton Jhony", "link": "https://stackoverflow.com/users/11020541/elton-jhony"}, "reply_to_user": {"reputation": 288, "user_id": 7021841, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/247bbe5c6b35f5b729187675c830eb9f?s=128&d=identicon&r=PG&f=1", "display_name": "acn3", "link": "https://stackoverflow.com/users/7021841/acn3"}, "edited": false, "score": 0, "creation_date": 1549475876, "post_id": 54545506, "comment_id": 95918940, "body": "That&#39;s the link: <a href=\"https://play.google.com/store/apps/details?id=com.google.tango.measure\" rel=\"nofollow noreferrer\">play.google.com/store/apps/details?id=com.google.tango.measu&zwnj;&#8203;re</a>"}], "owner": {"reputation": 1, "user_id": 11020541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kfQQuo51TOY/AAAAAAAAAAI/AAAAAAAAAAo/ORBgw0kvsgI/photo.jpg?sz=128", "display_name": "Elton Jhony", "link": "https://stackoverflow.com/users/11020541/elton-jhony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549416819, "creation_date": 1549416819, "question_id": 54545506, "link": "https://stackoverflow.com/questions/54545506/how-to-create-animated-selection-of-two-points-just-like-the-app-measure-quic", "title": "How to create animated selection of two points just like the app &quot;Measure - Quick Everyday Measurements&quot; does", "body": "<p>I have to make an app that offers something like the app \"Measure - Quick Everyday Measurements\" does, regarding the selection of two points in an animated way. </p>\n\n<p>Take a look at the video showing how the app works <a href=\"https://play.google.com/store/apps/details?id=com.google.tango.measure\" rel=\"nofollow noreferrer\">here</a>!</p>\n\n<p>If there is no way to do this by using native code in Android, Can someone tell me which SDK or library could be used to achieve a similar result?</p>\n\n<p>For now, I do not have the need to calculate the line distance (could be a plus). My need is to have something similar in terms of usability.</p>\n"}, {"tags": ["java", "kotlin", "picocli"], "comments": [{"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1549416308, "post_id": 54544936, "comment_id": 95891567, "body": "You need to specify what kind of exceptions are being thrown."}, {"owner": {"reputation": 69, "user_id": 7263457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e869980c020492e19b5c15a8cbb86?s=128&d=identicon&r=PG&f=1", "display_name": "Okumo", "link": "https://stackoverflow.com/users/7263457/okumo"}, "reply_to_user": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1549442016, "post_id": 54544936, "comment_id": 95898889, "body": "@ScubaSteve For what? What exactly do you suggest?"}, {"owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1549479114, "post_id": 54544936, "comment_id": 95920399, "body": "I suggest, that you specify the exceptions being thrown. A stack trace, for example."}, {"owner": {"reputation": 69, "user_id": 7263457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e869980c020492e19b5c15a8cbb86?s=128&d=identicon&r=PG&f=1", "display_name": "Okumo", "link": "https://stackoverflow.com/users/7263457/okumo"}, "reply_to_user": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "edited": false, "score": 0, "creation_date": 1549480294, "post_id": 54544936, "comment_id": 95920971, "body": "@ScubaSteve I have no idea how can it help, but here you go."}], "answers": [{"tags": [], "owner": {"reputation": 29219, "user_id": 1446916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886bfa218820b99918fc666bd8919b71?s=128&d=identicon&r=PG", "display_name": "Remko Popma", "link": "https://stackoverflow.com/users/1446916/remko-popma"}, "is_accepted": true, "score": 1, "last_activity_date": 1549510414, "last_edit_date": 1549510414, "creation_date": 1549495458, "answer_id": 54564091, "question_id": 54544936, "link": "https://stackoverflow.com/questions/54544936/how-can-i-handle-errors-in-picocli/54564091#54564091", "title": "How can I handle errors in picocli?", "body": "<blockquote>\n  <p>Ignoring parsing errors is unusual, but can be useful when creating\n  your own <em>interactive</em> CLI console, as opposed to a single command. My answer assumes this is what you have in mind. </p>\n</blockquote>\n\n<p>One idea is to use the <code>parseArgs</code> method instead of the <code>populateCommand</code> method. This method returns a <a href=\"https://picocli.info/apidocs/picocli/CommandLine.ParseResult.html\" rel=\"nofollow noreferrer\"><code>ParseResult</code></a> from which you can obtain the errors that picocli encountered during parsing, if you\u2019ve configured the parser to be lenient. </p>\n\n<p>For example:</p>\n\n<pre><code>val myCommand = MyCommand();\nval commandLine = CommandLine(myCommand);\n\n// tell parser to be lenient \ncommandLine.getCommandSpec().parser().collectErrors(true);\n\n// parse user input, query result for errors \nval parseResult = commandLine.parseArgs(args); \nval parseErrors: List&lt;Exception&gt; = parseResult.errors();\n\n// ignoring the errors for now...\nmyCommand.execute();\nval output = myCommand.getOutput();\nval appErrors: List&lt;String&gt; = myCommand.getErrors();\n</code></pre>\n\n<blockquote>\n  <p>Note that if there <em>are</em> any parsing errors, this means that the user\n  specified invalid input. As a result, your command may not have been\n  correctly initialized. The <code>execute</code> method needs to be extra robust\n  to deal with partially initialized options/positional parameters.</p>\n</blockquote>\n\n<p>TIP: If you are creating your own <em>interactive</em> CLI console (as opposed to a single command), you may be interested in <a href=\"https://github.com/jline/jline2\" rel=\"nofollow noreferrer\">JLine 2</a> (requires Java 5 or higher) or <a href=\"https://github.com/jline/jline3\" rel=\"nofollow noreferrer\">JLine 3</a> (requires Java 8 or higher). Picocli provides <a href=\"https://github.com/remkop/picocli/tree/master/picocli-shell-jline2\" rel=\"nofollow noreferrer\">picocli-shell-jline2</a> and <a href=\"https://github.com/remkop/picocli/tree/master/picocli-shell-jline3\" rel=\"nofollow noreferrer\">picocli-shell-jline3</a> modules that have a <code>PicocliJLineCompleter</code> that shows context-sensitive completion candidates for picocli commands. (The readme of each module has an example.) Applications that use picocli to define their commands no longer need to hand-code Completers for their commands and options. (An early version of this is used in the <a href=\"http://guides.micronaut.io/micronaut-cli/guide/index.html\" rel=\"nofollow noreferrer\">Micronaut CLI</a>.)</p>\n"}], "owner": {"reputation": 69, "user_id": 7263457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/809e869980c020492e19b5c15a8cbb86?s=128&d=identicon&r=PG&f=1", "display_name": "Okumo", "link": "https://stackoverflow.com/users/7263457/okumo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 54564091, "answer_count": 1, "score": 3, "last_activity_date": 1549510414, "creation_date": 1549411797, "last_edit_date": 1549480174, "question_id": 54544936, "link": "https://stackoverflow.com/questions/54544936/how-can-i-handle-errors-in-picocli", "title": "How can I handle errors in picocli?", "body": "<p>I try to implement my own CLI and want to use picocli for parsing my commands' arguments. That's why I don't want picocli to write in console at all. So I created class <code>MyCommand</code> with some option and parameters annotations. Now I want to be able to do something like this:</p>\n\n<pre><code>val myCommand = CommandLine.populateCommand(MyCommand(), args)\nmyCommand.execute();\nval output = myCommand.getOutput();\nval errors: List&lt;String&gt; = myCommand.getErrors();\n</code></pre>\n\n<p>There is no problems with the first three lines, but I am not sure how to deal with the fourth. Now <code>populateCommand</code> just throws all exceptions, and catching them is not an option, because thrown exception will stop my pipeline computations. Picocli documentation suggests to use parser lenient mode for exceptions to be stored in <code>ParseResult</code>, but it means I have to use <code>commandLine.parseWithHandlers</code> method that is hard to use for my needs.<br>\nAm I missing something? Maybe I sill can use <code>populateCommand</code> and have exception stored in some place?<br>\nHere is stacktrace for one of exceptions that <code>populateCommand</code> throws:</p>\n\n<pre><code>Exception in thread \"main\" picocli.CommandLine$MissingParameterException: Missing required parameter for option '-A' (&lt;afterContext&gt;)\n    at picocli.CommandLine$Interpreter.assertNoMissingParameters(CommandLine.java:8059)\n    at picocli.CommandLine$Interpreter.applyOption(CommandLine.java:7534)\n    at picocli.CommandLine$Interpreter.processStandaloneOption(CommandLine.java:7446)\n    at picocli.CommandLine$Interpreter.processArguments(CommandLine.java:7355)\n    at picocli.CommandLine$Interpreter.parse(CommandLine.java:7226)\n    at picocli.CommandLine$Interpreter.parse(CommandLine.java:7116)\n    at picocli.CommandLine.parse(CommandLine.java:824)\n    at picocli.CommandLine.populateCommand(CommandLine.java:777)\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549435112, "post_id": 54544791, "comment_id": 95896075, "body": "<code>GlobalScope</code> is not recommended to use. Please, see thread <a href=\"https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch/\" title=\"why not use globalscope launch\">stackoverflow.com/questions/54335365/&hellip;</a>"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1549483734, "post_id": 54544791, "comment_id": 95922445, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch\">Why not use GlobalScope.launch?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1550656202, "creation_date": 1550656202, "answer_id": 54783310, "question_id": 54544791, "link": "https://stackoverflow.com/questions/54544791/when-using-kotlin-coroutines-is-it-best-practice-to-use-globalscope-launch-or/54783310#54783310", "title": "When using Kotlin Coroutines is it best practice to use GlobalScope.launch() or to inherit GlobalScope?", "body": "<p>There's a third option as well</p>\n\n<pre><code>class MyClass(): CoroutineScope by GlobalScope\n</code></pre>\n\n<p>But there's a simple question which you should ask when considering how to implement it: Do you want <code>MyClass</code> to be a <code>CoroutineScope</code> which could be used by other parts of code base as well?</p>\n\n<p>Most of the time the answer should be no and therefore it might be better to use <code>GlobalScope</code> directly.</p>\n\n<p>Also I'm assuming, <code>GlobalScope</code> is the scope to use here and not go into details of why to consider not using it.</p>\n"}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550656202, "creation_date": 1549410621, "question_id": 54544791, "link": "https://stackoverflow.com/questions/54544791/when-using-kotlin-coroutines-is-it-best-practice-to-use-globalscope-launch-or", "title": "When using Kotlin Coroutines is it best practice to use GlobalScope.launch() or to inherit GlobalScope?", "body": "<p>I've seen two different uses of Coroutines at my company and I'm wondering which is best?</p>\n\n<p>Usage 1</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.IO) {\n    loadMyData()\n}\n</code></pre>\n\n<p>Usage 2</p>\n\n<pre><code>class MyClass(): GlobalScope {\n. . .\n    launch(Dispatchers.IO){\n        loadMyData()\n    }\n. . . \n}\n</code></pre>\n\n<p>Is one better than the other?  what are the pros and cons of each?</p>\n"}, {"tags": ["kotlin", "syntax"], "answers": [{"comments": [{"owner": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549447868, "post_id": 54548544, "comment_id": 95902059, "body": "Thank you for your answer, but what confuses me is that the <code>own</code> member function of <code>B</code> successfully accesses the outer scope (e.g. in java terms it is <code>A.this</code>), but the <code>ext</code> extension function is unable to access it. From my perspective they should be the same since the bytecode for the inner (not static) class should have a reference to its outer class. Correct me if I am wrong, I might have misunderstood you."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549450021, "post_id": 54548544, "comment_id": 95903381, "body": "Yes, it has a reference to the outer class. But it&#39;s a package-level field (not sure why it isn&#39;t private) which can be accessed from class methods, but can&#39;t be accessed from methods which just take it as an argument. It doesn&#39;t matter whether the methods are extension functions."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549450127, "post_id": 54548544, "comment_id": 95903453, "body": "Second: the outer scope is not <code>A.this</code>, it&#39;s <code>class A { ... }</code>. Because <code>A.B.ext()</code> is not defined inside <code>class A</code>, that&#39;s not its outer scope. Again, in the documentations example outer scopes for <code>Int.foo()</code> are <code>class A { ... }</code> and <code>class B { ... }</code>, not <code>Int</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549450397, "post_id": 54548544, "comment_id": 95903615, "body": "Please see <a href=\"https://en.wikipedia.org/wiki/Scope_(computer_science)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scope_(computer_science)</a> for meaning of &quot;scope&quot;."}, {"owner": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549532242, "post_id": 54548544, "comment_id": 95938269, "body": "But I define the extension function in the same package. Why can it not access the reference to the outer class?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549532693, "post_id": 54548544, "comment_id": 95938531, "body": "That doesn&#39;t change anything about scoping, so it still isn&#39;t &quot;<code>this</code> from outer scope&quot;. And the field is compiler-created and can&#39;t be accessed by name without reflection from Java or Kotlin (AFAIK)."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549532989, "post_id": 54548544, "comment_id": 95938701, "body": "And I agree with this comment there: <a href=\"https://stackoverflow.com/questions/1816458/getting-hold-of-the-outer-class-object-from-the-inner-class-object#comment1706317_1816462\" title=\"getting hold of the outer class object from the inner class object%23comment1706317_1816462\">stackoverflow.com/questions/1816458/&hellip;</a>"}, {"owner": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549534121, "post_id": 54548544, "comment_id": 95939369, "body": "Please update your answer with the additional information from the comments and I will accept your answer. It would be great if you briefly describe what internal mechanisms extensional functions use for them to work."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "edited": false, "score": 0, "creation_date": 1549644293, "post_id": 54548544, "comment_id": 95989763, "body": "I figured out why the field isn&#39;t private (since it was surprising to me) <a href=\"https://stackoverflow.com/questions/54588276/why-is-this0-field-of-an-inner-class-not-private/54596734\" title=\"why is this0 field of an inner class not private\">stackoverflow.com/questions/54588276/&hellip;</a>"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1549537981, "last_edit_date": 1549537981, "creation_date": 1549438023, "answer_id": 54548544, "question_id": 54544403, "link": "https://stackoverflow.com/questions/54544403/accessing-outer-scope-with-qualified-this-in-extension-functions-for-inner-class/54548544#54548544", "title": "Accessing outer scope with qualified this in extension functions for inner classes", "body": "<p>An extension function can only do things a non-extension <code>fun ext(x: A.B)</code> can do, so I would expect not, just like <a href=\"https://stackoverflow.com/questions/1816458/getting-hold-of-the-outer-class-object-from-the-inner-class-object\">you can't access it in Java</a>. This is because it compiles to such a function, the syntax just makes it look like a member.</p>\n\n<p>While class <code>B</code> has a field containing a reference to the outer <code>A</code> instance, this field can't be accessed directly from code by name. Allowing access to it would <a href=\"https://stackoverflow.com/questions/1816458/getting-hold-of-the-outer-class-object-from-the-inner-class-object#comment1706317_1816462\">violate encapsulation</a>.</p>\n\n<p>The linked page talks about \"access[ing] <code>this</code> from an outer scope\". \"Scope\" here is used in the sense of <a href=\"https://en.wikipedia.org/wiki/Scope_(computer_science)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Scope_(computer_science)</a>, so in the example you have scopes where the comments say \"implicit label\"</p>\n\n<pre><code>class A { // outer scope 1\n    inner class B { // outer scope 2\n        fun Int.foo() { // function scope\n        }\n    }\n}\n</code></pre>\n\n<p>while </p>\n\n<pre><code>fun A.B.ext() = ...\n</code></pre>\n\n<p>doesn't have any outer scopes (except for file scope, which doesn't have <code>this</code>). Unless it's really</p>\n\n<pre><code>class C {\n    fun A.B.ext() = // can use this@C\n}\n</code></pre>\n\n<p>but you can't write <code>this@A</code> or for that matter <code>this@B</code> because the function isn't defined in the scope of <code>class A</code> or <code>class B</code>.</p>\n"}], "owner": {"reputation": 5590, "user_id": 3686755, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/976c04703d1b52c15d067c0556d5064c?s=128&d=identicon&r=PG", "display_name": "neshkeev", "link": "https://stackoverflow.com/users/3686755/neshkeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 1, "accepted_answer_id": 54548544, "answer_count": 1, "score": 4, "last_activity_date": 1549537981, "creation_date": 1549408140, "question_id": 54544403, "link": "https://stackoverflow.com/questions/54544403/accessing-outer-scope-with-qualified-this-in-extension-functions-for-inner-class", "title": "Accessing outer scope with qualified this in extension functions for inner classes", "body": "<p>How can I access outer scope from an inner class when I create an extension function for it?</p>\n\n<p>Example</p>\n\n<pre><code>class A {\n    inner class B {\n        fun own() = this@A\n    }\n}\n</code></pre>\n\n<p>This code compiles and executes as it is supposed to.</p>\n\n<p>When I add the following extension function</p>\n\n<pre><code>fun A.B.ext() = this@A\n</code></pre>\n\n<p>The compilation fails with </p>\n\n<pre><code>Error:(7, 22) Kotlin: Unresolved reference: @A\n</code></pre>\n\n<p>I read the documentation for <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">qualified this</a> and it briefly mentions extension functions, but without any example.</p>\n\n<p>Is it possible to access outer scope from extension functions?</p>\n"}, {"tags": ["android", "kotlin", "searchview"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 2, "creation_date": 1549406969, "post_id": 54544147, "comment_id": 95889442, "body": "You need to specify <code>android:actionView</code> in your item tag."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549407277, "post_id": 54544147, "comment_id": 95889543, "body": "@TheWanderer <code>android:actionViewClass=&quot;android.widget.SearchView&quot;</code> or rather <code>android:actionViewClass=&quot;androidx.appcompat.widget.SearchVie&zwnj;&#8203;w&quot;</code> to be precise. I&#39;m going to vote to close this as a typographical error."}, {"owner": {"reputation": 837, "user_id": 8977328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d003f455e846244056ff8285721a7?s=128&d=identicon&r=PG&f=1", "display_name": "korchix", "link": "https://stackoverflow.com/users/8977328/korchix"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549407324, "post_id": 54544147, "comment_id": 95889557, "body": "@TheWanderer it&#39;s already done in this line of code (menu?.findItem(R.id.searchIcon)?.actionView as SearchView"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1549407547, "post_id": 54544147, "comment_id": 95889621, "body": "@korchix The <code>item</code> tag in your menu XML is incomplete. You can&#39;t access the <code>actionView</code> in code if you don&#39;t specify it&#39;s supposed to be there in XML. Check the tutorial again, it&#39;s there."}, {"owner": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "edited": false, "score": 0, "creation_date": 1549408442, "post_id": 54544147, "comment_id": 95889849, "body": "@korchix this reference should be useful, as it shows how to use the <code>app:actionViewClass</code> XML attribute: <a href=\"https://developer.android.com/training/appbar/action-views#action-view\" rel=\"nofollow noreferrer\">developer.android.com/training/appbar/action-views#action-vi&zwnj;&#8203;ew</a>"}, {"owner": {"reputation": 837, "user_id": 8977328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d003f455e846244056ff8285721a7?s=128&d=identicon&r=PG&f=1", "display_name": "korchix", "link": "https://stackoverflow.com/users/8977328/korchix"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1549442484, "post_id": 54544147, "comment_id": 95899097, "body": "@EugenPechanec ok, thank you, i will check this"}, {"owner": {"reputation": 837, "user_id": 8977328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d003f455e846244056ff8285721a7?s=128&d=identicon&r=PG&f=1", "display_name": "korchix", "link": "https://stackoverflow.com/users/8977328/korchix"}, "reply_to_user": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "edited": false, "score": 0, "creation_date": 1549442522, "post_id": 54544147, "comment_id": 95899114, "body": "@Wang thank you for the link, i will check it."}, {"owner": {"reputation": 837, "user_id": 8977328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d003f455e846244056ff8285721a7?s=128&d=identicon&r=PG&f=1", "display_name": "korchix", "link": "https://stackoverflow.com/users/8977328/korchix"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1549483422, "post_id": 54544147, "comment_id": 95922307, "body": "@EugenPechanec you had right, i added this two tags the the item of the view in the menu.xml <code>app:showAsAction=&quot;always|collapseActionView&quot; app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;</code> after that it works. thank you . if you answer my question i will choose yours as the right answer, and give you a thumps up"}], "owner": {"reputation": 837, "user_id": 8977328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d003f455e846244056ff8285721a7?s=128&d=identicon&r=PG&f=1", "display_name": "korchix", "link": "https://stackoverflow.com/users/8977328/korchix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549530282, "creation_date": 1549406462, "last_edit_date": 1549530282, "question_id": 54544147, "link": "https://stackoverflow.com/questions/54544147/kotlin-typecastexception-null-cannot-be-cast-to-non-null-type-android-widget-se", "title": "kotlin.TypeCastException: null cannot be cast to non-null type android.widget.SearchView", "body": "<p>i wanted to learn how to implement the SearchView in a app, so i created a new Android-Project and followed the <a href=\"https://developer.android.com/guide/topics/search/search-dialog#kotlin\" rel=\"nofollow noreferrer\">google documentation</a> for that.</p>\n\n<p>so i already done this steps: \n1 - i added the intent-filter and meta-data in the AndroidManifest and created the searchable configuration in the xml directory</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;searchable xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:hint=\"search hint\"\n            android:label=\"@string/app_name\"&gt; \n&lt;/searchable&gt;\n</code></pre>\n\n<p>2 - created the menu file with the icon needed:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item android:id=\"@+id/searchIcon\"\n          android:title=\"search\"\n          android:icon=\"@drawable/ic_search_white_24dp\"\n          app:showAsAction=\"always\"\n    /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>in the MainActivity i tried to inflate the menu and try to show the searchView on Click.</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.menu, menu)\n\n        val searchmanager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n        (menu?.findItem(R.id.searchIcon)?.actionView as SearchView).apply {\n            setSearchableInfo(searchmanager.getSearchableInfo(componentName))\n        }\n\n        return true\n    }\n</code></pre>\n\n<p>but when i run the app, i get this error. </p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type android.widget.SearchView\n        at com.example.MainActivity.onCreateOptionsMenu(MainActivity.kt:30)\n        at android.app.Activity.onCreatePanelMenu(Activity.java:3373)\n        at androidx.fragment.app.FragmentActivity.onCreatePanelMenu(FragmentActivity.java:378)\n        at androidx.appcompat.view.WindowCallbackWrapper.onCreatePanelMenu(WindowCallbackWrapper.java:94)\n        at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.onCreatePanelMenu(AppCompatDelegateImpl.java:2549)\n        at androidx.appcompat.app.AppCompatDelegateImpl.preparePanel(AppCompatDelegateImpl.java:1589)\n        at androidx.appcompat.app.AppCompatDelegateImpl.doInvalidatePanelMenu(AppCompatDelegateImpl.java:1869)\n        at androidx.appcompat.app.AppCompatDelegateImpl$2.run(AppCompatDelegateImpl.java:230)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n\n<p>the dependencies in my Gradle (Module:app)</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-beta01'\n    implementation 'com.google.android.material:material:1.0.0-rc01'\n    implementation 'androidx.core:core-ktx:1.1.0-alpha04'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n}\n</code></pre>\n\n<p>can someone explain please why is this happen and how to fix.</p>\n\n<p>thank you in advance</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1549402542, "post_id": 54543309, "comment_id": 95887944, "body": "What is the expected output, and what have you tried? Are you looking for a list of <code>[&quot;Tadek&quot;, &quot;Maniek&quot;, &quot;Juras&quot;]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "edited": false, "score": 3, "creation_date": 1549404246, "post_id": 54543452, "comment_id": 95888641, "body": "This can be even more concise: <code>val names = hashMap.keys.toList()</code>"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1549408512, "last_edit_date": 1549408512, "creation_date": 1549402650, "answer_id": 54543452, "question_id": 54543309, "link": "https://stackoverflow.com/questions/54543309/how-to-put-values-from-a-hashmap-into-an-array/54543452#54543452", "title": "How to put values from a HashMap into an array", "body": "<p>You can do it like this using <code>map</code>:</p>\n\n<pre><code>val hashMap = hashMapOf(\"Tadek\" to 1, \"Maniek\" to 1, \"Juras\" to 1)\n\nval names = hashMap.keys.toTypedArray()\nval values = hashMap.values.toTypedArray()\n</code></pre>\n\n<p>Note: That you can use the vararg argument of <code>hashMapOf</code> as shown above right away if you don't want to fill the map dynamically. The type <code>HashMap&lt;String, Int&gt;</code> can then be inferred as well, so there is no need to specify it explicitely.</p>\n"}], "owner": {"reputation": 23, "user_id": 10820973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d4d7bfeb1d7a555e5001f5b0909f62?s=128&d=identicon&r=PG&f=1", "display_name": "MlodyAndroidowiec", "link": "https://stackoverflow.com/users/10820973/mlodyandroidowiec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 54543452, "answer_count": 1, "score": 1, "last_activity_date": 1549408512, "creation_date": 1549402095, "last_edit_date": 1549403525, "question_id": 54543309, "link": "https://stackoverflow.com/questions/54543309/how-to-put-values-from-a-hashmap-into-an-array", "title": "How to put values from a HashMap into an array", "body": "<p>How can I add all values from a <code>HashMap</code> into a <code>String</code> array? For example, I have:</p>\n\n<pre><code>var tablica = arrayListOf&lt;String&gt;()\n\nvar haszmapa = hashMapOf&lt;String, Int&gt;()\nhaszmapa.put(\"Tadek\", 1)\nhaszmapa.put(\"Maniek\", 1)\nhaszmapa.put(\"Juras\", 1)\n</code></pre>\n"}, {"tags": ["eclipse", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 800, "user_id": 10637444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rzlQb.png?s=128&g=1", "display_name": "VFDan", "link": "https://stackoverflow.com/users/10637444/vfdan"}, "edited": false, "score": 0, "creation_date": 1559422312, "post_id": 56410163, "comment_id": 99417773, "body": "When you say it could be a duplicate, please flag the post instead."}, {"owner": {"reputation": 195, "user_id": 4886105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1580891708841830/picture?type=large", "display_name": "Vamsi Krishna DS", "link": "https://stackoverflow.com/users/4886105/vamsi-krishna-ds"}, "reply_to_user": {"reputation": 800, "user_id": 10637444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rzlQb.png?s=128&g=1", "display_name": "VFDan", "link": "https://stackoverflow.com/users/10637444/vfdan"}, "edited": false, "score": 0, "creation_date": 1559552221, "post_id": 56410163, "comment_id": 99442781, "body": "The above Questions are Similar , So didn&#39;t flagged"}, {"owner": {"reputation": 1844, "user_id": 2756760, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/cdcbcb06f2f70cba11b493cd8ad8c417?s=128&d=identicon&r=PG&f=1", "display_name": "du-it", "link": "https://stackoverflow.com/users/2756760/du-it"}, "edited": false, "score": 0, "creation_date": 1615385814, "post_id": 56410163, "comment_id": 117674307, "body": "Add the open modifier to the methods as well."}, {"owner": {"reputation": 349, "user_id": 945506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e69cee26e549478c53d5b5d2f2eac0?s=128&d=identicon&r=PG", "display_name": "Terje Andersen", "link": "https://stackoverflow.com/users/945506/terje-andersen"}, "edited": false, "score": 0, "creation_date": 1616071284, "post_id": 56410163, "comment_id": 117891682, "body": "Isn&#39;t this what kotlin-maven-allopen is for?"}], "tags": [], "owner": {"reputation": 195, "user_id": 4886105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1580891708841830/picture?type=large", "display_name": "Vamsi Krishna DS", "link": "https://stackoverflow.com/users/4886105/vamsi-krishna-ds"}, "is_accepted": false, "score": 3, "last_activity_date": 1559420488, "creation_date": 1559420488, "answer_id": 56410163, "question_id": 54543168, "link": "https://stackoverflow.com/questions/54543168/spring-tool-suite-configuration-class-may-not-be-final-remove-the-final-modif/56410163#56410163", "title": "Spring Tool Suite: @Configuration class may not be final. Remove the final modifier to continue", "body": "<p>This Question Can be Duplicate of : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla\">IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final</a></p>\n\n<p>or</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44335371/used-kotlin-spring-plugin-still-getting-class-not-open-error/56410118#56410118\">Used kotlin-spring plugin, still getting class not open error</a></p>\n\n<p>. \nAnyways , I Just found Solution </p>\n\n<p>You Just need to add open modifier to TestApplication kotlin class</p>\n\n<pre><code>@SpringBootApplication\nopen class TestApplication \n</code></pre>\n\n<p>might Solve your Issue .</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11607579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GwAOJpYyyj4/AAAAAAAAAAI/AAAAAAAAAdU/J3jxorDGZrQ/photo.jpg?sz=128", "display_name": "Andreas Gebhardt", "link": "https://stackoverflow.com/users/11607579/andreas-gebhardt"}, "is_accepted": false, "score": 2, "last_activity_date": 1559807699, "last_edit_date": 1559807699, "creation_date": 1559805161, "answer_id": 56472545, "question_id": 54543168, "link": "https://stackoverflow.com/questions/54543168/spring-tool-suite-configuration-class-may-not-be-final-remove-the-final-modif/56472545#56472545", "title": "Spring Tool Suite: @Configuration class may not be final. Remove the final modifier to continue", "body": "<p>I had the same problem. You must configure the <code>Kotlin</code> plugin under <code>Preferences &gt; Kotlin &gt; Compiler</code> and enable <code>Compiler plugins</code> spring.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jqTr6.png\" rel=\"nofollow noreferrer\">Kotlin Compiler Configuration Dialog</a></p>\n"}], "owner": {"reputation": 991, "user_id": 2080929, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/c90TF.jpg?s=128&g=1", "display_name": "rena", "link": "https://stackoverflow.com/users/2080929/rena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5301, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1559807699, "creation_date": 1549401402, "question_id": 54543168, "link": "https://stackoverflow.com/questions/54543168/spring-tool-suite-configuration-class-may-not-be-final-remove-the-final-modif", "title": "Spring Tool Suite: @Configuration class may not be final. Remove the final modifier to continue", "body": "<p>I am unable to launch my spring boot kotlin app, due to the following:</p>\n\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'TestApplication' may not be final. Remove the final modifier to continue.\n</code></pre>\n\n<p>I know that @configuration and @bean classes cannot be final so I add the allopen plugin in my pom file: </p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>If I package my application and run it (java -jar) it works, but when I try to launch it from STS it won't work. </p>\n\n<p>Kotlin version: 1.2.71\nKotlin eclipse plugin: 0.8.13\nSTS: 3.9.5</p>\n"}, {"tags": ["android", "kotlin", "camera", "android-vision"], "comments": [{"owner": {"reputation": 4159, "user_id": 2137578, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dMG4W.jpg?s=128&g=1", "display_name": "Jay Snayder", "link": "https://stackoverflow.com/users/2137578/jay-snayder"}, "edited": false, "score": 0, "creation_date": 1549400263, "post_id": 54542844, "comment_id": 95886908, "body": "I didn&#39;t know that there was flash control within the Google vision API, I have always controlled it from the Camera2 and legacy Camera classes which is also an option and has flash control parameters there that you can take advantage of as well."}], "owner": {"reputation": 31, "user_id": 2832808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a174a8bbed1d3304cb028afc375cdd8f?s=128&d=identicon&r=PG&f=1", "display_name": "krdzy", "link": "https://stackoverflow.com/users/2832808/krdzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1549399875, "creation_date": 1549399875, "question_id": 54542844, "link": "https://stackoverflow.com/questions/54542844/camerasource-builder-setflashmode-method-missing-in-latest-android-vision-versio", "title": "CameraSource.Builder setFlashMode method missing in latest android vision version", "body": "<p>I'm building simple barcode reader with Android Vision API using <a href=\"https://github.com/googlesamples/android-vision/tree/master/visionSamples/barcode-reader\" rel=\"nofollow noreferrer\">googlesamples</a> as guide. The problem is that I want to add toggle button for turning flash on/off, but method <code>public Builder setFlashMode(@FlashMode String mode)</code> used in the googlesamples code is missing in the latest version of Vision API <code>implementation 'com.google.android.gms:play-services-vision:17.0.2'</code></p>\n\n<p>I've tried to find out if this method has been replaced with something else by digging through Vision Java Doc but had no luck. </p>\n\n<p>I'm using basically the same code as in <code>BarcodeCaptureActivity</code> in the googlesamples for barcode detection and that part works perfectly , I just need to add option to turn on flash light. </p>\n\n<p>Is there any way to do this using code from googlesamples, or I need to downgrade to some old version of Vision or change my approach altogether. </p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 10967630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BL5fKh14hBo/AAAAAAAAAAI/AAAAAAAABcI/GkOQ_Z52KW8/photo.jpg?sz=128", "display_name": "SayantanRC", "link": "https://stackoverflow.com/users/10967630/sayantanrc"}, "edited": false, "score": 0, "creation_date": 1549399951, "post_id": 54542798, "comment_id": 95886797, "body": "Looks perfect. I can also use <code>val</code> instead of <code>var</code> using this approach."}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 5, "last_activity_date": 1549399664, "creation_date": 1549399664, "answer_id": 54542798, "question_id": 54542748, "link": "https://stackoverflow.com/questions/54542748/right-way-to-initialise-sharedpreference-in-kotlin/54542798#54542798", "title": "Right way to initialise SharedPreference in Kotlin", "body": "<p>Using <code>lateinit</code> is perfectly fine. It's there for this purpose, after all.</p>\n\n<p>There is a slightly cleaner solution you could use, though: lazy-init:</p>\n\n<pre><code>val main by lazy { getSharedPreferences(\"main\", Context.MODE_PRIVATE) }\n</code></pre>\n\n<p>This only calls <code>getSharedPreferences()</code> when <code>main</code> is first referenced, and then stores that instance. It's similar to how things are done in Java, but you don't need to split lines.</p>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1549399871, "creation_date": 1549399871, "answer_id": 54542842, "question_id": 54542748, "link": "https://stackoverflow.com/questions/54542748/right-way-to-initialise-sharedpreference-in-kotlin/54542842#54542842", "title": "Right way to initialise SharedPreference in Kotlin", "body": "<p>Indeed, a <code>val</code> is better. You can obtain one with lazy initialisation:</p>\n\n<pre><code>class MainActivityKotlin : AppCompatActivity() {\n    private val sharedPrefs by lazy { getSharedPreferences(\"main\", Context.MODE_PRIVATE) }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        /* initialisation is removed from here, as it is now lazy */\n    }\n\n    fun otherFunction() {\n        // the first use of the shared preference will trigger its initialisation\n        val prefInt = sharedPrefs.getInt(\"key\", 0)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 400, "user_id": 10967630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BL5fKh14hBo/AAAAAAAAAAI/AAAAAAAABcI/GkOQ_Z52KW8/photo.jpg?sz=128", "display_name": "SayantanRC", "link": "https://stackoverflow.com/users/10967630/sayantanrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1832, "favorite_count": 0, "accepted_answer_id": 54542798, "answer_count": 2, "score": 1, "last_activity_date": 1549399871, "creation_date": 1549399502, "question_id": 54542748, "link": "https://stackoverflow.com/questions/54542748/right-way-to-initialise-sharedpreference-in-kotlin", "title": "Right way to initialise SharedPreference in Kotlin", "body": "<p>I am very new to Kotlin. Previously, I used to declare a SharedPreference in an activity as such:</p>\n\n<pre><code>class MainActivity extends AppCompatActivity {\n    SharedPreferences main;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        main = getSharedPreferences(\"main\", MODE_PRIVATE);\n    }\n}\n</code></pre>\n\n<p>This allowed me to use the <code>main</code> instance throughout the class. I would like to achieve a similar functionality. I am currently using <code>lateinit var</code> as such:</p>\n\n<pre><code>\nclass MainActivityKotlin : AppCompatActivity() {\n    lateinit var main : SharedPreferences\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        main = getSharedPreferences(\"main\", Context.MODE_PRIVATE)\n    }\n}\n</code></pre>\n\n<p>But I am not sure if this is the right way of doing it.\nAlso this is a <code>var</code>. As far as I understand, a <code>val</code> is usually recommended where the instance will not change (like in this case, <code>main</code> will not change once initialised). So is this approach correct?</p>\n"}, {"tags": ["java", "android-studio", "kotlin", "android-volley", "klaxon"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 264818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62467b279d4a08e3fe4363c1bd054a85?s=128&d=identicon&r=PG", "display_name": "FNL", "link": "https://stackoverflow.com/users/264818/fnl"}, "is_accepted": true, "score": 1, "last_activity_date": 1550093968, "creation_date": 1550093968, "answer_id": 54679859, "question_id": 54542610, "link": "https://stackoverflow.com/questions/54542610/use-volley-and-klaxon-in-non-activity-class/54679859#54679859", "title": "Use Volley and Klaxon in non-activity class", "body": "<p>The reason for the error you see is that you have named your description field <em>Description</em>, not <em>desc</em>, which is the name used in the JSON response:</p>\n\n<pre><code>{\"name\":\"enable\",\"value\":\"true\",\"desc\":\"description\"}\" \n</code></pre>\n\n<p>So just change the name of your field <em>Description</em> into <em>desc</em> or add a @Json(name = \"desc\") before your <em>Description</em> field like this:</p>\n\n<pre><code>data class MSettings(\nvar name: String?,\nvar value: String?,\n@JSON(name = \"desc\")\nvar Description: String?)\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 4299759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/352ec194f6b4117de09f010c3ffd0f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 B", "link": "https://stackoverflow.com/users/4299759/micha%c5%82-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 54679859, "answer_count": 1, "score": 0, "last_activity_date": 1550093968, "creation_date": 1549398865, "question_id": 54542610, "link": "https://stackoverflow.com/questions/54542610/use-volley-and-klaxon-in-non-activity-class", "title": "Use Volley and Klaxon in non-activity class", "body": "<p>I am trying to make a class representing a table in a database.</p>\n\n<pre><code>data class MSettings(\nvar name: String?,\nvar value: String?,\nvar Description: String?)\n</code></pre>\n\n<p>I need to get data from api. I'm trying use Volley, but Volley need context. I havent access to context in non-activity Class. So, I added var context: Context. OK, it's working.\nMy api return JSON: \"{\"name\":\"enable\",\"value\":\"true\",\"desc\":\"description\"}\"\nNow I want parse response JSON. I'm trying use Klaxon:</p>\n\n<pre><code>Klaxon().parse&lt;MSettings&gt;(response)\n</code></pre>\n\n<p>But I get error:</p>\n\n<pre><code>com.beust.klaxon.KlaxonException: Unable to instantiate MSettings with parameters [name: enable, value: true]\n</code></pre>\n\n<p>because I have MSettings(context,name,value,desc).\nI must choose between get data from API and parse JSON?</p>\n\n<p>Maybe you have another idea how to do it all?</p>\n\n<p>Fragment get data from Data Class. Data Class get data from API and return parsed JSON. I havent idea.</p>\n\n<p>Sorry for my weak english.\nThanks for advice</p>\n"}, {"tags": ["unit-testing", "junit", "kotlin", "mockito", "hamcrest"], "answers": [{"comments": [{"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549400155, "post_id": 54542839, "comment_id": 95886872, "body": "Is there a way to tell the mock to run the methods <code>equals</code> and <code>hashCode</code> as usual just with the mocked value? Like &quot;return default values EXCEPT for these methods&quot;? (And yes, this is the simplest I could break the issue down to.)"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "reply_to_user": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549401251, "post_id": 54542839, "comment_id": 95887334, "body": "Edited the answer to give some more options for that"}, {"owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 1, "creation_date": 1549401982, "post_id": 54542839, "comment_id": 95887660, "body": "2 fails with  <code>you stub either of: final&#47;private&#47;equals()&#47;hashCode() methods.    Those methods *cannot* be stubbed&#47;verified.</code>"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "reply_to_user": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "edited": false, "score": 0, "creation_date": 1549402130, "post_id": 54542839, "comment_id": 95887727, "body": "Ah good catch, didn&#39;t realize there was that limitation. Updated to remove that suggestion."}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 1, "last_activity_date": 1549402118, "last_edit_date": 1549402118, "creation_date": 1549399868, "answer_id": 54542839, "question_id": 54542172, "link": "https://stackoverflow.com/questions/54542172/how-do-you-mock-equality/54542839#54542839", "title": "How do you mock equality?", "body": "<p>The issue here is that when you create a mock, that object has no behavior unless you explicitly mock it. That includes your <code>equals</code> and <code>hashCode</code> methods. </p>\n\n<p>With your example, one 'fix' would be to mock the <code>equals</code> and <code>hashCode</code> methods, but obviously that doesn't add any value to your test. Trivially, you could invert your assertion (<code>assertThat(a, is(c))</code>) which happens to work because the end result will be <code>a.equals(c)</code>, and <code>a</code> is a real instance of class <code>A</code> instead of a mock and has the <code>.foo</code> property mock.</p>\n\n<p>I suspect your examples are just overly simplified, but in those given cases you should prefer to just create a real instance instead of mocking (e.g. <code>val c = A(\"alpha\")</code> rather than <code>mock(A::class.java)</code>).</p>\n\n<p>Some other approaches here could be:</p>\n\n<p>Another approach would be to use a spy if you can acquire a real instance of the class. For example:</p>\n\n<pre><code>val c = spy(A(\"other value\"))\ndoReturn(\"mock value\").whenever(c).foo \n</code></pre>\n\n<p>But you can see in <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.24.0/org/mockito/Mockito.html#doCallRealMethod--\" rel=\"nofollow noreferrer\">documentation</a> that these ways of partially mocking a class are not the recommended approach.</p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1549402118, "creation_date": 1549396975, "question_id": 54542172, "link": "https://stackoverflow.com/questions/54542172/how-do-you-mock-equality", "title": "How do you mock equality?", "body": "<p>Let's say I have an interface</p>\n\n<pre><code>interface IFoo{\n    val foo:String\n}\n</code></pre>\n\n<p>and I want to create classes that are equal IFF their <code>foo</code> string matches.</p>\n\n<p>Simple example:</p>\n\n<pre><code>class A(override val foo:String):IFoo{\n    val somethingIrrelevant = \"bar\"\n\n    override fun equals(other: Any?): Boolean {\n        return if(other is IFoo) foo == other.foo else false\n    }\n\n    override fun hashCode(): Int {\n        return Objects.hash(foo)\n    }\n}\n</code></pre>\n\n<p>Seems relatively straightforward, yet this test case:</p>\n\n<pre><code>@Test\nfun mockingEquality(){\n    //given\n    val a = A(\"alpha\")\n    val b = A(\"alpha\")\n\n    assertThat(a,`is`(b)) //succeeds\n\n\n    //when\n    val c = mock(A::class.java)\n    whenever(c.foo).thenReturn(\"alpha\")\n\n    //then\n    assertThat(c, `is`(a)) //fails\n}\n</code></pre>\n\n<p>fails with</p>\n\n<pre><code>Expected: is &lt;A@589b17d&gt;\n     but: was &lt;Mock for A, hashCode: 263885523&gt;\n</code></pre>\n\n<p>Why is that?\nAnd <strong>how do I correctly mock the <code>A</code> class for this test to succeed?</strong></p>\n"}, {"tags": ["design-patterns", "kotlin", "inversion-of-control", "service-locator"], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 1, "creation_date": 1549390936, "post_id": 54540651, "comment_id": 95882659, "body": "Alternatively <code>serviceClass.isInstance(s)</code> would do the same thing."}, {"owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "edited": false, "score": 0, "creation_date": 1549391124, "post_id": 54540651, "comment_id": 95882757, "body": "Is there any reason I would want to avoid reflection in this case?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1549397195, "post_id": 54540651, "comment_id": 95885602, "body": "I don&#39;t think there is any more reason to avoid it here than anywhere else in general, if you&#39;re not using reified, this is the way to do it. Some people just tend to avoid reflection for a variety of reasons."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1549390559, "creation_date": 1549390559, "answer_id": 54540651, "question_id": 54539942, "link": "https://stackoverflow.com/questions/54539942/how-can-i-compare-an-instance-of-a-class-to-a-type-of-interface/54540651#54540651", "title": "How can I compare an instance of a class to a type of interface?", "body": "<p>If you're okay with the reflection, you can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#isAssignableFrom(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>isAssignableFrom</code></a> to check if the <code>Class</code> requested is a superclass/superinterface of a given <code>Class</code> that you have cached:</p>\n\n<pre><code>fun &lt;T&gt; getService(serviceClass: Class&lt;T&gt;): T? {\n    return services.firstOrNull { s -&gt; serviceClass.isAssignableFrom(s::class.java) } as T?\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 2, "last_activity_date": 1549394160, "creation_date": 1549394160, "answer_id": 54541525, "question_id": 54539942, "link": "https://stackoverflow.com/questions/54539942/how-can-i-compare-an-instance-of-a-class-to-a-type-of-interface/54541525#54541525", "title": "How can I compare an instance of a class to a type of interface?", "body": "<p>Just to answer the other half of the question about inlining, you can avoid making the services map public by using the <code>@PublishedApi</code> annotation and marking the field <code>internal</code>. For example:</p>\n\n<pre><code>class Cache {\n    @PublishedApi internal val services: MutableList&lt;Any&gt; = mutableListOf()\n\n    inline fun &lt;reified T&gt; getService(serviceClass: Class&lt;T&gt;): T? {\n        return T::class.java.let { it.cast(services.firstOrNull(it::isInstance)) }\n    }\n\n    fun addService(service: Any) {\n        services.add(service)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1549396923, "last_edit_date": 1549396923, "creation_date": 1549396029, "answer_id": 54541967, "question_id": 54539942, "link": "https://stackoverflow.com/questions/54539942/how-can-i-compare-an-instance-of-a-class-to-a-type-of-interface/54541967#54541967", "title": "How can I compare an instance of a class to a type of interface?", "body": "<p>Thanks to kcoppock's great idea with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-published-api/index.html\" rel=\"nofollow noreferrer\"><code>@PublishedApi</code></a> annotation you could use <code>is</code> as well, avoiding reflection and making the function really concise:</p>\n\n<pre><code>class Cache {\n    @PublishedApi internal val services: MutableList&lt;Any&gt; = mutableListOf()\n\n    inline fun &lt;reified T&gt; getService() = services.firstOrNull { it is T } as T?\n\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1549438582, "creation_date": 1549438582, "answer_id": 54548654, "question_id": 54539942, "link": "https://stackoverflow.com/questions/54539942/how-can-i-compare-an-instance-of-a-class-to-a-type-of-interface/54548654#54548654", "title": "How can I compare an instance of a class to a type of interface?", "body": "<p>If you want to keep <code>services</code> private (or to make <code>getService</code> usable from Java), and still keep better usability from Kotlin, just add an overload:</p>\n\n<pre><code>fun &lt;T&gt; getService(serviceClass: Class&lt;T&gt;): T? { ... }\n\ninline fun &lt;reified T&gt; getService(): T? = getService(T::class.java)\n</code></pre>\n"}], "owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 54540651, "answer_count": 4, "score": 0, "last_activity_date": 1549438582, "creation_date": 1549387628, "question_id": 54539942, "link": "https://stackoverflow.com/questions/54539942/how-can-i-compare-an-instance-of-a-class-to-a-type-of-interface", "title": "How can I compare an instance of a class to a type of interface?", "body": "<p>I'm attempting to implement a simple service locator in Kotlin, based on <a href=\"https://www.baeldung.com/java-service-locator-pattern\" rel=\"nofollow noreferrer\">this article</a>, except I want to use generic type parameters. I'm also trying to avoid inlining the functions with reified type parameters because that requires everything to be public.</p>\n\n<p>This class is responsible for caching instances of located services:</p>\n\n<pre><code>class Cache {\n    private val services: MutableList&lt;Any&gt; = mutableListOf()\n\n    fun &lt;T&gt; getService(serviceClass: Class&lt;T&gt;): T? {\n        val service = services.firstOrNull { s -&gt; s::class.java == serviceClass }\n\n        if (service != null) {\n            return service as T\n        }\n\n        return null\n    }\n\n    fun addService(service: Any) {\n        services.add(service)\n    }\n}\n</code></pre>\n\n<p>This is how the cache is being called:</p>\n\n<pre><code>cache.getService(IMyService::class)\n</code></pre>\n\n<p>It returns null everytime, regardless of whether it contains an instance of <code>MyService</code> or not. The problem is on <code>s::class.java == serviceClass</code>, because at runtime the cache contains an instance <code>MyService</code>, and <code>MyService::class.java</code> is not equivalent to <code>IMyService::class</code> (nor is <code>MyService::class</code> - I tried that too).</p>\n\n<p>I tried modifying the <code>getService</code> method like so:</p>\n\n<pre><code>fun &lt;T&gt; getService(): T? {\n    val service = services.firstOrNull { s -&gt; s is T }\n\n    if (service != null) {\n        return service as T\n    }\n\n    return null\n}\n</code></pre>\n\n<p>On <code>s is T</code>, the compiler complains \"Cannot check for instance of erased type: T\". How can I make this work without inlining, which would require the list of services to be made public?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1549392471, "post_id": 54539831, "comment_id": 95883413, "body": "Where exactly do you remove it and are you sure about what <code>this</code> actually refers to?"}, {"owner": {"reputation": 880, "user_id": 8642686, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159426504770512/picture?type=large", "display_name": "paul_f", "link": "https://stackoverflow.com/users/8642686/paul-f"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1549392908, "post_id": 54539831, "comment_id": 95883622, "body": "This refers to my MainActivity, my lifecycle owner. I figured out what I was doing wrong. After stopping and removing the observer I was accessing a newly created observer with the same ID again in another part of the class. I am using an extension of LiveData, Observe once method now in the subsequent ViewModels calls and it seems to have completely resolved the issue, and its now letting the old Observers rest peacefully \ud83d\ude05"}], "answers": [{"tags": [], "owner": {"reputation": 880, "user_id": 8642686, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159426504770512/picture?type=large", "display_name": "paul_f", "link": "https://stackoverflow.com/users/8642686/paul-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1549393292, "creation_date": 1549393292, "answer_id": 54541327, "question_id": 54539831, "link": "https://stackoverflow.com/questions/54539831/removing-a-live-data-observer-create-inside-a-closure/54541327#54541327", "title": "Removing a live data Observer create inside a closure", "body": "<p>The issue is in subsequent calls to locationViewModel I was making more calls the same ID. This prevents the locationViewModel Observer from being removed.</p>\n\n<p>To solve the problem, I am now using a LiveData extension ObserveOnce, in subsequent calls to locationViewModel. All it does is just makes managing calls to the ViewModel that only require a single response a bit easier.</p>\n\n<p>I can't speak to whether it is the best practice or not, and its need probably stems from bad architecture in my app, but for this it works and works well so happy days, here is the Observe once code:</p>\n\n<pre><code>fun &lt;T&gt; LiveData&lt;T&gt;.observeOnce(lifecycleOwner: LifecycleOwner, observer: Observer&lt;T&gt;) {\n    observeForever(object : Observer&lt;T&gt; {\n        override fun onChanged(t: T?) {\n            observer.onChanged(t)\n            removeObserver(this)\n        }\n    })\n} \n</code></pre>\n\n<p>I'm calling it like this:</p>\n\n<pre><code>locationViewModel.getAllByID(ID).observeOnce(this, Observer {locations -&gt;\n\n})\n</code></pre>\n"}], "owner": {"reputation": 880, "user_id": 8642686, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159426504770512/picture?type=large", "display_name": "paul_f", "link": "https://stackoverflow.com/users/8642686/paul-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4749, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1549393352, "creation_date": 1549387208, "last_edit_date": 1549393352, "question_id": 54539831, "link": "https://stackoverflow.com/questions/54539831/removing-a-live-data-observer-create-inside-a-closure", "title": "Removing a live data Observer create inside a closure", "body": "<p>I am having a problem removing live data observer created inside a closure.</p>\n\n<p>The Observer is create like so:</p>\n\n<pre><code>recordingListener.startRecording() {ID -&gt;\n        this.ID = ID\n        locationViewModel.getAllByID(ID).observe(this, android.arch.lifecycle.Observer {locations -&gt;\n            myViewService.showDataOnMap(locations!!)\n        })\n    }\n</code></pre>\n\n<p>I am trying to remove it like so:</p>\n\n<pre><code>locationViewModel.getAllByID(ID).removeObservers(this)\n</code></pre>\n\n<p>But it seems the observer is persisting even after removeObserver is called. My thought is that the issue is caused by the fact that the observer is created inside a closure, or else perhaps I am doing something else wrong.</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 5797453, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XS_Huu0veEg/AAAAAAAAAAI/AAAAAAAAAeY/IFkLpl2p3y0/photo.jpg?sz=128", "display_name": "Saurabh Patel", "link": "https://stackoverflow.com/users/5797453/saurabh-patel"}, "is_accepted": true, "score": 3, "last_activity_date": 1549426981, "creation_date": 1549426981, "answer_id": 54546583, "question_id": 54539470, "link": "https://stackoverflow.com/questions/54539470/creat-a-custom-spinner-adapter-in-kotlin/54546583#54546583", "title": "creat a custom spinner adapter in kotlin", "body": "<p>Your problem lies in customeSpinnerAdapter.kt </p>\n\n<pre><code>  customeSpinnerAdapter.kt\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\n\nclass customeSpinnerAdapter : BaseAdapter{\n    override fun getItem(p0: Int): Any {\n        return flag.length\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return null\n    }\n\n    override fun getCount(): Int {\n        return 0\n    }\n\n    val country:String\n    val flag:String\n    //Add this\n    val inflater : LayoutInflater\n\n    fun customeSpinnerAdapter(context:Context,name:String,image:String){\n        this.country = name\n        this.flag = image\n\n        //val inflater  = LayoutInflater.from(context)\n        inflater  = LayoutInflater.from(context)\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val view = inflater.inflate(R.layout.custome_spinner)\n        spinner_image.setImageResource(flag)\n        spinner_country.setText(country)\n        return view\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 6390169, "user_type": "registered", "profile_image": "https://graph.facebook.com/805396029566670/picture?type=large", "display_name": "Wael Fadl &#195;ll&#229;h", "link": "https://stackoverflow.com/users/6390169/wael-fadl-%c3%83ll%c3%a5h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8220, "favorite_count": 1, "accepted_answer_id": 54546583, "answer_count": 1, "score": 1, "last_activity_date": 1549426981, "creation_date": 1549385929, "question_id": 54539470, "link": "https://stackoverflow.com/questions/54539470/creat-a-custom-spinner-adapter-in-kotlin", "title": "creat a custom spinner adapter in kotlin", "body": "<p>I'm new to kotlin and android logic\nwhat i'm trying to do is to make a spinner with a custom adapter to display images with text like the following\n<a href=\"https://i.stack.imgur.com/hiBd9.png\" rel=\"nofollow noreferrer\">the result i want</a> \nbut i got alots of unresolved reference so i think i'm doing something terribly wrong   </p>\n\n<p>I have two fragment the spinner is inside the second fragment \ncustome_spinner.xml is the custom layout file</p>\n\n<p>android studio 3.1.2 </p>\n\n<p>kotlin_version = '1.2.30'</p>\n\n<p>gradle:3.1.2</p>\n\n<pre><code> customeSpinnerAdapter.kt\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\n\nclass customeSpinnerAdapter : BaseAdapter{\n    override fun getItem(p0: Int): Any {\n        return flag.length\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return null\n    }\n\n    override fun getCount(): Int {\n        return 0\n    }\n\n    val country:String\n    val flag:String\n     fun customeSpinnerAdapter(context:Context,name:String,image:String){\n        this.country = name\n        this.flag = image\n\n        val inflater  = LayoutInflater.from(context)\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val view = inflater.inflate(R.layout.custome_spinner)\n        spinner_image.setImageResource(flag)\n        spinner_country.setText(country)\n        return view\n    }\n}\n</code></pre>\n\n<pre><code>custome_spinner.xml\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/spinner_image\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:padding=\"5dp\"\n        android:src=\"@drawable/us\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/spinner_country\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingLeft=\"10dp\"\n        android:paddingRight=\"10dp\"\n        android:layout_gravity=\"center\"\n        android:text=\"Custom Text\"\n        android:textColor=\"#000\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<pre><code> the widget inside fragment_second.xml \n\n        &lt;Spinner\n            android:id=\"@+id/spinner\"\n            android:layout_width=\"368dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"12dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/from_textView\" /&gt;\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "edited": false, "score": 1, "creation_date": 1549385888, "post_id": 54539414, "comment_id": 95880091, "body": "check <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/find.html\" rel=\"nofollow noreferrer\">find</a> method"}, {"owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "reply_to_user": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "edited": false, "score": 0, "creation_date": 1549386592, "post_id": 54539414, "comment_id": 95880474, "body": "Yes I found it. I need a sample though."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1549386624, "post_id": 54539414, "comment_id": 95880494, "body": "<code>myList.find{ it.userName == &quot;xxxx&quot; }</code>"}, {"owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "edited": false, "score": 0, "creation_date": 1549418423, "post_id": 54539414, "comment_id": 95891934, "body": "I updated my question. I still have the same problem"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549436621, "post_id": 54539414, "comment_id": 95896656, "body": "<code>find</code> should work. Just check whether the User with the name you are searching is in the list. Or maybe you should search by <code>name</code>: <code>.find{ it.name == userName}</code>"}, {"owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "edited": false, "score": 0, "creation_date": 1549449620, "post_id": 54539414, "comment_id": 95903182, "body": "Again it didn&#39;t work. Maybe the problem is in the LiveData."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1549584536, "post_id": 54539414, "comment_id": 95965391, "body": "You&#39;re supposed to <code>observe</code> it, not <code>.value</code> it"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550613709, "post_id": 54539414, "comment_id": 96331188, "body": "Actually, this is tricky; you should have added Repository code and possibly DAO code in order to answer this."}, {"owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "edited": false, "score": 0, "creation_date": 1550653967, "post_id": 54539414, "comment_id": 96343756, "body": "Actually I used blockingFirst() method with Flowable and it did work"}, {"owner": {"reputation": 897, "user_id": 3859410, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/38634e957580a59be2576395a986a8ad?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh Khare", "link": "https://stackoverflow.com/users/3859410/saurabh-khare"}, "edited": false, "score": 0, "creation_date": 1551255138, "post_id": 54539414, "comment_id": 96568990, "body": "You can&#39;t call viewmodel.value , use below code viewmodel. allUsers.observe(this, Observer) { it. userName == userName}"}], "owner": {"reputation": 479, "user_id": 4699273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g0H8R.jpg?s=128&g=1", "display_name": "amin mohammadi", "link": "https://stackoverflow.com/users/4699273/amin-mohammadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1549584137, "creation_date": 1549385756, "last_edit_date": 1549584137, "question_id": 54539414, "link": "https://stackoverflow.com/questions/54539414/kotlin-find-an-object-in-a-livedata-by-id", "title": "Kotlin; find an object in a LiveData by id", "body": "<p>I'm a newby in kotlin. I have a LiveData of List of User object  which is like below:</p>\n\n<pre><code>data class User(id: String, userName: String, name: String)\n</code></pre>\n\n<p>I need to find just one object which has userName of \"xxxx\". I tried this code:</p>\n\n<pre><code>user = userViewModel.allUsers.value!!.find{ it.userName == userName}\n</code></pre>\n\n<p>But it didn't work</p>\n\n<p>UserViewModel is as below:</p>\n\n<pre><code>class UserViewModel(application: Application) : AndroidViewModel(application) {\n\n    private var parentJob = Job()\n    private val coroutineContext: CoroutineContext\n        get() = parentJob + Dispatchers.Main\n    private val scope = CoroutineScope(coroutineContext)\n\n    private val repository: UserRepository\n    val allUsers: LiveData&lt;List&lt;User&gt;&gt;\n\n    init {\n        val usersDao = AppDatabase.getDatabase(application, scope).userDao()\n        repository = UserRepository(usersDao)\n        allUsers = repository.allUsers\n    }\n\n    fun getByUserName(userName: String)  = scope.launch(Dispatchers.IO) {\n        repository.findUserById(userName)\n    }\n\n    fun insert(user: User) = scope.launch(Dispatchers.IO) {\n        repository.insert(user)\n    }\n    fun update(user: User) = scope.launch(Dispatchers.IO) {\n        repository.update(user)\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        parentJob.cancel()\n    }\n}\n</code></pre>\n\n<p>Thank you very much</p>\n"}, {"tags": ["java", "scala", "hibernate", "jpa", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10695430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iqBrPL-akAQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJmfmC_EybLZtlqKRtGMjXc1vEjw/mo/photo.jpg?sz=128", "display_name": "Panicking Developer", "link": "https://stackoverflow.com/users/10695430/panicking-developer"}, "edited": false, "score": 0, "creation_date": 1549451401, "post_id": 54541449, "comment_id": 95904256, "body": "Thank you for answer. It helped me to move step forward. I would love to upvote - but 15 reputation is needed - so I cannot yet"}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "reply_to_user": {"reputation": 63, "user_id": 10695430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iqBrPL-akAQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJmfmC_EybLZtlqKRtGMjXc1vEjw/mo/photo.jpg?sz=128", "display_name": "Panicking Developer", "link": "https://stackoverflow.com/users/10695430/panicking-developer"}, "edited": false, "score": 0, "creation_date": 1549451496, "post_id": 54541449, "comment_id": 95904316, "body": "Now you&#39;re almost there:) you can mark this answer as correct to help other with the same problem"}, {"owner": {"reputation": 63, "user_id": 10695430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iqBrPL-akAQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJmfmC_EybLZtlqKRtGMjXc1vEjw/mo/photo.jpg?sz=128", "display_name": "Panicking Developer", "link": "https://stackoverflow.com/users/10695430/panicking-developer"}, "edited": false, "score": 0, "creation_date": 1549458026, "post_id": 54541449, "comment_id": 95908229, "body": "I was able to upovte - but correct answer is different :)"}], "tags": [], "owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "is_accepted": false, "score": 1, "last_activity_date": 1549393804, "creation_date": 1549393804, "answer_id": 54541449, "question_id": 54539094, "link": "https://stackoverflow.com/questions/54539094/hibernate-only-works-when-class-is-final-otherwise-singletableentitypersister-i/54541449#54541449", "title": "Hibernate only works when class is final [otherwise SingleTableEntityPersister is thrown]", "body": "<p>Not sure, why with the <code>final</code> keyword it works, maybe it has something to do with proxy generation. Here the problem is <code>@Builder</code> from lombok I think. A <a href=\"https://github.com/rzwitserloot/lombok/issues/816\" rel=\"nofollow noreferrer\">bug</a> has been reported, that adding <code>@Builder</code> annotation removes the default constructor, that is needed by hibernate.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 10695430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iqBrPL-akAQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJmfmC_EybLZtlqKRtGMjXc1vEjw/mo/photo.jpg?sz=128", "display_name": "Panicking Developer", "link": "https://stackoverflow.com/users/10695430/panicking-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1549457964, "creation_date": 1549457964, "answer_id": 54554237, "question_id": 54539094, "link": "https://stackoverflow.com/questions/54539094/hibernate-only-works-when-class-is-final-otherwise-singletableentitypersister-i/54554237#54554237", "title": "Hibernate only works when class is final [otherwise SingleTableEntityPersister is thrown]", "body": "<p>So, days of debugging led me to:</p>\n\n<pre><code>    public static ClassLoadingStrategy&lt;ClassLoader&gt; resolveClassLoadingStrategy(Class&lt;?&gt; originalClass) {\n        // This is available only for JDK 9+\n        if ( !ClassInjector.UsingLookup.isAvailable() ) {\n            return new ClassLoadingStrategy.ForUnsafeInjection( originalClass.getProtectionDomain() );\n        }\n\n        Method privateLookupIn;\n        try {\n            privateLookupIn = MethodHandles.class.getMethod( \"privateLookupIn\", Class.class, MethodHandles.Lookup.class );\n        }\n        catch (Exception e) {\n            throw new HibernateException( LOG.bytecodeEnhancementFailed( originalClass.getName() ), e );\n        }\n</code></pre>\n\n<p>ClassInjector.UsingLookup.isAvailable() - on Java8 throws NoMethodError which is swallowed by Hibernate</p>\n"}], "owner": {"reputation": 63, "user_id": 10695430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iqBrPL-akAQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gJmfmC_EybLZtlqKRtGMjXc1vEjw/mo/photo.jpg?sz=128", "display_name": "Panicking Developer", "link": "https://stackoverflow.com/users/10695430/panicking-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550697550, "creation_date": 1549384747, "last_edit_date": 1550697550, "question_id": 54539094, "link": "https://stackoverflow.com/questions/54539094/hibernate-only-works-when-class-is-final-otherwise-singletableentitypersister-i", "title": "Hibernate only works when class is final [otherwise SingleTableEntityPersister is thrown]", "body": "<p>I have tried to build very simple entity and persist it in a db using Hibernate 5.4.1.Final and Java8. To eliminate state mutation \"setters\" are skipped and  @Access(AccessType.FIELD) is used instead. Unfortunately when Hibernate boots up, this exception is thrown:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException:\n    Error creating bean with name 'entityManagerFactory' defined in class path resource [application-context.repositories.xml]:\n    Invocation of init method failed; \nnested exception is javax.persistence.PersistenceException: \n    [PersistenceUnit: default] Unable to build Hibernate SessionFactory; \nnested exception is org.hibernate.MappingException: \n    Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n</code></pre>\n\n<p>I found out that after making Product class final everything works. The problem is, I do not understand why??? <strong>Could you help me to understand what is happening?</strong> </p>\n\n<p>A bit of code.\nThis does not work:</p>\n\n<pre><code>import javax.persistence.Access;\nimport javax.persistence.AccessType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport lombok.Builder;\nimport lombok.Getter;\n\n@Entity\n@Access(AccessType.FIELD)\n@Table(name = \"product\")\npublic class Product {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n\n  @Getter\n  private String name;\n\n  @Getter\n  private String colour;\n\n  protected Product() {\n  }\n\n  @Builder\n  public Product(String name, String colour) {\n    this.name = name;\n    this.colour = colour;\n  }\n}\n</code></pre>\n\n<p>bit it is enough to add final</p>\n\n<pre><code>public final class Product {\n</code></pre>\n\n<p>and it works.</p>\n\n<p>application-context.repositories.xml only inform spring where repositories are </p>\n\n<pre><code>  &lt;jpa:repositories base-package=\"a.b.c.repositories\"/&gt;\n</code></pre>\n\n<p>While debuging I also found out that one of the underling exception is</p>\n\n<pre><code>HibernateException -&gt;  Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n</code></pre>\n\n<p>Any ideas why is \"final\" required?</p>\n\n<p>// edit  </p>\n\n<p>Andronicus pointed proper direction:  </p>\n\n<p>Now I know that if class is not final, hibernate tries to build a proxy and exception comes from \nByteBuddyProxyHelper.class</p>\n\n<pre><code>return byteBuddyState.loadProxy( persistentClass, new TypeCache.SimpleKey(key), byteBuddy -&gt; byteBuddy\n        .ignore( byteBuddyState.getProxyDefinitionHelpers().getGroovyGetMetaClassFilter() )\n        .with( new NamingStrategy.SuffixingRandom( PROXY_NAMING_SUFFIX, new NamingStrategy.SuffixingRandom.BaseNameResolver.ForFixedValue( persistentClass.getName() ) ) )\n        .subclass( interfaces.length == 1 ? persistentClass : Object.class, ConstructorStrategy.Default.IMITATE_SUPER_CLASS_OPENING )\n        .implement( (Type[]) interfaces )\n        .method( byteBuddyState.getProxyDefinitionHelpers().getVirtualNotFinalizerFilter() )\n                .intercept( byteBuddyState.getProxyDefinitionHelpers().getDelegateToInterceptorDispatcherMethodDelegation() )\n        .method( byteBuddyState.getProxyDefinitionHelpers().getHibernateGeneratedMethodFilter() )\n                .intercept( SuperMethodCall.INSTANCE )\n        .defineField( ProxyConfiguration.INTERCEPTOR_FIELD_NAME, ProxyConfiguration.Interceptor.class, Visibility.PRIVATE )\n        .implement( ProxyConfiguration.class )\n                .intercept( byteBuddyState.getProxyDefinitionHelpers().getInterceptorFieldAccessor() )\n);\n</code></pre>\n"}, {"tags": ["design-patterns", "kotlin", "inversion-of-control", "service-locator"], "answers": [{"comments": [{"owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "edited": false, "score": 0, "creation_date": 1549385482, "post_id": 54539257, "comment_id": 95879834, "body": "This means <code>lookupService</code> has to be public as well. Is it possible to keep it private?"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "edited": false, "score": 0, "creation_date": 1549441585, "post_id": 54539257, "comment_id": 95898716, "body": "See the discussion <a href=\"https://stackoverflow.com/questions/41892715/inline-function-cannot-access-non-public-api-publishedapi-vs-suppress-vs-jvm\">here</a>. Hope that helps."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1549385252, "creation_date": 1549385252, "answer_id": 54539257, "question_id": 54538996, "link": "https://stackoverflow.com/questions/54538996/simple-service-locator-with-generic-type-parameters-in-kotlin/54539257#54539257", "title": "Simple service locator with generic type parameters in Kotlin", "body": "<p>To access the type, <code>T</code>, at runtime without having to pass the class in (e.g. <code>ServiceLocator.getService(IMyService::class)</code>), you have to use a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameter</a>. Implicitly this means you have to change your methods to be <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#inline-functions\" rel=\"nofollow noreferrer\">inline functions</a>.  Doing that you could update your code to the below:</p>\n\n<pre><code>@JvmStatic\ninline fun &lt;reified T&gt; getService(): T {\n    val service = lookupService&lt;T&gt;()\n\n    if (service != null) {\n        return service\n    }\n\n    throw UnknownServiceException()\n}\n\ninline fun &lt;reified T&gt; lookupService(): T? {\n    if (T::class == IMyService::class) {\n        return MyService() as T\n    }\n\n    return null\n}\n</code></pre>\n"}], "owner": {"reputation": 11256, "user_id": 1015595, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/3SRWR.jpg?s=128&g=1", "display_name": "Big McLargeHuge", "link": "https://stackoverflow.com/users/1015595/big-mclargehuge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 54539257, "answer_count": 1, "score": 0, "last_activity_date": 1549385252, "creation_date": 1549384425, "question_id": 54538996, "link": "https://stackoverflow.com/questions/54538996/simple-service-locator-with-generic-type-parameters-in-kotlin", "title": "Simple service locator with generic type parameters in Kotlin", "body": "<p>I followed <a href=\"https://www.baeldung.com/java-service-locator-pattern\" rel=\"nofollow noreferrer\">these instructions</a> to create a simple service locator, adapted to Kotlin and simplified even more for the purpose of my question:</p>\n\n<pre><code>object ServiceLocator {\n\n    @JvmStatic\n    fun getService(serviceName: String): Any {\n        val service = lookupService(serviceName)\n\n        if (service != null) {\n            return service\n        }\n\n        throw UnknownServiceException()\n    }\n\n    private fun lookupService(serviceName: String): Any? {\n        if (serviceName.equals(\"MyService\")) {\n            return MyService()\n        }\n\n        return null\n    }\n}\n</code></pre>\n\n<p>I can use it as follows:</p>\n\n<pre><code>val myService = ServiceLocator.getService(\"MyService\") as IMyService\n</code></pre>\n\n<p>The problem I have with this is <code>myService</code> is of type <code>Any</code>. I'd prefer it if <code>getService</code> returned the actual type instead. Ideally, I'd like to use it like so:</p>\n\n<pre><code>val myService = ServiceLocator.getService&lt;IMyService&gt;()\n</code></pre>\n\n<p>Or, if that's not possible, something like this would be fine:</p>\n\n<pre><code>val myService = ServiceLocator.getService(IMyService::class)\n</code></pre>\n\n<p>I can't figure out how to make the generic type parameters work. This is what I tried:</p>\n\n<pre><code>@JvmStatic\nfun &lt;T&gt; getService(): T {\n    val service = lookupService&lt;T&gt;()\n\n    if (service != null) {\n        return service\n    }\n\n    throw UnknownServiceException()\n}\n\nprivate fun &lt;T&gt; lookupService(): T? {\n    if (T::class == IMyService::class) {\n        return MyService()\n    }\n\n    return null\n}\n</code></pre>\n\n<p>The compiler is complaining about two things:</p>\n\n<ol>\n<li>On <code>T::class</code>, it complains \"Cannot use 'T' as reified type parameter. Use a class instead.\"</li>\n<li>On <code>return MyService()</code>, it says \"Type mismatch. Required: T? Found: MyService\"</li>\n</ol>\n"}, {"tags": ["spring", "validation", "kotlin"], "comments": [{"owner": {"reputation": 5666, "user_id": 1107109, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Y0wn6.jpg?s=128&g=1", "display_name": "David Frank", "link": "https://stackoverflow.com/users/1107109/david-frank"}, "edited": false, "score": 0, "creation_date": 1549410079, "post_id": 54538660, "comment_id": 95890240, "body": "Do you see any error message/stack trace in the log?"}, {"owner": {"reputation": 151, "user_id": 6731207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/313d2cb8eb9602a0c61618e3e4c99ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy L", "link": "https://stackoverflow.com/users/6731207/jeremy-l"}, "reply_to_user": {"reputation": 5666, "user_id": 1107109, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Y0wn6.jpg?s=128&g=1", "display_name": "David Frank", "link": "https://stackoverflow.com/users/1107109/david-frank"}, "edited": false, "score": 0, "creation_date": 1549460025, "post_id": 54538660, "comment_id": 95909424, "body": "nop, all is &quot;normal&quot; : I just got a ConstraintViolationException on method validation in the spring mechanism to call my method <a href=\"https://github.com/spring-projects/spring-framework/blob/7b31a935563b3497f831a9862cdb7dd66c95af7a/spring-context/src/main/java/org/springframework/validation/beanvalidation/MethodValidationInterceptor.java#L123\" rel=\"nofollow noreferrer\">here</a>"}], "owner": {"reputation": 151, "user_id": 6731207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/313d2cb8eb9602a0c61618e3e4c99ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy L", "link": "https://stackoverflow.com/users/6731207/jeremy-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549383417, "creation_date": 1549383417, "question_id": 54538660, "link": "https://stackoverflow.com/questions/54538660/kotlin-and-spring-validation-without-using-beans", "title": "Kotlin and spring validation without using beans", "body": "<p>Anyone knows how if it is possible to use the Spring Validation mechanism in a Rest Controller in Kotlin, while continuing to receive 400 - Bad requests when validation fails?</p>\n\n<p>This works and throws 400 on validation errors:</p>\n\n<pre><code>data class Email(@field:Email val email: String)\n\n@PostMapping(\"/foo\")\nfun foo(@RequestBody @Valid email: Email): ResponseEntity&lt;Void&gt;\n</code></pre>\n\n<p>But this throw HTTP code 500 instead of 400:</p>\n\n<pre><code>@PostMapping(\"/foo\")\nfun foo(@RequestBody @Valid @Email email: String): ResponseEntity&lt;Void&gt;\n</code></pre>\n\n<p>I would like to avoid using an intermediate data class or a Controller Advice to do this job.\nThanks.</p>\n"}, {"tags": ["android", "kotlin", "foreach", "declarative"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 7490713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ak2NaeoehtY/AAAAAAAAAAI/AAAAAAAACY8/2ClI_j3y2qA/photo.jpg?sz=128", "display_name": "surajs02", "link": "https://stackoverflow.com/users/7490713/surajs02"}, "edited": false, "score": 0, "creation_date": 1549385978, "post_id": 54538733, "comment_id": 95880144, "body": "Clever use of map, elegantly answers the question. Also realised another problem I was using parenthesis instead of brackets, which caused lambda parameters to not be recognised."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1549396819, "post_id": 54538733, "comment_id": 95885420, "body": "@SergeyLagutin you can avoid the <code>toMap()</code> call if you use <code>associate</code> instead of <code>map</code> :)"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1549400552, "post_id": 54538733, "comment_id": 95887046, "body": "@SergeyLagutin you can even use <code>.associateBy(User::id)</code> making it even shorter :)"}], "tags": [], "owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "is_accepted": true, "score": 5, "last_activity_date": 1549400224, "last_edit_date": 1549400224, "creation_date": 1549383686, "answer_id": 54538733, "question_id": 54538559, "link": "https://stackoverflow.com/questions/54538559/how-to-copy-a-property-between-2-lists-of-different-types-using-declarative-kotl/54538733#54538733", "title": "How to copy a property between 2 lists of different types using declarative Kotlin?", "body": "<p>You make too many iterations over both lists (<code>users.size * details.size</code>) so creating a hashmap can fix it a bit:</p>\n\n<pre><code>fun copyNameToUsers(users: List&lt;User&gt;, details: List&lt;UserDetail&gt;): List&lt;UserDetail&gt; {\n    val usersById = users.associate { it.id to it }\n    details.forEach { d -&gt;\n        usersById[d.id]?.let { d.name = it.name }\n    }\n\n    return details\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 7490713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ak2NaeoehtY/AAAAAAAAAAI/AAAAAAAACY8/2ClI_j3y2qA/photo.jpg?sz=128", "display_name": "surajs02", "link": "https://stackoverflow.com/users/7490713/surajs02"}, "edited": false, "score": 0, "creation_date": 1549386207, "post_id": 54539491, "comment_id": 95880269, "body": "Good alternative, but less readable than the first answer. Useful for future reference as didn&#39;t realise <code>copy</code> avoids mutation."}], "tags": [], "owner": {"reputation": 702, "user_id": 10030894, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fmf65CtWECo/AAAAAAAAAAI/AAAAAAAAF0U/3pDYRzrUPTE/photo.jpg?sz=128", "display_name": "Nicolas Duponchel", "link": "https://stackoverflow.com/users/10030894/nicolas-duponchel"}, "is_accepted": false, "score": 1, "last_activity_date": 1549400783, "last_edit_date": 1549400783, "creation_date": 1549385979, "answer_id": 54539491, "question_id": 54538559, "link": "https://stackoverflow.com/questions/54538559/how-to-copy-a-property-between-2-lists-of-different-types-using-declarative-kotl/54539491#54539491", "title": "How to copy a property between 2 lists of different types using declarative Kotlin?", "body": "<p>An other approach with non mutable values : </p>\n\n<pre><code>data class User(val id: Int = -1, val name: String = \"\")\ndata class UserDetail(val id: Int = -1, val name: String = \"\")\n\nprivate fun List&lt;UserDetail&gt;.copyNameToUser(users: List&lt;User&gt;): List&lt;UserDetail&gt; = map { userDetail -&gt;\n    users.firstOrNull { userDetail.id == it.id }?.let { userDetail.copy(name = it.name) } ?: userDetail\n}\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 7490713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ak2NaeoehtY/AAAAAAAAAAI/AAAAAAAACY8/2ClI_j3y2qA/photo.jpg?sz=128", "display_name": "surajs02", "link": "https://stackoverflow.com/users/7490713/surajs02"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 54538733, "answer_count": 2, "score": 0, "last_activity_date": 1549400783, "creation_date": 1549383091, "question_id": 54538559, "link": "https://stackoverflow.com/questions/54538559/how-to-copy-a-property-between-2-lists-of-different-types-using-declarative-kotl", "title": "How to copy a property between 2 lists of different types using declarative Kotlin?", "body": "<h1>Context</h1>\n\n<p>Using a declarative approach in Kotlin, need to copy a single <code>name</code> property from <code>List</code> of <code>User</code> objects to a <code>List</code> of <code>UserDetail</code> objects based on matching <code>id</code> properties as shown below:</p>\n\n<pre><code>val users = Arrays.asList(\n        User(1, \"a\"),\n        User(2, \"b\")\n)\nval details = Arrays.asList(\n        UserDetail(1),\n        UserDetail(2)\n)\nval detailsWithName = copyNameToUser(users, details)\n</code></pre>\n\n<p>Models are:</p>\n\n<pre><code>class User {\n    var id = -1;\n    var name = \"\" // given for all Users\n    constructor(id: Int, name: String)\n    // ...\n}\nclass UserDetail {\n    var id = -1;\n    var name = \"\" // blank for all UserDetails\n    constructor(id: Int)\n    // ...\n}\n</code></pre>\n\n<h1>Problem</h1>\n\n<p>Tried to use a declarative approach via <code>forEach</code> iterable function:</p>\n\n<pre><code>fun copyNameToDetails(users: List&lt;User&gt;, details: List&lt;UserDetail&gt;): List&lt;UserDetail&gt; {\n    details.forEach(d -&gt;\n        users.forEach(u -&gt;\n            if (d.id == u.id) {\n                d.name = u.name\n            }\n        )\n    )\n    return details\n}\n</code></pre>\n\n<p>This can be achieved in Java as shown below:</p>\n\n<pre><code>private static List&lt;UserDetail&gt; copyNameToDetails(List&lt;User&gt; users, List&lt;UserDetail&gt; details)   {\n    for (UserDetail d: details) {\n        for (User u : users) {\n            if (d.id == u.id) {\n                d.name = u.name;\n            }\n        }\n    }\n    return details;\n}\n</code></pre>\n\n<h1>Question</h1>\n\n<p>How can this be done in Kotlin using a declarative approach?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "edited": false, "score": 0, "creation_date": 1549386656, "post_id": 54539000, "comment_id": 95880515, "body": "Thanks that worked! Could you explain how <code>in</code> <code>out</code> work in declaration of variable?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1549439446, "post_id": 54539000, "comment_id": 95897866, "body": "It&#39;s explained in <a href=\"https://kotlinlang.org/docs/reference/generics.html#use-site-variance-type-projections\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>. Here you will be able to call <code>processor.loadData()</code> (which doesn&#39;t involve <code>T</code>), but not <code>processor.saveData(something)</code> because it has <code>T</code> in the wrong position, so the compiler doesn&#39;t know which type <code>something</code> has to be."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1549384432, "creation_date": 1549384432, "answer_id": 54539000, "question_id": 54537970, "link": "https://stackoverflow.com/questions/54537970/usage-of-kotlin-generics-in-out-in-inheritance/54539000#54539000", "title": "Usage of kotlin generics &quot;in&quot;, &quot;out&quot; in inheritance", "body": "<p>Does this give you what you want?</p>\n\n<pre><code>abstract class Processor&lt;T : BaseEntity&gt; {...}\n\nval processor: EntityProcessor&lt;out BaseEntity&gt; = ...\n</code></pre>\n"}], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 54539000, "answer_count": 1, "score": 1, "last_activity_date": 1549387013, "creation_date": 1549381095, "last_edit_date": 1549387013, "question_id": 54537970, "link": "https://stackoverflow.com/questions/54537970/usage-of-kotlin-generics-in-out-in-inheritance", "title": "Usage of kotlin generics &quot;in&quot;, &quot;out&quot; in inheritance", "body": "<p>I have base class which I'm planning to use for downloading some data from server:</p>\n\n<pre><code>abstract class Processor&lt;out T : BaseEntity&gt; {\n   fun loadData() {\n      val data = fetchFromBackend()\n      saveData(data)\n   }\n\n   // here I'll define specific logic of saving data\n   // and here is my Error Type parameter T is declared as 'out' but occurs in 'invariant' position in type T\n   abstract protected open fun saveData(data: T)\n\n}\n</code></pre>\n\n<p>Then I have multiple implementation of this <code>Processor</code> class and use them like that</p>\n\n<pre><code>val processor: EntityProcessor&lt;BaseEntity&gt; = when(type){\n               TypeA -&gt; ProcessorImplementationA(...)\n               TypeB -&gt; ProcessorImplementationB(...)\n               TypeC -&gt; ProcessorImplementationC(...)\n</code></pre>\n\n<p>To be able to safely assign implementation of processor to base type I'm using <strong>out</strong> in <code>T</code> generic declaration. But this causes the problem in <code>saveData(data: T)</code> method. If I use invariance, means no keyword before generic declaration I will not be able to safely assign implementation of <code>Processor</code> to base type</p>\n\n<p>Is there a way to implement this class hierarchy without class cast, or what is the best way to implement this?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview", "android-databinding"], "comments": [{"owner": {"reputation": 458, "user_id": 8761120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae274bf1c7da7a49cab0562f206bc8f?s=128&d=identicon&r=PG", "display_name": "Erselan Khan", "link": "https://stackoverflow.com/users/8761120/erselan-khan"}, "edited": false, "score": 0, "creation_date": 1549382744, "post_id": 54537450, "comment_id": 95878301, "body": "clear and rebuild your project or invalidate cache and restart android studio."}, {"owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "reply_to_user": {"reputation": 458, "user_id": 8761120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae274bf1c7da7a49cab0562f206bc8f?s=128&d=identicon&r=PG", "display_name": "Erselan Khan", "link": "https://stackoverflow.com/users/8761120/erselan-khan"}, "edited": false, "score": 0, "creation_date": 1549460939, "post_id": 54537450, "comment_id": 95909985, "body": "I did try that but I get the same error anyway"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1549973728, "post_id": 54537450, "comment_id": 96090963, "body": "You should check this explained answer <a href=\"https://stackoverflow.com/a/51579759/6891563\">stackoverflow.com/a/51579759/6891563</a>"}, {"owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "edited": false, "score": 0, "creation_date": 1550335523, "post_id": 54537450, "comment_id": 96234713, "body": "I did try that but it didn&#39;t solve my problem"}, {"owner": {"reputation": 185, "user_id": 6541168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8804031a8d93749e3953626ed4dbb5fb?s=128&d=identicon&r=PG&f=1", "display_name": "ateebahmed", "link": "https://stackoverflow.com/users/6541168/ateebahmed"}, "edited": false, "score": 0, "creation_date": 1553376136, "post_id": 54537450, "comment_id": 97363883, "body": "having same problem, when using two-way databinding but I noticed if I place a data class instead of a viewmodel here than it builds fine"}, {"owner": {"reputation": 2670, "user_id": 3286614, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/684521485/picture?type=large", "display_name": "Rachit", "link": "https://stackoverflow.com/users/3286614/rachit"}, "edited": false, "score": 0, "creation_date": 1594454424, "post_id": 54537450, "comment_id": 111136645, "body": "Hey Zach, did you finally figure this one out? I&#39;ve been facing the same problem."}, {"owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "edited": false, "score": 0, "creation_date": 1594928786, "post_id": 54537450, "comment_id": 111307118, "body": "The city variable properties temp_max and temp_min were of type Double, and in the xml I wrote <code>android:text=&quot;@{city.main.temp_max}&quot;</code> which probably attempted to set the Double value to the text attribute which takes a String."}], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "edited": false, "score": 0, "creation_date": 1549460905, "post_id": 54538843, "comment_id": 95909967, "body": "I tried your approach but I still get the same error"}], "tags": [], "owner": {"reputation": 354, "user_id": 9396006, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159910553485398/picture?type=large", "display_name": "Blue Jones", "link": "https://stackoverflow.com/users/9396006/blue-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1549384000, "creation_date": 1549384000, "answer_id": 54538843, "question_id": 54537450, "link": "https://stackoverflow.com/questions/54537450/android-recyclerview-adapter-databinding-cannot-find-symbol-layoutbindingimp/54538843#54538843", "title": "Android RecyclerView Adapter DataBinding - cannot find symbol {layout}BindingImpl", "body": "<p>This should work for you I believe;</p>\n\n<pre><code>class ForecastAdapter(private var myDataset: List&lt;City&gt;) : RecyclerView.Adapter&lt;ForecastAdapter.ForecastViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ForecastAdapter.ForecastViewHolder {\n    val itemBinding = CityListItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n    return ForecastViewHolder(itemBinding)\n}\n\noverride fun onBindViewHolder(holder: ForecastViewHolder, position: Int) {\n    val city = myDataset[position]\n    holder.bind(city)\n}\n\noverride fun getItemCount() = myDataset.size\n\ninner class ForecastViewHolder(var binding: CityListItemBinding) : RecyclerView.ViewHolder(binding.root){\n\n    fun bind(boundCity: City){\n        with(binding) {\n        city = boundCity\n        Glide.with(root.context)\n                .load(\"http://openweathermap.org/img/w/${city.weather[0].icon}.png\")\n                .into(forceastImageView)\n\n        container.setOnClickListener { view -&gt;\n            Timber.d(\"Clicked on city %s\", city.name)\n            Navigation.findNavController(view).navigate(ListFragmentDirections.actionListFragmentToForecastDetailsFragment(city.id))\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "edited": false, "score": 0, "creation_date": 1549461462, "post_id": 54540327, "comment_id": 95910283, "body": "What line and what tag ?"}, {"owner": {"reputation": 188, "user_id": 8051742, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c7A1jdnO9nw/AAAAAAAAAAI/AAAAAAAABKE/shXaffK4z84/photo.jpg?sz=128", "display_name": "Pabi Moloi", "link": "https://stackoverflow.com/users/8051742/pabi-moloi"}, "reply_to_user": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "edited": false, "score": 0, "creation_date": 1549519261, "post_id": 54540327, "comment_id": 95932500, "body": "Hey Zach, the edit was way off dont know what happend. But i fixed it. Hope it helps :)"}], "tags": [], "owner": {"reputation": 188, "user_id": 8051742, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-c7A1jdnO9nw/AAAAAAAAAAI/AAAAAAAABKE/shXaffK4z84/photo.jpg?sz=128", "display_name": "Pabi Moloi", "link": "https://stackoverflow.com/users/8051742/pabi-moloi"}, "is_accepted": false, "score": 0, "last_activity_date": 1549519227, "last_edit_date": 1549519227, "creation_date": 1549389146, "answer_id": 54540327, "question_id": 54537450, "link": "https://stackoverflow.com/questions/54537450/android-recyclerview-adapter-databinding-cannot-find-symbol-layoutbindingimp/54540327#54540327", "title": "Android RecyclerView Adapter DataBinding - cannot find symbol {layout}BindingImpl", "body": "<p>Hey you could try adding the following line after the <code>&lt;data&gt;</code> tag :</p>\n\n<pre><code>&lt;import type=\"android.view.View\" /&gt; \n</code></pre>\n\n<p>I found that worked for me when I had that error. </p>\n"}], "owner": {"reputation": 281, "user_id": 11018239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j_kACm3S1_4/AAAAAAAAAAI/AAAAAAAAUts/oH3t14jaQ-k/photo.jpg?sz=128", "display_name": "Zach Sao", "link": "https://stackoverflow.com/users/11018239/zach-sao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2020, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1549519227, "creation_date": 1549379471, "last_edit_date": 1549476032, "question_id": 54537450, "link": "https://stackoverflow.com/questions/54537450/android-recyclerview-adapter-databinding-cannot-find-symbol-layoutbindingimp", "title": "Android RecyclerView Adapter DataBinding - cannot find symbol {layout}BindingImpl", "body": "<p>I have a Fragment that displays a list of cities with weather informations. I am using a RecyclerView and I am trying to implement the Data Binding Library in my RecyclerView Adapter but for some reason I get this compile error : </p>\n\n<pre><code>&gt; error: cannot find symbol import \n         com.example.zach.weatherapp.databinding.CityListItemBindingImpl;\n&gt;                                               ^   \n&gt; symbol:   class CityListItemBindingImpl   \n&gt; location: package com.example.zach.weatherapp.databinding\n</code></pre>\n\n<p>It's an auto generated class so i really don't know where the error is. I had the same error previously for other layouts when there was someting wrong in the xml file but here it seems fine.</p>\n\n<p>ForecastAdapter.kt</p>\n\n<pre><code>package com.example.zach.weatherapp.Adapter\n\nimport ...\n\nclass ForecastAdapter(var myDataset: List&lt;City&gt;) :\n    RecyclerView.Adapter&lt;ForecastAdapter.ForecastViewHolder&gt;() {\n\n    var context:Context?=null\n    // Provide a reference to the views for each data item\n    // Complex data items may need more than one view per item, and\n    // you provide access to all the views for a data item in a view holder.\n    class ForecastViewHolder(var binding: CityListItemBinding) : RecyclerView.ViewHolder(binding.root){\n        fun bind(city: City){\n            binding.city = city\n        }\n    }\n\n\n    // Create new views (invoked by the layout manager)\n    override fun onCreateViewHolder(parent: ViewGroup,\n                                    viewType: Int): ForecastAdapter.ForecastViewHolder {\n\n        context = parent.context\n        val layoutIdForListItem = R.layout.city_list_item\n        val inflater = LayoutInflater.from(context)\n        val shouldAttachToParentImmediately = false\n\n        val binding = DataBindingUtil.inflate&lt;CityListItemBinding&gt;(inflater,layoutIdForListItem,parent,shouldAttachToParentImmediately)\n        //val view = inflater.inflate(layoutIdForListItem, parent, shouldAttachToParentImmediately)\n\n        return ForecastViewHolder(binding)\n    }\n\n    // Replace the contents of a view (invoked by the layout manager)\n    override fun onBindViewHolder(holder: ForecastViewHolder, position: Int) {\n\n        val city = myDataset[position]\n        holder.bind(city)\n\n        Glide.with(context)\n            .load(\"http://openweathermap.org/img/w/${city.weather[0].icon}.png\")\n            .into(holder.binding.forceastImageView)\n        holder.binding.container.setOnClickListener{ view: View -&gt;\n            Timber.d(\"Clicked on city %s\",city.name)\n            Navigation.findNavController(view).navigate(ListFragmentDirections.actionListFragmentToForecastDetailsFragment(city.id))}\n    }\n\n    // Return the size of your dataset (invoked by the layout manager)\n    override fun getItemCount() = myDataset.size\n}\n</code></pre>\n\n<p>city_list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n        &lt;variable name=\"city\" type=\"com.example.zach.weatherapp.data.City\"/&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:orientation=\"horizontal\"\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"wrap_content\"\n       android:id=\"@+id/container\"&gt;\n\n        &lt;TextView\n                tools:text=\"Caen\"\n                android:text=\"@{city.name}\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" android:id=\"@+id/city_name_textview\"\n                app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginStart=\"16dp\"\n                android:layout_marginTop=\"16dp\" app:layout_constraintTop_toTopOf=\"parent\"\n                android:fontFamily=\"@font/roboto_light\" android:textSize=\"22sp\" android:textStyle=\"bold\"\n                android:maxLines=\"1\" android:ellipsize=\"end\"/&gt;\n        &lt;TextView\n                tools:text=\"Sunny\"\n                android:text=\"@{city.weather[0].description}\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/city_forecast_textview\" app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginStart=\"16dp\"\n                app:layout_constraintTop_toBottomOf=\"@+id/city_name_textview\" android:fontFamily=\"@font/roboto_light\"\n                android:layout_marginBottom=\"16dp\" app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n        &lt;ImageView\n                android:layout_width=\"48dp\"\n                android:layout_height=\"48dp\" app:srcCompat=\"@drawable/sunny\"\n                android:id=\"@+id/forceast_imageView\" android:layout_marginTop=\"8dp\"\n                app:layout_constraintTop_toTopOf=\"parent\" android:layout_marginBottom=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintVertical_bias=\"0.562\"\n                android:layout_marginEnd=\"32dp\" app:layout_constraintEnd_toStartOf=\"@+id/temperatures_layout\"/&gt;\n        &lt;LinearLayout\n                android:orientation=\"vertical\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\" android:id=\"@+id/temperatures_layout\"\n                app:layout_constraintEnd_toEndOf=\"parent\" android:layout_marginEnd=\"16dp\" android:layout_marginBottom=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\" android:layout_marginTop=\"8dp\"\n                app:layout_constraintTop_toTopOf=\"parent\"&gt;\n            &lt;TextView\n                    tools:text=\"15\u00b0\"\n                    android:text=\"@{city.main.temp_max}\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\" android:id=\"@+id/max_temperature_textview\"\n                    android:fontFamily=\"@font/roboto_light\"\n                    tools:layout_editor_absoluteY=\"17dp\" tools:layout_editor_absoluteX=\"313dp\"/&gt;\n            &lt;TextView\n                    tools:text=\"9\u00b0\"\n                    android:text=\"@{city.main.temp_min}\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:id=\"@+id/min_temperature_textview\"\n                    android:fontFamily=\"@font/roboto_light\" tools:layout_editor_absoluteY=\"45dp\"\n                    tools:layout_editor_absoluteX=\"321dp\" android:layout_gravity=\"right\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>It might just be an Android Studio error because the xml file seems fine. </p>\n\n<p><strong>UPDATE :</strong>\nError seems to come from Xml. I removed the <code>android:text=\"@{city.xxx}\"</code> in my xml layout and instead updated my textViews manually in my ViewHolder bind method like so : </p>\n\n<pre><code>fun bind(boundCity: City){\n        with(binding){\n            cityNameTextview.text = boundCity.name\n            cityForecastTextview.text = boundCity.weather[0].description\n            maxTemperatureTextview.text = \"${boundCity.main.temp_max}\u00b0\"\n            minTemperatureTextview.text = \"${boundCity.main.temp_min}\u00b0\"\n\n            Glide.with(root.context)\n                .load(\"http://openweathermap.org/img/w/${boundCity.weather[0].icon}.png\")\n                .into(forceastImageView)\n\n            container.setOnClickListener{ view: View -&gt;\n                Timber.d(\"Clicked on city %s\",boundCity.name)\n                Navigation.findNavController(view).navigate(ListFragmentDirections.actionListFragmentToForecastDetailsFragment(boundCity.id))}\n        }\n    }\n</code></pre>\n\n<p>And I no longer get the error. The error comes whenever I add <code>android:text=\"@{city.xx}\"</code> in my textviews and bind the city variable in the bind method. I still don't know why though....</p>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "singleton", "koin"], "answers": [{"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1549379009, "post_id": 54537208, "comment_id": 95875936, "body": "Brilliant ok I knew something felt weird that makes sense that it&#39;s a pretty funky thing to do anyway. It is from an official sample (<a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PersistenceMigrationsSample/app/src/main/java/com/example/android/persistence/migrations/AppExecutors.java\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture-components/bl&zwnj;&#8203;ob/&hellip;</a>) which is why I didn&#39;t really question it :D"}, {"owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "reply_to_user": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 1, "creation_date": 1549380807, "post_id": 54537208, "comment_id": 95877121, "body": "@DanielWilson to be fair: it&#39;s, in the end, the same as using the default parameter values in Kotlin. It&#39;s a perfectly valid solution to the problem. I just wanted to emphasize that even the original solution you had in dagger wasn&#39;t actually doing dependency injection in a pure way."}], "tags": [], "owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "is_accepted": true, "score": 2, "last_activity_date": 1549380962, "last_edit_date": 1549380962, "creation_date": 1549378740, "answer_id": 54537208, "question_id": 54537000, "link": "https://stackoverflow.com/questions/54537000/koin-singleton-inject-constructor-with-private-parameter/54537208#54537208", "title": "Koin singleton inject constructor with private parameter", "body": "<p>Well, it's a bit strange idea to inject something that is a private implementation detail from outside using DI. </p>\n\n<p>Also the solution in Dagger2 is a trick which actually works around the dependency injection. </p>\n\n<p>So you need to do the decision: do I want it to be a private implemietation detail? If yes I would suggest to use a default parameter value and use injection only when you need to override this implementation e.g. for testing. </p>\n\n<pre><code>open class AppExecutors(\n    private val diskIO: Executor, \n    private val networkIO: Executor, \n    private val mainThread: Executor = AppExecutors.MainThreadExecutor()) {\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>single&lt;AppExecutors&gt; { AppExecutors(\n    Executors.newSingleThreadExecutor(),\n    Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() + 1)))\n}\n</code></pre>\n\n<p>(Keep in mind that using default paramter values in Kotlin is in the end the same as using multiple constructors in the original example.)</p>\n\n<p>Otherwise you should make it public and extract it from the class.</p>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1864, "favorite_count": 0, "accepted_answer_id": 54537208, "answer_count": 1, "score": 1, "last_activity_date": 1549380962, "creation_date": 1549378116, "question_id": 54537000, "link": "https://stackoverflow.com/questions/54537000/koin-singleton-inject-constructor-with-private-parameter", "title": "Koin singleton inject constructor with private parameter", "body": "<p>Hello I am just learning Koin, how would this Dagger2 class be provided in Koin 2.0?</p>\n\n<pre><code>@Singleton\nopen class AppExecutors(private val diskIO: Executor, private val networkIO: Executor, private val mainThread: Executor) {\n\n    @Inject\n    constructor() : this(\n            Executors.newSingleThreadExecutor(),\n            Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() + 1),\n            MainThreadExecutor())\n\n    fun diskIO(): Executor {\n        return diskIO\n    }\n\n    fun networkIO(): Executor {\n        return networkIO\n    }\n\n    fun mainThread(): Executor {\n        return mainThread\n    }\n\n    private class MainThreadExecutor : Executor {\n        private val mainThreadHandler = Handler(Looper.getMainLooper())\n        override fun execute(command: Runnable) {\n            mainThreadHandler.post(command)\n        }\n    }\n}\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>single&lt;AppExecutors&gt; { AppExecutors(\n    Executors.newSingleThreadExecutor(),\n    Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() + 1),\n    AppExecutors.MainThreadExecutor())\n}\n</code></pre>\n\n<p>But <code>AppExecutors.MainThreadExecutor()</code> is private. Is the only solution to make it public?</p>\n"}, {"tags": ["android", "arraylist", "kotlin", "custom-arrayadapter"], "comments": [{"owner": {"reputation": 11585, "user_id": 2668136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eSSOK.png?s=128&g=1", "display_name": "fllo", "link": "https://stackoverflow.com/users/2668136/fllo"}, "edited": false, "score": 0, "creation_date": 1549373953, "post_id": 54535545, "comment_id": 95872885, "body": "You should use a local variable into <code>getView()</code> and <code>getDropDownView()</code> instead of a class variable like you did for <code>view</code>"}, {"owner": {"reputation": 378, "user_id": 8957683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a1021d2390cc1d6fed0003ad69d88da?s=128&d=identicon&r=PG", "display_name": "Mwikala Kangwa", "link": "https://stackoverflow.com/users/8957683/mwikala-kangwa"}, "reply_to_user": {"reputation": 11585, "user_id": 2668136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eSSOK.png?s=128&g=1", "display_name": "fllo", "link": "https://stackoverflow.com/users/2668136/fllo"}, "edited": false, "score": 0, "creation_date": 1549374186, "post_id": 54535545, "comment_id": 95873033, "body": "a local variable for what exactly, sorry?"}, {"owner": {"reputation": 11585, "user_id": 2668136, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/eSSOK.png?s=128&g=1", "display_name": "fllo", "link": "https://stackoverflow.com/users/2668136/fllo"}, "edited": false, "score": 0, "creation_date": 1549374475, "post_id": 54535545, "comment_id": 95873196, "body": "You should do something like: <code>override getView(...) { val view: View = convertView ?: inflater.inflate(...) }</code> and return it at the end. Same thing for <code>getDropDownView()</code>. This can prevent some weird behviors I guess. This will also replace your <code>if null</code> check ;)"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1577255758, "post_id": 54535545, "comment_id": 105129433, "body": "is this possible to use <code>getAdapterPosition</code> instead?"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 8860079, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V2JXzbbH9Xc/AAAAAAAAAAI/AAAAAAAAAXY/JqMAWQF0Wio/photo.jpg?sz=128", "display_name": "Chenglong Ma", "link": "https://stackoverflow.com/users/8860079/chenglong-ma"}, "is_accepted": false, "score": 0, "last_activity_date": 1609120903, "creation_date": 1609120903, "answer_id": 65472217, "question_id": 54535545, "link": "https://stackoverflow.com/questions/54535545/kotlin-autocompletetextview-adapter-item-selected-giving-different-value/65472217#65472217", "title": "Kotlin AutoCompleteTextView Adapter Item Selected Giving Different Value", "body": "<p>You can simply implement <code>toString</code> in the <code>Congregation</code> class:</p>\n<pre><code>@kotlinx.serialization.Serializable\ndata class Congregation(\n    var id: Int,\n    var name: String,\n    var language: String\n) {\n    override fun toString(): String {\n        return &quot;$name ($language)&quot;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 8957683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a1021d2390cc1d6fed0003ad69d88da?s=128&d=identicon&r=PG", "display_name": "Mwikala Kangwa", "link": "https://stackoverflow.com/users/8957683/mwikala-kangwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2162, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1609120903, "creation_date": 1549373327, "question_id": 54535545, "link": "https://stackoverflow.com/questions/54535545/kotlin-autocompletetextview-adapter-item-selected-giving-different-value", "title": "Kotlin AutoCompleteTextView Adapter Item Selected Giving Different Value", "body": "<p>So I am working with Kotlin on this project, I mainly use Java so I'm trying to find equivalents in Kotlin to achieve the same functionality.</p>\n\n<p>I am getting a JSONArray from my Database and storing it in a Serializable data class called <code>Congregation</code> it has the following variables <code>id: Int, name: String, language: String</code></p>\n\n<p>I now have a registration activity in which there is a \"Congregation\" input, I decided to make this an <code>AutoCompleteTextView</code> so that I could suggest possible values matching what the users typing. I created a custom <code>ArrayAdapter</code> and it works fine when displaying the <code>name</code> of a <code>Congregation</code> (<em>image below)</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/mgVQf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgVQf.png\" alt=\"Emulator showing RegisterActivity.java\"></a></p>\n\n<p><strong>However</strong>, when I select one of those values, it displays the full value text from the list </p>\n\n<p><em>e.g. If I select \"Leeds, Crossgates (English)\" in the input it will display <code>Congregation(id=1, name=Leeds, Crossgates, language=English)</code></em></p>\n\n<p>I am wondering how I can keep the <code>name</code> value of a <code>Congregation</code> in the box when it is selected. </p>\n\n<p>Also when I try to delete the current value of the box after selecting an item I receive an <code>IndexOutOfBoundsException Index: 1 Size: 1</code></p>\n\n<p><strong>Custom Array Adapter (CongregationListAdapter.kt)</strong>:</p>\n\n<pre><code>class CongregationListAdapter(context: Activity, resourceId: Int, textView: Int, private var congregations: List&lt;Congregation&gt;)\n:ArrayAdapter&lt;Congregation&gt;(context, resourceId, textView, congregations) {\n\nprivate var inflater: LayoutInflater = context.layoutInflater\nprivate lateinit var view: View\n\n@SuppressLint(\"SetTextI18n\")\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n\n    if (convertView == null) {\n        view = inflater.inflate(R.layout.congregation_list_item, parent, false)\n    }\n    val name: TextView = view.findViewById(R.id.congregation_text)\n\n    val congregation: Congregation? = getItem(position)\n    if (congregation != null) {\n        name.text = congregation.name + \" (\" + congregation.language + \")\"\n    } else {\n        name.text = \"\"\n        return view\n    }\n    return view\n}\n\noverride fun getCount(): Int {\n    return congregations.size\n}\n\n@SuppressLint(\"SetTextI18n\")\noverride fun getDropDownView(position: Int, convertView: View?, parent: ViewGroup): View {\n    if (convertView == null) {\n        view = inflater.inflate(R.layout.congregation_list_item, parent, false)\n    }\n    val congregation: Congregation? = getItem(position)\n    val name: TextView = view.findViewById(R.id.congregation_text)\n    if (congregation != null) {\n        name.text = congregation.name + \" (\" + congregation.language + \")\"\n    } else {\n        name.text = \"Oops. There was a problem\"\n    }\n    return view\n}\n\n}\n</code></pre>\n\n<p><strong>Custom View (congregation_list_item.xml)</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"#FFFFFF\"\nandroid:orientation=\"horizontal\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/congregation_text\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"4dp\"\n        android:textColor=\"#000000\"\n        android:textSize=\"15sp\"\n        android:textStyle=\"normal\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:ignore=\"MissingConstraints\"\n        tools:text=\"Leeds, Crossgates\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Conregation Model (Congregation.kt)</strong>:</p>\n\n<pre><code>@kotlinx.serialization.Serializable\ndata class Congregation(\n    var id: Int,\n    var name: String,\n    var language: String\n)\n</code></pre>\n"}, {"tags": ["android", "function", "kotlin", "label"], "comments": [{"owner": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "edited": false, "score": 4, "creation_date": 1549371525, "post_id": 54534968, "comment_id": 95871423, "body": "doesn&#39;t it a usual function behavior?"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 9650, "user_id": 4129726, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WazJd14JT_U/AAAAAAAAAAI/AAAAAAAAAEU/O0_ba1QyAos/photo.jpg?sz=128", "display_name": "Sergii Lagutin", "link": "https://stackoverflow.com/users/4129726/sergii-lagutin"}, "edited": false, "score": 0, "creation_date": 1549371704, "post_id": 54534968, "comment_id": 95871530, "body": "I thought there will be some way to handle this scenario, like using labels or something."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1549373179, "post_id": 54534968, "comment_id": 95872456, "body": "The only way to control the flow directly from a called function is through exceptions."}], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 2, "last_activity_date": 1549371642, "creation_date": 1549371642, "answer_id": 54535032, "question_id": 54534968, "link": "https://stackoverflow.com/questions/54534968/is-there-any-way-in-kotlin-to-jump-out-of-a-function-from-another-function/54535032#54535032", "title": "Is there any way in Kotlin to jump out of a function from another function?", "body": "<p>Have <code>jumperFunction()</code> return a Boolean, and use that result:</p>\n\n<pre><code>fun mainFunction() {\n    //...\n    if (!jumperFunction()) return\n    //...\n}\n\n//returns false if the calling function should return\nfun jumperFunction(): Boolean {\n    //...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 1, "last_activity_date": 1549378838, "creation_date": 1549378838, "answer_id": 54537246, "question_id": 54534968, "link": "https://stackoverflow.com/questions/54534968/is-there-any-way-in-kotlin-to-jump-out-of-a-function-from-another-function/54537246#54537246", "title": "Is there any way in Kotlin to jump out of a function from another function?", "body": "<p>Not sure I understood your use case, but you can have <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">non-local returns with inlined lambdas</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>fun main() {\n    baz {\n        println(\"Inside lambda\")\n        return\n    }\n}\n\ninline fun baz(block: () -&gt; Unit) {\n    println(\"[Baz] Before block\")\n    block()\n    println(\"[Baz] After block\")\n}\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>[Baz] Before block\n\nInside lambda\n</code></pre>\n\n<p>Note that it skips <code>[Baz] After block</code></p>\n"}], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549378838, "creation_date": 1549371451, "question_id": 54534968, "link": "https://stackoverflow.com/questions/54534968/is-there-any-way-in-kotlin-to-jump-out-of-a-function-from-another-function", "title": "Is there any way in Kotlin to jump out of a function from another function?", "body": "<p>Is there any way in kotlin using labels or any kind of feature so that we can jump out of the main function from the calling function.\nWhat i want is when i return from jumperFunction i want to jump out of both the functions.</p>\n\n<pre><code>fun mainFunction(){\n// some code and calling this function\njumperFunction()\n}\n\nfun jumperFunction{\n// some code\nreturn@mainFunction\n}\n</code></pre>\n"}, {"tags": ["string", "arraylist", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1549368225, "post_id": 54533910, "comment_id": 95869389, "body": "Nice one. I didn&#39;t know <code>zip</code> acts directly over the string as an <code>Iterable&lt;Char&gt;</code>, like in many FP languages. I had a similar solution but I was doing <code>a.toList()</code> and <code>b.toList()</code>."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1549371873, "post_id": 54533910, "comment_id": 95871644, "body": "@m0skit0 exactly my thought, really nice :)"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 3, "creation_date": 1549374100, "post_id": 54533910, "comment_id": 95872981, "body": "@m0skit0 Kotlin provides <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/zip.html\" rel=\"nofollow noreferrer\">overloads for <code>CharSequence</code>s</a>."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 12, "last_activity_date": 1549369977, "last_edit_date": 1549369977, "creation_date": 1549367849, "answer_id": 54533910, "question_id": 54533800, "link": "https://stackoverflow.com/questions/54533800/merge-two-strings-in-kotlin/54533910#54533910", "title": "Merge two strings in kotlin", "body": "<p>Use the <code>zip</code> function. It creates a list of pairs with \"adjacent\" letters. You can then use <code>joinToString</code> with a transformer to create your final result.</p>\n\n<pre><code>a.zip(b) // Returns the list [(a, x), (b, y), (c, z)]\n .joinToString(\"\") { (a, b) -&gt; \"$a$b\" } // Joins the list back to a string with no separator\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 3, "creation_date": 1549375899, "post_id": 54534162, "comment_id": 95874001, "body": "Works but not idiomatic. This is Java written in Kotlin."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549380445, "post_id": 54534162, "comment_id": 95876896, "body": "@m0skit0 it is more efficient, but for small data set it&#39;s probably irrelevant. I ran this and accepted answer in JVM 10 million times - loop averaged 340ms, zip 840ms. With 184 char input string loop was 9.5sec, zip 31sec."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1549380727, "post_id": 54534162, "comment_id": 95877073, "body": "@Pawel I had performance in mind too. Take a look at my answer"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1549380789, "post_id": 54534162, "comment_id": 95877106, "body": "Readability is generally more important than premature optimizations. I can immediately understand marstran&#39;s answer. For yours I need to 1) read more lines of code, and 2) figure out what you are doing on your for loop."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1549380931, "post_id": 54534162, "comment_id": 95877208, "body": "@WilliMentzel I looped that too but it seems to have same overhead as zip, averaging 850ms in 10 million loop as well."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1549397263, "post_id": 54534162, "comment_id": 95885631, "body": "@Pawel i didn&#39;t check it, but that would be sad :("}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1549397322, "post_id": 54534162, "comment_id": 95885666, "body": "@Pawel could you publish a playground with your benchmark? <a href=\"https://play.kotlinlang.org\" rel=\"nofollow noreferrer\">play.kotlinlang.org</a>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 2, "creation_date": 1549404281, "post_id": 54534162, "comment_id": 95888658, "body": "@WilliMentzel I used to do it locally but if You want to see for yourself: <a href=\"https://pl.kotl.in/HJJSOFvE4\" rel=\"nofollow noreferrer\">playground</a>."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1549408310, "post_id": 54534162, "comment_id": 95889816, "body": "@Pawel I learned two things: mine is the slowest (i deleted my answer xD) and yours is the fastest, definitely so much faster that I would sacrifice readability for it (even though I think it&#39;s readability is good) :) thx for the benchmark +1"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 3, "last_activity_date": 1549368626, "creation_date": 1549368626, "answer_id": 54534162, "question_id": 54533800, "link": "https://stackoverflow.com/questions/54533800/merge-two-strings-in-kotlin/54534162#54534162", "title": "Merge two strings in kotlin", "body": "<p>You can always use a simple loop, assuming both strings have the same size. That way You only allocate a <code>StringBuilder</code> and counter variable, without any <code>lists</code>, <code>arrays</code> or <code>pairs</code>:</p>\n\n<pre><code>val a = \"abc\"\nval b = \"xyz\"\nval sb = StringBuilder()\nfor(i in 0 until a.length){\n    sb.append(a[i]).append(b[i])\n}\nval d = sb.toString()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1549466049, "last_edit_date": 1549466049, "creation_date": 1549465654, "answer_id": 54556673, "question_id": 54533800, "link": "https://stackoverflow.com/questions/54533800/merge-two-strings-in-kotlin/54556673#54556673", "title": "Merge two strings in kotlin", "body": "<p>marstran's answer is really concise and Pawels answer is really fast. Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/build-string.html\" rel=\"nofollow noreferrer\"><code>buildString</code></a> you can have to best of both worlds:</p>\n\n<pre><code>buildString {\n    a.zip(b).forEach { (a, b) -&gt;\n        append(a).append(b)\n    }\n}\n</code></pre>\n\n<p><code>buildString</code> creates a <code>StringBuilder</code> and offers it as receiver in the lambda. It returns the built string.</p>\n\n<p><sub>Try it out here: <a href=\"https://pl.kotl.in/B1zftOdEV\" rel=\"nofollow noreferrer\">Kotlin Playground</a>. Thanks to Pawel for creating the original benchmark.</sub></p>\n"}], "owner": {"reputation": 345, "user_id": 6218324, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/df515b182fe93b8fdad41b06f17a5e67?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/6218324/mahesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 54533910, "answer_count": 3, "score": 3, "last_activity_date": 1549466049, "creation_date": 1549367504, "last_edit_date": 1549368354, "question_id": 54533800, "link": "https://stackoverflow.com/questions/54533800/merge-two-strings-in-kotlin", "title": "Merge two strings in kotlin", "body": "<p>I have two strings</p>\n\n<pre><code>val a = \"abc\"\nval b = \"xyz\"\n</code></pre>\n\n<p>I want to merge it and need output like below</p>\n\n<blockquote>\n  <p><strong>axbycz</strong></p>\n</blockquote>\n\n<p>I added both strings to arraylist and then flatmap it</p>\n\n<pre><code>val c = listOf(a, b)\n\nval d = c.flatMap {\n    it.toList()\n}\n</code></pre>\n\n<p>but not getting the desired result</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 3, "creation_date": 1549366010, "post_id": 54533320, "comment_id": 95868125, "body": "probably it is a bad idea to store entire image in the BD. Probably it would be better to store it in the file, and put the file name into the DB"}, {"owner": {"reputation": 242, "user_id": 9162370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a683486012638e74dc407f3c2bd59ec3?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Dholakia", "link": "https://stackoverflow.com/users/9162370/mohit-dholakia"}, "edited": false, "score": 1, "creation_date": 1570789078, "post_id": 54533320, "comment_id": 103033814, "body": "To store image use file path and store that file path into your local DB and display that image with your path itself that will be the ideal approach."}], "owner": {"reputation": 11, "user_id": 11015070, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fzpVwPyZi7k/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNjRTFEZVCpX_-uO0TZq7PIV_AYtw/mo/photo.jpg?sz=128", "display_name": "Muhammad Rizwan Sarfaraz", "link": "https://stackoverflow.com/users/11015070/muhammad-rizwan-sarfaraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1549373674, "creation_date": 1549365782, "last_edit_date": 1549373674, "question_id": 54533320, "link": "https://stackoverflow.com/questions/54533320/how-to-add-image-and-text-to-sqlite-and-display-it-recyclerview-in-kotlin", "title": "How to add Image and text to Sqlite and display it recyclerView in Kotlin", "body": "<p>I am new in programming, Through permissions, I get the image from the user and after converting it to Bitmap set it to the ImageView, I also created a database and table, Now what should I do next to passed this Image and Text to SQLite and display it on recyclerView ??</p>\n\n<blockquote>\n  <p>activity_main_xml</p>\n</blockquote>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n\n    &lt;EditText\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"text\"\n        android:id=\"@+id/text\"\n        /&gt;\n\n\n\n    &lt;ImageView\n        android:id=\"@+id/GotImage\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/text\"\n        android:layout_centerHorizontal=\"true\"\n        /&gt;\n\n\n    &lt;Button\n        android:id=\"@+id/ImageBtn\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"163dp\"\n        android:text=\"Choose Photo\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/Add\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"219dp\"\n        android:text=\"Add\" /&gt;\n\n\n\n    &lt;!--&lt;android.support.v7.widget.RecyclerView--&gt;\n        &lt;!--android:layout_width=\"match_parent\"--&gt;\n        &lt;!--android:layout_height=\"wrap_content\"--&gt;\n        &lt;!--android:layout_below=\"@id/Add\"--&gt;\n        &lt;!--android:id=\"@+id/recycler\"&gt;--&gt;\n\n    &lt;!--&lt;/android.support.v7.widget.RecyclerView&gt;--&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>Model Class </p>\n</blockquote>\n\n<pre><code>package com.example.muhammadrizwan.sqliterecyclerview\n\nclass Catogeries(var name:String,var Image:Byte) {\n\n}\n</code></pre>\n\n<blockquote>\n  <p>DbHelper</p>\n</blockquote>\n\n<pre><code>package com.example.muhammadrizwan.sqliterecyclerview\n\nimport android.content.ContentValues\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\n\nclass DbHelper(var ctx:Context) : SQLiteOpenHelper(ctx,\"My Datbase\",null,1) {\n    override fun onCreate(db: SQLiteDatabase?) {\n\n        var create_table = \"CREATE TABLE CATOGERIES (_Id INTEGER PRIMARY KEY AUTOINCREMENT , NAME STRING,IMAGE BLOB)\"\n        db?.execSQL(create_table)\n    }\n\n    override fun onUpgrade(p0: SQLiteDatabase?, p1: Int, p2: Int) {\n\n    }\n\n    fun insertData(catogeries: Catogeries,db:SQLiteDatabase)\n    {\n        var dbHelper = this.writableDatabase\n        var value = ContentValues()\n        value.put(\"Name\",catogeries.name)\n        value.put(\"Image\",catogeries.Image)\n        db.insert(\"Catogeries\",null,value)\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>MainActivity</p>\n</blockquote>\n\n<pre><code>package com.example.muhammadrizwan.sqliterecyclerview\n\nimport android.app.Activity\nimport android.app.AlertDialog\nimport android.content.DialogInterface\nimport android.content.Intent\nimport android.content.pm.PackageManager\nimport android.graphics.Bitmap\nimport android.graphics.BitmapFactory\nimport android.media.Image\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.MediaStore\nimport android.support.v4.app.ActivityCompat\nimport android.support.v4.content.ContextCompat\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.ImageView\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.io.ByteArrayOutputStream\n\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var Title: EditText\n    private lateinit var imageBtn: Button\n    var CameraRequestCode :Int = 200\n    var GalleryRequestCode :Int = 100\n    private lateinit var _addBtn: Button\n    var db = DbHelper(this)\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //_Image = findViewById&lt;ImageView&gt;(R.id.GotImage)\n        Title = findViewById&lt;EditText&gt;(R.id.text)\n        imageBtn = findViewById&lt;Button&gt;(R.id.ImageBtn)\n        _addBtn = findViewById&lt;Button&gt;(R.id.Add)\n\n\n        _addBtn.setOnClickListener {\n\n            var _title = Title.text.trim().toString()\n\n        }\n        imageBtn.setOnClickListener {\n            var dialogueBox = AlertDialog.Builder(this)\n            var dialogueOptions = arrayOf(\"Camera\",\"Gallery\")\n            dialogueBox.setTitle(\"Make Choice\")\n            dialogueBox.setItems(dialogueOptions,object : DialogInterface.OnClickListener\n            {\n                override fun onClick(p0: DialogInterface?, p1: Int) {\n                    if(dialogueOptions[p1].equals(\"Camera\"))\n                    {\n                        OpenCamera()\n                    }\n                    if (dialogueOptions[p1].equals(\"Gallery\"))\n                    {\n                        OpenGallery()\n                    }\n\n                }\n\n            })\n            dialogueBox.show()\n        }\n    }\n\n    private fun OpenGallery() {\n        if(ContextCompat.checkSelfPermission(this,android.Manifest.permission.READ_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED)\n        {\n            var GalleryIntent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n            startActivityForResult(GalleryIntent,GalleryRequestCode)\n        }\n        else\n        {\n            ActivityCompat.requestPermissions(this, arrayOf(android.Manifest.permission.READ_EXTERNAL_STORAGE),GalleryRequestCode)\n        }\n    }\n\n    private fun OpenCamera() {\n        if(ContextCompat.checkSelfPermission(this,android.Manifest.permission.CAMERA)== PackageManager.PERMISSION_GRANTED)\n        {\n            val CameraIntent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n            startActivityForResult(CameraIntent,CameraRequestCode)\n        }\n        else\n        {\n            ActivityCompat.requestPermissions(this, arrayOf(android.Manifest.permission.CAMERA),CameraRequestCode)\n        }\n\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        when(requestCode)\n        {\n            CameraRequestCode-&gt;\n            {\n                if(grantResults.size&gt;0 &amp;&amp; grantResults[0]== PackageManager.PERMISSION_GRANTED )\n                {\n                    OpenCamera()\n                }\n                else\n                {\n                    Toast.makeText(this,\"Error\", Toast.LENGTH_SHORT).show()\n                }\n            }\n\n            GalleryRequestCode-&gt;\n            {\n                if(grantResults.size&gt;0 &amp;&amp; grantResults[0]== PackageManager.PERMISSION_GRANTED)\n                {\n                    OpenGallery()\n                }\n                else\n                {\n                    Toast.makeText(this,\"Error\", Toast.LENGTH_SHORT).show()\n                }\n            }\n\n        }\n\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        when(requestCode)\n        {\n            CameraRequestCode-&gt;\n            {\n                if(resultCode== Activity.RESULT_OK)\n                {\n\n                    val img = data?.extras?.get(\"data\")\n                    GotImage.setImageBitmap(img as Bitmap)\n                }\n            }\n            GalleryRequestCode-&gt;\n            {\n                if(resultCode== RESULT_OK)\n                {\n                    var URI = data!!.data\n                    var Image = MediaStore.Images.Media.getBitmap(this.contentResolver,URI)\n                    GotImage.setImageBitmap(Image)\n\n                }\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549368231, "post_id": 54532708, "comment_id": 95869392, "body": "not a good solution but you can use <code>setIsRecycleable(false)</code>"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549368814, "post_id": 54532708, "comment_id": 95869742, "body": "@KaranMer, how can i use this? can you send to me code with my above codes? please dear friend i really need your help"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549368931, "post_id": 54532708, "comment_id": 95869811, "body": "in oncreateviewholder you can use <code>holder.setIsRecyclable(false);</code>"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549369023, "post_id": 54532708, "comment_id": 95869868, "body": "not found <code>holder</code> info <code>onCreateViewHolder</code> !"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549369042, "post_id": 54532708, "comment_id": 95869879, "body": "use your viewholder object"}, {"owner": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "edited": false, "score": 0, "creation_date": 1549369667, "post_id": 54532708, "comment_id": 95870256, "body": "<a href=\"https://stackoverflow.com/questions/36250995/how-to-keep-recyclerview-items-at-same-position\" title=\"how to keep recyclerview items at same position\">stackoverflow.com/questions/36250995/&hellip;</a>"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549369905, "post_id": 54532708, "comment_id": 95870390, "body": "@KaranMer, not work me dear friend"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "edited": false, "score": 0, "creation_date": 1549370222, "post_id": 54532708, "comment_id": 95870601, "body": "@Ranjan, i change my code with your link but not work me again! my codes :     <code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyHolder {         val view = LayoutInflater.from(context).inflate(R.layout.row_bidzila_li&zwnj;&#8203;st, parent, false)         val holder = MyHolder(view)          holder.setIsRecyclable(false)          return holder     }</code>"}, {"owner": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "edited": false, "score": 0, "creation_date": 1549371615, "post_id": 54532708, "comment_id": 95871475, "body": "<code>holder.timmer.cancel()</code> is this the problem? You are canceling the timer. I&#39;m not sure when <code>onViewDetachedFromWindow</code> is called."}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "reply_to_user": {"reputation": 996, "user_id": 6168272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca7020a2ed126c086e244188a91ba972?s=128&d=identicon&r=PG&f=1", "display_name": "Ranjan", "link": "https://stackoverflow.com/users/6168272/ranjan"}, "edited": false, "score": 0, "creation_date": 1549371855, "post_id": 54532708, "comment_id": 95871633, "body": "@Ranjan, can you send to me true code with my above codes? please dear friend"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1549372480, "post_id": 54535229, "comment_id": 95872015, "body": "Thanks dear, but can you help me and send to me code with my above codes? please dear friend because i am amateur and really need your help. please"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1549372679, "post_id": 54535229, "comment_id": 95872137, "body": "thanks my friend, i really need your help and please send to me code with my above codes. please. thanks dear. i will wait you"}, {"owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "edited": false, "score": 0, "creation_date": 1549375742, "post_id": 54535229, "comment_id": 95873910, "body": "Are you here my friend? can you help me?"}], "tags": [], "owner": {"reputation": 621, "user_id": 6875716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqr0O.jpg?s=128&g=1", "display_name": "Tariqul Islam", "link": "https://stackoverflow.com/users/6875716/tariqul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1549372381, "creation_date": 1549372381, "answer_id": 54535229, "question_id": 54532708, "link": "https://stackoverflow.com/questions/54532708/how-to-use-timer-into-recyclerview-on-android/54535229#54535229", "title": "How to use timer into recyclerView on Android", "body": "<p>You can use a model. And in this model you can set last counted value. and in your ViewHolder you will start time from last counted value from your model. I hope you understand </p>\n"}], "owner": {"reputation": 219, "user_id": 11011419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce63c72f911e7187904df962263ba4c7?s=128&d=identicon&r=PG&f=1", "display_name": "KokoBand", "link": "https://stackoverflow.com/users/11011419/kokoband"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1549372381, "creation_date": 1549363732, "last_edit_date": 1549368082, "question_id": 54532708, "link": "https://stackoverflow.com/questions/54532708/how-to-use-timer-into-recyclerview-on-android", "title": "How to use timer into recyclerView on Android", "body": "<p><strong>Why not help me any people???</strong></p>\n\n<p>In my application i want show <strong>timer</strong> in per items of <code>recyclerView</code> !<br>\nI write below codes with <strong>Kotlin</strong> language, but when <strong>scroll</strong> <code>recyclerView</code> timers <strong>reseted</strong> and <strong>start again</strong> from <strong>startTime</strong> not continue it!<br>\nMy problem is <strong>timer</strong> reset, i want when scroll on <code>recyclerView</code> items, <strong>timers not reseted and i want continue timer</strong>!</p>\n\n<p><strong>My adapter codes:</strong></p>\n\n<pre><code>class AuctionsTodayAdapter(val context: Context, val model: MutableList&lt;AuctionsTodayResponse.Res.Today&gt;) :\n    RecyclerView.Adapter&lt;AuctionsTodayAdapter.MyHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.row_bidzila_list, parent, false)\n        return MyHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return model.size\n    }\n\n    override fun onBindViewHolder(holder: MyHolder, position: Int) {\n        val modelUse = model[position]\n        holder.setData(modelUse)\n    }\n\n    override fun onViewAttachedToWindow(holder: MyHolder) {\n        val pos = holder.adapterPosition\n        val modelUse = model[pos]\n        holder.handler.post { holder.timer(modelUse.calculateEnd, 1000) }\n    }\n\n    override fun onViewDetachedFromWindow(holder: MyHolder) {\n        if (holder.timmer != null) {\n            holder.timmer.cancel()\n        }\n    }\n\n    inner class MyHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var handler = Handler(Looper.getMainLooper())\n        lateinit var timmer: CountDownTimer\n\n        fun setData(model: AuctionsTodayResponse.Res.Today) {\n            model.image.let {\n                Glide.with(context)\n                    .load(Constants.BIDZILA_BASE_URL + it)\n                    .apply(RequestOptions.diskCacheStrategyOf(DiskCacheStrategy.RESOURCE))\n                    .into(itemView.rowBidzila_img)\n            }\n            model.title.let { itemView.rowBidzila_title.text = it }\n        }\n\n        fun timer(millisInFuture: Long, countDownInterval: Long): CountDownTimer {\n            timmer = object : CountDownTimer(millisInFuture * 1000, countDownInterval) {\n                override fun onTick(millisUntilFinished: Long) {\n                    var seconds = (millisUntilFinished / 1000).toInt()\n                    val hours = seconds / (60 * 60)\n                    val tempMint = seconds - hours * 60 * 60\n                    val minutes = tempMint / 60\n                    seconds = tempMint - minutes * 60\n                    itemView.rowBidzila_timer.rowBidzila_timer.text =\n                        String.format(\"%02d\", hours) + \":\" + String.format(\n                            \"%02d\",\n                            minutes\n                        ) + \":\" + String.format(\"%02d\", seconds)\n                }\n\n                override fun onFinish() {\n                    itemView.rowBidzila_timer.rowBidzila_timer.text = \"Finished\"\n                }\n            }.start()\n\n            return timmer\n        }\n    }\n}\n</code></pre>\n\n<p><strong>My models :</strong></p>\n\n<pre><code>data class Today(\n    @SerializedName(\"auction_status\")\n    val auctionStatus: String = \"\", // accept\n    @SerializedName(\"base_price\")\n    val basePrice: Int = 0, // 120000\n    @SerializedName(\"bid_number\")\n    val bidNumber: Int = 0, // 1\n    @SerializedName(\"calculate_end\")\n    var calculateEnd: Long = 0, // -9815\n    @SerializedName(\"can_offer_before\")\n    val canOfferBefore: Int = 0, // 1\n    @SerializedName(\"capacity\")\n    val capacity: Int = 0, // 25\n    @SerializedName(\"current_price\")\n    val currentPrice: Int = 0, // 224000\n    @SerializedName(\"discount\")\n    val discount: Int = 0, // 400000\n    @SerializedName(\"end\")\n    val end: Int = 0, // 1548650312\n    @SerializedName(\"end_date\")\n    val endDate: String = \"\", // 2019-01-28 08:08:32\n    @SerializedName(\"end_time\")\n    val endTime: String = \"\", // 2019-01-28 08:08:32\n    @SerializedName(\"final_discount\")\n    val finalDiscount: Int = 0, // 176000\n    @SerializedName(\"final_price\")\n    val finalPrice: Int = 0, // 224000\n    @SerializedName(\"id\")\n    val id: Int = 0, // 2629\n    @SerializedName(\"image\")\n    val image: String = \"\", // /img/product/5bd94ed3cb9d2.png\n    @SerializedName(\"lastbid\")\n    val lastbid: Any = Any(), // null\n    @SerializedName(\"live\")\n    val live: String = \"\",\n    @SerializedName(\"max_price\")\n    val maxPrice: Int = 0, // 240000\n    @SerializedName(\"max_price_percent\")\n    val maxPricePercent: Int = 0, // 60\n    @SerializedName(\"name\")\n    val name: String = \"\",\n    @SerializedName(\"number_of_users\")\n    val numberOfUsers: Int = 0, // 14\n    @SerializedName(\"order\")\n    val order: Int = 0, // 0\n    @SerializedName(\"price\")\n    val price: Int = 0, // 400000\n    @SerializedName(\"product_id\")\n    val productId: Int = 0, // 671\n    @SerializedName(\"registered\")\n    val registered: String = \"\", // null\n    @SerializedName(\"registereduser\")\n    val registereduser: Int = 0, // 14\n    @SerializedName(\"second_image\")\n    val secondImage: String = \"\",\n    @SerializedName(\"start_date\")\n    val startDate: String = \"\", // 2019-01-28 08:00:00\n    @SerializedName(\"tag\")\n    val tag: String = \"\",\n    @SerializedName(\"tag_color\")\n    val tagColor: String = \"\", // ff3232\n    @SerializedName(\"tag_description\")\n    val tagDescription: String = \"\",\n    @SerializedName(\"title\")\n    val title: String = \"\",\n    @SerializedName(\"winner_avatar\")\n    val winnerAvatar: String = \"\", // /img/avatar/009-social-11.png\n    @SerializedName(\"winner_id\")\n    val winnerId: Int = 0, // 57582\n    @SerializedName(\"winner_name\")\n    val winnerName: String = \"\", // Arashr1\n\n    val running: Boolean = true,\n    var thread: Thread\n) {\n    init {\n        thread = Thread(Runnable {\n            while (running) {\n                calculateEnd--\n                try {\n                    Thread.sleep(1000)\n                } catch (e: InterruptedException) {\n                    e.printStackTrace()\n                }\n            }\n        })\n        thread.start()\n    }\n}\n</code></pre>\n\n<p>How can i fix it?</p>\n"}, {"tags": ["matrix", "kotlin", "functional-programming", "mapping", "column-sum"], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1549361600, "creation_date": 1549361600, "answer_id": 54532024, "question_id": 54531767, "link": "https://stackoverflow.com/questions/54531767/kotlin-elegant-way-to-sum-elements-across-the-rows-in-matrix/54532024#54532024", "title": "Kotlin: Elegant way to sum elements across the rows in matrix?", "body": "<pre><code>val matrix = arrayListOf(\n        arrayListOf(1, 2, 3),\n        arrayListOf(4, 5, 6),\n        arrayListOf(7, 8, 9)\n)\nval allSum = matrix.sumBy { it.sumBy { it } } // 45\nval firstColumnSum = matrix.sumBy { it[0] } // 12\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 815, "user_id": 2240423, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c62af0343a46c0e7526a0a3605ba156f?s=128&d=identicon&r=PG", "display_name": "Arnie Schwarzvogel", "link": "https://stackoverflow.com/users/2240423/arnie-schwarzvogel"}, "edited": false, "score": 0, "creation_date": 1549367057, "post_id": 54532208, "comment_id": 95868714, "body": "Ok, so I can get colSum(0), how can I use it in a map {} to receive an array as sum of all columns ? I just tried several syntax options and cannot get it."}, {"owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "reply_to_user": {"reputation": 815, "user_id": 2240423, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c62af0343a46c0e7526a0a3605ba156f?s=128&d=identicon&r=PG", "display_name": "Arnie Schwarzvogel", "link": "https://stackoverflow.com/users/2240423/arnie-schwarzvogel"}, "edited": false, "score": 0, "creation_date": 1549368412, "post_id": 54532208, "comment_id": 95869479, "body": "@ArnieSchwarzvogel I updated my answer to address your question."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1549441002, "post_id": 54532208, "comment_id": 95898494, "body": "Better <code>arr[row]</code>, not <code>arr.get(row)</code>."}], "tags": [], "owner": {"reputation": 8716, "user_id": 2938364, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vNRRo.jpg?s=128&g=1", "display_name": "Markus Weninger", "link": "https://stackoverflow.com/users/2938364/markus-weninger"}, "is_accepted": true, "score": 4, "last_activity_date": 1549444238, "last_edit_date": 1549444238, "creation_date": 1549362135, "answer_id": 54532208, "question_id": 54531767, "link": "https://stackoverflow.com/questions/54531767/kotlin-elegant-way-to-sum-elements-across-the-rows-in-matrix/54532208#54532208", "title": "Kotlin: Elegant way to sum elements across the rows in matrix?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum.html\" rel=\"nofollow noreferrer\"><code>sum</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum-by.html\" rel=\"nofollow noreferrer\"><code>sumBy</code></a> to achieve this.</p>\n\n<p>Following are 3 methods: (1) to calculate the overall matrix sum, (2) to calculate the sum for a given row, and (3) to calculate the sum for a given column:</p>\n\n<pre><code>val arr = arrayListOf(\n        arrayListOf(1, 2, 3),\n        arrayListOf(4, 5, 6),\n        arrayListOf(7, 8, 9)\n)\n\nfun matrixSum() = arr.sumBy { it.sum() }\nfun rowSum(row: Int) = arr[row].sum()\nfun colSum(col: Int) = arr.sumBy {row -&gt; row[col] }\n// shorter alternative: fun colSum(col: Int) = arr.sumBy { it[col] }\n</code></pre>\n\n<p>According to your question, you would like to call <code>colSum(0)</code>. This will extract <code>row[0]</code> (each row's value for index <code>0</code>) and sum these values.</p>\n\n<p>EDIT:</p>\n\n<p>Regarding your question in the comment section, following two methods: (1) To calculate all row sums, returned as a list; and (2) To calculate all col sums, returned as a list.</p>\n\n<pre><code>fun rowSums() = arr.map { it.sum() }\nfun colSums() = arr[0].indices.map { col -&gt; colSum(col) }\n// shorter alternative:\n// fun colSums() = arr[0].indices.map(::colSum)\n// another version that does not call colSum:\n// fun colSums() = arr[0].indices.map { col -&gt; arr.sumBy { row -&gt; row[col] } }\n</code></pre>\n\n<p>To explain <code>colSums</code> (which assumes that all rows have the same number of columns): First, you grab your first row (<code>arr[0]</code>), then you get its <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/indices.html\" rel=\"nofollow noreferrer\"><code>indices</code></a> (i.e., its column numbers <code>0</code>, <code>1</code>, ..., up to <code>nCols</code>), and then you <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> these indices to their respective <code>colSum()</code> results. This may not be the most performant way, but it's quite readable.</p>\n"}], "owner": {"reputation": 815, "user_id": 2240423, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c62af0343a46c0e7526a0a3605ba156f?s=128&d=identicon&r=PG", "display_name": "Arnie Schwarzvogel", "link": "https://stackoverflow.com/users/2240423/arnie-schwarzvogel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 54532208, "answer_count": 2, "score": 2, "last_activity_date": 1549444238, "creation_date": 1549360781, "last_edit_date": 1549369102, "question_id": 54531767, "link": "https://stackoverflow.com/questions/54531767/kotlin-elegant-way-to-sum-elements-across-the-rows-in-matrix", "title": "Kotlin: Elegant way to sum elements across the rows in matrix?", "body": "<p>Given an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> (rows) of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> (elements in a row), is there a better way to obtain a list of sums like  (<code>row[0][0] + row[1][0] + .... row[n][0]</code>) except writing a \"<code>for</code>\" loop? </p>\n"}, {"tags": ["java", "android", "kotlin", "android-seekbar"], "comments": [{"owner": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "edited": false, "score": 0, "creation_date": 1549360538, "post_id": 54531509, "comment_id": 95864913, "body": "Please do not close this question if you haven&#39;t any reason yet."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1549360706, "post_id": 54531509, "comment_id": 95865036, "body": "<i>This line will be display dynamically based on low/high value</i> But how the dashed line will be changed? Is it your secondary progress? If you haven&#39;t done dashed line that you can make custom shape file and apply as a secondary progress drawable to seekbar."}, {"owner": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1549361077, "post_id": 54531509, "comment_id": 95865262, "body": "@Piyush when the seekbar will initialize then the dotted line will display initialy when i am passing some value like 15,20."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1549361294, "post_id": 54531509, "comment_id": 95865346, "body": "How are you setting value for it?"}, {"owner": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1549361400, "post_id": 54531509, "comment_id": 95865411, "body": "based on before progress"}], "answers": [{"comments": [{"owner": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "edited": false, "score": 0, "creation_date": 1549366810, "post_id": 54532749, "comment_id": 95868577, "body": "Can you please give me xml demo for this? because i am new for constraint layout"}, {"owner": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "reply_to_user": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "edited": false, "score": 0, "creation_date": 1549371787, "post_id": 54532749, "comment_id": 95871581, "body": "@dipali added a samplelayout"}], "tags": [], "owner": {"reputation": 3043, "user_id": 10300673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17821ef80e645b03b63bc87a23152d0d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Hidalgo", "link": "https://stackoverflow.com/users/10300673/nikos-hidalgo"}, "is_accepted": false, "score": 0, "last_activity_date": 1549371766, "last_edit_date": 1549371766, "creation_date": 1549363818, "answer_id": 54532749, "question_id": 54531509, "link": "https://stackoverflow.com/questions/54531509/need-to-show-view-above-of-seekbar-at-specific-position-android/54532749#54532749", "title": "Need to show view above of seekbar at specific position android", "body": "<p>Add your progress bar inside a constraint layout and have its width set to match the parent. Add two imageviews on top of it that have the dotted line as a resource. Add two vertical guidelines and restrict each imageview to the appropriate guideline. Set the percentage of the guidelines to be where you want each time on the progress bar and the views will move accordingly. You can programmatically change the percentage of the guidelines like so:</p>\n\n<pre><code>Guideline guideLineLeft = (Guideline) findViewById(R.id.your_left_guideline);\nGuideline guideLineRight = (Guideline) findViewById(R.id.your_right_guideline);\nConstraintLayout.LayoutParams params = (ConstraintLayout.LayoutParams) guideLineLeft.getLayoutParams();\nparams.guidePercent = 0.10f; // 10% \nguideLineLeft.setLayoutParams(params);\nguideLineRight.getLayoutParams();\nparams.guidePercent = 0.90f; // 90% \nguideLineRight.setLayoutParams(params);\n</code></pre>\n\n<p><strong>UPDATE after comment</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cgJVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cgJVa.png\" alt=\"example\"></a></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;ProgressBar\n        android:id=\"@+id/progressBar\"\n        style=\"?android:attr/progressBarStyleHorizontal\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toStartOf=\"@+id/guideline\"\n        app:srcCompat=\"@drawable/ic_divider_more\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imageView2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintStart_toStartOf=\"@+id/guideline2\"\n        app:srcCompat=\"@drawable/ic_divider_more\" /&gt;\n\n    &lt;android.support.constraint.Guideline\n        android:id=\"@+id/guideline\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_percent=\"0.21\" /&gt;\n\n    &lt;android.support.constraint.Guideline\n        android:id=\"@+id/guideline2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        app:layout_constraintGuide_percent=\"0.80\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 10221, "user_id": 1223291, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/gUbqx.jpg?s=128&g=1", "display_name": "dipali", "link": "https://stackoverflow.com/users/1223291/dipali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549371766, "creation_date": 1549359923, "last_edit_date": 1549360492, "question_id": 54531509, "link": "https://stackoverflow.com/questions/54531509/need-to-show-view-above-of-seekbar-at-specific-position-android", "title": "Need to show view above of seekbar at specific position android", "body": "<p>I want to show <code>seekbar</code> with dashed line as per below images . This line will be display dynamically based on low/high value. I have attached below image.<a href=\"https://i.stack.imgur.com/ktxzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ktxzV.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have achieved below image. Can you please help me in this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/A4BgZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4BgZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "recyclerview-layout"], "answers": [{"comments": [{"owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1549411072, "post_id": 54532294, "comment_id": 95890457, "body": "sir I am actually a beginner, and I little bit confused with your first block of code. really need your help. I copy and paste it in my adapter, but it seems I can&#39;t  find NavigationActivity like in this picture: <a href=\"https://i.stack.imgur.com/D9uXT.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/D9uXT.png</a> . I have added my adapter code in my question above. thank you very much"}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "reply_to_user": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1549447180, "post_id": 54532294, "comment_id": 95901656, "body": "Ah yes sorry that was my activity I forgot to change it. In your adapter you pass your context already, so you can cast the context as your activity, the one you create the adapter in."}, {"owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1549450895, "post_id": 54532294, "comment_id": 95903973, "body": "sir could you please add your code in my adapter code above ? :(   I have copied my adapter code in my question. I am really confused where to place the code in my adapter, it seems the itemView can&#39;t be accessed   like in the image in here <a href=\"https://i.stack.imgur.com/juqoy.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/juqoy.png</a>"}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "reply_to_user": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1549451850, "post_id": 54532294, "comment_id": 95904505, "body": "Check out my new Edit."}, {"owner": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1579384137, "post_id": 54532294, "comment_id": 105750416, "body": "Suppose my screen width is 450, I set the width of the item to be divided by 1.5, so one image is 300. and height is 500. Now the image source is 300x500. Now if you see, then there will be blank spaces around the image which is not filled by the source. How to handle that?"}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "reply_to_user": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1579456371, "post_id": 54532294, "comment_id": 105764025, "body": "@AmanVerma Is the blank space in the ImageView or is it outside of the ImageView? You might either want to center your view by using Layout gravity or center crop your image."}, {"owner": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1579458590, "post_id": 54532294, "comment_id": 105764628, "body": "Inside the ImageView. If you know Zomato, there are banners on the home screen of Android App. And the Amount of the image that show on the screen at a time is constant through all devices. I want to achieve that."}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1579458782, "post_id": 54532294, "comment_id": 105764688, "body": "Look at the <code>scaleType</code> property in ImageView. Use centerCrop"}, {"owner": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1579459813, "post_id": 54532294, "comment_id": 105764949, "body": "I already tried that. I&#39;ll post a question on this with images. Okay? Maybe, you will understand better."}, {"owner": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1579461684, "post_id": 54532294, "comment_id": 105765429, "body": "Here it is <a href=\"https://stackoverflow.com/questions/59813559/how-to-preset-the-number-of-the-itemsor-the-percent-of-the-item-that-is-showin\" title=\"how to preset the number of the itemsor the percent of the item that is showin\">stackoverflow.com/questions/59813559/&hellip;</a>"}, {"owner": {"reputation": 446, "user_id": 5991962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-_I0RhwO_ZVI/AAAAAAAAAAI/AAAAAAAAD8A/QRoL0BmueIE/photo.jpg?sz=128", "display_name": "makkhay gurung", "link": "https://stackoverflow.com/users/5991962/makkhay-gurung"}, "edited": false, "score": 0, "creation_date": 1580948523, "post_id": 54532294, "comment_id": 106269853, "body": "@P Fuster, it works as expected but I fear setting width dynamically on onBindViewholder will cause memory issues because we are doing it for every item?"}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "reply_to_user": {"reputation": 446, "user_id": 5991962, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-_I0RhwO_ZVI/AAAAAAAAAAI/AAAAAAAAD8A/QRoL0BmueIE/photo.jpg?sz=128", "display_name": "makkhay gurung", "link": "https://stackoverflow.com/users/5991962/makkhay-gurung"}, "edited": false, "score": 0, "creation_date": 1580980112, "post_id": 54532294, "comment_id": 106278405, "body": "@makkhaygurung You are right that you could perform the calculation in the ViewHolder constructor for example and just set it once as the screen width is fixed! I wouldn&#39;t worry about performance since we are using <code>RecyclerView</code> and it only renders a few items at a time. Also it doesn&#39;t really store it in memory, the calculation is performed and the UI is set. I&#39;d be more worried about seeing jankiness when scrolling fast as the width is adjusted."}], "tags": [], "owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "is_accepted": true, "score": 7, "last_activity_date": 1549451840, "last_edit_date": 1549451840, "creation_date": 1549362415, "answer_id": 54532294, "question_id": 54531113, "link": "https://stackoverflow.com/questions/54531113/how-to-show-partial-item-in-horizontal-recyclerview-at-last-to-indicate-scrollin/54532294#54532294", "title": "How to show partial item in Horizontal RecyclerView at last to indicate scrolling?", "body": "<p>I recently did this in one of my lists. You want to find out the device's screen width:</p>\n\n<pre><code>val displayMetrics = DisplayMetrics()\n(context as NavigationActivity).windowManager.getDefaultDisplay().getMetrics(displayMetrics)\nwidth = displayMetrics.widthPixels\n</code></pre>\n\n<p>And then divide the width of the device in order to have 3 and a 1/3 blocks cover it, so divide the screen width by around 3.33:</p>\n\n<pre><code>itemWidth = width / 3.33\n</code></pre>\n\n<p>Now on your <code>onBind</code> method in your list's adapter, you want to change the item's container layout params width to be the itemWidth:</p>\n\n<pre><code>val lp = itemView.container.layoutParams\nlp.height = originalHeight\nlp.width = itemWidth\nitemView.container.layoutParams = lp\n</code></pre>\n\n<p>You might need to take into consideration padding between items, so instead of:</p>\n\n<pre><code>itemWidth = width / 3.33\n</code></pre>\n\n<p>Something like:</p>\n\n<pre><code>itemWidth = (width - totalPadding) / 3.33\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Add it in your code like this:</p>\n\n<pre><code>class ProductListAdapter(val context: Context, val products: List&lt;Product&gt;) : RecyclerView.Adapter&lt;ProductListAdapter.ViewHolderProductList&gt;() {\n\n  // holds this device's screen width,\n  private var screenWidth = 0\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolderProductList {\n        // get screen width\n        val displayMetrics = DisplayMetrics()\n        (context as YourActivity).windowManager.getDefaultDisplay().getMetrics(displayMetrics)\n        screenWidth = displayMetrics.widthPixels\n\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val cellForRow = layoutInflater.inflate(R.layout.item_product_list,parent, false)\n        return ViewHolderProductList(cellForRow)\n    }\n\n    override fun getItemCount(): Int {\n        return products.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolderProductList, position: Int) {\n        val product = products[position]\n\n        val itemWidth = screenWidth / 3.33\n\n        val lp = holder.cardView.layoutParams\n        lp.height = lp.height\n        lp.width = itemWidth\n        itemView.container.layoutParams = lp\n\n\n        holder.productNameTextView.text = product.name\n        Glide\n            .with(context)\n            .load(product.getFormattedImagePath())\n            .into(holder.productImageView)\n\n    }\n\n    inner class ViewHolderProductList(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        val productImageView = itemView.findViewById&lt;ImageView&gt;(R.id.productImageView_Item)\n        val productNameTextView = itemView.findViewById&lt;TextView&gt;(R.id.productName_textView_item)\n\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3605, "favorite_count": 2, "accepted_answer_id": 54532294, "answer_count": 1, "score": 3, "last_activity_date": 1549451840, "creation_date": 1549358610, "last_edit_date": 1549411196, "question_id": 54531113, "link": "https://stackoverflow.com/questions/54531113/how-to-show-partial-item-in-horizontal-recyclerview-at-last-to-indicate-scrollin", "title": "How to show partial item in Horizontal RecyclerView at last to indicate scrolling?", "body": "<p>I have tried to search the answer like in this thread: <a href=\"https://stackoverflow.com/questions/36635442/recyclerview-linearlayoutmanager-set-item-count/54530876#54530876\">RecyclerView LinearLayoutManager set item count</a></p>\n\n<p>But it doesn't exactly solve my problem because it shows fixed items.</p>\n\n<p>I want to make <code>RecyclerView</code> like the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/FLAi1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FLAi1.png\" alt=\"enter image description here\"></a></p>\n\n<p>as you can see in the picture, there are 3 items showing, but also it has incomplete item showing in the right side to give indication that this scroll view can be scrolled. I want to have that partial(3 + 1/4) item in the <code>recyclerView</code> for all screen size.</p>\n\n<p>The xml of item layout I use is like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;androidx.cardview.widget.CardView\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"150dp\"\n        android:layout_height=\"250dp\"\n        app:cardCornerRadius=\"10dp\"\n        android:layout_marginRight=\"8dp\"\n        app:cardElevation=\"3dp\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@android:color/background_light\"&gt;\n\n        &lt;ImageView\n                android:layout_width=\"0dp\"\n                android:layout_height=\"100dp\"\n                app:srcCompat=\"@drawable/logo_apps\"\n                android:id=\"@+id/productImageView_Item\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginStart=\"8dp\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginEnd=\"8dp\"\n                app:layout_constraintDimensionRatio=\"w,1:1\"/&gt;\n\n        &lt;TextView\n                android:text=\"@string/product_name\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"0dp\"\n                android:id=\"@+id/productName_textView_item\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintTop_toBottomOf=\"@+id/productImageView_Item\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                android:layout_marginStart=\"4dp\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginEnd=\"4dp\"\n                android:textAlignment=\"center\"\n                android:minLines=\"1\"\n                android:maxLines=\"2\"\n                app:autoSizeMinTextSize=\"8sp\"\n                app:autoSizeMaxTextSize=\"14sp\"\n                android:layout_marginBottom=\"8dp\"/&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p>and the recycler view xml in the activity is like this:</p>\n\n<pre><code>&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            tools:context=\".Fragment.HomeFragment\" android:background=\"@color/colorLightGrayBackground\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"300dp\"\n                android:layout_marginTop=\"8dp\"\n                app:layout_constraintTop_toBottomOf=\"@+id/textView\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                android:layout_marginEnd=\"8dp\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                android:layout_marginStart=\"8dp\"\n                android:layout_marginBottom=\"8dp\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintHorizontal_bias=\"0.0\"\n                app:layout_constraintVertical_bias=\"1.0\"\n                android:id=\"@+id/recyclerView_1\"/&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>and here is the code in the java file:</p>\n\n<pre><code> val layoutManager = LinearLayoutManager(mContext,LinearLayoutManager.HORIZONTAL,false)\nrecyclerView1.adapter = productAdapter\nrecyclerView1.layoutManager = layoutManager\n</code></pre>\n\n<p>here is my adapter:</p>\n\n<pre><code>class ProductListAdapter(val context: Context, val products: List&lt;Product&gt;) : RecyclerView.Adapter&lt;ProductListAdapter.ViewHolderProductList&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolderProductList {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val cellForRow = layoutInflater.inflate(R.layout.item_product_list,parent, false)\n        return ViewHolderProductList(cellForRow)\n    }\n\n    override fun getItemCount(): Int {\n        return products.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolderProductList, position: Int) {\n        val product = products[position]\n\n\n        holder.productNameTextView.text = product.name\n        Glide\n            .with(context)\n            .load(product.getFormattedImagePath())\n            .into(holder.productImageView)\n\n    }\n\n    inner class ViewHolderProductList(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        val productImageView = itemView.findViewById&lt;ImageView&gt;(R.id.productImageView_Item)\n        val productNameTextView = itemView.findViewById&lt;TextView&gt;(R.id.productName_textView_item)\n\n\n    }\n\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "operators"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 2, "creation_date": 1549344712, "post_id": 54528092, "comment_id": 95858189, "body": "A logical NOT of a boolean value returned from <code>user.isInitialized</code> - ?"}, {"owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1549345143, "post_id": 54528092, "comment_id": 95858297, "body": "How it is different from (!user.isinitialized)?"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1549557970, "post_id": 54528092, "comment_id": 95953888, "body": "Note that <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#implement\" rel=\"nofollow noreferrer\">the documentation</a> has been updated to avoid this code construct."}], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 3, "last_activity_date": 1549345973, "creation_date": 1549345973, "answer_id": 54528392, "question_id": 54528092, "link": "https://stackoverflow.com/questions/54528092/equivalent-of-syntax-somereference-in-kotlin/54528392#54528392", "title": "Equivalent of syntax `!::someReference` in Kotlin", "body": "<p>In the example from the Android Docs is a <code>lateinit</code> variable <code>users</code> some lines above your snippet:</p>\n\n<pre><code>private lateinit var users: MutableLiveData&lt;List&lt;User&gt;&gt;\n</code></pre>\n\n<p>The syntax <code>::users.isInitialized</code> checks if the lateinit variable  <code>users</code> is already initialized, see <a href=\"https://kotlinlang.org/docs/reference/properties.html#checking-whether-a-lateinit-var-is-initialized-since-12\" rel=\"nofollow noreferrer\">documentation</a> for more details. </p>\n"}, {"tags": [], "owner": {"reputation": 2990, "user_id": 6944758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMedv.jpg?s=128&g=1", "display_name": "Firoz Memon", "link": "https://stackoverflow.com/users/6944758/firoz-memon"}, "is_accepted": false, "score": 5, "last_activity_date": 1549346073, "creation_date": 1549346073, "answer_id": 54528407, "question_id": 54528092, "link": "https://stackoverflow.com/questions/54528092/equivalent-of-syntax-somereference-in-kotlin/54528407#54528407", "title": "Equivalent of syntax `!::someReference` in Kotlin", "body": "<p><code>::</code> is a short form for <code>this::</code> in Kotlin.</p>\n\n<p><code>::</code> is a operator to creates a member reference or a class reference.</p>\n\n<p>It is also used to <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#checking-whether-a-lateinit-var-is-initialized\" rel=\"noreferrer\">Check whether a lateinit var is initialized</a> or to get <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11\" rel=\"noreferrer\">Bound Class References</a></p>\n\n<p>Since Kotlin 1.2, explicitly specifying <code>this</code> as the receiver is not necessary: <code>this::</code> and <code>::</code> are equivalent.</p>\n\n<p>You can view the <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"noreferrer\">docs examples</a> for clear understanding of the same.</p>\n"}], "owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 54528392, "answer_count": 2, "score": -1, "last_activity_date": 1550822058, "creation_date": 1549344123, "last_edit_date": 1550822058, "question_id": 54528092, "link": "https://stackoverflow.com/questions/54528092/equivalent-of-syntax-somereference-in-kotlin", "title": "Equivalent of syntax `!::someReference` in Kotlin", "body": "<p>Going through <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#kotlin\" rel=\"nofollow noreferrer\">this</a> Android Doc, I saw this piece of code:</p>\n\n<pre><code>fun getUsers(): LiveData&lt;List&lt;User&gt;&gt; {\n    if (!::users.isInitialized) {\n        users = MutableLiveData()\n        loadUsers()\n    }\n    return users\n}\n</code></pre>\n\n<p>I am aware about the use of <code>::</code> operator for  creating a member reference or a class reference. But what is the code equivalent of <code>!::users.isInitialized</code> syntax?</p>\n\n<p>P.S: This is not duplicate of <a href=\"https://stackoverflow.com/questions/46461742/what-is-the-use-of-operator-in-kotlin\">What is the use of :: operator in Kotlin?</a></p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "facebook-login"], "comments": [{"owner": {"reputation": 6172, "user_id": 1206653, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RPXzs.jpg?s=128&g=1", "display_name": "dReAmEr", "link": "https://stackoverflow.com/users/1206653/dreamer"}, "edited": false, "score": 0, "creation_date": 1599490678, "post_id": 54527880, "comment_id": 112783948, "body": "Hi, were u able to link Facebook with old account (created by Phone number)? Can you pls help <a href=\"https://stackoverflow.com/questions/63762463/how-to-prevent-multiple-account-for-same-user-in-firebase\" title=\"how to prevent multiple account for same user in firebase\">stackoverflow.com/questions/63762463/&hellip;</a>"}], "owner": {"reputation": 164, "user_id": 6827568, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/klqFq.png?s=128&g=1", "display_name": "MS2099", "link": "https://stackoverflow.com/users/6827568/ms2099"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1549342549, "creation_date": 1549342549, "question_id": 54527880, "link": "https://stackoverflow.com/questions/54527880/how-to-merge-prevuser-and-currentuser-in-firebase-when-using-signinwithcredentia", "title": "How to merge prevUser and currentUser in Firebase when using signInWithCredential?", "body": "<p>Forgive my lack of experience. What I'm trying to achieve is this:</p>\n\n<ul>\n<li>The user creates an account with a phone number,</li>\n<li>Then later links his account with facebook.</li>\n</ul>\n\n<p>Now, let's assume the user changes his phone number and wants to retrieve his account by logging in on facebook.</p>\n\n<p>According to this doc:\n<a href=\"https://firebase.google.com/docs/auth/android/account-linking\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/account-linking</a>\nI should be able to do that by using the following code:</p>\n\n<pre><code>val prevUser = FirebaseAuth.getInstance().currentUser\nmAuth.signInWithCredential(credential)\n        .addOnSuccessListener { result -&gt;\n            val currentUser = result.user\n            // Merge prevUser and currentUser accounts and data\n            // ...\n        }\n        .addOnFailureListener {\n            // ...\n        }\n</code></pre>\n\n<p>However, <code>prevUser</code> and <code>currentUser</code> always retrieve the old phone number.\nWhat am I doing wrong?</p>\n\n<p>My code is this pretty much:</p>\n\n<pre><code>facebook_login_button.setReadPermissions(\"email\", \"public_profile\")\nfacebook_login_button.registerCallback(mCallbackManager, object: \nFacebookCallback&lt;LoginResult&gt; {\n            override fun onSuccess(loginResult: LoginResult) {\n                mToken = loginResult.accessToken\n                handleFacebookAccessToken(loginResult.accessToken)\n            }\n            override fun onCancel() {}\n            override fun onError(error: FacebookException) {}\n        })\n\nprivate fun handleFacebookAccessToken(token: AccessToken) {\n        val credential = FacebookAuthProvider.getCredential(token.token)\n        val prevUser = FirebaseAuth.getInstance().currentUser\n        mCurrentAuth.signInWithCredential(credential)\n            .addOnSuccessListener { result -&gt;\n                 val currentUser = result.user\n\n             }\n             .addOnFailureListener {\n                 // ...\n             }\n}\n</code></pre>\n\n<p>I'm able to link facebook to the old phone number (which shows in Firebase). Then I use a different phone with a different number to create brand new account. Then I login in on facebook which is the same account I used on the old phone, but as I said, the currentUser's info is being replaced by the prevUser's info after I click on <code>facebook_login_button</code>.\nHelp please!</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "answers": [{"tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1549340510, "creation_date": 1549340510, "answer_id": 54527637, "question_id": 54527563, "link": "https://stackoverflow.com/questions/54527563/dagger-new-api-but-cant-to-implement-runtime-scope-with-singleton-scope/54527637#54527637", "title": "Dagger new Api. But can&#39;t to implement runtime scope with singleton scope", "body": "<p>I did not specify scope in parent module with @RegisterActivityScope.</p>\n\n<pre><code>    @Module\n    internal abstract class ActivityModule {\n\n        @RegisterActivityScope // &lt;-- just need add this\n        @ContributesAndroidInjector(\n            modules = [\n                UsecaseActivityModule::class\n\n            ]\n        )\n        internal abstract fun contributeUsecaseActivity(): UsecaseActivity\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549340510, "creation_date": 1549339571, "last_edit_date": 1549340252, "question_id": 54527563, "link": "https://stackoverflow.com/questions/54527563/dagger-new-api-but-cant-to-implement-runtime-scope-with-singleton-scope", "title": "Dagger new Api. But can&#39;t to implement runtime scope with singleton scope", "body": "<p>My scope:</p>\n\n<pre><code>@Scope\n@Retention\nannotation class ActivityScope\n</code></pre>\n\n<p>AppModule:</p>\n\n<pre><code> @Module(includes = [ActivityModule::class])\nclass AppModule {\n\n    @Provides\n    @Singleton\n    fun provideContext(application: Application): Context {\n        return application\n    }\n\n    @Provides\n    @Singleton\n    internal fun provideDataManager(appDataManager: AppDataManager): DataManager {\n        return appDataManager\n    }\n\n\n}\n</code></pre>\n\n<p>UsecaseActivityModule :</p>\n\n<pre><code>@Module\n    class UsecaseActivityModule {\n\n        @Provides\n        @RegisterActivityScope\n        fun provideUsecase(appDataManager: AppDataManager): UseCase =\n            UseCase(appDataManager)\n\n    }\n\n\n@Module\ninternal abstract class ActivityModule {\n\n\n    @ContributesAndroidInjector(\n        modules = [\n            UsecaseActivityModule::class\n\n        ]\n    )\n    internal abstract fun contributeUsecaseActivity(): UsecaseActivity\n\n}\n</code></pre>\n\n<p>Issue is I can not provide this:</p>\n\n<pre><code>@Provides\n        @Singleton\n        fun provideContext(application: Application): Context {\n            return application\n        }\n</code></pre>\n\n<p>got error </p>\n\n<blockquote>\n  <p>error: (unscoped) may not reference scoped bindings:   @Subcomponent( </p>\n\n<pre><code> bla bla bla ...   \n</code></pre>\n  \n  <p>AppComponent.java:6: error: com.example.di.AppComponent scoped with \n  @Singleton may not reference bindings with different \n  scopes:\n  @dagger.Component(modules = {dagger.android.AndroidInjectionModule.class,\n  com.example.di.ActivityModule.class, com.example.di.AppModule.class})</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549339639, "post_id": 54527559, "comment_id": 95857010, "body": "Your second code example <i>does</i> only iterate one time."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1549339693, "post_id": 54527559, "comment_id": 95857019, "body": "<a href=\"https://medium.com/@elye.project/kotlin-slow-list-and-lazy-sequence-61691fc974c5\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1549339707, "post_id": 54527559, "comment_id": 95857023, "body": "<a href=\"https://blog.kotlin-academy.com/effective-kotlin-use-sequence-for-bigger-collections-with-more-than-one-processing-step-649a15bb4bf\" rel=\"nofollow noreferrer\">blog.kotlin-academy.com/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549339824, "post_id": 54527559, "comment_id": 95857044, "body": "@RobertHarvey Yeah, I want kotlin generate code like this.(The second example.) Thank you."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549339854, "post_id": 54527559, "comment_id": 95857047, "body": "Read the two articles I linked."}, {"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549341377, "post_id": 54527559, "comment_id": 95857343, "body": "@RobertHarvey I read the two articles. It looks the Sequece mothod not &#39;inlined&#39;. I wish there a way to generate inline code for better performance. Like my example, the inline all lambda in one function. Thank you very much."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549343244, "post_id": 54527559, "comment_id": 95857786, "body": "Have you measured the performance of your code and identified it to be an actual problem?"}, {"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1549344552, "post_id": 54527559, "comment_id": 95858158, "body": "@RobertHarvey No, just my Obsessive-compulsive disorder(OCD). :) Thank you."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1549348688, "post_id": 54527559, "comment_id": 95859391, "body": "Not sure whether I got the question correctly. set.filter{ a in 10..20 }.forEach{ doSomething() } is this what you are looking for?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "edited": false, "score": 0, "creation_date": 1549353257, "post_id": 54529050, "comment_id": 95861176, "body": "This only an simple example. Thank you."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "reply_to_user": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "edited": false, "score": 0, "creation_date": 1549357666, "post_id": 54529050, "comment_id": 95863188, "body": "sure. so what exactly you are looking for. can you please elaborate. I could try to answer. @cpdyj"}, {"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "edited": false, "score": 0, "creation_date": 1549369592, "post_id": 54529050, "comment_id": 95870223, "body": "The previous answer say Sequence. But it looks isn&#39;t inlined. So, are there any way to generate code like sequence inline? Thank you. I think inline will bring better performance. Thank you."}, {"owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "edited": false, "score": 0, "creation_date": 1549369856, "post_id": 54529050, "comment_id": 95870364, "body": "I don&#39;t found any way to generate code inline. It looks because kotlin can&#39;t generate true inline class?(I know kotlin has inline class, but there&#39;re many limit.) Sorry, my English is poor. Thx"}], "tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1549349389, "creation_date": 1549349389, "answer_id": 54529050, "question_id": 54527559, "link": "https://stackoverflow.com/questions/54527559/is-there-any-way-to-implements-lazy-evaluation-in-filter-map-foreach-and/54529050#54529050", "title": "Is there any way to implements lazy evaluation in .filter() .map() .forEach and so on by Kotlin?", "body": "<p>I think you can use range operator to do that.</p>\n\n<pre><code>set.filter{ it.a in 10..20 }.forEach{ doSomething() } \n</code></pre>\n\n<p>or if you have any complicated condition to be done, then you can create a method which returns boolean.</p>\n\n<pre><code>set.filter{ isInRange(it.a, x, y) }.forEach{ doSomething() } \n\n// create a function\nfun isInRange(value: Int, x: Int, y: Int) = value in x..y // both inclusive \n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7121473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4172812f12b7b1a6e0a95454aa291ecb?s=128&d=identicon&r=PG&f=1", "display_name": "cpdyj", "link": "https://stackoverflow.com/users/7121473/cpdyj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549349389, "creation_date": 1549339499, "last_edit_date": 1549341875, "question_id": 54527559, "link": "https://stackoverflow.com/questions/54527559/is-there-any-way-to-implements-lazy-evaluation-in-filter-map-foreach-and", "title": "Is there any way to implements lazy evaluation in .filter() .map() .forEach and so on by Kotlin?", "body": "<p>In my opinion, if I have multiple filter() call. The set will be iterate multiple times. I want the code like this:</p>\n\n<p>Generate full inline the best.</p>\n\n<pre><code>set.filter{a&gt;10}.filter{a&lt;20}.forEach{doSomething()}\n</code></pre>\n\n<pre><code>for(e in set){ // Only iterate the set one time.\n    if(e.a&gt;10){\n        if(e.a&lt;20)\n            doSomething()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 192, "user_id": 10301237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hjWUi.png?s=128&g=1", "display_name": "vfalcao", "link": "https://stackoverflow.com/users/10301237/vfalcao"}, "is_accepted": true, "score": 0, "last_activity_date": 1549973638, "creation_date": 1549973638, "answer_id": 54649908, "question_id": 54525743, "link": "https://stackoverflow.com/questions/54525743/how-to-create-a-mxbean-with-control-methods/54649908#54649908", "title": "How to create a MXBean with control methods?", "body": "<p>I have (partially) solved my problem.</p>\n\n<p>I have added a new <code>object</code> class, along with its jmx interface :</p>\n\n<pre><code>package vfalcao.example.jmx\n\nimport java.lang.management.ManagementFactory\nimport javax.management.MXBean\nimport javax.management.ObjectName\n\n@MXBean\ninterface BehaviourControlMXBean {\n    fun setBehaviourOne(newValue: String)\n    fun isBehaviourOne() : String\n    ...\n    // other \"behaviours\" ommited for brevity\n}\n\nobject BehaviourControl : BehaviourControlMXBean {\n    // internal data\n    ...\n    init {\n        val objectName = ObjectName(\"vfalcao.example.jmx:type=BehaviourControl,name=def\")\n        val platformMBeanServer = ManagementFactory.getPlatformMBeanServer()\n        platformMBeanServer.registerMBean(this, objectName)\n    }\n}\n</code></pre>\n\n<p>then, in my <code>BaseFlow</code> class:</p>\n\n<pre><code>abstract class BaseFlow() : FlowLogic&lt;SignedTransaction&gt;() {\n   companion object {\n      ...\n      init {\n          println(\"${BehaviourControl}\")\n      }\n      ...\n      fun test() {\n          var behaviour1 = ((BehaviourControl.props[\"behaviour1\"] as String).toBoolean())\n          if (behaviour1) { \n             // do something controlled by behaviour1\n          }\n      }\n\n   }\n   ...\n}\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 10301237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hjWUi.png?s=128&g=1", "display_name": "vfalcao", "link": "https://stackoverflow.com/users/10301237/vfalcao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 54649908, "answer_count": 1, "score": 0, "last_activity_date": 1549973638, "creation_date": 1549322364, "question_id": 54525743, "link": "https://stackoverflow.com/questions/54525743/how-to-create-a-mxbean-with-control-methods", "title": "How to create a MXBean with control methods?", "body": "<p>We are planning to implement some behaviour control in our \nCordApp, for testing purposes. Is that possible to create a \nM(X)Bean, accessible via JMX, which is going to change some\ninternal flags in our CordApp ? If this is not a good design \nchoice, please inform the best practice to follow. </p>\n\n<p>Basically, we have a set of flags, like these:</p>\n\n<pre><code>abstract class BaseFlow() : FlowLogic&lt;SignedTransaction&gt;() {\n    var flagBehaviourOne  : Boolean = true\n    var flagBehaviourTwo  : Boolean = true\n    var flagBehaviourThree: Boolean = true\n    var flagBehaviourFour : Boolean = true\n...\n}\n</code></pre>\n\n<p>then, in some implementing class, we have something like this:</p>\n\n<pre><code>object SomeFlow {\n    @InitiatingFlow\n    class Initiator(private val destinatario: Party,\n                    private val parameter: StateObject,\n                    private val isAnonymous: Boolean = false,\n                    private val pointer: Any) : BaseFlow() {\n    ...\n        @Suspendable\n        override fun call(): SignedTransaction {\n\n        if (flagBehaviourOne || flagBehaviorTwo) { \n            // enforce some specific behaviour\n        }\n\n    ...\n\n    } // end of SomeFlow.Initiator\n\n...  \n\n} // end of SomeFlow\n</code></pre>\n"}, {"tags": ["android", "kotlin", "coroutine"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1549319450, "post_id": 54525200, "comment_id": 95852953, "body": "<i>I wanted to avoid to write if (!::users.isInitialized)</i> why?"}, {"owner": {"reputation": 617, "user_id": 6335443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f3fc9299adb77ddb0b1d64b7e727e3?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Vesel&#253;", "link": "https://stackoverflow.com/users/6335443/jan-vesel%c3%bd"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1549320471, "post_id": 54525200, "comment_id": 95853286, "body": "As it is right now I put coroutine logic in one place. With the if statement being in  concreate ViewModel I would also have to repeate  uiScope.launch{...} . I feel if I separete the fetching part and what to fecht, it is much better."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1549443574, "creation_date": 1549443574, "answer_id": 54549825, "question_id": 54525200, "link": "https://stackoverflow.com/questions/54525200/android-viewmodel-coroutine-pattern/54549825#54549825", "title": "Android viewmodel coroutine pattern", "body": "<p>In general it's always good to not expose the <code>Mutable*</code> types too much. This ensures data consistency. Also it seems like you're trying a achieve something similar to <code>lazy</code>, so why not use it.</p>\n\n<p>So you could consider an extension function to <code>CoroutineScope</code> to <em>convert</em> a suspending function to a simple <code>LiveData</code>:</p>\n\n<pre><code>fun &lt;V&gt; CoroutineScope.liveData(\n        provider: suspend () -&gt; V\n) = lazy&lt;LiveData&lt;V&gt;&gt; {\n    MutableLiveData&lt;V&gt;().apply {\n        launch {\n            postValue(provider())\n        }\n    }\n}\n</code></pre>\n\n<p>If you also have your <code>ViewModel</code> implement <code>CoroutineScope</code>, you could use it as:</p>\n\n<pre><code>val taskGroups() by liveData {\n    AppDatabase.db.toDoTasksDAO.getGroupsWithItems()\n}\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 6335443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f3fc9299adb77ddb0b1d64b7e727e3?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Vesel&#253;", "link": "https://stackoverflow.com/users/6335443/jan-vesel%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549443574, "creation_date": 1549318940, "last_edit_date": 1549319271, "question_id": 54525200, "link": "https://stackoverflow.com/questions/54525200/android-viewmodel-coroutine-pattern", "title": "Android viewmodel coroutine pattern", "body": "<p>I would like to hear some critics on the way I have implemeneted viewmodel data fetching using coroutine. My goal is clean way to write ViewModels. But isn't it too big of overhead? I haven't found so far some clean solution. Let me know your tips. I wanted to avoid to write <code>if (!::users.isInitialized)</code> as it is in the  official <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#kotlin\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n\n<pre><code>class LiveDataLoader &lt;T&gt;{\n    val liveData = MutableLiveData&lt;T&gt;()\n    var loaded:Boolean = false\n}\n\nabstract class CustomViewModel : ViewModel(){\n    private val viewModelJob = Job()\n    private val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n\n    fun &lt;T&gt; get(container: LiveDataLoader&lt;T&gt;, loader: ()-&gt;T): LiveData&lt;T&gt;{\n        if (!container.loaded){\n            container.loaded = true\n            uiScope.launch{\n                container.liveData.postValue(loader.invoke())\n            }\n        }\n        return container.liveData;\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        viewModelJob.cancel()\n    }\n}\n\nclass ActivityTodoGroupsViewModel() : CustomViewModel(){\n    private val groups = LiveDataLoader&lt;MutableList&lt;TaskGroupWithTasks&gt;&gt;()\n    private val tasks = LiveDataLoader&lt;MutableList&lt;TodoTask&gt;&gt;()\n\n    private lateinit var tasksx: MutableLiveData&lt;MutableList&lt;TodoTask&gt;&gt;\n\n    fun getTaskGroups() = get(groups){\n        AppDatabase.db.toDoTasksDAO.getGroupsWithItems()\n    }\n\n    fun getUpcomingTasks() = get(tasks){\n        val calendar = Calendar.getInstance()\n        calendar.add(Calendar.DAY_OF_YEAR, -7)\n        AppDatabase.db.toDoTasksDAO.getRecentTasks(calendar)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 8633758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71530e17cb1735434d44476942a25579?s=128&d=identicon&r=PG&f=1", "display_name": "Notsileous", "link": "https://stackoverflow.com/users/8633758/notsileous"}, "is_accepted": false, "score": 2, "last_activity_date": 1549314301, "creation_date": 1549314301, "answer_id": 54524308, "question_id": 54524232, "link": "https://stackoverflow.com/questions/54524232/group-key-value-pairs-in-sharedpreferences/54524308#54524308", "title": "Group key-value pairs in SharedPreferences", "body": "<p>This really is not what shared prefs are for. If you want to save complex data locally look into \"Room\" <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/room</a> to add a mini SQL lite database.</p>\n"}, {"tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": false, "score": 1, "last_activity_date": 1549314362, "creation_date": 1549314362, "answer_id": 54524320, "question_id": 54524232, "link": "https://stackoverflow.com/questions/54524232/group-key-value-pairs-in-sharedpreferences/54524320#54524320", "title": "Group key-value pairs in SharedPreferences", "body": "<p>Well usually you should use <strong>database</strong> for storing lists or maps.</p>\n\n<p>But if you really want to store it in <code>SharedPrefences</code> I can advice you to <strong>serialize</strong> <code>Map</code> into <code>JSON</code> and then save it in <code>SharedPreferences</code>. Its easiest way to solve problem.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549314362, "creation_date": 1549313923, "question_id": 54524232, "link": "https://stackoverflow.com/questions/54524232/group-key-value-pairs-in-sharedpreferences", "title": "Group key-value pairs in SharedPreferences", "body": "<p>I want to save data to <a href=\"https://developer.android.com/training/data-storage/shared-preferences#kotlin\" rel=\"nofollow noreferrer\">SharedPreferences</a> however I want to group the same list of values for different instances. For example:</p>\n\n<pre><code>class Player(name: String, age: Int, gender: String) {\n\n}\n</code></pre>\n\n<p><strong>PlayerDetails.kt</strong></p>\n\n<pre><code>override fun onClick(v: View?) {\n\n    val name: String = player_name.text.toString()\n\n    val age = if (player_age.text.toString().isNotEmpty()) player_age.text.toString().toInt() else 0\n    val genderId: Int = gender.checkedRadioButtonId\n    val gender: String = if (genderId &gt; 0) resources.getResourceEntryName(genderId) else \"\"\n\n    if (name.isNotEmpty() &amp;&amp; genderId &gt; 0 &amp;&amp; age &gt; 0 ){\n\n        val player = Player(name, age, gender)\n\n        val sharedPref = this@PlayerDetails.getSharedPreferences(\"user_details\", Context.MODE_PRIVATE)\n        ... \n        // get a specific Player's age\n\n    } else {\n        blankFields()\n    }\n\n\n}\n</code></pre>\n\n<p>I want the SharedPreferences file to have all the <code>Player</code> instances in one file:</p>\n\n<p><strong>.../shared_prefs/user_details.xml</strong> </p>\n\n<pre><code>&lt;map&gt;\n    &lt;string name=\"name\"&gt;peter&lt;/string&gt;\n    &lt;string name=\"age\"&gt;22&lt;/string&gt;\n    &lt;string name=\"gender\"&gt;male&lt;/string&gt;\n&lt;/map&gt;\n&lt;map&gt;\n    &lt;string name=\"name\"&gt;steven&lt;/string&gt;\n    &lt;string name=\"age\"&gt;24&lt;/string&gt;\n    &lt;string name=\"gender\"&gt;male&lt;/string&gt;\n&lt;/map&gt;\n</code></pre>\n\n<p>How can I access individual <code>Player</code> instances (for example Peter's <code>age</code>)?</p>\n\n<p>If I perform <code>sharedPref.getString(\"age\",\"defaultName\")</code> it can't target a specific player's <code>age</code> as there are multiple instances. </p>\n"}, {"tags": ["gradle", "kotlin", "proguard"], "answers": [{"comments": [{"owner": {"reputation": 66, "user_id": 9391516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e9f7c38655399313d43596ce6992ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mewen LE RESTE", "link": "https://stackoverflow.com/users/9391516/mewen-le-reste"}, "edited": false, "score": 0, "creation_date": 1549504856, "post_id": 54562403, "comment_id": 95929174, "body": "Thanks for your answer, but after using JShrinker my Jar had a Exception when running: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application And I don&#39;t know how to fix it"}, {"owner": {"reputation": 523, "user_id": 9700152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72c028b2be330717577567ca86733681?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin R", "link": "https://stackoverflow.com/users/9700152/dustin-r"}, "reply_to_user": {"reputation": 66, "user_id": 9391516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e9f7c38655399313d43596ce6992ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mewen LE RESTE", "link": "https://stackoverflow.com/users/9391516/mewen-le-reste"}, "edited": false, "score": 0, "creation_date": 1549505416, "post_id": 54562403, "comment_id": 95929282, "body": "What JDK did you use? Also, which IDE do you use? Keep in mind that JavaFX is no longer included in the JDK after JDK8. You should check the OpenJFX website for build instructions if you\u2019re using 8+."}, {"owner": {"reputation": 66, "user_id": 9391516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e9f7c38655399313d43596ce6992ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mewen LE RESTE", "link": "https://stackoverflow.com/users/9391516/mewen-le-reste"}, "edited": false, "score": 0, "creation_date": 1549558084, "post_id": 54562403, "comment_id": 95953951, "body": "I use the last JDK (11), OpenJFX are in my dependencies and in my fat jar (otherwise I shouldn&#39;t have been able to build the project and test it before). For the IDE I use IntelliJ but it&#39;s not important because I build on a terminal using gradle commands, and I need to keep it this way"}, {"owner": {"reputation": 66, "user_id": 9391516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e9f7c38655399313d43596ce6992ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mewen LE RESTE", "link": "https://stackoverflow.com/users/9391516/mewen-le-reste"}, "edited": false, "score": 0, "creation_date": 1549906658, "post_id": 54562403, "comment_id": 96064350, "body": "I wanted also to be clearer I need my jar to be obfuscated during the build with gradle. Like so it could prevent the release of a non obfuscate build because I forgot to run the obfuscator on it"}], "tags": [], "owner": {"reputation": 523, "user_id": 9700152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72c028b2be330717577567ca86733681?s=128&d=identicon&r=PG&f=1", "display_name": "Dustin R", "link": "https://stackoverflow.com/users/9700152/dustin-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1549486432, "creation_date": 1549486432, "answer_id": 54562403, "question_id": 54524150, "link": "https://stackoverflow.com/questions/54524150/obfuscate-generated-fat-jar-with-gradle/54562403#54562403", "title": "Obfuscate generated fat jar with gradle", "body": "<p>JShrinker is a jar obfuscation tool that provides a graphical user interface. If you're not limited to Pro Guard, it may solve your issue. It's very user friendly and saves you all of the configuration and head scratching that is nearly unavoidable with other programs.</p>\n"}], "owner": {"reputation": 66, "user_id": 9391516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e9f7c38655399313d43596ce6992ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mewen LE RESTE", "link": "https://stackoverflow.com/users/9391516/mewen-le-reste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549906716, "creation_date": 1549313576, "last_edit_date": 1549906716, "question_id": 54524150, "link": "https://stackoverflow.com/questions/54524150/obfuscate-generated-fat-jar-with-gradle", "title": "Obfuscate generated fat jar with gradle", "body": "<p>I'm creating a desktop application with Kotlin and I'm trying to obfuscate the final output</p>\n\n<p>I work on an application using JavaFx and Kotlin. I work with Gradle as a build tool and I'm searching how to obfuscate my jar in order to avoid reverse-enginneering on the jar. The generated jar is a fat jar (all library are inside the jar). I already tried using proguard in my gradle.build but everytime I run my build I get lot of \"can't find referenced class\" with native java library class such as Object, String, and so on.</p>\n\n<p>Here is my current proguard task:</p>\n\n<pre><code>def jarNameWithoutExtension = jar.archiveName.with { \nit.take(it.lastIndexOf(\".\")) }\ndef obfuscatedJarName = \"${jarNameWithoutExtension}-release.jar\"\ndef jarFileLocation = jar.archivePath.parent\ndef obfuscatedFilePath = Paths.get(jarFileLocation, obfuscatedJarName)\n\ntask obfuscate(type: ProGuardTask) {\n    configuration 'proguard.txt'\n\n    injars jar.archivePath\n    outjars obfuscatedFilePath.toString()\n    libraryjars files(configurations.compile.collect())\n    libraryjars \"/usr/lib/jvm/java-11-oracle/lib/rt.jar\"\n    doLast {\n        jar.archivePath.renameTo(Paths.get(jarFileLocation, \"$jarNameWithoutExtension-original.jar\").toFile())\n        obfuscatedFilePath.toFile().renameTo(jar.archivePath)\n    }\n}\n\njar.finalizedBy(project.tasks.obfuscate)\n</code></pre>\n\n<p>The proguard.txt file is currently empty\nAn error example is \"Warning: javafx.animation.Animation: can't find superclass or interface java.lang.Object\"</p>\n\n<p>I expect to have an obfuscated jar file produced when building my project, but all I've got is compilation error</p>\n\n<p>I hope that somebody can help me with my problem</p>\n"}, {"tags": ["java", "android", "c++", "kotlin", "android-ndk"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1549314532, "post_id": 54523444, "comment_id": 95851049, "body": "<i>&quot;the program crashes with a SIGSEGV in debugger&quot;</i> And what does the stacktrace say (i.e. which line(s) of code does it point to)?"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1549319076, "post_id": 54523444, "comment_id": 95852835, "body": "Welcome to StackOverflow! Thanks for clearly explaining your issue. Unfortunately, I tend to believe that the cause of your problem is some minor typo. Same scenario works smoothly for me."}, {"owner": {"reputation": 113, "user_id": 11014258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IronHawk", "link": "https://stackoverflow.com/users/11014258/ironhawk"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1549335542, "post_id": 54523444, "comment_id": 95856330, "body": "@Michael - I edited my question (added stacktrace etc.)"}, {"owner": {"reputation": 113, "user_id": 11014258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IronHawk", "link": "https://stackoverflow.com/users/11014258/ironhawk"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1549335825, "post_id": 54523444, "comment_id": 95856382, "body": "@AlexCohn - maybe the problem is in Virtual Device, or in Minimum API level. I really wondering because it is the wizard-generated app stub and only the change is an extra parameter. Also when I add primitive parameter like <code>Int</code> all works both in Java and Kotlin."}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1549351873, "post_id": 54523444, "comment_id": 95860612, "body": "The difference with emulator is that this is x86 vs arm64 on your real device. Could it be that the <b>abiFIlters</b> were not set correctly?"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1549357577, "post_id": 54523444, "comment_id": 95863144, "body": "@AlexCohn: If the abiFilters are wrong, would the app even install? I know that some x86 Android devices had support for running ARMv7 code through libhoudini, but I didn&#39;t think the emulator supported that."}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1549358925, "post_id": 54523444, "comment_id": 95863953, "body": "@Michael if you change abiFilters between builds, you may end with a binary that was updated for arm but not for x86"}, {"owner": {"reputation": 113, "user_id": 11014258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IronHawk", "link": "https://stackoverflow.com/users/11014258/ironhawk"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 1, "creation_date": 1549387968, "post_id": 54523444, "comment_id": 95881288, "body": "@AlexCohn: I checked both projects and <b>abiFilters</b> flag is not configured, so according to the docs <i>Gradle builds and packages all available ABIs</i> both for Kotlin and Java."}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 2, "creation_date": 1549396161, "post_id": 54523444, "comment_id": 95885138, "body": "I must confess that my experiment worked on an API 25 emulator, not 28."}], "owner": {"reputation": 113, "user_id": 11014258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IronHawk", "link": "https://stackoverflow.com/users/11014258/ironhawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 826, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1549337930, "creation_date": 1549310210, "last_edit_date": 1549337930, "question_id": 54523444, "link": "https://stackoverflow.com/questions/54523444/different-behavior-of-native-c-android-projects-when-using-java-and-kotlin-as", "title": "Different behavior of Native C++ Android projects when using Java and Kotlin as a base language", "body": "<p>I created two Native C++ projects - one with Kotlin as a base language, another one with Java.</p>\n\n<p>In both projects I made the same modification of the automatically-created C++ functions:</p>\n\n<pre><code>extern \"C\" JNIEXPORT jstring JNICALL\nJava_com_stellarsolvers_test_MainActivity_stringFromJNI(\n        JNIEnv* env,\n        jobject /* this */,\n        jstring s) {\n\n    std::string hello = \"Hello from C++\";\n    return env-&gt;NewStringUTF(hello.c_str());\n}\n</code></pre>\n\n<p>So I added the parameter: <code>jstring s</code>.</p>\n\n<p>The definition is also modified in the following way:</p>\n\n<p>Kotlin:</p>\n\n<pre><code>external fun stringFromJNI(s: String): String\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>public native String stringFromJNI(String s);\n</code></pre>\n\n<p>In the calling code I provided a string value for this function:</p>\n\n<p>Kotlin:</p>\n\n<pre><code>sample_text.text = stringFromJNI(\"Kotlin\")\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>tv.setText(stringFromJNI(\"Java\"));\n</code></pre>\n\n<p>No other changes were made to either of the projects.</p>\n\n<p>Both projects are from \"Native C++\" template of </p>\n\n<ul>\n<li>Android Studio 3.3</li>\n<li>Build #AI-182.5107.16.33.5199772, built on December 25, 2018</li>\n<li>JRE: 1.8.0_152-release-1248-b01 x86_64</li>\n<li>JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</li>\n<li>macOS 10.14.2</li>\n</ul>\n\n<p>The single change in the \"Create New Project\" wizard is:</p>\n\n<ul>\n<li>Minimum API level: API 21</li>\n</ul>\n\n<p>I expected both projects to work properly.</p>\n\n<p>With Java that was the case.</p>\n\n<p>However, the Kotlin app behaves in a strange way: when the execution reaches the point where the C++ function should be invoked, the program crashes with a SIGSEGV in debugger on:</p>\n\n<ul>\n<li>Virtual Device: Nexus 5X API 28 x86 (Android 9, API 28)</li>\n</ul>\n\n<p>Debug stacktrace is:</p>\n\n<pre><code>art_sigsegv_fault 0x00000000e7e571d0\nart::FaultManager::HandleFault(int, siginfo*, void*) 0x00000000e7e57774\nart::art_fault_handler(int, siginfo*, void*) (.llvm.650222801) 0x00000000e7e5749b\n___lldb_unnamed_symbol22$$app_process32 0x00000000598aa6af\n___lldb_unnamed_symbol2$$libc.so 0x00000000eace1c50\nart::ManagedStack::ShadowFramesContain(art::StackReference&lt;art::mirror::Object&gt;*) const 0x00000000e8093086\nart::Thread::DecodeJObject(_jobject*) const 0x00000000e81d8ac8\n&lt;unknown&gt; 0x00000000e876d05d\ndlsym 0x00000000598a9530\n</code></pre>\n\n<p>An app crashes on entering to the native method.</p>\n\n<p><em>What is the reason of such a strange behavior of the Kotlin app?</em></p>\n\n<p>I just tried to debug on real device: ASUS Zenfone Max Pro M1 (Android 8.1.0, API 27). And both Kotlin and Java projects are work properly. Debugger allows to enter the native method, no any crashes appear.</p>\n\n<p>So the updated problem status is:\n<em>An application crashes in 100% of cases on Virtual Device.</em></p>\n"}, {"tags": ["android", "kotlin", "continuous-integration", "root", "bitrise"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1549309661, "post_id": 54523295, "comment_id": 95849100, "body": "<code>checkRootMethod1()</code> is checking to see if the device platform is signed with test keys. Any debug Android version is basically pre-rooted (<code>adb root</code> will give you a root ADB shell). That&#39;s a bad way to test for a rooted device. Also, just because <code>su</code> exists doesn&#39;t mean the device is actually rooted."}, {"owner": {"reputation": 161, "user_id": 1731145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EIRB1.jpg?s=128&g=1", "display_name": "Sunay Hashimov", "link": "https://stackoverflow.com/users/1731145/sunay-hashimov"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549315349, "post_id": 54523295, "comment_id": 95851430, "body": "I tried to run the CI without the first method and it was again detected as rooted. Your suggestion is to remove it together with the checks for su?"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1549315708, "post_id": 54523295, "comment_id": 95851583, "body": "I don&#39;t know what emulator you&#39;re using, but it&#39;s possible that it is actually rooted, with a bundled su binary. Use a library like libsu or libsuperuser to check for root access and see what happens."}], "owner": {"reputation": 161, "user_id": 1731145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EIRB1.jpg?s=128&g=1", "display_name": "Sunay Hashimov", "link": "https://stackoverflow.com/users/1731145/sunay-hashimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549309557, "creation_date": 1549309557, "question_id": 54523295, "link": "https://stackoverflow.com/questions/54523295/bitrise-continues-integration-rooted-emulator", "title": "Bitrise continues integration rooted emulator?", "body": "<p>Our app uses continues integration from Bitrise to build and run automation UI tests. We were required to implement rooted device checks which now are failing the tests and it seems that their emulator is detected as rooted. Anyone had experience with that and know how could this possibly be resolved, is it also true they are using rooted device? Couldn't find information about it in the web. The check we are using is this:</p>\n\n<pre><code>    /** @author Kevin Kowalewski */\npublic class RootUtil {\n    public static boolean isDeviceRooted() {\n        return checkRootMethod1() || checkRootMethod2() || checkRootMethod3();\n    }\n\n    private static boolean checkRootMethod1() {\n        String buildTags = android.os.Build.TAGS;\n        return buildTags != null &amp;&amp; buildTags.contains(\"test-keys\");\n    }\n\n    private static boolean checkRootMethod2() {\n        String[] paths = { \"/system/app/Superuser.apk\", \"/sbin/su\", \"/system/bin/su\", \"/system/xbin/su\", \"/data/local/xbin/su\", \"/data/local/bin/su\", \"/system/sd/xbin/su\",\n                \"/system/bin/failsafe/su\", \"/data/local/su\", \"/su/bin/su\"};\n        for (String path : paths) {\n            if (new File(path).exists()) return true;\n        }\n        return false;\n    }\n\n    private static boolean checkRootMethod3() {\n        Process process = null;\n        try {\n            process = Runtime.getRuntime().exec(new String[] { \"/system/xbin/which\", \"su\" });\n            BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            if (in.readLine() != null) return true;\n            return false;\n        } catch (Throwable t) {\n            return false;\n        } finally {\n            if (process != null) process.destroy();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "date", "datetime", "kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1549310912, "post_id": 54523222, "comment_id": 95849623, "body": "Is it possible for you to use the <code>java.time</code> API? It might yield more accurate results."}, {"owner": {"reputation": 328, "user_id": 8515174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de31bace8bba3e90348fb13b9c076d?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/8515174/akshay-katariya"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1549311478, "post_id": 54523222, "comment_id": 95849852, "body": "it requires minimum API 26 which i cant do right now, Is there any way its guffing up in time conversions and date time to long conversions?"}, {"owner": {"reputation": 17061, "user_id": 507738, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7ghSp.jpg?s=128&g=1", "display_name": "MC Emperor", "link": "https://stackoverflow.com/users/507738/mc-emperor"}, "edited": false, "score": 1, "creation_date": 1549311764, "post_id": 54523222, "comment_id": 95849981, "body": "@AkshayKatariya You might as well try the ThreeTen Backport."}, {"owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1549312004, "post_id": 54523222, "comment_id": 95850104, "body": "<code>1549309800000</code> is <code>2019-02-04T19:50:00Z</code>. Applying offset <code>1100</code> yields <code>2019-02-05T06:50+11:00</code> or <code>2019-02-04T08:50-11:00</code>. None of these values are anywhere close to <code>12:41</code>, so how is any of that related to 18 minutes difference? Please edit question and provide <a href=\"https://stackoverflow.com/help/mcve\"><b>Minimal</b>, Complete, and <b>Verifiable</b> example</a>."}, {"owner": {"reputation": 328, "user_id": 8515174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de31bace8bba3e90348fb13b9c076d?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/8515174/akshay-katariya"}, "reply_to_user": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "edited": false, "score": 0, "creation_date": 1549312538, "post_id": 54523222, "comment_id": 95850352, "body": "@Andreas I edited my question it was just a dummy date for reference which I had from my API response"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 2, "creation_date": 1549312864, "post_id": 54523222, "comment_id": 95850478, "body": "Agreeing with @Slaw and @MCEmperor: As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 1, "creation_date": 1549317026, "post_id": 54523222, "comment_id": 95852110, "body": "As Ole V.V. commented, the terrible date-time classes <code>java.util.Date</code>, <code>java.util.Calendar</code>, <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Most of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. For earlier Android (&lt;26) see <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a>. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP\u2026</i></a>."}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 8515174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de31bace8bba3e90348fb13b9c076d?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/8515174/akshay-katariya"}, "is_accepted": false, "score": 1, "last_activity_date": 1549312583, "last_edit_date": 1549312583, "creation_date": 1549312226, "answer_id": 54523883, "question_id": 54523222, "link": "https://stackoverflow.com/questions/54523222/adding-time-to-current-time-give-error-of-1-minute-kotlin-java/54523883#54523883", "title": "Adding time to current time give error of 1 minute (Kotlin / Java)", "body": "<p>I just change one line and magic happened</p>\n\n<p>from </p>\n\n<pre><code>now.add(Calendar.MILLISECOND, diffInMillies.toInt())\n</code></pre>\n\n<p>to</p>\n\n<pre><code>now.add(Calendar.MINUTE, diffInMin.toInt())\n</code></pre>\n\n<p>As I thought the MILLISECOND calculation was introducing bugs in my function\nwhen I calculated using Minutes it's working fine</p>\n"}], "owner": {"reputation": 328, "user_id": 8515174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3de31bace8bba3e90348fb13b9c076d?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/8515174/akshay-katariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1549312583, "creation_date": 1549309236, "last_edit_date": 1549312481, "question_id": 54523222, "link": "https://stackoverflow.com/questions/54523222/adding-time-to-current-time-give-error-of-1-minute-kotlin-java", "title": "Adding time to current time give error of 1 minute (Kotlin / Java)", "body": "<p>When I add new time to calendar instance it gives me the error of 1 minute.</p>\n\n<p>I get time from API response in this format</p>\n\n<p><code>\"PredictedArrivalDateTime\": \"/Date(1549309800000+1100)/\"</code> </p>\n\n<blockquote>\n  <p>this is just a dummy date from my API response</p>\n</blockquote>\n\n<p>Then I use <code>dateFromDotNetDate(dotNetDate: String)</code> function to get difference in minutes.</p>\n\n<p>After that, I want to add this minutes to the current time (eg: 12:30 ) and get new time which I am doing using the following function\n<code>calculateNextTime(diffInMillies: Long)</code></p>\n\n<p>Following is my DateTimeUtil util code </p>\n\n<pre><code>class DateTimeUtil {\n\n    //Holds difference time difference in Minuets\n    var mDifferenceMin: String? = null\n\n    //HoldsETA of next Tram\n    var mNextTime: String? = null\n\n    //Convert .NET Date to Date\n    fun dateFromDotNetDate(dotNetDate: String) {\n        val startIndex = dotNetDate.indexOf(\"(\") + 1\n        val endIndex = dotNetDate.indexOf(\"+\")\n        val date = dotNetDate.substring(startIndex, endIndex)\n\n        val unixTime = java.lang.Long.parseLong(date)\n        val diffInMinutes = calculateDifference(Date(), unixTime)\n\n        mDifferenceMin = diffInMinutes\n        //----------------\n        if (diffInMinutes == \"0\") {\n            mDifferenceMin = \"Now\"\n        } else\n            mDifferenceMin = diffInMinutes\n    }\n\n    private fun calculateDifference(d1: Date, d2: Long): String? {\n        val diffInMillies = Math.abs(d2 - d1.time)\n        val diff = TimeUnit.MINUTES.convert(diffInMillies, TimeUnit.MILLISECONDS)\n\n        calculateNextTime(diffInMillies)\n        //----------------------\n        return diff.toString()\n    }\n\n    private fun calculateNextTime(diffInMillies: Long) {\n        //calculate next time\n        val df = SimpleDateFormat(\"hh:mm aa\", Locale.getDefault())\n        val now = Calendar.getInstance()\n        now.add(Calendar.MILLISECOND, diffInMillies.toInt())\n        val teenMinutesFromNow = df.format(now.time)\n        val nextTime = teenMinutesFromNow\n\n        mNextTime = nextTime\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mD4ca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mD4ca.png\" alt=\"See Attached screensot\"></a></p>\n\n<p>The current time is 12:41 in device, next ETA is 18 min so if i add (12:41 + 18 min = 12:59) but its showing 1:00</p>\n"}, {"tags": ["java", "string", "kotlin", "tokenize"], "comments": [{"owner": {"reputation": 9152, "user_id": 2338547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QT3fG.png?s=128&g=1", "display_name": "markspace", "link": "https://stackoverflow.com/users/2338547/markspace"}, "edited": false, "score": 0, "creation_date": 1549309913, "post_id": 54523026, "comment_id": 95849206, "body": "I think there&#39;s no solution other than to build a custom parser.  No regex will match arbitrary nesting like this."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7735110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07797f1f6e196cfa6faab304be58eb99?s=128&d=identicon&r=PG&f=1", "display_name": "wouldnotliketo", "link": "https://stackoverflow.com/users/7735110/wouldnotliketo"}, "edited": false, "score": 1, "creation_date": 1549345478, "post_id": 54525271, "comment_id": 95858389, "body": "Thank you! This does work for fishing out the parts inside the quotes (with quotes included). However, two things: 1. I wanted to also tokenize everything outside the quotes. So, instead of <code>..., and even, ...</code> I wanted to get <code>..., and, even, ...</code>. 2. For a string like <code>text &quot;text with spaces&quot; and more text</code> I get <code>[text, &#39;text with spaces&quot;]</code>, and the last part without the quotes doesn&#39;t make it to the final list. However, those are the things that I could just do manually, so, once again, thank you!"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1549319365, "creation_date": 1549319365, "answer_id": 54525271, "question_id": 54523026, "link": "https://stackoverflow.com/questions/54523026/java-kotlin-tokenize-a-string-ignoring-the-contents-of-nested-quotes/54525271#54525271", "title": "Java/Kotlin: Tokenize a string ignoring the contents of nested quotes", "body": "<p>You can achieve that with the following regex: <code>[\"']+[^\"']+?[\"']+</code>. Using that pattern you retrieve the indices where you want to split like this:</p>\n\n<pre><code>val indices = Regex(pattern).findAll(this).map{ listOf(it.range.start, it.range.endInclusive) }.flatten().toMutableList()\n</code></pre>\n\n<p>The rest is building the list out of substrings. Here the complete function:</p>\n\n<pre><code>fun String.splitByPattern(pattern: String): List&lt;String&gt; {\n\n    val indices = Regex(pattern).findAll(this).map{ listOf(it.range.start, it.range.endInclusive) }.flatten().toMutableList()\n\n    var lastIndex = 0\n    return indices.mapIndexed { i, ele -&gt;\n\n        val end = if(i % 2 == 0) ele else ele + 1 // magic\n\n        substring(lastIndex, end).apply {\n            lastIndex = end\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val str = \"\"\"\nthis \"'\"is a possible option\"'\" and \"\"so is this\"\" and '''this one too''' and even \"\"mismatched quotes\"\n\"\"\".trim()\n\nprintln(str.splitByPattern(\"\"\"[\"']+[^\"']+?[\"']+\"\"\"))\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[this , \"'\"is a possible option\"'\",  and , \"\"so is this\"\",  and , '''this one too''',  and even , \"\"mismatched quotes\"]</p>\n</blockquote>\n\n<p>Try it out on <a href=\"https://pl.kotl.in/B1QjTNIN4\" rel=\"nofollow noreferrer\">Kotlin's playground</a>!</p>\n"}], "owner": {"reputation": 67, "user_id": 7735110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07797f1f6e196cfa6faab304be58eb99?s=128&d=identicon&r=PG&f=1", "display_name": "wouldnotliketo", "link": "https://stackoverflow.com/users/7735110/wouldnotliketo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 54525271, "answer_count": 1, "score": 0, "last_activity_date": 1549319365, "creation_date": 1549308394, "question_id": 54523026, "link": "https://stackoverflow.com/questions/54523026/java-kotlin-tokenize-a-string-ignoring-the-contents-of-nested-quotes", "title": "Java/Kotlin: Tokenize a string ignoring the contents of nested quotes", "body": "<p>I would like to split a character by spaces but keep the spaces inside the quotes (and the quotes themselves). The problem is, the quotes can be nested, and also I would need to do this for both single and double quotes. So, from the line <code>this \"'\"is a possible option\"'\" and \"\"so is this\"\" and '''this one too''' and even \"\"mismatched quotes\"</code> I would like to get <code>[this, \"'\"is a possible option\"'\", and, \"\"so is this\"\", and, '''this one too''', and, even, \"\"mismatched quotes\"]</code>.</p>\n\n<p>This question has already been asked, but not the exact question that I'm asking. <a href=\"https://stackoverflow.com/questions/3366281/tokenizing-a-string-but-ignoring-delimiters-within-quotes\">Here</a> are several solutions: one uses a matcher (in this case <code>\"\"\"x\"\"\"</code> would be split into <code>[\"\"\", x\"\"\"]</code>, so this is not what I need) and Apache Commons (which works with <code>\"\"\"x\"\"\"</code> but not with <code>\"\"x\"\"</code>, since it takes the first two double quotes and leaves the last two with <code>x</code>). There are also suggestions of writing a function to do so manually, but this would be the last resort.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 10922639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSIfV.jpg?s=128&g=1", "display_name": "KotlinIsland", "link": "https://stackoverflow.com/users/10922639/kotlinisland"}, "is_accepted": false, "score": 0, "last_activity_date": 1549549732, "creation_date": 1549549732, "answer_id": 54575590, "question_id": 54522759, "link": "https://stackoverflow.com/questions/54522759/media-player-and-recyclerview-kotlin/54575590#54575590", "title": "Media player and RecyclerView kotlin", "body": "<p>You could initialize the MediaPlayer in your itemClick function that is called from the OnClickListener you are declaring.</p>\n\n<p>You can check that thread :\n<a href=\"https://stackoverflow.com/questions/37552087/android-how-to-stop-media-player-when-new-sound-start-in-recycleview\">Android how to stop media player when new sound start in Recycleview</a></p>\n"}], "owner": {"reputation": 976, "user_id": 4655668, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a4cc6d98bd611900e61ec986f3a08183?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPix", "link": "https://stackoverflow.com/users/4655668/johnpix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549549732, "creation_date": 1549307264, "question_id": 54522759, "link": "https://stackoverflow.com/questions/54522759/media-player-and-recyclerview-kotlin", "title": "Media player and RecyclerView kotlin", "body": "<p>I am trying to create a simple audio player with RecyclerView Adapter and DataService but struggle at the initializing MediaPlayer stage. </p>\n\n<p>I added DataService:</p>\n\n<pre><code>object DataService {\n   val unitOneSound = listOf(\n        SoundScreen(\"Song 1\", R.raw.song1),\n        SoundScreen(\"Song 2\", R.raw.song2),\n        SoundScreen(\"Song 3\", R.raw.song3),\n        SoundScreen(\"Song 4\", R.raw.song4),\n        SoundScreen(\"Song 5\", R.raw.song5),\n        SoundScreen(\"Song 6\", R.raw.song6)\n    )\n\n    val unitTwoSound = listOf(\n            SoundScreen(\"Song 7\", R.raw.song7),\n            SoundScreen(\"Song 8\", R.raw.song8),\n            SoundScreen(\"Song 9\", R.raw.song9),\n            SoundScreen(\"Song 10\", R.raw.song10),\n            SoundScreen(\"Song 11\", R.raw.song11),\n            SoundScreen(\"Song 12\", R.raw.song12)\n        )\n\n  val listOfSounds = listOf&lt;SoundScreen&gt;()\n\n    fun getSong(activity: String) : List&lt;SoundScreen&gt;{\n        return when(activity){\n            \"Audio files 1\" -&gt; unitOneSound\n            \"Audio files 2\" -&gt; unitTwoSound\n            else -&gt; listOfSounds\n        }\n    }\n</code></pre>\n\n<p>Adapter (It should be initialized here)</p>\n\n<pre><code>class RecyclerSoundScreenAdapter(val context: Context, val song: List&lt;SoundScreen&gt;, val itemClick: (SoundScreen) -&gt; Unit):  RecyclerView.Adapter&lt;RecyclerSoundScreenAdapter.Holder&gt;() {\n\n    override fun onBindViewHolder(holder: Holder, position: Int) {\n        holder.bindActivity(song[position], context)\n    }\n\n    override fun getItemCount(): Int {\n        return song.count()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n        val view = LayoutInflater.from(context).inflate(R.layout.sound_template, parent, false)\n        return Holder(view, itemClick)\n    }\n\n    inner class Holder(itemView: View, val itemClick: (SoundScreen) -&gt; Unit) : RecyclerView.ViewHolder(itemView) {\n        val songName = itemView.findViewById&lt;TextView&gt;(R.id.sound_text_view)\n        val buttonPlay = itemView.findViewById&lt;Button&gt;(R.id.buttonPlay)\n\n        fun bindActivity(sound: SoundScreen, context: Context) {\n            songName.text = sound.songTitle\n            itemView.setOnClickListener{itemClick(sound)}\n        }\n    }\n}\n</code></pre>\n\n<p>SoundActivity: (Then I think it should be called here, just right after DataService.getSong(songType)){sound ->)</p>\n\n<pre><code>class SoundActivity : AppCompatActivity() {\n\n    lateinit var adapter: RecyclerSoundScreenAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.sound_activity)\n\n        val songType = intent.getStringExtra(EXTRA_ACTIVITY)\n        adapter = RecyclerSoundScreenAdapter(this, DataService.getSong(songType)){sound -&gt;\n\n        }\n\n        val layoutManager = LinearLayoutManager(this)\n        soundListView.layoutManager = layoutManager\n        soundListView.adapter = adapter\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1549306704, "post_id": 54522606, "comment_id": 95847765, "body": "Can you share a screenshot of the error and where it appears in the editing window?"}], "answers": [{"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 2, "creation_date": 1549320596, "post_id": 54525114, "comment_id": 95853315, "body": "I tried it out with a minimal example and could not reproduce. Which version of Kotlin are you using?"}], "tags": [], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "is_accepted": true, "score": 0, "last_activity_date": 1549318449, "creation_date": 1549318449, "answer_id": 54525114, "question_id": 54522606, "link": "https://stackoverflow.com/questions/54522606/return-type-of-is-not-a-subtype-of-the-return-type-of-the-overridden-member/54525114#54525114", "title": "&quot;Return type of ... is not a subtype of the return type of the overridden member&quot;?", "body": "<p>Although I'm not entirely sure why this worked, the error went away when I specified the <code>String</code> type for the overriding function, instead of relying on type inference:</p>\n\n<pre><code>override fun getTrackingNotificationCategory(): String = \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 3692518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e1435358aff8b85085d27278c34a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Wang", "link": "https://stackoverflow.com/users/3692518/wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1549321700, "creation_date": 1549321700, "answer_id": 54525653, "question_id": 54522606, "link": "https://stackoverflow.com/questions/54522606/return-type-of-is-not-a-subtype-of-the-return-type-of-the-overridden-member/54525653#54525653", "title": "&quot;Return type of ... is not a subtype of the return type of the overridden member&quot;?", "body": "<p>Maybe annotating the abstract method with the JetBrains annotation <code>@NotNull</code> will be better. I found it taking a look a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#annotating-type-parameters\" rel=\"nofollow noreferrer\">this</a>. Hope this may help you.</p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 54525114, "answer_count": 2, "score": 0, "last_activity_date": 1554419992, "creation_date": 1549306578, "last_edit_date": 1554419992, "question_id": 54522606, "link": "https://stackoverflow.com/questions/54522606/return-type-of-is-not-a-subtype-of-the-return-type-of-the-overridden-member", "title": "&quot;Return type of ... is not a subtype of the return type of the overridden member&quot;?", "body": "<p>I am trying to subclass a function <code>ActionableNotification.java</code> which reads similar to this:</p>\n\n<pre><code>package com.venmo.notifications.notifications;\n\nimport android.content.ContextWrapper;\nimport com.squareup.picasso.Target;\n\npublic abstract class ActionableNotification extends ContextWrapper implements Target {\n\n    @NonNull\n    protected abstract String getTrackingNotificationCategory();\n    // ...\n}\n</code></pre>\n\n<p>The inheriting class reads similar to this</p>\n\n<pre><code>class DeclineInsufficientFundsBalanceOnlyCardNotification(context : Context, intent : Intent) : ActionableNotification(context, intent) {\n\n    override fun getTrackingNotificationCategory() = \"\"\n    // ...\n }\n</code></pre>\n\n<p>However, when I try to compile I get this error:</p>\n\n<blockquote>\n  <p>/Users/kupeek/dev/venmo-android/p2p-app/src/main/java/com/venmo/notifications/notifications/DeclineInsufficientFundsBalanceOnlyCardNotification.kt:\n  (21, 53): Return type of 'getTrackingNotificationCategory' is not a\n  subtype of the return type of the overridden member '@NonNull\n  protected/<em>protected and package</em>/ abstract fun\n  getTrackingNotificationCategory(): String defined in\n  com.venmo.notifications.notifications.ActionableNotification'</p>\n</blockquote>\n\n<p>I don't understand this error message, because the return type of the Kotlin inheriting class is a string, as is the base class?</p>\n"}, {"tags": ["kotlin", "android-room", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 3, "creation_date": 1549301841, "post_id": 54521350, "comment_id": 95845558, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54403479/filling-an-adapter-from-different-livedata-sources\">Filling an adapter from different LiveData sources</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1549301875, "post_id": 54521350, "comment_id": 95845573, "body": "Store the categoryId in a MutableLiveData, then you can switchMap the query against it."}, {"owner": {"reputation": 81, "user_id": 10912287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f379a813bf980cc903c72421f07c62db?s=128&d=identicon&r=PG&f=1", "display_name": "Miso Piso", "link": "https://stackoverflow.com/users/10912287/miso-piso"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1549356681, "post_id": 54521350, "comment_id": 95862706, "body": "@EpicPandaForce yup, tnx for the input, i got it, it&#39;s working now, il post the code in edit"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 10912287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f379a813bf980cc903c72421f07c62db?s=128&d=identicon&r=PG&f=1", "display_name": "Miso Piso", "link": "https://stackoverflow.com/users/10912287/miso-piso"}, "is_accepted": true, "score": 5, "last_activity_date": 1549535259, "last_edit_date": 1549535259, "creation_date": 1549357015, "answer_id": 54530719, "question_id": 54521350, "link": "https://stackoverflow.com/questions/54521350/room-livedata-change-query-function-dynamically/54530719#54530719", "title": "Room + LiveData change query function dynamically", "body": "<p>EDIT (solution)</p>\n\n<p>the solution was mutableLiveData in which the value changes the query parameters:</p>\n\n<pre><code>override var itemsList: LiveData&lt;List&lt;IItem&gt;?&gt; = Transformations.switchMap(mutableLiveData) {\nitemDao.getItemsForCategory(mutableLiveData.value!!.toLong())\n}\n\noverride fun onItemsCalled(categoryId: Long) {\n    when (mutableLiveData.value) {\n        1 -&gt; mutableLiveData.value = 2\n        2 -&gt; mutableLiveData.value = 3\n        3 -&gt; mutableLiveData.value = 4\n        4 -&gt; mutableLiveData.value = 1\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 10912287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f379a813bf980cc903c72421f07c62db?s=128&d=identicon&r=PG&f=1", "display_name": "Miso Piso", "link": "https://stackoverflow.com/users/10912287/miso-piso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1598, "favorite_count": 0, "accepted_answer_id": 54530719, "answer_count": 1, "score": 3, "last_activity_date": 1568041842, "creation_date": 1549301439, "last_edit_date": 1568041842, "question_id": 54521350, "link": "https://stackoverflow.com/questions/54521350/room-livedata-change-query-function-dynamically", "title": "Room + LiveData change query function dynamically", "body": "<p>I'm making an app that should update the current list. Implementation is done using room and livedata, I'm using the mvp pattern without viewmodel. My question is, if I have a query that returns all items in selected category and I have an observable already on the livedata, can I change the dao function with different query parameters and update the list accordingly. The closest thing to it I have found is:\n<a href=\"https://stackoverflow.com/questions/48966985/android-room-livedata-select-query-parameters\">Android Room LiveData select query parameters</a></p>\n\n<p>But as I'm relatively new to development and am currently exploring the reactive paradigm in android, this has proven quite a challenge.</p>\n\n<p>in presenter</p>\n\n<pre><code>override var itemsList: LiveData&lt;List&lt;Item&gt;?&gt; = \nitemDao.getItemsForCategory(1)\n</code></pre>\n\n<p>in mainAcivity</p>\n\n<pre><code>presenter.itemsList.observe(this, Observer {\n    if (it != null) {\n        itemAdapter.setTodoItems(it)\n        itemListHolder.adapter =itemAdapter\n    }\n})\n</code></pre>\n\n<p>in dao</p>\n\n<pre><code>@Query(\"SELECT * FROM Item\")\nfun getItemsFromDatabase(): LiveData&lt;List&lt;Item&gt;?&gt;\n\n@Query(\"SELECT * FROM Item WHERE category_id == :category_id ORDER BY \ncreationTime ASC\")\nfun getItemsForCategory(category_id: Long): LiveData&lt;List&lt;Item&gt;?&gt;\n</code></pre>\n\n<p>EDIT (solution)</p>\n\n<p>the solution was mutableLiveData in which the value changes the query parameters:</p>\n\n<pre><code>override var itemsList: LiveData&lt;List&lt;IItem&gt;?&gt; = Transformations.switchMap(mutableLiveData) {\n    itemDao.getItemsForCategory(mutableLiveData.value!!.toLong())\n}\n\noverride fun onItemsCalled(categoryId: Long) {\n    when (mutableLiveData.value) {\n        1 -&gt; mutableLiveData.value = 2\n        2 -&gt; mutableLiveData.value = 3\n        3 -&gt; mutableLiveData.value = 4\n        4 -&gt; mutableLiveData.value = 1\n    }\n}\n</code></pre>\n\n<p>this is just a query for the same category, but with different handling anything is possible.</p>\n"}, {"tags": ["android", "json", "kotlin", "moshi"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1549348766, "post_id": 54520900, "comment_id": 95859416, "body": "To use Moshi with Kotlin, install the reflective KotlinJsonAdapterFactory on the builder or use moshi-codegen."}, {"owner": {"reputation": 3, "user_id": 6603053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c9892f6a3a147435b3054f8da61f72?s=128&d=identicon&r=PG&f=1", "display_name": "loutry", "link": "https://stackoverflow.com/users/6603053/loutry"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1549445682, "post_id": 54520900, "comment_id": 95900827, "body": "Thanks @EricCochran! I simply use: Moshi.Builder().add(KotlinJsonAdapterFactory()).build() as you suggested and it worked :) You could maybe add it as an answer so it could be accepted?"}], "answers": [{"tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 0, "last_activity_date": 1549655746, "creation_date": 1549655746, "answer_id": 54599340, "question_id": 54520900, "link": "https://stackoverflow.com/questions/54520900/moshi-adapter-for-annotated-model/54599340#54599340", "title": "Moshi adapter for annotated model", "body": "<p>To work with Kotlin, Moshi requires either the reflective KotlinJsonAdapterFactory (from the moshi-kotlin artifact) or code-gen adapters (from the moshi-kotlin-codegen artifact).\n<a href=\"https://github.com/square/moshi#kotlin\" rel=\"nofollow noreferrer\">https://github.com/square/moshi#kotlin</a><br/>In a future release of Moshi, a proper error will be thrown to state this requirement.</p>\n"}, {"tags": [], "owner": {"reputation": 406, "user_id": 5074336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1130f64e70fab5b8168348ed36a1a372?s=128&d=identicon&r=PG&f=1", "display_name": "alexy", "link": "https://stackoverflow.com/users/5074336/alexy"}, "is_accepted": false, "score": 0, "last_activity_date": 1556268163, "creation_date": 1556268163, "answer_id": 55863891, "question_id": 54520900, "link": "https://stackoverflow.com/questions/54520900/moshi-adapter-for-annotated-model/55863891#55863891", "title": "Moshi adapter for annotated model", "body": "<p>With the moshi-kotlin-codegen artifact you also need to add @JsonClass(generateAdapter = true) on the class for the decoding to work correctly and not set the property to a default of 0</p>\n\n<p>So after adding the kotlin-kapt plugin and the dependency <code>kapt \"com.squareup.moshi:moshi-kotlin-codegen:1.8.0\"</code> to the app build gradle annotate the class as below:</p>\n\n<pre><code>@JsonClass(generateAdapter = true)\ndata class Player(\n    val username: String,\n    @Json(name = \"lucky number\")\n    val luckyNumber: Int\n)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6603053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c9892f6a3a147435b3054f8da61f72?s=128&d=identicon&r=PG&f=1", "display_name": "loutry", "link": "https://stackoverflow.com/users/6603053/loutry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 54599340, "answer_count": 2, "score": 0, "last_activity_date": 1556268163, "creation_date": 1549299546, "question_id": 54520900, "link": "https://stackoverflow.com/questions/54520900/moshi-adapter-for-annotated-model", "title": "Moshi adapter for annotated model", "body": "<p>I'm currently using a Moshi adapter to convert some json raw to a given type. It works fine until I used an annotated model.</p>\n\n<p>I'm guessing I should add another params to my adapter beside <code>Player::class.java</code> but I don't know what.</p>\n\n<p>Here is an exemple:</p>\n\n<pre><code>data class Player(\n    val username: String,\n    @Json(name = \"lucky number\")\n    val luckyNumber: Int\n)\n\nprivate val playerStubRaw = \"{\\n\" +\n    \"  \\\"username\\\": \\\"jesse\\\",\\n\" +\n    \"  \\\"lucky number\\\": 32\\n\" +\n    \"}\"\n\n@Test\nfun doSomething() {\n    val moshi = Moshi.Builder().build()\n    val player = moshi.adapter(Player::class.java).fromJson(playerStubRaw)\n    // player.luckyNumber == 0\n}\n</code></pre>\n\n<p><code>luckyNumber</code> value is 0 and not 32.</p>\n\n<p>Any idea what I should do to make it work?</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 800, "user_id": 5147603, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F7wHB.jpg?s=128&g=1", "display_name": "Rucha Bhatt Joshi", "link": "https://stackoverflow.com/users/5147603/rucha-bhatt-joshi"}, "edited": false, "score": 0, "creation_date": 1591967934, "post_id": 54520803, "comment_id": 110262927, "body": "what is shrink amount here?"}], "answers": [{"comments": [{"owner": {"reputation": 1004, "user_id": 5437363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Bz3VZ.png?s=128&g=1", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/5437363/ahmad-sattout"}, "edited": false, "score": 0, "creation_date": 1549343240, "post_id": 54521644, "comment_id": 95857784, "body": "Yes, but I also next to know if the next child is right off left, and rescale the old child"}], "tags": [], "owner": {"reputation": 188, "user_id": 10004675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uILXAhIkPSs/AAAAAAAAAAI/AAAAAAAAAAc/pMSXzF0xTPY/photo.jpg?sz=128", "display_name": "Usman Rafi", "link": "https://stackoverflow.com/users/10004675/usman-rafi"}, "is_accepted": false, "score": 0, "last_activity_date": 1549302563, "creation_date": 1549302563, "answer_id": 54521644, "question_id": 54520803, "link": "https://stackoverflow.com/questions/54520803/scaling-center-item-in-recyclerview/54521644#54521644", "title": "Scaling center item in RecyclerView", "body": "<p>You could give the middle child different scaling. </p>\n\n<p>Calculate the middle child from childCount and use a different scaling for it than the others.</p>\n"}], "owner": {"reputation": 1004, "user_id": 5437363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Bz3VZ.png?s=128&g=1", "display_name": "Ahmad Sattout", "link": "https://stackoverflow.com/users/5437363/ahmad-sattout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1016, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1549302563, "creation_date": 1549299207, "question_id": 54520803, "link": "https://stackoverflow.com/questions/54520803/scaling-center-item-in-recyclerview", "title": "Scaling center item in RecyclerView", "body": "<p>When scrolling in a RecyclerView, I want to achieve something like this:\n<a href=\"https://i.stack.imgur.com/yPuEv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPuEv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where the center item is scaled bigger than the other items. I've found a way to scale all the items, or what is called a Carousel Effect. But that is not what I want. I want to scale only the center item, and keep the other items their default size.</p>\n\n<p>this is what I've found on other answers:</p>\n\n<pre><code>override fun onAttachedToRecyclerView(recyclerView: RecyclerView) {\n    val snapHelper = LinearSnapHelper()\n    snapHelper.attachToRecyclerView(recyclerView)\n\n    recyclerView.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n            val layoutManager = recyclerView.layoutManager!!\n            val midpoint = layoutManager.width / 2f\n            val distance = shrinkDistance * midpoint\n\n            for (i in 0 until layoutManager.childCount) {\n                val child = layoutManager.getChildAt(i)!!\n                val childMidpoint = (layoutManager.getDecoratedRight(child) + layoutManager.getDecoratedLeft(child)) / 2f\n                val d = Math.min(distance, Math.abs(midpoint - childMidpoint))\n                val scale = 1 + -shrinkAmount * d / distance\n                child.scaleX = scale\n                child.scaleY = scale\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>As I said, this scales all the visible items, where I only want to zoom the center item.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1549299553, "creation_date": 1549299553, "answer_id": 54520903, "question_id": 54520548, "link": "https://stackoverflow.com/questions/54520548/are-kotlin-channels-used-in-coroutines-thread-safe-synchronized-keep-happens/54520903#54520903", "title": "Are Kotlin channels used in coroutines thread safe / synchronized / keep happens-before relationship?", "body": "<p><code>Channel</code> class kotlinx.coroutines library is thread-safe. It is designed to support multiple threads.</p>\n\n<p><code>GlobalScope.launch</code> may not necessarily mean a coroutine will be executed in a new thread</p>\n"}, {"comments": [{"owner": {"reputation": 481, "user_id": 1824325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0355189d0d37593c45c99c4eb247db?s=128&d=identicon&r=PG", "display_name": "chef", "link": "https://stackoverflow.com/users/1824325/chef"}, "edited": false, "score": 0, "creation_date": 1549540703, "post_id": 54529675, "comment_id": 95943354, "body": "I&#39;m not sure I understand your answer. The code sample I provided just shows the 2 functions I&#39;m interested in. In my code there&#39;s other logic in which what matters is a specific scenario. If the line of code <code>channel.send(true)</code> was executed before the line <code>val x = channel.poll()</code> then I need to get <code>x == true</code> (not null). If <code>poll()</code> was executed before <code>send(true)</code> then I don&#39;t care. If instead of a Channel I&#39;ll use Java&#39;s BlockingQueue then I&#39;ll get the above behaviour (due to synchronization). Is <code>Channel.poll()</code> synchronized with <code>Channel.send()</code>?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 481, "user_id": 1824325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0355189d0d37593c45c99c4eb247db?s=128&d=identicon&r=PG", "display_name": "chef", "link": "https://stackoverflow.com/users/1824325/chef"}, "edited": false, "score": 0, "creation_date": 1549560306, "post_id": 54529675, "comment_id": 95955282, "body": "If you are interested in the formal guarantees provided by the JVM, then the time ordering between <code>send</code> and <code>poll</code> has no relevance. This applies to the <code>BlockingQueue</code> as well. But I wonder what exactly you mean by &quot;executed earlier&quot;, how do you know when something executed?"}, {"owner": {"reputation": 481, "user_id": 1824325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0355189d0d37593c45c99c4eb247db?s=128&d=identicon&r=PG", "display_name": "chef", "link": "https://stackoverflow.com/users/1824325/chef"}, "edited": false, "score": 0, "creation_date": 1549892916, "post_id": 54529675, "comment_id": 96056164, "body": "<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/memconsist.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> Actually, I think it will have minimal impact on the code behavior (only wait time in a loop will be affected)."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1549369911, "last_edit_date": 1549369911, "creation_date": 1549352431, "answer_id": 54529675, "question_id": 54520548, "link": "https://stackoverflow.com/questions/54520548/are-kotlin-channels-used-in-coroutines-thread-safe-synchronized-keep-happens/54529675#54529675", "title": "Are Kotlin channels used in coroutines thread safe / synchronized / keep happens-before relationship?", "body": "<blockquote>\n  <p>If in the above code <code>job1</code> was executed by the machine (in real time) before <code>job2</code> is executed and on different threads, is it guaranteed that <code>x</code> is set with <code>true</code>? Or is it possible that it gets set with <code>null</code> (because cpu cache was not updated)?</p>\n</blockquote>\n\n<p>The Java Memory Model has no notion of time and it doesn't guarantee anything just based on the fact that a line executed earlier than another one. You can't even ascertain when an action was executed on a CPU.</p>\n\n<p>In the code you posted, there are two concurrently executing coroutines. <em>If and only if</em> <code>channel.poll()</code> gets a non-null value, there is a <em>happens-before</em> edge going from <code>send()</code> to <code>poll()</code>. If it gets a null-value, there is no <em>happens-before</em> edge. </p>\n\n<p>Let's say you determine the wall-clock time in the two coroutines, something like the following:</p>\n\n<pre><code>var sendTime: Long = 0\nvar receiveTime: Long = 0\n\nsuspend fun main() {\n    val channel = Channel&lt;Boolean&gt;(UNLIMITED)\n    val job1 = GlobalScope.launch {\n        channel.send(true)\n        sendTime = System.nanoTime()\n    }\n    val job2 = GlobalScope.launch {\n        receiveTime = System.nanoTime()\n        val x = channel.poll()\n        println(x)\n    }\n    job1.join()\n    job2.join()\n    println(\"${receiveTime - sendTime}\")\n}\n</code></pre>\n\n<p>The fact that <code>receiveTime</code> is greater than <code>sendTime</code> does not induce a <em>happens-before</em> relationship and it doesn't force <code>channel.poll()</code> to observe the sent item. Calling <code>nanoTime()</code> is not a synchronization action. </p>\n\n<p>Note that these facts have nothing to do Kotlin or coroutines specifically, this is how the Java Memory Model works. If you study the C++ memory model, you'll find it works the same way.</p>\n"}], "owner": {"reputation": 481, "user_id": 1824325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0355189d0d37593c45c99c4eb247db?s=128&d=identicon&r=PG", "display_name": "chef", "link": "https://stackoverflow.com/users/1824325/chef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1549369911, "creation_date": 1549298313, "question_id": 54520548, "link": "https://stackoverflow.com/questions/54520548/are-kotlin-channels-used-in-coroutines-thread-safe-synchronized-keep-happens", "title": "Are Kotlin channels used in coroutines thread safe / synchronized / keep happens-before relationship?", "body": "<p>Are the functions available in Kotlin channels thread safe? e.g.</p>\n\n<pre><code>val channel = Channel&lt;Boolean&gt;()\nval job1 = GlobalScope.launch {\n    channel.send(true)\n}\nval job2 = GlobalScope.launch {\n    val x = channel.poll()\n}\n</code></pre>\n\n<p>If in the above code <code>job1</code> was executed by the machine (in real time) before <code>job2</code> is executed and on different threads, is it guaranteed that <code>x</code> is set with <code>true</code>? Or is it possible that it gets set with <code>null</code> (because cpu cache was not updated)?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-plugin"], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1549300050, "creation_date": 1549300050, "answer_id": 54521010, "question_id": 54520491, "link": "https://stackoverflow.com/questions/54520491/gradle-use-a-task-to-disable-another-task/54521010#54521010", "title": "Gradle : use a task to disable another task", "body": "<p>The <code>dependsOn</code> does set the order. It may make sense to move the <code>if</code> outside the <code>checkNeeded</code> task and place it either in the build script (it will be executed in the configuration phase) or in the <code>afterEvaluate {...}</code> block (it will still be executed in the configuration phase, but later)</p>\n\n<p>Another option is to execute <code>checkNeeded</code> task explicitly before running one of the <code>SomeCopy</code> or <code>SomeAction</code></p>\n"}, {"tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": false, "score": 1, "last_activity_date": 1549365692, "last_edit_date": 1549365692, "creation_date": 1549355262, "answer_id": 54530315, "question_id": 54520491, "link": "https://stackoverflow.com/questions/54520491/gradle-use-a-task-to-disable-another-task/54530315#54530315", "title": "Gradle : use a task to disable another task", "body": "<p>I ended up fixing this issue with <code>onlyIf</code>:</p>\n\n<pre><code>var needed by Delegates.notNull&lt;Boolean&gt;()\n\nproject.task&lt;Task&gt;(\"checkNeeded\") {\n    doLast {\n        needed = !someTest()\n    }\n}\n\nproject.task&lt;Copy&gt;(\"SomeCopy\") {\n    dependsOn(\"checkNeeded\")\n    onlyIf { needed }\n    from(wherever)\n    into(whatever)\n}\n\nproject.task&lt;Task&gt;(\"SomeAction\") {\n    dependsOn(\"checkNeeded\")\n    onlyIf { needed }\n    doLast {\n        /* something magical */\n    }\n}\n</code></pre>\n\n<p>Note that the <code>checkNeeded</code> task is not really necessary, but I like to have it to know, in the process, when the check is made. I could have done:</p>\n\n<pre><code>val needed by lazy { !someTest() }\n\nproject.task&lt;Copy&gt;(\"SomeCopy\") {\n    onlyIf { needed }\n    from(wherever)\n    into(whatever)\n}\n\nproject.task&lt;Task&gt;(\"SomeAction\") {\n    onlyIf { needed }\n    doLast {\n        /* something magical */\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549365692, "creation_date": 1549298124, "question_id": 54520491, "link": "https://stackoverflow.com/questions/54520491/gradle-use-a-task-to-disable-another-task", "title": "Gradle : use a task to disable another task", "body": "<p>I have three gradle tasks (this is kotlin code inside a plugin):</p>\n\n<pre><code>project.task&lt;Task&gt;(\"checkNeeded\") {\n    doLast {\n        if (someTest()) {\n            listOf(\"SomeCopy\", \"SomeAction\")\n                    .map { project.tasks[it] as AbstractTask }\n                    .forEach { it.isEnabled = false }\n        }\n    }\n}\n\nproject.task&lt;Copy&gt;(\"SomeCopy\") {\n    dependsOn(\"checkNeeded\")\n    from(wherever)\n    into(whatever)\n}\n\nproject.task&lt;Task&gt;(\"SomeAction\") {\n    dependsOn(\"checkNeeded\")\n    doLast {\n        /* something magical */\n    }\n}\n</code></pre>\n\n<p>So, both tasks <code>SomeCopy</code> and <code>someAction</code> depend on <code>checkNeeded</code>. The role of <code>checkNeeded</code> is to disable these two task if it finds that they are not needed.</p>\n\n<p>However, this crashes with the following exception: <code>Cannot call Task.setEnabled(boolean) on task ':SomeCopy' after task has started execution</code>.</p>\n\n<p>So, how can I have a task guaranteed to run before other tasks that can disable other tasks if they are not needed?</p>\n"}, {"tags": ["java", "spring", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1549300249, "creation_date": 1549300249, "answer_id": 54521075, "question_id": 54520482, "link": "https://stackoverflow.com/questions/54520482/how-can-i-implement-beanpostprocessor-with-nullable-beanname-in-kotlin/54521075#54521075", "title": "How can I implement BeanPostProcessor with nullable &quot;beanName&quot; in Kotlin?", "body": "<p>Spring uses a package-wide annotation to declare that all parameters (unless specified explicitly) are non-nullable.</p>\n\n<p>You may add a tiny Java abstract class in the middle and clearly mark all parameters with <code>@Nullable</code> annotation. Inheriting from that type should work for your case</p>\n"}], "owner": {"reputation": 83, "user_id": 7470032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9Jf5.jpg?s=128&g=1", "display_name": "I V", "link": "https://stackoverflow.com/users/7470032/i-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 54521075, "answer_count": 1, "score": 0, "last_activity_date": 1549366727, "creation_date": 1549298085, "last_edit_date": 1549366727, "question_id": 54520482, "link": "https://stackoverflow.com/questions/54520482/how-can-i-implement-beanpostprocessor-with-nullable-beanname-in-kotlin", "title": "How can I implement BeanPostProcessor with nullable &quot;beanName&quot; in Kotlin?", "body": "<p>The problem is that I need to make <code>beanName</code> nullable. Because of some parts of spring pass <code>null</code> instead of valid bean name( Quartz for example). The same implementation on Java works properly.</p>\n\n<p>I've tried to add JetBrain's <code>@Nullable</code> annotation. It doesn't work. And the decompiled class seems <a href=\"https://i.imgur.com/a5gqNzO.png\" rel=\"nofollow noreferrer\">strange</a>. Moreover, I've made a full clone of <code>BeanPostProcessor</code> in project folder with a different name, made implementation on kotlin and made <code>beanName</code> nullable without any errors. </p>\n\n<pre><code>//Java\npackage org.myapp;\n\nimport org.springframework.beans.BeansException;\nimport org.springframework.lang.Nullable;\n\n// My clone of BeanPostProcessor\npublic interface CloneOfBeanPostProcessor {\n\n    @Nullable\n        default Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n            return bean;\n        }\n\n    @Nullable\n    default Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n}\n\n// Kotlin\npackage org.myapp\n\nimport org.myapp.CloneOfBeanPostProcessor\nimport org.springframework.stereotype.Component\n\n\n@Component\nclass MessageSourceBeanPostProcessorOld : CloneOfBeanPostProcessor {\n    // Have no warnings in this case.\n    override fun postProcessAfterInitialization(bean: Any, beanName: String?): Any? {...}\n</code></pre>\n\n<p>Kotlin problem example below. Here I get a <code>'postProcessAfterInitialization' overrides nothing</code> if I add <code>?</code> to beanName type:</p>\n\n<pre><code>@Component\nclass MessageSourceBeanPostProcessorOld : BeanPostProcessor {\n    override fun postProcessAfterInitialization(bean: Any, beanName: String?): Any? {...}\n</code></pre>\n\n<p>Same code on Java works well:</p>\n\n<pre><code>@Component\nclass MessageSourceBeanPostProcessor implements BeanPostProcessor {\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {...}\n</code></pre>\n\n<p>Now we use spring-boot version 2.0.6. In 2.1.x version problem doesn't reproduce. However, I want to get clear with this problem. Is it a gap in my knowledge or it's a bug, and I should report it?</p>\n\n<p>UPD:\nAs Eugene said, the problem was in the non-null API declaration at the package level introduced in the spring 5.x. Problem solved by upgrade spring-boot version to 2.1.x(at least for quartz autoconfiguration problem). </p>\n"}, {"tags": ["design-patterns", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11013474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ayFMEdYSKQU/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdFDS6iIpsiXrXHMgazBLqXBExJQ/mo/photo.jpg?sz=128", "display_name": "Guppy Face", "link": "https://stackoverflow.com/users/11013474/guppy-face"}, "edited": false, "score": 0, "creation_date": 1549372898, "post_id": 54520617, "comment_id": 95872273, "body": "Thanks, that worked a treat.   About inline and reified - I understood that these would would not be immediately compiled, meaning that they wouldn&#39;t take up memory unless called and they would be destroyed after executing. Would that be the in your example? @eugene-petrenko"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 13, "user_id": 11013474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ayFMEdYSKQU/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdFDS6iIpsiXrXHMgazBLqXBExJQ/mo/photo.jpg?sz=128", "display_name": "Guppy Face", "link": "https://stackoverflow.com/users/11013474/guppy-face"}, "edited": false, "score": 0, "creation_date": 1549382462, "post_id": 54520617, "comment_id": 95878115, "body": "inline functions will be inlined into the call site, it means, the method bodies will be simplified and put instead of a function call. That is the trick that allows having reified generics working on top of the JVM. It does not require extra memory to run, it only makes your compiled code a bit longer"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1549298593, "creation_date": 1549298593, "answer_id": 54520617, "question_id": 54520330, "link": "https://stackoverflow.com/questions/54520330/abstract-factory-and-inheritance-kotlin/54520617#54520617", "title": "Abstract Factory and Inheritance Kotlin", "body": "<p>For the inheritance, you should simply say </p>\n\n<pre><code>abstract class PlantFactory : Foo() { ... }\n</code></pre>\n\n<p>That will make the <code>PlantFactory</code> type inherit from the <code>Foo</code> base class. There is no difference from what you have before.</p>\n\n<p>I recommend using <code>companion object</code> to implement factory. It makes the code shorted:</p>\n\n<pre><code>interface Foo\n\ninterface Plant\n\nclass OrangePlant : Plant {\n    companion object Factory : PlantFactory() {\n        override fun makePlant() = OrangePlant()\n    }\n}\n\nclass ApplePlant : Plant {\n    companion object Factory : PlantFactory() {\n        override fun makePlant() = ApplePlant()\n    }\n}\n\nabstract class PlantFactory : Foo {\n    abstract fun makePlant(): Plant\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    val foo1 : PlantFactory = OrangePlant.Factory\n    val foo2 : PlantFactory = ApplePlant.Factory\n\n    val orange = foo1.makePlant()\n    val apple = foo2.makePlant()\n}\n\n</code></pre>\n\n<p>Also, I removed the <code>inline fun &lt;reified T : Plant&gt; createFactory():</code>: Instead of saying <code>PlantFactory.createFactory&lt;OrangePlant&gt;</code> you can say <code>OrangePlant.Factory</code>.</p>\n\n<p>You may still have that method, in my case, it will be a bit different:</p>\n\n<pre><code>inline fun &lt;reified T : Plant&gt; createFactory(): PlantFactory = when (T::class) {\n    OrangePlant::class -&gt; OrangePlant.Factory\n    ApplePlant::class  -&gt; ApplePlant.Factory\n    else               -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>For the typed hierarchies, it may make sense to use <code>sealed</code> classes. Kotlin will allow writing <code>when</code> expressions without <code>else</code> statement if you cover all child classes</p>\n"}], "owner": {"reputation": 13, "user_id": 11013474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ayFMEdYSKQU/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hdFDS6iIpsiXrXHMgazBLqXBExJQ/mo/photo.jpg?sz=128", "display_name": "Guppy Face", "link": "https://stackoverflow.com/users/11013474/guppy-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 2, "accepted_answer_id": 54520617, "answer_count": 1, "score": 1, "last_activity_date": 1549298593, "creation_date": 1549297561, "question_id": 54520330, "link": "https://stackoverflow.com/questions/54520330/abstract-factory-and-inheritance-kotlin", "title": "Abstract Factory and Inheritance Kotlin", "body": "<p>I'm trying to wrap my head around Kotlin design patterns. I've created my Abstract Factory, using the Kotlin reference as a starting point</p>\n\n<pre><code>interface Plant\n\nclass OrangePlant : Plant\n\nclass ApplePlant : Plant\n\nabstract class PlantFactory {\n\n    abstract fun makePlant(): Plant\n\n    companion object {\n        inline fun &lt;reified T : Plant&gt; createFactory(): PlantFactory =\n                when (T::class) {\n                    OrangePlant::class -&gt; OrangeFactory()\n                    ApplePlant::class -&gt; AppleFactory()\n                    else -&gt; throw IllegalArgumentException()\n                }\n    }\n}\n\nclass AppleFactory : PlantFactory() {\n    override fun makePlant(): Plant = ApplePlant()\n}\n\nclass OrangeFactory : PlantFactory() {\n    override fun makePlant(): Plant = OrangePlant()\n</code></pre>\n\n<p>I'd like all factory instances to inherit from my existing Abstract class <code>Foo</code>. How would I do it? Like this? What am I missing? Or have I lost my mind and haven't realised it?</p>\n\n<pre><code>interface Plant\n\nclass OrangePlant : Plant\n\nclass ApplePlant : Plant\n\nabstract class PlantFactory {\n    abstract fun makePlant(foo: Foo): Plant\n\n    companion object {\n        inline fun &lt;reified T : Plant&gt; createFactory(): PlantFactory = when (T::class) {\n            OrangePlant::class -&gt; OrangeFactory()\n            ApplePlant::class  -&gt; AppleFactory()\n            else               -&gt; throw IllegalArgumentException()\n        }\n    }\n}\n\nclass AppleFactory : PlantFactory() {\n    override fun makePlant(): Plant = ApplePlant()\n}\n\nclass OrangeFactory : PlantFactory() {\n    override fun makePlant(): Plant = OrangePlant()\n}\n</code></pre>\n\n<p>Or should I be looking to add into the companion object?</p>\n"}, {"tags": ["android", "kotlin", "dialog"], "comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1549506155, "post_id": 54519952, "comment_id": 95929431, "body": "what does mSignature variable hold? what is this method signature(activity, null)? @Hoo"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1549551853, "post_id": 54519952, "comment_id": 95950072, "body": "Don&#39;t use getBitmapFromView.  In the first time load with glilde enable image caching using  <code>Glide.with(activity)  .load(obj?.signature_image?.url.toString()) .diskCacheStrategy(DiskCacheStrategy.ALL)  .into(signDialog.imgSign);</code>   just use Glide to load the image in the imageview  the second time and it will be loaded from the cache.  Read more about it here <a href=\"https://bumptech.github.io/glide/doc/caching.html\" rel=\"nofollow noreferrer\">bumptech.github.io/glide/doc/caching.html</a>"}, {"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1549634911, "post_id": 54519952, "comment_id": 95984340, "body": "in second time how to load from cache ?"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1549969411, "post_id": 54519952, "comment_id": 96088287, "body": "Updated the answer @Hoo"}], "answers": [{"comments": [{"owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1549384179, "post_id": 54527499, "comment_id": 95879089, "body": "cannot be cast to android.widget.ImageView"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "reply_to_user": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1549420011, "post_id": 54527499, "comment_id": 95892210, "body": "what does mSignature variable hold? what is this method signature(activity, null)?"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "reply_to_user": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "edited": false, "score": 0, "creation_date": 1549969371, "post_id": 54527499, "comment_id": 96088265, "body": "Edited the answer. Please check @Hoo"}], "tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": true, "score": 2, "last_activity_date": 1549966915, "last_edit_date": 1549966915, "creation_date": 1549338685, "answer_id": 54527499, "question_id": 54519952, "link": "https://stackoverflow.com/questions/54519952/image-in-imageview-disappear/54527499#54527499", "title": "Image in ImageView disappear", "body": "<p>First of all, your mSignature doesnot hold any Image, so returns null when you try to retrieve Image( or background) from it. Removing the <em>mSignature</em> with <em>imgSignature</em> should work. But still am not sure why you need signature class.</p>\n\n<pre><code>lateinit var signDialog: Dialog\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        signDialog = Util().dialogSignature(getActivity())\n\n        //var mSignature = signature(activity, null)\n        //signDialog.relativeLayout2.addView(mSignature)\n\n        var image: Bitmap? = null\n\n        if (obj?.signature_image?.url != null) {\n            Glide.with(activity)\n                .load(obj?.signature_image?.url.toString())\n                .into(imgSignature)\n        }\n\n        imgSignature.setOnClickListener {\n            signDialog.show()\n            if (obj?.signature_image?.url != \" \") {\n                Glide.with(activity)\n                    .load(obj?.signature_image?.url.toString())\n                    .into(signDialog.imgSign);\n            }\n        }\n\n        signDialog.doneTxt.setOnClickListener {\n            signDialog.dismiss()\n\n\n\n            // code change goes here imgSignature\n            imgSignature.setImageBitmap(getBitmapFromView(imgSignature))\n        }\n}\n</code></pre>\n\n<p>You are using <em>view.background</em> instead of <em>view.drawable</em> as Imageview is set with src attribute by glide. And you have to setBounds for the drawable. Please find the changes below.</p>\n\n<pre><code>fun getBitmapFromView(view: View): Bitmap {\n        //Define a bitmap with the same size as the view\n        val returnedBitmap = Bitmap.createBitmap(250, 250, Bitmap.Config.ARGB_8888)\n        //Bind a canvas to it\n        val canvas = Canvas(returnedBitmap)\n\n\n        //Get the Imageview's src drawable\n        val bgDrawable = (view as ImageView).drawable\n\n\n        if (bgDrawable != null) {\n            bgDrawable.setbounds(10,10,240,240); // setting bounds with padding of 10\n\n            longToast(\"bgDrawable not null\")\n            //has background drawable, then draw it on the canvas\n            bgDrawable.draw(canvas)\n        }\n        else {\n            //does not have background drawable, then draw white background on the canvas\n            canvas.drawColor(Color.WHITE)\n            // draw the view on the canvas\n            view.draw(canvas)\n            longToast(\"bgDrawable null\")\n        }\n        //return the bitmap\n        return returnedBitmap\n    }\n}\n</code></pre>\n\n<p>Happy New Year :)</p>\n"}], "owner": {"reputation": 1699, "user_id": 5261462, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kLUcB.jpg?s=128&g=1", "display_name": "Hoo", "link": "https://stackoverflow.com/users/5261462/hoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 980, "favorite_count": 0, "accepted_answer_id": 54527499, "answer_count": 1, "score": 1, "last_activity_date": 1549966915, "creation_date": 1549296300, "last_edit_date": 1549633592, "question_id": 54519952, "link": "https://stackoverflow.com/questions/54519952/image-in-imageview-disappear", "title": "Image in ImageView disappear", "body": "<p>In <code>MainActivtiy</code>, we use <code>Glide</code> to load URL image into <code>imgSignature</code>.</p>\n\n<p>When <code>imgSignature</code> clicked, a custom dialog pop out and it will display the image in <code>imgSign</code>. Our problem is when we clicked the done button in the custom dialog, the image inside <code>imgSignature</code> become empty and getting this toast message <code>bgDrawable null</code>. </p>\n\n<p>Why image in imgSignature will gone ?</p>\n\n<pre><code>      lateinit var signDialog: Dialog\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n            super.onViewCreated(view, savedInstanceState)\n\n            signDialog = Util().dialogSignature(getActivity())\n\n            var mSignature = signature(activity, null)\n            signDialog.relativeLayout2.addView(mSignature)\n\n            var image: Bitmap? = null\n\n            if (obj?.signature_image?.url != null) {\n                Glide.with(activity)\n                    .load(obj?.signature_image?.url.toString())\n                    .into(imgSignature)\n            }\n\n            imgSignature.setOnClickListener {\n                signDialog.show()\n                if (obj?.signature_image?.url != \" \") {\n                    Glide.with(activity)\n                        .load(obj?.signature_image?.url.toString())\n                        .into(signDialog.imgSign);\n                }\n            }\n\n            signDialog.doneTxt.setOnClickListener {\n                signDialog.dismiss()\n                imgSignature.setImageBitmap(getBitmapFromView(mSignature))\n            }\n    }\n\n fun getBitmapFromView(view: View): Bitmap {\n        //Define a bitmap with the same size as the view\n        val returnedBitmap = Bitmap.createBitmap(250, 250, Bitmap.Config.ARGB_8888)\n        //Bind a canvas to it\n        val canvas = Canvas(returnedBitmap)\n        //Get the view's background\n        val bgDrawable = view.background\n        if (bgDrawable != null) {\n            longToast(\"bgDrawable not null\")\n            //has background drawable, then draw it on the canvas\n            bgDrawable.draw(canvas)\n        }\n        else {\n            //does not have background drawable, then draw white background on the canvas\n            canvas.drawColor(Color.WHITE)\n            // draw the view on the canvas\n            view.draw(canvas)\n            longToast(\"bgDrawable null\")\n        }\n        //return the bitmap\n        return returnedBitmap\n    }\n}\n</code></pre>\n\n<p><strong>Util</strong></p>\n\n<pre><code> fun dialogSignature(context: Context?):Dialog{\n\n        var dialog = Dialog(context)\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog.setContentView(R.layout.dialog_signature)\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT,ViewGroup.LayoutParams.WRAP_CONTENT);\n        return dialog\n    }\n</code></pre>\n\n<p><strong>dialog_signature</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                             xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                             xmlns:tools=\"http://schemas.android.com/tools\"\n                                             android:id=\"@+id/relativeLayout1\"\n                                             android:layout_width=\"match_parent\"\n                                             android:layout_height=\"230dp\"\n                                             android:orientation=\"vertical\"\n                                             android:background=\"@android:color/white\"&gt;\n\n    &lt;LinearLayout android:layout_width=\"0dp\" android:layout_height=\"wrap_content\"\n                  android:background=\"@color/colorPrimaryShadow\"\n                  android:orientation=\"horizontal\"\n                  android:id=\"@+id/linearLayout1\"\n                  android:gravity=\"center\"\n                  android:layout_marginBottom=\"2dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n                  app:layout_constraintBottom_toTopOf=\"@+id/relativeLayout2\" app:layout_constraintTop_toTopOf=\"parent\"\n                  app:layout_constraintStart_toStartOf=\"parent\"&gt;\n\n        &lt;TextView\n                android:layout_marginLeft=\"10dp\"\n                android:layout_weight=\"0.4\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Place Signature\"\n                android:textSize=\"17sp\"\n                android:layout_gravity=\"right\"/&gt;\n\n        &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n                  android:layout_marginRight=\"10dp\"\n                  android:id=\"@+id/doneTxt\"\n                  android:text=\"Done\"\n                  android:textColor=\"@color/colorDarkBlue\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout android:layout_width=\"0dp\" android:layout_height=\"0dp\"\n                    android:id=\"@+id/relativeLayout2\"\n                    android:background=\"@color/colorWhite\"\n                    app:layout_constraintTop_toBottomOf=\"@+id/linearLayout1\" app:layout_constraintEnd_toEndOf=\"parent\"\n                    app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintBottom_toBottomOf=\"parent\"\n                    app:layout_constraintHorizontal_bias=\"1.0\"&gt;\n\n        &lt;ImageView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"\n                   android:id=\"@+id/imgSign\"/&gt;\n    &lt;/RelativeLayout&gt;\n\n\n    &lt;TextView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n              android:layout_below=\"@+id/linearLayout1\"\n              android:textColor=\"@color/colorDarkBlue\"\n              android:text=\"Clear\" app:layout_constraintStart_toStartOf=\"parent\"\n              android:layout_marginStart=\"8dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n              android:layout_marginEnd=\"8dp\" app:layout_constraintHorizontal_bias=\"1.0\"\n              android:layout_marginBottom=\"16dp\" app:layout_constraintBottom_toBottomOf=\"parent\"\n              android:id=\"@+id/clearTxt\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Happy chinese new year to all chinese</p>\n\n<p><strong>Edit</strong> </p>\n\n<p>I tried @rafa answer, but get this exception</p>\n\n<pre><code>cannot be cast to android.widget.ImageView  \n</code></pre>\n\n<p>on line </p>\n\n<pre><code>val bgDrawable = (view as ImageView).drawable\n</code></pre>\n\n<p><strong>signture</strong></p>\n\n<pre><code>inner class signature(context: Context, attrs: AttributeSet?) : View(context, attrs) {\n        private val paint = Paint()\n        private val path = Path()\n\n        private var lastTouchX: Float = 0.toFloat()\n        private var lastTouchY: Float = 0.toFloat()\n        private val dirtyRect = RectF()\n\n        private val STROKE_WIDTH = 5f\n        private val HALF_STROKE_WIDTH = STROKE_WIDTH / 2\n\n        init {\n            paint.setAntiAlias(true)\n            paint.setColor(Color.BLACK)\n            paint.setStyle(Paint.Style.STROKE)\n            paint.setStrokeJoin(Paint.Join.ROUND)\n            paint.setStrokeWidth(STROKE_WIDTH)\n        }\n\n        override fun onDraw(canvas: Canvas) {\n            canvas.drawPath(path, paint)\n        }\n\n        override fun onTouchEvent(event: MotionEvent): Boolean {\n            val eventX = event.x\n            val eventY = event.y\n//            mGetSign.setEnabled(true)\n\n            when (event.action) {\n                MotionEvent.ACTION_DOWN -&gt; {\n                    path.moveTo(eventX, eventY)\n                    lastTouchX = eventX\n                    lastTouchY = eventY\n                    return true\n                }\n\n                MotionEvent.ACTION_MOVE,\n\n                MotionEvent.ACTION_UP -&gt; {\n                    resetDirtyRect(eventX, eventY)\n                    val historySize = event.historySize\n                    for (i in 0 until historySize) {\n                        val historicalX = event.getHistoricalX(i)\n                        val historicalY = event.getHistoricalY(i)\n                        expandDirtyRect(historicalX, historicalY)\n                        path.lineTo(historicalX, historicalY)\n                    }\n                    path.lineTo(eventX, eventY)\n                }\n                else -&gt; {\n                    debug(\"Ignored touch event: $event\")\n                    return false\n                }\n            }\n\n            invalidate(\n                (dirtyRect.left - HALF_STROKE_WIDTH).toInt(),\n                (dirtyRect.top - HALF_STROKE_WIDTH).toInt(),\n                (dirtyRect.right + HALF_STROKE_WIDTH).toInt(),\n                (dirtyRect.bottom + HALF_STROKE_WIDTH).toInt()\n            )\n\n            lastTouchX = eventX\n            lastTouchY = eventY\n\n            return true\n        }\n\n        private fun debug(string: String) {\n//            Log.v(\"log_tag\", string)\n        }\n\n        private fun expandDirtyRect(historicalX: Float, historicalY: Float) {\n            if (historicalX &lt; dirtyRect.left) {\n                dirtyRect.left = historicalX\n            } else if (historicalX &gt; dirtyRect.right) {\n                dirtyRect.right = historicalX\n            }\n\n            if (historicalY &lt; dirtyRect.top) {\n                dirtyRect.top = historicalY\n            } else if (historicalY &gt; dirtyRect.bottom) {\n                dirtyRect.bottom = historicalY\n            }\n        }\n\n        private fun resetDirtyRect(eventX: Float, eventY: Float) {\n            dirtyRect.left = Math.min(lastTouchX, eventX)\n            dirtyRect.right = Math.max(lastTouchX, eventX)\n            dirtyRect.top = Math.min(lastTouchY, eventY)\n            dirtyRect.bottom = Math.max(lastTouchY, eventY)\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "mvvm", "kotlin", "navigation", "android-jetpack"], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 1, "last_activity_date": 1549295118, "creation_date": 1549295118, "answer_id": 54519609, "question_id": 54519452, "link": "https://stackoverflow.com/questions/54519452/how-to-prevent-setting-view-model-again-on-back-fragment-navigation/54519609#54519609", "title": "How to prevent setting view model again, on back fragment navigation", "body": "<p>it is required to check the <code>savedInstanceState</code> in <code>Activity.onCreate()</code> already:</p>\n\n<pre><code>if(savedInstanceState == null) {\n    ...\n}\n</code></pre>\n\n<p>and when it's not <code>null</code>, do not inflate the <code>Fragment</code> - which subsequently will not call <code>Fragment.onCreateView()</code> twice (otherwise it's difficult to return a <code>View</code> from there).</p>\n"}], "owner": {"reputation": 177, "user_id": 5820826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/05Po1.jpg?s=128&g=1", "display_name": "C. Alen", "link": "https://stackoverflow.com/users/5820826/c-alen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1556698252, "creation_date": 1549294517, "last_edit_date": 1556698252, "question_id": 54519452, "link": "https://stackoverflow.com/questions/54519452/how-to-prevent-setting-view-model-again-on-back-fragment-navigation", "title": "How to prevent setting view model again, on back fragment navigation", "body": "<p>I am using Android Jetpack Navigation, MVVM and dataBinding and I am facing one problem. Every time when I navigate back from details fragment, my main List fragment is refreshed (API is called again, and recyclerList is drawn again). How can I prevent this?</p>\n\n<p>This is Main List Fragment code:</p>\n\n<pre><code>class PostListFragment : BaseFragment() {\n\nprivate lateinit var viewModel: PostListViewModel\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n\n    val binding = TestFragmentBinding.inflate(inflater, container, false)\n    val factory = InjectorUtils.providePostListViewModelFactory()\n    viewModel = ViewModelProviders.of(this, factory).get(PostListViewModel::class.java)\n\n    val adapter = MainListAdapter()\n    binding.mainList.adapter = adapter\n\n    binding.let {\n        it.viewmodel = viewModel\n        it.setLifecycleOwner(this@PostListFragment)\n    }\n\n    subscribeUi(adapter)\n    return binding.root\n}\n\nprivate fun subscribeUi(adapter: MainListAdapter) {\n\n    viewModel.progressVisible.postValue(true)\n    addToDisposable(viewModel.getContentRepository().getAllPosts(requireContext())\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe({ result -&gt;\n            viewModel.progressVisible.postValue(false)\n            adapter.submitList(result)\n        }, { error -&gt;\n            viewModel.progressVisible.postValue(false)\n        }))\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Also I have to add, that I am using this fragment on MainFragment which contains viewPager.</p>\n\n<p>The code of my MainFragment:</p>\n\n<pre><code>class MainFragment : Fragment() {\n\nprivate lateinit var sharedViewModel: SharedNewPostViewModel\nprivate lateinit var viewModel: MainViewModel\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n\n    val binding = MainFragmentBinding.inflate(inflater, container, false)\n\n    val factory = InjectorUtils.provideMainViewModelFactory()\n    viewModel = ViewModelProviders.of(this, factory).get(MainViewModel::class.java)\n\n    binding.let {\n        it.viewModel = viewModel\n        it.setLifecycleOwner(this@MainFragment)\n    }\n\n    sharedViewModel = activity?.run {\n        ViewModelProviders.of(this).get(SharedNewPostViewModel::class.java)\n    } ?: throw Exception(\"Invalid activity\")\n\n    return binding.root\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    val pagerAdapter = MainPagerAdapter(childFragmentManager)\n\n    viewPager.adapter = pagerAdapter\n    tabLayout.setupWithViewPager(viewPager)\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "gradle", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1571684476, "post_id": 54519285, "comment_id": 103315165, "body": "What is the solution?  I have a similar error."}], "answers": [{"tags": [], "owner": {"reputation": 782, "user_id": 11257434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85Opo.jpg?s=128&g=1", "display_name": "Favour Felix Chinemerem", "link": "https://stackoverflow.com/users/11257434/favour-felix-chinemerem"}, "is_accepted": false, "score": 1, "last_activity_date": 1591013658, "last_edit_date": 1591013658, "creation_date": 1590897098, "answer_id": 62111341, "question_id": 54519285, "link": "https://stackoverflow.com/questions/54519285/android-kapt-build-fails/62111341#62111341", "title": "Android - Kapt Build Fails", "body": "<h2>Room and Kapt plugin issue fix</h2>\n\n<p>On the right hand side of your IDE, click on the Gradle bar -> app -> tasks -> build -> assemble.\nto assemble the debug.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 8864205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d638f59df536e1bcba231a96f3e7d5?s=128&d=identicon&r=PG&f=1", "display_name": "xbass", "link": "https://stackoverflow.com/users/8864205/xbass"}, "is_accepted": false, "score": 0, "last_activity_date": 1596068410, "last_edit_date": 1596068410, "creation_date": 1596068102, "answer_id": 63164323, "question_id": 54519285, "link": "https://stackoverflow.com/questions/54519285/android-kapt-build-fails/63164323#63164323", "title": "Android - Kapt Build Fails", "body": "<p>Try</p>\n<p>&quot;Build&quot; -&gt; &quot;Clean Project&quot; first, then &quot;Rebuild Project&quot;</p>\n<p>Finally goto</p>\n<p>&quot;File&quot; -&gt; &quot;Invalidate Cache / Restart&quot;</p>\n<p>If you're using ROOM, make sure your DAO is correct</p>\n"}], "owner": {"reputation": 314, "user_id": 3347359, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/FqcmY.png?s=128&g=1", "display_name": "Sebas", "link": "https://stackoverflow.com/users/3347359/sebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1596068501, "creation_date": 1549293873, "last_edit_date": 1596068501, "question_id": 54519285, "link": "https://stackoverflow.com/questions/54519285/android-kapt-build-fails", "title": "Android - Kapt Build Fails", "body": "<p>I decided to start a project in android and currently I am having this error. I was having another one that was produced by the databinding dependency which had to match the gradle version. After fixing that, I am still receiving this other error when I'm trying to build my project.</p>\n<p>This is <strong>my gradle scan report.</strong>\n<a href=\"https://scans.gradle.com/s/xsu6youw2f622/\" rel=\"nofollow noreferrer\">Gradle Scan</a></p>\n<p>I have already invalidated cache/restart, clean and rebuild but the problem persists.</p>\n<p>The task that is failing is:  <code>Task :app:kaptDebugKotlin FAILED</code></p>\n<p>This is the output in the console when I run the command</p>\n<p>./gradlew build --stacktrace</p>\n<pre><code>[kapt] An exception occurred: java.lang.OutOfMemoryError: GC overhead limit exceeded\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.execute(DefaultTaskExecutionGraph.java:143)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:24)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:46)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:49)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:40)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:33)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:355)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:219)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:149)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:77)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:74)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:154)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:96)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:74)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:44)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:79)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:14)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:120)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:152)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:147)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompilerAsync(GradleKotlinCompilerRunner.kt:87)\n    at org.jetbrains.kotlin.gradle.internal.KaptWithKotlincTask.compile(KaptWithKotlincTask.kt:72)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:768)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n    ... 111 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 33s\n</code></pre>\n<p>Here is the informations about my dependencies</p>\n<p>dependencies.gradle</p>\n<pre><code>ext {\n    versions = [\n            support         : &quot;28.0.0&quot;,\n            firebase        : '16.0.6',\n            room            : &quot;2.1.0-alpha04&quot;,\n            constraintLayout: &quot;2.0.0-alpha3&quot;,\n            moshi           : &quot;1.8.0&quot;,\n            okHttp          : &quot;3.12.0&quot;,\n            retrofit        : '2.5.0',\n            dagger          : '2.20',\n            butterKnife     : '10.0.0',\n            rxKotlin        : '2.3.0',\n            rxAndroid       : '2.1.0',\n            rxPermissions   : '0.9.4@aar',\n            sqlbrite        : '1.1.2',\n            traceur         : '1.0.1',\n            stetho          : '1.5.0',\n            timber          : '4.7.1',\n            glide           : '4.8.0',\n            sherlock        : '1.0.4@aar',\n        espresso        : '3.0.2',\n        testRunner      : '1.0.2',\n        hamcrest        : '2.1',\n        restMock        : '0.3.2',\n        mockito         : '2.23.4',\n        junit           : '4.12',\n        robolectric     : '4.1',\n        assertj         : '1.2.0',\n        powerMock       : '1.6.6',\n        leakcanary      : '1.6.2',\n        stethOkhttp     : '1.5.0',\n        multiDex        : '2.0.1',\n        mockitoKotlin   : '1.6.0'\n]\n\nmockito = [mockito: &quot;org.mockito:mockito-core:$versions.mockito&quot;]\njunit = [junit: &quot;junit:junit:$versions.junit&quot;]\nrestMock = [restMock: &quot;com.github.andrzejchm.RESTMock:android:$versions.restMock&quot;]\n\nsupportDeps = [\n        cardView         : &quot;com.android.support:cardview-v7:$versions.support&quot;,\n        appcompatV7      : &quot;com.android.support:appcompat-v7:$versions.support&quot;,\n        design           : &quot;com.android.support:design:$versions.support&quot;,\n        recyclerView     : &quot;com.android.support:recyclerview-v7:$versions.support&quot;,\n        supportAnnotation: &quot;com.android.support:support-annotations:$versions.support&quot;,\n        gridLayout       : &quot;com.android.support:gridlayout-v7:$versions.support&quot;,\n        constraintlayout : &quot;com.android.support.constraint:constraint-layout:$versions.constraintLayout&quot;,\n        multiDex         : &quot;com.android.support:multidex:$versions.multiDex&quot;\n]\n\nroom = [\n         room: &quot;androidx.room:room-runtime:$versions.room&quot;,\n         rxjsupp:  &quot;androidx.room:room-rxjava2:$versions.room&quot;,\n         coroutines: &quot;androidx.room:room-coroutines:$versions.room&quot;\n]\n\nrxJava = [\n        rxKotlin : &quot;io.reactivex.rxjava2:rxkotlin:$versions.rxKotlin&quot;,\n        rxAndroid: &quot;io.reactivex.rxjava2:rxandroid:$versions.rxAndroid&quot;,\n        traceur         : &quot;com.tspoon.traceur:traceur:$versions.traceur&quot;,\n        rxRermissions   : &quot;com.tbruyelle.rxpermissions:rxpermissions:$versions.rxPermissions&quot;\n]\n\nretrofit = [\n        retrofit     : &quot;com.squareup.retrofit2:retrofit:$versions.retrofit&quot;,\n        rxAdapter    : &quot;com.squareup.retrofit2:adapter-rxjava2:$versions.retrofit&quot;,\n        moshiConverter: &quot;com.squareup.retrofit2:converter-moshi:$versions.retrofit&quot;,\n        sqlbrite     : &quot;com.squareup.sqlbrite:sqlbrite:$versions.sqlbrite&quot;\n]\n\nmoshi = [\n        moshi: &quot;com.squareup.moshi:moshi-kotlin:$versions.moshi&quot;\n]\n\nokHttp = [\n        logger: &quot;com.squareup.okhttp3:logging-interceptor:3.12.1&quot;,\n        okhttp  : &quot;com.squareup.okhttp3:okhttp:$versions.okHttp&quot;,\n        stetho  : &quot;com.facebook.stetho:stetho-okhttp3:$versions.stetho&quot;\n]\n\ngooglePlay = [\n        maps             : &quot;com.google.android.gms:play-services-maps:16.0.0&quot;,\n        crash            : &quot;com.google.firebase:firebase-crash:16.2.1&quot;,\n        firebaseCore     : &quot;com.google.firebase:firebase-core:$versions.firebase&quot;,\n        firebaseMessaging: &quot;com.google.firebase:firebase-messaging:17.3.4&quot;\n]\n\n\nonlyDebug = [\n        chuck   : &quot;com.readystatesoftware.chuck:library:1.1.0&quot;\n]\n\nonlyRelease = [\n        chuckNoOp       : 'com.readystatesoftware.chuck:library-no-op:1.1.0',\n        sherlockNoOp    : 'com.github.ajitsing:sherlock-no-op:1.0.4@aar'\n]\n\nunitTest = [\n        harcrestCore        : &quot;org.hamcrest:hamcrest-core:$versions.hamcrest&quot;,\n        harmcrestLib        : &quot;org.hamcrest:hamcrest-library:$versions.hamcrest&quot;,\n        hamcrestIntegration : &quot;org.hamcrest:hamcrest-integration:1.4-atlassian-1&quot;,\n        robolectric         : &quot;org.robolectric:robolectric:$versions.robolectric&quot;,\n        supportAnnotation   : &quot;com.android.support:support-annotations:$versions.support&quot;,\n        restMock            : &quot;com.github.andrzejchm.RESTMock:android:$versions.restMock&quot;,\n        assertj             : &quot;com.squareup.assertj:assertj-android:$versions.assertj&quot;,\n        kotlinTest          : &quot;org.jetbrains.kotlin:kotlin-test:$kotlin_version&quot;,\n        kotlinJunit         : &quot;org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version&quot;,\n        mockitoKotlin       : &quot;com.nhaarman:mockito-kotlin:$versions.mockitoKotlin&quot;,\n        room                : &quot;androidx.room:room-testing:$versions.room&quot;\n\n] + junit + mockito + restMock\n\nandroidTests = [\n        mockitoAndroid      : &quot;org.mockito:mockito-android:$versions.mockito&quot;,\n        espressoCore        : &quot;com.android.support.test.espresso:espresso-core:$versions.espresso&quot;,\n        espressoContrib     : &quot;com.android.support.test.espresso:espresso-contrib:$versions.espresso&quot;,\n        espressoIntents     : &quot;com.android.support.test.espresso:espresso-intents:$versions.espresso&quot;,\n        espressoAcc         : &quot;com.android.support.test.espresso:espresso-accessibility:$versions.espresso&quot;,\n        espressoIdle        : &quot;com.android.support.test.espresso:espresso-idling-resource:$versions.espresso&quot;,\n        espressoConcurrent  : &quot;com.android.support.test.espresso.idling:idling-concurrent:$versions.espresso&quot;,\n        espressoNetIdle     : &quot;com.android.support.test.espresso.idling:idling-net:$versions.espresso&quot;,\n        testRunner          : &quot;com.android.support.test:runner:$versions.testRunner&quot;,\n        testRules           : &quot;com.android.support.test:rules:$versions.testRunner&quot;\n] + mockito + restMock\n\nleakCannary = &quot;com.squareup.leakcanary:leakcanary-android:1.6.2&quot;\ntimber = &quot;com.jakewharton.timber:timber:$versions.timber&quot;\nsherlock = &quot;com.github.ajitsing:sherlock:$versions.sherlock&quot;\n\ndagger = &quot;com.google.dagger:dagger:$versions.dagger&quot;\ndaggerCompiler = &quot;com.google.dagger:dagger-compiler:$versions.dagger&quot;\n\nbutterKnife = &quot;com.jakewharton:butterknife:$versions.butterKnife&quot;\nbutterKnifeCompiler = &quot;com.jakewharton:butterknife-compiler:$versions.butterKnife&quot;\n\nglide = &quot;com.github.bumptech.glide:glide:$versions.glide&quot;\nglideCompiler = &quot;com.github.bumptech.glide:compiler:$versions.glide&quot;\nglideOkhttp = &quot;com.github.bumptech.glide:okhttp3-integration:$versions.glide&quot;\ndatabindingCompiler = &quot;com.android.databinding:compiler:3.3.0&quot;\n\nroomKapt =  &quot;androidx.room:room-compiler:$versions.room&quot;\n\ngooglePlayLibs = googlePlay.values()\nsupportLibs = supportDeps.values()\nnetworkLibs = retrofit.values() + okHttp.values() + moshi.values()\nrxJavaLibs = rxJava.values()\notherLibs = [butterKnife, timber, dagger, glide] + room.values()\n\ndebugLibs = onlyDebug.values() + leakCannary\nreleaseLibs = onlyRelease.values() + leakCannary\nannotationProcessorLibs = [butterKnifeCompiler, daggerCompiler, glideCompiler, roomKapt]\n\nunitTestLibs = unitTest.values() + leakCannary\nandroidTestsLibs = androidTests.values() + supportLibs\n\n\n }\n</code></pre>\n<p>My app/build.gradle file:\n<a href=\"https://pastebin.com/nFAypZHm\" rel=\"nofollow noreferrer\">app/build.gradle</a></p>\n<p>My gradle.properties file:\n<a href=\"https://pastebin.com/wuQDqsZ6\" rel=\"nofollow noreferrer\">gradle.properties</a></p>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1549291851, "post_id": 54517866, "comment_id": 95840122, "body": "I don&#39;t see any awkwardness in your solution, which is quite readable: get the post first so that the user id is accessible, then fire off the user details and comment details requests, after which combine everything into an object via <code>zip</code>. Some flow patterns can be achieved multiple ways: some are equivalent and some are more convoluted. If possible, ask them how their &quot;non-awkward&quot; solution looks like."}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1549300076, "post_id": 54517866, "comment_id": 95844738, "body": "You can remove <code>Observable.just()</code> but I am not sure if that&#39;s what they were referring."}], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 1089629, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1ebe15bf480f76dc40fe630e05dcbe0f?s=128&d=identicon&r=PG", "display_name": "Myles Bennett", "link": "https://stackoverflow.com/users/1089629/myles-bennett"}, "edited": false, "score": 0, "creation_date": 1553689610, "post_id": 54693018, "comment_id": 97476366, "body": "Thanks for this. I didn&#39;t receive a notification that you had posted so have only just seen your answer now. I&#39;ll need time to digest it though..."}], "tags": [], "owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "is_accepted": true, "score": 0, "last_activity_date": 1550155407, "creation_date": 1550155407, "answer_id": 54693018, "question_id": 54517866, "link": "https://stackoverflow.com/questions/54517866/need-to-improve-very-awkward-rx-logic-to-combine-different-data-sources/54693018#54693018", "title": "Need to improve &quot;very awkward&quot; Rx logic to combine different data sources", "body": "<p>Consider including <a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">RxKotlin</a>; it has some nice zip syntax from <code>Observables</code> that doesn't require explicit type declarations or the ugly <code>Function4</code>. Also, you can make use of extension functions to make sure the code is as descriptive as possible, and more functions in general will help neatly factor the \"middle\" logic and nested observables. Eg:</p>\n\n<pre><code>fun updatePostView() =\n    apiService.getPost(view.postId)\n        .subscribeOn(Schedulers.io())\n        .map { it.first() }\n        .createPostDetails()\n        .observeOn(view.scheduler)\n        .subscribeBy(\n            onNext = { view.showDetails(it) },\n            onError = { it.printStackTrace() }\n        )\n\nprivate fun Observable&lt;out Post&gt;.createPostDetails(): Observable&lt;PostDetails&gt; =\n    flatMap { post -&gt;\n        Observables.zip(\n            getPostTitle(post),\n            getPostBody(post),\n            getPostUser(post),\n            getPostComments(post)\n        ) { title, body, name, comments -&gt; PostDetails(title, body, name, comments) }\n    }\n\nprivate fun getPostTitle(post: Post) =\n    Observable.just(post.title)\n\nprivate fun getPostBody(post: Post) =\n    Observable.just(post.body)\n\nprivate fun getPostUser(post: Post) =\n    apiService.getUser(post.userId).subscribeOn(Schedulers.io()).map { it.first().username }\n\nprivate fun getPostComments(post: Post) =\n    apiService.getComments(post.id).subscribeOn(Schedulers.io()).map { it.size.toString() }\n</code></pre>\n\n<p>Sure it's more code, but it's nicer to read. Otherwise, it seems you have a pretty good grasp of Rx operators in general from what you've provided.</p>\n"}], "owner": {"reputation": 483, "user_id": 1089629, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1ebe15bf480f76dc40fe630e05dcbe0f?s=128&d=identicon&r=PG", "display_name": "Myles Bennett", "link": "https://stackoverflow.com/users/1089629/myles-bennett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 54693018, "answer_count": 1, "score": 0, "last_activity_date": 1550155407, "creation_date": 1549289088, "question_id": 54517866, "link": "https://stackoverflow.com/questions/54517866/need-to-improve-very-awkward-rx-logic-to-combine-different-data-sources", "title": "Need to improve &quot;very awkward&quot; Rx logic to combine different data sources", "body": "<p>I recently had to complete a tech-test for a job application, the specification for which is <a href=\"https://github.com/mylesbennett/reactive-mvp/blob/master/Android%20Tech%20Test%20-%20New.pdf\" rel=\"nofollow noreferrer\">here</a>. In their feedback, one of the things they didn't like was my Rx logic for Screen 2 - combining the information from three separate API calls. Their exact words were:</p>\n\n<ul>\n<li>For post details presenter very awkward Rx logic to combine different data sources. Would really help to have a use case instead.</li>\n<li>Knowledge of Rx operators lacking, often using awkward solutions</li>\n</ul>\n\n<p>Below is the code to which they are referring:</p>\n\n<pre><code>apiService.getPost(view.postId)\n    .subscribeOn(Schedulers.io())\n    .map { posts -&gt; posts[0] }\n    .flatMap { post -&gt;\n        Observable.zip&lt;String, String, String, String, PostDetails&gt;(\n            Observable.just(post.title),\n            Observable.just(post.body),\n            apiService.getUser(post.userId).subscribeOn(Schedulers.io()).map { it[0].username },\n            apiService.getComments(post.id).subscribeOn(Schedulers.io()).map { it.size.toString() },\n            Function4 { title, body, name, comments -&gt; PostDetails(title, body, name, comments) }\n        )\n    }\n    .observeOn(view.scheduler)\n    .subscribe { view.showDetails(it) }\n</code></pre>\n\n<p>Below are the Retrofit interfaces for some context:</p>\n\n<pre><code>@GET(\"posts\") fun getPost(@Query(\"id\") postId: Int?): Observable&lt;List&lt;Post&gt;&gt;\n@GET(\"users\") fun getUser(@Query(\"id\") userId: Int?): Observable&lt;List&lt;User&gt;&gt;\n@GET(\"comments\") fun getComments(@Query(\"postId\") postId: Int?): i Observable&lt;List&lt;Comment&gt;&gt;\n</code></pre>\n\n<p>Whilst I was writing it, I actually thought the code was as succinct as it could be under the circumstances. Looking at it again now, however, and given their comments I have to admit it looks a little verbose. </p>\n\n<p>How could I improve it? Specifically, which operators would help to tidy this up?</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 2675, "user_id": 8821960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd961609ee3850443ec6cc15189911af?s=128&d=identicon&r=PG&f=1", "display_name": "tryman", "link": "https://stackoverflow.com/users/8821960/tryman"}, "edited": false, "score": 1, "creation_date": 1549288680, "post_id": 54517583, "comment_id": 95838113, "body": "I haven&#39;t used Gradle with Kotlin, however I am pretty confident this ought to go in your build.gradle file. (Not sure enough to turn this into an answer yet)"}, {"owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "edited": false, "score": 0, "creation_date": 1549289149, "post_id": 54517583, "comment_id": 95838427, "body": "Which syntax are you using to declare plugins in your build script:   new <code>plugins { }</code> DSL or the old <code>apply plugin ...</code> DSL?"}, {"owner": {"reputation": 4749, "user_id": 1267425, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2dc2a52d38ee8c184deeceaadf9ed6ba?s=128&d=identicon&r=PG", "display_name": "Rafael Toledo", "link": "https://stackoverflow.com/users/1267425/rafael-toledo"}, "edited": false, "score": 0, "creation_date": 1549292779, "post_id": 54517583, "comment_id": 95840721, "body": "Inside the project, I have a <code>buildSrc&#47;build.gradle.kts</code> file with the kotlin-dsl plugin applied: <code>plugins { `kotlin-dsl` }</code>"}, {"owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "edited": false, "score": 0, "creation_date": 1549294828, "post_id": 54517583, "comment_id": 95841915, "body": "I think  you need to create a <code>settings.gradle.kts</code> in the <code>buildsrc</code> directory, and add the <code>pluginManagement  { } </code> block there."}, {"owner": {"reputation": 4749, "user_id": 1267425, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2dc2a52d38ee8c184deeceaadf9ed6ba?s=128&d=identicon&r=PG", "display_name": "Rafael Toledo", "link": "https://stackoverflow.com/users/1267425/rafael-toledo"}, "reply_to_user": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "edited": false, "score": 0, "creation_date": 1549295142, "post_id": 54517583, "comment_id": 95842080, "body": "@M.Ricciuti Ah, yeah! This did the trick! Please add it as an answer :)"}, {"owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "edited": false, "score": 0, "creation_date": 1549295768, "post_id": 54517583, "comment_id": 95842444, "body": "I added an aswer, hope it&#39;s clear enough."}], "answers": [{"comments": [{"owner": {"reputation": 4749, "user_id": 1267425, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2dc2a52d38ee8c184deeceaadf9ed6ba?s=128&d=identicon&r=PG", "display_name": "Rafael Toledo", "link": "https://stackoverflow.com/users/1267425/rafael-toledo"}, "edited": false, "score": 0, "creation_date": 1549292828, "post_id": 54518213, "comment_id": 95840759, "body": "<code>1.1.3</code> is the version of Kotlin Gradle DSL (bundled with Gradle 5.2)"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": -1, "last_activity_date": 1549290256, "creation_date": 1549290256, "answer_id": 54518213, "question_id": 54517583, "link": "https://stackoverflow.com/questions/54517583/configure-gradle-kotlin-dsl-to-work-with-custom-repository/54518213#54518213", "title": "Configure Gradle Kotlin DSL to work with custom repository", "body": "<p>It looks like you miss Gradle Plugin Repository maven repository in your corporate cache. Just make sure you have the <code>https://plugins.gradle.org/m2/</code> included. \nThe error shows exactly that it failed to find the plugin</p>\n\n<p>Gradle plugins are normally listed there and the plugin dependencies are fetched from <code>jcenter</code></p>\n\n<p>BTW. We have Kotlin <code>1.3.20</code> today, maybe it makes sense to upgrade</p>\n"}, {"tags": [], "owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "is_accepted": true, "score": 1, "last_activity_date": 1549295720, "last_edit_date": 1549295720, "creation_date": 1549295399, "answer_id": 54519676, "question_id": 54517583, "link": "https://stackoverflow.com/questions/54517583/configure-gradle-kotlin-dsl-to-work-with-custom-repository/54519676#54519676", "title": "Configure Gradle Kotlin DSL to work with custom repository", "body": "<p>If you want to configure the plugin repositories for your <code>buildSrc</code> script, you need to create a dedicated <code>settings.gradle[.kts]</code> file inside the <code>buildSrc</code> directory and configure the <code>pluginManagement {}</code> block there. </p>\n\n<p>Indeed, <code>buildSrc</code> is a kind of separate build , which is executed first , before the main build is evaluated/executed. So you cannot configure the <code>pluginManagement \n {}</code> block in the root project's <code>settings.gradle</code> if you want to use these custom repositories in the <code>buildSrc</code> script.</p>\n"}], "owner": {"reputation": 4749, "user_id": 1267425, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2dc2a52d38ee8c184deeceaadf9ed6ba?s=128&d=identicon&r=PG", "display_name": "Rafael Toledo", "link": "https://stackoverflow.com/users/1267425/rafael-toledo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1964, "favorite_count": 0, "accepted_answer_id": 54519676, "answer_count": 2, "score": -1, "last_activity_date": 1549295720, "creation_date": 1549288273, "question_id": 54517583, "link": "https://stackoverflow.com/questions/54517583/configure-gradle-kotlin-dsl-to-work-with-custom-repository", "title": "Configure Gradle Kotlin DSL to work with custom repository", "body": "<p>I'm working on a project where, instead of using the default repositories (Maven Central, jCenter, and so), we are using an internal JFrog repository. The project is using Kotlin DSL for Gradle.</p>\n\n<p>The problem is, even configuring the <code>pluginManagement</code> block inside the <code>settings.gradle.kts</code> file, Gradle still tries to fetch dependencies from Gradle Central Plugin Repository</p>\n\n<pre><code>// settings.gradle.kts\npluginManagement {\n    repositories {\n        maven(url = \"https://myinternalrepo.corp/artifactory\")\n    }\n}\n\n// other definitions\n</code></pre>\n\n<p>Failing message:</p>\n\n<pre><code>Plugin [id: 'org.gradle.kotlin.kotlin-dsl', version: '1.1.3'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.gradle.kotlin.kotlin-dsl:org.gradle.kotlin.kotlin-dsl.gradle.plugin:1.1.3')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n</code></pre>\n\n<p>Does anyone know what I am doing wrong?</p>\n"}, {"tags": ["kotlin", "metamodel", "maven-compiler-plugin", "kapt", "kotlin-maven-plugin"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 2352256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e00fc4ec4e8c96b0292261b79ded3a57?s=128&d=identicon&r=PG", "display_name": "Silence", "link": "https://stackoverflow.com/users/2352256/silence"}, "is_accepted": false, "score": 1, "last_activity_date": 1567505532, "creation_date": 1567505532, "answer_id": 57769559, "question_id": 54516969, "link": "https://stackoverflow.com/questions/54516969/how-to-make-kapt-works-with-jpa/57769559#57769559", "title": "How to make kapt works with jpa", "body": "<p>Try to add <code>annotationProcessorPaths</code> to kapt configuration</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n  &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;${kotlin.version}&lt;/version&gt;\n  &lt;configuration&gt;\n      &lt;sourceDirs&gt;\n          &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n          &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n      &lt;/sourceDirs&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n      &lt;execution&gt;\n          &lt;id&gt;kapt&lt;/id&gt;\n          &lt;goals&gt;\n              &lt;goal&gt;kapt&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n              &lt;annotationProcessorPaths&gt;\n                  &lt;annotationProcessorPath&gt;\n                      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                      &lt;version&gt;${version.hibernate}&lt;/version&gt;\n                  &lt;/annotationProcessorPath&gt;\n              &lt;/annotationProcessorPaths&gt;\n          &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n          &lt;id&gt;compile&lt;/id&gt;\n          &lt;phase&gt;process-sources&lt;/phase&gt;\n          &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n          &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n          &lt;id&gt;test-compile&lt;/id&gt;\n          &lt;phase&gt;process-test-sources&lt;/phase&gt;\n          &lt;goals&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n          &lt;/goals&gt;\n      &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}], "owner": {"reputation": 619, "user_id": 5118421, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/95d3fdd1dc9940d398bbb473ac2d68f9?s=128&d=identicon&r=PG&f=1", "display_name": "Irina", "link": "https://stackoverflow.com/users/5118421/irina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567505532, "creation_date": 1549286131, "last_edit_date": 1549287168, "question_id": 54516969, "link": "https://stackoverflow.com/questions/54516969/how-to-make-kapt-works-with-jpa", "title": "How to make kapt works with jpa", "body": "<p>Maven fails while compileris trying to generated jpa entities.</p>\n\n<pre><code>Gender_.java:[11,50] cannot find symbol Gender\n</code></pre>\n\n<p>Both classes are exists. Gender class exists in kaptStubs directory, Gender_ in kapt directory.</p>\n\n<p>pom:</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;kapt&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;kapt&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;all-open&lt;/plugin&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;plugin&gt;jpa&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "textview", "letter-spacing"], "comments": [{"owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "edited": false, "score": 0, "creation_date": 1549285869, "post_id": 54516824, "comment_id": 95836524, "body": "Check this : <a href=\"https://stackoverflow.com/a/23216171/1343788\">stackoverflow.com/a/23216171/1343788</a>"}, {"owner": {"reputation": 133, "user_id": 483903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d9833c3e36ad1166738de079cf4916c?s=128&d=identicon&r=PG", "display_name": "Gopa", "link": "https://stackoverflow.com/users/483903/gopa"}, "reply_to_user": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "edited": false, "score": 0, "creation_date": 1549286540, "post_id": 54516824, "comment_id": 95836862, "body": "Thank you for the link. Let me have a look at the same."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1549297548, "post_id": 54516824, "comment_id": 95843386, "body": "On Lollipop or higher there&#39;s a built-in solution for this, as per this answer <a href=\"https://stackoverflow.com/a/28147048/4465208\">stackoverflow.com/a/28147048/4465208</a>"}], "owner": {"reputation": 133, "user_id": 483903, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2d9833c3e36ad1166738de079cf4916c?s=128&d=identicon&r=PG", "display_name": "Gopa", "link": "https://stackoverflow.com/users/483903/gopa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "closed_date": 1549297571, "answer_count": 0, "score": 0, "last_activity_date": 1549285653, "creation_date": 1549285653, "question_id": 54516824, "link": "https://stackoverflow.com/questions/54516824/letter-space-in-android-text-view", "closed_reason": "Duplicate", "title": "Letter-space in android-text view", "body": "<p>I would like to implement a letter spacing ( Increase/Decrease the spaces) and bind the same to slider control. I have already created a slider that scales the text, but unable to create the letter spacing option, since, I have no clue on how to do the same. The following is what I am trying to achieve\n<a href=\"https://i.stack.imgur.com/7zDAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zDAp.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "hibernate-mapping", "kapt", "kotlin-maven-plugin"], "comments": [{"owner": {"reputation": 1478, "user_id": 1767212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/roSYG.jpg?s=128&g=1", "display_name": "Rayniery", "link": "https://stackoverflow.com/users/1767212/rayniery"}, "edited": false, "score": 0, "creation_date": 1575448115, "post_id": 54515392, "comment_id": 104565802, "body": "Did you solve this problem? I&#39;m facing the same issue: the generated classes by cannot find the original hibernate-jpamodelgen."}], "owner": {"reputation": 619, "user_id": 5118421, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/95d3fdd1dc9940d398bbb473ac2d68f9?s=128&d=identicon&r=PG&f=1", "display_name": "Irina", "link": "https://stackoverflow.com/users/5118421/irina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1549282855, "creation_date": 1549280681, "last_edit_date": 1549282855, "question_id": 54515392, "link": "https://stackoverflow.com/questions/54515392/how-specify-generate-path-for-annotationprocesspath-in-kotlin-maven-plugin", "title": "How specify generate path for annotationProcessPath in kotlin-maven-plugin?", "body": "<p>I am using hibernate-jpamodelgen as static jpa generator in kotlin-maven-plugin.\nHowever it can't find original classes.</p>\n\n<pre><code>cannot find symbol [ERROR] symbol: class Type\n</code></pre>\n\n<p>After inspection, I found that in that case entities generated in generated-source/kapt.\nAll other classes generated in kaptStubs directory.\nWithout kapt it works fine.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;kapt&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;kapt&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;annotationProcessorPath&gt;\n                                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                                &lt;version&gt;5.3.2.Final&lt;/version&gt;\n                            &lt;/annotationProcessorPath&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n</code></pre>\n\n<p>Output option doesn't work.\nHow could I change the output directory to consistency?</p>\n\n<p>Thank you, Irina</p>\n"}, {"tags": ["kotlin", "functional-interface"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 2, "last_activity_date": 1549835518, "creation_date": 1549835518, "answer_id": 54621451, "question_id": 54514692, "link": "https://stackoverflow.com/questions/54514692/kotlin-functionalinterface-compiles-with-multiple-abstract-methods/54621451#54621451", "title": "Kotlin @FunctionalInterface compiles with multiple abstract methods", "body": "<p>Issue <a href=\"https://youtrack.jetbrains.com/issue/KT-25512\" rel=\"nofollow noreferrer\">KT-25512</a> has been submitted to JetBrains's issue tracker (by another user) to report the fact that the compiler misbehaves when <code>@FunctionalInterface</code> is applied to a non-SAM interface, and as of 10 Feb 2019 the issue is still open with no activity.</p>\n"}], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1549835530, "creation_date": 1549277934, "last_edit_date": 1549835530, "question_id": 54514692, "link": "https://stackoverflow.com/questions/54514692/kotlin-functionalinterface-compiles-with-multiple-abstract-methods", "title": "Kotlin @FunctionalInterface compiles with multiple abstract methods", "body": "<p>When trying to compile a Java <code>@FunctionalInterface</code> having more than 1 non-abstract method a compilation error is raised.</p>\n\n<p>However, when doing the same in Kotlin, no errors or warnings are raised, i.e. the following Kotlin <code>interface</code> compiles successfully:</p>\n\n<pre><code>@FunctionalInterface\ninterface Foo {\n    fun foo()\n    fun foo(params: Map&lt;String, String&gt;)\n}\n</code></pre>\n\n<p>Is this the intended behaviour or a bug in the Kotlin compiler?</p>\n\n<p>Please note that the generated bytecode for the above Kotlin snippet is equivalent to the following Java snippet (which \u2013 correctly \u2013 doesn't compile):</p>\n\n<pre><code>@FunctionalInterface\n// metadata omitted\npublic interface Foo {\n   void foo();\n   void foo(@NotNull Map var1);\n}\n</code></pre>\n"}, {"tags": ["kotlin", "azure-devops", "jacoco", "azure-pipelines-build-task"], "comments": [{"owner": {"reputation": 395, "user_id": 2323558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fDSJa.jpg?s=128&g=1", "display_name": "Tomas Kosar", "link": "https://stackoverflow.com/users/2323558/tomas-kosar"}, "edited": false, "score": 0, "creation_date": 1551720900, "post_id": 54514585, "comment_id": 96734841, "body": "I am having the same issue."}, {"owner": {"reputation": 188, "user_id": 1556745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed95a170ec52bfdee22040c31052ea2b?s=128&d=identicon&r=PG", "display_name": "Warcello", "link": "https://stackoverflow.com/users/1556745/warcello"}, "edited": false, "score": 1, "creation_date": 1585346618, "post_id": 54514585, "comment_id": 107737115, "body": "Me too. It&#39;s sad that a more than a year has passed and nobody has a fix for that."}], "answers": [{"tags": [], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "is_accepted": true, "score": 2, "last_activity_date": 1551771104, "creation_date": 1551771104, "answer_id": 54997538, "question_id": 54514585, "link": "https://stackoverflow.com/questions/54514585/running-jacoco-in-azure-devops-for-android-could-not-find-method-jacocotestrep/54997538#54997538", "title": "Running JaCoCo in Azure DevOps for Android : Could not find method jacocoTestReport()", "body": "<p>I could not get the actual gradle process to create the reports so I found a work around</p>\n\n<ul>\n<li>Set the gradle task to \"build jacocoRootReport\"</li>\n<li>Use the \"Publish Code Coverage Results\" task (set up to use Jacoco)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 3172960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b86c135903c14f33f50f22e78f9194?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Clelford", "link": "https://stackoverflow.com/users/3172960/tom-clelford"}, "is_accepted": false, "score": 1, "last_activity_date": 1587470398, "creation_date": 1587470398, "answer_id": 61343041, "question_id": 54514585, "link": "https://stackoverflow.com/questions/54514585/running-jacoco-in-azure-devops-for-android-could-not-find-method-jacocotestrep/61343041#61343041", "title": "Running JaCoCo in Azure DevOps for Android : Could not find method jacocoTestReport()", "body": "<p>I also fell into this hole and Burf2000's answer got me some of the way out. Hopefully this will get other people the rest of the way. My project was plain Java as opposed to Kotlin like the original question but I think this will all be applicable.</p>\n\n<h2>Running Jacoco in Azure devops for android:</h2>\n\n<h3>The Jacoco bit</h3>\n\n<p>This assumes you don't have a working Jacoco task to begin with. If you do, skip ahead to <strong>The Azure Devops bit</strong>.</p>\n\n<ol>\n<li>Add a Jacoco dependency in your top level <code>build.gradle</code> file: </li>\n</ol>\n\n<pre><code> dependencies {\n        ...\n        classpath 'org.jacoco:org.jacoco.core:0.8.5'\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Add a <code>jacoco.gradle</code> file to your application root. Mine looks like this:</li>\n</ol>\n\n<pre><code>apply plugin: 'jacoco'\n\njacoco {\n    toolVersion = \"0.8.5\"\n}\n\ndef buildTypes = android.buildTypes.collect { type -&gt; type.name }\n\nbuildTypes.each {\n    buildTypeName -&gt;\n        def sourceName, sourcePath\n        sourceName = sourcePath = \"${buildTypeName}\"\n        def testTaskName = \"test${sourceName.capitalize()}UnitTest\"\n\n        task \"${testTaskName}Coverage\" (type:JacocoReport, dependsOn: \"$testTaskName\") {\n            group = \"Reporting\"\n            description = \"Generate Jacoco coverage reports on the ${sourceName.capitalize()} build.\"\n            logger.info(description)\n            classDirectories = fileTree(\n                    dir: \"${project.buildDir}/intermediates/javac/${sourcePath}/classes\",\n                    excludes: ['**/R.class', '**/R$*.class', '**/*$ViewInjector*.*', '**/BuildConfig.*', '**/Manifest*.*'] )\n            def coverageSourceDirs = [\n                    \"src/main/java\",\n                    \"src/$buildTypeName/java\"\n            ]\n            additionalSourceDirs = files(coverageSourceDirs)\n            sourceDirectories = files(coverageSourceDirs)\n            executionData = files(\"${project.buildDir}/jacoco/${testTaskName}.exec\")\n            reports {\n                xml.enabled = true\n                html.enabled = true\n            }\n        }\n}\n</code></pre>\n\n<p>It's pretty heavily cribbed from <a href=\"https://blog.gouline.net/code-coverage-on-android-with-jacoco-92ec90c9355e\" rel=\"nofollow noreferrer\">this blogpost</a>. They also do test runs for different product flavours, which I have stripped it out. Aside from that, the main difference between the above and the linked blog is the <code>classDirectories</code> filepath.</p>\n\n<ol start=\"3\">\n<li><p>Apply <code>jacoco.gradle</code> in your app build script <code>apply from: '../jacoco.gradle'</code></p></li>\n<li><p>Add <code>testCoverageEnabled true</code> to all <code>buildTypes</code> that you want coverage metrics to run on. </p></li>\n</ol>\n\n<p>If you run <code>./gradlew tasks</code> you should now see that you have some code coverage tasks under the reports heading. Run them and make sure they work as you're expecting as the feedback loop gets a lot slower in the next bit.</p>\n\n<h3>The Azure Devops bit</h3>\n\n<p>Burf2000 doesn't say how he got the <code>Could not find method jacocoTestReport() ...</code> error but I got it by setting the <code>codeCoverageToolOption:</code> to <code>\"jaCoCo\"</code> in my gradle task in my <code>azure-pipelines.yml</code>. Don't do this, it's a trap. <a href=\"https://github.com/microsoft/azure-pipelines-tasks/tree/master/Tasks/GradleV2#code-coverage\" rel=\"nofollow noreferrer\">The github docs for the gradle task</a> tell you that you shouldn't use it if your build already has code coverage enabled. </p>\n\n<p>Instead, you want to configure your Azure Devops Gradle task to call one of the Jacoco tasks you created earlier and then point a PublishCodeCoverageResults task at the generated XML. The relevant parts of my <code>azure-pipelines.yml</code> file look like this:</p>\n\n<pre><code>  - task: Gradle@2\n    inputs:\n      workingDirectory: \"\"\n      ...\n      tasks: \"assemble test testReleaseUnitTestCoverage\"\n\n  - task: PublishCodeCoverageResults@1\n    inputs:\n      codeCoverageTool: \"JaCoCo\"\n      summaryFileLocation: $(System.DefaultWorkingDirectory)/app/build/**/testReleaseUnitTestCoverage.xml\n      pathToSources: $(System.DefaultWorkingDirectory)/app/src/main/java\n      failIfCoverageEmpty: true\n</code></pre>\n"}], "owner": {"reputation": 4388, "user_id": 369313, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/66XP0.jpg?s=128&g=1", "display_name": "Burf2000", "link": "https://stackoverflow.com/users/369313/burf2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 54997538, "answer_count": 2, "score": 2, "last_activity_date": 1587470398, "creation_date": 1549277516, "question_id": 54514585, "link": "https://stackoverflow.com/questions/54514585/running-jacoco-in-azure-devops-for-android-could-not-find-method-jacocotestrep", "title": "Running JaCoCo in Azure DevOps for Android : Could not find method jacocoTestReport()", "body": "<p>We have implemented Jacoco in our Android Kotlin project which we can call locally via <strong>./gradlew  clean build jacocoTestReport</strong></p>\n\n<p>However, when we deploy to VSTS/Azure DevOps it errors with:</p>\n\n<pre><code>2019-02-04T09:37:35.5760285Z BUILD SUCCESSFUL in 12s\n2019-02-04T09:37:35.5760428Z 1 actionable task: 1 executed\n2019-02-04T09:37:35.5801607Z SYSTEMVSSCONNECTION exists true\n2019-02-04T09:37:35.5816653Z [command]C:\\Windows\\system32\\cmd.exe /D /S /C \"C:\\vstsagent\\A1\\_work\\2\\s\\ApolloClient\\gradlew.bat clean build jacocoRootReport\"\n2019-02-04T09:37:36.7652264Z \n2019-02-04T09:37:36.7653533Z FAILURE: Build failed with an exception.\n2019-02-04T09:37:36.7653767Z \n2019-02-04T09:37:36.7653947Z * Where:\n2019-02-04T09:37:36.7654401Z Build file 'C:\\vstsagent\\A1\\_work\\2\\s\\ApolloClient\\build.gradle' line: 44\n2019-02-04T09:37:36.7654582Z \n2019-02-04T09:37:36.7654768Z * What went wrong:\n2019-02-04T09:37:36.7654952Z A problem occurred evaluating root project 'ApolloClient'.\n2019-02-04T09:37:36.7655191Z &gt; Could not find method jacocoTestReport() for arguments [build_abtyecjstjhjqmdmcxnlw2kq0$_run_closure4$_closure8@50246031] on project ':app' of type org.gradle.api.Project.\n2019-02-04T09:37:36.7655365Z \n2019-02-04T09:37:36.7655547Z * Try:\n2019-02-04T09:37:36.7655747Z Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n2019-02-04T09:37:36.7655931Z \n2019-02-04T09:37:36.7656098Z * Get more help at https://help.gradle.org\n2019-02-04T09:37:36.7656242Z \n2019-02-04T09:37:36.7656585Z BUILD FAILED in 1s\n2019-02-04T09:37:37.1999815Z Error: C:\\vstsagent\\A1\\_work\\2\\s\\ApolloClient\\gradlew.bat failed with return code: 1\n2019-02-04T09:37:37.1999996Z     at ChildProcess.&lt;anonymous&gt; (C:\\vstsagent\\A1\\_work\\_tasks\\Gradle_8d8eebd8-2b94-4c97-85af-839254cc6da4\\2.143.2\\node_modules\\vsts-task-lib\\toolrunner.js:639:25)\n2019-02-04T09:37:37.2000102Z     at emitTwo (events.js:106:13)\n2019-02-04T09:37:37.2000154Z     at ChildProcess.emit (events.js:191:7)\n2019-02-04T09:37:37.2000226Z     at maybeClose (internal/child_process.js:886:16)\n2019-02-04T09:37:37.2000286Z     at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5)\n</code></pre>\n\n<p>What I don't understand is, is it looking for a task called <strong>jacocoRootReport</strong> or <strong>jacocoTestReport</strong>?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1549277919, "post_id": 54514572, "comment_id": 95832274, "body": "If database access methods marked as <code>suspend</code> then you can go with first approach, otherwise second."}], "answers": [{"comments": [{"owner": {"reputation": 1012, "user_id": 3603386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qfjd5.jpg?s=128&g=1", "display_name": "Simone", "link": "https://stackoverflow.com/users/3603386/simone"}, "edited": false, "score": 0, "creation_date": 1549364775, "post_id": 54520062, "comment_id": 95867427, "body": "I need allowMainThreadQueries() because otherwise I get runtime error, I&#39;m not using MutableLiveData, just accessing database entities through Dao"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 1012, "user_id": 3603386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qfjd5.jpg?s=128&g=1", "display_name": "Simone", "link": "https://stackoverflow.com/users/3603386/simone"}, "edited": false, "score": 1, "creation_date": 1549378157, "post_id": 54520062, "comment_id": 95875383, "body": "Inside a CoroutineScope you would not need <code>allowMainThreadQueries()</code> and not receive any Exception, that was my point. And that&#39;s the code I&#39;m using. Without <code>allowMainThreadQueries()</code>."}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 2, "last_activity_date": 1549358082, "last_edit_date": 1549358082, "creation_date": 1549296721, "answer_id": 54520062, "question_id": 54514572, "link": "https://stackoverflow.com/questions/54514572/room-allowmainthreadqueries-with-kotlin-coroutines/54520062#54520062", "title": "Room allowMainThreadQueries with Kotlin coroutines", "body": "<p>You shouldn't need <code>allowMainThreadQueries()</code> for this to work. A scoped coroutine executs in its thread.</p>\n\n<p>This is what I did not long ago:</p>\n\n<pre><code>@UiThread\nfun getUsers(context: Context): LiveData&lt;List&lt;User&gt;&gt; {\n    if (!::users.isInitialized) {\n        users = MutableLiveData()\n        users.postValue(MyDatabase.get(context).users().getAll())\n        GlobalScope.launch(Dispatchers.Main) {\n            val usersFromDb: List&lt;User&gt; = async(Dispatchers.IO) {\n                return@async MyDatabase.get(context).users().getAll()\n            }.await()\n            users.value = usersFromDb\n        }\n    }\n    return users\n}\n</code></pre>\n\n<p>You can see this <code>getUsers()</code> method gets called from main thread, returning a <code>LiveData</code> (which is handy in this case). The database query happens in <code>GlobalScope.launch()</code>.</p>\n\n<p>So yes, your design is one I personaly like. And one that works. But I don't think that you'll need <code>allowMainThreadQueries()</code> at all. Feel free to read (my) blog post: <a href=\"https://proandroiddev.com/android-viewmodel-livedata-coroutines-contraption-e1e44af690a6\" rel=\"nofollow noreferrer\">https://proandroiddev.com/android-viewmodel-livedata-coroutines-contraption-e1e44af690a6</a></p>\n"}], "owner": {"reputation": 1012, "user_id": 3603386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qfjd5.jpg?s=128&g=1", "display_name": "Simone", "link": "https://stackoverflow.com/users/3603386/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1549358082, "creation_date": 1549277440, "question_id": 54514572, "link": "https://stackoverflow.com/questions/54514572/room-allowmainthreadqueries-with-kotlin-coroutines", "title": "Room allowMainThreadQueries with Kotlin coroutines", "body": "<p>The official Android documentation states that using <code>allowMainThreadQueries()</code> is not recommended because it could lock the UI for a long period of time and trigger an ANR.\nBut Kotlin coroutines gave us the possibility to perform some operation in the main thread without effectively blocking the UI.</p>\n\n<p>So I'm asking: <strong>is it safe to use <code>allowMainThreadQueries()</code> and access the database in a couroutine scope running on the main thread?</strong> Like in the following:</p>\n\n<pre><code>// WITH allowMainThreadQueries()\nval activityJob = Job()\nval mainScope = CoroutineScope(Dispatchers.Main + activityJob)\nmainscope.launch {\n\n    // access room database and retrieve some data\n\n    // update UI with data retrived\n\n}\n</code></pre>\n\n<p>Or we should stick to the old way of not allowing main thread queries and performing database queries in another thread?</p>\n\n<pre><code>// WITHOUT allowMainThreadQueries()\nval activityJob = Job()\nval defaultScope = CoroutineScope(Dispatchers.Default + activityJob)\nval mainScope = CoroutineScope(Dispatchers.Main + activityJob)\ndefaultScope.launch {\n\n    // access room database and retrieve some data\n\n    mainScope.launch {\n        // update UI with data retrived\n    }\n\n}\n</code></pre>\n\n<p>I'm asking because the former way (with <code>allowMainThreadQueries()</code>):</p>\n\n<ul>\n<li>is much more readable (I can update the UI in the same coroutine context of the functions that access the database, without bearing about starting the UI updates in another coroutine scope)</li>\n<li>allows for simpler error handling</li>\n<li>makes use of only one coroutine scope (so less scopes to care about)</li>\n</ul>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549273776, "post_id": 54513402, "comment_id": 95830106, "body": "Usually, when Activity is destroyed we call <code>uiScope.cancel()</code> in <code>onDestroy()</code> method to stop coroutine&#39;s job."}, {"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549274926, "post_id": 54513402, "comment_id": 95830758, "body": "@Sergey yes I saw it, but what happens if dont call?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1549275063, "post_id": 54513402, "comment_id": 95830834, "body": "I guess coroutine will continue to work."}], "answers": [{"comments": [{"owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 0, "creation_date": 1549355963, "post_id": 54520103, "comment_id": 95862350, "body": "Does I understand correct: if I write code in such way no issues will appears, and Activity will be released after coroutine ends? So, generally speaking, it&#39;s acceptable to launch coroutine for short-term operations like internet/database request without cancel it onDestroy?"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "reply_to_user": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "edited": false, "score": 0, "creation_date": 1549379829, "post_id": 54520103, "comment_id": 95876479, "body": "No, you definitely want to clean up after the activity is destroyed. If not only for the memory implications, there are some things you can do in an Activity after it&#39;s destroyed that <i>will</i> cause a crash, and these issues will be difficult to reproduce."}, {"owner": {"reputation": 501, "user_id": 1655153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5LVdR.jpg?s=128&g=1", "display_name": "Andrey Suvorov", "link": "https://stackoverflow.com/users/1655153/andrey-suvorov"}, "edited": false, "score": 0, "creation_date": 1562168934, "post_id": 54520103, "comment_id": 100296188, "body": "&quot;Updating a View after the Activity is destroyed will not actually cause any exception to be thrown&quot; How about KotlinNullPointerException when referencing the dead view?"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1562192990, "post_id": 54520103, "comment_id": 100305802, "body": "It won&#39;t be null unless you set it to null explicitly. And if it&#39;s nullable, you&#39;d have to be using an unsafe <code>view!!</code> to cause an NPE anyway."}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 3, "last_activity_date": 1549296875, "creation_date": 1549296875, "answer_id": 54520103, "question_id": 54513402, "link": "https://stackoverflow.com/questions/54513402/update-ui-in-coroutine-after-activity-ondestroy/54520103#54520103", "title": "Update UI in coroutine after Activity.onDestroy()", "body": "<p>You're basically causing a (temporary) memory leak by not cancelling the coroutine. Updating a View after the Activity is destroyed will not actually cause any exception to be thrown; rather, the changes just won't be reflected in any UI. You're updating values in an Activity that has been discarded, but only kept in memory due to your coroutine keeping a reference to it. </p>\n\n<p>As @Sergey mentions, you should <code>job.cancel()</code> in <code>onDestroy()</code>.</p>\n"}], "owner": {"reputation": 2904, "user_id": 1159507, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e23948e15e918c710ec34483c65d1b93?s=128&d=identicon&r=PG", "display_name": "anber", "link": "https://stackoverflow.com/users/1159507/anber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 663, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1549296875, "creation_date": 1549273243, "last_edit_date": 1549295748, "question_id": 54513402, "link": "https://stackoverflow.com/questions/54513402/update-ui-in-coroutine-after-activity-ondestroy", "title": "Update UI in coroutine after Activity.onDestroy()", "body": "<p>I have this code in my activity:</p>\n\n<pre><code>private val job = Job()\nprivate val ioScope = CoroutineScope(Dispatchers.IO + job)\nprivate val uiScope = CoroutineScope(Dispatchers.Main + job)\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_second)\n\n    ioScope.launch {\n        delay(3000L)\n        textView.text = \"test1\"\n        uiScope.launch {\n            textView.text = \"test2\"\n        }\n    }\n}\n</code></pre>\n\n<p>If I launch and wait 3 seconds app will crash with <code>CalledFromWrongThreadException</code> which is predictable cause I update Ui from background thread in line <code>textView.text = \"test1\"</code>.</p>\n\n<p>But if I press back button I see that onPause() and onDestroy() will be called, but both lines <code>textView.text = \"test1\"</code> in background thread and <code>textView.text = \"test1\"</code> in UI thread will be called, but without exception. </p>\n\n<p>Why it does not crash, cause I update UI on destroyed activity?</p>\n\n<p>Is it safe to write code in such way? For example, do a network call and update UI after response(when Activity could be destroyed), or there could be some issues?</p>\n"}]