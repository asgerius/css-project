[{"tags": ["maven", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1479936837, "post_id": 40774441, "comment_id": 68772874, "body": "What is this file for? Is it a project resource? When is it going to be used? Where should it end up in the final product?"}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "reply_to_user": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1479936924, "post_id": 40774441, "comment_id": 68772927, "body": "yes a resource file. You know, I don&#39;t know about the final product yet - I&#39;m just talking about the test resource folder of the kotlin module (as a destination for the copy) - it is used for some reporting that is done from running a special test (might sound strange but tests were a good way to do this reporting since they can be parameterized, which was useful for this project)"}, {"owner": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1479937038, "post_id": 40774441, "comment_id": 68772973, "body": "Then it sounds like the Kotlin module has a dependency on the misc module. Add a <code>&lt;dependency&gt;</code> with that regard, and place the files under the Misc project <code>src&#47;main&#47;resources</code> folder. This way, the Kotlin module will access it like any classpath resource."}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "reply_to_user": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1479937111, "post_id": 40774441, "comment_id": 68773009, "body": "ok, I&#39;ll look into that - I&#39;m new to inter-module operations - thanks"}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "reply_to_user": {"reputation": 115475, "user_id": 1743880, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wcXBB.png?s=128&g=1", "display_name": "Tunaki", "link": "https://stackoverflow.com/users/1743880/tunaki"}, "edited": false, "score": 0, "creation_date": 1479953205, "post_id": 40774441, "comment_id": 68777621, "body": "oh well, that isn&#39;t going to work. After investigating what the <code>.xsd</code> file is actually used for (this is an old project I haven&#39;t touched in a while), it is referenced by XML files in the Kotlin module as their schema. So, the file needs to be physically in the resources folder of the Kotlin module. Of course it is also referenced by XML files in the misc files module, which is why I need the same XSD file in both modules. So I guess my original question still stands..."}, {"owner": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "edited": false, "score": 0, "creation_date": 1479971322, "post_id": 40774441, "comment_id": 68783069, "body": "will it work to extract those files into an own module into src/main/resources and depend on it from the others using scope test? so you can avoid creating additional test-jars."}], "answers": [{"tags": [], "owner": {"reputation": 19027, "user_id": 15274, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2d6ef152f55ad02f221278801069a854?s=128&d=identicon&r=PG", "display_name": "pi.", "link": "https://stackoverflow.com/users/15274/pi"}, "is_accepted": false, "score": 0, "last_activity_date": 1479978658, "creation_date": 1479978658, "answer_id": 40782064, "question_id": 40774441, "link": "https://stackoverflow.com/questions/40774441/copying-a-file-automatically-with-a-pom/40782064#40782064", "title": "Copying a file automatically with a pom", "body": "<p>You can't copy files with <code>Maven</code> directly, but there is a plugin for it to execute <code>Ant</code> tasks. One of the pre-defined tasks is <code>copy</code> and can be used as seen below. It can hook into the various phases of <code>Maven</code> execution. This may require some fiddling.</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.8&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-war-to-docker&lt;/id&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;run&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;target&gt;\n              &lt;copy file=\"${build.warFile}\"\n                    tofile=\"${basedir}/docker/${build.name}.war\"/&gt;\n            &lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1479978658, "creation_date": 1479936521, "last_edit_date": 1479936843, "question_id": 40774441, "link": "https://stackoverflow.com/questions/40774441/copying-a-file-automatically-with-a-pom", "title": "Copying a file automatically with a pom", "body": "<p>I have 3 modules in my Intellij project:</p>\n\n<ul>\n<li>a Java module</li>\n<li>a Kotlin module</li>\n<li>a misc files module</li>\n</ul>\n\n<p>I have an XSD file in the misc files module that I need to have an exact copy of in the Kotlin module's test resources folder. i.e. whenever I update it, I need to copy it to the Kotlin module.</p>\n\n<p>How can I update my Kotlin module's maven POM file so that it can automatically copy this file?</p>\n"}, {"tags": ["kotlin", "maven-source-plugin"], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "edited": false, "score": 0, "creation_date": 1479949425, "post_id": 40773219, "comment_id": 68776708, "body": "@llya , thanks, you are right. after add the &lt;sourceDirectory&gt; and &lt;testSourceDirectory&gt; the maven-source-plugin generated the source.jar ."}, {"owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "edited": false, "score": 2, "creation_date": 1489328390, "post_id": 40773219, "comment_id": 72613620, "body": "Unfortunately if your project has both Java and Kotlin source roots, doing this will cause your sources artifact to only contain Kotlin sources."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 16, "last_activity_date": 1479931350, "creation_date": 1479931350, "answer_id": 40773219, "question_id": 40764064, "link": "https://stackoverflow.com/questions/40764064/maven-source-plugin-not-work-for-kotlin/40773219#40773219", "title": "maven-source-plugin not work for kotlin", "body": "<p>By default maven expects sources to be in <code>src/main/java</code> directory. If you use non-default directories, you have to specify them in <code>build</code> element:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n&lt;/build&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "edited": false, "score": 0, "creation_date": 1489472642, "post_id": 42748502, "comment_id": 72672377, "body": "thanks Alex, there are only kotlin codes in my projects. i will try your suggestion when there are both java and kotlin files in the project. thanks"}, {"owner": {"reputation": 16010, "user_id": 1568658, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/FPSGe.jpg?s=128&g=1", "display_name": "user218867", "link": "https://stackoverflow.com/users/1568658/user218867"}, "edited": false, "score": 0, "creation_date": 1581422950, "post_id": 42748502, "comment_id": 106420500, "body": "The <code>kotlin-maven-plugin</code> plugin might be another option, check this: <a href=\"https://stackoverflow.com/questions/29330311\">stackoverflow.com/questions/29330311</a>"}], "tags": [], "owner": {"reputation": 2285, "user_id": 179962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b97f6ed0232ac9ab0a8c9bbf886eaf9?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/179962/alex"}, "is_accepted": false, "score": 20, "last_activity_date": 1489328359, "creation_date": 1489328359, "answer_id": 42748502, "question_id": 40764064, "link": "https://stackoverflow.com/questions/40764064/maven-source-plugin-not-work-for-kotlin/42748502#42748502", "title": "maven-source-plugin not work for kotlin", "body": "<p>When your project has mixed Java and Kotlin (i.e. multiple source roots), I found that using the <code>build-helper-maven-plugin</code> worked well to ensure that both Java and Kotlin sources are included in the built sources artifact.</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;add-source&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;sources&gt;\n          &lt;source&gt;src/main/kotlin&lt;/source&gt;\n        &lt;/sources&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3626, "favorite_count": 1, "accepted_answer_id": 40773219, "answer_count": 2, "score": 16, "last_activity_date": 1489328359, "creation_date": 1479902594, "question_id": 40764064, "link": "https://stackoverflow.com/questions/40764064/maven-source-plugin-not-work-for-kotlin", "title": "maven-source-plugin not work for kotlin", "body": "<p>I am trying to use maven-source-plugin to create a source.jar for my kotlin project, but seems the maven-source-plugin not work well for kotlin project.</p>\n\n<p>when i run \"mvn source:jar\", the output message always says:</p>\n\n<pre><code>[INFO] No sources in project. Archive not created.\n</code></pre>\n\n<p>here is the maven-source-plugin configuration in my pom file of the project:</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;attach-sources&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;attach&gt;true&lt;/attach&gt;\n                        &lt;includes&gt;\n         &lt;!-- i am trying to specify the include dir manually, but not work --&gt;                               \n                         &lt;include&gt;${project.basedir}/src/main/kotlin/*&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;forceCreation&gt;true&lt;/forceCreation&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>my question is: how to attach kotlin source files using maven-source-plugin?</p>\n\n<p>thanks ~~</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1479982996, "post_id": 40762513, "comment_id": 68790159, "body": "This looks like <a href=\"https://youtrack.jetbrains.com/issue/KT-14613\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-14613</a>"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1479987029, "post_id": 40762513, "comment_id": 68793074, "body": "thanks - if you add this as answer I will accept it"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1479988819, "creation_date": 1479988819, "answer_id": 40785879, "question_id": 40762513, "link": "https://stackoverflow.com/questions/40762513/cannot-be-cast-to-org-jetbrains-kotlin-java-model-types-jeclassinitializerexecut/40785879#40785879", "title": "cannot be cast to org.jetbrains.kotlin.java.model.types.JeClassInitializerExecutableTypeMirror", "body": "<p>This is a <a href=\"https://youtrack.jetbrains.com/issue/KT-14613\" rel=\"nofollow noreferrer\">known issue</a> in the Kotlin annotation processing implementation.</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 40785879, "answer_count": 1, "score": 0, "last_activity_date": 1479988819, "creation_date": 1479898582, "last_edit_date": 1479903338, "question_id": 40762513, "link": "https://stackoverflow.com/questions/40762513/cannot-be-cast-to-org-jetbrains-kotlin-java-model-types-jeclassinitializerexecut", "title": "cannot be cast to org.jetbrains.kotlin.java.model.types.JeClassInitializerExecutableTypeMirror", "body": "<p>I want to upgrade to dagger 2.8 - but now my projects throw this error when compiling:</p>\n\n<pre><code>:android:compileWithAnalyticsWithCloudProdDebugAndroidTestKotlinAn exception occurred during annotation processing. Stacktrace: \n\njava.lang.ClassCastException: org.jetbrains.kotlin.java.model.types.JeMethodExecutableTypeMirror cannot be cast to org.jetbrains.kotlin.java.model.types.JeClassInitializerExecutableTypeMirror\n    at org.jetbrains.kotlin.annotation.processing.impl.KotlinTypes.isSubsignature(KotlinTypes.kt:275)\n    at dagger.shaded.auto.common.Overrides$ExplicitOverrides.isSubsignature(Overrides.java:183)\n    at dagger.shaded.auto.common.Overrides$ExplicitOverrides.overrides(Overrides.java:109)\n    at dagger.shaded.auto.common.MoreElements.getLocalAndInheritedMethods(MoreElements.java:334)\n    at dagger.shaded.auto.common.MoreElements.getLocalAndInheritedMethods(MoreElements.java:314)\n    at dagger.internal.codegen.ComponentValidator.validate(ComponentValidator.java:165)\n    at dagger.internal.codegen.ComponentProcessingStep.process(ComponentProcessingStep.java:123)\n    at dagger.internal.codegen.ComponentProcessingStep.process(ComponentProcessingStep.java:47)\n    at dagger.shaded.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:329)\n    at dagger.shaded.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:182)\n    at org.jetbrains.kotlin.annotation.AbstractAnnotationProcessingExtension.doRound(AnnotationProcessingExtension.kt:346)\n    at org.jetbrains.kotlin.annotation.AbstractAnnotationProcessingExtension.process(AnnotationProcessingExtension.kt:283)\n    at org.jetbrains.kotlin.annotation.AbstractAnnotationProcessingExtension.doAnnotationProcessing(AnnotationProcessingExtension.kt:269)\n    at org.jetbrains.kotlin.annotation.AbstractAnnotationProcessingExtension.analysisCompleted(AnnotationProcessingExtension.kt:140)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:119)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegrationWithCustomContext(TopDownAnalyzerFacadeForJVM.kt:66)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:126)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:358)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:131)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:183)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:198)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.compileNotIncremental(Tasks.kt:261)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:178)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:105)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:97)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:158)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:129)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:118)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:233)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:74)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:55)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:186)\n    at org.gradle.internal.Factories$1.create(Factories.java:22)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:183)\n    at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:33)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:112)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:106)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:92)\n    at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:66)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:79)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:51)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:59)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:50)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.HintGCAfterBuild.execute(HintGCAfterBuild.java:44)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:293)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Anyone faced the same problem and perhaps knows a fix/workaround?</p>\n"}, {"tags": ["xml", "spring", "spring-mvc", "kotlin", "request-mapping"], "comments": [{"owner": {"reputation": 6118, "user_id": 2650436, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG", "display_name": "meistermeier", "link": "https://stackoverflow.com/users/2650436/meistermeier"}, "edited": false, "score": 0, "creation_date": 1479824985, "post_id": 40744399, "comment_id": 68714483, "body": "I am not a fan of solving this problem with explicit paths but with content negotiation. An older but also current post from spring io <a href=\"https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\" rel=\"nofollow noreferrer\">spring.io/blog/2013/05/11/content-negotiation-using-spring-m&zwnj;&#8203;vc</a>"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1479825134, "post_id": 40744399, "comment_id": 68714609, "body": "Remove the <code>produces</code> from your request mapping (or add the <code>application&#47;xml</code> to the first one). Both <code>&#47;pets</code> and <code>&#47;pets.xml</code> will be mapped and content negotiation should do the rest. By default a mapping is created for <code>&#47;pets</code> and <code>&#47;pets.*</code> when the controller is detected."}, {"owner": {"reputation": 137, "user_id": 3491204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce3a16c3d126616924edb29ff164895d?s=128&d=identicon&r=PG&f=1", "display_name": "Irikos", "link": "https://stackoverflow.com/users/3491204/irikos"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1479826066, "post_id": 40744399, "comment_id": 68715278, "body": "@M.Deinum , thanks, that solved it in a much more elegant way than I hoped for: I can actually remove the 2nd requestmapping and the function altogether - they can be written in just one.  Now I only have to find out how to prioritize between them(which one I get when I use no extension on the path, i.e &quot;/pets&quot;, but I&#39;m sure it&#39;s easily doable. Please add your comment as a response, seeing that it solved my problem."}, {"owner": {"reputation": 137, "user_id": 3491204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce3a16c3d126616924edb29ff164895d?s=128&d=identicon&r=PG&f=1", "display_name": "Irikos", "link": "https://stackoverflow.com/users/3491204/irikos"}, "reply_to_user": {"reputation": 6118, "user_id": 2650436, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG", "display_name": "meistermeier", "link": "https://stackoverflow.com/users/2650436/meistermeier"}, "edited": false, "score": 0, "creation_date": 1479826085, "post_id": 40744399, "comment_id": 68715290, "body": "@meistermeier , I will check it out, it seems like something I should know. I&#39;m new to kotlin and spring, so thank you for the useful resource!"}, {"owner": {"reputation": 1718, "user_id": 2711378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/100000919862380/picture?type=large", "display_name": "Amanuel Nega", "link": "https://stackoverflow.com/users/2711378/amanuel-nega"}, "edited": false, "score": 0, "creation_date": 1479828354, "post_id": 40744399, "comment_id": 68717080, "body": "Please add what you figured out as an answer here.. Comments are not exactly easily seen"}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 3491204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce3a16c3d126616924edb29ff164895d?s=128&d=identicon&r=PG&f=1", "display_name": "Irikos", "link": "https://stackoverflow.com/users/3491204/irikos"}, "is_accepted": false, "score": 0, "last_activity_date": 1479829027, "creation_date": 1479829027, "answer_id": 40745937, "question_id": 40744399, "link": "https://stackoverflow.com/questions/40744399/springmvc-requestmapping-adding-xml-to-controller-path-for-xml-response/40745937#40745937", "title": "SpringMVC RequestMapping: Adding .xml to controller path for xml response", "body": "<p>Having just one function is enough. You just need to add arrayOf(\"application/json\", \"application/xml) to it and it produces both (it actually does for both even if you remove it, but it's explicit like this.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"pets\")\nclass PetController {\n  /*code*/\n  @RequestMapping(produces = arrayOf(\"application/json\", \"application/xml), method = RequestMethod.GET)\n    fun findPetsJson(): List&lt;PetDto&gt; {\n      return petService.findAll()\n  }\n}\n</code></pre>\n\n<p>This code allows for interogations at both /pets.json and /pets.xml</p>\n"}, {"tags": [], "owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "is_accepted": true, "score": 1, "last_activity_date": 1479839338, "creation_date": 1479839338, "answer_id": 40749110, "question_id": 40744399, "link": "https://stackoverflow.com/questions/40744399/springmvc-requestmapping-adding-xml-to-controller-path-for-xml-response/40749110#40749110", "title": "SpringMVC RequestMapping: Adding .xml to controller path for xml response", "body": "<p>By default the Spring MVC <code>RequestMappingHandlerMapping</code> will add multiple mappings for your <code>@RequestMapping</code> annotated methods (or classes). It will next to the configured one, add one ending with <code>.*</code> so that it will match extensions as well. </p>\n\n<p>So in your case <code>/pets.xml</code> is already supported by the <code>/pets.*</code> mapping which is created by default. Your <code>produces</code> now only limits the accepting requests based on the <code>Accept</code> request header. </p>\n\n<p>By default the file extension takes precedence over the <code>Content-Type</code> header. </p>\n"}], "owner": {"reputation": 137, "user_id": 3491204, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce3a16c3d126616924edb29ff164895d?s=128&d=identicon&r=PG&f=1", "display_name": "Irikos", "link": "https://stackoverflow.com/users/3491204/irikos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 40749110, "answer_count": 2, "score": 0, "last_activity_date": 1479839338, "creation_date": 1479824720, "question_id": 40744399, "link": "https://stackoverflow.com/questions/40744399/springmvc-requestmapping-adding-xml-to-controller-path-for-xml-response", "title": "SpringMVC RequestMapping: Adding .xml to controller path for xml response", "body": "<p>/pets yields a json response. I'd like to use /pets.xml in order to yield an xml response, while maintaining @RequestMapping(\"pets\") on the controller. I can use </p>\n\n<pre><code>@RequestMapping(\"/index\") \n@RequestMapping(\"/index.xml\") \n</code></pre>\n\n<p>as a workaround, but that's not what I'm looking for.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"pets\")\nclass PetController {\n  /*code*/\n  @RequestMapping(produces = arrayOf(\"application/json\"))\n    fun findPetsJson(): List&lt;PetDto&gt; {\n      return petService.findAll()\n  }\n  // this results in /pets/.xml for the xml response. I'm aiming for /pets.xml\n  @RequestMapping(\".xml\", produces = arrayOf(\"application/xml\"))\n    fun findPetsXml(): List&lt;PetDto&gt; {\n      return petService.findAll()\n    }\n  }\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 146, "user_id": 1263579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdWxi.png?s=128&g=1", "display_name": "Nezneika", "link": "https://stackoverflow.com/users/1263579/nezneika"}, "edited": false, "score": 0, "creation_date": 1523509387, "post_id": 40741464, "comment_id": 86591638, "body": "I faced same issue, and found Q&amp;A here helpful. Thanks.  Just a small thing, I suppose NetModule.kt is a duplication of AppModule.kt :)"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 1263579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZdWxi.png?s=128&g=1", "display_name": "Nezneika", "link": "https://stackoverflow.com/users/1263579/nezneika"}, "edited": false, "score": 0, "creation_date": 1523509151, "post_id": 40742134, "comment_id": 86591564, "body": "Inject to correct Activity or Fragment or whatever activity is important.   In my case inject(superClass: SuperActivity) does not work when calling injection in the SubActivity ( which extends SuperActivity).  Thanks for pointing out!"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 20, "last_activity_date": 1479818392, "creation_date": 1479818392, "answer_id": 40742134, "question_id": 40741464, "link": "https://stackoverflow.com/questions/40741464/dagger-kotlin-not-injecting/40742134#40742134", "title": "Dagger + Kotlin not injecting", "body": "<pre><code>fun inject(activity: Activity)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>fun inject(activity: TrashCansInfoActivity)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 727, "user_id": 6616489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618810b1b3544ed47cb5ffefbf998eb?s=128&d=identicon&r=PG&f=1", "display_name": "anoo_radha", "link": "https://stackoverflow.com/users/6616489/anoo-radha"}, "is_accepted": false, "score": 2, "last_activity_date": 1522782986, "creation_date": 1522782986, "answer_id": 49637600, "question_id": 40741464, "link": "https://stackoverflow.com/questions/40741464/dagger-kotlin-not-injecting/49637600#49637600", "title": "Dagger + Kotlin not injecting", "body": "<p>I got the same error. \nThe mistake was - not injecting the component. Also i had to inject the component in a fragment.\n(in kotlin)</p>\n\n<blockquote>\n  <p>val component = (activity?.application as MyApplication).appComponent\n      component.plus(FakeModule(this)).inject(this)</p>\n</blockquote>\n\n<p>This solved the error.</p>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7337, "favorite_count": 3, "accepted_answer_id": 40742134, "answer_count": 2, "score": 13, "last_activity_date": 1523540719, "creation_date": 1479816547, "last_edit_date": 1523540719, "question_id": 40741464, "link": "https://stackoverflow.com/questions/40741464/dagger-kotlin-not-injecting", "title": "Dagger + Kotlin not injecting", "body": "<p>I studying Dagger 2 for DI and I just did this code to inject the Retrofit:</p>\n\n<p>NetModule.kt</p>\n\n<pre><code>@Module\nclass NetModule(val baseUrl: String) {\n\n    @Provides\n    @Singleton\n    fun provideRetrofit() : Retrofit{\n        [some logic here]\n    }\n}\n</code></pre>\n\n<p>AppModule.kt</p>\n\n<pre><code>@Module\nclass AppModule(val mApplication: Application) {\n\n    @Provides\n    @Singleton\n    fun provideApplication() : Application{\n        return mApplication\n    }\n}\n</code></pre>\n\n<p>NetComponent.kt:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, NetModule::class))\ninterface NetComponent {\n    fun inject(activity: Activity)\n}\n</code></pre>\n\n<p>CustomApplication.kt</p>\n\n<pre><code>class CustomApplication : Application() {\n\n    companion object {\n        lateinit var mNetComponent: NetComponent\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        AndroidThreeTen.init(this)\n\n        mNetComponent = DaggerNetComponent.builder()\n                            .appModule(AppModule(this))\n                            .netModule(NetModule(getString(R.string.api_base_url)))\n                            .build()\n\n    }\n}\n</code></pre>\n\n<p>Then in my activity:</p>\n\n<pre><code>class TrashCansInfoActivity : AppCompatActivity(){\n\n@Inject\n    lateinit var mRetrofit: Retrofit\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_trash_cans_info)\n\n        CustomApplication.mNetComponent.inject(this)\n\n        setSupportActionBar(toolbar)\n\n        populateTrashCanList()\n\n    }\n\n    private fun populateTrashCanList(){\n        showProgress(true)\n        mRetrofit.create(ApiClient::class.java)\n                .getTrashCans()\n                .map { it.map { it.toTrashCan() } }\n                .subscribeOn(Schedulers.newThread())\n                .observeOn(AndroidSchedulers.mainThread())\n                .doOnError {\n                    showProgress(false)\n                    Toast.makeText(this, \"Erro ao carregar lista de lixeiras\", Toast.LENGTH_SHORT).show()\n                }.doOnCompleted { showProgress(false) }\n                .subscribe(behaviorSubject)\n    }\n\n}\n</code></pre>\n\n<p>So, this code should work, right? The dependency should be added... But when I run my app... I get this: </p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property mRetrofit has not been initialized\n</code></pre>\n\n<p>So the Retrofit is not being injected. What am I missing?</p>\n\n<p>Any help is welcome! </p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 4, "creation_date": 1479802752, "post_id": 40731511, "comment_id": 68699486, "body": "Although Ruckus gave you the correct answer below (use the <code>chooseFile</code> and <code>chooseDirectory</code> functions in TornadoFX), I just wanted to point out that you can access the stage via the <code>primaryStage</code> property. If your View is opened using <code>openModal</code> or <code>openWindow</code> you can access your stage via the <code>modalStage</code> property of the <code>View</code>. <code>Stage</code> inherits from <code>Window</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 9, "last_activity_date": 1479785905, "creation_date": 1479785905, "answer_id": 40733381, "question_id": 40731511, "link": "https://stackoverflow.com/questions/40731511/what-should-be-passed-to-filechooser/40733381#40733381", "title": "What should be passed to FileChooser?", "body": "<p><a href=\"http://docs.oracle.com/javase/8/javafx/api/javafx/stage/FileChooser.html#showOpenDialog-javafx.stage.Window-\" rel=\"noreferrer\">According to the docs</a> you can pass a <code>null</code> for the window.</p>\n\n<blockquote>\n  <p>If the owner window for the file dialog is set, input to all windows in the dialog's owner chain is blocked while the file dialog is being shown. </p>\n</blockquote>\n\n<p>However, since you are using TornadoFX, you may instead just want to use the <code>chooseFile</code> and <code>chooseDirectory</code> functions it provides. They automatically handle the hairy parts for you with useful defaults, but (since they are only defaults after all) you can easily override them to tailor the functionality to your needs.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9095513, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-28WopFYyUrw/AAAAAAAAAAI/AAAAAAAARh4/7KGGy0MdpMQ/photo.jpg?sz=128", "display_name": "Keith Skronek", "link": "https://stackoverflow.com/users/9095513/keith-skronek"}, "is_accepted": false, "score": 4, "last_activity_date": 1513191285, "creation_date": 1513191285, "answer_id": 47800254, "question_id": 40731511, "link": "https://stackoverflow.com/questions/40731511/what-should-be-passed-to-filechooser/47800254#47800254", "title": "What should be passed to FileChooser?", "body": "<p>The following code worked for me:</p>\n\n<pre><code>with(root) {\n    button(\"Target Directory\") {\n        action {\n            var dir = chooseDirectory(\"Select Target Directory\")\n        }\n    }\n}\n</code></pre>\n\n<p>On Windows, the file chooser dialogue will open \"My Computer\" by default.</p>\n"}], "owner": {"reputation": 1164, "user_id": 4135511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd2a9701c0f354d3cf04a8f554fccb2?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4135511/lukas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3744, "favorite_count": 1, "accepted_answer_id": 40733381, "answer_count": 2, "score": 6, "last_activity_date": 1578253973, "creation_date": 1479772063, "last_edit_date": 1578253973, "question_id": 40731511, "link": "https://stackoverflow.com/questions/40731511/what-should-be-passed-to-filechooser", "title": "What should be passed to FileChooser?", "body": "<p>I am looking solution for javafx <code>FileChooser</code>(in Kotlin). I stuck on this, I cannot pass root View, because <code>Window!</code> is expected:</p>\n\n<pre><code>button(\"open some file\") {\n\n                    setOnAction {\n                        val fileChooser = FileChooser();\n                        val file = fileChooser.showOpenDialog(???)\n                        ...\n                    }\n\n                }\n</code></pre>\n\n<p>What should I pass in this case? </p>\n"}, {"tags": ["cookies", "kotlin", "vert.x", "vertx-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1479830236, "post_id": 40746005, "comment_id": 68718460, "body": "That does indeed work, didn&#39;t think about setting its age to 0. I thought setting the value to null might work, but that was just throwing a null pointer exception. Thanks for that answer!"}], "tags": [], "owner": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "is_accepted": true, "score": 7, "last_activity_date": 1479829235, "creation_date": 1479829235, "answer_id": 40746005, "question_id": 40730375, "link": "https://stackoverflow.com/questions/40730375/vertx-web-not-removing-cookies/40746005#40746005", "title": "VertX Web not removing cookies", "body": "<p>The <code>removeCookie</code> method will remove it from the request object but that does not remove a cookie from a web client. In order to force it to be removed from a client the cookie must be sent back with an expiration date. For example you should do:</p>\n\n<pre><code>rtx.getCookie(\"atom-session\").setMaxAge(0)\n</code></pre>\n\n<p>This is not a vert.x feature per se, but how cookies work.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 40746005, "answer_count": 1, "score": 1, "last_activity_date": 1479829235, "creation_date": 1479766452, "question_id": 40730375, "link": "https://stackoverflow.com/questions/40730375/vertx-web-not-removing-cookies", "title": "VertX Web not removing cookies", "body": "<p>I'm creating cookies in VertX and want to remove them again once a users logs out.</p>\n\n<pre><code>AccountController.handleLogin(vertx, router.post(\"/login\"))\n</code></pre>\n\n<p>...</p>\n\n<pre><code>fun handleLogin(vertx: Vertx, route: Route) {\n    route.handler { rtx -&gt;\n            rtx.request().bodyHandler { btx -&gt;\n                vertx.executeBlocking&lt;Login&gt;({\n                    it.complete(AccountController.login(Json.decodeValue(String(btx.bytes), Login::class.java)))\n                }, {\n                    if (it.succeeded()) {\n                        // set some cookies\n                        rtx.addCookie(Cookie.cookie(\"atom-session\", it.result().session).setHttpOnly(true).setSecure(secure))\n</code></pre>\n\n<p>That cookie can now be seen in Chrome:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cEySc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cEySc.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I want to remove that cookie again:</p>\n\n<pre><code>AccountController.handleLogout(vertx, router.post(\"/logout\"))\n</code></pre>\n\n<p>...</p>\n\n<pre><code>fun handleLogout(vertx: Vertx, route: Route) {\n    route.handler { rtx -&gt;\n            rtx.request().bodyHandler { btx -&gt;\n                vertx.executeBlocking&lt;Logout&gt;({\n                    val logout = Json.decodeValue(String(btx.bytes), Logout::class.java)\n\n                    it.complete(AccountController.logout(logout))\n                }, {\n                    if (it.succeeded()) {\n                        log.info(\"Cookies Will No Be Removed ...\")\n                        rtx.removeCookie(\"atom-session\")\n                        log.info(\"DONE!\")\n</code></pre>\n\n<p>I can see the messages being printed saying that cookies will be removed, but when I refresh the resources in Chrome, all the cookies that were set on login are still there. including <code>atom-session</code></p>\n\n<p>Am I doing this wrong or is this a bug in VertX ?</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1479799058, "post_id": 40727588, "comment_id": 68697622, "body": "Good question mate :)"}, {"owner": {"reputation": 548, "user_id": 536484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NCeJt.jpg?s=128&g=1", "display_name": "Arturo", "link": "https://stackoverflow.com/users/536484/arturo"}, "edited": false, "score": 0, "creation_date": 1479987217, "post_id": 40727588, "comment_id": 68793203, "body": "Wierd, I have a multi-module project written in Kotlin without problems, you can take a look at <a href=\"https://github.com/arturogutierrez/Openticator\" rel=\"nofollow noreferrer\">github.com/arturogutierrez/Openticator</a> I have an android module, pure kotlin module and a android-library module"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 2, "creation_date": 1479987452, "post_id": 40727588, "comment_id": 68793348, "body": "Perhaps you could expand the question a bit with your relevant .gradle files, such as <code>settings.gradle</code> and the <code>build.gradle</code> files. Only remove what is absolutely not necessary."}, {"owner": {"reputation": 6636, "user_id": 691639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e237f683765ca5ad65c9060cf73a0991?s=128&d=identicon&r=PG", "display_name": "Eliezer", "link": "https://stackoverflow.com/users/691639/eliezer"}, "edited": false, "score": 0, "creation_date": 1480030092, "post_id": 40727588, "comment_id": 68813488, "body": "I seem to have lost the branch that it was in (I was working on it a few months ago). Will recreate when I get some free time and update the question."}], "owner": {"reputation": 6636, "user_id": 691639, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e237f683765ca5ad65c9060cf73a0991?s=128&d=identicon&r=PG", "display_name": "Eliezer", "link": "https://stackoverflow.com/users/691639/eliezer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1588, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1479755324, "creation_date": 1479755324, "last_edit_date": 1592644375, "question_id": 40727588, "link": "https://stackoverflow.com/questions/40727588/kotlin-modules-with-gradle-multi-project", "title": "Kotlin Modules with Gradle Multi-Project", "body": "<p>Kotlin got rid of package level visibility for module level visibility. I think that was a great idea, except it's difficult to get multiple Kotlin modules working in a Gradle multi-project setup.</p>\n<p>I'm using Gradle Wrapper 3.1, with Android Studio 2.2 and Kotlin 1.0.4</p>\n<p>Here is my structure:</p>\n<p>Project</p>\n<p>----myapp (android application)</p>\n<p>----lib (android library)</p>\n<p>----commons (android library)</p>\n<pre><code>// myapp/build.gradle\ndependencies {\n    compile project(':lib')\n}\n\n// lib/build.gradle\ndependencies {\n    compile project(':commons')\n}\n</code></pre>\n<p>When I try to sync or build I get the following error:</p>\n<blockquote>\n<p>Error:A problem occurred configuring project ':lib'.</p>\n<p>Cannot change dependencies of configuration ':lib:default' after it has been included in dependency resolution.</p>\n</blockquote>\n<p>The only thing that has worked is to make sure that the module names have a lexical order that matches the order they need to be built in, which is ridiculous, and not a proper solution.</p>\n<p>I know I can publish <code>lib</code> and <code>commons</code> as artifacts, but I'd really prefer to not do that.</p>\n<p>Anyone have any suggestions?</p>\n"}, {"tags": ["unit-testing", "kotlin", "jmockit"], "answers": [{"tags": [], "owner": {"reputation": 1577, "user_id": 3108709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WAIzV.jpg?s=128&g=1", "display_name": "Endran", "link": "https://stackoverflow.com/users/3108709/endran"}, "is_accepted": true, "score": 0, "last_activity_date": 1486633649, "creation_date": 1486633649, "answer_id": 42133218, "question_id": 40723288, "link": "https://stackoverflow.com/questions/40723288/capturing-objects-with-jmockit-and-kotlin/42133218#42133218", "title": "Capturing objects with JMockit and Kotlin", "body": "<p>Eventually I was not able to find any way in Kotlin any solution for this problem. The problem lies with the static space. In Kotlin you have the <code>init</code> block where you must record your <code>Expectations</code>/<code>Verifications</code>, but JMockit actually expects this in static space (hence the <code>{{...}}</code> notation).</p>\n\n<p>My workaround for now is to keep the captors in Java, so I have a <code>Captors</code> class in my java test sources that looks like this</p>\n\n<pre><code>public class Captors {\n\n    public static List&lt;Experiment&gt; experimentStorage_save(ExperimentStorage experimentStorage) {\n        final List&lt;Experiment&gt; captor = new ArrayList&lt;&gt;();\n        new Verifications() {{\n            experimentStorage.save(withCapture(captor));\n        }};\n        return captor;    \n    }\n\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1577, "user_id": 3108709, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WAIzV.jpg?s=128&g=1", "display_name": "Endran", "link": "https://stackoverflow.com/users/3108709/endran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 42133218, "answer_count": 1, "score": 0, "last_activity_date": 1516617879, "creation_date": 1479740897, "question_id": 40723288, "link": "https://stackoverflow.com/questions/40723288/capturing-objects-with-jmockit-and-kotlin", "title": "Capturing objects with JMockit and Kotlin", "body": "<p>I am using JMockit for quite some time already, and I really like it. However, I just ran into an issue I cannot seem to solve. See the snippet below for some Kotlin test code, testing Kotlin production code.</p>\n\n<pre><code>@Injectable\nlateinit var experimentStorage: ExperimentStorage\n...\nval experimentCaptor = mutableListOf&lt;Experiment&gt;()\nobject : Verifications() {\n    init {\n        experimentStorage.save(withCapture(experimentCaptor))\n    }\n}\n</code></pre>\n\n<p>When I run my test I get the following error: </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: withCapture(experimentCaptor) must\n  not be null</p>\n</blockquote>\n\n<p>I am 100% sure my production code exercises the storage correctly, because when I replace the capture like below, my test succeeds:</p>\n\n<pre><code>object : Verifications() {\n    init {\n        experimentStorage.save(withAny(experiment))\n    }\n}\n</code></pre>\n\n<p>Does anyone have experience capturing parameters in Kotlin with JMockit (1.28)? What am I doing wrong? I guess it has to do with the <code>init</code> block, since in Java you would use static space... </p>\n"}, {"tags": ["generics", "kotlin", "ambiguous", "overload-resolution"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 10, "last_activity_date": 1479809232, "last_edit_date": 1495540903, "creation_date": 1479739906, "answer_id": 40722977, "question_id": 40722976, "link": "https://stackoverflow.com/questions/40722976/how-to-deal-with-an-overload-resolution-ambiguity-of-functions-with-generics/40722977#40722977", "title": "How to deal with an overload resolution ambiguity of functions with generics?", "body": "<p>If you are lucky enough to have different parameter names of the functions, using <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"noreferrer\">named arguments</a> will do the trick:</p>\n\n<pre><code>m.f(index = 1) // calls f(index: Int)\nm.f(key = 1)   // calls f(key: K)\n</code></pre>\n\n<p>Otherwise, if the parameter names are the same (or defined in Java), one possible workaround is to perform <a href=\"https://stackoverflow.com/questions/2693180/what-is-unchecked-cast-and-how-do-i-check-it\">unchecked casts</a> to make the compiler choose the desired option:</p>\n\n<ul>\n<li><p>To call <code>f(index: Int)</code>, you can use</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nval s = (m as C&lt;*, SomeType&gt;).f(1) as Pair&lt;Int, SomeType&gt;\n</code></pre>\n\n<p>The cast to <code>C&lt;*, SomeType&gt;</code> <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">makes <code>K</code> equivalent to <code>in Nothing, out Any</code></a>, meaning that there's no valid argument for <code>f(key: K)</code>, so the call is naturally resolved to <code>f(index: Int)</code>, but you need to cast the result back, because otherwise it is <code>Pair&lt;Any, SomeType&gt;</code>.</p></li>\n<li><p>To call <code>f(key: K)</code>, use:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nval s = (m as C&lt;Any, SomeType&gt;).f(1 as Any)\n</code></pre>\n\n<p>Similarly, the cast to <code>C&lt;Any, SomeType&gt;</code> changes the signature of the desired function to <code>f(key: Any)</code>, and to call it, just upcast <code>1</code> to <code>Any</code>.</p></li>\n</ul>\n\n<p>It's all the same in case of several type parameters clashing (e.g. <code>f(key: K)</code> and <code>f(value: V)</code> when <code>K</code> and <code>V</code> are both <code>SomeType</code>), just use named arguments or cast the object to <em>ban</em> one of the functions (<code>in Nothing</code>) or to make it accept <code>Any</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1479863276, "post_id": 40724640, "comment_id": 68734635, "body": "That&#39;s true, but that requires some thought in advance to design class <code>C</code> preventing possible signature clashes with substituted generics. And if you faced such class and have no way to rename its functions, you have to resort to generic tricks from @hotkey&#39;s answer."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1479745020, "creation_date": 1479745020, "answer_id": 40724640, "question_id": 40722976, "link": "https://stackoverflow.com/questions/40722976/how-to-deal-with-an-overload-resolution-ambiguity-of-functions-with-generics/40724640#40724640", "title": "How to deal with an overload resolution ambiguity of functions with generics?", "body": "<p>Kotlin stdlib uses convention <code>fun fAt(index: Int)</code> to resolve such cases.</p>\n"}], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3748, "favorite_count": 0, "accepted_answer_id": 40722977, "answer_count": 2, "score": 9, "last_activity_date": 1479809988, "creation_date": 1479739906, "last_edit_date": 1479809988, "question_id": 40722976, "link": "https://stackoverflow.com/questions/40722976/how-to-deal-with-an-overload-resolution-ambiguity-of-functions-with-generics", "title": "How to deal with an overload resolution ambiguity of functions with generics?", "body": "<p>Consider this class with two functions, one with <code>Int</code> argument, the other with a generic one:</p>\n\n<pre><code>class C&lt;K, V&gt; {\n    // ...\n\n    operator fun f(index: Int): Pair&lt;K, V&gt; = ...\n    operator fun f(key: K): V = ...\n}\n</code></pre>\n\n<p>When it is parameterized as <code>C&lt;Int, SomeType&gt;</code>, <code>K</code> is <code>Int</code>, and both functions match the calls, resulting into an error:</p>\n\n<pre><code>val m = C&lt;Int, SomeType&gt;()\nm.f(1)\n</code></pre>\n\n<blockquote>\n  <p>Overload resolution ambiguity. All these functions match:</p>\n  \n  <ul>\n  <li><code>public final fun f(index: Int): SomeType</code> defined in <code>C</code></li>\n  <li><code>public final fun f(key: Int): Pair&lt;Int, SomeType&gt;?</code> defined in <code>C</code></li>\n  </ul>\n</blockquote>\n\n<p><strong>How do I call whichever <code>f</code> I want in this case?</strong></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": false, "score": 1, "last_activity_date": 1479734422, "creation_date": 1479734422, "answer_id": 40721187, "question_id": 40721131, "link": "https://stackoverflow.com/questions/40721131/kotlin-override-implement-array-like-accessor-function/40721187#40721187", "title": "Kotlin - Override/Implement array-like accessor function", "body": "<p>You have to override get().</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/operator-overloading.html</a></p>\n\n<pre><code>a[i] translates to a.get(i)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 5, "last_activity_date": 1479734423, "creation_date": 1479734423, "answer_id": 40721189, "question_id": 40721131, "link": "https://stackoverflow.com/questions/40721131/kotlin-override-implement-array-like-accessor-function/40721189#40721189", "title": "Kotlin - Override/Implement array-like accessor function", "body": "<p>As stated in <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"noreferrer\">the documentation</a> the <code>a[i]</code> is translated to <code>a.get(i)</code>. In example:</p>\n\n<pre><code>class MyObject {\n    operator fun get(ix:Int):String{\n        return \"hello $ix\"\n    }\n}\n</code></pre>\n\n<p>Let's you write: </p>\n\n<pre><code>val a = MyObject()\nprintln(a[123]) //-&gt; \"hello 123\"\n</code></pre>\n\n<p>Similarly <code>a[i] = b</code> is translated to a method call <code>a.set(i, b)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 21, "last_activity_date": 1479740758, "last_edit_date": 1479740758, "creation_date": 1479734897, "answer_id": 40721360, "question_id": 40721131, "link": "https://stackoverflow.com/questions/40721131/kotlin-override-implement-array-like-accessor-function/40721360#40721360", "title": "Kotlin - Override/Implement array-like accessor function", "body": "<p>In Kotlin, it is <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#binary-operations\" rel=\"noreferrer\"><code>get</code> and <code>set</code> operator functions</a> that you need to implement:</p>\n\n<pre><code>class C {\n    operator fun get(s: String, x: Int) = s + x\n    operator fun set(x: Int, y: Int, value: String) {\n        println(\"Putting $value at [$x, $y]\")\n    }\n}\n</code></pre>\n\n<p>And the usage:</p>\n\n<pre><code>val c = C()\nval a = c[\"123\", 4] // \"1234\"\nc[1, 2] = \"abc\" // Putting abc at [1, 2]\n</code></pre>\n\n<p>You can define <code>get</code> and <code>set</code> with arbitrary number of parameters for <em>indices</em> (at least one, of course); in addition, <code>set</code> has the expression which is assigned at the use site passed as its last argument:</p>\n\n<ul>\n<li><p><code>a[i_1, ..., i_n]</code> is translated to <code>a.get(i_1, ..., i_n)</code></p></li>\n<li><p><code>a[i_1, ..., i_n] = b</code> is translated to <code>a.set(i_1, ..., i_n, b)</code></p></li>\n</ul>\n\n<p><code>get</code> and <code>set</code> can have different overloads as well, for example:</p>\n\n<pre><code>class MyOrderedMap&lt;K, V&gt; {\n    // ...\n\n    operator fun get(index: Int): Pair&lt;K, V&gt; = ... // i-th added mapping\n    operator fun get(key: K): V = ... // value by key\n}\n</code></pre>\n\n<p><sup>Note: this example introduces undesirable ambiguity for <code>MyOrderedMap&lt;Int, SomeType&gt;</code> since both <code>get</code> functions will match calls like <code>m[1]</code>.</sup></p>\n"}], "owner": {"reputation": 1635, "user_id": 3918512, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001599098944/picture?type=large", "display_name": "Robin Nabel", "link": "https://stackoverflow.com/users/3918512/robin-nabel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3328, "favorite_count": 1, "accepted_answer_id": 40721360, "answer_count": 3, "score": 15, "last_activity_date": 1479740758, "creation_date": 1479734215, "question_id": 40721131, "link": "https://stackoverflow.com/questions/40721131/kotlin-override-implement-array-like-accessor-function", "title": "Kotlin - Override/Implement array-like accessor function", "body": "<p>Is it possible to override or implement the <code>[]</code> accessors in Kotlin (using operator overloading or similar)?</p>\n\n<pre><code>val testObject = MyCustumObject()\nprintln(testObject[\"hi\"])  // i.e. implement this accessor.\n</code></pre>\n\n<p>In Python this is possible by implementing <code>__getitem__</code> and <code>__setitem__</code>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 1, "last_activity_date": 1479807954, "last_edit_date": 1495541898, "creation_date": 1479731782, "answer_id": 40720362, "question_id": 40720361, "link": "https://stackoverflow.com/questions/40720361/how-to-propagate-default-arguments-between-functions-in-kotlin/40720362#40720362", "title": "How to propagate default arguments between functions in Kotlin?", "body": "<p><sub>Answering my own question as encouraged by <a href=\"https://stackoverflow.com/help/self-answer\">the guidelines</a>.</sub></p>\n\n<hr>\n\n<p>What you can do, is declare the parameters in the calling functions as nullable and use <code>null</code> as the default argument:</p>\n\n<pre><code>fun foo2(bar: String? = null: Int? = null) {\n    // do stuff\n    foo(bar, baz)\n}\n\nfun foo3(bar: String? = null, baz: Int? = null) {\n    // do other stuff\n    foo(bar, baz)\n}\n</code></pre>\n\n<p>Then, use one of the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">elvis operator</a> to use default values, when <code>null</code> is provided.</p>\n\n<pre><code>fun foo(bar: String? = null, baz: Int? = null) {\n    val realBar = bar ?: \"ABC\"\n    val realBaz = baz ?: 42\n}\n</code></pre>\n\n<p>If you're dealing with a class instead of a function, you can pull out the property of the constructor and assign the default value there:</p>\n\n<pre><code>class Foo(bar: String? = null, baz: Int? = null) {\n    val bar = bar ?: \"ABC\"\n    val baz = baz ?: 42\n}\n</code></pre>\n\n<p>Alternatively, say if your class is a <code>data class</code> and you want to have the properties in the primary constructor, you can declare a factory method to handle the default values:</p>\n\n<pre><code>class Foo(val bar: String, baz: Int) {\n    companion object {\n        fun create(bar: String? = null, baz: Int? = null) = Foo(bar ?: \"ABC\", baz ?: 42)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1479778711, "last_edit_date": 1479778711, "creation_date": 1479732961, "answer_id": 40720751, "question_id": 40720361, "link": "https://stackoverflow.com/questions/40720361/how-to-propagate-default-arguments-between-functions-in-kotlin/40720751#40720751", "title": "How to propagate default arguments between functions in Kotlin?", "body": "<p>Instead of having three functions with the same default arguments:</p>\n\n<pre><code>fun foo(bar: String = \"ABC\", baz: Int = 42)\nfun foo2(bar: String = \"ABC\", baz: Int = 42)\nfun foo3(bar: String = \"ABC\", baz: Int = 42)\n</code></pre>\n\n<p>Create a wrapper class that takes in the arguments, and have the functions without parameters:</p>\n\n<pre><code>class Foo(val bar: String = \"ABC\", val baz: Int = 42) {\n\n  fun foo() { /* ... */ }\n\n  fun foo2() {\n    // ...\n    foo()\n  }\n\n  fun foo3() {\n    // ...\n    foo()\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1479778384, "last_edit_date": 1495540973, "creation_date": 1479778384, "answer_id": 40732402, "question_id": 40720361, "link": "https://stackoverflow.com/questions/40720361/how-to-propagate-default-arguments-between-functions-in-kotlin/40732402#40732402", "title": "How to propagate default arguments between functions in Kotlin?", "body": "<p>If you have multiple functions taking the same arguments (with the same default values), then that is a code-smell suggesting that those parameters are closely related and should live inside their own class.</p>\n\n<pre><code>data class FooArgs( val bar: String = \"ABC\", val baz: Int = 42 )\n\nfun foo( args: FooArgs = FooArgs() ) { /* ... */}\n\nfun foo2( args: FooArgs = FooArgs() ) {\n  ...\n  foo(args)\n}\n\nfun foo3( args: FooArgs = FooArgs() ) {\n  ...\n  foo(args)\n}\n</code></pre>\n\n<p>If <code>foo</code> and/or <code>foo2</code>, <code>foo3</code> only use their arguments, then further refactoring would move <code>foo</code> and <code>foo2</code> into the <code>FooArgs</code> class, resulting in a similar solution to <a href=\"https://stackoverflow.com/a/40720751/221955\">the answer by @nhaarman </a> </p>\n"}], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1479807954, "creation_date": 1479731782, "question_id": 40720361, "link": "https://stackoverflow.com/questions/40720361/how-to-propagate-default-arguments-between-functions-in-kotlin", "title": "How to propagate default arguments between functions in Kotlin?", "body": "<p>Kotlin has <a href=\"https://kotlinlang.org/docs/reference/functions.html#default-arguments\" rel=\"noreferrer\">default arguments for function and constructor parameters</a>. Now, I have a function </p>\n\n<pre><code>fun foo(bar: String = \"ABC\", baz: Int = 42) {}\n</code></pre>\n\n<p>and I want to call it from different places but also retain the possibility to not pass on of the arguments and instead use the default value.</p>\n\n<p>I know, I can declare the default arguments in the calling functions</p>\n\n<pre><code>fun foo2(bar: String = \"ABC\", baz: Int = 42) {\n    // do stuff\n    foo(bar, baz)\n}\n\nfun foo3(bar: String = \"ABC\", baz: Int = 42) {\n    // do other stuff\n    foo(bar, baz)\n}\n</code></pre>\n\n<p>but now my default parameter in <code>foo</code> is pointless as it's always overwriten and I have duplicated the default arguments in all calling functions. That's not very DRY.</p>\n\n<p>Is there a better way to propagate the default arguments?</p>\n"}, {"tags": ["java", "nullpointerexception", "kotlin", "getter", "non-nullable"], "comments": [{"owner": {"reputation": 823, "user_id": 3702728, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nbzi4.png?s=128&g=1", "display_name": "succcubbus", "link": "https://stackoverflow.com/users/3702728/succcubbus"}, "edited": false, "score": 2, "creation_date": 1479721206, "post_id": 40716841, "comment_id": 68660982, "body": "put <code>lateinit</code> before your variable, it basically means, don&#39;t bother how but I ensure it will be initialized"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479721225, "post_id": 40716841, "comment_id": 68660994, "body": "Does <a href=\"https://stackoverflow.com/questions/32038177/kotlin-with-jpa-default-constructor-hell\">this similar problem in hibernate and solution</a> help?"}], "answers": [{"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 4, "creation_date": 1479729168, "post_id": 40717061, "comment_id": 68665748, "body": "<code>lateinit</code> is the correct thing to do in this case; no need to bother with a second property."}, {"owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "edited": false, "score": 0, "creation_date": 1479730892, "post_id": 40717061, "comment_id": 68666793, "body": "Thanks, <code>lateinit</code> is what I need"}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1479733364, "post_id": 40717061, "comment_id": 68668471, "body": "@yole Everybody his own, I have a personal dislike against <code>lateinit</code> for some reason."}, {"owner": {"reputation": 396, "user_id": 3712710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e2e2a6aa9e828fc71a097d1ffc8316?s=128&d=identicon&r=PG&f=1", "display_name": "Rocoty", "link": "https://stackoverflow.com/users/3712710/rocoty"}, "edited": false, "score": 0, "creation_date": 1479838301, "post_id": 40717061, "comment_id": 68723327, "body": "&quot;I personally use a private var prefixed by _ + public val in similiar situation&quot;.   What is the difference between this and a public var with a private setter? Is there one?"}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 2, "creation_date": 1479848799, "post_id": 40717061, "comment_id": 68729359, "body": "A getter/setter can&#39;t override it&#39;s parent var/val&#39;s type, so anybody consuming the getter would still have to non-null assert (<code>!!</code>) the return value."}], "tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 4, "last_activity_date": 1533338984, "last_edit_date": 1533338984, "creation_date": 1479721430, "answer_id": 40717061, "question_id": 40716841, "link": "https://stackoverflow.com/questions/40716841/kotlin-nonnull-getter-for-a-nullable-field/40717061#40717061", "title": "Kotlin - nonnull getter for a nullable field", "body": "<p>I personally use a private var prefixed by <code>_</code> + public val in similiar situations.</p>\n\n<pre><code>class Example&lt;out T&gt; {\n  private var _id: T? = null\n  val id: T\n    get() = _id!!\n}\n</code></pre>\n\n<p>For your situation, it would look like this:</p>\n\n<pre><code>@org.mongodb.morphia.annotations.Id\nprivate var _id: ObjectId? = null\nval id: ObjectId\n  get() = _id!!\n</code></pre>\n\n<hr>\n\n<p>Alternatively, declare your variable as <code>lateinit</code> like this (but note that this exposes the setter publicly):</p>\n\n<pre><code>@org.mongodb.morphia.annotations.Id\nlateinit var id: ObjectId\n</code></pre>\n"}], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3319, "favorite_count": 1, "accepted_answer_id": 40717061, "answer_count": 1, "score": 8, "last_activity_date": 1533338984, "creation_date": 1479720792, "question_id": 40716841, "link": "https://stackoverflow.com/questions/40716841/kotlin-nonnull-getter-for-a-nullable-field", "title": "Kotlin - nonnull getter for a nullable field", "body": "<p>I'm new with Kotlin and I try to rework a small Java project to this new language. I use mongodb in my project and I have a class, for example:</p>\n\n<pre><code>class PlayerEntity {\n\n  constructor() {} //for mongodb to create an instance\n\n  constructor(id: ObjectId, name: String) { //used in code\n    this.id = id\n    this.name = name\n  }\n\n  @org.mongodb.morphia.annotations.Id\n  var id: ObjectId? = null\n\n  var name: String? = null\n}\n</code></pre>\n\n<p>I have to mark <code>id</code> field as nullable (<code>var id: ObjectId?</code>) because of empty constructor. When I try to access this field from another class I have to use non-null check: <code>thePlayer.id!!</code>. But the logic of my application is that <code>id</code> field is never null (mongo creates an instance of Player and immediately sets id field). And I don't want to make a non-null check everywhere.</p>\n\n<p>I tried to make a non-null getter, but it does not compile:</p>\n\n<pre><code>var id: ObjectId? = null\n    get(): ObjectId = id!!\n</code></pre>\n\n<p>I can also make some stub for id and use it in constructor, but this looks like a dirty hack:</p>\n\n<pre><code>val DUMMY_ID = new ObjectId(\"000000000000000000000000\");\n</code></pre>\n\n<p>So is there a workaround to solve the issue?</p>\n"}, {"tags": ["kotlin", "finally", "unreachable-code"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1479720674, "post_id": 40716499, "comment_id": 68660651, "body": "You&#39;re not supposed to return from a finally block. Since a finally block is always run, what is return will supersede what is returned from the try or catch block, effectively making the return in the try or catch block unreachable, and swallowing exceptions thrown from the method. Don&#39;t return from the finally block: it&#39;s bad practice. A finally block is useful to always close resources, or do some other cleanup."}], "answers": [{"comments": [{"owner": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "edited": false, "score": 0, "creation_date": 1522326735, "post_id": 40716842, "comment_id": 86119686, "body": "finally is <code>not always executed</code> in <code>kotlin</code>, you can use <code>suspendCoroutineOrReturn</code> in you try block, and return <code>COROUTINE_SUSPENDED</code> as the return value in your block thus to execute the try block without the finally block, the JB team says it&#39;s by design <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#resource-management-and-gc\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 2, "last_activity_date": 1479720796, "last_edit_date": 1495541624, "creation_date": 1479720796, "answer_id": 40716842, "question_id": 40716499, "link": "https://stackoverflow.com/questions/40716499/kotlin-unreachable-code-when-using-finally-and-enum/40716842#40716842", "title": "kotlin unreachable code when using finally and enum", "body": "<p><code>finally</code> blocks <em>always</em> execute (unless you call <code>System.exit()</code> inbetween), so your return value in your finally block will always override your try/catch return values. See also: <a href=\"https://stackoverflow.com/q/464098/7079453\">Does a finally block always run?</a></p>\n\n<p>\"Unreachable code\" is misleading here, it should be called \"return value is always overwritten by finally block\".</p>\n"}], "owner": {"reputation": 585, "user_id": 5349594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cZyUPWFLjFY/AAAAAAAAAAI/AAAAAAAAAAA/48_D2SK1SQM/photo.jpg?sz=128", "display_name": "Marius Kaunietis", "link": "https://stackoverflow.com/users/5349594/marius-kaunietis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 40716842, "answer_count": 1, "score": -1, "last_activity_date": 1479720796, "creation_date": 1479719794, "question_id": 40716499, "link": "https://stackoverflow.com/questions/40716499/kotlin-unreachable-code-when-using-finally-and-enum", "title": "kotlin unreachable code when using finally and enum", "body": "<p>I've encoutered such issue, that android studio warns me about unreachable code. I don't understand, how it is unreachable.</p>\n\n<p>My original code: </p>\n\n<pre><code>        try {\n            return BasketProvider.valueOf(prefs.getString(KEY_BASKET_PROVIDER, null)) //unreachable code here\n        } finally {\n            return BasketProvider.LOCAL\n        }\n</code></pre>\n\n<p>If I change finally to <code>catch(e :IllegalArgumentException)</code>, there's no warning. If I combine all of them, the warning appears again.</p>\n\n<pre><code>        try {\n            return BasketProvider.valueOf(prefs.getString(KEY_BASKET_PROVIDER, null))//no warning\n        } catch (e: IllegalArgumentException) {\n            return BasketProvider.LOCAL\n        }\n        --------------------------------\n        try {\n            return BasketProvider.valueOf(prefs.getString(KEY_BASKET_PROVIDER, null))//unreachable code\n        } catch (e: IllegalArgumentException) {\n            return BasketProvider.LOCAL //unreachable code\n        } finally {\n            return BasketProvider.LOCAL\n        }\n</code></pre>\n\n<p>Is this a Kotlin bug, or am I missing something?</p>\n\n<p>EDIT: </p>\n\n<p>Basket provider is simple enum class:</p>\n\n<pre><code>enum class BasketProvider {\n    LOCAL, SHARED\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 6859044, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e5af267e8369d783ffd49460e47a9301?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Theodore", "link": "https://stackoverflow.com/users/6859044/simon-theodore"}, "edited": false, "score": 0, "creation_date": 1479786463, "post_id": 40716151, "comment_id": 68693583, "body": "Thanks! Idea and kotlin are first class - great work!"}, {"owner": {"reputation": 9728, "user_id": 334493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/93ad7552a203f15cfa3776d5d53a7d5a?s=128&d=identicon&r=PG", "display_name": "Benoit Duffez", "link": "https://stackoverflow.com/users/334493/benoit-duffez"}, "reply_to_user": {"reputation": 383, "user_id": 6859044, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e5af267e8369d783ffd49460e47a9301?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Theodore", "link": "https://stackoverflow.com/users/6859044/simon-theodore"}, "edited": false, "score": 1, "creation_date": 1528098167, "post_id": 40716151, "comment_id": 88360790, "body": "@SimonTheodore you might want to accept the answer."}, {"owner": {"reputation": 928, "user_id": 7212836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7BHs.jpg?s=128&g=1", "display_name": "Evgenii Vorobei", "link": "https://stackoverflow.com/users/7212836/evgenii-vorobei"}, "edited": false, "score": 0, "creation_date": 1550318961, "post_id": 40716151, "comment_id": 96230088, "body": "So, how big teams should work with undefined order? Everything must be unified to improve code-review speed. @yole,  how to affect on &quot;indication that code rearranging is in high demand&quot;? Or how to implement custom solution? Where to look at first?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1551195629, "post_id": 40716151, "comment_id": 96547380, "body": "I am working in a big team and I see no impact of unified member ordering on code review speed. For reviewing code, it&#39;s important that code is arranged in a logical order in a file, not in an alphabetical order, and it&#39;s not possible to arrange code in a logical order using an automated tool."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 13, "last_activity_date": 1479718682, "creation_date": 1479718682, "answer_id": 40716151, "question_id": 40712272, "link": "https://stackoverflow.com/questions/40712272/why-doesnt-rearrange-code-work-in-kotlin-files-in-intellij/40716151#40716151", "title": "Why doesn&#39;t rearrange code work in Kotlin files in Intellij?", "body": "<p>The reason why the feature does not work is simple: because it has not been implemented. IntelliJ's current Java support feature set has been developed over more than 15 years, and replicating all of Java support features in a new language plugin takes time. We're prioritizing features in the Kotlin plugin for IntelliJ IDEA based on user feedback and language evolution requirements, and so far we haven't seen an indication that code rearranging is in high demand.</p>\n\n<p>Specifically the issue of placing properties by the Create from Usage fix can be fixed with relatively little effort, and doesn't require a full rearrange implementation. I've filed <a href=\"https://youtrack.jetbrains.com/issue/KT-14886\" rel=\"noreferrer\">an issue</a> for it.</p>\n"}], "owner": {"reputation": 383, "user_id": 6859044, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e5af267e8369d783ffd49460e47a9301?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Theodore", "link": "https://stackoverflow.com/users/6859044/simon-theodore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 1, "answer_count": 1, "score": 13, "last_activity_date": 1479718682, "creation_date": 1479698616, "question_id": 40712272, "link": "https://stackoverflow.com/questions/40712272/why-doesnt-rearrange-code-work-in-kotlin-files-in-intellij", "title": "Why doesn&#39;t rearrange code work in Kotlin files in Intellij?", "body": "<p>I love Jetbrain's Idea IDE and its ergonomics. One of my favorite tools is idea's rearrange code 'action'(you can bring it up by hitting <code>ctrl+shift+a</code>). It rearranges the code in the java file to put methods in alphabetical order and order the fields in an organized fashion that the user defines. For whatever reason, it doesn't work with Jetbrain's own language, kotlin :(. This sucks even more with the fact that kotlin quickfixes the fields right <em>above</em> the method instead of the beginning of the file like most java files. When is Idea going to support rearrange code for kotlin files?</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-aop", "kotlin-interop"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1479680334, "post_id": 40709667, "comment_id": 68648165, "body": "In runtime checked exceptions doesn&#39;t exists. And checked exceptions exists only in compile time. Please show stack trace of <code>UndeclaredThrowableException</code>."}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1479680793, "post_id": 40709667, "comment_id": 68648299, "body": "@IRus Question updated with stack trace - <code>EntityValidationException</code> is thrown intentionally, but problem is with <code>UndeclaredThrowableException</code> - <code>EntityValidationException</code> is written also in Kotlin and I will update question with its code within few seconds."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479680954, "post_id": 40709667, "comment_id": 68648334, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws</a>"}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1479681730, "post_id": 40709667, "comment_id": 68648563, "body": "@JBNizet Thank you, but unfortunately it didn&#39;t help, annotation <code>@Throws(EntityValidationException::class)</code> don&#39;t work on <code>validate</code> method of <code>ValidatorAdvisor</code>. Maybe reason is that I use also <code>@Around</code> annotation, but even when I separate code to private method with annotation <code>@Throws</code> it didn&#39;t work either."}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "edited": false, "score": 0, "creation_date": 1479682558, "post_id": 40709667, "comment_id": 68648807, "body": "Maybe problem is that I created <code>@Aspect</code> <code>@Around</code> Spring Data repository?"}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1479682897, "post_id": 40709667, "comment_id": 68648908, "body": "Downloaded your project and can&#39;t find this test in it. Can you publish it as well?"}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1479683026, "post_id": 40709667, "comment_id": 68648950, "body": "@IRus I see test in repo: <a href=\"https://github.com/radek-anuszewski/film-site/blob/master/src/main/test/ActorValidationTest.java\" rel=\"nofollow noreferrer\">github.com/radek-anuszewski/film-site/blob/master/src/main/t&zwnj;&#8203;est/&hellip;</a> - first test in test class."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479683098, "post_id": 40709667, "comment_id": 68648972, "body": "You&#39;re trying to make the method save() or your repository throw a checked exception that it doesn&#39;t declare. So even if the aspect declares it, that can&#39;t work. You need to make your exception extend RuntimeException."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479683205, "post_id": 40709667, "comment_id": 68649005, "body": "That said, I&#39;m not sure what you&#39;re trying to achieve with this: Hibernate validator can validate entities before they are saved, and most of the time, changes to entities are made without ever calling save(), thus bypassing your checks."}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479683240, "post_id": 40709667, "comment_id": 68649014, "body": "@JBNizet Thank you -  when <code>EntityValidationException</code> extends <code>RuntimeException</code> it worked, please place your comment as regular answer and then I can accept it."}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479683504, "post_id": 40709667, "comment_id": 68649083, "body": "@JBNizet as far as I know, in situation you describe changes to entities are made when transaction ends, and when I throw an exception it will be rolled back and changes would not be saved - but I may be wrong, cause I am front-end guy and don&#39;t do Hibernate/Spring profesionally."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479683816, "post_id": 40709667, "comment_id": 68649163, "body": "Yes, that&#39;s right. But that&#39;s not the problem. The problem is that if you do, for example <code>Actor actor = repo.findById(1L); actor.setName(null);</code>, you&#39;ll never call the repository save() method, and the unwanted change will thus bypass your valication check and be saved in the database."}, {"owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479684397, "post_id": 40709667, "comment_id": 68649330, "body": "@JBNizet I always try to do explicite saves/updated (<code>save()</code> or <code>update()</code> ale always called), but you are right I didn&#39;t know about that, I have to validate DTOs or create another object which will be validated - thank you very much for pointing the problem."}], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 2, "last_activity_date": 1479683274, "creation_date": 1479683274, "answer_id": 40710507, "question_id": 40709667, "link": "https://stackoverflow.com/questions/40709667/junit-controlleradvice-and-lack-of-checked-exceptions-in-kotlin/40710507#40710507", "title": "JUnit, @ControllerAdvice and lack of checked exceptions in Kotlin", "body": "<p>You're trying to make the method <code>save()</code> or your repository throw a checked exception that it doesn't declare. So even if the aspect declares it, that can't work. You need to make your exception extend <code>RuntimeException</code>.</p>\n"}], "owner": {"reputation": 1620, "user_id": 3368498, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e03e91b5e921f3c22e3d0688f3fd29a5?s=128&d=identicon&r=PG&f=1", "display_name": "Radek Anuszewski", "link": "https://stackoverflow.com/users/3368498/radek-anuszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 40710507, "answer_count": 1, "score": 0, "last_activity_date": 1479683274, "creation_date": 1479677827, "last_edit_date": 1479682503, "question_id": 40709667, "link": "https://stackoverflow.com/questions/40709667/junit-controlleradvice-and-lack-of-checked-exceptions-in-kotlin", "title": "JUnit, @ControllerAdvice and lack of checked exceptions in Kotlin", "body": "<p>I wrote a <a href=\"http://www.mkyong.com/spring3/spring-aop-aspectj-annotation-example/\" rel=\"nofollow noreferrer\">validation advisor</a> in Kotlin which throws <code>EntityValidationException</code> when validation fails:</p>\n\n<pre><code>@Aspect\n@Named\nclass ValidationAdvisor\n@Inject constructor(val validator: EntityValidator) {\n    @Around(EVERY_SAVE_AND_UPDATE_TO_DATABASE)\n    fun validate(point: ProceedingJoinPoint): Any {\n        val result: List&lt;ConstraintViolation&lt;Any&gt;&gt; = validator.validate(getEntity(point))\n        if (isEntityValid(result))\n            return point.proceed()\n\n        throw EntityValidationException(\n            violationInfos = result as List&lt;ConstraintViolationInfo&gt;\n        )\n    }\n\n    private fun getEntity(point: ProceedingJoinPoint): Any {\n        return point.args[0]\n    }\n\n    private fun isEntityValid(result: List&lt;ConstraintViolation&lt;Any&gt;&gt;): Boolean {\n        return result.isEmpty()\n    }\n\n    companion object {\n        const val EVERY_SAVE_AND_UPDATE_TO_DATABASE = \"execution(* beans.repositories.BaseRepository.save(..))\"\n    }\n}\n</code></pre>\n\n<p>I have a JUnit test (I write some parts in Kotlin and some in Java, to learn Kotlin in existing private project) which checks if exception is thrown:</p>\n\n<pre><code>@Test(expected = EntityValidationException.class)\npublic void test_WhenNameIsNotPresent_ThenExceptionIsThrown() throws Exception {\n    repository.save(/* entity to save */);\n}\n</code></pre>\n\n<p>But then I saw that test fails because it throws <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/UndeclaredThrowableException.html\" rel=\"nofollow noreferrer\">UndeclaredThrowableException</a> instead of <code>EntityValidationException</code>. Next, I read that <a href=\"https://kotlinlang.org/docs/reference/exceptions.html#checked-exceptions\" rel=\"nofollow noreferrer\" title=\"Kotlin does not have checked exception\">Kotlin does not have checked exception</a>. I think not only me have this problem - I am pretty sure that <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc#global-exception-handling\" rel=\"nofollow noreferrer\" title=\"Spring handling exceptions with @ControllerAdvice\">way of handling exceptions with @ControllerAdvice in Spring and Java</a> also may be problematic when we decide to switch to Kotlin in production projects - because it rely on class which is thrown, and throwing <code>UndeclaredThrowableException</code> take away from us this possibility. Is there a way to by-pass this behaviour, to make sure that is possible to switch to Kotlin and <em>old</em> Spring way of handling exceptions (and unit tests for <code>ValidationAdvisor</code>) will remain unchanged? Thank you in advance for any help.</p>\n\n<p><strong>P.S.</strong> Github repo for project is available here: <a href=\"https://github.com/radek-anuszewski/film-site\" rel=\"nofollow noreferrer\">Playgroud for Kotlin, Spring Data etc.</a>.</p>\n\n<p><strong>P.S.2</strong> Stacktrace:</p>\n\n<pre><code>at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.lang.reflect.UndeclaredThrowableException\n    at com.sun.proxy.$Proxy65.save(Unknown Source)\n    at ActorValidationTest.test_WhenNameIsNotPresent_ThenExceptionIsThrown(ActorValidationTest.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)\n    ... 26 more\nCaused by: beans.validator.exceptions.EntityValidationException\n    at beans.aop.validation.ValidationAdvisor.validate(ValidationAdvisor.kt:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    ... 37 more\n</code></pre>\n\n<p>For me looks like <code>EntityValidationException</code> (which I want to be thrown) causes <code>UndeclaredThrowableException</code>.\n<code>EntityValidationException</code> Kotlin class code:</p>\n\n<pre><code>package beans.validator.exceptions\n\nimport beans.validator.constraintViolation.ConstraintViolationInfo\n\nclass EntityValidationException (val violationInfos: List&lt;ConstraintViolationInfo&gt;) : Exception() {\n}\n</code></pre>\n\n<p><strong>P.S.3</strong> This also didn't work:</p>\n\n<pre><code>@Around(EVERY_SAVE_AND_UPDATE_TO_DATABASE)\n@Throws(EntityValidationException::class)\nfun validate(point: ProceedingJoinPoint): Any /* rest of code*/\n</code></pre>\n\n<p><strong>P.S.4</strong> Maybe the problem is that <code>@Aspect</code> is <code>@Around</code> Spring Data repository?</p>\n\n<pre><code>companion object {\n        const val EVERY_SAVE_AND_UPDATE_TO_DATABASE = \"execution(* beans.repositories.BaseRepository.save(..))\"\n    }\n....\n@NoRepositoryBean\npublic interface BaseRepository&lt;ENTITY, IDENTIFIER extends Serializable&gt;\n        extends JpaRepository&lt;ENTITY, IDENTIFIER&gt;, JpaSpecificationExecutor&lt;ENTITY&gt; {\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 823, "user_id": 3702728, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nbzi4.png?s=128&g=1", "display_name": "succcubbus", "link": "https://stackoverflow.com/users/3702728/succcubbus"}, "edited": false, "score": 1, "creation_date": 1479721395, "post_id": 40699007, "comment_id": 68661086, "body": "that&#39;s a feature requested for Kotlin 1.1: <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/window-sliding.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/proposals/stdlib/&hellip;</a>"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1479738097, "post_id": 40699007, "comment_id": 68671669, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/q/34498368/3255152\">stackoverflow.com/q/34498368/3255152</a>"}, {"owner": {"reputation": 6306, "user_id": 242582, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b3ecd14ae91c10433678cad8e68f7a53?s=128&d=identicon&r=PG", "display_name": "carpeliam", "link": "https://stackoverflow.com/users/242582/carpeliam"}, "edited": false, "score": 3, "creation_date": 1500472285, "post_id": 40699007, "comment_id": 77352529, "body": "If you&#39;re looking to partition into <i>two</i> parts, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/partition.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a> would do what you want to do. e.g. <code>list.partition { x -&gt; x &lt; 4 }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4788, "user_id": 1201235, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/2fade007cdd085093b0ffb70ede3e900?s=128&d=identicon&r=PG", "display_name": "EdH", "link": "https://stackoverflow.com/users/1201235/edh"}, "is_accepted": false, "score": 2, "last_activity_date": 1479602440, "last_edit_date": 1479602440, "creation_date": 1479598365, "answer_id": 40699059, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts/40699059#40699059", "title": "Divide list into parts", "body": "<p>The API says there is a GroupBy function, which should do what you want.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html</a></p>\n\n<p>Or use sublist and break it up yourself </p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/sub-list.html\" rel=\"nofollow\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/sub-list.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1479739459, "post_id": 40701495, "comment_id": 68672580, "body": "For <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\"><code>groupBy</code></a>, &quot;the returned map preserves the entry iteration order of the keys produced from the original collection.&quot; As such, your first example can be simplified to <code>list.groupBy { (it + 1) &#47; 2 }.values</code>."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1479739532, "post_id": 40701495, "comment_id": 68672646, "body": "Kotlin has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html\" rel=\"nofollow noreferrer\"><code>withIndex</code></a> which can make your second example a bit more readable as well: <code>list.withIndex().groupBy { it.index &#47; 2 }.values.map { it.map { it.value } }</code>."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1479759907, "post_id": 40701495, "comment_id": 68684586, "body": "@mfulton26 thanks for the notice, updated the answer accordingly."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 32, "last_activity_date": 1479759880, "last_edit_date": 1479759880, "creation_date": 1479624912, "answer_id": 40701495, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts/40701495#40701495", "title": "Divide list into parts", "body": "<p>Given the list: <code>val list = listOf(1, 2, 3, 4, 5, 6)</code> you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"noreferrer\"><code>groupBy</code></a>:</p>\n\n<pre><code>list.groupBy { (it + 1) / 2 }.map { it.value }\n</code></pre>\n\n<p>Or if your values are not numbers you can first assign an index to them:</p>\n\n<pre><code>list.withIndex()\n    .groupBy { it.index / 2 }\n    .map { it.value.map { it.value } }\n</code></pre>\n\n<p>Or if you'd like to save some allocations you can go a bit more manual way with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-indexed.html\" rel=\"noreferrer\">foldIndexed</a>:</p>\n\n<pre><code>list.foldIndexed(ArrayList&lt;ArrayList&lt;Int&gt;&gt;(list.size / 2)) { index, acc, item -&gt;\n    if (index % 2 == 0) {\n        acc.add(ArrayList(2))\n    }\n    acc.last().add(item)\n    acc\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 2927901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/362367621070baf16a548e54e833106a?s=128&d=identicon&r=PG&f=1", "display_name": "VasyaFromRussia", "link": "https://stackoverflow.com/users/2927901/vasyafromrussia"}, "is_accepted": false, "score": 67, "last_activity_date": 1516707017, "creation_date": 1516707017, "answer_id": 48400664, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts/48400664#48400664", "title": "Divide list into parts", "body": "<p>Since Kotlin 1.2 you can use <code>Iterable&lt;T&gt;.chunked(size: Int): List&lt;List&lt;T&gt;&gt;</code> function from stdlib (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/chunked.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/chunked.html</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": false, "score": 21, "last_activity_date": 1528412971, "creation_date": 1528412971, "answer_id": 50751300, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts/50751300#50751300", "title": "Divide list into parts", "body": "<p>The better answer is actually the one authored by <a href=\"https://stackoverflow.com/users/2927901/vasyafromrussia\">VasyaFromRussia</a>.</p>\n\n<p>If you use <code>groupBy</code>, you will have to add and index and then post-process extracting the value from an <code>IndexedValue</code> object.</p>\n\n<p>If you use <code>chunked</code>, you simply need to write:</p>\n\n<pre><code>val list = listOf(10, 2, 3, 4, 5, 6)\nval chunked = list.chunked(2)\nprintln(chunked)\n</code></pre>\n\n<p>This prints out:</p>\n\n<pre><code>[[10, 2], [3, 4], [5, 6]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "is_accepted": false, "score": 6, "last_activity_date": 1545213958, "creation_date": 1545213958, "answer_id": 53848849, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts/53848849#53848849", "title": "Divide list into parts", "body": "<p>Nice way of dividing list is by the use of function <code>partition</code>. Unlike <code>groupBy</code> it doesn't divide list by keys but rather by predicate which gives out <code>Pair&lt;List, List&gt;</code> as a result.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>val (favorited, rest) = posts.partition { post -&gt;\n    post.isFavorited()\n}\nfavoritedList.addAll(favorited)\npostsList.addAll(rest)\n</code></pre>\n"}], "owner": {"reputation": 2626, "user_id": 4495175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zycJD.jpg?s=128&g=1", "display_name": "Letfar", "link": "https://stackoverflow.com/users/4495175/letfar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18184, "favorite_count": 3, "accepted_answer_id": 40701495, "answer_count": 5, "score": 34, "last_activity_date": 1545213958, "creation_date": 1479597914, "question_id": 40699007, "link": "https://stackoverflow.com/questions/40699007/divide-list-into-parts", "title": "Divide list into parts", "body": "<p>Is there a simple way to divide list into parts (maybe some lambda) in Kotlin?</p>\n\n<p>For example:</p>\n\n<pre><code>[1, 2, 3, 4, 5, 6] =&gt; [[1, 2], [3, 4], [5, 6]]\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1479603402, "post_id": 40696526, "comment_id": 68628104, "body": "Could you also expand in the question how the java getter method looks like?"}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1479606305, "post_id": 40696526, "comment_id": 68628633, "body": "ok, done... do you think the problem is that the getter returns <code>@NotNull</code> but the setter&#39;s parameter is <code>@Nullable</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1479652017, "post_id": 40704767, "comment_id": 68638133, "body": "yes, that is how I wanted the java class to behave. If the setter was passed a null then <code>DefaultAllocMethod</code> would be used (returned from the getter). oh well, I guess this is fine for java but not compatible with Kotlin. I still don&#39;t really understand the error message, what this has to do with *val being reasssigned<code>. Maybe in this day and age my method of programming is rather stupid (using this type of lazy initialization), I think I&#39;ll just create a </code>DefaultAllocMethod` to initialize the <code>allocMethod</code> property, that way everything can be `@NotNull``"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1479655549, "post_id": 40704767, "comment_id": 68639331, "body": "That will probably be better. Anyways, please see my edit"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 8, "last_activity_date": 1479655510, "last_edit_date": 1479655510, "creation_date": 1479649682, "answer_id": 40704767, "question_id": 40696526, "link": "https://stackoverflow.com/questions/40696526/strange-val-cannot-be-reassigned-error-when-setting-a-property-in-kotlin-of-a/40704767#40704767", "title": "Strange &quot;Val cannot be reassigned&quot; error when setting a property in Kotlin of a Java object", "body": "<p>Your setters's type <code>@Nullable AllocMethod</code>, which is Kotlin's <code>AllocMethod?</code>, does not match the getters type <code>@NotNull AllocMethod</code>, which is Kotlin's <code>AllocMethod</code></p>\n\n<p>What the error message means is that since the types do not match, only the getter is considered as a property. So from the Kotlin's point of view instead of a <code>var allocMethod</code> you have <code>val allocMethod</code> and <code>fun setAllocMethod(...)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1357, "user_id": 497400, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e48a1ce2f7edca3b63b0593de1203e5a?s=128&d=identicon&r=PG", "display_name": "Matthew Runo", "link": "https://stackoverflow.com/users/497400/matthew-runo"}, "is_accepted": false, "score": 0, "last_activity_date": 1497305167, "creation_date": 1497305167, "answer_id": 44509439, "question_id": 40696526, "link": "https://stackoverflow.com/questions/40696526/strange-val-cannot-be-reassigned-error-when-setting-a-property-in-kotlin-of-a/44509439#44509439", "title": "Strange &quot;Val cannot be reassigned&quot; error when setting a property in Kotlin of a Java object", "body": "<p>Remember that an <code>AllocMethod?</code> is an <code>Any?</code> and that an <code>AllocMethod</code> is an <code>Any</code>. That helps to understand why these getters and setters don't match up. </p>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3491, "favorite_count": 0, "accepted_answer_id": 40704767, "answer_count": 2, "score": 5, "last_activity_date": 1497305167, "creation_date": 1479580462, "last_edit_date": 1479937238, "question_id": 40696526, "link": "https://stackoverflow.com/questions/40696526/strange-val-cannot-be-reassigned-error-when-setting-a-property-in-kotlin-of-a", "title": "Strange &quot;Val cannot be reassigned&quot; error when setting a property in Kotlin of a Java object", "body": "<p>The strange thing is that my Kotlin code compiled fine before, when it looked like this in the java class <code>Allocator</code>:</p>\n\n<pre><code>public void setAllocMethod(@NotNull AllocMethod allocMethod) {\n    this.allocMethod = allocMethod;\n}\n</code></pre>\n\n<p>but when I changed the java class' setter to this:</p>\n\n<pre><code>public void setAllocMethod(@Nullable AllocMethod allocMethod) {\n    this.allocMethod= allocMethod;\n}\n</code></pre>\n\n<p>then when I compile the project, I get this Kotlin error in the kt file that calls the java object:</p>\n\n<blockquote>\n  <p>Val Cannot be Reassigned</p>\n</blockquote>\n\n<p><code>allocator.allocMethod = DefaultAllocMethod() // kotlin code</code></p>\n\n<p>also here is the java getter:</p>\n\n<pre><code>public @NotNull AllocMethod getAllocMethod() {\n        if (allocMethod == null) allocMethod = DefaultAllocMethod.newDefault();\n        return allocMethod;\n}\n</code></pre>\n\n<p><code>DefaultAllocMethod</code> is a java subclass of <code>AllocMethod</code></p>\n\n<p><code>allocator</code> is of type <code>Allocator</code>, which is a java class that has the getter and setter described above.</p>\n\n<p>Can anyone explain what is happening? thanks</p>\n"}, {"tags": ["java", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1479583749, "post_id": 40693666, "comment_id": 68623352, "body": "Can you please post the code for your components and Application. I am assuming the circle with an arrow in your diagram means &#39;composition&#39;. Are you sure you want components to &#39;have&#39; other components?"}, {"owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1479585877, "post_id": 40693666, "comment_id": 68624023, "body": "@DavidRawson yep, done. My components do not &#39;have&#39; other components. (if I understand you correctly)"}, {"owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1479590011, "post_id": 40693666, "comment_id": 68625197, "body": "@DavidRawson I don&#39;t want to include all details in question before you asked for code. The diagram is a sample, but attached code from real-life app."}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1479590144, "post_id": 40693666, "comment_id": 68625233, "body": "Is the diagram from a tutorial site?"}, {"owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1479590458, "post_id": 40693666, "comment_id": 68625319, "body": "@DavidRawson nope, I draw it on my own to explain my problem as short as I can :)"}], "answers": [{"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 2, "last_activity_date": 1479789459, "last_edit_date": 1479789459, "creation_date": 1479587693, "answer_id": 40697628, "question_id": 40693666, "link": "https://stackoverflow.com/questions/40693666/dagger-2-multiple-entries-with-same-key/40697628#40697628", "title": "Dagger 2: Multiple entries with same key", "body": "<p>The <a href=\"https://google.github.io/dagger/testing.html\" rel=\"nofollow noreferrer\">Dagger user guide</a> talks about two types of bindings:</p>\n\n<blockquote>\n  <p>Published bindings are those that provide functionality that is used\n  by other parts of the application. </p>\n  \n  <p>Internal bindings are the rest: bindings that are used in the\n  implementation of some published type and that are not meant to be\n  used except as part of it. These bindings are usually for\n  package-private types or are qualified with package- private\n  qualifiers.</p>\n</blockquote>\n\n<p>You probably need to be thinking of this when you design your modules and components. What you currently have:</p>\n\n<pre><code>interface AppPresentationComponent : AppComponent\ninterface GameSessionComponent : AppComponent\ninterface GameSessionPresentationComponent : AppPresentationComponent\n</code></pre>\n\n<p>is a hierarchy where every component publishes <em>all</em> their bindings to the dependent components. This is quite confusing especially since your hierarchy of interfaces does not follow the hierarchy of components to dependent components. Set up like this, it is easy to get a duplicate binding. Ideally, you should not reach a situation where you have to reason about multiple inheritance for components.</p>\n\n<p>At this stage, I would suggest you refactor your component interfaces so that they don't inherit from each other and you will be able to discover which bindings <em>need</em> to be published to dependent components and which can (and should) be internalized. </p>\n\n<p>The same applies for your modules. Like a component, a module can both publish and internalize a binding. Why not bind GSON in another module at the <code>ApplicationComponent</code> level and publish it to dependent components? Then you can get rid of the binding for GSON inside <code>GameSessionModule</code> which seems to be causing the problem. </p>\n"}], "owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479789459, "creation_date": 1479563432, "last_edit_date": 1479585727, "question_id": 40693666, "link": "https://stackoverflow.com/questions/40693666/dagger-2-multiple-entries-with-same-key", "title": "Dagger 2: Multiple entries with same key", "body": "<h1>Short explanation</h1>\n\n<p>Simplified UML diagram that describes by <code>Components</code> architecture.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cotoP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cotoP.png\" alt=\"enter image description here\"></a></p>\n\n<p>And there is an exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: \nMultiple entries with same key: \ngson=com.example.di.AppPresentationComponent and\ngson=com.example.di.gamesession.GameSessionComponent\n</code></pre>\n\n<p><code>Dagger 2</code> cannot decide from which <code>Component</code> provide an <code>Gson</code> instance.</p>\n\n<p>I never ever work with multiple inheritance. What can you recommend to solve my situation?</p>\n\n<p>I can dispose of <code>GameSessionComponent</code> and move <code>gameSessionManager()</code> to <code>GameSessionPresentationComponent</code>. It will work in my case, but it's sounds like a dirty solution.</p>\n\n<h1>There is some code.</h1>\n\n<p>AppComponent:</p>\n\n<pre><code>@PerApplication\n@Component(modules = arrayOf(\n        AppModule::class,\n        TextsModule::class,\n        AudioModule::class,\n        FontsModule::class,\n        TexturesModule::class,\n        QuestModule::class,\n        GameSaveModule::class\n))\ninterface AppComponent {\n    fun componentsHolder(): ComponentsHolder\n    fun gdxContext(): GdxContext\n    fun rxHelper(): RxHelper\n    fun textsManager(): TextsManager\n    fun soundsManager(): AudioManager\n    fun fontsManager(): FontsManager\n    fun texturesManager(): ThemesManager\n    fun questManager(): QuestManager\n    fun gameSaveManager(): GameSaveManager\n}\n</code></pre>\n\n<p>AppPresentationComponent</p>\n\n<pre><code>@PerApplicationPresentation\n@Component(\n        dependencies = arrayOf(AppComponent::class),\n        modules = arrayOf(AppPresentationModule::class)\n)\ninterface AppPresentationComponent : AppComponent {\n    fun fonts(): Fonts\n    fun audio(): Audio\n    fun texts(): Texts\n    fun textures(): Textures\n    fun router(): KRQRouter\n    fun launch(): LaunchScreen\n    fun mainMenu(): MenuScreen\n    fun settingsDialog(): SettingsDialog\n    fun questInfoDialog(): InfoDialog\n}\n</code></pre>\n\n<p>GameSessionComponent</p>\n\n<pre><code>@PerGameSession()\n@Component(\n        dependencies = arrayOf(AppComponent::class),\n        modules = arrayOf(GameSessionModule::class)\n)\ninterface GameSessionComponent : AppComponent {\n    fun storyTeller(): StoryTeller\n}\n</code></pre>\n\n<p>GameSessionPresentationComponent</p>\n\n<pre><code>@PerGameSessionPresentation\n@Component(\n        dependencies = arrayOf(AppPresentationComponent::class),\n        modules = arrayOf(GameSessionPresentationModule::class, GameSessionModule::class)\n)\ninterface GameSessionPresentationComponent : AppPresentationComponent {\n    fun storyTeller(): StoryTeller\n\n    fun story(): StoryScreen\n    fun gameoverDialog(): GameoverDialog\n    fun inGameMenu(): InGameMenu\n    fun donateDialog(): DonateDialog\n}\n</code></pre>\n"}, {"tags": ["gradle", "code-coverage", "travis-ci", "kotlin", "codecov"], "answers": [{"tags": [], "owner": {"reputation": 2447, "user_id": 1917078, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3712e9b9aee2ce5090aae58c2495cdee?s=128&d=identicon&r=PG", "display_name": "Steve Peak", "link": "https://stackoverflow.com/users/1917078/steve-peak"}, "is_accepted": true, "score": 2, "last_activity_date": 1542718788, "last_edit_date": 1542718788, "creation_date": 1479559207, "answer_id": 40692995, "question_id": 40692886, "link": "https://stackoverflow.com/questions/40692886/there-was-an-error-processing-coverage-reports-in-codecov/40692995#40692995", "title": "There was an error processing coverage reports in codecov", "body": "<p>Looks like an issue mapping files back to your GitHub repository layout. Please add the following to your <code>codecov.yml</code> file:</p>\n\n<pre><code>fixes:\n  - \"io/github/config4k::src/main/io.github.config4k\"\n</code></pre>\n\n<p>I'll make a pull request to work with you on it.</p>\n"}], "owner": {"reputation": 727, "user_id": 7108266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2123ca83dfca370821fbac4360a5a27?s=128&d=identicon&r=PG&f=1", "display_name": "mmorihiro", "link": "https://stackoverflow.com/users/7108266/mmorihiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 0, "accepted_answer_id": 40692995, "answer_count": 1, "score": 2, "last_activity_date": 1542718788, "creation_date": 1479558540, "last_edit_date": 1480148771, "question_id": 40692886, "link": "https://stackoverflow.com/questions/40692886/there-was-an-error-processing-coverage-reports-in-codecov", "title": "There was an error processing coverage reports in codecov", "body": "<p>I'm using kotlin, gradle, travis ci and codecov. The build seems to fail at codecov\n<a href=\"https://codecov.io/gh/config4k/config4k/commit/01ac813e057b3de25274b03c07ab39f348d5074d\" rel=\"nofollow noreferrer\">https://codecov.io/gh/config4k/config4k/commit/01ac813e057b3de25274b03c07ab39f348d5074d</a></p>\n\n<p>build.gradle :  </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.0.4'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'jacoco'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile 'com.typesafe:config:1.3.1'\n    testCompile 'io.kotlintest:kotlintest:1.3.5'\n}\n\nsourceSets {\n    main.kotlin.srcDirs += 'src/main'\n    test.kotlin.srcDirs += 'src/test'\n}\n\njacocoTestReport {\n    reports {\n        html.enabled = false\n        xml.enabled = true\n        csv.enabled = false\n    }\n}\n</code></pre>\n\n<p>.travis.yml :</p>\n\n<pre><code>language: java\nsudo: false\njdk:\n  - oraclejdk8\nscript:\n  - ./gradlew test jacocoTestReport\nafter_success:\n  - bash &lt;(curl -s https://codecov.io/bash)\n</code></pre>\n\n<p>logs : </p>\n\n<pre><code>2016-11-19T19:52:01+09:00 seterror  GET /repos/config4k/config4k/commits/01ac813e057b3de25274b03c07ab39f348d5074d/statuses bot=mmorihiro code=200     \n  2016-11-19T19:52:01+09:00 notify  skip-no-files-found  error=Error   \n  2016-11-19T19:51:36+09:00 upload  no-reports-generated  error=Error   \n  2016-11-19T19:51:36+09:00 upload  Processed file name=jacocoTestReport.xml language=jacoco   \n  2016-11-19T19:51:36+09:00 upload  Upload archived download   \n  2016-11-19T19:51:31+09:00 upload  \nWAITING FOR CI TO COMPLETE\n\n  2016-11-19T19:51:30+09:00 upload  GET /repos/config4k/config4k/contents/codecov.yml bot=mmorihiro code=404  \n      {\"message\":\"Not Found\",\"documentation_url\":\"https://developer.github.com/v3\"}    \n  2016-11-19T19:51:30+09:00  Upload accepted ci=travis build=15.1   \n  2016-11-18T21:35:56+09:00 seterror  GET /repos/config4k/config4k/commits/01ac813e057b3de25274b03c07ab39f348d5074d/statuses bot=mmorihiro code=200     \n  2016-11-18T21:35:56+09:00 notify  skip-no-files-found  error=Error   \n  2016-11-18T21:35:31+09:00 upload  no-reports-generated  error=Error   \n  2016-11-18T21:35:31+09:00 upload  Processed file name=jacocoTestReport.xml language=jacoco   \n  2016-11-18T21:35:31+09:00 upload  Upload archived download   \n  2016-11-18T21:35:25+09:00 upload  \nWAITING FOR CI TO COMPLETE\n\n  2016-11-18T21:35:25+09:00 upload  GET /repos/config4k/config4k/contents/codecov.yml bot=mmorihiro code=404  \n      {\"message\":\"Not Found\",\"documentation_url\":\"https://developer.github.com/v3\"}    \n  2016-11-18T21:35:25+09:00  Upload accepted ci=travis build=15.1   \n  2016-11-18T21:24:36+09:00 seterror  GET /repos/config4k/config4k/commits/01ac813e057b3de25274b03c07ab39f348d5074d/statuses bot=mmorihiro code=200     \n  2016-11-18T21:24:26+09:00 notify  skip-no-files-found  error=Error   \n  2016-11-18T21:24:26+09:00 notify  GET /repos/config4k/config4k/commits/01ac813e057b3de25274b03c07ab39f348d5074d/statuses bot=mmorihiro code=200     \n  2016-11-18T21:24:08+09:00 upload  no-reports-generated  error=Error   \n  2016-11-18T21:24:08+09:00 upload  Processed file name=jacocoTestReport.xml language=jacoco   \n  2016-11-18T21:24:08+09:00 upload  Upload archived download   \n  2016-11-18T21:23:48+09:00 upload \n\nWAITING FOR CI TO COMPLETE\n\n  2016-11-18T21:23:48+09:00 upload  GET /search/issues?q=01ac813e057b3de25274b03c07ab39f348d5074d+repo:config4k%2Fconfig4k+type:pr+state:open bot=mmorihiro code=200  ratelimit=29/30 reset=1479471888     \n  2016-11-18T21:23:48+09:00 upload  GET /repos/config4k/config4k/commits/01ac813e057b3de25274b03c07ab39f348d5074d bot=mmorihiro code=200     \n  2016-11-18T21:23:48+09:00 upload  GET /repos/config4k/config4k/contents/codecov.yml bot=mmorihiro code=404  \n      {\"message\":\"Not Found\",\"documentation_url\":\"https://developer.github.com/v3\"}    \n  2016-11-18T21:23:48+09:00  Upload accepted ci=travis build=14.1  \n</code></pre>\n\n<p>Do you know any solution for this problem?</p>\n"}, {"tags": ["kotlin", "kotlintest"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479549806, "post_id": 40691398, "comment_id": 68612672, "body": "Can you show us the declaration of <code>mIndices</code> ?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1479555993, "post_id": 40691398, "comment_id": 68614465, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/q/35272761/3255152\">stackoverflow.com/q/35272761/3255152</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9160, "user_id": 1224016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KvlH3.jpg?s=128&g=1", "display_name": "Micha\u0142 Kosmulski", "link": "https://stackoverflow.com/users/1224016/micha%c5%82-kosmulski"}, "edited": false, "score": 0, "creation_date": 1479576832, "post_id": 40692002, "comment_id": 68621136, "body": "Strictly speaking, the equals operator calls the method <code>equals()</code> (this is Kotlin so far) which in the case of arrays happens to be implemented as a reference comparison (this is Java&#39;s fault)."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1479576341, "last_edit_date": 1479576341, "creation_date": 1479552714, "answer_id": 40692002, "question_id": 40691398, "link": "https://stackoverflow.com/questions/40691398/kotlin-how-to-test-intarray/40692002#40692002", "title": "Kotlin, how to test (int)array", "body": "<p>In Java (Kotlin) arrays are compared by reference, <strong>not</strong> by content. That means that <code>intArrayOf(1, 2, 3) != intArrayOf(1, 2, 3)</code>. </p>\n\n<p>To compare content of arrays you have 2 options:</p>\n\n<ol>\n<li><p>Use deep comparison:</p>\n\n<p><code>Arrays.deepequals(mFaces[0].mIndices, intArrayOf(0, 1, 2))</code></p></li>\n<li><p>Use lists:</p>\n\n<p><code>mFaces[0].mIndices.toList() == listOf(0, 1, 2)</code></p></li>\n</ol>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 1, "accepted_answer_id": 40692002, "answer_count": 1, "score": 2, "last_activity_date": 1479576341, "creation_date": 1479548740, "last_edit_date": 1479550833, "question_id": 40691398, "link": "https://stackoverflow.com/questions/40691398/kotlin-how-to-test-intarray", "title": "Kotlin, how to test (int)array", "body": "<p>I'd like to find a nice and concise way to test intarray</p>\n\n<p>at first I tried</p>\n\n<p><code>mFaces[0].mIndices shouldBe intArrayOf(0, 1, 2)</code></p>\n\n<p>where <code>mIndices</code> is</p>\n\n<p><code>var mIndices: IntArray = IntArray(0)</code></p>\n\n<p>but fails. Intellij also suggests me to override <code>equals()</code> with <code>Array</code>s</p>\n\n<p>Then I wanted to try something like this</p>\n\n<p><code>mFaces[0].mIndices.all { it. == index } shouldBe true</code></p>\n\n<p>but it looks like there is no way to retrieve the index of <code>it</code> inside <code>all{..}</code> or is this </p>\n\n<pre><code>var p = 0\nmFaces[0].mIndices.all { it == p++ } shouldBe true\n</code></pre>\n\n<p>the only possibility?</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1479548070, "post_id": 40691046, "comment_id": 68612219, "body": "Does it work for non-inline functions ?"}, {"owner": {"reputation": 2651, "user_id": 2217707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f58a5960199fb2cff6891a2a4203c217?s=128&d=identicon&r=PG", "display_name": "SilverCorvus", "link": "https://stackoverflow.com/users/2217707/silvercorvus"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1479548280, "post_id": 40691046, "comment_id": 68612265, "body": "No, I also tried with a plain generic T (not reified) type."}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 1, "creation_date": 1548976222, "post_id": 40691046, "comment_id": 95748970, "body": "I also run into this problem, and for me this workaround is fine: <code>var a: (Int,  Int) -&gt; String = ::appendToString</code>"}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 2015751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29d0313be56df012c70064c768046964?s=128&d=identicon&r=PG", "display_name": "daemontus", "link": "https://stackoverflow.com/users/2015751/daemontus"}, "is_accepted": true, "score": 15, "last_activity_date": 1479550764, "creation_date": 1479550764, "answer_id": 40691687, "question_id": 40691046, "link": "https://stackoverflow.com/questions/40691046/references-to-generic-functions/40691687#40691687", "title": "References to generic functions", "body": "<p>Currently it is not supported. But there is a feature request you can support if you would like to see it implemented :) <a href=\"https://youtrack.jetbrains.com/issue/KT-12140\" rel=\"noreferrer\" title=\"KT-12140\">KT-12140</a></p>\n"}], "owner": {"reputation": 2651, "user_id": 2217707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f58a5960199fb2cff6891a2a4203c217?s=128&d=identicon&r=PG", "display_name": "SilverCorvus", "link": "https://stackoverflow.com/users/2217707/silvercorvus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 40691687, "answer_count": 1, "score": 12, "last_activity_date": 1479550764, "creation_date": 1479546096, "question_id": 40691046, "link": "https://stackoverflow.com/questions/40691046/references-to-generic-functions", "title": "References to generic functions", "body": "<p>Is it possible to make reference to generic functions in Kotlin?</p>\n\n<p>For example, let's say I have a function:</p>\n\n<pre><code>fun inline &lt;reified T&gt; appendToString(a: T, b: T) = a.toString() + b.toString\n</code></pre>\n\n<p>How can you reference this function? This will not compile</p>\n\n<pre><code>var a = ::appendToString&lt;Int&gt;\n</code></pre>\n"}, {"tags": ["java", "inheritance", "scope", "kotlin", "inner-classes"], "answers": [{"comments": [{"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 0, "creation_date": 1479545889, "post_id": 40690981, "comment_id": 68611723, "body": "Yeah but <code>Inner</code> can&#39;t be static, since it needs to access <code>Outer</code>&#39;s <code>foo</code> field."}], "tags": [], "owner": {"reputation": 329, "user_id": 2065041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc61173a4bd9d23d31dfc79367dc30e3?s=128&d=identicon&r=PG", "display_name": "Alxe", "link": "https://stackoverflow.com/users/2065041/alxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1479545642, "creation_date": 1479545642, "answer_id": 40690981, "question_id": 40690937, "link": "https://stackoverflow.com/questions/40690937/sealed-inner-classes/40690981#40690981", "title": "Sealed inner classes", "body": "<p>Maybe you are missing a static somewhere? As you don't want to instance a class to use their inner.</p>\n\n<p>Granted I'm not as proficient in Kotlin so I may be horribly wrong.</p>\n"}, {"comments": [{"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 0, "creation_date": 1479549483, "post_id": 40691472, "comment_id": 68612573, "body": "Well in my real program, there&#39;s lots of other things happening in <code>Outer</code>, and I do indeed plan to have multiple instance of it."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1479549409, "creation_date": 1479549409, "answer_id": 40691472, "question_id": 40690937, "link": "https://stackoverflow.com/questions/40690937/sealed-inner-classes/40691472#40691472", "title": "Sealed inner classes", "body": "<p>If I understood you correctly, you don't need instances of <code>Outer</code> as much as a place to store \"<code>static</code>\" <code>foo</code>. Then you need <code>object</code>s , not <code>class</code>es.</p>\n\n<p>I replaced <code>class Outer</code> with <code>object Outer</code> and removed <code>sealed</code>:</p>\n\n<pre><code>object Outer {\n    var foo = 42\n\n    sealed class Inner(val i: Int) {\n        init {\n            println(foo + i)\n        }\n\n        class Inner1: Inner(1)\n    }\n\n    init {\n        val x: Inner = Inner.Inner1()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 0, "creation_date": 1479555405, "post_id": 40691886, "comment_id": 68614288, "body": "Yes, exactly, I&#39;d like to pass <code>outer</code> implicitly to <code>Inner1</code>. So is there no way to do that? In that case, I think I&#39;d rather go with the open inheritance workaround."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 0, "creation_date": 1479573795, "post_id": 40691886, "comment_id": 68620005, "body": "it is possible if <code>Inner</code> is a enum thou"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1479551982, "creation_date": 1479551982, "answer_id": 40691886, "question_id": 40690937, "link": "https://stackoverflow.com/questions/40690937/sealed-inner-classes/40691886#40691886", "title": "Sealed inner classes", "body": "<p>Technically what you are trying to do is this:</p>\n\n<pre><code>class Outer {\n    var foo = 42\n    init {\n        val x: InnerBase = InnerBase.Inner1(this)\n    }\n\n    sealed class InnerBase(val outer: Outer, val i: Int) {\n\n        fun sharedFunctionality() {\n            println(outer.foo + i)\n        } \n\n        abstract fun doIt()\n\n        class Inner1(outer: Outer): InnerBase(outer, 1) {\n            override fun doIt() {\n                sharedFunctionality()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It provides <code>Inner1</code> with an instance of <code>Outer</code> without an instance of <code>Inner</code>. I am not aware of any clean way of doing this in Kotlin</p>\n"}], "owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1479555333, "creation_date": 1479545379, "last_edit_date": 1479555333, "question_id": 40690937, "link": "https://stackoverflow.com/questions/40690937/sealed-inner-classes", "title": "Sealed inner classes", "body": "<p>I'd like to create a closed universe of classes, where each subclass is an inner class of some outer class. I thought I could use a sealed inner class for the base of the hierarchy, like so:</p>\n\n<pre><code>class Outer {\n    fun foo(): Int {\n        // ...\n    }\n\n    inner sealed class InnerBase(val i: Int) {\n        fun sharedFunctionality() {\n            println(foo() + i)\n        } \n\n        abstract fun doIt()\n\n        inner class Inner1: InnerBase(1) {\n            override fun doIt() {\n                blah()\n                sharedFunctionality()\n                bloo()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Note that </p>\n\n<ul>\n<li><code>Outer</code> is a proper class, which can have many different instances. Each instance should be able to create <code>Inner1</code>'s that will call the right <code>foo</code></li>\n<li>The universe of <code>InnerBase</code> subclasses is finite</li>\n<li><code>InnerBase</code> has some instance method, to be used by various <code>Inner</code> subclasses, which accesses <code>Outer</code>'s non-static method <code>foo</code></li>\n<li>The concrete subclasses of <code>InnerBase</code> (e.g. <code>Inner1</code>) pass arguments to <code>InnerBase</code>'s constructor</li>\n</ul>\n\n<p>However, the problem with this is that I don't know how I can construct a value of type <code>Inner1</code> in <code>Outer</code>. I was hoping that this would work:</p>\n\n<pre><code>class Outer { // continued from above\n    fun someMethod() {\n        val x: InnerBase = InnerBase.Inner1()\n    }\n}\n</code></pre>\n\n<p>but this fails with </p>\n\n<pre><code>src/InnerSealed.kt:14:27: error: unresolved reference: Inner1\n    val x : InnerBase = InnerBase.Inner1()\n                                 ^\n</code></pre>\n\n<p>I guess the problem is that <code>Inner1</code> is actually an inner class of <code>Inner</code>, so I'd need an instance of <code>Inner</code> before I could construct an instance of <code>Inner1</code>. However, this is not what I'd like; I'd like <code>Inner</code> to just be a base class for my <code>Inner1</code> etc. classes, with some  functionality which is shared between all subclasses and which access <code>Outer</code>'s instance data.</p>\n\n<p>One workaround I've found is to make <code>InnerBase</code> non-<code>sealed</code>:</p>\n\n<pre><code>class Outer {\n    fun foo(): Int {\n        // ...\n    }\n\n    inner abstract class InnerBase(val i: Int) {\n        fun sharedFunctionality() {\n            println(foo() + i)\n        }\n\n        abstract fun doIt()\n    }\n\n    inner class Inner1: InnerBase(1) {\n        override fun doIt() {\n            sharedFunctionality()\n        }\n    }\n\n    fun someMethod() {\n        val x : InnerBase = Inner1()\n    }\n}\n</code></pre>\n\n<p>But then the subclasses of <code>InnerBase</code> are no longer closed.</p>\n"}, {"tags": ["switch-statement", "kotlin", "literals"], "answers": [{"comments": [{"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "edited": false, "score": 0, "creation_date": 1479534238, "post_id": 40689386, "comment_id": 68609373, "body": "How inefficient is this if I am going to be doing this in a tight loop?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1479549590, "post_id": 40689386, "comment_id": 68612605, "body": "You can extract  <code>0.toByte()</code> into a local variable for efficiency. Not sure JIT doesn&#39;t do it already thou"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 3, "creation_date": 1479854129, "post_id": 40689386, "comment_id": 68731910, "body": "<code>0.toByte()</code> is evaluated at compile time, so there&#39;s no cost of conversion at runtime."}], "tags": [], "owner": {"reputation": 155397, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "is_accepted": true, "score": 8, "last_activity_date": 1479856483, "last_edit_date": 1495535579, "creation_date": 1479531575, "answer_id": 40689386, "question_id": 40689323, "link": "https://stackoverflow.com/questions/40689323/switch-on-a-byte/40689386#40689386", "title": "Switch on a Byte", "body": "<p>Since Kotlin allows branch conditions to be arbitrary expressions (not necessarily constants), one approach is to accept that the <code>0</code> will be an <code>Int</code> and simply convert it explicitly to a <code>Byte</code>:</p>\n\n<pre><code>fun foo(b: Byte): Boolean {\n  return when(b) {\n    0.toByte() -&gt; true\n    else -&gt; false\n  }\n}\n</code></pre>\n\n<p>Per <a href=\"https://stackoverflow.com/users/869184/ilya\">Ilya</a>, \"<code>0.toByte()</code> is evaluated at compile time, so there's no cost of conversion at runtime.\"</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 1, "last_activity_date": 1547486863, "last_edit_date": 1547486863, "creation_date": 1479736384, "answer_id": 40721840, "question_id": 40689323, "link": "https://stackoverflow.com/questions/40689323/switch-on-a-byte/40721840#40721840", "title": "Switch on a Byte", "body": "<p>You cannot specify a byte literal in Kotlin (<a href=\"https://stackoverflow.com/a/5193919/3255152\">nor can you in Java</a>). From <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#literal-constants\" rel=\"nofollow noreferrer\">Literal Constants - Basic Types - Kotlin Programming Language</a></p>\n\n<blockquote>\n  <p>There are the following kinds of literal constants for integral\n  values:</p>\n  \n  <ul>\n  <li>Decimals: <code>123</code>\n  \n  <ul>\n  <li>Longs are tagged by a capital <code>L</code>: <code>123L</code></li>\n  </ul></li>\n  <li>Hexadecimals: <code>0x0F</code></li>\n  <li>Binaries: <code>0b00001011</code></li>\n  </ul>\n</blockquote>\n\n<p>You can however declare <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"nofollow noreferrer\">compiler-time constants</a> to avoid run-time overhead:</p>\n\n<pre><code>const val ZERO_BYTE: Byte = 0\n\nfun foo(b: Byte): Boolean {\n    return when (b) {\n        ZERO_BYTE -&gt; true\n        else -&gt; false\n    }\n}\n</code></pre>\n\n<p>Inspecting the Kotlin bytecode further reveals that as <code>0.toByte()</code> can be determined at compile-time you can in fact inline the evaluation with no additional run-time overhead:</p>\n\n<pre><code>fun foo(b: Byte): Boolean {\n    return when (b) {\n        0.toByte() -&gt; true\n        else -&gt; false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2229, "favorite_count": 2, "accepted_answer_id": 40689386, "answer_count": 2, "score": 4, "last_activity_date": 1547486863, "creation_date": 1479530924, "question_id": 40689323, "link": "https://stackoverflow.com/questions/40689323/switch-on-a-byte", "title": "Switch on a Byte", "body": "<p>How can I switch on a <code>Byte</code> value? The obvious way would be:</p>\n\n<pre><code>fun foo(b: Byte): Boolean {\n  return when(b) {\n    0 -&gt; true\n    else -&gt; false\n  }\n}\n</code></pre>\n\n<p>but that fails at compile time with</p>\n\n<pre><code>src/ByteSwitch.kt:3:5: error: incompatible types: kotlin.Int and kotlin.Byte\n    0 -&gt; true\n    ^\n</code></pre>\n\n<p>Is there a way to make that <code>0</code> be a byte literal?</p>\n"}, {"tags": ["spring", "mongodb", "kotlin", "bean-validation"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479499640, "post_id": 40684351, "comment_id": 68600903, "body": "Your property is of type String. So Kotlin won&#39;t allow you to store null in it, and then let the validator check if it&#39;s null or not. You would need String? for that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3236751"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479523978, "post_id": 40684351, "comment_id": 68607726, "body": "But when I use String?, the data is stored in the DB without any validation."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479537884, "post_id": 40684351, "comment_id": 68610025, "body": "Have you made sure that the config was loaded? Where is the code/annotation triggering the validation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3236751"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1479544543, "post_id": 40684351, "comment_id": 68611392, "body": "Yes the config was loaded. I ran through the list of <code>beanDefinitionNames</code> in the context. It was loaded."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3236751"}, "edited": false, "score": 0, "creation_date": 1479552369, "post_id": 40691520, "comment_id": 68613398, "body": "I tried your solution, but when I given an empty POST it just bypasses the validation and stores the record."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479554118, "post_id": 40691520, "comment_id": 68613933, "body": "@SharadCodes show me your controller method please"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3236751"}, "edited": false, "score": 0, "creation_date": 1479556586, "post_id": 40691520, "comment_id": 68614652, "body": "Apparently the problem was with mongodb. So, I took the solution from <a href=\"http://stackoverflow.com/a/22583492/3236751\">here</a>. Anyways thank you."}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 0, "last_activity_date": 1479549710, "creation_date": 1479549710, "answer_id": 40691520, "question_id": 40684351, "link": "https://stackoverflow.com/questions/40684351/cannot-use-spring-validation-with-mongodb/40691520#40691520", "title": "Cannot use spring validation with MongoDB", "body": "<p>Spring validates <code>objects</code> by inspecting it's fields or properties values. To validate an <code>object</code> you need to first create it. When the json deserializer tries to parse input and create <code>Tag</code> instance it encounters and reports the problem:</p>\n\n<blockquote>\n  <p>Instantiation of <code>[simple type, class kagaz.sano.model.Tag]</code> value failed for\n  JSON property name</p>\n</blockquote>\n\n<p>In order for Spring Validation to even start its work <strong>an instance of object is required</strong> - even if it is <strong>invalid</strong>.</p>\n\n<p>This means that you'll need to allow for json deserializer to create an object in invalid state so that it can be inspected by validator like so:</p>\n\n<pre><code>data class TagDto(@get:NotNull var name: String? = null) {\n    @get:NotNull var id: ObjectId? = null\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3236751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 0, "closed_date": 1479565527, "answer_count": 1, "score": 0, "last_activity_date": 1479556775, "creation_date": 1479496083, "last_edit_date": 1479556775, "question_id": 40684351, "link": "https://stackoverflow.com/questions/40684351/cannot-use-spring-validation-with-mongodb", "closed_reason": "Duplicate", "title": "Cannot use spring validation with MongoDB", "body": "<p>I searched for solutions to validate data models in spring in Kotlin. But am not able to.\nThe following is the Tag <code>data class</code>.</p>\n\n<pre><code>data class Tag(@field:NotNull var name: String) {\n    lateinit @Id var id: ObjectId\n}\n</code></pre>\n\n<p>I have enabled the configuration to use bean validation </p>\n\n<pre><code>@Configuration\nopen class ValidatorConfig {\n    @Bean\n    open fun validator() = LocalValidatorFactoryBean()\n}\n</code></pre>\n\n<p>As per my knowledge, Spring Boot loads all the Bean Configuration automatically. And at runtime, when POSTed with empty Json, proper validation error should have been thrown but the following error is thrown</p>\n\n<pre><code>Instantiation of [simple type, class kagaz.sano.model.Tag] value failed for\nJSON property name due to missing (therefore NULL) value for creator parameter \nname which is a non-nullable type\\n at [Source:\norg.apache.catalina.connector.CoyoteInputStream@66f3b65c; line: 3, column: 1]\n(through reference chain: kagaz.sano.model.Tag[\\\"name\\\"])\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1479536413, "post_id": 40683134, "comment_id": 68609718, "body": "Not only for Collection, but also for Iterable, Sequence, Arrays, CharSequence."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 109, "last_activity_date": 1479770333, "last_edit_date": 1479770333, "creation_date": 1479491295, "answer_id": 40683134, "question_id": 40682918, "link": "https://stackoverflow.com/questions/40682918/kotlin-most-idiomatic-way-to-convert-a-list-to-a-mutablelist/40683134#40683134", "title": "Kotlin - Most idiomatic way to convert a List to a MutableList", "body": "<p>Consider using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-list.html\" rel=\"noreferrer\"><code>toMutableList()</code></a> function:</p>\n\n<pre><code>presenter.getContacts().toMutableList()\n</code></pre>\n\n<p>There are <code>toMutableList()</code> extensions for the stdlib types that one might want to convert to a mutable list: <code>Collection&lt;T&gt;</code>, <code>Iterable&lt;T&gt;</code>, <code>Sequence&lt;T&gt;</code>, <code>CharSequence</code>, <code>Array&lt;T&gt;</code> and primitive arrays.</p>\n"}, {"tags": [], "owner": {"reputation": 660, "user_id": 2964806, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/J5Wwo.png?s=128&g=1", "display_name": "veeyikpong", "link": "https://stackoverflow.com/users/2964806/veeyikpong"}, "is_accepted": false, "score": 9, "last_activity_date": 1575433958, "creation_date": 1575433958, "answer_id": 59168998, "question_id": 40682918, "link": "https://stackoverflow.com/questions/40682918/kotlin-most-idiomatic-way-to-convert-a-list-to-a-mutablelist/59168998#59168998", "title": "Kotlin - Most idiomatic way to convert a List to a MutableList", "body": "<p>If you only wants ArrayList, you can create your own Kotlin extension.</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.toArrayList(): ArrayList&lt;T&gt;{\n    return ArrayList(this)\n}\n</code></pre>\n\n<p>Then you can use it in your application like</p>\n\n<pre><code>myList.toArrayList()\n</code></pre>\n\n<p>Simple and easy</p>\n"}, {"tags": [], "owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "is_accepted": false, "score": 0, "last_activity_date": 1591472864, "creation_date": 1591472864, "answer_id": 62237192, "question_id": 40682918, "link": "https://stackoverflow.com/questions/40682918/kotlin-most-idiomatic-way-to-convert-a-list-to-a-mutablelist/62237192#62237192", "title": "Kotlin - Most idiomatic way to convert a List to a MutableList", "body": "<p>You can also use <code>toTypedArray()</code> if you want to convert a <code>List</code> or <code>MutableList</code> to Array</p>\n\n<pre><code>/**\n * Returns a *typed* array containing all of the elements of this collection.\n *\n * Allocates an array of runtime type `T` having its size equal to the size of this collection\n * and populates the array with the elements of this collection.\n * @sample samples.collections.Collections.Collections.collectionToTypedArray\n */\n@Suppress(\"UNCHECKED_CAST\")\npublic actual inline fun &lt;reified T&gt; Collection&lt;T&gt;.toTypedArray(): Array&lt;T&gt; {\n    @Suppress(\"PLATFORM_CLASS_MAPPED_TO_KOTLIN\")\n    val thisCollection = this as java.util.Collection&lt;T&gt;\n    return thisCollection.toArray(arrayOfNulls&lt;T&gt;(0)) as Array&lt;T&gt;\n}\n</code></pre>\n\n<h2>Example</h2>\n\n<pre><code>myMutableList.toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 4216, "user_id": 3752244, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0920cb11c85c567769af942f186d87b6?s=128&d=identicon&r=PG", "display_name": "Mateus Gondim", "link": "https://stackoverflow.com/users/3752244/mateus-gondim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26641, "favorite_count": 3, "accepted_answer_id": 40683134, "answer_count": 3, "score": 64, "last_activity_date": 1596279582, "creation_date": 1479490434, "last_edit_date": 1596279582, "question_id": 40682918, "link": "https://stackoverflow.com/questions/40682918/kotlin-most-idiomatic-way-to-convert-a-list-to-a-mutablelist", "title": "Kotlin - Most idiomatic way to convert a List to a MutableList", "body": "<p>I have a method (<code>getContacts</code>) that returns a <code>List&lt;Contact&gt;</code> and I need to convert this result to a <code>MutableList&lt;Contact&gt;</code>. Currently the best way I can think of doing it is like this:</p>\n<pre><code>val contacts: MutableList&lt;Contact&gt; = ArrayList(presenter.getContacts())\n</code></pre>\n<p>Is there a more idiomatic/&quot;less Java&quot; way to do that?</p>\n"}, {"tags": ["android", "testing", "mockito", "rx-java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479481354, "post_id": 40679910, "comment_id": 68590218, "body": "Thank you for the response. I added the first two blocks of code in a Before method setUp() and the last block in the After tearDown(), however I still get the same response. Was this the correct way to implement the suggested changes? I&#39;ve never done testing before."}, {"owner": {"reputation": 5874, "user_id": 5483091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjoF7.jpg?s=128&g=1", "display_name": "Alexander Perfilyev", "link": "https://stackoverflow.com/users/5483091/alexander-perfilyev"}, "reply_to_user": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479482409, "post_id": 40679910, "comment_id": 68590964, "body": "Have you tried to use a debugger inside your onNext call from the <code>register(imei : String, gender : String)</code> function?"}, {"owner": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479483823, "post_id": 40679910, "comment_id": 68591969, "body": "After moving test, (it was in instrumental test), now instead I get the same error but for clearPreferences(), check the bottom of my original post. At first it complained about not Mocking Log.e() in my Presenter"}, {"owner": {"reputation": 5874, "user_id": 5483091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjoF7.jpg?s=128&g=1", "display_name": "Alexander Perfilyev", "link": "https://stackoverflow.com/users/5483091/alexander-perfilyev"}, "reply_to_user": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479484022, "post_id": 40679910, "comment_id": 68592125, "body": "What value is returned by <code>registrationResult.imei_hash</code>? Put a break-point on that line and run a test in debug mode."}, {"owner": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479484510, "post_id": 40679910, "comment_id": 68592477, "body": "registrationResult.imei_hash has value &quot;hash&quot; as set by the mock. And inside writeImeiPairLocally the pair has value &quot;imei&quot;,&quot;hash&quot;"}, {"owner": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479485139, "post_id": 40679910, "comment_id": 68592947, "body": "Something was weird, I stepped through the test and then the test passed. Now it passes when I run it too. Thank you for the help"}, {"owner": {"reputation": 3527, "user_id": 7057156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWGOY.jpg?s=128&g=1", "display_name": "Hans Wurst", "link": "https://stackoverflow.com/users/7057156/hans-wurst"}, "reply_to_user": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479503061, "post_id": 40679910, "comment_id": 68602388, "body": "@buddhabath, just pass the Scheduler in the Constructor, every time you build observables. So there is no need to abuse the RxJava hook. The Rx-Java-hook is being set for one JVM, so you should restart the VM for every unit test."}, {"owner": {"reputation": 3527, "user_id": 7057156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWGOY.jpg?s=128&g=1", "display_name": "Hans Wurst", "link": "https://stackoverflow.com/users/7057156/hans-wurst"}, "reply_to_user": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "edited": false, "score": 0, "creation_date": 1479503276, "post_id": 40679910, "comment_id": 68602481, "body": "@buddhabath, It looks like RxJavaSchedulersHook has been deprecated. Please have a look at the documentation <a href=\"https://github.com/ReactiveX/RxJava/wiki/Plugins\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava/wiki/Plugins</a>"}, {"owner": {"reputation": 5874, "user_id": 5483091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjoF7.jpg?s=128&g=1", "display_name": "Alexander Perfilyev", "link": "https://stackoverflow.com/users/5483091/alexander-perfilyev"}, "edited": false, "score": 0, "creation_date": 1479649454, "post_id": 40679910, "comment_id": 68637302, "body": "Yeah that&#39;s why I used <code>RxJavaHooks</code>."}], "tags": [], "owner": {"reputation": 5874, "user_id": 5483091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjoF7.jpg?s=128&g=1", "display_name": "Alexander Perfilyev", "link": "https://stackoverflow.com/users/5483091/alexander-perfilyev"}, "is_accepted": true, "score": 1, "last_activity_date": 1479480485, "creation_date": 1479480485, "answer_id": 40679910, "question_id": 40677481, "link": "https://stackoverflow.com/questions/40677481/mockito-wanted-but-not-invoked/40679910#40679910", "title": "Mockito Wanted but not Invoked", "body": "<p>If you are using plain jUnit, then your <code>AndroidSchedulers.mainThread()</code> is null. That's why onNext is not called.</p>\n\n<p>You need to override Schedulers in a <code>setUp()</code> method with:</p>\n\n<pre><code>    RxAndroidPlugins.getInstance().registerSchedulersHook(new RxAndroidSchedulersHook() {\n        @Override\n        public Scheduler getMainThreadScheduler() {\n            return Schedulers.immediate(); // or .test()\n        }\n    });\n</code></pre>\n\n<p>To avoid concurrency in tests, I would recommend to override <code>Schedulers.io()</code> like this:</p>\n\n<pre><code>    RxJavaHooks.setOnIOScheduler(scheduler1 -&gt; Schedulers.immediate());\n</code></pre>\n\n<p>If you are going to use <code>TestScheduler</code>, don't forget to call <code>TestScheduler.triggerActions()</code> method.</p>\n\n<p>Also don't forget to unregister Schedulers in <code>tearDown()</code> like this:</p>\n\n<pre><code>    RxJavaHooks.reset();\n    RxAndroidPlugins.getInstance().reset();\n    AndroidSchedulers.reset();\n    Schedulers.reset();\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 4515136, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/593d41322fdf9856768987dc5c213033?s=128&d=identicon&r=PG&f=1", "display_name": "buddhabath", "link": "https://stackoverflow.com/users/4515136/buddhabath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 0, "accepted_answer_id": 40679910, "answer_count": 1, "score": 0, "last_activity_date": 1479483969, "creation_date": 1479473064, "last_edit_date": 1495540417, "question_id": 40677481, "link": "https://stackoverflow.com/questions/40677481/mockito-wanted-but-not-invoked", "title": "Mockito Wanted but not Invoked", "body": "<p>I'm new to writing tests and using Mockito.\nI've read the similar topics here on Stackoverflow and made the suggested changes, making sure that regarded classes / interfaces / methods are open.</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/31411917/verify-interactions-in-rxjava-subscribers\">I tried to follow this</a></p>\n</blockquote>\n\n<p>Mocking the constructor injected dependencies</p>\n\n<p>This is the test I came up with so far</p>\n\n<pre><code>class RegistrationPresenterTest {\n@Test\nfun testRegisterSuccess() {\n    val mockService = mock&lt;IHerokuInteractor&gt;()\n    val mockLocal = mock&lt;ILocalStorageInteractor&gt;()\n    val mockView = mock&lt;RegisterView&gt;()\n    val mockRegistrationResponse = HerokuRegisterResponse(\"hash\")\n    val mockPair = ImeiPair(\"imei\",\"hash\")\n    val presenter = RegisterPresenterImpl(mockLocal,mockService)\n\n   whenever(mockService.register(any())).thenReturn(Observable.just(mockRegistrationResponse))\n    whenever(mockLocal.clearPreferences()).thenReturn(Observable.just(true))\n    whenever(mockLocal.putImeiPair(any())).thenReturn(Observable.just(true))\n    //whenever(presenter.writeImeiPairLocally(any())) How do I specify parameters since it uses a parameter from the register method?\n\n    presenter.bindView(mockView)\n    presenter.register(\"imei\",\"male\")\n\n    verify(mockService, times(1)).register(any())\n    verify(mockLocal,times(1)).clearPreferences()\n    verify(mockLocal,times(1)).putImeiPair(any())\n    verify(mockView,times(1)).moveToMain()\n}\n</code></pre>\n\n<p>but the response I keep getting is</p>\n\n<pre><code>Wanted but not invoked:\nregisterPresenterImpl.writeImeiPairLocally(\n&lt;any com.company.appname.model.ImeiPair&gt;\n);\n\nActually, there were zero interactions with this mock.\n</code></pre>\n\n<p>I got this response even when I don't mention that method in the test.\nThis is my presenter register method. I've changed the classes / interfaces &amp; methods involved to open (kotlin). I believe override methods are open by nature in kotlin.</p>\n\n<pre><code> open class RegisterPresenterImpl @Inject constructor(val localStorage : ILocalStorageInteractor, var herokuService : IHerokuInteractor)\n\n override fun register(imei : String, gender : String){\n    subscription = herokuService.register(RegisterObject(imei,gender)).subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread()).subscribe(\n            {\n                registrationResult -&gt;\n                Log.d(TAG,\"${registrationResult}\")\n                if(registrationResult.imei_hash != null){\n                    writeImeiPairLocally(ImeiPair(imei,registrationResult.imei_hash))\n                }\n                else{\n                    Log.e(TAG,\"User already exists\")\n                }\n            },\n            {\n                errorResponse -&gt; Log.e(TAG,\"Could not register user ${errorResponse.message}\")\n            }\n    )\n    addSubscription(subscription)\n}\n</code></pre>\n\n<p>and similarly the </p>\n\n<pre><code>open fun writeImeiPairLocally(pair : ImeiPair){\n    subscription = localStorage.clearPreferences().flatMap {\n        cleared -&gt; localStorage.putImeiPair(pair)}.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread()).subscribe(\n            {\n\n                booleanResult -&gt; view?.moveToMain()\n            },\n            {\n                errorResponse -&gt; Log.e(TAG,\"Could not write ImeiPair to SharedPreferences ${errorResponse.message}\")\n            }\n    )\n    addSubscription(subscription)\n\n}\n</code></pre>\n\n<p>Here is interfaces</p>\n\n<pre><code>open interface ILocalStorageInteractor : ILocalStorage{\n   fun getImeiPair() : Observable&lt;ImeiPair&gt;\n   fun putImeiPair(pair: ImeiPair) : Observable&lt;Boolean&gt;\n}\n\nopen interface ILocalStorage {\n   fun clearPreferences() : Observable&lt;Boolean&gt;\n}\n</code></pre>\n\n<p>All help is appreciated.</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 21118, "user_id": 157971, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8cbf41a630b52f45e9b54e0ee1445f76?s=128&d=identicon&r=PG", "display_name": "void.pointer", "link": "https://stackoverflow.com/users/157971/void-pointer"}, "edited": false, "score": 3, "creation_date": 1550442130, "post_id": 40672970, "comment_id": 96258920, "body": "Really interesting that Kotlin doesn&#39;t have a similarly simple and idiomatic way of doing this"}, {"owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "reply_to_user": {"reputation": 21118, "user_id": 157971, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8cbf41a630b52f45e9b54e0ee1445f76?s=128&d=identicon&r=PG", "display_name": "void.pointer", "link": "https://stackoverflow.com/users/157971/void-pointer"}, "edited": false, "score": 2, "creation_date": 1550485267, "post_id": 40672970, "comment_id": 96272093, "body": "Btw, <code>Class.newInstance()</code> is deprecated since Java 9 with the argument that is bypassed checked exceptions."}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 1, "creation_date": 1570433415, "post_id": 40672970, "comment_id": 102897994, "body": "This will fail on Data classes unless constructor is manually created"}], "tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": false, "score": 28, "last_activity_date": 1479459700, "creation_date": 1479459700, "answer_id": 40672970, "question_id": 40672880, "link": "https://stackoverflow.com/questions/40672880/creating-a-new-instance-of-a-kclass/40672970#40672970", "title": "Creating a new instance of a KClass", "body": "<p>You can use the Java class to create new instance:</p>\n\n<pre><code>MyClass::class.java.newInstance()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 1172662, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EWYly.jpg?s=128&g=1", "display_name": "Tody.Lu", "link": "https://stackoverflow.com/users/1172662/tody-lu"}, "edited": false, "score": 1, "creation_date": 1484556210, "post_id": 40677461, "comment_id": 70542251, "body": "if constructor need parameters, the above way is useless"}, {"owner": {"reputation": 186, "user_id": 8545864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f12ffc2ae5bcd695fac25a86ceb9ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emily", "link": "https://stackoverflow.com/users/8545864/emily"}, "edited": false, "score": 1, "creation_date": 1598547380, "post_id": 40677461, "comment_id": 112501775, "body": "if constructor needs parameters, what&#39;s the recommended way to do it?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 27, "last_activity_date": 1514583556, "last_edit_date": 1514583556, "creation_date": 1479473004, "answer_id": 40677461, "question_id": 40672880, "link": "https://stackoverflow.com/questions/40672880/creating-a-new-instance-of-a-kclass/40677461#40677461", "title": "Creating a new instance of a KClass", "body": "<p>In your case, Java reflection might be enough: you can use <code>MyClass::class.java</code> and create a new instance in the same way as you would with Java reflection (see <a href=\"https://stackoverflow.com/users/936832/ingo-kegel\">@IngoKegel</a>'s answer).</p>\n\n<p>But in case there's more than one constructor and you really need to get the primary one (not the default no-arg one), use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/primary-constructor.html\" rel=\"noreferrer\"><code>primaryConstructor</code></a> extension function of a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"noreferrer\"><code>KClass&lt;T&gt;</code></a>. It is a part of <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">Kotlin reflection</a>, which is not shipped within <code>kotlin-stdlib</code>.</p>\n\n<p>To use it, you have to add <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect\" rel=\"noreferrer\"><code>kotlin-reflect</code></a> as a dependency, e.g. a in Gradle project:</p>\n\n<pre><code>dependencies {\n     compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"    \n}\n</code></pre>\n\n<p><sup>Assuming that there is  <code>ext.kotlin_version</code>, otherwise replace <code>$kotlin_version</code> with the version you use.</sup></p>\n\n<p>Then you will be able to use <code>primaryConstructor</code>, for example:</p>\n\n<pre><code>fun &lt;T : Any&gt; construct(kClass: KClass&lt;T&gt;): T? {\n    val ctor = kClass.primaryConstructor\n    return if (ctor != null &amp;&amp; ctor.parameters.isEmpty())\n        ctor.call() else\n        null\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 3486601, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AjMsv.png?s=128&g=1", "display_name": "Danish Ansari", "link": "https://stackoverflow.com/users/3486601/danish-ansari"}, "edited": false, "score": 0, "creation_date": 1590571652, "post_id": 57421355, "comment_id": 109726945, "body": "Underrated answer. Thanks a lot."}, {"owner": {"reputation": 191, "user_id": 2208476, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/T2hAy.jpg?s=128&g=1", "display_name": "Luiz Alegria", "link": "https://stackoverflow.com/users/2208476/luiz-alegria"}, "edited": false, "score": 0, "creation_date": 1601919796, "post_id": 57421355, "comment_id": 113549962, "body": "I didn&#39;t understand how to use createInstance passing parameters. How?"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 7, "last_activity_date": 1565302968, "creation_date": 1565302968, "answer_id": 57421355, "question_id": 40672880, "link": "https://stackoverflow.com/questions/40672880/creating-a-new-instance-of-a-kclass/57421355#57421355", "title": "Creating a new instance of a KClass", "body": "<p>For those checking this question now, since Kotlin 1.1 there's also <code>createInstance()</code> extension method on <code>KClass</code></p>\n\n<p>Much like the accepted answer, this function works only in case class has an empty constructor or constructor with all default arguments.</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-instance.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/create-instance.html</a></p>\n"}], "owner": {"reputation": 15063, "user_id": 68283, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8d069a55fa769812730461b355a92b04?s=128&d=identicon&r=PG", "display_name": "Rich", "link": "https://stackoverflow.com/users/68283/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15387, "favorite_count": 1, "accepted_answer_id": 40677461, "answer_count": 3, "score": 26, "last_activity_date": 1565302968, "creation_date": 1479459401, "question_id": 40672880, "link": "https://stackoverflow.com/questions/40672880/creating-a-new-instance-of-a-kclass", "title": "Creating a new instance of a KClass", "body": "<p>I have a Kotlin class whose primary (and only) constructor is empty.</p>\n\n<p>I have a reference to this class:</p>\n\n<pre><code>val kClass: KClass&lt;MyClass&gt; = MyClass::class\n</code></pre>\n\n<p>How do I create an instance of this class using reflection?</p>\n\n<p>In Java I would do <code>myClass.newInstance()</code> but it seems in Kotlin I need to find the constructor first:</p>\n\n<pre><code>kClass.constructors.first().call()\n</code></pre>\n\n<p>I have seen mention of <code>primaryConstructor</code> in <a href=\"https://youtrack.jetbrains.com/issue/KT-6728\" rel=\"noreferrer\">some bug reports</a> but it's not showing up in my IDE.</p>\n"}, {"tags": ["java", "eclipse", "kotlin"], "comments": [{"owner": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "edited": false, "score": 0, "creation_date": 1479436457, "post_id": 40667733, "comment_id": 68567748, "body": "Which version of Eclipse are you using?"}, {"owner": {"reputation": 1121, "user_id": 4447655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2b5e530f93b89775e81f3b66207eba79?s=128&d=identicon&r=PG&f=1", "display_name": "user4447655", "link": "https://stackoverflow.com/users/4447655/user4447655"}, "reply_to_user": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "edited": false, "score": 0, "creation_date": 1479437206, "post_id": 40667733, "comment_id": 68567896, "body": "It is Eclipse Neon.1"}, {"owner": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "edited": false, "score": 1, "creation_date": 1479438076, "post_id": 40667733, "comment_id": 68568054, "body": "1. There is a <a href=\"https://www.jfrog.com/knowledge-base/how-to-resolve-unable-to-find-valid-certification-path-to-requested-target-error/\" rel=\"nofollow noreferrer\">related question</a> in the in the knowledge base of JFrog (the company behind Bintray), which suggests updating the JVM as a step - which version are using? 2. Do other update sites, such as the ones on eclipse.org work?"}, {"owner": {"reputation": 1121, "user_id": 4447655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2b5e530f93b89775e81f3b66207eba79?s=128&d=identicon&r=PG&f=1", "display_name": "user4447655", "link": "https://stackoverflow.com/users/4447655/user4447655"}, "reply_to_user": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "edited": false, "score": 0, "creation_date": 1479438882, "post_id": 40667733, "comment_id": 68568210, "body": "Thank you for the link! I was able to resolve my issue by appending -Dorg.eclipse.ecf.provider.filetransfer.excludeContributors=&zwnj;&#8203;org.eclipse.ecf.prov&zwnj;&#8203;ider.filetransfer.ht&zwnj;&#8203;tpclient4 to the end of eclipse.ini file. Found out about it here: <a href=\"http://stackoverflow.com/a/33631964/4447655\">stackoverflow.com/a/33631964/4447655</a> I will look at your link as well, thank you! Other updates worked."}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "edited": false, "score": 0, "creation_date": 1479439075, "post_id": 40667733, "comment_id": 68568262, "body": "Don&#39;t edit the solution into your question. Answer your own question instead."}, {"owner": {"reputation": 2867, "user_id": 1001395, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/859e6602a10637f67d17a82a0a6ef9d6?s=128&d=identicon&r=PG", "display_name": "Fernando Gonzalez Sanchez", "link": "https://stackoverflow.com/users/1001395/fernando-gonzalez-sanchez"}, "edited": false, "score": 0, "creation_date": 1538100995, "post_id": 40667733, "comment_id": 92034226, "body": "A dirty workaround: try the plugin url with http instead of https (worked for me for <a href=\"https://download.erlide.org/update\" rel=\"nofollow noreferrer\">download.erlide.org/update</a>)"}, {"owner": {"reputation": 1438, "user_id": 2369551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXMp5.jpg?s=128&g=1", "display_name": "Tarun Kumar", "link": "https://stackoverflow.com/users/2369551/tarun-kumar"}, "edited": false, "score": 0, "creation_date": 1560858957, "post_id": 40667733, "comment_id": 99866735, "body": "In Eclipse preferences set network connections to direct. &quot;Windows&quot; \u2192 &quot;Preferences&quot; \u2192 &quot;Network Connections&quot; and set &quot;Active Provider&quot; to &quot;Direct&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 1121, "user_id": 4447655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2b5e530f93b89775e81f3b66207eba79?s=128&d=identicon&r=PG&f=1", "display_name": "user4447655", "link": "https://stackoverflow.com/users/4447655/user4447655"}, "is_accepted": true, "score": 5, "last_activity_date": 1479439589, "last_edit_date": 1495540415, "creation_date": 1479439589, "answer_id": 40668876, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/40668876#40668876", "title": "Unable to download plugin for eclipse", "body": "<p>Was able to solve the issue by appending the following to the <code>eclipse.ini</code>: </p>\n\n<pre><code>-Dorg.eclipse.ecf.provider.filetransfer.excludeContributors=org.eclipse.ecf.provider.filetransfer.httpclient4\n</code></pre>\n\n<p>Found the above solution here: <a href=\"https://stackoverflow.com/a/33631964/4447655\">https://stackoverflow.com/a/33631964/4447655</a> \nThere is also solution if this still does not work, to uncheck SOCKS in the eclipse proxy settings.</p>\n"}, {"tags": [], "owner": {"reputation": 2284, "user_id": 2663579, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e3dad36919bf2f2f510657f1defbf6b?s=128&d=identicon&r=PG", "display_name": "SachinSarawgi", "link": "https://stackoverflow.com/users/2663579/sachinsarawgi"}, "is_accepted": false, "score": 3, "last_activity_date": 1479471738, "creation_date": 1479471738, "answer_id": 40677039, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/40677039#40677039", "title": "Unable to download plugin for eclipse", "body": "<p>While setting proxy setting in eclipse you will get three proxy entries to be configured HTTP, HTTPS and SOCKS. \nConfigure username and password in HTTP and HTTPS proxy entries, but not in SOCKS. Try this, it may help.</p>\n\n<p>Also make sure the username and password you are typing is correct.</p>\n\n<p>After configuration please restart eclipse, it is required for taking the effect of configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 2577, "user_id": 1034782, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Qc7RZ.png?s=128&g=1", "display_name": "Donatello", "link": "https://stackoverflow.com/users/1034782/donatello"}, "is_accepted": false, "score": 0, "last_activity_date": 1498484566, "creation_date": 1498484566, "answer_id": 44761188, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/44761188#44761188", "title": "Unable to download plugin for eclipse", "body": "<p>Resolved by upgrading JVM (and the trusted certs ?)</p>\n"}, {"tags": [], "owner": {"reputation": 6673, "user_id": 157591, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/73dfcd143665b3df0de55b63362ce012?s=128&d=identicon&r=PG", "display_name": "Peter Szanto", "link": "https://stackoverflow.com/users/157591/peter-szanto"}, "is_accepted": false, "score": 1, "last_activity_date": 1529496965, "last_edit_date": 1529496965, "creation_date": 1529494630, "answer_id": 50947320, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/50947320#50947320", "title": "Unable to download plugin for eclipse", "body": "<p>download the plugin manually from here</p>\n\n<p><a href=\"https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin/0.8.5/\" rel=\"nofollow noreferrer\">https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin/0.8.5/</a></p>\n\n<p>(check if there is a latest version here)</p>\n\n<p><a href=\"https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin\" rel=\"nofollow noreferrer\">https://dl.bintray.com/jetbrains/kotlin/eclipse-plugin</a></p>\n\n<p>then</p>\n\n<ol>\n<li>create a directory called kotlin-plugin and copy the features and plugins directory (with all the downloaded jars in it) into it.</li>\n<li>close eclipse</li>\n<li>copy the kotlin-plugin directory into ${eclipse-install}/dropins </li>\n<li>start eclipse</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 3293409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3DcEE.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3293409/peter"}, "is_accepted": false, "score": 13, "last_activity_date": 1598386551, "last_edit_date": 1598386551, "creation_date": 1541704503, "answer_id": 53214663, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/53214663#53214663", "title": "Unable to download plugin for eclipse", "body": "<p>Given exception is very clear:</p>\n<pre><code>sun.security.validator.ValidatorException\n</code></pre>\n<p>meaning that certificate that eclipse gets doesn't match with the host that eclipse talks to - or a variation of this story. This is due to corporate environments where your workstation is intercepted by proxy, firewall or something that inspects https traffic.</p>\n<p><strong>1. Add intercepting certificate to cacerts of java</strong></p>\n<p>Use command line to add &quot;intercepting certificates&quot; (see ps) into java cacerts keystore (or use some GUI like &quot;KeyStore Explorer&quot; or whatever google gives).</p>\n<p><strong>2. Fix eclipse.ini and add below &quot;-vmargs&quot;:</strong></p>\n<pre><code>-Djavax.net.ssl.trustStore=cacerts \n-Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>Note: use full path for &quot;cacerts&quot;, I keep cacerts in eclipse folder. Avoid spaces and absolutely no quotes or you run into trustAnchors exception.</p>\n<p>Now market store and &quot;install new software&quot; should work as it did for me. Good luck.</p>\n<p>PS: <em>To find intercepting certificate, open browser, go to stackoverflow.com, click on browser lock icon next to https sign, download all certificates you find and save them as file pem/cer. Import these into cacerts.</em></p>\n<p>PS: <em>More details on command line, trustAnchors exception because of quotes and spaces, here: <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty\">stackoverflow</a> and <a href=\"https://stackoverflow.com/questions/5871279/java-ssl-and-cert-keystore\">stackoverflow</a>.</em></p>\n<p>Remark to title and answer: <code>-Dorg.eclipse.ecf.provider.filetransfer.excludeContributors=org.eclipse.ecf.provider.filetransfer.httpclient4</code> <em>- is not addressing explained exception. It solves other type of problem.</em> And title should be &quot;<strong>Can't install Eclipse plugins due to certificate validation exception&quot;</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9698727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cS3YYZ_XKAA/AAAAAAAAAAI/AAAAAAAABQE/EK7-603NWFY/photo.jpg?sz=128", "display_name": "Abdeljalil HALLOUMI", "link": "https://stackoverflow.com/users/9698727/abdeljalil-halloumi"}, "is_accepted": false, "score": 0, "last_activity_date": 1570450097, "creation_date": 1570450097, "answer_id": 58269268, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse/58269268#58269268", "title": "Unable to download plugin for eclipse", "body": "<p>You may try this solution:</p>\n\n<pre><code>&gt; sudo apt-get install ca-certificates-java\n&gt; sudo update-ca-certificates -f\n</code></pre>\n\n<p>add to eclipse.ini</p>\n\n<pre><code>-Dorg.eclipse.ecf.provider.filetransfer.excludeContributors=org.eclipse.ecf.provider.filetransfer.httpclient4\n</code></pre>\n"}], "owner": {"reputation": 1121, "user_id": 4447655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2b5e530f93b89775e81f3b66207eba79?s=128&d=identicon&r=PG&f=1", "display_name": "user4447655", "link": "https://stackoverflow.com/users/4447655/user4447655"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33545, "favorite_count": 6, "accepted_answer_id": 40668876, "answer_count": 6, "score": 18, "last_activity_date": 1598386551, "creation_date": 1479430770, "last_edit_date": 1479464120, "question_id": 40667733, "link": "https://stackoverflow.com/questions/40667733/unable-to-download-plugin-for-eclipse", "title": "Unable to download plugin for eclipse", "body": "<p>I am trying to download kotlin plugin for eclipse. I am able to connect to eclipse marketplace, but when i try to download it, I get an error: </p>\n\n<pre><code>Unable to read repository at \nhttps://dl.bintray.com/jetbrains/kotlin/eclipse-plugin/last/content.xml.\n\nsun.security.validator.ValidatorException: PKIX path building failed: \nsun.security.provider.certpath.SunCertPathBuilderException: \nunable to find valid certification path to requested target\n</code></pre>\n\n<p>I am behind a firewall and proxy settings are configured. I downloaded a certificate from this website and added it to keytool but the error is still the same. How I can resolve this error or install this plugin manually?</p>\n"}, {"tags": ["java", "html", "jsoup", "ascii", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "edited": false, "score": 0, "creation_date": 1479454975, "post_id": 40662502, "comment_id": 68573679, "body": "Thanks for your suggestion, but in this case all symbols are transformed into html entitites. I mean that if the html file contains <code>&lt;div title=&quot;2 &amp;gt; 1, 1 &gt; 0&quot;&gt;</code>, the script above transforms it into <code>&lt;div title=&quot;2 &amp;gt; 1, 1 &amp;gt; 0&quot;&gt;</code>, while I&#39;d like to have them exactly as they are in the file.  P.S. I&#39;ve updated the question adding more specifications."}, {"owner": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "reply_to_user": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "edited": false, "score": 0, "creation_date": 1479483136, "post_id": 40662502, "comment_id": 68591494, "body": "I did some more experiments, but it seems that jsoup always convert the <code>&amp;gt;</code> entities to <code>&gt;</code> for attributes; and the <code>&gt;</code> characters for entities to <code>&amp;gt;</code> in normal HTML. Do you specifically need any features from jsoup? If not, you might be better off using a standard XML parser."}, {"owner": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "edited": false, "score": 0, "creation_date": 1479484008, "post_id": 40662502, "comment_id": 68592115, "body": "Not that I am constrained to use Jsoup, but I would not like to discard it for the encoding-related issue. I think there should be a way out."}], "tags": [], "owner": {"reputation": 3944, "user_id": 3580502, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b53fdd50e2685553f2d894efbe9687d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szarnyas", "link": "https://stackoverflow.com/users/3580502/gabor-szarnyas"}, "is_accepted": false, "score": 0, "last_activity_date": 1479407615, "creation_date": 1479407615, "answer_id": 40662502, "question_id": 40659946, "link": "https://stackoverflow.com/questions/40659946/charset-of-the-attribute-values-in-jsoup/40662502#40662502", "title": "charset of the attribute values in Jsoup", "body": "<p>The <code>attr()</code> method returns a String without the HTML entities and I could not find a way to keep the HTML entities. However, you can use the <code>Jsoup.clean()</code> method to convert the characters in the string to entities.</p>\n\n<pre><code>val charset = Charset.forName(\"ascii\")\nval doc = Jsoup.parse(File(\"test.html\").readText(charset))\ndoc.body().select(\"div\").forEach { div -&gt;\n    val title = Jsoup.clean(\"${div.attr(\"title\")}\", \"\", Whitelist.none(), Document.OutputSettings().charset(charset))\n    println(\"title = $title\")\n}\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>title = 2 &amp;gt; 1, &amp;agrave; vs &amp;egrave;\n</code></pre>\n\n<p>Of course, this might not be a good solution for your use case.</p>\n"}], "owner": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479454842, "creation_date": 1479399609, "last_edit_date": 1479454842, "question_id": 40659946, "link": "https://stackoverflow.com/questions/40659946/charset-of-the-attribute-values-in-jsoup", "title": "charset of the attribute values in Jsoup", "body": "<p>I use the Jsoup and I need to pick up attribute values of all tags inside an html document in ascii-encoding maintaining them as they are, without converting them.</p>\n\n<p>So, I have the following html document </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"ascii\"&gt;        \n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div title=\"2 &amp;gt; 1, 1 &gt; 0, &amp;agrave; vs &amp;egrave;\"&gt;\n        3 &amp;gt; 2,  1 &gt; 0\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>which I want to parse by means of Jsoup.</p>\n\n<p>I need to extract the value of <code>title</code> attribite exactly as it is: <code>2 &amp;gt; 1, 1 &gt; 0, &amp;agrave; vs &amp;egrave;</code>. </p>\n\n<p>I've create a <code>Document</code> object <code>doc</code> as below (it is in Kotlin, but I don't think it important here):</p>\n\n<pre><code>val charset = Charset.forName(\"ascii\")\nval doc = Jsoup.parse(File(\"test.html\").readText(charset))\ndoc.outputSettings().charset(charset)\n</code></pre>\n\n<p>When I print out the doc by means of </p>\n\n<pre><code>println(doc.toString())\n</code></pre>\n\n<p>I get the following string</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n &lt;head&gt; \n  &lt;meta charset=\"ascii\"&gt; \n &lt;/head&gt; \n &lt;body&gt; \n  &lt;div title=\"2 &gt; 1, 1 &gt; 0, &amp;agrave; vs &amp;egrave;\"&gt;\n    3 &amp;gt; 2 \n  &lt;/div&gt; \n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>which differs from the file content by the <code>title</code> attribute value (<code>&amp;gt;</code> gets transformed into <code>&gt;</code> in string <code>\"2 &gt; 1\"</code>), while the rest of the document is OK.</p>\n\n<p>Then, inspecting the attribute value </p>\n\n<pre><code> doc.body().select(\"div\").forEach { div -&gt; println(\"title = ${div.attr(\"title\")}\") }\n</code></pre>\n\n<p>produces the following string</p>\n\n<pre><code>title = 2 &gt; 1, 1 &gt; 0, \u00e0 vs \u00e8\n</code></pre>\n\n<p>Notice, that <code>&amp;agrave;</code> and <code>&amp;egrave;</code> get transformed into <code>\u00e0</code> and <code>\u00e8</code>.</p>\n\n<p>My question is: in Jsoup, how can I get attribute values of the html tags preserving the way they are written in the input file? </p>\n\n<p>In the example above I need to get the string <code>\"2 &amp;gt; 1, 1 &gt; 0, &amp;agrave; vs &amp;egrave;\"</code> (as it is written in the input file) and not <code>\"2 &gt; 1, 1 &gt; 0, &amp;agrave; vs &amp;egrave;\"</code> niether <code>\"2 &amp;gt; 1, 1 &amp;gt; 0, \u00e0 vs \u00e8\"</code>.</p>\n"}, {"tags": ["android", "rx-java", "kotlin"], "comments": [{"owner": {"reputation": 828, "user_id": 5314275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/nqAJQ.jpg?s=128&g=1", "display_name": "Will Evers", "link": "https://stackoverflow.com/users/5314275/will-evers"}, "edited": false, "score": 0, "creation_date": 1479395817, "post_id": 40658504, "comment_id": 68548265, "body": "what is your question/problem?"}, {"owner": {"reputation": 12683, "user_id": 273119, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6b7f0d7d95b3a1f9547274129582b434?s=128&d=identicon&r=PG", "display_name": "Daniel Gomez Rico", "link": "https://stackoverflow.com/users/273119/daniel-gomez-rico"}, "reply_to_user": {"reputation": 828, "user_id": 5314275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/nqAJQ.jpg?s=128&g=1", "display_name": "Will Evers", "link": "https://stackoverflow.com/users/5314275/will-evers"}, "edited": false, "score": 0, "creation_date": 1479405900, "post_id": 40658504, "comment_id": 68555054, "body": "@WillEvers what value is 0 but should be 1"}, {"owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "edited": false, "score": 0, "creation_date": 1479456265, "post_id": 40658504, "comment_id": 68574277, "body": "so the problem is probably with <code>handleMessage</code> caller who gives different param value than you expect."}, {"owner": {"reputation": 4956, "user_id": 1002963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4dc75f1c845f963c48f730c9d2c33efe?s=128&d=identicon&r=PG", "display_name": "joaomgcd", "link": "https://stackoverflow.com/users/1002963/joaomgcd"}, "edited": false, "score": 0, "creation_date": 1523620067, "post_id": 40658504, "comment_id": 86646775, "body": "I&#39;m having the exact same issue! Did you ever resolve it?"}], "owner": {"reputation": 12683, "user_id": 273119, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6b7f0d7d95b3a1f9547274129582b434?s=128&d=identicon&r=PG", "display_name": "Daniel Gomez Rico", "link": "https://stackoverflow.com/users/273119/daniel-gomez-rico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479441590, "creation_date": 1479395650, "last_edit_date": 1479441590, "question_id": 40658504, "link": "https://stackoverflow.com/questions/40658504/using-rxjava-with-handler-reset-message-what-value", "title": "Using RxJava with Handler reset Message.what value", "body": "<p><code>Rxjava 1.1.8</code></p>\n\n<p>The idea is to listen to handler messages with subscriptions but <code>message.what</code> attribute comes with 0 always.</p>\n\n<pre><code>class RxHandler(looper: Looper) : Handler(looper) {\n  val messagesObservable = PublishSubject&lt;Message&gt;()\n\n  override fun handleMessage(msg: Message?) {\n    super.handleMessage(msg)\n    msg?.let { messagesObservable.onNext(it) }\n  }\n}\n</code></pre>\n\n<p>and then subscribe to it:</p>\n\n<pre><code>playbackHandler.messagesObservable\n          .subscribe({\n              // it.what is always 0 \n          }, { Timber.e(it, \"Error on playback handler message handling\") })\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>playbackHandler.sendEmptyMessage(1)\n</code></pre>\n\n<p>then I get <code>message.what == 0</code>\nexpected: <code>message.what == 1</code></p>\n"}, {"tags": ["java", "generics", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 3, "creation_date": 1479396546, "post_id": 40656926, "comment_id": 68548862, "body": "Did you see the following? <a href=\"http://stackoverflow.com/questions/37327048/retrofit-method-return-wildcard\" title=\"retrofit method return wildcard\">stackoverflow.com/questions/37327048/&hellip;</a> and <a href=\"https://github.com/square/retrofit/issues/2012\" rel=\"nofollow noreferrer\">github.com/square/retrofit/issues/2012</a> ?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1479405482, "post_id": 40656926, "comment_id": 68554809, "body": "Didn&#39;t the code you&#39;ve posted work? What kind of error did it produce?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1479454192, "post_id": 40656926, "comment_id": 68573317, "body": "@voddan unfortunately not, error log is : &quot;java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: retrofit2.Call&lt;T&gt; &quot; would be great"}], "answers": [{"tags": [], "owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "is_accepted": false, "score": 0, "last_activity_date": 1493133801, "creation_date": 1493133801, "answer_id": 43614857, "question_id": 40656926, "link": "https://stackoverflow.com/questions/40656926/retrofit-generic-type-call-method/43614857#43614857", "title": "Retrofit generic type call method", "body": "<p>Try to annotate function with <code>@JvmSuppressWildcards</code></p>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 2115403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2Ylo.jpg?s=128&g=1", "display_name": "rtsketo", "link": "https://stackoverflow.com/users/2115403/rtsketo"}, "is_accepted": false, "score": 0, "last_activity_date": 1593496822, "creation_date": 1593496822, "answer_id": 62651158, "question_id": 40656926, "link": "https://stackoverflow.com/questions/40656926/retrofit-generic-type-call-method/62651158#62651158", "title": "Retrofit generic type call method", "body": "<p>Retrofit(2.6.3) needs to know the types at compile time, when the annotation is being processed. So I don't think it's possible at all to use a generic if Retrofit won't support it in the future.</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2120, "favorite_count": 1, "answer_count": 2, "score": 8, "last_activity_date": 1593496822, "creation_date": 1479391401, "last_edit_date": 1493134046, "question_id": 40656926, "link": "https://stackoverflow.com/questions/40656926/retrofit-generic-type-call-method", "title": "Retrofit generic type call method", "body": "<p>Is it possible to create generic type of calls\nfor example </p>\n\n<pre><code>@POST(\"/service/\")\nfun&lt;T&gt; startRequest(@Body loginReq: Any): Call&lt;T&gt;\n</code></pre>\n\n<p>then just call it like this</p>\n\n<pre><code>val request = api.startRequest&lt;MyModel_1&gt;(loginReq)\n</code></pre>\n\n<p>when I write like this and run the method, it says: </p>\n\n<pre><code>java.lang.IllegalArgumentException: Method return type must not include a type variable or wildcard: retrofit2.Call&lt;T&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "nullable", "mutable", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 4, "creation_date": 1479377699, "post_id": 40652079, "comment_id": 68535551, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible\">Best way to handle such scenario where &quot;smart cast is imposible&quot;</a>"}, {"owner": {"reputation": 585, "user_id": 5349594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cZyUPWFLjFY/AAAAAAAAAAI/AAAAAAAAAAA/48_D2SK1SQM/photo.jpg?sz=128", "display_name": "Marius Kaunietis", "link": "https://stackoverflow.com/users/5349594/marius-kaunietis"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479377905, "post_id": 40652079, "comment_id": 68535714, "body": "@miensol so, you are suggesting that my else branch should be &quot;wrapped&quot; in <code>?.let</code>?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1479378415, "post_id": 40652079, "comment_id": 68536088, "body": "Yes. You can do this: <code>datePurchased?.let { if(it.isToday()) &#47;&#47; Do something } ?: &quot;&quot;</code>"}, {"owner": {"reputation": 585, "user_id": 5349594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cZyUPWFLjFY/AAAAAAAAAAI/AAAAAAAAAAA/48_D2SK1SQM/photo.jpg?sz=128", "display_name": "Marius Kaunietis", "link": "https://stackoverflow.com/users/5349594/marius-kaunietis"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1479378823, "post_id": 40652079, "comment_id": 68536366, "body": "@marstran thanks. I did not realise that <code>?.let</code> supported <code>?:</code>"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1479405730, "creation_date": 1479405730, "answer_id": 40661949, "question_id": 40652079, "link": "https://stackoverflow.com/questions/40652079/kotlin-check-for-null-twice-in-if-else/40661949#40661949", "title": "Kotlin check for null twice in if else", "body": "<p>If you are confident you have no data race in which <code>datePurchased</code> becomes <code>null</code>, then add a non-null assertion in the <code>else</code> branch:</p>\n\n<pre><code>if (datePurchased == null) {\n    \"\"\n} else {\n    datePurchased!!.isToday()\n}\n</code></pre>\n\n<p>Or shorter and more reliable: </p>\n\n<pre><code>datePurchased?.isToday() ?: \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 5349594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cZyUPWFLjFY/AAAAAAAAAAI/AAAAAAAAAAA/48_D2SK1SQM/photo.jpg?sz=128", "display_name": "Marius Kaunietis", "link": "https://stackoverflow.com/users/5349594/marius-kaunietis"}, "is_accepted": true, "score": 4, "last_activity_date": 1479458262, "creation_date": 1479458262, "answer_id": 40672577, "question_id": 40652079, "link": "https://stackoverflow.com/questions/40652079/kotlin-check-for-null-twice-in-if-else/40672577#40672577", "title": "Kotlin check for null twice in if else", "body": "<p>Thanks to marstran, I ended up with such solution:</p>\n\n<pre><code>        return datePurchased?.let {\n            when {\n                it.isToday()     -&gt; {\n                    \"Today\"\n                }\n                it.isYesterday() -&gt; {\n                    \"Yesterday\"\n                }\n                else             -&gt; {\n                    dateFormat.format(it)\n                }\n\n            }\n        } ?: \"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5236, "user_id": 692167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/414107f42456622acd7bb1d083f0b074?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/692167/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1494295554, "creation_date": 1494295554, "answer_id": 43859897, "question_id": 40652079, "link": "https://stackoverflow.com/questions/40652079/kotlin-check-for-null-twice-in-if-else/43859897#43859897", "title": "Kotlin check for null twice in if else", "body": "<ol>\n<li><p>datePurchased is mutable, which means it can be changed.</p></li>\n<li><p>Your code is not running inside any sort of synchronous lock, which means another thread could potentially be running and modifying it at the same time.  </p></li>\n</ol>\n\n<p>With this in mind, the following is possible:</p>\n\n<pre><code>if (datePurchased == null) {\n    ...\n} else {\n\n    // another thread comes in here and changes datePurchased=null\n\n    if (datePurchased.isToday()) { // Null Pointer Exception!\n        ...\n    }\n}\n</code></pre>\n\n<p>You may have no thread doing this, but the compiler doesn't know.  It plays it safe and says you can't do this.  Probably 98% of the time it's wrong but that other 2% forces you to think about how your code behaves in a concurrent environment.</p>\n\n<p>One solution is to simply use a local val that can't be changed in a new thread:</p>\n\n<pre><code>val datePurchased = datePurchased\n\nif (datePurchased == null) {\n    ...\n} else {\n\n    // datePurchased val cannot have been changed, compiler can guarantee safety\n\n    if (datePurchased.isToday()) { \n        ...\n    }\n}\n</code></pre>\n\n<p>But the main thing is you now need to think about what immutable really means in the context of your app, and whether you really need to have variables mutable.</p>\n"}], "owner": {"reputation": 585, "user_id": 5349594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cZyUPWFLjFY/AAAAAAAAAAI/AAAAAAAAAAA/48_D2SK1SQM/photo.jpg?sz=128", "display_name": "Marius Kaunietis", "link": "https://stackoverflow.com/users/5349594/marius-kaunietis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1426, "favorite_count": 1, "accepted_answer_id": 40672577, "answer_count": 3, "score": 1, "last_activity_date": 1502747593, "creation_date": 1479377597, "last_edit_date": 1502747593, "question_id": 40652079, "link": "https://stackoverflow.com/questions/40652079/kotlin-check-for-null-twice-in-if-else", "title": "Kotlin check for null twice in if else", "body": "<p>I have an item with variable <code>datePurchased</code>, which can be null. Based on purchase date, I generate a label. When I check if datePurchased is null, in else branch I still have to check for null. It says that smart cast is impossible, because it's a mutable property.</p>\n\n<p>Here's what I've tried so far:</p>\n\n<pre><code>if (datePurchased == null) {\n    \"\"\n} else {\n    if (datePurchased.isToday()) {//error here\n    }\n}\n\n    when {\n        datePurchased == null    -&gt; {\n\n        }\n        datePurchased.isToday() -&gt; {//smart cast bla bla mutable bla bla\n        datePurchased?.isToday() -&gt; {//expected Boolean, got Boolean?\n        datePurchased?.isToday()?:false -&gt; {//all good, but does not look nice, since datePurchased can't be null here\n        }\n        else                     -&gt; {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["interface", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479363727, "post_id": 40645590, "comment_id": 68527373, "body": "<code>Bar().changeValue</code> is of type <code>StateChange&lt;Foo&gt;</code> and you&#39;re trying to assign it to <code>StateChange&lt;Bar&gt;</code>. What would that mean even if it worked?"}, {"owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1479514607, "post_id": 40645590, "comment_id": 68606142, "body": "@miensol I have no idea. That&#39;s why I want to avoid making that possible."}], "answers": [{"comments": [{"owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "edited": false, "score": 0, "creation_date": 1479514695, "post_id": 40650173, "comment_id": 68606164, "body": "So I must &quot;use workarounds like forcing a State to take in itself as a generic parameter&quot;? Aww man"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "edited": false, "score": 1, "creation_date": 1479536398, "post_id": 40650173, "comment_id": 68609716, "body": "Well, yes. The concept of &quot;self type&quot; is relatively uncommon in programming languages and, as far as I understand, it interacts quite badly with Java&#39;s type system in interop scenarios."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 3, "last_activity_date": 1479372194, "creation_date": 1479372194, "answer_id": 40650173, "question_id": 40645590, "link": "https://stackoverflow.com/questions/40645590/can-kotlin-allow-a-function-that-returns-a-value-of-this-interfaces-implementat/40650173#40650173", "title": "Can Kotlin allow a function that returns a value of this interface&#39;s implementation&#39;s type?", "body": "<p>You can use a class with a recursive upper bound for this:</p>\n\n<pre><code>interface State&lt;T : State&lt;T&gt;&gt; {\n    val changeValue: StateChange&lt;T&gt;\n}\n\ninterface StateChange&lt;StateType: State&lt;StateType&gt;&gt;\n</code></pre>\n\n<p>Now this code will no longer compile:</p>\n\n<pre><code>class Foo: State&lt;Foo&gt; { val changeValue: StateChange&lt;Bar&gt; = Bar().changeValue }\nclass Bar: State&lt;Bar&gt; { val changeValue: StateChange&lt;Foo&gt; = Foo().changeValue }\n</code></pre>\n"}], "owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479585637, "creation_date": 1479348604, "last_edit_date": 1479585637, "question_id": 40645590, "link": "https://stackoverflow.com/questions/40645590/can-kotlin-allow-a-function-that-returns-a-value-of-this-interfaces-implementat", "title": "Can Kotlin allow a function that returns a value of this interface&#39;s implementation&#39;s type?", "body": "<p>I want to write something like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Represents a state, large or small.\n */\ninterface State {\n    /**\n     * \n     */\n    val changeValue: StateChange&lt;This&gt; // does not compile; \"This\" is a keyword I made up that might reference the implementing class\n}\n\n\n/**\n * Represents a change in a state, large or small.\n *\n * @param StateType The type of state that has changed\n */\ninterface StateChange&lt;StateType: State&gt;\n</code></pre>\n\n<p>However, as noted in my comment, I don't know the syntax for this. Is that in existance? Or must I use workarounds like forcing a State to take in itself as a generic parameter?</p>\n\n<hr>\n\n<p>In case it's not apparent, I can't use <code>val changeValue: StateChange&lt;State&gt;</code> because then that makes this possible, and I don't want that:</p>\n\n<pre><code>// BAD EXAMPLE - This is what I want to avoid\nclass Foo: State { val changeValue: StateChange&lt;Bar&gt; = Bar().changeValue }\nclass Bar: State { val changeValue: StateChange&lt;Foo&gt; = Foo().changeValue }\n</code></pre>\n"}]