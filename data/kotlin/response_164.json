[{"tags": ["spring", "validation", "spring-boot", "kotlin", "httprequest"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1519862628, "post_id": 49040565, "comment_id": 85086634, "body": "Yes, you can do that in the constructor of the User class, or in validations method that userService calls. You should check out the <a href=\"https://plugins.gradle.org/plugin/org.jetbrains.kotlin.plugin.spring\" rel=\"nofollow noreferrer\">kotlin-spring gradle plugin</a> and the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html\" rel=\"nofollow noreferrer\">All-open compiler plugin</a> (quick intro at  <a href=\"http://www.baeldung.com/kotlin-allopen-spring\" rel=\"nofollow noreferrer\">baeldung.com/kotlin-allopen-spring</a>). They make Spring + Kotlin data classes much more bearable."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519863190, "post_id": 49040565, "comment_id": 85086775, "body": "As to the <i>how</i> of validation, you could go with JsonSchema if you don&#39;t mind the heavy schema docs. There&#39;s a basic example at <a href=\"http://www.baeldung.com/introduction-to-json-schema-in-java\" rel=\"nofollow noreferrer\">baeldung.com/introduction-to-json-schema-in-java</a>"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 2, "creation_date": 1519889246, "post_id": 49040565, "comment_id": 85093871, "body": "Do you have jackson kotlin module (<a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-module-kotlin</a>) registered? Once you do, you can use normal javax.validation annotations (just remember about annotation use-site target)."}, {"owner": {"reputation": 96, "user_id": 9140584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1310781492268211/picture?type=large", "display_name": "Miguel Anci&#227;es", "link": "https://stackoverflow.com/users/9140584/miguel-anci%c3%a3es"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1519993956, "post_id": 49040565, "comment_id": 85143299, "body": "Actually, @RafalG. &#39;s answer worked like a charm. This has to do with the no-arg constructor mentioned by Paul Hicks so, thanks you both for taking the time to help me. JSON schema would also work if more validation it&#39;s needed"}, {"owner": {"reputation": 2032, "user_id": 2852528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3NIb.jpg?s=128&g=1", "display_name": "Serh&#237;i Pov&#237;senko", "link": "https://stackoverflow.com/users/2852528/serh%c3%adi-pov%c3%adsenko"}, "edited": false, "score": 0, "creation_date": 1582196086, "post_id": 49040565, "comment_id": 106697550, "body": "@MiguelAnci&#227;es have a look into this <a href=\"https://stackoverflow.com/questions/35847763/kotlin-data-class-bean-validation-jsr-303\" title=\"kotlin data class bean validation jsr 303\">stackoverflow.com/questions/35847763/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 0, "last_activity_date": 1519864800, "creation_date": 1519864800, "answer_id": 49040935, "question_id": 49040565, "link": "https://stackoverflow.com/questions/49040565/kotlin-and-spring-boot-request-body-validation/49040935#49040935", "title": "Kotlin and Spring Boot Request Body Validation", "body": "<p>Yes, there are ways to validate the request body JSON \"automatically\".</p>\n\n<p><a href=\"http://json-schema.org/\" rel=\"nofollow noreferrer\">JSON Schema</a> is one of them, and there are several implementations. <a href=\"https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/json/JsonSchema.html\" rel=\"nofollow noreferrer\">Spring Data Rest</a> includes it, so that's probably your first choice, since Spring Boot wraps it so nicely.</p>\n"}, {"tags": [], "owner": {"reputation": 2032, "user_id": 2852528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3NIb.jpg?s=128&g=1", "display_name": "Serh&#237;i Pov&#237;senko", "link": "https://stackoverflow.com/users/2852528/serh%c3%adi-pov%c3%adsenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1583758648, "creation_date": 1583758648, "answer_id": 60601062, "question_id": 49040565, "link": "https://stackoverflow.com/questions/49040565/kotlin-and-spring-boot-request-body-validation/60601062#60601062", "title": "Kotlin and Spring Boot Request Body Validation", "body": "<p>I think the following solution that consist of two parts could take place for <code>Spring Boot 2.x</code>:</p>\n\n<hr>\n\n<h2>API facade configuration</h2>\n\n<pre><code>@Configuration\nclass ValidationRouter(\n        val validationService: ValidationService\n) {\n\n    @Bean\n    fun router() = router {\n        accept(APPLICATION_JSON).nest {\n            \"/api\".nest {\n                POST(\"/validation\") { req -&gt;\n                    req.bodyToMono(ValidatingBody::class.java)\n                            .doOnNext(validationService::validate)\n                            .flatMap { ServerResponse.ok().build() }\n                            .onErrorResume(BodyValidationException::class.java, validationService::handle)\n                }\n            }\n\n        }\n\n    }\n\n    data class ValidatingBody(\n            @get:NotBlank(message = \"should not be blank\")\n            var mandatoryText: String?,\n            @get:Size(min = 2, max = 10, message = \"should contain more than 2 and less than 10 characters\")\n            @get:NotBlank(message = \"should not be blank\")\n            var sizedText: String?,\n            @get:Min(value = 1, message = \"should be no less than 1\")\n            @get:Max(value = 10, message = \"should be no greater than 10\")\n            @get:NotNull(message = \"should be specified\")\n            var limitedNumber: Int?\n    )\n}\n</code></pre>\n\n<hr>\n\n<h2>Validating mechanism</h2>\n\n<pre><code>@Service\nclass ValidationService(val validator: Validator) {\n\n    private val log = LoggerFactory.getLogger(ValidationService::class.java)\n\n    @Throws(BodyValidationException::class)\n    fun &lt;T&gt; validate(o: T) {\n        val violations = validator.validate(o)\n        if (violations.isEmpty()) return\n\n        throw BodyValidationException.of(violations.stream()\n                .map { v: ConstraintViolation&lt;T&gt; -&gt; \"${v.propertyPath} ${v.message}\" }\n                .collect(Collectors.toSet()).toMutableSet())\n    }\n\n    fun handle(e: BodyValidationException): Mono&lt;ServerResponse&gt; =\n            handleInternal(ErrorResponse(e.errors))\n\n    private fun handleInternal(response: ErrorResponse): Mono&lt;ServerResponse&gt; =\n            Mono.just(response)\n                    .doOnNext { res -&gt; log.warn(res.errors.joinToString(\",\")) }\n                    .flatMap { res -&gt;\n                        badRequest().contentType(APPLICATION_JSON)\n                                .bodyValue(res)\n                    }\n\n    data class ErrorResponse(val errors: Set&lt;String&gt;)\n\n    class BodyValidationException private constructor(var errors: Set&lt;String&gt;) : IllegalArgumentException() {\n        companion object {\n            fun of(errors: Set&lt;String&gt;): BodyValidationException {\n                return BodyValidationException(errors)\n            }\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 9140584, "user_type": "registered", "profile_image": "https://graph.facebook.com/1310781492268211/picture?type=large", "display_name": "Miguel Anci&#227;es", "link": "https://stackoverflow.com/users/9140584/miguel-anci%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4326, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1583758648, "creation_date": 1519862093, "question_id": 49040565, "link": "https://stackoverflow.com/questions/49040565/kotlin-and-spring-boot-request-body-validation", "title": "Kotlin and Spring Boot Request Body Validation", "body": "<p>I'm just starting to use kotlin along side with Spring Boot to develop a simple web application.</p>\n\n<p>Let\u00b4s take a simple data class object</p>\n\n<pre><code>@Entity  \ndata class User (name: String) {  \n  @Id @GeneratedValue(strategy = GenerationType.AUTO)  \n  var id: Long = -1  \n}  \n</code></pre>\n\n<p>and a Controller</p>\n\n<pre><code>@RequestMapping(method = arrayOf(RequestMethod.POST))\nfun createUser (@RequestBody user: User): User {\n    return userService.createUser(user)\n}\n</code></pre>\n\n<p>Well, making a request with any request body would just throw an http 400 error \n<code>no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?); nested exception is com.fasterxml.jackson.databind.JsonMappingException</code></p>\n\n<p>To eliminate this error I found out that we need to give some default values to the constructor arguments so:</p>\n\n<pre><code>name: String = \"\"\n</code></pre>\n\n<p>or maybe:</p>\n\n<pre><code>name: String? = null\n</code></pre>\n\n<p>Now, there is absolutely no validation of the input that goes on the response body, meaning that, if the JSON present in there does not respect the syntax of the User class, the default values will be used and stored in the database.</p>\n\n<p>Is there any way to validate the request body JSON input to throw a bad request if it does not comply with the User class arguments without having to do it manually?</p>\n\n<p>In this example there is only one argument but with larger classes manually does not seems like a good way to go</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 7071039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRallBLixcs/AAAAAAAAAAI/AAAAAAAAAA0/ElTymtnHB4Q/photo.jpg?sz=128", "display_name": "Tarun Chauhan", "link": "https://stackoverflow.com/users/7071039/tarun-chauhan"}, "edited": false, "score": 0, "creation_date": 1519873912, "post_id": 49040978, "comment_id": 85089262, "body": "Hey thanks for your reply...let me check your answer and then I&#39;ll get back to you :)"}, {"owner": {"reputation": 148, "user_id": 7071039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRallBLixcs/AAAAAAAAAAI/AAAAAAAAAA0/ElTymtnHB4Q/photo.jpg?sz=128", "display_name": "Tarun Chauhan", "link": "https://stackoverflow.com/users/7071039/tarun-chauhan"}, "edited": false, "score": 0, "creation_date": 1519875644, "post_id": 49040978, "comment_id": 85089655, "body": "Yay! your answer is working fine but i wonder if there is any easy approach for doing this. Because with this i have to add this check to my every field because i am not sure which one gets null when."}, {"owner": {"reputation": 148, "user_id": 7071039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRallBLixcs/AAAAAAAAAAI/AAAAAAAAAA0/ElTymtnHB4Q/photo.jpg?sz=128", "display_name": "Tarun Chauhan", "link": "https://stackoverflow.com/users/7071039/tarun-chauhan"}, "edited": false, "score": 0, "creation_date": 1519875919, "post_id": 49040978, "comment_id": 85089731, "body": "One more thing..can you explain how it gets null when my description is of non-null type. Even when i am adding this check in <code>writeParcel</code> i am getting <b>Elvis operator(?:) always return the left operand of non-nullable type String</b> message for <code>parcel.writeString(description ?: &quot;&quot;)</code>. Can you explain then how it went null. Is it GSON&#39;s doing or Retrofit&#39;s? or simply is it a bug in Kotlin? An explanation will help me to understand more about how things working here."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "reply_to_user": {"reputation": 148, "user_id": 7071039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRallBLixcs/AAAAAAAAAAI/AAAAAAAAAA0/ElTymtnHB4Q/photo.jpg?sz=128", "display_name": "Tarun Chauhan", "link": "https://stackoverflow.com/users/7071039/tarun-chauhan"}, "edited": false, "score": 1, "creation_date": 1550740176, "post_id": 49040978, "comment_id": 96383002, "body": "@TarunChauhan the problem is kotlin&#39;s Java interoperability. All the non-null safety checks are made at compile time, but they are artificial checks on kotlin side. At runtime, retrofit reads <i>&quot;description&quot;: null</i> and pass that to the Java-equivalent reference (because in Java any reference can be assigned to null) that you&#39;ve in kotlin <i>var description: String</i>, bypassing completely the compiler checks, because we&#39;re executing at runtime. And there you are, an inconsistency where compiler will tell you that reference cannot be null, while an output debugging line will show you the opposite"}], "tags": [], "owner": {"reputation": 371, "user_id": 2497575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017a15a116aed17a96076ce4f84d4876?s=128&d=identicon&r=PG", "display_name": "daniribalbert", "link": "https://stackoverflow.com/users/2497575/daniribalbert"}, "is_accepted": true, "score": 4, "last_activity_date": 1519865191, "creation_date": 1519865191, "answer_id": 49040978, "question_id": 49040506, "link": "https://stackoverflow.com/questions/49040506/retrofit-kotlin-nullpointerexception-on-non-null-object-type/49040978#49040978", "title": "Retrofit-Kotlin NullPointerException on non-null object type", "body": "<p>You're probably writing <code>null</code> to your parcelable here: <code>parcel.writeString(description)\n</code></p>\n\n<p>You might want to make sure the description is never <code>null</code> using with the following code: <code>parcel.writeString((if (description == null) \"\" else name))</code></p>\n"}], "owner": {"reputation": 148, "user_id": 7071039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gRallBLixcs/AAAAAAAAAAI/AAAAAAAAAA0/ElTymtnHB4Q/photo.jpg?sz=128", "display_name": "Tarun Chauhan", "link": "https://stackoverflow.com/users/7071039/tarun-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1978, "favorite_count": 0, "accepted_answer_id": 49040978, "answer_count": 1, "score": 1, "last_activity_date": 1609782909, "creation_date": 1519861676, "last_edit_date": 1609782909, "question_id": 49040506, "link": "https://stackoverflow.com/questions/49040506/retrofit-kotlin-nullpointerexception-on-non-null-object-type", "title": "Retrofit-Kotlin NullPointerException on non-null object type", "body": "<p>I am facing a really weird issue while implementing GitHub API's using <code>Retrofit</code> and <code>Kotlin</code>.</p>\n<p>This is my first time working on Andorid Arch and <code>Retrofit</code> so pardon me if i make any mistake in this question.</p>\n<p>What exactly is happening is i am calling a GitHub API using <code>Retrofit</code> to fetch user's repositories. One repo have <code>null</code> in <code>description</code>. My app doesn't crash on that time when API returns null, it crashes when i am passing that object in <code>Intent</code> to another <code>Activity</code>. My Data Class is <code>Parcelable</code>.</p>\n<p>Below is my Data Class:</p>\n<pre><code>data class GitHubRepository(\n    var id: String = &quot;&quot;,\n    var name: String = &quot;&quot;,\n    var full_name: String = &quot;&quot;,\n    var owner: GitHubUser = GitHubUser(),\n    var description: String = &quot;&quot;,            // This is getting null even when it is of non-null type\n    var html_url: String = &quot;&quot;,\n    var watchers_count: String = &quot;&quot;\n) : Parcelable {\nconstructor(parcel: Parcel) : this(\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readParcelable(GitHubUser::class.java.classLoader),\n        parcel.readString(),                // This is where i am getting error\n        parcel.readString(),\n        parcel.readString())\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(id)\n        parcel.writeString(name)\n        parcel.writeString(full_name)\n        parcel.writeParcelable(owner, flags)\n        parcel.writeString(description)\n        parcel.writeString(html_url)\n        parcel.writeString(watchers_count)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;GitHubRepository&gt; {\n        override fun createFromParcel(parcel: Parcel): GitHubRepository {\n            return GitHubRepository(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;GitHubRepository?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n<p>Below is how i am creating Retrofit object:</p>\n<pre><code>val BASE_URL = &quot;https://api.github.com/&quot;\n\nprivate var retrofit: Retrofit? = null\n\nfun getClient(): Retrofit {\n\n    if (retrofit == null) {\n        retrofit = Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n    }\n\n    return retrofit!!\n}\n</code></pre>\n<p>Below is My API Request:</p>\n<pre><code>@GET(&quot;users/{username}/repos&quot;)\nfun getReposOfUser(\n        @Path(&quot;username&quot;) username: String,\n        @Query(&quot;page&quot;) pageNumber: Int,\n        @Query(&quot;per_page&quot;) perPage: Int = 10\n): Call&lt;ArrayList&lt;GitHubRepository&gt;&gt;\n</code></pre>\n<p>API that have <code>null</code> value in description:\n<a href=\"https://api.github.com/users/kislyuk/repos\" rel=\"nofollow noreferrer\">https://api.github.com/users/kislyuk/repos</a></p>\n<p>Below is the Response:</p>\n<pre><code>[\n...\n{\n    &quot;id&quot;: 1924281,\n    &quot;name&quot;: &quot;akutils&quot;,\n    &quot;full_name&quot;: &quot;kislyuk/akutils&quot;,\n    &quot;owner&quot;: {...},\n    &quot;private&quot;: false,\n    &quot;html_url&quot;: &quot;https://github.com/kislyuk/akutils&quot;,\n    &quot;description&quot;: null, // This is the null value\n    ...\n}\n...\n]\n</code></pre>\n<p>Below is the LogCat in which <code>GitHubModels.kt</code> is my <strong>Kotlin file</strong> which contains other data classes as well. The one with error is <code>GitHubRepository</code> data class which i displayed above:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.tarunchauhan.githubapp, PID: 18276\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.tarunchauhan.githubapp/com.tarunchauhan.githubapp.activities.RepoDetailsActivity}: java.lang.IllegalStateException: parcel.readString() must not be null\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.IllegalStateException: parcel.readString() must not be null\n        at com.tarunchauhan.githubapp.models.GitHubRepository.&lt;init&gt;(GitHubModels.kt:29)\n        at com.tarunchauhan.githubapp.models.GitHubRepository$CREATOR.createFromParcel(GitHubModels.kt:49)\n        at com.tarunchauhan.githubapp.models.GitHubRepository$CREATOR.createFromParcel(GitHubModels.kt:47)\n        at android.os.Parcel.readParcelable(Parcel.java:2781)\n        at android.os.Parcel.readValue(Parcel.java:2675)\n        at android.os.Parcel.readArrayMapInternal(Parcel.java:3042)\n        at android.os.BaseBundle.unparcel(BaseBundle.java:257)\n        at android.os.Bundle.getParcelable(Bundle.java:888)\n        at android.content.Intent.getParcelableExtra(Intent.java:7075)\n        at com.tarunchauhan.githubapp.activities.RepoDetailsActivity.onCreate(RepoDetailsActivity.kt:51)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6541) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n</code></pre>\n<p>I even searched for converting all nulls into Strings in API request but couldn't get any solid idea.</p>\n<p>Please look into this and let me know any workaround for this.</p>\n<p>Thanks :-)</p>\n"}, {"tags": ["swift", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1519861465, "creation_date": 1519861465, "answer_id": 49040478, "question_id": 49040429, "link": "https://stackoverflow.com/questions/49040429/kotlin-java-equivalent-of-swift-dictionary-hashmap-with-null-value/49040478#49040478", "title": "Kotlin / Java equivalent of Swift, Dictionary / HashMap with null value", "body": "<p>If you want to be able to put nulls as values in a HashMap in Kotlin, define it like this:</p>\n\n<pre><code>HashMap&lt;String, Any?&gt;\n</code></pre>\n\n<p>The question mark says that the value may be optionally null.</p>\n"}], "owner": {"reputation": 2852, "user_id": 8869493, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z-bTRz9NWeI/AAAAAAAAAAI/AAAAAAAAAAc/fR_lDnu1Tus/photo.jpg?sz=128", "display_name": "Gustavo Vollbrecht", "link": "https://stackoverflow.com/users/8869493/gustavo-vollbrecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 1, "accepted_answer_id": 49040478, "answer_count": 1, "score": 0, "last_activity_date": 1519861484, "creation_date": 1519861102, "last_edit_date": 1519861484, "question_id": 49040429, "link": "https://stackoverflow.com/questions/49040429/kotlin-java-equivalent-of-swift-dictionary-hashmap-with-null-value", "title": "Kotlin / Java equivalent of Swift, Dictionary / HashMap with null value", "body": "<p>In Swift, when I want in Firebase to \"move\" data from table A to table B I need to delete it from table A and write it on table B, and do both actions with one transaction only, using a Dictionary, like this:</p>\n\n<p><code>let tableADict = [\"tableA/someID/\" : NSNull()]\nlet tableBDict = [\"tableB/someID/\" : (someValue)]</code></p>\n\n<p>Then I merge both \"instructions\" into one dictionary and use the <code>updateChildValues</code> from Firebase. Doing that I can delete from table A and write on table B.</p>\n\n<p>The problem is trying to do the same in Kotlin, when I try to put null as value on a <code>HashMap&lt;String, Any&gt;</code> I get <code>@throws kotlin.TypeCastException: null cannot be cast to non-null type</code></p>\n\n<p><strong>My question is:</strong> How can I make a structure like Swift Dictionary that will delete from table A and write on table B on the same <code>updateChildValues</code> in Kotlin</p>\n"}, {"tags": ["multithreading", "kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1519854537, "post_id": 49039088, "comment_id": 85083651, "body": "If you run your coroutines on a single thread, then you&#39;ll be limited to single-threaded performance for workloads that aren&#39;t IO-bound.  If you get round this limit by running coroutines across multiple threads, then you&#39;re back to threads :)"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1519856091, "post_id": 49039088, "comment_id": 85084347, "body": "Co-routines are useful in one specific corner of the solution space. Multi-threading covers a much larger area of the solution space. There is minimal overlap between the solutions requiring multiple threads and co-routines."}], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1519889757, "post_id": 49044389, "comment_id": 85094082, "body": "Hey Roman! Thanks for coroutines, though I have hard times understanding the magic behind them, which makes using them quite dangerous. As soon as I understand the magic - I certainly will give them a try. This is just kind of feedback :-) I know you have had talks in Kotlin Conf concerning that topic."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1519892023, "post_id": 49044389, "comment_id": 85095084, "body": "Thanks. Take a look at my &quot;Deep Dive into Coroutines&quot; talk from KotlinConf. It gives enough information about implementation details to dispel all the magic: <a href=\"https://www.youtube.com/watch?v=YrrUCSi72E8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=YrrUCSi72E8</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1519898516, "post_id": 49044389, "comment_id": 85098638, "body": "There&#39;s some middle ground as well: DAG-based computing with a model similar to Actors. It&#39;s very CPU-intensive, but individual workers get blocked when their output queue fills up. Then you find another worker to run. With hundreds or thousands of workers, performance is better with coroutines in a thread pool than with native threads. This is the architecture we use in Hazelcast Jet, and we already applied Kotlin coroutines to it as a prototype (in production we have a coroutine-like Java API). Kotlin worked great for us, 100% performance of Java!"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 7, "last_activity_date": 1519892092, "last_edit_date": 1519892092, "creation_date": 1519888289, "answer_id": 49044389, "question_id": 49039088, "link": "https://stackoverflow.com/questions/49039088/is-there-any-area-where-threads-should-be-favored-over-coroutines/49044389#49044389", "title": "Is there any area where Threads should be favored over Coroutines?", "body": "<p>Coroutines are useful for asynchronous programming. When you are writing code that has to wait most of the time for some external events, like it often happens in modern connected user-interfaces and micro-service-oriented backend applications, then coroutines and the concept of Kotlin suspending functions let you write naturally looking and easy-to-understand code that is more scalable than the code with explicit threads.</p>\n\n<p>If you are writing some kind of computation, CPU-intensive code, then you'd find that classical patterns of multithread-programming and parallelism work better. </p>\n\n<p>It does not mean that you cannot use coroutines to parallelize some piece of CPU-intensive application, but you will not get any benefits in either code readability or its performance from doing so. </p>\n"}], "owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 49044389, "answer_count": 1, "score": 2, "last_activity_date": 1552981783, "creation_date": 1519854191, "last_edit_date": 1552981783, "question_id": 49039088, "link": "https://stackoverflow.com/questions/49039088/is-there-any-area-where-threads-should-be-favored-over-coroutines", "title": "Is there any area where Threads should be favored over Coroutines?", "body": "<p>I just gave a talk about Kotlin's Coroutines and the question arised if Coroutines can always replace Threads or if there also might be disadvantages.</p>\n\n<p>Or the other way round: Is there any area where Coroutines should not be used for?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1519852144, "post_id": 49038519, "comment_id": 85082381, "body": "The return type will be a function, taking 2 int in parameters, and returning an int."}], "answers": [{"comments": [{"owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "edited": false, "score": 0, "creation_date": 1519904905, "post_id": 49038729, "comment_id": 85102232, "body": "Could you expand your answer and include how Javascript would see the same return type?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "edited": false, "score": 0, "creation_date": 1519906408, "post_id": 49038729, "comment_id": 85103102, "body": "@dilvan, I&#39;m not quite sure about the runtime representation, but in the compiled JS, functional values are compiled to something like <code>function main$lambda(s1, s2) { ... }; var f = main$lambda</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1519906602, "last_edit_date": 1519906602, "creation_date": 1519852752, "answer_id": 49038729, "question_id": 49038519, "link": "https://stackoverflow.com/questions/49038519/what-is-the-java-type-at-runtime-for-a-kotlin-function-type/49038729#49038729", "title": "What is the Java type at runtime for a Kotlin function type?", "body": "<p>The Kotlin function types <code>(T1, ..., TN) -&gt; R</code> are represented by the <code>FunctionN&lt;T1, ..., TN, R&gt;</code> types of the Kotlin runtime.</p>\n\n<p>There is a <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/function-types.md\" rel=\"nofollow noreferrer\">specification document</a> describing this aspect of the language design at its current state.</p>\n\n<p>It says, in particular, that there are 23 function types from <code>Function0</code> to <code>Function22</code> in the Kotlin runtime for JVM (shipped as the <code>kotlin-runtime</code> library), looking like this:</p>\n\n<pre><code>package kotlin.jvm.functions\n\ninterface Function1&lt;in P1, out R&gt; : kotlin.Function&lt;R&gt; {\n    fun invoke(p1: P1): R\n}\n</code></pre>\n\n<p>The extension function types <code>TR.(T1, ..., TN) -&gt; R</code> have the same runtime representation as normal functional types with the receiver prepended to the parameters list, namely <code>(TR, T1, ..., TN) -&gt; R</code>.</p>\n\n<p>Functions with more than 22 parameters are represented at runtime by a single type:</p>\n\n<pre><code>package kotlin.jvm.functions\n\ninterface FunctionN&lt;out R&gt; : kotlin.Function&lt;R&gt; {\n    val arity: Int\n    fun invokeVararg(vararg p: Any?): R\n}\n</code></pre>\n\n<p>In Kotlin/JS, functional values are represented in the way that is natural to JS, i.e. they are compiled to a function definition and a reference to it:</p>\n\n<pre><code>function main$lambda(s1, s2) {\n    println(s1 + s2);\n    return Unit;\n}\n\nfunction main(args) {\n    var f = main$lambda;\n    /* ... */\n}\n</code></pre>\n"}], "owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 49038729, "answer_count": 1, "score": 0, "last_activity_date": 1519906602, "creation_date": 1519851825, "question_id": 49038519, "link": "https://stackoverflow.com/questions/49038519/what-is-the-java-type-at-runtime-for-a-kotlin-function-type", "title": "What is the Java type at runtime for a Kotlin function type?", "body": "<p>If I have the Kotlin method bellow and call it from Java, what is the return type that I get in Java?</p>\n\n<pre><code>fun ff(): (Int, Int) -&gt; Int {\n    return { x, y -&gt; x + y }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1521642014, "post_id": 49040327, "comment_id": 85818904, "body": "I still get a compiler error on the <code>MyClass::class.java.canonicalName</code> usage with <code>Using &#39;MyClass&#39; is an error. Don&#39;t use!</code> in the same class. My desired behavior, or at least what I would expect, is that the module/package/library unit itself can still make use of it (maybe with a compiler flag) but consuming libraries are warned or fail when they try and consume it. I may be thinking about this in the wrong way, though."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1521647334, "post_id": 49040327, "comment_id": 85823302, "body": "<code>Deprecation</code> should only be used if usage is discouraged regardless of source. What you&#39;re looking for seems to be the <code>internal</code> visibility modifier. This restricts access to classes within the same module. (Although I believe this cannot be enforced in Java due to limitations of the JVM)"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1519860345, "creation_date": 1519860345, "answer_id": 49040327, "question_id": 49038298, "link": "https://stackoverflow.com/questions/49038298/how-to-use-deprecationlevel-error/49040327#49040327", "title": "How to use DeprecationLevel.ERROR", "body": "<p>It does exactly what is described in the documentation: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-deprecation-level/\" rel=\"nofollow noreferrer\">DeprecationLevel</a></p>\n\n<p><code>ERROR</code> means usage of that code generates an error in the compiler. This is when you know using the code is going to cause problems and you'd rather crash the compilation, even if that code compiled fine previously.</p>\n\n<p>There is also the <code>HIDDEN</code> deprecation level which does what you describe. It 'hides' the annotated element from the compiler but leaves it in the binary output. This will still cause a compilation error in your project because it is meant for binary compatibility, not newly compiled code.</p>\n"}], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519860345, "creation_date": 1519850987, "question_id": 49038298, "link": "https://stackoverflow.com/questions/49038298/how-to-use-deprecationlevel-error", "title": "How to use DeprecationLevel.ERROR", "body": "<p>Let's say I am writing a library and have a class that looks something like this (contrived example, but shows self reference:</p>\n\n<pre><code>import java.util.logging.Logger\n\nclass MyClass(private val myNum: Int) {\n\n  companion object {\n    private val LOG = Logger.getLogger(MyClass::class.java.canonicalName)\n  }\n\n  constructor() : this(1337)\n\n  fun addTo(num: Int): Int  {\n    LOG.fine { \"Adding num $num to $myNum\" }\n    return myNum + num\n  }\n\n  fun doubleAdd(num: Int): Int = 2 * addTo(num)\n}\n</code></pre>\n\n<p>Now, I have decided that I want to deprecate this class and have my consumers move on to to better things, so I give them a warning.</p>\n\n<pre><code>@Deprecated(\"Don't use!\", level = DeprecationLevel.WARNING)\nclass MyClass(private val myNum: Int) {\n  // ...\n}\n</code></pre>\n\n<p>Now, after some more time I'd like to increase the strictness with my deprecation. I still want the library to be binary compatible, so I do not remove the code I see that there is the <code>DeprecationLevel.ERROR</code> available, so I try to use it.</p>\n\n<pre><code>@Deprecated(\"Don't use!\", level = DeprecationLevel.ERROR)\nclass MyClass(private val myNum: Int) {\n  // ...\n}\n</code></pre>\n\n<p>Except now, when I try to compile my own project, I get compiler errors:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>e: /path/to/project/src/main/kotlin/MyClass.kt: (7, 44): Using 'MyClass' is an error. Don't use!                                                               \ne: /path/to/project/src/main/kotlin/MyClass.kt: (10, 23): Using 'MyClass' is an error. Don't use!  \n</code></pre>\n\n<p>This is on both the <code>MyClass</code> reference and the <code>this</code> primary constructor reference.</p>\n\n<p>What is the point of <code>DeprecationLevel.ERROR</code>? If I am using it wrong, what is the intended use, and how do I use it?</p>\n\n<p><strong>NOTE</strong>: This whole example was done with Kotlin <code>1.2.21</code></p>\n"}, {"tags": ["jpa", "kotlin", "corda"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1519897164, "post_id": 49037429, "comment_id": 85097849, "body": "Have you tried creating a default constructor with no args, that passes empty strings, zeros, etc. to the parent constructor. Something like: <code>constructor() : this(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 9424392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd8125c02d239a99257bf3aa9482918?s=128&d=identicon&r=PG&f=1", "display_name": "Matthieu Merlyn", "link": "https://stackoverflow.com/users/9424392/matthieu-merlyn"}, "edited": false, "score": 1, "creation_date": 1519901225, "post_id": 49047395, "comment_id": 85100225, "body": "Adding a default constructor works for now. I still consider this a workaround though, I would think that the <code>kotlin-jpa</code> plugin would handle this for me (and without the need to be able to make all fields nullable)"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1519899403, "creation_date": 1519899403, "answer_id": 49047395, "question_id": 49037429, "link": "https://stackoverflow.com/questions/49037429/corda-instantiationexception-when-extending-fungiblestate-in-custom-schema/49047395#49047395", "title": "Corda: InstantiationException when extending FungibleState in custom Schema", "body": "<p>You need to add a default constructor to the body of <code>PersistentCustomState</code>. Something like:</p>\n\n<pre><code>constructor() : this(*first default value*, *second default value*, etc.)\n</code></pre>\n\n<p>The difficulty will be in passing default values for the <code>AbstractParty</code> parameters. You can use something like:</p>\n\n<pre><code>AnonymousParty(generateKeyPair().public)\n</code></pre>\n"}], "owner": {"reputation": 138, "user_id": 9424392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd8125c02d239a99257bf3aa9482918?s=128&d=identicon&r=PG&f=1", "display_name": "Matthieu Merlyn", "link": "https://stackoverflow.com/users/9424392/matthieu-merlyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519899403, "creation_date": 1519847210, "question_id": 49037429, "link": "https://stackoverflow.com/questions/49037429/corda-instantiationexception-when-extending-fungiblestate-in-custom-schema", "title": "Corda: InstantiationException when extending FungibleState in custom Schema", "body": "<p>This issue is similar to the one posted here: <a href=\"https://stackoverflow.com/questions/45475265/corda-error-org-hibernate-instantiationexception-no-default-constructor-for-en\">Corda: error=org.hibernate.InstantiationException: No default constructor for entity</a></p>\n\n<p>I am getting the same error for a custom schema extending FungibleState (as described in the <a href=\"https://docs.corda.net/head/api-vault-query.html\" rel=\"nofollow noreferrer\">API Vault Query documentation</a>):</p>\n\n<pre><code>object CustomSchemaV1 : MappedSchema(schemaFamily = CustomSchema.javaClass, version = 1, mappedTypes = listOf(PersistentCustomState::class.java))\n{\n@Entity\n@Table(name = \"custom_states\", indexes = arrayOf(Index(name = \"custom_field_idx\", columnList = \"custom_field\")))\nclass PersistentCustomState(\n\n    /** Custom attributes */\n    @Column(name = \"custom_field\")\n    var customField: String? = null,\n\n    /** FungibleState parent attributes */\n    @Transient\n    val _participants: Set&lt;AbstractParty&gt;,\n    @Transient\n    val _owner: AbstractParty,\n    @Transient\n    val _quantity: Long,\n    @Transient\n    val _issuerParty: AbstractParty,\n    @Transient\n    val _issuerRef: OpaqueBytes\n) : CommonSchemaV1.FungibleState(_participants?.toMutableSet(), _owner, _quantity, _issuerParty, _issuerRef.bytes)}\n</code></pre>\n\n<p>Example schema found here: <a href=\"https://github.com/corda/corda/blob/master/finance/src/test/kotlin/net/corda/finance/schemas/SampleCashSchemaV2.kt\" rel=\"nofollow noreferrer\">https://github.com/corda/corda/blob/master/finance/src/test/kotlin/net/corda/finance/schemas/SampleCashSchemaV2.kt</a></p>\n\n<p>I have the <code>kotlin-jpa</code> plugin installed. Making all fields nullable seems to solve the issue for schemas extending <code>PersistentState</code>, but is not an option here because of the <code>FungibleState</code> parent field data types.</p>\n\n<p>Corda release version = 2.0.0</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "fragment", "android-lifecycle"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1519900165, "post_id": 49037297, "comment_id": 85099554, "body": "I&#39;m not so deep into this anymore, but I think I remember that using <code>&lt;fragment&gt;</code> has these kinds of effects. I suggest you use a <code>FrameLayout</code> and the <code>FragmentManager</code> to add your fragment into the layout"}, {"owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1521048442, "post_id": 49037297, "comment_id": 85571084, "body": "I just got back from vacation but yes, tried it both ways, the issue appears that the instance of the fragment is retained across activities so when onDetach() is called on the fragment inside activity B, activity A reports the listener as null."}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 1, "last_activity_date": 1519954974, "creation_date": 1519954974, "answer_id": 49061515, "question_id": 49037297, "link": "https://stackoverflow.com/questions/49037297/android-fragment-in-layout-losing-listener/49061515#49061515", "title": "Android Fragment in Layout Losing Listener", "body": "<p>I just went through something similar, as in weird fragment behavior. I resolved all the weird issues and errors by calling </p>\n\n<pre><code>SupportFragmentManager\n</code></pre>\n\n<p>The fragment itself was then still acting weird till I realized that it imported the regular fragment. Once I changed it to v4 fragment import all the weird quirks went away. \nThis might not help but hope it does. </p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1521050086, "creation_date": 1521050086, "answer_id": 49284660, "question_id": 49037297, "link": "https://stackoverflow.com/questions/49037297/android-fragment-in-layout-losing-listener/49284660#49284660", "title": "Android Fragment in Layout Losing Listener", "body": "<p>Ok it turns out I quite misunderstood exactly how variables/values behave inside a companion object in kotlin. They are definitely static in nature. So what it seems actually happened was that when activity B finished and brought activity A back to the foreground that the detach method was setting the global companion object listener value to null so activity A could not access it.</p>\n\n<p>Final Answer: make the listener interface variable a property of the instance vs a companion object member.</p>\n\n<p>Thanks again for all the help and insight!</p>\n"}], "owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 49284660, "answer_count": 2, "score": 0, "last_activity_date": 1543568474, "creation_date": 1519846586, "last_edit_date": 1543568474, "question_id": 49037297, "link": "https://stackoverflow.com/questions/49037297/android-fragment-in-layout-losing-listener", "title": "Android Fragment in Layout Losing Listener", "body": "<p>An interesting issue here. Writing an app in Kotlin (which is awesome btw) and due to customer design restraints we've had to implement a custom navigation drawer(wish we could use the native navigation view with <code>app:menu</code> but we can't). </p>\n\n<p>Embedded fragment</p>\n\n<pre><code>&lt;android.support.design.widget.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:fitsSystemWindows=\"false\"&gt;\n    &lt;fragment\n        android:name=\"com.redacted.app.nav.NavDrawerFragment\"\n        android:id=\"@+id/nav_fragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n&lt;/android.support.design.widget.NavigationView&gt;\n\n// our callback\ninterface NavDrawerListener {\n    enum class CurrentState {\n        StateOne,\n        StateTwo\n    }\n    fun onStateOneClicked()\n    fun onStateTwoClicked()\n}\n</code></pre>\n\n<p>In our case, we've created a Fragment call NavDrawerFragment that contains a RecyclerView with items and a callback interface that get hooked into in the fragment's <code>onAttach(context: Context)</code> method that lets the activity know the item that was clicked and any additional payloads needed to start the next activity. All works as expected, with the new activities using the same base layout and the fragments listener being implemented by the activity until... the back button is pressed. It appears that pressing back on Activity B calls onDetach on the fragment and when ActivityA resumes it the fragment instance's onAttach method never gets called again.</p>\n\n<p>Am I missing something about fragments being embedded into a layout or is this behavior expected? All I need at the end of the day is for ActivityA's implementation of NavDrawerListener to be valid <code>onResume()</code>.</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 4996792, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33bd83876a2dc013ebdebc3c92f990b5?s=128&d=identicon&r=PG&f=1", "display_name": "Chief", "link": "https://stackoverflow.com/users/4996792/chief"}, "edited": false, "score": 0, "creation_date": 1600249377, "post_id": 49035847, "comment_id": 113025429, "body": "very useful answer in solving this problem, especially if you&#39;re not in the android environment."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 24, "last_activity_date": 1575022693, "last_edit_date": 1575022693, "creation_date": 1519840832, "answer_id": 49035847, "question_id": 49035750, "link": "https://stackoverflow.com/questions/49035750/integrate-kotlinx-coroutines-in-intellij-project/49035847#49035847", "title": "Integrate Kotlinx coroutines in intelliJ project", "body": "<p>In the Project Structure dialog, go to Project Settings | Libraries, press \"+\" button and select \"From Maven...\" in the popup. In the dialog that appears, enter the name and version of the library you need, which you can find out in the documentation. (For the <a href=\"https://github.com/Kotlin/kotlinx.coroutines#gradle\" rel=\"noreferrer\">current version</a> of the core library of kotlinx.coroutines, enter <code>org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2</code>). Then select the modules to which the library will be added.</p>\n"}], "owner": {"reputation": 265, "user_id": 4336990, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d59bdf84a70517cf6fec4d65023df19?s=128&d=identicon&r=PG&f=1", "display_name": "Punika", "link": "https://stackoverflow.com/users/4336990/punika"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2839, "favorite_count": 1, "accepted_answer_id": 49035847, "answer_count": 1, "score": 11, "last_activity_date": 1575022693, "creation_date": 1519840461, "question_id": 49035750, "link": "https://stackoverflow.com/questions/49035750/integrate-kotlinx-coroutines-in-intellij-project", "title": "Integrate Kotlinx coroutines in intelliJ project", "body": "<p>I\u2018m using intellij for a while now. There I work on a <strong>javaFx project</strong>, which is mainly written in java but I discovered Kotlin to be a nice alternative. </p>\n\n<p>Recently I read about coroutines in Kotlin and I just can\u2018t figure out how to <strong>add the Kotlinx library to my project</strong>. I can only find the snippets for maven and gradle. But I\u2018m a complete nobby at this and I don\u2018t use one of this (At least I think so).\nSo how can I add the kotlinx stuff to my project???</p>\n\n<p>Kotlinx:\n<a href=\"https://bintray.com/kotlin/kotlin-eap-1.1/kotlinx.coroutines\" rel=\"noreferrer\">KotlinX coroutines</a></p>\n\n<p>Project structure:\n<a href=\"https://i.stack.imgur.com/TRAdt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TRAdt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 4, "last_activity_date": 1519838878, "creation_date": 1519838878, "answer_id": 49035349, "question_id": 49034193, "link": "https://stackoverflow.com/questions/49034193/kotlin-crashes-during-initialization-collectionskt-first/49035349#49035349", "title": "Kotlin crashes during initialization - CollectionsKt.first", "body": "<p>This exception can occur if a certain resource file, needed for <code>kotlin-reflect</code> to work correctly, is missing at runtime. The file is located at <code>META-INF/services/kotlin.reflect.jvm.internal.impl.builtins.BuiltInsLoader</code>. Please verify that no tools remove it during the build and it's present in the final application.</p>\n\n<p>The relevant issue in the Kotlin tracker: <a href=\"https://youtrack.jetbrains.com/issue/KT-20575\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-20575</a></p>\n"}, {"tags": [], "owner": {"reputation": 2210, "user_id": 1944237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B1vOw.jpg?s=128&g=1", "display_name": "saulmm", "link": "https://stackoverflow.com/users/1944237/saulmm"}, "is_accepted": false, "score": 0, "last_activity_date": 1581078152, "creation_date": 1581078152, "answer_id": 60113444, "question_id": 49034193, "link": "https://stackoverflow.com/questions/49034193/kotlin-crashes-during-initialization-collectionskt-first/60113444#60113444", "title": "Kotlin crashes during initialization - CollectionsKt.first", "body": "<p>Maybe: </p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/services/kotlin.reflect.jvm.internal.impl.builtins.BuiltInsLoader'\n}\n</code></pre>\n\n<p>Might help</p>\n"}], "owner": {"reputation": 2822, "user_id": 2100697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c535ff4452ebee8b38eeb24a6024ff66?s=128&d=identicon&r=PG", "display_name": "Prem", "link": "https://stackoverflow.com/users/2100697/prem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1581078152, "creation_date": 1519835109, "last_edit_date": 1519837511, "question_id": 49034193, "link": "https://stackoverflow.com/questions/49034193/kotlin-crashes-during-initialization-collectionskt-first", "title": "Kotlin crashes during initialization - CollectionsKt.first", "body": "<p>I see a crash whenever my android app initializes a kotlin class. From the stack trace, I see it's from the static initializer of the <code>BuiltInsLoader.Companion</code> object:</p>\n\n<blockquote>\n  <p>kotlin.collections.CollectionsKt___CollectionsKt.first\n  (CollectionsKt___CollectionsKt.java:166)\n  kotlin.reflect.jvm.internal.impl.builtins.BuiltInsLoader$Companion.\n  (BuiltInsLoader.java:38)\n  kotlin.reflect.jvm.internal.impl.builtins.BuiltInsLoader.\n  (BuiltInsLoader.java)\n  kotlin.reflect.jvm.internal.impl.builtins.KotlinBuiltIns.createBuiltInsModule\n  (KotlinBuiltIns.java:150)\n  kotlin.reflect.jvm.internal.impl.platform.JvmBuiltIns.\n  (JvmBuiltIns.java:56)\n  kotlin.reflect.jvm.internal.impl.platform.JvmBuiltIns.\n  (JvmBuiltIns.java:31)\n  kotlin.reflect.jvm.internal.components.RuntimeModuleData$Companion.create\n  (RuntimeModuleData.java:54)\n  kotlin.reflect.jvm.internal.KDeclarationContainerImpl$Data$moduleData$2.invoke\n  (KDeclarationContainerImpl.java:35)\n  kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke\n  (ReflectProperties.java:93)\n  kotlin.reflect.jvm.internal.ReflectProperties$Val.getModuleData\n  (ReflectProperties.java:32)\n  kotlin.reflect.jvm.internal.KClassImpl$Data$descriptor$2.invoke\n  (KClassImpl.java:46)\n  kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke\n  (ReflectProperties.java:93)\n  kotlin.reflect.jvm.internal.ReflectProperties$Val.getDescriptor\n  (ReflectProperties.java:32)\n  kotlin.reflect.jvm.internal.KClassImpl.getDescriptor\n  (KClassImpl.java:172)\n  kotlin.reflect.jvm.internal.KClassImpl.getConstructorDescriptors\n  (KClassImpl.java:186)\n  kotlin.reflect.jvm.internal.KClassImpl$Data$constructors$2.invoke\n  (KClassImpl.java:90)\n  kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke\n  (ReflectProperties.java:93)\n  kotlin.reflect.jvm.internal.ReflectProperties$Val.create\n  (ReflectProperties.java:32)</p>\n</blockquote>\n\n<p>The decompiled static block looks like this:</p>\n\n<pre><code>BuiltInsLoader.Companion var0 = new BuiltInsLoader.Companion();\n            $$INSTANCE = var0;\n            ServiceLoader var10000 = ServiceLoader.load(BuiltInsLoader.class, BuiltInsLoader.class.getClassLoader());\n            Intrinsics.checkExpressionValueIsNotNull(var10000, \"ServiceLoader.load(Built\u2026::class.java.classLoader)\");\n            Object var1 = CollectionsKt.first((Iterable)var10000);\n</code></pre>\n\n<p>Has anyone else experienced this crash? If so, how do you fix this initialization error?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1519843848, "last_edit_date": 1519843848, "creation_date": 1519835954, "answer_id": 49034470, "question_id": 49034127, "link": "https://stackoverflow.com/questions/49034127/kotlin-is-ignoring-expression/49034470#49034470", "title": "Kotlin is ignoring expression", "body": "<p>Kotlin has optional semicolons, it allows and encourages source code to omit a statement separator (i.e. semicolon <code>;</code>). As a result, it can get hard for the compiler to guess what you, as a programmer, actually intend to do:</p>\n\n<pre><code>val b = 10 * 20\n       + 10 * 30\n</code></pre>\n\n<p>Will be compiled to an assignment of <code>b = 500</code> and a second statement that results in <code>300</code> but never gets assigned to anything (same with <code>d</code>). How would you consider the compiler to know that the second line is actually part of the first expression? It's valid on its own.</p>\n\n<p>This <a href=\"https://stackoverflow.com/a/39319228/8073652\">thread</a> gives further details.</p>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1519836461, "post_id": 49034605, "comment_id": 85073943, "body": "The problem doesn&#39;t exist in Java e.g. since you have a mandatory semicolon, the optionality causes certain problems"}], "tags": [], "owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "is_accepted": true, "score": 2, "last_activity_date": 1519845666, "last_edit_date": 1519845666, "creation_date": 1519836395, "answer_id": 49034605, "question_id": 49034127, "link": "https://stackoverflow.com/questions/49034127/kotlin-is-ignoring-expression/49034605#49034605", "title": "Kotlin is ignoring expression", "body": "<p>I looks like I was lucky to use an operator which also has unary version <code>+</code>.\nThe problem is that Kotlin allows for a kind of expressions which do nothing in fact like this:</p>\n\n<pre><code>12345\n</code></pre>\n\n<p>I can also have:</p>\n\n<pre><code>- 12345\n</code></pre>\n\n<p>which is just a negative number. I can also have positive number:</p>\n\n<pre><code>+ 12345\n</code></pre>\n\n<p>So in this case:</p>\n\n<pre><code>val a = 20 +\n        30\n</code></pre>\n\n<p>I have one expression, as the <code>+</code> requires another argument, which can be found in the next line.</p>\n\n<p>However here I have two expressions</p>\n\n<pre><code>val a = 20\n       + 30\n</code></pre>\n\n<p>The variable <code>a</code> will have value <code>20</code> and the second expression will do nothing.</p>\n\n<p>However there is no unary version of <code>*</code>, so this works:</p>\n\n<pre><code>val a = 10 * \n        20 \n</code></pre>\n\n<p>and <code>a == 200</code>, and this makes a compilation error:</p>\n\n<pre><code>val a = 10\n        * 20 \n\nError:(397, 17) Kotlin: Expecting an element\n</code></pre>\n\n<p>Adding semicolons doesn't change anything, as the last expression is still not valid, and causes the compilation error.</p>\n\n<p>And you can always use brackets:</p>\n\n<pre><code>val x = (10\n         + 20)\n</code></pre>\n"}], "owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "accepted_answer_id": 49034605, "answer_count": 2, "score": 3, "last_activity_date": 1519845666, "creation_date": 1519834908, "question_id": 49034127, "link": "https://stackoverflow.com/questions/49034127/kotlin-is-ignoring-expression", "title": "Kotlin is ignoring expression", "body": "<p>I'm wondering why the below code generates the strange results, and compiler doesn't show any error or warning. This looks like an extremely efficient source of bugs.</p>\n\n<pre><code>    val a = 10 * 20 +\n            10 * 30\n\n    val b = 10 * 20\n          + 10 * 30\n\n    val c = (\n               (10 * 20)\n             + (10 * 30)\n            )\n\n    val d = (10 * 20)\n          + (10 * 30)\n\n    println(a)\n    println(b)\n    println(c)\n    println(d)\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>500\n200\n500\n200\n</code></pre>\n"}, {"tags": ["android", "charts", "kotlin", "scichart"], "answers": [{"comments": [{"owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "edited": false, "score": 1, "creation_date": 1520097353, "post_id": 49085437, "comment_id": 85179222, "body": "Thanks for your reply. It doesn&#39;t work but this one work.     yAxis.minimalZoomConstrain = 0.00000001     yAxis.maximumZoomConstrain = 1000000 I think base on this issue, you can improve a little bit the library so other people will not face this issue again."}], "tags": [], "owner": {"reputation": 474, "user_id": 6947541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba8c24fa4d297c97cd22c06157c46b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Yura Khariton", "link": "https://stackoverflow.com/users/6947541/yura-khariton"}, "is_accepted": false, "score": 0, "last_activity_date": 1520088771, "creation_date": 1520088771, "answer_id": 49085437, "question_id": 49033999, "link": "https://stackoverflow.com/questions/49033999/candlestick-doesnt-display-well-when-the-y-axis-values-are-small/49085437#49085437", "title": "Candlestick doesn&#39;t display well when the y-axis values are small", "body": "<p>Have you tried to use <a href=\"https://www.scichart.com/documentation/android/v2.x/webframe.html#Axis%20Ranging%20-%20AutoRange.html\" rel=\"nofollow noreferrer\">AutoRange.Always</a> for your yAxis?</p>\n\n<pre><code>val yAxis = sciChartBuilder.newNumericAxis().withAutoRangeMode(AutoRange.Always).build()\n</code></pre>\n\n<p>It should force yAxis to apply autorange to fit the data on screen every time the chart is drawn.</p>\n\n<p><em>Disclosure</em>: I am the lead developer on the SciChart Android team</p>\n"}, {"tags": [], "owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "is_accepted": true, "score": 2, "last_activity_date": 1520097400, "creation_date": 1520097400, "answer_id": 49086939, "question_id": 49033999, "link": "https://stackoverflow.com/questions/49033999/candlestick-doesnt-display-well-when-the-y-axis-values-are-small/49086939#49086939", "title": "Candlestick doesn&#39;t display well when the y-axis values are small", "body": "<p>I tried many solutions and finally, it works by adding this</p>\n\n<pre><code>    yAxis.minimalZoomConstrain = 0.00000001\n    yAxis.maximumZoomConstrain = 1000000\n</code></pre>\n"}], "owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 49086939, "answer_count": 2, "score": 1, "last_activity_date": 1520097400, "creation_date": 1519834554, "question_id": 49033999, "link": "https://stackoverflow.com/questions/49033999/candlestick-doesnt-display-well-when-the-y-axis-values-are-small", "title": "Candlestick doesn&#39;t display well when the y-axis values are small", "body": "<p>I'm using SciChart on my android application to display a Candlestick chart. When the y-values are big, the chart displays the data well.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jv3Yx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jv3Yx.png\" alt=\"When the y-values is big, the chart display well.\"></a></p>\n\n<p>But when the y-values are small, the chart doesn't display well. It has the default scale level. You can see the values (red/green dots) at the bottom, very close the line y=0</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rkj8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rkj8c.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even when I tried to increase zoom level, seems it has a limitation of zoom level.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5BhMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BhMR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Anyone can give me some idea to fix this.</p>\n\n<p>Bellow is my current implementation</p>\n\n<pre><code>private fun getOhlcDataSeries(symbolValues: List&lt;SymbolValue&gt;):\n        OhlcDataSeries&lt;Date, Double&gt; {\n    val dataSeries = OhlcDataSeries(Date::class.java, Double::class.javaObjectType)\n\n    val dates = symbolValues.map { it.timePeriodStart }\n    val opens = symbolValues.map { it.priceOpen }\n    val high = symbolValues.map { it.priceHigh }\n    val lows = symbolValues.map { it.priceLow }\n    val closes = symbolValues.map { it.priceClose }\n\n    dataSeries.append(dates, opens, high, lows, closes)\n    return dataSeries\n}\n\nval sciChartBuilder = SciChartBuilder.instance()\n    val priceSeries = getData()\n\n    val xAxis = sciChartBuilder.newCategoryDateAxis().build()\n    val yAxis = sciChartBuilder.newNumericAxis().build()\n\n    val dataSeries = getOhlcDataSeries(priceSeries)\n\n    val upColor = 0xFF64AA6F.toInt()\n    val downColor = 0xFFE25C5A.toInt()\n\n    val rSeries = sciChartBuilder.newCandlestickSeries()\n            .withStrokeUp(upColor)\n            .withFillUpColor(upColor)\n\n            .withStrokeDown(downColor)\n            .withFillDownColor(downColor)\n\n            .withDataSeries(dataSeries)\n            .build()\n\n    UpdateSuspender.using(surface) {\n        Collections.addAll(surface.xAxes, xAxis)\n        Collections.addAll(surface.yAxes, yAxis)\n        Collections.addAll(surface.renderableSeries, rSeries)\n        Collections.addAll(surface.chartModifiers, sciChartBuilder.newModifierGroupWithDefaultModifiers().build())\n    }\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 771, "user_id": 2056507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/219495fc4a1c75c27711864d5f14287a?s=128&d=identicon&r=PG", "display_name": "George Madrid", "link": "https://stackoverflow.com/users/2056507/george-madrid"}, "edited": false, "score": 0, "creation_date": 1519830768, "post_id": 49032759, "comment_id": 85070160, "body": "Does Kotlin/Dagger work with typealias yet? That might solve my problem."}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1519892417, "post_id": 49032759, "comment_id": 85095277, "body": "I can&#39;t remember anymore, but I think I encountered something similar and actually had to use <code>field</code>. Did you try <code>@field:Named(&quot;someStringOrNull&quot;)</code> instead of <code>@set:Named(&quot;someStringOrNull&quot;)</code>?"}, {"owner": {"reputation": 771, "user_id": 2056507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/219495fc4a1c75c27711864d5f14287a?s=128&d=identicon&r=PG", "display_name": "George Madrid", "link": "https://stackoverflow.com/users/2056507/george-madrid"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1519914399, "post_id": 49032759, "comment_id": 85108034, "body": "Yes. <code>@field</code> doesn&#39;t work with native types because the underlying field is marked &#39;private&#39;. That&#39;s why I moved the attribute to the setter with <code>@set</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 4, "last_activity_date": 1519995877, "creation_date": 1519995877, "answer_id": 49069716, "question_id": 49032759, "link": "https://stackoverflow.com/questions/49032759/kotlin-dagger-nullable-and-named-cannot-find-value-to-inject/49069716#49069716", "title": "Kotlin, Dagger, Nullable and Named cannot find value to @Inject", "body": "<p>You forgot to use <code>@JvmField</code> to instruct the Kotlin compiler to expose your property as a field instead of generating getter/setter:</p>\n\n<pre><code>@Inject\n@JvmField\n@field:Named(\"someStringOrNull\")\ninternal var someStringOrNull: String? = null\n</code></pre>\n"}], "owner": {"reputation": 771, "user_id": 2056507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/219495fc4a1c75c27711864d5f14287a?s=128&d=identicon&r=PG", "display_name": "George Madrid", "link": "https://stackoverflow.com/users/2056507/george-madrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519995877, "creation_date": 1519830676, "question_id": 49032759, "link": "https://stackoverflow.com/questions/49032759/kotlin-dagger-nullable-and-named-cannot-find-value-to-inject", "title": "Kotlin, Dagger, Nullable and Named cannot find value to @Inject", "body": "<p>I have a property that is type String?. I am able to @Inject the value fine until I try to add an @Named attribute to the property. Everything also works fine if I use a 'String' instead of the nullable String, but the value is nullable, so I need the '?'.</p>\n\n<p>In my module, I have: </p>\n\n<pre><code>@Provides\n@Named(\"someStringOrNull\")\nfun provideSomeStringOrNull(): String? = \"STRING OR NULL\"\n</code></pre>\n\n<p>In my activity, I have:</p>\n\n<pre><code>@set:Inject\n@set:Named(\"someStringOrNull\")\nvar someStringOrNull: String? = null\n</code></pre>\n\n<p>and I get this error:</p>\n\n<pre><code>Error:(11, 2) error: java.lang.String cannot be provided without an @Inject constructor or from an @Provides- or @Produces-annotated method.\npublic abstract void inject(@org.jetbrains.annotations.NotNull()\n                     ^\n  java.lang.String is injected at\n      com.scrawlsoft.daggerwoes.MainActivity.setSomeStringOrNull(p0)\n  com.scrawlsoft.daggerwoes.MainActivity is injected at\n      com.scrawlsoft.daggerwoes.AppComponent.inject(target)\n</code></pre>\n\n<p>This works fine if I remove the @Named attr, so I'm fairly certain that the '@set:' is correct, but I could be mistaken.</p>\n\n<p>Any suggestions on how to make this work? (At the moment, I am considering wrapping this in a custom class so that I don't need the @Named, but that seems wasteful to me.)</p>\n\n<p>Full source code can be found at: <a href=\"https://github.com/gmadrid/DaggerWoes/tree/master/app/src/main/java/com/scrawlsoft/daggerwoes\" rel=\"nofollow noreferrer\">https://github.com/gmadrid/DaggerWoes/tree/master/app/src/main/java/com/scrawlsoft/daggerwoes</a></p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1519831912, "post_id": 49032463, "comment_id": 85070906, "body": "Does the server only allow mutual authentication? Otherwise, you only need to trust the presented server certificate with a custom TrustStore"}, {"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1519834222, "post_id": 49032463, "comment_id": 85072477, "body": "It is a simple golang https server started via http.ListenAndServerTLS and so there is nothing extra configured for mutual authentication. How do I create a TrustStore using the kotlin extension on URL ? I can&#39;t find any code sample for that from google easily."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1519834289, "post_id": 49032463, "comment_id": 85072529, "body": "It\u2019s not Kotlin specific, google for Java JSSE"}], "answers": [{"comments": [{"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "edited": false, "score": 0, "creation_date": 1519881043, "post_id": 49034993, "comment_id": 85091023, "body": "This does not seem to work. I still get an exception: <code>03-01 00:09:27.667 5028-5088&#47;com.example.logindemo E&#47;doInBackground: Exception caught: Failed to connect to &#47;10.0.2.2:8080</code>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "edited": false, "score": 0, "creation_date": 1519882012, "post_id": 49034993, "comment_id": 85091314, "body": "Well that exception isn\u2019t really helpful to me"}, {"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "edited": false, "score": 0, "creation_date": 1519883141, "post_id": 49034993, "comment_id": 85091640, "body": "ah wait. It was a mistake on my end (started the server on a wrong port). The code works fine. I will accept the answer. However,  I request that you consider editing the code to ignore certificate checks only for &quot;localhost&quot; (and probably 10.0.2.2 too to cover for Android) only and not a blanket open-for-all. Thanks."}, {"owner": {"reputation": 73, "user_id": 9990042, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vp4ZATLBoDc/AAAAAAAAAAI/AAAAAAAAATo/os8GGMEHy9k/photo.jpg?sz=128", "display_name": "eitan 03", "link": "https://stackoverflow.com/users/9990042/eitan-03"}, "edited": false, "score": 0, "creation_date": 1575733167, "post_id": 49034993, "comment_id": 104668723, "body": "can someone please send me a source from which I can enderstand what is going on? altough it solved my problem, I dont understand how it did and would really love to know whats going on in detailed.."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1519837966, "last_edit_date": 1519837966, "creation_date": 1519837647, "answer_id": 49034993, "question_id": 49032463, "link": "https://stackoverflow.com/questions/49032463/kotlin-connect-to-self-signed-https-server/49034993#49034993", "title": "kotlin connect to self-signed https server", "body": "<p>Here's an example that reads from <a href=\"https://google.com\" rel=\"nofollow noreferrer\">https://google.com</a> using JSSE, it trusts literally every certificate and shouldn't be used productively.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val urlPath = \"https://google.com\"\n    try {\n        (URL(urlPath).openConnection() as HttpsURLConnection).apply {\n            sslSocketFactory = createSocketFactory(listOf(\"TLSv1.2\"))\n            hostnameVerifier = HostnameVerifier { _, _ -&gt; true }\n            readTimeout = 5_000\n        }.inputStream.use {\n            it.copyTo(System.out)\n        }\n    } catch (e: Exception) {\n        TODO()\n    }\n}\n\n\nprivate fun createSocketFactory(protocols: List&lt;String&gt;) =\n    SSLContext.getInstance(protocols[0]).apply {\n        val trustAllCerts = arrayOf&lt;TrustManager&gt;(object : X509TrustManager {\n            override fun getAcceptedIssuers(): Array&lt;X509Certificate&gt; = arrayOf()\n            override fun checkClientTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) = Unit\n            override fun checkServerTrusted(certs: Array&lt;X509Certificate&gt;, authType: String) = Unit\n        })\n        init(null, trustAllCerts, SecureRandom())\n    }.socketFactory\n</code></pre>\n\n<p>I've got a little library for these kinds of things <a href=\"https://github.com/s1monw1/TLSLibrary\" rel=\"nofollow noreferrer\">here</a>, which is neither up-to-date nor published. Nevertheless, it provides a simple DSL for setting up TLS/SSL sockets and provides means for https connections.</p>\n"}], "owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4429, "favorite_count": 1, "accepted_answer_id": 49034993, "answer_count": 1, "score": 3, "last_activity_date": 1519837966, "creation_date": 1519829796, "last_edit_date": 1519829900, "question_id": 49032463, "link": "https://stackoverflow.com/questions/49032463/kotlin-connect-to-self-signed-https-server", "title": "kotlin connect to self-signed https server", "body": "<p>I have the following kotlin code:</p>\n\n<pre><code>val urlPath = \"https://10.0.2.2:8080\"\nvar data: String\ntry {\n    data = URL(urlPath).readText()\n} catch (e: Exception) {\n    Log.e(\"doInBackground\", \"Exception caught: ${e.localizedMessage}\")\n    error = when (e) {\n        is MalformedURLException -&gt; \"Invalid URL\"\n        is IOException -&gt; \"Network Error\"\n        else -&gt; {\n            \"Network error: ${e.localizedMessage}\"\n        }\n    }\n}\n</code></pre>\n\n<p>If I use the above code to connect to a http server, the above code works. However when I try to connect to a https server with a self-signed certificate, it fails. Is there a way to allow https connections on localhost (only), even when the certificates are self-signed ?</p>\n"}, {"tags": ["android", "null", "kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 3, "creation_date": 1519826933, "post_id": 49031447, "comment_id": 85067419, "body": "How about <code>private lateinit var fragment: TurboFragment</code> then? <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">(documentation)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 5, "last_activity_date": 1519828586, "last_edit_date": 1519828586, "creation_date": 1519827359, "answer_id": 49031631, "question_id": 49031447, "link": "https://stackoverflow.com/questions/49031447/kotlin-operator-usage-makes-code-not-clear/49031631#49031631", "title": "Kotlin !! Operator usage makes code not clear", "body": "<p>Consider using <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"noreferrer\">Late-Initialized Properties</a>. They're intended for your use-case.</p>\n\n<pre><code>private lateinit var fragment: TurboFragment\n</code></pre>\n\n<p>However, you should keep in mind that accessing a <code>lateinit</code> property before it has been initialized throws an exception. That means you should use them only if you are absolutely sure, they <strong>will</strong> be initialized.</p>\n\n<pre><code>print(fragment)  // UninitializedPropertyAccessException is thrown\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 7095029, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fe39a0d8b09a65cae1fece82a612be02?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/7095029/andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 49031631, "answer_count": 1, "score": 4, "last_activity_date": 1519828586, "creation_date": 1519826835, "question_id": 49031447, "link": "https://stackoverflow.com/questions/49031447/kotlin-operator-usage-makes-code-not-clear", "title": "Kotlin !! Operator usage makes code not clear", "body": "<p>I am writing a Kotlin application, I've been studying this language for a little bit and I noticed that to create a variable you have to explicitly define if it can be null and then you use the ? operator.</p>\n\n<p>Now, my question. Sometimes I have to define a global variable (a Fragment in this case), so I need to make it null, because I cannot initialize it yet</p>\n\n<p>In java I don't have this problem because the first thing I do after declaring it is initializing in the onCreate() like this</p>\n\n<pre><code>TurboFragment fragment = null;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n    ...\n\n    fragment = adapter.getCurrentFragment();\n}\n</code></pre>\n\n<p>And then I can use it without syntax problems\nIn Kotlin is different, because I have to do like that</p>\n\n<pre><code>private var fragment: TurboFragment? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    ...\n\n    fragment = adapter!!.currentFragment\n    fragment!!.foo()\n    var x = fragment!!.sampleInt\n}\n</code></pre>\n\n<p>Now, every time I call an instance of fragment i have to use the null-safe <strong>!!</strong> operator. This makes my code a mess, because for every line I have at least one !! operator and it looks really unclear if it's so frequent, especially if you have 5 or more variables like that. \nIs there a way to simplify the code or the nature of this language is like that?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "parcelable"], "answers": [{"comments": [{"owner": {"reputation": 1414, "user_id": 6280156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w5NgB.jpg?s=128&g=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6280156/venky"}, "edited": false, "score": 0, "creation_date": 1520242181, "post_id": 49031033, "comment_id": 85219228, "body": "Thanks it helped me out"}, {"owner": {"reputation": 197, "user_id": 1980269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/afG47.jpg?s=128&g=1", "display_name": "droide_91", "link": "https://stackoverflow.com/users/1980269/droide-91"}, "edited": false, "score": 0, "creation_date": 1525517633, "post_id": 49031033, "comment_id": 87393961, "body": "I would not recommend using functionality that is still in <b>experimental mode</b> for production apps: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#experimental-mode\" rel=\"nofollow noreferrer\">experimental-mode</a>"}], "tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 1, "last_activity_date": 1519825512, "creation_date": 1519825512, "answer_id": 49031033, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/49031033#49031033", "title": "Android Parcelable for Kotlin is not working", "body": "<p>I'd recommend taking a look at the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#parcelable\" rel=\"nofollow noreferrer\"><code>@Parcelize</code></a> annotation provided with the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions</a>, it generates all necessary boilerplate for you so you don't have to write and maintain that code yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 1414, "user_id": 6280156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w5NgB.jpg?s=128&g=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6280156/venky"}, "is_accepted": true, "score": -1, "last_activity_date": 1520242134, "creation_date": 1520242134, "answer_id": 49107115, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/49107115#49107115", "title": "Android Parcelable for Kotlin is not working", "body": "<p>Hello All I had solved this question and there was issue with fragment transaction and parcelable</p>\n\n<p>MainActivity to setup fragment </p>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n\n    val manager = supportFragmentManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val fragment = DetailFragment()\n        manager.findFragmentById(R.id.fragmentContainer)\n        manager.beginTransaction().add(R.id.fragmentContainer, fragment).commit()\n    }\n}\n</code></pre>\n\n<p>First fragment to fill data</p>\n\n<pre><code> class DetailFragment : Fragment(), View.OnClickListener {\n\n    var editTextName: EditText? = null\n    var editTextLast: EditText? = null\n    var buttonNextFragment: Button? = null\n    var firstName: String? = null\n    var lastName: String? = null\n\n    companion object {\n        val KEY_PARSE_DATA = \"detailData\"\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        val view: View = inflater!!.inflate(R.layout.fragment_detail, container, false)\n        editTextName = view.findViewById(R.id.ed_firstName) as EditText\n        editTextLast = view.findViewById(R.id.ed_lastName) as EditText\n        buttonNextFragment = view.findViewById(R.id.btn_nextfragment) as Button\n        buttonNextFragment!!.setOnClickListener(this)\n        return view\n    }\n\n    override fun onClick(v: View?) {\n        firstName = editTextName!!.text.toString()\n        lastName = editTextLast!!.text.toString()\n        Toast.makeText(context, firstName, Toast.LENGTH_SHORT).show()\n//        val viewFragment = ViewFragment()\n//        val transaction = fragmentManager.beginTransaction()\n//        transaction.replace(R.id.fragmentContainer, viewFragment)\n//        transaction.commit()\n\n        var details = Details(firstName!!, lastName!!)\n        val viewFragment = ViewFragment()\n        val bundle = Bundle()\n        bundle.putParcelable(KEY_PARSE_DATA, details)\n        viewFragment.setArguments(bundle)\n        val transaction = fragmentManager.beginTransaction()\n        transaction.replace(R.id.fragmentContainer, viewFragment)\n        transaction.commit()\n    }\n}\n</code></pre>\n\n<p>Display data coming from parcelable</p>\n\n<pre><code>    class ViewFragment : Fragment() {\n\n    var textViewName: TextView? = null\n    var textViewLastName: TextView? = null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val view: View = inflater!!.inflate(R.layout.fragment_view, container, false)\n\n        textViewName = view.findViewById(R.id.text_name_another) as TextView\n        textViewLastName = view.findViewById(R.id.text_surname_another) as TextView\n\n        val bundle = arguments\n        if (bundle != null) {\n            val details = bundle.getParcelable&lt;Details&gt;(KEY_PARSE_DATA)\n            textViewName!!.setText(details.firstName)\n            textViewLastName!!.setText(details.lastName)\n        }\n\n\n        return view\n    }\n\n}\n</code></pre>\n\n<p>Model class for implementation of parcelable</p>\n\n<pre><code>    @Parcelize\nclass Details(val firstName: String, val lastName: String) : Parcelable\n</code></pre>\n\n<p>and my gradle file</p>\n\n<pre><code>    android {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.assignment.ankitt.kotlintwo\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 6060929, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a48b976f0b3a4b0221c4648e49c7259a?s=128&d=identicon&r=PG&f=1", "display_name": "Ashim Kansal", "link": "https://stackoverflow.com/users/6060929/ashim-kansal"}, "edited": false, "score": 6, "creation_date": 1561029488, "post_id": 54346708, "comment_id": 99935168, "body": "i did the same , i added all three plugins and androidExtensions but still import is throughing an error"}], "tags": [], "owner": {"reputation": 1087, "user_id": 4449159, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001019341817/picture?type=large", "display_name": "Prashant Gosai", "link": "https://stackoverflow.com/users/4449159/prashant-gosai"}, "is_accepted": false, "score": 20, "last_activity_date": 1551774593, "last_edit_date": 1551774593, "creation_date": 1548332929, "answer_id": 54346708, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/54346708#54346708", "title": "Android Parcelable for Kotlin is not working", "body": "<p>Add below code into your App Level gradle.</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xt8RQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xt8RQ.png\" alt=\"Check IMG\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1414, "user_id": 6280156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w5NgB.jpg?s=128&g=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6280156/venky"}, "edited": false, "score": 0, "creation_date": 1582539438, "post_id": 60373534, "comment_id": 106799112, "body": "This plugin is by default generated apply plugin: &#39;kotlin-android-extensions&#39; @Rajneesh"}], "tags": [], "owner": {"reputation": 219, "user_id": 7125803, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dfutZxTfrB8/AAAAAAAAAAI/AAAAAAAAAFE/3skly884tlM/photo.jpg?sz=128", "display_name": "Rajneesh Tyagi", "link": "https://stackoverflow.com/users/7125803/rajneesh-tyagi"}, "is_accepted": false, "score": 1, "last_activity_date": 1582538859, "creation_date": 1582538859, "answer_id": 60373534, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/60373534#60373534", "title": "Android Parcelable for Kotlin is not working", "body": "<p>Need to add these two in your app level Gradle</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>androidExtensions {\n    experimental = true`\n}</p>\n\n<p><a href=\"https://i.stack.imgur.com/uPNxN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPNxN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 11807259, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yashwant Sandey", "link": "https://stackoverflow.com/users/11807259/yashwant-sandey"}, "is_accepted": false, "score": 4, "last_activity_date": 1586700688, "creation_date": 1586700688, "answer_id": 61172767, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/61172767#61172767", "title": "Android Parcelable for Kotlin is not working", "body": "<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    //\n\n    androidExtensions {\n        experimental = true\n    }\n\n}\n</code></pre>\n\n<p>The order of plugin matters. <code>kotlin-android</code> must be before <code>kotlin-android-extension</code>. Then clean project.\n<a href=\"https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project\">Unable to add kotlin android extension</a></p>\n"}, {"tags": [], "owner": {"reputation": 9492, "user_id": 3765457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j3QY8.jpg?s=128&g=1", "display_name": "YannSteph", "link": "https://stackoverflow.com/users/3765457/yannsteph"}, "is_accepted": false, "score": 0, "last_activity_date": 1600666567, "creation_date": 1600666567, "answer_id": 63986703, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/63986703#63986703", "title": "Android Parcelable for Kotlin is not working", "body": "<p>Kotlin plugin should be enabled before 'kotlin-android-extensions'</p>\n<p>so change the order to</p>\n<pre><code>apply plugin: 'com.android.application' #1\napply plugin: 'kotlin-android' #2\napply plugin: 'kotlin-android-extensions' #3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 10149074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1af3d00964e4815574507b59daf953cc?s=128&d=identicon&r=PG&f=1", "display_name": "Krzysiulele", "link": "https://stackoverflow.com/users/10149074/krzysiulele"}, "is_accepted": false, "score": 4, "last_activity_date": 1608025474, "creation_date": 1608025474, "answer_id": 65303400, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working/65303400#65303400", "title": "Android Parcelable for Kotlin is not working", "body": "<p>Now it is enough to add 'kotlin-parcelize' plugin.\nSo for example:</p>\n<pre><code> plugins {\nid 'com.android.application'\nid 'kotlin-android'\nid 'kotlin-parcelize'\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 1414, "user_id": 6280156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w5NgB.jpg?s=128&g=1", "display_name": "Venky", "link": "https://stackoverflow.com/users/6280156/venky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10839, "favorite_count": 3, "accepted_answer_id": 49107115, "answer_count": 7, "score": 8, "last_activity_date": 1608025474, "creation_date": 1519825167, "last_edit_date": 1519826410, "question_id": 49030928, "link": "https://stackoverflow.com/questions/49030928/android-parcelable-for-kotlin-is-not-working", "title": "Android Parcelable for Kotlin is not working", "body": "<p>I am trying to pass data from one fragment to another but I am facing issue with sending data from parcelable from one fragment to another.</p>\n\n<pre><code> class MainFragment : Fragment() {\n\n\n    companion object {\n        public val KEY_PARSE_DATA = \"parseData\"\n    }\n\n    private var parseData: ParseData? = null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_main, container, false).apply {\n            val editName = findViewById(R.id.edit_Name) as EditText\n            val editSurname = findViewById(R.id.edit_Surname) as EditText\n            val buttonNext = findViewById(R.id.btn_Next) as Button\n            buttonNext.setOnClickListener(View.OnClickListener {\n                val fragment = AnotherFragment()\n\n                if (parseData != null) {\n                    var parseData = ParseData(editName.text.toString(), editSurname.text.toString())\n                    val fragment = AnotherFragment()\n                    val bundle = Bundle()\n                    bundle.putParcelable(KEY_PARSE_DATA, parseData)\n                    fragment.setArguments(bundle)\n                    fragmentManager.beginTransaction().add(R.id.fragment_container, fragment).commitAllowingStateLoss()\n\n                }\n\n            })\n        }\n    }\n\n\n}// Required empty public constructor\n</code></pre>\n\n<p>Parcelable class for implementing it</p>\n\n<pre><code> @SuppressLint(\"ParcelCreator\")\n@Parcelize\ndata class ParseData(val firstName: String, val lastName: String) : Parcelable {\n\n\n    constructor(parcel: Parcel) : this(\n            parcel.readString(),\n            parcel.readString()) {\n    }\n\n    override fun toString(): String {\n        return \"ParseData(firstName='$firstName', lastName='$lastName')\"\n    }\n\n\n    companion object : Parceler&lt;ParseData&gt; {\n\n        override fun ParseData.write(parcel: Parcel, flags: Int) {\n            parcel.writeString(firstName)\n            parcel.writeString(lastName)\n        }\n\n        override fun create(parcel: Parcel): ParseData {\n            return ParseData(parcel)\n        }\n    }\n}\n</code></pre>\n\n<p>And another fragment which grab data from parcelable class in android</p>\n\n<pre><code>    class AnotherFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_another, container, false).apply {\n\n            val textName = findViewById&lt;TextView&gt;(R.id.textFirst)\n            val textSurname = findViewById&lt;TextView&gt;(R.id.textSecond)\n            val bundle = arguments\n            if (bundle != null) {\n                val parseData = bundle.getParcelable&lt;ParseData&gt;(KEY_PARSE_DATA)\n                textName.setText(parseData.firstName)\n                textSurname.setText(parseData.lastName)\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>I tried some example but I cant get clear idea how parcelable is implemented in andoid application based on kotlin and build.gradle file</p>\n\n<pre><code> apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.assignment.ankitt.kotlinsecond\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nandroidExtensions {\n    experimental = true\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-v4:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 558, "user_id": 9334588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/50ed88baf3c381b39061f116b808c050?s=128&d=identicon&r=PG&f=1", "display_name": "J K", "link": "https://stackoverflow.com/users/9334588/j-k"}, "edited": false, "score": 0, "creation_date": 1520355979, "post_id": 49135576, "comment_id": 85277532, "body": "Thank you for very detailed answer, this is what I was excepting when starting bounty. I used 2nd option, because it was easiest to synchronize it with rest of my code."}], "tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": true, "score": 3, "last_activity_date": 1520354490, "last_edit_date": 1520354490, "creation_date": 1520353529, "answer_id": 49135576, "question_id": 49030421, "link": "https://stackoverflow.com/questions/49030421/how-to-refresh-tabbedactivitys-view-from-onrestart-method-how-to-access-fragm/49135576#49135576", "title": "How to refresh TabbedActivity&#39;s View from onRestart method | How to access fragment&#39;s view element from other class", "body": "<p>So you have a list in a Fragment that is inside a ViewPager. Ther are a few ways to solve your problem, I'd suggest you use the first one, because it is the simplest.</p>\n\n<ol>\n<li><p>Fragment have lifecycle callbacks that are triggered together with lifecycle callbacks of Activity that contains that fragment. It covers most of the methods, but unfortunately not the <code>onRestart</code> that you are looking for. But that's not a big problem. Actually, you almost never need <code>onRestart</code> because you have <code>onStart</code> method, that method is accessible from both Fragments and Activities. It is called every time activity is restarted + the very first time activity is started. And as we can see it is exactly what you need. So to have your list updated every time, just remove the update code from the <code>onCreate</code> method and put it into <code>onStart</code> method of the Fragment.</p>\n\n<pre><code>public static class PlaceholderFragment extends Fragment {\n\n    private static final String ARG_SECTION_NUMBER = \"section_number\";\n    private ListView listView = null;\n\n    public PlaceholderFragment() {\n    }\n\n    public static PlaceholderFragment newInstance(int sectionNumber) {\n        PlaceholderFragment fragment = new PlaceholderFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_SECTION_NUMBER, sectionNumber);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                     Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_list_view, container, false);\n\n        int scnum = getArguments().getInt(ARG_SECTION_NUMBER);\n\n        listView = (ListView) rootView.findViewById(R.id.products_list);\n\n        return rootView;\n    }\n\n    @Override\n    public void onStart() {\n        // here refresh your listView trough internet using the listView class field\n    }\n}\n</code></pre></li>\n<li><p>Another option would be to get a reference to your fragment inside the activity. The solution I usually use is to retain a reference to the fragment inside the adapter. It is similar to the second option in your question. The only problem with your solution is that <code>mSectionsPagerAdapter.getItem(0);</code> always create a new fragment, while you need to get a reference to already existing fragment.</p>\n\n<pre><code>public class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    private PlaceholderFragment fragmentZero = null;\n\n    public SectionsPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        PlaceholderFragment tabFragment = PlaceholderFragment.newInstance(position + 1);                \n\n        if (position == 0) {\n            fragmentZero = tabFragment;\n        }\n\n        return tabFragment;\n    }\n\n    @Override\n    public int getCount() {\n        return 3;\n    }\n\n    public PlaceholderFragment getFragmentZero() {\n        return fragmentZero;\n    }\n}\n</code></pre>\n\n<p>You also need to move your list update logic to a separate method in the PlaceholderFragment:</p>\n\n<pre><code>private ListView listView = null;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    View rootView = inflater.inflate(R.layout.fragment_list_view, container, false);\n\n    int scnum = getArguments().getInt(ARG_SECTION_NUMBER);\n\n    listView = (ListView) rootView.findViewById(R.id.products_list);\n\n    refreshListView();\n\n    return rootView;\n}\n\npublic void refreshListView() {\n    // here refresh your listView trough internet\n}\n</code></pre>\n\n<p>At this point you can do:</p>\n\n<pre><code>@Override\nprotected void onRestart() {\n    super.onRestart();\n\n    Fragment listFragment = mSectionsPagerAdapter.getFragmentZero(); \n\n    listFragment.refreshListView();\n}\n</code></pre></li>\n<li><p>Whenever you have a fragment inside an activity, in a ViewPager or not, you can get a reference to the fragment using FragmentManager. Check <a href=\"https://stackoverflow.com/a/18611036/1735198\">this</a> for details regarding the ViewPager option. </p></li>\n</ol>\n\n<p>All the code above is rather straightforward and would not require any special Kotlin idioms if you'd prefer to implement it in Kotlin. You can start with converting your classes in the android studio. To do it:</p>\n\n<ul>\n<li>Navigate to your java class</li>\n<li>Press <code>Control + Shift + A</code> on Windows or <code>Command + Shift + A</code> on Mac</li>\n<li>Search for <code>Convert Java File to Kotlin File</code></li>\n<li>Apply</li>\n</ul>\n\n<p>And you are good to go with the Kotlin code of given classes. The only thing that might be quite different from java is handling <code>ARG_SECTION_NUMBER</code> since Kotlin does not have static fields and use <a href=\"https://stackoverflow.com/questions/40352879/what-is-the-equivalent-of-java-static-final-fields-in-kotlin\">Companion Objects</a> instead.</p>\n"}], "owner": {"reputation": 558, "user_id": 9334588, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/50ed88baf3c381b39061f116b808c050?s=128&d=identicon&r=PG&f=1", "display_name": "J K", "link": "https://stackoverflow.com/users/9334588/j-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 1, "accepted_answer_id": 49135576, "answer_count": 1, "score": 0, "last_activity_date": 1520354490, "creation_date": 1519823483, "last_edit_date": 1520167844, "question_id": 49030421, "link": "https://stackoverflow.com/questions/49030421/how-to-refresh-tabbedactivitys-view-from-onrestart-method-how-to-access-fragm", "title": "How to refresh TabbedActivity&#39;s View from onRestart method | How to access fragment&#39;s view element from other class", "body": "<p>I've created activity from <code>TabbedActivity</code> template (in Android Studio):\n<a href=\"https://i.stack.imgur.com/hZGMD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hZGMD.png\" alt=\"enter image description here\"></a><br>\nThis template uses <code>Fragment</code> and <code>FragmentPagerAdapter</code> to handle tabs.<br>\n<br>\nThis is code of two classes, <code>PlaceholderFragment extends Fragment</code>, and <code>SectionsPagerAdapter extends FragmentPagerAdapter</code>:  </p>\n\n<pre><code>public static class PlaceholderFragment extends Fragment {\n    /**\n     * The fragment argument representing the section number for this\n     * fragment.\n     */\n    private static final String ARG_SECTION_NUMBER = \"section_number\";\n\n\n    public PlaceholderFragment() {\n    }\n\n    /**\n     * Returns a new instance of this fragment for the given section\n     * number.\n     */\n    public static PlaceholderFragment newInstance(int sectionNumber) {\n        PlaceholderFragment fragment = new PlaceholderFragment();\n        Bundle args = new Bundle();\n        args.putInt(ARG_SECTION_NUMBER, sectionNumber);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_list_view, container, false);\n\n        int scnum = getArguments().getInt(ARG_SECTION_NUMBER);\n\n        final ListView listView = (ListView) rootView.findViewById(R.id.products_list);\n\n\n        // here refresh my listView trough internet\n\n        return rootView;\n    }\n}\n\n\n/**\n * A {@link FragmentPagerAdapter} that returns a fragment corresponding to\n * one of the sections/tabs/pages.\n */\npublic class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    public SectionsPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        // getItem is called to instantiate the fragment for the given page.\n        // Return a PlaceholderFragment (defined as a static inner class below).\n        return PlaceholderFragment.newInstance(position + 1);\n    }\n\n    @Override\n    public int getCount() {\n        // Show 3 total pages.\n        return 3;\n    }\n}\n</code></pre>\n\n<p>In <code>onCreateView</code> method I refresh my <code>ListView</code>. This method is called when i switch tabs.<br>\nBut I need to refresh <code>ListView</code> not when user switch tabs, but:<br>\n1. every 10 seconds<br>\n2. when user comes back to this activity (<code>onRestart()</code> method is called)  </p>\n\n<p>I have no idea how to access my <code>ListView</code> outside <code>onCreateView</code> method.<br>\nI've already tried many solutions from the internet to call <code>onCreateView</code> method from <code>onRestart</code> method, and just to access my <code>ListView</code> from <code>onRestart()</code>. None of them worked.  </p>\n\n<p>Globally in Activity class I have an instance of <code>SectionsPagerAdapter</code> and <code>ViewPager</code>:</p>\n\n<pre><code>private SectionsPagerAdapter mSectionsPagerAdapter;\n\nprivate ViewPager mViewPager;\n</code></pre>\n\n<p>They are initalized in <code>onCreate</code> by this way:</p>\n\n<pre><code>    mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n\n    // Set up the ViewPager with the sections adapter.\n    mViewPager = (ViewPager) findViewById(R.id.container);\n    mViewPager.setAdapter(mSectionsPagerAdapter);\n\n    TabLayout tabLayout = (TabLayout) findViewById(R.id.tabs);\n\n    mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n    tabLayout.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(mViewPager));\n</code></pre>\n\n<p>I think, there are 2 possible solutions, access my Fragment's view or just recall <code>onCreateView</code>.</p>\n\n<p>I've already tried to do:  </p>\n\n<ol>\n<li><p>This one just doesn't work:</p>\n\n<pre><code>@Override\nprotected void onRestart() {\n    super.onRestart();\n\n    mSectionsPagerAdapter.notifyDataSetChanged();\n\n}\n</code></pre></li>\n<li><p>This one crashes app because of NullPointerException:</p>\n\n<pre><code>@Override\nprotected void onRestart() {\n    super.onRestart();\n\n    Fragment f = mSectionsPagerAdapter.getItem(0); // tab with my list view is first tab. ( getItem(1) also does not work )\n    View v = f.getView(); // v is null here, however f isn't.\n\n    final ListView listView = v.findViewById(R.id.products_list); // v is null, NullPointerException is thrown.\n\n    // here refresh my listView trough internet\n\n}\n</code></pre></li>\n</ol>\n\n<p><b>EDIT:</b><br>\nSince I started using Kotlin, answer based on that language will be also accepted. However, I am new to Kotlin, so more detailed answer would be needed then.</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519822480, "post_id": 49029997, "comment_id": 85064379, "body": "What is your problem exactly? What do you mean by &quot;not able to parse correctly&quot;?"}, {"owner": {"reputation": 491, "user_id": 6011225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248002e32d4b40556643766a5627a689?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Gandhi", "link": "https://stackoverflow.com/users/6011225/bhavya-gandhi"}, "edited": false, "score": 0, "creation_date": 1519822523, "post_id": 49029997, "comment_id": 85064401, "body": "What you want in parsing?"}, {"owner": {"reputation": 805, "user_id": 7592874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TTxYG.png?s=128&g=1", "display_name": "Zacktamondo", "link": "https://stackoverflow.com/users/7592874/zacktamondo"}, "edited": false, "score": 0, "creation_date": 1519822537, "post_id": 49029997, "comment_id": 85064408, "body": "The &#39;feed.first_film&#39; gives null"}, {"owner": {"reputation": 491, "user_id": 6011225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248002e32d4b40556643766a5627a689?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Gandhi", "link": "https://stackoverflow.com/users/6011225/bhavya-gandhi"}, "edited": false, "score": 0, "creation_date": 1519822585, "post_id": 49029997, "comment_id": 85064440, "body": "Can you pest your Films Model class"}, {"owner": {"reputation": 805, "user_id": 7592874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TTxYG.png?s=128&g=1", "display_name": "Zacktamondo", "link": "https://stackoverflow.com/users/7592874/zacktamondo"}, "reply_to_user": {"reputation": 491, "user_id": 6011225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248002e32d4b40556643766a5627a689?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Gandhi", "link": "https://stackoverflow.com/users/6011225/bhavya-gandhi"}, "edited": false, "score": 0, "creation_date": 1519822730, "post_id": 49029997, "comment_id": 85064540, "body": "@BhavyaGandhi Done"}, {"owner": {"reputation": 491, "user_id": 6011225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248002e32d4b40556643766a5627a689?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Gandhi", "link": "https://stackoverflow.com/users/6011225/bhavya-gandhi"}, "edited": false, "score": 0, "creation_date": 1519823192, "post_id": 49029997, "comment_id": 85064881, "body": "I will post my answer .Check that"}], "answers": [{"tags": [], "owner": {"reputation": 491, "user_id": 6011225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248002e32d4b40556643766a5627a689?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavya Gandhi", "link": "https://stackoverflow.com/users/6011225/bhavya-gandhi"}, "is_accepted": true, "score": 2, "last_activity_date": 1519822935, "creation_date": 1519822935, "answer_id": 49030253, "question_id": 49029997, "link": "https://stackoverflow.com/questions/49029997/using-gson-and-anko/49030253#49030253", "title": "Using Gson and Anko", "body": "<p>Change Model Name <code>MoviesData</code> Form <code>Films</code>,</p>\n\n<pre><code> val moviesData= gson.fromJson(moviesJsonString, MoviesData::class.java)//Here you get moviesData array .\n</code></pre>\n"}], "owner": {"reputation": 805, "user_id": 7592874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TTxYG.png?s=128&g=1", "display_name": "Zacktamondo", "link": "https://stackoverflow.com/users/7592874/zacktamondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 49030253, "answer_count": 1, "score": 0, "last_activity_date": 1519887863, "creation_date": 1519822149, "last_edit_date": 1549310398, "question_id": 49029997, "link": "https://stackoverflow.com/questions/49029997/using-gson-and-anko", "title": "Using Gson and Anko", "body": "<p>I have a JSON and I want to use the data from it in my app but I am not able to parse the JSON correctly so I can use the values from the JSON to set different buttons texts in the fragment.\nThe problem is that I get null every time I in <code>feed.first_film</code>.<br>\nI am using Gson.</p>\n\n<blockquote>\n  <p>My JSON</p>\n</blockquote>\n\n<pre><code>{\n\"data\": {\n    \"films\": [\n        {\n            \"film_id\": \"8\",\n            \"first_film\": \"Dunkirk\",\n            \"first_thumb\": \"firstlog.jpg\",\n            \"first_desc\": \"Action- Drama-History\",\n            \"second_film\": \"The Good Doctor S1 E11\",\n            \"second_thumb\": \"secondlog.png\",\n            \"second_desc\": \"Drama\",\n            \"third_film\": \"Pirates Of The Caribbean Dead Men Tell No Tales\",\n            \"third_thumb\": \"thirdlog.png\",\n            \"third_desc\": \"Action- Fantasy-Adventure\",\n        }\n    ]\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>My Main Activity.kt</p>\n</blockquote>\n\n<pre><code>class MoviesFrag : Fragment(), View.OnClickListener {\n    var moviesURL: String? = null\n    var ds: String? = null\n    val url = \"http://sign.aya.sy/mobi/index.php/welcome/get_films_det\"\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        doAsync() {\n            firstEx()\n            uiThread {\n                activity!!.longToast(ds)\n            }\n        }\n        val view = inflater.inflate(R.layout.movies_frag, container, false)\n        return view\n    }\n    fun firstEx() : Films{\n        val moviesJsonString = URL(url).readText()\n        Log.i(\"Json\", moviesJsonString)\n        val gson = GsonBuilder().create()\n        val feed = gson.fromJson(moviesJsonString, Films::class.java)\n        ds = feed.first_film\n        return feed\n    }\n</code></pre>\n\n<blockquote>\n  <p>My DataClass.kt</p>\n</blockquote>\n\n<pre><code>data class MoviesData(val data: Data)\n\ndata class Data(val films: List&lt;Films&gt;)\ndata class Films(val film_id: String,\n                 val first_film: String,\n                 val first_thumb: String,\n                 val first_desc: String,\n                 val second_film: String,\n                 val second_thumb: String,\n                 val second_desc: String,\n                 val third_film: String,\n                 val third_thumb: String,\n                 val third_desc: String,\n                 val desc: String)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1593, "user_id": 3389765, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/250e5c4c042db6ddf4b260de6c6b6d6e?s=128&d=identicon&r=PG&f=1", "display_name": "morha13", "link": "https://stackoverflow.com/users/3389765/morha13"}, "edited": false, "score": 0, "creation_date": 1519818259, "post_id": 49028746, "comment_id": 85061727, "body": "Can you add a little bit of your code?"}, {"owner": {"reputation": 11, "user_id": 9423468, "user_type": "registered", "profile_image": "https://graph.facebook.com/1499950189/picture?type=large", "display_name": "Soufiane Sammah", "link": "https://stackoverflow.com/users/9423468/soufiane-sammah"}, "reply_to_user": {"reputation": 1593, "user_id": 3389765, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/250e5c4c042db6ddf4b260de6c6b6d6e?s=128&d=identicon&r=PG&f=1", "display_name": "morha13", "link": "https://stackoverflow.com/users/3389765/morha13"}, "edited": false, "score": 0, "creation_date": 1519818461, "post_id": 49028746, "comment_id": 85061835, "body": "Code ! for what !? did you understand  what i mean  i don&#39;t have a code issue ! i only want to understand a meaning"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1519819031, "post_id": 49028746, "comment_id": 85062189, "body": "I googled it for you: <a href=\"https://kotlinlang.org/docs/reference/functions.html#local-functions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/functions.html#local-functions</a>"}, {"owner": {"reputation": 11, "user_id": 9423468, "user_type": "registered", "profile_image": "https://graph.facebook.com/1499950189/picture?type=large", "display_name": "Soufiane Sammah", "link": "https://stackoverflow.com/users/9423468/soufiane-sammah"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519819627, "post_id": 49028746, "comment_id": 85062529, "body": "@MarkoTopolnik i don&#39;t how i missed that !"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1519821233, "last_edit_date": 1519821233, "creation_date": 1519820288, "answer_id": 49029410, "question_id": 49028746, "link": "https://stackoverflow.com/questions/49028746/what-are-local-declarations-for-variables-functions-and-classes-in-kotlin/49029410#49029410", "title": "What are Local declarations for : variables, functions and classes In Kotlin?", "body": "<p>Local declarations are declarations placed inside a body of a function (or a constructor, an <code>init</code> block, or a property accessor).</p>\n\n<p>These declarations can only be referenced inside the lexical scope where they are declared:</p>\n\n<pre><code>fun foo() { \n    if (Random().nextInt() % 2 == 0) {\n        fun bar() { \n            println(\"bar\") \n        }\n\n        bar() // OK\n    } else {\n        bar() // Error: unresolved reference\n    }\n}\n</code></pre>\n\n<p>Consequently, these declarations can never be used outside the body, and therefore visibility modifiers (which normally control whether a declaration is accessible outside the type or the file) are meaningless for local declarations.</p>\n\n<p>Local declarations can be used for entities that have meaning only inside a body of the function and not anywhere else, or should not be used anywhere else.</p>\n\n<p>An example of a valid use case for local declarations is a <code>data class</code> for intermediate values of a calculation:</p>\n\n<pre><code>fun getAndSaveEmails(people: List&lt;Person&gt;) { \n    data class PersonWithEmail(\n        val person: Person, \n        val email: String\n    )\n\n    val peopleWithEmails = people.map { PersonWithEmail(it, requestEmail(it)) }\n\n    peopleWithEmails.forEach { save(it.person, it.email) }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9423468, "user_type": "registered", "profile_image": "https://graph.facebook.com/1499950189/picture?type=large", "display_name": "Soufiane Sammah", "link": "https://stackoverflow.com/users/9423468/soufiane-sammah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "closed_date": 1519850161, "answer_count": 1, "score": 0, "last_activity_date": 1519821233, "creation_date": 1519818095, "last_edit_date": 1519818977, "question_id": 49028746, "link": "https://stackoverflow.com/questions/49028746/what-are-local-declarations-for-variables-functions-and-classes-in-kotlin", "closed_reason": "Not suitable for this site", "title": "What are Local declarations for : variables, functions and classes In Kotlin?", "body": "<p>So i started learning <code>kotlin</code> for android development.\nBut when i get to the visibility topic i met this note stating: </p>\n\n<blockquote>\n  <p>Local declarations\n  Local variables, functions and classes can not have visibility modifiers.</p>\n</blockquote>\n\n<p>What are <code>Local declarations</code> in <code>Kotlin</code>   ?</p>\n\n<p>I asked you here witch means i already did a search on the internet but the only results i have got they were about java and other programming  languages and i don't want to mix up things so i  can  avoid confusion.\nThanks very much in advance  </p>\n"}, {"tags": ["json", "gridview", "kotlin", "android-volley", "paging"], "comments": [{"owner": {"reputation": 22280, "user_id": 833647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jpy2l.jpg?s=128&g=1", "display_name": "Ken Wolf", "link": "https://stackoverflow.com/users/833647/ken-wolf"}, "edited": false, "score": 0, "creation_date": 1519820501, "post_id": 49028009, "comment_id": 85063070, "body": "Have a look at this: <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/paging.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 3, "user_id": 6113592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYoE1.jpg?s=128&g=1", "display_name": "redSparrow", "link": "https://stackoverflow.com/users/6113592/redsparrow"}, "reply_to_user": {"reputation": 22280, "user_id": 833647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jpy2l.jpg?s=128&g=1", "display_name": "Ken Wolf", "link": "https://stackoverflow.com/users/833647/ken-wolf"}, "edited": false, "score": 0, "creation_date": 1519825872, "post_id": 49028009, "comment_id": 85066745, "body": "Something more easy? I want to do it without additional library. Just Kotlin and Gridview"}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": false, "score": 1, "last_activity_date": 1519907864, "creation_date": 1519907864, "answer_id": 49049896, "question_id": 49028009, "link": "https://stackoverflow.com/questions/49028009/how-to-make-a-simple-paging-on-kotlin-with-gridview/49049896#49049896", "title": "How to make a simple paging on Kotlin with Gridview?", "body": "<p>There is a very simple way actually, you just call <code>gridView.setOnScrollListener(listener)</code> and in listener's method <code>onScroll</code> you're loading more items if current visible position if last visible position is equal to totalItems, in summary you do this:</p>\n\n<pre><code>    gridView.setOnScrollListener(object: AbsListView.OnScrollListener {\n        override fun onScroll(view: AbsListView?, firstVisibleItem: Int, visibleItemCount: Int, totalItemCount: Int) {\n            if (totalItemCount - visibleItemCount &lt;= firstVisibleItem &amp;&amp; adapter.count + ITEM_COUNT &lt;= MAX_ITEM_COUNT) {\n                //TODO: Add footer or some progress view to show that items are loading\n                loadMore()\n            }\n        }\n        override fun onScrollStateChanged(view: AbsListView?, state: Int) {\n            //TODO: add some logic if needed, but no logic needed for this task\n        }\n    })\n</code></pre>\n\n<p>Where <code>totalItemCount - visibleItemCount &lt;= firstVisibleItem</code> is equal to <code>totalItemCount - lastVisibleItemPosition == 0</code>, <code>ITEM_COUNT</code> is 20 for you, and last condition <code>adapter.count + ITEM_COUNT &lt;= MAX_ITEM_COUNT</code> should be made only if you have maximum count of items on server. <strong>You should execute your request in <code>loadMore()</code></strong></p>\n"}, {"tags": [], "owner": {"reputation": 524, "user_id": 6477946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KLbWUzd5hy8/AAAAAAAAAAI/AAAAAAAAAIQ/JkpC3poGJwk/photo.jpg?sz=128", "display_name": "Rajneesh Shukla", "link": "https://stackoverflow.com/users/6477946/rajneesh-shukla"}, "is_accepted": false, "score": 0, "last_activity_date": 1559548724, "creation_date": 1559548724, "answer_id": 56423237, "question_id": 49028009, "link": "https://stackoverflow.com/questions/49028009/how-to-make-a-simple-paging-on-kotlin-with-gridview/56423237#56423237", "title": "How to make a simple paging on Kotlin with Gridview?", "body": "<p>here is the listener of pagination. Please add your logic accordingly</p>\n\n<pre><code>  gridview.setOnScrollChangeListener(object : AbsListView.OnScrollListener, View.OnScrollChangeListener {\n            override fun onScrollChange(v: View?, scrollX: Int, scrollY: Int, oldScrollX: Int, oldScrollY: Int) {\n                print(\"ff\")\n            }\n\n            override fun onScroll(\n                view: AbsListView?,\n                firstVisibleItem: Int,\n                visibleItemCount: Int,\n                totalItemCount: Int\n            ) {\n\n            }\n\n            override fun onScrollStateChanged(view: AbsListView?, scrollState: Int) {\n\n            }\n\n        })\n    }\n</code></pre>\n\n<p>comment if you need further help.</p>\n"}], "owner": {"reputation": 3, "user_id": 6113592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYoE1.jpg?s=128&g=1", "display_name": "redSparrow", "link": "https://stackoverflow.com/users/6113592/redsparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559548724, "creation_date": 1519815727, "question_id": 49028009, "link": "https://stackoverflow.com/questions/49028009/how-to-make-a-simple-paging-on-kotlin-with-gridview", "title": "How to make a simple paging on Kotlin with Gridview?", "body": "<p>I have a json request witch brings me 20 objects with offset and limit <a href=\"http://website.com/myRestApi/getObjects.php?offset=20\" rel=\"nofollow noreferrer\">http://website.com/myRestApi/getObjects.php?offset=20</a>. I want to call it every time user scrolling on Gridview and loads the 20, so to create an infinite simple paging style within my Android App until objects finish!</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1519815268, "post_id": 49027702, "comment_id": 85059957, "body": "Can you put your activity codes here?"}, {"owner": {"reputation": 157, "user_id": 6041004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a144132bc0210cbc65531ca41d0f019a?s=128&d=identicon&r=PG&f=1", "display_name": "mateo", "link": "https://stackoverflow.com/users/6041004/mateo"}, "reply_to_user": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1519816153, "post_id": 49027702, "comment_id": 85060519, "body": "I posted it in edit"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1519816930, "post_id": 49027702, "comment_id": 85060965, "body": "Every time you open activity once again it&#39;s different activity (different context), you rotate screen -&gt; activity recreated (new context). DataSynchronizer should work as a Subject - every time you need to subscribe to the Subject and unsubscribe"}, {"owner": {"reputation": 157, "user_id": 6041004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a144132bc0210cbc65531ca41d0f019a?s=128&d=identicon&r=PG&f=1", "display_name": "mateo", "link": "https://stackoverflow.com/users/6041004/mateo"}, "edited": false, "score": 0, "creation_date": 1519818026, "post_id": 49027702, "comment_id": 85061612, "body": "Indeed :)  it is done on DataSynchronizer.getInstance(application as MyApplication?, this) -- &#39;this&#39; is listener  and unsubscribe in dataSynchronizer?.stopSync()"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 6041004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a144132bc0210cbc65531ca41d0f019a?s=128&d=identicon&r=PG&f=1", "display_name": "mateo", "link": "https://stackoverflow.com/users/6041004/mateo"}, "edited": false, "score": 0, "creation_date": 1519820421, "post_id": 49029405, "comment_id": 85063016, "body": "it is TextView not EditText"}], "tags": [], "owner": {"reputation": 654, "user_id": 2129362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75bff4c04db99fa4c96762ce684d3da6?s=128&d=identicon&r=PG", "display_name": "Ramki Anba", "link": "https://stackoverflow.com/users/2129362/ramki-anba"}, "is_accepted": false, "score": 0, "last_activity_date": 1519820277, "creation_date": 1519820277, "answer_id": 49029405, "question_id": 49027702, "link": "https://stackoverflow.com/questions/49027702/android-kotlin-get-old-activity-when-resume-app-after-close/49029405#49029405", "title": "Android/Kotlin - get old Activity when resume app after close", "body": "<p>Use syncProgressText.setText(message), syncProgressText.text expects Editable, not a String.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 6041004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a144132bc0210cbc65531ca41d0f019a?s=128&d=identicon&r=PG&f=1", "display_name": "mateo", "link": "https://stackoverflow.com/users/6041004/mateo"}, "is_accepted": true, "score": 0, "last_activity_date": 1519823808, "creation_date": 1519823808, "answer_id": 49030520, "question_id": 49027702, "link": "https://stackoverflow.com/questions/49027702/android-kotlin-get-old-activity-when-resume-app-after-close/49030520#49030520", "title": "Android/Kotlin - get old Activity when resume app after close", "body": "<p><strong>Finally fixed</strong>. Thanks @Viktor, after checked my DataSynchronizer.getInstance(application as MyApplication?, this) I realized that DataSynchronizer was not GC -- memory leaks. So it holded old refrerences. Now it works like a charm.</p>\n"}], "owner": {"reputation": 157, "user_id": 6041004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a144132bc0210cbc65531ca41d0f019a?s=128&d=identicon&r=PG&f=1", "display_name": "mateo", "link": "https://stackoverflow.com/users/6041004/mateo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 1, "accepted_answer_id": 49030520, "answer_count": 2, "score": 0, "last_activity_date": 1519824090, "creation_date": 1519814841, "last_edit_date": 1519824090, "question_id": 49027702, "link": "https://stackoverflow.com/questions/49027702/android-kotlin-get-old-activity-when-resume-app-after-close", "title": "Android/Kotlin - get old Activity when resume app after close", "body": "<p>My problem is:</p>\n\n<p>I close Activity using <code>finish()</code>, it goes to <strong>onPause -> onStop -> onDestroy</strong>. \nNext I open app, <code>onCreate()</code> gets old references to all views and <code>context</code>. </p>\n\n<p>When I try show simple dialog it throws: </p>\n\n<blockquote>\n  <p>\"Unable to add window -- token android.os.BinderProxy@69a156a is not\n  valid; is your activity running?\"</p>\n</blockquote>\n\n<p>I also cannot access text view</p>\n\n<blockquote>\n  <p>progressText?.text = message</p>\n</blockquote>\n\n<p>it gets old reference - i used clearFindViewByIdCache() -- but no effect.</p>\n\n<p>What's wrong?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I try to manipulate views from DataSyncListener methods runOnUiThread</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), DataSyncListener {\noverride fun onSuccess() {\n    runOnUiThread {\n        refreshLayout?.isRefreshing = false // it DO NOT works after reopen app, \n        syncProgressText?.visibility = View.GONE // it DO NOT works after reopen app, \n    }\n}\n\noverride fun onFailure() {\n    runOnUiThread {\n        refreshLayout?.isRefreshing = false // it DO NOT works after reopen app, \n        syncProgressText?.visibility = View.GONE // it DO NOT works after reopen app, \n    }\n}\n\noverride fun onError(message: String) {\n    Logger.d(message)\n    runOnUiThread {\n        refreshLayout?.isRefreshing = false        // it DO NOT works after reopen app\n        syncProgressText?.visibility = View.GONE   // it DO NOT works after reopen app\n\n        displayInfoAlertWithConfirm(this@MainActivity, message, DialogInterface.OnClickListener { _, _ -&gt;   // it DO NOT works after reopen app, throws Unable to add window\n            refreshLayout?.isRefreshing = true            // it DO NOT works after reopen app\n            syncProgressText?.visibility = View.VISIBLE   // it DO NOT works after reopen app\n        })\n    }\n}\n\noverride fun onProgress(message: String) {\n    runOnUiThread {\n        syncProgressText?.text = message    // it DO NOT works after reopen app\n    }\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    setSupportActionBar(toolbar)\n    refreshLayout.setOnRefreshListener({ \n        // it DO NOT works after reopen app, \n        synchronizeData() \n        })\n\n    synchronizeData()\n    syncProgressText?.text = \"test\" // it works after reopen app\n}\n\noverride fun onPostCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n    super.onPostCreate(savedInstanceState, persistentState)\n    actionBarDrawerToggle?.syncState()\n}\n\n\nfun synchronizeData() {\n    refreshLayout?.isRefreshing = true\n\n    dataSynchronizer = DataSynchronizer.getInstance(application as MyApplication?, this)\n    dataSynchronizer?.startSync()                   // background featch data\n    syncProgressText?.visibility = View.VISIBLE   // it DO NOT works after reopen app\n}\n\n\noverride fun onDestroy() {\n    super.onDestroy()\n    dataSynchronizer?.stopSync()    // kill background task\n    clearFindViewByIdCache() // no effect\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p><strong>FIXED</strong> - DataSynchronizer was not GC and hold old references</p>\n"}, {"tags": ["binding", "kotlin", "javafx-8", "tornadofx"], "comments": [{"owner": {"reputation": 1651, "user_id": 1271937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yjMIi.jpg?s=128&g=1", "display_name": "Oliver Jan Krylow", "link": "https://stackoverflow.com/users/1271937/oliver-jan-krylow"}, "edited": false, "score": 1, "creation_date": 1519981430, "post_id": 49027500, "comment_id": 85136595, "body": "There is no builtin way to do what you want, except when using <code>Bindings.bindBidirectional</code>. It is trivial to implement however, check out the <code>subscribe</code> method in <a href=\"https://github.com/TomasMikula/EasyBind\" rel=\"nofollow noreferrer\">EasyBind</a>."}, {"owner": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "reply_to_user": {"reputation": 1651, "user_id": 1271937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yjMIi.jpg?s=128&g=1", "display_name": "Oliver Jan Krylow", "link": "https://stackoverflow.com/users/1271937/oliver-jan-krylow"}, "edited": false, "score": 0, "creation_date": 1519985330, "post_id": 49027500, "comment_id": 85138844, "body": "This Lib looks amazing, I will check it out, thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "edited": false, "score": 0, "creation_date": 1519819368, "post_id": 49028003, "comment_id": 85062370, "body": "Hello Edvin, thanks again for your help. This would be excellent but unfortunately, I am not seeing this method on my javafx.scene.control.Tab object. It&#39;s probalby because I&#39;m just instanciating it the plain old java/kotlin way from a controller. I&#39;ll try to factor it out so I can use the tornadofx builder."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "edited": false, "score": 1, "creation_date": 1519907600, "post_id": 49028003, "comment_id": 85103728, "body": "This function is an extension function available from TornadoFX, so if you are indeed using TornadoFX (you tagged the question with the tornadofx tag, so I assumed) and you&#39;re writing Kotlin code, then you can use this function by importing <code>tornadofx.*</code>. If you&#39;re not using TornadoFX then I guess your initial solution is the best you can do :) hehe"}, {"owner": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "edited": false, "score": 0, "creation_date": 1519909951, "post_id": 49028003, "comment_id": 85105198, "body": "sorry, yes I am definately using tornadofx (it&#39;s a lot of fun) but I think the problem is that Tab is not a Node. I can see the toggleClass function on other components, just not on tabs"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "edited": false, "score": 1, "creation_date": 1519991171, "post_id": 49028003, "comment_id": 85141802, "body": "Ah, you&#39;re right. We could probably move Node.toggleClass and friends to EventTarget. Will look into it ASAP!"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "edited": false, "score": 1, "creation_date": 1519991802, "post_id": 49028003, "comment_id": 85142075, "body": "I just committed spesific support for these on Tab :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1519815716, "creation_date": 1519815716, "answer_id": 49028003, "question_id": 49027500, "link": "https://stackoverflow.com/questions/49027500/binding-boolean-property-to-list-operations-in-javafx/49028003#49028003", "title": "Binding boolean (Property) to List operations in JavaFX", "body": "<p>In TornadoFX the best way to achieve this is to use the <code>toggleClass</code> function, which will automatically add or remove a given class based on a boolean observable value. Therefore you can simply say:</p>\n\n<pre><code>tab.toggleClass(Styles.error, product.isValid)\n</code></pre>\n\n<p>This example requires you to use the Type Safe CSS feature of TornadoFX. Read more about Type Safe CSS in the guide :)</p>\n"}], "owner": {"reputation": 373, "user_id": 982877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510609666d4d766c19c94c2a3fc46957?s=128&d=identicon&r=PG", "display_name": "Wulf", "link": "https://stackoverflow.com/users/982877/wulf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 49028003, "answer_count": 1, "score": 1, "last_activity_date": 1519815716, "creation_date": 1519814270, "question_id": 49027500, "link": "https://stackoverflow.com/questions/49027500/binding-boolean-property-to-list-operations-in-javafx", "title": "Binding boolean (Property) to List operations in JavaFX", "body": "<p>I found JavaFX to be suprisingly expressive after getting over the fact that I had to redeclare every field as property so I am a little stumped and would like to know if there is a better, more idomatic way of binding a boolean to some more complex operation like adding and removing style classes. </p>\n\n<p>In this example I have a project that maybe valid or not and I want the font color of the tab to indicate which it is. I am doing this by adding and removing the error style class:</p>\n\n<pre><code>    val errorSwitch = { valid : Boolean -&gt;\n        logger.debug {\"errorSwitcher: $valid\"}\n        if( valid) tab.styleClass.remove(\"error\")\n        else tab.styleClass.add(\"error\")\n        Unit\n    }\n    product.isValid.onChange (errorSwitch)\n    errorSwitch(product.isValid.value)\n</code></pre>\n\n<p>What I don't like here is that I have to call the function once myself to start with because \"onChange\" obviously does not trigger unless the isValid actually changes. It's a small thing but I am wondering if there isn't a better way with bindings because thats what I want: the presence of the error class should be bound to \"isValid\"</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1519813990, "post_id": 49027140, "comment_id": 85059202, "body": "you can try <code>&quot;Content-type: application&#47;json&quot;</code> give a space and check if it works.."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519814256, "post_id": 49027140, "comment_id": 85059355, "body": "are you sure that this is the line were the error occurs? using <code>{}</code> should give you a <code>Type mismatch</code>, not a <code>Unexpected Token</code>"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 1797906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B40ax.jpg?s=128&g=1", "display_name": "ooCHURIoo", "link": "https://stackoverflow.com/users/1797906/oochurioo"}, "edited": false, "score": 1, "creation_date": 1519814345, "post_id": 49027312, "comment_id": 85059402, "body": "Ok, in Android studio i ha the &quot;type missmatch error&quot;. In removre ce braces and it works thx. It&#39;s a kotlin syntaxe?"}], "tags": [], "owner": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "is_accepted": true, "score": 33, "last_activity_date": 1519814068, "last_edit_date": 1519814068, "creation_date": 1519813759, "answer_id": 49027312, "question_id": 49027140, "link": "https://stackoverflow.com/questions/49027140/retrofit-2-headers-error-in-kotlin/49027312#49027312", "title": "retrofit 2 @headers error in kotlin", "body": "<p>Braces <code>{}</code> isn't needed inside <code>@Headers</code>.</p>\n\n<p>Docs: <a href=\"https://kotlinlang.org/docs/reference/annotations.html#arrays-as-annotation-parameters\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/annotations.html#arrays-as-annotation-parameters</a></p>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 10, "last_activity_date": 1519816255, "last_edit_date": 1519816255, "creation_date": 1519814413, "answer_id": 49027547, "question_id": 49027140, "link": "https://stackoverflow.com/questions/49027140/retrofit-2-headers-error-in-kotlin/49027547#49027547", "title": "retrofit 2 @headers error in kotlin", "body": "<p>Use below code:</p>\n\n<pre><code>@Headers(\n        \"Accept: application/json\",\n        \"Content-type:application/json\"\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5990, "user_id": 7133466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-kWHF7GbknL4/AAAAAAAAAAI/AAAAAAAAGXw/pD7JDyHZnMA/photo.jpg?sz=128", "display_name": "Federico Grandi", "link": "https://stackoverflow.com/users/7133466/federico-grandi"}, "edited": false, "score": 0, "creation_date": 1545158291, "post_id": 53838677, "comment_id": 94526532, "body": "Can you explain your solution, so that other user will find it easier to understand it?"}, {"owner": {"reputation": 53, "user_id": 7531962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6998a6bbc452ea8dc70878c775259292?s=128&d=identicon&r=PG&f=1", "display_name": "Phu", "link": "https://stackoverflow.com/users/7531962/phu"}, "reply_to_user": {"reputation": 5990, "user_id": 7133466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-kWHF7GbknL4/AAAAAAAAAAI/AAAAAAAAGXw/pD7JDyHZnMA/photo.jpg?sz=128", "display_name": "Federico Grandi", "link": "https://stackoverflow.com/users/7133466/federico-grandi"}, "edited": false, "score": 2, "creation_date": 1550120150, "post_id": 53838677, "comment_id": 96155421, "body": "so sorry to reply you late, declare an array is difference between java and kotlin."}], "tags": [], "owner": {"reputation": 53, "user_id": 7531962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6998a6bbc452ea8dc70878c775259292?s=128&d=identicon&r=PG&f=1", "display_name": "Phu", "link": "https://stackoverflow.com/users/7531962/phu"}, "is_accepted": false, "score": 4, "last_activity_date": 1550120058, "last_edit_date": 1550120058, "creation_date": 1545156034, "answer_id": 53838677, "question_id": 49027140, "link": "https://stackoverflow.com/questions/49027140/retrofit-2-headers-error-in-kotlin/53838677#53838677", "title": "retrofit 2 @headers error in kotlin", "body": "<p>You should use:</p>\n\n<pre><code>@Headers(value = [\"Accept: application/json\",\n          \"Content-type:application/json\"])\n</code></pre>\n\n<p>because the headers need an array parameter for it, you are using the wrong syntax in kotlin</p>\n"}], "owner": {"reputation": 151, "user_id": 1797906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B40ax.jpg?s=128&g=1", "display_name": "ooCHURIoo", "link": "https://stackoverflow.com/users/1797906/oochurioo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9099, "favorite_count": 0, "accepted_answer_id": 49027312, "answer_count": 3, "score": 12, "last_activity_date": 1550120058, "creation_date": 1519813260, "last_edit_date": 1519813310, "question_id": 49027140, "link": "https://stackoverflow.com/questions/49027140/retrofit-2-headers-error-in-kotlin", "title": "retrofit 2 @headers error in kotlin", "body": "<p>I try to add multiple static headers with retrofit 2 (2.3.0) like this :</p>\n\n<pre><code>interface WeatherAPI {\n\n    @Headers({\n        \"Accept: application/json\",\n        \"Content-type:application/json\"\n    })\n    @GET(\"/data/2.5/weather\")\n    fun getWeatherForCityName(@Query(\"q\") city: String, @Query(\"appid\") appid: String) : Call&lt;GetWeatherResponse&gt;;\n\n}\n</code></pre>\n\n<p>I have the folowing error :</p>\n\n<p><img src=\"https://i.stack.imgur.com/T5Sfx.png\" alt=\"error\"></p>\n\n<p>Any idea of my mistake?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "rx-java2", "rx-android"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519815060, "post_id": 49027054, "comment_id": 85059825, "body": "You&#39;re just using RxJava, but since you don&#39;t use any sort of binding between the VM and the View (you don&#39;t even show us the view), it&#39;s not MVVM (you&#39;re only logging the boolean result)   You should also change the inner state of the VM and somehow notify the the View about that (e.g. via Databinding) so that it can update itself.  So the answer is <b>no</b>. You&#39;re not using MVVM."}, {"owner": {"reputation": 325, "user_id": 9042954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82f39245f88368baaf167da6aa2e2fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj Mody", "link": "https://stackoverflow.com/users/9042954/anuj-mody"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519815219, "post_id": 49027054, "comment_id": 85059923, "body": "so is it compulsory for me to use data binding in MVVM?"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519815480, "post_id": 49027054, "comment_id": 85060094, "body": "you can also use your own mechanism, but Databinding is the easiest. The reason is, that the ViewModel should <i>not</i> know about the View, and the Model should <i>not</i> know the ViewModel. <a href=\"https://github.com/kaskasi/VocabularyTrainer\" rel=\"nofollow noreferrer\">Here is an example I found</a> it&#39;s not perfect, since its using a lot of <code>doOn</code> methods for manipulating the VM&#39;s state, but it&#39;s a start."}, {"owner": {"reputation": 325, "user_id": 9042954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82f39245f88368baaf167da6aa2e2fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj Mody", "link": "https://stackoverflow.com/users/9042954/anuj-mody"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519816500, "post_id": 49027054, "comment_id": 85060696, "body": "@Lovis thanks, sir. But the checkVehicleNumberPlate() function only does the logical thing nothing abt updating the UI"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1519816977, "post_id": 49027054, "comment_id": 85060993, "body": "exactly. but without a View, I can&#39;t tell whether you&#39;re using MVVM correctly, since the first V stands for View ;-)"}], "owner": {"reputation": 325, "user_id": 9042954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82f39245f88368baaf167da6aa2e2fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Anuj Mody", "link": "https://stackoverflow.com/users/9042954/anuj-mody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1581550105, "creation_date": 1519813046, "last_edit_date": 1581550105, "question_id": 49027054, "link": "https://stackoverflow.com/questions/49027054/mvvm-using-rxjava-in-the-proper-way", "title": "MVVM using RxJava in the proper way", "body": "<p>I am trying to use MVVM in my new Android project. Also, I am using RxJava for this purpose. I am using Kotlin. I have gone through many docs, post, and tutorials for the same. I did a sample app trying out stuff.</p>\n\n<p>ACTIVITY</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var vehicleInVM: VehicleInVM? = null\n    var disposable: CompositeDisposable? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        vehicleInVM = VehicleInVM()\n        disposable = CompositeDisposable()\n\n\n        vehicleInVM?.checkVehicleNumberPlate(\"111\")?.subscribe({ t1: Boolean?, t2: Throwable? -&gt;\n            Logger.getLogger(\"GP\").severe(\"$t1\")\n        })?.let { disposable!!.add(it) }\n\n\n    }\n}\n</code></pre>\n\n<p>VIEW MODEL</p>\n\n<pre><code>class VehicleInVM {\n\n    var capacity: Capacity?=null\n\n    init {\n        capacity= Capacity()\n    }\n\n\n    fun checkVehicleNumberPlate(string: String?): Single&lt;Boolean&gt;? {\n        if (string == null) {\n            return Single.create&lt;Boolean&gt; { emitter -&gt;\n                emitter.onSuccess(false)\n            }\n        }\n        val regex = Constants.VEHICL_NUMBER_REGEX\n        return Single.create&lt;Boolean&gt; { emitter -&gt;\n            emitter.onSuccess(string?.let { regex.matches(it) })\n        }\n    }\n\n\n\n    fun getVehicleCapacity(type:String): Observable&lt;String&gt;? {\n\n        return capacity?.getCapacity(type)\n    }\n\n}\n</code></pre>\n\n<p>Is what I am doing the correct way to implement MVVM?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1519811374, "post_id": 49026389, "comment_id": 85057501, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28294509/accessing-kotlin-extension-functions-from-java\">Accessing Kotlin extension functions from Java</a>"}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519812227, "post_id": 49026389, "comment_id": 85058065, "body": "@Moira my question is about accessing native library code, not my own extension, please read carefully question before marking it as duplicate."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519812547, "post_id": 49026389, "comment_id": 85058294, "body": "Could you please clarify what exactly you mean by &quot;$receiver is null, so it crashed&quot;? If you declare an extension function for a nullable receiver type (<code>String?.isNullOrEmpty</code>), you can pass null as the $receiver argument to them."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519812549, "post_id": 49026389, "comment_id": 85058295, "body": "Well, that&#39;s not native code, it is the standard library, and it is about extension functions (it is irrelevant whether that is <i>your</i> code or not). For most purposes, this <i>is a duplicate</i>. yole points out that some stdlib functions are inaccessible from Java due to <code>@InlineOnly</code> which marks the compiled function as <code>synthetic</code>."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519812649, "post_id": 49026389, "comment_id": 85058361, "body": "if you edit your question avoid stuff like &quot;edit&quot; &quot;update&quot; etc. Phrase it so that it still reads as an original question. Also refrain from saying &quot;plz no duplicate&quot; etc"}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519812790, "post_id": 49026389, "comment_id": 85058456, "body": "@Moira there is a difference - I cannot modify code from standard library, so most of suggestions from &quot;duplicate&quot; answer is irrelevant."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519812878, "post_id": 49026389, "comment_id": 85058512, "body": "That is false, none of the answers from that question recommend modifying the extension function."}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 0, "creation_date": 1519813041, "post_id": 49026389, "comment_id": 85058621, "body": "You are wrong, they suggest to put @JvmStatic or add companion to an extension. And the rest is about Java way of generation code from Kotlin, which, again, is not a point of my question."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519813208, "post_id": 49026389, "comment_id": 85058717, "body": "Your question quite clearly states &quot;I cannot figure out how to call it from Java&quot;, which seems to be the point of your question, and the accepted answer there states that top-level functions are compiled into <code>[Filename]Kt.[method name]</code>. The only answer suggesting <code>@JvmStatic</code> is the one with the least votes, and also arguably the worst solution."}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 0, "creation_date": 1519813780, "post_id": 49026389, "comment_id": 85059072, "body": "Again, this is about STANDARD library function, not my own extension. I already understand subtlety about <code>@InlineOnly</code> and the accepted answer from another question did not helped me at all."}, {"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 2, "creation_date": 1519816482, "post_id": 49026389, "comment_id": 85060689, "body": "or you can use this: <a href=\"https://developer.android.com/reference/android/text/TextUtils.html#isEmpty(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/text/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 0, "creation_date": 1519812872, "post_id": 49026829, "comment_id": 85058506, "body": "Thank you for explanation! Btw I do not succeed to move it to extension, because crash. I&#39;ll try to use your suggestion about <code>String?</code>."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1519812402, "creation_date": 1519812402, "answer_id": 49026829, "question_id": 49026389, "link": "https://stackoverflow.com/questions/49026389/how-to-call-kotlin-standard-library-function-from-java/49026829#49026829", "title": "How to call Kotlin standard library function from Java?", "body": "<p>Some standard library functions, including this one, are marked with the @InlineOnly annotation, which makes them inaccessible from Java. For most other functions, you can access them exactly as described in the question linked as a duplicate.</p>\n"}, {"comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519820460, "post_id": 49027786, "comment_id": 85063041, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-empty.html\" rel=\"nofollow noreferrer\"><code>isNullOrEmpty</code> definitely does not return a <code>Boolean?</code></a>, what do you mean?"}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519821678, "post_id": 49027786, "comment_id": 85063859, "body": "@Moira When I tried to use it as <code>fun String?.isVoid(): Boolean = this?.isNullOrEmpty()</code>, I cannot compile with error <code>Type mismatch: inferred type is Boolean? but Boolean was expected</code>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1519825434, "post_id": 49027786, "comment_id": 85066426, "body": "You don&#39;t use it with <code>?.</code>, you use it as <code>this.isNullOrEmpty()</code> because the function can work with nullable types. <code>?.</code> forces the function to work with the non-null value, or return null if it is null (which is not what you want)"}], "tags": [], "owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "is_accepted": false, "score": 2, "last_activity_date": 1519831743, "last_edit_date": 1519831743, "creation_date": 1519815093, "answer_id": 49027786, "question_id": 49026389, "link": "https://stackoverflow.com/questions/49026389/how-to-call-kotlin-standard-library-function-from-java/49027786#49027786", "title": "How to call Kotlin standard library function from Java?", "body": "<p>After suggestion from @yole, I finally manage to convert code correctly to extension:</p>\n\n<pre><code>fun String?.isNullOrEmpty(): Boolean = (this == null || this.isEmpty())\n</code></pre>\n\n<p>So, problem was in defining extension as <code>String</code>, not as <code>String?</code> which leads to crash on $receiver. (Kotlin generates hidden not-null verifications when translating to Java, see <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#null-safety\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#null-safety</a>)</p>\n\n<p>Alternatively, standard library functions marked with <code>@InlineOnly</code> can be accessed from Java via custom extension.</p>\n\n<pre><code>fun String?.isVoid(): Boolean = this.isNullOrEmpty()\n</code></pre>\n\n<p>My problem here was in misunderstanding of <code>?</code>. I tried this first:</p>\n\n<pre><code>fun String?.isVoid(): Boolean? = this?.isNullOrEmpty()\n</code></pre>\n\n<p>As @Moria mentioned, please note behaviour of <code>?</code> - <code>b?.method</code> will return <code>b.method</code> if b is not <em>null</em>, and <em>null</em> otherwise (<a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html#safe-calls</a>)</p>\n"}], "owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 1, "accepted_answer_id": 49026829, "answer_count": 2, "score": 4, "last_activity_date": 1519831743, "creation_date": 1519811091, "last_edit_date": 1519813811, "question_id": 49026389, "link": "https://stackoverflow.com/questions/49026389/how-to-call-kotlin-standard-library-function-from-java", "title": "How to call Kotlin standard library function from Java?", "body": "<p><strong>Motivation:</strong></p>\n\n<p>In our Android project we have many verifications like <code>str != null &amp;&amp; !str.isEmpty()</code>, so I decided to refactor them to a helper method.\nFor a moment I use following class as a helper:</p>\n\n<pre><code>public class StringUtil {\n    public static boolean isNullOrEmpty(@Nullable String str) {\n        return str == null || str.isEmpty();\n    }\n}\n</code></pre>\n\n<p><strong>Problem:</strong></p>\n\n<p>We already have a string's helper class, written in Kotlin (say, String.kt).\nSo, this is not clear to have two helpers (one in Java and one in Kotlin).</p>\n\n<p><strong>What I tried:</strong></p>\n\n<p>Naive approach to copy-past <code>isNullOrEmpty()</code> inside String.kt do not successed, because <code>$reciever</code> is null, so it crashed.</p>\n\n<p>Secondly, I tried to used Kotlin native <code>isNullOrEmpty()</code> from kotlin.text (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-empty.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-empty.html</a>):</p>\n\n<pre><code>public inline fun CharSequence?.isNullOrEmpty(): Boolean\n</code></pre>\n\n<p>but I cannot figure out how to call it from Java. This page (<a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html</a>) do not provide any suggestions.</p>\n\n<p>The problem is not about <em><a href=\"https://stackoverflow.com/questions/28294509/accessing-kotlin-extension-functions-from-java\">Accessing Kotlin extension functions from Java</a></em>. My extension is perfectly visibly, but it crash because of null-receivier. As I mentioned below, question is more about accessing native library code, not my own extension.</p>\n\n<p>Any help please ?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9422876, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jaehyun Kim", "link": "https://stackoverflow.com/users/9422876/jaehyun-kim"}, "edited": false, "score": 0, "creation_date": 1519860780, "post_id": 49039832, "comment_id": 85086085, "body": "&quot;the items currently within the view&quot;, let me rephrase it. I meant the items(views) that are currently displayed on the screen. So if there are 10 items total on my adapter and the screen can only display 8 items, those 8 are the &quot;the items currently within the view&quot;."}], "tags": [], "owner": {"reputation": 33, "user_id": 5593720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/167c11def4b4a13692c8cd7ac5e08666?s=128&d=identicon&r=PG&f=1", "display_name": "James C", "link": "https://stackoverflow.com/users/5593720/james-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1519857610, "creation_date": 1519857610, "answer_id": 49039832, "question_id": 49025535, "link": "https://stackoverflow.com/questions/49025535/kotlin-android-selecting-all-elements-in-listview-getchildati/49039832#49039832", "title": "Kotlin/Android selecting all elements in listView getchildat(i)", "body": "<p>You can set list items as selected after a scroll event by setting up an <a href=\"https://developer.android.com/reference/android/widget/AbsListView.OnScrollListener.html\" rel=\"nofollow noreferrer\">OnScrollListener</a> in the listview. What do you mean by \"the items currently within the view\"?</p>\n"}], "owner": {"reputation": 1, "user_id": 9422876, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jaehyun Kim", "link": "https://stackoverflow.com/users/9422876/jaehyun-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519857610, "creation_date": 1519808371, "question_id": 49025535, "link": "https://stackoverflow.com/questions/49025535/kotlin-android-selecting-all-elements-in-listview-getchildati", "title": "Kotlin/Android selecting all elements in listView getchildat(i)", "body": "<p>I am currently making something on kotlin.</p>\n\n<p>I was trying to make it so that when you click on individual items on the listView, it would become highlighted and \"checked\" as im using \"CheckableLinearLayout\" implementation.</p>\n\n<p>However, unlike what I expected, this following code only selects the items currently within the view (~8, but there are 12 total).</p>\n\n<p>Also, if I scroll up or down, the items that leave the window are automatically unselected... Thanks in advance. </p>\n\n<pre><code>    fun selectAll()\n    {\n        for (i in 0..rootView!!.list.childCount-1){\n            var test = list.getChildAt(i) as CheckableLinearLayout\n            test.setChecked(true)\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2730, "user_id": 5794116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j0uJx.jpg?s=128&g=1", "display_name": "Umar Ata", "link": "https://stackoverflow.com/users/5794116/umar-ata"}, "edited": false, "score": 0, "creation_date": 1520237248, "post_id": 49025234, "comment_id": 85216695, "body": "post the logcat of stacktrace from gradle tabs, also tell me what is commonutils project that you are adding in app build.gradle"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "edited": false, "score": 0, "creation_date": 1520226561, "post_id": 49103622, "comment_id": 85212725, "body": "I also tried enabling mulitdex, but it didn&#39;t help."}], "tags": [], "owner": {"reputation": 1608, "user_id": 5031114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nJzUn.jpg?s=128&g=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/5031114/vicky"}, "is_accepted": false, "score": 0, "last_activity_date": 1520225179, "creation_date": 1520225179, "answer_id": 49103622, "question_id": 49025234, "link": "https://stackoverflow.com/questions/49025234/unable-to-merge-dex-when-a-module-is-imported/49103622#49103622", "title": "Unable to merge dex when a module is imported", "body": "<p>I'm not 100 percent sure but I think you need to enable <code>multidex</code> in your app. Check this link : <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">Enable Multidex</a></p>\n\n<p>Just trying to help.</p>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 2608485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f04275422ac4d0ab952260cbde3c8167?s=128&d=identicon&r=PG", "display_name": "gokhan", "link": "https://stackoverflow.com/users/2608485/gokhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1520227780, "creation_date": 1520227780, "answer_id": 49103990, "question_id": 49025234, "link": "https://stackoverflow.com/questions/49025234/unable-to-merge-dex-when-a-module-is-imported/49103990#49103990", "title": "Unable to merge dex when a module is imported", "body": "<p>In my previous project which has multiple modules If I enable Proguard I was getting the same error. \nThat error frustrating and In my case I solved problem after inspecting \n the project dependency graph(<a href=\"https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\">Using gradle to find dependency tree</a> may help you while finding dependencies) \nPlay service's different version was causing in my case</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "edited": false, "score": 0, "creation_date": 1520320799, "post_id": 49116385, "comment_id": 85255369, "body": "Thanks, removing this &#39;org.jetbrains:annotations-java5:15.0&#39; solved my problem."}], "tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": true, "score": 0, "last_activity_date": 1520318756, "last_edit_date": 1520318756, "creation_date": 1520271595, "answer_id": 49116385, "question_id": 49025234, "link": "https://stackoverflow.com/questions/49025234/unable-to-merge-dex-when-a-module-is-imported/49116385#49116385", "title": "Unable to merge dex when a module is imported", "body": "<p>It seems that 2 libraries you're declaring a dependency on are causing duplicate entries. </p>\n\n<p>The problem is that you can't have the exact same class or annotation declared by 2 different libraries. If they were different versions of the same library probably the one with the highest version would be picked, but if they are completely different libraries, there is no way to tell which implementation should be included in the dex file.</p>\n\n<p>The first one is:</p>\n\n<pre><code>'com.netflix.rxjava:rxjava-core:0.+'\n</code></pre>\n\n<p>Why would you use this? You have already defined a dependency on RxJava (<code>'io.reactivex:rxjava:1.1.1'</code>) and they probably have many classes in common, the first that comes to my mind and that I checked is <code>rx.Observable</code>. The last update for that repo is Novermber 2014, more than 3 years ago. Besides conflicts, this fact alone should be a very good reason not to use it.</p>\n\n<p>The second problem is:</p>\n\n<pre><code>'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n\n<p>I imagine that you're importing this in order to get <code>org.jetbrains.annotations.Nullable</code>, this is already available in your project because Kotlin stdlib has a dependncy on <code>org.jetbrains:annotations</code> that also declares it. Hence the conflict.</p>\n\n<p>Remove these 2 dependencies, you most likely don't actually need them anyway, and the project compiles.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 49116385, "answer_count": 3, "score": 1, "last_activity_date": 1520318756, "creation_date": 1519807241, "question_id": 49025234, "link": "https://stackoverflow.com/questions/49025234/unable-to-merge-dex-when-a-module-is-imported", "title": "Unable to merge dex when a module is imported", "body": "<p>I know there are many questions on this, but I tried the solutions of most of them and neither of them worked. \nI have an app in which I have imported a module. When I try to run the app, I am getting <strong>Unable to merge dex</strong> exception.</p>\n\n<p><strong>build.gradle (app module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"com.meditab.imspatient\"\n    minSdkVersion 21\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2' // Constraint layout\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\" // Kotlin\n\n// Support libraries\nimplementation \"com.android.support:appcompat-v7:$appcompat_version\"\nimplementation \"com.android.support:support-v4:$appcompat_version\"\n\ncompile project(path: ':commonutils')\n }\n</code></pre>\n\n<p><strong>build.gradel (imported module)</strong></p>\n\n<pre><code> apply plugin: 'com.android.library'\n\nandroid {\ncompileSdkVersion 27\nbuildToolsVersion '27.0.2'\n\ndefaultConfig {\n    minSdkVersion 21\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\npackagingOptions {\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE.txt'\n}\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\n\ncompile 'org.jetbrains:annotations-java5:15.0'\ncompile 'com.jakewharton:butterknife:8.8.1'\n\n// Support libraries\ncompile \"com.android.support:appcompat-v7:$appcompat_version\"\ncompile \"com.android.support:design:$appcompat_version\"\n\n// Rx related libraries\ncompile 'io.reactivex:rxjava:1.1.1'\ncompile 'io.reactivex:rxandroid:1.1.0'\n//compile 'com.netflix.rxjava:rxjava-core:0.+'\n// Networking related libraries\ncompile 'com.squareup.okhttp3:logging-interceptor:3.8.1'\ncompile 'com.squareup.retrofit2:retrofit:2.3.0'\ncompile 'com.squareup.retrofit2:converter-jackson:2.0.2'\ncompile 'com.squareup.retrofit2:adapter-rxjava:2.0.2'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.7.2'\n\ncompile 'com.google.firebase:firebase-core:11.8.0'\ncompile 'com.google.firebase:firebase-messaging:11.8.0'\ncompile 'com.google.android.gms:play-services-base:11.8.0'\ncompile 'com.google.android.gms:play-services-location:11.8.0'\ncompile 'com.estimote:sdk:0.10.+@aar'\n}\n</code></pre>\n\n<p><strong>build.gradle (project level)</strong></p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.21'\next.appcompat_version = '27.0.2'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // Needed for the common utils module\n    classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>I have tried deleting the .gradle folder, cleaning the project and rebuilding it. Nothing works. I also tried using implementation instead of compile in the build.gradle of the imported module. \nAny help will be appreciated. \nThanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "inner-classes"], "answers": [{"comments": [{"owner": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "edited": false, "score": 0, "creation_date": 1519806866, "post_id": 49024894, "comment_id": 85054796, "body": "i don&#39;t understand your answer"}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "reply_to_user": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "edited": false, "score": 0, "creation_date": 1519807154, "post_id": 49024894, "comment_id": 85054959, "body": "You just need to pass the reference of your activity to the async task. Its just like sending an object, but I have used weakReference so that there are no memory leaks."}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1519805914, "creation_date": 1519805914, "answer_id": 49024894, "question_id": 49024635, "link": "https://stackoverflow.com/questions/49024635/how-to-call-activity-class-method-in-inner-class-method-in-kotlin-android/49024894#49024894", "title": "How to call Activity class method in inner class method in kotlin android", "body": "<p>You can pass the reference of your activity in the constructor of your Async task, wrapped in a weak reference and call your function from there. </p>\n\n<pre><code> class downloadDb(var activity:WeakReference&lt;WelcomeActivity &gt;) : AsyncTask&lt;Void, Void, String&gt;()\n</code></pre>\n\n<p>and in you <code>doInBackground</code></p>\n\n<pre><code>  activity.get()?.let {\n                it.runOnUiThread({\n\n                })\n            }\n</code></pre>\n\n<p>To initialise the AysncTask,<code>downloadDb(WeakReference(this))</code></p>\n"}, {"comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "edited": false, "score": 0, "creation_date": 1519808937, "post_id": 49024984, "comment_id": 85055975, "body": "you check downloadDb() class call or not if call that above method work i test it working."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "edited": false, "score": 0, "creation_date": 1519811227, "post_id": 49024984, "comment_id": 85057394, "body": "i used same your code only change that in onCreate() method call directly   downloadDb().execute() and show progressbar."}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": -1, "last_activity_date": 1519806267, "creation_date": 1519806267, "answer_id": 49024984, "question_id": 49024635, "link": "https://stackoverflow.com/questions/49024635/how-to-call-activity-class-method-in-inner-class-method-in-kotlin-android/49024984#49024984", "title": "How to call Activity class method in inner class method in kotlin android", "body": "<p>when you show the progress bar in background calling time that you need to required to main ui thread because doInBackground method call background thread that time if want to update any thing you required main ui thread.\nyou used below code show your progress bar ...</p>\n\n<pre><code>class downloadDb() : AsyncTask&lt;Void, Void, String&gt;() {\n\n    override fun doInBackground(vararg params: Void?): String? {\n        try {\n            // download the file\n            val url = URL(\"http://192.168.0.105/new-gk-app/web/uploads/db-backup/gk_app.gz\")\n            val connection = url.openConnection()\n            connection.connect()\n\n            // get stream and convert gzip to db original\n            var stream = connection.getInputStream()\n            stream = GZIPInputStream(stream)\n            val `is` = InputSource(stream)\n\n            val input = BufferedInputStream(`is`.byteStream, 8192)\n            val output = FileOutputStream(dbPath)\n\n            val data = ByteArray(1024)\n            while ((input.read(data)) != -1) {\n                output.write(data);\n                Handler().run {\n                    WelcomeActivity().processProgressBar()\n                }\n                // processProgressBar(30)  /* ****** my requirement is call this method ******* */\n            }\n\n            output.flush()\n            output.close()\n            input.close()\n\n        } catch (e: Exception) {\n            Log.e(\"Error: \", e.message)\n        }\n        return null\n    }\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n        Log.w(\"Database Downloded: \", \"Start\")\n        // ...\n    }\n\n    override fun onPostExecute(result: String?) {\n        super.onPostExecute(result)\n        Log.w(\"Database Downloded: \", \"Finish\")\n    }\n}\n</code></pre>\n\n<p>add only below code...</p>\n\n<pre><code> Handler().run {\n                    WelcomeActivity().processProgressBar()\n                }\n</code></pre>\n"}], "owner": {"reputation": 2792, "user_id": 2572546, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/Mr9G2.jpg?s=128&g=1", "display_name": "Bharat Chauhan", "link": "https://stackoverflow.com/users/2572546/bharat-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 933, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519806267, "creation_date": 1519804972, "last_edit_date": 1519805224, "question_id": 49024635, "link": "https://stackoverflow.com/questions/49024635/how-to-call-activity-class-method-in-inner-class-method-in-kotlin-android", "title": "How to call Activity class method in inner class method in kotlin android", "body": "<p>I have create one progress method in Activity class. then create one another class for AsyncTask.</p>\n\n<p>My requirement is call <strong>processProgressBar()</strong> method in AsyncTask class doInBackground()</p>\n\n<p>How it possible?</p>\n\n<p><strong>See My Code:</strong></p>\n\n<pre><code>package com.example.bharat.generalknowledge\n\nimport android.os.AsyncTask\nimport android.os.Bundle\nimport android.os.Handler\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport android.view.View\nimport android.widget.ProgressBar\nimport com.example.bharat.generalknowledge.dbhandler.DatabaseHandler\nimport org.xml.sax.InputSource\nimport java.io.BufferedInputStream\nimport java.io.FileOutputStream\nimport java.net.URL\nimport java.util.zip.GZIPInputStream\n\nclass WelcomeActivity : AppCompatActivity() {\n    init {\n        println(\"Init block\")\n    }\n\n    companion object {\n        var dbPath: String = \"\"\n        var isDatabaseExist: Boolean = false\n        private val handler = Handler()\n        val wActivity = WelcomeActivity()\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_welcome)\n\n        val dbHandler = DatabaseHandler(this)\n        isDatabaseExist = dbHandler.checkIfTableExistOrNot()\n        Log.w(\"isDatabaseExist: \", isDatabaseExist.toString())\n        if(!isDatabaseExist){\n            dbPath = dbHandler.getDatabasePath()\n            downloadDb().execute()\n        }\n    }\n\n    fun processProgressBar(pStatus: Int=10){\n\n        println(\"====================processProgressBar==========================\")\n        val res = resources\n        val drawable = res.getDrawable(R.drawable.circular)\n        val mProgress = findViewById&lt;View&gt;(R.id.circularProgressbar) as ProgressBar\n        mProgress.progress = 0   // Main Progress\n        mProgress.secondaryProgress = 100 // Secondary Progress\n        mProgress.max = 100 // Maximum Progress\n        mProgress.progressDrawable = drawable\n        mProgress.progress = pStatus\n    }\n\n    class downloadDb() : AsyncTask&lt;Void, Void, String&gt;() {\n\n        override fun doInBackground(vararg params: Void?): String? {\n            try {\n                // download the file\n                val url = URL(\"http://192.168.0.105/new-gk-app/web/uploads/db-backup/gk_app.gz\")\n                val connection = url.openConnection()\n                connection.connect()\n\n                // get stream and convert gzip to db original\n                var stream = connection.getInputStream()\n                stream = GZIPInputStream(stream)\n                val `is` = InputSource(stream)\n\n                val input = BufferedInputStream(`is`.byteStream, 8192)\n                val output = FileOutputStream(dbPath)\n\n                val data = ByteArray(1024)\n                while ((input.read(data)) != -1) {\n                    output.write(data);\n\n                    // processProgressBar(30)  /* ****** my requirement is call this method ******* */\n                }\n                output.flush()\n                output.close()\n                input.close()\n\n            } catch (e: Exception) {\n                Log.e(\"Error: \", e.message)\n            }\n            return null\n        }\n\n        override fun onPreExecute() {\n            super.onPreExecute()\n            Log.w(\"Database Downloded: \", \"Start\")\n            // ...\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            Log.w(\"Database Downloded: \", \"Finish\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "keyword", "public"], "comments": [{"owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "edited": false, "score": 0, "creation_date": 1592363668, "post_id": 49024200, "comment_id": 110396401, "body": "Read this article if you want more clarification on &quot;open&quot; keyword in Kotlin <a href=\"https://www.android4dev.com/what-is-open-class-in-android-kotlin/\" rel=\"nofollow noreferrer\">android4dev.com/what-is-open-class-in-android-kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1519804168, "post_id": 49024246, "comment_id": 85053428, "body": "What is the meaning of the phrase &quot;your declarations will be visible everywhere&quot;?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1519804383, "post_id": 49024246, "comment_id": 85053531, "body": "That\u2019s a quote from the docs, any class will have access and can create an instance: <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/visibility-modifiers.html</a>"}, {"owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 2, "creation_date": 1519804614, "post_id": 49024246, "comment_id": 85053646, "body": "Okay. Now I get it. &#39;Visible&#39; refers to &#39;accessible&#39;. And <code>public</code> makes it accessible from anywhere. <code>open</code> allows inheritance of a class. Thank you!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 53, "last_activity_date": 1519849441, "last_edit_date": 1519849441, "creation_date": 1519803481, "answer_id": 49024246, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/49024246#49024246", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p>The <code>open</code> keyword means \u201copen for extension\u201c:</p>\n\n<blockquote>\n  <p>The <code>open</code> annotation on a <strong>class</strong> is the opposite of Java's <code>final</code>: it allows others to inherit from this class. By <em>default</em>, all classes in Kotlin are <code>final</code>, which corresponds to <strong>Effective Java, Item 17: Design and document for inheritance or else prohibit it</strong>.</p>\n</blockquote>\n\n<p>You also need to be explicit about methods you want to make overridable, also marked with <code>open</code>:</p>\n\n<pre><code>open class Base {\n    open fun v() {}\n    fun nv() {}\n}\n</code></pre>\n\n<p>The <code>public</code> keyword acts as a visibility modifier that can be applied on classes, functions etc.\nNote that <code>public</code> is the default if nothing else is specified explicitly:</p>\n\n<blockquote>\n  <p>If you do not specify any visibility modifier, <code>public</code> is used by default, which means that your declarations will be visible everywhere</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 1, "creation_date": 1519804001, "post_id": 49024294, "comment_id": 85053365, "body": "If so, what exactly is the use of making a class <code>public</code>? If you use <code>open</code>, you can inherit the class. What is the main purpose of making a class <code>public</code>?"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "reply_to_user": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "edited": false, "score": 0, "creation_date": 1618467819, "post_id": 49024294, "comment_id": 118610850, "body": "I think it&#39;s like a semicolon in Kotlin. They exist for Java people."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 15, "last_activity_date": 1519803654, "creation_date": 1519803654, "answer_id": 49024294, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/49024294#49024294", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p><code>class A { ... }</code> in Java is equal to <code>open class A { ... }</code> in Kotlin.<br>\n<code>final class B { ... }</code> in Java is equal to <code>class B { ...}</code> in Kotlin.</p>\n\n<p>It is not related with <code>public</code>.</p>\n\n<p>In Kotlin, everything without access modifiers is <code>public</code> by default. You can explicitly say <code>public</code> in the definition, but it is not necessary in Kotlin.</p>\n\n<p>So,</p>\n\n<pre><code>public class A { ... }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class A { ... }\n</code></pre>\n\n<p>are the same in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 6724, "user_id": 1487025, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/90389eb8733212cbf37a555e009a3825?s=128&d=identicon&r=PG", "display_name": "Prakash", "link": "https://stackoverflow.com/users/1487025/prakash"}, "is_accepted": false, "score": 4, "last_activity_date": 1565010349, "last_edit_date": 1565010349, "creation_date": 1553794767, "answer_id": 55403816, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/55403816#55403816", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p>open is opposite to Final in java.\nIf the class is not 'open', it can't be inherited.</p>\n\n<pre><code>class First{}\nclass Second:First(){}  // Not allowed. Since 'First' is Final(as in Java) by default. Unless marked \"open\" it can't be inherited \n</code></pre>\n\n<p>Don't get confused with open and public. public is a visibility modifier</p>\n\n<pre><code>class Third{}  // By default this is public\nprivate class Fourth{}\nclass Fifth{\n    val third = Third() // No issues\n    val fourth = Fourth() // Can't access because Fourth is private\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 5803811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-03uC8AzG2x8/AAAAAAAAAAI/AAAAAAAAFaI/mglkwRypBUE/photo.jpg?sz=128", "display_name": "android_dev71", "link": "https://stackoverflow.com/users/5803811/android-dev71"}, "is_accepted": false, "score": 6, "last_activity_date": 1572291111, "last_edit_date": 1572291111, "creation_date": 1564829928, "answer_id": 57337683, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/57337683#57337683", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p>I put here just for my memo, maybe useful for someone else :</p>\n\n<p><strong>open</strong> class in kotlin means that a class can be inherited because by default they are not:</p>\n\n<pre><code> class Car{....}\n class Supercar:Car{....} : // give an error\n\n open Car2{....}\n class Supercar:Car2{....} : // ok\n</code></pre>\n\n<p><strong>public</strong> class in Java is about the visibility of class (nothing to do with inheritance : unless a class in java is final, it can be inherited by default).\nIn kotlin all the class are public by default.</p>\n\n<p><strong>open</strong> method in kotlin means that the method can be overridden, because by default they are not.\nInstead in Java all the methods can be overridden by default</p>\n\n<p><strong>The method of an open</strong> class cannot be overridden by default as usual (doesn't matter if the class is open), they must be declared that they can be overridden :</p>\n\n<pre><code> open class Car{\n    fun steering{...}\n }\n class Supercar:Car{\n    override fun steering {...}  // give an error\n } \n\n open class Car2{\n    open fun steering{...}\n }\n class Supercar:Car2{\n    override fun steering {...}  // ok\n }\n</code></pre>\n\n<p>for more details : <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1577527837, "creation_date": 1577527837, "answer_id": 59509913, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/59509913#59509913", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p>All <code>classes</code>, <code>methods</code>, and <code>members</code> are <code>public</code> by default BUT not <code>open</code></p>\n\n<p>Keyword <code>open</code> in kotlin means \"Open for Extension\"</p>\n\n<p>means if you want any class to be <code>inherited</code> by any subclass or <code>method</code> to be overriden in subclasses you have to mark as <code>open</code> otherwise you will get compile time error </p>\n\n<p>NOTE: <code>abstract</code> classes or methods are <code>open</code> by default you do not need to add explicitly.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 11984655, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mApLZY8z8fuGK4pmAXx90xplYrszEpeuMCTcMYSpw=k-s128", "display_name": "Sachidanand Pandit", "link": "https://stackoverflow.com/users/11984655/sachidanand-pandit"}, "is_accepted": false, "score": 1, "last_activity_date": 1578383654, "creation_date": 1578383654, "answer_id": 59624298, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/59624298#59624298", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p><strong>public</strong>: public keyword in Kotlin is similar to java it is use to make the visibility of classes, methods, variables to access from anywhere.</p>\n\n<p><strong>open</strong>: In Kotlin all classes, functions, and variables are by defaults final, and by inheritance property, we cannot inherit the property of final classes, final functions, and data members. So we use the open keyword before the class or function or variable to make inheritable that. </p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 8708830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fTbuaMeO-V4/AAAAAAAAAAI/AAAAAAAAAJs/TjDmX3vVBmw/photo.jpg?sz=128", "display_name": "Abhijeet Prusty", "link": "https://stackoverflow.com/users/8708830/abhijeet-prusty"}, "is_accepted": false, "score": 0, "last_activity_date": 1613993072, "creation_date": 1613993072, "answer_id": 66314782, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin/66314782#66314782", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p><strong>OPEN VS FINAL VS PUBLIC</strong></p>\n<p>OPEN :</p>\n<ol>\n<li>child class can access this because they are inherited by its parent.</li>\n<li>In Kotlin you need to add 'open' keyword unlike java whose all classes are 'open' by default\nExample :</li>\n</ol>\n<blockquote>\n<ol>\n<li>Kotlin : open class A () {}</li>\n<li>Java : class A () {}</li>\n</ol>\n</blockquote>\n<p>FINAL :</p>\n<ol>\n<li>child class can't access or inherit.</li>\n<li>In JAVA you need to add 'final' keyword unlike kotlin whose all classes are 'final' by default\nExample :</li>\n</ol>\n<blockquote>\n<ol>\n<li>Kotlin : class A () {}</li>\n<li>Java : final class A () {}</li>\n</ol>\n</blockquote>\n<p>PUBLIC : Any class whether its inherited or not can access its data or methods.</p>\n<p>Example in Kotlin :</p>\n<pre><code>//Final\nclass DemoA() {\n    \n    protected fun Method() {\n\n    }\n\n}\n\nclass DemoB() : DemoA {\n    Method() // can't access\n}\n\n//OPEN\nopen class DemoA() {\n    \n    protected fun Method() {\n\n    }\n\n}\n\nclass DemoB() : DemoA {\n    Method() // can access\n}\n\n//Public\nclass DemoA() {\n\n    fun Method() {\n\n    }\n\n}\n\nclass DemoB()  {\n    val a = DemoA()\n    a.Method() // can access\n}\n</code></pre>\n<p>Example in Java :</p>\n<pre><code>//FINAL\nfinal class DemoA() {\n    protected void name() {\n        \n    }\n}\n\nclass DemoB() extends DemoA {\n    name(); // Can't access\n}\n\n//Open\nclass DemoA() {\n    protected void name() {\n        \n    }\n}\n\nclass DemoB() extends DemoA {\n    name(); // Can access\n}\n\n//Public\nclass DemoA() {\n    void name() {\n        \n    }\n}\n\nclass DemoB(){\n    DemoA a = new DemoA()\n    a.name(); // Can access\n}\n</code></pre>\n"}], "owner": {"reputation": 1646, "user_id": 7552217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1565798300116209/picture?type=large", "display_name": "Sagun Raj Lage", "link": "https://stackoverflow.com/users/7552217/sagun-raj-lage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10877, "favorite_count": 2, "accepted_answer_id": 49024246, "answer_count": 7, "score": 39, "last_activity_date": 1613993072, "creation_date": 1519803317, "question_id": 49024200, "link": "https://stackoverflow.com/questions/49024200/what-is-the-difference-between-open-and-public-in-kotlin", "title": "What is the difference between &#39;open&#39; and &#39;public&#39; in Kotlin?", "body": "<p>I am new to Kotlin and I am confused between <code>open</code> and <code>public</code> keywords. Could anyone please tell me the difference between those keywords?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1519801407, "post_id": 49023689, "comment_id": 85052126, "body": "What does it mean to have a closed range of strings?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1519801511, "post_id": 49023689, "comment_id": 85052166, "body": "What is your expected result?"}], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1519801730, "creation_date": 1519801730, "answer_id": 49023817, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin/49023817#49023817", "title": "How to print ClosedRange in Kotlin", "body": "<blockquote>\n  <p>How to print this range?</p>\n</blockquote>\n\n<p>I think the only way to print this range is</p>\n\n<pre><code>println(alpha)\n</code></pre>\n\n<p>And you'll get</p>\n\n<pre><code>A..Z\n</code></pre>\n\n<p>This is how to \"print\" this range.</p>\n\n<p>You're trying to travel through a non-iterable range, this is invalid.<br>\nLike, you cannot <code>for (i in File(\"a.txt\")..File(\"Main.java\")) println(i)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1519802626, "last_edit_date": 1519802626, "creation_date": 1519801843, "answer_id": 49023846, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin/49023846#49023846", "title": "How to print ClosedRange in Kotlin", "body": "<p>Well you can't do it with <code>String</code>s by default, since there's no <code>iterator()</code> for <code>ClosedRange&lt;String&gt;</code>, but <code>Char</code>s will work directly:</p>\n\n<pre><code>val r = 'A'..'Z'\nr.forEach(::println)\n</code></pre>\n\n<p>It will be of type <code>CharRange</code> and provide the needed <code>iterator()</code>.</p>\n\n<p>To make your very special example work with <code>String</code>s, you could define your own extension function and delegate to a <code>Iterator&lt;Char&gt;</code>:</p>\n\n<pre><code>operator fun ClosedRange&lt;String&gt;.iterator(): Iterator&lt;String&gt; {\n    val charIt = (start.toCharArray().first()..endInclusive.toCharArray().first()).iterator()\n\n    return object : Iterator&lt;String&gt; {\n        override fun hasNext() = charIt.hasNext()\n        override fun next(): String = charIt.nextChar().toString()\n    }\n}\n</code></pre>\n\n<p>Now it works as you wished. But be aware that this does not make sense for most use cases with ranges of <code>String</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1519802307, "creation_date": 1519802307, "answer_id": 49023953, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin/49023953#49023953", "title": "How to print ClosedRange in Kotlin", "body": "<pre><code>val alpha = \"A\"..\"Z\"\n</code></pre>\n\n<p>This is a plain <em>range</em>, which means it's an abstract representation of a contiguous subset within a total order. The only operation such an entity supports is answering the question \"is this element within this range?\", and it will be based purely on the contract of <code>Comparable&lt;T&gt;</code>.</p>\n\n<p>In your case, consider a string like <code>\"THREAD\"</code>. Does it belong to your range? It sorts higher than <code>\"A\"</code> but lower than <code>\"Z\"</code>, so it does belong to it. But you probably didn't intend to iterate over it, or the infinity of all other strings belonging to your range.</p>\n\n<p>What you considered as a given is actually a special case: <em>iterable ranges</em>. They are defined only on the three types representing integral types: <code>IntRange</code>, <code>LongRange</code> and <code>CharRange</code>. These are the types where the subset belonging to the range can actually be enumerated and iterated over.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9151838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f75485c3c8deb7c36287668547b6942?s=128&d=identicon&r=PG&f=1", "display_name": "VijAsh", "link": "https://stackoverflow.com/users/9151838/vijash"}, "is_accepted": false, "score": 0, "last_activity_date": 1519802697, "creation_date": 1519802697, "answer_id": 49024053, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin/49024053#49024053", "title": "How to print ClosedRange in Kotlin", "body": "<p>Can You Try This May Help You, I think you actually want 'A'..'Z' not \"A\"..\"Z\"</p>\n\n<pre><code>var A = 'A'..'Z'\nfor(value in A){\n    println(\"$value\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 1888434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2793bb92df1d8c1615d8f8dd19ce433?s=128&d=identicon&r=PG", "display_name": "TomerBu", "link": "https://stackoverflow.com/users/1888434/tomerbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1563437540, "creation_date": 1563437540, "answer_id": 57089929, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin/57089929#57089929", "title": "How to print ClosedRange in Kotlin", "body": "<p>I Loved The answers of @s1m0nw1 and @Marko Topolnik. <BR>\n<strong><em>You can't really iterate over a ClosedRange&lt;String>.</em></strong></p>\n\n<p>The literal may mislead us to think it's a ClosedRange&lt;Char></p>\n\n<pre><code>var range = \"A\"..\"C\" // misleading literal\n</code></pre>\n\n<p>What you CAN do:\nJust a small addition: is to map the characters to Strings</p>\n\n<pre><code>val r = ('A'..'Z').map { it.toString() }//.forEach(::println)\nfor (letter in r){\n\n}\n</code></pre>\n"}], "owner": {"reputation": 721, "user_id": 9317122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb30c8723846c72e87f4d1245e006eb8?s=128&d=identicon&r=PG&f=1", "display_name": "doe", "link": "https://stackoverflow.com/users/9317122/doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 1, "accepted_answer_id": 49023846, "answer_count": 5, "score": 2, "last_activity_date": 1563437540, "creation_date": 1519801250, "question_id": 49023689, "link": "https://stackoverflow.com/questions/49023689/how-to-print-closedrange-in-kotlin", "title": "How to print ClosedRange in Kotlin", "body": "<p>I'm learning Kotlin , and I'm trying to undetstand <code>Ranges</code></p>\n\n<p>I created a range of <code>String</code> as follows</p>\n\n<pre><code>val alpha = \"A\"..\"Z\"\n</code></pre>\n\n<p>I want to print this for that I wrote </p>\n\n<pre><code>for (item in alpha) println(item)\n</code></pre>\n\n<p>But it gives the error </p>\n\n<blockquote>\n  <p>Error:(13, 18) Kotlin: For-loop range must have an 'iterator()' method</p>\n</blockquote>\n\n<p>Can anyone help, how to print this range?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 717, "user_id": 5084911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39gvZ.jpg?s=128&g=1", "display_name": "sanemars", "link": "https://stackoverflow.com/users/5084911/sanemars"}, "edited": false, "score": 0, "creation_date": 1519783290, "post_id": 49020838, "comment_id": 85046940, "body": "please post stack information"}, {"owner": {"reputation": 13, "user_id": 6906235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70bd73cbd3554c90bf9c2759dc6e48b3?s=128&d=identicon&r=PG&f=1", "display_name": "KenDubzify", "link": "https://stackoverflow.com/users/6906235/kendubzify"}, "reply_to_user": {"reputation": 717, "user_id": 5084911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39gvZ.jpg?s=128&g=1", "display_name": "sanemars", "link": "https://stackoverflow.com/users/5084911/sanemars"}, "edited": false, "score": 0, "creation_date": 1519784100, "post_id": 49020838, "comment_id": 85047178, "body": "Edited post to include logcat"}, {"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "edited": false, "score": 0, "creation_date": 1519789197, "post_id": 49020838, "comment_id": 85048329, "body": "Your log doesn&#39;t mention the crash cause. Please find the part with FATAL EXCEPTION followed by exception trace."}, {"owner": {"reputation": 13, "user_id": 6906235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70bd73cbd3554c90bf9c2759dc6e48b3?s=128&d=identicon&r=PG&f=1", "display_name": "KenDubzify", "link": "https://stackoverflow.com/users/6906235/kendubzify"}, "edited": false, "score": 0, "creation_date": 1519791152, "post_id": 49020838, "comment_id": 85048803, "body": "I found the cause of the crash. Had to modify topText to topText.setText(returnedTop) and remove .toString(). Same for bottomText."}, {"owner": {"reputation": 13, "user_id": 6906235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70bd73cbd3554c90bf9c2759dc6e48b3?s=128&d=identicon&r=PG&f=1", "display_name": "KenDubzify", "link": "https://stackoverflow.com/users/6906235/kendubzify"}, "edited": false, "score": 0, "creation_date": 1519791616, "post_id": 49020838, "comment_id": 85048923, "body": "Added Edit to show new issue once crash was resolved."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6906235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70bd73cbd3554c90bf9c2759dc6e48b3?s=128&d=identicon&r=PG&f=1", "display_name": "KenDubzify", "link": "https://stackoverflow.com/users/6906235/kendubzify"}, "edited": false, "score": 0, "creation_date": 1519820110, "post_id": 49021999, "comment_id": 85062828, "body": "Still nothing. Thanks though, this really helped me to look at what exactly is happening with the intents. It seems to me the intent is working in that it will pass empty strings and set them to top and bottom text and the fields are empty when you go to edit the now empty meme."}], "tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1519792123, "creation_date": 1519792123, "answer_id": 49021999, "question_id": 49020838, "link": "https://stackoverflow.com/questions/49020838/onactivityresult-crashing-app-kotlin/49021999#49021999", "title": "onActivityResult crashing app kotlin", "body": "<p>You are putting intent into another one and expecting the primitive results from the first one.</p>\n\n<pre><code> val i = Intent(this, MainActivity::class.java).apply{\n            putExtra(\"Back to main\", topText2.text.toString())\n            putExtra(\"Off with you\", bottomText2.text.toString())\n            putExtra(\"URL Again\", url2.text.toString())\n\n        }\n</code></pre>\n\n<p>change below to</p>\n\n<pre><code>        val returnIntent = this.intent\n        returnIntent.putExtra(\"Results\",i)\n        setResult(Activity.RESULT_OK, returnIntent)\n        finish()\n</code></pre>\n\n<p>this one</p>\n\n<pre><code>        setResult(Activity.RESULT_OK, i)\n        finish()\n</code></pre>\n\n<p>this should give you the desired results.</p>\n"}], "owner": {"reputation": 13, "user_id": 6906235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70bd73cbd3554c90bf9c2759dc6e48b3?s=128&d=identicon&r=PG&f=1", "display_name": "KenDubzify", "link": "https://stackoverflow.com/users/6906235/kendubzify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519792123, "creation_date": 1519783103, "last_edit_date": 1519791598, "question_id": 49020838, "link": "https://stackoverflow.com/questions/49020838/onactivityresult-crashing-app-kotlin", "title": "onActivityResult crashing app kotlin", "body": "<p>I am creating a basic meme generator and having issues returning the changed text to the main activity. As of now when I run the app, I am able to click the edit icon in the corner and it takes me to the selectionScreen activity. From here you can edit the text for the top and bottom values. Also displayed is the url of the image from mainActivity. This is intended to function in a way that will allow users to enter their own url and retrieve an image they want to apply text to but I am nowhere close to tackling that issue yet. When the user clicks the save icon it is supposed to return the changed text and apply that to the image displayed. As of now it just crashes my app. It allows navigation back to mainActivity if I comment out my two values in onActivityResult but, obviously, with no changes applied.</p>\n\n<p>code is as follows:\nMainActivity:</p>\n\n<pre><code>package com.example.willo.memegene\nimport android.app.Activity\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nimport android.support.v7.app.AlertDialog.*\nimport android.view.Menu\nimport android.view.MenuItem\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.content_selection_screen.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val url = \n\"http://i.dailymail.co.uk/i/pix/2016/03/18/15/324D202500000578-3498922-\nimage-a-33_1458315465874.jpg\"\n\n       Picasso.with(this)\n                .load(url)\n                .into(imageView)\n        edit.setOnClickListener{\n\n            val intent = Intent(this, SelectionScreen::class.java).apply {\n                putExtra(\"When nothing works\", (topText.text.toString()))\n                putExtra(\"And then it all works\", \n(bottomText.text.toString()))\n                putExtra(\"URL\", url )\n            }\n\n            startActivityForResult(intent,1)\n        }\n\n\n\n\n\n\n   }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: \nIntent?) {\n       super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == 1 &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != \nnull){\n\n            val returnedTop = intent.getStringExtra(\"Back to main\")\n            topText.setText(returnedTop)\n\n            val returnedBottom = intent.getStringExtra(\"Off with you\")\n            bottomText.setText(returnedBottom)\n\n\n\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n        menuInflater.inflate(R.menu.user_options, menu)\n        return super.onCreateOptionsMenu(menu)\n\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n\n\n        Builder(this)\n\n                .setTitle(\"About\")\n                .setMessage(\" Name: MemeGene \\n Author: Kenneth Willoughby \n\\n \" +\n                        \"Version: 1.0\")\n                .setPositiveButton(android.R.string.ok, null)\n                .show()\n        return super.onOptionsItemSelected(item)\n    }\n\n\n}\n</code></pre>\n\n<p>SelectionScreen activity:</p>\n\n<pre><code>package com.example.willo.memegene\n\nimport android.app.Activity\nimport android.content.Intent\nimport android.os.Bundle\nimport android.support.design.widget.Snackbar\nimport android.support.v7.app.AppCompatActivity\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.activity_main.*\n\nimport kotlinx.android.synthetic.main.activity_selection_screen.*\nimport kotlinx.android.synthetic.main.content_selection_screen.*\n\nclass SelectionScreen : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_selection_screen)\n        setSupportActionBar(toolbar)\n\n       val url = \n\"http://i.dailymail.co.uk/i/pix/2016/03/18/15/324D202500000578-3498922-\nimage-a-33_1458315465874.jpg\"\n\n        //Picasso.with(this)\n               //.load(url)\n             // .into(imageView2)\n\n        val topText = intent.getStringExtra(\"When nothing works\")\n            topText2.setText(topText)\n\n        val bottomText = intent.getStringExtra(\"And then it all works\")\n            bottomText2.setText(bottomText)\n\n        val link = intent.getStringExtra(\"URL\")\n            url2.setText(link)\n\n\n        save.setOnClickListener{\n            val i = Intent(this, MainActivity::class.java).apply{\n                putExtra(\"Back to main\", topText2.text.toString())\n                putExtra(\"Off with you\", bottomText2.text.toString())\n                putExtra(\"URL Again\", url2.text.toString())\n\n            }\n\n            val returnIntent = this.intent\n            returnIntent.putExtra(\"Results\",i)\n            setResult(Activity.RESULT_OK, returnIntent)\n            finish()\n        }\n\n        }\n\n    }\n</code></pre>\n\n<p>****EDIT****</p>\n\n<p>I fixed the issue crashing, however, now when the user selects the save widget it takes them back to the MainActivity.kt but with no text. The original hard coded text is gone so I know that it is returning something to make the original data go away. What I can't figure out is why I can't get it to pass back text that is entered from SelectionScreen.kt</p>\n"}, {"tags": ["hibernate", "jpa", "spring-boot", "testing", "kotlin"], "comments": [{"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1519775299, "post_id": 49019112, "comment_id": 85044762, "body": "How do you confirm that something is loaded eagerly and not lazy?"}, {"owner": {"reputation": 716, "user_id": 4118267, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xIgkR.jpg?s=128&g=1", "display_name": "oriaj", "link": "https://stackoverflow.com/users/4118267/oriaj"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1519776627, "post_id": 49019112, "comment_id": 85045145, "body": "HI @Antoniossss maybe I`m wrong or I&#39;m using the wrong term but for me, the loaded is eager if the relation attribute is not null"}, {"owner": {"reputation": 12819, "user_id": 2387977, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=128&d=identicon&r=PG", "display_name": "Dherik", "link": "https://stackoverflow.com/users/2387977/dherik"}, "edited": false, "score": 0, "creation_date": 1519817443, "post_id": 49019112, "comment_id": 85061267, "body": "See if the SQL generated (parameter <code>showSql</code>) change in each situation."}], "owner": {"reputation": 716, "user_id": 4118267, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/xIgkR.jpg?s=128&g=1", "display_name": "oriaj", "link": "https://stackoverflow.com/users/4118267/oriaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519771085, "creation_date": 1519771085, "question_id": 49019112, "link": "https://stackoverflow.com/questions/49019112/eager-load-in-jpa-transactional-test", "title": "Eager load in JPA @Transactional test", "body": "<p>I am trying to do a test where the data from one entity is loaded eager, so I have a code like the following:</p>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"tableA\")\n@NamedEntityGraph(name = \"tableA.tableB\", attributeNodes = [NamedAttributeNode(\"tableB\")])\nclass TableA (\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int = 0,\n\n    @JoinColumn(name = \"table_b_id\", referencedColumnName = \"id\")\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @Fetch(FetchMode.JOIN)\n    var tableB: TableB? = null\n)\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>@Repository\ninterface tableARepository: JpaRepository&lt;TableA, Int&gt;, JpaSpecificationExecutor&lt;TableA&gt;{\n\n    @EntityGraph(attributePaths = [ \"tableB\" ])\n    fun findByModelId(modelId: Int) : List&lt;DispersionDetail&gt;\n}\n</code></pre>\n\n<p>Test: </p>\n\n<pre><code>@Test\n@Transactional\nfun disperserTest(){\n    //Here the code to create a tableA and the tableB\n    val tableAList = tableARepository.findAll()\n}\n</code></pre>\n\n<p>The problem is that when debug my code the result of the <code>tableAList</code> the attribute <code>tableB</code> is null but when delete the <code>@Transactional</code> annotation from the test then <code>tableB</code> is not null and is loaded eager just how I want.</p>\n\n<p>My question is why this happened and how can load <code>tableA</code> with all his relations (tableB) with the <code>@Transactional</code> annotation in the test</p>\n"}, {"tags": ["ios", "kotlin", "cocoapods", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 2979, "user_id": 2025432, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/L02FA.jpg?s=128&g=1", "display_name": "IlyaEremin", "link": "https://stackoverflow.com/users/2025432/ilyaeremin"}, "edited": false, "score": 0, "creation_date": 1552557543, "post_id": 49026552, "comment_id": 97058249, "body": "Seems like it&#39;s possible to enable multiarchitecture in KN."}, {"owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "reply_to_user": {"reputation": 2979, "user_id": 2025432, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/L02FA.jpg?s=128&g=1", "display_name": "IlyaEremin", "link": "https://stackoverflow.com/users/2025432/ilyaeremin"}, "edited": false, "score": 0, "creation_date": 1552655748, "post_id": 49026552, "comment_id": 97104836, "body": "Not with current 1.3.30 EAP."}], "tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 2, "last_activity_date": 1519811588, "creation_date": 1519811588, "answer_id": 49026552, "question_id": 49017793, "link": "https://stackoverflow.com/questions/49017793/import-kotlin-native-framework-in-cocoapod/49026552#49026552", "title": "Import Kotlin/Native framework in Cocoapod", "body": "<p>Kotlin/Native does not produce multiarchitecture (aka fat) binaries (see <a href=\"https://en.wikipedia.org/wiki/Fat_binary\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Fat_binary</a>) thus an attempt to run <code>lipo</code> on the framework it produces does not make sense.</p>\n"}, {"tags": [], "owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "is_accepted": true, "score": 8, "last_activity_date": 1529014264, "creation_date": 1529014264, "answer_id": 50866638, "question_id": 49017793, "link": "https://stackoverflow.com/questions/49017793/import-kotlin-native-framework-in-cocoapod/50866638#50866638", "title": "Import Kotlin/Native framework in Cocoapod", "body": "<p>You're getting the error because, by default, Kotlin Native only produces binaries for a single architecture.  CocoaPods than fails when it tries to treat it as a \"fat\" binary with multiple architectures.  Since you'll need multiple architectures anyway (at least arm64 for the device and x86_64 for the simulator) the approach I'm using is to create both architectures and then merge them with <code>lipo</code>  The resultant fat framework can then be vended by CocoaPods or just drag/drop installed in Xcode.</p>\n\n<pre><code>def outputDirectory = \"$export_dir/$projectName/$projectVersion\"\ndef outputFramework = \"$outputDirectory/${projectName}.framework\"\n\nkonanArtifacts {\n    // Declare building into a framework, build arm64 for device, x64 for simulator                                                      \n    framework(projectName, targets: ['ios_arm64', 'ios_x64' ]) {\n        // The multiplatform support is disabled by default.                                   \n        enableMultiplatform true\n    }\n}\n\n// combine original arm64 and x64 libraries into a single library in\n// the exported framework folder\ntask combineArchitectures(type: Exec, dependsOn: compileKonanLibrary) {\n    executable 'lipo'\n    args = [\n            '-create',\n            '-arch',\n            'arm64',\n            new File(compileKonanLibraryIos_arm64.artifact, 'Library'),\n            '-arch',\n            'x86_64',\n            new File(compileKonanLibraryIos_x64.artifact, 'Library'),\n            '-output',\n            \"$outputFramework/Library\"\n    ]\n}\n\n// export the arm64 (doesn't matter which really) framework, skipping\n// the library binary itself\ntask exportFramework(type: Copy, dependsOn: compileKonanLibrary) {\n    from compileKonanLibraryIos_arm64.artifact\n    into outputFramework\n    exclude projectName\n    finalizedBy combineArchitectures\n}\n\n// build a pod spec by copying and updating a template file\ntask exportPodspec(type: Copy) {\n    from \"Library.podspec\"\n    into outputDirectory\n    filter {\n        it.replaceAll('@@projectName@@', projectName)\n            .replaceAll('@@projectVersion@@', projectVersion)\n    }\n}\n\ntask export {\n    dependsOn \"exportFramework\"\n    dependsOn \"exportPodspec\"\n}\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 2140080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcEdW.jpg?s=128&g=1", "display_name": "Jean-Th&#233;o", "link": "https://stackoverflow.com/users/2140080/jean-th%c3%a9o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 3, "accepted_answer_id": 50866638, "answer_count": 2, "score": 5, "last_activity_date": 1529014264, "creation_date": 1519764911, "last_edit_date": 1519765977, "question_id": 49017793, "link": "https://stackoverflow.com/questions/49017793/import-kotlin-native-framework-in-cocoapod", "title": "Import Kotlin/Native framework in Cocoapod", "body": "<p>I'm trying to add a vendored framework built with Kotlin/Native in a private CocoaPod but I get an error:</p>\n\n<ul>\n<li>I have generated an iOS framework with Kotlin/Native.</li>\n<li>I copy the framework folder (compiled/generated by Konan) into my custom pod folder</li>\n<li>In the podspec, I add the framework path in the \"vendored_frameworks\" list</li>\n<li>I launch <code>pod repo push myCocoapodsRepo myProject.podspec --verbose\"</code></li>\n<li>I receive an error :</li>\n</ul>\n\n<p><code>[iOS] xcodebuild:  fatal error: lipo: input file (/Users/jeandaube/Library/Developer/Xcode/DerivedData/App-auugdpsmbbpvarfzghxatkvwftsn/Build/Products/Release-iphonesimulator/App.app/Frameworks/MyProject.framework/MyProject) must be a fat file when the -remove option is specified</code></p>\n\n<p>Should I somehow change the format of how I export the framework with Konan in a first place?</p>\n"}, {"tags": ["android", "mongodb", "kotlin"], "comments": [{"owner": {"reputation": 2550, "user_id": 8200290, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/we0BN.png?s=128&g=1", "display_name": "letsCode", "link": "https://stackoverflow.com/users/8200290/letscode"}, "edited": false, "score": 0, "creation_date": 1519766449, "post_id": 49017571, "comment_id": 85041377, "body": "just a thought.... If you want to use mongodb, why not use ParseServer?"}, {"owner": {"reputation": 3, "user_id": 3532318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495194029485a630f07a7626e550eb4f?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Navin", "link": "https://stackoverflow.com/users/3532318/craig-navin"}, "reply_to_user": {"reputation": 2550, "user_id": 8200290, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/we0BN.png?s=128&g=1", "display_name": "letsCode", "link": "https://stackoverflow.com/users/8200290/letscode"}, "edited": false, "score": 0, "creation_date": 1519916835, "post_id": 49017571, "comment_id": 85109703, "body": "After doing some research into ParseServer, i have decided to give it a go. Seems much better up to now"}], "answers": [{"tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 0, "last_activity_date": 1519817009, "last_edit_date": 1519817009, "creation_date": 1519816308, "answer_id": 49028203, "question_id": 49017571, "link": "https://stackoverflow.com/questions/49017571/connecting-to-mongodb-with-android/49028203#49028203", "title": "Connecting to MongoDB with android", "body": "<p>Things like these (that involve internal connections or unsupported drivers ;-)) are usually pretty hard (or even impossible) on Android.</p>\n\n<p>Since you asked for alternatives, I suggest <a href=\"http://objectbox.io/\" rel=\"nofollow noreferrer\">http://objectbox.io/</a>.\nAfaik it's implemented as a native NoSQL database, which makes it pretty fast.<br>\nYou can basically store the Objects directly and don't have to convert them to Documents first.</p>\n"}], "owner": {"reputation": 3, "user_id": 3532318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495194029485a630f07a7626e550eb4f?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Navin", "link": "https://stackoverflow.com/users/3532318/craig-navin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 789, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519817009, "creation_date": 1519764033, "last_edit_date": 1519783909, "question_id": 49017571, "link": "https://stackoverflow.com/questions/49017571/connecting-to-mongodb-with-android", "title": "Connecting to MongoDB with android", "body": "<p>I'm trying to connect to my MongoDB database in android but I'm having problems. I get: </p>\n\n<blockquote>\n  <p>I/cluster: Cluster created with settings {hosts=[mlab_string], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}</p>\n</blockquote>\n\n<p>Then i get:</p>\n\n<blockquote>\n  <p>I/cluster: No server chosen by PrimaryServerSelector from cluster description ClusterDescription{type=UNKNOWN, connectionMode=SINGLE, all=[ServerDescription{address=mlab_string, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out</p>\n</blockquote>\n\n<p>Is there a connection being made?\nIm using <a href=\"https://github.com/matfur92/mongo-java-driver\" rel=\"nofollow noreferrer\">this</a> library as the MongoDB driver as I read that the official driver is not supported by android. I noticed that this library has no been updated for 2 years. Are there any updated alternatives? Are there any alternate free NoSQL database's that officially support android?</p>\n\n<p>I am calling this method in an Asynctask to produce these errors:</p>\n\n<pre><code>    fun insert(user: User){\n    var client : MongoClient? = null\n    try{\n        val uri = MongoClientURI(\"mongodb://Username:Password@mlab_String\")\n        client = MongoClient(uri)\n        val db = client.getDatabase(uri.database)\n        val coll = db.getCollection(\"collname\")\n        coll.insertOne(user.returnAsDoc())\n    }catch(e: Exception){\n        e.printStackTrace()\n    }finally{\n        try{\n            client!!.close()\n        }catch(e2: Exception){\n            e2.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "mvvm", "kotlin", "observable", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3180, "user_id": 923441, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Cwbw0.png?s=128&g=1", "display_name": "A. Steenbergen", "link": "https://stackoverflow.com/users/923441/a-steenbergen"}, "edited": false, "score": 0, "creation_date": 1519758588, "post_id": 49015772, "comment_id": 85037312, "body": "Using a PublishSubject is solving my issue. Thank you! I could have seen it myself, but sometimes you get blind to the simple solutions after staring at a problem for too long."}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": true, "score": 1, "last_activity_date": 1519756931, "creation_date": 1519756931, "answer_id": 49015772, "question_id": 49015054, "link": "https://stackoverflow.com/questions/49015054/best-way-of-creating-an-observable-in-rxjava-2-to-be-able-to-use-the-emitter-for/49015772#49015772", "title": "Best way of creating an Observable in RxJava 2 to be able to use the emitter for mvvm", "body": "<p>I usually create the Observable once and return the same Observable to anything that wants to subscribe to it. This way, if there are multiple subscribers, a new Observable doesn't need to be created each time.</p>\n\n<p>So something like:</p>\n\n<pre><code>class ViewModel {\n    private val timeObservable = PublishSubject.create&lt;Int&gt;()\n    fun timeObservable(): Observable&lt;Int&gt; = timeObservable\n\n    fun update() {\n        // ...\n        timeObservable.onNext(time)\n    }\n}\n\nclass Activity {\n    ...\n    viewModel.timeObservable()\n        .subscribe { \n            time -&gt; ...\n        })\n}\n</code></pre>\n"}], "owner": {"reputation": 3180, "user_id": 923441, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Cwbw0.png?s=128&g=1", "display_name": "A. Steenbergen", "link": "https://stackoverflow.com/users/923441/a-steenbergen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 49015772, "answer_count": 1, "score": 1, "last_activity_date": 1519756931, "creation_date": 1519754221, "last_edit_date": 1519754525, "question_id": 49015054, "link": "https://stackoverflow.com/questions/49015054/best-way-of-creating-an-observable-in-rxjava-2-to-be-able-to-use-the-emitter-for", "title": "Best way of creating an Observable in RxJava 2 to be able to use the emitter for mvvm", "body": "<p>My intention is to create an Observable that can be made to emit an item inside a class.</p>\n\n<p>My goal is to create a ViewModel, which can expose a stream to a View in Android, reactively delivering items.</p>\n\n<p>My approach is as follows:</p>\n\n<pre><code>class MyMVVM {\n  private lateinit var timeSelectedEmitter: ObservableEmitter&lt;Int&gt; \n  val timeSelectedObservable: Observable&lt;Int&gt; = Observable.create { emitter -&gt; timeSelectedEmitter = emitter }\n}\n</code></pre>\n\n<p>This should, in theory and as far as I understand it currently, give me access to the emitter, which then can be called at any point to deliver time-events to subscribers of timeSelectedObservable (subscribers which are inside the View)</p>\n\n<p>1) Is this a correct approach or should this be done in another way?</p>\n\n<p>2) Is there a way for the emitter to be created on Observable creation instead of when a subscriber is subscribing to the Observable (to avoid nullpointer exceptions or Kotlin exceptions)?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "kotlin", "android-canvas"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1519752325, "post_id": 49014378, "comment_id": 85033770, "body": "I&#39;ve not dived into Kotlin quite yet, but I would expect it has similar scope rules to Java. So I would think that the <code>val paint = Paint()</code> you&#39;ve declared and initialized in <code>init()</code> is not the same <code>paint</code> you&#39;re using in <code>onDraw()</code>. Remove the <code>val</code> from the beginning of that line."}, {"owner": {"reputation": 31, "user_id": 9408361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cee2a3a2bc1c28de86186a86ca91af31?s=128&d=identicon&r=PG&f=1", "display_name": "someguy3213", "link": "https://stackoverflow.com/users/9408361/someguy3213"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1519753334, "post_id": 49014378, "comment_id": 85034394, "body": "I completely missed that but the line is still thin"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1519753386, "post_id": 49014378, "comment_id": 85034415, "body": "Please post the complete class."}, {"owner": {"reputation": 11193, "user_id": 21399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d80da33cc7d28b76bb5911bd0d1d056d?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/21399/nick"}, "edited": false, "score": 1, "creation_date": 1519753721, "post_id": 49014378, "comment_id": 85034611, "body": "Is <code>init()</code> called anywhere? Note that it&#39;s different from an <code>init {}</code> block."}, {"owner": {"reputation": 2852, "user_id": 8869493, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z-bTRz9NWeI/AAAAAAAAAAI/AAAAAAAAAAc/fR_lDnu1Tus/photo.jpg?sz=128", "display_name": "Gustavo Vollbrecht", "link": "https://stackoverflow.com/users/8869493/gustavo-vollbrecht"}, "edited": false, "score": 0, "creation_date": 1519763943, "post_id": 49014378, "comment_id": 85040140, "body": "can you use xml? Because you could just create a View with &quot;any&quot;dp height"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1519957239, "creation_date": 1519957239, "answer_id": 49061810, "question_id": 49014378, "link": "https://stackoverflow.com/questions/49014378/how-to-make-thick-line-in-android-programatically/49061810#49061810", "title": "How to make thick line in android programatically?", "body": "<p>Use view. Set view color. Then on view height and view width set one to how long you want. Ie height = match parent width= 4dp</p>\n"}], "owner": {"reputation": 31, "user_id": 9408361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cee2a3a2bc1c28de86186a86ca91af31?s=128&d=identicon&r=PG&f=1", "display_name": "someguy3213", "link": "https://stackoverflow.com/users/9408361/someguy3213"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519957239, "creation_date": 1519751758, "last_edit_date": 1519753006, "question_id": 49014378, "link": "https://stackoverflow.com/questions/49014378/how-to-make-thick-line-in-android-programatically", "title": "How to make thick line in android programatically?", "body": "<p>I've tried setting bigger stroke width and all of that but it still doesnt work, here is my code</p>\n\n<pre><code>private fun init() {\n    paint.style = Paint.Style.STROKE\n    paint.strokeWidth= 100f\n    paint.color = Color.BLACK\n}\n\npublic override fun onDraw(canvas: Canvas) {\n        canvas.drawLine(start.x,start.y,end.x,end.y,paint)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 967, "user_id": 2375907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f69aba17584525d2978fc7e1487810f?s=128&d=identicon&r=PG", "display_name": "DrSatan1", "link": "https://stackoverflow.com/users/2375907/drsatan1"}, "edited": false, "score": 0, "creation_date": 1519750738, "post_id": 49013996, "comment_id": 85032766, "body": "<a href=\"https://kotlinlang.org/docs/reference/functions.html#function-scope\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/functions.html#function-scope</a> Found some documentation that might interest you."}, {"owner": {"reputation": 967, "user_id": 2375907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f69aba17584525d2978fc7e1487810f?s=128&d=identicon&r=PG", "display_name": "DrSatan1", "link": "https://stackoverflow.com/users/2375907/drsatan1"}, "edited": false, "score": 1, "creation_date": 1519750828, "post_id": 49013996, "comment_id": 85032820, "body": "My rather-uneducated take on it, is that declaring a top-level function would be akin to declaring a static function in Java."}, {"owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "reply_to_user": {"reputation": 967, "user_id": 2375907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6f69aba17584525d2978fc7e1487810f?s=128&d=identicon&r=PG", "display_name": "DrSatan1", "link": "https://stackoverflow.com/users/2375907/drsatan1"}, "edited": false, "score": 0, "creation_date": 1519750942, "post_id": 49013996, "comment_id": 85032885, "body": "thanks but I don&#39;t understand why it&#39;s better sometimes to use a Local Functions instead of Member Functions"}, {"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1519751039, "post_id": 49013996, "comment_id": 85032943, "body": "Think about &quot;utility&quot; functions that don&#39;t need to belong to any class. And extensions functions (see Kotlin docs)."}, {"owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "edited": false, "score": 0, "creation_date": 1519751206, "post_id": 49013996, "comment_id": 85033044, "body": "yes but I can create an Utiliy class for that no ?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519751318, "post_id": 49013996, "comment_id": 85033106, "body": "You can create a Utility class, sure, but why do you think it&#39;s a good idea to do that?"}, {"owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "edited": false, "score": 0, "creation_date": 1519751402, "post_id": 49013996, "comment_id": 85033160, "body": "Because you can share it with other classes."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519751456, "post_id": 49013996, "comment_id": 85033206, "body": "Sorry, I don&#39;t understand what you mean. You can call a top-level function from other classes too."}, {"owner": {"reputation": 2637, "user_id": 1223719, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ad70d70b92a9e95b3a2530ea36613e6b?s=128&d=identicon&r=PG", "display_name": "aglassman", "link": "https://stackoverflow.com/users/1223719/aglassman"}, "edited": false, "score": 0, "creation_date": 1519751962, "post_id": 49013996, "comment_id": 85033549, "body": "It&#39;s actually much easier to create &quot;Utility Classes&quot;.  You just create a package, and add all your functions there.  Then all you need to do import my.package.* to access them."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 22, "last_activity_date": 1519751111, "creation_date": 1519751111, "answer_id": 49014165, "question_id": 49013996, "link": "https://stackoverflow.com/questions/49013996/why-is-possible-to-write-a-function-outside-a-class-in-kotlin/49014165#49014165", "title": "Why is possible to write a function outside a class in Kotlin?", "body": "<p>Yes, this is good practice. Kotlin is not a purely object-oriented language, so it's not obligated to follow how \"an object-oriented language works normally\" (even though other object-oriented languages, such as C++, Ruby and Python, also allow top-level functions).</p>\n\n<p>It's better to use a top-level function when the logic of this function does not clearly belong to any class.</p>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 2857033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5622afaa969b1b8713fdff8222aad117?s=128&d=identicon&r=PG&f=1", "display_name": "user2857033", "link": "https://stackoverflow.com/users/2857033/user2857033"}, "edited": false, "score": 0, "creation_date": 1558306833, "post_id": 49015268, "comment_id": 99046480, "body": "&quot;...without misusing the class for namespacing.&quot; - Does that mean that function name should be unique in the project ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 339, "user_id": 2857033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5622afaa969b1b8713fdff8222aad117?s=128&d=identicon&r=PG&f=1", "display_name": "user2857033", "link": "https://stackoverflow.com/users/2857033/user2857033"}, "edited": false, "score": 2, "creation_date": 1558337384, "post_id": 49015268, "comment_id": 99052885, "body": "No, function names are qualified with package names."}, {"owner": {"reputation": 2448, "user_id": 2949533, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/6DXHl.jpg?s=128&g=1", "display_name": "Slawomir", "link": "https://stackoverflow.com/users/2949533/slawomir"}, "edited": false, "score": 1, "creation_date": 1566569994, "post_id": 49015268, "comment_id": 101709832, "body": "Not to mention that another successful and predating-Java OO language (C++) supports free functions as well. Forcing one to shove utility, static functions into a class has always been a nuisance."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 61, "last_activity_date": 1519755054, "creation_date": 1519755054, "answer_id": 49015268, "question_id": 49013996, "link": "https://stackoverflow.com/questions/49013996/why-is-possible-to-write-a-function-outside-a-class-in-kotlin/49015268#49015268", "title": "Why is possible to write a function outside a class in Kotlin?", "body": "<blockquote>\n  <p>In Java, this is impossible! That's not how an object-oriented language works normally, right?</p>\n</blockquote>\n\n<p>Just stop for a second and reconsider the nature of java's static method. A class is supposed to be a blueprint for objects, describe their behavior and state. But you can call a static method without creating any instances.</p>\n\n<p>How does that fit into the object-oriented picture? How does a static method \"belong\" to the class it's declared in? </p>\n\n<p>Actually static methods are a hack in Java, they pollute and misuse the OOP notion of a class. But you got used to them over the years so you don't feel that anymore.</p>\n\n<p>Conceptually, a static method is a top-level function and Java uses the name of its declaring class as its namespace. In contrast to that, Kotlin allows you to declare top-level functions without misusing the class for namespacing.</p>\n"}, {"tags": [], "owner": {"reputation": 9549, "user_id": 317522, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/y7DXx.jpg?s=128&g=1", "display_name": "Paulo Merson", "link": "https://stackoverflow.com/users/317522/paulo-merson"}, "is_accepted": true, "score": 2, "last_activity_date": 1598304011, "creation_date": 1598304011, "answer_id": 63568843, "question_id": 49013996, "link": "https://stackoverflow.com/questions/49013996/why-is-possible-to-write-a-function-outside-a-class-in-kotlin/63568843#63568843", "title": "Why is possible to write a function outside a class in Kotlin?", "body": "<p>Yes, <strong>it is a good practice</strong> to create package-level functions <strong>if</strong> the function logic is independent of properties and lifecycle of a class. Example:</p>\n<ul>\n<li>a function to convert miles per gallon to kilometers per litre is independent of any object and fits well as package-level.</li>\n<li>otoh, a function to cancel reservation would naturally be associated with a specifc reservation object and fits well inside such a class.</li>\n</ul>\n<p>The main benefit of a package-level function is simplicity (ergo better maintainability): callers of your function don't need to declare and create an object to call the function.\n(If your package-level function needs to be called from Java code, this benefit is lost because the Java calling code has to use a class name that is generated by Kotlin.)</p>\n<p><em><strong>IMPORTANT: Although you don't have a class lexical scope for your function, the Single-Responsibility Principle (SRP) still applies</strong></em>. Do not create a Kotlin source file, say Util.kt, and bloat it up with functions that lack cohesion, that is, functions that do unrelated things.</p>\n"}], "owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8290, "favorite_count": 8, "accepted_answer_id": 63568843, "answer_count": 3, "score": 42, "last_activity_date": 1598304011, "creation_date": 1519750618, "last_edit_date": 1519751061, "question_id": 49013996, "link": "https://stackoverflow.com/questions/49013996/why-is-possible-to-write-a-function-outside-a-class-in-kotlin", "title": "Why is possible to write a function outside a class in Kotlin?", "body": "<p>I don't understand why is possible to write a function outside a class in Kotlin ? Is that a good practice ? </p>\n\n<p>For example, it's possible in Kotlin to write a function outside my <code>MainActivity</code> class :</p>\n\n<pre><code>fun hello(){}\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        hello()\n    }\n}\n</code></pre>\n\n<p>In Java, this is impossible! That's not how an object-oriented language works normally, right?</p>\n\n<p>In the documentation, they talk of <strong>Local Functions</strong> for the classic function and <strong>Member Functions</strong> for the function defined inside a class or object but they don't explain when it's better to use one or the other.</p>\n"}, {"tags": ["kotlin", "teamcity", "jenkins-pipeline"], "comments": [{"owner": {"reputation": 1598, "user_id": 6300555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJScx.jpg?s=128&g=1", "display_name": "Senior Pomidor", "link": "https://stackoverflow.com/users/6300555/senior-pomidor"}, "edited": false, "score": 0, "creation_date": 1520001778, "post_id": 49013607, "comment_id": 85148087, "body": "use template . ."}], "answers": [{"comments": [{"owner": {"reputation": 1831, "user_id": 435828, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3de722970f656f5e2638f601962737c3?s=128&d=identicon&r=PG&f=1", "display_name": "Grigory", "link": "https://stackoverflow.com/users/435828/grigory"}, "edited": false, "score": 0, "creation_date": 1598880631, "post_id": 49668309, "comment_id": 112592620, "body": "Keep in mind that there should be single repo with configuration. Teamcity doesn&#39;t support storage of configuration in each repo with code"}], "tags": [], "owner": {"reputation": 1920, "user_id": 3213111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fab61b522d1f7634d253887cfa3bc22e?s=128&d=identicon&r=PG&f=1", "display_name": "bp2010", "link": "https://stackoverflow.com/users/3213111/bp2010"}, "is_accepted": false, "score": 1, "last_activity_date": 1522919064, "creation_date": 1522919064, "answer_id": 49668309, "question_id": 49013607, "link": "https://stackoverflow.com/questions/49013607/team-city-jenkins-pipeline-equivalent-is-it-possible-to-import-a-script-into-an/49668309#49668309", "title": "Team City Jenkins Pipeline Equivalent? Is it possible to import a script into another script?", "body": "<p>Possible since <a href=\"https://confluence.jetbrains.com/display/TCD10/Kotlin+DSL#KotlinDSL-AbilitytoUseExternalLibraries\" rel=\"nofollow noreferrer\" title=\"2017.2\">TeamCity 2017.2</a>:</p>\n\n<blockquote>\n  <p>Since TeamCity 2017.2 You can now use external libraries in your\n  Kotlin DSL code, which allows sharing code between different Kotlin\n  DSL-based projects. To use an external library in your Kotlin DSL\n  code, add a dependency on this library into the .teamcity/pom.xml file\n  in the settings repository and commit this change so that TeamCity\n  detects it. Then, before starting the generation process, the TeamCity\n  server will fetch the necessary dependencies from the Maven\n  repository, compile code with them, and then start  the settings\n  generator.</p>\n</blockquote>\n"}], "owner": {"reputation": 1920, "user_id": 3213111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fab61b522d1f7634d253887cfa3bc22e?s=128&d=identicon&r=PG&f=1", "display_name": "bp2010", "link": "https://stackoverflow.com/users/3213111/bp2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1534, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522919064, "creation_date": 1519749394, "last_edit_date": 1519825480, "question_id": 49013607, "link": "https://stackoverflow.com/questions/49013607/team-city-jenkins-pipeline-equivalent-is-it-possible-to-import-a-script-into-an", "title": "Team City Jenkins Pipeline Equivalent? Is it possible to import a script into another script?", "body": "<p>In Jenkins-pipelines there is the concept of <a href=\"https://jenkins.io/doc/book/pipeline/shared-libraries/\" rel=\"nofollow noreferrer\"><em>Shared Libraries</em></a>,  where you can have parts of the pipeline extracted into another class to re-use in multiple other <code>Jenkinsfile</code>'s.</p>\n\n<p>I am new to TeamCity and following this <a href=\"https://blog.jetbrains.com/teamcity/2016/11/kotlin-configuration-scripts-an-introduction/\" rel=\"nofollow noreferrer\">post</a> to set up a Configuration Script.</p>\n\n<p>I have multiple repositories where the pipelines will be the same => eg. <code>Build, Test, Deploy</code>.  I do not want to create many scripts where they will be mostly identical apart from SCM URL.</p>\n\n<p>Is it possible to inherit/import a script into another script in TeamCity to keep repetition to a minimum?</p>\n"}, {"tags": ["java", "android", "kotlin", "usage-statistics"], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 7642750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154119279975916/picture?type=large", "display_name": "Bruno", "link": "https://stackoverflow.com/users/7642750/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1519752321, "creation_date": 1519752321, "answer_id": 49014537, "question_id": 49013598, "link": "https://stackoverflow.com/questions/49013598/android-get-usagestats-in-kotlin/49014537#49014537", "title": "Android: Get UsageStats in Kotlin", "body": "<p>Your code is correct, but first you need to add the following persmission in your manifest :</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.PACKAGE_USAGE_STATS\"/&gt;\n</code></pre>\n\n<p>Then make sure the user grants the permission by sending this Intent :</p>\n\n<pre><code>startActivity(Intent(Settings.ACTION_USAGE_ACCESS_SETTINGS));\n</code></pre>\n\n<p>Then only you will be granted the access to the UsageStatsManager.</p>\n\n<p>You will find a lot more information in <a href=\"https://stackoverflow.com/a/42560422/7642750\">this post</a></p>\n"}], "owner": {"reputation": 1385, "user_id": 2037602, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05319796ff60590c3c9c7232faf9eb20?s=128&d=identicon&r=PG", "display_name": "porthfind", "link": "https://stackoverflow.com/users/2037602/porthfind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519752321, "creation_date": 1519749365, "last_edit_date": 1519750166, "question_id": 49013598, "link": "https://stackoverflow.com/questions/49013598/android-get-usagestats-in-kotlin", "title": "Android: Get UsageStats in Kotlin", "body": "<p>I'm trying to use UsageStats to get statistics in android but it returns me that list size is ZERO. I'm using API 23. </p>\n\n<pre><code>    val statsManager = getSystemService(Context.USAGE_STATS_SERVICE) as UsageStatsManager\n    var list : MutableList&lt;UsageStats&gt;\n\n\n   //Check if API is 21\n   if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP)\n    {     \n       val cal = Calendar.getInstance()\n       cal.add(Calendar.YEAR, -1)\n\n      list = statsManager.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, cal.getTimeInMillis(), System.currentTimeMillis())\n    }            \n\n Log.d(\"DetailActivity\",\"------\"+list.size)\n</code></pre>\n\n<p>I can't see where the problem is. Can you please help.</p>\n"}, {"tags": ["angular", "amazon-web-services", "amazon-s3", "kotlin", "pre-signed-url"], "comments": [{"owner": {"reputation": 4631, "user_id": 4191049, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-D_DNImGAQNc/AAAAAAAAAAI/AAAAAAAAADA/0xP7usFFWf4/photo.jpg?sz=128", "display_name": "krishna_mee2004", "link": "https://stackoverflow.com/users/4191049/krishna-mee2004"}, "edited": false, "score": 0, "creation_date": 1519747674, "post_id": 49012888, "comment_id": 85030794, "body": "Can you check your access key and secret key? You get this error when your keys are invalid too."}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1519747756, "post_id": 49012888, "comment_id": 85030853, "body": "The Java SDK indicates that you should use setMethod(HttpMethod method) and the supported methods are GET, PUT, DELETE, HEAD. Use PUT. Also, generally you should probably use the setter methods like setResponseHeaders()."}, {"owner": {"reputation": 1079, "user_id": 1974753, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9b87a8fc0bc7ec3c0c51f73a08d81481?s=128&d=identicon&r=PG", "display_name": "user1974753", "link": "https://stackoverflow.com/users/1974753/user1974753"}, "edited": false, "score": 0, "creation_date": 1519747948, "post_id": 49012888, "comment_id": 85030989, "body": "When I change it to PUT, I get an Access Denied error. Any ideas? The access key and secret key should not come into it as the whole point of using presign urls is that we don&#39;t need to and store security credentials in the browser."}, {"owner": {"reputation": 1079, "user_id": 1974753, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9b87a8fc0bc7ec3c0c51f73a08d81481?s=128&d=identicon&r=PG", "display_name": "user1974753", "link": "https://stackoverflow.com/users/1974753/user1974753"}, "edited": false, "score": 0, "creation_date": 1519748029, "post_id": 49012888, "comment_id": 85031031, "body": "Also, this is Kotlin code remember so just referencing the field directly and setting it is the same as calling a set() method"}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1519750600, "post_id": 49012888, "comment_id": 85032682, "body": "OK, so now that you are getting AccessDenied, you are past the initial problem. Did your pre-signed URL expire? Is the client time-synced?"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1519756774, "post_id": 49012888, "comment_id": 85036270, "body": "Note that a signed <code>POST</code> request does <b>not</b> use a pre-signed URL.  It uses a policy document and signature inside an HTML form."}, {"owner": {"reputation": 1079, "user_id": 1974753, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9b87a8fc0bc7ec3c0c51f73a08d81481?s=128&d=identicon&r=PG", "display_name": "user1974753", "link": "https://stackoverflow.com/users/1974753/user1974753"}, "edited": false, "score": 0, "creation_date": 1520122364, "post_id": 49012888, "comment_id": 85186742, "body": "yep working now, problem was that the lambda that was generating the url did not have the s3 putObject permission."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3327824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e376d95f92d54cff4d398372f164352?s=128&d=identicon&r=PG&f=1", "display_name": "user3327824", "link": "https://stackoverflow.com/users/3327824/user3327824"}, "is_accepted": false, "score": 1, "last_activity_date": 1532510206, "last_edit_date": 1532510206, "creation_date": 1532506228, "answer_id": 51513926, "question_id": 49012888, "link": "https://stackoverflow.com/questions/49012888/signaturedoesnotmatch-error-when-posting-to-aws-s3-presign-url/51513926#51513926", "title": "SignatureDoesNotMatch error when posting to AWS S3 presign url", "body": "<p>Use:\n<code>generatePresignedUrlRequest.setContentType(\"application/octet-stream\");</code></p>\n\n<p>instead of:\n <code>multipart/form-data</code>. </p>\n\n<p>Here my method for generating the PreSigned URL:</p>\n\n<pre><code>public GeneratePresignedUrlRequest getGeneratePresignedUrlRequest(String tempBucketName,String objectKey){\n    Date expirationTime = getExpirationTime();\n    GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(tempBucketName, objectKey);\n    generatePresignedUrlRequest.setMethod(HttpMethod.PUT);\n    generatePresignedUrlRequest.setExpiration(expirationTime);\n    generatePresignedUrlRequest.setContentType(\"application/octet-stream\");\n    return generatePresignedUrlRequest;\n}\n</code></pre>\n\n<p>When you make call put call to upload the file you should use the same Content-Type.</p>\n"}], "owner": {"reputation": 1079, "user_id": 1974753, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9b87a8fc0bc7ec3c0c51f73a08d81481?s=128&d=identicon&r=PG", "display_name": "user1974753", "link": "https://stackoverflow.com/users/1974753/user1974753"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1532510206, "creation_date": 1519747130, "question_id": 49012888, "link": "https://stackoverflow.com/questions/49012888/signaturedoesnotmatch-error-when-posting-to-aws-s3-presign-url", "title": "SignatureDoesNotMatch error when posting to AWS S3 presign url", "body": "<p>Really struggling with this one, so any help would be great!</p>\n\n<p>So I am attempting to upload a pdf file to Amazon S3 directly from the browser using presigned urls.</p>\n\n<p>I generate the url on a server using the AWS Java SDK (code written in Kotlin), like this:</p>\n\n<pre><code>    val objectKey = StringBuilder().append(\"xxx\").append(\"/\").append(\"file1.pdf\").toString()\n\n    val expiration = java.util.Date()\n    var msec = expiration.time\n    msec += (1000 * 60).toLong() // Add 1 minute. This means that the url expires in 1 minute.\n    expiration.time = msec\n\n    String bucketName = \"test\"\n\n    val responseHeaders = ResponseHeaderOverrides().withContentType(\"multipart/form-data\")\n\n    val generatePresignedUrlRequest = GeneratePresignedUrlRequest(bucketName, objectKey)\n    generatePresignedUrlRequest.method = HttpMethod.POST\n    generatePresignedUrlRequest.responseHeaders = responseHeaders\n    generatePresignedUrlRequest.expiration = expiration\n\n    return s3Client.generatePresignedUrl(generatePresignedUrlRequest)\n</code></pre>\n\n<p>This url is then returned to the browser code, which is using Angular.\nI then used the following typescript code to upload the file directly:</p>\n\n<pre><code>returnPresignUrl() {\n   return this.http.get(this.attachmentUploadUrl, this.httpOptions);\n</code></pre>\n\n<p>}</p>\n\n<pre><code>   uploadFiletoS3(file, filetype) {\n       let presignURL;\n       const data = file;\n       const fileHeaders = {\n           headers: new HttpHeaders({\n               'Content-Type': 'multipart/form-data',\n           })\n       };\n       this.returnPresignUrl().subscribe(url =&gt; {\n           presignURL = url;\n           this.http.post(presignURL, data, \nfileHeaders).subscribe((res) =&gt; {\n               console.log('File uploaded', res);\n           }, (error) =&gt; { console.log('Error uploading File', error); \n});\n       }, (error) =&gt; { console.log('Error getting a preasign URL: ', \nerror); });\n   }\n</code></pre>\n\n<p>But I get the following error response:</p>\n\n<pre><code>&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n&lt;Message&gt;\n    The request signature we calculated does not match the signature you \nprovided. Check your key and signing method.\n&lt;/Message&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>I am specifying the content type header in the presign url and then also setting it in the post request to the url, so I can't see how there would be a header mismatch (an error that seems to cause the problem that I am seeing).</p>\n\n<p>Is there anything special about post requests?\nIs the content type correct for uploading pdf files to S3?</p>\n\n<p>Any insight would be awesome, thanks!</p>\n"}, {"tags": ["kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519748162, "post_id": 49012731, "comment_id": 85031116, "body": "why are you using <code>OkHttp</code> in <code>asycTask</code>? you can use just <code>enqueue</code> function."}, {"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "reply_to_user": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519748417, "post_id": 49012731, "comment_id": 85031269, "body": "Yes, it&#39;s true. But it&#39;s my old code. And What I want to do now is to know how to send the post in retrofit2 and get the response data in kotlin"}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519748568, "post_id": 49012731, "comment_id": 85031358, "body": "Post your ApiResponse as well. And your base url should end with a <code>&#47;</code>."}, {"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "reply_to_user": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519748859, "post_id": 49012731, "comment_id": 85031566, "body": "If you are talking about the response from the retrofit2, then I&#39;m unable to, that is why I&#39;m having trouble. I added the type of response that you can get if your request is successful in the above description."}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519749443, "post_id": 49012731, "comment_id": 85031968, "body": "<code>ApiResponse</code> what is this?"}, {"owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "reply_to_user": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1519751831, "post_id": 49012731, "comment_id": 85033459, "body": "ApiResponse is just a setter and getter class for the response. data class ApiResponse(val message:String, val results: Result)"}], "answers": [{"tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1519751779, "creation_date": 1519751779, "answer_id": 49014389, "question_id": 49012731, "link": "https://stackoverflow.com/questions/49012731/unable-to-convert-asynctask-to-retrofit2-in-kotlin/49014389#49014389", "title": "Unable to convert AsyncTask to retrofit2 in kotlin", "body": "<p>Create a model class:</p>\n\n<pre><code>class ApiResponse(var status:Int, var message:String, var results:MutableList&lt;Results&gt;){\nclass Results(var perplexity:Double,var reply:String)\n}\n</code></pre>\n\n<p>Change your AiClient:</p>\n\n<pre><code>interface  AiClient {\n@FormUrlEncoded\n@POST(\"talk/v1/smalltalk\")\nfun request(@Field(\"apikey\") apiKey: String,\n            @Field(\"query\") query: String?): retrofit2.Call&lt;ApiResponse&gt;\n\ncompanion object {\n    fun create(): AiClient {\n        val retrofit = retrofit2.Retrofit.Builder()\n                .baseUrl(\"https://api.a3rt.recruit-tech.co.jp/\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        return retrofit.create(AiClient::class.java)\n    }\n}\n}\n</code></pre>\n\n<p>To call the Api:</p>\n\n<pre><code>AiClient.create().request(\"yourkey\",\"yourquery\").enqueue(object :Callback&lt;ApiResponse&gt; {\n        override fun onFailure(call: Call&lt;ApiResponse&gt;?, t: Throwable?) {\n        }\n\n        override fun onResponse(call: Call&lt;ApiResponse&gt;, response: Response&lt;ApiResponse&gt;) {\n            if (response.isSuccessful){\n                var result=response.body()\n                if (result!=null){\n                    result.message\n                }\n\n\n            }\n\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 1699, "user_id": 3264924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/25a4634e73aeed237d6260e9ffa0aace?s=128&d=identicon&r=PG&f=1", "display_name": "Jennifer", "link": "https://stackoverflow.com/users/3264924/jennifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 2, "accepted_answer_id": 49014389, "answer_count": 1, "score": 4, "last_activity_date": 1519751779, "creation_date": 1519746632, "last_edit_date": 1519748266, "question_id": 49012731, "link": "https://stackoverflow.com/questions/49012731/unable-to-convert-asynctask-to-retrofit2-in-kotlin", "title": "Unable to convert AsyncTask to retrofit2 in kotlin", "body": "<p>I'm trying to convert the following code(java) to post request with retrofit2 in kotlin, However, I find the retrofit2 documentation difficult to understand. I've tried to use @POST and send the request but failed. It would be a great help if you can give me some hints or examples.I would love to hear from pros like you!</p>\n\n<p>This is the type of request I want to send</p>\n\n<pre><code>curl -X POST https://api.a3rt.recruit-tech.co.jp/talk/v1/smalltalk \\\n-F \"apikey=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" \\\n-F \"query=test\"\n</code></pre>\n\n<p>The following is the actual code I want to convert to retrofit2</p>\n\n<pre><code>public class TalkAysncTask extends AsyncTask&lt;String, String, String&gt; {\n\n    private static final String API_KEY = YOUR API KEY;\n    private static final String API_URL = \n        \"https://api.a3rt.recruit-tech.co.jp/talk/v1/smalltalk\";\n\n    interface Callback{\n        void onReturn(String s);\n    }\n\n    private Callback callback;\n\n    TalkAysncTask(Context context){\n        callback = (Callback) context;\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n\n        RequestBody body = new FormBody.Builder()\n                .add(\"apikey\", API_KEY)\n                .add(\"query\", params[0])\n                .build();\n\n        Request request = new Request.Builder()\n                .url(API_URL)\n                .post(body)\n                .build();\n\n        OkHttpClient client = new OkHttpClient.Builder()\n                .build();\n\n        try{\n            Response response = client.newCall(request).execute();\n\n            return response.body().string();\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(String s) {\n        Log.d(\"debug\", s);\n        callback.onReturn(s);\n    }\n}\n</code></pre>\n\n<p>I want to know how to get the following type fo response as well</p>\n\n<pre><code>{\n    status: 200,\n    message: \"ok\",\n    results: [{\n        perplexity: 2.3688167429546714,\n        reply: \"tested\"\n    }],\n}\n</code></pre>\n\n<p>I tried to use the following code but didn't work</p>\n\n<pre><code>interface AiClient {\n    @FormUrlEncoded\n    @POST(\"/talk/v1/smalltalk\")\n    fun request(@Field(\"apikey\") apiKey: String,\n                @Field(\"query\") query: String?): Call&lt;ApiResponse&gt;\n\n    companion object {\n        fun create(): AiClient {\n            val retrofit = retrofit2.Retrofit.Builder()\n                    .baseUrl(\"https://api.a3rt.recruit-tech.co.jp\")\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n            return retrofit.create(AiClient::class.java)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rounding"], "comments": [{"owner": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 34, "creation_date": 1519744319, "post_id": 49011924, "comment_id": 85028397, "body": "Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect."}, {"owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "reply_to_user": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 0, "creation_date": 1519744600, "post_id": 49011924, "comment_id": 85028613, "body": "It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 7, "creation_date": 1519744701, "post_id": 49011924, "comment_id": 85028678, "body": "Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit."}, {"owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "edited": false, "score": 0, "creation_date": 1519744855, "post_id": 49011924, "comment_id": 85028772, "body": "Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 2, "creation_date": 1519744939, "post_id": 49011924, "comment_id": 85028830, "body": "Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it."}, {"owner": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 23, "creation_date": 1519745111, "post_id": 49011924, "comment_id": 85028949, "body": "There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality."}, {"owner": {"reputation": 497, "user_id": 4624524, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-K83tkIo4brQ/AAAAAAAAAAI/AAAAAAAAEPM/Sj1abEgpoDs/photo.jpg?sz=128", "display_name": "Felipe Andrade", "link": "https://stackoverflow.com/users/4624524/felipe-andrade"}, "edited": false, "score": 11, "creation_date": 1538518203, "post_id": 49011924, "comment_id": 92168324, "body": "You&#39;re looking for a Ceiling and not a Round"}, {"owner": {"reputation": 2497, "user_id": 4280615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vNe8H.png?s=128&g=1", "display_name": "Nate Vaughan", "link": "https://stackoverflow.com/users/4280615/nate-vaughan"}, "edited": false, "score": 1, "creation_date": 1574976291, "post_id": 49011924, "comment_id": 104425955, "body": "@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1"}, {"owner": {"reputation": 2010, "user_id": 3386180, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2a7db46bc4ee7ea2626753ba7679e5d0?s=128&d=identicon&r=PG&f=1", "display_name": "jerry", "link": "https://stackoverflow.com/users/3386180/jerry"}, "reply_to_user": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 0, "creation_date": 1613137424, "post_id": 49011924, "comment_id": 116990298, "body": "@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments.   For anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation."}, {"owner": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "reply_to_user": {"reputation": 2010, "user_id": 3386180, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2a7db46bc4ee7ea2626753ba7679e5d0?s=128&d=identicon&r=PG&f=1", "display_name": "jerry", "link": "https://stackoverflow.com/users/3386180/jerry"}, "edited": false, "score": 0, "creation_date": 1613140717, "post_id": 49011924, "comment_id": 116991801, "body": "@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not <i>at all</i> clear from the question that this is what OP wants."}, {"owner": {"reputation": 2010, "user_id": 3386180, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2a7db46bc4ee7ea2626753ba7679e5d0?s=128&d=identicon&r=PG&f=1", "display_name": "jerry", "link": "https://stackoverflow.com/users/3386180/jerry"}, "reply_to_user": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 1, "creation_date": 1613142573, "post_id": 49011924, "comment_id": 116992671, "body": "@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 40, "last_activity_date": 1519746785, "last_edit_date": 1519746785, "creation_date": 1519745402, "answer_id": 49012345, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/49012345#49012345", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> rounding features several <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\"><code>RoundingMode</code></a>s, including those rounding up (away from zero) or towards positive infinity. If that's what you need, you can perform rounding by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\" rel=\"noreferrer\"><code>setScale</code></a> as follows:</p>\n\n<pre><code>val number = 0.0449999\nval rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\nprintln(rounded) // 0.1\n</code></pre>\n\n<p>Note, however, that it works in a way that will also round anything between <code>0.0</code> and <code>0.1</code> to <code>0.1</code> (e.g. <code>0.00001</code> \u2192 <code>0.1</code>).</p>\n\n<p><sup>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\" rel=\"noreferrer\"><code>.toBigDecimal()</code></a> extension is available <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal\" rel=\"noreferrer\">since Kotlin 1.2</a>.</sup></p>\n"}, {"comments": [{"owner": {"reputation": 1369, "user_id": 1057740, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672b9a2128796d0a0e80ab75c17770bb?s=128&d=identicon&r=PG", "display_name": "A.Alqadomi", "link": "https://stackoverflow.com/users/1057740/a-alqadomi"}, "edited": false, "score": 8, "creation_date": 1552462218, "post_id": 49432344, "comment_id": 97013419, "body": "One important note to the &quot;Answer 1&quot; it caused my application to crash when i changed language to arabic . the .toDouble() crashed because the number was formatted in arabic (something like this \u0661\u0666.\u0663\u0664\u0665\u0663)"}], "tags": [], "owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "is_accepted": true, "score": 88, "last_activity_date": 1586515931, "last_edit_date": 1586515931, "creation_date": 1521731880, "answer_id": 49432344, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/49432344#49432344", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>Finally I did what <code>Andy Turner</code> suggested, rounded to 3 decimals, then to 2 and then to 1:</p>\n\n<p><strong>Answer 1:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = String.format(\"%.3f\", number).toDouble()\nval number2digits:Double = String.format(\"%.2f\", number3digits).toDouble()\nval solution:Double = String.format(\"%.1f\", number2digits).toDouble()\n</code></pre>\n\n<p><strong>Answer 2:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = Math.round(number * 1000.0) / 1000.0\nval number2digits:Double = Math.round(number3digits * 100.0) / 100.0\nval solution:Double = Math.round(number2digits * 10.0) / 10.0\n</code></pre>\n\n<p><strong>Result</strong>: </p>\n\n<blockquote>\n  <p>0.045 \u2192 0.05 \u2192 0.1</p>\n</blockquote>\n\n<p>Note: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 17, "last_activity_date": 1596125383, "last_edit_date": 1596125383, "creation_date": 1533415658, "answer_id": 51689453, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/51689453#51689453", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p><strong>1. Method (using Noelia's idea):</strong></p>\n<p>You can pass the number of desired decimal places in a string template and make the precision variable this way:</p>\n<pre><code>fun Number.roundTo(\n  numFractionDigits: Int\n) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\n</code></pre>\n<p><strong>2. Method (numeric, no string conversion)</strong></p>\n<pre><code>fun Double.roundTo(numFractionDigits: Int): Double {\n  val factor = 10.0.pow(numFractionDigits.toDouble())\n  return (this * factor).roundToInt() / factor\n}\n</code></pre>\n<p><sub>One could create an overload for <code>Float</code> as well.</sub></p>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 7644072, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212309749595897/picture?type=large", "display_name": "Robbie Cronin", "link": "https://stackoverflow.com/users/7644072/robbie-cronin"}, "edited": false, "score": 0, "creation_date": 1553145383, "post_id": 54665180, "comment_id": 97278910, "body": "what is the import for DecimalFormat? I can&#39;t find it"}, {"owner": {"reputation": 1536, "user_id": 9840325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nLKuHEODdqM/AAAAAAAAAAI/AAAAAAAAAmk/hc-BMUs8nfs/photo.jpg?sz=128", "display_name": "Gaurang Goda", "link": "https://stackoverflow.com/users/9840325/gaurang-goda"}, "reply_to_user": {"reputation": 1138, "user_id": 7644072, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212309749595897/picture?type=large", "display_name": "Robbie Cronin", "link": "https://stackoverflow.com/users/7644072/robbie-cronin"}, "edited": false, "score": 1, "creation_date": 1553233403, "post_id": 54665180, "comment_id": 97315678, "body": "I have used below import to execute the above methods, hope it helps.  1) import java.math.BigDecimal 2) import java.math.RoundingMode 3) import java.text.DecimalFormat"}, {"owner": {"reputation": 880, "user_id": 8642686, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159426504770512/picture?type=large", "display_name": "paul_f", "link": "https://stackoverflow.com/users/8642686/paul-f"}, "edited": false, "score": 1, "creation_date": 1560264454, "post_id": 54665180, "comment_id": 99674353, "body": "I am getting a crash using this. It can cause an issue where to number is formatted as &quot;4,93&quot;. Crash: Fatal Exception: java.lang.NumberFormatException For input string: &quot;5,79&quot;"}, {"owner": {"reputation": 638, "user_id": 3612063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76655285ce09413e5e739ecb60add953?s=128&d=identicon&r=PG", "display_name": "kotoMJ", "link": "https://stackoverflow.com/users/3612063/kotomj"}, "edited": false, "score": 3, "creation_date": 1586029023, "post_id": 54665180, "comment_id": 107977074, "body": "Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH))"}], "tags": [], "owner": {"reputation": 1536, "user_id": 9840325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nLKuHEODdqM/AAAAAAAAAAI/AAAAAAAAAmk/hc-BMUs8nfs/photo.jpg?sz=128", "display_name": "Gaurang Goda", "link": "https://stackoverflow.com/users/9840325/gaurang-goda"}, "is_accepted": false, "score": 32, "last_activity_date": 1592905334, "last_edit_date": 1592905334, "creation_date": 1550044867, "answer_id": 54665180, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/54665180#54665180", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.</p>\n<p><strong>If you want the highest value of the 2 digits after decimal use below code.</strong></p>\n<pre><code>import java.math.BigDecimal \nimport java.math.RoundingMode\nimport java.text.DecimalFormat\n</code></pre>\n<p>here, <strong>1.45678 = 1.46</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.CEILING\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p><strong>If you want the lowest value of the 2 digits after decimal use below code.</strong></p>\n<p>here, <strong>1.45678 = 1.45</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.FLOOR\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p>Here a list of all available flags: <code>CEILING</code>, <code>DOWN</code>, <code>FLOOR</code>, <code>HALF_DOWN</code>, <code>HALF_EVEN</code>, <code>HALF_UP</code>, <code>UNNECESSARY</code>, <code>UP</code></p>\n<p>The detailed information is given in <a href=\"https://developer.android.com/reference/java/math/RoundingMode\" rel=\"noreferrer\">docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 3612063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76655285ce09413e5e739ecb60add953?s=128&d=identicon&r=PG", "display_name": "kotoMJ", "link": "https://stackoverflow.com/users/3612063/kotomj"}, "edited": false, "score": 6, "creation_date": 1586028767, "post_id": 59513133, "comment_id": 107976991, "body": "Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use &quot;%.${n}f&quot;.format(Locale.ENGLISH,this).toFloat()"}], "tags": [], "owner": {"reputation": 345, "user_id": 11479058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BOc3H.jpg?s=128&g=1", "display_name": "Ignacio Garcia", "link": "https://stackoverflow.com/users/11479058/ignacio-garcia"}, "is_accepted": false, "score": 15, "last_activity_date": 1592828632, "last_edit_date": 1592828632, "creation_date": 1577553300, "answer_id": 59513133, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/59513133#59513133", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>An example of extension functions for Float and Double, round to n decimal positions.</p>\n<pre><code>fun Float.roundTo(n : Int) : Float {\n    return &quot;%.${n}f&quot;.format(this).toFloat()\n}\n\nfun Double.roundTo(n : Int) : Double {\n    return &quot;%.${n}f&quot;.format(this).toDouble()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 638, "user_id": 3612063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76655285ce09413e5e739ecb60add953?s=128&d=identicon&r=PG", "display_name": "kotoMJ", "link": "https://stackoverflow.com/users/3612063/kotomj"}, "is_accepted": false, "score": 11, "last_activity_date": 1586335182, "last_edit_date": 1586335182, "creation_date": 1586029413, "answer_id": 61033820, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/61033820#61033820", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p><strong>Always beware of Locale!</strong></p>\n\n<p>With unspecified locale you can get occasional issue (e.g. with Portugies locale) such as</p>\n\n<pre><code>Fatal Exception: java.lang.NumberFormatException\nFor input string: \"0,1\"\n</code></pre>\n\n<p><strong>1. Solution using DecimalFormat approach</strong></p>\n\n<pre><code>fun Float.roundToOneDecimalPlace(): Float {\n    val df = DecimalFormat(\"#.#\", DecimalFormatSymbols(Locale.ENGLISH)).apply {\n        roundingMode = RoundingMode.HALF_UP\n    }\n    return df.format(this).toFloat()\n}\n</code></pre>\n\n<p><strong>2. Solution using string format approach</strong></p>\n\n<pre><code>fun Float.roundTo(decimalPlaces: Int): Float {\n    return \"%.${decimalPlaces}f\".format(Locale.ENGLISH,this).toFloat()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1651, "user_id": 13098417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKi06.jpg?s=128&g=1", "display_name": "shirsh shukla", "link": "https://stackoverflow.com/users/13098417/shirsh-shukla"}, "is_accepted": false, "score": 1, "last_activity_date": 1610522392, "creation_date": 1610522392, "answer_id": 65697275, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1/65697275#65697275", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>Try this,\nits work for me</p>\n<pre><code>     val number = 0.045\n     var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\n     Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05\n</code></pre>\n"}], "owner": {"reputation": 2190, "user_id": 7131507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nnnRG.jpg?s=128&g=1", "display_name": "Noelia", "link": "https://stackoverflow.com/users/7131507/noelia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74284, "favorite_count": 3, "accepted_answer_id": 49432344, "answer_count": 7, "score": 60, "last_activity_date": 1612167321, "creation_date": 1519744188, "last_edit_date": 1586565765, "question_id": 49011924, "link": "https://stackoverflow.com/questions/49011924/round-double-to-1-decimal-place-kotlin-from-0-044999-to-0-1", "title": "Round Double to 1 decimal place kotlin: from 0.044999 to 0.1", "body": "<p>I have a Double variable that is <code>0.0449999</code> and I would like to round it to 1 decimal place <code>0.1</code> .</p>\n\n<p>I am using Kotlin but the Java solution is also helpful.</p>\n\n<p><code>val number:Double = 0.0449999</code></p>\n\n<p>I tried getting 1 decimal place with these two solutions:</p>\n\n<ol>\n<li><code>val solution = Math.round(number * 10.0) / 10.0</code></li>\n<li><code>val solution = String.format(\"%.1f\", number)</code></li>\n</ol>\n\n<p>The problem is that I get 0.0 in both cases because it rounds the number from <code>0.04</code> to <code>0.0</code>. It doesn't take all decimals and round it.</p>\n\n<p>I would like to obtain 0.1: <code>0.045 -&gt; 0.05 -&gt; 0.1</code></p>\n"}, {"tags": ["java", "kotlin", "bufferedreader", "infinite-loop", "readline"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9290870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb17b1880c5c2b0be87b5435238b317?s=128&d=identicon&r=PG&f=1", "display_name": "Rolfrider", "link": "https://stackoverflow.com/users/9290870/rolfrider"}, "edited": false, "score": 0, "creation_date": 1519744073, "post_id": 49011735, "comment_id": 85028198, "body": "Ok thanks and about this marker it can be like special sign or text for example if I add a line &quot;EOF&quot; when server is done writing would be OK?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 57, "user_id": 9290870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb17b1880c5c2b0be87b5435238b317?s=128&d=identicon&r=PG&f=1", "display_name": "Rolfrider", "link": "https://stackoverflow.com/users/9290870/rolfrider"}, "edited": false, "score": 0, "creation_date": 1519744402, "post_id": 49011735, "comment_id": 85028467, "body": "It&#39;s your protocol, you can choose whatever you need. &quot;EOF&quot; looks good."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1519743705, "creation_date": 1519743705, "answer_id": 49011735, "question_id": 49011480, "link": "https://stackoverflow.com/questions/49011480/kotlin-bufferedreader-readline-cause-infinite-loop/49011735#49011735", "title": "Kotlin BufferedReader.readLine() cause infinite loop", "body": "<p><code>readLine()</code> will block and wait for input, and will return <code>null</code> only when the socket is closed. You need to adjust your client/server communication protocol so that a server sends a special marker when it's done writing, and the client exits the loop in the <code>read</code> function when it receives that marker.</p>\n"}], "owner": {"reputation": 57, "user_id": 9290870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb17b1880c5c2b0be87b5435238b317?s=128&d=identicon&r=PG&f=1", "display_name": "Rolfrider", "link": "https://stackoverflow.com/users/9290870/rolfrider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 0, "accepted_answer_id": 49011735, "answer_count": 1, "score": 0, "last_activity_date": 1519743705, "creation_date": 1519743024, "last_edit_date": 1519743705, "question_id": 49011480, "link": "https://stackoverflow.com/questions/49011480/kotlin-bufferedreader-readline-cause-infinite-loop", "title": "Kotlin BufferedReader.readLine() cause infinite loop", "body": "<p>I'm making simple Client - Server application in Kotlin. I came a cross a problem with BufferedReader.readLine(). My server sends few lines of text and after reading them BufferedReader blocks the program so it doesnt move on. Look like it still waits for input. I dont know how to fix it.\nHere is my Client code:</p>\n\n<pre><code>package Client\n\nimport java.io.BufferedReader\nimport java.io.IOException\nimport java.io.InputStreamReader\nimport java.io.PrintWriter\nimport java.net.Socket\n\nclass ConnectionHandler(client : Socket) {\n    private val reader : BufferedReader = BufferedReader(InputStreamReader(client.getInputStream()))\n    private val writer : PrintWriter = PrintWriter(client.getOutputStream(), true)\n    private var running : Boolean = false\n\n    fun handle() {\n        running = true\n        while (running) {\n            read()\n            write()\n        }\n    }\n\n    private fun write(){\n        var intput: String? = readLine()\n        if (intput != null) {\n            writer.println(intput)\n            if(intput.toLowerCase() == \"exit\")\n               running = false\n        }\n    }\n\n    private fun read(){\n        var output : String? = \"Server:\"\n\n        while (output != null) {\n            println(output)\n            output = reader.readLine()\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my Server code:</p>\n\n<pre><code>package Server\n\nimport java.io.BufferedReader\nimport java.io.InputStreamReader\nimport java.io.PrintWriter\nimport java.net.Socket\n\n\nclass ClientHandler(private val client : Socket) {\n    private val reader : BufferedReader = client.getInputStream().bufferedReader()\n    private val writer : PrintWriter = PrintWriter(client.getOutputStream(), true)\n    private var running : Boolean = false\n\n    fun handle(){\n        running = true\n        writer.println(\"Welcome to Server\")\n        writer.println(\"Possible operations: + - / *\")\n        writer.println(\"Example input 1 + 2 (notice the spaces between signs)\")\n        writer.println(\"To Exit write EXIT\")\n\n\n        while (running){\n            try {\n                val text = reader.readLine()\n                if (text.toLowerCase() == \"exit\"){\n                    shutdown()\n                    continue\n                }\n                val values = text.split(\" \")\n                val result = Calculator().calculate(values[0].toInt(), values[2].toInt(), values[1])\n                writer.println(\" = $result\" )\n            }catch (ex: Exception){\n                writer.println(\"Something went wrong, need to exit\")\n                shutdown()\n            }\n        }\n\n    }\n\n    private fun shutdown(){\n        running = false;\n        writer.println(\"exit\")\n        client.close()\n        println(\"${client.inetAddress.hostAddress} closed connection\")\n    }\n\n}\n</code></pre>\n\n<p>The client reads last line \"To Exit write EXIT\" and then waits, dosent accept input.</p>\n"}, {"tags": ["java", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519742332, "post_id": 49011176, "comment_id": 85026971, "body": "Perhaps <code>{ handleTranslationResponse(it) }</code>?"}, {"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519743164, "post_id": 49011176, "comment_id": 85027521, "body": "I have changed the parameter as I need to pass the message to the handleTranslationResponse. So I have changed to <code>{handleTranslationResponse(message, it)}</code> Would that be correct to pass the message and the &#39;it&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": true, "score": 2, "last_activity_date": 1520047243, "creation_date": 1520047243, "answer_id": 49080296, "question_id": 49011176, "link": "https://stackoverflow.com/questions/49011176/rxjava-using-single-to-pass-a-parameter-in-the-doonsuccess/49080296#49080296", "title": "rxjava using Single to pass a parameter in the doOnSuccess", "body": "<p>The reason you can't do that is because <code>doOnSucess</code> takes only one parameter, which is whatever the <code>Repository</code> returns.</p>\n\n<p>You'll need to somehow add your original message to the response that the <code>Repository</code> returns. There are a couple of options (e.g. using a <code>Pair</code> or a new <code>data class</code>)</p>\n\n<p>An example:</p>\n\n<pre><code>data class Translation(\n    val originalMessage: String,\n    val translatedMessage: TranslationResponse\n)\n</code></pre>\n\n<p>Now your <code>Repository</code> becomes:</p>\n\n<pre><code>public class Respository {\n    private NetworkAPI networkAPI;\n\n    public Single&lt;TranslatedResponse&gt; fetchTranslation(final String message) {\n        return new Translation(\n            message,\n            networkAPI.fetchTranslation(new TranslateRequest(message)\n        );\n    }\n}\n</code></pre>\n\n<p>Finally, <code>handleTranslationResponse</code> now takes a <code>Translation</code> instead, which makes your interactor look like:</p>\n\n<pre><code>class TranslateInteractor(val repository: Respository) {\n    fun requestNetworkTranslated(message: String): Completable {\n        return repository.fetchTranslation(message)\n                .doOnSuccess { handleTranslationResponse(it) }.toCompletable()\n    }\n\n    private fun handleTranslationResponse(translation: Translation) {\n        saveTranslation(\n            translation.originalMessage,\n            translation.translatedMessage.content,\n            translation.translatedMessage.translationEngine)\n    }\n\n    private fun saveTranslation(message: String, content: String, engine: String) {\n        // do whatever you want!\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 49080296, "answer_count": 1, "score": 0, "last_activity_date": 1520047243, "creation_date": 1519742152, "last_edit_date": 1519743082, "question_id": 49011176, "link": "https://stackoverflow.com/questions/49011176/rxjava-using-single-to-pass-a-parameter-in-the-doonsuccess", "title": "rxjava using Single to pass a parameter in the doOnSuccess", "body": "<pre><code>Java 8\nio.reactivex:rxjava:1.3.6\nkotlin 1.2.21\n</code></pre>\n\n<p>I am trying to pass a parameter in the doOnSuccess using a Single.</p>\n\n<p>However, I am getting an error, that I can't seem to solve.</p>\n\n<pre><code>class TranslateInteractor(val repository: Respository) {\n    fun requestNetworkTranslated(message: String): Completable {\n        return repository.fetchTranslation(message)\n                .doOnSuccess { handleTranslationResponse(message, it) }.toCompletable()\n    }\n\n    private fun handleTranslationResponse(message, String, translatedResponse: TranslatedResponse) {\n        saveTranslation(\n                \"\",\n                translatedResponse.content,\n                translatedResponse.translationEngine)\n    }\n\n    private fun saveTranslation(message: String, content: String, engine: String) {\n        /* Save to local storage */\n    }\n}\n</code></pre>\n\n<p>The error is in the .doOnSuccess. As I want to pass the message to the handleTranslationResponse. </p>\n\n<pre><code>Type mismatch: inferred type is String but TranslatedResponse was expected\n</code></pre>\n\n<p>How can I pass the message and what I get from the TranslatedResponse back to the HandleTranslationResponse?</p>\n\n<p>The repository which is a java class that returns a single:</p>\n\n<pre><code>public class Respository {\n    private NetworkAPI networkAPI;\n\n    public Single&lt;TranslatedResponse&gt; fetchTranslation(final String message) {\n        return networkAPI.fetchTranslation(new TranslateRequest(message));\n    }\n}\n</code></pre>\n\n<p>My Data classes in Kotlin are:</p>\n\n<pre><code>data class TranslatedResponse(\n        val content: String,\n        val translationEngine: String)\n</code></pre>\n\n<p>And request</p>\n\n<pre><code>data class TranslateRequest(val message: String)\n</code></pre>\n\n<p>For the networkAPI I have the following in java snippet:</p>\n\n<pre><code>public interface NetworkAPI {\n    Single&lt;TranslatedResponse&gt; fetchTranslation(TranslateRequest request);\n}\n</code></pre>\n\n<p>Many thanks for any suggestions,</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1519742408, "post_id": 49010865, "comment_id": 85027026, "body": "One would argue that the design is bad. Do you need to have the images embedded into the apk? Or can you fetch them from your server? You can display images from the network using <a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">square.github.io/picasso</a> for example. And your server would just tell you which link to use."}], "answers": [{"comments": [{"owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "edited": false, "score": 0, "creation_date": 1519760098, "post_id": 49011177, "comment_id": 85038100, "body": "Sadly you are right with the problem of the same version. Will try to map over the Apis result, its kinda ugly that I have to call another function when I know which Image is meant. Anyway thanks for the answer"}], "tags": [], "owner": {"reputation": 1144, "user_id": 1185811, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b0c98ecc1355ea51a3b104ecbb8c8dff?s=128&d=identicon&r=PG", "display_name": "MrJM", "link": "https://stackoverflow.com/users/1185811/mrjm"}, "is_accepted": true, "score": 1, "last_activity_date": 1519742153, "creation_date": 1519742153, "answer_id": 49011177, "question_id": 49010865, "link": "https://stackoverflow.com/questions/49010865/android-image-id/49011177#49011177", "title": "Android Image ID", "body": "<p>1: For your request there is a solution but you'll have to do some mapping.</p>\n\n<p>Say your API is returning images as a number: e.g.</p>\n\n<pre><code>{ \n  ...\n  \"imageId\": 243,\n  ... \n} \n</code></pre>\n\n<p>When setting the image, you map the imageId to the id of your drawable</p>\n\n<pre><code>imageView.setImageResource(findImageForId(myObject.imageId))\n\nfun findImageForId(imageId: Int) = when(imageId){\n    1 -&gt; return R.drawable.imageA\n    ...\n    243 -&gt; return R.drawable.imageXYZ\n    ...\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Id's of your drawables are generated at compile time so they won't change in between phones using the same APK. You can't be sure all your users have the same version (e.g. after an update) so you should never use your generated drawable id's to identify images</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "edited": false, "score": 0, "creation_date": 1519760003, "post_id": 49011301, "comment_id": 85038044, "body": "thanks for the answer, seems that this is a proper way, I will read the docs"}], "tags": [], "owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "is_accepted": false, "score": 2, "last_activity_date": 1519742505, "creation_date": 1519742505, "answer_id": 49011301, "question_id": 49010865, "link": "https://stackoverflow.com/questions/49010865/android-image-id/49011301#49011301", "title": "Android Image ID", "body": "<p>You can get any resource (including images) id by name with <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">getIdentifier</a> method. Then you can get the resource using the id.</p>\n"}, {"tags": [], "owner": {"reputation": 608, "user_id": 805348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48cb5ef0457ea31411e48173d9487bc6?s=128&d=identicon&r=PG", "display_name": "Mehmed Mert", "link": "https://stackoverflow.com/users/805348/mehmed-mert"}, "is_accepted": false, "score": 2, "last_activity_date": 1519745499, "creation_date": 1519745499, "answer_id": 49012368, "question_id": 49010865, "link": "https://stackoverflow.com/questions/49010865/android-image-id/49012368#49012368", "title": "Android Image ID", "body": "<p>You can get the id of your image(s) dynamically calling the <code>getIdentifier()</code> method of the <code>Resources</code>, like this:</p>\n\n<pre><code>val id = context.resources.getIdentifier(\"my_image\", \"drawable\", context.packageName)\n</code></pre>\n"}], "owner": {"reputation": 2151, "user_id": 7638069, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZZKFz.png?s=128&g=1", "display_name": "hansTheFranz", "link": "https://stackoverflow.com/users/7638069/hansthefranz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 49011177, "answer_count": 3, "score": 0, "last_activity_date": 1519745499, "creation_date": 1519741193, "question_id": 49010865, "link": "https://stackoverflow.com/questions/49010865/android-image-id", "title": "Android Image ID", "body": "<p>I am building an Android(Kotlin) app which gets data from an API. Part of that data is an Image or more like a reference to an Image inside the Android app. Sadly Android does not accept names as arguments for images, so I have to send IDs(numbers). The Problem is that these IDs are changing when you add or remove a Image from the Android App and in general they do not seem to be \"fixed\" or unique.</p>\n\n<p>My questions are: </p>\n\n<ol>\n<li>Is there a bullet proof way to reference an Image via Text/Numbers? </li>\n<li>Do IDs change from phone to phone? (Is ID \"213226123\" the same Image on every App where the app is installed?)</li>\n</ol>\n\n<p>I could send an Image identifier made by myself and then work with a switch statement to check which image its supposed to be but this makes easy things complicated and would be incredible bad design. </p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": false, "score": 1, "last_activity_date": 1519737689, "creation_date": 1519737689, "answer_id": 49009703, "question_id": 49009610, "link": "https://stackoverflow.com/questions/49009610/cant-see-viewmodel-classes-in-android/49009703#49009703", "title": "Can&#39;t see ViewModel classes in Android", "body": "<p>Add this as dependency also</p>\n\n<pre><code>implementation \"android.arch.lifecycle:viewmodel:1.1.0\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 1, "last_activity_date": 1519737699, "creation_date": 1519737699, "answer_id": 49009707, "question_id": 49009610, "link": "https://stackoverflow.com/questions/49009610/cant-see-viewmodel-classes-in-android/49009707#49009707", "title": "Can&#39;t see ViewModel classes in Android", "body": "<p>Add following dependencies and it should work:</p>\n\n<pre><code>implementation \"android.arch.lifecycle:runtime:1.1.0\"\nimplementation \"android.arch.lifecycle:extensions:1.1.0\"\nkapt \"android.arch.lifecycle:compiler:1.1.0\"\n</code></pre>\n\n<p>If you want to use these from another module in your project, then use <code>api</code> instead of <code>implementation</code>.</p>\n"}], "owner": {"reputation": 395, "user_id": 6405527, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/91af99f31c12ee4d4fd31e7107c5881b?s=128&d=identicon&r=PG&f=1", "display_name": "65536", "link": "https://stackoverflow.com/users/6405527/65536"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 49009707, "answer_count": 2, "score": 1, "last_activity_date": 1519737699, "creation_date": 1519737380, "question_id": 49009610, "link": "https://stackoverflow.com/questions/49009610/cant-see-viewmodel-classes-in-android", "title": "Can&#39;t see ViewModel classes in Android", "body": "<p>I want to start using MVVM in a Kotlin project.</p>\n\n<p>In the <code>build.gradle</code> of the app module I have:</p>\n\n<pre><code>implementation \"android.arch.lifecycle:common-java8:1.1.0\"\nimplementation \"android.arch.lifecycle:extensions:1.1.0\"\nkapt \"android.arch.lifecycle:compiler:1.1.0\"\n</code></pre>\n\n<p>In the <code>build.gradle</code> of the project I have:</p>\n\n<pre><code>repositories {\n    jcenter()\n    maven {\n        url \"https://plugins.gradle.org/m2/\"\n    }\n    google()\n}\n</code></pre>\n\n<p>Then I have: </p>\n\n<pre><code>class MainActivityViewModel @Inject constructor(\n        private val view: MainActivityView\n) : android.arch.lifecycle.viewmodel.ViewModel {\n</code></pre>\n\n<p>but ViewModel is not recognized as a symbol</p>\n\n<p>I have also tried:\n    implementation \"android.arch.lifecycle:viewmodel:1.1.0\"</p>\n\n<p>and it did not work either.</p>\n\n<p>What's missing?</p>\n"}, {"tags": ["testing", "kotlin", "spek"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1519741681, "post_id": 49008999, "comment_id": 85026520, "body": "Can you please post the full error in your question?"}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1519749646, "post_id": 49013585, "comment_id": 85032083, "body": "Updated the answer, added a working option with inheritance."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1519847488, "last_edit_date": 1519847488, "creation_date": 1519749329, "answer_id": 49013585, "question_id": 49008999, "link": "https://stackoverflow.com/questions/49008999/kotlin-how-to-inherit-from-spek-class-to-have-common-fixture/49013585#49013585", "title": "kotlin: how to inherit from Spek class to have common fixture", "body": "<p>You can define an extension on <code>Spec</code> that sets up the desired fixture and then apply it in your <code>Spek</code>s as follows:</p>\n\n<pre><code>fun Spec.setUpFixture() {\n    beforeEachTest { println(\"before\") }\n    afterEachTest { println(\"after\") }\n}\n\n@RunWith(JUnitPlatform::class)\nclass MySpek : Spek({\n    setUpFixture()\n    it(\"should xxx\") { println(\"xxx\") }\n})\n</code></pre>\n\n<p>Though this is not exactly what you asked, it still allows flexible code reuse.</p>\n\n<hr>\n\n<p><strong>UPD</strong>: This is a working option with <code>Spek</code>s inheritance:</p>\n\n<pre><code>open class BaseSpek(spec: Spec.() -&gt; Unit) : Spek({\n    beforeEachTest { println(\"before\") }\n    afterEachTest { println(\"after\") }\n    spec()\n})\n\n@RunWith(JUnitPlatform::class)\nclass MySpek : BaseSpek({\n    it(\"should xxx\") { println(\"xxx\") }\n})\n</code></pre>\n\n<p>Basically, do do this, you invert the inheritance direction, so that the child <code>MySpek</code> passes its setup in the form of <code>Spec.() -&gt; Unit</code> to the parent <code>BaseSpek</code>, which adds the setup to what it passes to <code>Spek</code>.</p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 49013585, "answer_count": 1, "score": 4, "last_activity_date": 1519847488, "creation_date": 1519735324, "last_edit_date": 1519735682, "question_id": 49008999, "link": "https://stackoverflow.com/questions/49008999/kotlin-how-to-inherit-from-spek-class-to-have-common-fixture", "title": "kotlin: how to inherit from Spek class to have common fixture", "body": "<p>I want to have a common fixture for my tests:</p>\n\n<pre><code>@RunWith(JUnitPlatform::class)\nabstract class BaseSpek: Spek({\n\n    beforeGroup {println(\"before\")}\n\n    afterGroup {println(\"after\")}\n})\n</code></pre>\n\n<p>and now I want to use that spec:</p>\n\n<pre><code>class MySpek: BaseSpek({\n    it(\"should xxx\") {}\n})\n</code></pre>\n\n<p>but i got compilation error due to no-arg <code>BaseSpek</code> constructor. what's the correct way of achieving what i need?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3115, "user_id": 2029097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3928e7e4f8a49d3315c420527320259c?s=128&d=identicon&r=PG", "display_name": "hlfrmn", "link": "https://stackoverflow.com/users/2029097/hlfrmn"}, "edited": false, "score": 0, "creation_date": 1519734980, "post_id": 49008821, "comment_id": 85022049, "body": "you don&#39;t need to manually increment <code>i</code> or manually set <code>i</code> in a for loop"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1519735009, "post_id": 49008821, "comment_id": 85022067, "body": "You do not need to declare var i : Int = 1 as it&#39;ll be declared for you in the loop. Nor do you need the i = i+1 inside the loop for that matter."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519755904, "post_id": 49008821, "comment_id": 85035803, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48458801/change-for-loop-index-in-kotlin\">Change for loop index in Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 3, "last_activity_date": 1519735322, "creation_date": 1519735322, "answer_id": 49008996, "question_id": 49008821, "link": "https://stackoverflow.com/questions/49008821/i-am-getting-the-val-cannot-be-reassigned-compile-time-error-but-i-have-declare/49008996#49008996", "title": "I am getting the val cannot be reassigned compile time error. But I have declared the variable as `var` only", "body": "<pre><code>var i : Int = 1\nfor (i in 1..3){\n  nos[i] = scanner.nextInt()\n  i = i+1\n}\n</code></pre>\n\n<p>In this code you declared not one, but two variables with the name <code>i</code> because the <code>for</code> header creates its own declaration. Within the loop, only the version declared in the <code>for</code> header is visible, and that one is a <code>val</code> by definition.</p>\n\n<p>Having said that, I'm unclear on what you were trying to achieve since everything looks like it would work just the way you want it without trying to update <code>i</code> in the loop.</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1519737368, "post_id": 49009017, "comment_id": 85023512, "body": "You left the build-breaking <code>i = i + 1</code>."}, {"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519737613, "post_id": 49009017, "comment_id": 85023670, "body": "Thanks for explanation. Don&#39;t I get the same error again? Bcoz, again we are incrementing the value of <code>i</code> inside the <code>for</code> . So I have to remove that statement also. If so, my second question how to I decrement or do <code>i = i + 2</code> in the <code>for</code> loop."}, {"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519738289, "post_id": 49009017, "comment_id": 85024125, "body": "Thanks @hotkey . Works fine"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1519750043, "last_edit_date": 1519750043, "creation_date": 1519735381, "answer_id": 49009017, "question_id": 49008821, "link": "https://stackoverflow.com/questions/49008821/i-am-getting-the-val-cannot-be-reassigned-compile-time-error-but-i-have-declare/49009017#49009017", "title": "I am getting the val cannot be reassigned compile time error. But I have declared the variable as `var` only", "body": "<p>The <code>for (i in 1..3) ...</code> statement redefines <code>i</code> for the scope of its body, where it becomes a <code>val</code> (it's actually a separate variable that shadows the <code>i</code> declared outside the loop).</p>\n\n<p>You can fix the code by using different names for these variables, or, in your case, by simply removing <code>var i: Int = 1</code> and <code>i = i + 1</code>:</p>\n\n<pre><code>val scanner = Scanner(System.`in`)\n\nvar nos = Array&lt;Int&gt;(5) { 0 }\n\nfor (i in 1..3) {\n    nos[i] = scanner.nextInt()\n}\n\nprintln(\"Given values $nos\")\n</code></pre>\n\n<p><strong>UPD</strong> (answering to the comment): You can iterate in the opposite direction or using a non-unit step by building a progression with functions <code>downTo</code> and <code>step</code>, both described <a href=\"https://kotlinlang.org/docs/reference/ranges.html#utility-functions\" rel=\"nofollow noreferrer\">here in the reference</a>.</p>\n"}], "owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 49009017, "answer_count": 2, "score": 2, "last_activity_date": 1519769785, "creation_date": 1519734786, "last_edit_date": 1519769785, "question_id": 49008821, "link": "https://stackoverflow.com/questions/49008821/i-am-getting-the-val-cannot-be-reassigned-compile-time-error-but-i-have-declare", "title": "I am getting the val cannot be reassigned compile time error. But I have declared the variable as `var` only", "body": "<p><code>val</code> cannot be reassigned compile time error <code>var</code> variable. Can't we change the array value?</p>\n\n<p>Error </p>\n\n<blockquote>\n  <p>Array.kt:11:3: error: val cannot be reassigned</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>import java.util.Scanner\n\nfun main(args: Array&lt; String&gt;){\n  println(\"Enter the no\")\n  val scanner = Scanner(System.`in`)\n  var nos = Array&lt;Int&gt;(5){0}\n\n  var i : Int = 1\n  for (i in 1..3){\n    nos[i] = scanner.nextInt()\n     i = i+1\n  }\n\n  println(\"Given values $nos\")\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "is_accepted": true, "score": 4, "last_activity_date": 1519736176, "creation_date": 1519736176, "answer_id": 49009262, "question_id": 49008615, "link": "https://stackoverflow.com/questions/49008615/kotlin-declaration-clash/49009262#49009262", "title": "Kotlin declaration clash", "body": "<p>It looks like there is no way, as the generic code generated by Kotlin uses the Function4 as the argument type. It is an interface of 4 generic arguments, so regardless the types, all look the same.</p>\n\n<pre><code>/** A function that takes 4 arguments. */\npublic interface Function4&lt;in P1, in P2, in P3, in P4, out R&gt; : Function&lt;R&gt; {\n   /** Invokes the function with the specified arguments. */\n   public operator fun invoke(p1: P1, p2: P2, p3: P3, p4: P4): R\n}\n</code></pre>\n"}], "owner": {"reputation": 22250, "user_id": 191332, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/02beb265e9a7867cc068139700270dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Lipi\u0144ski", "link": "https://stackoverflow.com/users/191332/szymon-lipi%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 49009262, "answer_count": 1, "score": 3, "last_activity_date": 1519736176, "creation_date": 1519734105, "question_id": 49008615, "link": "https://stackoverflow.com/questions/49008615/kotlin-declaration-clash", "title": "Kotlin declaration clash", "body": "<p>I have a question. Is there any there any other way to fix this code than adding <code>@JvmName</code>?</p>\n\n<pre><code>class Test() {\n    fun &lt;T&gt; apply(calc: (String, List&lt;Double&gt;, Double, Double) -&gt; T): T {\n        return calc(\"a\", listOf(), 1.2, 3.4)\n    }\n\n    fun &lt;T&gt; apply(calc: (String, Double, Double, Double) -&gt; T): T {\n        return calc(\"a\", 1.2, 3.4, 5.6)\n    }\n}\n</code></pre>\n\n<p>The above code makes the following error:</p>\n\n<pre><code>Error:(375, 9) Kotlin: Platform declaration clash: The following declarations have the same JVM signature (apply(Lkotlin/jvm/functions/Function4;)Ljava/lang/Object;):\nfun &lt;T&gt; apply(calc: (String, Double, Double, Double) -&gt; T): T defined in Sample.Test\nfun &lt;T&gt; apply(calc: (String, List&lt;Double&gt;, Double, Double) -&gt; T): T defined in Sample.Test\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1519733411, "post_id": 49007990, "comment_id": 85021129, "body": "<code>just</code> is a finite source and the sequence completes without any items and with no delay. What were you trying to accomplish?"}, {"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519733689, "post_id": 49007990, "comment_id": 85021306, "body": "Ah of course..."}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1519733723, "post_id": 49007990, "comment_id": 85021329, "body": "I think you can change it to  <code>Observable.fromCallable(() -&gt; { return true; })</code>, and it will behave as expected. <code>just</code> is a blocking call."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1519733995, "post_id": 49007990, "comment_id": 85021479, "body": "@Tuby that&#39;s completely wrong."}, {"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519734163, "post_id": 49007990, "comment_id": 85021572, "body": "@akarnokd I was actually testing a subscription that feeds off a hot observable source. In my test I mocked out the subscription and fed emissions as <code>Observable.just</code>, which resulted in test failure. So then I had simplified the test down to this bit with no further luck. I can see that the problem is in fact in <code>just</code>. Thanks for pointing it out!"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519738708, "post_id": 49007990, "comment_id": 85024405, "body": "@akarnokd Why is that wrong? Callable would be executed during <code>subscribe()</code> inside <code>test()</code> and it would behave the same as <code>just()</code>?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 2, "creation_date": 1519738993, "post_id": 49007990, "comment_id": 85024600, "body": "@Tuby <code>fromCallable</code> is still finite, the OP, however, tried to replicate a hot, non-terminating <code>Observable</code>. Also <code>just</code> is not blocking but synchronous."}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519740551, "post_id": 49007990, "comment_id": 85025701, "body": "@akarnokd Ok I understand, thanks for clarification."}], "answers": [{"comments": [{"owner": {"reputation": 4209, "user_id": 7399050, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1695b453c91cce7b1e925ade27b4afd?s=128&d=identicon&r=PG&f=1", "display_name": "ADev", "link": "https://stackoverflow.com/users/7399050/adev"}, "edited": false, "score": 0, "creation_date": 1524748203, "post_id": 49161915, "comment_id": 87103838, "body": "+1 for &quot;so one alternative is an Observable than never emits&quot;. In my test, the original observable was still emitting a valid <code>onNext()</code> so if you advance the time, the successful emission gets sent before <code>timeout()</code> has a chance to send the exception."}], "tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": false, "score": 1, "last_activity_date": 1520460022, "creation_date": 1520460022, "answer_id": 49161915, "question_id": 49007990, "link": "https://stackoverflow.com/questions/49007990/timeout-test-does-not-return-timeoutexception-rxjava/49161915#49161915", "title": "Timeout test does not return TimeoutException - rxjava", "body": "<p>Here's a test that gets the expected result:</p>\n\n<pre><code>@Test\nfun timeout() {\n    val testScheduler = TestScheduler()\n\n    val sub = Observable.just(true) // 1\n            .delaySubscription(Observable.never&lt;Boolean&gt;()) // 2\n            .timeout(10, TimeUnit.SECONDS, testScheduler) // 3\n    val testSubscriber = sub.subscribeOn(testScheduler).test()\n\n    testScheduler.advanceTimeBy(20, TimeUnit.SECONDS)\n    testSubscriber.assertError(TimeoutException::class.java)\n</code></pre>\n\n<p>Here's an explanation of what's going on:</p>\n\n<ol>\n<li>We just need a <code>Observable</code> to start with, the filter you had before was just making this be an empty one</li>\n<li>We want to <a href=\"http://reactivex.io/documentation/operators/delay.html\" rel=\"nofollow noreferrer\">delay the subscription</a> with something that won't finish, so one alternative is an <code>Observable</code> than <code>never</code> emits</li>\n<li>From here on, it's the same you had</li>\n</ol>\n"}], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1520460022, "creation_date": 1519732162, "question_id": 49007990, "link": "https://stackoverflow.com/questions/49007990/timeout-test-does-not-return-timeoutexception-rxjava", "title": "Timeout test does not return TimeoutException - rxjava", "body": "<p>The test fails as there is no exception thrown. It simply completes instead of timing out.</p>\n\n<pre><code>    @Test\n    fun timeout() {\n        val testScheduler = TestScheduler()\n\n        val sub = Observable.just(true)\n                .filter{ it -&gt; !it }\n                .timeout(10, TimeUnit.SECONDS, testScheduler)\n\n        val testSubscriber = sub.subscribeOn(testScheduler).test()\n\n        testScheduler.advanceTimeBy(20, TimeUnit.SECONDS)\n        testSubscriber.assertError(TimeoutException::class.java)\n    }\n</code></pre>\n\n<p>I've been at this block for over an hour and I just don't see why it's failing. It's probably something super obvious, but I feel I need another set of eyes to point it out for me.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "edited": false, "score": 0, "creation_date": 1519729847, "post_id": 49006593, "comment_id": 85018961, "body": "My understanding was that isNullOrBlank extension function should perform str != null check so the compiler would not complain. I don&#39;t fully understand what it does; the &quot;contract&quot; part is new for me."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "edited": false, "score": 0, "creation_date": 1519730066, "post_id": 49006593, "comment_id": 85019103, "body": "@pitos Yes, it does, but this is in another function - it can&#39;t compile, since the code <i>in</i> the function (the Kotlin stdlibs) may change at some point, since a function is really just another layer of abstraction. (It <i>probably</i> won&#39;t change, since it is so simple, but the point still stands - it&#39;s just a function)."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "edited": false, "score": 0, "creation_date": 1538986782, "post_id": 49006593, "comment_id": 92322603, "body": "@pitos good news: <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#contracts\" rel=\"nofollow noreferrer\">Kotlin 1.3 will support <code>contract</code></a> (though custom <code>contract</code>s are experimental)."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 4, "last_activity_date": 1519729207, "last_edit_date": 1519729207, "creation_date": 1519727771, "answer_id": 49006593, "question_id": 49006342, "link": "https://stackoverflow.com/questions/49006342/only-safe-or-non-null-asserted-calls-are-allowed-on-a-nullable-receiv/49006593#49006593", "title": "Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type String?", "body": "<p>There is no way for the compiler to prove that after <code>isNullOrBlank</code> evaluates to <code>false</code>, that the argument must not be null. <code>isNullOrBlank</code> is just a normal method, the same argument could apply to any number of functions that check whether an argument is null. What if someone changed the implementation of <code>isNullOrBlank</code> to always return <code>false</code>?</p>\n\n<p>In the case of <code>arg == null</code>, the compiler <em>knows</em> that this must mean the argument is not null, as, well, that's exactly what <code>== null</code> means, syntactically and literally.</p>\n\n<p>Note that <code>== null</code> does not always result in a safe cast, for example, when the variable being checked is a property.</p>\n\n<p>In this case:</p>\n\n<pre><code>str?.length ?: 0\n</code></pre>\n\n<p>there are no smart casts involved.</p>\n\n<p><code>str?.length</code> is an <code>Int?</code>, and with the Elvis operator <code>?:</code> you will end up with an <code>Int</code>.</p>\n\n<hr>\n\n<p>Interestingly, <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.20/libraries/stdlib/src/kotlin/text/Strings.kt#L263\" rel=\"nofollow noreferrer\">the implementation of <code>isNullOrBlank</code></a> contains this <code>contract</code>:</p>\n\n<pre><code>contract {\n    returns(false) implies (this@isNullOrBlank != null)\n}\n</code></pre>\n\n<p>so maybe this will be supported at some point.</p>\n"}], "owner": {"reputation": 141, "user_id": 3831895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygGAk.jpg?s=128&g=1", "display_name": "Pitos", "link": "https://stackoverflow.com/users/3831895/pitos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4001, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1519729207, "creation_date": 1519727000, "question_id": 49006342, "link": "https://stackoverflow.com/questions/49006342/only-safe-or-non-null-asserted-calls-are-allowed-on-a-nullable-receiv", "title": "Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type String?", "body": "<pre><code>fun checkLengthA(str : String?): Int = if (str.isNullOrBlank()) 0 else str.length\n</code></pre>\n\n<p><em>\"Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type String?</em></p>\n\n<p>all null objects (or empty) are caught by isNullOrBlank(), so the str object in str.length can never be null (or empty). This can be achieved by replacing extension function with an explicit check.</p>\n\n<pre><code>fun checkLengthB(str : String?): Int = if (str == null) 0 else str.length\n</code></pre>\n\n<p>or less verbose expression:</p>\n\n<pre><code>fun checkLengthC(str : String?): Int = str?.length ?: 0\n</code></pre>\n\n<p>Both checkLengthB and checkLengthC will run without problems.</p>\n\n<p>Let's remove the nullable type from checkLengthA to avoid the compile error, highlighted above:</p>\n\n<pre><code>fun checkLengthA(str : String): Int = if (str.isNullOrBlank()) 0 else str.length\n</code></pre>\n\n<p>Now, we are only allowed to pars use non-null parameter of type String, so if we expect some null types then we have to put the \"?\" back.</p>\n\n<p>Looks like the complier does not understand that str of type String will never evaluate to null when running str.length and an extension function, but it will compile without problems if we use (str == null) in the if-else statement.</p>\n\n<p>Can anyone explain why it is happening?</p>\n"}, {"tags": ["android", "email", "firebase", "kotlin", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 0, "last_activity_date": 1519729203, "creation_date": 1519729203, "answer_id": 49007068, "question_id": 49006056, "link": "https://stackoverflow.com/questions/49006056/firebase-kotlin-error-while-reloading-user-and-checking-isemailverified/49007068#49007068", "title": "Firebase kotlin error while reloading user and checking isEmailVerified", "body": "<p>You should move the user evaluation to inside the callback, otherwise it won't wait the callback to return to evaluate it. Like this:</p>\n\n<pre><code>   override fun onResume() {\n        super.onResume()\n\n        FirebaseAuth.getInstance().currentUser?.reload()?.addOnSuccessListener {\n            void -&gt;\n            var user = FirebaseAuth.getInstance().currentUser\n\n            if(user != null &amp;&amp; user.isEmailVerified ){\n                Toast.makeText(this,\"Inside of if\",Toast.LENGTH_SHORT).show()\n                finish()\n                startActivity(Intent(this, MainActivity::class.java))\n            }\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 9300551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/601c490b7a669b150834deeca667dbcf?s=128&d=identicon&r=PG&f=1", "display_name": "TomKo1", "link": "https://stackoverflow.com/users/9300551/tomko1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 49007068, "answer_count": 1, "score": 0, "last_activity_date": 1519730401, "creation_date": 1519726109, "last_edit_date": 1519730401, "question_id": 49006056, "link": "https://stackoverflow.com/questions/49006056/firebase-kotlin-error-while-reloading-user-and-checking-isemailverified", "title": "Firebase kotlin error while reloading user and checking isEmailVerified", "body": "<p>Hi I'm trying to reload user after the activity is reloaded so that it follows to another activity after user displays it another time and emaila was verified but I got error like 'Error:(41, 29) Smart cast to 'FirebaseUser' is impossible, because 'user' is a local variable that is captured by a changing closure'\ncan someone tell me how to fix it?</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    var  user: FirebaseUser? = null\n   FirebaseAuth.getInstance().currentUser?.reload()?.addOnSuccessListener {\n        void -&gt;\n             user =FirebaseAuth.getInstance().currentUser\n    }\n    if(user != null &amp;&amp; user.isEmailVerified ){\n        Toast.makeText(this,\"Inside of if\",Toast.LENGTH_SHORT).show()\n        finish()\n        startActivity(Intent(this, MainActivity::class.java))\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "input", "kotlin", "java.util.scanner"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1519726053, "post_id": 49005913, "comment_id": 85016496, "body": "What do you mean by &#39;type safe&#39;? <code>readLine()</code> is supposed to return a <code>String</code> or <code>null</code> if it reached the end of input. I see no possibility to violate type safety since no types other than <code>String?</code> are involved."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1519726307, "post_id": 49005913, "comment_id": 85016634, "body": "You can still use <code>Scanner</code> in Kotlin if you want to read primitive types directly without handling parsing/casting, since it is fully compatible with Java"}, {"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519729558, "post_id": 49005913, "comment_id": 85018757, "body": "Using Scanner we can read the values as int, String etc. But <code>readLine()</code> always  return a String. Instead of type cast the value every time, i wish to read the value as nextInt() or nextString()."}], "answers": [{"comments": [{"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519729716, "post_id": 49006659, "comment_id": 85018859, "body": "Thanks @s1m0nw1 . I have reused the <code>Scanner</code> in my app. Works fine."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 5, "last_activity_date": 1519755063, "last_edit_date": 1519755063, "creation_date": 1519727968, "answer_id": 49006659, "question_id": 49005913, "link": "https://stackoverflow.com/questions/49005913/what-is-the-equivalent-of-java-scanner-in-kotlin/49006659#49006659", "title": "What is the equivalent of Java Scanner in Kotlin?", "body": "<p><strong>Kotlin</strong> reuses many existing Java libraries and it's perfectly fine to do so with <code>Scanner</code>. Otherwise, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/read-line.html\" rel=\"nofollow noreferrer\"><code>readLine</code></a> simply uses <code>System.in</code> as you can observe <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.20/libraries/stdlib/src/kotlin/io/Console.kt#L181\" rel=\"nofollow noreferrer\">here</a>, which might be a simple alternative for you.</p>\n"}, {"tags": [], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "is_accepted": true, "score": 10, "last_activity_date": 1522055671, "last_edit_date": 1522055671, "creation_date": 1521532004, "answer_id": 49378810, "question_id": 49005913, "link": "https://stackoverflow.com/questions/49005913/what-is-the-equivalent-of-java-scanner-in-kotlin/49378810#49378810", "title": "What is the equivalent of Java Scanner in Kotlin?", "body": "<p>You can try something like this</p>\n\n<pre><code>val scan = Scanner(System.`in`)\n\nval n = scan.nextLine().trim().toInt()\n</code></pre>\n\n<p>Since \"in\" is a <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"noreferrer\">Kotlin keyword</a></p>\n"}], "owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9366, "favorite_count": 1, "accepted_answer_id": 49378810, "answer_count": 2, "score": 10, "last_activity_date": 1522055727, "creation_date": 1519725685, "last_edit_date": 1522055727, "question_id": 49005913, "link": "https://stackoverflow.com/questions/49005913/what-is-the-equivalent-of-java-scanner-in-kotlin", "title": "What is the equivalent of Java Scanner in Kotlin?", "body": "<p>What is the equivalent of Java <code>Scanner</code> in Kotlin? </p>\n\n<p>I have used <code>readLine()</code> but I'd like to know whether it's type safe or not?</p>\n"}, {"tags": ["gradle", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1519733357, "post_id": 49005776, "comment_id": 85021095, "body": "Which versions of Gradle and Kotlin plugin are you using?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1519733482, "post_id": 49005776, "comment_id": 85021183, "body": "By the way, you seem to use the old Kotlin annotation processing tool (you don&#39;t apply the plugin <code>kotlin-kapt</code>), which is deprecated. Please try to add <code>apply plugin: &#39;kotlin-kapt&#39;</code> to your build script and remove the <code>kapt { generateStubs = true }</code> block."}], "owner": {"reputation": 4747, "user_id": 1263771, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da5cbc1ac0d9829d640b63b3865e090b?s=128&d=identicon&r=PG", "display_name": "tse", "link": "https://stackoverflow.com/users/1263771/tse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519733052, "creation_date": 1519725264, "last_edit_date": 1519733052, "question_id": 49005776, "link": "https://stackoverflow.com/questions/49005776/how-to-add-autogenerated-files-to-the-final-jar-of-java-library-module", "title": "How to add autogenerated files to the final jar of &#39;java-library&#39; module?", "body": "<p>I have module in the managed by gradle project. Some classes are creating by annotation processing. But after all these autogenerated files doesn't come to the final jar. How to add them?</p>\n\n<p>build.gradle of the module:</p>\n\n<pre><code>apply plugin: 'java-library'\napply plugin: 'kotlin'\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation libraries.kotlinStdLib\n    implementation libraries.rxjava\n\n    compile project(':generator:annotation')\n    kapt project(\":generator:processor\")\n    compileOnly project(\":generator:processor\")\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n    main.java.srcDirs += \"${buildDir.absolutePath}/tmp/kapt/main/kotlinGenerated/\"\n    debug.java.srcDirs += 'src/debug/kotlin'\n    debug.java.srcDirs += \"${buildDir.absolutePath}/tmp/kapt/debug/kotlinGenerated/\"\n\n    release.java.srcDirs += 'src/release/kotlin'\n    test.java.srcDirs += 'src/test/kotlin'\n    androidTest.java.srcDirs += 'src/androidTest/kotlin'\n}\n\nkapt {\n    generateStubs = true\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath libraries.kotlinPlugin\n        classpath libraries.kotlinStdLib\n    }\n}\nrepositories {\n    mavenCentral()\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>Generted files are visible inside this package, tested by JUnit etc. Also these files are visible by Android Studio. </p>\n\n<pre><code>$ find . -type f | grep Fsm*\n./build/classes/kotlin/main/com/example/FsmPaymentInteractorImpl.class\n./build/classes/kotlin/main/com/example/FsmSettingsInteractorImpl.class\n./build/tmp/kapt/main/kotlinGenerated/FsmPaymentInteractorImpl.kt/com/example/FsmPaymentInteractorImpl.kt\n./build/tmp/kapt/main/kotlinGenerated/FsmSettingsInteractorImpl.kt/com/example/FsmSettingsInteractorImpl.kt\n$ \n</code></pre>\n\n<p>There is no files in the jar:</p>\n\n<pre><code>$ find . -name domain.jar | xargs tar tf | grep Fsm\n$ \n</code></pre>\n\n<p>Ideas?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I found unexpected behaviour: if I run <code>jar</code> task twice, desired files are adding to the jar. Why??</p>\n\n<pre><code>$ ./gradlew -q  :domain:jar ; find . -name Fsm* -type f\n./domain/build/classes/kotlin/main/com/example/FsmPaymentInteractorImpl.class\n./domain/build/classes/kotlin/main/com/example/FsmSettingsInteractorImpl.class\n./domain/build/tmp/kapt/main/kotlinGenerated/FsmPaymentInteractorImpl.kt/com/example/FsmPaymentInteractorImpl.kt\n./domain/build/tmp/kapt/main/kotlinGenerated/FsmSettingsInteractorImpl.kt/com/example/FsmSettingsInteractorImpl.kt\n\n$ ./gradlew -q  :domain:jar ; find . -name Fsm* -type f\n./domain/build/classes/kotlin/main/com/example/FsmPaymentInteractorImpl.class\n./domain/build/classes/kotlin/main/com/example/FsmSettingsInteractorImpl.class\n./domain/build/tmp/kapt/main/classFileStubs/com/example/FsmPaymentInteractorImpl.class\n./domain/build/tmp/kapt/main/classFileStubs/com/example/FsmSettingsInteractorImpl.class\n./domain/build/tmp/kapt/main/kotlinGenerated/FsmPaymentInteractorImpl.kt/com/example/FsmPaymentInteractorImpl.kt\n./domain/build/tmp/kapt/main/kotlinGenerated/FsmSettingsInteractorImpl.kt/com/example/FsmSettingsInteractorImpl.kt\n\n$ find . -name domain.jar | xargs tar tf | grep Fs\ncom/example/FsmPaymentInteractorImpl.class\ncom/example/FsmSettingsInteractorImpl.class\n$ \n</code></pre>\n"}, {"tags": ["android", "kotlin", "junit4", "robolectric"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1519723125, "post_id": 49003909, "comment_id": 85014603, "body": "You don&#39;t show the usage of <code>setContentHeight(Int)</code>. Regardless of this you should not manipulate the layout params like this. Consider overriding <code>onMessure()</code> or setting minimal or maximal sizes."}, {"owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1519729128, "post_id": 49003909, "comment_id": 85018495, "body": "yes, but the height of view has changing bases on perform click. similar like expandable view. @tynn"}, {"owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1519729707, "post_id": 49003909, "comment_id": 85018852, "body": "the content of the dropdown height set by <code>View.MeasureSpec.makeMeasureSpec</code>"}], "owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519718832, "creation_date": 1519718832, "question_id": 49003909, "link": "https://stackoverflow.com/questions/49003909/write-a-test-cases-for-custom-view", "title": "Write a test cases for custom view", "body": "<p>A custom view contains several attributes as property, to make this code testable than added unit test (RobolectricTestRunner). </p>\n\n<pre><code>constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        inflateView()\n        bindView()\n        initialize()\n        setContentHeight()\n    }\n}\nprivate fun inflateView() {\n    View.inflate(context, R.layout.view_custom, this)\n}\nprivate fun bindView() {\n    panelView = findViewById(R.id.panel_view)\n}\nprivate fun setContentHeight(height: Int) {\n    layoutParams.height = height &lt;-- test case fail due to layoutParams null.\n    requestLayout()\n}\n</code></pre>\n\n<p>TestCase</p>\n\n<pre><code>    @Test\n    fun init() {\n        val activity = Robolectric.buildActivity(Activity::class.java).create().get()\n        var context = mock(Context::class.java)\n        var typedArray = mock(TypedArray::class.java)\n        var dropDownView = DropdownTextView(activity, mock(AttributeSet::class.java))\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>layoutParams having a null object and mock not work here.</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-architecture-components"], "answers": [{"tags": [], "owner": {"reputation": 4296, "user_id": 1639078, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uHDw2.jpg?s=128&g=1", "display_name": "isuPatches", "link": "https://stackoverflow.com/users/1639078/isupatches"}, "is_accepted": true, "score": 0, "last_activity_date": 1519745157, "creation_date": 1519745157, "answer_id": 49012263, "question_id": 49001879, "link": "https://stackoverflow.com/questions/49001879/missing-callback-to-view-with-pagination/49012263#49012263", "title": "Missing callback to view with pagination?", "body": "<p>I had two mistakes...</p>\n\n<ol>\n<li>The adapter was never set in the view (fail)</li>\n<li>I was extending ItemKeyedDataSource instead of PageKeyedDataSource (double fail)</li>\n</ol>\n\n<p>I made those two adjustments and now everything is behaving as expected.</p>\n"}], "owner": {"reputation": 4296, "user_id": 1639078, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/uHDw2.jpg?s=128&g=1", "display_name": "isuPatches", "link": "https://stackoverflow.com/users/1639078/isupatches"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 688, "favorite_count": 0, "accepted_answer_id": 49012263, "answer_count": 1, "score": 2, "last_activity_date": 1519745157, "creation_date": 1519710100, "question_id": 49001879, "link": "https://stackoverflow.com/questions/49001879/missing-callback-to-view-with-pagination", "title": "Missing callback to view with pagination?", "body": "<p>I'm attempting to get pagination up and workning with Google's new library, but seeing some odd behavior.  I'm not sure where I am going wrong.</p>\n\n<p>I'm followig MVP and also using some dagger injection for testability.</p>\n\n<p>In the view:</p>\n\n<pre><code>val adapter = ItemsAdapter()\nviewModel.getItems(itemCategoryId, keywords).observe(this, Observer {\n  Log.d(TAG, \"Items updated $it\")\n  adapter.setList(it)\n})\n</code></pre>\n\n<p>The data source factory:</p>\n\n<pre><code>class ItemDataSourceFactory(\n        private val api: Api,\n        private val retryExecutor: Executor\n) : DataSource.Factory&lt;Long, Item&gt; {\n\n    private val mutableLiveData = MutableLiveData&lt;ItemDataSource&gt;()\n\n    override fun create(): DataSource&lt;Long, Item&gt; {\n        val source = ItemDataSource(api, retryExecutor)\n        mutableLiveData.postValue(source)\n        return source\n    }\n}\n</code></pre>\n\n<p>The data source:</p>\n\n<pre><code>class ItemDataSource(\n        private val api: Api,\n        private val retryExecutor: Executor\n): ItemKeyedDataSource&lt;Long, Item&gt;() {\n\n    companion object {\n        private val TAG = ItemKeyDataSource::class.java\n    }\n\n    override fun getKey(item: Item): Long = item.id\n\n    override fun loadBefore(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Item&gt;) {\n        // ignored, since we only ever append to our initial load\n    }\n\n    override fun loadInitial(params: LoadInitialParams&lt;Long&gt;, callback: LoadInitialCallback&lt;Item&gt;) {\n        api.loadItems(1, params.requestedLoadSize)\n                .subscribe({\n                    Logger.d(TAG, \"Page 1 loaded. Count ${params.requestedLoadSize}.\\nItems: ${it.items}\")\n                    callback.onResult(it.items as MutableList&lt;Item&gt;, 0, it.item.size)\n                }, {})\n    }\n\n    override fun loadAfter(params: LoadParams&lt;Long&gt;, callback: LoadCallback&lt;Item&gt;) {\n        api.loadItems(params.key, params.requestedLoadSize)\n                .subscribe({\n                    Logger.d(TAG, \"Page ${params.key} loaded. Count ${params.requestedLoadSize}.\\nItems: ${it.items}\")\n                    callback.onResult(it.itemsas MutableList&lt;Item&gt;)\n                }, {})\n    }\n}\n</code></pre>\n\n<p>And the view model:</p>\n\n<pre><code>  class ItemsViewModel @Inject internal constructor(\n        private val repository: ItemsMvp.Repository\n): ViewModel(), ItemsMvp.Model {\n\n    override fun items(categoryId: Long, keywords: String?): LiveData&lt;PagedList&lt;Item&gt;&gt; {\n        return repository.items(categoryId, keywords)\n    }\n}\n</code></pre>\n\n<p>And the repository layer:</p>\n\n<pre><code>class ItemsRepository @Inject internal constructor(\n        private val api: Api,\n) : ItemsMvp.Repository {\n\n    companion object {\n        const val DEFAULT_THREAD_POOL_SIZE = 5\n        const val DEFAULT_PAGE_SIZE = 20\n    }\n\n    private val networkExecutor = Executors.newFixedThreadPool(DEFAULT_THREAD_POOL_SIZE)\n    private val pagedListConfig = PagedList.Config.Builder()\n            .setEnablePlaceholders(false)\n            .setInitialLoadSizeHint(DEFAULT_PAGE_SIZE)\n            .setPageSize(DEFAULT_PAGE_SIZE)\n            .build()\n\n    override fun items(categoryId: Long, keywords: String?): LiveData&lt;PagedList&lt;Item&gt;&gt; {\n         val sourceFactory = ItemDataSourceFactory(api, networkExecutor)\n\n        // provide custom executor for network requests, otherwise it will default to\n        // Arch Components' IO pool which is also used for disk access\n        return LivePagedListBuilder(sourceFactory, pagedListConfig)\n                .setBackgroundThreadExecutor(networkExecutor)\n                .build()\n    }\n}\n</code></pre>\n\n<p>The issue is I'm not getting an update to the view after the first page is loaded.  </p>\n\n<p>I see this log from the onCreate():</p>\n\n<pre><code> Items updated []\n</code></pre>\n\n<p>but then after when the data source returns the items, I see these logs:</p>\n\n<pre><code>Page 1 loaded. Count 20.\nItems: [Item(....)]\n</code></pre>\n\n<p><strong>BUT</strong> I never see the view that's subscribing to the view model get an update to set the list on the adapter.  If you are curiousI'm using a PagedListAdapter.</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519751174, "post_id": 49002397, "comment_id": 85033035, "body": "The answer you linked to is the type of solution I mentioned in the question...workable but I was hoping for something built around <code>InputStream</code>.  I don&#39;t quite follow your response though, where&#39;s the decorator?  And it takes in an OutputStream, but I&#39;m not sure how to create an OutputStream to eventually get an InputStream to be used by other readers."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519751601, "post_id": 49002397, "comment_id": 85033302, "body": "@bbaldino Tee decorates other output streams. And that&#39;s correct, if you want to parse input - you have to create decorator over input steam and create listener interface"}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519752746, "post_id": 49002397, "comment_id": 85034028, "body": "Ok, I see what you mean by decorator.  I know how I can achieve this with the listener interface, but I wanted to know if there was a way such that the consumer can operate on it as an <code>InputStream</code> type, just like it would the original stream (as opposed to the listener interface)."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519755401, "post_id": 49002397, "comment_id": 85035547, "body": "@bbaldino won&#39;t it be easier for you to just open to simulationeuos input streams (i.e. in threads) and do all the dirty work there? Then just join threads? And of course it&#39;s not possible OOTB \u2014 what is read from stream can&#39;t be read again :)  There is always one more option \u2014 use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/Channels.html#newChannel(java.io.InputStream)\" rel=\"nofollow noreferrer\">Channels</a>. Read portion into ByteBuffer, do what you want with it and read more.  It&#39;s almost perfect because almost zero-overhead, but will need some custom code."}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519766479, "post_id": 49002397, "comment_id": 85041391, "body": "@asmodey unfortunately i don&#39;t think i can...the InputStream is pre-created (it comes from a <code>Process</code> instance).  I took a look at Channels but haven&#39;t figured out a way to get what I need yet.  Part of the problem is that since the InputStream is &quot;infinite&quot;, anything based on a byte array has some issues since, from what I&#39;ve seen, the readers coming from a byte-array make a copy and expect all the data to already be there."}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519766741, "post_id": 49002397, "comment_id": 85041497, "body": "@bbaldino no, they don&#39;t need full copy of data. All these pretty little things with channels work inside high performance servers. So no, you can get done data and write it where you want. And you can reuse bytebuffer infinitely"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1519713546, "last_edit_date": 1519713546, "creation_date": 1519712703, "answer_id": 49002397, "question_id": 49001318, "link": "https://stackoverflow.com/questions/49001318/tee-the-inputstream-from-a-launched-process-in-java-kotlin/49002397#49002397", "title": "Tee the InputStream from a launched process in Java/Kotlin", "body": "<p>Looks like simple decorator will be enough for you:</p>\n\n<pre><code>class Tee(private vararg val branches: OutputStream) : OutputStream() {\n    override fun write(b: Int) {\n        for (branch in branches) {\n            branch.write(b)\n        }\n    }\n\n    override fun write(b: ByteArray?) {\n        for (branch in branches) {\n            branch.write(b)\n        }\n    }\n\n    override fun write(b: ByteArray?, off: Int, len: Int) {\n        for (branch in branches) {\n            branch.write(b,off, len)\n        }\n    }\n\n    override fun flush() {\n        for (branch in branches) {\n            branch.flush()\n        }\n    }\n\n    override fun close() {\n        for (branch in branches) {\n            branch.close()\n        }\n    }\n}\n</code></pre>\n\n<p>And then you can just copy your input stream to Tee, which, underneath, can do anything \u2014 write to file, parse input and so on.</p>\n\n<p>If I understand correctly, you need to parse data line by line, so you can add one else implementation of output steam, which, in reality, will parse input data and do what you need.</p>\n\n<p>Also, please take a look at this <a href=\"https://stackoverflow.com/a/5034653/1160959\">answer</a>. Possibly it's what you need if you don't want to deal with multiple output streams.</p>\n\n<hr>\n\n<p>Also I think you can combine both technics to gain even more power \u2014 write to several output streams and parse data at te same time, for example.</p>\n"}, {"comments": [{"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 0, "creation_date": 1519751104, "post_id": 49007026, "comment_id": 85032990, "body": "I did look at the TeeInputStream from commons but actually thought it didn&#39;t meet my use case as it only appeared to be a single proxy for the original stream, but I hadn&#39;t realized the intention was to continue reading from the original one as well, so that&#39;s good to know!  But that takes in a pre-created OutputStream, and I wasn&#39;t sure how to create that to eventually get another InputStream.  I looked at PipedInput/OutputStream, but my understanding was <code>out.connect(in)</code> only gives you the direction of out -&gt; in, not in -&gt; out"}, {"owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "edited": false, "score": 1, "creation_date": 1519770487, "post_id": 49007026, "comment_id": 85043182, "body": "I looked closer at PipedInputStream/PipedOutputStream and this path ended up getting me where I needed.  Thanks @monkjack!"}], "tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 0, "last_activity_date": 1519729088, "creation_date": 1519729088, "answer_id": 49007026, "question_id": 49001318, "link": "https://stackoverflow.com/questions/49001318/tee-the-inputstream-from-a-launched-process-in-java-kotlin/49007026#49007026", "title": "Tee the InputStream from a launched process in Java/Kotlin", "body": "<p>Take a look at the <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/input/TeeInputStream.html\" rel=\"nofollow noreferrer\">org.apache.commons.io.output.TeeInputStream</a> from Apache Commons then you don't need to bother writing your own.</p>\n\n<pre><code>val pb = ProcessBuilder(\"/path/to/process\")\npb.redirectErrorStream(true)\nval proc = pb.start()\nval original = proc.inputStream\n\nval out = new PipedOutputStream()\nval in = new PipedInputStream()\nout.connect(in)\n\nval tee = new TeeInputStream(in, out)\n</code></pre>\n\n<p>Then just read from <code>tee</code> instead of <code>original</code>, and any bytes read will be also written to out. By using the Piped streams, the data written to out will be made available to be read via <code>in</code> and so now you can have two threads reading from <code>in</code> and <code>tee</code> independently. One thread writing to logs, and one thread monitoring lines.</p>\n"}], "owner": {"reputation": 354, "user_id": 2734014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8d8d5013103f2c0cd755404cd37c7eb?s=128&d=identicon&r=PG&f=1", "display_name": "bbaldino", "link": "https://stackoverflow.com/users/2734014/bbaldino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 49007026, "answer_count": 2, "score": 1, "last_activity_date": 1519779837, "creation_date": 1519706760, "last_edit_date": 1519779837, "question_id": 49001318, "link": "https://stackoverflow.com/questions/49001318/tee-the-inputstream-from-a-launched-process-in-java-kotlin", "title": "Tee the InputStream from a launched process in Java/Kotlin", "body": "<p>I'm launching a process using ProcessBuilder like so:</p>\n\n<pre><code>val pb = ProcessBuilder(\"/path/to/process\")\npb.redirectErrorStream(true)\nval proc = pb.start()\n</code></pre>\n\n<p>I'd like to do 2 things with the stdout of the process:</p>\n\n<ol>\n<li>Continually monitor its most recent line of output</li>\n<li>Log all lines to a file</li>\n</ol>\n\n<p>As far as I can tell, in order to do both of these things I'll need to \"split\" the InputStream I get from <code>proc.inputStream</code> so that every line is mirrored to 2 other InputStreams: one that can be used to log to a file, and another to parse and monitor the status of the process.</p>\n\n<p>One option would be to have a thread which reads from the InputStream fires an event with each line read to \"subscribers\", and I think this should work fine, but I was hoping to come up with a more generic \"Tee\" type functionality that would expose InputStreams to be consumed by whatever wanted to.  Basically something like this:</p>\n\n<pre><code>val pb = ProcessBuilder(\"/path/to/process\")\npb.redirectErrorStream(true)\nval proc = pb.start()\nval originalInputStream = proc.inputStream\n\nval tee = Tee(originalInputStream)\n// Every line read from originalInputStream would be \n// mirrored to all branches (not necessarily every line \n// from the beginning of the originalInputStream, but \n// since the start of the lifetime of the created branch)\nval branchOne: InputStream = tee.addBranch()\nval branchTwo: InputStream = tee.addBranch()\n</code></pre>\n\n<p>I took a shot at a <code>Tee</code> class, but I'm not sure what to do in the <code>addBranch</code> method:</p>\n\n<pre><code>class Tee(inputStream: InputStream) {\n    val reader = BufferedReader(InputStreamReader(inputStream))\n    val branches = mutableListOf&lt;OutputStream&gt;()\n\n    fun readLine() {\n        val line = reader.readLine()\n        branches.forEach {\n            it.write(line.toByteArray())\n        }\n    }\n\n    fun addBranch(): InputStream {\n        // What to do here?  Need to create an OutputStream\n        // which readLine can write to, but return an InputStream\n        // which will be updated with each future write to that\n        // OutputStream\n    }\n}\n</code></pre>\n\n<p>EDIT: The implementation of <code>Tee</code> I ended up with was as follows:</p>\n\n<pre><code>/**\n * Reads from the given [InputStream] and mirrors the read\n * data to all of the created 'branches' off of it.\n * All branches will 'receive' all data from the original\n * [InputStream] starting at the the point of\n * the branch's creation.\n * NOTE: This class will not read from the given [InputStream]\n * automatically, its [read] must be invoked\n * to read the data from the original stream and write it to\n * the branches\n */\nclass Tee(inputStream: InputStream) {\n    val reader = BufferedReader(InputStreamReader(inputStream))\n    var branches = CopyOnWriteArrayList&lt;OutputStream&gt;()\n\n    fun read() {\n        val c = reader.read()\n\n        branches.forEach {\n            // Recreate the carriage return so that readLine on the\n            // branched InputStreams works\n            it.write(c)\n        }\n    }\n\n    fun addBranch(): InputStream {\n        val outputStream = PipedOutputStream()\n        branches.add(outputStream)\n        return PipedInputStream(outputStream)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1519710437, "post_id": 49000960, "comment_id": 85008593, "body": "What is your JDK version? Please add output of <code>java -version</code> command."}, {"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "reply_to_user": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1519710761, "post_id": 49000960, "comment_id": 85008696, "body": "Got it.  Now I have updated the jdk.  java -version java version &quot;1.8.0_92&quot; Java(TM) SE Runtime Environment (build 1.8.0_92-b14) Java HotSpot(TM) 64-Bit Server VM (build 25.92-b14, mixed mode)  Works fine. Thanks @asm0dey"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1519711730, "post_id": 49000960, "comment_id": 85009018, "body": "Added answer, hope it helps."}], "answers": [{"comments": [{"owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519712604, "post_id": 49002195, "comment_id": 85009345, "body": "Thanks @asm0dey . I have updated my JDK.  Please let me know how to rebuild sample jar with your current version of JDK. Is there any comment?"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "edited": false, "score": 0, "creation_date": 1519712842, "post_id": 49002195, "comment_id": 85009439, "body": "If code is available to you \u2014 you can rebuild it, obviously :)"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1519711710, "creation_date": 1519711710, "answer_id": 49002195, "question_id": 49000960, "link": "https://stackoverflow.com/questions/49000960/java-lang-unsupportedclassversionerror-org-jetbrains-kotlin-preloading-preloade/49002195#49002195", "title": "java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/preloading/Preloader : Unsupported major.minor version 52.0 while compile kotlin", "body": "<p>JDK version which was used to build <code>sample.jar</code> is built with java version newr than one which you're using to compile kotlin file.\nYou have 2 ways:</p>\n\n<ol>\n<li>Rebuild sample jar with your current version of JDK</li>\n<li>Update JDK on your computer and try compiling again</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1557, "user_id": 10008183, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H2oBc1SH68A/AAAAAAAAAAI/AAAAAAAAAuw/w1z-RiIGsvs/photo.jpg?sz=128", "display_name": "Doilio Matsinhe", "link": "https://stackoverflow.com/users/10008183/doilio-matsinhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1543921163, "creation_date": 1543921163, "answer_id": 53611421, "question_id": 49000960, "link": "https://stackoverflow.com/questions/49000960/java-lang-unsupportedclassversionerror-org-jetbrains-kotlin-preloading-preloade/53611421#53611421", "title": "java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/preloading/Preloader : Unsupported major.minor version 52.0 while compile kotlin", "body": "<p>Install an updated of JDK, Go to File> Project Structure. Sele and select the newer JDK version.\nThen you'll be ready to go, </p>\n\n<p>cheers</p>\n"}], "owner": {"reputation": 1440, "user_id": 9395652, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1LCyW.jpg?s=128&g=1", "display_name": "esu", "link": "https://stackoverflow.com/users/9395652/esu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 0, "accepted_answer_id": 49002195, "answer_count": 2, "score": 0, "last_activity_date": 1543921163, "creation_date": 1519704494, "last_edit_date": 1519705375, "question_id": 49000960, "link": "https://stackoverflow.com/questions/49000960/java-lang-unsupportedclassversionerror-org-jetbrains-kotlin-preloading-preloade", "title": "java.lang.UnsupportedClassVersionError: org/jetbrains/kotlin/preloading/Preloader : Unsupported major.minor version 52.0 while compile kotlin", "body": "<p>I am beginner in <strong>Kotlin</strong>. I am getting the following exception while doing following:</p>\n\n<pre><code>kotlinc sample.kt -include-runtime -d sample.jar\n</code></pre>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsupportedClassVersionError:\n  org/jetbrains/kotlin/preloading/Preloader : Unsupported major.minor\n  version 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)</p>\n</blockquote>\n\n<p>Code </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){\n      var a : Int\n      a = getLength(\"Hello\")\n      println(\"length of word is $a\")\n  }\n\n  fun getLength(word : Any) : Int? {\n      if (word !is String) return null\n      return word.length\n  }\n</code></pre>\n\n<p>And kotlin version is <code>Kotlin version 1.2.21-release-88 (JRE 1.7.0_79-b15)</code></p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 3, "last_activity_date": 1519720661, "creation_date": 1519720661, "answer_id": 49004366, "question_id": 48999564, "link": "https://stackoverflow.com/questions/48999564/kotlin-wait-for-channel-isclosedforreceive/49004366#49004366", "title": "Kotlin wait for Channel.isClosedForReceive", "body": "<p>Let's assume that you process all your messages in some kind of an actor:</p>\n\n<pre><code>val channel = actor&lt;Message&gt; { ... }\n</code></pre>\n\n<p>The best way is to learn the last message that this actor processed is to create an explicit back channel to communicate this information. Since we need to communicate only one value just once we'd use <code>CompletableDeferred</code> this purpose:</p>\n\n<pre><code>val lastProcessed = CompletableDeferred&lt;Message?&gt;() \n</code></pre>\n\n<p>Now, you can write your message-processing actor in the following way:</p>\n\n<pre><code>val actor = actor&lt;Message&gt; {\n    var last: Message? = null\n    try {\n        for (msg in channel) {\n            // process message\n            last = msg\n        }\n    } finally {\n        // report the last processed message via back channel\n        lastProcessed.complete(last)\n    }\n}\n</code></pre>\n\n<p>Here is the code that closes the channel and learns the last processed message:</p>\n\n<pre><code>actor.close()\nval last = lastProcessed.await() // receive last processed message\n</code></pre>\n"}], "owner": {"reputation": 3159, "user_id": 672584, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8b4b453d41144d818148ca76ac56abfc?s=128&d=identicon&r=PG", "display_name": "Jake Walsh", "link": "https://stackoverflow.com/users/672584/jake-walsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 49004366, "answer_count": 1, "score": 0, "last_activity_date": 1519720661, "creation_date": 1519693398, "question_id": 48999564, "link": "https://stackoverflow.com/questions/48999564/kotlin-wait-for-channel-isclosedforreceive", "title": "Kotlin wait for Channel.isClosedForReceive", "body": "<p>After calling <code>Channel.close()</code> what is the best way to wait for <code>Channel.isClosedForReceive</code> to be true? </p>\n\n<p>I'm processing messages in order and would like to return the max message processed after calling <code>Channel.close()</code>. However, if I just take the max processed message after calling <code>close()</code> there may be some messages in the channel before the \"close token\" is consumed causing the real max processed message to be greater then the value returned.</p>\n\n<p>Based on the doc for <code>Channel.close()</code> I think Channel.isClosedForReceive is what I should be waiting for. But I was expecting some suspend function to wait, rather then having to poll its status.</p>\n\n<pre><code>/**\n * Immediately after invocation of this function\n * [isClosedForSend] starts returning `true`. However, [isClosedForReceive][ReceiveChannel.isClosedForReceive]\n * on the side of [ReceiveChannel] starts returning `true` only after all previously sent elements\n * are received.\n **/\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 20, "last_activity_date": 1519688968, "creation_date": 1519688968, "answer_id": 48998939, "question_id": 48998907, "link": "https://stackoverflow.com/questions/48998907/kotlin-only-getter-pulblic-private-setter/48998939#48998939", "title": "Kotlin only getter pulblic, private setter", "body": "<p>You can define the accessor without defining its body:</p>\n\n<pre><code>var score: Int = 0\n    private set\n</code></pre>\n\n<p>In this case the setter is private.</p>\n\n<p>From <a href=\"http://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>If you need to change the visibility of an accessor or to annotate it,\n  but don't need to change the default implementation, you can define\n  the accessor without defining its body:</p>\n\n<pre><code>var setterVisibility: String = \"abc\"\n    private set // the setter is private and has the default implementation\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 138, "user_id": 7642750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154119279975916/picture?type=large", "display_name": "Bruno", "link": "https://stackoverflow.com/users/7642750/bruno"}, "is_accepted": false, "score": 1, "last_activity_date": 1519689239, "creation_date": 1519689239, "answer_id": 48998976, "question_id": 48998907, "link": "https://stackoverflow.com/questions/48998907/kotlin-only-getter-pulblic-private-setter/48998976#48998976", "title": "Kotlin only getter pulblic, private setter", "body": "<p>You can use this syntax :</p>\n\n<pre><code>var setterVisibility: String = \"abc\" // Initializer required, not a nullable type\n    private set // the setter is private and has the default implementation\n</code></pre>\n\n<p>Please refer to the official <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Also it's a doublon with <a href=\"https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var\">this question</a></p>\n"}], "owner": {"reputation": 507, "user_id": 4583063, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8b72129a980fd415881a5dcfe1cd9ba?s=128&d=identicon&r=PG&f=1", "display_name": "Hyun I Kim", "link": "https://stackoverflow.com/users/4583063/hyun-i-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6630, "favorite_count": 0, "closed_date": 1519691865, "accepted_answer_id": 48998939, "answer_count": 2, "score": 8, "last_activity_date": 1519690675, "creation_date": 1519688783, "last_edit_date": 1519690675, "question_id": 48998907, "link": "https://stackoverflow.com/questions/48998907/kotlin-only-getter-pulblic-private-setter", "closed_reason": "Duplicate", "title": "Kotlin only getter pulblic, private setter", "body": "<p>I just started using Kotlin and found getters and setters very useful.</p>\n\n<p>I am wondering if Kotlin provides only getters public.</p>\n\n<p>It should not be <code>val</code> because it's value can be changed by it's class.</p>\n\n<p>What I've done to achieve this is as follows.</p>\n\n<pre><code>private var _score: Int=0\nval score: Int = _score\n   get() = _score\n</code></pre>\n\n<p>Using this way, I have to declare two variables.</p>\n\n<p>Is there any better way to only make getters public?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 931724, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5115cd1d4f59162373794a865f3b4a0b?s=128&d=identicon&r=PG", "display_name": "chntgomez", "link": "https://stackoverflow.com/users/931724/chntgomez"}, "edited": false, "score": 0, "creation_date": 1519687873, "post_id": 48998699, "comment_id": 85002909, "body": "This is what I was looking for! Thank you so much! I&#39;m relatively new to Kotlin and some folks recomended using <code>var dialog : Dialog? = null</code> but this is so elegant!"}], "tags": [], "owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "is_accepted": true, "score": 2, "last_activity_date": 1519687835, "last_edit_date": 1519687835, "creation_date": 1519687260, "answer_id": 48998699, "question_id": 48998631, "link": "https://stackoverflow.com/questions/48998631/handle-properties-in-oncreate-kotlin/48998699#48998699", "title": "Handle properties in onCreate() Kotlin", "body": "<p>this is a simple fix:</p>\n\n<pre><code> private lateinit var dialog: Dialog\n</code></pre>\n\n<p>then in the <code>onCreate(savedInstanceState: Bundle)</code> method:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle){\n   super.onCreate(saveInstanceState)\n\n   dialog = myDialogFactory.build(getApplicationCOntext, \"title\", \"Message\")\n}\n</code></pre>\n\n<p>you can read more <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Good Luck and Happy Coding!</p>\n"}], "owner": {"reputation": 1715, "user_id": 931724, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5115cd1d4f59162373794a865f3b4a0b?s=128&d=identicon&r=PG", "display_name": "chntgomez", "link": "https://stackoverflow.com/users/931724/chntgomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3121, "favorite_count": 0, "accepted_answer_id": 48998699, "answer_count": 1, "score": 0, "last_activity_date": 1519687835, "creation_date": 1519686858, "question_id": 48998631, "link": "https://stackoverflow.com/questions/48998631/handle-properties-in-oncreate-kotlin", "title": "Handle properties in onCreate() Kotlin", "body": "<p>I have the need of creating an object as a property in my Kotlin class like this in Java:</p>\n\n<pre><code>class MyActivity extends AppCompatActivity{\n    private Dialog myDialog;\n    //...\n</code></pre>\n\n<p>After the application context is ready, i can instanciate the <code>dialog</code> object</p>\n\n<pre><code>@Override\nvoid onCreate(...){\n//... super\ndialog = MyDialogFactory.build(getApplicationContext, \"Title\", \"Message\").show();\n</code></pre>\n\n<p>I know that in Kotlin the properties must be initializated or become abstract, therefore my Kotlin class looks like this:</p>\n\n<pre><code>class MyActivity : AppCompatActivity(){\n    private dialog = myDialogFactory.build(getApplicationCOntext, \"title\", \"Message\")\n//... \n</code></pre>\n\n<p>The below code will have a RuntimeException because the context of the application is not ready at this point. So i have to initialize this object in the <code>OnCreate</code> method but then, the object would be available only local (in the function).</p>\n\n<p>How can I solve this? I need the <code>dialog</code> object to become globally available in the class.</p>\n"}, {"tags": ["kotlin", "reactive-programming", "project-reactor", "gitlab-api"], "answers": [{"comments": [{"owner": {"reputation": 1652, "user_id": 1747457, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1ca7d8221a12a0eff4f04ea6d3caca1?s=128&d=identicon&r=PG&f=1", "display_name": "feob", "link": "https://stackoverflow.com/users/1747457/feob"}, "edited": false, "score": 0, "creation_date": 1519855381, "post_id": 49011461, "comment_id": 85084018, "body": "Thank you very much for the detailed answer! Your first suggestions solved the problem. I will also check out your alternative as well, comment on it and accept your answer then!"}, {"owner": {"reputation": 1652, "user_id": 1747457, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1ca7d8221a12a0eff4f04ea6d3caca1?s=128&d=identicon&r=PG&f=1", "display_name": "feob", "link": "https://stackoverflow.com/users/1747457/feob"}, "edited": false, "score": 0, "creation_date": 1521794744, "post_id": 49011461, "comment_id": 85892610, "body": "I tried implementing your other suggestion, but there are issues with variable scoping and braces don&#39;t match. I couldn&#39;t resolve it myself, can you please have another look?"}, {"owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "reply_to_user": {"reputation": 1652, "user_id": 1747457, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1ca7d8221a12a0eff4f04ea6d3caca1?s=128&d=identicon&r=PG&f=1", "display_name": "feob", "link": "https://stackoverflow.com/users/1747457/feob"}, "edited": false, "score": 0, "creation_date": 1521829151, "post_id": 49011461, "comment_id": 85915081, "body": "edited, should be better now provided you have a <code>client</code> variable in scope outside the function (like in your original snippet)"}], "tags": [], "owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1521829122, "last_edit_date": 1521829122, "creation_date": 1519742965, "answer_id": 49011461, "question_id": 48998178, "link": "https://stackoverflow.com/questions/48998178/paginated-gitlab-api-with-reactor-in-kotlin/49011461#49011461", "title": "Paginated Gitlab API with Reactor in Kotlin", "body": "<p>Source of the exception: your outer use of <code>commits</code> doesn't have a <code>onErrorResume</code> clause.\nSource of the endless loop: in abscence of an error in the inner <code>generate</code>, it will keep on looping, incrementing the <code>state</code> and concatenating an empty result.</p>\n\n<p>I'd take a different approach than generate though: range + concatMap + takeWhile.</p>\n\n<p>Something like this:</p>\n\n<pre><code>fun getCommits(fromCommit: String, toCommit: String): Iterable&lt;String&gt; =\n    Flux.range(1, 1000) //tune the second parameter\n            .concatMap { page -&gt; client\n                .get()\n                .uri(\"/projects/{name}/repository/commits?page=$page&amp;per_page=100\")\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToFlux&lt;GitLabCommit&gt;()\n                .doOnError({ LOGGER.warn(\"Could not retrieve commits for project '$name': ${it.message}\")})\n                .onErrorReturn(GitLabCommit(\"xxxxx\", \"Could not retrieve all commits for project '$name'\"))\n                .defaultIfEmpty(GitLabCommit(\"xxxxx\", \"Reached end of commit log.\"))\n                // ^ we now have marker commits in case of error or end of log\n            }\n            //use the marker commits to short-circuit the range\n            .takeWhile { !it.id.equals(\"xxxxx\") } //end condition to cancel the range loop, doesn't include the xxxxx commits\n            // The Gitlab API returns commits from newest to oldest\n            .skipWhile { !it.id.startsWith(toCommit) } //inclusive\n            .takeWhile { !it.id.startsWith(fromCommit) } //exclusive\n            .map { Commit(it.title, listOf(it.id), name) }\n            .toIterable()\n</code></pre>\n\n<p>We start from a range of up to 1000 pages, making a request for each page.</p>\n\n<p>That could result in extraneous requests (say, if by the 100th page we already receive an empty response, there will be no more pages). You almost fixed this issue though:</p>\n\n<p>We can use both <code>onErrorReturn</code> and <code>defaultIfEmpty</code> to create a marker commit that can then be used after the <code>concatMap</code> in a <code>takeWhile</code>.</p>\n\n<p>Once the additional <code>takeWhile</code> sees the first <code>xxxxx</code> commit, it will trigger a cancellation that will propagate to concatMap/range, resulting in the range stopping emitting page numbers and thus stopping making extraneous requests.</p>\n\n<p>Then you have your business logic <code>skipWhile</code>,<code>takeWhile</code> and <code>map</code>.</p>\n"}], "owner": {"reputation": 1652, "user_id": 1747457, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b1ca7d8221a12a0eff4f04ea6d3caca1?s=128&d=identicon&r=PG&f=1", "display_name": "feob", "link": "https://stackoverflow.com/users/1747457/feob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521829122, "creation_date": 1519684409, "question_id": 48998178, "link": "https://stackoverflow.com/questions/48998178/paginated-gitlab-api-with-reactor-in-kotlin", "title": "Paginated Gitlab API with Reactor in Kotlin", "body": "<p>I am working on a piece of Kotlin code that uses the reactor framework to implement calls to the Gitlab commits API.\nThe commits API is paginated. The function that I'm struggling with retrieves commits \"between\" two specified commit hashes.</p>\n\n<p>The function works fine as long as it can actually retrieve any commits, but fails if it can't find results. It then fails with\n<code>java.lang.RuntimeException: Reached end of commit log</code>.</p>\n\n<p>I tried replacing the line <code>.switchIfEmpty(Flux.error(RuntimeException(\"Reached end of commit log.\")))</code> with <code>.switchIfEmpty(Flux.empty())</code>, but that generates an endless loop.</p>\n\n<p>I don't quite grasp the nesting of multiple fluxes, which makes it hard for me to debug. I would very much appreciate any hints as to how to solve this problem.</p>\n\n<pre><code>fun getCommits(fromCommit: String, toCommit: String): Iterable&lt;Commit&gt; {\n    val commits = Flux.concat(Flux.generate&lt;Flux&lt;GitLabCommit&gt;, Int&gt;({ 1 }) { state, sink -&gt;\n        val page = client.get()\n                .uri(\"/projects/{name}/repository/commits?page=$state&amp;per_page=100\")\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToFlux&lt;GitLabCommit&gt;()\n                .doOnError({\n                    LOGGER.warn(\"Could not retrieve commits for project '$name': ${it.message}\")\n                    sink.next(Flux.just(GitLabCommit(\"xxxxx\", \"Could not retrieve all commits for project '$name'\")))\n                    sink.complete()\n                })\n                .onErrorReturn(GitLabCommit(\"xxxxx\", \"Could not retrieve all commits for project '$name'\"))\n                .switchIfEmpty(Flux.error(RuntimeException(\"Reached end of commit log.\")))\n\n        sink.next(page)\n        return@generate state + 1\n    })\n\n\n    return commits\n            // The Gitlab API returns commits from newest to oldest\n            .skipWhile { !it.id.startsWith(toCommit) } //inclusive\n            .takeWhile { !it.id.startsWith(fromCommit) } //exclusive\n            .map { Commit(it.title, listOf(it.id), name) }\n            .toIterable()\n}\n</code></pre>\n\n<p>Additional hints regarding the above code:</p>\n\n<p>This is the GitlabCommit class:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\nprivate data class GitLabCommit(val id: String, val title: String)\n</code></pre>\n\n<p>The <code>client</code> is a properly initialized instance of <code>org.springframework.web.reactive.function.client.WebClient.Builder</code>, that facilitates the token handling and URL encoding.</p>\n"}, {"tags": ["android", "parse-platform", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519772585, "post_id": 49016841, "comment_id": 85043952, "body": "So I would do another query to get the field in the relation? Even though I only need one field in the relation?"}, {"owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "reply_to_user": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519773259, "post_id": 49016841, "comment_id": 85044156, "body": "Relations are not able to be returned with query.include, regardless of how many fields you need from it. Looks like it, unfortunately."}, {"owner": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519835595, "post_id": 49016841, "comment_id": 85073369, "body": "they have this code sample in getting the parseobject relation  <a href=\"http://docs.parseplatform.org/android/guide/#relational-queries\" rel=\"nofollow noreferrer\">docs.parseplatform.org/android/guide/#relational-queries</a>  Its quite the same as I did and it was not working. So looks like nesting the query will be the solution?"}, {"owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "reply_to_user": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519840069, "post_id": 49016841, "comment_id": 85076178, "body": "&quot;Relational Query&quot; is different than &quot;Query including a Relation object&quot;. Relation objects work a bit differently than standard Parse objects, so the rules don&#39;t apply exactly the same. You could use the relational query, depending no your use, if there is a common id between a class and its Relation, and you just need the students from a single Class object. Or multiple of the students relations, using a query for classes, and then the query you actually run is on the Relation class using <code>matchesKeyInQuery</code> to match the classId.  But you can only get the relation or a class at a time."}, {"owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "reply_to_user": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519840143, "post_id": 49016841, "comment_id": 85076216, "body": "Instead of a single query to get all class objects, then an individual query for each class object (1 + n queries), you could do this in 2 queries by performing the Class query, then performing the matchesKeyInQuery Relation query when that returns. This may be your best bet. Still nested, but not iteratively querying, so it will have much better performance."}, {"owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "reply_to_user": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519840396, "post_id": 49016841, "comment_id": 85076348, "body": "I&#39;ve added an (incomplete) example.  You&#39;ll have to add the callbacks, as well as set up those classIds."}, {"owner": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "edited": false, "score": 0, "creation_date": 1519844183, "post_id": 49016841, "comment_id": 85078211, "body": "Thanks man. I think I&#39;ll just be nesting the query. I originally though that calling val students = object.getParseObject(&quot;students&quot;) during the done callback would let me access the relation object."}], "tags": [], "owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "is_accepted": true, "score": 0, "last_activity_date": 1519840364, "last_edit_date": 1519840364, "creation_date": 1519761028, "answer_id": 49016841, "question_id": 48997237, "link": "https://stackoverflow.com/questions/48997237/android-parse-query-includekey-not-returning-full-parseobject-details/49016841#49016841", "title": "Android - Parse Query .include(&quot;key&quot;) Not Returning Full ParseObject Details", "body": "<p>You can't include users from a relation like that.  See this issue on GitHub: <a href=\"https://github.com/parse-community/parse-server/issues/4138\" rel=\"nofollow noreferrer\">https://github.com/parse-community/parse-server/issues/4138</a></p>\n\n<p>The suggestion is to use <code>object.get(\"relationKey\").query().get()</code> (that's JS, will need to adapt by platform) on each individual object, or to use pointers if you need the include functionality.</p>\n\n<p>Edit: Example of what I discussed in comments below</p>\n\n<pre><code>val query: ParseQuery&lt;ParseObject&gt; = ParseQuery.getQuery(\"Class\")\n        query.findInBackground(object : FindCallback&lt;ParseObject&gt; {\n            override fun done(objects: MutableList&lt;ParseObject&gt;?, e: \n            ParseException?) {\n                if (e == null) {\n                    val relationQuery: ParseQuery&lt;ParseObject&gt; = ParseQuery.getQuery(\"Relation\")\n                    relationQuery.whereMatchesKeyInQuery(\"classId\", \"classId\", query);\n                    relationQuery.findInBackground(....)\n                } else {\n                    Log.wtf(\"Error\", e.localizedMessage)\n                }\n            }\n        })\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9415306, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ruld", "link": "https://stackoverflow.com/users/9415306/ruld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "accepted_answer_id": 49016841, "answer_count": 1, "score": 0, "last_activity_date": 1519840364, "creation_date": 1519679819, "last_edit_date": 1519682961, "question_id": 48997237, "link": "https://stackoverflow.com/questions/48997237/android-parse-query-includekey-not-returning-full-parseobject-details", "title": "Android - Parse Query .include(&quot;key&quot;) Not Returning Full ParseObject Details", "body": "<p>So Im working on an app that uses parse v1.16.6 .\nI wanted to include the relation \"students\" in the query from Class.</p>\n\n<p>Here is what my query looks like:</p>\n\n<pre><code>val query: ParseQuery&lt;ParseObject&gt; = ParseQuery.getQuery(\"Class\")\n        query.include(\"students\")\n        query.findInBackground(object : FindCallback&lt;ParseObject&gt; {\n            override fun done(objects: MutableList&lt;ParseObject&gt;?, e: \n            ParseException?) {\n                if (e == null) {\n\n                } else {\n                    Log.wtf(\"Error\", e.localizedMessage)\n                }\n            }\n        })\n}\n</code></pre>\n\n<p>This is taken from the interceptor and the \"students\" relation only returns this. Other fields in the students are not included.</p>\n\n<pre><code>\"students\":{\n\"__type\":\"Relation\",\n\"className\":\"Student\"\n}\n</code></pre>\n"}, {"tags": ["dependency-injection", "kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 1, "creation_date": 1519723653, "post_id": 48997521, "comment_id": 85014923, "body": "This is the correct answer. Null is not allowed by factories in Kodein."}], "tags": [], "owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "is_accepted": false, "score": 2, "last_activity_date": 1519681051, "creation_date": 1519681051, "answer_id": 48997521, "question_id": 48996945, "link": "https://stackoverflow.com/questions/48996945/is-there-way-to-create-a-factory-binding-in-kotlin-kodein-which-can-produce-nul/48997521#48997521", "title": "Is there way to create a factory binding in kotlin kodein, which can produce null?", "body": "<p>End up with <code>Optional</code>:</p>\n\n<pre><code>bind&lt;Optional&lt;String&gt;&gt; with factory { x: Int -&gt; \n    when (x) {\n        1 -&gt; Optional.of&lt;String&gt;(\"A\")\n        2 -&gt; Optional.of&lt;String&gt;(\"B\")\n        else -&gt; Optional.empty()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519722274, "creation_date": 1519678555, "last_edit_date": 1519722274, "question_id": 48996945, "link": "https://stackoverflow.com/questions/48996945/is-there-way-to-create-a-factory-binding-in-kotlin-kodein-which-can-produce-nul", "title": "Is there way to create a factory binding in kotlin kodein, which can produce null?", "body": "<p>Is there way to create a factory binding, which can produce null?</p>\n\n<p>For example, </p>\n\n<pre><code>bind&lt;String?&gt; with factory { x: Int -&gt; \n    when (x) {\n        1 -&gt; \"A\"\n        2 -&gt; \"B\"\n        else -&gt; null\n    }\n}\n</code></pre>\n\n<p>Unfortunately, <code>bind&lt;String?&gt;</code> gives error.</p>\n"}, {"tags": ["android", "exception", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 8811193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/keX40.png?s=128&g=1", "display_name": "John O Sullivan", "link": "https://stackoverflow.com/users/8811193/john-o-sullivan"}, "is_accepted": false, "score": 6, "last_activity_date": 1519678254, "creation_date": 1519678254, "answer_id": 48996870, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug/48996870#48996870", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>I needed to complete a rebuild of the app.\nThis is all it took to fix the issue.\nIt is working now.</p>\n"}, {"comments": [{"owner": {"reputation": 12606, "user_id": 2415293, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/daMab.jpg?s=128&g=1", "display_name": "php_nub_qq", "link": "https://stackoverflow.com/users/2415293/php-nub-qq"}, "edited": false, "score": 0, "creation_date": 1552997491, "post_id": 53568244, "comment_id": 97214166, "body": "You are a hero!"}, {"owner": {"reputation": 177, "user_id": 3563228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d16bbb8756215553bd002ea4fa1bcb9?s=128&d=identicon&r=PG", "display_name": "lucbonnin", "link": "https://stackoverflow.com/users/3563228/lucbonnin"}, "edited": false, "score": 1, "creation_date": 1554381137, "post_id": 53568244, "comment_id": 97736749, "body": "For ionic apps the &quot;cd android&quot;  become &quot;cd platforms/android&quot;. Then it works !"}, {"owner": {"reputation": 209, "user_id": 8536432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTqGl.png?s=128&g=1", "display_name": "Debasish Mondal", "link": "https://stackoverflow.com/users/8536432/debasish-mondal"}, "edited": false, "score": 0, "creation_date": 1602585661, "post_id": 53568244, "comment_id": 113760990, "body": "@Sajad Saderi can you help me with this please."}], "tags": [], "owner": {"reputation": 1997, "user_id": 9845404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--bMxCv1fMD4/AAAAAAAAAAI/AAAAAAAAAIE/XUvPye2hfY0/photo.jpg?sz=128", "display_name": "Sajad Saderi", "link": "https://stackoverflow.com/users/9845404/sajad-saderi"}, "is_accepted": true, "score": 12, "last_activity_date": 1543644485, "creation_date": 1543644485, "answer_id": 53568244, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug/53568244#53568244", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>just do this : </p>\n\n<p>in main project folder ,in terminal type </p>\n\n<pre><code>cd android\n</code></pre>\n\n<p>then type this</p>\n\n<pre><code>./gradlew clean\n</code></pre>\n\n<p>then build your app again </p>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 6304983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ffacfc141a8b4d032c243db30aaa7b1?s=128&d=identicon&r=PG&f=1", "display_name": "Svetlana Rozhkova", "link": "https://stackoverflow.com/users/6304983/svetlana-rozhkova"}, "is_accepted": false, "score": 1, "last_activity_date": 1544452483, "creation_date": 1544452483, "answer_id": 53707837, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug/53707837#53707837", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>I had a similar problem because Lombok plugin didn't work with new gradle. Just removed these lines:</p>\n\n<blockquote>\n<pre><code>compileOnly 'org.projectlombok:lombok:1.18.4'\nannotationProcessor 'org.projectlombok:lombok:1.18.4'\n</code></pre>\n</blockquote>\n\n<p>and the problem disappeared. </p>\n\n<p>Maybe you also have some kind of \"troubled\" plugin that doesn't get along with new gradle)</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 6477592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuwG4.jpg?s=128&g=1", "display_name": "Magudesh", "link": "https://stackoverflow.com/users/6477592/magudesh"}, "is_accepted": false, "score": 3, "last_activity_date": 1565353920, "creation_date": 1565353920, "answer_id": 57430148, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug/57430148#57430148", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>Delete .gradle file from your project folder then clean the project and Rebuild</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14891820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhGOnbZ4Ls4ruibgxrk2XRcer6K0GSqc38mIpGHjw=k-s128", "display_name": "Muhammad Ameen", "link": "https://stackoverflow.com/users/14891820/muhammad-ameen"}, "is_accepted": false, "score": 0, "last_activity_date": 1614483600, "creation_date": 1614483600, "answer_id": 66405596, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug/66405596#66405596", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>run this in npm\n$cd android</p>\n<p>than run\n$gradlew clean</p>\n<p>than run\n$cd ..</p>\n<p>and finally, run\n$npx react-native run-android</p>\n"}], "owner": {"reputation": 171, "user_id": 8811193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/keX40.png?s=128&g=1", "display_name": "John O Sullivan", "link": "https://stackoverflow.com/users/8811193/john-o-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15168, "favorite_count": 1, "accepted_answer_id": 53568244, "answer_count": 5, "score": 3, "last_activity_date": 1614483600, "creation_date": 1519677042, "question_id": 48996612, "link": "https://stackoverflow.com/questions/48996612/error-apptransformclasseswithdexbuilderfordebug", "title": "Error: app:transformClassesWithDexBuilderForDebug", "body": "<p>I have a class HillfortStore in this package:</p>\n\n<pre><code>package org.wit.hillforts.models\n</code></pre>\n\n<p>Messed up the package name in the class (missing the 's'):</p>\n\n<pre><code>package org.wit.hillforts.model\n</code></pre>\n\n<p>Imported class into other classes with wrong package name, it works just fine:</p>\n\n<pre><code>import org.wit.hillforts.model.HillfortStore\n</code></pre>\n\n<p>To clean things up I fix the name in the class and all classes its imported into. Now I'm getting this error.</p>\n\n<p>Error:Execution failed for task ':app:transformClassesWithDexBuilderForDebug'.</p>\n\n<blockquote>\n  <p>com.android.build.api.transform.TransformException: java.lang.IllegalStateException: Dex archives: setting .DEX extension only for .CLASS files</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1519677013, "creation_date": 1519677013, "answer_id": 48996605, "question_id": 48996119, "link": "https://stackoverflow.com/questions/48996119/glide-4-6-1-image-flicker-on-custom-transformation/48996605#48996605", "title": "Glide 4.6.1 image flicker on custom transformation", "body": "<p>The issue was in the line <code>pool.put(img)</code> turning into the following fixed the issue:</p>\n\n<pre><code>if (img != toTransform) {\n    pool.put(img)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1254, "user_id": 901973, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03657c015248a01e368762f6bd0f3e65?s=128&d=identicon&r=PG", "display_name": "thundertrick", "link": "https://stackoverflow.com/users/901973/thundertrick"}, "is_accepted": false, "score": 3, "last_activity_date": 1545212836, "creation_date": 1545212836, "answer_id": 53848486, "question_id": 48996119, "link": "https://stackoverflow.com/questions/48996119/glide-4-6-1-image-flicker-on-custom-transformation/53848486#53848486", "title": "Glide 4.6.1 image flicker on custom transformation", "body": "<p>My comment <a href=\"https://github.com/bumptech/glide/issues/2194#issuecomment-448509931\" rel=\"nofollow noreferrer\">here</a> might help.</p>\n\n<blockquote>\n  <p>I use placeholder to solve the flickering problem. dontTransform does\n  not work in my app. After search around the source code of Glide, I\n  find the problem might come from ImageViewTarget:</p>\n\n<pre><code>/**\n   * Sets the given {@link android.graphics.drawable.Drawable} on the view using {@link\n   * android.widget.ImageView#setImageDrawable(android.graphics.drawable.Drawable)}.\n   *\n   * @param placeholder {@inheritDoc}\n   */\n  @Override\n  public void onLoadStarted(@Nullable Drawable placeholder) {\n    super.onLoadStarted(placeholder);\n    setResourceInternal(null);\n    setDrawable(placeholder);\n  }\n</code></pre>\n  \n  <p>Thus if placeholder is null, ImageView will turn blank right after\n  every loading. So I cache the last image in the ImageView and set it\n  as placeholder for next loading. Here is the code</p>\n\n<pre><code>// init\nmGlideOpt = new RequestOptions().dontAnimate().skipMemoryCache(false);\nmGlideRB = Glide.with(imageView).asBitmap();\n\n// loading\nDrawable drawable = mImageView.getDrawable();\nif (drawable != null) {\n    mGlideOpt = mGlideOpt.placeholder(drawable);\n}\nmGlideRB.apply(mGlideOpt).load(mCacheFile).into(mImageView);\n</code></pre>\n  \n  <p>Just a work around. Hope it helps.</p>\n</blockquote>\n"}], "owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545212836, "creation_date": 1519674960, "last_edit_date": 1519678564, "question_id": 48996119, "link": "https://stackoverflow.com/questions/48996119/glide-4-6-1-image-flicker-on-custom-transformation", "title": "Glide 4.6.1 image flicker on custom transformation", "body": "<p>I have the following custom transformation (kotlin):</p>\n\n<pre><code>private class IconTransformation : BitmapTransformation() {\n    companion object {\n        private const val ID = \"com.example.widget.IconView\\$IconTransformation\"\n        private val ID_BYTES = ID.toByteArray()\n\n        private const val PAINT_FLAGS = Paint.DITHER_FLAG or Paint.FILTER_BITMAP_FLAG\n        private const val CIRCLE_CROP_PAINT_FLAGS = PAINT_FLAGS or Paint.ANTI_ALIAS_FLAG\n        private val CIRCLE_CROP_SHAPE_PAINT = Paint(CIRCLE_CROP_PAINT_FLAGS)\n        private val CIRCLE_CROP_BITMAP_PAINT = Paint(CIRCLE_CROP_PAINT_FLAGS).apply {\n            xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)\n        }\n        private val CLEAR_PAINT = Paint().apply {\n            xfermode = PorterDuffXfermode(PorterDuff.Mode.CLEAR)\n        }\n    }\n\n    override fun updateDiskCacheKey(messageDigest: MessageDigest) {\n        messageDigest.update(ID_BYTES)\n    }\n\n    override fun transform(pool: BitmapPool, toTransform: Bitmap, outWidth: Int,\n            outHeight: Int): Bitmap {\n        val img = TransformationUtils.fitCenter(pool, toTransform, outWidth, outHeight)\n        val result = pool.get(outWidth, outHeight, Bitmap.Config.ARGB_8888)\n        val left = (result.width - img.width) / 2f\n        val top = (result.height - img.height) / 2f\n        result.setHasAlpha(true)\n        Canvas(result).apply {\n            drawColor(Color.TRANSPARENT)\n            drawCircle(outWidth / 2f, outHeight / 2f,\n                    Math.min(outWidth, outHeight) / 2f, CIRCLE_CROP_SHAPE_PAINT)\n            drawBitmap(img, left, top, CIRCLE_CROP_BITMAP_PAINT)\n            if (left &gt; 0f) {\n                drawRect(0f, 0f, left, outHeight.toFloat(), CLEAR_PAINT)\n                drawRect(left + img.width - 1, 0f,\n                        outWidth.toFloat(), outHeight.toFloat(), CLEAR_PAINT)\n            }\n            if (top &gt; 0f) {\n                drawRect(0f, 0f, outWidth.toFloat(), top, CLEAR_PAINT)\n                drawRect(0f, top + img.height - 1,\n                        outWidth.toFloat(), outHeight.toFloat(), CLEAR_PAINT)\n            }\n        }\n        pool.put(img)\n        return result\n    }\n\n    override fun hashCode(): Int = ID.hashCode()\n\n    override fun equals(other: Any?): Boolean = other is IconTransformation\n}\n</code></pre>\n\n<p>When I use it like below inside a recycler view, the images flicker and bounce around. From everything I read it has to do with improperly implementing <code>updateDiskCacheKey</code>, <code>hashCode</code>, and <code>equals</code>. From AFAIK I followed the instructions in <code>BitmapTransformation</code> exactly.</p>\n\n<pre><code>    Glide.with(icon)\n            .load(url)\n            .apply(RequestOptions()\n                    .transform(IconTransformation())\n                    .error(errorDrawableRes))\n            .into(icon)\n</code></pre>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1519676344, "post_id": 48995661, "comment_id": 84998168, "body": "Why can&#39;t you make it? What error do you encounter?"}, {"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "reply_to_user": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1519681314, "post_id": 48995661, "comment_id": 85000581, "body": "I have no errors. The ability to edit just disappears as soon as I add <code>.cellFormat</code>"}], "answers": [{"tags": [], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "is_accepted": false, "score": 0, "last_activity_date": 1519684994, "creation_date": 1519684994, "answer_id": 48998310, "question_id": 48995661, "link": "https://stackoverflow.com/questions/48995661/makeeditable-doesnt-work-when-setting-cellformat/48998310#48998310", "title": "makeeditable doesnt work when setting cellFormat", "body": "<p>Ok I don't know why no answers, but I somehow managed to do it in Java thanks to 2013 Oracle tutorial <a href=\"https://docs.oracle.com/javafx/2/ui_controls/table-view.htm,and\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/ui_controls/table-view.htm,and</a> to Intellij autocompetion.\nNow I have to do that in Kotlin</p>\n\n<pre><code>Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cb = new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;()\n{\n    @Override\n    public TableCell&lt;Person, String&gt; call(TableColumn&lt;Person, String&gt; param) {\n\n\n        TextFieldTableCell res = new TextFieldTableCell&lt;Person, String&gt;(new DefaultStringConverter()) {\n            @Override\n            public void updateItem(String it, boolean empty) {\n                super.updateItem(it, empty);\n                if (it == null || empty) {\n                    setText(null);\n                    setStyle(\"\");\n                } else {\n                    setText(it);\n                    setStyle(\"-fx-background-color: red\");\n\n                }\n\n            }\n        };\n        System.out.println(\"callback called\");\n        return res;\n    }\n};\n\nyourColumn.setCellFactory(cb);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1519724336, "post_id": 49005230, "comment_id": 85015350, "body": "Thank you for help Edvin, and I really like your library:)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1519723648, "creation_date": 1519723648, "answer_id": 49005230, "question_id": 48995661, "link": "https://stackoverflow.com/questions/48995661/makeeditable-doesnt-work-when-setting-cellformat/49005230#49005230", "title": "makeeditable doesnt work when setting cellFormat", "body": "<p><code>cellFormat</code> will replace the <code>CellFactory</code> installed when you call <code>makeEditable()</code>, so they are in direct competition with each other. For that reason, TornadoFX provides <code>cellDecorator</code>, which keeps the existing <code>CellFactory</code>:</p>\n\n<pre><code>column(\"First Name\", Customer::firstNameProperty) {\n    makeEditable()\n    cellDecorator {\n        style {\n            fontWeight = FontWeight.BOLD\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 49005230, "answer_count": 2, "score": 3, "last_activity_date": 1519723648, "creation_date": 1519672997, "last_edit_date": 1519685118, "question_id": 48995661, "link": "https://stackoverflow.com/questions/48995661/makeeditable-doesnt-work-when-setting-cellformat", "title": "makeeditable doesnt work when setting cellFormat", "body": "<p>I have a table as follows:</p>\n\n<pre><code>with(myTable)\n{\n    enableCellEditing()\n    columnResizePolicy = SmartResize.POLICY\n    isEditable = true\n    column(\"Issue Date\", TradeEntity::issueDate).makeEditable().cellFormat { tc -&gt;\n        style { if (tc.dayOfMonth==10) backgroundColor += Color.ORANGE }\n        text = tc.toString()\n    }\n</code></pre>\n\n<p>I cannot make this editable AND having a style.\nIt's either I have a style, either it's editable...\nAny help?</p>\n\n<p><strong>EDIT</strong> Solved, at least in Java, I guess it's all because I didn't call <code>super.updateItem(it,empty)</code> in Kotlin</p>\n"}, {"tags": ["java", "kotlin", "processbuilder"], "answers": [{"comments": [{"owner": {"reputation": 741, "user_id": 3569471, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9139a126d3b268b1c52c5cc438a57f85?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3569471/alex"}, "edited": false, "score": 0, "creation_date": 1519688886, "post_id": 48993959, "comment_id": 85003180, "body": "Good thought! I can&#39;t belive I missed this. But unfortunately, it does not solve the problem. I&#39;ll update the code example with flush()."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1519666227, "creation_date": 1519666227, "answer_id": 48993959, "question_id": 48993818, "link": "https://stackoverflow.com/questions/48993818/java-processbuilder-does-not-write-line-breaks/48993959#48993959", "title": "Java ProcessBuilder does not write line breaks", "body": "<p>You need to flush the writer after you write the line to it, by calling the <code>flush()</code> method.</p>\n"}], "owner": {"reputation": 741, "user_id": 3569471, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9139a126d3b268b1c52c5cc438a57f85?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3569471/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519726111, "creation_date": 1519665676, "last_edit_date": 1519726111, "question_id": 48993818, "link": "https://stackoverflow.com/questions/48993818/java-processbuilder-does-not-write-line-breaks", "title": "Java ProcessBuilder does not write line breaks", "body": "<p>I am running this (kotlin-)code: </p>\n\n<pre><code>val proc = ProcessBuilder(\"sed\", \"s/bla/blub/g\").start()\nval reader = BufferedReader(InputStreamReader(proc.inputStream))\nval writer = proc.outputStream!!\n\nwriter.write(\"bla\\n\".toByteArray(Charset.defaultCharset()))\nwriter.flush()\n// writer.close()\nprintln(reader.readLine())\n\nwriter.write(\"blaa\\n\".toByteArray(Charset.defaultCharset()))\nwriter.flush()\nprintln(reader.readLine())\n</code></pre>\n\n<p>I was expecting that this prints 'blub\\nbluba\\n', because I write 'bla\\nblaa\\n' to the stdin of sed, and sed is set to replace 'bla' with 'blub'. Instead, it does not terminate. </p>\n\n<p>The problem seems to be that sed never writes anything, that is, the BufferedReader blocks on the first invocation of <code>readLine()</code>. </p>\n\n<p>I think that the line break does not go through. Sed processes inputs line by line, so I guess the line never ends and sed never outputs anything. If I comment in the <code>writer.close()</code>, sed prints 'blub\\n'. However, I obviously can not do the second write after a <code>close()</code>. </p>\n\n<p>On the terminal, I can force sed to process stuff with no line break in the end by pressing Ctrl-D, and I don't have to do this if there is a line break. Why is this not working with the process builder?</p>\n\n<p>UPDATE: </p>\n\n<p>I replaced sed with my own program:</p>\n\n<pre><code>int main(int argc, char **argv) {\n  while(1) {\n    printf(\"Write something: \\n\");\n    fflush(stdout);\n    char *s = malloc(sizeof(char)*20);\n    scanf(\"%s\", s);\n    printf(\"I got: %s\\n\", s);\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Obviously, this does not replace bla with blub, but reading and writing works. It does not work any more as soon as I remove the <code>fflush(stdout)</code>. This is strange, because printing a new line should already flush stdout. However, I guess sed does not do an additional flush either. \nCan anyone explain what is going on here?</p>\n"}, {"tags": ["java", "kotlin", "spring-data", "spring-data-rest", "bean-validation"], "answers": [{"tags": [], "owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "is_accepted": false, "score": 2, "last_activity_date": 1519668923, "creation_date": 1519668923, "answer_id": 48994652, "question_id": 48993437, "link": "https://stackoverflow.com/questions/48993437/pojo-validation-works-poko-kotlin-doesnt-why/48994652#48994652", "title": "Pojo validation works. Poko (kotlin) doesn&#39;t. Why?", "body": "<p>In <code>data class A(@Email val email: String)</code>, the annotation is applied to the constructor parameter by default. In other words it's equivalent to:</p>\n\n<pre><code>class A{\n  public A(@Email String email) { ... }\n}\n</code></pre>\n\n<p>In your case you want the annotation to be applied to the field, so you need to write:</p>\n\n<pre><code>data class A(@field:Email val email: String)\n</code></pre>\n\n<p>More about annotations in <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"}], "owner": {"reputation": 3871, "user_id": 889053, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/3e26b08aa9c9bff40d6dab7b98680bf4?s=128&d=identicon&r=PG", "display_name": "Christian Bongiorno", "link": "https://stackoverflow.com/users/889053/christian-bongiorno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519668923, "creation_date": 1519664286, "question_id": 48993437, "link": "https://stackoverflow.com/questions/48993437/pojo-validation-works-poko-kotlin-doesnt-why", "title": "Pojo validation works. Poko (kotlin) doesn&#39;t. Why?", "body": "<p>I have a POJO and have JSR validation enabled.</p>\n\n<p>For demonstration reasons I have completely reimplemented an entire project as Kotlin and I would like to demonstrate the validation aspect. Except, in Kotlin it simply doesn't work and it's not obvious why. Can someone explain what I am missing?</p>\n\n<p>Java to enable validation:</p>\n\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic static class ValidationConfiguration extends RepositoryRestConfigurerAdapter {\n\n    private final Validator jsr303Validator;\n\n    @Override\n    public void configureValidatingRepositoryEventListener(ValidatingRepositoryEventListener validatingListener) {\n        //bean validation always before save and create\n        validatingListener.addValidator(\"beforeCreate\", jsr303Validator);\n        validatingListener.addValidator(\"beforeSave\", jsr303Validator);\n\n    }\n\n\n}\n</code></pre>\n\n<p>POJO:</p>\n\n<pre><code>@Getter\n@EqualsAndHashCode\n@Entity\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Employee implements Identifiable&lt;Long&gt;{\n\n\n    @NotNull\n    @Pattern(regexp = \"[A-Za-z0-9]+\")\n    @Size(min = 2, max = 32)\n    private String name;\n\n    @Email\n    @NotNull\n    private String email;\n\n    @NotNull\n    @PastOrPresent\n    private LocalDate hireDate = LocalDate.now();\n\n    @OneToMany(mappedBy = \"employee\", cascade = CascadeType.ALL)\n    private List&lt;Form&gt; forms = Collections.emptyList();\n\n    @OneToMany(mappedBy = \"employee\", cascade = CascadeType.ALL)\n    private List&lt;Report&gt; reports = Collections.emptyList();\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    public Employee(String name, String email) {\n        this.name = name;\n        this.email = email;\n    }\n\n    public Employee(String name) {\n        this(name,name +\"@sterlingts.com\");\n    }\n}\n</code></pre>\n\n<p>Kotlin validation code:</p>\n\n<pre><code>@Configuration\n class ValidationConfiguration(private val jsr303Validator: Validator) : RepositoryRestConfigurerAdapter() {\n    override fun configureValidatingRepositoryEventListener(validatingListener: ValidatingRepositoryEventListener) {\n        //bean validation always before save and create\n        validatingListener.addValidator(\"beforeCreate\", jsr303Validator)\n        validatingListener.addValidator(\"beforeSave\", jsr303Validator)\n\n    }\n}\n</code></pre>\n\n<p>POKO:</p>\n\n<pre><code>@Entity\ndata class Employee(@Pattern(regexp = \"[A-Za-z0-9]+\")\n                    @Size(min = 6, max = 32)\n                    val name: String,\n                    @Email\n                    @NotNull\n                    val email: String?,\n                    @PastOrPresent\n                    val hireDate: LocalDate = LocalDate.now(),\n\n                    @OneToMany(mappedBy = \"employee\", cascade = [CascadeType.ALL])\n                    val forms:List&lt;Form&gt; = listOf(),\n                    @OneToMany(mappedBy = \"employee\", cascade = [CascadeType.ALL])\n                    val reports:List&lt;Report&gt; = listOf(),\n                    @Id @GeneratedValue( strategy =  GenerationType.IDENTITY) private val id: Long? = null): Identifiable&lt;Long&gt; {\n\n    override fun getId() = id\n\n    constructor(name:String): this(name,\"$name@sterlingts.com\")\n}\n</code></pre>\n\n<p>example:</p>\n\n<blockquote>\n  <p>POST /employees</p>\n</blockquote>\n\n<pre><code>{\n \"name\": \"christian\",\n \"email\": \"This is not an email\"\n}\n</code></pre>\n\n<p>result (java version as expected):</p>\n\n<pre><code>{\n  \"errors\": [\n    {\n      \"entity\": \"Employee\",\n      \"property\": \"email\",\n      \"invalidValue\": \"This is not an email\",\n      \"message\": \"must be a well-formed email address\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Now, as a Kotlin Poko:</p>\n\n<blockquote>\n  <p>POST /employees</p>\n</blockquote>\n\n<pre><code>{\n \"name\": \"christian\",\n \"email\": \"This is not an email\"\n}\n</code></pre>\n\n<p>result (201 Created):</p>\n\n<pre><code>{\n  \"name\" : \"christian\",\n  \"email\" : \"This is not an email\",\n  \"hireDate\" : \"2018-02-26\",\n  \"_links\" : {\n    \"self\" : {\n      \"href\" : \"http://localhost:8080/employees/19\"\n    },\n    \"employee\" : {\n      \"href\" : \"http://localhost:8080/employees/19\"\n    },\n    \"forms\" : {\n      \"href\" : \"http://localhost:8080/employees/19/forms\"\n    },\n    \"reports\" : {\n      \"href\" : \"http://localhost:8080/employees/19/reports\"\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4420, "user_id": 4851751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tOGRH.jpg?s=128&g=1", "display_name": "Doron Yakovlev-Golani", "link": "https://stackoverflow.com/users/4851751/doron-yakovlev-golani"}, "reply_to_user": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "edited": false, "score": 0, "creation_date": 1519676647, "post_id": 48993128, "comment_id": 84998305, "body": "What are you seeing?"}], "tags": [], "owner": {"reputation": 4420, "user_id": 4851751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tOGRH.jpg?s=128&g=1", "display_name": "Doron Yakovlev-Golani", "link": "https://stackoverflow.com/users/4851751/doron-yakovlev-golani"}, "is_accepted": false, "score": 1, "last_activity_date": 1519663309, "creation_date": 1519663309, "answer_id": 48993128, "question_id": 48992828, "link": "https://stackoverflow.com/questions/48992828/display-text-to-next-activity-kotlin/48993128#48993128", "title": "Display text to next activity kotlin", "body": "<p>The problem is in the way you get your values. Try this:</p>\n\n<pre><code>val playe1= intent.getStringExtra(\"player1\")\nval playe2= intent.getStringExtra(\"player2\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": true, "score": 0, "last_activity_date": 1519957561, "creation_date": 1519957561, "answer_id": 49061859, "question_id": 48992828, "link": "https://stackoverflow.com/questions/48992828/display-text-to-next-activity-kotlin/49061859#49061859", "title": "Display text to next activity kotlin", "body": "<p>Use a sharedpreferences, in your next activity after saving the values to a Val or var delete the shared preferences continue. </p>\n\n<p>It\u2019s not ideal but it just may get you to where you can at least interact with that data. </p>\n\n<p>I used this method for something similar last night. If I have time tonight I was going to post a how to on this on my website. If I can I\u2019ll swing by here and edit my answer.  With code and explanation unless you get it figured out by then. </p>\n"}], "owner": {"reputation": 33, "user_id": 9388183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fe61bae8b16be2179b0ada414e012fe?s=128&d=identicon&r=PG&f=1", "display_name": "YoungCodingStudent", "link": "https://stackoverflow.com/users/9388183/youngcodingstudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 49061859, "answer_count": 2, "score": 0, "last_activity_date": 1519957561, "creation_date": 1519662374, "question_id": 48992828, "link": "https://stackoverflow.com/questions/48992828/display-text-to-next-activity-kotlin", "title": "Display text to next activity kotlin", "body": "<p>I was looking for my problem on the internet, but the solutions given still do not work.\nHow to transfer data from first Activity to second?(plain text)</p>\n\n<p>MainActivity</p>\n\n<pre><code> btn.setOnClickListener {\n        val player1= findViewById&lt;EditText&gt;(R.id.et1) as EditText\n        val player2= findViewById&lt;EditText&gt;(R.id.et2) as EditText\n\n        val intent1= Intent(this, MainActivity3::class.java).apply {\n            putExtra(\"player1\",player1.getText().toString())\n            putExtra(\"player2\",player2.getText().toString())\n        }\n        startActivity(intent1)\n    }\n</code></pre>\n\n<p>Second Activity</p>\n\n<pre><code>fun PlayGame(cellID:Int,buSelected:Button){\n\n    val playe1= intent.getStringExtra(EXTRA_MESSAGE)\n    val playe2= intent.getStringExtra(EXTRA_MESSAGE)\n\n    val textView2= findViewById&lt;TextView&gt;(R.id.textView2).apply{\n        text= playe1\n        text=playe2\n    }\n\n    if(ActivePlayer==1){\n        textView2.setText(\": $playe1\")\n        buSelected.text=\"0\"\n        buSelected.setBackgroundResource(R.color.blue)\n        player1.add(cellID)\n        ActivePlayer=2\n    }else{\n        textView2.setText(\": $playe2\")\n        buSelected.text=\"X\"\n        buSelected.setBackgroundResource(R.color.green)\n        player2.add(cellID)\n        ActivePlayer=1\n    }\n\n    buSelected.isEnabled=false\n    CheckWiner()\n}\n</code></pre>\n\n<p>I want the player's name from MainActivity goes to Second ;p </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519656369, "post_id": 48990630, "comment_id": 84986879, "body": "what thread are these lambdas executed on?"}, {"owner": {"reputation": 1344, "user_id": 5152755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wg3e0s-7yno/AAAAAAAAAAI/AAAAAAAAAeM/llWi7iqgJJs/photo.jpg?sz=128", "display_name": "Radu Topor", "link": "https://stackoverflow.com/users/5152755/radu-topor"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519656918, "post_id": 48990630, "comment_id": 84987232, "body": "@TimCastelijns Same UI thread"}], "answers": [{"comments": [{"owner": {"reputation": 1344, "user_id": 5152755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wg3e0s-7yno/AAAAAAAAAAI/AAAAAAAAAeM/llWi7iqgJJs/photo.jpg?sz=128", "display_name": "Radu Topor", "link": "https://stackoverflow.com/users/5152755/radu-topor"}, "edited": false, "score": 0, "creation_date": 1519656177, "post_id": 48990712, "comment_id": 84986731, "body": "You&#39;re right, but I remember doing this is Java without calling <code>requestLayout()</code> or <code>invalidate()</code> or anything, probably because there would have been other layout passes after setting the height, initiated by other children. At any rate, frustratingly, neither calling <code>requestLayout()</code>, <code>forceLayout()</code>, <code>invalidate()</code>, setting new LayoutParams, or any of these help. Thanks for pointing this out, I&#39;ll update the question."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 5, "last_activity_date": 1519655745, "last_edit_date": 1519655745, "creation_date": 1519655140, "answer_id": 48990712, "question_id": 48990630, "link": "https://stackoverflow.com/questions/48990630/why-does-setting-view-dimensions-asynchronously-not-work-in-kotlin/48990712#48990712", "title": "Why does setting view dimensions asynchronously not work in Kotlin?", "body": "<p>Changing height or width of <code>LayoutParams</code> doesn't impact its view. <code>LayoutParams</code> is simple value holder. To apply changes you have to call <code>requestLayout</code>:</p>\n\n<pre><code>myView.doOnLayout { \n    myView.layoutParams.height = 100\n    myView.requestLayout() \n}\n</code></pre>\n\n<p>Another way is reassignment of <code>layoutParams</code>:</p>\n\n<pre><code>myView.doOnLayout {\n    myView.layoutParams = myView.layoutParams.apply {\n        height = 100\n    }\n}\n</code></pre>\n\n<p>Your first example works probably because assignment is performed even before view is drawn.</p>\n"}], "owner": {"reputation": 1344, "user_id": 5152755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wg3e0s-7yno/AAAAAAAAAAI/AAAAAAAAAeM/llWi7iqgJJs/photo.jpg?sz=128", "display_name": "Radu Topor", "link": "https://stackoverflow.com/users/5152755/radu-topor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1309, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1519657552, "creation_date": 1519654835, "last_edit_date": 1519656649, "question_id": 48990630, "link": "https://stackoverflow.com/questions/48990630/why-does-setting-view-dimensions-asynchronously-not-work-in-kotlin", "title": "Why does setting view dimensions asynchronously not work in Kotlin?", "body": "<p>This works</p>\n\n<pre><code>myView.layoutParams = myView.layoutParams.apply { height = 100 }\n</code></pre>\n\n<p>But neither this (with android-ktx)</p>\n\n<pre><code>myView.doOnLayout {\n    myView.layoutParams = myView.layoutParams.apply { height = 100 }\n}\n</code></pre>\n\n<p>nor this</p>\n\n<pre><code>myView.viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n    override fun onGlobalLayout() {\n        myView.layoutParams = myView.layoutParams.apply { height = 100 }\n        myView.viewTreeObserver.removeOnGlobalLayoutListener(this)\n    }\n})\n</code></pre>\n\n<p>nor even this</p>\n\n<pre><code>postDelayed({\n    myView.layoutParams = myView.layoutParams.apply { height = 100 }\n}, 100)\n</code></pre>\n\n<p>works. Why?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519653850, "post_id": 48990199, "comment_id": 84985178, "body": "You shouldn&#39;t nest if else statements in function calls like that. Use elvis operator or extract the condition to a variable, for readability"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1519721611, "last_edit_date": 1519721611, "creation_date": 1519653663, "answer_id": 48990294, "question_id": 48990199, "link": "https://stackoverflow.com/questions/48990199/non-null-assert-is-needed-even-after-checking-is-not-null-in-kotlin/48990294#48990294", "title": "Non-null assert is needed even after checking is not null in kotlin", "body": "<p>This isn't a bug, <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\"><em>smart casting</em></a> does not work in such a situation. You can make use of the <a href=\"https://stackoverflow.com/a/48254829/8073652\">Elvis Operator</a> to fix the code to a better solution: </p>\n\n<pre><code>result.put(REGISTER_DATE, activityData.registerDate?.totalDays ?: -1)\n</code></pre>\n\n<p>The expression <code>activityData.registerDate?.totalDays</code> either evaluates to the value of <code>totalDays</code> or <code>null</code> in case any of the values accessed in the safe-operator chain also is <code>null</code>. If the expression evaluates to <code>null</code> the Elvis Operator will take care of providing your default value <code>-1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1519653792, "creation_date": 1519653792, "answer_id": 48990328, "question_id": 48990199, "link": "https://stackoverflow.com/questions/48990199/non-null-assert-is-needed-even-after-checking-is-not-null-in-kotlin/48990328#48990328", "title": "Non-null assert is needed even after checking is not null in kotlin", "body": "<blockquote>\n  <p>Is this a bug in Kotlin or is related to Android Studio?</p>\n</blockquote>\n\n<p>It is neither. <code>activity.registerDate</code> is a mutable nullable property of an object and as such it can (theoretically) be changed at any time, by another thread. The Kotlin compiler doesn't have enough knowledge to prove as an undisputable truth that the property's value won't change when you load it for the second time.</p>\n\n<p>The typical way to avoid this is to load the property just once, capturing it in a local variable. In the particular case you're showing, all you need is the Elvis operator:</p>\n\n<pre><code>activityData.registerDate?.totalDays ?: -1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 3, "last_activity_date": 1519653808, "creation_date": 1519653808, "answer_id": 48990332, "question_id": 48990199, "link": "https://stackoverflow.com/questions/48990199/non-null-assert-is-needed-even-after-checking-is-not-null-in-kotlin/48990332#48990332", "title": "Non-null assert is needed even after checking is not null in kotlin", "body": "<p>Probably you are checking mutable property (<code>var</code>). And due to possible concurrency issues Kotlin compiler doesn't perform smart cast to non-null value.</p>\n\n<p>By the way, there is another Kotlin way to do such checks:</p>\n\n<pre><code> result.put(REGISTER_DATE, activityData.registerDate?.totalDays ?: -1)\n</code></pre>\n"}], "owner": {"reputation": 1094, "user_id": 2524701, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/75703587f9b6e7baf40f6080a12a8da9?s=128&d=identicon&r=PG", "display_name": "mohammad", "link": "https://stackoverflow.com/users/2524701/mohammad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 48990328, "answer_count": 3, "score": 1, "last_activity_date": 1519721611, "creation_date": 1519653342, "question_id": 48990199, "link": "https://stackoverflow.com/questions/48990199/non-null-assert-is-needed-even-after-checking-is-not-null-in-kotlin", "title": "Non-null assert is needed even after checking is not null in kotlin", "body": "<p>I have this code in Kotlin in android studio:</p>\n\n<pre><code>result.put(REGISTER_DATE, if (activityData.registerDate == null) -1 else activityData.registerDate.totalDays)\n</code></pre>\n\n<p>As you can see I check registerDate is not null, but I have to put non-null assert after <code>activityData.registerDate</code> to eliminate null error:</p>\n\n<pre><code>result.put(REGISTER_DATE, if (activityData.registerDate == null) -1 else activityData.registerDate!!.totalDays)\n</code></pre>\n\n<p>Is this a bug in Kotlin or is related to Android Studio?</p>\n"}, {"tags": ["gradle", "kotlin", "bintray"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1519667942, "last_edit_date": 1519667942, "creation_date": 1519662872, "answer_id": 48992978, "question_id": 48989993, "link": "https://stackoverflow.com/questions/48989993/generate-jar-files-for-uploading-kotlin-lib-to-bintray-using-gradle/48992978#48992978", "title": "generate jar files for uploading kotlin lib to bintray using gradle", "body": "<p>As said in <a href=\"https://github.com/bintray/gradle-bintray-plugin#step-7-define-artifacts-to-be-uploaded-to-bintray\" rel=\"nofollow noreferrer\">the docs for the <code>com.jfrog.bintray</code> plugin</a>, one of the ways to point the plugin to the artifacts you want to publish is using the <code>maven-publish</code> plugin.</p>\n\n<p>This can be done as follows:</p>\n\n<pre><code>apply plugin: 'maven-publish'\n\npublishing {\n    publications {\n        publishToBintray(MavenPublication) {\n            from components.java // or use 'artifact jar'\n            artifact sourceJar // optional: adds the source JAR artifact\n        }\n    }\n}\n\nbintray {\n    publications = ['publishToBintray'] // use the name of the publication above\n}\n</code></pre>\n\n<p>Another way described in the page linked above is to use Gradle configurations.</p>\n"}], "owner": {"reputation": 1519, "user_id": 2972348, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6f9edd3f6213aca1c54edefed5796033?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Khare", "link": "https://stackoverflow.com/users/2972348/ishan-khare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1519667942, "creation_date": 1519652690, "question_id": 48989993, "link": "https://stackoverflow.com/questions/48989993/generate-jar-files-for-uploading-kotlin-lib-to-bintray-using-gradle", "title": "generate jar files for uploading kotlin lib to bintray using gradle", "body": "<p>I have the following <code>build.grade</code> configuration</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n\n    dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nplugins {\n    id \"org.jetbrains.kotlin.jvm\" version \"1.2.21\"\n    id \"com.jfrog.bintray\" version \"1.7.3\"\n}\n\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n}\n\nbintray {\n    user = 'ishankhare07'\n    key = '&lt;api_key&gt;'\n    pkg {\n        version {\n            name = 'v0.0.1'\n        }\n        repo = 'server'\n        name = 'server'\n        licenses = ['MIT']\n        vcsUrl = 'https://github.com/ishankhare07/kotlin-web-server'\n    }\n\n}\n\nsourceSets {\n    main.kotlin.srcDirs += \"./\"\n}\n</code></pre>\n\n<p>When I run <code>gradle uploadBintray</code> everything works fine but my repo on bintray ends up being an empty repository with no files. How to fix this?</p>\n\n<p>Also I've tried adding a <code>jar</code> task as follows</p>\n\n<pre><code>jar {                                                                                                                                                                                                           \n    from {                                                                                                                                                                                                  \n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }                                                                                                                          \n    }                                                                                                                                                                                                       \n} \n</code></pre>\n\n<p>When I run this task with <code>gradle jar</code> it runs successfully</p>\n\n<pre><code>BUILD SUCCESSFUL in 0s    \n2 actionable tasks: 2 up-to-date\n</code></pre>\n\n<p>But I guess I've to link this somehow to the <code>uploadBintray</code> task which i cannot figure out.</p>\n"}, {"tags": ["android", "intellij-idea", "kotlin", "jvm", "corda"], "comments": [{"owner": {"reputation": 2754, "user_id": 2172731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/73141092f6f3116a6e600b16d866e8ae?s=128&d=identicon&r=PG", "display_name": "Munish Chandel", "link": "https://stackoverflow.com/users/2172731/munish-chandel"}, "edited": false, "score": 7, "creation_date": 1540914285, "post_id": 48988778, "comment_id": 93034425, "body": "I was able to resolve this issue by adding this library to <code>build.gradle</code> dependencies { compile(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;) }"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "reply_to_user": {"reputation": 2754, "user_id": 2172731, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/73141092f6f3116a6e600b16d866e8ae?s=128&d=identicon&r=PG", "display_name": "Munish Chandel", "link": "https://stackoverflow.com/users/2172731/munish-chandel"}, "edited": false, "score": 2, "creation_date": 1567779422, "post_id": 48988778, "comment_id": 102077611, "body": "@MunishChandel That is not sufficient.  We must also do what the answer below suggests..."}, {"owner": {"reputation": 950, "user_id": 1941359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dffbd0bd86e324aff9d04907df88e8b?s=128&d=identicon&r=PG", "display_name": "AlexO", "link": "https://stackoverflow.com/users/1941359/alexo"}, "edited": false, "score": 0, "creation_date": 1606943241, "post_id": 48988778, "comment_id": 115120055, "body": "Had the same error when specifying jvmTarget = &quot;15&quot; on Linux but the same project was working on Windows, both on IntelliJ 2020.3. Changed to jvmTarget = &quot;14&quot; and it worked on both. In either case there were no errors from the command line, only in IntelliJ."}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 2569786, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/545650236/picture?type=large", "display_name": "Arsalan Khalid", "link": "https://stackoverflow.com/users/2569786/arsalan-khalid"}, "edited": false, "score": 8, "creation_date": 1521993578, "post_id": 48988779, "comment_id": 85958123, "body": "I have this setting fixed to 1.8 already, yet I still see this error when stepping through breakpoints. I primarily see this when hitting vault queries. Any further suggestions? It seems this target JVM bit doesn&#39;t fix it entirely."}, {"owner": {"reputation": 564, "user_id": 102469, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d4afd50cfcea89e71047e85c74a858df?s=128&d=identicon&r=PG", "display_name": "Anyul Rivas", "link": "https://stackoverflow.com/users/102469/anyul-rivas"}, "edited": false, "score": 43, "creation_date": 1532695435, "post_id": 48988779, "comment_id": 90083207, "body": "On your <b>Project Structure</b>, make sure you also change the <code>Target platform</code> to <b>JVM 1.8</b> on your <code>Kotlin</code> Facet under the <code>General</code> tab."}, {"owner": {"reputation": 304, "user_id": 925643, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/0c520830d38834cd68b8a1786ee1ccd2?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/925643/abhi"}, "edited": false, "score": 1, "creation_date": 1547324047, "post_id": 48988779, "comment_id": 95156772, "body": "Would you know the instructions to do the same on eclipse?"}, {"owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "edited": false, "score": 3, "creation_date": 1549813369, "post_id": 48988779, "comment_id": 96028926, "body": "And after Apply restart IDE."}, {"owner": {"reputation": 868, "user_id": 1295333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13a79d6225a02815f7fd219fa2c03e3e?s=128&d=identicon&r=PG", "display_name": "programaths", "link": "https://stackoverflow.com/users/1295333/programaths"}, "edited": false, "score": 8, "creation_date": 1550133735, "post_id": 48988779, "comment_id": 96160659, "body": "This error can appear if there is an <b>unresolved dependency</b>!"}, {"owner": {"reputation": 555, "user_id": 3566013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFqQr.jpg?s=128&g=1", "display_name": "qwertyfinger", "link": "https://stackoverflow.com/users/3566013/qwertyfinger"}, "edited": false, "score": 8, "creation_date": 1562159579, "post_id": 48988779, "comment_id": 100290644, "body": "For me the <code>Kotlin Compiler</code> settings were actually placed in <code>Other Settings</code> section."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 13, "creation_date": 1564947616, "post_id": 48988779, "comment_id": 101187099, "body": "If restarting after apply is not enough \u2192 Restart &amp; Invalidate caches."}, {"owner": {"reputation": 735, "user_id": 8454536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3j8F.jpg?s=128&g=1", "display_name": "Alessandro Mautone", "link": "https://stackoverflow.com/users/8454536/alessandro-mautone"}, "edited": false, "score": 5, "creation_date": 1568198846, "post_id": 48988779, "comment_id": 102196751, "body": "Unfortunately that doesn&#39;t work if you have multiple modules. In that case you need to add  ``` kotlinOptions {         jvmTarget = &quot;1.8&quot;     } ``` for every gradle in a module"}, {"owner": {"reputation": 162, "user_id": 5046642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ASAji1Hdci4/AAAAAAAAAAI/AAAAAAAAMq0/2xln0GaZtPg/photo.jpg?sz=128", "display_name": "Princeps Polycap", "link": "https://stackoverflow.com/users/5046642/princeps-polycap"}, "edited": false, "score": 1, "creation_date": 1574367604, "post_id": 48988779, "comment_id": 104218758, "body": "This answer worked for me:  <a href=\"https://stackoverflow.com/a/57586653/5046642\">stackoverflow.com/a/57586653/5046642</a>"}, {"owner": {"reputation": 1782, "user_id": 5750389, "user_type": "registered", "profile_image": "https://graph.facebook.com/908028102588999/picture?type=large", "display_name": "Elias Fazel", "link": "https://stackoverflow.com/users/5750389/elias-fazel"}, "edited": false, "score": 0, "creation_date": 1577761653, "post_id": 48988779, "comment_id": 105248093, "body": "You should go to Kotlin Compiler"}, {"owner": {"reputation": 719, "user_id": 6600056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d6be7dc910545ba3f0701e01865a81?s=128&d=identicon&r=PG&f=1", "display_name": "Rob ", "link": "https://stackoverflow.com/users/6600056/rob"}, "edited": false, "score": 0, "creation_date": 1580908500, "post_id": 48988779, "comment_id": 106251789, "body": "kotlinOptions {         jvmTarget = &quot;1.8&quot;     }"}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1584770242, "post_id": 48988779, "comment_id": 107544302, "body": "I do not see <code>General</code> Tab or <code>Build, Execution, Deployment</code> on Android Studio though."}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 1, "creation_date": 1587300152, "post_id": 48988779, "comment_id": 108451235, "body": "As others have said, it was already set to 1.8 in the settings. Adding <code>kotlinOptions { jvmTarget = &quot;1.8&quot; } </code> in the build.gradle (Module: app) fixed it."}, {"owner": {"reputation": 18913, "user_id": 7130820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eOH4yHyDgeU/AAAAAAAAAAI/AAAAAAAAAKs/P77SRUZBp0c/photo.jpg?sz=128", "display_name": "Andrey Turkovsky", "link": "https://stackoverflow.com/users/7130820/andrey-turkovsky"}, "edited": false, "score": 1, "creation_date": 1588067972, "post_id": 48988779, "comment_id": 108750896, "body": "Doesn&#39;t work for me. Solved my problem with <code>kotlinOptions</code>"}, {"owner": {"reputation": 183, "user_id": 3915563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1839de8bdfabd07de33eacd98f7f1b0?s=128&d=identicon&r=PG&f=1", "display_name": "matua", "link": "https://stackoverflow.com/users/3915563/matua"}, "edited": false, "score": 0, "creation_date": 1595428720, "post_id": 48988779, "comment_id": 111472095, "body": "The above did not help me. I had to add the below to Module gradle.build file: `  tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le).all {     sourceCompatibility = JavaVersion.VERSION_1_8     targetCompatibility = JavaVersion.VERSION_1_8      kotlinOptions {         jvmTarget = &#39;1.8&#39;         apiVersion = &#39;1.1&#39;         languageVersion = &#39;1.1&#39;     } } `  from here: <a href=\"https://stackoverflow.com/questions/44141076/compilekotlin-block-in-build-gradle-file-throws-error-could-not-find-method-com\" title=\"compilekotlin block in build gradle file throws error could not find method com\">stackoverflow.com/questions/44141076/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 276, "last_activity_date": 1563327809, "last_edit_date": 1563327809, "creation_date": 1519648902, "answer_id": 48988779, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/48988779#48988779", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>You can fix this issue as follows:</p>\n\n<ul>\n<li>Open the IntelliJ preferences</li>\n<li>Go to <code>Build, Execution, Deployment</code> > <code>Compiler</code> > <code>Kotlin Compiler</code> <strong>BUT</strong> <code>Other Settings</code> > <code>Kotlin compiler</code> if Android Studio > <code>3.4</code></li>\n<li>Change the <code>Target JVM version</code> to <code>1.8</code></li>\n<li>Click <code>Apply</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1161, "user_id": 2733184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d11907cca1dbc044662bca5a3a2d112?s=128&d=identicon&r=PG&f=1", "display_name": "hanzo2001", "link": "https://stackoverflow.com/users/2733184/hanzo2001"}, "edited": false, "score": 0, "creation_date": 1593538907, "post_id": 50976164, "comment_id": 110815340, "body": "After trying everything, yours was the only solution that worked for me"}], "tags": [], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "is_accepted": false, "score": 23, "last_activity_date": 1529609058, "creation_date": 1529609058, "answer_id": 50976164, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/50976164#50976164", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>As it is written in the <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"noreferrer\">using-maven</a> docs from the Kotlin website:</p>\n\n<p>You just have to put <code>&lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;</code> into the properties section of your pom.xml</p>\n"}, {"comments": [{"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "edited": false, "score": 24, "creation_date": 1543339288, "post_id": 50991772, "comment_id": 93879366, "body": "Or alternatively, in the Gradle Kotlin DSL: <code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le&gt; { kotlinOptions.jvmTarget = &quot;1.8&quot; }</code>"}, {"owner": {"reputation": 1794, "user_id": 250082, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ntOSz.jpg?s=128&g=1", "display_name": "ZeroDivide", "link": "https://stackoverflow.com/users/250082/zerodivide"}, "edited": false, "score": 0, "creation_date": 1551635991, "post_id": 50991772, "comment_id": 96703160, "body": "Any idea how to get this to work with <code>kotlin-android</code> plugin?"}, {"owner": {"reputation": 894, "user_id": 6239635, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zPmKsK3wdxo/AAAAAAAAAAI/AAAAAAAAADE/bkVlMoLC7nE/photo.jpg?sz=128", "display_name": "Mitch", "link": "https://stackoverflow.com/users/6239635/mitch"}, "edited": false, "score": 0, "creation_date": 1562017172, "post_id": 50991772, "comment_id": 100237358, "body": "Works without much hassle. I&#39;d recommend it"}, {"owner": {"reputation": 1980, "user_id": 170881, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/513d79940a586a121c7a740ffbc6efd7?s=128&d=identicon&r=PG", "display_name": "nils petersohn", "link": "https://stackoverflow.com/users/170881/nils-petersohn"}, "edited": false, "score": 0, "creation_date": 1562872964, "post_id": 50991772, "comment_id": 100526152, "body": "I had this in build.gradle, but somehow IDEA overwrote this setting. The Answer from Saeed worked for me."}, {"owner": {"reputation": 2599, "user_id": 4581287, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/uPq3y.jpg?s=128&g=1", "display_name": "Parag Kadam", "link": "https://stackoverflow.com/users/4581287/parag-kadam"}, "edited": false, "score": 1, "creation_date": 1570176442, "post_id": 50991772, "comment_id": 102838418, "body": "Do add this in your app-level Gradle&#39;s android {} section."}, {"owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "edited": false, "score": 1, "creation_date": 1578648080, "post_id": 50991772, "comment_id": 105514906, "body": "I get error &quot;A problem occurred evaluating script. &gt; Could not get unknown property &#39;org&#39; for project &#39;:subprojectName&#39; of type org.gradle.api.Project.&quot;"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1593436988, "post_id": 50991772, "comment_id": 110772790, "body": "@Amuthan, could you please include @ Parag Kadam&#39;s remark in your answer? it&#39;s essential"}], "tags": [], "owner": {"reputation": 1507, "user_id": 1241995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eH7iu.jpg?s=128&g=1", "display_name": "Amuthan", "link": "https://stackoverflow.com/users/1241995/amuthan"}, "is_accepted": false, "score": 139, "last_activity_date": 1529683362, "creation_date": 1529683362, "answer_id": 50991772, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/50991772#50991772", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>you should configure something like as follows in build.gradle</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7032, "user_id": 456568, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zJMQF.png?s=128&g=1", "display_name": "Aphex", "link": "https://stackoverflow.com/users/456568/aphex"}, "edited": false, "score": 3, "creation_date": 1544049390, "post_id": 53106619, "comment_id": 94143054, "body": "I can&#39;t find this or the &#39;facets&#39; section in Android Studio... \ud83e\udd14 I had to edit the app.iml manually. I set <code>&lt;configuration version=&quot;3&quot; platform=&quot;JVM 1.8&quot; useProjectSettings=&quot;false&quot;&gt;</code> to <code>true</code> and it worked. However, the file keeps changing back!"}, {"owner": {"reputation": 6942, "user_id": 205210, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a6526b459b20615378bf2bcdd6fb79d5?s=128&d=identicon&r=PG", "display_name": "Nicolas Guillaume", "link": "https://stackoverflow.com/users/205210/nicolas-guillaume"}, "reply_to_user": {"reputation": 7032, "user_id": 456568, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zJMQF.png?s=128&g=1", "display_name": "Aphex", "link": "https://stackoverflow.com/users/456568/aphex"}, "edited": false, "score": 1, "creation_date": 1549307115, "post_id": 53106619, "comment_id": 95847944, "body": "@Aphex It&#39;s actually under &quot;File&quot; &gt; &quot;Project Structure&quot; then under &quot;Project Settings&quot; &gt;  &quot;Facets&quot;, I had nothing there, so I cliked &quot;+&quot; &gt; &quot;Kotlin&quot; &gt; Select my project. That did it for me :)"}, {"owner": {"reputation": 4653, "user_id": 914587, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/WNFJV.png?s=128&g=1", "display_name": "Lou Morda", "link": "https://stackoverflow.com/users/914587/lou-morda"}, "edited": false, "score": 1, "creation_date": 1550075391, "post_id": 53106619, "comment_id": 96139482, "body": "This works for me, but being forced back to 1.6 every time I add to my build.gradle.kts file."}, {"owner": {"reputation": 6870, "user_id": 1041442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99d5dced06046bd68560dc8eb4caa61f?s=128&d=identicon&r=PG", "display_name": "Jilles van Gurp", "link": "https://stackoverflow.com/users/1041442/jilles-van-gurp"}, "edited": false, "score": 0, "creation_date": 1552400382, "post_id": 53106619, "comment_id": 96988870, "body": "Is there a way to have this configured and picked up from the gradle file? IMHO this being misconfigured is a bug in intellij."}], "tags": [], "owner": {"reputation": 8777, "user_id": 3682067, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a881ab25f87a2f5f6a91d18a3277bb1?s=128&d=identicon&r=PG", "display_name": "Saeed Masoumi", "link": "https://stackoverflow.com/users/3682067/saeed-masoumi"}, "is_accepted": false, "score": 63, "last_activity_date": 1556560103, "last_edit_date": 1556560103, "creation_date": 1541094321, "answer_id": 53106619, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/53106619#53106619", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>When the other solutions did not work for you (Changing JVM version on Compiler settings and adding <code>jvmTarget</code> into your <code>build.gradle</code>), because of your <code>.iml</code> files trying to force their configurations you can change the target platform from Project Settings.</p>\n\n<ul>\n<li>Open <code>File &gt; Project Structure</code></li>\n<li>Go to <code>Facets</code> under <code>Project Settings</code>\n\n<ul>\n<li>If it is empty then click on the small <code>+</code> button</li>\n</ul></li>\n<li>Click on your Kotlin module/modules</li>\n<li>Change the <code>Target Platform</code> to <code>JVM 1.8</code> (also it's better to check <code>Use project settings</code> option)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 4887314, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lq5D0UzVGBo/AAAAAAAAAAI/AAAAAAAAHsg/CG-ByHArkqs/photo.jpg?sz=128", "display_name": "Invest", "link": "https://stackoverflow.com/users/4887314/invest"}, "is_accepted": false, "score": 2, "last_activity_date": 1549982891, "creation_date": 1549982891, "answer_id": 54652708, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/54652708#54652708", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>If you use Eclipse assuming you downloaded the Kotlin plugin:</p>\n\n<p>Right click project -> Properties -> Kotlin Compiler -> Enable project specific settings -> JVM target version \"1.8\"</p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 1401494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ec4489433862cc7dc59c77c4f4de436?s=128&d=identicon&r=PG", "display_name": "Krames", "link": "https://stackoverflow.com/users/1401494/krames"}, "edited": false, "score": 1, "creation_date": 1562874432, "post_id": 56966473, "comment_id": 100526717, "body": "Thanks, this was the only solution that worked for me. I am using kts buiild files."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1566494038, "post_id": 56966473, "comment_id": 101683417, "body": "Thanks, this is also the solutions that worked for me. And much declarative this way.  <a href=\"https://stackoverflow.com/a/57041765/3763032\">stackoverflow.com/a/57041765/3763032</a> kevin also stated this, due to the smartcast in kotlin gradle files .kts it is available directly"}], "tags": [], "owner": {"reputation": 1962, "user_id": 1011185, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/73784895d01343f8b23d09388fd86ebe?s=128&d=identicon&r=PG", "display_name": "AdrianoCelentano", "link": "https://stackoverflow.com/users/1011185/adrianocelentano"}, "is_accepted": false, "score": 14, "last_activity_date": 1562747203, "creation_date": 1562747203, "answer_id": 56966473, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/56966473#56966473", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>For me the reason was this configuration in my build gradle was in some modules and in some it wasnt</p>\n\n<pre><code>android {  \n...      \nkotlinOptions {\n        val options = this as KotlinJvmOptions\n        options.jvmTarget = \"1.8\"\n    }\n...\nandroid {\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 291, "user_id": 3399299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb01c30c202539cd3995dc7177d58227?s=128&d=identicon&r=PG&f=1", "display_name": "user3399299", "link": "https://stackoverflow.com/users/3399299/user3399299"}, "edited": false, "score": 9, "creation_date": 1569653905, "post_id": 56996020, "comment_id": 102673656, "body": "As of this date and Android Studio v3.5 this is the only solution that worked, after trying all the rest. Strangely enough setting the same value in Settings &gt; Kotlin Compiler has no effect."}, {"owner": {"reputation": 1364, "user_id": 1749695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FQIJC.png?s=128&g=1", "display_name": "petter", "link": "https://stackoverflow.com/users/1749695/petter"}, "edited": false, "score": 93, "creation_date": 1572867219, "post_id": 56996020, "comment_id": 103682238, "body": "Just the <code>kotlinOptions { jvmTarget = &quot;1.8&quot; }</code> should suffice."}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "reply_to_user": {"reputation": 1364, "user_id": 1749695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FQIJC.png?s=128&g=1", "display_name": "petter", "link": "https://stackoverflow.com/users/1749695/petter"}, "edited": false, "score": 0, "creation_date": 1572971902, "post_id": 56996020, "comment_id": 103724757, "body": "@petter Some libraries need both options such as <code>okhttp3:logging-interceptor</code> to use <code>OkHttpClient.Builder().addInterceptor</code>"}, {"owner": {"reputation": 719, "user_id": 6600056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d6be7dc910545ba3f0701e01865a81?s=128&d=identicon&r=PG&f=1", "display_name": "Rob ", "link": "https://stackoverflow.com/users/6600056/rob"}, "edited": false, "score": 0, "creation_date": 1580908483, "post_id": 56996020, "comment_id": 106251773, "body": "kotlinOptions {         jvmTarget = &quot;1.8&quot;     }"}, {"owner": {"reputation": 2036, "user_id": 6510908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXaCN.jpg?s=128&g=1", "display_name": "B-GangsteR", "link": "https://stackoverflow.com/users/6510908/b-gangster"}, "edited": false, "score": 7, "creation_date": 1582391570, "post_id": 56996020, "comment_id": 106764940, "body": "Then should &quot;invalidate cache and restart&quot;"}, {"owner": {"reputation": 1704, "user_id": 3797630, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/zmier.jpg?s=128&g=1", "display_name": "Hitesh Dhamshaniya", "link": "https://stackoverflow.com/users/3797630/hitesh-dhamshaniya"}, "edited": false, "score": 1, "creation_date": 1584420500, "post_id": 56996020, "comment_id": 107424246, "body": "I had already define the compileOption but not kotlinOption after define kotlinOption error gone. Its work for me. Thanks for sharing."}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 1, "creation_date": 1589453680, "post_id": 56996020, "comment_id": 109303268, "body": "And what if this is not for android? Where do the <code>compileOptions</code> and <code>kotlinOptions</code> go?"}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "reply_to_user": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1589487244, "post_id": 56996020, "comment_id": 109322693, "body": "@PeterV.M&#248;rch What context are you referring to?"}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1589534879, "post_id": 56996020, "comment_id": 109338496, "body": "I&#39;m trying to include <a href=\"https://github.com/sksamuel/hoplite\" rel=\"nofollow noreferrer\">hoplite</a> in my &quot;normal&quot; Kotlin gradle/JVM build. When I do that, I get the error from the OP."}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "reply_to_user": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 0, "creation_date": 1589545175, "post_id": 56996020, "comment_id": 109343542, "body": "@PeterV.M&#248;rch What module is failing you?"}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "edited": false, "score": 1, "creation_date": 1589549294, "post_id": 56996020, "comment_id": 109345893, "body": "Thanks for your attempts to help me, @CORONELBraian. I figured it out - See my <a href=\"https://stackoverflow.com/a/61820429/345716\">answer</a>"}, {"owner": {"reputation": 1016, "user_id": 3590155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001211241573/picture?type=large", "display_name": "LeonardoSibela", "link": "https://stackoverflow.com/users/3590155/leonardosibela"}, "edited": false, "score": 0, "creation_date": 1596200352, "post_id": 56996020, "comment_id": 111743605, "body": "Why some people wrap this kotlinOptions { } inside a tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le).all { } ?"}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "reply_to_user": {"reputation": 1016, "user_id": 3590155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001211241573/picture?type=large", "display_name": "LeonardoSibela", "link": "https://stackoverflow.com/users/3590155/leonardosibela"}, "edited": false, "score": 0, "creation_date": 1596205404, "post_id": 56996020, "comment_id": 111746172, "body": "@LeonardoSibela In Gradle is that everything is executed against a Interface Project instance.  These are tasks executed in the global instance of gradle, that is, at the level of the project module. So this configuration loses sense modularization since it configures all the existing build.gradle in the project."}, {"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1602000131, "post_id": 56996020, "comment_id": 113578353, "body": "If you&#39;re trying to inline 1.8 bytecode in another Gradle module, you should also put this code in another module too (not just <code>app</code>)"}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "edited": false, "score": 0, "creation_date": 1602004000, "post_id": 56996020, "comment_id": 113580170, "body": "Of course, the scope of the gradle is for the module unless you run tasks on the global gradle instance."}], "tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 1474, "last_activity_date": 1581946695, "last_edit_date": 1581946695, "creation_date": 1562872918, "answer_id": 56996020, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/56996020#56996020", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<h2>app/build.gradle</h2>\n\n<pre><code>android {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\n    }\n}\n</code></pre>\n\n<p>GL</p>\n\n<p><a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"noreferrer\">Use Java 8 language features</a></p>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 5067435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f798da0a725772797e973dd01e1301?s=128&d=identicon&r=PG&f=1", "display_name": "11m0", "link": "https://stackoverflow.com/users/5067435/11m0"}, "edited": false, "score": 0, "creation_date": 1572038454, "post_id": 57041765, "comment_id": 103450142, "body": "Why do we need to cast <code>this</code> to <code>KotlinJvmOptions</code>. Isn&#39;t the <code>this</code> receiver in the <code>kotlinOptions</code> block already <code>KotlinJvmOptions</code>? Still it doesn&#39;t work for me without the cast"}, {"owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "reply_to_user": {"reputation": 176, "user_id": 5067435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f798da0a725772797e973dd01e1301?s=128&d=identicon&r=PG&f=1", "display_name": "11m0", "link": "https://stackoverflow.com/users/5067435/11m0"}, "edited": false, "score": 1, "creation_date": 1577974905, "post_id": 57041765, "comment_id": 105297544, "body": "@11m0, I think it&#39;s related to this issue: <a href=\"https://github.com/gradle/kotlin-dsl-samples/issues/1368\" rel=\"nofollow noreferrer\">github.com/gradle/kotlin-dsl-samples/issues/1368</a>"}, {"owner": {"reputation": 151, "user_id": 810636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbdd34dd4d43545e28e20a111540617d?s=128&d=identicon&r=PG", "display_name": "HDW", "link": "https://stackoverflow.com/users/810636/hdw"}, "edited": false, "score": 0, "creation_date": 1577975287, "post_id": 57041765, "comment_id": 105297726, "body": "When KotlinJvmOptions is not found, try using the full name &quot;org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptions&quot;."}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 12, "last_activity_date": 1563200410, "creation_date": 1563200410, "answer_id": 57041765, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57041765#57041765", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>For Gradle with Kotlin language (<code>*.gradle.kts</code> files), add this:</p>\n\n<pre><code>android {\n    [...]\n    kotlinOptions {\n        this as KotlinJvmOptions\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1402, "user_id": 1505493, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rvTS0.jpg?s=128&g=1", "display_name": "Karan Sharma", "link": "https://stackoverflow.com/users/1505493/karan-sharma"}, "edited": false, "score": 0, "creation_date": 1582199490, "post_id": 57203863, "comment_id": 106699381, "body": "only by adding manually, it worked for me. For some reason, android studio is really buggy and it does not consider changes applied unless we restart the ide by deleting all cache."}, {"owner": {"reputation": 193, "user_id": 3146806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2498e0da6ef85879de730f8f9651360d?s=128&d=identicon&r=PG&f=1", "display_name": "Reyhane Farshbaf", "link": "https://stackoverflow.com/users/3146806/reyhane-farshbaf"}, "edited": false, "score": 0, "creation_date": 1607628260, "post_id": 57203863, "comment_id": 115339546, "body": "Tnx, your solution worked for me, although I needed to restart android studio to make it reconfigure project!"}], "tags": [], "owner": {"reputation": 1189, "user_id": 4723178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8rtm.jpg?s=128&g=1", "display_name": "Muhammad Maqsood", "link": "https://stackoverflow.com/users/4723178/muhammad-maqsood"}, "is_accepted": false, "score": 33, "last_activity_date": 1564063314, "creation_date": 1564063314, "answer_id": 57203863, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57203863#57203863", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In Android Studio 4.3.2 adding through the below procedure is not working.</p>\n\n<ol>\n<li>Open the IntelliJ preferences</li>\n<li>Go to <strong>Build, Execution, Deployment</strong> > <strong>Compiler</strong> > <strong>Kotlin Compiler</strong> BUT Other Settings > Kotlin compiler if Android Studio > 3.4</li>\n<li>Change the <strong>Target JVM version</strong> to 1.8</li>\n<li>Click Apply</li>\n</ol>\n\n<p>The reason is, Android studio is unable to add the below code in the module level Gradle file. Please add it manually.</p>\n\n<pre><code>kotlinOptions {\n    jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Just for the addon, search <strong>Target JVM version</strong> in the android studio search. It will take you directly to the option.\n<a href=\"https://i.stack.imgur.com/VmxAo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VmxAo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 1054014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rEE.png?s=128&g=1", "display_name": "Hinotori", "link": "https://stackoverflow.com/users/1054014/hinotori"}, "is_accepted": false, "score": 3, "last_activity_date": 1566438557, "last_edit_date": 1566438557, "creation_date": 1566420333, "answer_id": 57598974, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57598974#57598974", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>If using Visual Studio Code** with Kotlin extension, go to the plugin management Crtl + Shift + x, type kotlin and click on manage (the little gear) >> Configure Extension Settings</p>\n\n<p>on Kotlin >> Compiler >> Jvm:Target - type the java version. In my situation just typed 1.8</p>\n\n<p>And then restart :-)</p>\n\n<p>** vscode or just 'code' for linux</p>\n"}, {"comments": [{"owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "edited": false, "score": 0, "creation_date": 1568635571, "post_id": 57839151, "comment_id": 102324849, "body": "Hey thanks for the answer, I had to do the 2nd step, and its working. Can you explain why it is needed?"}, {"owner": {"reputation": 435, "user_id": 10453249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a168ff07cfe6f69036ee368facdbe400?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Sharma", "link": "https://stackoverflow.com/users/10453249/vikas-sharma"}, "reply_to_user": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "edited": false, "score": 0, "creation_date": 1569346708, "post_id": 57839151, "comment_id": 102564964, "body": "you can find more details on this closed issue it&#39;s good to know [<a href=\"https://github.com/mikepenz/Android-Iconics/issues/454]\" rel=\"nofollow noreferrer\">github.com/mikepenz/Android-Iconics/issues/454]</a>"}, {"owner": {"reputation": 1776, "user_id": 6341943, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/wqhTp.png?s=128&g=1", "display_name": "hushed_voice", "link": "https://stackoverflow.com/users/6341943/hushed-voice"}, "edited": false, "score": 0, "creation_date": 1569408481, "post_id": 57839151, "comment_id": 102585369, "body": "That link is dead"}], "tags": [], "owner": {"reputation": 435, "user_id": 10453249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a168ff07cfe6f69036ee368facdbe400?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Sharma", "link": "https://stackoverflow.com/users/10453249/vikas-sharma"}, "is_accepted": false, "score": 16, "last_activity_date": 1567916608, "last_edit_date": 1567916608, "creation_date": 1567916301, "answer_id": 57839151, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57839151#57839151", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In my case, I solved this by following these two steps</p>\n\n<pre><code>1. Go to android studio preferences -&gt; other settings -&gt; kotlin compiler -&gt; set Target JVM version = 1.8 \n   if it doesn't work then go to the second option.\n\n2. In your module-level build.gradle file add \n   compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n        kotlinOptions {\n            jvmTarget = \"1.8\"\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 633, "user_id": 3529309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb12ae43cfc0025e7f755c7a4dc41cfd?s=128&d=identicon&r=PG&f=1", "display_name": "Bills", "link": "https://stackoverflow.com/users/3529309/bills"}, "is_accepted": false, "score": 2, "last_activity_date": 1568314399, "creation_date": 1568314399, "answer_id": 57912968, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57912968#57912968", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In my case <strong>File > Setting > Kotlin Compiler > Target JVM Version > 1.8</strong> </p>\n"}, {"tags": [], "owner": {"reputation": 931, "user_id": 4429472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/830c4684595c5ff0de0621e686c51345?s=128&d=identicon&r=PG&f=1", "display_name": "ZzZombo", "link": "https://stackoverflow.com/users/4429472/zzzombo"}, "is_accepted": false, "score": 1, "last_activity_date": 1568430335, "creation_date": 1568430335, "answer_id": 57932142, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57932142#57932142", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>For recent versions of Android Studio, if changing just the Kotlin Target VM version didn't work.</p>\n\n<p>File \u279e Project Structure \u279e Modules (<code>app</code>): set both \"Source Compatibility\" and \"Target Compatibility\" to \"1.8 (Java 8)\". Press \"OK\" and sync project with Gradle.</p>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 5938930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxzrN.jpg?s=128&g=1", "display_name": "Md Nehaluddin Haider", "link": "https://stackoverflow.com/users/5938930/md-nehaluddin-haider"}, "is_accepted": false, "score": 88, "last_activity_date": 1571113871, "last_edit_date": 1571113871, "creation_date": 1568705818, "answer_id": 57969464, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/57969464#57969464", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In my case, just changingTarget JVM Version like this:  File > Setting > Kotlin Compiler > Target JVM Version > 1.8 did not help. However, it does resolved compile time error. But failed at runtime.</p>\n\n<p>I also had to add following in app build.gradle file to make it work.</p>\n\n<pre><code> android {\n     // Other code here...\n     kotlinOptions {\n        jvmTarget = \"1.8\"\n     }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 5466486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rw7lg.jpg?s=128&g=1", "display_name": "Sanket Patel", "link": "https://stackoverflow.com/users/5466486/sanket-patel"}, "edited": false, "score": 0, "creation_date": 1579325159, "post_id": 59678769, "comment_id": 105736935, "body": "this would work too  by adding to gradle file --&gt; compileOptions {         sourceCompatibility = 1.8         targetCompatibility = 1.8     } kotlinOptions {         jvmTarget = &quot;1.8&quot;     }"}, {"owner": {"reputation": 1004, "user_id": 2912553, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1fecfc1d6a86c9be20722e1c6e0d427a?s=128&d=identicon&r=PG&f=1", "display_name": "momt99", "link": "https://stackoverflow.com/users/2912553/momt99"}, "edited": false, "score": 0, "creation_date": 1586709090, "post_id": 59678769, "comment_id": 108222042, "body": "interestingly, only your solution worked with my non-android module! thanks!"}], "tags": [], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "is_accepted": false, "score": 7, "last_activity_date": 1578648382, "creation_date": 1578648382, "answer_id": 59678769, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/59678769#59678769", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>in most cases this is enough:</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>if you have declared custom Gradle tasks like <code>integrationTest</code> for example, add a configuration for <code>compile&lt;YourTaskName&gt;Kotlin</code> as well:</p>\n\n<pre><code>compileIntegrationTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 7696305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d75274794cbf5bdebcc70158ce9875a?s=128&d=identicon&r=PG&f=1", "display_name": "mattie", "link": "https://stackoverflow.com/users/7696305/mattie"}, "is_accepted": false, "score": 6, "last_activity_date": 1580281477, "creation_date": 1580281477, "answer_id": 59961989, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/59961989#59961989", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>All answers here are using gradle but if someone like me ends up here and needs answer for maven:</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test/kotlin&lt;/testSourceDirectory&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>The change from jetbrains archetype for kotlin-jvm is the <code>&lt;configuration&gt;&lt;/configuration&gt;</code> specifying the jvmTarget. In my case 11</p>\n"}, {"comments": [{"owner": {"reputation": 564, "user_id": 1846917, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MiONZ.jpg?s=128&g=1", "display_name": "Irfandi D. Vendy", "link": "https://stackoverflow.com/users/1846917/irfandi-d-vendy"}, "edited": false, "score": 0, "creation_date": 1584437972, "post_id": 60034786, "comment_id": 107429702, "body": "confirmed that you need to do File -&gt; Sync project with Gradle files, then it works"}], "tags": [], "owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "is_accepted": false, "score": 27, "last_activity_date": 1580715580, "last_edit_date": 1580715580, "creation_date": 1580714786, "answer_id": 60034786, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60034786#60034786", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p><strong>Feb 2020</strong> <br/>\n<em>android 3.4+</em><br/>\nGo to File -> Settings -> Kotlin Compiler -> Target JVM Version > set to 1.8 and then make sure to do File -> Sync project with Gradle files<br/><br/>\nOr add this into <strong>build.gradle(module:app)</strong> in <strong>android</strong> block:<br/></p>\n\n<pre><code>kotlinOptions {\n           jvmTarget = \"1.8\"\n         }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "is_accepted": false, "score": 7, "last_activity_date": 1581837534, "creation_date": 1581837534, "answer_id": 60246275, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60246275#60246275", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>Setting <code>sourceCompatibility = JavaVersion.VERSION_1_8</code> enables desugaring, but it is currently unable to desugar all the Java 8 features that the Kotlin compiler uses.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k77tB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k77tB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Fix - Setting <code>kotlinOptions.jvmTarget to JavaVersion.VERSION_1_8</code> in the app module Gradle would fix the issue.</p>\n\n<blockquote>\n  <p>Use Java 8 language features:\n  <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"noreferrer\">https://developer.android.com/studio/write/java8-support</a></p>\n</blockquote>\n\n<pre><code>android {\n  ...\n  // Configure only for each module that uses Java 8\n  // language features (either in its source code or\n  // through dependencies).\n  compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n  // For Kotlin projects\n  kotlinOptions {\n    jvmTarget = \"1.8\"\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10404531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba57a6b11f2e40a36bed1fde4c57327?s=128&d=identicon&r=PG&f=1", "display_name": "malaquf", "link": "https://stackoverflow.com/users/10404531/malaquf"}, "is_accepted": false, "score": 0, "last_activity_date": 1582103027, "creation_date": 1582103027, "answer_id": 60296463, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60296463#60296463", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>Another hint for Eclipse users. After double checking the jvm target settings pointed out by other users, I still had the same problem, and that was caused by missing Kotlin Runtime Library. For eg, when creating a project with spring initializr, it is not added automatically. For adding it: <code>right click on your project -&gt; Build path -&gt; Add libraries... -&gt; User Library</code>, and simply add <code>org.jetbrains.kotlin.core.KOTLIN_CONTAINER</code></p>\n\n<p>Make sure you refresh your gradle project afterwards (<code>right click -&gt; Gradle -&gt; Refresh gradle project</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 240, "user_id": 4144487, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NyFLZfFfJ-M/AAAAAAAAAAI/AAAAAAAAA7A/2vHgOQMzU0k/photo.jpg?sz=128", "display_name": "Didi", "link": "https://stackoverflow.com/users/4144487/didi"}, "edited": false, "score": 0, "creation_date": 1589214850, "post_id": 60564828, "comment_id": 109198516, "body": "kotlinOptions {         jvmTarget = &quot;1.8&quot;     }  Didi the trick for me, thx"}], "tags": [], "owner": {"reputation": 1254, "user_id": 2470306, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/npcFw.jpg?s=128&g=1", "display_name": "Ara Badalyan", "link": "https://stackoverflow.com/users/2470306/ara-badalyan"}, "is_accepted": false, "score": 41, "last_activity_date": 1616324972, "last_edit_date": 1616324972, "creation_date": 1583500429, "answer_id": 60564828, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60564828#60564828", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In my case this code didn't work until I moved <code>apply plugin: 'kotlin-android'</code> from bottom to top.</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1584631741, "post_id": 60587240, "comment_id": 107501350, "body": "the easiest fix"}], "tags": [], "owner": {"reputation": 649, "user_id": 11764886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ecb317dd7f3f9dff08a257b3b48a83d?s=128&d=identicon&r=PG&f=1", "display_name": "Waldmann", "link": "https://stackoverflow.com/users/11764886/waldmann"}, "is_accepted": false, "score": 4, "last_activity_date": 1583668737, "creation_date": 1583668737, "answer_id": 60587240, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60587240#60587240", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>Nothing worked for me until I updated my kotlin plugin dependency.<br>\nTry this:<br>\n1. Invalidate cahce and restart.<br>\n2. Sync project (at least try to)<br>\n3. Go <strong>File</strong> -> <strong>Project Structure</strong> -> <strong>Suggestions</strong><br>\n4. If there is an update regarding Kotlin, update it.<br>\nHope it will help someone.</p>\n"}, {"tags": [], "owner": {"reputation": 2274, "user_id": 2249614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/of3Sx.png?s=128&g=1", "display_name": "Fabian Braun", "link": "https://stackoverflow.com/users/2249614/fabian-braun"}, "is_accepted": false, "score": 22, "last_activity_date": 1589809506, "last_edit_date": 1589809506, "creation_date": 1584097728, "answer_id": 60669387, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60669387#60669387", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>If you have many sourcesets/modules it can be cumbersome to configure the jvmTarget for each of them separately.</p>\n\n<p>You can configure the jvmTarget for all of them at once like so:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>This snippet can be used on top level of your gradle.build file</p>\n\n<p>After modifying the gradle file <code>Reimport All Gradle Imports</code>.\nTo check if it worked, open <code>Project Structure</code> and verify that IntelliJ correctly assigned <code>JVM 1.8</code> to all Kotlin-Modules. It should look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SdndZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SdndZ.png\" alt=\"project structure\"></a></p>\n\n<p>I would <strong>not</strong> recommend changing the platform directly in IntelliJ, because anyone else cloning your project for the first time is likely to face the same issue. Configuring it correctly in gradle has the advantage that IntelliJ is going to behave correctly for them right from the start.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 1821516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac632bf164327b504e443a91350064e?s=128&d=identicon&r=PG", "display_name": "ed3d", "link": "https://stackoverflow.com/users/1821516/ed3d"}, "is_accepted": false, "score": 1, "last_activity_date": 1585498280, "creation_date": 1585498280, "answer_id": 60917127, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/60917127#60917127", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>If you'r facing this message in a Spring Boot/Kotlin project, just set the property \"kotlin.compiler.jvmTarget\" to \"1.8\" in your pom.xml.</p>\n\n<pre><code>    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.3.70&lt;/kotlin.version&gt;\n        &lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;\n    &lt;/properties&gt;\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "is_accepted": false, "score": 4, "last_activity_date": 1589549233, "creation_date": 1589549233, "answer_id": 61820429, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/61820429#61820429", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>I'm using Kotlin and Gradle for normal JVM development, (not android) and this worked for me in <code>build.gradle</code>:</p>\n\n<pre><code>allprojects {\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {\n        kotlinOptions.jvmTarget = JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 4869227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X9iEj.jpg?s=128&g=1", "display_name": "ironman", "link": "https://stackoverflow.com/users/4869227/ironman"}, "is_accepted": false, "score": 6, "last_activity_date": 1590161001, "creation_date": 1590161001, "answer_id": 61958354, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/61958354#61958354", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>if you are in android project</p>\n\n<p>in your app's build.gradle\nunder android{}</p>\n\n<pre><code>android{\n//other configs...\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3093, "user_id": 2859957, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b637cd3bccf9798e67e0e97523f81ec3?s=128&d=identicon&r=PG&f=1", "display_name": "treesAreEverywhere", "link": "https://stackoverflow.com/users/2859957/treesareeverywhere"}, "edited": false, "score": 1, "creation_date": 1591279556, "post_id": 62193733, "comment_id": 110000802, "body": "Can you please share where exactly in the file you put this? And which version of the android plugin and gradle you are using?"}, {"owner": {"reputation": 61, "user_id": 11883716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL9kW.jpg?s=128&g=1", "display_name": "Briantical", "link": "https://stackoverflow.com/users/11883716/briantical"}, "reply_to_user": {"reputation": 3093, "user_id": 2859957, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b637cd3bccf9798e67e0e97523f81ec3?s=128&d=identicon&r=PG&f=1", "display_name": "treesAreEverywhere", "link": "https://stackoverflow.com/users/2859957/treesareeverywhere"}, "edited": false, "score": 0, "creation_date": 1591683172, "post_id": 62193733, "comment_id": 110140261, "body": "This is not an Android project. I am running Gradle 6.4."}], "tags": [], "owner": {"reputation": 61, "user_id": 11883716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GL9kW.jpg?s=128&g=1", "display_name": "Briantical", "link": "https://stackoverflow.com/users/11883716/briantical"}, "is_accepted": false, "score": 3, "last_activity_date": 1591270799, "creation_date": 1591270799, "answer_id": 62193733, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/62193733#62193733", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>Using the Kotlin Gradle DSL, this solved the issue for me. I added this to the build.gradle.kts.\nThis is in addition to the answer by <a href=\"https://stackoverflow.com/users/4620025/joel\">Joel</a></p>\n\n<pre><code>val compileKotlin: KotlinCompile by tasks\ncompileKotlin.kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8.toString()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 1708615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oVmDV.jpg?s=128&g=1", "display_name": "Naeem Mushtaq", "link": "https://stackoverflow.com/users/1708615/naeem-mushtaq"}, "edited": false, "score": 0, "creation_date": 1596121082, "post_id": 62208690, "comment_id": 111715687, "body": "Great Help, you saved my day too, Thanks"}], "tags": [], "owner": {"reputation": 470, "user_id": 5172204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ITYM9.jpg?s=128&g=1", "display_name": "Shoaib Mushtaq", "link": "https://stackoverflow.com/users/5172204/shoaib-mushtaq"}, "is_accepted": false, "score": 19, "last_activity_date": 1591334623, "creation_date": 1591334623, "answer_id": 62208690, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/62208690#62208690", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>In my case, jvmTarget was already set in <code>build.gradle</code> file as below.</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>But my issue was still there.\nFinally, it gets resolved after Changing Target JVM version from 1.6 to 1.8 in Preferences > Other Settings > Kotlin Compiler > Target JVM version. see attached picture,</p>\n\n<p><a href=\"https://i.stack.imgur.com/zonA2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zonA2.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1728, "user_id": 3686670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa88bab45f954da80e2c6ca1a59b8fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham Tater", "link": "https://stackoverflow.com/users/3686670/shubham-tater"}, "edited": false, "score": 1, "creation_date": 1593875634, "post_id": 62398445, "comment_id": 110932468, "body": "its working great can you please explain it, why we need to do this and whats its mean."}, {"owner": {"reputation": 361, "user_id": 2458337, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ea811a955ac7f2569d799acfea096165?s=128&d=identicon&r=PG", "display_name": "Antroid", "link": "https://stackoverflow.com/users/2458337/antroid"}, "edited": false, "score": 1, "creation_date": 1601166737, "post_id": 62398445, "comment_id": 113321133, "body": "it works, when my destination fragment was not able to accept  navArgs() and was complaining about inline bytecode built. My app gradle had compile options for source and target but i didnt have kotlinOptions. After i added Kotlin options and clean PRoject&gt; Rebuild Project. worked fine."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1604679300, "post_id": 62398445, "comment_id": 114429406, "body": "It doesn&#39;t differ from the top answer."}], "tags": [], "owner": {"reputation": 1906, "user_id": 5604117, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/3a84056939c7dc256d0bf052b5629f14?s=128&d=identicon&r=PG&f=1", "display_name": "D. Sergeev", "link": "https://stackoverflow.com/users/5604117/d-sergeev"}, "is_accepted": false, "score": 109, "last_activity_date": 1592262550, "creation_date": 1592262550, "answer_id": 62398445, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/62398445#62398445", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>please add this code to android section inside your app/build.gradle </p>\n\n<pre><code>compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 3134333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e2d4d2d99a0fa0e425e3c97c84de18a?s=128&d=identicon&r=PG", "display_name": "kigawas", "link": "https://stackoverflow.com/users/3134333/kigawas"}, "is_accepted": false, "score": 6, "last_activity_date": 1594881780, "creation_date": 1594881780, "answer_id": 62928990, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/62928990#62928990", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>You may need to set both <code>compileKotlin</code> and <code>compileTestKotlin</code>.\nThis works on gradle 6.5.1.</p>\n<pre><code>compileKotlin {\n    kotlinOptions {\n        languageVersion = &quot;1.2&quot;\n        apiVersion = &quot;1.2&quot;\n        jvmTarget = &quot;1.8&quot;\n        javaParameters = true   // Useful for reflection.\n    }\n}\n\ncompileTestKotlin {\n    kotlinOptions {\n        languageVersion = &quot;1.2&quot;\n        apiVersion = &quot;1.2&quot;\n        jvmTarget = &quot;1.8&quot;\n        javaParameters = true   // Useful for reflection.\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 7310823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gx8o7.png?s=128&g=1", "display_name": "\u041e\u043b\u0435\u0433 \u0421\u0443\u0445\u0438\u0445", "link": "https://stackoverflow.com/users/7310823/%d0%9e%d0%bb%d0%b5%d0%b3-%d0%a1%d1%83%d1%85%d0%b8%d1%85"}, "is_accepted": false, "score": 9, "last_activity_date": 1601901052, "creation_date": 1601901052, "answer_id": 64208659, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/64208659#64208659", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>The next solution helped me. Add to build.gradle</p>\n<pre><code> compileKotlin {\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\n}\n\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 9465530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d024bcec64183bda8de99cfc3c9995fe?s=128&d=identicon&r=PG", "display_name": "Costa", "link": "https://stackoverflow.com/users/9465530/costa"}, "is_accepted": false, "score": 19, "last_activity_date": 1601909767, "creation_date": 1601909767, "answer_id": 64211121, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/64211121#64211121", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>This helped my project to build, add this to module build.gradle file:</p>\n<pre><code>compileOptions {\n        sourceCompatibility 1.8\n        targetCompatibility 1.8\n    }\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n        kotlinOptions {\n            jvmTarget = &quot;1.8&quot;\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 442, "user_id": 1182768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3gjtm.jpg?s=128&g=1", "display_name": "Amin Bahiraei", "link": "https://stackoverflow.com/users/1182768/amin-bahiraei"}, "is_accepted": false, "score": 2, "last_activity_date": 1608559752, "last_edit_date": 1608559752, "creation_date": 1608548736, "answer_id": 65391637, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui/65391637#65391637", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>If non of the above answers don't work you can do this in kotlin dsl</p>\n<pre><code>android {\n...\n\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n        kotlinOptions {\n            jvmTarget = &quot;1.8&quot;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174198, "favorite_count": 84, "accepted_answer_id": 48988779, "answer_count": 32, "score": 707, "last_activity_date": 1616324972, "creation_date": 1519648902, "last_edit_date": 1595518621, "question_id": 48988778, "link": "https://stackoverflow.com/questions/48988778/cannot-inline-bytecode-built-with-jvm-target-1-8-into-bytecode-that-is-being-bui", "title": "Cannot inline bytecode built with JVM target 1.8 into bytecode that is being built with JVM target 1.6", "body": "<p>When trying to run the Example CorDapp (<a href=\"https://github.com/corda/cordapp-example\" rel=\"noreferrer\">GitHub CorDapp</a>) via IntelliJ, I receive the following error:</p>\n<blockquote>\n<p>Cannot inline bytecode built with JVM target 1.8 into bytecode that is\nbeing built with JVM target 1.6</p>\n</blockquote>\n<p>How can I modify the IntelliJ settings so that all the bytecode is built with the same JVM target?</p>\n"}, {"tags": ["android", "user-interface", "android-recyclerview", "kotlin", "visibility"], "comments": [{"owner": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "edited": false, "score": 0, "creation_date": 1519647392, "post_id": 48988294, "comment_id": 84981160, "body": "your want <code>recyclerView</code> item to be gone ?"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "reply_to_user": {"reputation": 2590, "user_id": 7835745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghPst.jpg?s=128&g=1", "display_name": "Abdul Kawee", "link": "https://stackoverflow.com/users/7835745/abdul-kawee"}, "edited": false, "score": 0, "creation_date": 1519647635, "post_id": 48988294, "comment_id": 84981308, "body": "Yes temporarily, but again if user changes gender then it should be visible again"}, {"owner": {"reputation": 718, "user_id": 6549856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e966f259e4b8499b260d3db2d8f34f9?s=128&d=identicon&r=PG", "display_name": "Chintak Patel", "link": "https://stackoverflow.com/users/6549856/chintak-patel"}, "edited": false, "score": 0, "creation_date": 1519647758, "post_id": 48988294, "comment_id": 84981406, "body": "Hello @SirajSumra, Can you please share your code here?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1519648111, "post_id": 48988294, "comment_id": 84981633, "body": "Why are you showing/hiding rows in your recyclerview.  Just show the relevant views for the data provided in your recyclerview?  When the data changes update the recyclerview to show your updated dataset. Filter the dataset, don&#39;t have view logic."}, {"owner": {"reputation": 7475, "user_id": 106941, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/RLYO0.jpg?s=128&g=1", "display_name": "MSpeed", "link": "https://stackoverflow.com/users/106941/mspeed"}, "edited": false, "score": 0, "creation_date": 1519652504, "post_id": 48988294, "comment_id": 84984340, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41223413/how-to-hide-an-item-from-recycler-view-on-a-particular-condition\">How to hide an item from Recycler View on a particular condition?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1519959062, "post_id": 49062050, "comment_id": 85129213, "body": "I can\u2019t upvote yet but mark keen nailed it in the comments. Your doing it backwards. The view even if removed is still taking up space in that position of the recyclerview. Update the data, they get new positions, you accomplish your wildest dreams."}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 1, "last_activity_date": 1519958916, "creation_date": 1519958916, "answer_id": 49062050, "question_id": 48988294, "link": "https://stackoverflow.com/questions/48988294/how-to-make-reyclerview-item-visible-and-gone-without-leaving-space-behind-kot/49062050#49062050", "title": "How to make reyclerview item visible and gone without leaving space behind - Kotlin?", "body": "<p>Modifying visibility from my understanding will leave a white space no matter what you do because the recyclerview is using essentially a prebuilt list and creates that space off of that. Now to accomplish this what I would do is on that gender click repopulate the recyclerview with new data that is queried to meet your needs. Similar to if you wanted a search bar that updated with every letter added. You update your recyclerview after modifying the data not the view itself. </p>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519958916, "creation_date": 1519647278, "last_edit_date": 1519647861, "question_id": 48988294, "link": "https://stackoverflow.com/questions/48988294/how-to-make-reyclerview-item-visible-and-gone-without-leaving-space-behind-kot", "title": "How to make reyclerview item visible and gone without leaving space behind - Kotlin?", "body": "<p>I am working on 1 functionality in which If selects Gender from one Recyclerview itemtype, The other recyclerview itemtype should be gone or set visible according to the flag in model object. Currently I used below approach:</p>\n\n<pre><code>if (genderSelected != genderPreference) {\n      holder.itemView.visibility = View.GONE\n} else {\n      holder.itemView.visibility = View.VISIBLE\n}\n</code></pre>\n\n<p>With this, the item is Going and again visible leaving white space behind on Gone.</p>\n\n<p>I want it to get removed temporarily without any space.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "estimote", "telemetry"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519650312, "post_id": 48987502, "comment_id": 84982977, "body": "I&#39;m not familiar with the framework you&#39;re using, but I&#39;m pretty sure that the code to update the textview needs to be inside the <code>withOnPacketFound</code> block."}, {"owner": {"reputation": 3, "user_id": 9412988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JZSqG9YRL8c/AAAAAAAAAAI/AAAAAAAAbag/a_XjNXjsC-4/photo.jpg?sz=128", "display_name": "Norbert", "link": "https://stackoverflow.com/users/9412988/norbert"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1519651560, "post_id": 48987502, "comment_id": 84983748, "body": "Worked like charm! I had to change only variable check into direct reference to the SDK (it.ambientLightInLux &gt; 6)"}], "owner": {"reputation": 3, "user_id": 9412988, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JZSqG9YRL8c/AAAAAAAAAAI/AAAAAAAAbag/a_XjNXjsC-4/photo.jpg?sz=128", "display_name": "Norbert", "link": "https://stackoverflow.com/users/9412988/norbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519659221, "creation_date": 1519644658, "last_edit_date": 1519659221, "question_id": 48987502, "link": "https://stackoverflow.com/questions/48987502/kotlin-read-variable-and-post-yes-or-no-answer", "title": "Kotlin read variable and post yes or no answer", "body": "<p>I use Java and Kotlin for personal projects with little experience and I might use your help with this one. What I am trying to do is to read telemetry data (temperature, pressure, light level) from Estimote beacon. I have already managed to put &amp; update values into textviews.</p>\n\n<p>Now I would like to get IF conditions at this point (later I will try to save &amp; upload them to Firebase database). Basically I want to check if one of the telemetry values is higher or less than Double number. Eg. if the light level is below 6 lux, write \"Less then 6!\", if more \"More than 6!\"</p>\n\n<pre><code>        val scanner = EstimoteBluetoothScannerFactory(applicationContext).getSimpleScanner()\n        val scanHandler = scanner.estimoteTelemetryFullScan()\n                .withBalancedPowerMode()\n                .withOnPacketFoundAction {\n                    var temperature: TextView = findViewById&lt;TextView&gt;(R.id.temperature)\n                    temperature.setText(\"Temperature: ${it.temperatureInCelsiusDegrees}\")\n                    var magnetometer: TextView = findViewById&lt;TextView&gt;(R.id.magnetometer)\n                    magnetometer.setText(\"Magnetometer: ${it.magnetometer}\")\n                    var pressure: TextView = findViewById&lt;TextView&gt;(R.id.pressure)\n                    pressure.setText(\"Pressure: ${it.pressure}\")\n                    var ambientLight: TextView = findViewById&lt;TextView&gt;(R.id.ambientLight)\n                    ambientLight.setText(\"Ambient Light: ${it.ambientLightInLux}\")\n                    var motionState: TextView = findViewById&lt;TextView&gt;(R.id.motionState)\n                    motionState.setText(\"Motion State: ${it.motionState}\")\n                }\n                .start()\n\n    if(ambientLight &gt; 6) {\n        var checkLight: TextView = findViewById&lt;TextView&gt;(R.id.checkLight)\n        checkLight.setText(\"More than 6!\")\n    }else{\n        var checkLight: TextView = findViewById&lt;TextView&gt;(R.id.checkLight)\n        checkLight.setText(\"Less than 6!\")\n    }\n</code></pre>\n\n<p>This code does not update the textview value</p>\n"}, {"tags": ["android", "facebook", "kotlin"], "comments": [{"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1519643034, "post_id": 48986898, "comment_id": 84978368, "body": "Did you get your app\u2019s use of those permissions reviewed by Facebook already \u2026? That is a requirement before you can ask normal users for those permissions."}, {"owner": {"reputation": 41, "user_id": 8274091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/12b5bf354c5500d37125b306d114ec06?s=128&d=identicon&r=PG&f=1", "display_name": "droho", "link": "https://stackoverflow.com/users/8274091/droho"}, "reply_to_user": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1519643742, "post_id": 48986898, "comment_id": 84978852, "body": "@CBroe no I don&#39;t. I will do this, thanks :D"}], "owner": {"reputation": 41, "user_id": 8274091, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/12b5bf354c5500d37125b306d114ec06?s=128&d=identicon&r=PG&f=1", "display_name": "droho", "link": "https://stackoverflow.com/users/8274091/droho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519642754, "creation_date": 1519642754, "question_id": 48986898, "link": "https://stackoverflow.com/questions/48986898/facebook-live-app-automatically-returns-oncancel-in-loginmanager", "title": "Facebook live app automatically returns onCancel in loginManager", "body": "<p>In app I'm using login by Facebook, and when my account was marked as test user everything works great. But when I try to login by normal user my permission request automatically returns onCancel. On test user facebook show window with permissions which I need but on normal user window doesn't appear.</p>\n\n<p>Someone know how to fix this ?</p>\n\n<p>My code to login:</p>\n\n<pre><code>override fun facebookLoginAndPermissions(loginButton: LoginButton, activity: LoginActivity, callbackManager: CallbackManager, loginManager: LoginManager) {\n\n    loginButton.setReadPermissions(arrayListOf(\"user_events\"))\n\n    loginButton.registerCallback(callbackManager, object : FacebookCallback&lt;LoginResult&gt; {\n        override fun onSuccess(result: LoginResult?) {\n            val accessToken = AccessToken.getCurrentAccessToken()\n            if (accessToken != null) {\n                if (accessToken.permissions?.contains(\"rsvp_event\")!!) {\n                    mvpView?.changeActivity()\n                } else {\n                   facebookPermission(activity,callbackManager,loginManager)\n                }\n            }\n        }\n        override fun onError(error: FacebookException?) {\n            Log.d(\"LoginPresenter\", \"facebookLoginError ${error?.message}\")\n        }\n        override fun onCancel() {\n            Log.d(\"LoginPresenter\", \"facebookLoginCancel\")\n        }\n    })\n}\n\n\n override fun facebookPermission(activity: LoginActivity, callbackManager: CallbackManager, loginManager: LoginManager){\n    loginManager.logInWithPublishPermissions(activity, arrayListOf(\"rsvp_event\"))\n    loginManager.registerCallback(callbackManager, object : FacebookCallback&lt;LoginResult&gt; {\n        override fun onError(error: FacebookException?) {\n            Log.d(\"LoginPresenter\", \"fbPermission: ${error?.message}\")\n        }\n\n        override fun onCancel() {\n            mvpView?.onFacebookPermissionDeclined() &lt;------- THIS IS RETURN WHEN I TRY TO GET USER PERMISSIONS\n        }\n\n        override fun onSuccess(result: LoginResult?) {\n            mvpView?.changeActivity()\n        }\n\n    })\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-android", "rx-binding"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1519646967, "creation_date": 1519646967, "answer_id": 48988211, "question_id": 48986307, "link": "https://stackoverflow.com/questions/48986307/handling-multiple-button-clicks-with-reactive-bindings-on-android/48988211#48988211", "title": "Handling multiple button clicks with Reactive bindings on Android", "body": "<p>Managed to get the expected out with the following code.</p>\n\n<pre><code>val buttonStream = view.plusButton.clicks()\n        buttonStream\n                .buffer(1000, TimeUnit.MILLISECONDS)\n                .map { it.size }\n                .filter { size -&gt; size &gt; 0 }\n                .subscribe({ clicks -&gt;\n                    Log.i(TAG, \"Number of clicks from the QUICK_ADD: $clicks\")\n                    uploadWaterIntake(clicks)\n                })\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528462294, "creation_date": 1519640976, "last_edit_date": 1528462294, "question_id": 48986307, "link": "https://stackoverflow.com/questions/48986307/handling-multiple-button-clicks-with-reactive-bindings-on-android", "title": "Handling multiple button clicks with Reactive bindings on Android", "body": "<p>I need to handle multiple button click within short period of time in a way such that I need to get number of click that the user clicked within <code>500ms</code> to reduce the number of API calls I make to the backend.</p>\n\n<pre><code>val buttonStream = view.plusButton.clicks()\nbuttonStream\n        .buffer(buttonStream.debounce(500, TimeUnit.MILLISECONDS))\n        .map { it.size }\n        .subscribe({ clicks -&gt;\n            Log.i(TAG, \"Number of clicks: $clicks\")\n        })\n</code></pre>\n\n<p>I have implemented the above code but it doesn't display anything when I click the button. When I remove <code>.buffer(buttonStream.debounce(500, TimeUnit.MILLISECONDS))</code> and just add <code>.buffer(500, TimeUnit.MILLISECONDS)</code> Log starts printing every 500ms. Is there any way to get my work done?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 1745218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ln9lD.jpg?s=128&g=1", "display_name": "Touhid", "link": "https://stackoverflow.com/users/1745218/touhid"}, "edited": false, "score": 0, "creation_date": 1519650633, "post_id": 48985218, "comment_id": 84983158, "body": "I&#39;ve been STUPIDly blind about generic type of Singleton! ... &amp; about design - as I mentioned I was just experimenting the design &amp; questioned about more the syntax than the design - but thank you very much for your opinion - I&#39;ll definitely use proper callbacks for usages like REST API calls..cheers :)"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 6, "last_activity_date": 1519640129, "last_edit_date": 1519640129, "creation_date": 1519637547, "answer_id": 48985218, "question_id": 48985008, "link": "https://stackoverflow.com/questions/48985008/generic-object-in-kotlin/48985218#48985218", "title": "Generic object in Kotlin", "body": "<p>An object is a singleton. A singleton is something for which only one instance exists. Type parameters allow to specify type arguments for a specific instance of a class, and as such, make sense only when there is more than one instance. Therefore, no, there is no way to create a generic object in Kotlin.</p>\n\n<p>In your <code>RestApiParser</code> example, you can simply specify type parameters for each individual function and leave the <code>object</code> as non-generic. Using an <code>object</code> as a callback for REST API calls sounds like quite poor design to me (because of threading issues, among others), so I'd replace it with creating a new callback instance with proper type arguments for each call.</p>\n"}, {"comments": [{"owner": {"reputation": 620, "user_id": 1745218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ln9lD.jpg?s=128&g=1", "display_name": "Touhid", "link": "https://stackoverflow.com/users/1745218/touhid"}, "edited": false, "score": 0, "creation_date": 1519650853, "post_id": 48985813, "comment_id": 84983281, "body": "Nice outcome - but I had to accept @yole&#39;s answer as that explains a bit more...thanks :)"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1519639432, "creation_date": 1519639432, "answer_id": 48985813, "question_id": 48985008, "link": "https://stackoverflow.com/questions/48985008/generic-object-in-kotlin/48985813#48985813", "title": "Generic object in Kotlin", "body": "<p>Under a very strict precondition it's possible to generalize the callback implementation. You cannot use the type of the data and you will not be able to access it in any case. So you cannot make a call to <em>Gson</em> or similar utilities for example. All you should ever consider is having a pure <code>Object</code> to use.</p>\n\n<pre><code>object RestApiParser : Callback&lt;Any&gt; {\n    override fun onFailure(call: Call&lt;Any&gt;?, t: Throwable?) = Unit\n\n    @Suppress(\"UNCHECKED_CAST\")\n    fun &lt;T&gt; asCallback(): Callback&lt;T&gt; = this as Callback&lt;T&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 620, "user_id": 1745218, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ln9lD.jpg?s=128&g=1", "display_name": "Touhid", "link": "https://stackoverflow.com/users/1745218/touhid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5226, "favorite_count": 0, "accepted_answer_id": 48985218, "answer_count": 2, "score": 5, "last_activity_date": 1519640129, "creation_date": 1519636742, "last_edit_date": 1519637259, "question_id": 48985008, "link": "https://stackoverflow.com/questions/48985008/generic-object-in-kotlin", "title": "Generic object in Kotlin", "body": "<p>I was experimenting in some global API-parser (to check net-connection, call API &amp; return formatted data by a single call from source) for Android using Kotlin &amp; at some point I had to create a generic type of <code>object</code> as like the following snippet, when found the compilation error at the 1st line like <code>Type parameters are not allowed for objects</code>:</p>\n\n<pre><code>object RestApiParser&lt;T&gt; // ERROR(mark under T): Type parameters are not allowed for objects\n: Callback&lt;T&gt; {\n\n    override fun onFailure(call: Call&lt;T&gt;?, t: Throwable?) {\n        // bla-bla-blaa codes ...\n    }\n\n    override fun onResponse(call: Call&lt;T&gt;?, response: Response&lt;T&gt;?) {\n        // bla-bla-blaa codes ...\n    }\n\n    fun getResponse(context: Context, call: Call&lt;T&gt;, callback: RestApiCallback&lt;T&gt;) {\n       // bla-bla-blaa codes ...\n    }\n\n    fun getList(context: Context, call: Call&lt;ArrayList&lt;T&gt;&gt;, callback: RestApiCallback&lt;T&gt;) {\n       // bla-bla-blaa codes ...\n    }\n\n    // there are more codes like the above ...\n}\n</code></pre>\n\n<p>I used <code>companion object</code> inside <code>class</code> delivering the same error &amp; then had to continue reverting the <code>RestApiParser</code> to a simple class &amp; calling that through a variable every time, which didn't satisfy our need.</p>\n\n<p>Yes, singleton structure might be coded like the following companion segment using <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"noreferrer\">upper-bound</a>:</p>\n\n<pre><code>companion object {\n    private var instance: RestApiParser&lt;*&gt;? = null\n    fun &lt;T&gt; getParser(): RestApiParser&lt;T&gt; {\n        if (instance == null)\n            instance = RestApiParser&lt;T&gt;()\n        return instance as RestApiParser&lt;T&gt;\n    }\n}\n</code></pre>\n\n<p>But it would feel good to create generic object in Kotlin.</p>\n\n<p><strong>Question:</strong><br/>Is there any way to <strong>create generic object</strong> in Kotlin? \n<br/>If <strong>not</strong>, then what may <strong>best suit</strong> the mentioned scenario?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519686587, "post_id": 48983038, "comment_id": 85002588, "body": "Your requirement is that at least two fields are not empty? Lots of ways to do that. How about simply counting the number of non-empty fields and requiring that it be &gt;= 2?"}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519705782, "post_id": 48983038, "comment_id": 85007275, "body": "@PaulHicks please suggest me coz condition is to much increase so i want apply search with two more field"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519773924, "post_id": 48983038, "comment_id": 85044361, "body": "I can&#39;t write the exact solution. I don&#39;t know the specs for your <code>Observable&lt;List&lt;String&gt;&gt;</code> are. I would need more information. A big list of conditions is not likely to be the correct solution."}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519795123, "post_id": 48983038, "comment_id": 85049872, "body": "please tell me some solution for this @PaulHicks"}], "answers": [{"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519848146, "post_id": 49030328, "comment_id": 85080281, "body": "This seems like overkill. While we don&#39;t know exactly what&#39;s needed due to the lack of posted requirements, it looks something like &quot;if exactly one choice is select, do a search based on that one select, else complain&quot;. It is probable that a good solution might be to implement methods like <code>assertExactlyOneSelection()</code> and <code>getSelection().search()</code>. These massive chunks of code seem very procedural and.. well.. a bit old-fashioned."}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1520744429, "post_id": 49030328, "comment_id": 85437639, "body": "@PaulHicks thanx for Solution but i need  Search like different ways i have 6  parameter  so that   there is date in listofobject i have to search like the given date lies between date item or not what ever we select only search by those item"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1520801662, "post_id": 49030328, "comment_id": 85453598, "body": "I was wondering if the logic for each type of search could be in six different places (more object oriented), rather than in one place with a 6-way switch."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 1, "last_activity_date": 1519823207, "creation_date": 1519823207, "answer_id": 49030328, "question_id": 48983038, "link": "https://stackoverflow.com/questions/48983038/apply-multiple-search-in-fields/49030328#49030328", "title": "Apply multiple search in fields", "body": "<p>What you need to implement is a simple <code>and</code> criteria (I am assuming you want <code>and</code> semantics for your search.</p>\n\n<p>This approach I will show you will work for any other search like this in your app.</p>\n\n<p>Imagine you have a class <code>Data</code> like so:</p>\n\n<pre><code>data class Data(val a: String? = null, val b: String? = null, val c: String? = null)\n</code></pre>\n\n<p>Let's introduce a predicate type which is just an alias for a function:</p>\n\n<pre><code>typealias Predicate&lt;T&gt; = T.() -&gt; Boolean\n</code></pre>\n\n<p>So a predicate that checks property <code>a</code> of <code>Data</code> class may look like this:</p>\n\n<pre><code>val isASomething : Predicate&lt;Data&gt; = { a == \"something\" }\nval data = Data(a = \"something\")\ndata.isASomething() // true\n</code></pre>\n\n<p>Since we want <code>and</code> semantics, lets create a helper function that will combine any number of predicates with a logical <code>and</code>:</p>\n\n<pre><code>fun &lt;T&gt; and(vararg predicates: Predicate&lt;T&gt;): Predicate&lt;T&gt; {\n  return predicates.fold({ true }) { previous: Predicate&lt;T&gt;, next: Predicate&lt;T&gt; -&gt;\n    {\n      previous() &amp;&amp; next()\n    }\n  }\n}\n</code></pre>\n\n<p>Putting it all together, you can write a method that uses your criteria components to search a list of objects:</p>\n\n<pre><code>fun List&lt;Data&gt;.findByProps(aQuery: String? = null, bQuery: String? = null, cQuery: String? = null): List&lt;Data&gt; {\n\n  val predicates = mutableListOf&lt;Predicate&lt;Data&gt;&gt;()\n  if (aQuery != null) predicates += { a == aQuery }\n  if (bQuery != null) predicates += { b == bQuery }\n  if (cQuery != null) predicates += { c == cQuery }\n  if (predicates.isEmpty()) throw IllegalArgumentException(\"At least one query must have a value\")\n  val criteria = and(*predicates.toTypedArray())\n  return this.filter { it.criteria() }\n}\n</code></pre>\n\n<p>Let's test it:</p>\n\n<pre><code>val data = listOf(\n    Data(\"a\", \"b\", \"c\"),\n    Data(\"a\", \"1\", \"2\"),\n    Data(\"a\", \"1\", \"c\")\n)\nprintln(data.findByProps(aQuery = \"a\")) // [Data(a=a, b=b, c=c), Data(a=a, b=1, c=2), Data(a=a, b=1, c=c)]\nprintln(data.findByProps(bQuery = \"1\")) // [Data(a=a, b=1, c=2), Data(a=a, b=1, c=c)]\nprintln(data.findByProps(aQuery = \"a\", cQuery = \"c\")) // [Data(a=a, b=1, c=2), Data(a=a, b=1, c=c)]\n</code></pre>\n\n<p>You can now easily adapt this approach to your case:</p>\n\n<pre><code>class Contact {\n  ...\n}\n\nfun List&lt;Contact&gt;.search(startDateQuery: String? = null, endDateQuery: String? = null, whereMetQuery: String? = null, eventNameQuery: String? = null, productQuery: String? = null, serviceQuery: String? = null) {\n      val predicates = mutableListOf&lt;Predicate&lt;Contact&gt;&gt;()\n      if (startDateQuery != null) predicates += { startDate == startDateQuery }\n      if (endDateQuery != null) predicates += { endDate == endDateQuery }\n      if (whereMetQuery != null) predicates += { whereMet == whereMetQuery }\n      if (eventNameQuery != null) predicates += { eventName == eventNameQuery }\n      if (productQuery != null) predicates += { product == productQuery }\n      if (serviceQuery != null) predicates += { service == serviceQuery }\n      if (predicates.isEmpty()) throw IllegalArgumentException(\"At least one query must have a value\")\n      val criteria = and(*predicates.toTypedArray())\n      return this.filter { it.criteria() }\n}\n</code></pre>\n\n<p>And use it:</p>\n\n<pre><code>val contacts : List&lt;Contact&gt; = getContacts()\nval metAtHall = contacts.search(whereMetQuery = \"Hall\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1519823207, "creation_date": 1519628450, "last_edit_date": 1519686413, "question_id": 48983038, "link": "https://stackoverflow.com/questions/48983038/apply-multiple-search-in-fields", "title": "Apply multiple search in fields", "body": "<pre><code>fun getMatchingContactsFromSearch(startDate: String?, endDate: String?, whereMet: String?, eventName: String?, product: String?, service: String?): Observable&lt;List&lt;String&gt;&gt; {\n{\n    if ((eventName!!.isNotEmpty()) &amp;&amp; whereMet!!.isEmpty() &amp;&amp; (startDate!!.isEmpty() &amp;&amp; endDate!!.isEmpty())&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if ((whereMet!!.isNotEmpty()) &amp;&amp; eventName!!.isEmpty() &amp;&amp; (startDate!!.isEmpty() &amp;&amp; endDate!!.isEmpty())&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if ((startDate!!.isNotEmpty() &amp;&amp; endDate!!.isNotEmpty()) &amp;&amp; eventName!!.isNotEmpty() &amp;&amp; whereMet!!.isEmpty()&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if ((startDate!!.isNotEmpty() &amp;&amp; endDate!!.isNotEmpty()) &amp;&amp; eventName!!.isEmpty() &amp;&amp; whereMet!!.isNotEmpty()&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if ((eventName!!.isNotEmpty() &amp;&amp; whereMet!!.isNotEmpty()) &amp;&amp; ((startDate!!.isEmpty() &amp;&amp; endDate!!.isEmpty()))&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if (eventName!!.isEmpty() &amp;&amp; whereMet!!.isEmpty() &amp;&amp; (startDate!!.isNotEmpty() &amp;&amp; endDate!!.isNotEmpty())&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else if (eventName!!.isNotEmpty() &amp;&amp; whereMet!!.isNotEmpty() &amp;&amp; startDate!!.isNotEmpty() &amp;&amp; endDate!!.isNotEmpty()&amp;&amp; product!!.isEmpty()&amp;&amp; service!!.isEmpty()) {\n\n    } else  {\n\n    }\n}\n</code></pre>\n\n<p>this is my Searching Code for multiple item i have 2 more field to Search like product and service i have to apply condition for that also but its seems very complicated to apply search condition for two more field can any one suggest me  how to apply search condition for two more field or give me some other way so that we can search that from listOfData . </p>\n"}, {"tags": ["android", "kotlin", "scichart"], "answers": [{"comments": [{"owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "edited": false, "score": 2, "creation_date": 1519623820, "post_id": 48981807, "comment_id": 84969184, "body": "Thanks for your answer but <code>Double::class</code> is not buildable. It should be <code>Double::class.javaObjectType</code>"}, {"owner": {"reputation": 1055, "user_id": 3837808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M1zwB.jpg?s=128&g=1", "display_name": "Fuad Kamal", "link": "https://stackoverflow.com/users/3837808/fuad-kamal"}, "edited": false, "score": 0, "creation_date": 1601052751, "post_id": 48981807, "comment_id": 113294580, "body": "Thanks, <code>Double::class.javaObjectType</code> works for me - no more crash. Interesting that SciCharts had Kotlin examples in v2.x but in V4 everything has regressed to Java only. Seems a bit strange."}], "tags": [], "owner": {"reputation": 790, "user_id": 4745989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6643e04a849e22e6d40b92548559e07?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Niekirk", "link": "https://stackoverflow.com/users/4745989/charlie-niekirk"}, "is_accepted": false, "score": 0, "last_activity_date": 1519621909, "creation_date": 1519621909, "answer_id": 48981807, "question_id": 48981683, "link": "https://stackoverflow.com/questions/48981683/genericclass-doesnt-support-classfloat/48981807#48981807", "title": "GenericClass doesn&#39;t support Class&lt;float&gt;", "body": "<p>I'm pretty sure that doing <code>Double::class.java</code> actually gets the primitive type <code>double</code> and not the boxed type <code>Double</code>.  This seems clear when looking at the stack trace and seeing the lower case <code>d</code> in <code>Class&lt;double&gt;</code>.  Try just using <code>Double::class</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1519672340, "last_edit_date": 1519672340, "creation_date": 1519623544, "answer_id": 48982063, "question_id": 48981683, "link": "https://stackoverflow.com/questions/48981683/genericclass-doesnt-support-classfloat/48982063#48982063", "title": "GenericClass doesn&#39;t support Class&lt;float&gt;", "body": "<p>The problem is that your code is working with the corresponding primitive type. You can use the following property defined on <code>KClass</code> instead:</p>\n\n<pre><code>/**\n * Returns a Java [Class] instance corresponding to the given [KClass] instance.\n * In case of primitive types it returns corresponding wrapper classes.\n */\npublic val &lt;T : Any&gt; KClass&lt;T&gt;.javaObjectType: Class&lt;T&gt;\n</code></pre>\n\n<p>As the KDoc describes, the corresponding wrapper type will be returned:</p>\n\n<pre><code>Double::class.javaObjectType //class java.lang.Double\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19167, "user_id": 303612, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1a4d8d31522b1a417e96b4ad8dfecc3e?s=128&d=identicon&r=PG", "display_name": "Dr. Andrew Burnett-Thompson", "link": "https://stackoverflow.com/users/303612/dr-andrew-burnett-thompson"}, "is_accepted": false, "score": 3, "last_activity_date": 1526062271, "creation_date": 1526062271, "answer_id": 50298000, "question_id": 48981683, "link": "https://stackoverflow.com/questions/48981683/genericclass-doesnt-support-classfloat/50298000#50298000", "title": "GenericClass doesn&#39;t support Class&lt;float&gt;", "body": "<p>I know its already answered, but for future reference: </p>\n\n<p>There are examples of using <a href=\"https://github.com/ABTSoftware/SciChart.Android.Examples\" rel=\"nofollow noreferrer\">SciChart Android Charts with Kotlin</a> on their public github page. Under the v2.x -> Showcase folder</p>\n\n<p>The <a href=\"https://github.com/ABTSoftware/SciChart.Android.Examples/blob/master/v2.x/Showcase/app/src/main/kotlin/com/scichart/scishowcase/viewModels/ecg/EcgViewModel.kt\" rel=\"nofollow noreferrer\">EcgViewModel.kt</a> shows how to create and fill XyDataSeries</p>\n\n<p>The <a href=\"https://github.com/ABTSoftware/SciChart.Android.Examples/blob/master/v2.x/Showcase/app/src/main/kotlin/com/scichart/scishowcase/viewModels/trader/StockChartViewModel.kt\" rel=\"nofollow noreferrer\">StockChartViewModel.kt</a> shows how to create and fill OhlcDataSeries</p>\n"}], "owner": {"reputation": 2039, "user_id": 502214, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0e26ce1fd9b907aa156d7e8e2cdd6401?s=128&d=identicon&r=PG", "display_name": "V&#245; Quang H&#242;a", "link": "https://stackoverflow.com/users/502214/v%c3%b5-quang-h%c3%b2a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 1, "accepted_answer_id": 48982063, "answer_count": 3, "score": 5, "last_activity_date": 1526062271, "creation_date": 1519621073, "question_id": 48981683, "link": "https://stackoverflow.com/questions/48981683/genericclass-doesnt-support-classfloat", "title": "GenericClass doesn&#39;t support Class&lt;float&gt;", "body": "<p>I am integrating scichart to my android project and facing this error. I need to display ohlc data so, base on this tutorial <a href=\"https://www.scichart.com/example/android-candlestick-chart-example/\" rel=\"noreferrer\">https://www.scichart.com/example/android-candlestick-chart-example/</a> I wrote</p>\n\n<pre><code>val dataSeries = OhlcDataSeries(Date::class.java, Double::class.java)\n</code></pre>\n\n<p>That was translated from java code</p>\n\n<pre><code>IOhlcDataSeries&lt;Date, Double&gt; dataSeries = new OhlcDataSeries&lt;&gt;(Date.class, Double.class);\n</code></pre>\n\n<p>I got this error </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n  Process: com.qh.cointracker, PID: 5275\n  java.util.NoSuchElementException: GenericClass doesn't support Class&lt;double&gt;\n   at com.scichart.data.numerics.math.GenericMathFactory.create(GenericMathFactory.java:65)\n   at com.scichart.charting.model.dataSeries.DataSeries.&lt;init&gt;(DataSeries.java:91)\n   at com.scichart.charting.model.dataSeries.XDataSeries.&lt;init&gt;(XDataSeries.java:58)\n   at com.scichart.charting.model.dataSeries.OhlcDataSeries.&lt;init&gt;(OhlcDataSeries.java:58)\n   at com.scichart.charting.model.dataSeries.OhlcDataSeries.&lt;init&gt;(OhlcDataSeries.java:73)\n   at com.qh.cointracker.activities.fragments.SymbolChartFragment.initExample(SymbolChartFragment.kt:57)\n   at com.qh.cointracker.activities.fragments.SymbolChartFragment.onViewCreated(SymbolChartFragment.kt:37)\n</code></pre>\n\n<p>Can someone give me any idea to solve this error</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1519634753, "post_id": 48980889, "comment_id": 84973480, "body": "There&#39;s <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Byte.html#toUnsignedInt-byte-\" rel=\"nofollow noreferrer\">Byte.toUnsignedInt</a> since Java 8."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 3, "last_activity_date": 1519618816, "last_edit_date": 1519618816, "creation_date": 1519614544, "answer_id": 48980889, "question_id": 48980497, "link": "https://stackoverflow.com/questions/48980497/comparing-bytearray-in-kotlin/48980889#48980889", "title": "Comparing ByteArray in Kotlin", "body": "<p>You can convert signed <code>Byte</code> to unsigned byte value by converting it to a larger data type (like <code>Int</code>, <code>Long</code>) and then [bitwise and] it and <code>0xFF</code>.</p>\n\n<pre><code>for (i in 0..63) {\n    if (newArray[i] != oldArray[i]) {\n        return (newArray[i].toInt() and 0xFF) &lt; (oldArray[i].toInt() and 0xFF)\n    }\n}\n</code></pre>\n\n<p>You can make an extension function if you use it a lot.</p>\n\n<pre><code>fun Byte.toUnsignedValue(): Int = this.toInt() &amp; 0xFF\n\nfor (i in 0..63) {\n    if (newArray[i] != oldArray[i]) {\n        return newArray[i].toUnsignedValue() &lt; oldArray[i].toUnsignedValue()\n    }\n}\n</code></pre>\n\n<p>Unfortunately, there is no bitwise and operation in <code>Byte</code> and <code>Short</code> in low-version Kotlin (or without experimental feature enabled): <a href=\"https://stackoverflow.com/questions/33411476/bitwise-doesnt-work-with-bytes-in-kotlin\">bitwise &amp; doesn&#39;t work with bytes in kotlin</a></p>\n\n<p>And, JVM have no unsigned data types except <code>char</code>, which is 2-byte unsigned.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints\">Why doesn&#39;t Java support unsigned ints?</a></p>\n\n<p>It's like there is no operator overloading in Java. Kotlin added operator overloads, but adding unsigned data types is more fundamental problem because JVM inherently does not have them.</p>\n\n<hr/>\n\n<p>You can compare two byte arrays without for loop using <code>zip</code> method, but it will create a new <code>List</code>, so it will be slower than the for-loop method.</p>\n"}], "owner": {"reputation": 3021, "user_id": 1027242, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/1750063a5bb40dbc4038c810c01157f9?s=128&d=identicon&r=PG", "display_name": "GreenBee", "link": "https://stackoverflow.com/users/1027242/greenbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2621, "favorite_count": 1, "accepted_answer_id": 48980889, "answer_count": 1, "score": 0, "last_activity_date": 1519618816, "creation_date": 1519610751, "question_id": 48980497, "link": "https://stackoverflow.com/questions/48980497/comparing-bytearray-in-kotlin", "title": "Comparing ByteArray in Kotlin", "body": "<p>I have two byte arrays and I would like to compare them. I have a loop like this (for clarity, its more of a <em>Javaish</em> loop):</p>\n\n<pre><code>for (i in 0..63) {\n    if (newArray[i] != oldArray[i]) {\n        return newArray[i] &lt; oldArray[i]\n    }\n}\n</code></pre>\n\n<p>For example, <code>newArray[0]</code> is <code>0x93</code> and <code>oldArray[0]</code> is <code>0x00</code>. This still returns <em>true</em> (meaning newArray is smaller than oldArray) because it is done as a signed comparison. Is there a way to compare absolute (unsigned) values? Or a collection to compare byte arrays?</p>\n"}, {"tags": ["generics", "annotations", "kotlin", "instanceof"], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1519711891, "last_edit_date": 1519711891, "creation_date": 1519628555, "answer_id": 48983058, "question_id": 48980170, "link": "https://stackoverflow.com/questions/48980170/kotlin-annotation-as-generic-function-parameter/48983058#48983058", "title": "Kotlin annotation as generic function parameter", "body": "<ol>\n<li>First thing you shoud consider \u2014 annotations can't be inherited</li>\n<li><p>On the other hand it's perfectly possible to determine if anything is annotated with annotation with <code>RUNTIME</code> retention. For this to work you need to add <code>kotlin-reflect</code> to your classpath.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; isAnnotatedWith(t: T, annotationClass: KClass&lt;*&gt;) = \n    isAnnotated(t::class, annotationClass)\n\nfun isAnnotated(inputClass: KClass&lt;*&gt;, annotationClass: KClass&lt;*&gt;) = \n    inputClass.annotations.any { it.annotationClass == annotationClass }\n</code></pre></li>\n</ol>\n\n<p>You can pass instance of your annotation into function <code>isAnnotatedWith</code> from code above and get result.</p>\n"}], "owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 0, "accepted_answer_id": 48983058, "answer_count": 1, "score": 1, "last_activity_date": 1519711891, "creation_date": 1519607578, "last_edit_date": 1519607652, "question_id": 48980170, "link": "https://stackoverflow.com/questions/48980170/kotlin-annotation-as-generic-function-parameter", "title": "Kotlin annotation as generic function parameter", "body": "<p>I'm wondering if there is any way to use an annotation as a type parameter for a generic and determine the instance of the provided input? Essentially, I want to allow only objects that make use of a particular annotation to be accepted by a method and use type casting to determine the underlying type. </p>\n\n<p>I tried marking the generic type with the annotation but when I try to cast model I get an error: \"Incompatible types: UsesAnnotation and MyAnnotation\"</p>\n\n<p>This makes sense, since I'm not extending MyAnnotation, I'm just marking UsesAnnotation by it. But is there a way to make this work? I just want to limit the inputs to instances that make use of the annotation and then figure out the type that was provided as an input.</p>\n\n<p>The annotation:</p>\n\n<pre><code>@MustBeDocumented\n@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class MyAnnotation\n</code></pre>\n\n<p>Abstract Factory:</p>\n\n<pre><code>abstract class MyFactory&lt;in t: Any&gt; {\n   ...\n   abstract fun genericMethod(model: T): Int\n   ...\n}\n</code></pre>\n\n<p>Its subclass:</p>\n\n<pre><code>class MyFactoryImplementation&lt;MyAnnotationType&gt; {\n   ...\n   override fun genericMethod(model: MyAnnotation): Int {\n      return when (model) {\n         is UsesAnnotation -&gt; 1\n         else -&gt; 0\n   }\n   ...\n}\n</code></pre>\n\n<p>The annotated class:</p>\n\n<pre><code>@MyAnnotation\nclass UsesAnnotation\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-instant-apps"], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 5869730, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cwGEc.jpg?s=128&g=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/5869730/jorge"}, "edited": false, "score": 1, "creation_date": 1519771509, "post_id": 49001359, "comment_id": 85043591, "body": "It is not for Instant Apps, I just wanted to use this as an example. What I wanted to achieve was just to download certain &quot;features&quot; (not necessarily Instant Apps features), like if it was a DLC for a game, so I can reduce the size of the APK"}], "tags": [], "owner": {"reputation": 731, "user_id": 8782189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGKHA.png?s=128&g=1", "display_name": "ManmeetP", "link": "https://stackoverflow.com/users/8782189/manmeetp"}, "is_accepted": false, "score": 0, "last_activity_date": 1520418936, "last_edit_date": 1520418936, "creation_date": 1519707058, "answer_id": 49001359, "question_id": 48978910, "link": "https://stackoverflow.com/questions/48978910/how-to-download-feature-modules-in-an-android-app/49001359#49001359", "title": "How to download feature modules in an Android app?", "body": "<p>If this 15 MB library is required for instant app functionality and there is no way for you to reduce its size any further, then you simply won\u2019t be able to use it for your instant app. But you should still look into these guides to see if you can really reduce its size.</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/topic/performance/reduce-apk-size.html\" rel=\"nofollow noreferrer\">Reduce APK Size</a> </li>\n<li><a href=\"https://developer.android.com/topic/instant-apps/guides/config-splits.html\" rel=\"nofollow noreferrer\">Set up your build for configuration APKs</a> </li>\n</ul>\n\n<p>If it\u2019s really not possible, but you think you can still proceed with your instant app without the use of that large library, then you can structure your project so that this library is only used in the installed-apk (full app version) and not in the instant app apks/features. It would then only be referenced by your installed-application module and not by your feature modules.</p>\n\n<p>Your feature-modules, when built, will each become its own instant app apk, downloaded along with the base, and accessed only when the its supported intent-filter URL(s) are opened.</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/topic/instant-apps/getting-started/structure.html\" rel=\"nofollow noreferrer\">Project structure for Instant Apps</a> </li>\n</ul>\n"}], "owner": {"reputation": 255, "user_id": 5869730, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cwGEc.jpg?s=128&g=1", "display_name": "Jorge", "link": "https://stackoverflow.com/users/5869730/jorge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1520418936, "creation_date": 1519595844, "last_edit_date": 1519596801, "question_id": 48978910, "link": "https://stackoverflow.com/questions/48978910/how-to-download-feature-modules-in-an-android-app", "title": "How to download feature modules in an Android app?", "body": "<p>Now that instant apps are a thing (and a great thing, in my opinion), I was wondering if there is a way to actually being able to download certain parts of your app (modules) in order to reduce the initial size of the APK.</p>\n\n<p>For example, in my app I have a module that relies on a 3rd party library that increases the size of the APK in around 15 MB, and it only applies to certain users, so I would prefer to not to include that functionality in the final APK and make it optional.</p>\n\n<p>So far, while this looks very similar to Instant Apps, I haven't been been able to find a solution to this problem, and I totally believe that many apps could benefit from something like this.</p>\n"}, {"tags": ["java", "testing", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 4, "last_activity_date": 1519592465, "creation_date": 1519592465, "answer_id": 48978418, "question_id": 48978304, "link": "https://stackoverflow.com/questions/48978304/throwing-exceptions-with-mockito-in-kotlin/48978418#48978418", "title": "Throwing Exceptions with Mockito in Kotlin", "body": "<p>Kotlin does not support <a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"nofollow noreferrer\">creating methods that throw checked exceptions</a>. You can either define <code>makeRequest</code> in Java, or change <code>ServiceException</code> to extend <code>RuntimeException</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2246, "user_id": 9038584, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/POPil.jpg?s=128&g=1", "display_name": "Tenten Ponce", "link": "https://stackoverflow.com/users/9038584/tenten-ponce"}, "edited": false, "score": 1, "creation_date": 1587662228, "post_id": 53949147, "comment_id": 108606356, "body": "this works for me, the <code>answer</code> function seems to work. <code>given(yourClass.someMethod()).willAnswer { throw ServiceException() }</code>"}], "tags": [], "owner": {"reputation": 2379, "user_id": 519035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f372079010c5f7b9728c0e5c5635f9c7?s=128&d=identicon&r=PG&f=1", "display_name": "AbstractVoid", "link": "https://stackoverflow.com/users/519035/abstractvoid"}, "is_accepted": false, "score": 7, "last_activity_date": 1545934240, "creation_date": 1545934240, "answer_id": 53949147, "question_id": 48978304, "link": "https://stackoverflow.com/questions/48978304/throwing-exceptions-with-mockito-in-kotlin/53949147#53949147", "title": "Throwing Exceptions with Mockito in Kotlin", "body": "<p>You can try the following idea (taken from similar <a href=\"https://github.com/nhaarman/mockito-kotlin/issues/192#issuecomment-399007630\" rel=\"noreferrer\">discussion on github</a>):</p>\n\n<pre><code>.doAnswer { throw ServiceException(\"Bad Request\") }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 5008988, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tgyPyZXgRbw/AAAAAAAAAAI/AAAAAAAAAKQ/7kgo-1-ZXYs/photo.jpg?sz=128", "display_name": "Tommy", "link": "https://stackoverflow.com/users/5008988/tommy"}, "is_accepted": false, "score": 2, "last_activity_date": 1555919661, "creation_date": 1555919661, "answer_id": 55791038, "question_id": 48978304, "link": "https://stackoverflow.com/questions/48978304/throwing-exceptions-with-mockito-in-kotlin/55791038#55791038", "title": "Throwing Exceptions with Mockito in Kotlin", "body": "<p>You can use the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>`when`(someClassMocked.muFunction).thenThrow(SocketException())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 4639947, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/065bbc8753ebd12fc382cd5e0cc7e850?s=128&d=identicon&r=PG&f=1", "display_name": "fbailey", "link": "https://stackoverflow.com/users/4639947/fbailey"}, "is_accepted": false, "score": 0, "last_activity_date": 1597187530, "creation_date": 1597187530, "answer_id": 63367576, "question_id": 48978304, "link": "https://stackoverflow.com/questions/48978304/throwing-exceptions-with-mockito-in-kotlin/63367576#63367576", "title": "Throwing Exceptions with Mockito in Kotlin", "body": "<p>In my case I was using an underlying Java client that threw checked exceptions. My Kotlin code needed to handle one variation of these exceptions and so to test this code path I was able to use:</p>\n<pre><code>whenever(someObject.doesSomething(any()).then {\n    throw MyCheckedException(&quot;Error&quot;)\n}\n</code></pre>\n"}], "owner": {"reputation": 4230, "user_id": 1804317, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/84f00e56b203aec51a3104f1ed30c3da?s=128&d=identicon&r=PG", "display_name": "Jakob Abfalter", "link": "https://stackoverflow.com/users/1804317/jakob-abfalter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5645, "favorite_count": 1, "answer_count": 4, "score": 14, "last_activity_date": 1597187530, "creation_date": 1519591749, "question_id": 48978304, "link": "https://stackoverflow.com/questions/48978304/throwing-exceptions-with-mockito-in-kotlin", "title": "Throwing Exceptions with Mockito in Kotlin", "body": "<p>I am using Kotlin and am trying to throw an Exception on a specific method invocation but always get the following error</p>\n\n<pre><code>Checked exception is invalid for this method!\nInvalid: exceptions.ServiceException\n</code></pre>\n\n<p>This is the test</p>\n\n<pre><code>val client : IClient = Mockito.spy(Client(Cnf(\"https://:region.example.com\", key)))\n\n\n@Test(expected = ServiceException::class)\nfun test400ResponseFrom() {\n    val url = \"https://example.com/example/user/v3/user/by-name/JACKAPPLE\"\n\n    Mockito.doThrow(ServiceException(\"Bad Request\")).`when`(client).makeRequest(url ,riotkey)\n    client.getUserDataByNameAndRegion(\"jackapple\", \"BR\")\n}\n</code></pre>\n\n<p>Basically the <code>getUserDataByNameAndRegion</code> method will invoke the <code>makeRequest</code> method and with this test I want to validate that the method is handling the result of the stubbed method correctly.</p>\n\n<p>The original method looks like this </p>\n\n<pre><code>@Throws(NotFoundException::class, ServiceException::class)\nfun makeRequest(url: String, key : String) : String {\n    val con = prepareConnection(url, key)\n    val statusCode = con.responseCode\n    when {\n        (statusCode == 400) -&gt; throw ServiceException(\"Bad Request\")\n        (statusCode == 401) -&gt; throw ServiceException(\"Unauthorized\")\n        (statusCode == 403) -&gt; throw ServiceException(\"Forbidden\")\n        (statusCode == 404) -&gt; throw NotFoundException(\"Data not Found\")\n        (statusCode == 415) -&gt; throw ServiceException(\"Unsupported Media Type\")\n        (statusCode == 429) -&gt; throw ServiceException(\"Rate limit exceeded\")\n        (statusCode == 500) -&gt; throw ServiceException(\"Internal Server Error\")\n        (statusCode == 502) -&gt; throw ServiceException(\"Bad Gateway\")\n        (statusCode == 503) -&gt; throw ServiceException(\"Service unavailable\")\n        (statusCode == 504) -&gt; throw ServiceException(\"Gateway timeout\")\n        (statusCode == 200) -&gt; {\n            return getStringResponseFromConnection(con)\n        }\n        else -&gt; {\n            throw ServiceException(\"Respondend with Statuscode ${statusCode}\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "swift", "dictionary", "kotlin"], "comments": [{"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1519586593, "post_id": 48977450, "comment_id": 84960021, "body": "retrieve  from DB to app in this format use json"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 15, "last_activity_date": 1542919565, "last_edit_date": 1542919565, "creation_date": 1519586712, "answer_id": 48977501, "question_id": 48977450, "link": "https://stackoverflow.com/questions/48977450/java-kotlin-equivalent-of-swift-string-string-any/48977501#48977501", "title": "Java / Kotlin equivalent of Swift [String : [String : Any]]", "body": "<p>This structure can be represented by a <code>Map&lt;String, Map&lt;String, Any&gt;&gt;</code>. The Kotlin code for creating such a type:  </p>\n\n<pre><code>val fromDb: Map&lt;String, Map&lt;String, Any&gt;&gt; = mapOf(\n    \"Key1\" to mapOf(\"KeyA\" to \"Value\", \"KeyB\" to \"Value\"),\n    \"Key2\" to mapOf(\"KeyC\" to \"Value\", \"KeyD\" to \"Value\")\n)\n</code></pre>\n\n<p>In Java, as of JDK 9, it can be expressed like this:</p>\n\n<pre><code>Map&lt;String, Map&lt;String, Object&gt;&gt; fromDb = Map.of(\n    \"Key1\", Map.of(\"KeyA\", \"Value\", \"KeyB\", \"Value\"),\n    \"Key2\", Map.of(\"KeyC\", \"Value\", \"KeyD\", \"Value\")\n);\n</code></pre>\n\n<p>Note that the <code>Any</code> type in Kotlin is basically the same as <code>Object</code> in Java.</p>\n"}], "owner": {"reputation": 2852, "user_id": 8869493, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z-bTRz9NWeI/AAAAAAAAAAI/AAAAAAAAAAc/fR_lDnu1Tus/photo.jpg?sz=128", "display_name": "Gustavo Vollbrecht", "link": "https://stackoverflow.com/users/8869493/gustavo-vollbrecht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1636, "favorite_count": 1, "accepted_answer_id": 48977501, "answer_count": 1, "score": 8, "last_activity_date": 1548896860, "creation_date": 1519586475, "last_edit_date": 1548896860, "question_id": 48977450, "link": "https://stackoverflow.com/questions/48977450/java-kotlin-equivalent-of-swift-string-string-any", "title": "Java / Kotlin equivalent of Swift [String : [String : Any]]", "body": "<p>What is the equivalent of <code>[String : [String : Any]]</code> from Swift in Kotlin or Java language?</p>\n\n<p>I need to retrieve from database a structure that looks like this:</p>\n\n<pre><code>Key:\n    Key : Value\n    Key : Value\n    Key : Value\nKey :\n    Key : Value\n    Key : Value\n    Key : Value\n</code></pre>\n"}, {"tags": ["collections", "kotlin", "builder"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1519583109, "post_id": 48976470, "comment_id": 84958712, "body": "What you&#39;re doing is a perfectly good use of these functions in my opinion."}], "answers": [{"comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1519581578, "post_id": 48976504, "comment_id": 84958248, "body": "The problem with <code>map()</code> is that it will create a copy of the original array. While it&#39;s not a real problem when the array has 4 elements, it won&#39;t scale. <code>forEach()</code> will just traverse the original array and apply a block to each element."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1519582083, "post_id": 48976504, "comment_id": 84958405, "body": "It won\u2019t scale? Come on, this is hair-splitting in such a scenario"}, {"owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "edited": false, "score": 0, "creation_date": 1519586934, "post_id": 48976504, "comment_id": 84960162, "body": "There&#39;s also onEach (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/on-each.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>) which you could use."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1519587141, "post_id": 48976504, "comment_id": 84960244, "body": "Unfortunately, it&#39;s not defined on <code>Array</code>, also it takes a normal lambda, i.e. you&#39;d need to use <code>it.prefWidth=50.0</code>"}, {"owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "edited": false, "score": 0, "creation_date": 1519597652, "post_id": 48976504, "comment_id": 84963352, "body": "For the first answer, the map returns a <code>List</code> rather than an <code>Array</code>.  So you need to include <code>.toTypedArray()</code>.   Also too bad <code>onEach</code> is not available for <code>Array</code>. @s1m0nw1 has the idea of extension function, if the standard library function doesn&#39;t solve the problem, create your own.  I like that."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1519672621, "last_edit_date": 1519672621, "creation_date": 1519580654, "answer_id": 48976504, "question_id": 48976470, "link": "https://stackoverflow.com/questions/48976470/builder-syntax-for-collections-in-kotlin/48976504#48976504", "title": "builder syntax for collections in Kotlin", "body": "<p>Instead of the explicit <code>forEach</code>, you can use a <code>map</code> with an inner <code>apply</code>, which was already correctly chosen in the original post:</p>\n\n<pre><code>arrayOf(Label(\"A\"), Label(\"B\"), Label(\"C\"), Label(\"D\"))\n    .map { it.apply { prefWidth = 50.0 } }\n</code></pre>\n\n<p>Using <code>apply</code> in these cases is perfectly valid and even defined as an <strong>idiom</strong> <a href=\"https://kotlinlang.org/docs/reference/idioms.html#builder-style-usage-of-methods-that-return-unit\" rel=\"nofollow noreferrer\">here (Builder-style usage of methods that return Unit)</a>.</p>\n\n<p>The shown code looks more readable to me although it creates a copy of the array inside <code>map</code>. In memory/performance critical situations, you might not want to pay this price and go with your already suggested solution instead.</p>\n\n<hr>\n\n<p>As an other alternative, which might be useful if such actions are often needed in your code base, a simple extension function will help:</p>\n\n<pre><code>inline fun &lt;T&gt; Array&lt;T&gt;.applyEach(action: T.() -&gt; Unit) = apply { forEach { it.action() } }\n\n//usage\nval labels = arrayOf(Label(\"A\"), Label(\"B\"), Label(\"C\"), Label(\"D\")).applyEach { prefWidth = 50.0 }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 2, "last_activity_date": 1519581472, "creation_date": 1519581472, "answer_id": 48976632, "question_id": 48976470, "link": "https://stackoverflow.com/questions/48976470/builder-syntax-for-collections-in-kotlin/48976632#48976632", "title": "builder syntax for collections in Kotlin", "body": "<p>Functions inside <code>Standard.kt</code> are indeed confusing, but you're using <code>apply()</code> correctly: it's best applied when initializing a variable. You can totally refer to this as the Builder pattern, since it provides a clean solution for constructing an instance of a class.</p>\n"}, {"comments": [{"owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "edited": false, "score": 0, "creation_date": 1519598575, "post_id": 48977272, "comment_id": 84963602, "body": "Yes, I agree.  The intent is to create the<code>Array&lt;Label&gt;</code> from an <code>Array&lt;String&gt;</code> and then uniformly modify the width parameter.  If I stuck with <code>List</code> in all cases, I suppose that would eliminate the last line of this answer or better yet, allow <code>.onEach</code>. However,  I later use the spread operator that only works on the array."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1519585304, "creation_date": 1519585304, "answer_id": 48977272, "question_id": 48976470, "link": "https://stackoverflow.com/questions/48976470/builder-syntax-for-collections-in-kotlin/48977272#48977272", "title": "builder syntax for collections in Kotlin", "body": "<p>What I'd suggest is avoiding repeating the word <code>Label</code> in your idiom:</p>\n\n<pre><code>val labels = arrayOf(\"A\", \"B\", \"C\", \"D\")\n        .map { Label(it).apply { prefWidth = 50.0 } }\n        .toTypedArray()\n</code></pre>\n\n<p>This creates a bit more transient objects, but it reduces the noise and makes it easier to see the thing that varies between your labels.</p>\n"}], "owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 48977272, "answer_count": 3, "score": 5, "last_activity_date": 1519672621, "creation_date": 1519580354, "last_edit_date": 1519582824, "question_id": 48976470, "link": "https://stackoverflow.com/questions/48976470/builder-syntax-for-collections-in-kotlin", "title": "builder syntax for collections in Kotlin", "body": "<p>I'm booting up on Kotlin and looking to configure an <code>Array</code> of <code>Label</code>s in the pattern of a builder syntax.  I came up with the Kotlin standard library function (<code>apply</code>) combined with a helper function on collections (<code>forEach</code>).  Is it correct to refer to this as builder pattern? What that means to me is that the declaration, assignment and the configuration are done in one line/step. I appreciate any thoughts about how to write this in a still more compact and clear \"Kotlin-ish\" way, or is this the preferred Kotlin syntax more or less.  BTW, there are a lot of ways to get this wrong (use <code>let</code> instead of <code>apply</code> does not return the receiver).</p>\n\n<pre><code>val labels = arrayOf(Label(\"A\"),Label(\"B\"),Label(\"C\"),Label(\"D\")).apply {\n    this.forEach { it.prefWidth = 50.0 }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1519579516, "post_id": 48976265, "comment_id": 84957546, "body": "I don&#39;t see you adding cells to rows and rows to table. Are you doing that?"}, {"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1519580306, "post_id": 48976265, "comment_id": 84957838, "body": "@EugenPechanec I did not added that to the question  beacuse didn&#39;t want to make a question too long but it&#39;s all there in my code:) and the whole table is displayed correcly untill I try to change layoutParams for a cell then everything disapears:S (ilet me know if You want to see how I add cells and rows then I will added to a question)"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1519594211, "post_id": 48976265, "comment_id": 84962326, "body": "Ok, start by specifying the layout params correctly. Layout params are managed by parent view. So a <code>TableRow</code> should have <code>TableLayout.LayoutParams</code>, and whatever is a cell (here <code>TextView</code>) should have <code>TableRow.LayoutParams</code>. <code>TableLayout</code> tells <code>TableRow</code>s how to layout and <code>TableRow</code>s tell their cells how to layout. Understand?"}, {"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1519595669, "post_id": 48976265, "comment_id": 84962773, "body": "@EugenPechanec you are a savior, it works -thank you alot for explanation sir- now I understand the logic behind it as well (y) (don&#39;t know why , but can only vote up your answer but can not mark as a correct answer)"}], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 1, "last_activity_date": 1519600432, "creation_date": 1519600432, "answer_id": 48979488, "question_id": 48976265, "link": "https://stackoverflow.com/questions/48976265/cel-in-a-tablelayout-doesnt-match-parent/48979488#48979488", "title": "cel in a TableLayout doesn&#39;t &quot;match_parent&quot;", "body": "<p>Start by specifying the layout params correctly. <strong>Layout params are managed by parent view.</strong> So a <code>TableRow</code> should have <code>TableLayout.LayoutParams</code>, and whatever is a cell (here <code>TextView</code>) should have <code>TableRow.LayoutParams</code>. <code>TableLayout</code> tells <code>TableRows</code> how to layout and <code>TableRows</code> tell their cells how to layout.</p>\n\n<p>All mentioned layout params (including <code>LinearLayout.LayoutParams</code>) take three arguments: width, height, and weight. When you use correct classes it should just work\u2122.</p>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 48979488, "answer_count": 1, "score": 0, "last_activity_date": 1519600432, "creation_date": 1519579087, "question_id": 48976265, "link": "https://stackoverflow.com/questions/48976265/cel-in-a-tablelayout-doesnt-match-parent", "title": "cel in a TableLayout doesn&#39;t &quot;match_parent&quot;", "body": "<p>I'm adding rows and cels to TableLayout programaticly having issue to make cells match the parent height though, \nRow set up:</p>\n\n<pre><code>row = TableRow(context)\nrow.layoutParams = \n   TableRow.LayoutParams(TableRow.LayoutParams.MATCH_PARENT, \n   TableRow.LayoutParams.MATCH_PARENT, 1.0f)\nrow.layoutParams = params;\n</code></pre>\n\n<p>then I'm looping trough some values and adding cells to \"row\" more or less like this:</p>\n\n<pre><code>for(i..7){\n  val cel = TextView(context)\n  val params = \n     LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, \n     LinearLayout.LayoutParams.MATCH_PARENT)\n  cel.layoutParams =params\n  cel.setBackgroundColor(Color.BLUE)\n  cel.text = i.toString()\n} \n</code></pre>\n\n<p>but the cel (TextView-in my case) does not fill up the height, tryed as well :</p>\n\n<pre><code>val params = \nLinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, \nLinearLayout.LayoutParams.MATCH_PARENT, 1.0f)\n</code></pre>\n\n<p>but did not work -in both cases table \"disapears\" totaly form the view when trying to set up layout params that way... anyone know maybe the correct aproach?</p>\n"}, {"tags": ["android", "download", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519584483, "post_id": 48976852, "comment_id": 84959153, "body": "Adding this permission, alongside the INTERNET permission, is one of the first things I did after creating this project. About the runtime permission - I&#39;m not gonna implement the permission as &quot;runtime permission&quot; because it&#39;s necessary for the app to work. If the permission would be more of an optional one - I&#39;d use a runtime permission."}, {"owner": {"reputation": 632, "user_id": 2476303, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c676364059319a04f25f4302f281ad26?s=128&d=identicon&r=PG", "display_name": "floyd", "link": "https://stackoverflow.com/users/2476303/floyd"}, "reply_to_user": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519586295, "post_id": 48976852, "comment_id": 84959901, "body": "What targetSdkVersion do you use?"}, {"owner": {"reputation": 632, "user_id": 2476303, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c676364059319a04f25f4302f281ad26?s=128&d=identicon&r=PG", "display_name": "floyd", "link": "https://stackoverflow.com/users/2476303/floyd"}, "reply_to_user": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519586362, "post_id": 48976852, "comment_id": 84959931, "body": "If you don&#39;t want to use runtime permissions, max value of targetSdkVersion you can use is 22."}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519586956, "post_id": 48976852, "comment_id": 84960166, "body": "Oh, really? Wow.  I&#39;ll use runtime permissions then"}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519867074, "post_id": 48976852, "comment_id": 85087681, "body": "Well, I think I nailed the runtime permissions (tested on Android O only so far, but will come back to that later). What to do now to solve the download problem?"}, {"owner": {"reputation": 632, "user_id": 2476303, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c676364059319a04f25f4302f281ad26?s=128&d=identicon&r=PG", "display_name": "floyd", "link": "https://stackoverflow.com/users/2476303/floyd"}, "reply_to_user": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1526942785, "post_id": 48976852, "comment_id": 87928578, "body": "Sorry, I&#39;ve been away for a while. Did you solve your problem?"}], "tags": [], "owner": {"reputation": 632, "user_id": 2476303, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c676364059319a04f25f4302f281ad26?s=128&d=identicon&r=PG", "display_name": "floyd", "link": "https://stackoverflow.com/users/2476303/floyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1519586249, "last_edit_date": 1519586249, "creation_date": 1519582777, "answer_id": 48976852, "question_id": 48976137, "link": "https://stackoverflow.com/questions/48976137/kotlin-download-a-file/48976852#48976852", "title": "Kotlin - Download a file", "body": "<p><a href=\"https://developer.android.com/reference/java/io/File.html#createTempFile(java.lang.String,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">File.CreateTempFile</a> method has the 'directory' parameter where you can define the folder destination. Otherwise, the default temporary file directory is to be used.</p>\n\n<p>Also, make sure that you've added WRITE_TO_EXTERNAL_STORAGE permission in your build.gradle(module: app) file. If your targetSdkVersion is 23 or higher, you should implement runtime permission in your app: <a href=\"https://developer.android.com/training/permissions/requesting.html#make-the-request\" rel=\"nofollow noreferrer\">Request the permissions you need</a></p>\n"}], "owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6184, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1519586249, "creation_date": 1519578277, "question_id": 48976137, "link": "https://stackoverflow.com/questions/48976137/kotlin-download-a-file", "title": "Kotlin - Download a file", "body": "<p>I <a href=\"https://encrypted.google.com/?#q=Kotlin+download+a+file&amp;hl=en\" rel=\"nofollow noreferrer\">Google searched</a> and discovered <a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">Fuel</a>.<br>\nThe way I attempted using this library is directly attempted from Fuel's example (downloading a file and handling the progress):</p>\n\n<pre><code>Fuel.Companion.download(url).destination { response, Url -&gt;\n    Log.e(\"Response\", response.toString())\n    File.createTempFile(\"temp\", \".tmp\")\n}.progress { readBytes, totalBytes -&gt;\n    val progress = readBytes.toFloat() / totalBytes.toFloat()\n    Log.w(\"Progress\", progress.toString())\n}.response { request, response, result -&gt;\n    Log.w(\"Request\", request.toString())\n    Log.w(\"Response\", response.toString())\n    Log.w(\"Result\", result.toString())\n}\n</code></pre>\n\n<p>Eveything's good, so far - except, where do I define the filename and the folder destination?<br>\nAnd also, I tested the code on an emulator, and there isn't an indication of a <code>temp.tmp</code> file.</p>\n"}, {"tags": ["android", "kotlin", "android-support-library"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1519575389, "creation_date": 1519575389, "answer_id": 48975631, "question_id": 48975464, "link": "https://stackoverflow.com/questions/48975464/kotlin-get-errors-after-updating-compilesdkversion-to-27/48975631#48975631", "title": "Kotlin get errors after updating compileSdkVersion to 27", "body": "<p>The support libraries now contain correct nullability information for the Android API methods. The nullability of parameters and return values in your code does not match that of the API methods, so you need to fix your code in order to get rid of the errors.</p>\n"}], "owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 48975631, "answer_count": 1, "score": 0, "last_activity_date": 1519575389, "creation_date": 1519574413, "last_edit_date": 1519575134, "question_id": 48975464, "link": "https://stackoverflow.com/questions/48975464/kotlin-get-errors-after-updating-compilesdkversion-to-27", "title": "Kotlin get errors after updating compileSdkVersion to 27", "body": "<p>I am getting many errors in my fragments after updating <code>compileSdkVersion</code> to <code>27</code> and updating support libraries to <code>27.0.2</code>.</p>\n\n<p>It is possible to fix it without override methods and refactor manually all my fragments?</p>\n\n<p><a href=\"https://i.stack.imgur.com/3FJEN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3FJEN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 0, "creation_date": 1519573326, "post_id": 48975212, "comment_id": 84955414, "body": "You might want to use <code>arr.forEach { buffer.append(it) }</code> instead"}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1519573347, "creation_date": 1519573347, "answer_id": 48975291, "question_id": 48975212, "link": "https://stackoverflow.com/questions/48975212/kotlin-overload-resolution-ambiguity-all-these-functions-match/48975291#48975291", "title": "kotlin Overload resolution ambiguity. All these functions match", "body": "<p>You can't copy-paste and use Stream code like that, because it ends up parsing it wrong. Since foreach blocks also contain the data, you can just do: </p>\n\n<pre><code>var buffer = StringBuffer();\nvar arr = arrayOf(\"1\",\"2\",\"3\",\"4\");\narr.forEach{buffer.append(it)}\n</code></pre>\n\n<p>The forEach block doesn't take a method as an argument, so doing <code>buffer::append</code> doesn't add any data, since you have to do that yourself</p>\n"}, {"comments": [{"owner": {"reputation": 4165, "user_id": 1796907, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/nmoLQ.jpg?s=128&g=1", "display_name": "egor.zhdan", "link": "https://stackoverflow.com/users/1796907/egor-zhdan"}, "edited": false, "score": 0, "creation_date": 1519573783, "post_id": 48975301, "comment_id": 84955598, "body": "This code gives a compilation error: <code>None of the following functions can be called with the arguments supplied: &lt;...&gt; </code>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1519573825, "post_id": 48975301, "comment_id": 84955615, "body": "<code>Type inference failed</code> on <code>forEach</code>, same error as OP had on <code>buffer.append</code>. Kotlin <code>1.2.21</code>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1519575790, "last_edit_date": 1519575790, "creation_date": 1519573414, "answer_id": 48975301, "question_id": 48975212, "link": "https://stackoverflow.com/questions/48975212/kotlin-overload-resolution-ambiguity-all-these-functions-match/48975301#48975301", "title": "kotlin Overload resolution ambiguity. All these functions match", "body": "<p>In general, If you want to pass a method reference (<code>buffer::append</code>) to a method that takes a lambda, you need to enclose it in parentheses, not curly braces. In this specific case, you can't pass the <code>append</code> method as a method reference, because it returns <code>StringBuilder</code>, and <code>forEach</code> requires a method that returns <code>Unit</code>.</p>\n\n<p>To make your code work, use a lambda:</p>\n\n<pre><code>arr.forEach { buffer.append(it) }\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 3981342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e3e90797e4bb44059b8672d16ebd1f?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/3981342/helloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1519575790, "creation_date": 1519572862, "question_id": 48975212, "link": "https://stackoverflow.com/questions/48975212/kotlin-overload-resolution-ambiguity-all-these-functions-match", "title": "kotlin Overload resolution ambiguity. All these functions match", "body": "<p><strong>kotlin/jvm jdk8 not support code</strong></p>\n\n<pre><code>var buffer = StringBuffer();\nvar arr = arrayOf(\"1\",\"2\",\"3\",\"4\");\narr.forEach {buffer::append}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SO6IO.png\" rel=\"nofollow noreferrer\">error info</a></p>\n\n<p><strong>java jdk8 supported code,</strong> </p>\n\n<pre><code>String[] b = new String[]{\"c\", \"b\"};\nArrays.stream(b).forEach(buffer::append);\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1519646288, "last_edit_date": 1519646288, "creation_date": 1519569179, "answer_id": 48974606, "question_id": 48974369, "link": "https://stackoverflow.com/questions/48974369/is-it-possible-to-suspend-a-coroutine-with-a-timeout/48974606#48974606", "title": "Is it possible to suspend a coroutine with a timeout?", "body": "<p>If you're using <code>suspendCoroutine</code>, that means you have full control over what you do with the continuation you got. For example, you can pass it to the callback-based async API and, additionally, to a scheduled task that will resume it with exception:</p>\n\n<pre><code>suspend fun mySuspendFun(timeout: Long): String {\n    val didResume = AtomicBoolean()\n    fun markResumed() = !didResume.getAndSet(true)\n\n    return suspendCoroutine { cont -&gt;\n        launch(CommonPool) {\n            delay(timeout)\n            if (markResumed()) {\n                cont.resumeWithException(TimeoutException())\n            }\n        }\n        // call Async API, and in the callback, use\n        //    if (markResumed()) {\n        //        cont.resume(result)\n        //    }\n    }\n}\n</code></pre>\n\n<p>However, Kotlin's standard library supports your use case first-class, as described in <a href=\"https://stackoverflow.com/a/48976049/1103872\">Roman Elizarov's answer</a>. I suggest you use that approach in your project.</p>\n"}, {"comments": [{"owner": {"reputation": 2741, "user_id": 247325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/804bf57e974a37ea7127929f2cd47cf4?s=128&d=identicon&r=PG", "display_name": "Erik B", "link": "https://stackoverflow.com/users/247325/erik-b"}, "edited": false, "score": 0, "creation_date": 1542237244, "post_id": 48976049, "comment_id": 93501098, "body": "You might also change &#39;Continuation&#39; to &#39;CancellableContinuation&#39; (to improve upon the question)."}, {"owner": {"reputation": 67, "user_id": 1974433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a179b093ef96eff8ec3693a1ae44fad?s=128&d=identicon&r=PG", "display_name": "user1974433", "link": "https://stackoverflow.com/users/1974433/user1974433"}, "edited": false, "score": 1, "creation_date": 1594891478, "post_id": 48976049, "comment_id": 111287744, "body": "how do you use this???? i am trying to understand how to use this with a function lets say requestInfoFromServer(param:String, callback: uglyCallbackClass) have you an example where i can use the callback with this? or even without the callback?  Thanks!!!!!"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 28, "last_activity_date": 1519724857, "last_edit_date": 1519724857, "creation_date": 1519577777, "answer_id": 48976049, "question_id": 48974369, "link": "https://stackoverflow.com/questions/48974369/is-it-possible-to-suspend-a-coroutine-with-a-timeout/48976049#48976049", "title": "Is it possible to suspend a coroutine with a timeout?", "body": "<p>You can combine <code>withTimeout</code> and <code>suspendCancellableCoroutine</code> in a straightforward way for the desired effect:</p>\n\n<pre><code>suspend inline fun &lt;T&gt; suspendCoroutineWithTimeout(\n    timeout: Long, unit: TimeUnit,\n    crossinline block: (Continuation&lt;T&gt;) -&gt; Unit\n) = withTimeout(timeout, unit) {\n    suspendCancellableCoroutine(block = block)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 1261206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z681J.jpg?s=128&g=1", "display_name": "febaisi", "link": "https://stackoverflow.com/users/1261206/febaisi"}, "is_accepted": false, "score": 5, "last_activity_date": 1570742612, "creation_date": 1570742612, "answer_id": 58331289, "question_id": 48974369, "link": "https://stackoverflow.com/questions/48974369/is-it-possible-to-suspend-a-coroutine-with-a-timeout/58331289#58331289", "title": "Is it possible to suspend a coroutine with a timeout?", "body": "<p>Perfect answer from @Roman Elizarov.. Just adding my 2 cents on it because I needed a return from that call.. So adding T? return it would be ... </p>\n\n<pre><code>suspend inline fun &lt;T&gt; suspendCoroutineWithTimeout(timeout: Long, crossinline block: (Continuation&lt;T&gt;) -&gt; Unit ) : T? {\n    var finalValue : T? = null\n    withTimeoutOrNull(timeout) {\n        finalValue = suspendCancellableCoroutine(block = block)\n    }\n    return finalValue\n}\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3389, "favorite_count": 4, "accepted_answer_id": 48976049, "answer_count": 3, "score": 7, "last_activity_date": 1617439270, "creation_date": 1519567743, "last_edit_date": 1617439270, "question_id": 48974369, "link": "https://stackoverflow.com/questions/48974369/is-it-possible-to-suspend-a-coroutine-with-a-timeout", "title": "Is it possible to suspend a coroutine with a timeout?", "body": "<p>What I want is a function like this:</p>\n\n<pre><code>suspendCoroutineWithTimeout(timeout: Long, unit: TimeUnit, crossinline block: (Continuation&lt;T&gt;) -&gt; Unit)\n</code></pre>\n\n<p>That does basically the same thing as the existing <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/suspend-coroutine.html\" rel=\"nofollow noreferrer\"><code>suspendCoroutine</code></a> function but if the callback or whatever was provided in the block dosen't get called within the specified timeout the corutine continues but with a TimeoutException or something like that.</p>\n"}, {"tags": ["java", "android", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "edited": false, "score": 0, "creation_date": 1519567029, "post_id": 48974191, "comment_id": 84953347, "body": "@BackSlash wow. Well, uhm, after that, list is fully empty (But all conditions are right)..."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1519568035, "post_id": 48974191, "comment_id": 84953669, "body": "Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. &quot;doesn&#39;t work&quot; isn&#39;t a working problem description!"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1519568119, "post_id": 48974191, "comment_id": 84953697, "body": "@GhostCat ok..."}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1519569593, "post_id": 48974191, "comment_id": 84954155, "body": "@GhostCat well. I know, I have some problems with post description etc, but I don&#39;t understand well enough how to get it clearer. For ex., how you can see, I just can&#39;t use less code for my post, because not everybody can understand me without more code... Sometimes, even I can&#39;t understand parts of my code. I understand that this is bad, but I try to improve, even if it&#39;s badly seen."}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1519569674, "post_id": 48974191, "comment_id": 84954182, "body": "@GhostCat and yes, thank you for this article, I&#39;ll try to use it for max"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1519581533, "post_id": 48974191, "comment_id": 84958236, "body": "You are welcome. I appreciate your positive reaction!"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519567775, "post_id": 48974299, "comment_id": 84953582, "body": "Okey. But I have many values. And when I use filter, it&#39;s just returning original list without filtering. I&#39;ll edit my question to add code in 3 minutes"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519568038, "post_id": 48974299, "comment_id": 84953670, "body": "Yes, it&#39;s the same objects. For ex. pr.city = &quot;New York&quot; and parking.city equal &quot;New York&quot; too."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519568119, "post_id": 48974299, "comment_id": 84953698, "body": "I was just saying because it wasn&#39;t clear to me what the problem was, I updated my answer, you&#39;re basically ignoring the first 3 checks"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519568558, "post_id": 48974299, "comment_id": 84953843, "body": "I see. And, yeah, for some reason I forgot about &amp;&amp;. But even now it&#39;s just return empty list. May be it&#39;s because original list is arraylist and filtered it&#39;s just a list? (But when I&#39;m trying to cast ArrayList nothing happens, oh well)"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "reply_to_user": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 1, "creation_date": 1519568620, "post_id": 48974299, "comment_id": 84953868, "body": "Well, it might be empty because you&#39;re filtering out all the elements, again I would suggest you to be careful with <code>===</code>, chances are you only need <code>==</code>"}], "tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": true, "score": 5, "last_activity_date": 1519568560, "last_edit_date": 1519568560, "creation_date": 1519567309, "answer_id": 48974299, "question_id": 48974191, "link": "https://stackoverflow.com/questions/48974191/arraylist-filter-wont-work/48974299#48974299", "title": "ArrayList.filter won&#39;t work", "body": "<p><code>removeIf</code> will envetually remove elements from the list on which you call it, it works <em>in-place</em>.</p>\n\n<pre><code>val originalList = arrayListOf(1,2,3,4)\noriginalList.removeIf { it % 2 == 0 }\n// originalList.size is 2\n</code></pre>\n\n<p><code>filter</code> on the other hand, will return a new list, so you need to use the returned value.</p>\n\n<pre><code>val originalList = listOf(1,2,3,4)\nval filteredList = originalList.filter { it % 2 == 0 }\n// originalList.size is 4\n// filteredList.size is 2\n</code></pre>\n\n<p>Also, when you check for equality with <code>parking.city === pr.city</code>, that will return true only if <code>parking.city</code> and <code>pr.city</code> are the same object, it will return false even if the 2 objects have equal values, that is, if <code>equals(Any)</code> returns true</p>\n\n<p><strong>update</strong></p>\n\n<p>In your code you have 4 boolean expressions but only the last one is returned, you need to chain them with an operator, I added <code>&amp;&amp;</code> as an example but you need adjust that based on your business logic</p>\n\n<pre><code>filter { parking -&gt;\n    parking.city === pr.city &amp;&amp;\n    parking.price.toDouble() &gt;= pr.priceFrom &amp;&amp;\n    parking.price.toDouble() &lt;= pr.priceTo &amp;&amp;\n    !parking.daysBusy.contains(daysSet.split(\"|\").toString())\n}\n</code></pre>\n\n<p>For instance, if you try to filter with</p>\n\n<pre><code>.filter {\n    false\n    true\n}\n</code></pre>\n\n<p>All elements will be kept be cause the first <code>false</code> is going to be completely ignored, if you instead do</p>\n\n<pre><code>.filter {\n    false &amp;&amp;\n    true\n}\n</code></pre>\n\n<p>The filtered list will have 0 elements because the filtering expression is now <code>false &amp;&amp; true</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2523074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiiNV.png?s=128&g=1", "display_name": "SRS", "link": "https://stackoverflow.com/users/2523074/srs"}, "is_accepted": false, "score": 0, "last_activity_date": 1519582277, "creation_date": 1519582277, "answer_id": 48976776, "question_id": 48974191, "link": "https://stackoverflow.com/questions/48974191/arraylist-filter-wont-work/48976776#48976776", "title": "ArrayList.filter won&#39;t work", "body": "<pre>You can use this code to filter out the element from array, by using this code:\n\n    var day: List = arrayListOf(\"Sunday\", \"Monday\", \"Tuesday\",\"Wednesday\")\n\n\n// to get the result as list\n\n\n      var dayList: List = day.filter { s -> s == \"Monday\" }\n\n// to get a a string\n\n    var selectedDay: String = day.filter { s -> s == \"`enter code here`Monday\" }.single() \n\n\n     println(\"the value  is $dayList\")\nprintln(\"the value is $selectedDay\")\n\n</pre>\n"}], "owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 48974299, "answer_count": 2, "score": 4, "last_activity_date": 1519582277, "creation_date": 1519566616, "last_edit_date": 1519581519, "question_id": 48974191, "link": "https://stackoverflow.com/questions/48974191/arraylist-filter-wont-work", "title": "ArrayList.filter won&#39;t work", "body": "<p>So, I have this code for Android:</p>\n\n<pre><code>parkingList.removeIf { parking-&gt; parking.city != pr.city }\nparkingList.removeIf { parking-&gt; parking.price.toDouble() &lt;= pr.priceFrom }\nparkingList.removeIf { parking-&gt; parking.price.toDouble() &gt;= pr.priceTo }\nparkingList.removeIf { parking-&gt; parking.daysBusy.contains(daysSet.split(\"|\").toString()) }\n</code></pre>\n\n<p>This is code I have right now. I can't use anything else, because when I'm using filter to my arraylist parkingList, it won't work. And I don't know why. This is how I use it:</p>\n\n<pre><code>parkingList.filter { parking-&gt; parking.city === pr.city }\nparkingList.filter { parking-&gt; parking.price.toDouble() &gt;= pr.priceFrom }\nparkingList.filter { parking-&gt; parking.price.toDouble() &lt;= pr.priceTo }\nparkingList.filter { parking-&gt; !parking.daysBusy.contains(daysSet.split(\"|\").toString()) }\n</code></pre>\n\n<p>But for some reason it won't work.\nP.S. I need only API19, so, this is the reason, why I must use only filter (Or no?)</p>\n\n<p><strong>CODE:</strong></p>\n\n<pre><code>val filteredList = parkingList.filter { parking-&gt; parking.city === pr.city\n        parking.price.toDouble() &gt;= pr.priceFrom\n        parking.price.toDouble() &lt;= pr.priceTo\n        !parking.daysBusy.contains(daysSet.split(\"|\").toString())\n    } as ArrayList\n\nfilteredList.forEach { println(it) }\nval adapter = CustomAdapter(filteredList)\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1519567136, "post_id": 48974209, "comment_id": 84953365, "body": "See my question edit, hopefully clarifies what I was expecting to happen."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1519567256, "post_id": 48974209, "comment_id": 84953414, "body": "@ThomasCook I&#39;ve added more at the top of my answer"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1519567507, "post_id": 48974209, "comment_id": 84953490, "body": "Yup that&#39;s what I was after. sorry for the confusing question,"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 3, "last_activity_date": 1519567957, "last_edit_date": 1519567957, "creation_date": 1519566729, "answer_id": 48974209, "question_id": 48974170, "link": "https://stackoverflow.com/questions/48974170/retrieve-return-type-from-function/48974209#48974209", "title": "Retrieve return type from function", "body": "<p>Addressing the edit:</p>\n\n<p>You must get a reference to the function first:</p>\n\n<pre><code>val func = examples::ambiguousTypeEval\n</code></pre>\n\n<p>This is a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-function/index.html\" rel=\"nofollow noreferrer\"><code>KFunction</code></a> instance.</p>\n\n<p>Now simply retrieve its <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/return-type.html\" rel=\"nofollow noreferrer\"><code>returnType</code></a>:</p>\n\n<pre><code>val returnType: KType = examples::ambiguousTypeEval.returnType\n</code></pre>\n\n<p>In this case, the return type will be a <code>KType</code> corresponding to <code>Any</code>.</p>\n\n<p>You can retrieve the parameter types via <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/parameters.html\" rel=\"nofollow noreferrer\"><code>parameters</code></a>.</p>\n"}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 48974209, "answer_count": 1, "score": 0, "last_activity_date": 1519569588, "creation_date": 1519566465, "last_edit_date": 1519569588, "question_id": 48974170, "link": "https://stackoverflow.com/questions/48974170/retrieve-return-type-from-function", "title": "Retrieve return type from function", "body": "<p>I was investigating how the compiler infers the return type of functions depending on the return statements. Then I came across something that perplexed me.</p>\n\n<p>I have this Kotlin function:</p>\n\n<pre><code>fun ambigousTypeEval(sport: String) = when (sport) {\n  \"cricket\" -&gt; -1\n  else -&gt; \"I like $sport\"\n}\n</code></pre>\n\n<p>It can return an <code>Int</code> OR a <code>String</code>, so it's compile time type is <code>Any</code> (i.e. if you call this function and assign it's return value to a variable, that variable will be of type <code>Any</code>).</p>\n\n<p>However, when I load that code in the kotlinc REPL, and check it's type, I am getting a different type for different inputs...</p>\n\n<pre><code>&gt;&gt;&gt; examples.ambigousTypeEval(\"cricket\")::class\nexamples.ambigousTypeEval(\"cricket\")class kotlin.Int\n\n&gt;&gt;&gt; examples.ambigousTypeEval(\"football\")::class\nexamples.ambigousTypeEval(\"football\")class kotlin.String\n</code></pre>\n\n<p>What's going on here?</p>\n\n<p><strong>EDIT:</strong> To be clear, I want to know how to find out the compile time type of the function. I.e. I was expecting to see something like: <code>(String) -&gt; Any</code></p>\n"}, {"tags": ["firebase", "kotlin", "background-process", "google-cloud-firestore", "jobintentservice"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1519669093, "creation_date": 1519669093, "answer_id": 48994689, "question_id": 48973787, "link": "https://stackoverflow.com/questions/48973787/using-firestore-from-a-jobintentservice-failed-to-gain-exclusive-lock-to-the-fi/48994689#48994689", "title": "Using Firestore from a JobIntentService: Failed to gain exclusive lock to the Firestore client&#39;s offline persistence", "body": "<p>I'm happy to announce that I found a solution! I was using two consequently firing JobIntentServices - one for <code>completedSessions</code>, the other for <code>sessionProgress</code>. (Bad design, I know...)</p>\n\n<p>When I played around with it and made just ONE JobIntentService to call both of these functions, the exception is gone which makes perfect sense.</p>\n"}], "owner": {"reputation": 93, "user_id": 6515736, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BgbFL.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/6515736/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 48994689, "answer_count": 1, "score": 0, "last_activity_date": 1539243001, "creation_date": 1519564122, "last_edit_date": 1592644375, "question_id": 48973787, "link": "https://stackoverflow.com/questions/48973787/using-firestore-from-a-jobintentservice-failed-to-gain-exclusive-lock-to-the-fi", "title": "Using Firestore from a JobIntentService: Failed to gain exclusive lock to the Firestore client&#39;s offline persistence", "body": "<p>Whenever I exit the app while I have an alarm set and the alarm goes off while the app is &quot;DEAD&quot; I get an Exception while trying to update a field in Firestore.</p>\n<p>The code works when the app is running in the foreground so I really have no clue of what is going on. Either way, here is the code for 2 functions which get called from the JobIntentService which is in turn created from a BroadcastReceiver:</p>\n<pre><code>private val firestoreInstance: FirebaseFirestore by lazy { FirebaseFirestore.getInstance() }\n\n    fun updateTaskCompletedSessions(taskDocRefPath: String, completedSessions: Int){\n        val taskDocRef = firestoreInstance.document(taskDocRefPath)\n        taskDocRef.get().addOnSuccessListener { documentSnapshot -&gt;\n            documentSnapshot.reference\n                    .update(mapOf(&quot;completedSessions&quot; to completedSessions))\n        }\n    }\n\n    fun updateTaskSessionProgress(taskDocRefPath: String, sessionProgress: String){\n        val taskDocRef = firestoreInstance.document(taskDocRefPath)\n        taskDocRef.get().addOnSuccessListener { documentSnapshot -&gt;\n            documentSnapshot.reference\n                    .update(mapOf(&quot;sessionProgress&quot; to sessionProgress))\n        }\n    }\n</code></pre>\n<p>The full error goes as follows:</p>\n<blockquote>\n<p>Failed to gain exclusive lock to the Firestore client's offline persistence.</p>\n<p>This generally means you are using Firestore from multiple processes in your app. Keep in mind that multi-process Android apps execute the code in your <code>Application</code> class in all processes, so you may need to avoid initializing Firestore in your <code>Application</code> class. If you are intentionally using Firestore from multiple processes, you can only enable offline persistence (i.e. call <code>setPersistenceEnabled(true)</code>) in one of them.</p>\n</blockquote>\n<p>I will appreciate any help. Thank you!</p>\n"}, {"tags": ["java", "android", "reflection", "kotlin", "getconstructor"], "comments": [{"owner": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "edited": false, "score": 2, "creation_date": 1519564211, "post_id": 48973775, "comment_id": 84952454, "body": "With 2k+ rep you should know code should be posted as text with the code tool. Please edit the question accordingly."}, {"owner": {"reputation": 4932, "user_id": 682778, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2BCfw.jpg?s=128&g=1", "display_name": "Crocodile", "link": "https://stackoverflow.com/users/682778/crocodile"}, "reply_to_user": {"reputation": 20365, "user_id": 1759845, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/RUTxR.jpg?s=128&g=1", "display_name": "BackSlash", "link": "https://stackoverflow.com/users/1759845/backslash"}, "edited": false, "score": 0, "creation_date": 1519564592, "post_id": 48973775, "comment_id": 84952567, "body": "Done. Your comment made me terribly insecure about my 2k+ rep so I changed it. @BackSlash"}], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 2, "last_activity_date": 1519565653, "creation_date": 1519565653, "answer_id": 48974040, "question_id": 48973775, "link": "https://stackoverflow.com/questions/48973775/how-to-instantiate-an-inner-class-with-reflection/48974040#48974040", "title": "How to instantiate an inner class with reflection?", "body": "<p>You need to include enclosing classes (ClassA) instance in the constructor as well, since InnerClassA cannot exist without it:</p>\n\n<pre><code>class ClassA {\n\n    var iWantToUseThisFromTheInnerClass = \"someValue\"\n\n    fun runThisToStart() {\n        val classB = ClassB(InnerClassA::class.java)\n        classB.doSomething(this)\n\n    }\n\n    inner class InnerClassA(text: String) {\n        init {\n         //   Log.d(\"InnerClassA\", \"Constructor invoked \" + text)\n        }\n    }\n\n}\n\nclass ClassB&lt;T&gt;(private var mModelClass: Class&lt;T&gt;) {\n\n    val someText = \"whatever\"\n\n    fun doSomething(enclosingObj : Any):T {\n            val constructor = mModelClass.getConstructor(enclosingObj::class.java, String::class.java)\n            return constructor.newInstance(enclosingObj, someText)\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4932, "user_id": 682778, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2BCfw.jpg?s=128&g=1", "display_name": "Crocodile", "link": "https://stackoverflow.com/users/682778/crocodile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 48974040, "answer_count": 1, "score": 0, "last_activity_date": 1519565653, "creation_date": 1519564079, "last_edit_date": 1519564869, "question_id": 48973775, "link": "https://stackoverflow.com/questions/48973775/how-to-instantiate-an-inner-class-with-reflection", "title": "How to instantiate an inner class with reflection?", "body": "<p>I would like to get the Constructor of a nested class so that I can instantiate it. I want this to be an inner class so that I can access variables from its outer class. </p>\n\n<p>The code below throws a NoSuchMethodException with the <code>inner</code> prefix added:</p>\n\n<pre><code>package com.example\n\nimport android.util.Log\n\nclass ClassA {\n\n    var iWantToUseThisFromTheInnerClass = \"someValue\"\n\n    fun runThisToStart() {\n        val classB = ClassB(InnerClassA::class.java)\n        classB.doSomething()\n\n    }\n\n    inner class InnerClassA(text: String) {\n        init {\n            Log.d(\"InnerClassA\", \"Constructor invoked \" + text)\n        }\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package com.example\n\nimport java.lang.reflect.InvocationTargetException\n\nclass ClassB&lt;T&gt;(private var mModelClass: Class&lt;T&gt;) {\n\n    val someText = \"whatever\"\n\n    fun doSomething():T {\n        try {\n            val constructor = mModelClass.getConstructor(String::class.java)\n            return constructor.newInstance(someText)\n        } catch (e: NoSuchMethodException) {   // Throws this exception\n            throw RuntimeException(e)\n        } catch (e: InvocationTargetException) {\n            throw RuntimeException(e)\n        } catch (e: InstantiationException) {\n            throw RuntimeException(e)\n        } catch (e: IllegalAccessException) {\n            throw RuntimeException(e)\n        }\n    }\n\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "edited": false, "score": 0, "creation_date": 1519630842, "post_id": 48982124, "comment_id": 84971819, "body": "If I change it like you suggest a lot of properties can&#39;t be resolved: result, body(), etc. Is the response type  Single&lt;LoginResultDto&gt; in ClientService still correct?"}, {"owner": {"reputation": 688, "user_id": 6313469, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209199137878314/picture?type=large", "display_name": "Umair Adil", "link": "https://stackoverflow.com/users/6313469/umair-adil"}, "reply_to_user": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "edited": false, "score": 0, "creation_date": 1519638664, "post_id": 48982124, "comment_id": 84975564, "body": "Yes, Single is correct, but if you are still facing this issue then try to warp it in &quot;Observable&quot;"}, {"owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "edited": false, "score": 0, "creation_date": 1519741724, "post_id": 48982124, "comment_id": 85026555, "body": "Can you edit your post please? I don&#39;t know what you mean."}], "tags": [], "owner": {"reputation": 688, "user_id": 6313469, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209199137878314/picture?type=large", "display_name": "Umair Adil", "link": "https://stackoverflow.com/users/6313469/umair-adil"}, "is_accepted": false, "score": -1, "last_activity_date": 1519793406, "last_edit_date": 1519793406, "creation_date": 1519623838, "answer_id": 48982124, "question_id": 48973673, "link": "https://stackoverflow.com/questions/48973673/retrofit-parse-result-in-kotlin/48982124#48982124", "title": "Retrofit parse result in Kotlin", "body": "<p>Try it like this:</p>\n\n<p><strong>Your Client Service:</strong>        </p>\n\n<pre><code>interface ClientService {\n\n    @POST(\"authenticate\")\n    fun login(@Body body: LoginDto): Observable&lt;LoginResultDto&gt;\n\n\n    companion object {\n        fun create(): ClientService {\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(\"https://test-backend.mydomain.com/api/\")\n                    .build()\n\n            return retrofit.create(ClientService::class.java)\n        }\n    }}\n</code></pre>\n\n<p><strong>Your Call:</strong></p>\n\n<pre><code>    private fun login(email: String, password:String){\n\n    clientService.login(LoginDto(email,password))\n            .subscribeOn(Schedulers.computation())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ result -&gt;\n                   if (result.isSuccessful) {\n                      Toast.makeText(this, \"token: \" +result.body().accessToken + \" code: \"+result.body().code+ \"success\", Toast.LENGTH_SHORT).show()}\n            },\n            {\n                error -&gt;{\n                println(error)\n                Toast.makeText(this, error.localizedMessage, Toast.LENGTH_LONG).show()\n                }\n            }\n    )}\n</code></pre>\n\n<p><strong>Dependencies:</strong>     </p>\n\n<pre><code>     dependencies {\n        implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n        implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n        implementation \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\n       }\n</code></pre>\n"}], "owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 811, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1519793406, "creation_date": 1519563434, "last_edit_date": 1519566162, "question_id": 48973673, "link": "https://stackoverflow.com/questions/48973673/retrofit-parse-result-in-kotlin", "title": "Retrofit parse result in Kotlin", "body": "<p>I have a webservice that takes username and password in a post request and returns a token (JWT) and a code if http statuscode is 200. If statuscode is 403 then the code contains the details and token is null. On iOS it is working but now I'm trying to implement it in Kotlin and Retrofit.</p>\n\n<p>What I have created so far:</p>\n\n<p>2 DTOs:</p>\n\n<pre><code>class LoginDto(var username: String, var password: String) \nclass LoginResultDto(var accessToken: String, var code: Int) \n</code></pre>\n\n<p>(JWT handling will be next step) </p>\n\n<p>A client service:</p>\n\n<pre><code>interface ClientService {\n\n    @POST(\"authenticate\")\n    fun login(@Body body: LoginDto): Single&lt;LoginResultDto&gt;\n\n\n    companion object {\n        fun create(): ClientService {\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(\"https://test-backend.mydomain.com/api/\")\n                    .build()\n\n            return retrofit.create(ClientService::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>and the code that calls the service:</p>\n\n<pre><code>private fun login(email: String, password:String){\n\n    clientService.login(LoginDto(email,password))\n            .subscribeOn(Schedulers.computation())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(\n            {\n                onSuccess: LoginResultDto? -&gt;\n                onSuccess?.let {\n                    Toast.makeText(this, \"token: \" +it.accessToken + \" code: \"+it.code+ \"success\", Toast.LENGTH_SHORT).show()\n                }\n            },\n            {\n                onError: Throwable -&gt;\n                println(onError)\n                Toast.makeText(this, onError.localizedMessage, Toast.LENGTH_LONG).show()\n            }\n    )\n}\n</code></pre>\n\n<p>The request itself is working. It returns a 200 with correct login data and 403 with incorrect. But the LoginResultDto is empty.</p>\n\n<p>How can I populate the result in LoginResultDto?</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle"], "answers": [{"tags": [], "owner": {"reputation": 17618, "user_id": 389099, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee5f1a84fca3c5ab8d6609c8ed3a879e?s=128&d=identicon&r=PG", "display_name": "guido", "link": "https://stackoverflow.com/users/389099/guido"}, "is_accepted": true, "score": 4, "last_activity_date": 1519559608, "creation_date": 1519559608, "answer_id": 48973108, "question_id": 48973044, "link": "https://stackoverflow.com/questions/48973044/kotlin-gradle-build-unresolved-reference-to-kotlin-stdlib-functions/48973108#48973108", "title": "Kotlin gradle build Unresolved reference to kotlin-stdlib functions", "body": "<p>You need to put this dependency:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n}\n</code></pre>\n\n<p>at the top-level, not inside the <code>buildscript</code>:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nplugins {\n    id \"org.jetbrains.kotlin.jvm\" version \"1.2.21\"\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n}\n\nsourceSets {\n    main.kotlin.srcDirs += \"./\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1519571162, "creation_date": 1519571162, "answer_id": 48974942, "question_id": 48973044, "link": "https://stackoverflow.com/questions/48973044/kotlin-gradle-build-unresolved-reference-to-kotlin-stdlib-functions/48974942#48974942", "title": "Kotlin gradle build Unresolved reference to kotlin-stdlib functions", "body": "<p>As already mentioned, the dependency has to be put in the dependencies block outside buildscript. However, you also have to specify the version of the stdlib to use:</p>\n\n<pre><code>buildscript{\n    ...\n}\ndependencies{\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1519, "user_id": 2972348, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6f9edd3f6213aca1c54edefed5796033?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Khare", "link": "https://stackoverflow.com/users/2972348/ishan-khare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7126, "favorite_count": 1, "accepted_answer_id": 48973108, "answer_count": 2, "score": 6, "last_activity_date": 1519571162, "creation_date": 1519559178, "question_id": 48973044, "link": "https://stackoverflow.com/questions/48973044/kotlin-gradle-build-unresolved-reference-to-kotlin-stdlib-functions", "title": "Kotlin gradle build Unresolved reference to kotlin-stdlib functions", "body": "<p>I have the following <code>build.gradle</code> file for my package</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"org.jetbrains.kotlin:kotlin-stdlib\"\n    }\n}\n\nplugins {\n    id \"org.jetbrains.kotlin.jvm\" version \"1.2.21\"\n}\n\nsourceSets {\n    main.kotlin.srcDirs += \"./\"\n}\n</code></pre>\n\n<p>On running <code>gradle compileKotlin</code> I get the following errors</p>\n\n<pre><code>Starting a Gradle Daemon (subsequent builds will be faster)                                                                                                                                                           \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (26, 35): Too many arguments for public constructor String() defined in kotlin.String                                                                  \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (26, 38): Unresolved reference: trim                                                                                                                   \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (30, 29): Unresolved reference: isEmpty                                                                                                                \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (40, 9): Unresolved reference: print                                                                                                                   \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (41, 9): Unresolved reference: print                                                                                                                   \ne: /home/ishan/code/kotlin-server/server/ConnectionHandler.kt: (45, 9): Unresolved reference: println                                                                                                                 \ne: /home/ishan/code/kotlin-server/server/HttpRequest.kt: (8, 19): Unresolved reference: HashMap                                                                                                                       \ne: /home/ishan/code/kotlin-server/server/HttpRequest.kt: (16, 38): Unresolved reference: split                                                                                                                        \ne: /home/ishan/code/kotlin-server/server/HttpResponse.kt: (22, 31): Unresolved reference: toByteArray                                                                                                                 \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (3, 22): Unresolved reference: HashMap                                                                                                                   \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (3, 45): Unresolved reference: hashMapOf                                                                                                                 \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (5, 9): Unresolved reference: to                                                                                                                         \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (6, 9): Unresolved reference: to                                                                                                                         \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (7, 9): Unresolved reference: to                                                                                                                         \ne: /home/ishan/code/kotlin-server/server/HttpStatusCodes.kt: (8, 9): Unresolved reference: to\n</code></pre>\n\n<p>When I use <code>kotlinc -include-runtime</code> command to compile this package, it compiles without any issues and I even have a working <code>.jar</code> file for it.</p>\n\n<p>What am I missing here? If you want to inspect more, I've also created a <a href=\"https://github.com/ishankhare07/kotlin-web-server/issues/1\" rel=\"noreferrer\">github issue</a> for this with links to the related code.</p>\n"}, {"tags": ["java", "android", "multithreading", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "edited": false, "score": 1, "creation_date": 1519595741, "post_id": 48975365, "comment_id": 84962789, "body": "Thanks @Sergey, next time try to use code instead of images. You could use comments to annotate things like you&#39;ve done with red arrows."}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "reply_to_user": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "edited": false, "score": 0, "creation_date": 1519596463, "post_id": 48975365, "comment_id": 84962999, "body": "@GoRoS I will consider your fidbek, think you are right"}], "tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1519575513, "last_edit_date": 1519575513, "creation_date": 1519573864, "answer_id": 48975365, "question_id": 48972417, "link": "https://stackoverflow.com/questions/48972417/have-some-trouble-with-thread-work/48975365#48975365", "title": "Have some trouble with thread work", "body": "<p>The code for creating Observable will be executed on the scheduler, there is no implicit context change anywhere.</p>\n\n<p>\u00a0 Your events arrive from the listener on the main thread. Then you send them to the emitter on the same thread.</p>\n\n<blockquote>\n  <p>So, subscription go on Schedulers io Thread, but emitters go on Main Thread</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/2rySl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rySl.jpg\" alt=\"So, subscription go on io, but emitters go on main\"></a>\n\u00a0 \n<a href=\"https://i.stack.imgur.com/HzxzE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HzxzE.jpg\" alt=\"emitters go on main\"></a></p>\n\n<p>So the solution is to add <code>observerOn(Schedulers.newThread())</code> after Observable create. <a href=\"https://stackoverflow.com/a/39449556/6352712\">Like this</a></p>\n\n<pre><code>val udpObservable = Observable.create&lt;Int&gt; { emitter -&gt;\n        val listener = object : SocketListener() {\n            override fun onUdpServerListenerCreated(inetAddress: InetAddress, port: Int) {\n                emitter.onNext(port)\n                emitter.onComplete()\n            }\n\n        }\n        //add listener here\n        socketSource.subscribe(listener)\n        emitter.setCancellable { socketSource.unSubscribe(listener) }\n    }.subscribeOn(Schedulers.io())\n\n      //need add this for work with emmit data on background \n     .observerOn(Schedulers.newThread())\n            .doOnNext { Log.d(\"123-thread\", \"current is: \" + Thread.currentThread().name) }\n            .onErrorReturn { throw ConnectionException(it) }\n            .subscribe()\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 1, "accepted_answer_id": 48975365, "answer_count": 1, "score": 0, "last_activity_date": 1519575513, "creation_date": 1519554048, "question_id": 48972417, "link": "https://stackoverflow.com/questions/48972417/have-some-trouble-with-thread-work", "title": "Have some trouble with thread work", "body": "<p>My event emmiter class has code:</p>\n\n<pre><code> private val socketListeners: ArrayList&lt;SocketContentListener&gt; = ArrayList()\n\n  //add listener here\n override fun subscribe(socketListener: SocketContentListener) {\n        socketListeners.add(socketListener)\n    }\n\n       private fun getSocketConnectListener()\n                : SocketContentListener {\n            /**\n             * Post received messages to listeners via Handler\n             * because handler helps to set all messages in order on main thread.\n             */\n            return object : SocketContentListener {\n\n                override fun onUdpServerListenerCreated(inetAddress: InetAddress?, port: Int) {\n                    val subscribers = ArrayList&lt;SocketContentListener&gt;(socketListeners)\n                    for (listener in subscribers) {\n                        Handler(Looper.getMainLooper()).post({ listener.onUdpServerListenerCreated(inetAddress, port) })\n                    }\n            }\n        }\n</code></pre>\n\n<p>I try to crete Observable: </p>\n\n<pre><code>val udpObservable = Observable.create&lt;Int&gt; { emitter -&gt;\n        val listener = object : SocketListener() {\n            override fun onUdpServerListenerCreated(inetAddress: InetAddress, port: Int) {\n                emitter.onNext(port)\n                emitter.onComplete()\n            }\n\n        }\n        //add listener here\n        socketSource.subscribe(listener)\n        emitter.setCancellable { socketSource.unSubscribe(listener) }\n    }.subscribeOn(Schedulers.io())\n            .doOnNext { Log.d(\"123-thread\", \"current is: \" + Thread.currentThread().name) }\n            .onErrorReturn { throw ConnectionException(it) }\n            .subscribe()\n</code></pre>\n\n<p>But during test instead of the expected <code>RxCachedThreadScheduler-1 thread</code> work i saw</p>\n\n<pre><code>  D/123-thread: current is:-&gt; main\n</code></pre>\n\n<p>So can You help me? please. Where is my mistake? How do I achieve the desired RxCachedThreadScheduler thread for rx chains?</p>\n"}, {"tags": ["java", "android", "android-asynctask", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": true, "score": 2, "last_activity_date": 1519553732, "creation_date": 1519553732, "answer_id": 48972374, "question_id": 48972297, "link": "https://stackoverflow.com/questions/48972297/how-to-reuse-asynctask-that-is-injected-by-dagger2/48972374#48972374", "title": "How to reuse AsyncTask that is injected by Dagger2?", "body": "<p>Your <code>AsyncTask</code> is tied to your <code>ForecastFragment</code> lifecycle. As long as your fragment lives, you will have the same instance of <code>fetchWeatherTask</code>.</p>\n\n<p>You should not inject your task. Instead, create a new one every time you need it.</p>\n"}, {"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 2, "last_activity_date": 1519554897, "creation_date": 1519554897, "answer_id": 48972507, "question_id": 48972297, "link": "https://stackoverflow.com/questions/48972297/how-to-reuse-asynctask-that-is-injected-by-dagger2/48972507#48972507", "title": "How to reuse AsyncTask that is injected by Dagger2?", "body": "<p>As already mentioned you can't reuse an AsyncTask, so you should not inject it directly.</p>\n\n<p>What you can do instead is inject a <code>Provider&lt;FetchWeatherTask&gt;</code>, which will create a new task every time you call <code>provider.get()</code>&mdash;as long as you don't scope it, in which case you'd always get the same object.</p>\n"}], "owner": {"reputation": 340, "user_id": 7295614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-41wQ5grLh1I/AAAAAAAAAAI/AAAAAAAAANk/nuixAjU9ikE/photo.jpg?sz=128", "display_name": "niclaszll", "link": "https://stackoverflow.com/users/7295614/niclaszll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 48972374, "answer_count": 2, "score": 1, "last_activity_date": 1519554897, "creation_date": 1519553036, "last_edit_date": 1519553390, "question_id": 48972297, "link": "https://stackoverflow.com/questions/48972297/how-to-reuse-asynctask-that-is-injected-by-dagger2", "title": "How to reuse AsyncTask that is injected by Dagger2?", "body": "<p>In it's <code>onStart</code> method the fragment calls the presenter to fetch weather data.\nThe presenter starts an <code>AsyncTask</code> which fetches the data, returns it to the presenter and gets displayed in the fragment. \nThe problem is, if I open the fragment(and fetch data), switch to another activity and then return to the fragment I get the following error:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Cannot execute task: the task has already been executed (a task can be executed only once)\nat android.os.AsyncTask.executeOnExecutor(AsyncTask.java:605)\nat android.os.AsyncTask.execute(AsyncTask.java:560)\nat com.dev.weather.forecast.ForecastPresenter.fetchWeather(ForecastPresenter.kt:20)\nat com.dev.weather.forecast.ForecastFragment.refreshWeather(ForecastFragment.kt:83)\nat com.dev.weather.forecast.ForecastFragment.onStart(ForecastFragment.kt:105)\nat android.support.v4.app.Fragment.performStart(Fragment.java:2287)\nat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1458)\nat android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1750)\nat android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1819)\nat android.support.v4.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3227)\nat android.support.v4.app.FragmentManagerImpl.dispatchStart(FragmentManager.java:3186)\nat android.support.v4.app.FragmentController.dispatchStart(FragmentController.java:203)\nat android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:582)\nat android.support.v7.app.AppCompatActivity.onStart(AppCompatActivity.java:177)\nat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1256)\nat android.app.Activity.performStart(Activity.java:6959)\nat android.app.Activity.performRestart(Activity.java:7075)\nat android.app.Activity.performResume(Activity.java:7080)\nat android.app.ActivityThread.performResumeActivity(ActivityThread.java:3768)\nat android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3832)\u00a0\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1681)\u00a0\nat android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\nat android.os.Looper.loop(Looper.java:154)\u00a0\nat android.app.ActivityThread.main(ActivityThread.java:6682)\u00a0\nat java.lang.reflect.Method.invoke(Native Method)\u00a0\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\u00a0\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)\n</code></pre>\n\n<p>I didn't have this problem before switching to dagger but now that dagger only creates one instance of the <code>AsyncTask</code> I don't know how to fix it.</p>\n\n<p>I hope somebody can help me!</p>\n\n<p><strong>Fragment:</strong></p>\n\n<pre><code>@ActivityScoped\nclass ForecastFragment @Inject constructor(): DaggerFragment(), ForecastContract.View {\n\n    @Inject\n    lateinit var presenter: ForecastContract.Presenter\n\n    override fun refreshWeather() {\n        ...\n        presenter.fetchWeather(location, unitType)\n    }\n\n    override fun onStart() {\n        super.onStart()\n        refreshWeather()\n    }\n}\n</code></pre>\n\n<p><strong>Presenter:</strong></p>\n\n<pre><code>@ActivityScoped\nclass ForecastPresenter @Inject constructor() : ForecastContract.Presenter, FetchWeatherTask.AsyncResponse {\n\n    @Inject\n    lateinit var fetchWeatherTask: FetchWeatherTask\n\n    override fun fetchWeather(location: String, unitType: String) {\n        fetchWeatherTask.execute(location, unitType)\n    }\n    ...\n}\n</code></pre>\n\n<p><strong>AsyncTask:</strong></p>\n\n<pre><code>class FetchWeatherTask @Inject constructor(private var client: OkHttpClient): AsyncTask&lt;String, Void, MutableList&lt;String&gt;&gt;() {\n    ...\n    override fun onPostExecute(result: MutableList&lt;String&gt;) {\n        returnWeather()\n    }\n}\n</code></pre>\n"}]